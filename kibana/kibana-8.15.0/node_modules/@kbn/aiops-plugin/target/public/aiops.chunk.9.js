/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.aiops_bundle_jsonpfunction=window.aiops_bundle_jsonpfunction||[]).push([[9],{77:function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var i,r,o;if(Array.isArray(t)){if((i=t.length)!=n.length)return!1;for(r=i;0!=r--;)if(!e(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((i=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(r=i;0!=r--;)if(!Object.prototype.hasOwnProperty.call(n,o[r]))return!1;for(r=i;0!=r--;){var l=o[r];if(!e(t[l],n[l]))return!1}return!0}return t!=t&&n!=n}},83:function(e,t,n){"use strict";n.d(t,"f",(function(){return f})),n.d(t,"g",(function(){return O})),n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return h})),n.d(t,"h",(function(){return $})),n.d(t,"i",(function(){return o}));var i=n(3),r=n(1);const o=(...e)=>{const[t,n]=Object(r.useState)((()=>l(e)));return Object(r.useEffect)((()=>{const t=Object(i.combineLatest)(e).pipe(Object(i.skip)(1),Object(i.debounceTime)(0)).subscribe((e=>{n(e)}));return()=>t.unsubscribe()}),[]),t},l=e=>e.map((e=>{var t,n;return null!==(t=null==e||null===(n=e.getValue)||void 0===n?void 0:n.call(e))&&void 0!==t?t:void 0})),u=e=>Boolean(e&&void 0!==(null==e?void 0:e.parentApi)),a=e=>Boolean(e&&void 0!==(null==e?void 0:e.timeRange$)),c=e=>Boolean(e&&a(e)&&(e=>Boolean(e&&void 0!==(null==e?void 0:e.filters$)))(e)&&void 0!==(null==e?void 0:e.query$)),p=e=>Boolean(e&&void 0!==(null==e?void 0:e.searchSessionId$)),s=e=>Boolean(e&&void 0!==(null==e?void 0:e.reload$));function d(e,t){var n,i,r,o,l,u,a,c,p,s,d,v,f;const b=e;return{isReload:t,filters:null==b||null===(n=b.parentApi)||void 0===n||null===(i=n.filters$)||void 0===i?void 0:i.value,query:null==b||null===(r=b.parentApi)||void 0===r||null===(o=r.query$)||void 0===o?void 0:o.value,searchSessionId:null==b||null===(l=b.parentApi)||void 0===l||null===(u=l.searchSessionId$)||void 0===u?void 0:u.value,timeRange:null!==(a=null==b||null===(c=b.timeRange$)||void 0===c?void 0:c.value)&&void 0!==a?a:null==b||null===(p=b.parentApi)||void 0===p||null===(s=p.timeRange$)||void 0===s?void 0:s.value,timeslice:null!=b&&null!==(d=b.timeRange$)&&void 0!==d&&d.value||null==b||null===(v=b.parentApi)||void 0===v||null===(f=v.timeslice$)||void 0===f?void 0:f.value}}function v(e){return!(!u(e)||!p(e.parentApi))&&"string"==typeof e.parentApi.searchSessionId$.value}function f(e){const t=function(e){const t=[];if(a(e)&&t.push(e.timeRange$.pipe(Object(i.skip)(1))),u(e)&&c(e.parentApi)&&t.push(Object(i.combineLatest)([e.parentApi.filters$,e.parentApi.query$]).pipe(Object(i.skip)(1),Object(i.filter)((()=>!v(e))))),u(e)&&a(e.parentApi)){const n=[e.parentApi.timeRange$];e.parentApi.timeslice$&&n.push(e.parentApi.timeslice$),t.push(Object(i.combineLatest)(n).pipe(Object(i.skip)(1),Object(i.filter)((()=>!v(e)&&!function(e){return!!a(e)&&"object"==typeof e.timeRange$.value}(e)))))}return t}(e),n=function(e){const t=[];return u(e)&&p(e.parentApi)&&t.push(e.parentApi.searchSessionId$.pipe(Object(i.skip)(1))),u(e)&&s(e.parentApi)&&t.push(e.parentApi.reload$.pipe(Object(i.filter)((()=>!v(e))))),t}(e);if(0===n.length)return Object(i.merge)(...t).pipe(Object(i.startWith)(d(e,!1)),Object(i.debounceTime)(0),Object(i.map)((()=>d(e,!1))));const r=new i.Subject,o=Object(i.merge)(...t).pipe(Object(i.switchMap)((t=>Object(i.of)(t).pipe(Object(i.delay)(0),Object(i.takeUntil)(r),Object(i.map)((()=>d(e,!1))))))),l=Object(i.merge)(...n).pipe(Object(i.tap)((()=>r.next())),Object(i.map)((()=>d(e,!0))));return Object(i.merge)(l,o).pipe(Object(i.startWith)(d(e,!1)))}var b=n(77),j=n.n(b);const O=e=>{const t=new i.BehaviorSubject(e.timeRange);function n(e){t.next(e)}return{serialize:()=>({timeRange:t.value}),comparators:{timeRange:[t,n,j.a]},api:{timeRange$:t,setTimeRange:n}}},g=e=>Boolean(e&&"object"==typeof e&&e.hasOwnProperty("executionContext")),m=(e,t)=>Boolean(e&&e.type)&&e.type===t,h=e=>Boolean(e&&void 0!==(null==e?void 0:e.uuid)),$=e=>{const t=new i.BehaviorSubject(e.title),n=new i.BehaviorSubject(e.description),r=new i.BehaviorSubject(e.hidePanelTitles),o=e=>t.next(e),l=e=>r.next(e),u=e=>n.next(e);return{serializeTitles:()=>({title:t.value,hidePanelTitles:r.value,description:n.value}),titleComparators:{title:[t,o],description:[n,u],hidePanelTitles:[r,l,(e,t)=>Boolean(e)===Boolean(t)]},titlesApi:{panelTitle:t,hidePanelTitle:r,setPanelTitle:o,setHidePanelTitle:l,panelDescription:n,setPanelDescription:u}}}}}]);