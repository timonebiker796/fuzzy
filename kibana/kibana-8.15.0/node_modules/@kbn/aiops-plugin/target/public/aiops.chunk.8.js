/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.aiops_bundle_jsonpfunction=window.aiops_bundle_jsonpfunction||[]).push([[8],{123:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var s=a(1),n=a(2),i=a(12),o=a(43),l=a(45),c=a(50),r=a(0);const u=({searchString:e,searchQueryLanguage:t,setSearchParams:a})=>{const{uiSettings:u,unifiedSearch:{ui:{SearchBar:j}},notifications:{toasts:d},data:{query:g}}=Object(o.b)(),{dataView:b}=Object(l.c)(),[O,x]=Object(s.useState)({query:e||"",language:t});Object(s.useEffect)((()=>{x({query:e||"",language:t})}),[t,e,g.filterManager]);const p=({query:e,filters:t})=>{const s=null!=e?e:O,n=null!=t?t:g.filterManager.getFilters();try{var o;n&&g.filterManager.setFilters(n);const e=Object(c.a)(s,null!==(o=g.filterManager.getFilters())&&void 0!==o?o:[],b,u);a({searchQuery:e,searchString:s.query,queryLanguage:s.language,filters:n})}catch(e){console.log("Invalid syntax",JSON.stringify(e,null,2)),d.addError(e,{title:i.i18n.translate("xpack.aiops.searchPanel.invalidSyntax",{defaultMessage:"Invalid syntax"})})}};return Object(r.jsx)(n.EuiFlexGroup,{gutterSize:"s","data-test-subj":"aiopsSearchPanel",responsive:!1},Object(r.jsx)(n.EuiFlexItem,{grow:9},Object(r.jsx)(j,{dataTestSubj:"aiopsQueryInput",appName:"aiops",showFilterBar:!0,showDatePicker:!1,showQueryInput:!0,query:O,onQuerySubmit:e=>p({query:e.query}),indexPatterns:[b],placeholder:i.i18n.translate("xpack.aiops.searchPanel.queryBarPlaceholderText",{defaultMessage:'Searchâ€¦ (e.g. status:200 AND extension:"PHP")'}),displayStyle:"inPage",isClearable:!0,showSubmitButton:!1,onFiltersUpdated:e=>p({filters:e})})))}},187:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return o}));var s=a(12);const n="ACTION_CATEGORIZE_FIELD",i="CATEGORIZE_FIELD_TRIGGER",o={id:i,title:s.i18n.translate("xpack.ml.actions.runPatternAnalysis.title",{defaultMessage:"Run pattern analysis"}),description:s.i18n.translate("xpack.ml.actions.runPatternAnalysis.description",{defaultMessage:"Triggered when user wants to run pattern analysis on a field."})}},241:function(e,t,a){"use strict";a.r(t),a.d(t,"createCategorizeFieldAction",(function(){return oe}));var s=a(1),n=a.n(s),i=a(13),o=a(61),l=a(277),c=a(20),r=a(100),u=a(16),j=a(54),d=a(45),g=a(58),b=a(43),O=a(2),x=a(12),p=a(14),m=a(90),S=a(84),y=a(79),v=a(101),h=a(123),C=a(118),E=a(120),f=a(119),F=a(240),I=a(159),k=a(0);const T=({eventRate:e,totalCount:t,pinnedCategory:a,selectedCategory:i,documentCountStats:o})=>{const{data:l,uiSettings:c,fieldFormats:r,charts:u}=Object(b.b)(),j=x.i18n.translate("xpack.aiops.logCategorization.chartPointsSplitLabel",{defaultMessage:"Selected pattern"}),d=Object(s.useMemo)((()=>{var t;const s=null!==(t=null!=i?i:a)&&void 0!==t?t:null;return e.map((({key:e,docCount:t})=>{let a=t;if(s&&s.sparkline&&s.sparkline[e]){const n=s.sparkline[e];a=n>t?0:t-n}return{time:e,value:a}}))}),[e,a,i]),g=Object(s.useMemo)((()=>{var t;const s=null!==(t=null!=i?i:a)&&void 0!==t?t:null;return null!==s?e.map((({key:e,docCount:t})=>{const a=s.sparkline&&s.sparkline[e]?s.sparkline[e]:0;return{time:e,value:a>t?t:a}})):void 0}),[e,a,i]);return void 0===(null==o?void 0:o.interval)?null:Object(k.jsx)(n.a.Fragment,null,Object(k.jsx)(I.a,{totalCount:t}),Object(k.jsx)(F.a,{dependencies:{data:l,uiSettings:c,fieldFormats:r,charts:u},chartPoints:d,chartPointsSplit:g,timeRangeEarliest:e[0].key,timeRangeLatest:e[e.length-1].key,interval:o.interval,chartPointsSplitLabel:j,isBrushCleared:!1}))};var w=a(103),z=a(124),R=a(104),P=a(122),L=a(132),M=a(70),_=a(68);const A=({categoriesCount:e,selectedCategoriesCount:t,openInDiscover:a})=>{const s=Object(_.a)();return Object(k.jsx)(O.EuiFlexGroup,{gutterSize:"none",alignItems:"center",css:Object(k.css)({minHeight:s.euiSizeXL},"","")},Object(k.jsx)(O.EuiFlexItem,null,Object(k.jsx)(O.EuiText,{size:"s","data-test-subj":"aiopsLogPatternsFoundCount"},Object(k.jsx)(p.FormattedMessage,{id:"xpack.aiops.logCategorization.counts",defaultMessage:"{count} {count, plural, one {pattern} other {patterns}} found",values:{count:e}}),t>0?Object(k.jsx)(n.a.Fragment,null,Object(k.jsx)(p.FormattedMessage,{id:"xpack.aiops.logCategorization.selectedCounts",defaultMessage:" | {count} selected",values:{count:t}})):null)),t>0?Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(B,{openInDiscover:a})):null)},B=({openInDiscover:e,showText:t=!0})=>{const{labels:a,openFunction:s}=e;return Object(k.jsx)(O.EuiFlexGroup,{gutterSize:"none",alignItems:"center"},Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(N,{text:a.multiSelect.in,showText:t},Object(k.jsx)(O.EuiButtonEmpty,{"data-test-subj":"aiopsLogPatternAnalysisOpenInDiscoverIncludeButton",size:"s",onClick:()=>s(M.a.INCLUDE),iconType:"plusInCircle",iconSide:"left"},a.multiSelect.in))),Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(N,{text:a.multiSelect.out,showText:t},Object(k.jsx)(O.EuiButtonEmpty,{"data-test-subj":"aiopsLogPatternAnalysisOpenInDiscoverExcludeButton",size:"s",onClick:()=>s(M.a.EXCLUDE),iconType:"minusInCircle",iconSide:"left"},a.multiSelect.out))))},N=({text:e,showText:t,children:a})=>t?Object(k.jsx)(n.a.Fragment,null,a):Object(k.jsx)(O.EuiToolTip,{content:e},Object(k.jsx)(n.a.Fragment,null,a));var q=a(121);const D="message";var U={name:"1qw7xfh",styles:"min-width:410px"},G={name:"xdvdnl",styles:"margin-top:auto"},Q={name:"xdvdnl",styles:"margin-top:auto"};const V=({embeddingOrigin:e})=>{var t,a;const{notifications:{toasts:i}}=Object(b.b)(),{dataView:o,savedSearch:c}=Object(d.c)(),{runCategorizeRequest:r,cancelRequest:u,randomSampler:g}=Object(E.a)(),{runValidateFieldRequest:F,cancelRequest:I}=Object(R.a)(),[M,_]=Object(l.b)("logCategorization",Object(v.a)()),[B,N]=Object(l.c)("_g"),[V,K]=Object(s.useState)(),[H,J]=Object(s.useState)(null),[X,Y]=Object(s.useState)([]),[Z,$]=Object(s.useState)(c),[W,ee]=Object(s.useState)(0),[te,ae]=Object(s.useState)(!1),[se,ne]=Object(s.useState)(0),[ie,oe]=Object(s.useState)([]),[le,ce]=Object(s.useState)(null),[re,ue]=Object(s.useState)(null),[je,de]=Object(s.useState)(null),ge=Object(m.a)([],"key"),be=Object(s.useCallback)((()=>{I(),u()}),[u,I]);Object(s.useEffect)((()=>{c&&$(c)}),[c]),Object(s.useEffect)((function(){return()=>{be()}}),[be]);const Oe=Object(s.useCallback)((e=>{null!==Z&&$(null),_({...M,searchQuery:e.searchQuery,searchString:e.searchString,searchQueryLanguage:e.queryLanguage,filters:e.filters})}),[Z,M,_]),{searchQueryLanguage:xe,searchString:pe,searchQuery:me}=Object(y.a)({dataView:o,savedSearch:Z},M),{documentStats:Se,timefilter:ye,earliest:ve,latest:he,intervalMs:Ce}=Object(S.a)(o,"log_categorization",me,N,void 0,void 0,20),Ee=Object(q.a)(o.id,V,X,M,ye,!0,void 0,void 0);Object(s.useEffect)((()=>{void 0!==(null==B?void 0:B.time)&&ye.setTime({from:B.time.from,to:B.time.to})}),[null==B?void 0:B.time,ye]);const fe=Object(s.useMemo)((()=>o.fields.filter((({displayName:e,esTypes:t})=>t&&t.includes("text")&&!["_id","_index"].includes(e))).map((({displayName:e})=>({label:e})))),[o]),Fe=Object(s.useCallback)((async()=>{ae(!0),ue(null),de(null);const{getIndexPattern:t,timeFieldName:a}=o,s=t();if(void 0===V||void 0===a||void 0===ve||void 0===he)return void ae(!1);be();const n={from:ve,to:he},l=o.getRuntimeMappings();try{const[t,i]=await Promise.all([F(s,V,a,n,me,l,{[j.c.AIOPS_ANALYSIS_RUN_ORIGIN]:e}),r(s,V,a,n,me,l,Ce)]);de(t),ue({categories:i.categories,displayExamples:i.hasExamples})}catch(e){i.addError(e,{title:x.i18n.translate("xpack.aiops.logCategorization.errorLoadingCategories",{defaultMessage:"Error loading categories"})})}ae(!1)}),[o,V,be,F,ve,he,me,r,Ce,i,e]);return Object(s.useEffect)((()=>{var e;const t=null===(e=Se.documentCountStats)||void 0===e?void 0:e.buckets;if(void 0===t)return;const a=Object(L.b)(Se);a!==W&&(g.setDocCount(Se.totalCount),oe(Object.entries(t).map((([e,t])=>({key:+e,docCount:t})))),ne(Se.totalCount),null!==je&&Fe()),ee(a)}),[Se,ve,he,xe,pe,me,g,se,W,je,Fe]),Object(s.useEffect)((function(){if(void 0!==V)return;const e=M.field;void 0!==e&&fe.find((t=>t.label===e))?K(e):1===fe.length?K(fe[0].label):fe.find((e=>e.label===D))&&K(D)}),[fe,Fe,V,M.field]),Object(k.jsx)(O.EuiPageBody,{"data-test-subj":"aiopsLogPatternAnalysisPage",paddingSize:"none",panelled:!1},Object(k.jsx)(C.a,null),Object(k.jsx)(O.EuiSpacer,null),Object(k.jsx)(O.EuiFlexGroup,{gutterSize:"none"},Object(k.jsx)(O.EuiFlexItem,null,Object(k.jsx)(h.a,{searchString:null!=pe?pe:"",searchQuery:me,searchQueryLanguage:xe,setSearchParams:Oe}))),Object(k.jsx)(O.EuiSpacer,{size:"m"}),Object(k.jsx)(O.EuiFlexGroup,{gutterSize:"none"},Object(k.jsx)(O.EuiFlexItem,{grow:!1,css:U},Object(k.jsx)(O.EuiFormRow,{label:x.i18n.translate("xpack.aiops.logCategorization.categoryFieldSelect",{defaultMessage:"Category field"})},Object(k.jsx)(O.EuiComboBox,{isDisabled:!0===te,options:fe,onChange:e=>{ue(null),de(null);const t=e&&e.length?e[0].label:void 0;K(t),_({field:t})},selectedOptions:void 0===V?void 0:[{label:V}],singleSelection:{asPlainText:!0},"data-test-subj":"aiopsLogPatternAnalysisCategoryField"}))),Object(k.jsx)(O.EuiFlexItem,{grow:!1,css:G},!1===te?Object(k.jsx)(O.EuiButton,{disabled:void 0===V,onClick:()=>{Fe()},"data-test-subj":"aiopsLogPatternAnalysisRunButton"},Object(k.jsx)(p.FormattedMessage,{id:"xpack.aiops.logCategorization.runButton",defaultMessage:"Run pattern analysis"})):Object(k.jsx)(O.EuiButton,{"data-test-subj":"aiopsLogCategorizationPageCancelButton",onClick:()=>be()},"Cancel")),Object(k.jsx)(O.EuiFlexItem,null),Object(k.jsx)(O.EuiFlexItem,{grow:!1,css:Q},Object(k.jsx)(z.b,{randomSampler:g,reload:()=>Fe()}))),ie.length?Object(k.jsx)(n.a.Fragment,null,Object(k.jsx)(O.EuiSpacer,null),Object(k.jsx)(T,{eventRate:ie,pinnedCategory:le,selectedCategory:H,totalCount:se,documentCountStats:Se.documentCountStats}),Object(k.jsx)(O.EuiSpacer,null)):null,Object(k.jsx)(P.a,{validationResults:je}),!0===te?Object(k.jsx)(O.EuiSkeletonText,{lines:10}):null,Object(k.jsx)(w.a,{loading:te,categoriesLength:null!==(t=null==re||null===(a=re.categories)||void 0===a?void 0:a.length)&&void 0!==t?t:null,eventRateLength:ie.length}),void 0!==V&&null!==re&&re.categories.length>0?Object(k.jsx)(n.a.Fragment,null,Object(k.jsx)(A,{categoriesCount:re.categories.length,selectedCategoriesCount:X.length,openInDiscover:Ee}),Object(k.jsx)(O.EuiSpacer,{size:"xs"}),Object(k.jsx)(O.EuiHorizontalRule,{margin:"none"}),Object(k.jsx)(f.a,{categories:re.categories,eventRate:ie,pinnedCategory:le,setPinnedCategory:ce,highlightedCategory:H,setHighlightedCategory:J,displayExamples:re.displayExamples,setSelectedCategories:Y,openInDiscover:Ee,tableState:ge})):null)};var K=a(81);const H=new c.Storage(window.localStorage);var J=a(22),X=a(187),Y=a(3),Z=a(30),$=a(96),W=a(18),ee=a(50),te=a(133),ae=a(156),se=function(e){return e[e.BUCKET=0]="BUCKET",e[e.FULL_TIME_RANGE=1]="FULL_TIME_RANGE",e}(se||{});const ne=({dataView:e,savedSearch:t,selectedField:a,onClose:i,embeddingOrigin:o,additionalFilter:c})=>{var r,u;const{notifications:{toasts:d},data:{query:{getState:g}},uiSettings:h}=Object(b.b)(),{runValidateFieldRequest:C,cancelRequest:F}=Object(R.a)(),{euiTheme:I}=Object(O.useEuiTheme)(),{filters:T,query:L}=Object(s.useMemo)((()=>g()),[g]),M=Object(s.useRef)(!1),{runCategorizeRequest:_,cancelRequest:B,randomSampler:N}=Object(E.a)(),[D]=Object(l.b)("logCategorization",Object(v.a)({searchQuery:Object(ee.a)(L,T,e,h)})),[U,G]=Object(s.useState)(null),[Q,V]=Object(s.useState)([]),[K]=Object(s.useState)(t),[H,J]=Object(s.useState)(!0),[X,Y]=Object(s.useState)([]),[Z,$]=Object(s.useState)(null),[W,ne]=Object(s.useState)(null),[ie,oe]=Object(s.useState)(null),[le,ce]=Object(s.useState)(!1),[re,ue]=Object(s.useState)(se.FULL_TIME_RANGE),je=Object(m.a)([],"key"),de=Object(s.useCallback)((()=>{F(),B()}),[B,F]);Object(s.useEffect)((function(){return M.current=!0,()=>{M.current=!1,de()}}),[de,M]);const{searchQueryLanguage:ge,searchString:be,searchQuery:Oe}=Object(y.a)({dataView:e,savedSearch:K},D,!0),{documentStats:xe,timefilter:pe,earliest:me,latest:Se,intervalMs:ye,forceRefresh:ve}=Object(S.a)(e,"log_categorization",Oe,void 0,void 0,void 0,20),he=Object(q.a)(e.id,a,Q,D,pe,!0,void 0,void 0),Ce=Object(s.useCallback)((async()=>{const{getIndexPattern:t,timeFieldName:s}=e,n=t();if(void 0===a||void 0===s||void 0===me||void 0===Se)return;de(),J(!0),ne(null),oe(null);const i={from:me,to:Se},l=e.getRuntimeMappings();try{const[e,t]=await Promise.all([C(n,a.name,s,i,Oe,l,{[j.c.AIOPS_ANALYSIS_RUN_ORIGIN]:o}),_(n,a.name,s,i,Oe,l,ye,c)]);if(!0===M.current){oe(e);const{categories:a,hasExamples:s}=t,n=a.some((e=>void 0!==e.subTimeRangeCount));let i=null;void 0!==c&&(i=t.categories.map((e=>{var t;return{...e,count:null!==(t=e.subFieldCount)&&void 0!==t?t:e.subTimeRangeCount,examples:e.subFieldExamples,sparkline:void 0}})).filter((e=>e.count>0)).sort(((e,t)=>t.count-e.count))),ne({categories:a,categoriesInBucket:i,displayExamples:s}),ce(n),ue(se.BUCKET)}}catch(e){d.addError(e,{title:x.i18n.translate("xpack.aiops.logCategorization.errorLoadingCategories",{defaultMessage:"Error loading categories"})})}!0===M.current&&J(!1)}),[e,a,me,Se,de,C,Oe,o,_,ye,c,d]);Object(s.useEffect)((()=>{var e;null!==(e=xe.documentCountStats)&&void 0!==e&&e.buckets&&(N.setDocCount(xe.totalCount),Y(Object.entries(xe.documentCountStats.buckets).map((([e,t])=>({key:+e,docCount:t})))),ne(null),Ce())}),[xe,me,Se,ge,be,Oe,Ce,N]);const Ee={marginTop:I.size.m,marginLeft:I.size.xxs};return Object(k.jsx)(n.a.Fragment,null,Object(k.jsx)(O.EuiFlyoutHeader,{hasBorder:!0},Object(k.jsx)(O.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(O.EuiTitle,{size:"m"},Object(k.jsx)("h2",{id:"flyoutTitle","data-test-subj":"mlJobSelectorFlyoutTitle"},Object(k.jsx)(p.FormattedMessage,{id:"xpack.aiops.categorizeFlyout.title",defaultMessage:"Pattern analysis of {name}",values:{name:a.name}})))),Object(k.jsx)(O.EuiFlexItem,null),Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(z.b,{randomSampler:N,reload:()=>ve()})))),Object(k.jsx)(O.EuiFlyoutBody,{"data-test-subj":"mlJobSelectorFlyoutBody"},!1===le&&!1===H?Object(k.jsx)(ae.a,{dataView:e,field:a,query:Oe,earliest:me,latest:Se}):null,Object(k.jsx)(P.a,{validationResults:ie}),!0===H?Object(k.jsx)(te.a,{onCancel:i}):null,Object(k.jsx)(w.a,{loading:H,categoriesLength:null!==(r=null==W||null===(u=W.categories)||void 0===u?void 0:u.length)&&void 0!==r?r:null,eventRateLength:X.length}),!1===H&&null!==W&&W.categories.length>0?Object(k.jsx)(n.a.Fragment,null,le?Object(k.jsx)(n.a.Fragment,null,Object(k.jsx)(O.EuiTabs,null,Object(k.jsx)(O.EuiTab,{isSelected:re===se.BUCKET,onClick:()=>ue(se.BUCKET)},Object(k.jsx)(O.EuiToolTip,{content:x.i18n.translate("xpack.aiops.logCategorization.tabs.bucket.tooltip",{defaultMessage:"Patterns that occur in the anomalous bucket."})},Object(k.jsx)(O.EuiFlexGroup,{gutterSize:"none"},Object(k.jsx)(O.EuiFlexItem,null,Object(k.jsx)(p.FormattedMessage,{id:"xpack.aiops.logCategorization.tabs.bucket",defaultMessage:"Bucket"})),Object(k.jsx)(O.EuiFlexItem,{grow:!1,css:Ee},Object(k.jsx)(O.EuiIcon,{size:"s",color:"subdued",type:"questionInCircle",className:"eui-alignTop"}))))),Object(k.jsx)(O.EuiTab,{isSelected:re===se.FULL_TIME_RANGE,onClick:()=>ue(se.FULL_TIME_RANGE)},Object(k.jsx)(O.EuiToolTip,{content:x.i18n.translate("xpack.aiops.logCategorization.tabs.fullTimeRange.tooltip",{defaultMessage:"Patterns that occur in the time range selected for the page."})},Object(k.jsx)(O.EuiFlexGroup,{gutterSize:"none"},Object(k.jsx)(O.EuiFlexItem,null,Object(k.jsx)(p.FormattedMessage,{id:"xpack.aiops.logCategorization.tabs.fullTimeRange",defaultMessage:"Full time range"})),Object(k.jsx)(O.EuiFlexItem,{grow:!1,css:Ee},Object(k.jsx)(O.EuiIcon,{size:"s",color:"subdued",type:"questionInCircle",className:"eui-alignTop"})))))),Object(k.jsx)(O.EuiSpacer,{size:"s"})):null,Object(k.jsx)(A,{categoriesCount:W.categories.length,selectedCategoriesCount:Q.length,openInDiscover:he}),Object(k.jsx)(O.EuiSpacer,{size:"xs"}),Object(k.jsx)(O.EuiHorizontalRule,{margin:"none"}),Object(k.jsx)(f.a,{categories:re===se.BUCKET&&null!==W.categoriesInBucket?W.categoriesInBucket:W.categories,eventRate:X,pinnedCategory:Z,setPinnedCategory:$,highlightedCategory:U,setHighlightedCategory:G,enableRowActions:!1,displayExamples:W.displayExamples,setSelectedCategories:V,openInDiscover:he,tableState:je})):null))},ie=new c.Storage(window.localStorage),oe=(e,t)=>Object(J.createAction)({type:X.a,id:X.a,getDisplayName:()=>x.i18n.translate("xpack.aiops.categorizeFieldAction.displayName",{defaultMessage:"Pattern analysis"}),isCompatible:async({field:e})=>{var t;return!0===(null===(t=e.esTypes)||void 0===t?void 0:t.includes("text"))},execute:async a=>{const{field:s,dataView:n,originatingApp:l,additionalFilter:c}=a;!async function(e,t,a,s,n,l){const{overlays:c,application:u,i18n:j}=a;new Promise((async(d,O)=>{try{const O=()=>{S.close(),d()},x={...a,...s},p=Object(i.pick)(a,"analytics","i18n","theme"),m={...Object(i.pick)(x,["data","http","notifications","theme","uiSettings"]),i18n:j,uiSettingsKeys:W.UI_SETTINGS},S=c.openFlyout(Object($.a)(Object(k.jsx)(Z.KibanaContextProvider,{services:{...a}},Object(k.jsx)(b.a.Provider,{value:x},Object(k.jsx)(r.a,m,Object(k.jsx)(o.a,{storage:ie,storageKeys:g.e},Object(k.jsx)(ne,{dataView:t,savedSearch:null,selectedField:e,onClose:O,embeddingOrigin:n,additionalFilter:l}))))),p),{"data-test-subj":"aiopsCategorizeFlyout",ownFocus:!0,closeButtonProps:{"aria-label":"aiopsCategorizeFlyout"},onClose:O,size:"l"});u.currentAppId$.pipe(Object(Y.skip)(1),Object(Y.takeUntil)(Object(Y.from)(S.onClose)),Object(Y.distinctUntilChanged)()).subscribe((()=>{S.close()}))}catch(e){O(e)}}))}(s,n,e,t,l,c)}});t.default=({dataView:e,savedSearch:t,appDependencies:a,showFrozenDataTierChoice:s=!0})=>{if(!e)return null;const c=Object(K.a)(e,"log_categorization");if(null!==c)return Object(k.jsx)(n.a.Fragment,null,c);const O={...Object(i.pick)(a,["data","http","notifications","theme","uiSettings","i18n"]),uiSettingsKeys:u.UI_SETTINGS,showFrozenDataTierChoice:s};return Object(k.jsx)(b.a.Provider,{value:a},Object(k.jsx)(l.a,null,Object(k.jsx)(d.a.Provider,{value:{dataView:e,savedSearch:t}},Object(k.jsx)(o.a,{storage:H,storageKeys:g.e},Object(k.jsx)(r.a,O,Object(k.jsx)(V,{embeddingOrigin:j.c.AIOPS_DEFAULT_SOURCE}))))))}}}]);