/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.aiops_bundle_jsonpfunction=window.aiops_bundle_jsonpfunction||[]).push([[14],{45:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return c}));var r=n(1),i=n(2),o=n(14),a=n(43),s=n(0);const l=Object(r.createContext)({get dataView(){throw new Error("DataSourceContext is not implemented")},savedSearch:null});function u(){return Object(r.useContext)(l)}const c=({dataViewId:e,savedSearchId:t,children:n,onChange:u})=>{const[c,d]=Object(r.useState)(),[_,b]=Object(r.useState)(),{data:{dataViews:E}}=Object(a.b)(),T=Object(r.useCallback)((async()=>{const t={savedSearch:null,dataView:null};e&&(t.dataView=await E.get(e));const{savedSearch:n,dataView:r}=t;return{dataView:r,savedSearch:n}}),[e,E]);return Object(r.useEffect)((()=>{T().then((e=>{b(void 0),d(e),u&&u({dataViews:[e.dataView]})})).catch((e=>{b(e)}))}),[T,u,e]),c&&null!=c&&c.dataView||_?_?Object(s.jsx)(i.EuiEmptyPrompt,{iconType:"error",color:"danger",title:Object(s.jsx)("h2",null,Object(s.jsx)(o.FormattedMessage,{id:"xpack.aiops.dataSourceContext.errorTitle",defaultMessage:"Unable to fetch data view or saved search"})),body:Object(s.jsx)("p",null,_.message)}):Object(s.jsx)(l.Provider,{value:c},n):null}},50:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d}));var r=n(13),i=n(16),o=n(18),a=n(15);n(167);const s={bool:{must:[{match_all:{}}]}};function l(){return Object(r.cloneDeep)(s)}var u=n(260);function c(e,t,n,r){let s=l();if(Object(o.isQuery)(e)&&e.language===u.a.KUERY){const r=Object(a.fromKueryExpression)(e.query);if(""!==e.query&&(s=Object(a.toElasticsearchQuery)(r,n)),void 0!==s.bool){const e=Object(a.buildQueryFromFilters)(t,n);Array.isArray(s.bool.filter)||(s.bool.filter=void 0===s.bool.filter?[]:[s.bool.filter]),Array.isArray(s.bool.must_not)||(s.bool.must_not=void 0===s.bool.must_not?[]:[s.bool.must_not]),s.bool.filter=[...s.bool.filter,...e.filter],s.bool.must_not=[...s.bool.must_not,...e.must_not]}}else s=Object(a.buildEsQuery)(n,e?[e]:[],t||[],r?Object(i.getEsQueryConfig)(r):void 0);return s}function d({dataView:e,uiSettings:t,savedSearch:n,query:a,filters:s,filterManager:u}){if(!e||!n)return;const d=a,_=s,b=function(e){return e&&"searchSource"in e&&(null==e?void 0:e.searchSource)instanceof i.SearchSource?e.searchSource:void 0}(n);if(b&&void 0!==b.getParent()&&d){var E,T,y;const e=null!==(E=Object(r.cloneDeep)(null===(T=n.searchSource.getSearchRequestBody())||void 0===T?void 0:T.query))&&void 0!==E?E:l(),t=null===(y=n.searchSource.getField("index"))||void 0===y?void 0:y.timeFieldName;return Array.isArray(e.bool.filter)&&void 0!==t&&(e.bool.filter=e.bool.filter.filter((e=>{var n;return!(e.hasOwnProperty("range")&&null!==(n=e.range)&&void 0!==n&&n.hasOwnProperty(t))}))),{searchQuery:e,searchString:d.query,queryLanguage:d.language}}if(!n&&d)return u&&_&&u.addFilters(_),{searchQuery:c(d,Array.isArray(_)?_:[],e,t),searchString:d.query,queryLanguage:d.language};if(b){const n=null==u?void 0:u.getGlobalFilters(),r=null!=d?d:b.getField("query"),i=null!=_?_:Object(o.mapAndFlattenFilters)(b.getField("filter"));return u&&u.setFilters(i),n&&(null==u||u.addFilters(n)),{searchQuery:c(r,u?null==u?void 0:u.getFilters():i,e,t),searchString:r.query,queryLanguage:r.language}}}},55:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r=n(59),i=n.n(r);let o=function(e){return e._ID="_id",e._INDEX="_index",e._SOURCE="_source",e._TYPE="_type",e.STRING="string",e.TEXT="text",e.MATCH_ONLY_TEXT="match_only_text",e.KEYWORD="keyword",e.VERSION="version",e.BOOLEAN="boolean",e.OBJECT="object",e.DATE="date",e.DATE_NANOS="date_nanos",e.DATE_RANGE="date_range",e.GEO_POINT="geo_point",e.GEO_SHAPE="geo_shape",e.FLOAT="float",e.HALF_FLOAT="half_float",e.SCALED_FLOAT="scaled_float",e.DOUBLE="double",e.INTEGER="integer",e.LONG="long",e.SHORT="short",e.UNSIGNED_LONG="unsigned_long",e.AGGREGATE_METRIC_DOUBLE="aggregate_metric_double",e.FLOAT_RANGE="float_range",e.DOUBLE_RANGE="double_range",e.INTEGER_RANGE="integer_range",e.LONG_RANGE="long_range",e.NESTED="nested",e.BYTE="byte",e.IP="ip",e.IP_RANGE="ip_range",e.ATTACHMENT="attachment",e.TOKEN_COUNT="token_count",e.MURMUR3="murmur3",e.HISTOGRAM="histogram",e}({}),a=function(e){return e._SOURCE="_source",e.ATTACHMENT="attachment",e.BOOLEAN="boolean",e.DATE="date",e.DATE_RANGE="date_range",e.GEO_POINT="geo_point",e.GEO_SHAPE="geo_shape",e.IP="ip",e.IP_RANGE="ip_range",e.MURMUR3="murmur3",e.NUMBER="number",e.NUMBER_RANGE="number_range",e.STRING="string",e.UNKNOWN="unknown",e.CONFLICT="conflict",e.OBJECT="object",e.NESTED="nested",e.HISTOGRAM="histogram",e.MISSING="missing",e}({});class kbn_field_type_KbnFieldType{constructor(e={}){i()(this,"name",void 0),i()(this,"sortable",void 0),i()(this,"filterable",void 0),i()(this,"esTypes",void 0),this.name=e.name||a.UNKNOWN,this.sortable=e.sortable||!1,this.filterable=e.filterable||!1,this.esTypes=Object.freeze((e.esTypes||[]).slice())}}const s=new kbn_field_type_KbnFieldType({name:a.UNKNOWN}),l=[new kbn_field_type_KbnFieldType({name:a.STRING,sortable:!0,filterable:!0,esTypes:[o.STRING,o.TEXT,o.MATCH_ONLY_TEXT,o.KEYWORD,o.VERSION,o._TYPE,o._ID]}),new kbn_field_type_KbnFieldType({name:a.NUMBER,sortable:!0,filterable:!0,esTypes:[o.FLOAT,o.HALF_FLOAT,o.SCALED_FLOAT,o.DOUBLE,o.INTEGER,o.LONG,o.UNSIGNED_LONG,o.SHORT,o.BYTE,o.TOKEN_COUNT,o.AGGREGATE_METRIC_DOUBLE]}),new kbn_field_type_KbnFieldType({name:a.NUMBER_RANGE,sortable:!0,filterable:!0,esTypes:[o.FLOAT_RANGE,o.DOUBLE_RANGE,o.INTEGER_RANGE,o.LONG_RANGE]}),new kbn_field_type_KbnFieldType({name:a.DATE,sortable:!0,filterable:!0,esTypes:[o.DATE,o.DATE_NANOS]}),new kbn_field_type_KbnFieldType({name:a.DATE_RANGE,sortable:!0,filterable:!0,esTypes:[o.DATE_RANGE]}),new kbn_field_type_KbnFieldType({name:a.IP,sortable:!0,filterable:!0,esTypes:[o.IP]}),new kbn_field_type_KbnFieldType({name:a.IP_RANGE,sortable:!0,filterable:!0,esTypes:[o.IP_RANGE]}),new kbn_field_type_KbnFieldType({name:a.BOOLEAN,sortable:!0,filterable:!0,esTypes:[o.BOOLEAN]}),new kbn_field_type_KbnFieldType({name:a.OBJECT,esTypes:[o.OBJECT]}),new kbn_field_type_KbnFieldType({name:a.NESTED,esTypes:[o.NESTED]}),new kbn_field_type_KbnFieldType({name:a.GEO_POINT,esTypes:[o.GEO_POINT]}),new kbn_field_type_KbnFieldType({name:a.GEO_SHAPE,esTypes:[o.GEO_SHAPE]}),new kbn_field_type_KbnFieldType({name:a.ATTACHMENT,esTypes:[o.ATTACHMENT]}),new kbn_field_type_KbnFieldType({name:a.MURMUR3,esTypes:[o.MURMUR3]}),new kbn_field_type_KbnFieldType({name:a._SOURCE,esTypes:[o._SOURCE]}),new kbn_field_type_KbnFieldType({name:a.HISTOGRAM,filterable:!0,esTypes:[o.HISTOGRAM]}),new kbn_field_type_KbnFieldType({name:a.CONFLICT}),s],u=e=>{const t=l.find((t=>t.esTypes.includes(e)));return t&&t.name?t.name:a.UNKNOWN};function c(e){switch(e){case o._INDEX:return a.STRING;case"_version":return a.NUMBER;case"datetime":return a.DATE;default:return u(e)}}},64:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var r=n(2);const i=e=>e.darkMode?r.COLOR_MODES_STANDARD.dark:r.COLOR_MODES_STANDARD.light,o={darkMode:!1}},71:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setEuiDevProviderWarning=t.getEuiDevProviderWarning=t.emitEuiProviderWarning=void 0;var r=void 0;t.setEuiDevProviderWarning=function(e){return r=e},t.getEuiDevProviderWarning=function(){return r},t.emitEuiProviderWarning=function(e){if("function"==typeof r)return r(e);switch(r){case"log":console.log(e);break;case"warn":console.warn(e);break;case"error":throw new Error(e)}}},76:function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return N}));var r=n(1),i=n(25),o=n(71),a=n(51),s=n.n(a),l=n(27),u=n.n(l),c=n(2);const d="eui-global",_="eui-utilities";var b=n(64),E=n(0);const T=[c.euiStylisPrefixer],y=u()({key:"css",stylisPlugins:T,container:document.querySelector('meta[name="emotion"]')}),f=u()({key:d,stylisPlugins:T,container:document.querySelector(`meta[name="${d}"]`)}),O=u()({key:_,stylisPlugins:T,container:document.querySelector(`meta[name="${_}"]`)});y.compat=!0,f.compat=!0,O.compat=!0;const p={default:y,global:f,utility:O},N=({theme:{theme$:e},globalStyles:t,colorMode:n,modify:i,children:o})=>{const a=s()(e,b.a),l=Object(r.useMemo)((()=>Object(b.b)(a)),[a]),u=n||l,d=!1!==t&&void 0;return Object(E.jsx)(c.EuiProvider,{cache:p,modify:i,colorMode:u,globalStyles:d,utilityClasses:d},o)},g=({children:e,i18n:t,...n})=>Object(i.useIsNestedEuiProvider)()?(Object(o.emitEuiProviderWarning)("KibanaRootContextProvider has likely been nested in this React tree, either by direct reference or by KibanaRenderContextProvider.  The result of this nesting is a nesting of EuiProvider, which has negative effects.  Check your React tree for nested Kibana context providers."),Object(E.jsx)(t.Context,null,e)):Object(E.jsx)(N,n,Object(E.jsx)(t.Context,null,e))},85:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(4),i=n.n(r),o=(n(1),n(76)),a=n(28),s=n(0);const l=({children:e,...t})=>Object(s.jsx)(o.b,i()({globalStyles:!1},t),Object(s.jsx)(a.KibanaErrorBoundaryProvider,{analytics:t.analytics},Object(s.jsx)(a.KibanaErrorBoundary,null,e)))},96:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(1),i=n(24),o=n.n(i),a=n(85),s=n(0);const l=(e,t)=>n=>(o.a.render(Object(s.jsx)(a.a,t,e),n),()=>o.a.unmountComponentAtNode(n));n(59),n(12),r.Component}}]);