(window.visTypeTimeseries_bundle_jsonpfunction=window.visTypeTimeseries_bundle_jsonpfunction||[]).push([[9],{202:function(e,t,r){switch(window.__kbnThemeTag__){case"v8dark":return r(203);case"v8light":return r(205)}},203:function(e,t,r){var n=r(51),o=r(204);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);n(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},204:function(e,t,r){(t=r(52)(!1)).push([e.i,".tvbError__additional,.tvbError__stack,.tvbError__title{margin-top:8px}.tvbError__stack{background:#25262e;color:#dfe5ef;font-family:Roboto Mono,Menlo,Courier,monospace;font-weight:400;line-height:1.5;padding:8px;white-space:pre-wrap}",""]),e.exports=t},205:function(e,t,r){var n=r(51),o=r(206);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);n(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},206:function(e,t,r){(t=r(52)(!1)).push([e.i,".tvbError__additional,.tvbError__stack,.tvbError__title{margin-top:8px}.tvbError__stack{background:#f5f7fa;color:#343741;font-family:Roboto Mono,Menlo,Courier,monospace;font-weight:400;line-height:1.5;padding:8px;white-space:pre-wrap}",""]),e.exports=t},207:function(e,t,r){switch(window.__kbnThemeTag__){case"v8dark":return r(208);case"v8light":return r(210)}},208:function(e,t,r){var n=r(51),o=r(209);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);n(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},209:function(e,t,r){(t=r(52)(!1)).push([e.i,".tvbMarkdown{position:relative}.tvbMarkdown,.tvbMarkdown__content{display:flex;flex:1 0 auto;flex-direction:column}.tvbMarkdown__content{bottom:0;left:0;overflow:hidden;position:absolute;right:0;scrollbar-color:#98a2b380 #0000;scrollbar-width:thin;top:0}.tvbMarkdown__content::-webkit-scrollbar{height:16px;width:16px}.tvbMarkdown__content::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#98a2b380;border:6px solid #0000;border-radius:16px}.tvbMarkdown__content::-webkit-scrollbar-corner,.tvbMarkdown__content::-webkit-scrollbar-track{background-color:#0000}.tvbMarkdown__content--middle{justify-content:center}.tvbMarkdown__content--bottom{justify-content:flex-end}.tvbMarkdown__content-isScrolling{overflow:auto}",""]),e.exports=t},210:function(e,t,r){var n=r(51),o=r(211);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);n(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},211:function(e,t,r){(t=r(52)(!1)).push([e.i,".tvbMarkdown{position:relative}.tvbMarkdown,.tvbMarkdown__content{display:flex;flex:1 0 auto;flex-direction:column}.tvbMarkdown__content{bottom:0;left:0;overflow:hidden;position:absolute;right:0;scrollbar-color:#69707d80 #0000;scrollbar-width:thin;top:0}.tvbMarkdown__content::-webkit-scrollbar{height:16px;width:16px}.tvbMarkdown__content::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#69707d80;border:6px solid #0000;border-radius:16px}.tvbMarkdown__content::-webkit-scrollbar-corner,.tvbMarkdown__content::-webkit-scrollbar-track{background-color:#0000}.tvbMarkdown__content--middle{justify-content:center}.tvbMarkdown__content--bottom{justify-content:flex-end}.tvbMarkdown__content-isScrolling{overflow:auto}",""]),e.exports=t},225:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return w})),r(3);var n=r(37),o=r.n(n),a=r(10),s=r.n(a),i=r(1),c=r(40),l=r(6),d=r(32);r(202);const b=/\[[[a-f\d-\\]{36}\]/g;function u(e){const{error:t}=e;let r;const n=s.a.get(t,"error.caused_by.type")||s.a.get(t,"error.type");let o=s.a.get(t,"error.caused_by.reason");const a=s.a.get(t,"error.caused_by.title");if(o||(o=s.a.get(t,"message")),["runtime_exception","illegal_argument_exception"].includes(n)&&(o=s.a.get(t,"error.reason").replace(b,"")),"script_exception"===n){const e=s.a.get(t,"error.caused_by.script_stack");o=s.a.get(t,"error.caused_by.caused_by.reason"),r=Object(i.jsx)("div",{className:"tvbError__additional"},Object(i.jsx)("div",null,o),Object(i.jsx)("div",{className:"tvbError__stack"},e.join("\n")))}else o&&(r=Object(i.jsx)("div",{className:"tvbError__additional"},o));return Object(i.jsx)("div",{className:"visError"},Object(i.jsx)(l.EuiText,{size:"xs",color:"subdued"},Object(i.jsx)(l.EuiIcon,{type:"warning",size:"m",color:"danger","aria-hidden":"true"}),Object(i.jsx)(l.EuiSpacer,{size:"s"}),a||Object(i.jsx)(d.FormattedMessage,{id:"visTypeTimeseries.error.requestForPanelFailedErrorMessage",defaultMessage:"The request for this panel failed"}),r))}var _=r(72),f=r(90),p=r(74);function w(e){const{backgroundColor:t,model:r,visData:n,getConfig:s,fieldFormatMap:l,initialRender:d,indexPattern:b}=e,w=Object(a.get)(n,`${r.id}.series`,[]),v=Object(f.a)(w,r,s,l,b),k=r.background_color||t,g={backgroundColor:k};let m;if(r.markdown){const e=Object(_.a)(r.markdown,{},{_all:v,...v}),t=o()("kbnMarkdown__body",{"kbnMarkdown__body--reversed":Object(p.b)(k)}),n=o()("tvbMarkdown__content",`tvbMarkdown__content--${r.markdown_vertical_align}`,{"tvbMarkdown__content-isScrolling":r.markdown_scrollbars},t),a=e instanceof Error?e:null;m=Object(i.jsx)("div",{className:"tvbMarkdown","data-test-subj":"tsvbMarkdown"},a&&Object(i.jsx)(u,{error:a}),Object(i.jsx)(i.ClassNames,null,(({css:t,cx:o})=>Object(i.jsx)("div",{className:o(n,t(`.kbnMarkdown__body {\n                  ${r.markdown_css}\n                }`))},Object(i.jsx)("div",null,!a&&Object(i.jsx)(c.Markdown,{onRender:d,markdown:e,openLinksInNewTab:r.markdown_openLinksInNewTab}))))))}return Object(i.jsx)("div",{className:"tvbVis",style:g},m)}r(207)},72:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r(38),o=r(82),a=r(2),s=r(59);const i=o.b.create();var c,l;function d(e,t={},r={},n={}){try{return i[o.a](e.split(s.a).join(`[${s.a}]`),{strict:!0,knownHelpersOnly:!0,knownHelpers:{rison:!0,encodeURIComponent:!0},...n})({...r,args:t})}catch(t){if(-1!==t.toString().indexOf("Parse error"))return e;if(-1!==t.message.indexOf("not defined in")){const e=t.message.split(/"/)[1];t.error={caused_by:{reason:a.i18n.translate("visTypeTimeseries.replaceVars.errors.unknownVarDescription",{defaultMessage:"{badVar} is an unknown variable",values:{badVar:"{{"+e+"}}"}}),title:a.i18n.translate("visTypeTimeseries.replaceVars.errors.unknownVarTitle",{defaultMessage:"Error processing your markdown"})}}}else t.error={caused_by:{reason:a.i18n.translate("visTypeTimeseries.replaceVars.errors.markdownErrorDescription",{defaultMessage:"Please verify you are only using markdown, known variables, and built-in Handlebars expressions"}),title:a.i18n.translate("visTypeTimeseries.replaceVars.errors.markdownErrorTitle",{defaultMessage:"Error processing your markdown"})}};return t}}i.registerHelper("rison",(c="rison",l=e=>Object(n.encode)(e),(...e)=>{const{hash:t}=e.slice(-1)[0],r=Object.keys(t).length>0,n=e.length>1;if(r&&n)throw new Error(`[${c}]: both value list and hash are not supported`);if(r){if(Object.values(t).some((e=>void 0===e)))throw new Error(`[${c}]: unknown variable`);return l(t)}{const t=e.slice(0,-1);if(t.some((e=>void 0===e)))throw new Error(`[${c}]: unknown variable`);if(0===t.length)throw new Error(`[${c}]: unknown variable`);return 1===t.length?l(t[0]):l(t)}})),i.registerHelper("encodeURIComponent",(e=>{const t=String(e);return encodeURIComponent(t)}))},74:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return l}));var n=r(54),o=r.n(n),a=r(0);const s=e=>o()(e).luminosity()<.45,i=e=>{let t=e||Object(a.b)().theme.getTheme().darkMode;return"string"==typeof e&&(t=s(e)),t},c=(e,t)=>{const r=i(t);return e&&"inherit"!==e?s(e):r},l=(e,t)=>c(e,t)!==i(t)},90:function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var n=r(43),o=r(10),a=r(5),s=r(62),i=r(59),c=r(66),l=r(70),d=r(71),b=r(14),u=r.n(b),_=r(64);const f=(e,t,r=null,b,f)=>{var p;const w={},v=null!==(p=null==r?void 0:r("dateFormat"))&&void 0!==p?p:"lll";return t.series.forEach((t=>{e.filter((e=>Object(o.startsWith)(e.id,t.id))).forEach((e=>{let p=Object(i.b)(e.label);p!==i.a&&(p=Object(o.snakeCase)(p));const k=[`[${p}]`,Object(o.snakeCase)(t.var_name)].filter((e=>e)).join("."),g=t.formatter===a.b.DEFAULT?Object(d.a)(Object(l.a)(t.metrics),b):Object(c.a)(t.formatter,t.value_template,r),m=Object(s.b)(e.data),h={last:{raw:m,formatted:g(m)},data:{raw:e.data,formatted:e.data.map((e=>[u()(e[0]).format(v),g(e[1])]))}};let j=e.label;if(t.split_mode===a.a.TERMS){const r=Object(_.d)(t.terms_field);1===r.length&&(j=Object(d.a)(r[0],b,void 0,!1,f)(e.label))}Object(n.set)(w,k,h),Object(n.set)(w,`[${p}].label`,j),Object(n.set)(w,`[${p}].formatted`,j)}))})),w}}}]);