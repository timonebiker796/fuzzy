(window.visTypeTimeseries_bundle_jsonpfunction=window.visTypeTimeseries_bundle_jsonpfunction||[]).push([[7],{100:function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var s=i(3),n=i(37),a=i.n(n),r=i(10),l=i(59),o=i(81),c=i(7),u=(i(93),i(1));function d(e){function t(t){const{model:i,visData:n,syncColors:d,palettesService:p,fieldFormatMap:g}=t,h=Object(s.useCallback)(((e,t,s)=>{const a={...i.series[0].palette,name:"kibana"===i.series[0].split_color_mode?"kibana_palette":i.series[0].split_color_mode||i.series[0].palette.name},r={seriesById:n[i.id].series,seriesName:e,seriesId:t,baseColor:s,seriesPalette:a,palettesRegistry:p,syncColors:d,fieldFormatMap:g};return Object(o.a)(r)||null}),[g,i.id,i.series,p,d,n]);if(!i||!n||!n[i.id])return Object(u.jsx)(e,t);if(n[i.id].series.every((e=>1===e.id.split(c.c).length)))return Object(u.jsx)(e,t);const b=n[i.id].series.reduce(((e,t)=>{const[s,n]=t.id.split(c.c),a=i.series.find((e=>e.id===s));if(!a)return e;const r=t.splitByLabel;e[n]||(e[n]={series:[],label:t.label.toString()});const l=/{{\s*key\s*}}/.test(a.label),o=t.color||a.color,u="terms"===i.series[0].split_mode?h(r,t.id,o):o;return e[n].series.push({...t,id:s,color:u,label:a.label&&!l?a.label:r}),e}),{}),f=Object(r.first)(n[i.id].series.filter((e=>{const t=i.series.find((t=>t.id===e.id));return!!t&&["everything","filter"].includes(t.split_mode)}))),v=f?Object(r.findIndex)(i.series,(e=>e.id===f.id)):null,m=Object.keys(b).map(((s,n,a)=>{const r=b[s],{series:o,label:c}=r,d=c,p=null!=v&&v>0?[...o,f]:[f,...o],g={[i.id]:{id:i.id,series:p||o}};return Object(u.jsx)("div",{key:s,className:"tvbSplitVis__split"},Object(u.jsx)(e,{model:i,visData:g,onBrush:t.onBrush,onFilterClick:t.onFilterClick,additionalLabel:Object(l.b)(d),backgroundColor:t.backgroundColor,getConfig:t.getConfig,fieldFormatMap:t.fieldFormatMap,initialRender:a.length-1===n?t.initialRender:void 0}))})),_=1===n[i.id].series.length;return Object(u.jsx)("div",{className:a()("tvbSplitVis",{"tvbSplitVis--one":_})},m)}var i;return t.displayName=`SplitVisComponent(${i=e,i.displayName||i.name||"Component"})`,t}},197:function(e,t,i){switch(window.__kbnThemeTag__){case"v8dark":return i(198);case"v8light":return i(200)}},198:function(e,t,i){var s=i(51),n=i(199);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);s(n,{insert:"head",singleton:!1}),e.exports=n.locals||{}},199:function(e,t,i){(t=i(52)(!1)).push([e.i,".tvbVisCircleGauge,.tvbVisHalfGauge{display:flex;flex:1 0 auto;flex-direction:column;font-size:100%}.tvbVisCircleGauge__metrics,.tvbVisHalfGauge__metrics{align-items:center;display:flex;flex-direction:column;height:100px;justify-content:center;padding:8px;position:absolute;text-align:center;width:100px}.tvbVisHalfGauge__metrics{height:70px;justify-content:flex-end;padding:0 12px 8px}.tvbVisGauge__label{color:#fff9;font-size:.5em;line-height:1em;padding:0 8px 4px;text-align:center}.tvbVisGauge--reversed .tvbVisGauge__label{color:#1d1e2499}.tvbVisGauge__value{color:#ffffffb3;font-size:.9em;line-height:1em;pointer-events:all;text-align:center}.tvbVisGauge--reversed .tvbVisGauge__value{color:#1d1e24cc}.tvbVisGauge__additionalLabel{color:#ffffffb3;font-size:.4em;line-height:1.2em;max-width:100%;overflow:hidden!important;padding:2px 4px;text-overflow:ellipsis!important;white-space:nowrap!important;width:100%}.tvbVisGauge--reversed .tvbVisGauge__additionalLabel{color:#1d1e24cc}.tvbVisGauge__resize{display:flex;flex:1 0 auto;flex-direction:column;pointer-events:none;position:relative}",""]),e.exports=t},200:function(e,t,i){var s=i(51),n=i(201);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);s(n,{insert:"head",singleton:!1}),e.exports=n.locals||{}},201:function(e,t,i){(t=i(52)(!1)).push([e.i,".tvbVisCircleGauge,.tvbVisHalfGauge{display:flex;flex:1 0 auto;flex-direction:column;font-size:100%}.tvbVisCircleGauge__metrics,.tvbVisHalfGauge__metrics{align-items:center;display:flex;flex-direction:column;height:100px;justify-content:center;padding:8px;position:absolute;text-align:center;width:100px}.tvbVisHalfGauge__metrics{height:70px;justify-content:flex-end;padding:0 12px 8px}.tvbVisGauge__label{color:#0009;font-size:.5em;line-height:1em;padding:0 8px 4px;text-align:center}.tvbVisGauge--reversed .tvbVisGauge__label{color:#fff9}.tvbVisGauge__value{color:#000000b3;font-size:.9em;line-height:1em;pointer-events:all;text-align:center}.tvbVisGauge--reversed .tvbVisGauge__value{color:#fffc}.tvbVisGauge__additionalLabel{color:#000000b3;font-size:.4em;line-height:1.2em;max-width:100%;overflow:hidden!important;padding:2px 4px;text-overflow:ellipsis!important;white-space:nowrap!important;width:100%}.tvbVisGauge--reversed .tvbVisGauge__additionalLabel{color:#fffc}.tvbVisGauge__resize{display:flex;flex:1 0 auto;flex-direction:column;pointer-events:none;position:relative}",""]),e.exports=t},222:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return C}));var s=i(3),n=i(100),a=i(70),r=i(66),l=i(71),o=i(10),c=i.n(o),u=i(17),d=i.n(u),p=i(6),g=i(1),h=i(37),b=i.n(h),f=i(74),v=i(62),m=i(18),_=i.n(m),x=i(83),j=i(58),O=i(73),V={name:"j7nwvt",styles:"position:relative;display:flex;rowdirection:column;flex:1 0 auto;overflow:hidden"};class gauge_vis_GaugeVis extends s.Component{constructor(e){super(e),this.state={scale:1,top:0,left:0,translateX:1,translateY:1,resized:!1},this.handleResize=this.handleResize.bind(this),this.checkResizeThrottled=c.a.throttle((()=>{const e=Object(x.a)(this.inner,this.resize,this.state);e&&this.state&&!c.a.isEqual(e,this.state)&&this.handleResize()}),200)}componentWillUnmount(){clearTimeout(this.timeout)}componentDidMount(){this.handleResize()}handleResize(){this.setState({...Object(x.a)(this.inner,this.resize,this.state),resized:!0})}render(){const{type:e,value:t,max:i,color:s,initialRender:n}=this.props,a=Object(v.c)(t)?1:t,{scale:r,translateX:l,translateY:o,resized:c}=this.state,u=2*Math.PI*50,d="half"===e?.6:1,h=a<i?a/i:1,b=V,f=Object(g.css)("position:absolute;top:",this.state.top||0,"px;left:",this.state.left||0,"px;transform:matrix(",r,", 0, 0, ",r,", ",l,", ",o,");",""),m={circle:{r:50,cx:60,cy:60,fill:"rgba(0,0,0,0)",stroke:s,strokeWidth:this.props.gaugeLine,strokeDasharray:`${h*d*u} ${u}`,transform:"rotate(-90 60 60)"},circleBackground:{r:50,cx:60,cy:60,fill:"rgba(0,0,0,0)",stroke:j.a.LINE_COLOR,strokeDasharray:`${d*u} ${u}`,strokeWidth:this.props.innerLine}};"half"===e&&(m.circle.transform="rotate(-197.8 60 60)",m.circleBackground.transform="rotate(162 60 60)"),this.props.innerColor&&(m.circleBackground.stroke=this.props.innerColor);const x=Object(g.jsx)("svg",{width:120.72,height:"half"===e?78.72:120.72},Object(g.jsx)("circle",_()({},m.circleBackground,{"data-test-subj":"gaugeCircleInner"})),Object(g.jsx)("circle",_()({},m.circle,{"data-test-subj":"gaugeCircle"})));return Object(g.jsx)(p.EuiResizeObserver,{onResize:this.checkResizeThrottled},(e=>Object(g.jsx)(O.a,{initialRender:n,postponeExecution:!c},Object(g.jsx)("div",{ref:t=>{this.resize=t,e(t)},css:b},Object(g.jsx)("div",{css:f,ref:e=>this.inner=e},x)))))}}gauge_vis_GaugeVis.defaultProps={innerLine:2,gaugeLine:10},i(197);class gauge_Gauge extends s.Component{constructor(e){super(e),d()(this,"handledResize",!1),this.state={scale:1,top:0,left:0,translateX:1,translateY:1},this.handleResize=this.handleResize.bind(this),this.checkResizeThrottled=c.a.throttle((()=>{const e=Object(x.a)(this.inner,this.resize,this.state);e&&this.state&&!c.a.isEqual(e,this.state)&&this.handleResize()}),200)}componentWillUnmount(){clearTimeout(this.timeout)}componentDidMount(){this.handleResize(!0)}handleResize(){const e=Object(x.a)(this.inner,this.resize,this.state);this.setState(e),this.handledResize=!0}render(){const{metric:e,type:t,initialRender:i}=this.props,{scale:s,translateX:n,translateY:a}=this.state,r=Object(v.b)(null==e?void 0:e.data),l=e&&((e,t)=>{if(c.a.isNumber(t))return t;if(!Array.isArray(t))return 0;const i=t.map((e=>e[1]));return c.a.max(i)})(0,e.data)||1,o=e&&(e.tickFormatter||e.formatter)||this.props.tickFormatter||(e=>e),u=e&&e.label||"",d=Object(g.css)("top:",this.state.top||0,"px;left:",this.state.left||0,"px;transform:matrix(",s,", 0, 0, ",s,", ",n,", ",a,");z-index:1;",""),h={value:r,reversed:Object(f.a)(this.props.backgroundColor),gaugeLine:this.props.gaugeLine,innerLine:this.props.innerLine,innerColor:this.props.innerColor,max:this.props.max||l,color:e&&e.color||"#8ac336",type:t,initialRender:i};let m,_;this.props.additionalLabel&&(_=Object(g.jsx)("div",{className:"tvbVisGauge__additionalLabel"},this.props.additionalLabel)),m="half"===t?Object(g.jsx)("div",{css:d,className:"tvbVisHalfGauge__metrics",ref:e=>this.inner=e},Object(g.jsx)("div",{className:"tvbVisGauge__label",ref:"title","data-test-subj":"gaugeLabel"},u),Object(g.jsx)("div",{className:"tvbVisGauge__value",style:this.props.valueColor?{color:this.props.valueColor}:{},ref:"label","data-test-subj":"gaugeValue"},Object(g.jsx)("span",{dangerouslySetInnerHTML:{__html:o(r)}})),_):Object(g.jsx)("div",{css:d,className:"tvbVisCircleGauge__metrics",ref:e=>this.inner=e},Object(g.jsx)("div",{className:"tvbVisGauge__value",style:this.props.valueColor?{color:this.props.valueColor}:{},ref:"label","data-test-subj":"gaugeValue"},Object(g.jsx)("span",{dangerouslySetInnerHTML:{__html:o(r)}})),Object(g.jsx)("div",{className:"tvbVisGauge__label",ref:"title","data-test-subj":"gaugeLabel"},u),_);const x=b()({tvbVisHalfGauge:"half"===t,tvbVisCircleGauge:"circle"===t,"tvbVisGauge--reversed":Object(f.b)(this.props.backgroundColor)});return Object(g.jsx)(p.EuiResizeObserver,{onResize:this.checkResizeThrottled},(e=>Object(g.jsx)("div",{className:x,ref:e},Object(g.jsx)("div",{ref:e=>this.resize=e,className:"tvbVisGauge__resize","data-test-subj":"tvbVisGaugeContainer"},m,Object(g.jsx)(gauge_vis_GaugeVis,h)))))}}gauge_Gauge.defaultProps={type:"half",innerLine:2,gaugeLine:10};var y=i(5),G=i(69);const C=Object(n.a)((function(e){const{backgroundColor:t,model:i,visData:s,fieldFormatMap:n,getConfig:c}=e,u=function(e){const{model:t,visData:i}=e,s=Object(o.get)(i,`${t.id}.series`,[]).filter((e=>!Object(o.isUndefined)(e)));let n,a;return t.gauge_color_rules&&t.gauge_color_rules.forEach((e=>{if(e.operator){var t;const i=Object(v.b)(null===(t=s[0])||void 0===t?void 0:t.data);Object(G.c)(e,i)&&Object(G.b)(e.operator)(i,e.value)&&(a=e.gauge,n=e.text)}})),{text:n,gauge:a}}(e),d=Object(o.get)(s,`${i.id}.series`,[]).filter((e=>e)).map(((e,t)=>{const s=i.series.find((t=>Object(o.includes)(e.id,t.id))),d={};if(s){const e=i.gauge_color_rules.some((({text:e})=>e));d.formatter=s.formatter===y.b.DEFAULT?Object(l.a)(Object(a.a)(s.metrics),n,"html",e):Object(r.a)(s.formatter,s.value_template,c)}return 0===t&&u.gauge&&(d.color=u.gauge),Object(o.assign)({},e,d)})),p=i.background_color||t,h={backgroundColor:p},b={metric:d[0],type:i.gauge_style||"half",additionalLabel:e.additionalLabel,backgroundColor:p,initialRender:e.initialRender};return u.text&&(b.valueColor=u.text),i.gauge_width&&(b.gaugeLine=i.gauge_width),i.gauge_inner_color&&(b.innerColor=i.gauge_inner_color),i.gauge_inner_width&&(b.innerLine=i.gauge_inner_width),null!=i.gauge_max&&(b.max=i.gauge_max),Object(g.jsx)("div",{className:"tvbVis",style:h},Object(g.jsx)(gauge_Gauge,b))}))},67:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));const s=["#68BC00","#009CE0","#B0BC00","#16A5A5","#D33115","#E27300","#FCC400","#7B64FF","#FA28FF","#333333","#808080","#194D33","#0062B1","#808900","#0C797D","#9F0500","#C45100","#FB9E00","#653294","#AB149E","#0F1419","#666666"]},68:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var s=i(54),n=i.n(s);const a=e=>{let t=new n.a(e);const i=t.hsl().object();return i.l-=100*t.luminosity(),t=n.a.hsl(i),t.rgb().toString()}},69:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return l})),i.d(t,"c",(function(){return o}));var s=i(10);let n=function(e){return e.Gte="gte",e.Lte="lte",e.Gt="gt",e.Lt="lt",e.Empty="empty",e}({});const a={[n.Gte]:s.gte,[n.Lte]:s.lte,[n.Gt]:s.gt,[n.Lt]:s.lt,[n.Empty]:s.isNull},r={[n.Empty]:!0},l=e=>a[e],o=(e,t)=>Object(s.isNull)(e.value)&&r[e.operator]||!Object(s.isNull)(e.value)&&!Object(s.isNull)(t)},73:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var s=i(3);const n=({initialRender:e,children:t,postponeExecution:i=!1})=>(Object(s.useLayoutEffect)((()=>{i||null==e||e()}),[e,i]),null!=t?t:null)},74:function(e,t,i){"use strict";i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return c}));var s=i(54),n=i.n(s),a=i(0);const r=e=>n()(e).luminosity()<.45,l=e=>{let t=e||Object(a.b)().theme.getTheme().darkMode;return"string"==typeof e&&(t=r(e)),t},o=(e,t)=>{const i=l(t);return e&&"inherit"!==e?r(e):i},c=(e,t)=>o(e,t)!==l(t)},81:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var s=i(5),n=i(68),a=i(67),r=i(59);const l=({seriesById:e,seriesName:t,seriesId:i,baseColor:l,seriesPalette:o,palettesRegistry:c,syncColors:u})=>{if(!o)return null;const d=o.name===s.d.RAINBOW||o.name===s.d.GRADIENT?"custom":o.name,p=o.name===s.d.GRADIENT?{...o.params,colors:[l,Object(n.a)(l)],gradient:!0}:o.name===s.d.RAINBOW?{...o.params,colors:a.a}:o.params;return null==c?void 0:c.get(d||"default").getCategoricalColor([{name:Object(r.b)(t),rankAtDepth:e.findIndex((({id:e})=>e===i)),totalSeriesAtDepth:e.length}],{maxDepth:1,totalSeries:e.length,behindText:!1,syncColors:u},p)}},83:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var s=i(8);function n(e,t){return[Math.floor(e.clientWidth*t),Math.floor(e.clientHeight*t)]}function a(e,t,i){const a=Object(s.findDOMNode)(e),r=Object(s.findDOMNode)(t);let l=i.scale;l=r.clientWidth-r.clientHeight<0?r.clientWidth/a.clientWidth:r.clientHeight/a.clientHeight;let[o,c]=n(a,l);o>r.clientWidth&&(l=r.clientWidth/a.clientWidth),c>r.clientHeight&&(l=r.clientHeight/a.clientHeight),[o,c]=n(a,l);const u=(o-a.clientWidth)/2,d=(c-a.clientHeight)/2;return{scale:l,top:Math.floor((r.clientHeight-c)/2),left:Math.floor((r.clientWidth-o)/2),translateY:d,translateX:u}}},93:function(e,t,i){switch(window.__kbnThemeTag__){case"v8dark":return i(94);case"v8light":return i(96)}},94:function(e,t,i){var s=i(51),n=i(95);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);s(n,{insert:"head",singleton:!1}),e.exports=n.locals||{}},95:function(e,t,i){(t=i(52)(!1)).push([e.i,".tvbSplitVis{align-items:stretch;display:flex;flex-wrap:wrap;justify-content:space-around;width:100%}.tvbSplitVis__split{display:flex;flex:1 0 25%;min-width:192px}.tvbSplitVis__split>.tvbVis{min-height:153.6px}.tvbSplitVis--one{flex:1}.tvbSplitVis--one .tvbSplitVis__split{min-width:0}.tvbSplitVis--one .tvbSplitVis__split>.tvbVis{min-height:0}",""]),e.exports=t},96:function(e,t,i){var s=i(51),n=i(97);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);s(n,{insert:"head",singleton:!1}),e.exports=n.locals||{}},97:function(e,t,i){(t=i(52)(!1)).push([e.i,".tvbSplitVis{align-items:stretch;display:flex;flex-wrap:wrap;justify-content:space-around;width:100%}.tvbSplitVis__split{display:flex;flex:1 0 25%;min-width:192px}.tvbSplitVis__split>.tvbVis{min-height:153.6px}.tvbSplitVis--one{flex:1}.tvbSplitVis--one .tvbSplitVis__split{min-width:0}.tvbSplitVis--one .tvbSplitVis__split>.tvbVis{min-height:0}",""]),e.exports=t}}]);