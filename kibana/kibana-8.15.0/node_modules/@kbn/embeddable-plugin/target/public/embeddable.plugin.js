!function(e){function t(t){for(var n,r,a=t[0],o=t[1],s=0,u=[];s<a.length;s++)r=a[s],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&u.push(i[r][0]),i[r]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);for(d&&d(t);u.length;)u.shift()()}var n={},i={0:0};function r(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.e=function(e){var t=[],n=i[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,r){n=i[e]=[t,r]}));t.push(n[2]=a);var o,s=document.createElement("script");s.charset="utf-8",s.timeout=120,r.nc&&s.setAttribute("nonce",r.nc),s.src=function(e){return r.p+"embeddable.chunk."+e+".js"}(e);var d=new Error;o=function(t){s.onerror=s.onload=null,clearTimeout(u);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",d.name="ChunkLoadError",d.type=r,d.request=a,n[1](d)}i[e]=void 0}};var u=setTimeout((function(){o({type:"timeout",target:s})}),12e4);s.onerror=s.onload=o,document.head.appendChild(s)}return Promise.all(t)},r.m=e,r.c=n,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r.oe=function(e){throw console.error(e),e};var a=window.embeddable_bundle_jsonpfunction=window.embeddable_bundle_jsonpfunction||[],o=a.push.bind(a);a.push=t,a=a.slice();for(var s=0;s<a.length;s++)t(a[s]);var d=o;r(r.s=42)}([function(e,t){e.exports=__kbnSharedDeps__.Rxjs},function(e,t,n){e.exports=n(30)(2)},function(e,t){e.exports=__kbnSharedDeps__.React},function(e,t,n){"use strict";n.d(t,"o",(function(){return errors_PanelNotFoundError})),n.d(t,"n",(function(){return errors_PanelIncompatibleError})),n.d(t,"e",(function(){return errors_EmbeddableFactoryNotFoundError})),n.d(t,"G",(function(){return o.a})),n.d(t,"u",(function(){return p})),n.d(t,"v",(function(){return E})),n.d(t,"J",(function(){return m})),n.d(t,"d",(function(){return embeddable_Embeddable})),n.d(t,"A",(function(){return A})),n.d(t,"f",(function(){return K})),n.d(t,"S",(function(){return W})),n.d(t,"g",(function(){return H})),n.d(t,"i",(function(){return error_embeddable_ErrorEmbeddable})),n.d(t,"z",(function(){return C})),n.d(t,"y",(function(){return Y})),n.d(t,"U",(function(){return ee})),n.d(t,"r",(function(){return x.a})),n.d(t,"b",(function(){return te})),n.d(t,"t",(function(){return ne})),n.d(t,"l",(function(){return ie})),n.d(t,"L",(function(){return re})),n.d(t,"k",(function(){return ae})),n.d(t,"K",(function(){return oe})),n.d(t,"m",(function(){return se})),n.d(t,"M",(function(){return de})),n.d(t,"p",(function(){return ue})),n.d(t,"P",(function(){return ce})),n.d(t,"q",(function(){return le})),n.d(t,"T",(function(){return pe})),n.d(t,"j",(function(){return be})),n.d(t,"I",(function(){return he})),n.d(t,"a",(function(){return fe})),n.d(t,"s",(function(){return ge})),n.d(t,"H",(function(){return me})),n.d(t,"C",(function(){return Ee})),n.d(t,"D",(function(){return ve})),n.d(t,"F",(function(){return ye})),n.d(t,"x",(function(){return Ie})),n.d(t,"c",(function(){return container_Container})),n.d(t,"h",(function(){return Re.a})),n.d(t,"E",(function(){return N})),n.d(t,"B",(function(){return T})),n.d(t,"Q",(function(){return S})),n.d(t,"R",(function(){return R})),n.d(t,"O",(function(){return l})),n.d(t,"w",(function(){return we})),n.d(t,"N",(function(){return Ae}));var i=n(1),r=n.n(i),a=n(5);class errors_PanelNotFoundError extends Error{constructor(){super(a.i18n.translate("embeddableApi.errors.paneldoesNotExist",{defaultMessage:"Panel not found"})),r()(this,"code","PANEL_NOT_FOUND")}}class errors_PanelIncompatibleError extends Error{constructor(){super(a.i18n.translate("embeddableApi.errors.panelIncompatibleError",{defaultMessage:"Panel api is incompatible"})),r()(this,"code","PANEL_INCOMPATIBLE")}}class errors_EmbeddableFactoryNotFoundError extends Error{constructor(e){super(a.i18n.translate("embeddableApi.errors.embeddableFactoryNotFound",{defaultMessage:"{type} can't be loaded. Please upgrade to the default distribution of Elasticsearch and Kibana with the appropriate license.",values:{type:e}})),r()(this,"code","EMBEDDABLE_FACTORY_NOT_FOUND")}}var o=n(18),s=n(6),d=n(38),u=n.n(d),c=n(26);const l=(e,t)=>{var n;if(!t.latestVersion)return{input:e,migrationRun:!1};const i=null!==(n=e.version)&&void 0!==n?n:"0.0.0",r=0!==u()(i,t.latestVersion,!0);if(!r)return{input:e,migrationRun:r};const a="function"==typeof(null==t?void 0:t.migrations)?null==t?void 0:t.migrations():(null==t?void 0:t.migrations)||{},o=Object(c.migrateToLatest)(null!=a?a:{},{state:Object(s.cloneDeep)(e),version:i},!0);return o.version=t.latestVersion,{input:o,migrationRun:r}},p=e=>{var t;if(e.migrations&&!e.latestVersion)throw new Error("To run clientside Embeddable migrations a latest version key is required on the factory");return{...e,latestVersion:e.latestVersion,isContainerType:null!==(t=e.isContainerType)&&void 0!==t&&t,canCreateNew:e.canCreateNew?e.canCreateNew.bind(e):()=>!0,getDefaultInput:e.getDefaultInput?e.getDefaultInput.bind(e):()=>({}),getExplicitInput:e.getExplicitInput?e.getExplicitInput.bind(e):()=>Promise.resolve({}),createFromSavedObject:e.createFromSavedObject?e.createFromSavedObject.bind(e):(t,n,i)=>{throw new Error(`Creation from saved object not supported by type ${e.type}`)},create:(...t)=>{const[n,...i]=t,{input:r}=l(n,e);return e.create.bind(e)(r,...i)},type:e.type,isEditable:e.isEditable.bind(e),getDisplayName:e.getDisplayName.bind(e),getDescription:e.getDescription?e.getDescription.bind(e):()=>"",getIconType:e.getIconType?e.getIconType.bind(e):()=>"empty",savedObjectMetaData:e.savedObjectMetaData,telemetry:e.telemetry||((e,t)=>t),inject:e.inject||(e=>e),extract:e.extract||(e=>({state:e,references:[]})),migrations:e.migrations||{},grouping:e.grouping}};var b=n(7),h=n.n(b);const f=["lastReloadRequestTime","executionContext","searchSessionId","hidePanelTitles","disabledActions","disableTriggers","enhancements","syncColors","syncCursor","syncTooltips","viewMode","title","id"],g=["hidePanelTitles","disabledActions","disableTriggers","enhancements","syncColors","syncCursor","syncTooltips","title","id"],m=e=>Object(s.omit)(e,f),E=(e,t)=>{const{title:n,hidePanelTitles:i,...r}=Object(s.pick)(e,g),{title:a,hidePanelTitles:o,...d}=Object(s.pick)(t,g);return n===a&&Boolean(i)===Boolean(o)&&!!h()(r,d)};var v=n(0),y=n(27),I=n(19),O=n(22),j=n(8);function T(e){return!!e.getFilters&&!!e.getQuery}const R={...O.COMPARE_ALL_OPTIONS,state:!1};function S(e,t){return e.pipe(Object(v.map)((()=>t()))).pipe(Object(v.startWith)(t()),Object(v.distinctUntilChanged)(((e,t)=>!!h()([e.searchSessionId,e.query,e.timeRange,e.timeslice],[t.searchSessionId,t.query,t.timeRange,t.timeslice])&&Object(O.onlyDisabledFiltersChanged)(e.filters,t.filters,R))),Object(v.skip)(1))}const A=e=>Boolean(e.newInput),w=e=>{var t,n,i,r,a;return null!==(t=null===(n=e.getRoot())||void 0===n||null===(i=n.getInput())||void 0===i||null===(r=i.panels)||void 0===r||null===(a=r[e.id])||void 0===a?void 0:a.explicitInput)&&void 0!==t?t:e.getInput()};var _=n(15),L=n(28),P=n(13);function N(e){return!!e.inputIsRefType&&!!e.getInputAsValueType&&!!e.getInputAsRefType}function C(e){return Boolean(e.fatalError||void 0!==e.error)}var x=n(11);function F(e){return"visualization"===e.type}const $=e=>Object(s.isNil)(e.error)?!0===e.rendered?"rendered":!1===e.loading?"loaded":"loading":"error",D=e=>{const t=new v.Subscription,i=(n,i)=>Object(_.a)(t,e,n,i),r=n=>Object(_.b)(t,e,n),o=new v.BehaviorSubject(void 0);let s=0;t.add(e.getOutput$().pipe(Object(v.map)((t=>(!0===t.loading&&(s=performance.now()),{id:e.id,status:$(t),error:t.error}))),Object(v.distinct)((e=>s+e.id+e.status+!!e.error)),Object(v.map)((e=>({...e,timeToEvent:performance.now()-s})))).subscribe((e=>{o.next(e)})));const d=Object(_.c)(t,e),u=r("loading"),c=i("hidePanelTitles"),l=i("title"),p=i("description"),b=r("defaultTitle"),f=r("defaultDescription"),g=i("disabledActions");function m(e,t){var n;return null!==(n=t.savedObjectId)&&void 0!==n?n:e.savedObjectId}const E=new v.BehaviorSubject(m(e.getInput(),e.getOutput()));t.add(Object(v.combineLatest)([e.getInput$(),e.getOutput$()]).pipe(Object(v.map)((([e,t])=>m(e,t))),Object(v.distinctUntilChanged)()).subscribe((e=>{E.next(e)})));const y=new v.BehaviorSubject(void 0);t.add(e.getOutput$().subscribe({next:e=>y.next(e.error),error:e=>y.next(e)}));const I=e.id,R=e.parent,S=e.getInput().disableTriggers,D=i("timeRange",!0),M=new v.BehaviorSubject(void 0),k=new v.BehaviorSubject(void 0);T(e)&&e.untilInitializationFinished().then((()=>{M.next(e.getFilters()),k.next(e.getQuery()),t.add(e.getInput$().subscribe((()=>{var t,n;Object(O.compareFilters)(null!==(t=e.filters$.getValue())&&void 0!==t?t:[],e.getFilters(),O.COMPARE_ALL_OPTIONS)||M.next(e.getFilters()),h()(null!==(n=e.query$.getValue())&&void 0!==n?n:[],e.getQuery())||k.next(e.getQuery())})))}));const U=r("indexPatterns");return{api:{parentApi:R,uuid:I,disableTriggers:null!=S&&S,viewMode:d,dataLoading:u,blockingError:y,phase$:o,onEdit:()=>(async e=>{const{editableWithExplicitInput:t}=e.getOutput();if(t){var n;const t=j.c.getEmbeddableFactory(e.type);if(!t)throw new errors_EmbeddableFactoryNotFoundError(e.type);const i=e.getExplicitInput();let r;try{const n=await t.getExplicitInput(i,e.parent);r=A(n)?n.newInput:n}catch(e){return}return void(null===(n=e.parent)||void 0===n||n.replaceEmbeddable(e.id,r))}const i=await(async e=>{var t,n;const i=e?e.getOutput().editApp:void 0,r=e?e.getOutput().editPath:void 0;if(!i||!r)return;const a=await Object(v.firstValueFrom)(j.b.application.currentAppId$);return a?{app:i,path:r,state:{originatingApp:a,valueInput:w(e),embeddableId:e.id,searchSessionId:e.getInput().searchSessionId,originatingPath:null===(t=e.getAppContext())||void 0===t||null===(n=t.getCurrentPath)||void 0===n?void 0:n.call(t)}}:{app:i,path:r}})(e),r=j.c.getStateTransfer();if(i)return void(r&&i.state?await r.navigateToEditor(i.app,{path:i.path,state:i.state}):await j.b.application.navigateToApp(i.app,{path:i.path}));const a=e.getOutput().editUrl;a&&(window.location.href=a)})(e),isEditingEnabled:()=>(e=>Boolean(e&&"edit"===e.getInput().viewMode&&e.getOutput().editable&&!e.getOutput().inlineEditable&&(e.getOutput().editUrl||e.getOutput().editApp&&e.getOutput().editPath||e.getOutput().editableWithExplicitInput)))(e),getTypeDisplayName:()=>{var t,n;return null!==(t=null===(n=j.c.getEmbeddableFactory(e.type))||void 0===n?void 0:n.getDisplayName())&&void 0!==t?t:a.i18n.translate("embeddableApi.compatibility.defaultTypeDisplayName",{defaultMessage:"chart"})},timeRange$:D,setTimeRange:t=>e.updateInput({timeRange:t}),filters$:M,query$:k,isCompatibleWithUnifiedSearch:()=>{const t=F(e)&&"input_control_vis"===e.getOutput().visTypeName,n=F(e)&&"markdown"===e.getOutput().visTypeName,i="image"===e.type,r="links"===e.type;return!(t||n||i||r)},dataViews:U,disabledActionIds:g,panelTitle:l,setPanelTitle:t=>e.updateInput({title:t}),defaultPanelTitle:b,hidePanelTitle:c,setHidePanelTitle:t=>e.updateInput({hidePanelTitles:t}),setPanelDescription:t=>e.updateInput({description:t}),panelDescription:p,defaultPanelDescription:f,canLinkToLibrary:()=>(async e=>{if(C(e)||!e.getRoot()||!e.getRoot().isContainer||!N(e))return!1;const{visualize:t}=j.b.application.capabilities,i=t.save,{isOfAggregateQueryType:r}=await Promise.resolve().then(n.t.bind(null,22,7)),a=r(T(e)&&e.getQuery());return Boolean(i&&N(e)&&!e.inputIsRefType(e.getInput())&&!a)})(e),linkToLibrary:()=>(async e=>{const t=e.getRoot();if(!N(e)||!Object(P.c)(t))throw new L.IncompatibleActionError;const n=await e.getInputAsRefType();e.updateInput(n);const i=t.getInput().panels[e.id];if(!i)throw new errors_PanelNotFoundError;await t.replacePanel(i.explicitInput.id,{panelType:e.type,initialState:{...n}})})(e),canUnlinkFromLibrary:()=>(async e=>{var t;return Boolean(N(e)&&!C(e)&&(null===(t=e.getInput())||void 0===t?void 0:t.viewMode)!==x.a.VIEW&&e.getRoot()&&e.getRoot().isContainer&&N(e)&&e.inputIsRefType(e.getInput()))})(e),unlinkFromLibrary:()=>(async e=>{const t=e.getRoot();if(!N(e)||!Object(P.c)(t))throw new L.IncompatibleActionError;const n=await e.getInputAsValueType();e.updateInput(n);const i=t.getInput().panels[e.id];if(!i)throw new errors_PanelNotFoundError;await t.replacePanel(i.explicitInput.id,{panelType:e.type,initialState:{...n,title:e.getTitle()}})})(e),savedObjectId:E},destroyAPI:()=>{t.unsubscribe()}}};function M(e,t){var n;return e.hidePanelTitles?"":null!==(n=e.title)&&void 0!==n?n:t.defaultTitle}function k(e,t){var n;return e.hidePanelTitles?"":null!==(n=e.description)&&void 0!==n?n:t.defaultDescription}class embeddable_Embeddable{constructor(e,t,n){r()(this,"runtimeId",embeddable_Embeddable.runtimeId++),r()(this,"parent",void 0),r()(this,"isContainer",!1),r()(this,"deferEmbeddableLoad",!1),r()(this,"id",void 0),r()(this,"fatalError",void 0),r()(this,"output",void 0),r()(this,"input",void 0),r()(this,"inputSubject",new v.ReplaySubject(1)),r()(this,"outputSubject",new v.ReplaySubject(1)),r()(this,"input$",this.inputSubject.asObservable()),r()(this,"output$",this.outputSubject.asObservable()),r()(this,"initializationFinished",new v.Subject),r()(this,"renderComplete",new y.RenderCompleteDispatcher),r()(this,"parentSubscription",void 0),r()(this,"destroyed",!1),r()(this,"destroyAPI",void 0),r()(this,"uuid",void 0),r()(this,"disableTriggers",void 0),r()(this,"onEdit",void 0),r()(this,"viewMode",void 0),r()(this,"parentApi",void 0),r()(this,"dataViews",void 0),r()(this,"query$",void 0),r()(this,"panelTitle",void 0),r()(this,"dataLoading",void 0),r()(this,"filters$",void 0),r()(this,"phase$",void 0),r()(this,"linkToLibrary",void 0),r()(this,"blockingError",void 0),r()(this,"setPanelTitle",void 0),r()(this,"timeRange$",void 0),r()(this,"hidePanelTitle",void 0),r()(this,"isEditingEnabled",void 0),r()(this,"canLinkToLibrary",void 0),r()(this,"panelDescription",void 0),r()(this,"defaultPanelDescription",void 0),r()(this,"disabledActionIds",void 0),r()(this,"unlinkFromLibrary",void 0),r()(this,"setTimeRange",void 0),r()(this,"defaultPanelTitle",void 0),r()(this,"setHidePanelTitle",void 0),r()(this,"getTypeDisplayName",void 0),r()(this,"setPanelDescription",void 0),r()(this,"canUnlinkFromLibrary",void 0),r()(this,"isCompatibleWithUnifiedSearch",void 0),r()(this,"savedObjectId",void 0),this.id=e.id,this.output={title:M(e,t),description:k(e,t),...this.reportsEmbeddableLoad()?{}:{loading:!1,rendered:!0},...t},this.input={viewMode:I.a.EDIT,...e},this.parent=n,this.inputSubject.next(this.input),this.outputSubject.next(this.output),n&&(this.parentSubscription=v.merge(n.getInput$(),n.getOutput$()).subscribe((()=>{if(!n.getInput().panels[this.id])return;const e=n.getInputForChild(this.id);this.onResetInput(e)}))),this.getOutput$().pipe(Object(v.map)((({title:e})=>e||"")),Object(v.distinctUntilChanged)()).subscribe((e=>this.renderComplete.setTitle(e)));const{api:i,destroyAPI:a}=D(this);this.destroyAPI=a,({uuid:this.uuid,disableTriggers:this.disableTriggers,onEdit:this.onEdit,viewMode:this.viewMode,dataViews:this.dataViews,parentApi:this.parentApi,panelTitle:this.panelTitle,query$:this.query$,dataLoading:this.dataLoading,filters$:this.filters$,blockingError:this.blockingError,phase$:this.phase$,setPanelTitle:this.setPanelTitle,linkToLibrary:this.linkToLibrary,hidePanelTitle:this.hidePanelTitle,timeRange$:this.timeRange$,isEditingEnabled:this.isEditingEnabled,panelDescription:this.panelDescription,defaultPanelDescription:this.defaultPanelDescription,canLinkToLibrary:this.canLinkToLibrary,disabledActionIds:this.disabledActionIds,unlinkFromLibrary:this.unlinkFromLibrary,setHidePanelTitle:this.setHidePanelTitle,defaultPanelTitle:this.defaultPanelTitle,setTimeRange:this.setTimeRange,getTypeDisplayName:this.getTypeDisplayName,setPanelDescription:this.setPanelDescription,canUnlinkFromLibrary:this.canUnlinkFromLibrary,isCompatibleWithUnifiedSearch:this.isCompatibleWithUnifiedSearch,savedObjectId:this.savedObjectId}=i),setTimeout((()=>{this.deferEmbeddableLoad||this.initializationFinished.complete()}),0)}async getEditHref(){var e;return null!==(e=this.getOutput().editUrl)&&void 0!==e?e:void 0}getAppContext(){var e;return null===(e=this.parent)||void 0===e?void 0:e.getAppContext()}reportsEmbeddableLoad(){return!1}refreshInputFromParent(){if(!this.parent)return;if(!this.parent.getInput().panels[this.id])return;const e=this.parent.getInputForChild(this.id);this.onResetInput(e)}getIsContainer(){return!0===this.isContainer}getUpdated$(){return Object(v.merge)(this.getInput$().pipe(Object(v.skip)(1)),this.getOutput$().pipe(Object(v.skip)(1))).pipe(Object(v.debounceTime)(0))}getInput$(){return this.input$}getOutput$(){return this.output$}getOutput(){return this.output}async getExplicitInputIsEqual(e){const t=this.getExplicitInput();return E(e,t)&&h()(m(e),m(t))}getExplicitInput(){var e;const t=this.getRoot();var n,i,r;return null!=t&&null!==(e=t.getIsContainer)&&void 0!==e&&e.call(t)&&null!==(n=null===(i=t.getInput().panels)||void 0===i||null===(r=i[this.id])||void 0===r?void 0:r.explicitInput)&&void 0!==n?n:this.getInput()}getPersistableInput(){return this.getExplicitInput()}getInput(){return this.input}getTitle(){var e;return null!==(e=this.output.title)&&void 0!==e?e:""}getDescription(){var e;return null!==(e=this.output.description)&&void 0!==e?e:""}getRoot(){let e=this;for(;e.parent;)e=e.parent;return e}updateInput(e){if(this.destroyed)throw new Error("Embeddable has been destroyed");this.parent?this.parent.updateInputForChild(this.id,e):this.onInputChanged(e)}render(e){if(this.renderComplete.setEl(e),this.renderComplete.setTitle(this.output.title||""),this.destroyed)throw new Error("Embeddable has been destroyed")}getInspectorAdapters(){}destroy(){this.destroyed=!0,this.inputSubject.complete(),this.outputSubject.complete(),this.destroyAPI(),this.parentSubscription&&this.parentSubscription.unsubscribe()}async untilInitializationFinished(){return new Promise((e=>{this.initializationFinished.subscribe({complete:()=>{e()}})}))}setInitializationFinished(){var e;this.deferEmbeddableLoad&&(this.deferEmbeddableLoad&&null!==(e=this.parent)&&void 0!==e&&e.isContainer&&this.parent.setChildLoaded(this),this.initializationFinished.complete())}updateOutput(e){const t={...this.output,...e};h()(this.output,t)||(this.output=t,this.outputSubject.next(this.output))}onFatalError(e){var t;this.fatalError=e,this.outputSubject.error(e),this.deferEmbeddableLoad&&null!==(t=this.parent)&&void 0!==t&&t.isContainer&&this.parent.setChildLoaded(this)}onResetInput(e){if(!h()(this.input,e)){const t=this.input.lastReloadRequestTime;this.input=e,this.inputSubject.next(e),this.updateOutput({title:M(this.input,this.output),description:k(this.input,this.output)}),t!==e.lastReloadRequestTime&&this.reload()}}onInputChanged(e){const t=Object(s.cloneDeep)({...this.input,...e});this.onResetInput(t)}supportedTriggers(){return[]}}r()(embeddable_Embeddable,"runtimeId",0);var U=n(2),G=n.n(U),B=n(20),V=n(4);function X({children:e,embeddable:t,error:n}){const[i,r]=Object(U.useState)(),a=Object(U.useRef)(null);return Object(U.useEffect)((()=>{var i,o;if(!a.current)return;const d=null!==(i=null==t||null===(o=t.catchError)||void 0===o?void 0:o.bind(t))&&void 0!==i?i:e;if(!d)return;const u=d("string"==typeof n?{message:n,name:""}:n,a.current);if(Object(s.isFunction)(u))return u;Object(B.isPromise)(u)?u.then(r):r(u)}),[e,t,n]),Object(V.jsx)("div",{ref:a},i)}var z=n(9);const H=({embeddable:e,loading:t,error:n,input:i})=>{const[r,a]=Object(U.useState)(),[o,s]=Object(U.useState)(!1),d=Object(U.useRef)(null),u=Object(U.useCallback)((e=>{Object(B.isPromise)(e)?e.then(u):a(e)}),[]);return Object(U.useEffect)((()=>{var t;d.current&&e&&(s(!0),u(null!==(t=e.render(d.current))&&void 0!==t?t:void 0),e.render(d.current))}),[u,e]),Object(U.useEffect)((()=>{i&&e&&o&&e.updateInput(i)}),[i,e,o]),Object(V.jsx)(G.a.Fragment,null,Object(V.jsx)("div",{ref:d},r),t&&Object(V.jsx)(z.EuiLoadingSpinner,{"data-test-subj":"embedSpinner"}),n&&Object(V.jsx)(X,{embeddable:e,error:n},(({message:e})=>Object(V.jsx)(z.EuiText,{"data-test-subj":"embedError"},e))))};function W({input:e,factory:t,onInputUpdated:n}){const[i,r]=Object(U.useState)(void 0),[a,o]=Object(U.useState)(!1),[s,d]=Object(U.useState)(),u=G.a.useRef(e);return Object(U.useEffect)((()=>{u.current=e}),[e]),Object(U.useEffect)((()=>{let e,n=!1;return r(void 0),o(!0),t.create(u.current).then((t=>{n?t&&t.destroy():(e=t,r(t))})).catch((e=>{n||d(null==e?void 0:e.message)})).finally((()=>{n||o(!1)})),()=>{n=!0,e&&e.destroy()}}),[t]),Object(U.useEffect)((()=>{if(!i)return;if(C(i))return;if(!n)return;const e=i.getInput$().subscribe((e=>{n(e)}));return()=>{e.unsubscribe()}}),[i,n]),[i,a,s]}const K=e=>function(e){return"factory"in e}(e)?Object(V.jsx)(q,e):Object(V.jsx)(H,{embeddable:e.embeddable,input:e.input}),q=({factory:e,input:t,onInputUpdated:n})=>{const[i,r,a]=W({factory:e,input:t,onInputUpdated:n});return Object(V.jsx)(H,{embeddable:i,loading:r,error:a,input:t})};var Q=n(21);n(49);class error_embeddable_ErrorEmbeddable extends embeddable_Embeddable{constructor(e,t,n){super(t,{},n),r()(this,"type","error"),r()(this,"error",void 0),this.error=e}reload(){}render(){const e="string"==typeof this.error?{message:this.error,name:""}:this.error;return Object(V.jsx)(Q.PresentationPanelError,{api:this,error:e})}}const Y=e=>!!e&&"object"==typeof e&&"string"==typeof e.id&&"function"==typeof e.getInput&&"function"==typeof e.supportedTriggers;var J=n(14),Z=n.n(J);const ee=e=>class WithEmbeddableSubscription extends G.a.Component{constructor(e){super(e),r()(this,"subscription",void 0),r()(this,"mounted",!1),this.state={input:this.props.embeddable.getInput(),output:this.props.embeddable.getOutput()}}componentDidMount(){this.mounted=!0,this.subscription=v.merge(this.props.embeddable.getOutput$(),this.props.embeddable.getInput$()).subscribe((()=>{this.mounted&&this.setState({input:this.props.embeddable.getInput(),output:this.props.embeddable.getOutput()})}))}componentWillUnmount(){this.mounted=!1,this.subscription&&this.subscription.unsubscribe()}render(){return Object(V.jsx)(e,Z()({input:this.state.input,output:this.state.output},this.props))}},te="CONTEXT_MENU_TRIGGER",ne={id:te,title:a.i18n.translate("embeddableApi.contextMenuTrigger.title",{defaultMessage:"Context menu"}),description:a.i18n.translate("embeddableApi.contextMenuTrigger.description",{defaultMessage:"A new action will be added to the panel's context menu"})},ie="PANEL_HOVER_TRIGGER",re={id:ie,title:a.i18n.translate("embeddableApi.panelHoverTrigger.title",{defaultMessage:"Panel hover"}),description:a.i18n.translate("embeddableApi.panelHoverTrigger.description",{defaultMessage:"A new action will be added to the panel's hover menu"})},ae="PANEL_BADGE_TRIGGER",oe={id:ae,title:a.i18n.translate("embeddableApi.panelBadgeTrigger.title",{defaultMessage:"Panel badges"}),description:a.i18n.translate("embeddableApi.panelBadgeTrigger.description",{defaultMessage:"Actions appear in title bar when an embeddable loads in a panel."})},se="PANEL_NOTIFICATION_TRIGGER",de={id:se,title:a.i18n.translate("embeddableApi.panelNotificationTrigger.title",{defaultMessage:"Panel notifications"}),description:a.i18n.translate("embeddableApi.panelNotificationTrigger.description",{defaultMessage:"Actions appear in top-right corner of a panel."})},ue="SELECT_RANGE_TRIGGER",ce={id:ue,title:a.i18n.translate("embeddableApi.selectRangeTrigger.title",{defaultMessage:"Range selection"}),description:a.i18n.translate("embeddableApi.selectRangeTrigger.description",{defaultMessage:"A range of values on the visualization"})},le="VALUE_CLICK_TRIGGER",pe={id:le,title:a.i18n.translate("embeddableApi.valueClickTrigger.title",{defaultMessage:"Single click"}),description:a.i18n.translate("embeddableApi.valueClickTrigger.description",{defaultMessage:"A data point click on the visualization"})},be="MULTI_VALUE_CLICK_TRIGGER",he={id:be,title:a.i18n.translate("embeddableApi.multiValueClickTrigger.title",{defaultMessage:"Multi click"}),description:a.i18n.translate("embeddableApi.multiValueClickTrigger.description",{defaultMessage:"Selecting multiple values of a single dimension on the visualization"})},fe="CELL_VALUE_TRIGGER",ge={id:fe,title:a.i18n.translate("embeddableApi.cellValueTrigger.title",{defaultMessage:"Cell value"}),description:a.i18n.translate("embeddableApi.cellValueTrigger.description",{defaultMessage:"Actions appear in the cell value options on the visualization"})},me=e=>e.data&&"data"in e.data&&Array.isArray(e.data.data)&&e.data.data.length>0&&"column"in e.data.data[0],Ee=e=>e.data&&"data"in e.data&&Array.isArray(e.data.data)&&e.data.data.length>0&&"cells"in e.data.data[0],ve=e=>e.data&&"range"in e.data,ye=e=>!!e.data&&"object"==typeof e.data&&"number"==typeof e.data.rowIndex,Ie=e=>!!e&&"object"==typeof e&&!!e.embeddable&&"object"==typeof e.embeddable;var Oe=n(24),je=n(16);const Te=e=>Object.keys(e);class container_Container extends embeddable_Embeddable{constructor(e,t,n,i,a){super(e,t,i),r()(this,"isContainer",!0),r()(this,"children$",new v.BehaviorSubject({})),r()(this,"subscription",void 0),r()(this,"anyChildOutputChange$",void 0),this.getFactory=n,this.getFactory=n;const o=Boolean((null==a?void 0:a.initializeSequentially)||(null==a?void 0:a.childIdInitializeOrder)),s=this.getInput$().pipe(Object(v.take)(1),Object(v.mergeMap)((async e=>{const t=this.initializeChildEmbeddables(e,a);o&&await t}))),d=this.getInput$().pipe(Object(v.pairwise)());this.subscription=s.pipe(Object(v.combineLatestWith)(d)).subscribe((([e,[{panels:t},{panels:n}]])=>{this.maybeUpdateChildren(n,t)})),this.anyChildOutputChange$=this.getOutput$().pipe(Object(v.map)((()=>this.getChildIds())),Object(v.distinctUntilChanged)(h.a),Object(v.switchMap)((e=>Object(v.merge)(...e.map((e=>this.getChild(e).getOutput$().pipe(Object(v.catchError)((()=>v.EMPTY)),Object(v.map)((()=>e)))))))))}getPanelCount(){return Object.keys(this.getInput().panels).length}removePanel(e){this.removeEmbeddable(e)}async addNewPanel(e){return await this.addNewEmbeddable(e.panelType,e.initialState)}async replacePanel(e,{panelType:t,initialState:n}){return await this.replaceEmbeddable(e,n,t,!0)}setChildLoaded(e){if(!this.input.panels[e.id])return void e.destroy();const t=this.children$.value;this.children$.next({...t,[e.id]:e}),this.updateOutput({embeddableLoaded:{...this.output.embeddableLoaded,[e.id]:!0}})}updateInputForChild(e,t){if(!this.input.panels[e])throw new errors_PanelNotFoundError;const n={panels:{...this.input.panels,[e]:{...this.input.panels[e],explicitInput:{...this.input.panels[e].explicitInput,...t}}}};this.updateInput(n)}reload(){for(const n of Object.values(this.children$.value)){var e,t;null==n||null===(e=(t=n).reload)||void 0===e||e.call(t)}}async addNewEmbeddable(e,t,n){const i=this.getFactory(e);if(!i)throw new errors_EmbeddableFactoryNotFoundError(e);const{newPanel:r,otherPanels:a}=this.createNewPanelState(i,t,n);return this.createAndSaveEmbeddable(e,r,a)}async replaceEmbeddable(e,t,n,i){if(!this.input.panels[e])throw new errors_PanelNotFoundError;if(n&&n!==this.input.panels[e].type&&!this.getFactory(n))throw new errors_EmbeddableFactoryNotFoundError(n);const r={...this.input.panels},a=r[e];return i&&(delete r[e],e=Object(Oe.v4)()),this.updateInput({panels:{...r,[e]:{...a,explicitInput:{...t,id:e},type:null!=n?n:a.type}}}),await this.untilEmbeddableLoaded(e),e}removeEmbeddable(e){const t=this.onRemoveEmbeddable(e);this.updateInput({panels:t})}onRemoveEmbeddable(e){const t={...this.input.panels};return delete t[e],t}getChildIds(){return Object.keys(this.children$.value)}getChild(e){return this.children$.value[e]}getInputForChild(e){const t=this.getInheritedInput(e),n=this.getPanelState(e),i=n.explicitInput,r={};return Te(n.explicitInput).forEach((e=>{void 0===i[e]&&void 0!==t[e]||(r[e]=i[e])})),{...t,...r}}getAnyChildOutputChange$(){return this.anyChildOutputChange$}destroy(){var e;super.destroy();for(const e of Object.values(this.children$.value)){var t,n;null==e||null===(t=(n=e).destroy)||void 0===t||t.call(n)}null===(e=this.subscription)||void 0===e||e.unsubscribe()}async untilEmbeddableLoaded(e){if(!this.input.panels[e])throw new errors_PanelNotFoundError;return this.output.embeddableLoaded[e]?this.children$.value[e]:new Promise(((t,n)=>{const i=Object(v.merge)(this.getOutput$(),this.getInput$()).subscribe((()=>{this.output.embeddableLoaded[e]&&(i.unsubscribe(),t(this.children$.value[e])),void 0===this.input.panels[e]&&(i.unsubscribe(),t(void 0))}))}))}async untilReactEmbeddableLoaded(e){if(!this.input.panels[e])throw new errors_PanelNotFoundError;return this.children$.value[e]?this.children$.value[e]:new Promise(((t,n)=>{const i=Object(v.merge)(this.children$,this.getInput$()).subscribe((()=>{this.children$.value[e]&&(i.unsubscribe(),t(this.children$.value[e])),void 0===this.input.panels[e]&&(i.unsubscribe(),t(void 0))}))}))}async getExplicitInputIsEqual(e){const{panels:t,...n}=e,{panels:i,...r}=this.getExplicitInput();if(!Object(s.isEqual)(n,r))return!1;const a=Object.keys(t),o=Object.keys(i);if(a.length!==o.length||Object(s.xor)(a,o).length>0)return!1;for(const e of a){const n=await this.untilEmbeddableLoaded(e),i=t[e].explicitInput;if(!C(n)&&!await n.getExplicitInputIsEqual(i))return!1}return!0}createNewPanelState(e,t={},n){const i=t.id||Object(Oe.v4)(),r=this.createNewExplicitEmbeddableInput(i,e,t);return{newPanel:{type:e.type,explicitInput:{...r,id:i,version:e.latestVersion}},otherPanels:this.getInput().panels}}getPanelState(e){if(void 0===this.input.panels[e])throw new errors_PanelNotFoundError;return this.input.panels[e]}async initializeChildEmbeddables(e,t){let n=Object.keys(e.panels);if(null!=t&&t.childIdInitializeOrder){const e=new Set;for(const i of[...t.childIdInitializeOrder,...n])!e.has(i)&&Boolean(this.getInput().panels[i])&&e.add(i);n=Array.from(e)}for(const i of n)if(null!=t&&t.initializeSequentially){const t=await this.onPanelAdded(e.panels[i]);t&&!C(t)&&await this.untilEmbeddableLoaded(i)}else this.onPanelAdded(e.panels[i])}async createAndSaveEmbeddable(e,t,n){return this.updateInput({panels:{...n,[t.explicitInput.id]:t}}),await this.untilEmbeddableLoaded(t.explicitInput.id)}createNewExplicitEmbeddableInput(e,t,n={}){const i=this.getInheritedInput(e),r=t.getDefaultInput(n),a=n;return Te(r).forEach((e=>{void 0===i[e]&&void 0===a[e]&&(a[e]=r[e])})),a}onPanelRemoved(e){const t=this.getChild(e);if(t&&t.destroy){t.destroy();const n=this.children$.value;delete n[e],this.children$.next(n)}this.updateOutput({embeddableLoaded:{...this.output.embeddableLoaded,[e]:void 0}})}async onPanelAdded(e){if(Object(je.b)(e.type))return void this.updateOutput({embeddableLoaded:{...this.output.embeddableLoaded,[e.explicitInput.id]:!0}});let t;this.updateOutput({embeddableLoaded:{...this.output.embeddableLoaded,[e.explicitInput.id]:!1}});const n=this.getInputForChild(e.explicitInput.id);try{const i=this.getFactory(e.type);if(!i)throw new errors_EmbeddableFactoryNotFoundError(e.type);t=Object(o.a)(n)?await i.createFromSavedObject(n.savedObjectId,n,this):await i.create(n,this)}catch(n){t=new error_embeddable_ErrorEmbeddable(n,{id:e.explicitInput.id},this)}return t?t.deferEmbeddableLoad||this.setChildLoaded(t):void 0===t&&this.removeEmbeddable(e.explicitInput.id),t}panelHasChanged(e,t){if(e.type!==t.type)return!0}maybeUpdateChildren(e,t){Object.keys({...e,...this.output.embeddableLoaded}).forEach((n=>void 0!==e[n]&&void 0===this.output.embeddableLoaded[n]?this.onPanelAdded(e[n]):void 0===e[n]&&void 0!==this.output.embeddableLoaded[n]?this.onPanelRemoved(n):void(e[n]&&t[n]&&this.panelHasChanged(e[n],t[n])&&(this.onPanelRemoved(n),this.onPanelAdded(e[n])))))}}var Re=n(23);const Se=new Map,Ae=({onAdd:e,embeddableType:t,savedObjectType:n,savedObjectName:i,getIconForSavedObject:r,getSavedObjectSubType:o,getTooltipForSavedObject:s})=>{if(Se.has(t))throw new Error(a.i18n.translate("embeddableApi.embeddableSavedObjectRegistry.keyAlreadyExistsError",{defaultMessage:"Embeddable type {embeddableType} already exists in the registry.",values:{embeddableType:t}}));Se.set(t,{onAdd:e,savedObjectMetaData:{name:i,type:n,getIconForSavedObject:r,getTooltipForSavedObject:s,getSavedObjectSubType:o}})},we=()=>Se.entries()},function(e,t){e.exports=__kbnSharedDeps__.EmotionReact},function(e,t){e.exports=__kbnSharedDeps__.KbnI18n},function(e,t){e.exports=__kbnSharedDeps__.Lodash},function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var i,r,a;if(Array.isArray(t)){if((i=t.length)!=n.length)return!1;for(r=i;0!=r--;)if(!e(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((i=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(r=i;0!=r--;)if(!Object.prototype.hasOwnProperty.call(n,a[r]))return!1;for(r=i;0!=r--;){var o=a[r];if(!e(t[o],n[o]))return!1}return!0}return t!=t&&n!=n}},function(e,t,n){"use strict";let i,r,a,o,s,d,u,c;n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"g",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return p})),n.d(t,"e",(function(){return b}));const l=new(n(0).BehaviorSubject)(!1),p=()=>l.value?Promise.resolve():new Promise((e=>{const t=l.subscribe((n=>{n&&(t.unsubscribe(),e())}))})),b=(e,t,n)=>{i=e,a=n.uiActions,o=n.inspector,r=t,s=n.usageCollection,d=n.savedObjectsManagement,u=n.savedObjectsTaggingOss,c=n.contentManagement,l.next(!0)}},function(e,t){e.exports=__kbnSharedDeps__.ElasticEui},function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o}));const i=(e,t)=>t,r=e=>({state:e,references:[]}),a=(e,t)=>e,o={}},function(e,t,n){"use strict";var i=n(19);n.d(t,"a",(function(){return i.a}))},function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return u}));const i=(e,t)=>e===t,r=(e,t)=>{const n={};for(const i of t){const t=e[i][0];n[i]=null==t?void 0:t.value}return n},a=(e,t,n,r)=>{if(!n)return r;const a={};for(const s of t){var o;const t=null===(o=e[s])||void 0===o?void 0:o[2];(null!=t?t:i)(null==n?void 0:n[s],r[s],n,r)||(a[s]=r[s])}return Object.keys(a).length>0?a:void 0};n(0),n(2);const o=e=>Boolean(e&&void 0!==(null==e?void 0:e.parentApi));n(7);const s=e=>Boolean(e&&e.type),d=e=>Boolean(e&&void 0!==(null==e?void 0:e.uuid)),u=e=>Boolean(e&&void 0!==(null==e?void 0:e.dataLoading))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a}));const i=e=>Boolean(e&&e.getRuntimeStateForChild),r=e=>Boolean(e&&e.saveNotification$);n(12),n(0);const a=e=>Boolean((e=>"function"==typeof(null==e?void 0:e.addNewPanel))(e)&&"function"==typeof(null==e?void 0:e.removePanel)&&"function"==typeof(null==e?void 0:e.replacePanel)&&"function"==typeof(null==e?void 0:e.addNewPanel)&&(null==e?void 0:e.children$))},function(e,t,n){e.exports=n(30)(4)},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return c}));var i=n(7),r=n.n(i),a=n(0),o=n(11);const s=(e,t,n,i=!1)=>{var o;const s=new a.BehaviorSubject(null===(o=t.getExplicitInput())||void 0===o?void 0:o[n]);return i&&t.parent?e.add(t.parent.getInput$().pipe(Object(a.distinctUntilChanged)(((e,i)=>{var a,o,s;const d=(null===(a=e.panels[t.id])||void 0===a?void 0:a.explicitInput)[n],u=null===(o=i.panels[t.id])||void 0===o||null===(s=o.explicitInput)||void 0===s?void 0:s[n];return r()(d,u)}))).subscribe((()=>{var e;return s.next(null===(e=t.getExplicitInput())||void 0===e?void 0:e[n])}))):e.add(t.getInput$().pipe(Object(a.distinctUntilKeyChanged)(n)).subscribe((()=>{var e;return s.next(null===(e=t.getInput())||void 0===e?void 0:e[n])}))),s},d=(e,t,n)=>{const i=new a.BehaviorSubject(t.getOutput()[n]);return e.add(t.getOutput$().pipe(Object(a.distinctUntilKeyChanged)(n)).subscribe((()=>i.next(t.getOutput()[n])))),i},u=e=>{if(!e)return"view";switch(e){case o.a.VIEW:return"view";case o.a.EDIT:return"edit";case o.a.PREVIEW:return"preview";case o.a.PRINT:return"print";default:return"view"}},c=(e,t)=>{const n=new a.BehaviorSubject(u(t.getInput().viewMode));return e.add(t.getInput$().pipe(Object(a.distinctUntilKeyChanged)("viewMode"),Object(a.map)((({viewMode:e})=>u(e)))).subscribe((e=>n.next(e)))),n}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return m}));var i=n(5);const r={},a=(e,t)=>{if(void 0!==r[e])throw new Error(i.i18n.translate("embeddableApi.reactEmbeddable.factoryAlreadyExistsError",{defaultMessage:"An embeddable factory for type: {key} is already registered.",values:{key:e}}));r[e]=t},o=e=>void 0!==r[e];var s=n(14),d=n.n(s),u=n(13),c=n(21),l=n(12),p=n(2),b=n.n(p),h=n(0),f=n(24),g=n(4);const m=({type:e,maybeId:t,getParentApi:n,panelProps:a,onAnyStateChange:o,onApiAvailable:s,hidePanelChrome:m})=>{const E=Object(p.useRef)(null),v=Object(p.useRef)(null),y=Object(p.useMemo)((()=>{const a=null!=t?t:Object(f.v4)(),d=new h.BehaviorSubject(void 0),c=performance.now(),m=e=>{null===v.current&&(v.current=performance.now());const t=v.current-c;d.next({id:a,status:e?"loading":"rendered",timeToEvent:t})};return(async()=>{const t=n(),c=await(async e=>{if(void 0===r[e])throw new Error(i.i18n.translate("embeddableApi.reactEmbeddable.factoryNotFoundError",{defaultMessage:"No embeddable factory found for type: {key}",values:{key:e}}));return r[e]()})(e),f=new h.Subscription,v=e=>{const n={...e,uuid:a,phase$:d,parentApi:t,type:c.type};return null==s||s(n),n};try{const{api:e,Component:n}=await(async()=>{const{initialState:e,startStateDiffing:n}=await(async(e,t,n)=>{var i;const r=n.getSerializedStateForChild(e),a=r?await t.deserializeState(r):{},o=Object(u.a)(n)&&null!==(i=n.getRuntimeStateForChild(e))&&void 0!==i?i:{};return{initialState:{...a,...o},startStateDiffing:e=>{const t=new h.Subscription,i=()=>Object.keys(e).reduce(((t,n)=>(t[n]=e[n][0].value,t)),{}),r=new h.BehaviorSubject(a);Object(u.b)(n)&&t.add(n.saveNotification$.subscribe((()=>{r.next(i())})));const o=[],s=[];for(const t of Object.keys(e)){const n=e[t][0];o.push(n),s.push(t)}const d=new h.BehaviorSubject(Object(l.f)(e,s,r.getValue(),Object(l.e)(e,s)));return t.add(Object(h.combineLatest)(o).pipe(Object(h.debounceTime)(100),Object(h.map)((e=>s.reduce(((t,n,i)=>(t[n]=e[i],t)),{}))),Object(h.combineLatestWith)(r)).subscribe((([t,n])=>{d.next(Object(l.f)(e,s,n,t))}))),{unsavedChanges:d,resetUnsavedChanges:()=>{const t=r.getValue();for(const n of s)(0,e[n][1])(null==t?void 0:t[n])},snapshotRuntimeState:i,cleanup:()=>t.unsubscribe()}}}})(a,c,t),{api:i,Component:r}=await c.buildEmbeddable(e,((e,t)=>{if(o){const n=Object.values(t);f.add(Object(h.combineLatest)(n.map((e=>e[0]))).pipe(Object(h.skip)(1),Object(h.debounceTime)(100),Object(h.switchMap)((()=>{var t;return"AsyncFunction"===(null===(t=e.serializeState.prototype)||void 0===t?void 0:t.name)?e.serializeState():Promise.resolve(e.serializeState())}))).subscribe((e=>{o(e)})))}const{unsavedChanges:i,resetUnsavedChanges:r,cleanup:a,snapshotRuntimeState:s}=n(t),d=v({...e,unsavedChanges:i,resetUnsavedChanges:r,snapshotRuntimeState:s});return E.current=()=>a(),d}),a,t,v);return Object(l.d)(i)?f.add(i.dataLoading.subscribe((e=>m(Boolean(e))))):m(!1),{api:i,Component:r}})();return b.a.forwardRef(((t,i)=>(Object(p.useImperativeHandle)(i,(()=>e),[]),Object(g.jsx)(n,null))))}catch(e){const n={uuid:a,blockingError:new h.BehaviorSubject(e)};return Object(u.c)(t)&&(n.parentApi=t),b.a.forwardRef(((e,t)=>(Object(p.useImperativeHandle)(t,(()=>n),[]),null)))}})()}),[e]);return Object(p.useEffect)((()=>()=>{var e;null===(e=E.current)||void 0===e||e.call(E)}),[]),Object(g.jsx)(c.PresentationPanel,d()({hidePanelChrome:m},a,{Component:y}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return d.a}));var i=n(10);const r=e=>t=>{const n=t.enhancements||{},r=e.getEmbeddableFactory(t.type),a=Object(i.b)(t);let o=a.state;const s=a.references;if(r){const e=r.extract(t);o=e.state,s.push(...e.references)}return o.enhancements={},Object.keys(n).forEach((t=>{if(!n[t])return;const i=e.getEnhancement(t).extract(n[t]);s.push(...i.references),o.enhancements[t]=i.state})),{state:o,references:s}},a=e=>(t,n)=>{const r=t.enhancements||{},a=e.getEmbeddableFactory(t.type);let o=Object(i.c)(t,n);return a&&(o=a.inject(o,n)),o.enhancements={},Object.keys(r).forEach((t=>{r[t]&&(o.enhancements[t]=e.getEnhancement(t).inject(r[t],n))})),o},o=e=>{const t=(n,r)=>{const a=n.enhancements||{},o=e.getEmbeddableFactory(n.type);let s=i.a[r]?i.a[r](n):n;const d="function"==typeof(null==o?void 0:o.migrations)?null==o?void 0:o.migrations():(null==o?void 0:o.migrations)||{};return d[r]&&(s=d[r](s)),null!=o&&o.isContainerType&&(s.panels=(n.panels||[]).map((e=>t(e,r)))),s.enhancements={},Object.keys(a).forEach((t=>{if(!a[t])return;const n=e.getEnhancement(t),i="function"==typeof(null==n?void 0:n.migrations)?null==n?void 0:n.migrations():(null==n?void 0:n.migrations)||{},o=i[r]?i[r](a[t]):a[t];s.enhancements[t]=o})),s};return t},s=e=>(t,n={})=>{const r=t.enhancements||{},a=e.getEmbeddableFactory(t.type);let o=Object(i.d)(t,n);return a&&(o=a.telemetry(t,o)),Object.keys(r).map((t=>{r[t]&&(o=e.getEnhancement(t).telemetry(r[t],o))})),o};var d=n(18)},function(e,t,n){"use strict";function i(e){return Boolean(e.savedObjectId)}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));let i=function(e){return e.EDIT="edit",e.PREVIEW="preview",e.PRINT="print",e.VIEW="view",e}({})},function(e,t){e.exports=__kbnSharedDeps__.KbnStd},function(e,t,n){n.r(t);var i=__kbnBundles__.get("plugin/presentationPanel/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))},function(e,t){e.exports=__kbnSharedDeps__.KbnEsQuery},function(e,t,n){"use strict";n.d(t,"a",(function(){return embeddable_state_transfer_EmbeddableStateTransfer}));var i=n(1),r=n.n(i),a=n(6),o=n(27);const s="embeddable_editor_state";function d(e){return l("originatingApp",e,"string")}const u="embeddable_package_state";function c(e){return l("type",e,"string")&&l("input",e,"object")}function l(e,t,n){return Boolean(t)&&e in t&&(!n||typeof t[e]===n)}const p="EMBEDDABLE_STATE_TRANSFER";class embeddable_state_transfer_EmbeddableStateTransfer{constructor(e,t,n,i){r()(this,"isTransferInProgress",void 0),r()(this,"storage",void 0),r()(this,"appList",void 0),r()(this,"getAppNameFromId",(e=>{var t,n;return null===(t=this.appList)||void 0===t||null===(n=t.get(e))||void 0===n?void 0:n.title})),this.navigateToApp=e,this.storage=i||new o.Storage(sessionStorage),this.isTransferInProgress=!1,this.appList=n,t.subscribe((()=>{this.isTransferInProgress=!1}))}getIncomingEditorState(e,t){return this.getIncomingState(d,e,s,{keysToRemoveAfterFetch:t?[s]:void 0})}clearEditorState(e){const t=this.storage.get(p);var n;t&&(e?null===(n=t[s])||void 0===n||delete n[e]:delete t[s],this.storage.set(p,t))}getIncomingEmbeddablePackage(e,t){return this.getIncomingState(c,e,u,{keysToRemoveAfterFetch:t?[u]:void 0})}async navigateToEditor(e,t){this.isTransferInProgress=!0,await this.navigateToWithState(e,s,{...t})}async navigateToWithEmbeddablePackage(e,t){this.isTransferInProgress=!0,await this.navigateToWithState(e,u,{...t})}getIncomingState(e,t,n,i){var r,o;const s=null===(r=this.storage.get(p))||void 0===r||null===(o=r[n])||void 0===o?void 0:o[t],d=!e||e(s)?Object(a.cloneDeep)(s):void 0;if(d&&null!=i&&i.keysToRemoveAfterFetch){const e={...this.storage.get(p)};i.keysToRemoveAfterFetch.forEach((t=>{delete e[t]})),this.storage.set(p,e)}return d}async navigateToWithState(e,t,n){var i;const r=(null===(i=this.storage.get(p))||void 0===i?void 0:i[t])||{},a={...this.storage.get(p),[t]:{...r,[e]:null==n?void 0:n.state}};this.storage.set(p,a),await this.navigateToApp(e,{path:null==n?void 0:n.path,openInNewTab:null==n?void 0:n.openInNewTab,skipAppLeave:null==n?void 0:n.skipAppLeave})}}},function(e,t){e.exports=__kbnSharedDeps__.Uuid},function(e,t){e.exports=__kbnSharedDeps__.ReactDom},function(e,t,n){n.r(t);var i=__kbnBundles__.get("plugin/kibanaUtils/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))},function(e,t,n){n.r(t);var i=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))},function(e,t,n){n.r(t);var i=__kbnBundles__.get("plugin/uiActions/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))},function(e,t){e.exports=__kbnSharedDeps__.EmotionCache},function(e,t){e.exports=__kbnSharedDeps_npm__},function(e,t,n){n.r(t);var i=__kbnBundles__.get("plugin/savedObjects/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))},function(e,t){e.exports=__kbnSharedDeps__.KbnSharedUxErrorBoundary},function(e,t,n){(function(t){const n="object"==typeof t&&Object({IS_KIBANA_DISTRIBUTABLE:"true"})&&Object({IS_KIBANA_DISTRIBUTABLE:"true"}).NODE_DEBUG&&/\bsemver\b/i.test(Object({IS_KIBANA_DISTRIBUTABLE:"true"}).NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=n}).call(this,n(45))},function(e,t){const n=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:n,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},function(e,t,n){"use strict";var i,r=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function o(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function s(e,t){for(var n={},i=[],r=0;r<e.length;r++){var s=e[r],d=t.base?s[0]+t.base:s[0],u=n[d]||0,c="".concat(d," ").concat(u);n[d]=u+1;var l=o(c),p={css:s[1],media:s[2],sourceMap:s[3]};-1!==l?(a[l].references++,a[l].updater(p)):a.push({identifier:c,updater:f(p,t),references:1}),i.push(c)}return i}function d(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0===i.nonce){var a=n.nc;a&&(i.nonce=a)}if(Object.keys(i).forEach((function(e){t.setAttribute(e,i[e])})),"function"==typeof e.insert)e.insert(t);else{var o=r(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var u,c=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function l(e,t,n,i){var r=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(e.styleSheet)e.styleSheet.cssText=c(t,r);else{var a=document.createTextNode(r),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}function p(e,t,n){var i=n.css,r=n.media,a=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var b=null,h=0;function f(e,t){var n,i,r;if(t.singleton){var a=h++;n=b||(b=d(t)),i=l.bind(null,n,a,!1),r=l.bind(null,n,a,!0)}else n=d(t),i=p.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i));var n=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var i=0;i<n.length;i++){var r=o(n[i]);a[r].references--}for(var d=s(e,t),u=0;u<n.length;u++){var c=o(n[u]);0===a[c].references&&(a[c].updater(),a.splice(c,1))}n=d}}}},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,i,r,a=e[1]||"",o=e[3];if(!o)return a;if(t&&"function"==typeof btoa){var s=(n=o,i=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),"/*# ".concat(r," */")),d=o.sources.map((function(e){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(e," */")}));return[a].concat(d).concat([s]).join("\n")}return[a].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,i){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(i)for(var a=0;a<this.length;a++){var o=this[a][0];null!=o&&(r[o]=!0)}for(var s=0;s<e.length;s++){var d=[].concat(e[s]);i&&r[d[0]]||(n&&(d[2]?d[2]="".concat(n," and ").concat(d[2]):d[2]=n),t.push(d))}},t}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));const i={},r=(e,t)=>{i[e]=t}},function(e,t,n){const i=n(44);e.exports=(e,t,n)=>new i(e,n).compare(new i(t,n))},function(e,t){e.exports=__kbnSharedDeps__.ElasticEuiLibComponentsUseIsNestedEuiProvider},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(54),r=n(2),a=i.__importDefault(n(55));t.default=function(e,t){var n=r.useState(t),i=n[0],o=n[1];return a.default((function(){var t=e.subscribe(o);return function(){return t.unsubscribe()}}),[e]),i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setEuiDevProviderWarning=t.getEuiDevProviderWarning=t.emitEuiProviderWarning=void 0;var i=void 0;t.setEuiDevProviderWarning=function(e){return i=e},t.getEuiDevProviderWarning=function(){return i},t.emitEuiProviderWarning=function(e){if("function"==typeof i)return i(e);switch(i){case"log":console.log(e);break;case"warn":console.warn(e);break;case"error":throw new Error(e)}}},function(e,t,n){n(43),__kbnBundles__.define("plugin/embeddable/public",n,57),__kbnBundles__.define("plugin/embeddable/common",n,56)},function(e,t,n){n.p=window.__kbnPublicPath__.embeddable},function(e,t,n){const i=n(33),{MAX_LENGTH:r,MAX_SAFE_INTEGER:a}=n(34),{safeRe:o,t:s}=n(46),d=n(47),{compareIdentifiers:u}=n(48);class SemVer{constructor(e,t){if(t=d(t),e instanceof SemVer){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>r)throw new TypeError(`version is longer than ${r} characters`);i("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?o[s.LOOSE]:o[s.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>a||this.major<0)throw new TypeError("Invalid major version");if(this.minor>a||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>a||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<a)return t}return e})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(i("SemVer.compare",this.version,this.options,e),!(e instanceof SemVer)){if("string"==typeof e&&e===this.version)return 0;e=new SemVer(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof SemVer||(e=new SemVer(e,this.options)),u(this.major,e.major)||u(this.minor,e.minor)||u(this.patch,e.patch)}comparePre(e){if(e instanceof SemVer||(e=new SemVer(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],r=e.prerelease[t];if(i("prerelease compare",t,n,r),void 0===n&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===n)return-1;if(n!==r)return u(n,r)}while(++t)}compareBuild(e){e instanceof SemVer||(e=new SemVer(e,this.options));let t=0;do{const n=this.build[t],r=e.build[t];if(i("build compare",t,n,r),void 0===n&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===n)return-1;if(n!==r)return u(n,r)}while(++t)}inc(e,t,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(n)?1:0;if(!t&&!1===n)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let i=this.prerelease.length;for(;--i>=0;)"number"==typeof this.prerelease[i]&&(this.prerelease[i]++,i=-2);if(-1===i){if(t===this.prerelease.join(".")&&!1===n)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let i=[t,e];!1===n&&(i=[t]),0===u(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=SemVer},function(e,t,n){e.exports=n(30)(675)},function(e,t,n){const{MAX_SAFE_COMPONENT_LENGTH:i,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:a}=n(34),o=n(33),s=(t=e.exports={}).re=[],d=t.safeRe=[],u=t.src=[],c=t.t={};let l=0;const p="[a-zA-Z0-9-]",b=[["\\s",1],["\\d",a],[p,r]],h=(e,t,n)=>{const i=(e=>{for(const[t,n]of b)e=e.split(`${t}*`).join(`${t}{0,${n}}`).split(`${t}+`).join(`${t}{1,${n}}`);return e})(t),r=l++;o(e,r,t),c[e]=r,u[r]=t,s[r]=new RegExp(t,n?"g":void 0),d[r]=new RegExp(i,n?"g":void 0)};h("NUMERICIDENTIFIER","0|[1-9]\\d*"),h("NUMERICIDENTIFIERLOOSE","\\d+"),h("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${p}*`),h("MAINVERSION",`(${u[c.NUMERICIDENTIFIER]})\\.(${u[c.NUMERICIDENTIFIER]})\\.(${u[c.NUMERICIDENTIFIER]})`),h("MAINVERSIONLOOSE",`(${u[c.NUMERICIDENTIFIERLOOSE]})\\.(${u[c.NUMERICIDENTIFIERLOOSE]})\\.(${u[c.NUMERICIDENTIFIERLOOSE]})`),h("PRERELEASEIDENTIFIER",`(?:${u[c.NUMERICIDENTIFIER]}|${u[c.NONNUMERICIDENTIFIER]})`),h("PRERELEASEIDENTIFIERLOOSE",`(?:${u[c.NUMERICIDENTIFIERLOOSE]}|${u[c.NONNUMERICIDENTIFIER]})`),h("PRERELEASE",`(?:-(${u[c.PRERELEASEIDENTIFIER]}(?:\\.${u[c.PRERELEASEIDENTIFIER]})*))`),h("PRERELEASELOOSE",`(?:-?(${u[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[c.PRERELEASEIDENTIFIERLOOSE]})*))`),h("BUILDIDENTIFIER",`${p}+`),h("BUILD",`(?:\\+(${u[c.BUILDIDENTIFIER]}(?:\\.${u[c.BUILDIDENTIFIER]})*))`),h("FULLPLAIN",`v?${u[c.MAINVERSION]}${u[c.PRERELEASE]}?${u[c.BUILD]}?`),h("FULL",`^${u[c.FULLPLAIN]}$`),h("LOOSEPLAIN",`[v=\\s]*${u[c.MAINVERSIONLOOSE]}${u[c.PRERELEASELOOSE]}?${u[c.BUILD]}?`),h("LOOSE",`^${u[c.LOOSEPLAIN]}$`),h("GTLT","((?:<|>)?=?)"),h("XRANGEIDENTIFIERLOOSE",`${u[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),h("XRANGEIDENTIFIER",`${u[c.NUMERICIDENTIFIER]}|x|X|\\*`),h("XRANGEPLAIN",`[v=\\s]*(${u[c.XRANGEIDENTIFIER]})(?:\\.(${u[c.XRANGEIDENTIFIER]})(?:\\.(${u[c.XRANGEIDENTIFIER]})(?:${u[c.PRERELEASE]})?${u[c.BUILD]}?)?)?`),h("XRANGEPLAINLOOSE",`[v=\\s]*(${u[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[c.XRANGEIDENTIFIERLOOSE]})(?:${u[c.PRERELEASELOOSE]})?${u[c.BUILD]}?)?)?`),h("XRANGE",`^${u[c.GTLT]}\\s*${u[c.XRANGEPLAIN]}$`),h("XRANGELOOSE",`^${u[c.GTLT]}\\s*${u[c.XRANGEPLAINLOOSE]}$`),h("COERCEPLAIN",`(^|[^\\d])(\\d{1,${i}})(?:\\.(\\d{1,${i}}))?(?:\\.(\\d{1,${i}}))?`),h("COERCE",`${u[c.COERCEPLAIN]}(?:$|[^\\d])`),h("COERCEFULL",u[c.COERCEPLAIN]+`(?:${u[c.PRERELEASE]})?`+`(?:${u[c.BUILD]})?(?:$|[^\\d])`),h("COERCERTL",u[c.COERCE],!0),h("COERCERTLFULL",u[c.COERCEFULL],!0),h("LONETILDE","(?:~>?)"),h("TILDETRIM",`(\\s*)${u[c.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",h("TILDE",`^${u[c.LONETILDE]}${u[c.XRANGEPLAIN]}$`),h("TILDELOOSE",`^${u[c.LONETILDE]}${u[c.XRANGEPLAINLOOSE]}$`),h("LONECARET","(?:\\^)"),h("CARETTRIM",`(\\s*)${u[c.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",h("CARET",`^${u[c.LONECARET]}${u[c.XRANGEPLAIN]}$`),h("CARETLOOSE",`^${u[c.LONECARET]}${u[c.XRANGEPLAINLOOSE]}$`),h("COMPARATORLOOSE",`^${u[c.GTLT]}\\s*(${u[c.LOOSEPLAIN]})$|^$`),h("COMPARATOR",`^${u[c.GTLT]}\\s*(${u[c.FULLPLAIN]})$|^$`),h("COMPARATORTRIM",`(\\s*)${u[c.GTLT]}\\s*(${u[c.LOOSEPLAIN]}|${u[c.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",h("HYPHENRANGE",`^\\s*(${u[c.XRANGEPLAIN]})\\s+-\\s+(${u[c.XRANGEPLAIN]})\\s*$`),h("HYPHENRANGELOOSE",`^\\s*(${u[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[c.XRANGEPLAINLOOSE]})\\s*$`),h("STAR","(<|>)?=?\\s*\\*"),h("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),h("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},function(e,t){const n=Object.freeze({loose:!0}),i=Object.freeze({});e.exports=e=>e?"object"!=typeof e?n:e:i},function(e,t){const n=/^[0-9]+$/,i=(e,t)=>{const i=n.test(e),r=n.test(t);return i&&r&&(e=+e,t=+t),e===t?0:i&&!r?-1:r&&!i?1:e<t?-1:1};e.exports={compareIdentifiers:i,rcompareIdentifiers:(e,t)=>i(t,e)}},function(e,t,n){switch(window.__kbnThemeTag__){case"v8dark":return n(50);case"v8light":return n(52)}},function(e,t,n){var i=n(35),r=n(51);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);i(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,n){(t=n(36)(!1)).push([e.i,".errorEmbeddableCompact__popover{height:100%;max-width:100%}.errorEmbeddableCompact__button :hover{text-decoration:underline;-webkit-text-decoration-color:#7a7f89!important;text-decoration-color:#7a7f89!important}.errorEmbeddableCompact__text{color:#7a7f89;font-size:12px}",""]),e.exports=t},function(e,t,n){var i=n(35),r=n(53);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);i(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,n){(t=n(36)(!1)).push([e.i,".errorEmbeddableCompact__popover{height:100%;max-width:100%}.errorEmbeddableCompact__button :hover{text-decoration:underline;-webkit-text-decoration-color:#69707d!important;text-decoration-color:#69707d!important}.errorEmbeddableCompact__text{color:#69707d;font-size:12px}",""]),e.exports=t},function(e,t){e.exports=__kbnSharedDeps__.TsLib},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),r="undefined"!=typeof window?i.useLayoutEffect:i.useEffect;t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(19);n.d(t,"ViewMode",(function(){return i.a}));var r=n(17);n.d(t,"isSavedObjectEmbeddableInput",(function(){return r.e}))},function(e,t,n){"use strict";n.r(t),n.d(t,"openAddPanelFlyout",(function(){return X})),n.d(t,"EmbeddablePanel",(function(){return W})),n.d(t,"cellValueTrigger",(function(){return s.s})),n.d(t,"CELL_VALUE_TRIGGER",(function(){return s.a})),n.d(t,"Container",(function(){return s.c})),n.d(t,"contextMenuTrigger",(function(){return s.t})),n.d(t,"CONTEXT_MENU_TRIGGER",(function(){return s.b})),n.d(t,"defaultEmbeddableFactoryProvider",(function(){return s.u})),n.d(t,"Embeddable",(function(){return s.d})),n.d(t,"EmbeddableFactoryNotFoundError",(function(){return s.e})),n.d(t,"EmbeddableRenderer",(function(){return s.f})),n.d(t,"EmbeddableRoot",(function(){return s.g})),n.d(t,"EmbeddableStateTransfer",(function(){return s.h})),n.d(t,"ErrorEmbeddable",(function(){return s.i})),n.d(t,"genericEmbeddableInputIsEqual",(function(){return s.v})),n.d(t,"isContextMenuTriggerContext",(function(){return s.x})),n.d(t,"isEmbeddable",(function(){return s.y})),n.d(t,"isErrorEmbeddable",(function(){return s.z})),n.d(t,"isExplicitInputWithAttributes",(function(){return s.A})),n.d(t,"isFilterableEmbeddable",(function(){return s.B})),n.d(t,"isMultiValueClickTriggerContext",(function(){return s.C})),n.d(t,"isRangeSelectTriggerContext",(function(){return s.D})),n.d(t,"isReferenceOrValueEmbeddable",(function(){return s.E})),n.d(t,"isRowClickTriggerContext",(function(){return s.F})),n.d(t,"isSavedObjectEmbeddableInput",(function(){return s.G})),n.d(t,"isValueClickTriggerContext",(function(){return s.H})),n.d(t,"MULTI_VALUE_CLICK_TRIGGER",(function(){return s.j})),n.d(t,"omitGenericEmbeddableInput",(function(){return s.J})),n.d(t,"panelBadgeTrigger",(function(){return s.K})),n.d(t,"panelHoverTrigger",(function(){return s.L})),n.d(t,"PanelNotFoundError",(function(){return s.o})),n.d(t,"PanelIncompatibleError",(function(){return s.n})),n.d(t,"panelNotificationTrigger",(function(){return s.M})),n.d(t,"PANEL_BADGE_TRIGGER",(function(){return s.k})),n.d(t,"PANEL_HOVER_TRIGGER",(function(){return s.l})),n.d(t,"PANEL_NOTIFICATION_TRIGGER",(function(){return s.m})),n.d(t,"runEmbeddableFactoryMigrations",(function(){return s.O})),n.d(t,"SELECT_RANGE_TRIGGER",(function(){return s.p})),n.d(t,"shouldFetch$",(function(){return s.Q})),n.d(t,"shouldRefreshFilterCompareOptions",(function(){return s.R})),n.d(t,"useEmbeddableFactory",(function(){return s.S})),n.d(t,"VALUE_CLICK_TRIGGER",(function(){return s.q})),n.d(t,"ViewMode",(function(){return s.r})),n.d(t,"withEmbeddableSubscription",(function(){return s.U})),n.d(t,"AttributeService",(function(){return attribute_service_AttributeService})),n.d(t,"ATTRIBUTE_SERVICE_KEY",(function(){return h})),n.d(t,"ReactEmbeddableRenderer",(function(){return E.a})),n.d(t,"plugin",(function(){return Q})),n.d(t,"embeddableInputToSubject",(function(){return K.a})),n.d(t,"embeddableOutputToSubject",(function(){return K.b})),n.d(t,"COMMON_EMBEDDABLE_GROUPING",(function(){return q}));var i=n(1),r=n.n(i),a=n(6),o=n(26),s=n(3),d=n(23),u=n(2),c=n.n(u),l=n(5),p=n(31),b=n(4);const h="attributes";class attribute_service_AttributeService{constructor(e,t,n,i){if(r()(this,"embeddableFactory",void 0),r()(this,"inputIsRefType",(e=>Object(s.G)(e))),r()(this,"getInputAsValueType",(async e=>{if(!this.inputIsRefType(e))return e;const{attributes:t}=await this.unwrapAttributes(e),{savedObjectId:n,...i}=e;return{...i,attributes:Object(a.omit)(t,["title","description"])}})),r()(this,"getInputAsRefType",(async(e,t)=>this.inputIsRefType(e)?e:new Promise(((n,i)=>{t&&t.showSaveModal&&Object(p.showSaveModal)(Object(b.jsx)(p.SavedObjectSaveModal,{onSave:async t=>{await this.options.checkForDuplicateTitle(t);try{const i={...e[h]};i.title=t.newTitle;const r=await this.wrapAttributes(i,!0),o=Object(a.omit)(e,[h,"title"]);return n({...o,...r}),{id:r.savedObjectId}}catch(e){return i(e),{error:e}}},onClose:()=>{},title:Object(a.get)(t,"saveModalTitle",e[h].title),showCopyOnSave:!1,objectType:this.embeddableFactory?this.embeddableFactory.getDisplayName():this.type,showDescription:!1}))})))),this.type=e,this.toasts=t,this.options=n,i){const e=i(this.type);if(!e)throw new s.e(this.type);this.embeddableFactory=e}}async defaultUnwrapMethod(e){return Promise.resolve({attributes:{...e}})}async unwrapAttributes(e){return this.inputIsRefType(e)?this.options.unwrapMethod?await this.options.unwrapMethod(e.savedObjectId):await this.defaultUnwrapMethod(e):{attributes:e[h]}}async wrapAttributes(e,t,n){const i=n||{},r=n&&this.inputIsRefType(n)?n.savedObjectId:void 0;if(!t)return{[h]:e};try{const t=await this.options.saveMethod(e,r);return"id"in t?{...i,savedObjectId:t.id}:{...i}}catch(e){return this.toasts.addDanger({title:l.i18n.translate("embeddableApi.attributeService.saveToLibraryError",{defaultMessage:"An error occurred while saving. Error: {errorMessage}",values:{errorMessage:e.message}}),"data-test-subj":"attributeServiceSaveFailure"}),Promise.reject({error:e})}}}var f=n(17),g=n(10),m=n(8),E=n(16),v=n(37);class plugin_EmbeddablePublicPlugin{constructor(e){r()(this,"embeddableFactoryDefinitions",new Map),r()(this,"embeddableFactories",new Map),r()(this,"enhancements",new Map),r()(this,"customEmbeddableFactoryProvider",void 0),r()(this,"stateTransferService",{}),r()(this,"isRegistryReady",!1),r()(this,"appList",void 0),r()(this,"appListSubscription",void 0),r()(this,"registerEnhancement",(e=>{if(this.enhancements.has(e.id))throw new Error(`enhancement with id ${e.id} already exists in the registry`);this.enhancements.set(e.id,{id:e.id,telemetry:e.telemetry||((e,t)=>t),inject:e.inject||a.identity,extract:e.extract||(e=>({state:e,references:[]})),migrations:e.migrations||{}})})),r()(this,"getEnhancement",(e=>this.enhancements.get(e)||{id:"unknown",telemetry:(e,t)=>t,inject:a.identity,extract:e=>({state:e,references:[]}),migrations:{}})),r()(this,"getEmbeddableFactories",(()=>(this.ensureFactoriesExist(),this.embeddableFactories.values()))),r()(this,"registerEmbeddableFactory",((e,t)=>{if(this.embeddableFactoryDefinitions.has(e))throw new Error(`Embeddable factory [embeddableFactoryId = ${e}] already registered in Embeddables API.`);return this.embeddableFactoryDefinitions.set(e,t),()=>this.getEmbeddableFactory(e)})),r()(this,"getEmbeddableFactory",(e=>{if(!this.isRegistryReady)throw new Error("Embeddable factories can only be retrieved after setup lifecycle.");return this.ensureFactoryExists(e),this.embeddableFactories.get(e)})),r()(this,"ensureFactoriesExist",(()=>{this.embeddableFactoryDefinitions.forEach((e=>this.ensureFactoryExists(e.type)))})),r()(this,"ensureFactoryExists",(e=>{if(!this.embeddableFactories.get(e)){const t=this.embeddableFactoryDefinitions.get(e);if(!t)return;this.embeddableFactories.set(e,this.customEmbeddableFactoryProvider?this.customEmbeddableFactoryProvider(t):Object(s.u)(t))}}))}setup(e,{uiActions:t}){return(e=>{e.registerTrigger(s.t),e.registerTrigger(s.L),e.registerTrigger(s.K),e.registerTrigger(s.M),e.registerTrigger(s.P),e.registerTrigger(s.T),e.registerTrigger(s.I),e.registerTrigger(s.s)})(t),{registerReactEmbeddableFactory:E.c,registerSavedObjectToPanelMethod:v.a,registerReactEmbeddableSavedObject:s.N,registerEmbeddableFactory:this.registerEmbeddableFactory,registerEnhancement:this.registerEnhancement,setCustomEmbeddableFactoryProvider:e=>{if(this.customEmbeddableFactoryProvider)throw new Error("Custom embeddable factory provider is already set, and can only be set once");this.customEmbeddableFactoryProvider=e}}}start(e,t){this.embeddableFactoryDefinitions.forEach((e=>{this.embeddableFactories.set(e.type,this.customEmbeddableFactoryProvider?this.customEmbeddableFactoryProvider(e):Object(s.u)(e))})),this.appListSubscription=e.application.applications$.subscribe((e=>{this.appList=e})),this.stateTransferService=new d.a(e.application.navigateToApp,e.application.currentAppId$,this.appList),this.isRegistryReady=!0;const n={getEmbeddableFactory:this.getEmbeddableFactory,getEnhancement:this.getEnhancement},i=()=>((e,t,n)=>{const i=new Set;for(const e of Object.keys(g.a))i.add(e);for(const t of e){const e=t.migrations,n="function"==typeof e?e():e;Object.keys(n).forEach((e=>i.add(e)))}for(const e of t){const t=e.migrations,n="function"==typeof t?t():t;Object.keys(n).forEach((e=>i.add(e)))}const r={};return i.forEach((e=>{r[e]=t=>({...n(t,e)})})),r})(Array.from(this.embeddableFactories.values()),Array.from(this.enhancements.values()),Object(f.c)(n)),r={reactEmbeddableRegistryHasKey:E.b,getReactEmbeddableSavedObjects:s.w,getEmbeddableFactory:this.getEmbeddableFactory,getEmbeddableFactories:this.getEmbeddableFactories,getAttributeService:(t,n)=>new attribute_service_AttributeService(t,e.notifications.toasts,n,this.getEmbeddableFactory),getStateTransfer:t=>t?new d.a(e.application.navigateToApp,e.application.currentAppId$,this.appList,t):this.stateTransferService,telemetry:Object(f.d)(n),extract:Object(f.a)(n),inject:Object(f.b)(n),getAllMigrations:i,migrateToLatest:e=>Object(o.migrateToLatest)(i(),e)};return Object(m.e)(e,r,t),r}stop(){this.appListSubscription&&this.appListSubscription.unsubscribe()}}var y=n(9),I=n(25),O=n.n(I),j=n(14),T=n.n(j),R=n(39),S=n(41),A=n(40),w=n.n(A),_=n(29),L=n.n(_);const P="eui-global",N="eui-utilities",C={darkMode:!1},x=[y.euiStylisPrefixer],F=L()({key:"css",stylisPlugins:x,container:document.querySelector('meta[name="emotion"]')}),$=L()({key:P,stylisPlugins:x,container:document.querySelector(`meta[name="${P}"]`)}),D=L()({key:N,stylisPlugins:x,container:document.querySelector(`meta[name="${N}"]`)});F.compat=!0,$.compat=!0,D.compat=!0;const M={default:F,global:$,utility:D},k=({theme:{theme$:e},globalStyles:t,colorMode:n,modify:i,children:r})=>{const a=w()(e,C),o=Object(u.useMemo)((()=>(e=>e.darkMode?y.COLOR_MODES_STANDARD.dark:y.COLOR_MODES_STANDARD.light)(a)),[a]),s=n||o,d=!1!==t&&void 0;return Object(b.jsx)(y.EuiProvider,{cache:M,modify:i,colorMode:s,globalStyles:d,utilityClasses:d},r)},U=({children:e,i18n:t,...n})=>Object(R.useIsNestedEuiProvider)()?(Object(S.emitEuiProviderWarning)("KibanaRootContextProvider has likely been nested in this React tree, either by direct reference or by KibanaRenderContextProvider.  The result of this nesting is a nesting of EuiProvider, which has negative effects.  Check your React tree for nested Kibana context providers."),Object(b.jsx)(t.Context,null,e)):Object(b.jsx)(k,n,Object(b.jsx)(t.Context,null,e));var G=n(32);const B=({children:e,...t})=>Object(b.jsx)(U,T()({globalStyles:!1},t),Object(b.jsx)(G.KibanaErrorBoundaryProvider,{analytics:t.analytics},Object(b.jsx)(G.KibanaErrorBoundary,null,e)));u.Component;const V=c.a.lazy((async()=>({default:(await n.e(1).then(n.bind(null,60))).AddPanelFlyout}))),X=({container:e,onAddPanel:t,onClose:n})=>{var i,r;return m.b.overlays.openFlyout((i=Object(b.jsx)(u.Suspense,{fallback:Object(b.jsx)(y.EuiLoadingSpinner,null)},Object(b.jsx)(V,{container:e,onAddPanel:t})),r=m.b,e=>(O.a.render(Object(b.jsx)(B,r,i),e),()=>O.a.unmountComponentAtNode(e))),{"data-test-subj":"dashboardAddPanel",ownFocus:!0,onClose:e=>{n&&n(),e.close()}})};var z=n(21),H=n(20);const W=e=>{const t=Object(u.useRef)(!0);Object(u.useEffect)((()=>()=>{t.current=!1}),[]);const n=()=>t.current,{embeddable:i,...r}=e,a=Object(u.useMemo)((()=>(async(e,t)=>{const n=Object(m.f)(),i="function"==typeof e?e():Promise.resolve(e),[,r]=await Promise.all([n,i]);return t()?(r.parent&&await r.parent.untilEmbeddableLoaded(r.id),c.a.forwardRef(((e,t)=>{const[n,i]=Object(u.useState)(),a=Object(u.useMemo)((()=>c.a.createRef()),[]);return Object(u.useEffect)((()=>{var e;if(!a.current)return;const t=null!==(e=r.render(a.current))&&void 0!==e?e:void 0;return Object(H.isPromise)(t)?t.then((e=>i(e))):i(t),()=>{r.destroy()}}),[a]),Object(u.useImperativeHandle)(t,(()=>r)),Object(b.jsx)("div",{css:Object(b.css)("width: 100%; height: 100%; display:flex","",""),ref:a},n)}))):null})(i,n)),[]);return Object(b.jsx)(z.PresentationPanel,T()({},r,{Component:a}))};var K=n(15);const q={legacy:{id:"legacy",getDisplayName:()=>l.i18n.translate("embeddableApi.common.constants.grouping.legacy",{defaultMessage:"Legacy"}),order:-2},annotation:{id:"annotation-and-navigation",getDisplayName:()=>l.i18n.translate("embeddableApi.common.constants.grouping.annotations",{defaultMessage:"Annotations and Navigation"})},other:{id:"other",getDisplayName:()=>l.i18n.translate("embeddableApi.common.constants.grouping.other",{defaultMessage:"Other"}),getIconType:()=>"empty",order:-1}};function Q(e){return new plugin_EmbeddablePublicPlugin(e)}},function(e,t,n){n.r(t);var i=__kbnBundles__.get("plugin/savedObjectsFinder/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))},function(e,t){e.exports=__kbnSharedDeps__.KbnAnalytics}]);