!function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=20)}([function(e,t){e.exports=__kbnSharedDeps__.EmotionReact},function(e,t){e.exports=__kbnSharedDeps__.ElasticEui},function(e,t){e.exports=__kbnSharedDeps__.React},function(e,t){e.exports=__kbnSharedDeps__.KbnI18n},function(e,t,i){e.exports=i(11)(2)},function(e,t){e.exports=__kbnSharedDeps__.Lodash},function(e,t){e.exports=__kbnSharedDeps__.KbnI18nReact},function(e,t,i){i.r(t);var n=__kbnBundles__.get("plugin/data/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t){e.exports=__kbnSharedDeps__.ReactDom},function(e,t){e.exports=__kbnSharedDeps__.EmotionCache},function(e,t){e.exports=__kbnSharedDeps__.KbnSharedUxErrorBoundary},function(e,t){e.exports=__kbnSharedDeps_npm__},function(e,t,i){"use strict";var n,r=function(){var e={};return function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}e[t]=i}return e[t]}}(),a=[];function s(e){for(var t=-1,i=0;i<a.length;i++)if(a[i].identifier===e){t=i;break}return t}function o(e,t){for(var i={},n=[],r=0;r<e.length;r++){var o=e[r],c=t.base?o[0]+t.base:o[0],l=i[c]||0,u="".concat(c," ").concat(l);i[c]=l+1;var d=s(u),p={css:o[1],media:o[2],sourceMap:o[3]};-1!==d?(a[d].references++,a[d].updater(p)):a.push({identifier:u,updater:b(p,t),references:1}),n.push(u)}return n}function c(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var a=i.nc;a&&(n.nonce=a)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var s=r(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var l,u=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join("\n")});function d(e,t,i,n){var r=i?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=u(t,r);else{var a=document.createTextNode(r),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(a,s[t]):e.appendChild(a)}}function p(e,t,i){var n=i.css,r=i.media,a=i.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var f=null,v=0;function b(e,t){var i,n,r;if(t.singleton){var a=v++;i=f||(f=c(t)),n=d.bind(null,i,a,!1),r=d.bind(null,i,a,!0)}else i=c(t),n=p.bind(null,i,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(i)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n));var i=o(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<i.length;n++){var r=s(i[n]);a[r].references--}for(var c=o(e,t),l=0;l<i.length;l++){var u=s(i[l]);0===a[u].references&&(a[u].updater(),a.splice(u,1))}i=c}}}},function(e,t,i){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=function(e,t){var i,n,r,a=e[1]||"",s=e[3];if(!s)return a;if(t&&"function"==typeof btoa){var o=(i=s,n=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),"/*# ".concat(r," */")),c=s.sources.map((function(e){return"/*# sourceURL=".concat(s.sourceRoot||"").concat(e," */")}));return[a].concat(c).concat([o]).join("\n")}return[a].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(i,"}"):i})).join("")},t.i=function(e,i,n){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(n)for(var a=0;a<this.length;a++){var s=this[a][0];null!=s&&(r[s]=!0)}for(var o=0;o<e.length;o++){var c=[].concat(e[o]);n&&r[c[0]]||(i&&(c[2]?c[2]="".concat(i," and ").concat(c[2]):c[2]=i),t.push(c))}},t}},function(e,t,i){i.r(t);var n=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t,i){e.exports=i(11)(4)},function(e,t){e.exports=__kbnSharedDeps__.ElasticEuiLibComponentsUseIsNestedEuiProvider},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(27),r=i(2),a=n.__importDefault(i(28));t.default=function(e,t){var i=r.useState(t),n=i[0],s=i[1];return a.default((function(){var t=e.subscribe(s);return function(){return t.unsubscribe()}}),[e]),n}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setEuiDevProviderWarning=t.getEuiDevProviderWarning=t.emitEuiProviderWarning=void 0;var n=void 0;t.setEuiDevProviderWarning=function(e){return n=e},t.getEuiDevProviderWarning=function(){return n},t.emitEuiProviderWarning=function(e){if("function"==typeof n)return n(e);switch(n){case"log":console.log(e);break;case"warn":console.warn(e);break;case"error":throw new Error(e)}}},function(e,t){e.exports=__kbnSharedDeps__.KbnUiTheme},function(e,t,i){i(21),__kbnBundles__.define("plugin/savedObjects/public",i,29)},function(e,t,i){i.p=window.__kbnPublicPath__.savedObjects},function(e,t,i){switch(window.__kbnThemeTag__){case"v8dark":return i(23);case"v8light":return i(25)}},function(e,t,i){var n=i(12),r=i(24);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,i){(t=i(13)(!1)).push([e.i,".kbnSavedObjectSaveModal{width:600px}.kbnSavedObjectsSaveModal--wide{width:800px}",""]),e.exports=t},function(e,t,i){var n=i(12),r=i(26);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,i){(t=i(13)(!1)).push([e.i,".kbnSavedObjectSaveModal{width:600px}.kbnSavedObjectsSaveModal--wide{width:800px}",""]),e.exports=t},function(e,t){e.exports=__kbnSharedDeps__.TsLib},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),r="undefined"!=typeof window?n.useLayoutEffect:n.useEffect;t.default=r},function(e,t,i){"use strict";i.r(t),i.d(t,"SavedObjectSaveModal",(function(){return saved_object_save_modal_SavedObjectSaveModal})),i.d(t,"SavedObjectSaveModalOrigin",(function(){return X})),i.d(t,"showSaveModal",(function(){return Q})),i.d(t,"checkForDuplicateTitle",(function(){return z})),i.d(t,"saveWithConfirmation",(function(){return W})),i.d(t,"isErrorNonFatal",(function(){return V})),i.d(t,"plugin",(function(){return Z}));var n=i(4),r=i.n(n),a=(i(22),i(5)),s=i(7);const o=e=>Object(a.mapValues)(e,(e=>{const t=Object(a.isString)(e)?{type:e}:e,i={type:s.ES_FIELD_TYPES.TEXT,_serialize(e){if(e)return JSON.stringify(e)},_deserialize(e){if(e)return JSON.parse(e)}};return"json"===t.type?i:t}));var c=i(14),l=i(3);const u=l.i18n.translate("savedObjects.overwriteRejectedDescription",{defaultMessage:"Overwrite confirmation was rejected"}),d=l.i18n.translate("savedObjects.saveDuplicateRejectedDescription",{defaultMessage:"Save with duplicate title confirmation was rejected"});var p=i(2),f=i.n(p),v=i(1),b=i(8),h=i.n(b),j=i(15),g=i.n(j),O=i(16),m=i(18),y=i(17),S=i.n(y),w=i(9),_=i.n(w);const x="eui-global",M="eui-utilities",C={darkMode:!1};var E=i(0);const T=[v.euiStylisPrefixer],D=_()({key:"css",stylisPlugins:T,container:document.querySelector('meta[name="emotion"]')}),P=_()({key:x,stylisPlugins:T,container:document.querySelector(`meta[name="${x}"]`)}),R=_()({key:M,stylisPlugins:T,container:document.querySelector(`meta[name="${M}"]`)});D.compat=!0,P.compat=!0,R.compat=!0;const k={default:D,global:P,utility:R},F=({theme:{theme$:e},globalStyles:t,colorMode:i,modify:n,children:r})=>{const a=S()(e,C),s=Object(p.useMemo)((()=>(e=>e.darkMode?v.COLOR_MODES_STANDARD.dark:v.COLOR_MODES_STANDARD.light)(a)),[a]),o=i||s,c=!1!==t&&void 0;return Object(E.jsx)(v.EuiProvider,{cache:k,modify:n,colorMode:o,globalStyles:c,utilityClasses:c},r)},L=({children:e,i18n:t,...i})=>Object(O.useIsNestedEuiProvider)()?(Object(m.emitEuiProviderWarning)("KibanaRootContextProvider has likely been nested in this React tree, either by direct reference or by KibanaRenderContextProvider.  The result of this nesting is a nesting of EuiProvider, which has negative effects.  Check your React tree for nested Kibana context providers."),Object(E.jsx)(t.Context,null,e)):Object(E.jsx)(F,i,Object(E.jsx)(t.Context,null,e));var I=i(10);const N=({children:e,...t})=>Object(E.jsx)(L,g()({globalStyles:!1},t),Object(E.jsx)(I.KibanaErrorBoundaryProvider,{analytics:t.analytics},Object(E.jsx)(I.KibanaErrorBoundary,null,e))),A=(e,t)=>i=>(h.a.render(Object(E.jsx)(N,t,e),i),()=>h.a.unmountComponentAtNode(i));function B(e="",t="",i="",n,r){return new Promise(((a,s)=>{const o=l.i18n.translate("savedObjects.confirmModal.cancelButtonLabel",{defaultMessage:"Cancel"}),c=n.openModal(A(Object(E.jsx)(v.EuiConfirmModal,{onCancel:()=>{c.close(),s()},onConfirm:()=>{c.close(),a(!0)},confirmButtonText:i,cancelButtonText:o,title:t},e),r))}))}async function z(e,t,i,n,r){const{savedObjectsClient:a,overlays:s}=n;if(t)return!0;if(e.title===e.lastSavedTitle&&!e.copyOnSave)return!0;const o=await async function(e,t,i){if(i)return(await e.find({type:t,perPage:10,search:`"${i}"`,searchFields:["title"],fields:["title"]})).savedObjects.find((e=>e.get("title").toLowerCase()===i.toLowerCase()))}(a,e.getEsType(),e.title);return!o||o.id===e.id||(i?(i(),Promise.reject(new Error(d))):function(e,t,i){const n=l.i18n.translate("savedObjects.confirmModal.saveDuplicateConfirmationMessage",{defaultMessage:"A {name} with the title ''{title}'' already exists. Would you like to save anyway?",values:{title:e.title,name:e.getDisplayName()}}),r=l.i18n.translate("savedObjects.confirmModal.saveDuplicateButtonLabel",{defaultMessage:"Save {name}",values:{name:e.getDisplayName()}});try{return B(n,"",r,t,i)}catch(e){return Promise.reject(new Error(d))}}(e,s,r))}function V(e){return!!e&&(e.message===u||e.message===d)}p.Component;function J(e,t,i,n,r=[]){((e,t,i)=>{i.forEach((i=>{i.decorateConfig(t),i.decorateObject(e)}))})(e,t,r);const{dataViews:d,savedObjectsClient:p}=i,f=t.type||"";e.getDisplayName=()=>f,e.getEsType=()=>f,e.isSaving=!1,e.defaults=t.defaults||{},e.searchSource=t.searchSource?i.search.searchSource.createEmpty():void 0,e.id=t.id||void 0,e.migrationVersion=t.migrationVersion,e.copyOnSave=!1,e.hydrateIndexPattern=i=>async function(e,t,i,n){const r=n.indexPattern;if(!t.searchSource)return null;const a=e||r||t.searchSource.getOwnField("index");if("string"!=typeof a||!a)return null;const s=await i.get(a);return t.searchSource.setField("index",s),s}(i||"",e,d,t),e.init=Object(a.once)((()=>async function(e,t,i){const n=i.type;if(!n)throw new Error("You must define a type name to use SavedObject objects.");if(!e.id)return Object(a.assign)(e,e.defaults),await e.hydrateIndexPattern(),"function"==typeof i.afterESResp&&(e=await i.afterESResp(e)),e;const r=await t.get(n,e.id),s={_id:r.id,_type:r.type,_source:Object(a.cloneDeep)(r.attributes),references:r.references,found:!!r._version};return await e.applyESResp(s),"function"==typeof i.init&&await i.init.call(e),e}(e,p,t))),e.applyESResp=n=>async function(e,t,i,n){var r;const l=o(null!==(r=i.mapping)&&void 0!==r?r:{}),u=i.type||"";if(t._source=Object(a.cloneDeep)(e._source),"boolean"==typeof e.found&&!e.found)throw new c.SavedObjectNotFound(u,t.id||"");const d=e._source.kibanaSavedObjectMeta||{};if(delete e._source.kibanaSavedObjectMeta,!i.indexPattern&&t._source.indexPattern&&(i.indexPattern=t._source.indexPattern,delete t._source.indexPattern),Object(a.defaults)(t._source,t.defaults),Object(a.forOwn)(l,((e,i)=>{e._deserialize&&"string"==typeof i&&(t._source[i]=e._deserialize(t._source[i]))})),Object(a.assign)(t,t._source),t.lastSavedTitle=t.title,d.searchSourceJSON)try{let r=Object(s.parseSearchSourceJSON)(d.searchSourceJSON);i.searchSource?(r=Object(s.injectSearchSourceReferences)(r,e.references),t.searchSource=await n.search.searchSource.create(r)):t.searchSourceFields=r}catch(e){throw"SavedObjectNotFound"===e.constructor.name&&"index-pattern"===e.savedObjectType&&(t.unresolvedIndexPatternReference={name:"kibanaSavedObjectMeta.searchSourceJSON.index",id:JSON.parse(d.searchSourceJSON).index,type:"index-pattern"}),e}const p=i.injectReferences;return p&&e.references&&e.references.length>0&&p(t,e.references),"function"==typeof i.afterESResp&&(t=await i.afterESResp(t)),t}(n,e,t,i),e._serialize=()=>function(e,t){var i;const n=o(null!==(i=t.mapping)&&void 0!==i?i:{}),r={},c=[];if(Object(a.forOwn)(n,((t,i)=>{if("string"!=typeof i)return;const n=e[i];null!=n&&(r[i]=t._serialize?t._serialize(n):n)})),e.searchSource){const{searchSourceJSON:t,references:i}=e.searchSource.serialize();r.kibanaSavedObjectMeta={searchSourceJSON:t},c.push(...i)}if(e.searchSourceFields){const[t,i]=Object(s.extractSearchSourceReferences)(e.searchSourceFields),n=JSON.stringify(t);r.kibanaSavedObjectMeta={searchSourceJSON:n},c.push(...i)}return e.unresolvedIndexPatternReference&&c.push(e.unresolvedIndexPatternReference),{attributes:r,references:c}}(e,t),e.isTitleChanged=()=>e._source&&e._source.title!==e.title,e.creationOpts=(t={})=>({id:e.id,migrationVersion:e.migrationVersion,...t}),e.save=async r=>{try{const s=await async function(e,t,{confirmOverwrite:i=!1,isTitleDuplicateConfirmed:n=!1,onTitleDuplicate:r}={},s,o){const{savedObjectsClient:c,chrome:d}=s,p=t.type||"",f=t.extractReferences,v=e.id;e.copyOnSave&&delete e.id;let{attributes:b,references:h}=e._serialize();if(f&&({attributes:b,references:h}=f({attributes:b,references:h})),!h)throw new Error("References not returned from extractReferences");try{await z(e,n,r,s,o),e.isSaving=!0;const t=i?await async function(e,t,i,n={},r,s){const{savedObjectsClient:o,overlays:c}=r;try{return await o.create(i,e,n)}catch(r){return 409===Object(a.get)(r,"res.status")?B(l.i18n.translate("savedObjects.confirmModal.overwriteConfirmationMessage",{defaultMessage:"Are you sure you want to overwrite {title}?",values:{title:t.title}}),l.i18n.translate("savedObjects.confirmModal.overwriteTitle",{defaultMessage:"Overwrite {name}?",values:{name:t.getDisplayName()}}),l.i18n.translate("savedObjects.confirmModal.overwriteButtonLabel",{defaultMessage:"Overwrite"}),c,s).then((()=>o.create(i,e,t.creationOpts({overwrite:!0,...n})))).catch((()=>Promise.reject(new Error(u)))):await Promise.reject(r)}}(b,e,p,e.creationOpts({references:h}),s,o):await c.create(p,b,e.creationOpts({references:h,overwrite:!0}));return e.id=t.id,e.showInRecentlyAccessed&&e.getFullPath&&d.recentlyAccessed.add(e.getFullPath(),e.title,String(e.id)),e.isSaving=!1,e.lastSavedTitle=e.title,e.id}catch(t){return e.isSaving=!1,e.id=v,V(t)?"":Promise.reject(t)}}(e,t,r,i,n);return Promise.resolve(s)}catch(e){return Promise.reject(e)}},e.destroy=()=>{},e.delete=()=>e.id?p.delete(f,e.id):Promise.reject(new Error("Deleting a saved Object requires type and id"))}async function W(e,t,i,n,r){const{savedObjectsClient:s,overlays:o}=n;try{return await s.create(t.getEsType(),e,i)}catch(n){return 409===Object(a.get)(n,"res.status")?B(l.i18n.translate("savedObjects.confirmModal.overwriteConfirmationMessage",{defaultMessage:"Are you sure you want to overwrite {title}?",values:{title:t.title}}),l.i18n.translate("savedObjects.confirmModal.overwriteTitle",{defaultMessage:"Overwrite {name}?",values:{name:t.displayName}}),l.i18n.translate("savedObjects.confirmModal.overwriteButtonLabel",{defaultMessage:"Overwrite"}),o,r).then((()=>s.create(t.getEsType(),e,{overwrite:!0,...i}))).catch((()=>Promise.reject(new Error(u)))):await Promise.reject(n)}}class registry_SavedObjectDecoratorRegistry{constructor(){r()(this,"registry",new Map)}register(e){if(this.registry.has(e.id))throw new Error(`A decorator is already registered for id ${e.id}`);if([...this.registry.values()].find((({priority:t})=>t===e.priority)))throw new Error(`A decorator is already registered for priority ${e.priority}`);this.registry.set(e.id,e)}getOrderedDecorators(e){return[...this.registry.values()].sort(((e,t)=>e.priority-t.priority)).map((({factory:t})=>t(e)))}}let K;const U=()=>K.analytics,q=()=>K.i18n,$=()=>K.theme;class plugin_SavedObjectsPublicPlugin{constructor(){r()(this,"decoratorRegistry",new registry_SavedObjectDecoratorRegistry)}setup(){return{registerDecorator:e=>this.decoratorRegistry.register(e)}}start(e,{data:t,dataViews:i}){return function(e){K=e}(e),{SavedObjectClass:(n={dataViews:i,savedObjectsClient:e.savedObjects.client,search:t.search,chrome:e.chrome,overlays:e.overlays},r=e,a=this.decoratorRegistry,class SavedObjectClass{constructor(e={}){J(this,e,n,r,a.getOrderedDecorators(n))}})};var n,r,a}}var H=i(6),G=i(19);const Y=Object(v.htmlIdGenerator)();class saved_object_save_modal_SavedObjectSaveModal extends f.a.Component{constructor(...e){super(...e),r()(this,"warning",f.a.createRef()),r()(this,"formId",Y("form")),r()(this,"savedObjectTitleInputRef",f.a.createRef()),r()(this,"state",{title:this.props.title,copyOnSave:Boolean(this.props.initialCopyOnSave),isTitleDuplicateConfirmed:!1,hasTitleDuplicate:!1,isLoading:!1,visualizationDescription:this.props.description?this.props.description:"",hasAttemptedSubmit:!1}),r()(this,"renderViewDescription",(()=>{if(this.props.showDescription)return Object(E.jsx)(v.EuiFormRow,{fullWidth:!0,labelAppend:Object(E.jsx)(v.EuiText,{size:"xs",color:"subdued"},Object(E.jsx)(H.FormattedMessage,{id:"savedObjects.saveModal.optional",defaultMessage:"Optional"})),label:Object(E.jsx)(H.FormattedMessage,{id:"savedObjects.saveModal.descriptionLabel",defaultMessage:"Description"})},Object(E.jsx)(v.EuiTextArea,{fullWidth:!0,"data-test-subj":"savedObjectDescription",value:this.state.visualizationDescription,onChange:this.onDescriptionChange}))})),r()(this,"onDescriptionChange",(e=>{this.setState({visualizationDescription:e.target.value})})),r()(this,"onTitleDuplicate",(()=>{this.setState({isLoading:!1,isTitleDuplicateConfirmed:!0,hasTitleDuplicate:!0}),this.warning.current&&this.warning.current.focus()})),r()(this,"saveSavedObject",(async()=>{this.state.isLoading||(this.setState({isLoading:!0}),await this.props.onSave({newTitle:this.state.title,newCopyOnSave:Boolean(this.props.mustCopyOnSaveMessage)||this.state.copyOnSave,isTitleDuplicateConfirmed:this.state.isTitleDuplicateConfirmed,onTitleDuplicate:this.onTitleDuplicate,newDescription:this.state.visualizationDescription}))})),r()(this,"onTitleChange",(e=>{this.setState({title:e.target.value,isTitleDuplicateConfirmed:!1,hasTitleDuplicate:!1})})),r()(this,"onCopyOnSaveChange",(e=>{this.setState({copyOnSave:e.target.checked}),this.props.onCopyOnSaveChange&&this.props.onCopyOnSaveChange(e.target.checked)})),r()(this,"onFormSubmit",(e=>{e.preventDefault();const{hasAttemptedSubmit:t,title:i}=this.state;t||this.setState({hasAttemptedSubmit:!0});const n=void 0===this.props.isValid||this.props.isValid;0!==i.length&&n&&this.saveSavedObject()})),r()(this,"renderConfirmButton",(()=>{const{isLoading:e}=this.state;let t=l.i18n.translate("savedObjects.saveModal.saveButtonLabel",{defaultMessage:"Save"});return this.props.confirmButtonLabel&&(t=this.props.confirmButtonLabel),Object(E.jsx)(v.EuiButton,{fill:!0,"data-test-subj":"confirmSaveSavedObjectButton",isLoading:e,type:"submit",form:this.formId},t)})),r()(this,"renderDuplicateTitleCallout",(e=>{if(this.state.hasTitleDuplicate)return Object(E.jsx)(f.a.Fragment,null,Object(E.jsx)("div",{ref:this.warning,tabIndex:-1},Object(E.jsx)(v.EuiCallOut,{title:Object(E.jsx)(H.FormattedMessage,{id:"savedObjects.saveModal.duplicateTitleLabel",defaultMessage:"This {objectType} already exists",values:{objectType:this.props.objectType}}),color:"warning","data-test-subj":"titleDuplicateWarnMsg",id:e},Object(E.jsx)("p",null,Object(E.jsx)(H.FormattedMessage,{id:"savedObjects.saveModal.duplicateTitleDescription",defaultMessage:"Saving ''{title}'' creates a duplicate title.",values:{title:this.state.title}})))),Object(E.jsx)(v.EuiSpacer,null))})),r()(this,"renderCopyOnSave",(()=>Object(E.jsx)(f.a.Fragment,null,Object(E.jsx)(v.EuiFlexItem,{grow:!1},Object(E.jsx)(v.EuiSwitch,{"data-test-subj":"saveAsNewCheckbox",checked:Boolean(this.props.mustCopyOnSaveMessage)||this.state.copyOnSave,disabled:Boolean(this.props.mustCopyOnSaveMessage),onChange:this.onCopyOnSaveChange,label:Object(E.jsx)(H.FormattedMessage,{id:"savedObjects.saveModal.saveAsNewLabel",defaultMessage:"Save as new {objectType}",values:{objectType:this.props.objectType}})})),this.props.mustCopyOnSaveMessage&&Object(E.jsx)(v.EuiFlexItem,{css:Object(E.css)({marginLeft:`-${G.euiThemeVars.euiSize}`},"",""),grow:!1},Object(E.jsx)(v.EuiIconTip,{type:"iInCircle",content:this.props.mustCopyOnSaveMessage})),Object(E.jsx)(v.EuiFlexItem,{grow:!0}))))}componentDidMount(){setTimeout((()=>{var e;null===(e=this.savedObjectTitleInputRef.current)||void 0===e||e.focus()}),0)}render(){const{isTitleDuplicateConfirmed:e,hasTitleDuplicate:t,title:i,hasAttemptedSubmit:n}=this.state,r=Y(),a=!!this.props.rightOptions,s=n&&(!e&&t||0===i.length),o=Object(E.jsx)(f.a.Fragment,null,Object(E.jsx)(v.EuiFormRow,{fullWidth:!0,label:Object(E.jsx)(H.FormattedMessage,{id:"savedObjects.saveModal.titleLabel",defaultMessage:"Title"}),isInvalid:s,error:l.i18n.translate("savedObjects.saveModal.titleRequired",{defaultMessage:"A title is required"})},Object(E.jsx)(v.EuiFieldText,{fullWidth:!0,inputRef:this.savedObjectTitleInputRef,"data-test-subj":"savedObjectTitle",value:i,onChange:this.onTitleChange,isInvalid:s,"aria-describedby":this.state.hasTitleDuplicate?r:void 0})),this.renderViewDescription(),"function"==typeof this.props.options?this.props.options(this.state):this.props.options),c=a?Object(E.jsx)(v.EuiFlexGroup,{gutterSize:"m"},Object(E.jsx)(v.EuiFlexItem,null,o),Object(E.jsx)(v.EuiFlexItem,null,"function"==typeof this.props.rightOptions?this.props.rightOptions(this.state):this.props.rightOptions)):o;return Object(E.jsx)(v.EuiModal,{"data-test-subj":"savedObjectSaveModal",className:"kbnSavedObjectSaveModal"+(a?" kbnSavedObjectsSaveModal--wide":""),onClose:this.props.onClose},Object(E.jsx)(v.EuiModalHeader,null,Object(E.jsx)(v.EuiModalHeaderTitle,null,this.props.customModalTitle?this.props.customModalTitle:Object(E.jsx)(H.FormattedMessage,{id:"savedObjects.saveModal.saveTitle",defaultMessage:"Save {objectType}",values:{objectType:this.props.objectType}}))),Object(E.jsx)(v.EuiModalBody,null,this.renderDuplicateTitleCallout(r),Object(E.jsx)(v.EuiForm,{component:"form",onSubmit:this.onFormSubmit,id:this.formId},!this.props.showDescription&&this.props.description&&Object(E.jsx)(v.EuiText,{size:"s",color:"subdued"},this.props.description),c)),Object(E.jsx)(v.EuiModalFooter,null,Object(E.jsx)(v.EuiFlexGroup,{justifyContent:"flexEnd",alignItems:"center"},this.props.showCopyOnSave&&this.renderCopyOnSave(),Object(E.jsx)(v.EuiFlexItem,{grow:!1},Object(E.jsx)(v.EuiButtonEmpty,{"data-test-subj":"saveCancelButton",onClick:this.props.onClose},Object(E.jsx)(H.FormattedMessage,{id:"savedObjects.saveModal.cancelButtonLabel",defaultMessage:"Cancel"}))),Object(E.jsx)(v.EuiFlexItem,{grow:!1},this.renderConfirmButton()))))}}function X(e){const[t,i]=Object(p.useState)(Boolean(e.originatingApp)),{documentInfo:n}=e,r=l.i18n.translate("savedObjects.saveModalOrigin.returnToOriginLabel",{defaultMessage:"Return"}),a=l.i18n.translate("savedObjects.saveModalOrigin.addToOriginLabel",{defaultMessage:"Add"}),s=t?l.i18n.translate("savedObjects.saveModalOrigin.saveAndReturnLabel",{defaultMessage:"Save and return"}):null;return Object(E.jsx)(saved_object_save_modal_SavedObjectSaveModal,{onSave:i=>{e.onSave({...i,returnToOrigin:t})},onClose:e.onClose,title:n.title,showCopyOnSave:!!n.id,initialCopyOnSave:Boolean(n.id)&&t,confirmButtonLabel:s,objectType:e.objectType,options:s=>{const o="function"==typeof e.options?e.options(s):e.options;if(!e.originatingApp)return o;const c=e.getAppNameFromId&&e.getAppNameFromId(e.originatingApp)||e.originatingApp;if(s.copyOnSave&&"dashboards"!==e.originatingApp)return i(!1),o;{var l;const u=!n.id||s.copyOnSave?a:r;return Object(E.jsx)(p.Fragment,null,o,Object(E.jsx)(v.EuiFormRow,null,Object(E.jsx)(v.EuiSwitch,{"data-test-subj":"returnToOriginModeSwitch",checked:t,onChange:e=>{i(e.target.checked)},label:null!==(l=e.returnToOriginSwitchLabel)&&void 0!==l?l:Object(E.jsx)(H.FormattedMessage,{id:"savedObjects.saveModalOrigin.originAfterSavingSwitchLabel",defaultMessage:"{originVerb} to {origin} after saving",values:{originVerb:u,origin:c}})})))}},description:n.description,showDescription:!0})}function Q(e,t){let i;const n=A(f.a.createElement((function(){const n=()=>{i(),setTimeout((()=>{var t,i;null===(t=(i=e.props).onClose)||void 0===t||t.call(i)}),0)},r=e.props.onSave,a=f.a.cloneElement(e,{onSave:async(...e)=>{const t=await r(...e);return Boolean("id"in t?t.id:t.error)&&n(),t},onClose:n});return f.a.createElement(null!=t?t:f.a.Fragment,{children:a})})),{analytics:U(),theme:$(),i18n:q()});i=n(document.createElement("div"))}const Z=()=>new plugin_SavedObjectsPublicPlugin}]);