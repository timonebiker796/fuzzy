/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.lens_bundle_jsonpfunction=window.lens_bundle_jsonpfunction||[]).push([[0],{108:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}));let r=function(t){return t[t.SMALL=.3]="SMALL",t[t.MEDIUM=.54]="MEDIUM",t[t.LARGE=.7]="LARGE",t}({}),o=function(t){return t.auto="auto",t.single="single",t.custom="custom",t}({})},109:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));const r=["#f2f4fb","#d4d9e5","#98a2b3","#696f7d","#353642"],o=r.slice(),a=r.slice().reverse(),u={id:"neutral",name:"Neutral",colorCount:o.length,type:"categorical",getColor:(t,e)=>e?a[t]:o[t]}},114:function(t,e,n){t.exports=n(25)(71)},125:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return a})),n.d(e,"c",(function(){return u})),n.d(e,"d",(function(){return i}));var r=n(108);const o=3,a=r.b.custom,u=r.b.single,i=2},126:function(t,e,n){"use strict";n.d(e,"c",(function(){return a})),n.d(e,"d",(function(){return u})),n.d(e,"a",(function(){return i})),n.d(e,"e",(function(){return s})),n.d(e,"b",(function(){return l}));var r=n(114),o=n.n(r);function a(t){try{return o()(t)}catch{return o()("red")}}function u(t,e,n=4.5){return o.a.contrast(a(t),e?"black":"white")>=n}function i(t,e){const[n,r,o]=a(t).rgb();return`rgba(${n},${r},${o},${e})`}function c(t){return a(t).hex().toLowerCase()}function s(t,e){return c(t)===c(e)}function l(t,e){const[n,r,u,i]=a(t).rgba(),[c,s,l,d]=a(e).rgba();if(1===i)return o.a.rgb(n,r,u).hex();const f=i+d*(1-i);return 0===f?"#00000000":`rgba(${Math.round((n*i+c*d*(1-i))/f)}, ${Math.round((r*i+s*d*(1-i))/f)}, ${Math.round((u*i+l*d*(1-i))/f)}, ${f})`}},131:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return l}));const r=["#20377d","#7de2d1","#ff957d","#f04e98","#0077cc","#fec514"],o={id:"elastic_brand_2023",name:"Elastic Brand",colorCount:r.length,type:"categorical",getColor:(t,e,n)=>r[n?t%r.length:t]};var a=n(134);const u=["#00a69b","#57c17b","#6f87d8","#663db8","#bc52bc","#9e3533","#daa05d"],i={id:"kibana_v7_legacy",name:"Kibana Legacy",colorCount:u.length,type:"categorical",getColor:(t,e,n)=>u[n?t%u.length:t]};var c=n(109);const s=new Map([[a.a.id,a.a],[o.id,o],[i.id,i],[c.a.id,c.a]]);function l(t,e){return n=>{var r;return null!==(r=t.get(n))&&void 0!==r?r:e}}},134:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));const r=["#54b399","#6092c0","#d36086","#9170b8","#ca8eae","#d6bf57","#b9a888","#da8b45","#aa6556","#e7664c"],o={id:"eui_amsterdam_color_blind",name:"Default",colorCount:r.length,type:"categorical",getColor:(t,e,n)=>r[n?t%r.length:t]}},152:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return c})),n.d(e,"a",(function(){return s})),n.d(e,"d",(function(){return l}));var r=n(131),o=n(134),a=n(109),u=n(153);const i=1,c=0,s={assignments:[],specialAssignments:[{rule:{type:"other"},color:{type:"loop"},touched:!1}],paletteId:o.a.id,colorMode:{type:"categorical"}};function l(t,e){const{colorMode:n,paletteId:o,assignments:i,specialAssignments:l}=null!=e?e:{...s},d=Object(r.b)(r.a,a.a);if("gradient"===n.type){const e=Object(u.c)(n,d,t);return Array.from({length:6},((t,n)=>e(n/6)))}{const e=d(o),n="loop"===l[c].color.type?Array.from({length:e.colorCount},((n,r)=>e.getColor(r,t,!0))):[Object(u.b)(l[c].color,d,t)];return[...i.map((e=>"gradient"===e.color.type?"":Object(u.b)(e.color,d,t))),...n].filter((t=>""!==t))}}},153:function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return c}));var r=n(114),o=n.n(r),a=(n(44),n(126));function u(t,e,n,r,o,a){switch(e.type){case"colorCode":case"categorical":case"loop":return i(e,n,r);case"gradient":{if("categorical"===t.type)return"red";const e=c(t,n,r);return 0===a?"red":e(1===a?0:o/(a-1))}}}function i(t,e,n){return"colorCode"===t.type?t.colorCode:Object(a.c)(e(t.paletteId).getColor(t.colorIndex,n,!0)).hex()}function c(t,e,n){const r=1===t.steps.length?[i(t.steps[0],e,n),Object(a.b)(Object(a.a)(i(t.steps[0],e,n),.3),n?"black":"white")]:t.steps.map((t=>i(t,e,n)));r.sort((()=>"asc"===t.sort?-1:1));const u=o.a.scale(r).mode("lab");return t=>u(t).hex()}n(109),n(185),n(152)},184:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=n(0).i18n.translate("visualizationUiComponents.emptyTitle",{defaultMessage:"[Untitled]"})},185:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return a}));var r=n(0);function o(t,e){switch(t.type){case"matchExactly":return Array.isArray(e)?t.values.some((t=>Array.isArray(t)&&t.length===e.length&&t.every(((t,n)=>t===e[n])))):t.values.includes(`${e}`);case"matchExactlyCI":return t.values.some((t=>t.toLowerCase()===`${e}`.toLowerCase()));case"range":return"number"==typeof e&&function(t,e){return t.min===t.max&&t.min===e||(t.minInclusive?e>=t.min:e>t.min)&&(t.maxInclusive?e<=t.max:e<t.max)}(t,e);default:return!1}}const a=new Map([["__other__",r.i18n.translate("coloring.colorMapping.terms.otherBucketLabel",{defaultMessage:"Other"})],["",r.i18n.translate("coloring.colorMapping.terms.emptyLabel",{defaultMessage:"(empty)"})]])},83:function(t,e,n){"use strict";n.r(e),n.d(e,"getVisualizeGeoFieldMessage",(function(){return m})),n.d(e,"getResolvedDateRange",(function(){return g})),n.d(e,"getAbsoluteDateRange",(function(){return b})),n.d(e,"convertToAbsoluteDateRange",(function(){return p})),n.d(e,"containsDynamicMath",(function(){return v})),n.d(e,"getTimeZone",(function(){return h})),n.d(e,"getActiveDatasourceIdFromDoc",(function(){return y})),n.d(e,"getActiveVisualizationIdFromDoc",(function(){return I})),n.d(e,"getInitialDatasourceId",(function(){return O})),n.d(e,"getInitialDataViewsObject",(function(){return D})),n.d(e,"refreshIndexPatternsList",(function(){return j})),n.d(e,"extractReferencesFromState",(function(){return x})),n.d(e,"getIndexPatternsIds",(function(){return _})),n.d(e,"getIndexPatternsObjects",(function(){return C})),n.d(e,"getRemoveOperation",(function(){return S})),n.d(e,"inferTimeField",(function(){return M})),n.d(e,"renewIDs",(function(){return w})),n.d(e,"DONT_CLOSE_DIMENSION_CONTAINER_ON_CLICK_CLASS",(function(){return R})),n.d(e,"isDraggedField",(function(){return A})),n.d(e,"isDraggedDataViewField",(function(){return L})),n.d(e,"isOperationFromCompatibleGroup",(function(){return P})),n.d(e,"isOperationFromTheSameGroup",(function(){return E})),n.d(e,"sortDataViewRefs",(function(){return F})),n.d(e,"getSearchWarningMessages",(function(){return z})),n.d(e,"getUniqueLabelGenerator",(function(){return k})),n.d(e,"nonNullable",(function(){return N})),n.d(e,"reorderElements",(function(){return V})),n.d(e,"shouldRemoveSource",(function(){return $})),n.d(e,"getColorMappingDefaults",(function(){return B})),n.d(e,"EXPRESSION_BUILD_ERROR_ID",(function(){return G}));var r=n(74),o=n(44),a=n(0),u=n(63),i=n.n(u),c=n(152),s=n(184),l=n(12),d=n(97),f=n(5);function m(t){return a.i18n.translate("xpack.lens.visualizeGeoFieldMessage",{defaultMessage:"Lens cannot visualize {fieldType} fields",values:{fieldType:t}})}const g=function(t){const{from:e,to:n}=t.getTime();return{fromDate:e,toDate:n}},b=function(t){const{from:e,to:n}=t.getTime(),{min:r,max:o}=t.calculateBounds({from:e,to:n});return{fromDate:(null==r?void 0:r.toISOString())||e,toDate:(null==o?void 0:o.toISOString())||n}},p=function(t,e){const n=Object(l.getAbsoluteTimeRange)({from:t.fromDate,to:t.toDate},{forceNow:e});return{fromDate:n.from,toDate:n.to}};function v(t){return t.includes("now")}function h(t){const e=t.get("dateFormat:tz");return"Browser"===e?i.a.tz.guess():e}function y(t){if(!t)return null;const[e]=Object.keys(t.state.datasourceStates);return e||null}function I(t){return t&&t.visualizationType||null}const O=(t,e)=>e&&y(e)||Object.keys(t)[0]||null;function D(t,e){return{indexPatterns:t,indexPatternRefs:e}}async function j({activeDatasources:t,indexPatternService:e,indexPatternId:n,indexPatternsCache:r}){const o=Object.values(t).map((t=>null==t?void 0:t.onRefreshIndexPattern)).filter(Boolean),a=(await e.loadIndexPatterns({cache:{},patterns:[n],onIndexPatternRefresh:()=>o.forEach((t=>t()))}))[n];e.updateDataViewsState({indexPatterns:{...r,[n]:a}})}function x({activeDatasources:t,datasourceStates:e,visualizationState:n,activeVisualization:r}){const o=[];if(Object.entries(t).forEach((([t,n])=>{const{savedObjectReferences:r}=n.getPersistableState(e[t].state);o.push(...r)})),null!=r&&r.getPersistableState){const{savedObjectReferences:t}=r.getPersistableState(n);o.push(...t)}return o}function _({activeDatasources:t,datasourceStates:e,visualizationState:n,activeVisualization:r}){const a=x({activeDatasources:t,datasourceStates:e,visualizationState:n,activeVisualization:r}),u=Object.entries(t).reduce(((t,[n,r])=>null==t?r.getUsedDataView(e[n].state):t),void 0),i=a.filter((({type:t})=>"index-pattern"===t)).map((({id:t})=>t));return u&&i.unshift(u),Object(o.uniq)(i)}async function C(t,e){const n=await Promise.allSettled(t.map((t=>e.get(t)))),r=n.filter((t=>"fulfilled"===t.status)),o=n.map(((e,n)=>t[n])).filter(((t,e)=>"rejected"===n[e].status));return{indexPatterns:r.map((t=>t.value)),rejectedIds:o}}function S(t,e,n,r){return t.getRemoveOperation?t.getRemoveOperation(e,n):1===r?"clear":"remove"}function M(t,e){const n=function(t){return"negate"in t.data&&t.data.negate?[]:Object(d.a)(t)?[{table:t.data.table,column:t.data.column}]:Object(d.d)(t)?t.data.data.map((({table:t,cells:e})=>({table:t,column:e[0].column}))):Object(d.c)(t)?t.data.data:t.data}(e);return Array.isArray(n)?n.map((({table:e,column:n})=>{var r;const o=e.columns[n];if(Boolean(o&&(null===(r=t.getDateHistogramMeta(o))||void 0===r?void 0:r.timeRange)))return o.meta.field})).find(Boolean):[n]}function w(t,e,n){t=Object(o.cloneDeep)(t);const a=(t,o,u)=>{if("object"==typeof t)Array.isArray(t)?t.forEach(((t,e,n)=>a(t,n,e))):t&&Object.keys(t).forEach((r=>{let o=r;var u;e.includes(r)&&(o=null!==(u=n(r))&&void 0!==u?u:r,t[o]=t[r],delete t[r]),a(t[o],t,o)}));else if(o&&void 0!==u&&"string"==typeof t&&e.includes(t)){var i;Object(r.set)(o,u,null!==(i=n(t))&&void 0!==i?i:t)}};return a(t),t}const R="lensDontCloseDimensionContainerOnClick";function A(t){return"object"==typeof t&&null!==t&&["id","field"].every((e=>e in t))}function L(t){return"object"==typeof t&&null!==t&&["id","field","indexPatternId"].every((e=>e in t))}const P=(t,e)=>Object(d.f)(t)&&Object(d.f)(e)&&t.columnId!==e.columnId&&t.groupId===e.groupId&&t.layerId!==e.layerId,E=(t,e)=>Object(d.f)(t)&&Object(d.f)(e)&&t.columnId!==e.columnId&&t.groupId===e.groupId&&t.layerId===e.layerId,F=t=>t.sort(((t,e)=>t.title.localeCompare(e.title))),z=(t,e,n,r)=>{const o=[];return r.searchService.showWarnings(t,((t,r)=>{var a;const{request:u,response:i}=r,c=null===(a=e.getSearchWarningMessages)||void 0===a?void 0:a.call(e,n,t,u,i);return!(null==c||!c.length||(o.push(...c),0))})),o};function T(t){return t.trim().length?t:s.a}function k(){const t={};return function(e){let n=T(e);for(;t[n]>=0;){const r=++t[n];n=a.i18n.translate("xpack.lens.uniqueLabel",{defaultMessage:"{label} [{num}]",values:{label:T(e),num:r}})}return t[n]=0,n}}function N(t){return null!=t}function V(t,e,n){const r=t.filter((t=>t!==n)),o=t.findIndex((t=>t===n)),a=t.findIndex((t=>t===e)),u=r.indexOf(e);return r.splice(o<a?u+1:u,0,n),r}function $(t,e){return Object(d.f)(t)&&("move_compatible"===e||"move_incompatible"===e||"combine_incompatible"===e||"combine_compatible"===e||"replace_compatible"===e||"replace_incompatible"===e)}const B=()=>{if(!f.COLOR_MAPPING_OFF_BY_DEFAULT)return{...c.a}},G="expression_build_error"},97:function(t,e,n){"use strict";function r(t){return"object"==typeof t&&null!==t&&"columnId"in t}function o(t){return"filter"===t.name}function a(t){return"multiFilter"===t.name}function u(t){return"brush"===t.name}function i(t){return"edit"===t.name}function c(t){return"tableRowContextMenuClick"===t.name}n.d(e,"f",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return a})),n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return i})),n.d(e,"e",(function(){return c})),n(125)}}]);