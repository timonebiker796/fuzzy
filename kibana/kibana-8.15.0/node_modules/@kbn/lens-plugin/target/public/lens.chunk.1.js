/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.lens_bundle_jsonpfunction=window.lens_bundle_jsonpfunction||[]).push([[1],{102:function(e,t,a){"use strict";var n=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function o(e,t){if(e.length!==t.length)return!1;for(var a=0;a<e.length;a++)if(!((o=e[a])===(i=t[a])||n(o)&&n(i)))return!1;var o,i;return!0}e.exports=function(e,t){void 0===t&&(t=o);var a=null;function n(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];if(a&&a.lastThis===this&&t(n,a.lastArgs))return a.lastResult;var i=e.apply(this,n);return a={lastResult:i,lastArgs:n,lastThis:this},i}return n.clear=function(){a=null},n}},110:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return r}));var n=a(0);function o(e,t){if(!t)return!1;const a=null==e?void 0:e.getOperationForColumnId(t);return Boolean(a&&"number"===a.dataType&&"interval"===a.scale)}function i(e,t,a){const n=null==t?void 0:t[e];if(a&&n){const e=n.rows.map((({[a]:e})=>e)).filter((e=>null!=e)).sort(((e,t)=>e-t));if(e.length)return{min:e[0],max:e[e.length-1]}}}function r(e,t,a){if(!((o=t)&&null!=o.lowerBound&&null!=o.upperBound&&o.upperBound>o.lowerBound))return{errorMsg:n.i18n.translate("xpack.lens.axisExtent.boundaryError",{defaultMessage:"Lower bound should be less than upper bound"})};var o;if("log"===a){const e=function(e){return e&&null!=e.lowerBound&&null!=e.upperBound&&(e.lowerBound<0&&e.upperBound<0||e.lowerBound>0&&e.upperBound>0)}(t)?"helpMsg":"errorMsg";return{[e]:n.i18n.translate("xpack.lens.axisExtent.logExcludeZero",{defaultMessage:"Logarithmic bounds must not contain zero"})}}if(e){const e=function(e){return e&&null!=e.lowerBound&&null!=e.upperBound&&e.lowerBound<=0&&e.upperBound>=0}(t)?"helpMsg":"errorMsg";return{[e]:n.i18n.translate("xpack.lens.axisExtent.inclusiveZero",{defaultMessage:"Bounds must contain zero"})}}return{}}},115:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n="event-annotation-group"},116:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"c",(function(){return s})),a.d(t,"d",(function(){return l})),a.d(t,"b",(function(){return c}));var n=a(47),o=a(124),i=a(92);function r({datasourceMap:e,datasourceStates:t,visualizationMap:a,activeVisualization:i,subVisualizationId:r,visualizationState:s,field:l,visualizeTriggerFieldContext:c,activeData:d,dataViews:u,mainPalette:p,allowMixed:b}){const g=Object.entries(e).filter((([e])=>t[e]&&!t[e].isLoading)),m=g.reduce(((e,[a,o])=>{const r=t[a].state;if(!i||!r)return e;const l=o.getLayers(r);for(const t of l){const a=i.getLayerType(t,s)||n.LayerTypes.DATA;e[t]=a}return e}),{}),f=(e,t)=>{var a;return t.includes(null!==(a=m[e])&&void 0!==a?a:n.LayerTypes.DATA)},x=g.flatMap((([e,a])=>{const i=t[e].state;let r;try{r=c?"isVisualizeAction"in c?a.getDatasourceSuggestionsForVisualizeCharts(i,c.layers,u.indexPatterns):a.getDatasourceSuggestionsForVisualizeField(i,c.dataViewSpec.id,c.fieldName,u.indexPatterns):l?a.getDatasourceSuggestionsForField(i,l,(e=>f(e,[n.LayerTypes.DATA])),u.indexPatterns):a.getDatasourceSuggestionsFromCurrentState(i,u.indexPatterns,(e=>f(e,[n.LayerTypes.DATA])),d)}catch(e){return Object(o.c)(e),[]}return r.map((t=>({...t,datasourceId:e})))}));return Object.entries(a).flatMap((([e,t])=>{if(!t)return[];const a=t.getSupportedLayers().map((({type:e})=>e));return x.filter((e=>{const t=e.keptLayerIds.filter((e=>f(e,a))).length;return t||t===e.keptLayerIds.length})).flatMap((n=>{var l;const u=n.datasourceId,g=n.table,m=e===(null==i?void 0:i.id)?s:void 0,x=p||(null==i||null===(l=i.getMainPalette)||void 0===l?void 0:l.call(i,s));return function(e,t,a,n,i,r,s,l,c,d,u){try{return e.getSuggestions({table:t,state:i,keptLayerIds:n.keptLayerIds,subVisualizationId:r,mainPalette:s,isFromContext:l,activeData:c,allowMixed:d,datasourceId:u}).map((({state:e,...o})=>({...o,visualizationId:a,visualizationState:e,keptLayerIds:n.keptLayerIds,datasourceState:n.state,datasourceId:n.datasourceId,columns:t.columns.length,changeType:t.changeType})))}catch(e){return Object(o.c)(e),[]}}(t,g,e,{...n,keptLayerIds:n.keptLayerIds.filter((e=>f(e,a)))},m,r,x,c&&"isVisualizeAction"in c,d,b,u)}))})).sort(((e,t)=>t.score-e.score))}function s({datasourceMap:e,datasourceStates:t,visualizationMap:a,visualizeTriggerFieldContext:n,dataViews:o}){const i=(null==a?void 0:a[Object.keys(a)[0]])||null,s=r({datasourceMap:e,datasourceStates:t,visualizationMap:a,activeVisualization:i,visualizationState:void 0,visualizeTriggerFieldContext:n,dataViews:o});if(n&&"isVisualizeAction"in n){var l;const e=s.filter((e=>e.visualizationId===n.type)),t=a[n.type]||null;return null==t||null===(l=t.getSuggestionFromConvertToLensContext)||void 0===l?void 0:l.call(t,{suggestions:e,context:n})}return n&&"query"in n&&n.query?s.find((e=>"textBased"===e.datasourceId)):s.length?s.find((e=>e.visualizationId===(null==i?void 0:i.id)))||s[0]:void 0}function l(e,t,a){e(Object(i.S)({suggestion:{newVisualizationId:t.visualizationId,visualizationState:t.visualizationState,datasourceState:t.datasourceState,datasourceId:t.datasourceId},clearStagedPreview:null==a?void 0:a.clearStagedPreview})),null!=a&&a.applyImmediately&&e(Object(i.b)())}function c(e,t,a,n,o,i,s,l){var c;const d=Object.values(e).some((e=>e&&e.getTableSpec().length>0)),u=t.activeId?n[t.activeId]:void 0,p=null==u||null===(c=u.getMainPalette)||void 0===c?void 0:c.call(u,t.state),b=r({datasourceMap:{[o.id]:o},datasourceStates:a,visualizationMap:d&&t.activeId?{[t.activeId]:u}:n,activeVisualization:u,visualizationState:t.state,field:i,mainPalette:p,dataViews:s,allowMixed:l});return b.find((e=>e.visualizationId===t.activeId))||b.filter((e=>!e.hide))[0]||b[0]}},117:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(0),o=a(5);const i=n.i18n.translate("xpack.lens.indexPattern.records",{defaultMessage:"Records"}),r={displayName:i,customLabel:i,name:o.DOCUMENT_FIELD_NAME,type:"document",aggregatable:!0,searchable:!0}},124:function(e,t,a){"use strict";a.d(t,"a",(function(){return error_boundary_ErrorBoundary})),a.d(t,"b",(function(){return d.a})),a.d(t,"c",(function(){return d.b}));var n=a(1),o=a.n(n),i=a(3),r=a.n(i),s=a(6),l=a(4);const c=({error:e})=>{throw e};class error_boundary_ErrorBoundary extends r.a.Component{constructor(...e){super(...e),o()(this,"state",{originalError:void 0})}static getDerivedStateFromError(e){return{originalError:e}}componentDidCatch(e){var t,a;null===(t=(a=this.props).onError)||void 0===t||t.call(a,e)}static getDerivedStateFromProps(){return{originalError:void 0}}render(){var e;return null!==(e=this.state)&&void 0!==e&&e.originalError?Object(l.jsx)(s.EuiErrorBoundary,null,Object(l.jsx)(c,{error:this.state.originalError})):this.props.children}}var d=a(136)},128:function(e,t,a){"use strict";a.d(t,"b",(function(){return f})),a.d(t,"d",(function(){return h})),a.d(t,"e",(function(){return v})),a.d(t,"c",(function(){return y})),a.d(t,"f",(function(){return j})),a.d(t,"a",(function(){return _}));var n=a(44),o=a(152),i=a(57),r=a(115),s=a(5),l=a(138),c=a(83),d=a(129),u=a(139),p=a(137);const b=s.COLOR_MAPPING_OFF_BY_DEFAULT?{type:"legacyPalette",value:{name:"default",type:"palette"}}:{type:"colorMapping",value:{...o.a}},g=(e,t)=>{var a;const n=Object(d.b)(e,"indexPatternId");return n&&(null===(a=t.find((e=>e.id===n)))||void 0===a?void 0:a.id)},m=(e,t,a)=>{const n=e.map((({id:e})=>e)),o=t.filter((e=>!n.includes(e)));return Object.values(a).filter((({id:e})=>o.includes(e))).map((({id:e,title:t,name:a})=>({id:e,title:t,name:a})))};async function f({dataViews:e,datasourceMap:t,datasourceStates:a,storage:o,defaultIndexPatternId:r,references:s,initialContext:l,adHocDataViews:d,annotationGroups:p},b){var f;const x=Object.fromEntries(Object.entries(d||{}).map((([e,t])=>[e,i.DataViewPersistableStateService.inject(t,s||[])]))),h=Object.values(p);for(const e of h){var v;null!==(v=e.dataViewSpec)&&void 0!==v&&v.id&&(x[e.dataViewSpec.id]=e.dataViewSpec)}const{isFullEditor:y}=null!=b?b:{},j=await(y?Object(u.d)(e):[]),_=g(o,j)||r||(null===(f=j[0])||void 0===f?void 0:f.id),O=!l&&Object.keys(t).every((e=>{var t;return!(null!==(t=a[e])&&void 0!==t&&t.state)}))?_:void 0,w=Object.keys(x||{}),L=function(e,t,a,n,o){const i=[...e];if(!a&&n&&i.push(n),a&&("isVisualizeAction"in a?i.push(...a.indexPatternIds):i.push(a.dataViewSpec.id)),t)for(const e of t)"index-pattern"===e.type&&i.push(e.id);return o&&i.push(...o),[...new Set(i)]}(h.map((e=>e.indexPatternId)),s,l,O,w),S=new Set(j.map((({id:e})=>e))),I=Object(n.difference)([...S],L),D=await Object(u.e)({dataViews:e,patterns:L,notUsedPatterns:I,cache:{},adHocDataViews:x}),k=m(j,L,D);return{indexPatternRefs:Object(c.sortDataViewRefs)([...j,...k]),indexPatterns:D}}const x=async(e,t)=>{const a={};return await Promise.allSettled((t||[]).filter((e=>e.type===r.a)).map((({id:t})=>e.loadAnnotationGroup(t).then((e=>{a[t]=e}))))),a};async function h({dataViews:e,eventAnnotationService:t,datasourceMap:a,visualizationMap:n,visualizationState:o,datasourceStates:i,storage:r,defaultIndexPatternId:s,references:l,initialContext:c,adHocDataViews:d},u){const p=await x(t,l),{indexPatternRefs:b,indexPatterns:g}=await f({datasourceMap:a,datasourceStates:i,initialContext:c,dataViews:e,storage:r,defaultIndexPatternId:s,references:l,adHocDataViews:d,annotationGroups:p},u);return{indexPatterns:g,indexPatternRefs:b,annotationGroups:p,datasourceStates:y({datasourceMap:a,datasourceStates:i,initialContext:c,indexPatternRefs:b,indexPatterns:g,references:l}),visualizationState:v({visualizationMap:n,visualizationState:o,references:l,initialContext:c,annotationGroups:p})}}function v({visualizationMap:e,visualizationState:t,references:a,annotationGroups:n}){var o,i;return null!=t&&t.activeId&&null!==(o=null===(i=e[t.activeId])||void 0===i?void 0:i.initialize((()=>""),t.state,b,n,a))&&void 0!==o?o:t.state}function y({datasourceMap:e,datasourceStates:t,indexPatternRefs:a,indexPatterns:n,references:o,initialContext:i}){const r={};for(const[s,l]of Object.entries(e))if(t[s]){const e=l.initialize(t[s].state||void 0,o,i,a,n);r[s]={isLoading:!1,state:e}}return r}async function j(e,t,a,n){const{state:{visualization:o,datasourceStates:i,adHocDataViews:r,internalReferences:s},visualizationType:d,references:u,title:b,description:g}=a;if(!d)return{ast:null,indexPatterns:{},indexPatternRefs:[],activeVisualizationState:null};const m=await x(n.eventAnnotationService,u),h=t[d],j=v({visualizationMap:t,visualizationState:{state:o,activeId:d},annotationGroups:m,references:[...u,...s||[]]}),_=Object.fromEntries(Object.entries(i).map((([e,t])=>[e,{isLoading:!1,state:t}]))),{indexPatterns:O,indexPatternRefs:w}=await f({datasourceMap:e,datasourceStates:_,references:u,dataViews:n.dataViews,storage:n.storage,defaultIndexPatternId:n.uiSettings.get("defaultIndex"),adHocDataViews:r,annotationGroups:m},{isFullEditor:!1}),L=y({datasourceMap:e,datasourceStates:_,references:[...u,...s||[]],indexPatterns:O,indexPatternRefs:w}),S=Object(p.a)(L,e,O);if(null==Object(c.getActiveDatasourceIdFromDoc)(a))return{ast:null,indexPatterns:O,indexPatternRefs:w,activeVisualizationState:j};const I=n.timefilter.getAbsoluteTime();return{ast:Object(l.a)({title:b,description:g,visualization:h,visualizationState:j,datasourceMap:e,datasourceStates:L,datasourceLayers:S,indexPatterns:O,dateRange:{fromDate:I.from,toDate:I.to},nowInstant:n.nowProvider.get()}),activeVisualizationState:j,indexPatterns:O,indexPatternRefs:w}}function _(e,t,a){if(null!=t&&t.isLoading||null==(null==t?void 0:t.state)||null==e)return[];const n=e.checkIntegrity(t.state,a);return n.length?n:[]}},129:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return i}));const n="lens-settings",o=(e,t)=>{const a=e.get(n);return a&&a[t]},i=(e,t,a)=>{e.set(n,{...e.get(n),[t]:a})}},132:function(e,t,a){"use strict";a.d(t,"b",(function(){return g})),a.d(t,"a",(function(){return m})),a.d(t,"c",(function(){return x}));var n=a(3),o=a.n(n),i=a(0),r=a(626),s=a(201),l=a(4);const c=({children:e,...t})=>{if((e=>void 0!==e.coreStart)(t)){const{coreStart:a,...n}=t,o=Object(l.jsx)(r.a,n,e);return Object(l.jsx)(s.a,{coreStart:a},o)}const{navigateToUrl:a,currentAppId:n,...o}=t,i=Object(l.jsx)(r.a,o,e);return Object(l.jsx)(s.b,{currentAppId:n,navigateToUrl:a},i)};var d=a(11),u=a(92),p=a(128),b=a(91);const g=({visualizationType:e,visualization:t,visualizationState:a,activeDatasource:n,activeDatasourceState:r,dataViews:s,core:u})=>{const g=[];var m;e||g.push({uniqueId:b.m,severity:"error",displayLocations:[{id:"visualizationOnEmbeddable"}],fixableInEditor:!0,shortMessage:"",longMessage:i.i18n.translate("xpack.lens.editorFrame.expressionMissingVisualizationType",{defaultMessage:"Visualization type not found."})}),null!=a&&a.activeId&&!t&&g.push((m=a.activeId,{uniqueId:b.o,severity:"error",fixableInEditor:!1,displayLocations:[{id:"visualization"}],shortMessage:i.i18n.translate("xpack.lens.unknownVisType.shortMessage",{defaultMessage:"Unknown visualization type"}),longMessage:i.i18n.translate("xpack.lens.unknownVisType.longMessage",{defaultMessage:"The visualization type {visType} could not be resolved.",values:{visType:m}})})),n||g.push({uniqueId:b.n,severity:"error",fixableInEditor:!1,displayLocations:[{id:"visualization"}],shortMessage:i.i18n.translate("xpack.lens.unknownDatasourceType.shortMessage",{defaultMessage:"Unknown datasource type"}),longMessage:i.i18n.translate("xpack.lens.editorFrame.expressionMissingDatasource",{defaultMessage:"Could not find datasource for the visualization"})});const f=Object(p.a)(n,r,s.indexPatterns);return f.length&&g.push(...function(e,t){const{management:a}=e.application.capabilities.navLinks,n=e.application.capabilities.management.kibana.indexPatterns,r=a&&n;return[{uniqueId:b.k,severity:"error",fixableInEditor:r,displayLocations:[{id:"visualizationInEditor"}],shortMessage:"",longMessage:Object(l.jsx)(o.a.Fragment,null,Object(l.jsx)("p",{className:"eui-textBreakWord","data-test-subj":"missing-refs-failure"},Object(l.jsx)(d.FormattedMessage,{id:"xpack.lens.editorFrame.dataViewNotFound",defaultMessage:"Data view not found"})),Object(l.jsx)("p",{className:"eui-textBreakWord",style:{userSelect:"text"}},Object(l.jsx)(d.FormattedMessage,{id:"xpack.lens.indexPattern.missingDataView",defaultMessage:"The {count, plural, one {data view} other {data views}} ({count, plural, one {id} other {ids}}: {indexpatterns}) cannot be found.",values:{count:t.length,indexpatterns:t.join(", ")}}),r&&Object(l.jsx)(c,{coreStart:e},Object(l.jsx)("a",{href:e.application.getUrlForApp("management",{path:"/kibana/indexPatterns/create"}),style:{width:"100%",textAlign:"center"},"data-test-subj":"configuration-failure-reconfigure-indexpatterns"},i.i18n.translate("xpack.lens.editorFrame.dataViewReconfigure",{defaultMessage:"Recreate it in the data view management page."})))))},{uniqueId:b.l,severity:"error",fixableInEditor:r,displayLocations:[{id:"visualizationOnEmbeddable"}],shortMessage:"",longMessage:i.i18n.translate("xpack.lens.editorFrame.expressionMissingDataView",{defaultMessage:"Could not find the {count, plural, one {data view} other {data views}}: {ids}",values:{count:t.length,ids:t.join(", ")}})}]}(u,f)),g},m=(e,t,{dimensionId:a,severity:n}={})=>{const o=Array.isArray(t)?t:"string"==typeof t?[t]:[];return e.filter((e=>!(o.length&&!e.displayLocations.some((e=>!(!o.includes(e.id)||"dimensionButton"===e.id&&e.dimensionId!==a))))&&(!n||e.severity===n))).sort(f)};function f(e,t){return e.severity===t.severity?0:"error"===e.severity?-1:"error"===t.severity?1:"warning"===e.severity?-1:1}const x=({coreStart:e,dispatch:t,activeDatasourceId:a,datasource:o,datasourceState:i,framePublicAPI:r,visualizationType:s,visualization:l,visualizationState:c})=>{const[d,p]=Object(n.useState)([]),[b,f]=Object(n.useState)({});return Object(n.useEffect)((()=>{var n,d;p([...i&&i.state&&o&&a?o.getUserMessages(i.state,{frame:r,setState:e=>{t(Object(u.T)({newDatasourceState:"function"==typeof e?e(i.state):e,datasourceId:a}))}}):[],...null!=c&&c.activeId&&c.state&&null!==(n=null==l||null===(d=l.getUserMessages)||void 0===d?void 0:d.call(l,c.state,{frame:r}))&&void 0!==n?n:[],...g({visualizationType:s,visualization:l,visualizationState:c,activeDatasource:o,activeDatasourceState:i,core:e,dataViews:r.dataViews})])}),[a,o,i,t,r,l,c,s,e]),{getUserMessages:(e,t)=>m([...d,...Object.values(b)],e,null!=t?t:{}),addUserMessages:e=>{const t={...b},a=[];return e.forEach((e=>{t[e.uniqueId]||(a.push(e.uniqueId),t[e.uniqueId]=e)})),a.length&&f(t),()=>{const e={...b};a.forEach((t=>delete e[t])),f(e)}}}}},133:function(e,t,a){"use strict";a.d(t,"a",(function(){return m})),a.d(t,"b",(function(){return h})),a.d(t,"c",(function(){return j}));var n=a(4),o=(a(165),a(3)),i=a.n(o),r=a(6),s=a(46),l=a.n(s),c=a(11),d=a(83),u=a(203),p=a(92),b=a(0);function g(){const e=Object(p.X)((e=>{var t;return null===(t=e.lens.persistedDoc)||void 0===t?void 0:t.title}));return Object(n.jsx)(r.EuiScreenReaderOnly,null,Object(n.jsx)("h1",{id:"lns_ChartTitle","data-test-subj":"lns_ChartTitle"},e||b.i18n.translate("xpack.lens.chartTitle.unsaved",{defaultMessage:"Unsaved visualization"})))}const m="autoApplyDisabled",f={pixels:"px",percentage:"%"},x=({x:e,y:t})=>({aspectRatio:`${e}/${t}`,...t>e?{height:"100%",width:"auto"}:{height:"auto",width:"100%"}});function h(e){var t;const a=Object(p.W)(),s=Object(p.X)(p.K),{activeVisualization:c,isFixedPosition:d}=e,u=Object(o.useCallback)((e=>{c&&a(Object(p.V)({visualizationId:c.id,newState:e}))}),[a,c]),b=null===(t=e.activeVisualization)||void 0===t?void 0:t.ToolbarComponent;return Object(n.jsx)(i.a.Fragment,null,b&&Object(n.jsx)(r.EuiFlexItem,{grow:!1,className:l()({"lnsVisualizationToolbar--fixed":d})},b({frame:e.framePublicAPI,state:s.state,setState:u})))}var v={name:"13udsys",styles:"height:100%"},y={name:"13udsys",styles:"height:100%"};function j({children:e,framePublicAPI:t,visualizationId:a,visualizationMap:o,datasourceMap:i,isFullscreen:s,getUserMessages:b,displayOptions:m}){const j=Object(p.W)(),_=Object(p.X)(p.u),O=Object(p.X)(p.t),w=a?o[a]:null,L=b("toolbar"),S=null==m?void 0:m.aspectRatio,I=null==m?void 0:m.maxDimensions,D=null==m?void 0:m.minDimensions;let k={};return S&&(k=x(null!=S?S:I)),I&&(k.maxWidth=I.x?`${I.x.value}${f[I.x.unit]}`:"",k.maxHeight=I.y?`${I.y.value}${f[I.y.unit]}`:""),D&&(k.minWidth=D.x?`${D.x.value}${f[D.x.unit]}`:"",k.minHeight=D.y?`${D.y.value}${f[D.y.unit]}`:""),Object(n.jsx)(r.EuiPageTemplate,{direction:"column",offset:0,minHeight:0,restrictWidth:!1,mainProps:{component:"div"}},!(s&&(O||null!=L&&L.length))&&Object(n.jsx)(r.EuiPageTemplate.Section,{paddingSize:"none",color:"transparent",className:"hide-for-sharing"},Object(n.jsx)(r.EuiFlexGroup,{alignItems:"flexEnd",gutterSize:"s",direction:"row",className:l()("lnsWorkspacePanelWrapper__toolbar",{"lnsWorkspacePanelWrapper__toolbar--fullscreen":s}),responsive:!1},!s&&Object(n.jsx)(r.EuiFlexItem,null,Object(n.jsx)(r.EuiFlexGroup,{alignItems:"center",gutterSize:"s",responsive:!1,wrap:!0},Object(n.jsx)(h,{activeVisualization:w,framePublicAPI:t}))),Object(n.jsx)(r.EuiFlexItem,{grow:!1},Object(n.jsx)(r.EuiFlexGroup,{alignItems:"center",gutterSize:"s",responsive:!1},null!=L&&L.length?Object(n.jsx)(r.EuiFlexItem,{grow:!1},Object(n.jsx)(u.a,{messages:L})):null,!O&&Object(n.jsx)(r.EuiFlexItem,{grow:!1},Object(n.jsx)(r.EuiButton,{disabled:O||_,fill:!0,className:"lnsWorkspacePanelWrapper__applyButton "+d.DONT_CLOSE_DIMENSION_CONTAINER_ON_CLICK_CLASS,iconType:"checkInCircleFilled",onClick:()=>j(Object(p.b)()),size:"m","data-test-subj":"lnsApplyChanges__toolbar",minWidth:"auto"},Object(n.jsx)(c.FormattedMessage,{id:"xpack.lens.editorFrame.applyChangesLabel",defaultMessage:"Apply changes"}))))))),Object(n.jsx)(r.EuiPageTemplate.Section,{grow:!0,paddingSize:"none",contentProps:{className:"lnsWorkspacePanelWrapper__content"},className:l()("lnsWorkspacePanelWrapper stretch-for-sharing",{"lnsWorkspacePanelWrapper--fullscreen":s}),css:y,color:"transparent"},Object(n.jsx)(r.EuiFlexGroup,{gutterSize:"none",alignItems:"center",justifyContent:"center",direction:"column",css:v},Object(n.jsx)(r.EuiFlexItem,{"data-test-subj":"lnsWorkspacePanelWrapper__innerContent",grow:!1,css:Object(n.css)({flexGrow:0,height:"100%",width:"100%",...k},"","")},Object(n.jsx)(g,null),e))))}},135:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(39),o=a(3),i=n.__importDefault(a(277));t.default=function(e,t,a){void 0===t&&(t=0),void 0===a&&(a=[]);var n=i.default(e,t),r=n[0],s=n[1],l=n[2];return o.useEffect(l,a),[r,s]}},136:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return l}));var n=a(0),o=a(70);const[i,r]=Object(o.createGetterSetter)("MemoizedErrorNotification",!1),s=e=>{var t;return null===(t=i())||void 0===t?void 0:t(e)},l=e=>{r((e=>{const t=new Map;return a=>{const{message:o}=a;o&&(t.has(o)||(e.notifications.toasts.addError(a,{title:n.i18n.translate("xpack.lens.uiErrors.unexpectedError",{defaultMessage:"An unexpected error occurred."})}),t.set(o,!0)))}})(e))}},137:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(102);const o=a.n(n)()((function(e,t,a){const n={};return Object.keys(t).filter((t=>e[t]&&!e[t].isLoading)).forEach((o=>{const i=e[o].state;t[o].getLayers(i).forEach((e=>{n[e]=t[o].getPublicAPI({state:i,layerId:e,indexPatterns:a})}))})),n}))},138:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return i}));var n=a(143);function o(e,t,a,o,i,r){const s=[];return Object.entries(e).forEach((([e,n])=>{var l;const c=null===(l=t[e])||void 0===l?void 0:l.state;c&&n.getLayers(c).forEach((e=>{const t=n.toExpression(c,e,a,o,i,r);t&&s.push([e,t])}))})),0===s.length?null:s.reduce(((e,[t,a])=>({...e,[t]:"string"==typeof a?Object(n.a)(a):a})),{})}function i({visualization:e,visualizationState:t,datasourceMap:a,datasourceStates:i,datasourceLayers:r,title:s,description:l,indexPatterns:c,dateRange:d,nowInstant:u,searchSessionId:p}){if(null==e)return null;const b=o(a,i,c,d,u,p),g=e.toExpression(t,r,{title:s,description:l},null!=b?b:void 0);return null===b||null===g?null:"string"==typeof g?Object(n.a)(g):g}},139:function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return c})),a.d(t,"d",(function(){return d})),a.d(t,"e",(function(){return b})),a.d(t,"c",(function(){return g}));var n=a(656),o=a(44),i=a(117),r=a(83);function s(e){const t=Object(o.keyBy)(e,"name");return e=>t[e]}function l(e,t=p){const a=new Set(e.metaFields),o=e.fields.filter(n.a).map((e=>c(e,a))).concat(i.a),{typeMeta:r,title:l,name:d,timeFieldName:u,fieldFormatMap:b}=e;if(null!=r&&r.aggs){const e=Object.keys(r.aggs);o.forEach(((a,n)=>{const i={};e.forEach((e=>{const n=r.aggs&&r.aggs[e]&&r.aggs[e][a.name];n&&(i[t(e)]=n)})),Object.keys(i).length&&(o[n]={...a,aggregationRestrictions:i})}))}return{id:e.id,title:l,name:d||l,timeFieldName:u,fieldFormatMap:b&&Object.fromEntries(Object.entries(b).map((([e,t])=>[e,"toJSON"in t?t.toJSON():t]))),fields:o,getFieldByName:s(o),hasRestrictions:!(null==r||!r.aggs),spec:e.toSpec(!1),isPersisted:e.isPersisted()}}function c(e,t){const a=!!t&&t.has(e.name),n={name:e.name,displayName:e.displayName,type:e.type,aggregatable:e.aggregatable,filterable:e.filterable,searchable:e.searchable,meta:a,esTypes:e.esTypes,scripted:e.scripted,isMapped:e.isMapped,customLabel:e.customLabel,customDescription:e.customDescription,runtimeField:e.runtimeField,runtime:Boolean(e.runtimeField),timeSeriesDimension:e.timeSeriesDimension,timeSeriesMetric:e.timeSeriesMetric,timeSeriesRollup:e.isRolledUpField,partiallyApplicableFunctions:e.isRolledUpField?{percentile:!0,percentile_rank:!0,median:!0,last_value:!0,unique_count:!0,standard_deviation:!0}:void 0};return n.scripted?{...n,lang:e.lang,script:e.script}:n}async function d(e){const t=await e.getIdsWithTitle();return Object(r.sortDataViewRefs)(t)}const u={avg:"average",cardinality:"unique_count"};function p(e){return e in u?u[e]:e}async function b({dataViews:e,patterns:t,notUsedPatterns:a,cache:n,adHocDataViews:o,onIndexPatternRefresh:i}){const r=t.filter((e=>!(n[e]||null!=o&&o[e]))),s=Object.values(o||{}).length>0;if(0===r.length&&!s)return n;null==i||i();let c=(await Promise.allSettled(r.map((t=>e.get(t))))).filter((e=>"fulfilled"===e.status)).map((e=>e.value));if(!c.length&&!s&&a)for(const t of a){const a=await e.get(t).catch((e=>{}));if(a){c=[a];break}}return c.push(...await Promise.all(Object.values(o||{}).map((t=>e.create(t))))),c.reduce(((e,t)=>({[t.id]:l(t,p),...e})),{...n})}async function g({id:e,onError:t,dataViews:a,cache:n={}}){const o=await b({dataViews:a,cache:n,patterns:[e]});if(null!=o[e])return{...n,[e]:o[e]};t(Error("Missing indexpatterns"))}},140:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return i}));const n="domDragDrop",o=32,i=16},143:function(e,t,a){"use strict";function n(e){return"object"==typeof(null==e?void 0:e.node)}function o(e){return"object"==typeof e&&"expression"===(null==e?void 0:e.type)}function i(e,t,a,n){var o=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(o,i.prototype),o.expected=t,o.found=a,o.location=n,o.name="SyntaxError",o}function r(e,t,a){return a=a||" ",e.length>t?e:(t-=e.length,e+(a+=a.repeat(t)).slice(0,t))}a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return f})),function(e,t){function a(){this.constructor=e}a.prototype=t.prototype,e.prototype=new a}(i,Error),i.prototype.format=function(e){var t="Error: "+this.message;if(this.location){var a,n=null;for(a=0;a<e.length;a++)if(e[a].source===this.location.source){n=e[a].text.split(/\r\n|\n|\r/g);break}var o=this.location.start,i=this.location.source+":"+o.line+":"+o.column;if(n){var s=this.location.end,l=r("",o.line.toString().length),c=n[o.line-1],d=o.line===s.line?s.column:c.length+1;t+="\n --\x3e "+i+"\n"+l+" |\n"+o.line+" | "+c+"\n"+l+" | "+r("",o.column-1)+r("",d-o.column,"^")}else t+="\n at "+i}return t},i.buildMessage=function(e,t){var a={literal:function(e){return'"'+o(e.text)+'"'},class:function(e){var t=e.parts.map((function(e){return Array.isArray(e)?i(e[0])+"-"+i(e[1]):i(e)}));return"["+(e.inverted?"^":"")+t+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(e){return e.description}};function n(e){return e.charCodeAt(0).toString(16).toUpperCase()}function o(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+n(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+n(e)}))}function i(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+n(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+n(e)}))}function r(e){return a[e.type](e)}return"Expected "+function(e){var t,a,n=e.map(r);if(n.sort(),n.length>0){for(t=1,a=1;t<n.length;t++)n[t-1]!==n[t]&&(n[a]=n[t],a++);n.length=a}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}(e)+" but "+function(e){return e?'"'+o(e)+'"':"end of input"}(t)+" found."};const s=function(e,t){var a,n={},o=(t=void 0!==t?t:{}).grammarSource,r={expression:ye,argument:Oe},s=ye,l="|",c="=",d="$",u="{",p="}",b='"',g="'",m="//",f="/*",x="*/",h="\\",v=/^[a-zA-Z0-9_\-]/,y=/^[ \t\r\n]/,j=/^[^\n]/,_=/^["'(){}<>[\]$`|= \t\n\r]/,O=/^[^"'(){}<>[\]$`|= \t\n\r]/,w=/^[^"]/,L=/^[^']/,S=ge("|",!1),I=fe("function"),D=ge("=",!1),k=ge("$",!1),C=ge("{",!1),P=ge("}",!1),T=me([["a","z"],["A","Z"],["0","9"],"_","-"],!1,!1),z=fe("literal"),E=ge('"',!1),M=ge("'",!1),F=me([" ","\t","\r","\n"],!1,!1),A=ge("//",!1),N=me(["\n"],!0,!1),W=ge("/*",!1),R=ge("*/",!1),B={type:"any"},V=ge("\\",!1),G=me(['"',"'","(",")","{","}","<",">","[","]","$","`","|","="," ","\t","\n","\r"],!1,!1),$=me(['"',"'","(",")","{","}","<",">","[","]","$","`","|","="," ","\t","\n","\r"],!0,!1),H=me(['"'],!0,!1),U=me(["'"],!0,!1),q=function(e,t){return t},X=function(e,t){return Pe({type:"expression",chain:e?[e].concat(t):[]},pe(),be())},Y=function(e,t){return Pe({type:"function",function:e,arguments:t},pe(),be())},K=function(e,t){return{name:e,value:t}},J=function(e){return{name:"_",value:e}},Q=function(e){return e},Z=function(e){return Pe(e,pe(),be())},ee=function(e){return e},te=function(e){return e.reduce(((e,{name:t,value:a})=>({...e,[t]:(e[t]||[]).concat(a)})),{})},ae=function(e){return e.join("")},ne=function(e){return e.join("")},oe=function(e){var t=e.join("");return"null"===t?null:"true"===t||"false"!==t&&(isNaN(Number(t))?t:Number(t))},ie=function(e){return e},re=0,se=0,le=[{line:1,column:1}],ce=0,de=[],ue=0;if("startRule"in t){if(!(t.startRule in r))throw new Error("Can't start parsing from rule \""+t.startRule+'".');s=r[t.startRule]}function pe(){return e.substring(se,re)}function be(){return he(se,re)}function ge(e,t){return{type:"literal",text:e,ignoreCase:t}}function me(e,t,a){return{type:"class",parts:e,inverted:t,ignoreCase:a}}function fe(e){return{type:"other",description:e}}function xe(t){var a,n=le[t];if(n)return n;for(a=t-1;!le[a];)a--;for(n={line:(n=le[a]).line,column:n.column};a<t;)10===e.charCodeAt(a)?(n.line++,n.column=1):n.column++,a++;return le[t]=n,n}function he(e,t){var a=xe(e),n=xe(t);return{source:o,start:{offset:e,line:a.line,column:a.column},end:{offset:t,line:n.line,column:n.column}}}function ve(e){re<ce||(re>ce&&(ce=re,de=[]),de.push(e))}function ye(){var t,a,o,i,r,s;for(t=re,Le(),(a=je())===n&&(a=null),o=[],i=re,124===e.charCodeAt(re)?(r=l,re++):(r=n,0===ue&&ve(S)),r!==n?(Le(),(s=je())!==n?(se=i,i=q(a,s)):(re=i,i=n)):(re=i,i=n);i!==n;)o.push(i),i=re,124===e.charCodeAt(re)?(r=l,re++):(r=n,0===ue&&ve(S)),r!==n?(Le(),(s=je())!==n?(se=i,i=q(a,s)):(re=i,i=n)):(re=i,i=n);return se=t,X(a,o)}function je(){var e,t,a;return ue++,e=re,(t=we())!==n?(a=function(){var e,t,a,o;for(e=re,t=[],a=re,Le()!==n&&(o=_e())!==n?(se=a,a=ee(o)):(re=a,a=n);a!==n;)t.push(a),a=re,Le()!==n&&(o=_e())!==n?(se=a,a=ee(o)):(re=a,a=n);return(a=Le())===n&&(a=null),se=e,e=te(t)}(),se=e,e=Y(t,a)):(re=e,e=n),ue--,e===n&&(t=n,0===ue&&ve(I)),e}function _e(){var t,a,o,i;return t=re,(a=we())!==n?(Le(),61===e.charCodeAt(re)?(o=c,re++):(o=n,0===ue&&ve(D)),o!==n?(Le(),(i=Oe())!==n?(se=t,t=K(a,i)):(re=t,t=n)):(re=t,t=n)):(re=t,t=n),t===n&&(t=re,(a=Oe())!==n&&(se=t,a=J(a)),t=a),t}function Oe(){var t,a,o,i,r;return t=re,36===e.charCodeAt(re)?(a=d,re++):(a=n,0===ue&&ve(k)),a===n&&(a=null),123===e.charCodeAt(re)?(o=u,re++):(o=n,0===ue&&ve(C)),o!==n&&(i=ye())!==n?(125===e.charCodeAt(re)?(r=p,re++):(r=n,0===ue&&ve(P)),r!==n?(se=t,t=Q(i)):(re=t,t=n)):(re=t,t=n),t===n&&(t=re,a=function(){var t;return ue++,t=function(){var t,a,o,i;if(t=re,34===e.charCodeAt(re)?(a=b,re++):(a=n,0===ue&&ve(E)),a!==n){for(o=[],i=ke();i!==n;)o.push(i),i=ke();34===e.charCodeAt(re)?(i=b,re++):(i=n,0===ue&&ve(E)),i!==n?(se=t,t=ne(o)):(re=t,t=n)}else re=t,t=n;if(t===n)if(t=re,39===e.charCodeAt(re)?(a=g,re++):(a=n,0===ue&&ve(M)),a!==n){for(o=[],i=Ce();i!==n;)o.push(i),i=Ce();39===e.charCodeAt(re)?(i=g,re++):(i=n,0===ue&&ve(M)),i!==n?(se=t,t=ne(o)):(re=t,t=n)}else re=t,t=n;return t}(),t===n&&(t=function(){var e,t,a,o;if(e=re,t=re,ue++,a=Ie(),ue--,a===n?t=void 0:(re=t,t=n),t!==n){if(a=[],(o=De())!==n)for(;o!==n;)a.push(o),o=De();else a=n;a!==n?(se=e,e=oe(a)):(re=e,e=n)}else re=e,e=n;return e}()),ue--,t===n&&0===ue&&ve(z),t}(),a!==n&&(se=t,a=Z(a)),t=a),t}function we(){var t,a,o;if(t=re,a=[],v.test(e.charAt(re))?(o=e.charAt(re),re++):(o=n,0===ue&&ve(T)),o!==n)for(;o!==n;)a.push(o),v.test(e.charAt(re))?(o=e.charAt(re),re++):(o=n,0===ue&&ve(T));else a=n;return a!==n&&(se=t,a=ae(a)),a}function Le(){var e,t;if(e=[],(t=Se())===n&&(t=Ie()),t!==n)for(;t!==n;)e.push(t),(t=Se())===n&&(t=Ie());else e=n;return e}function Se(){var t;return y.test(e.charAt(re))?(t=e.charAt(re),re++):(t=n,0===ue&&ve(F)),t}function Ie(){var t;return(t=function(){var t,a,o,i;if(t=re,e.substr(re,2)===m?(a=m,re+=2):(a=n,0===ue&&ve(A)),a!==n){for(o=[],j.test(e.charAt(re))?(i=e.charAt(re),re++):(i=n,0===ue&&ve(N));i!==n;)o.push(i),j.test(e.charAt(re))?(i=e.charAt(re),re++):(i=n,0===ue&&ve(N));t=a=[a,o]}else re=t,t=n;return t}())===n&&(t=function(){var t,a,o,i,r,s;if(t=re,e.substr(re,2)===f?(a=f,re+=2):(a=n,0===ue&&ve(W)),a!==n){for(o=[],i=re,r=re,ue++,e.substr(re,2)===x?(s=x,re+=2):(s=n,0===ue&&ve(R)),ue--,s===n?r=void 0:(re=r,r=n),r!==n?(e.length>re?(s=e.charAt(re),re++):(s=n,0===ue&&ve(B)),s!==n?i=r=[r,s]:(re=i,i=n)):(re=i,i=n);i!==n;)o.push(i),i=re,r=re,ue++,e.substr(re,2)===x?(s=x,re+=2):(s=n,0===ue&&ve(R)),ue--,s===n?r=void 0:(re=r,r=n),r!==n?(e.length>re?(s=e.charAt(re),re++):(s=n,0===ue&&ve(B)),s!==n?i=r=[r,s]:(re=i,i=n)):(re=i,i=n);e.substr(re,2)===x?(i=x,re+=2):(i=n,0===ue&&ve(R)),i===n&&(i=null),t=a=[a,o,i]}else re=t,t=n;return t}()),t}function De(){var t,a,o;return t=re,92===e.charCodeAt(re)?(a=h,re++):(a=n,0===ue&&ve(V)),a!==n?(_.test(e.charAt(re))?(o=e.charAt(re),re++):(o=n,0===ue&&ve(G)),o===n&&(92===e.charCodeAt(re)?(o=h,re++):(o=n,0===ue&&ve(V))),o!==n?(se=t,t=ie(o)):(re=t,t=n)):(re=t,t=n),t===n&&(O.test(e.charAt(re))?(t=e.charAt(re),re++):(t=n,0===ue&&ve($))),t}function ke(){var t,a,o;return t=re,92===e.charCodeAt(re)?(a=h,re++):(a=n,0===ue&&ve(V)),a!==n?(34===e.charCodeAt(re)?(o=b,re++):(o=n,0===ue&&ve(E)),o===n&&(92===e.charCodeAt(re)?(o=h,re++):(o=n,0===ue&&ve(V))),o!==n?(se=t,t=ie(o)):(re=t,t=n)):(re=t,t=n),t===n&&(w.test(e.charAt(re))?(t=e.charAt(re),re++):(t=n,0===ue&&ve(H))),t}function Ce(){var t,a,o;return t=re,92===e.charCodeAt(re)?(a=h,re++):(a=n,0===ue&&ve(V)),a!==n?(39===e.charCodeAt(re)?(o=g,re++):(o=n,0===ue&&ve(M)),o===n&&(92===e.charCodeAt(re)?(o=h,re++):(o=n,0===ue&&ve(V))),o!==n?(se=t,t=ie(o)):(re=t,t=n)):(re=t,t=n),t===n&&(L.test(e.charAt(re))?(t=e.charAt(re),re++):(t=n,0===ue&&ve(U))),t}function Pe(e,a,{start:{offset:n},end:{offset:o}}){return t.addMeta?{node:e,text:a,start:n,end:o}:e}if((a=s())!==n&&re===e.length)return a;throw a!==n&&re<e.length&&ve({type:"end"}),function(e,t,a){return new i(i.buildMessage(e,t),e,t,a)}(de,ce<e.length?e.charAt(ce):null,ce<e.length?he(ce,ce+1):he(ce,ce))};function l(e,t="expression"){try{return s(String(e),{startRule:t})}catch(e){throw new Error(`Unable to parse expression: ${e.message}`)}}function c(e){if(null==e)return"null";if("object"==typeof e){if(!e.type)throw new Error("Objects must have a type property");return e.type}return typeof e}var d=a(44);function u(e,t){let a="",i=0;return function(e,t){const a=[[s(e,{addMeta:!0}),t]],i=[];function r(e,t){Object(d.zip)(e.node.chain,t.chain).forEach((([e,t])=>{if(!e||!t||(null==e?void 0:e.node.function)!==(null==t?void 0:t.function))throw Error("Expression changes are not supported.");!function(e,t){if(Object(d.xor)(Object.keys(e.node.arguments),Object.keys(t.arguments)).length)throw Error("Function changes are not supported.");Object(d.forEach)(e.node.arguments,((e,a)=>{!function(e,t){if(e.length!==t.length)throw Error("Arguments changes are not supported.");Object(d.zip)(e,t).forEach((([e,t])=>function(e,t){n(e)&&o(t)?r(e,t):e.node!==t&&i.push({type:"value",source:e,target:t})}(e,t)))}(e,t.arguments[a])}))}(e,t)}))}for(;a.length;)r(...a.shift());return i}(e,t).sort((({source:e},{source:t})=>e.start-t.start)).forEach((function(t){var o;if("value"!==(null==(o=t)?void 0:o.type))throw new Error("Cannot apply patch for the change.");!function(t){if(n(t.source))throw new Error("Patching sub-expressions is not supported.");a+=`${e.substring(i,t.source.start)}${f(t.target,"argument")}`,i=t.source.end}(t)})),a+=e.substring(i),a}function p(e,t,a=0){const n=c(e);function o(e,t){return null==e||"_"===e?t:`${e}=${t}`}if("string"===n)return o(t,`"${e.replace(/[\\"]/g,"\\$&")}"`);if("boolean"===n||"null"===n||"number"===n)return o(t,`${e}`);if("expression"===n)return o(t,`{${m(e.chain,a+1)}}`);throw new Error(`Invalid argument type in AST: ${n}`)}function b({arguments:e},t=0){if(null==e||"object"!=typeof e||Array.isArray(e))throw new Error("Arguments can only be an object");return Object.keys(e).map((a=>e[a].reduce(((e,n)=>{const o=p(n,a,t),i=e.split("\n").pop().length;return 0===t&&i+o.length>80?`${e}\n  ${o}`:i>0?`${e} ${o}`:o}),"")))}function g(e,t){var a;return`${e} ${null!==(a=null==t?void 0:t.join(" "))&&void 0!==a?a:""}`.trim()}function m(e,t=0){if(!e)throw new Error("Expressions must contain a chain");const a=t>0?" | ":"\n| ";return e.map((e=>{if("function"!==c(e))return;const{function:a}=e;if(!a)throw new Error("Functions must have a function name");return g(a,b(e,t))})).join(a)}function f(e,t="expression"){const{type:a,source:n}="string"==typeof t?{type:t}:t;if(n&&o(e))return u(n,e);if("argument"===a)return p(e);const i=c(e);if("expression"===i){const{chain:t}=e;if(!Array.isArray(t))throw new Error("Expressions must contain a chain");return m(t)}if("function"===i){const{function:t}=e;return g(t,b(e))}throw new Error("Expression must be an expression or argument function")}a(1)},144:function(e,t,a){"use strict";a.r(t),a.d(t,"SaveModalContainer",(function(){return y})),a.d(t,"runSaveLensVisualization",(function(){return j})),a.d(t,"removePinnedFilters",(function(){return _}));var n=a(3),o=a.n(n),i=a(0),r=a(38),s=a(6),l=a(15),c=a.n(l),d=a(67),u=a(4);const p=({initialTags:e,onSave:t,savedObjectsTagging:a,options:i,...r})=>{const[s,l]=Object(n.useState)(e),p=Object(n.useMemo)((()=>a?Object(u.jsx)(a.ui.components.SavedObjectSaveModalTagSelector,{initialSelection:e,onTagsSelected:l}):void 0),[a,e]),b="function"==typeof i?e=>Object(u.jsx)(o.a.Fragment,null,p,i(e)):Object(u.jsx)(o.a.Fragment,null,p,i),g=Object(n.useCallback)((e=>{t({...e,newTags:s})}),[t,s]);return Object(u.jsx)(d.SavedObjectSaveModalOrigin,c()({},r,{onSave:g,options:b}))};var b=a(80);const g=Object(b.withSuspense)(b.LazySavedObjectSaveModalDashboard),m=({initialTags:e,onSave:t,savedObjectsTagging:a,...i})=>{const[r,s]=Object(n.useState)(e),l=Object(n.useMemo)((()=>a?Object(u.jsx)(a.ui.components.SavedObjectSaveModalTagSelector,{initialSelection:e,onTagsSelected:s,markOptional:!0}):void 0),[a,e]),d=Object(u.jsx)(o.a.Fragment,null,l),p=Object(n.useCallback)((e=>{t({...e,returnToOrigin:!1,newTags:r})}),[t,r]);return Object(u.jsx)(g,c()({},i,{onSave:p,tagOptions:d}))},f=e=>{const{originatingApp:t,getOriginatingPath:a,savingToLibraryPermitted:n,savedObjectsTagging:o,tagsIds:r,savedObjectId:s,title:l,description:c,returnToOriginSwitchLabel:d,getAppNameFromId:b,onClose:g,onSave:f,returnToOrigin:x,managed:h}=e;return t&&!1!==x?Object(u.jsx)(p,{savedObjectsTagging:o,initialTags:r,originatingApp:t,onClose:g,onSave:e=>f(e,{saveToLibrary:!0}),getAppNameFromId:b,documentInfo:{id:s,title:l||"",description:c||""},returnToOriginSwitchLabel:d,objectType:i.i18n.translate("xpack.lens.app.saveModalType",{defaultMessage:"Lens visualization"}),"data-test-subj":"lnsApp_saveModalOrigin"}):Object(u.jsx)(m,{savedObjectsTagging:o,initialTags:r,canSaveByReference:Boolean(n),onSave:e=>{const t=Boolean(e.addToLibrary);f(e,{saveToLibrary:t})},onClose:g,documentInfo:{id:n?s:void 0,title:l||"",description:c||""},objectType:i.i18n.translate("xpack.lens.app.saveModalType",{defaultMessage:"Lens visualization"}),"data-test-subj":"lnsApp_saveModalDashboard",getOriginatingPath:a,mustCopyOnSaveMessage:h?i.i18n.translate("xpack.lens.app.mustCopyOnSave",{defaultMessage:"Elastic manages this visualization. Save any changes to a new visualization."}):void 0})};var x=a(21),h=a(5),v=a(198);function y({returnToOriginSwitchLabel:e,onClose:t,onSave:a,runSave:o,persistedDoc:r,originatingApp:l,getOriginatingPath:c,initialInput:d,redirectTo:p,redirectToOrigin:b,getAppNameFromId:g=(()=>{}),isSaveable:m=!0,lastKnownDoc:x,lensServices:h,initialContext:y,managed:_}){let O,w,L="";const[S,I]=Object(n.useState)(!0),[D,k]=Object(n.useState)(x);D&&(L=D.title,O=D.description,w=D.savedObjectId),(null==D||!D.title)&&y&&"isEmbeddable"in y&&y.isEmbeddable&&(L=i.i18n.translate("xpack.lens.app.convertedLabel",{defaultMessage:"{title} (converted)",values:{title:y.title||`${y.visTypeTitle} visualization`}}));const{attributeService:C,savedObjectsTagging:P,application:T}=h;Object(n.useEffect)((()=>{k(x)}),[x]),Object(n.useEffect)((()=>{let e=!0;return d?Object(v.a)({initialInput:d,lensServices:h}).then((t=>{null!=t&&t.doc&&e&&k(t.doc)})).finally((()=>{I(!1)})):I(!1),()=>{e=!1}}),[d,h]);const z=r&&P?P.ui.getTagIdsFromReferences(r.references):[];if(S)return Object(u.jsx)(s.EuiLoadingSpinner,null);const E=Boolean(m&&T.capabilities.visualize.save);return Object(u.jsx)(f,{originatingApp:l,getOriginatingPath:c,savingToLibraryPermitted:E,savedObjectsTagging:P,tagsIds:z,onSave:(e,n)=>{((e,n)=>{o?o(e,n):C&&D&&j({...h,lastKnownDoc:D,initialInput:d,redirectTo:p,redirectToOrigin:b,originatingApp:l,getOriginatingPath:c,getIsByValueMode:()=>!1,onAppLeave:()=>{},...h},e,n).then((()=>{null==a||a(e),t()}))})(e,n)},onClose:t,getAppNameFromId:g,title:L,description:O,savedObjectId:w,returnToOriginSwitchLabel:e,returnToOrigin:null!=b,managed:Boolean(_)})}const j=async(e,t,a)=>{const{chrome:n,initialInput:o,lastKnownDoc:r,persistedDoc:s,notifications:l,stateTransfer:c,attributeService:d,savedObjectsTagging:u,getIsByValueMode:p,redirectToOrigin:b,onAppLeave:g,redirectTo:m,textBasedLanguageSave:f,switchDatasource:v,application:y,savedObjectStore:j,getOriginatingPath:O,originatingApp:w,...L}=e;if(!r)return;let S=r.references;if(u){const e=s&&u?u.ui.getTagIdsFromReferences(s.references):[];S=u.ui.updateTagsReferences(S,t.newTags||e)}const I=((e,t,a)=>{const n={..._(e),references:a};return void 0!==t.newDescription&&(n.description=t.newDescription),void 0!==t.newTitle&&(n.title=t.newTitle),n})(r,t,S);p()&&I.state.filters.forEach((e=>{"function"==typeof e.meta.value&&delete e.meta.value}));const D=t.newCopyOnSave?void 0:o,k=null==D?void 0:D.savedObjectId;if(a.saveToLibrary)try{await Object(x.b)({id:k,title:I.title,displayName:i.i18n.translate("xpack.lens.app.saveModalType",{defaultMessage:"Lens visualization"}),lastSavedTitle:r.title,copyOnSave:t.newCopyOnSave,isTitleDuplicateConfirmed:t.isTitleDuplicateConfirmed},t.onTitleDuplicate,{client:j,...L})}catch(e){throw e}try{let o=await d.wrapAttributes(I,a.saveToLibrary,D);return t.panelTimeRange&&(o={...o,timeRange:t.panelTimeRange}),t.returnToOrigin&&b?(null==g||g((e=>e.default())),void b({input:o,isCopied:t.newCopyOnSave})):t.dashboardId?(null==g||g((e=>e.default())),void(({embeddableInput:e,dashboardId:t,originatingApp:a,getOriginatingPath:n,stateTransfer:o})=>{var i;const r={input:e,type:h.LENS_EMBEDDABLE_TYPE},s=null!==(i=null==n?void 0:n(t))&&void 0!==i?i:"new"===t?"#/create":`#/view/${t}`,l=a||"dashboards";o.navigateToWithEmbeddablePackage(l,{state:r,path:s})})({embeddableInput:o,dashboardId:t.dashboardId,stateTransfer:c,originatingApp:e.originatingApp,getOriginatingPath:e.getOriginatingPath})):(l.toasts.addSuccess(i.i18n.translate("xpack.lens.app.saveVisualization.successNotificationText",{defaultMessage:"Saved ''{visTitle}''",values:{visTitle:I.title}})),d.inputIsRefType(o)&&o.savedObjectId!==k?(n.recentlyAccessed.add(Object(h.getFullPath)(o.savedObjectId),I.title,o.savedObjectId),null===(C=c.clearEditorState)||void 0===C||C.call(c,h.APP_ID),f?(null==v||v(),y.navigateToApp("lens",{path:"/"})):null==m||m(o.savedObjectId),{isLinkedToOriginatingApp:!1}):{persistedDoc:{...I,...o},isLinkedToOriginatingApp:!1});var C}catch(e){throw console.dir(e),e}};function _(e){var t;if(e)return{...e,state:{...e.state,filters:((null===(t=e.state)||void 0===t?void 0:t.filters)||[]).filter((e=>!Object(r.isFilterPinned)(e)))}}}t.default=y},145:function(e,t,a){"use strict";a.d(t,"b",(function(){return S})),a.d(t,"a",(function(){return I}));var n=a(3),o=a.n(n),i=a(0),r=a(6),s=a(48),l=a(183),c=a(181),d=a(4);const u=[{id:s.Position.Right,label:i.i18n.translate("xpack.lens.shared.legendPositionRight",{defaultMessage:"Right"}),iconType:"sortRight"},{id:s.Position.Left,label:i.i18n.translate("xpack.lens.shared.legendPositionLeft",{defaultMessage:"Left"}),iconType:"sortLeft"},{id:s.Position.Top,label:i.i18n.translate("xpack.lens.shared.legendPositionTop",{defaultMessage:"Top"}),iconType:"sortUp"},{id:s.Position.Bottom,label:i.i18n.translate("xpack.lens.shared.legendPositionBottom",{defaultMessage:"Bottom"}),iconType:"sortDown"}],p=[{id:"xy_location_outside",value:"outside",label:i.i18n.translate("xpack.lens.xyChart.legendLocation.outside",{defaultMessage:"Outside"})},{id:"xy_location_inside",value:"inside",label:i.i18n.translate("xpack.lens.xyChart.legendLocation.inside",{defaultMessage:"Inside"})}],b=[{id:"xy_location_alignment_top_right",value:"top_right",label:i.i18n.translate("xpack.lens.shared.legendLocationTopRight",{defaultMessage:"Top right"}),iconType:"editorPositionTopRight"},{id:"xy_location_alignment_top_left",value:"top_left",label:i.i18n.translate("xpack.lens.shared.legendLocationTopLeft",{defaultMessage:"Top left"}),iconType:"editorPositionTopLeft"},{id:"xy_location_alignment_bottom_right",value:"bottom_right",label:i.i18n.translate("xpack.lens.shared.legendLocationBottomRight",{defaultMessage:"Bottom right"}),iconType:"editorPositionBottomRight"},{id:"xy_location_alignment_bottom_left",value:"bottom_left",label:i.i18n.translate("xpack.lens.shared.legendLocationBottomLeft",{defaultMessage:"Bottom left"}),iconType:"editorPositionBottomLeft"}],g=({location:e,onLocationChange:t=(()=>{}),position:a,onPositionChange:n,verticalAlignment:l,horizontalAlignment:c,onAlignmentChange:g=(()=>{}),isDisabled:m=!1})=>{const f=`${l||s.VerticalAlignment.Top}_${c||s.HorizontalAlignment.Right}`;return m?null:Object(d.jsx)(o.a.Fragment,null,e&&Object(d.jsx)(r.EuiFormRow,{display:"columnCompressed",label:i.i18n.translate("xpack.lens.shared.legendPosition",{defaultMessage:"Position"}),fullWidth:!0},Object(d.jsx)(r.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},Object(d.jsx)(r.EuiFlexItem,null,Object(d.jsx)(r.EuiButtonGroup,{isFullWidth:!0,legend:i.i18n.translate("xpack.lens.shared.legendPosition",{defaultMessage:"Position"}),"data-test-subj":"lens-legend-location-btn",buttonSize:"compressed",options:p,isDisabled:m,idSelected:p.find((({value:t})=>t===e)).id,onChange:e=>{const a=p.find((({id:t})=>t===e)).value;t(a)}})),Object(d.jsx)(r.EuiFlexItem,{grow:!1},Object(d.jsx)(o.a.Fragment,null,(!e||"outside"===e)&&Object(d.jsx)(r.EuiButtonGroup,{legend:i.i18n.translate("xpack.lens.shared.legendAlignmentLabel",{defaultMessage:"Alignment"}),isDisabled:m,"data-test-subj":"lens-legend-position-btn",buttonSize:"compressed",options:u,idSelected:a||s.Position.Right,onChange:n,isIconOnly:!0}),"inside"===e&&Object(d.jsx)(r.EuiButtonGroup,{legend:i.i18n.translate("xpack.lens.shared.legendInsideLocationAlignmentLabel",{defaultMessage:"Alignment"}),type:"single","data-test-subj":"lens-legend-inside-alignment-btn",buttonSize:"compressed",isDisabled:m,options:b,idSelected:b.find((({value:e})=>e===f)).id,onChange:e=>{const t=b.find((({id:t})=>t===e)).value;g(t)},isIconOnly:!0}))))))},m=({floatingColumns:e,onFloatingColumnsChange:t=(()=>{}),isHidden:a})=>{const{inputValue:n,handleInputChange:o}=Object(l.a)({value:null!=e?e:1,onChange:t});return a?null:Object(d.jsx)(r.EuiFormRow,{label:i.i18n.translate("xpack.lens.shared.legendInsideColumnsLabel",{defaultMessage:"Number of columns"}),fullWidth:!0,display:"columnCompressed"},Object(d.jsx)(r.EuiFieldNumber,{"data-test-subj":"lens-legend-location-columns-input",value:n,min:1,max:5,compressed:!0,onChange:e=>{o(Number(e.target.value))},step:1}))};var f=a(8);const x=[{value:f.LegendSize.SMALL,inputDisplay:i.i18n.translate("xpack.lens.shared.legendSizeSetting.legendSizeOptions.small",{defaultMessage:"Small"})},{value:f.LegendSize.MEDIUM,inputDisplay:i.i18n.translate("xpack.lens.shared.legendSizeSetting.legendSizeOptions.medium",{defaultMessage:"Medium"})},{value:f.LegendSize.LARGE,inputDisplay:i.i18n.translate("xpack.lens.shared.legendSizeSetting.legendSizeOptions.large",{defaultMessage:"Large"})},{value:f.LegendSize.EXTRA_LARGE,inputDisplay:i.i18n.translate("xpack.lens.shared.legendSizeSetting.legendSizeOptions.extraLarge",{defaultMessage:"Extra large"})}],h=({legendSize:e,onLegendSizeChange:t,isVerticalLegend:a,showAutoOption:o})=>{Object(n.useEffect)((()=>{e&&!a&&t(void 0)}),[a,e,t]);const s=Object(n.useCallback)((e=>t(e===f.DEFAULT_LEGEND_SIZE?void 0:e)),[t]);if(!a)return null;const l=o?[{value:f.LegendSize.AUTO,inputDisplay:i.i18n.translate("xpack.lens.shared.legendSizeSetting.legendSizeOptions.auto",{defaultMessage:"Auto"})},...x]:x;return Object(d.jsx)(r.EuiFormRow,{display:"columnCompressed",label:i.i18n.translate("xpack.lens.shared.legendSizeSetting.label",{defaultMessage:"Width"}),fullWidth:!0},Object(d.jsx)(r.EuiSuperSelect,{compressed:!0,valueOfSelected:null!=e?e:f.DEFAULT_LEGEND_SIZE,options:l,onChange:s}))};var v=a(83),y=a(154);const j=1,_=({value:e,setValue:t,disabled:a})=>{const{inputValue:n,handleInputChange:o}=Object(l.a)({value:e,onChange:t});return Object(d.jsx)(r.EuiFieldNumber,{disabled:a,fullWidth:!0,prepend:i.i18n.translate("xpack.lens.shared.maxLinesLabel",{defaultMessage:"Line limit"}),"aria-label":i.i18n.translate("xpack.lens.shared.maxLinesLabel",{defaultMessage:"Line limit"}),"data-test-subj":"lens-legend-max-lines-input",value:n,min:1,max:5,step:1,compressed:!0,onChange:e=>{const t=Number(e.target.value);o(Math.min(5,Math.max(t,1)))}})},O=()=>{},w={width:"500px"},L={header:i.i18n.translate("xpack.lens.label.shared.legendHeader",{defaultMessage:"Series header"}),label:i.i18n.translate("xpack.lens.shared.Lagend ",{defaultMessage:"Series header"}),placeholder:i.i18n.translate("xpack.lens.shared.overwriteLegendTitle",{defaultMessage:"Overwrite series header"}),getDataTestSubj:()=>"lnsLegendTableSeriesHeader"};function S(e){return e.some((e=>e!==s.LegendValue.CurrentAndLastValue))}function I({allowedLegendStats:e=[],legendOptions:t,mode:a,legendTitle:n,isTitleVisible:l,onLegendTitleChange:u,onDisplayChange:p,position:b,location:f,onLocationChange:x=O,verticalAlignment:I,horizontalAlignment:D,floatingColumns:k,onAlignmentChange:C=O,onFloatingColumnsChange:P=O,onPositionChange:T,renderNestedLegendSwitch:z,nestedLegend:E,onNestedLegendChange:M=O,legendStats:F=[],onLegendStatsChange:A=O,groupPosition:N="right",maxLines:W,onMaxLinesChange:R=O,shouldTruncate:B,onTruncateLegendChange:V=O,legendSize:G,onLegendSizeChange:$,showAutoLegendSizeOption:H,titlePlaceholder:U}){const q="hide"!==a,X=q&&e.length>1,Y=q&&1===e.length&&(e[0].value===s.LegendValue.CurrentAndLastValue||e[0].value===s.LegendValue.Value),K=S(F)&&!!u;return Object(d.jsx)(c.a,{title:i.i18n.translate("xpack.lens.shared.legendLabel",{defaultMessage:"Legend"}),type:"legend",groupPosition:N,buttonDataTestSubj:"lnsLegendButton",panelStyle:w},Object(d.jsx)(r.EuiFormRow,{display:"columnCompressed",label:i.i18n.translate("xpack.lens.shared.legendVisibilityLabel",{defaultMessage:"Visibility"}),fullWidth:!0},Object(d.jsx)(r.EuiButtonGroup,{isFullWidth:!0,legend:i.i18n.translate("xpack.lens.shared.legendVisibilityLabel",{defaultMessage:"Visibility"}),"data-test-subj":"lens-legend-display-btn",buttonSize:"compressed",options:t,idSelected:t.find((({value:e})=>e===a)).id,onChange:p})),q&&Object(d.jsx)(o.a.Fragment,null,Object(d.jsx)(g,{location:f,onLocationChange:x,verticalAlignment:I,horizontalAlignment:D,onAlignmentChange:C,position:b,onPositionChange:T}),"inside"!==f&&Object(d.jsx)(h,{legendSize:G,onLegendSizeChange:$,isVerticalLegend:!b||b===s.Position.Left||b===s.Position.Right,showAutoOption:H}),f&&Object(d.jsx)(m,{floatingColumns:k,onFloatingColumnsChange:P,isHidden:"outside"===f||S(F)})),X&&Object(d.jsx)(o.a.Fragment,null,Object(d.jsx)(r.EuiHorizontalRule,{margin:"s"}),Object(d.jsx)(r.EuiFormRow,{display:"columnCompressed",label:i.i18n.translate("xpack.lens.shared.legendStatistics",{defaultMessage:"Statistics"}),fullWidth:!0},Object(d.jsx)(r.EuiComboBox,{"aria-label":i.i18n.translate("xpack.lens.shared.legendStatistics",{defaultMessage:"Statistics"}),"data-test-subj":"lnsLegendStatisticsSelect",placeholder:i.i18n.translate("xpack.lens.shared.legendStatisticsPlaceholder",{defaultMessage:"Select one or more statistics to show"}),options:e,selectedOptions:F.map((t=>e.find((e=>e.value===t)))).filter(v.nonNullable),onChange:e=>{const t=e.map((({value:e})=>e)).filter(v.nonNullable),a=!S(F)&&S(t);A(t,a)},isClearable:!0,compressed:!0}))),K&&Object(d.jsx)(y.a,{settingId:"legend",title:n,isTitleVisible:!!l,updateTitleState:u,strings:L,placeholder:U}),Y&&Object(d.jsx)(r.EuiFormRow,{display:"columnCompressedSwitch",label:i.i18n.translate("xpack.lens.shared.valueInLegendLabel",{defaultMessage:"Show value"}),fullWidth:!0},Object(d.jsx)(r.EuiSwitch,{compressed:!0,label:i.i18n.translate("xpack.lens.shared.valueInLegendLabel",{defaultMessage:"Show value"}),"data-test-subj":"lens-legend-show-value",showLabel:!1,checked:!(null==F||!F.length),onChange:t=>{A(t.target.checked?[e[0].value]:[])}})),q&&Object(d.jsx)(r.EuiFormRow,{display:"columnCompressed",label:i.i18n.translate("xpack.lens.shared.labelTruncation",{defaultMessage:"Label truncation"}),fullWidth:!0},Object(d.jsx)(r.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},Object(d.jsx)(r.EuiFlexItem,{grow:!1},Object(d.jsx)(r.EuiSwitch,{compressed:!0,label:i.i18n.translate("xpack.lens.shared.labelTruncation",{defaultMessage:"Label truncation"}),"data-test-subj":"lens-legend-truncate-switch",showLabel:!1,checked:null==B||B,onChange:V})),Object(d.jsx)(r.EuiFlexItem,{grow:!0},Object(d.jsx)(_,{disabled:!B,value:null!=W?W:j,setValue:R})))),q&&z&&Object(d.jsx)(r.EuiFormRow,{display:"columnCompressedSwitch",label:i.i18n.translate("xpack.lens.shared.nestedLegendLabel",{defaultMessage:"Nested"}),fullWidth:!0},Object(d.jsx)(r.EuiSwitch,{compressed:!0,label:i.i18n.translate("xpack.lens.pieChart.nestedLegendLabel",{defaultMessage:"Nested"}),"data-test-subj":"lens-legend-nested-switch",showLabel:!1,checked:Boolean(E),onChange:M})))}},146:function(e,t,a){"use strict";function n(e){return"chartSize"===e.name}a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return i}));var o=a(12);function i(e,t){return t?e.reduce(((e,a)=>{const n=a[t];if(void 0===n)return e;const i=(Object(o.isMultiFieldKey)(n)?[...n.keys]:[n]).map(String),r=i.join(",");return e.keys.has(r)||(e.keys.add(r),e.categories.push(1===i.length?i[0]:i)),e}),{keys:new Set,categories:[]}).categories:[]}},154:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(3),o=a.n(n),i=a(6),r=a(0),s=a(183),l=a(85),c=a(4);const d={header:r.i18n.translate("xpack.lens.label.shared.axisHeader",{defaultMessage:"Axis title"}),label:r.i18n.translate("xpack.lens.shared.axisNameLabel",{defaultMessage:"Axis title"}),getDataTestSubj:e=>`lns${e}AxisTitle`},u=({settingId:e,title:t,updateTitleState:a,isTitleVisible:u,strings:p=d,placeholder:b=r.i18n.translate("xpack.lens.shared.overwriteAxisTitle",{defaultMessage:"Overwrite axis title"})})=>{const g=Object(n.useMemo)((()=>({title:t,visibility:!t&&u?"auto":u?"custom":"none"})),[t,u]),m=Object(n.useCallback)((({title:t,visibility:n})=>a({title:t,visible:"none"!==n},e)),[e,a]),{inputValue:f,handleInputChange:x}=Object(s.a)({value:g,onChange:m},{allowFalsyValue:!0});return Object(c.jsx)(o.a.Fragment,null,Object(c.jsx)(i.EuiFormRow,{display:"columnCompressed",label:p.header,fullWidth:!0},Object(c.jsx)(l.l,{header:p.label,dataTestSubj:p.getDataTestSubj(e),label:f.title,mode:f.visibility,placeholder:b,hasAutoOption:!0,handleChange:({mode:e,label:t})=>{x({title:t,visibility:e})}})),Object(c.jsx)(i.EuiSpacer,{size:"s"}))}},155:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a(3);var n=a(6),o=a(4);function i({isInvalid:e,label:t,helpText:a,error:i,lowerValue:r,onLowerValueChange:s,onLowerValueBlur:l,upperValue:c,onUpperValueChange:d,onUpperValueBlur:u,testSubjLayout:p,testSubjLower:b,testSubjUpper:g}){return Object(o.jsx)(n.EuiFormRow,{display:"columnCompressed",fullWidth:!0,isInvalid:e,label:t,helpText:a,error:i},Object(o.jsx)(n.EuiFormControlLayoutDelimited,{"data-test-subj":p,compressed:!0,startControl:Object(o.jsx)(n.EuiFieldNumber,{compressed:!0,value:r,isInvalid:e,"data-test-subj":b,onChange:s,onBlur:l,step:"any",controlOnly:!0}),endControl:Object(o.jsx)(n.EuiFieldNumber,{compressed:!0,value:c,"data-test-subj":g,onChange:d,onBlur:u,step:"any",controlOnly:!0})}))}},156:function(e,t,a){"use strict";a.d(t,"a",(function(){return m})),a.d(t,"b",(function(){return x}));var n=a(15),o=a.n(n),i=a(3),r=a.n(i),s=a(6),l=a(0),c=a(155),d=a(110),u=a(4);const p=.01,b=0,g=Object(s.htmlIdGenerator)()();function m({type:e,canHaveNiceValues:t,...a}){var n,i;const{extent:r,hasBarOrArea:p,setExtent:b,dataBounds:g,testSubjPrefix:m,scaleType:v,disableCustomRange:y}=a,{errorMsg:j,helpMsg:_}=Object(d.c)(p,r,v),O=t&&("metric"===e?["full","custom"]:["dataBounds","custom"]).includes(r.mode),w="custom"===(null==r?void 0:r.mode)&&("bucket"===e||!y),L="metric"===e?f:h;return Object(u.jsx)(L,o()({},a,{scaleType:v}),w?Object(u.jsx)(c.a,{isInvalid:Boolean(j),label:" ",helpText:_,error:j,testSubjLayout:`${m}_axisExtent_customBounds`,testSubjLower:`${m}_axisExtent_lowerBound`,testSubjUpper:`${m}_axisExtent_upperBound`,lowerValue:null!==(n=r.lowerBound)&&void 0!==n?n:"",onLowerValueChange:e=>{const t=Number(e.target.value),a=""===e.target.value||Number.isNaN(Number(t));b({...r,lowerBound:a?void 0:t})},onLowerValueBlur:()=>{void 0===r.lowerBound&&g&&b({...r,lowerBound:x("custom",v,g).lowerBound})},upperValue:null!==(i=r.upperBound)&&void 0!==i?i:"",onUpperValueChange:e=>{const t=Number(e.target.value),a=""===e.target.value||Number.isNaN(Number(t));b({...r,upperBound:a?void 0:t})},onUpperValueBlur:()=>{void 0===r.upperBound&&g&&b({...r,upperBound:g.max})}}):null,O?Object(u.jsx)(s.EuiFormRow,{label:l.i18n.translate("xpack.lens.fullExtent.niceValues",{defaultMessage:"Round to nice values"}),display:"columnCompressedSwitch",fullWidth:!0},Object(u.jsx)(s.EuiSwitch,{compressed:!0,showLabel:!1,label:l.i18n.translate("xpack.lens.fullExtent.niceValues",{defaultMessage:"Round to nice values"}),"data-test-subj":`${m}_axisExtent_niceValues`,checked:null==r.niceValues||r.niceValues,onChange:({target:{checked:e}})=>{b({...r,niceValues:e})}})):null)}function f({extent:e,setExtent:t,dataBounds:a,hasBarOrArea:n,disableCustomRange:o,testSubjPrefix:i,children:c,scaleType:d}){return Object(u.jsx)(r.a.Fragment,null,Object(u.jsx)(s.EuiFormRow,{display:"columnCompressed",fullWidth:!0,label:l.i18n.translate("xpack.lens.axisExtent.label",{defaultMessage:"Bounds"})},Object(u.jsx)(s.EuiButtonGroup,{isFullWidth:!0,legend:l.i18n.translate("xpack.lens.axisExtent.label",{defaultMessage:"Bounds"}),"data-test-subj":`${i}_axisBounds_groups`,buttonSize:"compressed",options:[{id:`${g}full`,label:l.i18n.translate("xpack.lens.axisExtent.full",{defaultMessage:"Full"}),"data-test-subj":`${i}_axisExtent_groups_full`},{id:`${g}dataBounds`,label:l.i18n.translate("xpack.lens.axisExtent.axisExtent.dataBounds",{defaultMessage:"Data"}),"data-test-subj":`${i}_axisExtent_groups_data`,isDisabled:n,toolTipContent:n?l.i18n.translate("xpack.lens.axisExtent.disabledDataBoundsMessage",{defaultMessage:"Only line charts can be fit to the data bounds"}):void 0},{id:`${g}custom`,label:l.i18n.translate("xpack.lens.axisExtent.axisExtent.custom",{defaultMessage:"Custom"}),"data-test-subj":`${i}_axisExtent_groups_custom`,isDisabled:o}],idSelected:`${g}${n&&"dataBounds"===e.mode||o?"full":e.mode}`,onChange:n=>{const o=n.replace(g,"");t({...e,mode:o,...x(o,d,a)})}})),c)}function x(e,t,a){if("custom"!==e||!a)return{lowerBound:void 0,upperBound:void 0};if(a.min>=0&&a.max>=0){const e="log"===t?p:b;return{upperBound:a.max,lowerBound:Math.max(Math.min(e,a.min),e)}}if(a.min<=0&&a.max<=0){const e="log"===t?-p:b;return{upperBound:Math.min(Math.max(e,a.max),e),lowerBound:a.min}}return"log"===t?Math.abs(a.min)>Math.abs(a.max)?{upperBound:-p,lowerBound:a.min}:{upperBound:a.max,lowerBound:p}:{upperBound:a.max,lowerBound:a.min}}function h({extent:e,setExtent:t,dataBounds:a,testSubjPrefix:n,children:o}){var i;return Object(u.jsx)(r.a.Fragment,null,Object(u.jsx)(s.EuiFormRow,{display:"columnCompressed",fullWidth:!0,label:l.i18n.translate("xpack.lens.axisExtent.label",{defaultMessage:"Bounds"})},Object(u.jsx)(s.EuiButtonGroup,{isFullWidth:!0,legend:l.i18n.translate("xpack.lens.axisExtent.label",{defaultMessage:"Bounds"}),"data-test-subj":`${n}_axisBounds_groups`,buttonSize:"compressed",options:[{id:`${g}dataBounds`,label:l.i18n.translate("xpack.lens.axisExtent.dataBounds",{defaultMessage:"Data"}),"data-test-subj":`${n}_axisExtent_groups_data`},{id:`${g}custom`,label:l.i18n.translate("xpack.lens.axisExtent.custom",{defaultMessage:"Custom"}),"data-test-subj":`${n}_axisExtent_groups_custom`}],idSelected:`${g}${null!==(i=e.mode)&&void 0!==i?i:"dataBounds"}`,onChange:n=>{const o=n.replace(g,"");t({...e,mode:o,lowerBound:"custom"===o&&a?a.min:void 0,upperBound:"custom"===o&&a?a.max:void 0})}})),o)}},157:function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"d",(function(){return l})),a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return d}));var n=a(45),o=a(186),i=a(647),r=a(265);function s(e,t,a="euiColorInk",i="euiColorGhost"){const r=t?n.euiDarkVars.euiColorInk:n.euiLightVars[a],s=t?n.euiDarkVars[i]:n.euiLightVars.euiColorGhost,l=t?n.euiDarkVars.euiPageBackgroundColor:n.euiLightVars.euiPageBackgroundColor;return Object(o.a)(e,l)?s:r}function l(e){if(null!=e&&!Array.isArray(e))return e}function c(e,t,a){var n,o;const s=Object(i.g)(e,(null==t?void 0:t.params)||{},{dataBounds:a,defaultPaletteName:null==t?void 0:t.name});return null!=t&&null!==(n=t.params)&&void 0!==n&&n.reverse&&(null==t||null===(o=t.params)||void 0===o?void 0:o.name)!==r.b?Object(i.h)(s):s}const d=(e,t,a=(e=>e))=>{const n={};if(null!=t)for(const o of e){const e=a(o);n[e]=n[e]||{max:Number.NEGATIVE_INFINITY,min:Number.POSITIVE_INFINITY},t.rows.forEach((t=>{const a=l(t[o]);null!=a&&(n[e].min>a&&(n[e].min=a),n[e].max<a&&(n[e].max=a))})),n[e].max===Number.NEGATIVE_INFINITY&&(n[e]=Object(i.f)())}return n}},160:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(65);function o(){return Object(n.v4)()}},161:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a(316);var n=a(3),o=a(4),i=a(6),r=a(0),s=a(83);function l({isOpen:e,label:t,handleClose:a,isFullscreen:l,panelRef:c,panelContainerRef:d,children:u,customFooter:p,isInlineEditing:b}){const[g,m]=Object(n.useState)(!1),f=Object(n.useCallback)((()=>{m(!1),a()}),[a]);return Object(n.useEffect)((()=>{if(!b)return document.body.classList.toggle("lnsBody--overflowHidden",e),()=>{e&&m(!1),document.body.classList.remove("lnsBody--overflowHidden")}}),[b,e]),e?Object(o.jsx)("div",{ref:c},Object(o.jsx)(i.EuiFocusTrap,{disabled:!g,clickOutsideDisables:!1,onClickOutside:e=>{l||function(e){for(let t=e.target;null!==t;t=t.parentElement)if(t.classList.contains(s.DONT_CLOSE_DIMENSION_CONTAINER_ON_CLICK_CLASS)||t.classList.contains("euiBody-hasPortalContent")||"true"===t.getAttribute("data-euiportal"))return!0;return!1}(e)||f()},onEscapeKey:f},Object(o.jsx)("div",{ref:d,role:"dialog","aria-labelledby":"lnsDimensionContainerTitle",className:"lnsDimensionContainer",css:Object(o.css)("box-shadow:",b?"none !important":"inherit",";",""),onAnimationEnd:()=>{e&&m(!Boolean(b))}},Object(o.jsx)(i.EuiFlyoutHeader,{hasBorder:!0,className:"lnsDimensionContainer__header"},Object(o.jsx)(i.EuiFlexGroup,{gutterSize:"m",alignItems:"center",responsive:!1},b&&Object(o.jsx)(i.EuiFlexItem,{grow:!1},Object(o.jsx)(i.EuiButtonIcon,{color:"text","data-test-subj":"lns-indexPattern-dimensionContainerBack",className:"lnsDimensionContainer__backIcon",onClick:f,iconType:"sortLeft","aria-label":r.i18n.translate("xpack.lens.dimensionContainer.closeConfiguration",{defaultMessage:"Close configuration"})})),Object(o.jsx)(i.EuiFlexItem,{grow:!0},Object(o.jsx)(i.EuiTitle,{size:"xs"},Object(o.jsx)("h2",{id:"lnsDimensionContainerTitle",className:"lnsDimensionContainer__headerTitle"},t))),!b&&Object(o.jsx)(i.EuiFlexItem,{grow:!1},Object(o.jsx)(i.EuiButtonIcon,{color:"text","data-test-subj":"lns-indexPattern-dimensionContainerBack",className:"lnsDimensionContainer__backIcon",onClick:f,iconType:"cross","aria-label":r.i18n.translate("xpack.lens.dimensionContainer.closeConfiguration",{defaultMessage:"Close configuration"})})))),Object(o.jsx)("div",{className:"lnsDimensionContainer__content"},u),p||Object(o.jsx)(i.EuiFlyoutFooter,{className:"lnsDimensionContainer__footer"},Object(o.jsx)(i.EuiButtonEmpty,{flush:"left",size:"s",iconType:b?"sortLeft":"cross",onClick:f,"data-test-subj":"lns-indexPattern-dimensionContainerClose"},b?r.i18n.translate("xpack.lens.dimensionContainer.back",{defaultMessage:"Back"}):r.i18n.translate("xpack.lens.dimensionContainer.close",{defaultMessage:"Close"})))))):null}},162:function(e,t,a){"use strict";a.d(t,"q",(function(){return s})),a.d(t,"o",(function(){return c})),a.d(t,"t",(function(){return d})),a.d(t,"r",(function(){return p})),a.d(t,"c",(function(){return b})),a.d(t,"d",(function(){return g})),a.d(t,"i",(function(){return m})),a.d(t,"u",(function(){return f})),a.d(t,"a",(function(){return x})),a.d(t,"g",(function(){return h})),a.d(t,"n",(function(){return v})),a.d(t,"m",(function(){return y})),a.d(t,"s",(function(){return _})),a.d(t,"j",(function(){return O})),a.d(t,"k",(function(){return w})),a.d(t,"p",(function(){return S})),a.d(t,"f",(function(){return I})),a.d(t,"e",(function(){return D})),a.d(t,"b",(function(){return k})),a.d(t,"h",(function(){return C})),a.d(t,"l",(function(){return P}));var n=a(53),o=a(57),i=a(137);const r=e=>e.lens.query,s=e=>e.lens.searchSessionId,l=e=>e.lens.filters,c=e=>e.lens.resolvedDateRange,d=e=>e.lens.visualization,u=e=>e.lens.stagedPreview,p=e=>{var t;return(null===(t=e.lens.stagedPreview)||void 0===t?void 0:t.activeData)||e.lens.activeData},b=e=>!e.lens.autoApplyDisabled,g=e=>!e.lens.autoApplyDisabled||Boolean(e.lens.changesApplied),m=e=>e.lens.datasourceStates,f=e=>e.lens.visualization,x=e=>e.lens.activeDatasourceId,h=e=>e.lens.dataViews,v=e=>e.lens.managed,y=e=>Boolean(e.lens.isFullscreenDatasource);let j;const _=e=>{const t=e.lens.applyChangesCounter!==j;return j=e.lens.applyChangesCounter,t},O=Object(n.createSelector)([r,l,c],((e,t,a)=>({now:Date.now(),dateRange:a,query:e,filters:t}))),w=Object(n.createSelector)(O,(e=>({now:e.now,query:e.query,timeRange:{from:e.dateRange.fromDate,to:e.dateRange.toDate},filters:e.filters,disableWarningToasts:!0}))),L=(e,t)=>t,S=Object(n.createSelector)([e=>e.lens.persistedDoc,d,m,r,l,x,e=>Object.fromEntries(Object.values(e.lens.dataViews.indexPatterns).filter((e=>!e.isPersisted)).map((e=>[e.id,e.spec]))),L],((e,t,a,n,i,r,s,{datasourceMap:l,visualizationMap:c,extractFilterReferences:d})=>{const u=t.state&&t.activeId?c[t.activeId]:null;if(!(a&&r&&!a[r].isLoading?l[r]:void 0)||!u)return;const p=Object.keys(a).reduce(((e,t)=>({...e,[t]:l[t]})),{}),b={},g=[],m=[];Object.entries(p).forEach((([e,t])=>{const{state:n,savedObjectReferences:o}=t.getPersistableState(a[e].state);b[e]=n,o.forEach((e=>{"index-pattern"===e.type&&s[e.id]?m.push(e):g.push(e)}))}));let f=t.state;if(u.getPersistableState){const{state:e,savedObjectReferences:a}=u.getPersistableState(t.state);f=e,a.forEach((e=>{"index-pattern"===e.type&&s[e.id]?m.push(e):g.push(e)}))}const x=Object.fromEntries(Object.entries(s).map((([e,t])=>{const{references:a,state:n}=o.DataViewPersistableStateService.extract(t);return g.push(...a),[e,n]}))),h=i.filter((e=>!g.some((t=>"index-pattern"===t.type&&t.id===e.meta.index)))).map((e=>({...e,meta:{...e.meta,value:void 0}}))),v=i.filter((e=>g.some((t=>"index-pattern"===t.type&&t.id===e.meta.index)))),{state:y,references:j}=d(v);return g.push(...j),{savedObjectId:null==e?void 0:e.savedObjectId,title:(null==e?void 0:e.title)||"",description:null==e?void 0:e.description,visualizationType:t.activeId,type:"lens",references:g,state:{visualization:f,query:n,filters:[...y,...h],datasourceStates:b,internalReferences:m,adHocDataViews:x}}})),I=Object(n.createSelector)([d,u],((e,t)=>t?t.visualization:e)),D=Object(n.createSelector)([m,u],((e,t)=>t?t.datasourceStates:e)),k=Object(n.createSelector)(m,(e=>Object.values(e).every((({isLoading:e})=>!1===e)))),C=Object(n.createSelector)([m,L,h],((e,t,a)=>Object(i.a)(e,t,a.indexPatterns))),P=Object(n.createSelector)([D,e=>e.lens.activeData,L,h,O],((e,t,a,n,o)=>({datasourceLayers:Object(i.a)(e,a,n.indexPatterns),activeData:t,dataViews:n,...o,absDateRange:o.dateRange})))},163:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(3);const o=Object(n.createContext)(void 0)},164:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n={startPageChange:"start::pageChange",endPageReady:"end::pageReady"}},165:function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(383);case"v8light":return a(385)}},177:function(e,t,a){"use strict";a.d(t,"a",(function(){return Le}));var n=a(15),o=a.n(n),i=a(3),r=a.n(i),s=a(6),l=a(38),c=a(54),d=a(99),u=(a(347),a(0)),p=a(4),b=a(45),g=a(658);const m=e=>Object(p.jsx)(r.a.Fragment,null,"color"===e.triggerIconType&&e.color&&Object(p.jsx)(s.EuiIcon,{color:e.color,type:"stopFilled","aria-label":u.i18n.translate("visualizationUiComponents.dimensionButtonIcon.colorIndicatorLabel",{defaultMessage:"Color of this dimension: {hex}",values:{hex:e.color}})}),"disabled"===e.triggerIconType&&Object(p.jsx)(s.EuiIcon,{type:"stopSlash",color:"subdued","aria-label":u.i18n.translate("visualizationUiComponents.dimensionButtonIcon.noColorIndicatorLabel",{defaultMessage:"This dimension does not have an individual color"})}),"invisible"===e.triggerIconType&&Object(p.jsx)(s.EuiIcon,{type:"eyeClosed",color:"subdued","aria-label":u.i18n.translate("visualizationUiComponents.dimensionButtonIcon.invisibleIndicatorLabel",{defaultMessage:"This dimension is currently not visible in the chart"})}),"aggregate"===e.triggerIconType&&Object(p.jsx)(s.EuiIcon,{type:"fold",color:"subdued","aria-label":u.i18n.translate("visualizationUiComponents.dimensionButtonIcon.aggregateIndicatorLabel",{defaultMessage:"This dimension is not visible in the chart because all individual values are aggregated into a single value"})}),"colorBy"===e.triggerIconType&&Object(p.jsx)(s.EuiIcon,{type:"color",color:"subdued","aria-label":u.i18n.translate("visualizationUiComponents.dimensionButtonIcon.paletteColorIndicatorLabel",{defaultMessage:"This dimension is using a palette"})}),"custom"===e.triggerIconType&&e.customIcon&&Object(p.jsx)(s.EuiIcon,{type:e.customIcon,color:e.color,"aria-label":u.i18n.translate("visualizationUiComponents.dimensionButtonIcon.customIconIndicatorLabel",{defaultMessage:"This dimension is using a custom icon"})}));function f({accessorConfig:e,severity:t,children:a}){let n=null;return(t||"none"!==e.triggerIconType&&void 0!==e.triggerIconType)&&(n=Object(p.jsx)(r.a.Fragment,null,"none"!==e.triggerIconType&&Object(p.jsx)(s.EuiFlexItem,{grow:!1},m(e)),t&&Object(p.jsx)(s.EuiFlexItem,{grow:!1},Object(p.jsx)(s.EuiIcon,{type:"error"===t?"error":"alert"})))),Object(p.jsx)(s.EuiFlexGroup,{gutterSize:"s",alignItems:"center",responsive:!1},n,Object(p.jsx)(s.EuiFlexItem,null,a))}var x={name:"51l2f1",styles:"position:absolute;bottom:0;left:0;right:0"};function h({accessorConfig:e}){return"colorBy"===e.triggerIconType&&e.palette?Object(p.jsx)("div",{css:x},Object(p.jsx)(s.EuiColorPaletteDisplay,{className:"lnsLayerPanel__palette",css:Object(p.css)("height:",b.euiThemeVars.euiSizeXS,"/2;border-radius:0 0 (",b.euiThemeVars.euiBorderRadius," - 1px) (",b.euiThemeVars.euiBorderRadius," - 1px);&::after{border:none;}",""),size:"xs",palette:e.palette})):null}var v=a(184);const y=e=>u.i18n.translate("visualizationUiComponents.dimensionButton.editConfig",{defaultMessage:"Edit {label} configuration",values:{label:e.trim().length?e:v.a}});var j={name:"n2zqzy",styles:"width:100%;&:hover{text-decoration:none;}"};function _({groupLabel:e,children:t,onClick:a,onRemoveClick:n,accessorConfig:i,label:r,message:l,...c}){return Object(p.jsx)("div",o()({},c,{css:Object(p.css)(Object(s.useEuiShadow)("xs")," ",Object(s.useEuiFontSize)("s")," border-radius:",b.euiThemeVars.euiBorderRadius,";position:relative;line-height:1;overflow:hidden;display:flex;align-items:center;gap:",b.euiThemeVars.euiSizeS,";min-height:",b.euiThemeVars.euiSizeXL,";padding:",b.euiThemeVars.euiSizeXS," ",b.euiThemeVars.euiSizeS,";background:",b.euiThemeVars.euiColorEmptyShade,";","")}),Object(p.jsx)(s.EuiFlexGroup,{direction:"row",alignItems:"center",gutterSize:"none",responsive:!1},Object(p.jsx)(s.EuiFlexItem,null,Object(p.jsx)(s.EuiToolTip,{content:null==l?void 0:l.content,position:"left"},Object(p.jsx)(s.EuiLink,{className:"lnsLayerPanel__dimensionLink",css:j,"data-test-subj":"lnsLayerPanel-dimensionLink",onClick:()=>a(i.columnId),"aria-label":y(r),title:y(r),color:"error"===(null==l?void 0:l.severity)?"danger":"warning"===(null==l?void 0:l.severity)?"warning":"text"},Object(p.jsx)(f,{severity:null==l?void 0:l.severity,accessorConfig:i},t))))),Object(p.jsx)(s.EuiButtonIcon,{className:"lnsLayerPanel__dimensionRemove","data-test-subj":"indexPattern-dimension-remove",iconType:"trash",size:"xs",color:"danger","aria-label":u.i18n.translate("visualizationUiComponents.dimensionButton.removeColumnLabel",{defaultMessage:'Remove configuration from "{groupLabel}"',values:{groupLabel:e}}),title:u.i18n.translate("visualizationUiComponents.dimensionButton.removeColumnLabel",{defaultMessage:'Remove configuration from "{groupLabel}"',values:{groupLabel:e}}),onClick:()=>n(i.columnId),css:Object(p.css)("color:",b.euiThemeVars.euiTextSubduedColor,";transition:",b.euiThemeVars.euiAnimSpeedFast," ease-in-out;transition-property:color,opacity,background-color,transform;opacity:0;.domDraggable:hover &,.domDraggable:focus-within &{opacity:1;}&:hover,&:focus{color:",b.euiThemeVars.euiColorDangerText,";}","")}),Object(p.jsx)(h,{accessorConfig:i}))}const O=r.a.memo(_),w=Number.MAX_SAFE_INTEGER,L=-Number.MAX_SAFE_INTEGER,S=e=>{const t=u.i18n.translate("xpack.lens.cloneLayerAriaLabel",{defaultMessage:"Duplicate layer"});return{execute:e.execute,displayName:t,isCompatible:Boolean(e.activeVisualization.cloneLayer&&!e.isTextBasedLanguage),icon:"copy","data-test-subj":`lnsLayerClone--${e.layerIndex}`,order:L+1}};var I=a(28),D=a(16),k=a(47),C=a(129);const P="skipDeleteModal",T=({modalTitle:e,modalDesc:t,skipDeleteModal:a,isDeletable:n,execute:o,closeModal:l,updateLensLocalStorage:c})=>{const[d,b]=Object(i.useState)(a),g=Object(i.useCallback)((({target:e})=>b(e.checked)),[]),m=Object(i.useCallback)((()=>{c({[P]:d}),l(),o()}),[l,o,d,c]);return Object(p.jsx)(r.a.Fragment,null,Object(p.jsx)(s.EuiModalHeader,null,Object(p.jsx)(s.EuiModalHeaderTitle,null,e)),Object(p.jsx)(s.EuiModalBody,null,Object(p.jsx)("p",null,t,u.i18n.translate("xpack.lens.layer.confirmModal.cannotUndo",{defaultMessage:"You can't undo this action."}))),Object(p.jsx)(s.EuiModalFooter,null,Object(p.jsx)(s.EuiFlexGroup,{alignItems:"center",justifyContent:"spaceBetween"},Object(p.jsx)(s.EuiFlexItem,null,Object(p.jsx)(s.EuiCheckbox,{id:"lnsLayerRemoveModalCheckbox",label:u.i18n.translate("xpack.lens.layer.confirmModal.dontAskAgain",{defaultMessage:"Don't ask me again"}),checked:d,onChange:g})),Object(p.jsx)(s.EuiFlexItem,null,Object(p.jsx)(s.EuiFlexGroup,{alignItems:"center",justifyContent:"flexEnd",responsive:!1},Object(p.jsx)(s.EuiFlexItem,{grow:!1},Object(p.jsx)(s.EuiButtonEmpty,{onClick:l},u.i18n.translate("xpack.lens.layer.cancelDelete",{defaultMessage:"Cancel"}))),Object(p.jsx)(s.EuiFlexItem,{grow:!1},Object(p.jsx)(s.EuiButton,{"data-test-subj":"lnsLayerRemoveConfirmButton",onClick:m,color:"danger",iconType:n?"trash":"eraser",fill:!0},n?u.i18n.translate("xpack.lens.layer.confirmDelete",{defaultMessage:"Delete layer"}):u.i18n.translate("xpack.lens.layer.confirmClear",{defaultMessage:"Clear layer"}))))))))},z=e=>{const{buttonLabel:t,modalTitle:a,modalBody:n}=((e,t,a)=>{var n,o,i,r,s,l;if(t&&"data"===e)return{buttonLabel:u.i18n.translate("xpack.lens.resetLayerAriaLabel",{defaultMessage:"Clear layer"}),modalTitle:u.i18n.translate("xpack.lens.modalTitle.title.clearVis",{defaultMessage:"Clear visualization layer?"}),modalBody:u.i18n.translate("xpack.lens.layer.confirmModal.clearVis",{defaultMessage:"Clearing this layer removes the visualization and its configurations. "})};const c=u.i18n.translate("xpack.lens.deleteLayerAriaLabel",{defaultMessage:"Delete layer"});switch(e){case"data":return{buttonLabel:c,modalTitle:null!==(n=null==a?void 0:a.title)&&void 0!==n?n:u.i18n.translate("xpack.lens.modalTitle.title.deleteVis",{defaultMessage:"Delete visualization layer?"}),modalBody:null!==(o=null==a?void 0:a.description)&&void 0!==o?o:u.i18n.translate("xpack.lens.layer.confirmModal.deleteVis",{defaultMessage:"Deleting this layer removes the visualization and its configurations. "})};case"annotations":return{buttonLabel:c,modalTitle:null!==(i=null==a?void 0:a.title)&&void 0!==i?i:u.i18n.translate("xpack.lens.modalTitle.title.deleteAnnotations",{defaultMessage:"Delete annotation group?"}),modalBody:null!==(r=null==a?void 0:a.description)&&void 0!==r?r:u.i18n.translate("xpack.lens.layer.confirmModal.deleteAnnotation",{defaultMessage:"Deleting this layer removes the annotations and their configurations. "})};case"referenceLine":return{buttonLabel:c,modalTitle:null!==(s=null==a?void 0:a.title)&&void 0!==s?s:u.i18n.translate("xpack.lens.modalTitle.title.deleteReferenceLines",{defaultMessage:"Delete reference lines layer?"}),modalBody:null!==(l=null==a?void 0:a.description)&&void 0!==l?l:u.i18n.translate("xpack.lens.layer.confirmModal.deleteRefLine",{defaultMessage:"Deleting this layer removes the reference lines and their configurations. "})};default:throw new Error("Unknown layer type")}})(e.layerType||k.LayerTypes.DATA,e.isOnlyLayer,e.customModalText);return{execute:async()=>{var t;const o=new D.Storage(localStorage),i=null!==(t=o.get(C.a))&&void 0!==t?t:{},r=e=>{o.set(C.a,{...i,...e})};if(i.skipDeleteModal)e.execute();else{var s;const{overlays:t,...o}=e.core,l=t.openModal(Object(I.a)(Object(p.jsx)(T,{modalTitle:a,isDeletable:!e.isOnlyLayer,modalDesc:n,skipDeleteModal:null!==(s=i[C.a])&&void 0!==s&&s,execute:e.execute,closeModal:()=>l.close(),updateLensLocalStorage:r}),o),{"data-test-subj":"lnsLayerRemoveModal",maxWidth:600});await l.onClose}},displayName:t,isCompatible:!0,icon:e.isOnlyLayer?"eraser":"trash",color:"danger","data-test-subj":`lnsLayerRemove--${e.layerIndex}`,order:w}},E=({core:e,layerIndex:t,layerType:a,activeVisualization:n,isOnlyLayer:o,isTextBasedLanguage:i,hasLayerSettings:r,openLayerSettings:s,onCloneLayer:l,onRemoveLayer:c,customRemoveModalText:d})=>{return[(p={hasLayerSettings:r,openLayerSettings:s},{displayName:u.i18n.translate("xpack.lens.layerActions.layerSettingsAction",{defaultMessage:"Layer settings"}),execute:p.openLayerSettings,icon:"gear",isCompatible:p.hasLayerSettings,"data-test-subj":"lnsLayerSettings",order:L}),S({execute:l,layerIndex:t,activeVisualization:n,isTextBasedLanguage:i}),z({execute:c,layerIndex:t,layerType:a,isOnlyLayer:o,core:e,customModalText:d})];var p},M=e=>{const t=`lnsLayerSplitButton--${e.layerIndex}`,[a,n]=Object(i.useState)(!1),r=Object(s.useGeneratedHtmlId)({prefix:t}),{euiTheme:l}=Object(s.useEuiTheme)(),c=Object(i.useCallback)((()=>{n(!a)}),[a]),d=Object(i.useCallback)((()=>{a&&n(!1)}),[a]);return Object(p.jsx)(s.EuiOutsideClickDetector,{onOutsideClick:d},Object(p.jsx)(s.EuiPopover,{id:r,button:Object(p.jsx)(s.EuiButtonIcon,{display:"empty",color:"text",size:"s",iconType:"boxesHorizontal","aria-label":u.i18n.translate("xpack.lens.layer.actions.contextMenuAriaLabel",{defaultMessage:"Layer actions"}),onClick:c,"data-test-subj":t}),ownFocus:!0,isOpen:a,closePopover:d,panelPaddingSize:"none",anchorPosition:"downLeft",panelProps:{"data-test-subj":"lnsLayerActionsMenu"}},Object(p.jsx)(s.EuiContextMenuPanel,{size:"s",items:e.actions.map((t=>Object(p.jsx)(s.EuiContextMenuItem,o()({key:t.displayName,icon:Object(p.jsx)(s.EuiIcon,{type:t.icon,title:t.displayName,color:t.color}),"data-test-subj":t["data-test-subj"],"aria-label":t.displayName,title:t.displayName,disabled:t.disabled,onClick:()=>{d(),t.execute(e.mountingPoint)}},t.color?{css:Object(p.css)("color:",l.colors[t.color],";&:hover{text-decoration-color:",l.colors[t.color],"!important;}",""),size:"s"}:{}),Object(p.jsx)(s.EuiText,{size:"s",color:t.color},t.displayName))))})))};var F={name:"8ixhiv",styles:"gap:0"};const A=e=>{var t;if(!e.actions.length)return null;const a=[...e.actions].sort((({order:e},{order:t})=>e-t)),n=1===a.length?a[0]:a.find((e=>e.showOutsideList)),i=a.filter((e=>e!==n));return Object(p.jsx)(s.EuiFlexGroup,{css:F,responsive:!1,alignItems:"center",direction:"row",justifyContent:"flexEnd","data-test-subj":"lnsLayerActions"},n&&Object(p.jsx)(s.EuiFlexItem,{grow:!1},Object(p.jsx)(s.EuiToolTip,{content:n.displayName},Object(p.jsx)(s.EuiButtonIcon,{size:"s",iconType:n.icon,color:null!==(t=n.color)&&void 0!==t?t:"text","data-test-subj":n["data-test-subj"],"aria-label":n.displayName,title:n.displayName,disabled:n.disabled,onClick:()=>{var t;return null===(t=n.execute)||void 0===t?void 0:t.call(n,e.mountingPoint)}}))),Object(p.jsx)(s.EuiFlexItem,{grow:!1},Object(p.jsx)(M,o()({},e,{actions:i}))))};var N=a(97),W=a(85),R=(a(199),a(11)),B=a(693);const V=function({label:e,icon:t,onClick:a,dataTestSubj:n}){return Object(p.jsx)(B.a,{"data-test-subj":n,"aria-label":e,onClick:a,fullWidth:!0,size:"s",fontWeight:"bold",label:Object(p.jsx)(G,{label:e,icon:t})})},G=function({label:e,icon:t}){return Object(p.jsx)(s.EuiFlexGroup,{gutterSize:"none",alignItems:"center",responsive:!1},t&&Object(p.jsx)(s.EuiFlexItem,{grow:!1},Object(p.jsx)(s.EuiIcon,{type:t})),Object(p.jsx)(s.EuiFlexItem,{grow:!1},Object(p.jsx)(s.EuiText,{size:"s",css:Object(p.css)("font-weight:600;display:inline;padding-left:",b.euiThemeVars.euiSizeS,";","")},e)))};var $=a(116),H=a(124),U=a(92),q=a(160);const X=e=>{if("nothing"!==e)return"everything"===e?u.i18n.translate("xpack.lens.chartSwitch.dataLossEverything",{defaultMessage:"Changing to this visualization clears the current configuration."}):"layers"===e?u.i18n.translate("xpack.lens.chartSwitch.dataLossLayersDescription",{defaultMessage:"Changing to this visualization modifies currently selected layer`s configuration and removes all other layers."}):u.i18n.translate("xpack.lens.chartSwitch.dataLossColumns",{defaultMessage:"Changing to this visualization modifies the current configuration."})},Y=({content:e,id:t})=>e?Object(p.jsx)(s.EuiFlexItem,{grow:!1},Object(p.jsx)(s.EuiIconTip,{size:"s","aria-label":e,type:"dot",color:"warning",content:e,iconProps:{className:"lnsChartSwitch__chartIcon","data-test-subj":`lnsChartSwitchPopoverAlert_${t}`}})):null,K=({dataLoss:e,showExperimentalBadge:t,id:a})=>Object(p.jsx)(s.EuiFlexGroup,{gutterSize:"xs",responsive:!1,alignItems:"center",className:"lnsChartSwitch__append"},t?Object(p.jsx)(s.EuiFlexItem,{grow:!1},Object(p.jsx)(W.d,null)):null,Object(p.jsx)(Y,{content:X(e),id:a}));function J(e,t){try{return e()}catch(e){return Object(H.c)(e),t}}const Q=Object(i.memo)((function({framePublicAPI:e,visualizationMap:t,datasourceMap:a,layerId:n}){var o;const[l,c]=Object(i.useState)(!1),d=Object(U.W)(),b=Object(U.X)(U.r),g=Object(U.X)(U.J),m=Object(U.X)(U.y);function f(o,i){var r;const s=t[o],l=(e,a,n)=>t[o].switchVisualizationType?J((()=>t[o].switchVisualizationType(e,a,n)),a):a,c=Object.entries(e.datasourceLayers),u=c.some((([e,t])=>t&&t.getTableSpec().length>0));if(g.activeId===o&&g.state&&J((()=>{var e;return s.getVisualizationTypeId(g.state)===i||(null===(e=s.isSubtypeCompatible)||void 0===e?void 0:e.call(s,s.getVisualizationTypeId(g.state),i))}),!1))return{visualizationId:o,subVisualizationId:i,dataLoss:"nothing",keptLayerIds:Object.keys(e.datasourceLayers),getVisualizationState:()=>l(i,g.state,n),sameDatasources:!0};const p=function(e,t,a,n,o,i,r,s,l){const c=i.activeId&&e[i.activeId]&&e[i.activeId].getMainPalette?e[i.activeId].getMainPalette(i.state):void 0,d=Object($.a)({datasourceMap:t,datasourceStates:o,visualizationMap:{[n]:r},activeVisualization:i.activeId?e[i.activeId]:void 0,visualizationState:i.state,subVisualizationId:s,activeData:a.activeData,mainPalette:c,dataViews:a.dataViews}).filter((e=>"extended"!==e.changeType&&J((()=>r.getVisualizationTypeId(e.visualizationState)===s),!1)));return d.find((e=>"unchanged"===e.changeType||"reduced"===e.changeType))||d.find((e=>e.keptLayerIds.some((e=>e===l))))||d[0]}(t,a,e,o,m,g,s,i,n);let f;function x(){const e=Object(q.a)();return d(Object(U.i)({datasourceId:b,layerId:e})),e}return f=u?p?c.length>1&&c.length>p.keptLayerIds.length?"layers":p.columns!==(null===(r=c[0][1])||void 0===r?void 0:r.getTableSpec().length)?"columns":"nothing":"everything":"nothing",{visualizationId:o,subVisualizationId:i,dataLoss:f,getVisualizationState:p?()=>l(i,s.initialize(x,p.visualizationState),n):()=>l(i,s.initialize(x,g.activeId===s.id?g.state:void 0,g.activeId&&t[g.activeId].getMainPalette?t[g.activeId].getMainPalette(g.state):void 0),n),keptLayerIds:p?p.keptLayerIds:[],datasourceState:p?p.datasourceState:void 0,datasourceId:p?p.datasourceId:void 0,sameDatasources:"nothing"===f&&g.activeId===s.id}}const[x,h]=Object(i.useState)(""),{visualizationTypes:v,visualizationsLookup:y}=Object(i.useMemo)((()=>{if(!l)return{visualizationTypes:[],visualizationsLookup:{}};const e=g.activeId&&t[g.activeId]?(a=t[g.activeId],n=g.state,J((()=>a.getVisualizationTypeId(n)),void 0)):void 0;var a,n;const o=x.toLowerCase(),i={},r={};return Object.entries(t).forEach((([e,t])=>{for(const n of t.visualizationTypes){var a;if(n.label.toLowerCase().includes(o)||(null===(a=n.fullLabel)||void 0===a?void 0:a.toLowerCase().includes(o))){i[n.groupLabel]=i[n.groupLabel]||{priority:0,visualizations:[]};const t={...n,visualizationId:e,selection:f(e,n.id)};i[n.groupLabel].priority+=n.sortPriority||0,i[n.groupLabel].visualizations.push(t),r[`${e}:${n.id}`]=t}}})),{visualizationTypes:Object.keys(i).sort(((e,t)=>i[t].priority-i[e].priority)).flatMap((t=>{const{visualizations:a}=i[t];return 0===a.length?[]:[{key:t,label:t,isGroupLabel:!0,"aria-label":t,"data-test-subj":`lnsChartSwitchPopover_${t}`}].concat(a.sort(((e,t)=>{var a,n;return(null!==(a=t.sortOrder)&&void 0!==a?a:0)-(null!==(n=e.sortOrder)&&void 0!==n?n:0)||(e.fullLabel||e.label).localeCompare(t.fullLabel||t.label)})).map((t=>({"aria-label":t.fullLabel||t.label,className:"lnsChartSwitch__option",isGroupLabel:!1,key:`${t.visualizationId}:${t.id}`,value:`${t.visualizationId}:${t.id}`,"data-test-subj":`lnsChartSwitchPopover_${t.id}`,label:t.fullLabel||t.label,prepend:Object(p.jsx)(s.EuiIcon,{className:"lnsChartSwitch__chartIcon",type:t.icon||"empty"}),append:"nothing"!==t.selection.dataLoss||t.showExperimentalBadge?Object(p.jsx)(K,{dataLoss:t.selection.dataLoss,showExperimentalBadge:t.showExperimentalBadge,id:t.selection.subVisualizationId}):null,...e===t.id&&{checked:"on"}}))))})),visualizationsLookup:r}}),[l,t,e,g.activeId,g.state,x]),{icon:j,label:_}=g.activeId&&(null===(o=t[g.activeId])||void 0===o?void 0:o.getDescription(g.state,n))||{label:u.i18n.translate("xpack.lens.configPanel.selectVisualization",{defaultMessage:"Select a visualization"}),icon:void 0};return Object(p.jsx)("div",{className:"lnsChartSwitch__header"},Object(p.jsx)(s.EuiPopover,{id:"lnsChartSwitchPopover",ownFocus:!0,initialFocus:".lnsChartSwitch__popoverPanel",panelClassName:"lnsChartSwitch__popoverPanel",panelPaddingSize:"s",button:Object(p.jsx)(V,{icon:j,label:_,dataTestSubj:"lnsChartSwitchPopover",onClick:()=>c(!l)}),isOpen:l,closePopover:()=>c(!1),anchorPosition:"downLeft"},Object(p.jsx)(s.EuiPopoverTitle,null,Object(p.jsx)(s.EuiFlexGroup,{alignItems:"center",responsive:!1},Object(p.jsx)(s.EuiFlexItem,null,u.i18n.translate("xpack.lens.configPanel.visualizationType",{defaultMessage:"Visualization type"})))),Object(p.jsx)(s.EuiSelectable,{className:"lnsChartSwitch__options",height:(O=v,0===O.length?0:Math.min(32*O.length,380)),searchable:!0,singleSelection:!0,isPreFiltered:!0,"data-test-subj":"lnsChartSwitchList",searchProps:{className:"lnsChartSwitch__search","data-test-subj":"lnsChartSwitchSearch",onChange:e=>h(e)},options:v,onChange:t=>{c(!1);const a=t.find((({checked:e})=>"on"===e));if(!a)return;const n=a.value;var o;o=y[n].selection,Object($.d)(d,{...o,visualizationState:o.getVisualizationState()},{clearStagedPreview:!0}),(o.datasourceId||o.sameDatasources)&&"everything"!==o.dataLoss||d(Object(U.o)({visualizationId:g.activeId,layerIds:Object.keys(e.datasourceLayers)}))},noMatchesMessage:Object(p.jsx)(R.FormattedMessage,{id:"xpack.lens.chartSwitch.noResults",defaultMessage:"No results found for {term}.",values:{term:Object(p.jsx)("strong",null,x)}})},((e,t)=>Object(p.jsx)(r.a.Fragment,null,t,e)))));var O}));function Z({activeVisualizationId:e,layerConfigProps:t,visualizationMap:a,datasourceMap:n,onlyAllowSwitchToSubtypes:o}){var i;const r=a[e];if(!r)return null;const s=null===(i=r.getCustomLayerHeader)||void 0===i?void 0:i.call(r,t);if(s)return s;const l=ee(a,r.id,t.frame,o);if(1===Object.keys(l).length&&1===Object.values(l)[0].visualizationTypes.length){const e=r.getDescription(t.state);return Object(p.jsx)(W.h,{label:e.label,icon:e.icon})}return Object(p.jsx)(Q,{datasourceMap:n,visualizationMap:l,framePublicAPI:t.frame,layerId:t.layerId})}const ee=(e,t,a,n)=>{if(n)return{[t]:e[t]};const o={...e};return Object.keys(o).forEach((e=>{var t,n;null!==(t=o[e])&&void 0!==t&&null!==(n=t.hideFromChartSwitch)&&void 0!==n&&n.call(t,a)&&delete o[e]})),o};a(356);var te=a(161);function ae({panel:e,...t}){return Object(p.jsx)(te.a,t,e)}var ne=a(691),oe=a(657),ie=a(46),re=a.n(ie),se=a(140);const le=({type:e,isIncompatible:t})=>{const{icon:a,label:n,controlKey:o}=function(e){switch(e){case"duplicate":return{icon:"copy",label:u.i18n.translate("domDragDrop.dropTargets.duplicate",{defaultMessage:"Duplicate"}),controlKey:u.i18n.translate("domDragDrop.dropTargets.altOption",{defaultMessage:"Alt/Option"})};case"swap":return{icon:"merge",label:u.i18n.translate("domDragDrop.dropTargets.swap",{defaultMessage:"Swap"}),controlKey:u.i18n.translate("domDragDrop.dropTargets.shift",{defaultMessage:"Shift"})};case"combine":return{icon:"aggregate",label:u.i18n.translate("domDragDrop.dropTargets.combine",{defaultMessage:"Combine"}),controlKey:u.i18n.translate("domDragDrop.dropTargets.control",{defaultMessage:"Control"})};default:throw Error("Drop type not supported")}}(e);return Object(p.jsx)(s.EuiFlexGroup,{gutterSize:"s",justifyContent:"spaceBetween",alignItems:"center",className:re()("domDroppable__extraTarget",{"domDroppable--incompatibleExtraTarget":t})},Object(p.jsx)(s.EuiFlexItem,{grow:!1},Object(p.jsx)(s.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},Object(p.jsx)(s.EuiFlexItem,{grow:!1},Object(p.jsx)(s.EuiIcon,{size:"m",type:a})),Object(p.jsx)(s.EuiFlexItem,{grow:!1,"data-test-subj":`${se.a}-dropTarget-${e}`},Object(p.jsx)(s.EuiText,{size:"s"},n)))),Object(p.jsx)(s.EuiFlexItem,{grow:!1},Object(p.jsx)(s.EuiText,{size:"xs"},Object(p.jsx)("code",null," ",o))))},ce={replace_duplicate_incompatible:le({type:"duplicate",isIncompatible:!0}),duplicate_incompatible:le({type:"duplicate",isIncompatible:!0}),swap_incompatible:le({type:"swap",isIncompatible:!0}),replace_duplicate_compatible:le({type:"duplicate"}),duplicate_compatible:le({type:"duplicate"}),swap_compatible:le({type:"swap"}),field_combine:le({type:"combine"}),combine_compatible:le({type:"combine"}),combine_incompatible:le({type:"combine",isIncompatible:!0})},de={getCustomDropTarget:e=>(null==ce?void 0:ce[e])||null,getAdditionalClassesOnDroppable:e=>{if(e&&["move_incompatible","replace_incompatible","swap_incompatible","duplicate_incompatible","replace_duplicate_incompatible","combine_incompatible"].includes(e))return"domDroppable--incompatible"},getAdditionalClassesOnEnter:e=>{if(e&&["field_replace","replace_compatible","replace_incompatible","replace_duplicate_compatible","replace_duplicate_incompatible"].includes(e))return"domDroppable--replacing"}};var ue=a(321);const pe=({label:e,ariaLabel:t,onClick:a,dataTestSubj:n,iconType:i,...r})=>Object(p.jsx)(s.EuiButtonEmpty,o()({},r,{css:Object(p.css)("width:100%;border-radius:",b.euiThemeVars.euiBorderRadius,"!important;border:",b.euiThemeVars.euiBorderWidthThin," dashed ",b.euiThemeVars.euiBorderColor,"!important;padding:",b.euiThemeVars.euiSizeXS," ",b.euiThemeVars.euiSizeS,";",""),color:"text",size:"s",iconType:null!=i?i:"plus",contentProps:{css:Object(p.css)("justify-content:flex-start;gap:",b.euiThemeVars.euiSizeS,";padding:0!important;color:",b.euiThemeVars.euiTextSubduedColor,";","")},"aria-label":t,"data-test-subj":n,onClick:()=>{a()}}),Object(p.jsx)(ue.a,{label:e,dataTestSubj:"emptyDimensionTrigger"}));var be=a(83),ge=a(94);const me={ariaLabel:e=>u.i18n.translate("xpack.lens.indexPattern.addColumnAriaLabel",{defaultMessage:"Add or drag-and-drop a field to {groupLabel}",values:{groupLabel:e}}),label:Object(p.jsx)(R.FormattedMessage,{id:"xpack.lens.configure.emptyConfig",defaultMessage:"Add or drag-and-drop a field"})},fe=({columnId:e,group:t,onClick:a})=>{const{buttonAriaLabel:n,buttonLabel:o}=t.labels||{};return Object(p.jsx)(pe,{label:o||me.label,ariaLabel:n||me.ariaLabel(t.groupLabel),dataTestSubj:"lns-empty-dimension",onClick:()=>a(e)})},xe=({columnId:e,group:t,onClick:a})=>{var n,o;return Object(p.jsx)(pe,{label:Object(p.jsx)(R.FormattedMessage,{id:"xpack.lens.configure.suggestedValuee",defaultMessage:"Suggested value: {value}",values:{value:null===(n=t.suggestedValue)||void 0===n?void 0:n.call(t)}}),ariaLabel:u.i18n.translate("xpack.lens.indexPattern.suggestedValueAriaLabel",{defaultMessage:"Suggested value: {value} for {groupLabel}",values:{value:null===(o=t.suggestedValue)||void 0===o?void 0:o.call(t),groupLabel:t.groupLabel}}),dataTestSubj:"lns-empty-dimension-suggested-value",iconType:"plusInCircleFilled",onClick:()=>a(e)})};function he({group:e,layerDatasource:t,state:a,onClick:n,onDrop:o,datasourceLayers:s,indexPatterns:l,activeVisualization:c,order:d,target:u}){var g,m;const[{dragging:f}]=Object(ne.c)();let x;var h,v;f&&(t?(Object(be.isDraggedField)(f)||Object(N.f)(f)&&t&&(null==s||null===(h=s[f.layerId])||void 0===h?void 0:h.datasourceId)===(null==s||null===(v=s[u.layerId])||void 0===v?void 0:v.datasourceId))&&(x=t.getDropProps):x=c.getDropProps);const[y,j]=Object(i.useState)(Object(ge.a)());Object(i.useEffect)((()=>{j(Object(ge.a)())}),[e.accessors.length]);const{dropTypes:_,nextLabel:O}=(null===(g=x)||void 0===g?void 0:g({state:a,source:f,target:{...u,columnId:y},indexPatterns:l}))||{dropTypes:[],nextLabel:""},w=!(!_.includes("duplicate_compatible")&&!_.includes("duplicate_incompatible")),L=Object(i.useMemo)((()=>({...u,columnId:y,id:y,humanData:{...u.humanData,nextLabel:O||"",canDuplicate:w}})),[y,u,O,w]),S=r.a.useCallback(((e,t)=>o(e,L,t)),[L,o]),I={columnId:L.columnId,onClick:n,group:e};return Object(p.jsx)("div",{className:"lnsLayerPanel__dimensionContainer","data-test-subj":e.dataTestSubj},Object(p.jsx)(oe.a,{getCustomDropTarget:de.getCustomDropTarget,getAdditionalClassesOnDroppable:de.getAdditionalClassesOnDroppable,value:L,order:d,onDrop:S,dropTypes:_},Object(p.jsx)("div",{css:Object(p.css)("border-radius:",b.euiThemeVars.euiBorderRadius,";","")},"number"==typeof(null===(m=e.suggestedValue)||void 0===m?void 0:m.call(e))?Object(p.jsx)(xe,I):Object(p.jsx)(fe,I))))}var ve=a(659);function ye({order:e,group:t,onDrop:a,activeVisualization:n,onDragStart:o,onDragEnd:r,children:s,state:l,layerDatasource:c,datasourceLayers:d,registerNewButtonRef:u,indexPatterns:b,target:g}){var m;const[{dragging:f}]=Object(ne.c)();let x;var h,v;f&&(c?(Object(be.isDraggedField)(f)||Object(N.f)(f)&&c&&(null==d||null===(h=d[f.layerId])||void 0===h?void 0:h.datasourceId)===(null==d||null===(v=d[g.layerId])||void 0===v?void 0:v.datasourceId))&&(x=c.getDropProps):x=n.getDropProps);const{dropTypes:y,nextLabel:j}=(null===(m=x)||void 0===m?void 0:m({state:l,source:f,target:g,indexPatterns:b}))||{dropTypes:[],nextLabel:""},_=!(!y.includes("replace_duplicate_incompatible")&&!y.includes("replace_duplicate_compatible")),O=!(!y.includes("swap_incompatible")&&!y.includes("swap_compatible")),w=Boolean(y.includes("combine_compatible")||y.includes("field_combine")||y.includes("combine_incompatible")),L=Object(i.useMemo)((()=>({...g,humanData:{...g.humanData,canSwap:O,canDuplicate:_,canCombine:w,nextLabel:j||""}})),[g,j,_,O,w]),S=Object(i.useMemo)((()=>t.accessors.map((e=>({id:e.columnId})))),[t.accessors]),I=Object(i.useCallback)((e=>u(g.columnId,e)),[u,g.columnId]),D=Object(i.useCallback)(((e,t)=>a(e,L,t)),[L,a]);return Object(p.jsx)("div",{ref:I,className:"lnsLayerPanel__dimensionContainer","data-test-subj":t.dataTestSubj},Object(p.jsx)(ve.a,{dragType:Object(N.f)(f)?"move":"copy",order:e,reorderableGroup:S.length>1?S:void 0,value:L,onDragStart:o,onDragEnd:r},Object(p.jsx)(oe.a,{dropTypes:y,getCustomDropTarget:de.getCustomDropTarget,getAdditionalClassesOnEnter:de.getAdditionalClassesOnEnter,getAdditionalClassesOnDroppable:de.getAdditionalClassesOnDroppable,order:e,reorderableGroup:S.length>1?S:void 0,value:L,onDrop:D},s)))}const je=e=>{const t="button, [href], input, select, textarea, [tabindex]";if(!e)return null;if(e.matches(t))return e;return e.querySelector(t)||null};function _e(e){const[t,a]=Object(i.useState)(null),[n,o]=Object(i.useState)(new Map);Object(i.useEffect)((()=>{const e=t&&n.get(t);if(e){const t=je(e);setTimeout((()=>null==t?void 0:t.focus())),a(null)}}),[e,n,t]);const r=Object(i.useCallback)(((e,t)=>{t&&o((a=>new Map(a.set(e,t))))}),[]),s=Object(i.useCallback)((t=>{if(e.length<=1)return a(t);const n=e.findIndex((e=>e===t));o((e=>(e.delete(t),new Map(e))));const i=0===n?e[1]:e[n-1];return a(i)}),[e]);return{setNextFocusedId:a,removeRef:s,registerNewRef:r}}const Oe=({label:e})=>Object(p.jsx)("div",{css:Object(p.css)("display:flex;align-items:center;border-radius:",b.euiThemeVars.euiBorderRadius,";min-height:",b.euiThemeVars.euiSizeXL,";cursor:default!important;background-color:",b.euiThemeVars.euiColorLightShade,"!important;border-color:transparent!important;box-shadow:none!important;padding:0 ",b.euiThemeVars.euiSizeS,";","")},Object(p.jsx)(ue.a,{label:e,id:"lns-fakeDimension",dataTestSubj:"lns-fakeDimension"}));function we(e){var t,a,n,l;const[c,d]=Object(i.useState)({}),[m,f]=Object(i.useState)(!1),{framePublicAPI:x,layerId:h,isOnlyLayer:v,dimensionGroups:y,onRemoveLayer:j,onCloneLayer:_,registerNewLayerRef:w,layerIndex:L,activeVisualization:S,visualizationMap:I,datasourceMap:D,updateVisualization:k,updateDatasource:C,toggleFullscreen:P,updateAll:T,updateDatasourceAsync:z,visualizationState:M,onChangeIndexPattern:F,core:W,onDropToDimension:R,setIsInlineFlyoutVisible:B,onlyAllowSwitchToSubtypes:V}=e,G=Boolean(null==e?void 0:e.setIsInlineFlyoutVisible),$=Object(U.X)((e=>e.lens.isSaveable)),H=Object(U.X)(U.y),q=Object(U.X)(U.C),X=Object(U.X)(U.E);Object(i.useEffect)((()=>{null==B||B(!c.openColumnId)}),[c.openColumnId,B]);const Y=Object(i.useRef)(null),K=Object(i.useRef)(null),J=Object(i.useCallback)((e=>w(h,e)),[h,w]),Q={layerId:h,state:e.visualizationState,frame:e.framePublicAPI,dateRange:X,activeData:e.framePublicAPI.activeData},ee=null===(t=x.datasourceLayers)||void 0===t?void 0:t[h],ne=null==ee?void 0:ee.datasourceId;let oe=ne?null==H||null===(a=H[ne])||void 0===a?void 0:a.state:void 0;if(!oe&&null!=ee&&ee.datasourceAliasIds&&H){const e=ee.datasourceAliasIds.find((e=>{var t;return null==H||null===(t=H[e])||void 0===t?void 0:t.state}));e&&(oe=H[e].state)}const ie=ne?e.datasourceMap[ne]:void 0,re={state:oe,setState:e=>{C(ne,e)},layerId:h,frame:e.framePublicAPI,dateRange:X},se=!ie&&S.getUniqueLabels?S.getUniqueLabels(e.visualizationState):null==ie||null===(n=ie.uniqueLabels)||void 0===n?void 0:n.call(ie,null==re?void 0:re.state,x.dataViews.indexPatterns),le=!y.some((e=>e.accessors.length>0)),{openColumnId:ce,openColumnGroup:de,isComplete:ue}=c;Object(i.useEffect)((()=>{if(!ce)return;const e=y.find((e=>e.accessors.some((e=>e.columnId===ce))));ue===!!e&&(null==e?void 0:e.groupId)===(null==de?void 0:de.groupId)||(e&&d({openColumnId:ce,openColumnGroup:e,isComplete:!!e}),ue&&!e&&d({}))}),[ce,y,ue,null==de?void 0:de.groupId]);const pe=y.flatMap((e=>e.accessors.map((e=>e.columnId)))),{setNextFocusedId:be,removeRef:ge,registerNewRef:me}=_e(pe),fe=Object(i.useCallback)(((e,t,a)=>{if(a){if(!Object(N.f)(t))throw new Error("Drop target should be an operation");be("reorder"===a||"field_replace"===a||"field_add"===a?e.id:t.columnId),R({source:e,target:t,dropType:a})}}),[be,R]),xe=Boolean(ce),ve=Object(i.useCallback)(((t,{isDimensionComplete:a=!0,forceRender:n=!1}={})=>{de&&ce&&(pe.includes(ce)?a?n?C(ne,t):z(ne,t):(e.updateDatasource(ne,t),e.onRemoveDimension({layerId:h,columnId:ce})):a?T(ne,t,S.setDimension({layerId:h,groupId:de.groupId,columnId:ce,prevState:M,frame:x})):n?C(ne,t):z(ne,t))}),[c,de,ce,S,ne,h,T,z,M,x]),{dataViews:je}=e.framePublicAPI,[we]=Object.values(x.datasourceLayers),Le=Boolean(null==we?void 0:we.isTextBasedLanguage()),Se=Object(i.useMemo)((()=>{var t;return(null===(t=S.hasLayerSettings)||void 0===t?void 0:t.call(S,{layerId:h,state:M,frame:e.framePublicAPI}))||{data:!1,appearance:!1}}),[S,h,e.framePublicAPI,M]),Ie=Object(i.useMemo)((()=>{var t,a;return[...(null===(t=S.getSupportedActionsForLayer)||void 0===t?void 0:t.call(S,h,M,k,e.registerLibraryAnnotationGroup,$).map((e=>({...e,execute:()=>{e.execute(De.current)}}))))||[],...E({layerId:h,activeVisualization:S,core:W,layerIndex:L,layerType:S.getLayerType(h,M),isOnlyLayer:v,isTextBasedLanguage:Le,hasLayerSettings:Boolean(Object.values(Se).some(Boolean)&&S.LayerSettingsComponent||(null==ie?void 0:ie.LayerSettingsComponent)),openLayerSettings:()=>f(!0),onCloneLayer:_,onRemoveLayer:()=>j(h),customRemoveModalText:null===(a=S.getCustomRemoveLayerText)||void 0===a?void 0:a.call(S,h,M)})].filter((e=>e.isCompatible))}),[S,h,M,k,e.registerLibraryAnnotationGroup,$,W,L,v,Le,Se,null==ie?void 0:ie.LayerSettingsComponent,_,j]),De=Object(i.useRef)(null);return Object(p.jsx)(r.a.Fragment,null,Object(p.jsx)("section",{tabIndex:-1,ref:J,className:"lnsLayerPanel","data-test-subj":`lns-layerPanel-${L}`},Object(p.jsx)(s.EuiPanel,{paddingSize:"none"},Object(p.jsx)("header",{className:"lnsLayerPanel__layerHeader"},Object(p.jsx)(s.EuiFlexGroup,{gutterSize:"s",responsive:!1,alignItems:"center"},Object(p.jsx)(s.EuiFlexItem,{grow:!0,className:"lnsLayerPanel__layerSettingsWrapper"},Object(p.jsx)(Z,{layerConfigProps:{...Q,setState:e.updateVisualization,onChangeIndexPattern:e=>F({indexPatternId:e,layerId:h,visualizationId:S.id})},activeVisualizationId:S.id,visualizationMap:I,datasourceMap:D,onlyAllowSwitchToSubtypes:V})),e.displayLayerSettings&&Object(p.jsx)(s.EuiFlexItem,{grow:!1},Object(p.jsx)(A,{actions:Ie,layerIndex:L,mountingPoint:De.current}),Object(p.jsx)("div",{ref:De}))),e.indexPatternService&&!Le&&(ie||S.LayerPanelComponent)&&Object(p.jsx)(s.EuiSpacer,{size:"s"}),ie&&e.indexPatternService&&Object(p.jsx)(ie.LayerPanelComponent,{layerId:h,state:oe,activeData:e.framePublicAPI.activeData,dataViews:je,onChangeIndexPattern:e=>F({indexPatternId:e,layerId:h,datasourceId:ne})}),S.LayerPanelComponent&&Object(p.jsx)(S.LayerPanelComponent,{layerId:h,state:M,frame:x,setState:e.updateVisualization,onChangeIndexPattern:e=>F({indexPatternId:e,layerId:h,visualizationId:S.id})})),y.filter((e=>!e.isHidden)).map(((t,a)=>{var n;let o="";le&&!G||(t.requiredMinDimensionCount&&t.requiredMinDimensionCount>t.accessors.length?o=t.requiredMinDimensionCount>1?u.i18n.translate("xpack.lens.editorFrame.requiresTwoOrMoreFieldsWarningLabel",{defaultMessage:"Requires {requiredMinDimensionCount} fields",values:{requiredMinDimensionCount:t.requiredMinDimensionCount}}):u.i18n.translate("xpack.lens.editorFrame.requiresFieldWarningLabel",{defaultMessage:"Requires field"}):t.dimensionsTooMany&&t.dimensionsTooMany>0&&(o=u.i18n.translate("xpack.lens.editorFrame.tooManyDimensionsSingularWarningLabel",{defaultMessage:"Please remove {dimensionsTooMany, plural, one {a dimension} other {{dimensionsTooMany} dimensions}}",values:{dimensionsTooMany:t.dimensionsTooMany}})));const i=!t.requiredMinDimensionCount&&!t.suggestedValue;return Object(p.jsx)(s.EuiFormRow,{className:"lnsLayerPanel__row",fullWidth:!0,label:Object(p.jsx)(r.a.Fragment,null,t.groupLabel,t.groupTooltip&&Object(p.jsx)(r.a.Fragment,null,Object(p.jsx)(s.EuiIconTip,{color:"subdued",content:t.groupTooltip,iconProps:{className:"eui-alignTop"},position:"top",size:"s",type:"questionInCircle"}))),labelAppend:i?Object(p.jsx)(s.EuiText,{color:"subdued",size:"xs","data-test-subj":"lnsGroup_optional"},u.i18n.translate("xpack.lens.editorFrame.optionalDimensionLabel",{defaultMessage:"Optional"})):null,labelType:"legend",key:t.groupId,isInvalid:Boolean(o),error:o},Object(p.jsx)(r.a.Fragment,null,t.accessors.length?Object(p.jsx)(g.b,{className:"lnsLayerPanel__group",dataTestSubj:"lnsDragDrop"},t.accessors.map(((n,o)=>{var i,s,l,c,u,b,g,m,f,v;const{columnId:y}=n,j=null!==(i=null==e||null===(s=e.getUserMessages)||void 0===s?void 0:s.call(e,"dimensionButton",{dimensionId:y}))&&void 0!==i?i:[];return Object(p.jsx)(ye,{activeVisualization:S,registerNewButtonRef:me,order:[2,L,a,o],target:{id:y,layerId:h,columnId:y,groupId:t.groupId,filterOperations:t.filterOperations,prioritizedOperation:t.prioritizedOperation,isMetricDimension:null==t?void 0:t.isMetricDimension,indexPatternId:ie?ie.getUsedDataView(oe,h):null===(l=S.getUsedDataView)||void 0===l?void 0:l.call(S,M,h),humanData:{label:null!==(c=null==se?void 0:se[y])&&void 0!==c?c:"",groupLabel:t.groupLabel,position:o+1,layerNumber:L+1}},group:t,key:y,state:oe,layerDatasource:ie,datasourceLayers:x.datasourceLayers,onDrop:fe,indexPatterns:je.indexPatterns},Object(p.jsx)(O,{accessorConfig:n,label:null!==(u=null==se?void 0:se[n.columnId])&&void 0!==u?u:"",groupLabel:t.groupLabel,onClick:e=>{d({openColumnGroup:t,openColumnId:e})},onRemoveClick:t=>{e.onRemoveDimension({columnId:t,layerId:h}),ge(t)},message:{severity:null===(b=j[0])||void 0===b?void 0:b.severity,content:(null===(g=j[0])||void 0===g?void 0:g.shortMessage)||(null===(m=j[0])||void 0===m?void 0:m.longMessage)}},ie?Object(p.jsx)(r.a.Fragment,null,ie.DimensionTriggerComponent({...re,columnId:n.columnId,groupId:t.groupId,filterOperations:t.filterOperations,indexPatterns:je.indexPatterns})):Object(p.jsx)(r.a.Fragment,null,null==S||null===(f=S.DimensionTriggerComponent)||void 0===f?void 0:f.call(S,{columnId:y,label:null!==(v=null==se?void 0:se[y])&&void 0!==v?v:""}))))}))):null,t.fakeFinalAccessor&&Object(p.jsx)(Oe,{label:t.fakeFinalAccessor.label}),t.supportsMoreColumns?Object(p.jsx)(he,{activeVisualization:S,order:[2,L,a,t.accessors.length],group:t,target:{layerId:h,groupId:t.groupId,filterOperations:t.filterOperations,prioritizedOperation:t.prioritizedOperation,isNewColumn:!0,isMetricDimension:null==t?void 0:t.isMetricDimension,indexPatternId:ie?ie.getUsedDataView(oe,h):null===(n=S.getUsedDataView)||void 0===n?void 0:n.call(S,M,h),humanData:{groupLabel:t.groupLabel,layerNumber:L+1,position:t.accessors.length+1,label:u.i18n.translate("xpack.lens.indexPattern.emptyDimensionButton",{defaultMessage:"Empty dimension"})}},layerDatasource:ie,state:oe,datasourceLayers:x.datasourceLayers,onClick:a=>{e.onEmptyDimensionAdd(a,t),d({openColumnGroup:t,openColumnId:a})},onDrop:fe,indexPatterns:je.indexPatterns}):null))})))),((null==ie?void 0:ie.LayerSettingsComponent)||(null==S?void 0:S.LayerSettingsComponent))&&Object(p.jsx)(te.a,{panelRef:e=>K.current=e,isFullscreen:!1,label:u.i18n.translate("xpack.lens.editorFrame.layerSettingsTitle",{defaultMessage:"Layer settings"}),isOpen:m,handleClose:()=>{f(!1)},isInlineEditing:G},Object(p.jsx)("div",{id:h},Object(p.jsx)("div",{className:"lnsIndexPatternDimensionEditor--padded"},null!=ie&&ie.LayerSettingsComponent||Se.data?Object(p.jsx)(s.EuiText,{size:"s",css:Object(p.css)("margin-bottom:",b.euiThemeVars.euiSize,";","")},Object(p.jsx)("h4",null,u.i18n.translate("xpack.lens.editorFrame.layerSettings.headingData",{defaultMessage:"Data"}))):null,(null==ie?void 0:ie.LayerSettingsComponent)&&Object(p.jsx)(ie.LayerSettingsComponent,re),null!=ie&&ie.LayerSettingsComponent&&Se.data?Object(p.jsx)(s.EuiSpacer,{size:"m"}):null,null!=S&&S.LayerSettingsComponent&&Se.data?Object(p.jsx)(S.LayerSettingsComponent,o()({},Q,{setState:e.updateVisualization,panelRef:K,section:"data"})):null,Se.appearance?Object(p.jsx)(s.EuiText,{size:"s",css:Object(p.css)("margin-bottom:",b.euiThemeVars.euiSize,";","")},Object(p.jsx)("h4",null,u.i18n.translate("xpack.lens.editorFrame.layerSettings.headingAppearance",{defaultMessage:"Appearance"}))):null,(null==S?void 0:S.LayerSettingsComponent)&&Object(p.jsx)(S.LayerSettingsComponent,o()({},Q,{setState:e.updateVisualization,panelRef:K,section:"appearance"}))))),Object(p.jsx)(ae,{panelRef:e=>Y.current=e,isOpen:xe,isFullscreen:q,label:null!==(l=null==de?void 0:de.dimensionEditorGroupLabel)&&void 0!==l?l:(null==de?void 0:de.groupLabel)||"",isInlineEditing:G,handleClose:()=>{if(ie&&ie.updateStateOnCloseDimension){const t=ie.updateStateOnCloseDimension({state:oe,layerId:h,columnId:ce});t&&e.updateDatasource(ne,t)}d({}),q&&P()},panel:Object(p.jsx)(r.a.Fragment,null,de&&ce&&ie&&ie.DimensionEditorComponent({...re,core:e.core,columnId:ce,groupId:de.groupId,hideGrouping:de.hideGrouping,filterOperations:de.filterOperations,isMetricDimension:null==de?void 0:de.isMetricDimension,dimensionGroups:y,toggleFullscreen:P,isFullscreen:q,setState:ve,supportStaticValue:Boolean(de.supportStaticValue),paramEditorCustomProps:de.paramEditorCustomProps,enableFormatSelector:!1!==de.enableFormatSelector,layerType:S.getLayerType(h,M),indexPatterns:je.indexPatterns,activeData:Q.activeData,dataSectionExtra:!q&&c.isComplete&&S.DimensionEditorDataExtraComponent&&Object(p.jsx)(S.DimensionEditorDataExtraComponent,o()({},Q,{groupId:de.groupId,accessor:ce,datasource:we,setState:e.updateVisualization,addLayer:e.addLayer,removeLayer:e.onRemoveLayer,panelRef:Y}))}),de&&ce&&!q&&c.isComplete&&S.DimensionEditorComponent&&(null==de?void 0:de.enableDimensionEditor)&&Object(p.jsx)(r.a.Fragment,null,Object(p.jsx)("div",{className:"lnsLayerPanel__styleEditor"},Object(p.jsx)(S.DimensionEditorComponent,o()({},Q,{groupId:de.groupId,accessor:ce,datasource:we,setState:e.updateVisualization,addLayer:e.addLayer,removeLayer:e.onRemoveLayer,panelRef:Y,isInlineEditing:G}))),S.DimensionEditorAdditionalSectionComponent&&Object(p.jsx)(S.DimensionEditorAdditionalSectionComponent,o()({},Q,{groupId:de.groupId,accessor:ce,datasource:we,setState:e.updateVisualization,addLayer:e.addLayer,removeLayer:e.onRemoveLayer,panelRef:Y}))))}))}const Le=Object(i.memo)((function(e){const t=Object(U.X)(U.J),a=t.activeId?e.visualizationMap[t.activeId]:null;return a&&t.state?Object(p.jsx)(Se,o()({},e,{activeVisualization:a})):null}));function Se(e){var t;const{activeVisualization:a,datasourceMap:n,indexPatternService:r}=e,{activeDatasourceId:u,visualization:b,datasourceStates:g,query:m}=Object(U.X)((e=>e.lens)),f=Object(U.W)(),x=a.getLayerIds(b.state),{setNextFocusedId:h,removeRef:v,registerNewRef:y}=_e(x),j=Object(i.useMemo)((()=>e=>{f(Object(U.V)({visualizationId:a.id,newState:e}))}),[a.id,f]),_=Object(i.useMemo)((()=>(e,t,a)=>{e&&f(Object(U.T)({newDatasourceState:"function"==typeof t?t(g[e].state):t,datasourceId:e,clearStagedPreview:!1,dontSyncLinkedDimensions:a}))}),[f,g]),O=Object(i.useMemo)((()=>(e,t)=>{setTimeout((()=>{_(e,t)}))}),[_]),w=Object(i.useMemo)((()=>(e,t,n)=>{e&&setTimeout((()=>{const o="function"==typeof t?t(g[e].state):t,i="function"==typeof n?n(b.state):n;f(Object(U.V)({visualizationId:a.id,newState:i,dontSyncLinkedDimensions:!0})),f(Object(U.T)({newDatasourceState:o,datasourceId:e,clearStagedPreview:!1}))}),0)}),[f,b.state,g,a.id]),L=Object(i.useCallback)((()=>{f(Object(U.P)())}),[f]),S=Object(i.useCallback)((e=>{f(Object(d.g)(e))}),[f]),I=Object(i.useCallback)((t=>{var o;const i=null===(o=e.framePublicAPI.datasourceLayers)||void 0===o?void 0:o[t],r=null==i?void 0:i.datasourceId;if(r){var s;const a=n[r],o=null==g||null===(s=g[r])||void 0===s?void 0:s.state,i=e.uiActions.getTrigger(c.UPDATE_FILTER_REFERENCES_TRIGGER),l=e.uiActions.getAction(c.UPDATE_FILTER_REFERENCES_ACTION);null==l||l.execute({trigger:i,fromDataView:a.getUsedDataView(o,t),usedDataViews:a.getLayers(o).map((e=>a.getUsedDataView(o,e))),defaultDataView:a.getUsedDataView(o)})}f(Object(U.p)({visualizationId:a.id,layerId:t,layerIds:x})),v(t)}),[a.id,n,g,f,x,e.framePublicAPI.datasourceLayers,e.uiActions,v]),D=Object(i.useCallback)((async({indexPatternId:t,datasourceId:a,visualizationId:n,layerId:o})=>{var i;const r=await(null===(i=e.indexPatternService)||void 0===i?void 0:i.ensureIndexPattern({id:t,cache:e.framePublicAPI.dataViews.indexPatterns}));r&&f(Object(d.a)({indexPatternId:t,datasourceIds:a?[a]:[],visualizationIds:n?[n]:[],layerId:o,dataViews:{indexPatterns:r}}))}),[f,e.framePublicAPI.dataViews.indexPatterns,e.indexPatternService]),k=(e,t,a,n)=>{const o=Object(ge.a)();f(Object(U.a)({layerId:o,layerType:e,extraArg:t,ignoreInitialValues:a,seriesType:n})),h(o)},C=Object(i.useCallback)((e=>f(Object(U.n)(e))),[f]),P=m&&Object(l.isOfAggregateQueryType)(m);return Object(p.jsx)(s.EuiForm,{className:"lnsConfigPanel"},x.map(((t,i)=>{const{hidden:s,groups:l}=a.getConfiguration({layerId:t,frame:e.framePublicAPI,state:b.state});return!s&&Object(p.jsx)(we,o()({},e,{onDropToDimension:S,registerLibraryAnnotationGroup:C,dimensionGroups:l,activeVisualization:a,registerNewLayerRef:y,key:t,layerId:t,layerIndex:i,visualizationState:b.state,visualizationMap:e.visualizationMap,updateVisualization:j,updateDatasource:_,updateDatasourceAsync:O,displayLayerSettings:!e.hideLayerHeader,onlyAllowSwitchToSubtypes:e.onlyAllowSwitchToSubtypes,onChangeIndexPattern:e=>{var t,n;D(e),(null!==(t=null===(n=a.getLayersToRemoveOnIndexPatternChange)||void 0===n?void 0:n.call(a,b.state))&&void 0!==t?t:[]).forEach((e=>I(e)))},updateAll:w,addLayer:k,isOnlyLayer:"clear"===Object(be.getRemoveOperation)(a,b.state,t,x.length),onEmptyDimensionAdd:(e,{groupId:a})=>{var o;null!=u&&null!==(o=n[u])&&void 0!==o&&o.initializeDimension&&f(Object(U.M)({layerId:t,columnId:e,groupId:a}))},onCloneLayer:()=>{f(Object(U.c)({layerId:t}))},onRemoveLayer:I,onRemoveDimension:a=>{var n;const o=null===(n=e.framePublicAPI.datasourceLayers)||void 0===n?void 0:n[t],i=null==o?void 0:o.datasourceId;f(Object(d.h)({...a,datasourceId:i}))},toggleFullscreen:L,indexPatternService:r}))})),!P&&(null==a||null===(t=a.getAddLayerButtonComponent)||void 0===t?void 0:t.call(a,{state:b.state,supportedLayers:a.getSupportedLayers(b.state,e.framePublicAPI),addLayer:k,ensureIndexPattern:async t=>{let a;if("string"==typeof t)a=t;else{const n=await e.dataViews.create(t);if(!n.id)return;a=n.id}const n=await(null==r?void 0:r.ensureIndexPattern({id:a,cache:e.framePublicAPI.dataViews.indexPatterns}));n&&f(Object(d.a)({dataViews:{indexPatterns:n},datasourceIds:Object.keys(g),visualizationIds:b.activeId?[b.activeId]:[],indexPatternId:a}))},registerLibraryAnnotationGroup:C,isInlineEditing:Boolean(null==e?void 0:e.setIsInlineFlyoutVisible)})))}},178:function(e,t,a){"use strict";a.d(t,"a",(function(){return z})),a.d(t,"c",(function(){return v.b})),a.d(t,"e",(function(){return v.d})),a.d(t,"f",(function(){return v.e})),a.d(t,"d",(function(){return v.c})),a.d(t,"g",(function(){return v.f})),a.d(t,"b",(function(){return v.a}));var n=a(3),o=a.n(n),i=a(691),r=a(83),s=a(95),l=(a(342),a(16)),c=a(102),d=a.n(c),u=a(44),p=a(6),b=a(4);const g=o.a.lazy((()=>a.e(19).then(a.bind(null,677)))),m=/^What\'s (an|(\d+)) elk bees?\?$/;function f({query:e}){if(!e||"object"!=typeof e||"string"!=typeof e.query)return null;const t=m.exec(e.query);if(!t)return null;let a=parseInt(t[2]||"1",10);return isNaN(a)&&(a=0),a=Math.max(1,Math.min(50,a)),Object(b.jsx)(o.a.Suspense,{fallback:!1},new Array(a).fill(void 0).map(((e,t)=>Object(b.jsx)(g,{key:t}))))}function x(e){return Object(b.jsx)(p.EuiErrorBoundary,{style:{display:"none"}},Object(b.jsx)(f,e))}var h=a(92),v=a(128),y=a(99);const j=d()((e=>e),u.isEqual),_=Object(n.memo)((e=>{var t,a,i;const s=Object(h.X)(h.z),c=Object(h.X)(h.r),d=Object(h.X)(h.y),u=Object(h.X)(h.K),p=!c||d[c].isLoading,g=Object(h.W)(),m=Object(n.useMemo)((()=>(e,t)=>{g(Object(h.T)({newDatasourceState:e,datasourceId:c,clearStagedPreview:!0})),null!=t&&t.applyImmediately&&g(Object(h.b)())}),[c,g]);Object(n.useEffect)((()=>{c&&null===d[c].state&&Object(v.d)({datasourceMap:e.datasourceMap,eventAnnotationService:e.plugins.eventAnnotationService,visualizationMap:e.visualizationMap,visualizationState:u,datasourceStates:d,dataViews:e.plugins.dataViews,references:void 0,initialContext:void 0,storage:new l.Storage(localStorage),defaultIndexPatternId:e.core.uiSettings.get("defaultIndex")},{isFullEditor:!0}).then((({datasourceStates:e,visualizationState:t,indexPatterns:a,indexPatternRefs:n})=>{g(Object(h.O)({visualization:{...u,state:t},datasourceStates:Object.entries(e).reduce(((e,[t,a])=>({...e,[t]:{...a,isLoading:!1}})),{}),dataViews:Object(r.getInitialDataViewsObject)(a,n)}))}))}),[d,u,c,e.datasourceMap,e.visualizationMap,g,e.plugins.dataViews,e.core.uiSettings,e.plugins.eventAnnotationService]);const f=Object(n.useCallback)((async(t,a,n)=>{const o=await e.indexPatternService.ensureIndexPattern({id:t,cache:e.frame.dataViews.indexPatterns});g(Object(y.a)({dataViews:{indexPatterns:o},datasourceIds:[a],indexPatternId:t,layerId:n}))}),[e.indexPatternService,e.frame.dataViews.indexPatterns,g]),_={...s,state:c?d[c].state:null,setState:m,core:e.core,showNoDataPopover:e.showNoDataPopover,dropOntoWorkspace:e.dropOntoWorkspace,hasSuggestionForField:e.hasSuggestionForField,uiActions:e.plugins.uiActions,onChangeIndexPattern:f,indexPatternService:e.indexPatternService,frame:e.frame,usedIndexPatterns:j([...c&&(null===(t=e.datasourceMap[c])||void 0===t?void 0:t.getUsedDataViews(d[c].state))||[],...u.activeId&&(null===(a=e.visualizationMap[u.activeId])||void 0===a||null===(i=a.getUsedDataViews)||void 0===i?void 0:i.call(a,u.state))||[]])},O=c&&!p?e.datasourceMap[c].DataPanelComponent:null;return Object(b.jsx)(o.a.Fragment,null,Object(b.jsx)(x,{query:null==s?void 0:s.query}),O&&Object(b.jsx)("div",{className:"lnsDataPanelWrapper","data-test-subj":"lnsDataPanelWrapper"},O(_)))})),O=Object(n.memo)((({nodes:e})=>Object(b.jsx)(o.a.Fragment,null,e.map((e=>e)))));var w=a(177),L=(a(373),a(0)),S=a(46),I=a.n(S);function D(e){const t=Object(h.X)(h.C);return Object(b.jsx)(p.EuiFlexGroup,{direction:"column",responsive:!1,gutterSize:"none",alignItems:"stretch"},e.bannerMessages?Object(b.jsx)(p.EuiFlexItem,{grow:!1},Object(b.jsx)("aside",{"aria-labelledby":"bannerMessagesId"},Object(b.jsx)(p.EuiScreenReaderOnly,null,Object(b.jsx)("h2",{id:"bannerMessagesId"},L.i18n.translate("xpack.lens.section.bannerMessagesLabel",{defaultMessage:"Deprecation messages"}))),e.bannerMessages)):null,Object(b.jsx)(p.EuiFlexItem,{grow:!0,className:"lnsFrameLayout__wrapper"},Object(b.jsx)(p.EuiPage,{paddingSize:"none",className:I()("lnsFrameLayout",{"lnsFrameLayout-isFullscreen":t})},Object(b.jsx)(p.EuiPageBody,{restrictWidth:!1,className:"lnsFrameLayout__pageContent","aria-labelledby":"lns_ChartTitle"},Object(b.jsx)("section",{className:"lnsFrameLayout__sidebar lnsFrameLayout__sidebar--left hide-for-sharing","aria-labelledby":"dataPanelId"},Object(b.jsx)(p.EuiScreenReaderOnly,null,Object(b.jsx)("h2",{id:"dataPanelId"},L.i18n.translate("xpack.lens.section.dataPanelLabel",{defaultMessage:"Data panel"}))),e.dataPanel),Object(b.jsx)("section",{className:I()("lnsFrameLayout__pageBody",{"lnsFrameLayout__pageBody-isFullscreen":t}),"aria-labelledby":"workspaceId"},Object(b.jsx)(p.EuiScreenReaderOnly,null,Object(b.jsx)("h2",{id:"workspaceId"},L.i18n.translate("xpack.lens.section.workspaceLabel",{defaultMessage:"Visualization workspace"}))),e.workspacePanel,Object(b.jsx)("div",{className:"lnsFrameLayout__suggestionPanel hide-for-sharing"},e.suggestionsPanel)),Object(b.jsx)("section",{className:I()("lnsFrameLayout__sidebar lnsFrameLayout__sidebar--right","hide-for-sharing",{"lnsFrameLayout__sidebar-isFullscreen":t}),"aria-labelledby":"configPanel"},Object(b.jsx)(p.EuiScreenReaderOnly,null,Object(b.jsx)("h2",{id:"configPanel"},L.i18n.translate("xpack.lens.section.configPanelLabel",{defaultMessage:"Config panel"}))),e.configPanel)))))}var k=a(200),C=a(235),P=a(116),T=a(124);function z(e){const{datasourceMap:t,visualizationMap:a}=e,o=Object(h.W)(),l=Object(h.X)(h.r),c=Object(h.X)(h.y),d=Object(h.X)(h.J),u=Object(h.X)(h.s),p=!!d.state,g=Boolean(d.activeId&&e.visualizationMap[d.activeId]),m=Object(h.X)((e=>Object(h.B)(e,t)));m.absDateRange=Object(r.getAbsoluteDateRange)(e.plugins.data.query.timefilter.timefilter);const f=Object(n.useRef)();f.current=e=>{if(e&&l)return Object(P.b)(m.datasourceLayers,d,c,a,t[l],e,m.dataViews,!0)};const x=Object(n.useCallback)((e=>void 0!==f.current(e)),[f]),v=Object(n.useCallback)((e=>{const t=f.current(e);t&&(Object(s.d)("drop_onto_workspace"),Object(P.d)(o,t,{clearStagedPreview:!0}))}),[f,o]),y=Object(n.useCallback)((e=>{Object(T.c)(e)}),[]),j=e.getUserMessages("banner",{severity:"warning"}),L=Object(n.useCallback)((e=>{"dropToTarget"===e.type&&Object(s.d)("drop_total")}),[]);return Object(b.jsx)(i.a,{initialState:{dataTestSubjPrefix:"lnsDragDrop"},customMiddleware:L},Object(b.jsx)(D,{bannerMessages:j.length?Object(b.jsx)(T.a,{onError:y},Object(b.jsx)(O,{nodes:j.map((({longMessage:e})=>e))})):void 0,dataPanel:Object(b.jsx)(T.a,{onError:y},Object(b.jsx)(_,{core:e.core,plugins:e.plugins,datasourceMap:t,visualizationMap:a,showNoDataPopover:e.showNoDataPopover,dropOntoWorkspace:v,hasSuggestionForField:x,indexPatternService:e.indexPatternService,frame:m})),configPanel:u&&Object(b.jsx)(T.a,{onError:y},Object(b.jsx)(w.a,{core:e.core,datasourceMap:t,visualizationMap:a,framePublicAPI:m,uiActions:e.plugins.uiActions,dataViews:e.plugins.dataViews,indexPatternService:e.indexPatternService,getUserMessages:e.getUserMessages})),workspacePanel:u&&p&&Object(b.jsx)(T.a,{onError:y},Object(b.jsx)(C.b,{core:e.core,plugins:e.plugins,ExpressionRenderer:e.ExpressionRenderer,lensInspector:e.lensInspector,datasourceMap:t,visualizationMap:a,framePublicAPI:m,getSuggestionForField:f.current,getUserMessages:e.getUserMessages,addUserMessages:e.addUserMessages})),suggestionsPanel:g&&u&&Object(b.jsx)(T.a,{onError:y},Object(b.jsx)(k.b,{ExpressionRenderer:e.ExpressionRenderer,datasourceMap:t,visualizationMap:a,frame:m,getUserMessages:e.getUserMessages,nowProvider:e.plugins.data.nowProvider,core:e.core,showOnlyIcons:!0}))}))}},179:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));a(3),a(4);a(163),a(164);const n="performance_metric";function o(e,t){e.reportEvent(n,t)}},180:function(e,t,a){"use strict";a.d(t,"a",(function(){return O}));var n=a(15),o=a.n(n),i=a(0),r=a(271);const s=(e,t)=>e.reduce(((e,a)=>{const n=t.find((e=>a[e]));if(!n)return e;const o=a[n].length;return e>o?e:o}),0),l=e=>e.reduce(((e,t)=>e>t.length?e:t.length),0);function c(e,t,a){const n=t?s(e,t):l(e);return Object(r.a)(n,a)}var d=a(3),u=a.n(d),p=a(6),b=a(54),g=a(4),m=(a(266),a(46)),f=a.n(m);const x={none:null,left:"kbnToolbarButton--groupLeft",center:"kbnToolbarButton--groupCenter",right:"kbnToolbarButton--groupRight"},h=(Object.keys(x),({children:e,className:t,fontWeight:a="normal",size:n="m",hasArrow:i=!0,groupPosition:r="none",dataTestSubj:s="",textProps:l,...c})=>{const d=f()("kbnToolbarButton",x[r],[`kbnToolbarButton--${a}`,`kbnToolbarButton--${n}`],t);return Object(g.jsx)(p.EuiButton,o()({"data-test-subj":s,className:d,iconSide:"right",iconType:i?"arrowDown":"",color:"text",contentProps:{className:"kbnToolbarButton__content"},textProps:{...l,className:f()("kbnToolbarButton__text",l&&l.className)}},c,{size:n}),e)});var v={name:"m8a5aq",styles:"display:block;*:hover &,*:focus &{text-decoration:none!important;}"},y={name:"14j4qfj",styles:"display:block;min-width:0"};function j({label:e,extraIcons:t}){const{euiTheme:a}=Object(p.useEuiTheme)();return null!=t&&t.length?Object(g.jsx)(p.EuiFlexGroup,{alignItems:"center",gutterSize:"s",responsive:!1},Object(g.jsx)(p.EuiFlexItem,{className:"eui-textTruncate",css:y},e),t.map((e=>Object(g.jsx)(p.EuiFlexItem,{grow:!1,"data-test-subj":e["data-test-subj"],css:v,key:e["data-test-subj"]},Object(g.jsx)(p.EuiToolTip,{content:e.tooltipValue,position:"top","data-test-subj":`${e["data-test-subj"]}-tooltip`},Object(g.jsx)(p.EuiFlexGroup,{alignItems:"center",gutterSize:"xs",responsive:!1},Object(g.jsx)(p.EuiFlexItem,{grow:!1},e.component),e.value?Object(g.jsx)(p.EuiFlexItem,{grow:!1},Object(g.jsx)(p.EuiTextColor,{color:a.colors.disabledText},e.value)):null)))))):Object(g.jsx)(u.a.Fragment,null,e)}function _({label:e,title:t,togglePopover:a,isMissingCurrent:n,extraIcons:i,...r}){const s=n?{color:"danger"}:{};return Object(g.jsx)(h,o()({title:t,onClick:()=>a(),fullWidth:!0},s,r,{textProps:{style:{width:"100%",lineHeight:"1.2em"}}}),Object(g.jsx)(j,{label:e,extraIcons:i}))}function O({indexPatternRefs:e,isMissingCurrent:t,indexPatternId:a,onChangeIndexPattern:n,trigger:r,selectableProps:s}){const[l,u]=Object(d.useState)(!1);return Object(g.jsx)(p.EuiPopover,{button:Object(g.jsx)(_,o()({},r,{isMissingCurrent:t,togglePopover:()=>u(!l)})),panelProps:{"data-test-subj":"lnsChangeIndexPatternPopover"},isOpen:l,closePopover:()=>u(!1),display:"block",panelPaddingSize:"none",ownFocus:!0},Object(g.jsx)("div",{css:Object(g.css)("width:",c(e,["name","id"],{minWidth:320,maxWidth:600}),"px;","")},Object(g.jsx)(p.EuiPopoverTitle,{paddingSize:"s"},i.i18n.translate("xpack.lens.indexPattern.changeDataViewTitle",{defaultMessage:"Data view"})),Object(g.jsx)(b.DataViewsList,{dataViewsList:e,onChangeDataView:e=>{n(e),u(!1)},currentDataViewId:a,selectableProps:s})))}},181:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(15),o=a.n(n),i=(a(260),a(3)),r=a(6),s=a(693),l=a(4);const c={legend:({title:e,titleId:t,...a})=>Object(l.jsx)("svg",o()({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t},a),e?Object(l.jsx)("title",{id:t},e):null,Object(l.jsx)("path",{clipRule:"evenodd",fillRule:"evenodd",d:"M2.786.357a.25.25 0 01.428 0l2.559 4.264A.25.25 0 015.558 5H.442a.25.25 0 01-.215-.379L2.786.357zM3 1.944L4.234 4H1.766L3 1.944z"}),Object(l.jsx)("path",{d:"M8.5 2a.5.5 0 000 1h7a.5.5 0 000-1h-7z"}),Object(l.jsx)("path",{clipRule:"evenodd",fillRule:"evenodd",d:"M1.5 6a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5h-3zM2 7v2h2V7H2z"}),Object(l.jsx)("path",{d:"M8.5 7.5a.5.5 0 000 1h7a.5.5 0 000-1h-7z"}),Object(l.jsx)("path",{clipRule:"evenodd",fillRule:"evenodd",d:"M3 16a2.5 2.5 0 100-5 2.5 2.5 0 000 5zm0-1a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"}),Object(l.jsx)("path",{d:"M8.5 13a.5.5 0 000 1h7a.5.5 0 000-1h-7z"})),labels:"visText",values:"number",list:"list",visualOptions:"brush"},d=({children:e,title:t,type:a,isDisabled:n=!1,groupPosition:d,buttonDataTestSubj:u,handleClose:p,panelClassName:b="lnsVisToolbar__popover",...g})=>{const[m,f]=Object(i.useState)(!1),x="string"==typeof a?c[a]:a;return Object(l.jsx)(r.EuiFlexItem,{grow:!1},Object(l.jsx)(r.EuiPopover,o()({panelClassName:b,ownFocus:!0,"aria-label":t,button:Object(l.jsx)(s.a,{as:"iconButton",iconType:x,onClick:()=>{f(!m)},label:t,"aria-label":t,isDisabled:n,groupPosition:d,"data-test-subj":u}),isOpen:m,closePopover:()=>{f(!1),null==p||p()},anchorPosition:"downRight"},g),Object(l.jsx)(r.EuiPopoverTitle,null,t),e))}},183:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(3),o=a(44);const i=({onChange:e,value:t,defaultValue:a},{allowFalsyValue:i}={})=>{const[r,s]=Object(n.useState)(t),l=Object(n.useRef)(!1),c=Boolean(i),d=Object(n.useRef)(null!=a?a:t),u=Object(n.useRef)(),p=Object(n.useMemo)((()=>{const t=Object(o.debounce)((t=>{e(t),u.current=setTimeout((()=>{l.current=!1}),256)}),256);return e=>{u.current&&clearTimeout(u.current),l.current=!0,t(e)}}),[e]);return Object(n.useEffect)((()=>{l.current||t===r||s(t)}),[t,r]),{inputValue:r,handleInputChange:e=>{s(e);const t=c?null!=e?e:d.current:e||d.current;p(t)},initialValue:d.current}}},186:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return l})),a.d(t,"d",(function(){return c}));var n=a(114),o=a.n(n),i=a(6);const r=(e,t)=>{const a=o()(e).alpha()<1?o.a.blend(t,e,"overlay"):o()(e);return Object(i.isColorDark)(...a.rgb())};function s(e){return null!=e&&""!==e&&/^#/.test(e)&&o.a.valid(e)}const l=e=>{var t;return e&&s(e)&&(null===(t=o()(e))||void 0===t?void 0:t.alpha())||1},c=(e,t)=>o()(e).alpha(t)},191:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDeepEqual=t.off=t.on=t.isClient=void 0;var n=a(39).__importDefault(a(286));t.isClient="object"==typeof window,t.on=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return e.addEventListener.apply(e,t)},t.off=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return e.removeEventListener.apply(e,t)},t.isDeepEqual=n.default},192:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(3);t.default=function(e,t,a){var o=n.useRef(void 0);o.current&&a(t,o.current)||(o.current=t),n.useEffect(e,o.current)}},197:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(97);function o(e,t){const{prevState:a,target:o,frame:i,source:r,group:s,dropType:l}=e,{layerId:c,columnId:d,groupId:u}=o,p=Object(n.f)(r)&&null!=s&&s.requiresPreviousColumnOnDuplicate?r.columnId:void 0;let b=t.setDimension({columnId:d,groupId:u,layerId:c,prevState:a,previousColumn:p,frame:i});return!Object(n.f)(r)||"move_compatible"!==l&&"move_incompatible"!==l&&"combine_incompatible"!==l&&"combine_compatible"!==l&&"replace_compatible"!==l&&"replace_incompatible"!==l||(b=t.removeDimension({layerId:r.layerId,columnId:r.columnId,prevState:b,frame:i})),b}},198:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return u}));var n=a(44),o=a(0),i=a(92),r=a(99),s=a(83),l=a(178),c=a(5);const d=async({initialInput:e,lensServices:t,history:a})=>{const{notifications:n,spaces:i,attributeService:r}=t;let s;try{const n=await r.unwrapAttributes(e);if(!n)return{doc:{...e,type:c.LENS_EMBEDDABLE_TYPE},sharingSavedObjectProps:{outcome:"exactMatch"},managed:!1};const{metaInfo:l,attributes:d}=n,u=null==l?void 0:l.sharingSavedObjectProps;if(i&&"aliasMatch"===(null==u?void 0:u.outcome)&&a){const e=u.aliasTargetId,n=t.http.basePath.prepend(`${Object(c.getEditPath)(e)}${a.location.search}`);await i.ui.redirectLegacyUrl({path:n,aliasPurpose:u.aliasPurpose,objectNoun:o.i18n.translate("xpack.lens.legacyUrlConflict.objectNoun",{defaultMessage:"Lens visualization"})})}return s={...e,...d,type:c.LENS_EMBEDDABLE_TYPE},{doc:s,sharingSavedObjectProps:{aliasTargetId:null==u?void 0:u.aliasTargetId,outcome:null==u?void 0:u.outcome},managed:Boolean(null==l?void 0:l.managed)}}catch(e){n.toasts.addDanger(o.i18n.translate("xpack.lens.app.docLoadingError",{defaultMessage:"Error loading saved document"}))}};function u(e,t,{redirectCallback:a,initialInput:o,history:u,inlineEditing:p},b){var g;const{lensServices:m,datasourceMap:f,initialContext:x,initialStateFromLocator:h,visualizationMap:v}=t,{resolvedDateRange:y,searchSessionId:j,isLinkedToOriginatingApp:_,...O}=Object(r.c)(t),{attributeService:w,notifications:L,data:S}=m,{lens:I}=e.getState(),D={dataViews:m.dataViews,storage:m.storage,eventAnnotationService:m.eventAnnotationService,defaultIndexPatternId:m.uiSettings.get("defaultIndex")};let k;if(x&&"query"in x&&(k="textBased"),h){const t=h.filters?Object(n.cloneDeep)(h.filters):void 0;if(t&&S.query.filterManager.setAppFilters(t),h.resolvedDateRange){const e={from:h.resolvedDateRange.fromDate,to:h.resolvedDateRange.toDate};S.query.timefilter.timefilter.setTime(e)}if(!o){var C;const t="references"in h?h.references:void 0;return Object(l.e)({datasourceMap:f,visualizationMap:v,visualizationState:O.visualization,datasourceStates:O.datasourceStates,initialContext:x,adHocDataViews:(null===(C=I.persistedDoc)||void 0===C?void 0:C.state.adHocDataViews)||h.dataViewSpecs,references:t,...D},{isFullEditor:!0}).then((({datasourceStates:t,visualizationState:a,indexPatterns:n,indexPatternRefs:o,annotationGroups:l})=>{const c=(null==h?void 0:h.searchSessionId)||S.search.session.getSessionId();e.dispatch(Object(i.h)({isSaveable:!0,filters:h.filters||S.query.filterManager.getFilters(),query:h.query||O.query,searchSessionId:c,activeDatasourceId:O.activeDatasourceId,visualization:{activeId:O.visualization.activeId,state:a},dataViews:Object(s.getInitialDataViewsObject)(n,o),datasourceStates:Object.entries(t).reduce(((e,[t,a])=>({...e,[t]:{...a,isLoading:!1}})),{}),isLoading:!1,annotationGroups:l})),b&&e.dispatch(Object(r.b)())})).catch((e=>{L.toasts.addDanger({title:e.message})}))}}if(!o||w.inputIsRefType(o)&&o.savedObjectId===(null===(g=I.persistedDoc)||void 0===g?void 0:g.savedObjectId)){var P;const t=x&&"searchFilters"in x&&x.searchFilters?Object(n.cloneDeep)(x.searchFilters):void 0;return t&&S.query.filterManager.setAppFilters(t),Object(l.e)({datasourceMap:f,visualizationMap:v,visualizationState:I.visualization,datasourceStates:I.datasourceStates,initialContext:x,adHocDataViews:null===(P=I.persistedDoc)||void 0===P?void 0:P.state.adHocDataViews,...D},{isFullEditor:!0}).then((({datasourceStates:t,indexPatterns:a,indexPatternRefs:n})=>{e.dispatch(Object(i.g)({newState:{...O,dataViews:Object(s.getInitialDataViewsObject)(a,n),searchSessionId:S.search.session.getSessionId()||S.search.session.start(),...k&&{activeDatasourceId:k},datasourceStates:Object.entries(t).reduce(((e,[t,a])=>({...e,[t]:{...a,isLoading:!1}})),{}),isLoading:!1},initialContext:x})),b&&e.dispatch(Object(r.b)())})).catch((e=>{L.toasts.addDanger({title:e.message}),null==a||a()}))}return d({initialInput:o,lensServices:m,history:u}).then((t=>{if(t){const{doc:a,sharingSavedObjectProps:n,managed:d}=t;w.inputIsRefType(o)&&m.chrome.recentlyAccessed.add(Object(c.getFullPath)(o.savedObjectId),a.title,o.savedObjectId);const u=Object.entries(a.state.datasourceStates).reduce(((e,[t,a])=>({...e,[t]:{isLoading:!0,state:a}})),{});if(!Boolean(p)){const e=S.query.filterManager.inject(a.state.filters,a.references);S.query.filterManager.setAppFilters(e)}const g={activeId:a.visualizationType,state:a.state.visualization};return Object(l.e)({datasourceMap:f,visualizationMap:v,visualizationState:g,datasourceStates:u,references:[...a.references,...a.state.internalReferences||[]],initialContext:x,dataViews:m.dataViews,eventAnnotationService:m.eventAnnotationService,storage:m.storage,adHocDataViews:a.state.adHocDataViews,defaultIndexPatternId:m.uiSettings.get("defaultIndex")},{isFullEditor:!0}).then((({datasourceStates:t,visualizationState:l,indexPatterns:c,indexPatternRefs:u,annotationGroups:g})=>{const m=S.search.session.getSessionId();e.dispatch(Object(i.h)({isSaveable:!0,sharingSavedObjectProps:n,filters:S.query.filterManager.getFilters(),query:a.state.query,searchSessionId:null!=o&&o.savedObjectId||!m?p?void 0:S.search.session.start():m,persistedDoc:a,activeDatasourceId:Object(s.getInitialDatasourceId)(f,a),visualization:{activeId:a.visualizationType,state:l},dataViews:Object(s.getInitialDataViewsObject)(c,u),datasourceStates:Object.entries(t).reduce(((e,[t,a])=>({...e,[t]:{...a,isLoading:!1}})),{}),isLoading:!1,annotationGroups:g,managed:d})),b&&e.dispatch(Object(r.b)())})).catch((e=>L.toasts.addDanger({title:e.message})))}null==a||a()}),(()=>{e.dispatch(Object(i.O)({isLoading:!1})),null==a||a()})).catch((e=>{L.toasts.addDanger({title:e.message}),null==a||a()}))}},199:function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(352);case"v8light":return a(354)}},200:function(e,t,a){"use strict";a.d(t,"b",(function(){return T})),a.d(t,"a",(function(){return E}));var n=a(15),o=a.n(n),i=(a(378),a(44)),r=a(3),s=a.n(r),l=a(11),c=a(4),d=a(202),u=a.n(d),p=a(6),b=a(45),g=a(143),m=a(0),f=a(46),x=a.n(f),h=a(179),v=a(83),y=a(116),j=a(138),_=a(136),O=a(128),w=a(92),L=a(132);const S=5,I="LENS_SUGGESTIONS_PANEL_HIDDEN",D=(e,t,a,n,o)=>{try{var i,r,s,l;return 0===Object(L.a)([...null!==(i=null==e||null===(r=e.getUserMessages)||void 0===r?void 0:r.call(e,t,{frame:o,setState:()=>{}}))&&void 0!==i?i:[],...null!==(s=null==a||null===(l=a.getUserMessages)||void 0===l?void 0:l.call(a,n,{frame:o}))&&void 0!==s?s:[]],void 0,{severity:"error"}).length}catch(e){return!1}},k=({withLabel:e,ExpressionRendererComponent:t,expression:a,hasError:n,onRender:o})=>{const i=Object(c.jsx)("div",{className:"lnsSuggestionPanel__suggestionIcon"},Object(c.jsx)(p.EuiIconTip,{size:"xl",color:"danger",type:"warning","aria-label":m.i18n.translate("xpack.lens.editorFrame.previewErrorLabel",{defaultMessage:"Preview rendering failed"}),content:m.i18n.translate("xpack.lens.editorFrame.previewErrorLabel",{defaultMessage:"Preview rendering failed"})}));return Object(c.jsx)("div",{className:x()("lnsSuggestionPanel__chartWrapper",{"lnsSuggestionPanel__chartWrapper--withLabel":e})},!a||n?i:Object(c.jsx)(t,{className:"lnsSuggestionPanel__expressionRenderer",padding:"s",renderMode:"preview",expression:a,onRender$:o,debounce:2e3,renderError:()=>i}))};var C={name:"1q00zjo",styles:"display:flex;flex-direction:column;flex-basis:calc(50% - 9px)"};const P=({preview:e,ExpressionRenderer:t,selected:a,onSelect:n,showTitleAsLabel:o,onRender:r,wrapSuggestions:s})=>Object(c.jsx)(p.EuiToolTip,{content:e.title,anchorProps:s?{css:C}:void 0},Object(c.jsx)("div",{"data-test-subj":`lnsSuggestion-${Object(i.camelCase)(e.title)}`},Object(c.jsx)(p.EuiPanel,{hasBorder:!0,hasShadow:!1,className:x()("lnsSuggestionPanel__button",{"lnsSuggestionPanel__button-isSelected":a,"lnsSuggestionPanel__button-fixedWidth":!s}),paddingSize:"none","data-test-subj":"lnsSuggestion",onClick:n,"aria-current":!!a,"aria-label":e.title,element:"button",role:"listitem"},e.expression||e.error?Object(c.jsx)(k,{ExpressionRendererComponent:t,expression:e.expression&&Object(g.b)(e.expression),withLabel:Boolean(o),hasError:Boolean(e.error),onRender:r}):Object(c.jsx)("span",{className:"lnsSuggestionPanel__suggestionIcon"},Object(c.jsx)(p.EuiIcon,{size:"xxl",type:e.icon})),o&&Object(c.jsx)("span",{className:"lnsSuggestionPanel__buttonLabel"},e.title)))),T=e=>Object(w.X)(w.C)?null:Object(c.jsx)(E,e);var z={name:"eeu0j5",styles:"padding:2px"};function E({datasourceMap:e,visualizationMap:t,frame:a,ExpressionRenderer:n,getUserMessages:i,nowProvider:d,core:g,showOnlyIcons:f,wrapSuggestions:x,toggleAccordionCb:j,isAccordionOpen:_}){const L=Object(w.W)(),k=Object(w.X)(w.r),C=Object(w.X)(w.H),T=Object(w.X)(w.y),E=Object(w.X)((e=>Boolean(e.lens.stagedPreview))),F=Object(w.X)(w.w),A=Object(w.X)(w.v),N=Object(w.X)((t=>Object(w.B)(t,e))),W=Object(w.X)(w.u),R=null!=_&&!Boolean(_),[B,V]=u()(I,R);Object(r.useEffect)((()=>{null!=_&&V(!Boolean(_))}),[_,V]);const G=Object(r.useCallback)((()=>{V(!B),null==j||j(!B)}),[V,B,j]),$=Object(O.a)(k?e[k]:null,k?T[k]:null,a.dataViews.indexPatterns),{suggestions:H,currentStateExpression:U,currentStateError:q}=Object(r.useMemo)((()=>{const n=$.length?[]:Object(y.a)({datasourceMap:e,datasourceStates:A,visualizationMap:t,activeVisualization:F.activeId?t[F.activeId]:void 0,visualizationState:F.state,activeData:C,dataViews:a.dataViews}).filter((({hide:a,visualizationId:n,visualizationState:o,datasourceState:i,datasourceId:r})=>!a&&D(r?e[r]:null,i,t[n],o,N))).slice(0,S).map((n=>({...n,previewExpression:M(n,t[n.visualizationId],e,A,a,d)}))),o=!!i&&i(["visualization","visualizationInEditor"],{severity:"error"}).length>0;return{suggestions:n,currentStateExpression:F.state&&F.activeId&&!o?M({visualizationState:F.state},t[F.activeId],e,A,a,d):void 0,currentStateError:o}}),[A,F.state,F.activeId,k,e,t,C]),X=Object(w.X)(w.A),Y=Object(w.X)(w.G),K=Object(r.useRef)(X);K.current=X;const J=Object(r.useRef)(Y);J.current=Y;const Q=Object(r.useMemo)((()=>e=>Object(c.jsx)(n,o()({},e,{searchContext:K.current,searchSessionId:J.current}))),[n]),[Z,ee]=Object(r.useState)(-1);Object(r.useEffect)((()=>{E||-1===Z||ee(-1)}),[E]);const te=Object(r.useRef)(0),ae=Object(r.useRef)(!1),ne=Object(r.useRef)([]),oe=H.length+1,ie=Object(r.useCallback)((e=>{ne.current[e]=!0,!1===ae.current&&ne.current.every(Boolean)&&(ae.current=!0,Object(h.a)(g.analytics,{eventName:"lensSuggestionsRenderTime",duration:performance.now()-te.current}))}),[g.analytics]),re=Object(r.useCallback)((()=>{-1!==Z&&(ee(-1),L(Object(w.q)()),L(Object(w.b)()))}),[L,Z]);if(!k)return null;if(0===H.length)return null;const se=Object(c.jsx)(p.EuiTitle,{size:"xxs",css:z},Object(c.jsx)("h3",null,Object(c.jsx)(l.FormattedMessage,{id:"xpack.lens.editorFrame.suggestionPanelTitle",defaultMessage:"Suggestions"})));return Object(c.jsx)(p.EuiAccordion,{id:"lensSuggestionsPanel",buttonProps:{"data-test-subj":"lensSuggestionsPanelToggleButton",paddingSize:x?"m":"s"},className:"lnsSuggestionPanel",css:Object(c.css)("padding-bottom:",x?0:b.euiThemeVars.euiSizeS,";",""),buttonContent:se,forceState:B?"closed":"open",onToggle:G,extraAction:Object(c.jsx)(s.a.Fragment,null,!B&&Object(c.jsx)(s.a.Fragment,null,E&&Object(c.jsx)(p.EuiToolTip,{content:m.i18n.translate("xpack.lens.suggestion.refreshSuggestionTooltip",{defaultMessage:"Refresh the suggestions based on the selected visualization."})},Object(c.jsx)(p.EuiButtonEmpty,{"data-test-subj":"lensSubmitSuggestion",size:"xs",iconType:"refresh",onClick:()=>{L(Object(w.Q)())}},m.i18n.translate("xpack.lens.sugegstion.refreshSuggestionLabel",{defaultMessage:"Refresh"})))),x&&Object(c.jsx)(p.EuiNotificationBadge,{size:"m",color:"subdued"},H.length+1))},Object(c.jsx)("div",{className:"lnsSuggestionPanel__suggestions","data-test-subj":"lnsSuggestionsPanel",role:"list",tabIndex:0,css:Object(c.css)("flex-wrap:",x?"wrap":"nowrap",";gap:",x?b.euiThemeVars.euiSize:0,";","")},W?(ne.current=new Array(oe).fill(!1),te.current=performance.now(),Object(c.jsx)(s.a.Fragment,null,F.activeId&&!B&&Object(c.jsx)(P,{preview:{error:q,expression:f?void 0:U,icon:t[F.activeId].getDescription(F.state).icon||"empty",title:m.i18n.translate("xpack.lens.suggestions.currentVisLabel",{defaultMessage:"Current visualization"})},ExpressionRenderer:Q,onSelect:re,selected:-1===Z,showTitleAsLabel:!0,onRender:()=>ie(0),wrapSuggestions:x}),!B&&H.map(((e,t)=>Object(c.jsx)(P,{preview:{expression:f?void 0:e.previewExpression,icon:e.previewIcon,title:e.title},ExpressionRenderer:Q,key:t,onSelect:()=>{Z===t?re():(ee(t),Object(y.d)(L,e,{applyImmediately:!0}))},selected:t===Z,onRender:()=>ie(t+1),showTitleAsLabel:f,wrapSuggestions:x}))))):Object(c.jsx)(p.EuiPanel,{hasShadow:!1,className:"lnsSuggestionPanel__applyChangesPrompt",paddingSize:"m"},Object(c.jsx)(p.EuiText,{size:"s",color:"subdued",className:"lnsSuggestionPanel__applyChangesMessage"},Object(c.jsx)("p",null,Object(c.jsx)(l.FormattedMessage,{id:"xpack.lens.suggestions.applyChangesPrompt",defaultMessage:"Latest changes must be applied to view suggestions."}))),Object(c.jsx)(p.EuiButtonEmpty,{iconType:"checkInCircleFilled",size:"s",className:v.DONT_CLOSE_DIMENSION_CONTAINER_ON_CLICK_CLASS,onClick:()=>L(Object(w.b)()),"data-test-subj":"lnsApplyChanges__suggestions"},Object(c.jsx)(l.FormattedMessage,{id:"xpack.lens.suggestions.applyChangesLabel",defaultMessage:"Apply changes"})))))}function M(e,t,a,n,o,r){const s=e.datasourceId,l=e.datasourceState,c=function(e,t,a,n,o,r){if(!t.toPreviewExpression)return null;const s={datasourceLayers:{...o.datasourceLayers}};try{if(e.keptLayerIds&&e.datasourceId&&e.datasourceState){const t=a[e.datasourceId],n=e.datasourceState,r=Object(i.pick)(o.datasourceLayers,e.keptLayerIds);t.getLayers(e.datasourceState).forEach((e=>{r[e]&&(r[e]=t.getPublicAPI({layerId:e,state:n,indexPatterns:o.dataViews.indexPatterns}))}))}const l=Object(j.b)(a,n,o.dataViews.indexPatterns,o.dateRange,r.get());return t.toPreviewExpression(e.visualizationState,s.datasourceLayers,null!=l?l:void 0)}catch(e){return Object(_.b)(e),null}}(e,t,a,s?{...n,[s]:{isLoading:!1,state:l}}:n,o,r);if(c)return"string"==typeof c?Object(g.a)(c):c}},201:function(e,t,a){"use strict";a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return d})),a.d(t,"c",(function(){return u}));var n=a(3),o=a.n(n),i=a(26),r=a.n(i),s=a(4);const l=o.a.createContext(null),c=({children:e,...t})=>{const{navigateToUrl:a,currentAppId:n}=t;return Object(s.jsx)(l.Provider,{value:{navigateToUrl:a,currentAppId:n}},e)},d=({children:e,coreStart:t})=>{const{navigateToUrl:a,currentAppId$:n}=t.application,o=r()(n,void 0);return Object(s.jsx)(l.Provider,{value:{navigateToUrl:a,currentAppId:o}},e)};function u(){const e=Object(n.useContext)(l);if(!e)throw new Error("RedirectAppLinksContext is missing.  Ensure your component or React root is wrapped with RedirectAppLinksProvider.");return e}},202:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(3),o=a(191),i=function(){};t.default=function(e,t,a){if(!o.isClient)return[t,i,i];if(!e)throw new Error("useLocalStorage key may not be falsy");var r=a?a.raw?function(e){return e}:a.deserializer:JSON.parse,s=n.useState((function(){try{var n=a?a.raw?String:a.serializer:JSON.stringify,o=localStorage.getItem(e);return null!==o?r(o):(t&&localStorage.setItem(e,n(t)),t)}catch(e){return t}})),l=s[0],c=s[1],d=n.useCallback((function(t){try{var n="function"==typeof t?t(l):t;if(void 0===n)return;var o;o=a?a.raw?"string"==typeof n?n:JSON.stringify(n):a.serializer?a.serializer(n):JSON.stringify(n):JSON.stringify(n),localStorage.setItem(e,o),c(r(o))}catch(e){}}),[e,c]),u=n.useCallback((function(){try{localStorage.removeItem(e),c(void 0)}catch(e){}}),[e,c]);return[l,d,u]}},203:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a(165),a(387);var n=a(3),o=a.n(n),i=a(6),r=a(0),s=a(4),l={name:"158icaa",styles:"margin-left:4px"};const c=({messages:e,customButtonStyles:t})=>{const[a,c]=Object(n.useState)(!1);let d=0,u=0;e.forEach((({severity:e})=>{"warning"===e?d++:u++}));const p=u>0&&d>0?r.i18n.translate("xpack.lens.messagesButton.label.errorsAndWarnings",{defaultMessage:"{errorCount} {errorCount, plural, one {error} other {errors}}, {warningCount} {warningCount, plural, one {warning} other {warnings}}",values:{errorCount:u,warningCount:d}}):u>0?r.i18n.translate("xpack.lens.messagesButton.label.errors",{defaultMessage:"{errorCount} {errorCount, plural, one {error} other {errors}}",values:{errorCount:u}}):r.i18n.translate("xpack.lens.messagesButton.label.warnings",{defaultMessage:"{warningCount} {warningCount, plural, one {warning} other {warnings}}",values:{warningCount:d}}),b=()=>c(!1);return Object(s.jsx)(i.EuiPopover,{panelPaddingSize:"none",button:Object(s.jsx)(i.EuiToolTip,{content:p},Object(s.jsx)(i.EuiButton,{minWidth:0,color:u?"danger":"warning",onClick:()=>c((e=>!e)),className:"lnsWorkspaceWarning__button","data-test-subj":"lens-message-list-trigger",title:p,css:t},u>0&&Object(s.jsx)(o.a.Fragment,null,Object(s.jsx)(i.EuiIcon,{type:"error"}),u),d>0&&Object(s.jsx)(o.a.Fragment,null,Object(s.jsx)(i.EuiIcon,{type:"alert",css:l}),d))),isOpen:a,closePopover:b},Object(s.jsx)("ul",{className:"lnsWorkspaceWarningList"},e.map(((e,t)=>Object(s.jsx)("li",{key:t,className:"lnsWorkspaceWarningList__item","data-test-subj":`lens-message-list-${e.severity}`},"function"==typeof e.longMessage?e.longMessage(b):Object(s.jsx)(i.EuiFlexGroup,{gutterSize:"s",responsive:!1,className:"lnsWorkspaceWarningList__textItem"},Object(s.jsx)(i.EuiFlexItem,{grow:!1},"error"===e.severity?Object(s.jsx)(i.EuiIcon,{type:"error",color:"danger"}):Object(s.jsx)(i.EuiIcon,{type:"alert",color:"warning"})),Object(s.jsx)(i.EuiFlexItem,{grow:1,className:"lnsWorkspaceWarningList__description"},Object(s.jsx)(i.EuiText,{size:"s"},e.longMessage))))))))}},204:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(77),o=a(3),i=a.n(o),r=a(4);function s(e){const t=[];if(e&&"original"in e&&e.original){const a=Object(n.renderSearchError)(e.original);a?t.push({short:e.original.message,long:a.actions?Object(r.jsx)(i.a.Fragment,null,a.body,a.actions):a.body}):t.push(e.original.message)}else null!=e&&e.message&&t.push(e.message);return t.map((e=>({uniqueId:"string"==typeof e?e:e.short,severity:"error",displayLocations:[{id:"visualizationOnEmbeddable"}],longMessage:"string"==typeof e?"":e.long,shortMessage:"string"==typeof e?e:e.short,fixableInEditor:!1})))}},235:function(e,t,a){"use strict";a.d(t,"b",(function(){return N})),a.d(t,"a",(function(){return I.b}));var n=a(15),o=a.n(n),i=a(3),r=a.n(i),s=a(26),l=a.n(s),c=a(46),d=a.n(c),u=a(11),p=a(143),b=a(0),g=a(6),m=a(8),f=a(4);const x=({title:e,titleId:t,...a})=>Object(f.jsx)("svg",o()({width:176,height:176,viewBox:"0 0 176 176",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t},a),e?Object(f.jsx)("title",{id:t},e):null,Object(f.jsx)("path",{d:"M122.155 89.485H12.389v40.796h109.766V89.485z",fill:"#58C5A7"}),Object(f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.471 91.253c.358-.28.786-.454 1.236-.503A1.664 1.664 0 0122 92.647a1.842 1.842 0 01-1.801 1.375 1.65 1.65 0 01-1.513-1.69c.156-.426.428-.8.785-1.08zm-6.188 3.1c.137 0 .618-.07.646-.275.027-.207-.358-.482-.509-.496a.482.482 0 00-.495.317c-.041.22.206.412.357.454zm-.908 5.197v1.952c.097.108.22.188.357.234a1.156 1.156 0 001.376-1.086c.096-.536-.372-1.018-1.142-1.141-.197-.03-.4-.016-.591.041zm34.375 9.213a.797.797 0 00-.921.371c-.385.619-.33.921.275 1.54-.041.549-.041 1.101 0 1.65a.548.548 0 00.376.522.557.557 0 00.614-.192c.076-.103.16-.203.245-.304.314-.373.64-.759.607-1.332l-.591-.605c.041-.798-.192-1.527-.605-1.65zm-33.096 5.211a.727.727 0 00-.646-.88 2.289 2.289 0 00-.62 0v2.131h.152a.715.715 0 00-.165.275v.468a.44.44 0 00.316.343c.385.097.578-.44.591-.618.014-.179 0-.564-.357-.605h-.055c.395-.257.676-.656.784-1.114zm.261 1.952c-.165-.041-.165-.206-.165-.33a.348.348 0 01.22-.124c.082.042.289.193.192.262a.263.263 0 00-.074.097c-.035.063-.067.122-.173.095zm-1.54 2.613v.632a1.71 1.71 0 001.169.853 1.062 1.062 0 001.107-.45c.078-.118.132-.25.158-.389a1.376 1.376 0 00-1.059-1.568 1.536 1.536 0 00-1.375.922zm1.293 4.304a1.38 1.38 0 001.457-.894 1.513 1.513 0 00-1.182-1.595c-.427 0-.95.522-1.045 1.169a1.112 1.112 0 00.77 1.32zm11.809-1.457c.158.123.29.277.387.453.962.247 1.553.948 1.347 1.705a1.966 1.966 0 01-1.925 1.471 1.898 1.898 0 01-1.375-1.746 1.225 1.225 0 01-.234-.894c.11-.66.784-1.334 1.265-1.251.195.05.377.139.535.262zm4.91.989a1.376 1.376 0 00-1.265.701 1.16 1.16 0 00-.357.151c.038.136.066.274.082.413a2.842 2.842 0 00-.082.33 1.155 1.155 0 001.072 1.375 1.374 1.374 0 001.664-1.375 1.472 1.472 0 00-1.113-1.595zm-4.262 7.164a1.004 1.004 0 00.523.632c.343.124.838-.371.756-.756-.06-.28-.186-.378-.281-.453a.473.473 0 01-.09-.083c-.633-.028-1.032.371-.908.66zm4.386-1.059c.232.136.433.319.591.536.174-.022.349-.026.523-.014a1.01 1.01 0 01.839.935.806.806 0 01-.096.33h-4.126a1.378 1.378 0 01.124-.605c.454-1.045 1.375-1.54 2.145-1.182zm-5.514.536a.904.904 0 00.908-.838c0-.468-.289-.674-.729-.715a.83.83 0 00-.864.43.828.828 0 00-.098.326.75.75 0 00.216.572.753.753 0 00.568.225zm11.688.344c.041-.853.44-1.251 1.127-1.251.757.055 1.458.646 1.43 1.21 0 .288-.453.701-.92.948h-1.156a1.202 1.202 0 01-.481-.907zm14.286-7.205c.124-.22.097-.385-.137-.495-.234-.11-.372-.082-.495.138a.314.314 0 00.01.396c.03.037.07.065.114.085a.316.316 0 00.509-.124zM13.2 130.267h-.825v-6.985c.072-.015.154-.046.245-.08h.001v-.001c.394-.148.945-.355 1.514.37.333.425-.1.878-.317 1.105a1.2 1.2 0 00-.095.105.78.78 0 01.646-.151.74.74 0 01.674.866v.151a1.87 1.87 0 012.447 0 1.702 1.702 0 01-.11-.907.851.851 0 01.839-.784c.742-.055 1.595.701 1.375 1.155-.18.42-.488.771-.88 1.004h.192a.866.866 0 01.77.839 1.55 1.55 0 01-.33 1.003c.66-.151 1.471.702 1.279 1.637-.047.232-.14.452-.275.646h-3.3c-.137-.206-.275-1.664.151-1.898.326-.178.716.077.943.226.07.045.125.081.157.091.113.033.18-.043.283-.163.023-.026.047-.055.075-.085h-.138a2.187 2.187 0 01-.976-.852c-.27.371-.675.622-1.128.701a2.637 2.637 0 01-.632.261 1.628 1.628 0 01-.371-.399 1.841 1.841 0 01-.825-1.636c.02-.123.057-.244.11-.357a.765.765 0 01-.234.123c.12.29-.057.572-.2.8-.055.086-.104.164-.13.232-.045.116.03.18.153.285.14.12.34.291.493.65.289.673-.632 1.595-1.609 1.375h-.096c.098.21.14.442.124.673zm4.895-4.056h-.082a.58.58 0 01-.317-.192c.052.109.089.225.11.343.092-.058.189-.109.289-.151zm22.358-1.87c-.633-.068-1.018.317-1.114 1.073a.179.179 0 00-.083.069 1.374 1.374 0 00.316 1.375 1.23 1.23 0 001.306-.385.782.782 0 00.62-.605 1.843 1.843 0 00-1.045-1.527zm-19.345 1.893a.813.813 0 01-.208-.573.906.906 0 01.963-.77.827.827 0 01.715.977.736.736 0 01-.318.525.75.75 0 01-.604.107.813.813 0 01-.548-.266zm28.575-6.065a1.195 1.195 0 01-.073-.709 1.374 1.374 0 011.32-.426.962.962 0 01.426 1.169.885.885 0 01-.49.525.877.877 0 01-.72-.017 1.192 1.192 0 01-.463-.542zm-32.358-1.919a.55.55 0 00-.605.66c0 .275.151 1.004.536.976.385-.027.756-.646.798-.921.041-.275-.275-.715-.729-.715zm5.795 8.839c.213.248.34.557.365.882-.041.481-.564.812-1.306.812h-.33a1.09 1.09 0 01-.756-1.018c.04-.55.742-1.169 1.21-1.169.318.073.604.246.817.493zm-.937 1.694h-.004.041H22.183zm0 0c-.675.012-1.338.366-1.338.866-.007.206.04.409.138.591h2.392a.734.734 0 000-.165c0-.837-.315-1.222-1.192-1.292zm-2.15-12.114c0 .605.317 1.003.674.907a1.05 1.05 0 00.633-.522c.124-.344-.371-.839-.756-.757-.272.059-.373.179-.452.273a.502.502 0 01-.098.099zm5.34 9.231c.028.082.037.17.023.256-.027.454-.44.756-.715.715-.275-.041-.88-.412-.907-.797-.028-.385.701-.523.976-.523a.535.535 0 01.623.349zm2.127 4.312h.481a.62.62 0 00-.481 0zm-4.648-6.366c.138.083.33.33.234.536-.082.193-.398.22-.55.179-.151-.041-.454-.412-.371-.605.082-.192.55-.192.688-.11zm25.617 6.422l.192-.33a2.2 2.2 0 00.454-.097.856.856 0 00-.083.413h2.984a1.2 1.2 0 00-.445-1.285 1.207 1.207 0 00-.435-.2 1.943 1.943 0 00-1.059 0 .8.8 0 00-.563-.536c-.688-.22-.963-.083-1.375.646-.543.098-1.08.226-1.609.385a.582.582 0 00-.34.318.59.59 0 00-.004.466 2.012 2.012 0 00-1.1.275l3.383-.055zm7.38-16.424a.77.77 0 01-.01-.393c.811-.426 1.1-.426 1.292-.041a.783.783 0 01-.343.963.77.77 0 01-.94-.529zm-3.795 1.45a.885.885 0 01.334.206c.508.316.536.646.412.853-.124.206.316.261.481.123.165-.137.592-.316.99.262.399.577-.233 1.058-.66 1.292-.426.234-.728.33-1.072 0-.16-.154-.321-.182-.505-.215-.21-.037-.452-.079-.76-.321a1.376 1.376 0 01-.261-1.843.9.9 0 01.651-.401.875.875 0 01.39.044zm-17.074 1.155c0-.165-.22-.427-.357-.44-.138-.014-.537 0-.55.412-.013.378.31.398.49.41l.046.003c.165.013.385-.262.371-.385zm4.318 2.447c-.798-.275-1.032-.756-.798-1.375.248-.284.59-.47.962-.522a.756.756 0 01-.618-.605 1.032 1.032 0 01.88-.99.353.353 0 01.268.109.342.342 0 01.09.276c.002.092.012.196.022.302.031.34.065.71-.091.825a.766.766 0 01.316 0c.343.165.522.633.343 1.169-.288.811-.577 1.086-1.374.811zm15.014-7.755c0-.044.009-.093.018-.144.026-.155.055-.326-.141-.419a.303.303 0 00-.44.165c-.069.165-.179.577 0 .687.178.11.55-.192.563-.289zm-5.898 14.011c.07.029.132.077.178.138a1.1 1.1 0 01.798-.124c.536.138.962 1.238.536 1.513a.933.933 0 01-.715 0 .77.77 0 010 .275c-.178.509-.756.66-1.457.371a.955.955 0 01-.206-.11c.027.082-.042.536-.386.468-.343-.069-.343-.427-.343-.592a.315.315 0 01.22-.302.908.908 0 010-.88 1.116 1.116 0 011.375-.757zm-3.685 4.098c.082-.344-.426-.962-.853-1.059a.674.674 0 00-.524.136.668.668 0 00-.246.483c-.096.701 0 1.196.399 1.279a1.38 1.38 0 001.224-.839zm13.166-11.052a.757.757 0 01-.31-.031.849.849 0 01-.481-1.127.685.685 0 01.595-.549.688.688 0 01.285.026.897.897 0 01.577 1.1.767.767 0 01-.666.581zm-22.806 4.809a1.372 1.372 0 01-.81.014 1.168 1.168 0 01-.413-1.499.661.661 0 01.633-.467c.27-.143.576-.201.88-.165.426.082.632.303.632.77-.03.264-.119.518-.261.742v.138c-.169.219-.4.381-.661.467zm-5.169-11.852c.22 0 .412-.206.454-.357.041-.152-.083-.619-.289-.647-.206-.027-.481.358-.481.509 0 .151.096.468.316.495zm.591 2.805c-.096.412-1.058.66-1.375.412-.261-.247-.261-1.402.578-1.416a.932.932 0 01.289 0c.068-.165.26-.412.426-.412a.448.448 0 01.289.398 1.103 1.103 0 01-.207.427 1.22 1.22 0 010 .591zm22.44 7.04c-.027-1.224.426-2.516 2.214-2.228.342.056.672-.045.99-.142.386-.118.753-.231 1.1-.05a2.116 2.116 0 01.949 1.774 2.6 2.6 0 01-1.746 2.598 1.111 1.111 0 01-.867 0c-.19.191-.402.357-.632.495a.987.987 0 01-.564-.756 1.69 1.69 0 01-1.031-.577A1.899 1.899 0 0152.95 121zm-31.061-3.383c0 .495.619.674.907.743.29.069.564-.289.592-.646.027-.358-.275-.825-.633-.729-.048.013-.1.025-.155.038-.344.081-.758.178-.711.594zm-1.733-10.546c.07-.371 1.403-1.059 1.61-.783.233.275.467 1.154-.235 1.347-.7.192-1.443-.192-1.375-.564zm6.958 19.127a1.25 1.25 0 00.77 1.746 1.182 1.182 0 001.526-.536 1.775 1.775 0 00-.949-1.994 1.254 1.254 0 00-1.347.784zm.99-3.658c.027 0 .124.22.124.22-.041.069-.193.289-.261.192-.024-.032-.055-.055-.085-.078-.059-.043-.112-.083-.094-.183.027-.151.288-.151.316-.151zM33 127.077a1.38 1.38 0 00-1.375.674c-.124.317.289 1.004.701 1.155a.6.6 0 00.702-.22 1.512 1.512 0 00.948.757.829.829 0 00.922-.784c.08.046.162.088.247.124a1.148 1.148 0 00.939.009 1.13 1.13 0 00.628-.697 1.372 1.372 0 00-.32-1.666 1.375 1.375 0 00-.532-.287 1.488 1.488 0 00-1.856.661 1.195 1.195 0 00.11 1.045 1.448 1.448 0 00-.866.33c.068-.605-.014-1.004-.248-1.101zm-9.996-16.747c.069.124.22.467.069.591a.533.533 0 01-.592.055c-.179-.069-.344-.467-.179-.646a.634.634 0 01.702 0zm-8.195 2.984h-.275a.809.809 0 00-.44.866c-.006.256.071.507.22.715.239-.06.483-.102.729-.124a.695.695 0 00-.262.523 1.732 1.732 0 001.375 1.622 1.276 1.276 0 001.045-1.182 1.089 1.089 0 00-1.114-1.279 1.74 1.74 0 00-.538-.002c.02-.005.06-.026.071-.108.044-.228-.208-.45-.454-.666-.14-.124-.277-.245-.357-.365zm1.99-6.431c.043.175.044.357.003.532a.897.897 0 01-1.03.585.897.897 0 01-.386-.186 1.04 1.04 0 01-.222-.83 1.036 1.036 0 01.484-.71.99.99 0 01.907.137c.117.136.2.298.244.472zm.884 16.619c.49.176.881.032 1.14-.063.145-.053.248-.091.303-.047.022.018.052.048.089.085.22.218.688.681 1.135.328a1.074 1.074 0 00.426-1.375 1.06 1.06 0 00.949-.743 1.76 1.76 0 000-.66c.162-.105.31-.229.44-.371a1.376 1.376 0 00-.165-2.117 1.538 1.538 0 00-2.255.371c-.394.54-.25.955-.133 1.295.104.3.187.541-.142.754-.316.205-.51.146-.712.085-.247-.075-.508-.154-1.02.231-.936.701-.84 1.939-.055 2.227zm.893-9.377c.206-.096.537.124.537.289.055.178-.014.536-.22.563a.637.637 0 01-.578-.343.441.441 0 01.261-.509zm2.186 1.581a.605.605 0 00.66.715 1.062 1.062 0 00.757-.412c.11-.206-.179-.99-.564-1.031a.796.796 0 00-.852.728zm11.804 8.348c.05-.002.1.007.145.026.087.019.184.035.283.052.343.058.715.121.79.292a.77.77 0 01-.798 1.003 1.043 1.043 0 01-.728-1.1.33.33 0 01.308-.273zm37.311-5.226c-.77-.11-1.636.412-1.677 1.003-.041.592.564 1.114 1.182 1.169a1.208 1.208 0 001.21-1.114c.07-.618-.178-.99-.715-1.058zm-1.503 4.809c.014-.231.082-.456.197-.657a1.38 1.38 0 01.704-.862 1.368 1.368 0 011.111-.059 2.063 2.063 0 011.238 2.103 1.691 1.691 0 01-2.131 1.032 1.521 1.521 0 01-1.006-.88 1.516 1.516 0 01-.113-.677zm4.075-14.325a1.376 1.376 0 00-1.636.413c-.248.481.15 1.182.866 1.526a1.004 1.004 0 001.182-.44 1.209 1.209 0 00-.412-1.499zm-12.26 19.874a1.61 1.61 0 01-.789-.899 1.555 1.555 0 011.251-1.581c.88-.014 1.843.371 1.843 1.004a1.57 1.57 0 01-1.114 1.581 1.613 1.613 0 01-1.19-.105zm6.54-4.707a1.868 1.868 0 00-2.132.866 1.567 1.567 0 00.702 2.062 2.48 2.48 0 002.406-.907 1.608 1.608 0 00-.976-2.021zm-3.819-8.983a1.583 1.583 0 011.11-.092 1.539 1.539 0 01.605 1.884 1.58 1.58 0 01-1.815.385 1.086 1.086 0 01-.674-1.375c.152-.353.427-.637.774-.802zm6.362-1.77c-.577-.275-1.058 0-1.375.743a1.375 1.375 0 00.358 1.526 1.51 1.51 0 001.76-.646 1.375 1.375 0 00-.743-1.623zm-10.725 16.033c.22-.344.674-.344 1.197 0 .149.114.31.211.481.288.17.052.332.126.481.22h-2.269a.633.633 0 01.11-.508zm13.503-2.558a1.183 1.183 0 002.2.674 1.457 1.457 0 00-.578-1.774c-.398-.151-1.443.537-1.622 1.1zm-58.74-17.545a.88.88 0 01.261 0 1.623 1.623 0 011.1 1.581 1.225 1.225 0 01-1.375.784 1.651 1.651 0 01-.921-.357v-1.375c.034-.04.066-.082.097-.123.044-.059.088-.117.137-.166H12.375v-5.115a1.113 1.113 0 011.114 1.54 1.279 1.279 0 000 .715 2.75 2.75 0 01.178 1.87 1.47 1.47 0 01-.357.646zm-.935-4.771v-.66a.55.55 0 010 .66zm1.705-.22a.893.893 0 00.674 1.031.909.909 0 001.017-.701 1.03 1.03 0 00-.756-1.114.883.883 0 00-.935.784zm60.76 13.21c.166.323.21.695.125 1.049a1.508 1.508 0 01-.773.947 1.508 1.508 0 01-1.221.057 1.174 1.174 0 01-.876-1.048c-.012-.163.01-.326.065-.479a1.663 1.663 0 011.898-1.237c.337.135.615.387.781.711zm-10.394 3.551c-.09.552.336.793.785 1.046l.095.054.165-.114c.398-.272.797-.544.591-1.123a.347.347 0 00-.082-.151 2.024 2.024 0 001.155-1.073.853.853 0 00-.605-1.045 1.213 1.213 0 00-.955-.053 1.218 1.218 0 00-.695.658 1.375 1.375 0 00.11 1.183.835.835 0 00-.564.618zm22.15.271c.038.097.049.204.029.307 0 .206-.426.137-.605.082a.549.549 0 01-.316-.522c.055-.206.564-.193.701-.11a.547.547 0 01.19.243zm1.968 5.669a1.195 1.195 0 00-1.375.77c-.22.592-.083 1.004.426 1.21a1.472 1.472 0 001.76-.563 1.377 1.377 0 00-.811-1.417zm-4.895-8.772c.398.069.412.509.288.825-.082.316-.398.564-1.003.316a2.784 2.784 0 00-.06-.228c-.062-.221-.137-.486-.078-.624.083-.193.454-.358.853-.289zm6.325 3.781a.466.466 0 00-.234-.591.5.5 0 00-.426-.027.513.513 0 00-.322.524.509.509 0 00.418.452.527.527 0 00.564-.358zm2.224-2.268a.685.685 0 01.292-.015c.069.014.247.275.151.427l-.038.064c-.103.175-.273.466-.54.321-.237-.13-.177-.396-.14-.557v-.001a.562.562 0 00.017-.102.671.671 0 01.258-.137zm-31.086-.482a.76.76 0 00.423-.446.77.77 0 00-.038-.613c-.123-.247-.48-.563-.728-.55-.619 0-.839.523-.908 1.128l.007.006c.328.301.712.653 1.245.475zm15.712 6.117c-.285-.221-.688-.535-.518-.933.168-.432.608-.341 1.019-.256l.177.036c.454.082.55.481.372.88-.179.398-.647.618-.894.398a3.96 3.96 0 00-.156-.125zm-18.049-18.217c-.22.674.564 1.073.949.921a.809.809 0 00.343-.962.742.742 0 00-1.292.041zm3.892 1.969c.25-.043.506 0 .728.121a1.378 1.378 0 01.66 1.306c-.069.619-.316.88-.963.88h-1.044v.564a1.565 1.565 0 01-.949 1.482 1.574 1.574 0 01-.605.127.975.975 0 01-.715-.248 2.022 2.022 0 01-.591-1.87 1.76 1.76 0 011.553-1.127h.564c.204-.32.444-.615.715-.88.17-.188.398-.313.647-.355zm19.14 10.131c-.798-.481-1.21-.385-1.65.44-.334.624-.556 1.012-.794 1.426l-.238.417c-1.182-.55-1.375-.482-1.554.604.44.509.908.454 1.375 0 1.279.963 2.104.523 2.324-1.168.103-.047.209-.089.316-.124.468-.069.605-.399.647-.811a.85.85 0 00-.427-.784zm-2.198 9.221c.004-.179.045-.355.121-.517.399-.963 1.196-1.444 1.911-1.155a1.757 1.757 0 01.963 1.883 1.733 1.733 0 01-2.145 1.032 1.3 1.3 0 01-.751-.72 1.294 1.294 0 01-.099-.523zm-1.68-15.312a1.084 1.084 0 00-.811.233c-.427.523-.152.99.357 1.472.084-.03.17-.055.253-.081.427-.128.824-.248.847-.799a.757.757 0 00-.646-.825zM28.6 116.641c-.179-.014-.715-.206-.619-.591.11-.371.619-.371.798-.33a.55.55 0 01.426.564c-.041.357-.426.371-.605.357zm11.866-3.891a.82.82 0 00-.632.454.55.55 0 00.495.729c.233 0 .866-.083.907-.606.042-.522-.563-.577-.77-.577zm-3.011 9.57c-.082-.234-.014-.715.151-.811.383-.15.704-.427.908-.784.041-.096.247-.179.357-.179.413.124.468.564.413.715a11.73 11.73 0 01-.192.481 1.228 1.228 0 01.66 1.004c-.015.33-.716.756-1.128.756a.918.918 0 01-.688-.715 1.055 1.055 0 01-.481-.467zm3.699-3.52a.647.647 0 00.481.852.196.196 0 00.096 0 1.6 1.6 0 00.784.495 1.207 1.207 0 001.306-.618 2.025 2.025 0 00-.701-1.884 1.376 1.376 0 00-1.279.619.618.618 0 00-.687.536zM15.252 96.463a.963.963 0 01.67-.213.949.949 0 01.84 1.017.894.894 0 01-.936.784 1.059 1.059 0 01-.921-.976.963.963 0 01.347-.612zm21.53 21.333a1.226 1.226 0 00-1.307.66.866.866 0 00.591 1.059.975.975 0 001.169-.426c.151-.399-.11-1.197-.454-1.293zm-1.238 6.683c.206-.083.687-.138.825 0 .272.314.638.531 1.045.619.083.01.15.122.207.217.02.032.037.061.054.085-.027.413-.192.578-.578.578a7.28 7.28 0 01-1.375-.234c-.206-.069-.522-.316-.522-.495.01-.292.133-.569.344-.77zm9.061-10.354a1.016 1.016 0 00-1.114.577c-.261.839-.096 1.513.426 1.678a1.182 1.182 0 10.688-2.255zm1.99 2.892c.142-.042.285-.085.416-.142a1.378 1.378 0 011.252.303 1.124 1.124 0 01.44 1.072 1.376 1.376 0 01-.936 1.059 1.84 1.84 0 01-1.54-.344c-.219-.179-.272-.366-.321-.539-.019-.065-.037-.129-.063-.19a.839.839 0 010-.756c.106-.27.422-.364.753-.463zm-4.809-1.256a.441.441 0 00.413.371.626.626 0 00.495-.467c0-.206-.303-.358-.509-.358-.206 0-.44.193-.399.454zm2.136 5.613a1.525 1.525 0 01.174-1.075 1.99 1.99 0 012.407-.592 1.667 1.667 0 01.247 2.324 1.373 1.373 0 01-2.241.261 1.525 1.525 0 01-.587-.918zm-7.828-6.534a.65.65 0 00-.547.016.655.655 0 00-.347.424.605.605 0 00.33.839.643.643 0 00.777-.031.645.645 0 00.172-.217.754.754 0 00-.385-1.031zm6.448-3.121c.097-.248.344-.248.523-.248.096 0 .509.206.358.481-.126.229-.385.211-.564.198a1.22 1.22 0 00-.096-.005.325.325 0 01-.208-.163.316.316 0 01-.013-.263zm-1.003-2.585c-.248.509 0 1.265.426 1.375.426.11 1.375-1.004 1.169-1.485-.206-.481-1.348-.399-1.595.11zm-23.224-4.125a.633.633 0 00.577.343c.207 0 .276-.385.22-.563-.054-.179-.33-.385-.536-.289a.442.442 0 00-.261.509zm-2.14-4.767a.815.815 0 01.614-.046c.572.149.582.574.593 1.037.003.094.005.189.012.283-.839.385-1.238.426-1.513 0a1.046 1.046 0 01-.11-.811.815.815 0 01.405-.463zm1.205 11.326c0 .398.124.715.495.797a4.88 4.88 0 002.874-.082c.137-.073.262-.165.371-.275a1.091 1.091 0 00.297-1.148 1.081 1.081 0 00-.93-.736h-.11c.092-.127.153-.273.18-.426a.798.798 0 00-.784-.908.752.752 0 00-.798.366.751.751 0 00-.096.294c-.004.202.034.404.11.591h-.317a1.707 1.707 0 00-1.292 1.527zm4.473-11.346a1.47 1.47 0 011-.342c.742.028 1.512 1.155 1.36 2.062a1.248 1.248 0 01-.992 1.036c-.167.033-.34.031-.506-.004a1.575 1.575 0 01-1.079-.62 1.588 1.588 0 01-.296-1.209c.05-.361.234-.69.513-.923zm2.608 8.829c.138.358 1.375.537 1.54 0a.837.837 0 00-.357-1.058c-.481-.138-1.32.701-1.183 1.058zm2.187 8.451c.176-.041.359-.044.536-.008.563.041 1.155.632 1.1 1.168a1.758 1.758 0 01-1.691 1.375c-.51 0-.908-.687-.908-1.375a1.253 1.253 0 01.963-1.16zm22.398-2.937a.88.88 0 00-1.072.413.736.736 0 00-.054.602.744.744 0 00.411.443.88.88 0 001.073-.413.724.724 0 00-.1-.87.73.73 0 00-.258-.175zM25.878 97.611c-.083-.151-.083-.756.165-.839a.77.77 0 01.7.358.689.689 0 01-.22.632.673.673 0 01-.645-.15zm-2.063 16.156c-.413 0-.921.482-1.045 1.265.033.034.07.081.112.133.113.143.257.326.438.376a.67.67 0 00.289 0c.165.096.398 0 .577-.206a.837.837 0 00.385-.495 1.06 1.06 0 00-.756-1.073zm6.29 6.069c.127-.249.333-.449.585-.569.32-.143.65-.258.99-.343a1.634 1.634 0 01.468 2.268c-.184.267-.466.45-.784.509a1.371 1.371 0 01-1.375-1.059 1.262 1.262 0 01.116-.806z",fill:"#54B399"}),Object(f.jsx)("path",{d:"M135.905 24.86H26.139v40.796h109.766V24.86z",fill:"#58C5A7"}),Object(f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M33.218 26.624c.358-.28.788-.453 1.24-.499a1.664 1.664 0 011.292 1.898 1.842 1.842 0 01-1.801 1.375 1.65 1.65 0 01-1.513-1.692c.154-.427.425-.802.782-1.082zm-6.186 3.104c.138 0 .62-.07.647-.276.027-.206-.358-.48-.509-.495a.482.482 0 00-.495.317c-.041.22.206.412.357.453zm-.907 5.197v1.953c.097.107.22.188.358.233a1.153 1.153 0 001.375-1.086c.11-.536-.372-1.017-1.142-1.141-.198-.03-.4-.016-.591.041zM60.5 44.138a.798.798 0 00-.921.37c-.385.62-.33.922.275 1.54-.04.55-.04 1.102 0 1.65a.55.55 0 00.99.33c.076-.102.16-.202.245-.303.314-.373.64-.759.607-1.333l-.591-.605c.041-.797-.192-1.526-.605-1.65zm-33.096 4.905c.022.1.022.205 0 .306a1.87 1.87 0 01-.798 1.114h.069c.357.04.371.426.357.605-.013.178-.206.715-.59.618a.44.44 0 01-.317-.357v-.454a.715.715 0 01.165-.275h-.151v-2.131c.205-.028.413-.028.619 0a.727.727 0 01.646.574zm.096 1.928c0 .124 0 .289.165.33.106.027.138-.032.173-.095.02-.036.04-.073.075-.097.096-.069-.11-.22-.193-.262a.344.344 0 00-.22.124zm-1.375 3.575v-.632a1.54 1.54 0 011.375-.922 1.374 1.374 0 011.059 1.568 1.06 1.06 0 01-1.265.839 1.72 1.72 0 01-1.169-.853zm2.177 3.479c-.265.162-.576.23-.884.193a1.113 1.113 0 01-.77-1.32c.096-.647.618-1.17 1.044-1.17a1.513 1.513 0 011.183 1.596 1.375 1.375 0 01-.573.7zm11.312-.811a1.373 1.373 0 00-.921-.715c-.482-.083-1.155.591-1.265 1.251-.042.317.042.638.233.894a1.898 1.898 0 001.375 1.746 1.967 1.967 0 001.925-1.471c.206-.756-.385-1.458-1.347-1.705zm3.791.707c.224-.124.477-.183.733-.171a1.47 1.47 0 011.113 1.595 1.374 1.374 0 01-1.663 1.375 1.155 1.155 0 01-1.073-1.375c.021-.112.048-.222.082-.33a2.746 2.746 0 00-.082-.413c.11-.07.23-.121.358-.15.124-.224.309-.407.532-.531zm-3.336 7.365a1.002 1.002 0 01-.194-.372c-.124-.289.275-.688.907-.66.023.03.055.055.09.083.096.075.222.173.282.453.082.385-.413.88-.757.756a1.004 1.004 0 01-.328-.26zm4.783-.895c-.158-.217-.36-.4-.59-.536-.77-.357-1.692.138-2.146 1.182-.086.19-.129.397-.123.605h4.124a.812.812 0 00.097-.33 1.004 1.004 0 00-.839-.934 2.615 2.615 0 00-.523.013zm-5.486-.24a.908.908 0 01-.618.24.758.758 0 01-.784-.797.838.838 0 01.962-.757c.44.042.729.248.729.715a.908.908 0 01-.289.598zm12.197-.667c-.688 0-1.087.398-1.128 1.251a1.21 1.21 0 00.481.907h1.155c.468-.247.922-.66.922-.948.027-.564-.674-1.155-1.43-1.21zm13.02-6.449c.234.11.262.275.138.495a.316.316 0 01-.508.124.316.316 0 01-.124-.482c.124-.22.261-.247.495-.137zm-38.458 8.608h.811a1.376 1.376 0 00-.123-.674h.096c.976.22 1.897-.701 1.608-1.375a1.635 1.635 0 00-.493-.65c-.122-.105-.198-.17-.153-.285.027-.068.076-.146.13-.232.143-.228.32-.51.2-.8a.77.77 0 00.234-.123c-.053.113-.09.234-.11.357a1.841 1.841 0 00.825 1.637c.1.152.226.287.371.398.221-.06.434-.147.633-.261.452-.079.856-.33 1.127-.701.232.376.572.673.977.852h.137l-.075.085c-.103.12-.17.196-.282.163-.033-.01-.087-.046-.157-.091-.228-.149-.618-.404-.944-.225-.426.233-.288 1.69-.15 1.897h3.3c.134-.194.228-.414.274-.646.193-.935-.618-1.788-1.278-1.636.223-.286.34-.641.33-1.004a.852.852 0 00-.77-.839.91.91 0 00-.193 0c.393-.232.7-.584.88-1.004.22-.453-.633-1.21-1.375-1.155a.853.853 0 00-.839.784c-.046.307-.008.62.11.907a1.65 1.65 0 00-1.045-.467 1.677 1.677 0 00-1.375.426v-.151a.77.77 0 00-.674-.88.84.84 0 00-.646.165 1.54 1.54 0 01.085-.09c.219-.22.68-.685.328-1.12-.57-.725-1.12-.518-1.514-.37h-.001c-.09.035-.173.066-.245.081l-.014 7.026zm5.624-4.126h.096c-.03.013-.06.026-.088.04l-.008-.04zm-.303-.192a.577.577 0 00.28.247 1.9 1.9 0 00-.17.097 1.005 1.005 0 00-.11-.344zm21.643-.536c.096-.757.481-1.073 1.114-1.073a1.842 1.842 0 011.044 1.526.783.783 0 01-.618.605 1.224 1.224 0 01-1.306.386 1.375 1.375 0 01-.317-1.444.18.18 0 01.083 0zm-18.439.247a.812.812 0 00.756.839.742.742 0 00.922-.633.853.853 0 00-.716-.99.935.935 0 00-.962.784zm28.71-6.201a1.197 1.197 0 00.536 1.251.88.88 0 001.21-.508.962.962 0 00-.426-1.17 1.374 1.374 0 00-1.32.427zm-32.542-1.18a.55.55 0 01.257-.03c.454 0 .77.44.729.715-.041.275-.413.894-.798.921-.385.028-.536-.701-.536-.976a.55.55 0 01.348-.63zm6.417 9.691a1.526 1.526 0 00-1.182-1.375c-.468-.068-1.17.619-1.21 1.169a1.086 1.086 0 00.756 1.017h.334c-.675.013-1.338.367-1.338.853-.008.21.04.419.138.605h2.392a.723.723 0 000-.165c0-.837-.315-1.222-1.192-1.292h.037-.041c.742 0 1.265-.33 1.306-.812zm-2.777-10.395c-.358.096-.674-.302-.674-.907a.495.495 0 00.098-.099.705.705 0 01.452-.273c.385-.082.88.413.756.757a1.044 1.044 0 01-.633.522zm4.688 8.58a.535.535 0 00-.646-.605c-.275 0-1.004.138-.976.523.027.385.632.756.907.797.275.041.688-.261.715-.715zm2.585 4.057h-.481a.605.605 0 01.481 0zm-4.895-5.83a.468.468 0 00-.233-.537c-.023 0-.057-.002-.099-.006-.187-.015-.521-.041-.589.116-.082.193.22.564.371.605.151.041.468.014.55-.178zM69.6 49.218a.77.77 0 01-.01-.393c.811-.426 1.1-.44 1.292-.041a.783.783 0 01-.344.963.77.77 0 01-.938-.529zm-3.795 1.45a.895.895 0 01.334.206c.508.316.536.646.412.852-.124.207.316.262.481.124.165-.137.591-.316.99.261.399.578-.234 1.06-.66 1.293-.426.234-.729.33-1.072 0-.16-.153-.318-.182-.5-.215a1.493 1.493 0 01-.765-.335 1.375 1.375 0 01-.261-1.829.893.893 0 011.041-.357zM48.73 51.824c0-.165-.22-.426-.357-.44-.138-.014-.537 0-.55.412-.013.378.31.398.49.41.017 0 .032.002.046.003.165.013.385-.262.371-.385zm4.318 2.447c-.798-.275-1.032-.756-.798-1.375.23-.27.545-.454.894-.522a.756.756 0 01-.619-.605 1.031 1.031 0 01.88-.99.331.331 0 01.358.371l.004.02c.082.398.198.96-.005 1.121a.77.77 0 01.317 0c.343.165.632.358.343 1.169-.288.811-.577 1.086-1.374.811zm15.014-7.755c0-.044.009-.093.018-.144.026-.155.055-.326-.141-.42a.303.303 0 00-.44.166c-.069.164-.179.577 0 .687.178.11.55-.193.564-.289zm3.583 7.057a.77.77 0 01-.31-.03.853.853 0 01-.481-1.128.688.688 0 01.88-.523.894.894 0 01.577 1.1.772.772 0 01-.666.581zm-22.806 4.81c-.263.085-.545.09-.81.013a1.169 1.169 0 01-.413-1.498.66.66 0 01.633-.468c.27-.143.576-.201.88-.165.426.082.632.303.632.77a1.76 1.76 0 01-.261.743v.137c-.169.219-.4.382-.661.467zM43.67 46.53c.22 0 .413-.206.454-.358.041-.15-.083-.618-.289-.646-.206-.027-.481.358-.481.509a.481.481 0 00.316.495zm.591 2.805c-.096.413-1.059.66-1.375.413-.261-.248-.261-1.403.578-1.417a.939.939 0 01.288 0c.07-.165.262-.412.427-.412a.454.454 0 01.288.399 1.1 1.1 0 01-.206.426c.049.194.049.397 0 .591zm22.44 7.04c-.027-1.224.427-2.516 2.214-2.227.342.055.672-.046.99-.143.386-.118.753-.231 1.1-.05a2.117 2.117 0 01.949 1.774 2.599 2.599 0 01-1.746 2.599 1.115 1.115 0 01-.867 0c-.19.19-.402.356-.632.494a.99.99 0 01-.564-.756 1.69 1.69 0 01-1.031-.577 1.897 1.897 0 01-.413-1.114zM35.64 52.992c0 .495.619.674.907.743.29.069.564-.289.592-.646.027-.358-.275-.825-.633-.73-.048.014-.1.026-.155.039-.344.081-.758.178-.711.594zm-1.733-10.546c.07-.371 1.403-1.058 1.61-.783.233.275.467 1.155-.235 1.347-.7.193-1.443-.192-1.374-.564zm6.958 19.127a1.253 1.253 0 00.77 1.746 1.182 1.182 0 001.526-.537 1.773 1.773 0 00-.935-1.993 1.266 1.266 0 00-1.361.783zm.99-3.658c.028 0 .124.22.124.22-.041.069-.193.289-.261.193-.024-.033-.055-.056-.085-.079-.059-.043-.112-.083-.094-.183.027-.151.288-.151.316-.151zm4.895 4.538a1.375 1.375 0 00-1.375.673c-.124.317.289 1.004.701 1.155a.605.605 0 00.702-.22 1.499 1.499 0 00.948.756.825.825 0 00.922-.783l.247.123a1.14 1.14 0 001.567-.687 1.375 1.375 0 00-.852-1.953 1.485 1.485 0 00-1.856.66 1.196 1.196 0 00.11 1.045 1.458 1.458 0 00-.866.33c.068-.605-.014-1.003-.248-1.1zm-9.996-16.748c.069.124.22.468.069.591a.535.535 0 01-.592.055c-.178-.069-.343-.467-.178-.646a.633.633 0 01.7 0zm-8.195 2.984h-.275a.811.811 0 00-.44.866c-.006.256.071.507.22.715.239-.06.483-.102.729-.124a.689.689 0 00-.262.523 1.732 1.732 0 001.375 1.622 1.278 1.278 0 001.045-1.182 1.088 1.088 0 00-1.114-1.279 1.734 1.734 0 00-.538-.002c.02-.005.06-.026.071-.108.044-.228-.208-.45-.454-.666-.14-.124-.277-.245-.357-.365zm1.99-6.43c.043.174.044.356.003.531a.893.893 0 01-1.416.399 1.032 1.032 0 01.262-1.54.99.99 0 01.907.137c.117.136.2.298.244.472zm.884 16.618c.49.176.882.032 1.14-.063.145-.053.248-.091.303-.047.022.018.052.048.089.084.22.219.688.682 1.135.329a1.073 1.073 0 00.426-1.375 1.059 1.059 0 00.949-.742 1.76 1.76 0 000-.66c.161-.105.31-.23.44-.372a1.375 1.375 0 00-.165-2.117 1.54 1.54 0 00-2.255.371c-.394.54-.25.957-.132 1.294.104.298.186.535-.143.741-.314.197-.507.143-.709.086-.247-.07-.508-.143-1.024.244-.934.701-.838 1.939-.054 2.227zm.893-9.377c.206-.096.536.124.536.289.055.178-.013.536-.22.563a.62.62 0 01-.577-.357.44.44 0 01.261-.495zm2.187 1.581a.604.604 0 00.66.715 1.058 1.058 0 00.756-.412c.11-.206-.179-.99-.564-1.032a.798.798 0 00-.852.73zm11.803 8.348a.33.33 0 01.145.026c.087.019.184.035.283.052.343.058.715.121.79.292a.772.772 0 01-.798 1.004 1.045 1.045 0 01-.728-1.1.33.33 0 01.308-.274zm37.311-5.227c-.77-.11-1.636.413-1.677 1.004-.041.591.564 1.114 1.182 1.169a1.21 1.21 0 001.21-1.114c.07-.619-.178-.99-.715-1.059zm1.683-9.589c.296-.075.609-.048.889.075a1.21 1.21 0 01.412 1.498 1.004 1.004 0 01-1.182.44c-.715-.343-1.114-1.045-.867-1.526.189-.24.452-.412.748-.487zm-7.54 6.166a1.581 1.581 0 00-1.884.893 1.086 1.086 0 00.674 1.376 1.58 1.58 0 001.815-.386 1.54 1.54 0 00-.605-1.883zm3.877-.935c.317-.743.798-1.018 1.375-.743a1.375 1.375 0 01.743 1.623 1.513 1.513 0 01-1.76.646 1.375 1.375 0 01-.358-1.526zM27.321 45.03h-.261c.174-.175.297-.393.358-.632a2.75 2.75 0 00-.18-1.884 1.224 1.224 0 010-.701 1.114 1.114 0 00-1.113-1.554.55.55 0 000-.66v5.775H26.359a1.559 1.559 0 00-.137.166 2.463 2.463 0 01-.097.123v1.375c.263.21.585.335.921.357.591 0 1.279-.33 1.375-.784a1.623 1.623 0 00-1.1-1.58zm.64-4.34a.894.894 0 01-.131-.651.88.88 0 01.935-.784 1.03 1.03 0 01.756 1.114.907.907 0 01-1.017.701.894.894 0 01-.543-.38zm60.754 13.608a1.512 1.512 0 00-.907-1.76 1.664 1.664 0 00-1.898 1.237 1.17 1.17 0 00.811 1.526 1.497 1.497 0 001.994-1.003zm-9.734 3.548c-.449-.253-.875-.494-.785-1.046a.839.839 0 01.564-.619A1.375 1.375 0 0178.65 55a1.21 1.21 0 011.65-.605.84.84 0 01.605 1.045 2.022 2.022 0 01-1.155 1.073c.04.043.068.094.082.15.206.58-.193.852-.591 1.124l-.165.114-.042-.024-.053-.03zm21.394-.468a.547.547 0 00-.22-.55c-.138-.083-.646-.096-.701.11a.55.55 0 00.316.522c.179.055.605.124.605-.082zm-2.956-3.41c.398.069.412.508.288.825-.082.316-.398.564-1.003.316a2.85 2.85 0 00-.06-.228c-.062-.22-.137-.486-.078-.624.083-.193.454-.358.853-.29zm6.325 3.781a.471.471 0 00-.234-.591.512.512 0 00-.608.094.507.507 0 00.076.771c.061.042.129.07.202.084a.521.521 0 00.564-.358zm2.224-2.268a.675.675 0 01.292-.014c.069.013.247.274.151.426l-.041.07c-.103.177-.273.47-.536.315a.48.48 0 01-.124-.66.673.673 0 01.258-.137zM74.882 55a.769.769 0 00.385-1.059c-.123-.247-.48-.564-.728-.55-.619 0-.839.523-.908 1.128l.007.006c.328.301.712.653 1.244.475zm-1.388-11.179c-.385.151-1.169-.247-.949-.921a.742.742 0 011.293-.041.812.812 0 01-.344.962zm3.671 1.169a1.128 1.128 0 00-1.375.234c-.271.265-.51.56-.715.88h-.564a1.76 1.76 0 00-1.553 1.127 2.021 2.021 0 00.59 1.87.977.977 0 00.716.248 1.567 1.567 0 001.553-1.609v-.564c.127 0 .25.008.37.016.234.015.458.03.675-.016.647 0 .894-.261.963-.88a1.375 1.375 0 00-.66-1.306zm16.761 10.45c.44-.825.853-.921 1.65-.44a.853.853 0 01.427.797c-.042.413-.18.812-.647.812a3.015 3.015 0 00-.316.123c-.22 1.692-1.045 2.132-2.324 1.156-.467.453-.935.508-1.375 0 .179-1.087.372-1.155 1.554-.62l.142-.243c.276-.474.512-.878.89-1.585zM91.7 48.909a1.084 1.084 0 00-.811.233c-.427.523-.152.99.357 1.472.084-.03.17-.055.253-.08.427-.13.824-.25.847-.8a.756.756 0 00-.646-.825zM42.35 52.016c-.179-.014-.715-.22-.619-.591.11-.371.619-.371.798-.33a.55.55 0 01.426.564c-.041.357-.426.371-.605.357zm11.866-3.891a.824.824 0 00-.632.454.55.55 0 00.495.728c.233 0 .866-.082.907-.605.042-.522-.563-.577-.77-.577zm-3.011 9.57c-.082-.234-.014-.715.151-.811a1.8 1.8 0 00.908-.784c.041-.179.247-.179.357-.179.413.124.468.564.413.715-.02.054-.05.109-.08.165-.055.103-.113.21-.113.316a1.223 1.223 0 01.66.99c-.014.344-.715.77-1.127.77a.922.922 0 01-.688-.715 1.06 1.06 0 01-.481-.467zm3.699-3.52a.646.646 0 00.481.853h.096c.207.238.48.41.784.495a1.21 1.21 0 001.306-.62 2.021 2.021 0 00-.701-1.883 1.375 1.375 0 00-1.279.619.619.619 0 00-.687.536zM29.002 31.838a.963.963 0 01.67-.213.949.949 0 01.84 1.017.894.894 0 01-.936.784 1.059 1.059 0 01-.921-.976.963.963 0 01.347-.612zm21.53 21.333a1.224 1.224 0 00-1.376.647.866.866 0 00.592 1.072.977.977 0 001.168-.426c.22-.399-.041-1.197-.385-1.293zm-1.238 6.683c.206-.083.687-.138.825 0 .272.314.638.531 1.045.618.11.014.261.207.261.303-.027.413-.192.578-.578.578a7.184 7.184 0 01-1.375-.234c-.206-.069-.522-.316-.522-.495.01-.292.133-.569.344-.77zM58.355 49.5a1.018 1.018 0 00-1.114.578c-.261.838-.096 1.512.426 1.677a1.512 1.512 0 001.554-.88 1.5 1.5 0 00-.866-1.375zm1.99 2.892c.142-.042.285-.085.416-.142a1.375 1.375 0 011.252.303 1.127 1.127 0 01.44 1.072 1.375 1.375 0 01-.936 1.059 1.842 1.842 0 01-1.54-.344c-.219-.18-.272-.366-.321-.539a1.485 1.485 0 00-.063-.19.84.84 0 010-.756c.106-.27.422-.364.753-.463zm-4.809-1.256a.44.44 0 00.413.371.66.66 0 00.495-.467c0-.206-.303-.358-.509-.358-.206 0-.44.193-.399.454zm2.136 5.613a1.527 1.527 0 01.174-1.075 1.994 1.994 0 012.407-.591 1.663 1.663 0 01.247 2.323 1.376 1.376 0 01-2.241.261 1.527 1.527 0 01-.587-.918zm-7.828-6.534a.66.66 0 00-.894.44.605.605 0 00.33.839.646.646 0 00.949-.248.757.757 0 00-.385-1.031zm6.448-3.121c.097-.248.344-.248.523-.248.096 0 .509.207.358.482-.126.228-.385.21-.564.197-.036-.003-.069-.005-.096-.005a.316.316 0 01-.22-.426zm-1.003-2.585c-.248.508 0 1.265.426 1.375.426.11 1.375-1.004 1.169-1.485-.206-.482-1.348-.399-1.595.11zM32.065 40.37a.619.619 0 00.578.358c.206 0 .274-.386.22-.578-.056-.192-.33-.371-.537-.275a.44.44 0 00-.261.495zm-2.14-4.753a.811.811 0 01.614-.046c.572.149.582.574.593 1.038.003.093.005.188.012.282-.839.385-1.238.427-1.513 0a1.045 1.045 0 01-.11-.811.81.81 0 01.405-.463zm1.205 11.326c0 .398.124.715.495.797a4.88 4.88 0 002.874-.083 1.51 1.51 0 00.371-.274 1.087 1.087 0 00-.633-1.884h-.11c.092-.127.153-.273.18-.427a.797.797 0 00-.785-.907.755.755 0 00-.893.66 1.5 1.5 0 00.11.591h-.316a1.704 1.704 0 00-1.293 1.527zm4.473-11.346a1.47 1.47 0 011-.342c.742.027 1.512 1.155 1.36 2.063a1.253 1.253 0 01-1.498 1.03 1.58 1.58 0 01-1.375-1.828c.05-.36.234-.69.513-.923zm2.608 8.83c.138.357 1.375.535 1.54 0a.866.866 0 00-.357-1.073c-.481-.124-1.32.715-1.183 1.072zm2.187 8.45a1.25 1.25 0 01.536-.008c.564.041 1.155.632 1.1 1.169a1.76 1.76 0 01-1.691 1.375c-.51 0-.908-.688-.908-1.375a1.25 1.25 0 01.963-1.161zm22.398-2.937a.894.894 0 00-1.072.399.754.754 0 00.357 1.059.88.88 0 001.073-.413.729.729 0 00-.358-1.045zM39.627 32.986c-.082-.151-.082-.756.165-.839a.77.77 0 01.702.358.689.689 0 01-.22.632.673.673 0 01-.647-.15zm-2.062 16.157c-.412 0-.921.48-1.045 1.264.033.034.07.08.112.133.113.143.257.326.438.376.096.014.193.014.289 0 .165.097.398 0 .577-.206a.838.838 0 00.385-.495 1.058 1.058 0 00-.756-1.073zm6.29 6.068c.127-.25.333-.449.585-.569.32-.143.65-.258.99-.343a1.639 1.639 0 01.468 2.269c-.184.266-.466.449-.784.508a1.375 1.375 0 01-1.375-1.059 1.265 1.265 0 01.116-.806z",fill:"#54B399"}),Object(f.jsx)("path",{d:"M162.085 56.072H50.999V96.87h111.086V56.072z",fill:"#8ADFC8"}),Object(f.jsx)("path",{className:"lnsDropIllustration__adjustFill",fillRule:"evenodd",clipRule:"evenodd",d:"M43.574 36.575a8.91 8.91 0 110 17.82 8.91 8.91 0 010-17.82zM23.98 103.166h14.946v14.947H23.98v-14.947zm45.306-34.072L59.14 85.388h20.295L69.286 69.094zm54.288 4.224a2.901 2.901 0 012.197-.292 2.902 2.902 0 011.898 3.589l-3.96 13.516-4.125 12.691c-2.186 7.467-10.326 11.647-18.576 9.227-5.17-1.513-11.564-7.109-12.692-11.592l-3.575-16.156a3.066 3.066 0 011.953-3.712 2.75 2.75 0 013.52 1.939l2.062 6.874.207-.715 1.663-5.65 5.541-19.168a2.864 2.864 0 015.259-.583 2.86 2.86 0 01.242 2.178l-5.212 17.792 2.475.715 6.174-21.134a2.868 2.868 0 012.434-2.048 2.868 2.868 0 012.105.61 2.852 2.852 0 011.057 1.92c.041.374.009.752-.096 1.114l-6.242 21.133 2.475.715L115.5 68.53a2.868 2.868 0 012.434-2.048 2.868 2.868 0 012.105.61 2.852 2.852 0 011.057 1.92c.041.374.009.752-.096 1.113l-5.225 17.751 2.475.715 3.974-13.516c.2-.742.685-1.374 1.35-1.758z"}),Object(f.jsx)("path",{className:"lnsDropIllustration__adjustFill lnsDropIllustration__hand",id:"lnsDropIllustrationArrow",d:"M84.688 156.577v-31.021c0-1.17.853-2.118 1.906-2.118s1.906.948 1.906 2.118v31.021l15.617-15.617a1.907 1.907 0 012.696 2.696l-16.175 16.175a5.695 5.695 0 01-3.525 1.652 1.725 1.725 0 01-1.039 0 5.695 5.695 0 01-3.524-1.652l-16.175-16.175a1.907 1.907 0 012.696-2.696l15.617 15.617z"}));var h=a(691),v=a(657),y=a(179),j=a(146),_=a(95),O=a(83),w=a(97),L=a(116),S=a(138),I=a(133),D=a(392),k=a.n(D),C=a(393),P=a.n(C),T=a(204),z=a(92),E=a(99);function M(e){const[t,a]=Object(i.useState)(0),n=e.errors.length?e.errors[t]:"";return Object(f.jsx)(g.EuiEmptyPrompt,{actions:e.errors.length>1?Object(f.jsx)(g.EuiFlexGroup,{justifyContent:"spaceAround","data-test-subj":"lnsWorkspaceErrorsPaginationControl"},Object(f.jsx)(g.EuiFlexItem,{grow:!1},Object(f.jsx)(g.EuiPagination,{pageCount:e.errors.length,activePage:t,onPageClick:a}))):[],body:Object(f.jsx)("div",{"data-test-subj":"workspace-error-message"},"string"==typeof n?n:Object(f.jsx)("div",null,n.shortMessage,n.longMessage?Object(f.jsx)(r.a.Fragment,null,Object(f.jsx)(g.EuiSpacer,null),Object(f.jsx)(g.EuiText,{size:"s"}," ",n.longMessage)):null)),title:Object(f.jsx)("h2",null,e.title),iconColor:"danger",iconType:"warning","data-test-subj":"lnsWorkspaceErrors"})}const F={value:{id:"lnsWorkspace",humanData:{label:b.i18n.translate("xpack.lens.editorFrame.workspaceLabel",{defaultMessage:"Workspace"})}},order:[1,0,0,0]},A={type:"application",child:{type:"lens"}},N=r.a.memo((function(e){const{getSuggestionForField:t,...a}=e,[{dragging:n}]=Object(h.c)(),r=Object(i.useMemo)((()=>n&&t(n)),[n,t]);return Object(f.jsx)(W,o()({},a,{suggestionForDraggedField:r}))})),W=r.a.memo((function({framePublicAPI:e,visualizationMap:t,datasourceMap:a,core:n,plugins:o,ExpressionRenderer:s,suggestionForDraggedField:c,lensInspector:D,getUserMessages:C,addUserMessages:T}){var M;const A=Object(z.W)(),N=Object(z.X)(z.C),W=Object(z.X)(z.J),B=Object(z.X)(z.r),V=Object(z.X)(z.y),G=Object(z.X)(z.t),$=Object(z.X)(z.u),H=Object(z.X)(z.I),U=Object(z.X)((e=>Object(z.x)(e,a))),q=Object(z.X)(z.G),[X,Y]=Object(i.useState)({expressionToRender:void 0,errors:[]}),K=Object(i.useRef)(!1),J=Object(i.useRef)(),Q=Object(i.useRef)(),{dataViews:Z}=e;Q.current={datasourceMap:a,datasourceStates:V,visualization:W,visualizationMap:t,datasourceLayers:U,dataViews:Z};const ee=Object(i.useRef)(NaN),te=Object(i.useRef)(NaN),ae=Object(i.useCallback)((()=>{if(Q.current){if(!K.current){K.current=!0;const e=performance.now();Object(y.a)(n.analytics,{eventName:"lensVisualizationRenderTime",duration:e-ee.current,key1:"time_to_data",value1:te.current-ee.current,key2:"time_to_render",value2:e-te.current})}const o=Object.values(Q.current.datasourceMap).reduce(((e,t)=>{var a,n,o;return Q.current.datasourceStates[t.id]?[...e,...null!==(a=null===(n=t.getRenderEventCounters)||void 0===n?void 0:n.call(t,null===(o=Q.current.datasourceStates[t.id])||void 0===o?void 0:o.state))&&void 0!==a?a:[]]:[]}),[]);let i=[];var e,t,a;Q.current.visualization.activeId&&(i=null!==(e=null===(t=(a=Q.current.visualizationMap[Q.current.visualization.activeId]).getRenderEventCounters)||void 0===t?void 0:t.call(a,Q.current.visualization.state))&&void 0!==e?e:[]);const r=["vis_editor",...o,...i];Object.values(Q.current.dataViews.indexPatterns||{}).filter((e=>!e.isPersisted)).forEach((()=>{r.push("ad_hoc_data_view")})),Object(_.d)(r)}}),[n.analytics]),ne=Object(i.useRef)(),oe=Object(i.useRef)(),ie=Object(i.useCallback)(((e,t)=>{if(Q.current){te.current=performance.now();const[e]=Object.keys(Q.current.datasourceLayers),n=Object.values(Q.current.datasourceMap)[0],i=Object.values(Q.current.datasourceStates)[0].state;let r=[];var a;null!=t&&t.requests&&(r=Object(O.getSearchWarningMessages)(t.requests,n,i,{searchService:o.data.search})),r.length?ne.current=T(r):ne.current&&(ne.current(),ne.current=void 0),t&&t.tables&&A(Object(z.m)({activeData:Object.entries(null===(a=t.tables)||void 0===a?void 0:a.tables).reduce(((t,[a,n],o,i)=>({...t,[1===i.length?e:a]:n})),{})}))}}),[T,A,o.data.search]),re=G||!J.current||H,se=W.activeId?t[W.activeId]:null,le=Object(i.useCallback)((()=>C(["visualization","visualizationInEditor"],{severity:"error"})),[C]),ce=Object(i.useMemo)((()=>{if(le().every((e=>e.uniqueId===O.EXPRESSION_BUILD_ERROR_ID)))try{const t=Object(S.a)({visualization:se,visualizationState:W.state,datasourceMap:a,datasourceStates:V,datasourceLayers:U,indexPatterns:Z.indexPatterns,dateRange:e.dateRange,nowInstant:o.data.nowProvider.get(),searchSessionId:q});return t?Object(p.b)(t):null}catch(e){oe.current=T([{uniqueId:O.EXPRESSION_BUILD_ERROR_ID,severity:"error",fixableInEditor:!0,displayLocations:[{id:"visualization"}],shortMessage:b.i18n.translate("xpack.lens.editorFrame.buildExpressionError",{defaultMessage:"An unexpected error occurred while preparing the chart"}),longMessage:Object(f.jsx)(r.a.Fragment,null,Object(f.jsx)("p",{"data-test-subj":"expression-failure"},Object(f.jsx)(u.FormattedMessage,{id:"xpack.lens.editorFrame.expressionFailure",defaultMessage:"An error occurred in the expression"})),Object(f.jsx)("p",null,e.toString()))}])}}),[le,se,W.state,a,V,U,Z.indexPatterns,e.dateRange,o.data.nowProvider,q,T]),de=Boolean(ce);Object(i.useEffect)((()=>{A(Object(z.N)(de))}),[de,A]),Object(i.useEffect)((()=>{G||A(Object(E.j)(ce===X.expressionToRender))})),Object(i.useEffect)((()=>{re&&Y((e=>({...e,expressionToRender:ce,errors:le()})))}),[ce,re,le]);const ue=Boolean(X.expressionToRender);Object(i.useEffect)((()=>{ue&&oe.current&&(oe.current(),oe.current=void 0)}),[ue]),Object(i.useEffect)((()=>{!ue&&null!==X.expressionToRender||J.current||(J.current=!0)}),[ue,X.expressionToRender]);const[pe,be]=Object(i.useState)(),ge=Object(i.useCallback)((e=>{o.uiActions&&(Object(w.a)(e)&&o.uiActions.getTrigger(m.VIS_EVENT_TO_TRIGGER[e.name]).exec({data:{...e.data,timeFieldName:Object(O.inferTimeField)(o.data.datatableUtilities,e)}}),(Object(w.c)(e)||Object(w.d)(e))&&o.uiActions.getTrigger(m.VIS_EVENT_TO_TRIGGER[e.name]).exec({data:{...e.data,timeFieldName:Object(O.inferTimeField)(o.data.datatableUtilities,e)}}),Object(w.b)(e)&&null!=se&&se.onEditAction&&A(Object(z.e)({visualizationId:se.id,event:e})),Object(j.b)(e)&&be(e.data))}),[o.data.datatableUtilities,o.uiActions,se,A]),me=null==se||null===(M=se.getDisplayOptions)||void 0===M?void 0:M.call(se),fe=Object(i.useCallback)((async e=>!!o.uiActions&&!(!Object(w.c)(e)&&!Object(w.d)(e))&&(await o.uiActions.getTriggerCompatibleActions(m.VIS_EVENT_TO_TRIGGER[e.name],e)).length>0),[o.uiActions]),xe=Object(i.useCallback)((()=>{c&&(Object(_.d)("drop_onto_workspace"),Object(L.d)(A,c,{clearStagedPreview:!0}))}),[c,A]),he=l()(n.theme.theme$,{darkMode:!1}).darkMode,ve=()=>(pe&&be(void 0),Object(f.jsx)(g.EuiText,{className:d()("lnsWorkspacePanel__emptyContent"),textAlign:"center","data-test-subj":"workspace-drag-drop-prompt",size:"s"},Object(f.jsx)("div",null,Object(f.jsx)(x,{"aria-hidden":!0,className:d()("lnsWorkspacePanel__promptIllustration","lnsWorkspacePanel__dropIllustration")}),Object(f.jsx)("h2",null,Object(f.jsx)("strong",null,ue?b.i18n.translate("xpack.lens.editorFrame.emptyWorkspaceSimple",{defaultMessage:"Drop field here"}):b.i18n.translate("xpack.lens.editorFrame.emptyWorkspace",{defaultMessage:"Drop some fields here to start"}))),!ue&&Object(f.jsx)(r.a.Fragment,null,Object(f.jsx)(g.EuiTextColor,{color:"subdued",component:"div"},Object(f.jsx)("p",null,b.i18n.translate("xpack.lens.editorFrame.emptyWorkspaceHeading",{defaultMessage:"Lens is the recommended editor for creating visualizations"}))),Object(f.jsx)("p",{className:"lnsWorkspacePanel__actions"},Object(f.jsx)(g.EuiLink,{href:"https://www.elastic.co/products/kibana/feedback",target:"_blank",external:!0},b.i18n.translate("xpack.lens.editorFrame.goToForums",{defaultMessage:"Make requests and give feedback"}))))))),ye=()=>{pe&&be(void 0);const e=b.i18n.translate("xpack.lens.editorFrame.applyChanges",{defaultMessage:"Apply changes"});return Object(f.jsx)(g.EuiText,{className:d()("lnsWorkspacePanel__emptyContent"),textAlign:"center","data-test-subj":"workspace-apply-changes-prompt",size:"s"},Object(f.jsx)("div",null,Object(f.jsx)("img",{"aria-hidden":!0,src:he?k.a:P.a,alt:e,className:"lnsWorkspacePanel__promptIllustration"}),Object(f.jsx)("h2",null,Object(f.jsx)("strong",null,b.i18n.translate("xpack.lens.editorFrame.applyChangesWorkspacePrompt",{defaultMessage:"Apply changes to render visualization"}))),Object(f.jsx)("p",{className:"lnsWorkspacePanel__actions"},Object(f.jsx)(g.EuiButtonEmpty,{size:"s",className:O.DONT_CLOSE_DIMENSION_CONTAINER_ON_CLICK_CLASS,iconType:"checkInCircleFilled",onClick:()=>A(Object(z.b)()),"data-test-subj":"lnsApplyChanges__workspace"},e))))},je=()=>Object(f.jsx)(R,{expression:X.expressionToRender,lensInspector:D,onEvent:ge,hasCompatibleActions:fe,setLocalState:Y,localState:{...X},errors:X.errors,ExpressionRendererComponent:s,core:n,onRender$:ae,onData$:ie,onComponentRendered:()=>{ee.current=performance.now()},displayOptions:me}),[{dragging:_e}]=Object(h.c)();return Object(f.jsx)(I.c,{framePublicAPI:e,visualizationId:W.activeId,datasourceStates:V,datasourceMap:a,visualizationMap:t,isFullscreen:N,lensInspector:D,getUserMessages:C,displayOptions:pe},(()=>{var e;const t=B&&null!==(e=a[B])&&void 0!==e&&e.getCustomWorkspaceRenderer&&_e?a[B].getCustomWorkspaceRenderer(V[B].state,_e,Z.indexPatterns):void 0;if(t)return t();const n=null!==X.expressionToRender?je:$?ve:ye;return Object(f.jsx)(v.a,{className:d()("lnsWorkspacePanel__dragDrop",{"lnsWorkspacePanel__dragDrop--fullscreen":N}),dataTestSubj:"lnsWorkspace",dropTypes:c?["field_add"]:void 0,onDrop:xe,value:F.value,order:F.order},Object(f.jsx)("div",{className:"lnsWorkspacePanelWrapper__pageContentBody"},n()))})())})),R=({expression:e,lensInspector:t,onEvent:a,hasCompatibleActions:n,setLocalState:o,localState:r,errors:s,ExpressionRendererComponent:l,core:c,onRender$:d,onData$:u,onComponentRendered:p,displayOptions:g})=>{Object(i.useEffect)((()=>{p()}),[]);const m=Object(z.X)(z.A),{isRenderComplete:x,hasDynamicError:h,setIsRenderComplete:v,setDynamicError:y,nodeRef:j}=function(e){const[t,a]=Object(i.useState)(Boolean(null==e?void 0:e.length)),[n,o]=Object(i.useState)(!1),r=Object(i.useRef)(null);return Object(i.useEffect)((()=>{t&&r.current&&r.current.dispatchEvent(new CustomEvent("renderComplete",{bubbles:!0}))}),[t,e]),{isRenderComplete:t,setIsRenderComplete:a,hasDynamicError:n,setDynamicError:o,nodeRef:r}}(s),_=Object(i.useCallback)((()=>{v(!0),d()}),[v,d]),O=Object(z.X)(z.G);if(s.length){const e=b.i18n.translate("xpack.lens.editorFrame.configurationFailureErrors",{defaultMessage:"A configuration error occurred"});return Object(f.jsx)("div",{"data-shared-items-container":!0,"data-render-complete":!0,"data-shared-item":"","data-render-error":e},Object(f.jsx)(M,{errors:s,title:e}))}const w=b.i18n.translate("xpack.lens.editorFrame.dataFailure",{defaultMessage:"An error occurred when loading data"});return Object(f.jsx)("div",{className:"lnsExpressionRenderer","data-shared-items-container":!0,"data-render-complete":x,"data-shared-item":"","data-render-error":h?w:void 0,ref:j},Object(f.jsx)(l,{className:"lnsExpressionRenderer__component",padding:null!=g&&g.noPadding?void 0:"m",expression:e,allowCache:!0,searchContext:m,searchSessionId:O,onEvent:a,hasCompatibleActions:n,onData$:u,onRender$:_,inspectorAdapters:t.adapters,executionContext:A,renderMode:"edit",renderError:(e,t)=>{const a=Object(T.a)(t||null),n=a.length?a:e?[e]:[];return h||y(!0),Object(f.jsx)(M,{errors:n,title:w})}}))}},260:function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(261);case"v8light":return a(263)}},261:function(e,t,a){var n=a(81),o=a(262);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);n(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},262:function(e,t,a){(t=a(82)(!1)).push([e.i,".lnsVisToolbar__popover{width:404px}",""]),e.exports=t},263:function(e,t,a){var n=a(81),o=a(264);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);n(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},264:function(e,t,a){(t=a(82)(!1)).push([e.i,".lnsVisToolbar__popover{width:404px}",""]),e.exports=t},265:function(e,t,a){"use strict";a.d(t,"h",(function(){return n})),a.d(t,"j",(function(){return o})),a.d(t,"b",(function(){return i})),a.d(t,"d",(function(){return r})),a.d(t,"i",(function(){return s})),a.d(t,"g",(function(){return l})),a.d(t,"f",(function(){return c})),a.d(t,"c",(function(){return d})),a.d(t,"e",(function(){return u})),a.d(t,"k",(function(){return p})),a.d(t,"a",(function(){return b}));const n="positive",o="fixed",i="custom",r="above",s="percent",l=0,c=100,d=5,u="default",p="complimentary",b="complementary"},266:function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(267);case"v8light":return a(269)}},267:function(e,t,a){var n=a(81),o=a(268);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);n(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},268:function(e,t,a){(t=a(82)(!1)).push([e.i,".kbnToolbarButton{border:1px solid #343741;line-height:40px;min-width:0}.kbnToolbarButton:not(:disabled){background-color:#1d1e24}.kbnToolbarButton .kbnToolbarButton__text>svg{margin-top:-1px}.kbnToolbarButton .kbnToolbarButton__text:empty{margin:0}.kbnToolbarButton[class*=fullWidth]{text-align:left}.kbnToolbarButton[class*=fullWidth] .kbnToolbarButton__content{justify-content:space-between}.kbnToolbarButton--groupLeft{border-bottom-right-radius:0;border-top-right-radius:0}.kbnToolbarButton--groupCenter{border-left:none;border-radius:0}.kbnToolbarButton--groupRight{border-bottom-left-radius:0;border-left:none;border-top-left-radius:0}.kbnToolbarButton--bold{font-weight:700}.kbnToolbarButton--normal{font-weight:400}.kbnToolbarButton--s{box-shadow:none!important;font-size:14px}",""]),e.exports=t},269:function(e,t,a){var n=a(81),o=a(270);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);n(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},270:function(e,t,a){(t=a(82)(!1)).push([e.i,".kbnToolbarButton{border:1px solid #d3dae6;line-height:40px;min-width:0}.kbnToolbarButton:not(:disabled){background-color:#fff}.kbnToolbarButton .kbnToolbarButton__text>svg{margin-top:-1px}.kbnToolbarButton .kbnToolbarButton__text:empty{margin:0}.kbnToolbarButton[class*=fullWidth]{text-align:left}.kbnToolbarButton[class*=fullWidth] .kbnToolbarButton__content{justify-content:space-between}.kbnToolbarButton--groupLeft{border-bottom-right-radius:0;border-top-right-radius:0}.kbnToolbarButton--groupCenter{border-left:none;border-radius:0}.kbnToolbarButton--groupRight{border-bottom-left-radius:0;border-left:none;border-top-left-radius:0}.kbnToolbarButton--bold{font-weight:700}.kbnToolbarButton--normal{font-weight:400}.kbnToolbarButton--s{box-shadow:none!important;font-size:14px}",""]),e.exports=t},271:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));const n={maxWidth:550,avCharWidth:7,paddingsWidth:116};function o(e,t){const{maxWidth:a,avCharWidth:o,paddingsWidth:i,minWidth:r}={...n,...t},s=i+e*o;return r&&s<r?r:Math.min(s,a)}},272:function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(273);case"v8light":return a(275)}},273:function(e,t,a){var n=a(81),o=a(274);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);n(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},274:function(e,t,a){(t=a(82)(!1)).push([e.i,'@keyframes euiFlyoutAnimation{0%{opacity:0;transform:translateX(100%)}75%{opacity:1;transform:translateX(0)}}.lnsSettingWithSiblingFlyout{align-items:stretch;animation:euiFlyoutAnimation .25s cubic-bezier(.694,.0482,.335,1);background:#1d1e24;border-left:1px solid #343741;bottom:0;box-shadow:0 2.7px 9px rgba(0,0,0,.325),0 9.4px 24px rgba(0,0,0,.225),0 21.8px 43px #0003;display:flex;flex-direction:column;height:100%;left:0;position:fixed;position:absolute;right:0;top:0;z-index:1000;z-index:3001}.lnsSettingWithSiblingFlyout__header{padding:16px}.lnsSettingWithSiblingFlyout__content{flex:1;height:100%;overflow-x:hidden;overflow-y:auto;scrollbar-color:#98a2b380 #0000;scrollbar-width:thin}.lnsSettingWithSiblingFlyout__content::-webkit-scrollbar{height:16px;width:16px}.lnsSettingWithSiblingFlyout__content::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#98a2b380;border:6px solid #0000;border-radius:16px}.lnsSettingWithSiblingFlyout__content::-webkit-scrollbar-corner,.lnsSettingWithSiblingFlyout__content::-webkit-scrollbar-track{background-color:#0000}.lnsSettingWithSiblingFlyout__content:focus{outline:none}.lnsSettingWithSiblingFlyout__content[tabindex="0"]:focus:focus-visible{outline-style:auto}.lnsSettingWithSiblingFlyout__footer{padding:16px}',""]),e.exports=t},275:function(e,t,a){var n=a(81),o=a(276);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);n(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},276:function(e,t,a){(t=a(82)(!1)).push([e.i,'@keyframes euiFlyoutAnimation{0%{opacity:0;transform:translateX(100%)}75%{opacity:1;transform:translateX(0)}}.lnsSettingWithSiblingFlyout{align-items:stretch;animation:euiFlyoutAnimation .25s cubic-bezier(.694,.0482,.335,1);background:#fff;border-left:1px solid #d3dae6;bottom:0;box-shadow:0 2.7px 9px #00000021,0 9.4px 24px #00000017,0 21.8px 43px #00000014;display:flex;flex-direction:column;height:100%;left:0;position:fixed;position:absolute;right:0;top:0;z-index:1000;z-index:3001}.lnsSettingWithSiblingFlyout__header{padding:16px}.lnsSettingWithSiblingFlyout__content{flex:1;height:100%;overflow-x:hidden;overflow-y:auto;scrollbar-color:#69707d80 #0000;scrollbar-width:thin}.lnsSettingWithSiblingFlyout__content::-webkit-scrollbar{height:16px;width:16px}.lnsSettingWithSiblingFlyout__content::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#69707d80;border:6px solid #0000;border-radius:16px}.lnsSettingWithSiblingFlyout__content::-webkit-scrollbar-corner,.lnsSettingWithSiblingFlyout__content::-webkit-scrollbar-track{background-color:#0000}.lnsSettingWithSiblingFlyout__content:focus{outline:none}.lnsSettingWithSiblingFlyout__content[tabindex="0"]:focus:focus-visible{outline-style:auto}.lnsSettingWithSiblingFlyout__footer{padding:16px}',""]),e.exports=t},277:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(3);t.default=function(e,t){void 0===t&&(t=0);var a=n.useRef(!1),o=n.useRef(),i=n.useRef(e),r=n.useCallback((function(){return a.current}),[]),s=n.useCallback((function(){a.current=!1,o.current&&clearTimeout(o.current),o.current=setTimeout((function(){a.current=!0,i.current()}),t)}),[t]),l=n.useCallback((function(){a.current=null,o.current&&clearTimeout(o.current)}),[]);return n.useEffect((function(){i.current=e}),[e]),n.useEffect((function(){return s(),l}),[t]),[r,l,s]}},286:function(e,t,a){"use strict";e.exports=function e(t,a){if(t===a)return!0;if(t&&a&&"object"==typeof t&&"object"==typeof a){if(t.constructor!==a.constructor)return!1;var n,o,i;if(Array.isArray(t)){if((n=t.length)!=a.length)return!1;for(o=n;0!=o--;)if(!e(t[o],a[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===a.source&&t.flags===a.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===a.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===a.toString();if((n=(i=Object.keys(t)).length)!==Object.keys(a).length)return!1;for(o=n;0!=o--;)if(!Object.prototype.hasOwnProperty.call(a,i[o]))return!1;for(o=n;0!=o--;){var r=i[o];if(!("_owner"===r&&t.$$typeof||e(t[r],a[r])))return!1}return!0}return t!=t&&a!=a}},316:function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(317);case"v8light":return a(319)}},317:function(e,t,a){var n=a(81),o=a(318);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);n(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},318:function(e,t,a){(t=a(82)(!1)).push([e.i,'@keyframes euiFlyoutAnimation{0%{opacity:0;transform:translateX(100%)}75%{opacity:1;transform:translateX(0)}}.lnsDimensionContainer{align-items:stretch;animation:euiFlyoutAnimation .25s cubic-bezier(.694,.0482,.335,1);background:#1d1e24;border-left:1px solid #343741;bottom:0;box-shadow:0 2.7px 9px rgba(0,0,0,.325),0 9.4px 24px rgba(0,0,0,.225),0 21.8px 43px #0003;display:flex;flex-direction:column;height:100%;left:0;max-width:none!important;position:fixed;right:0;top:0;z-index:1000;z-index:2000}@media only screen and (min-width:768px)and (max-width:991px){.lnsDimensionContainer{height:100%!important;position:absolute;top:0!important}}@media only screen and (min-width:992px)and (max-width:1199px){.lnsDimensionContainer{height:100%!important;position:absolute;top:0!important}}@media only screen and (min-width:1200px){.lnsDimensionContainer{height:100%!important;position:absolute;top:0!important}}.lnsFrameLayout__sidebar-isFullscreen .lnsDimensionContainer{border-left:1px solid #343741;box-shadow:none}.lnsDimensionContainer__header{padding:16px}.lnsFrameLayout__sidebar-isFullscreen .lnsDimensionContainer__header{display:none}.lnsDimensionContainer__content{flex:1;height:100%;overflow-x:hidden;overflow-y:auto;scrollbar-color:#98a2b380 #0000;scrollbar-width:thin}.lnsDimensionContainer__content::-webkit-scrollbar{height:16px;width:16px}.lnsDimensionContainer__content::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#98a2b380;border:6px solid #0000;border-radius:16px}.lnsDimensionContainer__content::-webkit-scrollbar-corner,.lnsDimensionContainer__content::-webkit-scrollbar-track{background-color:#0000}.lnsDimensionContainer__content:focus{outline:none}.lnsDimensionContainer__content[tabindex="0"]:focus:focus-visible{outline-style:auto}.lnsDimensionContainer__footer{padding:16px}.lnsFrameLayout__sidebar-isFullscreen .lnsDimensionContainer__footer{display:none}.lnsBody--overflowHidden{overflow:hidden}',""]),e.exports=t},319:function(e,t,a){var n=a(81),o=a(320);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);n(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},320:function(e,t,a){(t=a(82)(!1)).push([e.i,'@keyframes euiFlyoutAnimation{0%{opacity:0;transform:translateX(100%)}75%{opacity:1;transform:translateX(0)}}.lnsDimensionContainer{align-items:stretch;animation:euiFlyoutAnimation .25s cubic-bezier(.694,.0482,.335,1);background:#fff;border-left:1px solid #d3dae6;bottom:0;box-shadow:0 2.7px 9px #00000021,0 9.4px 24px #00000017,0 21.8px 43px #00000014;display:flex;flex-direction:column;height:100%;left:0;max-width:none!important;position:fixed;right:0;top:0;z-index:1000;z-index:2000}@media only screen and (min-width:768px)and (max-width:991px){.lnsDimensionContainer{height:100%!important;position:absolute;top:0!important}}@media only screen and (min-width:992px)and (max-width:1199px){.lnsDimensionContainer{height:100%!important;position:absolute;top:0!important}}@media only screen and (min-width:1200px){.lnsDimensionContainer{height:100%!important;position:absolute;top:0!important}}.lnsFrameLayout__sidebar-isFullscreen .lnsDimensionContainer{border-left:1px solid #d3dae6;box-shadow:none}.lnsDimensionContainer__header{padding:16px}.lnsFrameLayout__sidebar-isFullscreen .lnsDimensionContainer__header{display:none}.lnsDimensionContainer__content{flex:1;height:100%;overflow-x:hidden;overflow-y:auto;scrollbar-color:#69707d80 #0000;scrollbar-width:thin}.lnsDimensionContainer__content::-webkit-scrollbar{height:16px;width:16px}.lnsDimensionContainer__content::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#69707d80;border:6px solid #0000;border-radius:16px}.lnsDimensionContainer__content::-webkit-scrollbar-corner,.lnsDimensionContainer__content::-webkit-scrollbar-track{background-color:#0000}.lnsDimensionContainer__content:focus{outline:none}.lnsDimensionContainer__content[tabindex="0"]:focus:focus-visible{outline-style:auto}.lnsDimensionContainer__footer{padding:16px}.lnsFrameLayout__sidebar-isFullscreen .lnsDimensionContainer__footer{display:none}.lnsBody--overflowHidden{overflow:hidden}',""]),e.exports=t},321:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(6),o=a(0),i=(a(3),a(4)),r=a(45),s=a(184);Object(i.jsx)("p",null,o.i18n.translate("visualizationUiComponents.configure.invalidConfigTooltip",{defaultMessage:"Invalid configuration."}),Object(i.jsx)("br",null),o.i18n.translate("visualizationUiComponents.configure.invalidConfigTooltipClick",{defaultMessage:"Click for more details."}));const l=({id:e,label:t,color:a,dataTestSubj:o})=>{let l=t;return"string"==typeof t&&(l=(null==t?void 0:t.trim().length)>0?t:s.a),Object(i.jsx)(n.EuiText,{size:"s",id:e,color:a,css:Object(i.css)("width:100%;word-break:break-word;font-weight:",r.euiThemeVars.euiFontWeightRegular,";",""),"data-test-subj":o||"lns-dimensionTrigger"},Object(i.jsx)(n.EuiFlexItem,{grow:!0},Object(i.jsx)("span",null,Object(i.jsx)("span",{className:"dimensionTrigger__textLabel",css:Object(i.css)("transition:background-color ",r.euiThemeVars.euiAnimSpeedFast," ease-in-out;&:hover{text-decoration:underline;}","")},l))))}},342:function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(343);case"v8light":return a(345)}},343:function(e,t,a){var n=a(81),o=a(344);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);n(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},344:function(e,t,a){(t=a(82)(!1)).push([e.i,".lnsDataPanelWrapper{background-color:#000;flex:1 0 100%;overflow:hidden}.lnsDataPanelWrapper__switchSource{position:absolute;right:20px;top:20px}",""]),e.exports=t},345:function(e,t,a){var n=a(81),o=a(346);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);n(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},346:function(e,t,a){(t=a(82)(!1)).push([e.i,".lnsDataPanelWrapper{background-color:#f5f7fa;flex:1 0 100%;overflow:hidden}.lnsDataPanelWrapper__switchSource{position:absolute;right:20px;top:20px}",""]),e.exports=t},347:function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(348);case"v8light":return a(350)}},348:function(e,t,a){var n=a(81),o=a(349);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);n(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},349:function(e,t,a){(t=a(82)(!1)).push([e.i,"@keyframes euiFlyoutAnimation{0%{opacity:0;transform:translateX(100%)}75%{opacity:1;transform:translateX(0)}}.lnsLayerPanel{margin-bottom:16px}.lnsLayerPanel:focus:not(:focus-visible){animation:none!important}.lnsLayerPanel__layerHeader{border-bottom:1px solid #343741;padding:16px}.lnsLayerPanel__layerSettingsWrapper{min-width:0}.lnsLayerPanel__settingsStaticHeader{padding-left:4px}.lnsLayerPanel__settingsStaticHeaderIcon{margin-right:8px;vertical-align:inherit}.lnsLayerPanel__settingsStaticHeaderTitle{display:inline}.lnsLayerPanel__row{background:#25262e;padding:16px}.lnsLayerPanel__row:last-child{border-radius:0 0 6px 6px}.lnsLayerPanel__row+.lnsLayerPanel__row{border-top:1px solid #343741;margin-top:0}.lnsLayerPanel__row>*{margin-bottom:0}.lnsLayerPanel__row .euiFormRow__fieldWrapper>*+*,.lnsLayerPanel__row>*+*{margin-top:8px}.lnsLayerPanel__group{margin:-4px -16px;padding:4px 16px}.lnsLayerPanel__styleEditor{padding:16px}.lnsLayerPanel__dimensionContainer{position:relative}.lnsLayerPanel__dimensionContainer+.lnsLayerPanel__dimensionContainer{margin-top:8px}.domDroppable--replacing .dimensionTrigger__textLabel{text-decoration:line-through}.lnsLayerPanel__dimension .lnsLayerPanel__dimensionLink:focus{background-color:#0000;outline:none;text-decoration-thickness:1px!important}.lnsLayerPanel__dimension .lnsLayerPanel__dimensionLink:focus:focus-visible{outline-style:none}.lnsLayerPanel__dimension .lnsLayerPanel__dimensionLink:focus .dimensionTrigger__textLabel{background-color:#36a2ef33;outline:2px solid currentColor}.lnsLayerPanel__dimension .lnsLayerPanel__dimensionLink:focus:focus-visible .dimensionTrigger__textLabel{outline-style:auto}.lnsLayerPanel__dimension .lnsLayerPanel__dimensionLink:focus:not(:focus-visible) .dimensionTrigger__textLabel{outline:none}",""]),e.exports=t},350:function(e,t,a){var n=a(81),o=a(351);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);n(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},351:function(e,t,a){(t=a(82)(!1)).push([e.i,"@keyframes euiFlyoutAnimation{0%{opacity:0;transform:translateX(100%)}75%{opacity:1;transform:translateX(0)}}.lnsLayerPanel{margin-bottom:16px}.lnsLayerPanel:focus:not(:focus-visible){animation:none!important}.lnsLayerPanel__layerHeader{border-bottom:1px solid #d3dae6;padding:16px}.lnsLayerPanel__layerSettingsWrapper{min-width:0}.lnsLayerPanel__settingsStaticHeader{padding-left:4px}.lnsLayerPanel__settingsStaticHeaderIcon{margin-right:8px;vertical-align:inherit}.lnsLayerPanel__settingsStaticHeaderTitle{display:inline}.lnsLayerPanel__row{background:#f5f7fa;padding:16px}.lnsLayerPanel__row:last-child{border-radius:0 0 6px 6px}.lnsLayerPanel__row+.lnsLayerPanel__row{border-top:1px solid #d3dae6;margin-top:0}.lnsLayerPanel__row>*{margin-bottom:0}.lnsLayerPanel__row .euiFormRow__fieldWrapper>*+*,.lnsLayerPanel__row>*+*{margin-top:8px}.lnsLayerPanel__group{margin:-4px -16px;padding:4px 16px}.lnsLayerPanel__styleEditor{padding:16px}.lnsLayerPanel__dimensionContainer{position:relative}.lnsLayerPanel__dimensionContainer+.lnsLayerPanel__dimensionContainer{margin-top:8px}.domDroppable--replacing .dimensionTrigger__textLabel{text-decoration:line-through}.lnsLayerPanel__dimension .lnsLayerPanel__dimensionLink:focus{background-color:#0000;outline:none;text-decoration-thickness:1px!important}.lnsLayerPanel__dimension .lnsLayerPanel__dimensionLink:focus:focus-visible{outline-style:none}.lnsLayerPanel__dimension .lnsLayerPanel__dimensionLink:focus .dimensionTrigger__textLabel{background-color:#0077cc1a;outline:2px solid currentColor}.lnsLayerPanel__dimension .lnsLayerPanel__dimensionLink:focus:focus-visible .dimensionTrigger__textLabel{outline-style:auto}.lnsLayerPanel__dimension .lnsLayerPanel__dimensionLink:focus:not(:focus-visible) .dimensionTrigger__textLabel{outline:none}",""]),e.exports=t},352:function(e,t,a){var n=a(81),o=a(353);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);n(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},353:function(e,t,a){(t=a(82)(!1)).push([e.i,".lnsChartSwitch__header>*{align-items:center;display:flex}.lnsChartSwitch__summaryIcon{color:#7a7f89;transform:translateY(-1px)}@media only screen and (min-width:1200px){.lnsChartSwitch__summaryIcon{margin-right:8px}}@media only screen and (max-width:574px){.lnsChartSwitch__summaryText{clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;left:-10000px;margin:-1px;overflow:hidden;position:absolute;top:auto;width:1px}}@media only screen and (min-width:575px)and (max-width:767px){.lnsChartSwitch__summaryText{clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;left:-10000px;margin:-1px;overflow:hidden;position:absolute;top:auto;width:1px}}@media only screen and (min-width:768px)and (max-width:991px){.lnsChartSwitch__summaryText{clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;left:-10000px;margin:-1px;overflow:hidden;position:absolute;top:auto;width:1px}}@media only screen and (min-width:992px)and (max-width:1199px){.lnsChartSwitch__summaryText{clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;left:-10000px;margin:-1px;overflow:hidden;position:absolute;top:auto;width:1px}}.lnsChartSwitch__append{display:inline-flex}img.lnsChartSwitch__chartIcon{width:100%}.lnsChartSwitch__search{width:400px}",""]),e.exports=t},354:function(e,t,a){var n=a(81),o=a(355);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);n(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},355:function(e,t,a){(t=a(82)(!1)).push([e.i,".lnsChartSwitch__header>*{align-items:center;display:flex}.lnsChartSwitch__summaryIcon{color:#69707d;transform:translateY(-1px)}@media only screen and (min-width:1200px){.lnsChartSwitch__summaryIcon{margin-right:8px}}@media only screen and (max-width:574px){.lnsChartSwitch__summaryText{clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;left:-10000px;margin:-1px;overflow:hidden;position:absolute;top:auto;width:1px}}@media only screen and (min-width:575px)and (max-width:767px){.lnsChartSwitch__summaryText{clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;left:-10000px;margin:-1px;overflow:hidden;position:absolute;top:auto;width:1px}}@media only screen and (min-width:768px)and (max-width:991px){.lnsChartSwitch__summaryText{clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;left:-10000px;margin:-1px;overflow:hidden;position:absolute;top:auto;width:1px}}@media only screen and (min-width:992px)and (max-width:1199px){.lnsChartSwitch__summaryText{clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;left:-10000px;margin:-1px;overflow:hidden;position:absolute;top:auto;width:1px}}.lnsChartSwitch__append{display:inline-flex}img.lnsChartSwitch__chartIcon{width:100%}.lnsChartSwitch__search{width:400px}",""]),e.exports=t},356:function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(357);case"v8light":return a(359)}},357:function(e,t,a){var n=a(81),o=a(358);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);n(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},358:function(e,t,a){(t=a(82)(!1)).push([e.i,".lnsLayerAddButton:hover{text-decoration:none}.lnsLayerAddButton:hover .lnsLayerAddButton__label{text-decoration:underline}.lnsLayerAddButton:hover .lnsLayerAddButton__techBadge,.lnsLayerAddButton:hover .lnsLayerAddButton__techBadge *{cursor:pointer}",""]),e.exports=t},359:function(e,t,a){var n=a(81),o=a(360);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);n(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},360:function(e,t,a){(t=a(82)(!1)).push([e.i,".lnsLayerAddButton:hover{text-decoration:none}.lnsLayerAddButton:hover .lnsLayerAddButton__label{text-decoration:underline}.lnsLayerAddButton:hover .lnsLayerAddButton__techBadge,.lnsLayerAddButton:hover .lnsLayerAddButton__techBadge *{cursor:pointer}",""]),e.exports=t},361:function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(362);case"v8light":return a(364)}},362:function(e,t,a){var n=a(81),o=a(363);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);n(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},363:function(e,t,a){(t=a(82)(!1)).push([e.i,'.domDroppable{border-radius:6px;transition:.15s ease-in-out;transition-property:background-color,border-color,opacity;z-index:1}.domDroppable:not(.domDroppable__overlayWrapper):before{border:1px dashed #0000;border-radius:6px;content:"";height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.domDraggable_ghost{left:0;margin:0!important;opacity:.9;outline:2px solid currentColor;outline-style:auto;pointer-events:none;position:absolute!important;top:0;transform:translate(8px,24px);width:100%;z-index:3}.domDroppable--active:not(.domDroppable__overlayWrapper){background-color:#54b3991a!important}.domDroppable--active:not(.domDroppable__overlayWrapper):before{border:1px dashed #0000;border-color:#54b399!important;border-radius:6px;content:"";height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.domDroppable--active>*{pointer-events:none}.domDroppable--hover:not(.domDroppable__overlayWrapper){background-color:#54b39940!important;z-index:3}.domDroppable--hover:not(.domDroppable__overlayWrapper):before{border-color:#54b399!important}.domDroppable--notAllowed{opacity:.5}.domDroppable--replacing{text-decoration:line-through}.domDroppable--incompatible:not(.domDroppable__overlayWrapper){background-color:#2e2d25!important}.domDroppable--incompatible:not(.domDroppable__overlayWrapper):before{border:1px dashed #d6bf57!important}.domDroppable--incompatible:not(.domDroppable__overlayWrapper).domDroppable--hover{background-color:#fbd01140!important}.domDroppable--incompatible:not(.domDroppable__overlayWrapper).domDroppable--hover:before{border-color:#d6bf57!important}.domDroppable__container{height:100%;position:relative;width:100%}.domDroppable__container.domDroppable__container-active{z-index:3}.domDroppable__container .domDroppable__container{position:static}.domDroppable--reorderable{height:calc(100% + 4px);position:absolute;top:0;width:100%}.domDroppable--translatable{pointer-events:none;transform:translateY(0);transition:transform .15s ease-in-out}.domDroppable--translatable .domDroppable--hover{z-index:3}.domDroppable__extraTargets{max-width:400px;opacity:0;position:absolute;right:calc(100% + 8px);top:0;transition:opacity .15s ease-in-out;visibility:hidden;width:100%;z-index:2}.domDroppable__extraTargets-visible{opacity:1;visibility:visible}.domDroppable__extraDropWrapper{background:#25262e;border-radius:4px;height:100%;position:relative;width:100%}.domDroppable__extraDropWrapper .domDroppable__extraTarget,.domDroppable__extraDropWrapper .domDroppable__extraTarget:before{border-radius:0}.domDroppable__extraDropWrapper:first-child .domDroppable__extraTarget,.domDroppable__extraDropWrapper:first-child .domDroppable__extraTarget:before{border-top-left-radius:4px;border-top-right-radius:4px}.domDroppable__extraDropWrapper:last-child .domDroppable__extraTarget,.domDroppable__extraDropWrapper:last-child .domDroppable__extraTarget:before{border-bottom-left-radius:4px;border-bottom-right-radius:4px}.domDroppable__extraDropWrapper+.domDroppable__extraDropWrapper{margin-top:-1px}.domDroppable__extraTarget{color:#7dded8;height:32px;min-width:112px;padding:4px;position:relative}.domDroppable__extraTarget.domDroppable--incompatibleExtraTarget{color:#f3d371}.domDroppable__overlayWrapper{height:100%;position:relative}.domDroppable_overlay{height:100%;left:0;position:absolute;top:0;transition:.15s ease-in-out;transition-property:background-color,border-color,opacity;width:100%;z-index:3}.domDroppable--active .domDroppable_overlay{background-color:#54b3991a!important}.domDroppable--active .domDroppable_overlay:before{border:2px dashed #0000;border-color:#54b399!important;border-radius:6px;content:"";height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.domDroppable--hover .domDroppable_overlay{background-color:#54b39940!important}.domDroppable--hover .domDroppable_overlay:before{border-color:#54b399!important}.domDragDrop-isActiveGroup{background-color:#54b39940}.domDragDrop-isActiveGroup .domDraggable_active_keyboard--reorderable .domDraggable_dragover_keyboard--copy{opacity:1}',""]),e.exports=t},364:function(e,t,a){var n=a(81),o=a(365);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);n(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},365:function(e,t,a){(t=a(82)(!1)).push([e.i,'.domDroppable{border-radius:6px;transition:.15s ease-in-out;transition-property:background-color,border-color,opacity;z-index:1}.domDroppable:not(.domDroppable__overlayWrapper):before{border:1px dashed #0000;border-radius:6px;content:"";height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.domDraggable_ghost{left:0;margin:0!important;opacity:.9;outline:2px solid currentColor;outline-style:auto;pointer-events:none;position:absolute!important;top:0;transform:translate(8px,24px);width:100%;z-index:3}.domDroppable--active:not(.domDroppable__overlayWrapper){background-color:#54b3991a!important}.domDroppable--active:not(.domDroppable__overlayWrapper):before{border:1px dashed #0000;border-color:#54b399!important;border-radius:6px;content:"";height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.domDroppable--active>*{pointer-events:none}.domDroppable--hover:not(.domDroppable__overlayWrapper){background-color:#54b39940!important;z-index:3}.domDroppable--hover:not(.domDroppable__overlayWrapper):before{border-color:#54b399!important}.domDroppable--notAllowed{opacity:.5}.domDroppable--replacing{text-decoration:line-through}.domDroppable--incompatible:not(.domDroppable__overlayWrapper){background-color:#fff9e8!important}.domDroppable--incompatible:not(.domDroppable__overlayWrapper):before{border:1px dashed #d6bf57!important}.domDroppable--incompatible:not(.domDroppable__overlayWrapper).domDroppable--hover{background-color:#fbd01140!important}.domDroppable--incompatible:not(.domDroppable__overlayWrapper).domDroppable--hover:before{border-color:#d6bf57!important}.domDroppable__container{height:100%;position:relative;width:100%}.domDroppable__container.domDroppable__container-active{z-index:3}.domDroppable__container .domDroppable__container{position:static}.domDroppable--reorderable{height:calc(100% + 4px);position:absolute;top:0;width:100%}.domDroppable--translatable{pointer-events:none;transform:translateY(0);transition:transform .15s ease-in-out}.domDroppable--translatable .domDroppable--hover{z-index:3}.domDroppable__extraTargets{max-width:400px;opacity:0;position:absolute;right:calc(100% + 8px);top:0;transition:opacity .15s ease-in-out;visibility:hidden;width:100%;z-index:2}.domDroppable__extraTargets-visible{opacity:1;visibility:visible}.domDroppable__extraDropWrapper{background:#f5f7fa;border-radius:4px;height:100%;position:relative;width:100%}.domDroppable__extraDropWrapper .domDroppable__extraTarget,.domDroppable__extraDropWrapper .domDroppable__extraTarget:before{border-radius:0}.domDroppable__extraDropWrapper:first-child .domDroppable__extraTarget,.domDroppable__extraDropWrapper:first-child .domDroppable__extraTarget:before{border-top-left-radius:4px;border-top-right-radius:4px}.domDroppable__extraDropWrapper:last-child .domDroppable__extraTarget,.domDroppable__extraDropWrapper:last-child .domDroppable__extraTarget:before{border-bottom-left-radius:4px;border-bottom-right-radius:4px}.domDroppable__extraDropWrapper+.domDroppable__extraDropWrapper{margin-top:-1px}.domDroppable__extraTarget{color:#007e77;height:32px;min-width:112px;padding:4px;position:relative}.domDroppable__extraTarget.domDroppable--incompatibleExtraTarget{color:#8a6a0a}.domDroppable__overlayWrapper{height:100%;position:relative}.domDroppable_overlay{height:100%;left:0;position:absolute;top:0;transition:.15s ease-in-out;transition-property:background-color,border-color,opacity;width:100%;z-index:3}.domDroppable--active .domDroppable_overlay{background-color:#54b3991a!important}.domDroppable--active .domDroppable_overlay:before{border:2px dashed #0000;border-color:#54b399!important;border-radius:6px;content:"";height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.domDroppable--hover .domDroppable_overlay{background-color:#54b39940!important}.domDroppable--hover .domDroppable_overlay:before{border-color:#54b399!important}.domDragDrop-isActiveGroup{background-color:#54b39940}.domDragDrop-isActiveGroup .domDraggable_active_keyboard--reorderable .domDraggable_dragover_keyboard--copy{opacity:1}',""]),e.exports=t},366:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(39),o=a(367),i=n.__importDefault(a(192)),r=function(e,t){return e.every((function(e,a){return o.equal(e,t[a])}))};t.default=function(e,t){i.default(e,t,r)}},367:function(e,t){var a=Object.keys;t.equal=function(e,t){if(e===t)return!0;if(!(e instanceof Object&&t instanceof Object))return!1;for(var n=a(e),o=n.length,i=0;i<o;i++)if(!(n[i]in t))return!1;for(i=0;i<o;i++)if(e[n[i]]!==t[n[i]])return!1;return o===a(t).length}},368:function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(369);case"v8light":return a(371)}},369:function(e,t,a){var n=a(81),o=a(370);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);n(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},370:function(e,t,a){(t=a(82)(!1)).push([e.i,".domDraggable{border-radius:6px;cursor:grab;transition:.15s ease-in-out;transition-property:background-color,border-color,opacity;z-index:1}.domDraggable:hover{transform:translateX(4px);transition:transform .35s ease-out}.domDraggable .euiLink,.domDraggable .kbnFieldButton__button{cursor:grab}.domDraggable:focus{outline:2px solid currentColor}.domDraggable:focus:focus-visible{outline-style:auto}.domDraggable:focus:not(:focus-visible){outline:none}.domDraggable--reorderable{position:relative;transform:translateY(0);transition:transform .15s ease-in-out;z-index:1}.domDraggable__keyboardHandler{border-radius:6px;height:100%;position:absolute;top:0;width:100%}.domDraggable__keyboardHandler:focus,.domDraggable__keyboardHandler:focus-within{outline:2px solid currentColor;pointer-events:none;z-index:2}.domDraggable__keyboardHandler:focus-within:focus-visible,.domDraggable__keyboardHandler:focus:focus-visible{outline-style:auto}.domDraggable__keyboardHandler:focus-within:not(:focus-visible),.domDraggable__keyboardHandler:focus:not(:focus-visible){outline:none}.domDraggable_active--move,.domDraggable_dragover_keyboard--move{opacity:0}",""]),e.exports=t},371:function(e,t,a){var n=a(81),o=a(372);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);n(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},372:function(e,t,a){(t=a(82)(!1)).push([e.i,".domDraggable{border-radius:6px;cursor:grab;transition:.15s ease-in-out;transition-property:background-color,border-color,opacity;z-index:1}.domDraggable:hover{transform:translateX(4px);transition:transform .35s ease-out}.domDraggable .euiLink,.domDraggable .kbnFieldButton__button{cursor:grab}.domDraggable:focus{outline:2px solid currentColor}.domDraggable:focus:focus-visible{outline-style:auto}.domDraggable:focus:not(:focus-visible){outline:none}.domDraggable--reorderable{position:relative;transform:translateY(0);transition:transform .15s ease-in-out;z-index:1}.domDraggable__keyboardHandler{border-radius:6px;height:100%;position:absolute;top:0;width:100%}.domDraggable__keyboardHandler:focus,.domDraggable__keyboardHandler:focus-within{outline:2px solid currentColor;pointer-events:none;z-index:2}.domDraggable__keyboardHandler:focus-within:focus-visible,.domDraggable__keyboardHandler:focus:focus-visible{outline-style:auto}.domDraggable__keyboardHandler:focus-within:not(:focus-visible),.domDraggable__keyboardHandler:focus:not(:focus-visible){outline:none}.domDraggable_active--move,.domDraggable_dragover_keyboard--move{opacity:0}",""]),e.exports=t},373:function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(374);case"v8light":return a(376)}},374:function(e,t,a){var n=a(81),o=a(375);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);n(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},375:function(e,t,a){(t=a(82)(!1)).push([e.i,'.lnsFrameLayout{bottom:0;flex-direction:column;left:0;overflow:hidden;padding:0;position:absolute;right:0;top:0}@media only screen and (max-width:574px){.lnsFrameLayout{position:static}}@media only screen and (min-width:575px)and (max-width:767px){.lnsFrameLayout{position:static}}@media only screen and (min-width:768px)and (max-width:991px){.lnsFrameLayout{position:static}}.lnsFrameLayout__wrapper{position:relative}.lnsFrameLayout__pageContent{flex-direction:row;flex-grow:1;overflow:hidden}@media only screen and (max-width:574px){.lnsFrameLayout__pageContent{flex-wrap:wrap;overflow:auto}.lnsFrameLayout__pageContent>*{flex-basis:100%}.lnsFrameLayout__pageContent>.lnsFrameLayout__sidebar{min-height:360px}}@media only screen and (min-width:575px)and (max-width:767px){.lnsFrameLayout__pageContent{flex-wrap:wrap;overflow:auto}.lnsFrameLayout__pageContent>*{flex-basis:100%}.lnsFrameLayout__pageContent>.lnsFrameLayout__sidebar{min-height:360px}}@media only screen and (min-width:768px)and (max-width:991px){.lnsFrameLayout__pageContent{flex-wrap:wrap;overflow:auto}.lnsFrameLayout__pageContent>*{flex-basis:100%}.lnsFrameLayout__pageContent>.lnsFrameLayout__sidebar{min-height:360px}}.visEditor{display:flex;flex:1 1 auto;flex-direction:column;height:100%}.visEditor>*{flex-shrink:0}@media only screen and (max-width:574px){.visEditor .visualization{min-height:360px}}@media only screen and (min-width:575px)and (max-width:767px){.visEditor .visualization{min-height:360px}}@media only screen and (min-width:768px)and (max-width:991px){.visEditor .visualization{min-height:360px}}.visEditor>.visualize{display:flex;flex:1 1 auto;height:100%;z-index:0}.lnsFrameLayout__pageBody{display:flex;flex:1 1 100%;flex-direction:column;min-width:320px;overflow:hidden auto;padding:16px 16px 0;position:relative;scrollbar-color:#98a2b380 #0000;scrollbar-width:thin;z-index:1}.lnsFrameLayout__pageBody::-webkit-scrollbar{height:16px;width:16px}.lnsFrameLayout__pageBody::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#98a2b380;border:6px solid #0000;border-radius:16px}.lnsFrameLayout__pageBody::-webkit-scrollbar-corner,.lnsFrameLayout__pageBody::-webkit-scrollbar-track{background-color:#0000}.lnsFrameLayout__pageBody:first-child{padding-left:16px}.lnsFrameLayout__pageBody.lnsFrameLayout__pageBody-isFullscreen{flex:1;padding:0}.lnsFrameLayout__sidebar{display:flex;flex:1 0 18%;flex-direction:column;margin:0;min-width:304px;position:relative}.lnsFrameLayout-isFullscreen .lnsFrameLayout__sidebar--left{display:none}.lnsFrameLayout__sidebar--right{background-color:#000;flex-basis:25%;max-height:100%;max-width:440px;min-width:358px}@media only screen and (max-width:574px){.lnsFrameLayout__sidebar--right{max-width:100%}}@media only screen and (min-width:575px)and (max-width:767px){.lnsFrameLayout__sidebar--right{max-width:100%}}@media only screen and (min-width:768px)and (max-width:991px){.lnsFrameLayout__sidebar--right{max-width:100%}}.lnsFrameLayout__sidebar--right .lnsConfigPanel{height:100%;margin-left:-400px;overflow-x:hidden;overflow-y:auto;padding:16px 16px 32px 416px;scrollbar-color:#98a2b380 #0000;scrollbar-width:thin}.lnsFrameLayout__sidebar--right .lnsConfigPanel::-webkit-scrollbar{height:16px;width:16px}.lnsFrameLayout__sidebar--right .lnsConfigPanel::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#98a2b380;border:6px solid #0000;border-radius:16px}.lnsFrameLayout__sidebar--right .lnsConfigPanel::-webkit-scrollbar-corner,.lnsFrameLayout__sidebar--right .lnsConfigPanel::-webkit-scrollbar-track{background-color:#0000}.lnsFrameLayout__sidebar--right .lnsConfigPanel:focus{outline:none}.lnsFrameLayout__sidebar--right .lnsConfigPanel[tabindex="0"]:focus:focus-visible{outline-style:auto}@media only screen and (max-width:574px){.lnsFrameLayout__sidebar--right .lnsConfigPanel{margin-left:0;padding-left:16px}}@media only screen and (min-width:575px)and (max-width:767px){.lnsFrameLayout__sidebar--right .lnsConfigPanel{margin-left:0;padding-left:16px}}@media only screen and (min-width:768px)and (max-width:991px){.lnsFrameLayout__sidebar--right .lnsConfigPanel{margin-left:0;padding-left:16px}}.lnsFrameLayout__sidebar-isFullscreen{flex:1;max-width:none}',""]),e.exports=t},376:function(e,t,a){var n=a(81),o=a(377);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);n(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},377:function(e,t,a){(t=a(82)(!1)).push([e.i,'.lnsFrameLayout{bottom:0;flex-direction:column;left:0;overflow:hidden;padding:0;position:absolute;right:0;top:0}@media only screen and (max-width:574px){.lnsFrameLayout{position:static}}@media only screen and (min-width:575px)and (max-width:767px){.lnsFrameLayout{position:static}}@media only screen and (min-width:768px)and (max-width:991px){.lnsFrameLayout{position:static}}.lnsFrameLayout__wrapper{position:relative}.lnsFrameLayout__pageContent{flex-direction:row;flex-grow:1;overflow:hidden}@media only screen and (max-width:574px){.lnsFrameLayout__pageContent{flex-wrap:wrap;overflow:auto}.lnsFrameLayout__pageContent>*{flex-basis:100%}.lnsFrameLayout__pageContent>.lnsFrameLayout__sidebar{min-height:360px}}@media only screen and (min-width:575px)and (max-width:767px){.lnsFrameLayout__pageContent{flex-wrap:wrap;overflow:auto}.lnsFrameLayout__pageContent>*{flex-basis:100%}.lnsFrameLayout__pageContent>.lnsFrameLayout__sidebar{min-height:360px}}@media only screen and (min-width:768px)and (max-width:991px){.lnsFrameLayout__pageContent{flex-wrap:wrap;overflow:auto}.lnsFrameLayout__pageContent>*{flex-basis:100%}.lnsFrameLayout__pageContent>.lnsFrameLayout__sidebar{min-height:360px}}.visEditor{display:flex;flex:1 1 auto;flex-direction:column;height:100%}.visEditor>*{flex-shrink:0}@media only screen and (max-width:574px){.visEditor .visualization{min-height:360px}}@media only screen and (min-width:575px)and (max-width:767px){.visEditor .visualization{min-height:360px}}@media only screen and (min-width:768px)and (max-width:991px){.visEditor .visualization{min-height:360px}}.visEditor>.visualize{display:flex;flex:1 1 auto;height:100%;z-index:0}.lnsFrameLayout__pageBody{display:flex;flex:1 1 100%;flex-direction:column;min-width:320px;overflow:hidden auto;padding:16px 16px 0;position:relative;scrollbar-color:#69707d80 #0000;scrollbar-width:thin;z-index:1}.lnsFrameLayout__pageBody::-webkit-scrollbar{height:16px;width:16px}.lnsFrameLayout__pageBody::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#69707d80;border:6px solid #0000;border-radius:16px}.lnsFrameLayout__pageBody::-webkit-scrollbar-corner,.lnsFrameLayout__pageBody::-webkit-scrollbar-track{background-color:#0000}.lnsFrameLayout__pageBody:first-child{padding-left:16px}.lnsFrameLayout__pageBody.lnsFrameLayout__pageBody-isFullscreen{flex:1;padding:0}.lnsFrameLayout__sidebar{display:flex;flex:1 0 18%;flex-direction:column;margin:0;min-width:304px;position:relative}.lnsFrameLayout-isFullscreen .lnsFrameLayout__sidebar--left{display:none}.lnsFrameLayout__sidebar--right{background-color:#f5f7fa;flex-basis:25%;max-height:100%;max-width:440px;min-width:358px}@media only screen and (max-width:574px){.lnsFrameLayout__sidebar--right{max-width:100%}}@media only screen and (min-width:575px)and (max-width:767px){.lnsFrameLayout__sidebar--right{max-width:100%}}@media only screen and (min-width:768px)and (max-width:991px){.lnsFrameLayout__sidebar--right{max-width:100%}}.lnsFrameLayout__sidebar--right .lnsConfigPanel{height:100%;margin-left:-400px;overflow-x:hidden;overflow-y:auto;padding:16px 16px 32px 416px;scrollbar-color:#69707d80 #0000;scrollbar-width:thin}.lnsFrameLayout__sidebar--right .lnsConfigPanel::-webkit-scrollbar{height:16px;width:16px}.lnsFrameLayout__sidebar--right .lnsConfigPanel::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#69707d80;border:6px solid #0000;border-radius:16px}.lnsFrameLayout__sidebar--right .lnsConfigPanel::-webkit-scrollbar-corner,.lnsFrameLayout__sidebar--right .lnsConfigPanel::-webkit-scrollbar-track{background-color:#0000}.lnsFrameLayout__sidebar--right .lnsConfigPanel:focus{outline:none}.lnsFrameLayout__sidebar--right .lnsConfigPanel[tabindex="0"]:focus:focus-visible{outline-style:auto}@media only screen and (max-width:574px){.lnsFrameLayout__sidebar--right .lnsConfigPanel{margin-left:0;padding-left:16px}}@media only screen and (min-width:575px)and (max-width:767px){.lnsFrameLayout__sidebar--right .lnsConfigPanel{margin-left:0;padding-left:16px}}@media only screen and (min-width:768px)and (max-width:991px){.lnsFrameLayout__sidebar--right .lnsConfigPanel{margin-left:0;padding-left:16px}}.lnsFrameLayout__sidebar-isFullscreen{flex:1;max-width:none}',""]),e.exports=t},378:function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(379);case"v8light":return a(381)}},379:function(e,t,a){var n=a(81),o=a(380);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);n(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},380:function(e,t,a){(t=a(82)(!1)).push([e.i,"@keyframes euiFlyoutAnimation{0%{opacity:0;transform:translateX(100%)}75%{opacity:1;transform:translateX(0)}}.lnsSuggestionPanel .euiAccordion__buttonContent{width:100%}.lnsSuggestionPanel__suggestions{display:flex;margin-left:-4px;margin-right:-4px;-webkit-mask-image:linear-gradient(90deg,#f86b631a 0,#f86b63 5px,#f86b63 calc(100% - 5px),#f86b631a);mask-image:linear-gradient(90deg,#f86b631a 0,#f86b63 5px,#f86b63 calc(100% - 5px),#f86b631a);overflow-x:scroll;overflow-y:hidden;padding-left:4px;padding-right:4px;padding-top:4px;scrollbar-color:#98a2b380 #0000;scrollbar-width:thin}.lnsSuggestionPanel__suggestions::-webkit-scrollbar{height:16px;width:16px}.lnsSuggestionPanel__suggestions::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#98a2b380;border:6px solid #0000;border-radius:16px}.lnsSuggestionPanel__suggestions::-webkit-scrollbar-corner,.lnsSuggestionPanel__suggestions::-webkit-scrollbar-track{background-color:#0000}.lnsSuggestionPanel__button{box-shadow:none!important;flex:0 0 auto;height:100px;margin-bottom:2px;margin-left:2px;margin-right:8px;padding:0 8px;position:relative}.lnsSuggestionPanel__button:focus{outline:2px solid currentColor;transform:none!important}.lnsSuggestionPanel__button:focus:focus-visible{outline-style:auto}.lnsSuggestionPanel__button:focus:not(:focus-visible){outline:none}.lnsSuggestionPanel__button .lnsSuggestionPanel__expressionRenderer{position:static}.lnsSuggestionPanel__button-isSelected{background-color:#25262e!important;border-color:#535966!important}.lnsSuggestionPanel__button-isSelected:not(:focus){box-shadow:none!important}.lnsSuggestionPanel__button-isSelected:focus{outline:2px solid currentColor}.lnsSuggestionPanel__button-isSelected:focus:focus-visible{outline-style:auto}.lnsSuggestionPanel__button-isSelected:focus:not(:focus-visible){outline:none}.lnsSuggestionPanel__button-isSelected:hover{transform:none!important}.lnsSuggestionPanel__button-fixedWidth{width:150px!important}.lnsSuggestionPanel__suggestionIcon{align-items:center;color:#98a2b3;display:flex;height:100%;justify-content:center;padding:8px;width:100%}.lnsSuggestionPanel__suggestionIcon:not(:only-child){height:calc(100% - 24px)}.lnsSuggestionPanel__chartWrapper{display:flex;height:100%;pointer-events:none;width:100%}.lnsSuggestionPanel__chartWrapper--withLabel{height:calc(100% - 24px)}.lnsSuggestionPanel__buttonLabel{display:block;flex-grow:0;font-size:12px;font-size:.8571428571rem;font-weight:700;line-height:1.1428571429rem;max-width:100%;overflow:hidden!important;text-align:center;text-overflow:ellipsis!important;white-space:nowrap!important}.lnsSuggestionPanel__applyChangesPrompt{align-items:center;background-color:#25262e!important;display:flex;flex-direction:column;height:100px;justify-content:center}",""]),e.exports=t},381:function(e,t,a){var n=a(81),o=a(382);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);n(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},382:function(e,t,a){(t=a(82)(!1)).push([e.i,"@keyframes euiFlyoutAnimation{0%{opacity:0;transform:translateX(100%)}75%{opacity:1;transform:translateX(0)}}.lnsSuggestionPanel .euiAccordion__buttonContent{width:100%}.lnsSuggestionPanel__suggestions{display:flex;margin-left:-4px;margin-right:-4px;-webkit-mask-image:linear-gradient(90deg,#bd271e1a 0,#bd271e 5px,#bd271e calc(100% - 5px),#bd271e1a);mask-image:linear-gradient(90deg,#bd271e1a 0,#bd271e 5px,#bd271e calc(100% - 5px),#bd271e1a);overflow-x:scroll;overflow-y:hidden;padding-left:4px;padding-right:4px;padding-top:4px;scrollbar-color:#69707d80 #0000;scrollbar-width:thin}.lnsSuggestionPanel__suggestions::-webkit-scrollbar{height:16px;width:16px}.lnsSuggestionPanel__suggestions::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#69707d80;border:6px solid #0000;border-radius:16px}.lnsSuggestionPanel__suggestions::-webkit-scrollbar-corner,.lnsSuggestionPanel__suggestions::-webkit-scrollbar-track{background-color:#0000}.lnsSuggestionPanel__button{box-shadow:none!important;flex:0 0 auto;height:100px;margin-bottom:2px;margin-left:2px;margin-right:8px;padding:0 8px;position:relative}.lnsSuggestionPanel__button:focus{outline:2px solid currentColor;transform:none!important}.lnsSuggestionPanel__button:focus:focus-visible{outline-style:auto}.lnsSuggestionPanel__button:focus:not(:focus-visible){outline:none}.lnsSuggestionPanel__button .lnsSuggestionPanel__expressionRenderer{position:static}.lnsSuggestionPanel__button-isSelected{background-color:#f5f7fa!important;border-color:#98a2b3!important}.lnsSuggestionPanel__button-isSelected:not(:focus){box-shadow:none!important}.lnsSuggestionPanel__button-isSelected:focus{outline:2px solid currentColor}.lnsSuggestionPanel__button-isSelected:focus:focus-visible{outline-style:auto}.lnsSuggestionPanel__button-isSelected:focus:not(:focus-visible){outline:none}.lnsSuggestionPanel__button-isSelected:hover{transform:none!important}.lnsSuggestionPanel__button-fixedWidth{width:150px!important}.lnsSuggestionPanel__suggestionIcon{align-items:center;color:#69707d;display:flex;height:100%;justify-content:center;padding:8px;width:100%}.lnsSuggestionPanel__suggestionIcon:not(:only-child){height:calc(100% - 24px)}.lnsSuggestionPanel__chartWrapper{display:flex;height:100%;pointer-events:none;width:100%}.lnsSuggestionPanel__chartWrapper--withLabel{height:calc(100% - 24px)}.lnsSuggestionPanel__buttonLabel{display:block;flex-grow:0;font-size:12px;font-size:.8571428571rem;font-weight:700;line-height:1.1428571429rem;max-width:100%;overflow:hidden!important;text-align:center;text-overflow:ellipsis!important;white-space:nowrap!important}.lnsSuggestionPanel__applyChangesPrompt{align-items:center;background-color:#f5f7fa!important;display:flex;flex-direction:column;height:100px;justify-content:center}",""]),e.exports=t},383:function(e,t,a){var n=a(81),o=a(384);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);n(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},384:function(e,t,a){(t=a(82)(!1)).push([e.i,"@keyframes euiFlyoutAnimation{0%{opacity:0;transform:translateX(100%)}75%{opacity:1;transform:translateX(0)}}.lnsWorkspacePanelWrapper{display:flex;flex-direction:column;height:100%;margin-bottom:16px;min-height:400px;overflow:visible;position:relative}.lnsWorkspacePanelWrapper .lnsWorkspacePanelWrapper__content{height:100%;position:absolute;width:100%}.lnsWorkspacePanelWrapper .lnsWorkspacePanelWrapper__pageContentBody{align-items:stretch;background:#1d1e24;border-radius:6px;box-shadow:0 .9px 4px -1px #0003,0 2.6px 8px -1px #00000026,0 5.7px 12px -1px rgba(0,0,0,.125),0 15px 15px -1px #0000001a;display:flex;flex-grow:1;height:100%;justify-content:stretch;scrollbar-color:#98a2b380 #0000;scrollbar-width:thin}.lnsWorkspacePanelWrapper .lnsWorkspacePanelWrapper__pageContentBody::-webkit-scrollbar{height:16px;width:16px}.lnsWorkspacePanelWrapper .lnsWorkspacePanelWrapper__pageContentBody::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#98a2b380;border:6px solid #0000;border-radius:16px}.lnsWorkspacePanelWrapper .lnsWorkspacePanelWrapper__pageContentBody::-webkit-scrollbar-corner,.lnsWorkspacePanelWrapper .lnsWorkspacePanelWrapper__pageContentBody::-webkit-scrollbar-track{background-color:#0000}.lnsWorkspacePanelWrapper .lnsWorkspacePanelWrapper__pageContentBody>*{align-items:center;display:flex;flex:1 1 100%;justify-content:center;overflow:hidden}.lnsWorkspacePanelWrapper.lnsWorkspacePanelWrapper--fullscreen{margin-bottom:0}.lnsWorkspacePanelWrapper.lnsWorkspacePanelWrapper--fullscreen .lnsWorkspacePanelWrapper__pageContentBody{box-shadow:none}.lnsWorkspacePanel__dragDrop.domDroppable--active p{filter:blur(5px);transition:filter .15s ease-in-out}.lnsWorkspacePanel__dragDrop.domDroppable--active .lnsExpressionRenderer{filter:blur(4px);opacity:.25;transition:filter .25s ease-in-out,opacity .25s ease-in-out}.lnsWorkspacePanel__dragDrop.domDroppable--hover .lnsDropIllustration__hand{animation:lnsWorkspacePanel__illustrationPulseContinuous 1.5s ease-in-out 0s infinite normal forwards}.lnsWorkspacePanel__dragDrop.lnsWorkspacePanel__dragDrop--fullscreen{border:none}.lnsWorkspacePanel__emptyContent{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;transition:background-color .15s ease-in-out}.lnsWorkspacePanel__emptyContent .lnsWorkspacePanel__actions{margin-top:24px}.lnsWorkspacePanelWrapper__toolbar{margin-bottom:4px}.lnsWorkspacePanelWrapper__toolbar--fullscreen{background-color:#1d1e24;justify-content:flex-end;margin-bottom:0;padding:8px 8px 0}@media only screen and (max-width:574px){.lnsWorkspacePanelWrapper__applyButton .euiButton__text{clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;left:-10000px;margin:-1px;overflow:hidden;position:absolute;top:auto;width:1px}}@media only screen and (min-width:575px)and (max-width:767px){.lnsWorkspacePanelWrapper__applyButton .euiButton__text{clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;left:-10000px;margin:-1px;overflow:hidden;position:absolute;top:auto;width:1px}}@media only screen and (min-width:768px)and (max-width:991px){.lnsWorkspacePanelWrapper__applyButton .euiButton__text{clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;left:-10000px;margin:-1px;overflow:hidden;position:absolute;top:auto;width:1px}}@media only screen and (min-width:992px)and (max-width:1199px){.lnsWorkspacePanelWrapper__applyButton .euiButton__text{clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;left:-10000px;margin:-1px;overflow:hidden;position:absolute;top:auto;width:1px}}.lnsWorkspacePanel__promptIllustration{margin:0 auto -16px;max-height:176px;max-width:176px;overflow:visible}.lnsWorkspacePanel__dropIllustration{filter:drop-shadow(0 6px 12px rgba(0,0,0,.2)) drop-shadow(0 4px 4px rgba(0,0,0,.2)) drop-shadow(0 2px 2px rgba(0,0,0,.2))}.lnsDropIllustration__adjustFill{fill:#fff}.lnsDropIllustration__hand{animation:lnsWorkspacePanel__illustrationPulseArrow 5s ease-in-out 0s infinite normal forwards}@keyframes lnsWorkspacePanel__illustrationPulseArrow{0%{transform:translateY(0)}65%{transform:translateY(0)}72%{transform:translateY(10%)}79%{transform:translateY(7%)}86%{transform:translateY(10%)}95%{transform:translateY(0)}}@keyframes lnsWorkspacePanel__illustrationPulseContinuous{0%{transform:translateY(10%)}25%{transform:translateY(15%)}50%{transform:translateY(10%)}75%{transform:translateY(15%)}to{transform:translateY(10%)}}.lnsVisualizationToolbar--fixed{background-color:#25262e;position:fixed;width:100%;z-index:1}",""]),e.exports=t},385:function(e,t,a){var n=a(81),o=a(386);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);n(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},386:function(e,t,a){(t=a(82)(!1)).push([e.i,"@keyframes euiFlyoutAnimation{0%{opacity:0;transform:translateX(100%)}75%{opacity:1;transform:translateX(0)}}.lnsWorkspacePanelWrapper{display:flex;flex-direction:column;height:100%;margin-bottom:16px;min-height:400px;overflow:visible;position:relative}.lnsWorkspacePanelWrapper .lnsWorkspacePanelWrapper__content{height:100%;position:absolute;width:100%}.lnsWorkspacePanelWrapper .lnsWorkspacePanelWrapper__pageContentBody{align-items:stretch;background:#fff;border-radius:6px;box-shadow:0 .9px 4px -1px #00000014,0 2.6px 8px -1px #0000000f,0 5.7px 12px -1px #0000000d,0 15px 15px -1px #0000000a;display:flex;flex-grow:1;height:100%;justify-content:stretch;scrollbar-color:#69707d80 #0000;scrollbar-width:thin}.lnsWorkspacePanelWrapper .lnsWorkspacePanelWrapper__pageContentBody::-webkit-scrollbar{height:16px;width:16px}.lnsWorkspacePanelWrapper .lnsWorkspacePanelWrapper__pageContentBody::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#69707d80;border:6px solid #0000;border-radius:16px}.lnsWorkspacePanelWrapper .lnsWorkspacePanelWrapper__pageContentBody::-webkit-scrollbar-corner,.lnsWorkspacePanelWrapper .lnsWorkspacePanelWrapper__pageContentBody::-webkit-scrollbar-track{background-color:#0000}.lnsWorkspacePanelWrapper .lnsWorkspacePanelWrapper__pageContentBody>*{align-items:center;display:flex;flex:1 1 100%;justify-content:center;overflow:hidden}.lnsWorkspacePanelWrapper.lnsWorkspacePanelWrapper--fullscreen{margin-bottom:0}.lnsWorkspacePanelWrapper.lnsWorkspacePanelWrapper--fullscreen .lnsWorkspacePanelWrapper__pageContentBody{box-shadow:none}.lnsWorkspacePanel__dragDrop.domDroppable--active p{filter:blur(5px);transition:filter .15s ease-in-out}.lnsWorkspacePanel__dragDrop.domDroppable--active .lnsExpressionRenderer{filter:blur(4px);opacity:.25;transition:filter .25s ease-in-out,opacity .25s ease-in-out}.lnsWorkspacePanel__dragDrop.domDroppable--hover .lnsDropIllustration__hand{animation:lnsWorkspacePanel__illustrationPulseContinuous 1.5s ease-in-out 0s infinite normal forwards}.lnsWorkspacePanel__dragDrop.lnsWorkspacePanel__dragDrop--fullscreen{border:none}.lnsWorkspacePanel__emptyContent{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;transition:background-color .15s ease-in-out}.lnsWorkspacePanel__emptyContent .lnsWorkspacePanel__actions{margin-top:24px}.lnsWorkspacePanelWrapper__toolbar{margin-bottom:4px}.lnsWorkspacePanelWrapper__toolbar--fullscreen{background-color:#fff;justify-content:flex-end;margin-bottom:0;padding:8px 8px 0}@media only screen and (max-width:574px){.lnsWorkspacePanelWrapper__applyButton .euiButton__text{clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;left:-10000px;margin:-1px;overflow:hidden;position:absolute;top:auto;width:1px}}@media only screen and (min-width:575px)and (max-width:767px){.lnsWorkspacePanelWrapper__applyButton .euiButton__text{clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;left:-10000px;margin:-1px;overflow:hidden;position:absolute;top:auto;width:1px}}@media only screen and (min-width:768px)and (max-width:991px){.lnsWorkspacePanelWrapper__applyButton .euiButton__text{clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;left:-10000px;margin:-1px;overflow:hidden;position:absolute;top:auto;width:1px}}@media only screen and (min-width:992px)and (max-width:1199px){.lnsWorkspacePanelWrapper__applyButton .euiButton__text{clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;left:-10000px;margin:-1px;overflow:hidden;position:absolute;top:auto;width:1px}}.lnsWorkspacePanel__promptIllustration{margin:0 auto -16px;max-height:176px;max-width:176px;overflow:visible}.lnsWorkspacePanel__dropIllustration{filter:drop-shadow(0 6px 12px rgba(0,0,0,.2)) drop-shadow(0 4px 4px rgba(0,0,0,.2)) drop-shadow(0 2px 2px rgba(0,0,0,.2))}.lnsDropIllustration__adjustFill{fill:#000}.lnsDropIllustration__hand{animation:lnsWorkspacePanel__illustrationPulseArrow 5s ease-in-out 0s infinite normal forwards}@keyframes lnsWorkspacePanel__illustrationPulseArrow{0%{transform:translateY(0)}65%{transform:translateY(0)}72%{transform:translateY(10%)}79%{transform:translateY(7%)}86%{transform:translateY(10%)}95%{transform:translateY(0)}}@keyframes lnsWorkspacePanel__illustrationPulseContinuous{0%{transform:translateY(10%)}25%{transform:translateY(15%)}50%{transform:translateY(10%)}75%{transform:translateY(15%)}to{transform:translateY(10%)}}.lnsVisualizationToolbar--fixed{background-color:#f5f7fa;position:fixed;width:100%;z-index:1}",""]),e.exports=t},387:function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(388);case"v8light":return a(390)}},388:function(e,t,a){var n=a(81),o=a(389);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);n(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},389:function(e,t,a){(t=a(82)(!1)).push([e.i,'@media only screen and (max-width:574px){.lnsWorkspaceWarning__buttonText{clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;left:-10000px;margin:-1px;overflow:hidden;position:absolute;top:auto;width:1px}}@media only screen and (min-width:575px)and (max-width:767px){.lnsWorkspaceWarning__buttonText{clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;left:-10000px;margin:-1px;overflow:hidden;position:absolute;top:auto;width:1px}}@media only screen and (min-width:768px)and (max-width:991px){.lnsWorkspaceWarning__buttonText{clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;left:-10000px;margin:-1px;overflow:hidden;position:absolute;top:auto;width:1px}}@media only screen and (min-width:992px)and (max-width:1199px){.lnsWorkspaceWarning__buttonText{clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;left:-10000px;margin:-1px;overflow:hidden;position:absolute;top:auto;width:1px}}.lnsWorkspaceWarningList{height:100%;max-height:320px;overflow-x:hidden;overflow-y:auto;scrollbar-color:#98a2b380 #0000;scrollbar-width:thin;width:256px}.lnsWorkspaceWarningList::-webkit-scrollbar{height:16px;width:16px}.lnsWorkspaceWarningList::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#98a2b380;border:6px solid #0000;border-radius:16px}.lnsWorkspaceWarningList::-webkit-scrollbar-corner,.lnsWorkspaceWarningList::-webkit-scrollbar-track{background-color:#0000}.lnsWorkspaceWarningList:focus{outline:none}.lnsWorkspaceWarningList[tabindex="0"]:focus:focus-visible{outline-style:auto}.lnsWorkspaceWarningList__item+.lnsWorkspaceWarningList__item{border-top:1px solid #343741}.lnsWorkspaceWarningList__textItem{padding:16px}.lnsWorkspaceWarningList__description{min-width:0;overflow-wrap:break-word}',""]),e.exports=t},390:function(e,t,a){var n=a(81),o=a(391);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);n(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},391:function(e,t,a){(t=a(82)(!1)).push([e.i,'@media only screen and (max-width:574px){.lnsWorkspaceWarning__buttonText{clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;left:-10000px;margin:-1px;overflow:hidden;position:absolute;top:auto;width:1px}}@media only screen and (min-width:575px)and (max-width:767px){.lnsWorkspaceWarning__buttonText{clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;left:-10000px;margin:-1px;overflow:hidden;position:absolute;top:auto;width:1px}}@media only screen and (min-width:768px)and (max-width:991px){.lnsWorkspaceWarning__buttonText{clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;left:-10000px;margin:-1px;overflow:hidden;position:absolute;top:auto;width:1px}}@media only screen and (min-width:992px)and (max-width:1199px){.lnsWorkspaceWarning__buttonText{clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;left:-10000px;margin:-1px;overflow:hidden;position:absolute;top:auto;width:1px}}.lnsWorkspaceWarningList{height:100%;max-height:320px;overflow-x:hidden;overflow-y:auto;scrollbar-color:#69707d80 #0000;scrollbar-width:thin;width:256px}.lnsWorkspaceWarningList::-webkit-scrollbar{height:16px;width:16px}.lnsWorkspaceWarningList::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#69707d80;border:6px solid #0000;border-radius:16px}.lnsWorkspaceWarningList::-webkit-scrollbar-corner,.lnsWorkspaceWarningList::-webkit-scrollbar-track{background-color:#0000}.lnsWorkspaceWarningList:focus{outline:none}.lnsWorkspaceWarningList[tabindex="0"]:focus:focus-visible{outline-style:auto}.lnsWorkspaceWarningList__item+.lnsWorkspaceWarningList__item{border-top:1px solid #d3dae6}.lnsWorkspaceWarningList__textItem{padding:16px}.lnsWorkspaceWarningList__description{min-width:0;overflow-wrap:break-word}',""]),e.exports=t},392:function(e,t,a){e.exports=a.p+"45188dbc89267e9797b89282522041e9.png"},393:function(e,t,a){e.exports=a.p+"6674a34547270955e8a25748a9e3d7a5.png"},626:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(15),o=a.n(n),i=a(3),r=a(201);var s=a(4);const l={name:"h42ud6",styles:"display:inherit;height:inherit;width:inherit;flex:1;flex-flow:column nowrap"},c=({children:e,navigateToUrl:t,currentAppId:a,...n})=>{const r=Object(i.useRef)(null),c=Object(i.useCallback)((e=>(({event:e,container:t,navigateToUrl:a,currentAppId:n})=>{if(!t||!n)return;const o=((e,t)=>{let a=e;do{var n,o;if("a"===(null===(n=a)||void 0===n?void 0:n.tagName.toLowerCase()))return a;const e=null===(o=a)||void 0===o?void 0:o.parentElement;if(!e||e===document.body||e===t)break;a=e}while(parent||parent!==document.body||parent!==t)})(e.target,t);if(!o)return;const i=o.href,r=""===o.target||"_self"===o.target,s=0===e.button;i&&r&&s&&!e.defaultPrevented&&!(e=>e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)(e)&&(e.preventDefault(),a(o.href))})({event:e,currentAppId:a,navigateToUrl:t,container:r.current})),[a,t]);return Object(s.jsx)("div",o()({onClick:c,ref:r,css:l,"data-test-subj":"kbnRedirectAppLink"},n),e)},d=({children:e,...t})=>Object(s.jsx)(c,o()({},Object(r.c)(),t),e)},647:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"g",(function(){return i})),a.d(t,"j",(function(){return r})),a.d(t,"i",(function(){return s})),a.d(t,"e",(function(){return l})),a.d(t,"c",(function(){return c})),a.d(t,"b",(function(){return d})),a.d(t,"f",(function(){return u})),a.d(t,"h",(function(){return p})),a.d(t,"d",(function(){return b}));var n=a(265);function o(e,t,a,n,o){return 0===n?o+t:s(t+(e-a)*o/n)}function i(e,t,{prevPalette:a,dataBounds:i,mapFromMinValue:s,defaultPaletteName:c}){const{min:d,max:u}=function(e,t){var a,n,o,i,r,s;const{min:c,max:d}=l(null==e?void 0:e.rangeType,t),u=null!==(a=null==e||null===(n=e.colorStops)||void 0===n||null===(o=n[0])||void 0===o?void 0:o.stop)&&void 0!==a?a:Number.POSITIVE_INFINITY,p=null!==(i=null==e||null===(r=e.colorStops)||void 0===r||null===(s=r[e.colorStops.length-1])||void 0===s?void 0:s.stop)&&void 0!==i?i:Number.NEGATIVE_INFINITY;return{min:Math.min(c,u),max:Math.max(d,p)}}(t,i),p=u-d,{stops:b,...g}=t||{};if("custom"===t.name&&null!=t&&t.colorStops)return r(t.colorStops,u);const m=(null==t?void 0:t.steps)||n.c,f=e.get(a||(null==t?void 0:t.name)||c||n.h).getCategoricalColors(m,g),x=s||0===p?d:p/m;return function(e,{newInterval:t,oldInterval:a,newMin:n,oldMin:i}){return(e||[]).map((({color:e,stop:r})=>({color:e,stop:o(r,n,i,a,t)})))}(f.map(((e,t)=>({color:e,stop:t}))),{newInterval:p,oldInterval:f.length,newMin:x,oldMin:0})}function r(e,t){const a=e.map(((e,a,n)=>({...e,stop:a+1<n.length?n[a+1].stop:t})));if(e[e.length-1].stop===t){const n=function(e,t,a){const n=t.length,o=n>1&&t[n-1].stop-t[n-2].stop||1;let i=Number(o.toFixed(2));if(a<e[n-1].stop+i){const t=a-e[n-1].stop;i=t>0?t:1}return i}(e,a,t)||1,o=Math.min(1,n);a[e.length-1].stop=t+o}return a}function s(e,t=2){return Number((Math.floor(100*e)/100).toFixed(t))}function l(e,t){return{min:"number"===e?t.min:n.g,max:"number"===e?t.max:n.f}}const c=e=>Boolean(e&&["below","all"].includes(e)),d=e=>Boolean(e&&["above","all"].includes(e)),u=(e="percent")=>"percent"===e?{min:0,max:100,fallback:!0}:{min:1,max:1,fallback:!0};function p(e=[]){const t=e.map((({stop:e})=>e));return e.map((({color:a},n)=>({color:a,stop:t[e.length-n-1]}))).reverse()}function b(e){let t=e||n.e;return t===n.k&&(t=n.a),t}},656:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(57);const o=e=>!(Object(n.isNestedField)(e)||!e.aggregatable&&!e.scripted)},657:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var n=a(15),o=a.n(n),i=a(3),r=a.n(i),s=a(46),l=a.n(s),c=a(6),d=a(366),u=a.n(d),p=a(691),b=a(658),g=(a(361),a(4));const m=()=>{},f=e=>{const[t,a]=Object(p.c)();if(e.isDisabled)return e.children;const{dropTypes:n,reorderableGroup:i}=e,r={...e,dndState:t,dndDispatch:a};return i&&i.length>1&&"reorder"===(null==n?void 0:n[0])?Object(g.jsx)(v,o()({},r,{reorderableGroup:i})):Object(g.jsx)(x,r)},x=Object(i.memo)((function(e){const{dataTestSubj:t,className:a,onDrop:n,value:r,children:s,dndState:d,dndDispatch:p,dropTypes:b,order:f,getAdditionalClassesOnEnter:x,getAdditionalClassesOnDroppable:v,getCustomDropTarget:y}=e,{dragging:j,hoveredDropTarget:_,dataTestSubjPrefix:O,keyboardMode:w}=d,[L,S]=Object(i.useState)(!1),I=Object(i.useRef)(null);u()((()=>{b&&null!=b&&b[0]&&n&&w&&p({type:"registerDropTargets",payload:b.reduce(((e,t,a)=>({...e,[[...f,a].join(",")]:{...r,onDrop:n,dropType:t}})),{})})}),[f,p,b,w]),Object(i.useEffect)((()=>{let e=!0;return _&&_.id!==r.id&&S(!1),setTimeout((()=>{!_&&e&&S(!1)}),1e3),()=>{e=!1}}),[_,S,r.id]);const D=Object(i.useCallback)((()=>{L||S(!0)}),[L]),k=Object(i.useCallback)(((e,t)=>{if(!b||b.length<=1)return t;const a=b.indexOf(t);if(a>0)return t;if(0===a){if(e.altKey&&b[1])return b[1];if(e.shiftKey&&b[2])return b[2];if(e.ctrlKey&&(b.length>3?b[3]:b[1]))return b.length>3?b[3]:b[1]}return t}),[b]),C=Object(i.useCallback)((()=>{p({type:"leaveDropTarget"})}),[p]),P=Object(i.useCallback)(((e,t)=>{if(e.preventDefault(),e.stopPropagation(),S(!1),n&&j){const a=k(e,t);n(j,a),setTimeout((()=>{p({type:"dropToTarget",payload:{dragging:j,dropTarget:{...r,dropType:a,onDrop:n}}})}))}p({type:"resetState"})}),[p,n,j,k,r]),T=(e,a)=>{const o=Boolean((null==_?void 0:_.id)===r.id&&e===(null==_?void 0:_.dropType));return{"data-test-subj":t||`${O}-domDroppable`,className:z(e,a),onDragEnter:D,onDragLeave:C,onDragOver:e?t=>{((e,t)=>{if(e.preventDefault(),!j||!n)return;const a=k(e,t);(null==_?void 0:_.id)===r.id&&(null==_?void 0:_.dropType)===a||p({type:"selectDropTarget",payload:{dropTarget:{...r,dropType:a,onDrop:n},dragging:j}})})(t,e)}:m,onDrop:e?t=>{P(t,e)}:m,ghost:o&&"reorder"!==e&&(null==j?void 0:j.ghost)&&j.ghost||void 0}},z=(e,t=s)=>{const n=Boolean((null==_?void 0:_.id)===r.id&&e===(null==_?void 0:_.dropType)),o=null==v?void 0:v(e),i=l()("domDroppable",{"domDroppable--active":j&&e,"domDroppable--hover":e&&n,"domDroppable--notAllowed":j&&(!b||!b.length)&&r.id!==j.id},o&&{[o]:j&&e});return l()(i,a,t.props.className)},E=T(b&&b[0]);return Object(g.jsx)("div",{"data-test-subj":`${O}Container`,className:l()("domDroppable__container",{"domDroppable__container-active":L||(null==_?void 0:_.id)===r.id}),onDragEnter:D,ref:I},Object(g.jsx)(h,o()({},E,{className:l()(E.className,(()=>{const e=null==x?void 0:x(null==_?void 0:_.dropType);return l()(e&&{[e]:(null==_?void 0:_.id)===r.id})})())}),s),b&&b.length>1&&Object(g.jsx)(c.EuiFlexGroup,{gutterSize:"none",direction:"column","data-test-subj":`${O}ExtraTargets`,className:l()("domDroppable__extraTargets",{"domDroppable__extraTargets-visible":L||(null==_?void 0:_.id)===r.id})},b.slice(1).map((e=>{const t=null==y?void 0:y(e);return t?Object(g.jsx)(c.EuiFlexItem,{key:e,className:"domDroppable__extraDropWrapper"},Object(g.jsx)(h,T(e,t),t)):null}))))})),h=({ghost:e,children:t,...a})=>Object(g.jsx)(r.a.Fragment,null,r.a.cloneElement(t,a),e?r.a.cloneElement(e.children,{className:l()(e.children.props.className,e.className,"domDraggable_ghost"),style:e.style}):null),v=Object(i.memo)((function(e){const{onDrop:t,value:a,dndState:n,dndDispatch:s,reorderableGroup:c,className:d}=e,{dragging:u,dataTestSubjPrefix:p,hoveredDropTarget:m}=n,f=c.findIndex((e=>e.id===a.id)),[{isReorderOn:h,reorderedItems:v,draggingHeight:y,direction:j},_]=Object(i.useContext)(b.a),O=Object(i.useRef)(null),w=h&&v.some((e=>e.id===a.id))&&v.length;return Object(i.useEffect)((()=>{var e;w&&null!==(e=O.current)&&void 0!==e&&e.clientHeight&&_({type:"registerReorderedItemHeight",payload:{id:a.id,height:O.current.clientHeight}})}),[w,_,a.id]),Object(g.jsx)(r.a.Fragment,null,Object(g.jsx)("div",{style:v.some((e=>e.id===a.id))?{transform:`translateY(${j}${y}px)`}:void 0,ref:O,"data-test-subj":`${p}-translatableDrop`,className:"domDroppable--translatable"},Object(g.jsx)(x,o()({},e,{className:l()(d,{domDroppable__overlayWrapper:u})}))),Object(g.jsx)("div",{"data-test-subj":`${p}-reorderableDropLayer`,className:l()({"domDroppable--reorderable":u}),onDrop:e=>{e.preventDefault(),e.stopPropagation(),t&&u&&(t(u,"reorder"),setTimeout((()=>{s({type:"dropToTarget",payload:{dragging:u,dropTarget:{...a,dropType:"reorder",onDrop:t}}})}))),s({type:"resetState"})},onDragOver:e=>{if(e.preventDefault(),(null==m?void 0:m.id)!==(null==a?void 0:a.id)&&t){const e=c.findIndex((e=>e.id===(null==u?void 0:u.id)));if(!u||-1===e)return;const n=f;e===n&&_({type:"reset"}),_({type:"setReorderedItems",payload:{draggingIndex:e,droppingIndex:n,items:c}}),s({type:"selectDropTarget",payload:{dropTarget:{...a,dropType:"reorder",onDrop:t},dragging:u}})}},onDragLeave:()=>{s({type:"leaveDropTarget"}),_({type:"reset"})}}))}))},658:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return p}));var n=a(3),o=a.n(n),i=a(46),r=a.n(i),s=a(140),l=a(4);const c={reorderedItems:[],direction:"-",draggingHeight:s.b,isReorderOn:!1},d=o.a.createContext([c,()=>()=>{}]),u=(e,t)=>{switch(t.type){case"dragEnd":return{...e,reorderedItems:[],isReorderOn:!1};case"reset":return{...e,reorderedItems:[]};case"registerDraggingItemHeight":return{...e,draggingHeight:t.payload};case"registerReorderedItemHeight":return{...e,reorderedItems:e.reorderedItems.map((e=>e.id===t.payload.id?{...e,height:t.payload.height}:e))};case"setIsReorderOn":return{...e,isReorderOn:t.payload,reorderedItems:t.payload?e.reorderedItems:[]};case"setReorderedItems":const{items:a,draggingIndex:n,droppingIndex:o}=t.payload;return n<o?{...e,reorderedItems:a.slice(n+1,o+1),direction:"-"}:{...e,reorderedItems:a.slice(o,n),direction:"+"};default:return e}};function p({children:e,className:t,dataTestSubj:a=s.a}){const[i,p]=Object(n.useReducer)(u,c);return Object(l.jsx)("div",{"data-test-subj":`${a}-reorderableGroup`,className:r()(t,"domDragDrop-group",{"domDragDrop-isActiveGroup":i.isReorderOn&&o.a.Children.count(e)>1})},Object(l.jsx)(d.Provider,{value:[i,p]},e))}},659:function(e,t,a){"use strict";a.d(t,"a",(function(){return g}));var n=a(15),o=a.n(n),i=a(3),r=a(46),s=a.n(r),l=a(6),c=a(691),d=a(658),u=a(140),p=(a(368),a(4));const b=u.c/2,g=({reorderableGroup:e,...t})=>{const[{dragging:a,dropTargetsByOrder:n,hoveredDropTarget:i,keyboardMode:r,dataTestSubjPrefix:s},l]=Object(c.c)();if(t.isDisabled)return t.children;const d=t.value.id===(null==a?void 0:a.id),u={...t,draggedItemProps:d?{keyboardMode:r,hoveredDropTarget:i,dropTargetsByOrder:n}:void 0,dataTestSubjPrefix:s,dndDispatch:l};return e&&e.length>1?Object(p.jsx)(x,o()({},u,{reorderableGroup:e})):Object(p.jsx)(f,u)},m=()=>{const e=window.getSelection();e&&e.removeAllRanges()},f=Object(i.memo)((function({dataTestSubj:e,className:t,dragClassName:a,value:n,children:o,dndDispatch:r,order:d,draggedItemProps:u,dataTestSubjPrefix:b,dragType:g,onDragStart:f,onDragEnd:x,extraKeyboardHandler:h,ariaDescribedBy:v}){const{keyboardMode:y,hoveredDropTarget:j,dropTargetsByOrder:_}=u||{},O=Object(i.useCallback)((e=>{r(e?{type:"selectDropTarget",payload:{dropTarget:e,dragging:n}}:{type:"leaveDropTarget"})}),[r,n]),w=Object(i.useCallback)(((e,t)=>{const a=_&&Object.values(_).filter((t=>(null==t?void 0:t.id)===e));O(null==a?void 0:a[t])}),[_,O]),L=Object(i.useMemo)((()=>({onKeyDown:e=>{if(e.preventDefault(),"Alt"===e.key&&null!=j&&j.id)w(j.id,1);else if("Shift"===e.key&&null!=j&&j.id)w(j.id,2);else if("Control"===e.key&&null!=j&&j.id){const e=Number(j.humanData.canSwap)+Number(j.humanData.canDuplicate);w(j.id,e+1)}},onKeyUp:e=>{if(e.preventDefault(),null!=j&&j.id&&["Shift","Alt","Control"].includes(e.key))if(e.altKey)w(j.id,1);else if(e.shiftKey)w(j.id,2);else if(e.ctrlKey){const e=Number(j.humanData.canSwap)+Number(j.humanData.canDuplicate);w(j.id,e+1)}else w(j.id,0)}})),[j,w]),S=Object(i.useCallback)(((e,t)=>{if(e&&"dataTransfer"in e&&e.dataTransfer.getData("text"))return;e&&"dataTransfer"in e&&e.dataTransfer.setData("text",n.humanData.label);const i=null==e?void 0:e.currentTarget;null==f||f(null==e?void 0:e.currentTarget);const l=e.currentTarget;a&&!l.classList.contains(a)&&(l.classList.add(a),requestAnimationFrame((()=>{l.classList.remove(a)}))),setTimeout((()=>{r({type:"startDragging",payload:{...t?{keyboardMode:!0}:{},dragging:{...n,ghost:t?{children:o,className:s()(a),style:{width:i.offsetWidth,minHeight:null==i?void 0:i.offsetHeight,zIndex:1e3}}:void 0}}})}))}),[r,n,f]),I=Object(i.useCallback)((e=>{null==e||e.stopPropagation(),r({type:"endDragging",payload:{dragging:n}}),null==x||x()}),[r,n,x]),D="move"===g&&y&&j&&"reorder"!==j.dropType;return Object(p.jsx)("div",{className:s()(t,"domDraggable",{"domDraggable_active--move":u&&"move"===g&&!y,"domDraggable_dragover_keyboard--move":D,"domDraggable_active--copy":u&&"copy"===g&&!y,"domDraggable_dragover_keyboard--copy":y&&u&&j}),"data-test-subj":e||`${b}_domDraggable_${n.humanData.label}`,draggable:!0,onDragEnd:I,onDragStart:S,onMouseDown:m},Object(p.jsx)(l.EuiScreenReaderOnly,{showOnFocus:!0},Object(p.jsx)("button",{"aria-label":n.humanData.label,"aria-describedby":v||`${b}-keyboardInstructions`,className:"domDraggable__keyboardHandler","data-test-subj":`${b}-keyboardHandler`,onBlur:e=>{u&&I()},onKeyDown:e=>{const{key:t}=e;t===l.keys.ENTER||t===l.keys.SPACE?(j&&(()=>{if(j){const{dropType:e,onDrop:t}=j;setTimeout((()=>{r({type:"dropToTarget",payload:{dragging:n,dropTarget:j}})})),t(n,e)}})(),u?I():S(e,!0)):t===l.keys.ESCAPE&&u&&(e.stopPropagation(),e.preventDefault(),I()),h&&h(e),y&&(l.keys.ARROW_LEFT!==t&&l.keys.ARROW_RIGHT!==t||((e,t=!1)=>{const a=Object(c.b)(_,j,[d.join(",")],(e=>"reorder"!==(null==e?void 0:e.dropType)),t);"string"==typeof a||void 0===a?O(void 0):e.altKey?w(a.id,1):e.shiftKey?w(a.id,2):e.ctrlKey?w(a.id,3):O(a)})(e,!(l.keys.ARROW_LEFT!==t)),L.onKeyDown(e))},onKeyUp:L.onKeyUp})),o)})),x=Object(i.memo)((function(e){const[{isReorderOn:t,reorderedItems:a,direction:n},r]=Object(i.useContext)(d.a),{value:u,draggedItemProps:g,reorderableGroup:m,dndDispatch:x,dataTestSubjPrefix:h}=e,{keyboardMode:v,hoveredDropTarget:y,dropTargetsByOrder:j}=g||{},_=!!g,O=v?_&&(!y||m.some((e=>e.id===(null==y?void 0:y.id)))):_;Object(i.useEffect)((()=>()=>r({type:"dragEnd"})),[r]),Object(i.useEffect)((()=>{r({type:"setIsReorderOn",payload:O})}),[r,O]);const w=e=>{if(!e)return r({type:"reset"}),void x({type:"leaveDropTarget"});const t=m.findIndex((t=>t.id===e.id)),a=m.findIndex((e=>e.id===(null==u?void 0:u.id)));-1!==a&&(x({type:"selectDropTarget",payload:{dropTarget:e,dragging:u}}),r({type:"setReorderedItems",payload:{draggingIndex:a,droppingIndex:t,items:m}}))},L=v&&_&&a.length;return Object(p.jsx)("div",{"data-test-subj":`${h}-reorderableDrag`,className:s()({"domDraggable--reorderable":_,"domDraggable_active_keyboard--reorderable":v&&_}),style:L?{transform:`translateY(${"+"===n?"-":"+"}${a.reduce(((e,t)=>{var a;return e+(null!==(a=t.height)&&void 0!==a?a:0)+b}),0)}px)`}:void 0},Object(p.jsx)(f,o()({},e,{ariaDescribedBy:`${h}-keyboardInstructionsWithReorder`,extraKeyboardHandler:a=>{if(t&&v){a.stopPropagation(),a.preventDefault();let t=m.findIndex((e=>e.id===u.id));if(y){const e=m.findIndex((e=>e.id===(null==y?void 0:y.id)));-1!==e&&(t=e)}if(a.key===l.keys.ARROW_LEFT||a.key===l.keys.ARROW_RIGHT)r({type:"reset"});else if(l.keys.ARROW_DOWN===a.key){if(t<m.length-1){const t=Object(c.b)(j,y,[e.order.join(",")],(e=>"reorder"===(null==e?void 0:e.dropType)));w(t)}}else if(l.keys.ARROW_UP===a.key&&t>0){const t=Object(c.b)(j,y,[e.order.join(",")],(e=>"reorder"===(null==e?void 0:e.dropType)),!0);w(t)}}},onDragStart:e=>{e&&setTimeout((()=>{r({type:"registerDraggingItemHeight",payload:e.clientHeight+b})}))},onDragEnd:()=>{r({type:"dragEnd"})}})))}))},691:function(e,t,a){"use strict";a.d(t,"c",(function(){return j})),a.d(t,"a",(function(){return L})),a.d(t,"b",(function(){return S}));var n=a(3),o=a.n(n),i=a(6),r=a(0),s=a(140);const l={selectedTarget:({label:e,groupLabel:t,position:a,layerNumber:n},{label:o,groupLabel:i,position:s,canSwap:l,canDuplicate:c,canCombine:d,layerNumber:u})=>l||c?r.i18n.translate("domDragDrop.announce.selectedTarget.replaceMain",{defaultMessage:"You're dragging {label} from {groupLabel} at position {position} in layer {layerNumber} over {dropLabel} from {dropGroupLabel} group at position {dropPosition} in layer {dropLayerNumber}. Press space or enter to replace {dropLabel} with {label}.{duplicateCopy}{swapCopy}{combineCopy}",values:{label:e,groupLabel:t,position:a,dropLabel:o,dropGroupLabel:i,dropPosition:s,duplicateCopy:c?p:"",swapCopy:l?b:"",combineCopy:d?g:"",layerNumber:n,dropLayerNumber:u}}):r.i18n.translate("domDragDrop.announce.selectedTarget.replace",{defaultMessage:"Replace {dropLabel} in {dropGroupLabel} group at position {dropPosition} in layer {dropLayerNumber} with {label}. Press space or enter to replace.",values:{label:e,dropLabel:o,dropGroupLabel:i,dropPosition:s,dropLayerNumber:u}}),dropped:({label:e},{label:t,groupLabel:a,position:n,layerNumber:o})=>r.i18n.translate("domDragDrop.announce.duplicated.replace",{defaultMessage:"Replaced {dropLabel} with {label} in {groupLabel} at position {position} in layer {dropLayerNumber}",values:{label:e,dropLabel:t,groupLabel:a,position:n,dropLayerNumber:o}})},c={selectedTarget:({label:e,groupLabel:t,layerNumber:a},{groupLabel:n,position:o})=>t!==n?r.i18n.translate("domDragDrop.announce.selectedTarget.duplicated",{defaultMessage:"Duplicate {label} to {dropGroupLabel} group at position {position} in layer {layerNumber}. Hold Alt or Option and press space or enter to duplicate",values:{label:e,dropGroupLabel:n,position:o,layerNumber:a}}):r.i18n.translate("domDragDrop.announce.selectedTarget.duplicatedInGroup",{defaultMessage:"Duplicate {label} to {dropGroupLabel} group at position {position} in layer {layerNumber}. Press space or enter to duplicate",values:{label:e,dropGroupLabel:n,position:o,layerNumber:a}}),dropped:({label:e},{groupLabel:t,position:a,layerNumber:n})=>r.i18n.translate("domDragDrop.announce.dropped.duplicated",{defaultMessage:"Duplicated {label} in {groupLabel} group at position {position} in layer {layerNumber}",values:{label:e,groupLabel:t,position:a,layerNumber:n}})},d={selectedTarget:({label:e,groupLabel:t,position:a},{position:n})=>a===n?r.i18n.translate("domDragDrop.announce.selectedTarget.reorderedBack",{defaultMessage:"{label} returned to its initial position {prevPosition}",values:{label:e,prevPosition:a}}):r.i18n.translate("domDragDrop.announce.selectedTarget.reordered",{defaultMessage:"Reorder {label} in {groupLabel} group from position {prevPosition} to position {position}. Press space or enter to reorder",values:{label:e,groupLabel:t,position:n,prevPosition:a}}),dropped:({label:e,groupLabel:t,position:a},{position:n})=>r.i18n.translate("domDragDrop.announce.dropped.reordered",{defaultMessage:"Reordered {label} in {groupLabel} group from position {prevPosition} to position {position}",values:{label:e,groupLabel:t,position:n,prevPosition:a}})},u={selectedTarget:({label:e,groupLabel:t,position:a,layerNumber:n},{label:o,groupLabel:i,position:s,canSwap:l,canDuplicate:c,canCombine:d,layerNumber:u})=>l||c||d?r.i18n.translate("domDragDrop.announce.selectedTarget.combineMain",{defaultMessage:"You're dragging {label} from {groupLabel} at position {position} in layer {layerNumber} over {dropLabel} from {dropGroupLabel} group at position {dropPosition} in layer {dropLayerNumber}. Press space or enter to combine {dropLabel} with {label}.{duplicateCopy}{swapCopy}{combineCopy}",values:{label:e,groupLabel:t,position:a,dropLabel:o,dropGroupLabel:i,dropPosition:s,duplicateCopy:c?p:"",swapCopy:l?b:"",combineCopy:d?g:"",layerNumber:n,dropLayerNumber:u}}):r.i18n.translate("domDragDrop.announce.selectedTarget.combine",{defaultMessage:"Combine {dropLabel} in {dropGroupLabel} group at position {dropPosition} in layer {dropLayerNumber} with {label}. Press space or enter to combine.",values:{label:e,dropLabel:o,dropGroupLabel:i,dropPosition:s,dropLayerNumber:u}}),dropped:({label:e},{label:t,groupLabel:a,position:n,layerNumber:o})=>r.i18n.translate("domDragDrop.announce.duplicated.combine",{defaultMessage:"Combine {dropLabel} with {label} in {groupLabel} at position {position} in layer {dropLayerNumber}",values:{label:e,dropLabel:t,groupLabel:a,position:n,dropLayerNumber:o}})},p=r.i18n.translate("domDragDrop.announce.duplicate.short",{defaultMessage:" Hold alt or option to duplicate."}),b=r.i18n.translate("domDragDrop.announce.swap.short",{defaultMessage:" Hold shift to swap."}),g=r.i18n.translate("domDragDrop.announce.combine.short",{defaultMessage:" Hold control to combine"}),m={selectedTarget:{reorder:d.selectedTarget,duplicate_compatible:c.selectedTarget,field_replace:l.selectedTarget,field_combine:u.selectedTarget,replace_compatible:l.selectedTarget,replace_incompatible:({label:e,groupLabel:t,position:a,layerNumber:n},{label:o,groupLabel:i,position:s,nextLabel:l,canSwap:c,canDuplicate:d,canCombine:u,layerNumber:m})=>c||d||u?r.i18n.translate("domDragDrop.announce.selectedTarget.replaceIncompatibleMain",{defaultMessage:"You're dragging {label} from {groupLabel} at position {position} in layer {layerNumber} over {dropLabel} from {dropGroupLabel} group at position {dropPosition} in layer {dropLayerNumber}. Press space or enter to convert {label} to {nextLabel} and replace {dropLabel}.{duplicateCopy}{swapCopy}{combineCopy}",values:{label:e,groupLabel:t,position:a,dropLabel:o,dropGroupLabel:i,dropPosition:s,nextLabel:l,duplicateCopy:d?p:"",swapCopy:c?b:"",combineCopy:u?g:"",layerNumber:n,dropLayerNumber:m}}):r.i18n.translate("domDragDrop.announce.selectedTarget.replaceIncompatible",{defaultMessage:"Convert {label} to {nextLabel} and replace {dropLabel} in {dropGroupLabel} group at position {dropPosition} in layer {dropLayerNumber}. Press space or enter to replace",values:{label:e,dropLabel:o,dropGroupLabel:i,dropPosition:s,nextLabel:l,dropLayerNumber:m}}),move_incompatible:({label:e,groupLabel:t,position:a,layerNumber:n},{groupLabel:o,position:i,nextLabel:s,canSwap:l,canDuplicate:c,layerNumber:d})=>l||c?r.i18n.translate("domDragDrop.announce.selectedTarget.moveIncompatibleMain",{defaultMessage:"You're dragging {label} from {groupLabel} at position {position} in layer {layerNumber} over position {dropPosition} in {dropGroupLabel} group in layer {dropLayerNumber}. Press space or enter to convert {label} to {nextLabel} and move.{duplicateCopy}",values:{label:e,groupLabel:t,position:a,dropGroupLabel:o,dropPosition:i,nextLabel:s,duplicateCopy:c?p:"",layerNumber:n,dropLayerNumber:d}}):r.i18n.translate("domDragDrop.announce.selectedTarget.moveIncompatible",{defaultMessage:"Convert {label} to {nextLabel} and move to {dropGroupLabel} group at position {dropPosition} in layer {dropLayerNumber}. Press space or enter to move",values:{label:e,dropGroupLabel:o,dropPosition:i,nextLabel:s,dropLayerNumber:d}}),move_compatible:({label:e,groupLabel:t,position:a},{groupLabel:n,position:o,canSwap:i,canDuplicate:s,layerNumber:l})=>i||s?r.i18n.translate("domDragDrop.announce.selectedTarget.moveCompatibleMain",{defaultMessage:"You're dragging {label} from {groupLabel} at position {position} over position {dropPosition} in {dropGroupLabel} group in layer {dropLayerNumber}. Press space or enter to move.{duplicateCopy}",values:{label:e,groupLabel:t,position:a,dropGroupLabel:n,dropPosition:o,duplicateCopy:s?p:"",dropLayerNumber:l}}):r.i18n.translate("domDragDrop.announce.selectedTarget.moveCompatible",{defaultMessage:"Move {label} to {dropGroupLabel} group at position {dropPosition} in layer {dropLayerNumber}. Press space or enter to move",values:{label:e,dropGroupLabel:n,dropPosition:o,dropLayerNumber:l}}),duplicate_incompatible:({label:e},{groupLabel:t,position:a,nextLabel:n,layerNumber:o})=>r.i18n.translate("domDragDrop.announce.selectedTarget.duplicateIncompatible",{defaultMessage:"Convert copy of {label} to {nextLabel} and add to {groupLabel} group at position {position} in layer {dropLayerNumber}. Hold Alt or Option and press space or enter to duplicate",values:{label:e,groupLabel:t,position:a,nextLabel:n,dropLayerNumber:o}}),replace_duplicate_incompatible:({label:e},{label:t,groupLabel:a,position:n,nextLabel:o,layerNumber:i})=>r.i18n.translate("domDragDrop.announce.selectedTarget.replaceDuplicateIncompatible",{defaultMessage:"Convert copy of {label} to {nextLabel} and replace {dropLabel} in {groupLabel} group at position {position} in layer {dropLayerNumber}. Hold Alt or Option and press space or enter to duplicate and replace",values:{label:e,groupLabel:a,position:n,dropLabel:t,nextLabel:o,dropLayerNumber:i}}),replace_duplicate_compatible:({label:e},{label:t,groupLabel:a,position:n,layerNumber:o})=>r.i18n.translate("domDragDrop.announce.selectedTarget.replaceDuplicateCompatible",{defaultMessage:"Duplicate {label} and replace {dropLabel} in {groupLabel} at position {position} in layer {dropLayerNumber}. Hold Alt or Option and press space or enter to duplicate and replace",values:{label:e,dropLabel:t,groupLabel:a,position:n,dropLayerNumber:o}}),swap_compatible:({label:e,groupLabel:t,position:a,layerNumber:n},{label:o,groupLabel:i,position:s,layerNumber:l})=>r.i18n.translate("domDragDrop.announce.selectedTarget.swapCompatible",{defaultMessage:"Swap {label} in {groupLabel} group at position {position} in layer {layerNumber} with {dropLabel} in {dropGroupLabel} group at position {dropPosition} in layer {dropLayerNumber}. Hold Shift and press space or enter to swap",values:{label:e,groupLabel:t,position:a,dropLabel:o,dropGroupLabel:i,dropPosition:s,layerNumber:n,dropLayerNumber:l}}),swap_incompatible:({label:e,groupLabel:t,position:a,layerNumber:n},{label:o,groupLabel:i,position:s,nextLabel:l,layerNumber:c})=>r.i18n.translate("domDragDrop.announce.selectedTarget.swapIncompatible",{defaultMessage:"Convert {label} to {nextLabel} in {groupLabel} group at position {position} in layer {layerNumber} and swap with {dropLabel} in {dropGroupLabel} group at position {dropPosition} in layer {dropLayerNumber}. Hold Shift and press space or enter to swap",values:{label:e,groupLabel:t,position:a,dropLabel:o,dropGroupLabel:i,dropPosition:s,nextLabel:l,layerNumber:n,dropLayerNumber:c}}),combine_compatible:({label:e,groupLabel:t,position:a,layerNumber:n},{label:o,groupLabel:i,position:s,layerNumber:l})=>r.i18n.translate("domDragDrop.announce.selectedTarget.combineCompatible",{defaultMessage:"Combine {label} in {groupLabel} group at position {position} in layer {layerNumber} with {dropLabel} in {dropGroupLabel} group at position {dropPosition} in layer {dropLayerNumber}. Hold Control and press space or enter to combine",values:{label:e,groupLabel:t,position:a,dropLabel:o,dropGroupLabel:i,dropPosition:s,layerNumber:n,dropLayerNumber:l}}),combine_incompatible:({label:e,groupLabel:t,position:a,layerNumber:n},{label:o,groupLabel:i,position:s,nextLabel:l,layerNumber:c})=>r.i18n.translate("domDragDrop.announce.selectedTarget.combineIncompatible",{defaultMessage:"Convert {label} to {nextLabel} in {groupLabel} group at position {position} in layer {layerNumber} and combine with {dropLabel} in {dropGroupLabel} group at position {dropPosition} in layer {dropLayerNumber}. Hold Control and press space or enter to combine",values:{label:e,groupLabel:t,position:a,dropLabel:o,dropGroupLabel:i,dropPosition:s,nextLabel:l,dropLayerNumber:c,layerNumber:n}})},dropped:{reorder:d.dropped,duplicate_compatible:c.dropped,field_replace:l.dropped,field_combine:u.dropped,replace_compatible:l.dropped,replace_incompatible:({label:e},{label:t,groupLabel:a,position:n,nextLabel:o,layerNumber:i})=>r.i18n.translate("domDragDrop.announce.dropped.replaceIncompatible",{defaultMessage:"Converted {label} to {nextLabel} and replaced {dropLabel} in {groupLabel} group at position {position} in layer {dropLayerNumber}",values:{label:e,nextLabel:o,dropLabel:t,groupLabel:a,position:n,dropLayerNumber:i}}),move_incompatible:({label:e},{groupLabel:t,position:a,nextLabel:n,layerNumber:o})=>r.i18n.translate("domDragDrop.announce.dropped.moveIncompatible",{defaultMessage:"Converted {label} to {nextLabel} and moved to {groupLabel} group at position {position} in layer {dropLayerNumber}",values:{label:e,nextLabel:n,groupLabel:t,position:a,dropLayerNumber:o}}),move_compatible:({label:e},{groupLabel:t,position:a,layerNumber:n})=>r.i18n.translate("domDragDrop.announce.dropped.moveCompatible",{defaultMessage:"Moved {label} to {groupLabel} group at position {position} in layer {dropLayerNumber}",values:{label:e,groupLabel:t,position:a,dropLayerNumber:n}}),duplicate_incompatible:({label:e},{groupLabel:t,position:a,nextLabel:n,layerNumber:o})=>r.i18n.translate("domDragDrop.announce.dropped.duplicateIncompatible",{defaultMessage:"Converted copy of {label} to {nextLabel} and added to {groupLabel} group at position {position} in layer {dropLayerNumber}",values:{label:e,groupLabel:t,position:a,nextLabel:n,dropLayerNumber:o}}),replace_duplicate_incompatible:({label:e},{label:t,groupLabel:a,position:n,nextLabel:o,layerNumber:i})=>r.i18n.translate("domDragDrop.announce.dropped.replaceDuplicateIncompatible",{defaultMessage:"Converted copy of {label} to {nextLabel} and replaced {dropLabel} in {groupLabel} group at position {position} in layer {dropLayerNumber}",values:{label:e,dropLabel:t,groupLabel:a,position:n,nextLabel:o,dropLayerNumber:i}}),replace_duplicate_compatible:({label:e},{label:t,groupLabel:a,position:n,layerNumber:o})=>r.i18n.translate("domDragDrop.announce.duplicated.replaceDuplicateCompatible",{defaultMessage:"Replaced {dropLabel} with a copy of {label} in {groupLabel} at position {position} in layer {dropLayerNumber}",values:{label:e,dropLabel:t,groupLabel:a,position:n,dropLayerNumber:o}}),swap_compatible:({label:e,groupLabel:t,position:a,layerNumber:n},{label:o,groupLabel:i,position:s,layerNumber:l})=>r.i18n.translate("domDragDrop.announce.dropped.swapCompatible",{defaultMessage:"Moved {label} to {dropGroupLabel} at position {dropPosition} in layer {dropLayerNumber} and {dropLabel} to {groupLabel} group at position {position} in layer {layerNumber}",values:{label:e,groupLabel:t,position:a,dropLabel:o,dropGroupLabel:i,dropPosition:s,layerNumber:n,dropLayerNumber:l}}),swap_incompatible:({label:e,groupLabel:t,position:a,layerNumber:n},{label:o,groupLabel:i,position:s,nextLabel:l,layerNumber:c})=>r.i18n.translate("domDragDrop.announce.dropped.swapIncompatible",{defaultMessage:"Converted {label} to {nextLabel} in {groupLabel} group at position {position} in layer {layerNumber} and swapped with {dropLabel} in {dropGroupLabel} group at position {dropPosition} in layer {dropLayerNumber}",values:{label:e,groupLabel:t,position:a,dropGroupLabel:i,dropLabel:o,dropPosition:s,nextLabel:l,dropLayerNumber:c,layerNumber:n}}),combine_compatible:({label:e,groupLabel:t},{label:a,groupLabel:n,position:o,layerNumber:i})=>r.i18n.translate("domDragDrop.announce.dropped.combineCompatible",{defaultMessage:"Combined {label} in group {groupLabel} to {dropLabel} in group {dropGroupLabel} at position {dropPosition} in layer {dropLayerNumber}",values:{label:e,groupLabel:t,dropLabel:a,dropGroupLabel:n,dropPosition:o,dropLayerNumber:i}}),combine_incompatible:({label:e,groupLabel:t,position:a,layerNumber:n},{label:o,groupLabel:i,position:s,nextLabel:l,layerNumber:c})=>r.i18n.translate("domDragDrop.announce.dropped.combineIncompatible",{defaultMessage:"Converted {label} to {nextLabel} in {groupLabel} group at position {position} and combined with {dropLabel} in {dropGroupLabel} group at position {dropPosition} in layer {dropLayerNumber}",values:{label:e,groupLabel:t,position:a,dropGroupLabel:i,dropLabel:o,dropPosition:s,nextLabel:l,dropLayerNumber:c}})}},f={lifted:({label:e})=>r.i18n.translate("domDragDrop.announce.lifted",{defaultMessage:"Lifted {label}",values:{label:e}}),cancelled:({label:e,groupLabel:t,position:a})=>t&&a?r.i18n.translate("domDragDrop.announce.cancelledItem",{defaultMessage:"Movement cancelled. {label} returned to {groupLabel} group at position {position}",values:{label:e,groupLabel:t,position:a}}):r.i18n.translate("domDragDrop.announce.cancelled",{defaultMessage:"Movement cancelled. {label} returned to its initial position",values:{label:e}}),noTarget:()=>r.i18n.translate("domDragDrop.announce.selectedTarget.noSelected",{defaultMessage:"No target selected. Use arrow keys to select a target"}),dropped:({label:e},{groupLabel:t,position:a,label:n,layerNumber:o})=>t&&a?r.i18n.translate("domDragDrop.announce.droppedDefault",{defaultMessage:"Added {label} in {dropGroupLabel} group at position {position} in layer {dropLayerNumber}",values:{label:e,dropGroupLabel:t,position:a,dropLayerNumber:o}}):r.i18n.translate("domDragDrop.announce.droppedNoPosition",{defaultMessage:"Added {label} to {dropLabel}",values:{label:e,dropLabel:n}}),selectedTarget:({label:e},{label:t,groupLabel:a,position:n,layerNumber:o})=>a&&n?r.i18n.translate("domDragDrop.announce.selectedTarget.default",{defaultMessage:"Add {label} to {dropGroupLabel} group at position {position} in layer {dropLayerNumber}. Press space or enter to add",values:{label:e,dropGroupLabel:a,position:n,dropLayerNumber:o}}):r.i18n.translate("domDragDrop.announce.selectedTarget.defaultNoPosition",{defaultMessage:"Add {label} to {dropLabel}. Press space or enter to add",values:{dropLabel:t,label:e}})},x={...f,dropped:(e,t,a)=>{var n,o;return a&&(null===(n=m.dropped)||void 0===n||null===(o=n[a])||void 0===o?void 0:o.call(n,e,t))||f.dropped(e,t)},selectedTarget:(e,t,a)=>{var n,o;return a&&(null===(n=m.selectedTarget)||void 0===n||null===(o=n[a])||void 0===o?void 0:o.call(n,e,t))||f.selectedTarget(e,t)}};var h=a(4);const v={dragging:void 0,hoveredDropTarget:void 0,keyboardMode:!1,dropTargetsByOrder:{},dataTestSubjPrefix:s.a},y=o.a.createContext([v,()=>{}]);function j(){const e=o.a.useContext(y);if(void 0===e)throw new Error("useDragDropContext must be used within a <RootDragDropProvider/> or <ChildDragDropProvider/>");return e}const _=(e,t)=>{switch(t.type){case"resetState":case"endDragging":case"dropToTarget":return{...e,dropTargetsByOrder:void 0,dragging:void 0,keyboardMode:!1,hoveredDropTarget:void 0};case"registerDropTargets":return{...e,dropTargetsByOrder:{...e.dropTargetsByOrder,...t.payload}};case"leaveDropTarget":return{...e,hoveredDropTarget:void 0};case"selectDropTarget":return{...e,hoveredDropTarget:t.payload.dropTarget};case"startDragging":return{...e,...t.payload};default:return e}},O=(e,t,a)=>{const[i,r]=Object(n.useReducer)(e,t);return[i,o.a.useCallback((e=>{void 0!==a&&a.length>0&&a.forEach((t=>t(e))),r(e)}),[a])]},w=()=>{const[e,t]=o.a.useState("");return{a11yMessage:e,a11yMiddleware:o.a.useCallback((e=>{switch(e.type){case"startDragging":return void t(x.lifted(e.payload.dragging.humanData));case"selectDropTarget":return void t(x.selectedTarget(e.payload.dragging.humanData,e.payload.dropTarget.humanData,e.payload.dropTarget.dropType));case"leaveDropTarget":return void t(x.noTarget());case"dropToTarget":const{dragging:a,dropTarget:n}=e.payload;return void t(x.dropped(a.humanData,n.humanData,n.dropType));case"endDragging":return void t(x.cancelled(e.payload.dragging.humanData));default:return}}),[])}};function L({children:e,customMiddleware:t,initialState:a={}}){const{a11yMessage:n,a11yMiddleware:l}=w(),c=o.a.useMemo((()=>t?[t,l]:[l]),[t,l]),d=a.dataTestSubjPrefix||s.a,[u,p]=O(_,{...v,...a},c);return Object(h.jsx)(o.a.Fragment,null,Object(h.jsx)(I,{value:[u,p]},e),Object(h.jsx)(i.EuiScreenReaderOnly,null,Object(h.jsx)("div",null,Object(h.jsx)("p",{"aria-live":"assertive","aria-atomic":!0},n),Object(h.jsx)("p",{id:`${d}-keyboardInstructionsWithReorder`},r.i18n.translate("domDragDrop.keyboardInstructionsReorder",{defaultMessage:"Press space or enter to start dragging. When dragging, use the up/down arrow keys to reorder items in the group and left/right arrow keys to choose drop targets outside of the group. Press space or enter again to finish."})),Object(h.jsx)("p",{id:`${d}-keyboardInstructions`},r.i18n.translate("domDragDrop.keyboardInstructions",{defaultMessage:"Press space or enter to start dragging. When dragging, use the left/right arrow keys to move between drop targets. Press space or enter again to finish."})))))}function S(e,t,a,n=(()=>!0),o=!1){if(!e)return;const i=[...Object.entries(e).filter((([e,t])=>t&&e!==a[0]&&n(t))).reduce(((e,t)=>{const[,a]=t;return a?e.find((([,e])=>(null==e?void 0:e.id)===a.id))?e:[...e,t]:e}),[]),a].sort((([e],[t])=>{const a=e.split(",").map((e=>Number(e))),n=t.split(",").map((e=>Number(e))),o=a.findIndex(((e,t)=>a[t]!==n[t]));return a[o]-n[o]}));let r=i.findIndex((([,e])=>"object"==typeof e&&(null==e?void 0:e.id)===(null==t?void 0:t.id)));-1===r&&(r=i.findIndex((([e])=>e===a[0])));const s=(i.length+r-1)%i.length,l=(r+1)%i.length;return i[o?s:l][1]}function I({value:e,children:t}){return Object(h.jsx)(y.Provider,{value:e},t)}},693:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(15),o=a.n(n),i=(a(3),a(6));const r=e=>({bold:e.font.weight.bold,normal:e.font.weight.regular});var s=a(4);const l=e=>"iconButton"===e.as,c=(e,{type:t,isDisabled:a,groupPosition:n})=>{const o=(({euiTheme:e})=>({default:{borderStyle:"solid",border:e.border.thin,borderColor:e.border.color},emptyButton:{backgroundColor:e.colors.emptyShade,border:`${e.border.thin}`,color:`${e.colors.text}`},buttonPositions:{left:{borderTopRightRadius:0,borderBottomRightRadius:0},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,borderLeft:"none"},center:{borderRadius:0,borderLeft:"none"}}}))(e),i=n&&"none"!==n?o.buttonPositions[n]:{},r={...o.default,...i};return a?r:{...r,..."primary"===t?{}:o.emptyButton}},d=({hasArrow:e=!0,fontWeight:t="normal",type:a,label:n,iconSide:l,iconType:d,fullWidth:u,isDisabled:p,groupPosition:b,...g})=>{const m=Object(i.useEuiTheme)(),f={...c(m,{type:a,isDisabled:p,groupPosition:b}),fontWeight:r(m.euiTheme)[t]},x=p?{}:"primary"===a?{color:"primary",fill:!0}:{color:"text"},h=null!=d?d:e?"arrowDown":"";return Object(s.jsx)(i.EuiButton,o()({size:g.size,isDisabled:p,css:f,iconType:h,iconSide:d?l:"right",fullWidth:u,contentProps:u?{style:{justifyContent:"space-between"}}:{}},x,g),n)},u=({size:e,type:t,label:a,isDisabled:n,groupPosition:r,...l})=>{const d=Object(i.useEuiTheme)(),u=c(d,{type:t,isDisabled:n,groupPosition:r});return Object(s.jsx)(i.EuiButtonIcon,o()({},l,{disabled:n,"aria-label":null!=a?a:l["aria-label"],size:e,iconSize:e,css:u,display:"primary"===t?"fill":"base",color:"primary"===t?"primary":"text"}))};function p(e){const{type:t="empty",size:a="m"}=e;return l(e)?Object(s.jsx)(u,o()({},e,{size:a,type:t})):Object(s.jsx)(d,o()({},e,{size:a,type:t}))}},81:function(e,t,a){"use strict";var n,o=function(){var e={};return function(t){if(void 0===e[t]){var a=document.querySelector(t);if(window.HTMLIFrameElement&&a instanceof window.HTMLIFrameElement)try{a=a.contentDocument.head}catch(e){a=null}e[t]=a}return e[t]}}(),i=[];function r(e){for(var t=-1,a=0;a<i.length;a++)if(i[a].identifier===e){t=a;break}return t}function s(e,t){for(var a={},n=[],o=0;o<e.length;o++){var s=e[o],l=t.base?s[0]+t.base:s[0],c=a[l]||0,d="".concat(l," ").concat(c);a[l]=c+1;var u=r(d),p={css:s[1],media:s[2],sourceMap:s[3]};-1!==u?(i[u].references++,i[u].updater(p)):i.push({identifier:d,updater:m(p,t),references:1}),n.push(d)}return n}function l(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var i=a.nc;i&&(n.nonce=i)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var r=o(e.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}return t}var c,d=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function u(e,t,a,n){var o=a?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=d(t,o);else{var i=document.createTextNode(o),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(i,r[t]):e.appendChild(i)}}function p(e,t,a){var n=a.css,o=a.media,i=a.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var b=null,g=0;function m(e,t){var a,n,o;if(t.singleton){var i=g++;a=b||(b=l(t)),n=u.bind(null,a,i,!1),o=u.bind(null,a,i,!0)}else a=l(t),n=p.bind(null,a,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(a)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n));var a=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<a.length;n++){var o=r(a[n]);i[o].references--}for(var l=s(e,t),c=0;c<a.length;c++){var d=r(a[c]);0===i[d].references&&(i[d].updater(),i.splice(d,1))}a=l}}}},82:function(e,t,a){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var a=function(e,t){var a,n,o,i=e[1]||"",r=e[3];if(!r)return i;if(t&&"function"==typeof btoa){var s=(a=r,n=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),"/*# ".concat(o," */")),l=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[i].concat(l).concat([s]).join("\n")}return[i].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(a,"}"):a})).join("")},t.i=function(e,a,n){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(n)for(var i=0;i<this.length;i++){var r=this[i][0];null!=r&&(o[r]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);n&&o[l[0]]||(a&&(l[2]?l[2]="".concat(a," and ").concat(l[2]):l[2]=a),t.push(l))}},t}},85:function(e,t,a){"use strict";a.d(t,"i",(function(){return n.a})),a.d(t,"e",(function(){return o.a})),a.d(t,"g",(function(){return u})),a.d(t,"c",(function(){return p.a})),a.d(t,"p",(function(){return b})),a.d(t,"a",(function(){return g.a})),a.d(t,"s",(function(){return m.b})),a.d(t,"r",(function(){return m.a})),a.d(t,"n",(function(){return x})),a.d(t,"f",(function(){return w})),a.d(t,"m",(function(){return L.a})),a.d(t,"q",(function(){return L.b})),a.d(t,"o",(function(){return S})),a.d(t,"t",(function(){return k})),a.d(t,"k",(function(){return P})),a.d(t,"j",(function(){return T.a})),a.d(t,"b",(function(){return z})),a.d(t,"h",(function(){return M})),a.d(t,"l",(function(){return V})),a.d(t,"d",(function(){return H}));var n=a(181),o=a(145),i=a(3),r=a.n(i),s=a(647),l=a(6),c=a(0),d=a(4);function u({palettes:e,activePalette:t,setPalette:a}){const n=Object(s.d)(null==t?void 0:t.name),o=e.getAll().filter((({internal:e})=>!e)).map((({id:e,title:a,getCategoricalColors:o})=>({value:e,title:a,type:"fixed",palette:o(10,e===n?null==t?void 0:t.params:void 0)})));return Object(d.jsx)(l.EuiFormRow,{fullWidth:!0,label:c.i18n.translate("xpack.lens.palettePicker.label",{defaultMessage:"Palette"})},Object(d.jsx)(l.EuiColorPalettePicker,{fullWidth:!0,"data-test-subj":"lns-palettePicker",palettes:o,onChange:e=>{a({type:"palette",name:e})},valueOfSelected:n,selectionDisplay:"palette"}))}var p=a(180);function b(e,t,a){const n=t.getFieldByName(e);return"document"===(null==n?void 0:n.type)||a(t.id,e)}a(155);var g=a(156),m=a(110);const f={xy:"axisExtentConfig"},x=(e,t="xy")=>({type:"expression",chain:[{type:"function",function:f[t],arguments:{mode:null!=e&&e.mode?[e.mode]:[],lowerBound:null!=(null==e?void 0:e.lowerBound)?[e.lowerBound]:[],upperBound:null!=(null==e?void 0:e.upperBound)?[e.upperBound]:[],niceValues:null!=(null==e?void 0:e.niceValues)?[e.niceValues]:[!0]}}]});var h=a(15),v=a.n(h),y=a(265);a(272);const j=c.i18n.translate("xpack.lens.colorSiblingFlyoutTitle",{defaultMessage:"Color"});var _={name:"e0dnmk",styles:"cursor:pointer"};function O({siblingRef:e,children:t,title:a=j,isInlineEditing:n,SettingTrigger:o,dataTestSubj:r="lns-settingWithSiblingFlyout"}){const[s,u]=Object(i.useState)(!1),[p,b]=Object(i.useState)(!1),g=()=>{b(!1),u(!1)};return Object(i.useEffect)((()=>{p&&!n&&setTimeout((()=>{u(!0)}),255)}),[n,p]),Object(d.jsx)(l.EuiFlexGroup,{alignItems:"center",gutterSize:"s",responsive:!1,css:_},Object(d.jsx)(o,{onClick:()=>{b(!p)}}),p&&e.current&&Object(d.jsx)(l.EuiPortal,{insert:{sibling:e.current,position:"after"}},Object(d.jsx)(l.EuiFocusTrap,{disabled:!s,clickOutsideDisables:!0},Object(d.jsx)(l.EuiOutsideClickDetector,{onOutsideClick:g,isDisabled:!p},Object(d.jsx)("div",{role:"dialog","aria-labelledby":"lnsSettingWithSiblingFlyoutTitle","data-test-subj":r,className:"lnsSettingWithSiblingFlyout"},Object(d.jsx)(l.EuiFlyoutHeader,{hasBorder:!0,className:"lnsSettingWithSiblingFlyout__header"},Object(d.jsx)(l.EuiFlexGroup,{gutterSize:"s",alignItems:"center",responsive:!1},Object(d.jsx)(l.EuiFlexItem,{grow:!1},Object(d.jsx)(l.EuiButtonIcon,{color:"text","data-test-subj":"lns-indexPattern-SettingWithSiblingFlyoutBack",className:"lnsSettingWithSiblingFlyout__backIcon",onClick:g,iconType:"sortLeft","aria-label":c.i18n.translate("xpack.lens.settingWithSiblingFlyout.back",{defaultMessage:"Back"})})),Object(d.jsx)(l.EuiFlexItem,null,Object(d.jsx)(l.EuiTitle,{size:"xs"},Object(d.jsx)("h3",{id:"lnsSettingWithSiblingFlyoutTitle",className:"lnsSettingWithSiblingFlyout__headerTitle"},a))))),t&&Object(d.jsx)("div",{className:"lnsSettingWithSiblingFlyout__content"},t),Object(d.jsx)(l.EuiFlyoutFooter,{className:"lnsSettingWithSiblingFlyout__footer"},Object(d.jsx)(l.EuiButtonEmpty,{flush:"left",size:"s",iconType:"sortLeft",onClick:g},c.i18n.translate("xpack.lens.settingWithSiblingFlyout.back",{defaultMessage:"Back"}))))))))}function w(e){return Object(d.jsx)(O,v()({},e,{dataTestSubj:"lns-palettePanelFlyout",SettingTrigger:({onClick:t})=>Object(d.jsx)(r.a.Fragment,null,Object(d.jsx)(l.EuiFlexItem,null,Object(d.jsx)(l.EuiColorPaletteDisplay,{"data-test-subj":"lns_dynamicColoring_edit",palette:e.palette,type:y.j,onClick:t})),Object(d.jsx)(l.EuiFlexItem,{grow:!1},Object(d.jsx)(l.EuiToolTip,{content:c.i18n.translate("xpack.lens.colorMapping.editColors",{defaultMessage:"Edit colors"})},Object(d.jsx)(l.EuiButtonIcon,{"data-test-subj":"lns_colorEditing_trigger","aria-label":c.i18n.translate("xpack.lens.colorMapping.editColors",{defaultMessage:"Edit colors"}),iconType:"controlsHorizontal",onClick:t,size:"xs"}))))}))}var L=a(157);const S={name:y.h,reverse:!1,rangeType:y.i,rangeMin:y.g,rangeMax:y.f,progression:y.j,stops:[],steps:y.c,colorStops:[],continuity:y.d};var I=a(135),D=a.n(I);const k=(e,{skipFirstRender:t}={skipFirstRender:!1},a,n)=>{const o=Object(i.useRef)(!0),r=[...n||[],o];return D()((()=>{if(!t||!o.current)return e();o.current=!1}),a,r)},C=[{id:"value_labels_hide",value:"hide",label:c.i18n.translate("xpack.lens.shared.valueLabelsVisibility.auto",{defaultMessage:"Hide"}),"data-test-subj":"lns_valueLabels_hide"},{id:"value_labels_inside",value:"show",label:c.i18n.translate("xpack.lens.shared.valueLabelsVisibility.inside",{defaultMessage:"Show"}),"data-test-subj":"lns_valueLabels_inside"}],P=({isVisible:e=!0,valueLabels:t="hide",onValueLabelChange:a})=>{var n;if(!e)return null;const o=c.i18n.translate("xpack.lens.shared.chartValueLabelVisibilityLabel",{defaultMessage:"Labels"}),i=(null===(n=C.find((({value:e})=>e===t)))||void 0===n?void 0:n.id)||"value_labels_hide";return Object(d.jsx)(l.EuiFormRow,{display:"columnCompressed",label:Object(d.jsx)("span",null,o," ",Object(d.jsx)(l.EuiIconTip,{color:"subdued",content:c.i18n.translate("xpack.lens.shared.chartValueLabelVisibilityTooltip",{defaultMessage:"If there is not enough space, value labels might be hidden"}),iconProps:{className:"eui-alignTop"},position:"top",size:"s",type:"questionInCircle"}))},Object(d.jsx)(l.EuiButtonGroup,{isFullWidth:!0,legend:o,"data-test-subj":"lens-value-labels-visibility-btn",buttonSize:"compressed",options:C,idSelected:i,onChange:e=>{const t=C.find((({id:t})=>t===e));t&&a(t.value)}}))};var T=a(154);const z=({axis:e,isAxisLabelVisible:t,updateTicksVisibilityState:a})=>{const n=Object(i.useCallback)((t=>a(t,e)),[e,a]);return Object(d.jsx)(r.a.Fragment,null,Object(d.jsx)(l.EuiFormRow,{display:"columnCompressedSwitch",label:c.i18n.translate("xpack.lens.shared.tickLabels",{defaultMessage:"Tick labels"}),fullWidth:!0},Object(d.jsx)(l.EuiSwitch,{compressed:!0,"data-test-subj":`lnsshow${e}AxisTickLabels`,label:c.i18n.translate("xpack.lens.shared.tickLabels",{defaultMessage:"Tick labels"}),onChange:()=>n(!t),checked:t,showLabel:!1})))};var E={name:"2rtvke",styles:"flex-direction:row;align-items:center"};const M=({label:e,icon:t,indicator:a})=>Object(d.jsx)(l.EuiFlexGroup,{gutterSize:"s",alignItems:"center",responsive:!1,className:"lnsLayerPanel__settingsStaticHeader"},t&&Object(d.jsx)(l.EuiFlexItem,{grow:!1},Object(d.jsx)(l.EuiIcon,{type:t})," "),Object(d.jsx)(l.EuiFlexItem,{grow:!0,css:E},Object(d.jsx)(l.EuiTitle,{size:"xxs"},Object(d.jsx)("h5",null,e)),a)),F=c.i18n.translate("xpack.lens.label.header",{defaultMessage:"Label"}),A={id:"lns_title_none",value:"none",text:c.i18n.translate("xpack.lens.chart.labelVisibility.none",{defaultMessage:"None"})},N={id:"lns_title_custom",value:"custom",text:c.i18n.translate("xpack.lens.chart.labelVisibility.custom",{defaultMessage:"Custom"})},W={id:"lns_title_auto",value:"auto",text:c.i18n.translate("xpack.lens.chart.labelVisibility.auto",{defaultMessage:"Auto"})},R=[A,N],B=[A,W,N];function V({label:e,mode:t,handleChange:a,hasAutoOption:n=!1,placeholder:o="",header:i=F,dataTestSubj:r}){return Object(d.jsx)(l.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},Object(d.jsx)(l.EuiFlexItem,{grow:!1},Object(d.jsx)(l.EuiSelect,{fullWidth:!0,compressed:!0,"data-test-subj":`${r}-select`,"aria-label":"Label",onChange:({target:e})=>{a({label:void 0,mode:e.value})},options:n?B:R,value:t})),Object(d.jsx)(l.EuiFlexItem,null,Object(d.jsx)(l.EuiFieldText,{"data-test-subj":r,compressed:!0,placeholder:"none"===t?"":o,value:e||"",disabled:"none"===t,onChange:({target:e})=>a({mode:"custom",label:e.value}),"aria-label":i})))}const G=c.i18n.translate("xpack.lens.experimentalLabel",{defaultMessage:"Technical preview"});var $={name:"1989ovb",styles:"vertical-align:middle"};const H=({label:e=G,color:t})=>Object(d.jsx)(l.EuiToolTip,{content:e},Object(d.jsx)(l.EuiBetaBadge,{css:$,iconType:"beaker",label:e,size:"s",color:t}))},91:function(e,t,a){"use strict";a.d(t,"M",(function(){return n})),a.d(t,"L",(function(){return o})),a.d(t,"N",(function(){return i})),a.d(t,"Z",(function(){return r})),a.d(t,"H",(function(){return s})),a.d(t,"G",(function(){return l})),a.d(t,"m",(function(){return c})),a.d(t,"o",(function(){return d})),a.d(t,"n",(function(){return u})),a.d(t,"k",(function(){return p})),a.d(t,"l",(function(){return b})),a.d(t,"j",(function(){return g})),a.d(t,"W",(function(){return m})),a.d(t,"X",(function(){return f})),a.d(t,"S",(function(){return x})),a.d(t,"R",(function(){return h})),a.d(t,"P",(function(){return v})),a.d(t,"O",(function(){return y})),a.d(t,"p",(function(){return j})),a.d(t,"q",(function(){return _})),a.d(t,"ab",(function(){return O})),a.d(t,"A",(function(){return w})),a.d(t,"g",(function(){return L})),a.d(t,"h",(function(){return S})),a.d(t,"i",(function(){return I})),a.d(t,"Y",(function(){return D})),a.d(t,"D",(function(){return k})),a.d(t,"C",(function(){return C})),a.d(t,"B",(function(){return P})),a.d(t,"U",(function(){return T})),a.d(t,"V",(function(){return z})),a.d(t,"F",(function(){return E})),a.d(t,"E",(function(){return M})),a.d(t,"r",(function(){return F})),a.d(t,"Q",(function(){return A})),a.d(t,"b",(function(){return N})),a.d(t,"c",(function(){return W})),a.d(t,"d",(function(){return R})),a.d(t,"f",(function(){return B})),a.d(t,"e",(function(){return V})),a.d(t,"a",(function(){return G})),a.d(t,"cb",(function(){return $})),a.d(t,"hb",(function(){return H})),a.d(t,"gb",(function(){return U})),a.d(t,"ib",(function(){return q})),a.d(t,"fb",(function(){return X})),a.d(t,"db",(function(){return Y})),a.d(t,"eb",(function(){return K})),a.d(t,"K",(function(){return J})),a.d(t,"J",(function(){return Q})),a.d(t,"bb",(function(){return Z})),a.d(t,"I",(function(){return ee})),a.d(t,"z",(function(){return te})),a.d(t,"y",(function(){return ae})),a.d(t,"v",(function(){return ne})),a.d(t,"w",(function(){return oe})),a.d(t,"u",(function(){return ie})),a.d(t,"x",(function(){return re})),a.d(t,"t",(function(){return se})),a.d(t,"s",(function(){return le})),a.d(t,"T",(function(){return ce}));const n="layer_settings_accuracy_mode_enabled",o="layer_settings_accuracy_mode_disabled",i="precision_error_asc_count_precision",r="tsdb_unsupported_counter_op",s="random_sampling_info",l="ignoring-global-filters-layers",c="editor_missing_vis_type",d="editor_unknown_vis_type",u="editor_unknown_datasource_type",p="editor_missing_dataview",b="editor_missing_expression_dataview",g="editor_invalid_dimension",m="timeshift_smaller_then_interval",f="timeshift_not_multiple_interval",x="terms_with_multiple_timeshift",h="terms_wit_multiple_terms_scripted_fields",v="reduced_time_range_no_date_histogram",y="reduced_time_range_default_date_field",j="field_not_found",_="field_wrong_type",O="unsupported_aggregation_on_downsampled_index-",w="incomplete_es_results",L="calculations_date_histogram_required",S="calculations_missing_column_reference",I="calculations_wrong_dimension_configuration",D="time_shift_multiple_date_histograms",k="missing_ui_settings_histogram_bar_target",C="interval_op_missing_time_range",P="missing_date_histogram_to_compute_interval",T="timerange_op_dataview_not_time_based",z="timerange_op_missing_time_range",E="last_value_op_sort_field_not_found",M="last_value_op_sort_field_invalid_type",F="formula_layer_only_static_values",A="static_value_not_valid_number",N="annotation_missing_date_histogram",W="annotation_missing_time_field",R="annotation_missing_tooltip_field",B="annotation_time_field_not_found_in_dataview",V="annotation_text_field_not_found_in_dataview",G="annotation_invalid_filter_query",$="xy_breakdown_missing_axis",H="xy_y_missing_axis",U="xy_x_wrong_data_type",q="xy_y_wrong_data_type",X="xy_rendering_values_array",Y="xy_mixed_log_scale-groupid-",K="xy_mixed_log_scale-dimension-",J="pie_too_many_dimensions",Q="pie_rendering_values_array",Z="waffle_small_values",ee="metric_max_numeric",te="heatmap_x_missing_axis",ae="heatmap_rendering_values_array",ne="gauge_min_gt_max",oe="gauge_min_gt_metric",ie="gauge_min_gt_goal",re="gauge_min_ne_max",se="gauge_metric_gt_max",le="gauge_goal_gt_max",ce="text_based_lang_error"},92:function(e,t,a){"use strict";a.d(t,"G",(function(){return j.q})),a.d(t,"E",(function(){return j.o})),a.d(t,"J",(function(){return j.t})),a.d(t,"H",(function(){return j.r})),a.d(t,"t",(function(){return j.c})),a.d(t,"u",(function(){return j.d})),a.d(t,"y",(function(){return j.i})),a.d(t,"K",(function(){return j.u})),a.d(t,"r",(function(){return j.a})),a.d(t,"D",(function(){return j.n})),a.d(t,"C",(function(){return j.m})),a.d(t,"I",(function(){return j.s})),a.d(t,"z",(function(){return j.j})),a.d(t,"A",(function(){return j.k})),a.d(t,"F",(function(){return j.p})),a.d(t,"w",(function(){return j.f})),a.d(t,"v",(function(){return j.e})),a.d(t,"s",(function(){return j.b})),a.d(t,"x",(function(){return j.h})),a.d(t,"B",(function(){return j.l})),a.d(t,"j",(function(){return _})),a.d(t,"g",(function(){return O})),a.d(t,"h",(function(){return w})),a.d(t,"l",(function(){return L})),a.d(t,"L",(function(){return S})),a.d(t,"O",(function(){return I})),a.d(t,"f",(function(){return D})),a.d(t,"d",(function(){return k})),a.d(t,"b",(function(){return C})),a.d(t,"N",(function(){return P})),a.d(t,"m",(function(){return T})),a.d(t,"T",(function(){return z})),a.d(t,"V",(function(){return E})),a.d(t,"i",(function(){return M})),a.d(t,"S",(function(){return F})),a.d(t,"q",(function(){return A})),a.d(t,"Q",(function(){return N})),a.d(t,"R",(function(){return R})),a.d(t,"U",(function(){return B})),a.d(t,"P",(function(){return V})),a.d(t,"e",(function(){return G})),a.d(t,"o",(function(){return $})),a.d(t,"p",(function(){return H})),a.d(t,"c",(function(){return U})),a.d(t,"a",(function(){return q})),a.d(t,"M",(function(){return Y})),a.d(t,"n",(function(){return Q})),a.d(t,"k",(function(){return ee})),a.d(t,"W",(function(){return te})),a.d(t,"X",(function(){return ae}));var n=a(53),o=a(49),i=a(99),r=a(16),s=a(198),l=a(129),c=a(133);const d=e=>t=>a=>n=>{if(_.match(n))return Object(s.b)(t,e,n.payload,"true"===Object(l.b)(new r.Storage(localStorage),c.a));a(n)};var u=a(44),p=a(20),b=a.n(p),g=a(83),m=a(2),f=a(13);const x=e=>t=>{let a;return n=>o=>{var r;if(null!==(r=o.payload)&&void 0!==r&&r.searchSessionId||i.f.match(o)||!Object(j.c)(t.getState())&&!C.match(o)||!function(e,t){var a,n;const{activeDatasourceId:o,datasourceStates:i,dataViews:r}=e.lens;return Boolean(o&&i[o]&&(null===(a=(n=t[o]).isTimeBased)||void 0===a?void 0:a.call(n,i[o].state,r.indexPatterns)))}(t.getState(),e.datasourceMap)||function(e,t){const a=e.query.timefilter.timefilter,n=a.getTime();if(!Object(g.containsDynamicMath)(n.from)&&!Object(g.containsDynamicMath)(n.to))return;const{min:o,max:i}=a.getBounds();if(!o||!i)return;const r=b.a.duration(i.diff(o)).asMilliseconds();Date.now()-e.nowProvider.get().valueOf()>Math.max(r*h,v)&&t(S({searchSessionId:e.search.session.start(),resolvedDateRange:Object(g.getResolvedDateRange)(a)}))}(e.lensServices.data,t.dispatch),L.match(o)&&a)return a();n(o),t.getState().lens.isLoading||a||(a=function(e,t,a){const{query:n,search:o}=e,{filterManager:i}=n,r=Object(u.debounce)(((e=o.session.start())=>{const r=i.getFilters(),s=Object(u.isEqual)(t().lens.filters,r)?null:{filters:r};a(S({searchSessionId:e,...s,resolvedDateRange:Object(g.getResolvedDateRange)(n.timefilter.timefilter)}))}),100),s=o.session.getSession$().pipe(Object(m.delay)(0)).subscribe((e=>{e&&t().lens.searchSessionId!==e&&r(e)})),l=i.getUpdates$().subscribe({next:()=>{r()}}),c=e.query.timefilter.timefilter.getTimeUpdate$().subscribe({next:()=>{r()}}),d=e.query.timefilter.timefilter.getAutoRefreshFetch$().pipe(Object(m.tap)((()=>{r()})),Object(m.switchMap)((e=>Object(f.waitUntilNextSessionCompletes$)(o.session).pipe(Object(m.finalize)(e))))).subscribe();return()=>{l.unsubscribe(),c.unsubscribe(),d.unsubscribe(),s.unsubscribe()}}(e.lensServices.data,t.getState,t.dispatch))}},h=.02,v=1e4,y=e=>t=>a=>n=>{if(i.k.match(n)){const a=t.getState().lens.isFullscreenDatasource;e.lensServices.chrome.setIsVisible(Boolean(a))}a(n)};var j=a(162);const{loadInitial:_,initEmpty:O,initExisting:w,navigateAway:L,setExecutionContext:S,setState:I,enableAutoApply:D,disableAutoApply:k,applyChanges:C,setSaveable:P,onActiveDataChange:T,updateDatasourceState:z,updateVisualizationState:E,insertLayer:M,switchVisualization:F,rollbackSuggestion:A,submitSuggestion:N,switchDatasource:W,switchAndCleanDatasource:R,updateIndexPatterns:B,setToggleFullscreen:V,editVisualizationAction:G,removeLayers:$,removeOrClearLayer:H,cloneLayer:U,addLayer:q,onDropToDimension:X,setLayerDefaultDimension:Y,removeDimension:K,setIsLoadLibraryVisible:J,registerLibraryAnnotationGroup:Q,changeIndexPattern:Z}=i.d,ee=(e,t,a)=>{const o=[...Object(n.getDefaultMiddleware)({serializableCheck:{ignoredActionPaths:["payload.activeData","payload.dataViews.indexPatterns","payload.redirectCallback","payload.history","payload.newState.dataViews","payload.source.filterOperations","payload.target.filterOperations"],ignoredPaths:["lens.dataViews.indexPatterns","lens.activeData"]}}),d(e),x(e),y(e),e=>t=>a=>{if(T.match(a)){if(Object(u.isEqual)(e.getState().lens.activeData,a.payload.activeData))return}else if(z.match(a)){const{datasourceId:t,newDatasourceState:n}=a.payload,{datasourceStates:o}=e.getState().lens;if(Object(u.isEqual)(o[t].state,n))return}else if(S.match(a)){const t=Object.keys(a.payload),n=e.getState().lens,o=t.reduce(((e,t)=>({...e,[t]:n[t]})),{});if(Object(u.isEqual)(a.payload,o))return}t(a)}];return a&&o.push(a),Object(n.configureStore)({reducer:{lens:Object(i.e)(e)},middleware:o,preloadedState:null!=t?t:{lens:Object(i.c)(e)}})},te=()=>Object(o.useDispatch)(),ae=o.useSelector},94:function(e,t,a){"use strict";var n=a(160);a.d(t,"a",(function(){return n.a}))},95:function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return r})),a.d(t,"d",(function(){return l})),a.d(t,"a",(function(){return c}));var n=a(44),o=a(16),i=a(62);const[r,s]=Object(o.createGetterSetter)("UsageCollection",!1),l=(e,t)=>{var a;const o=r(),s=null!==(a=(e=>{if(e){var t;const a=e=>e.type?e:e.child?a(e.child):void 0;return null===(t=a(e))||void 0===t?void 0:t.type}})(t))&&void 0!==a?a:"application";Object.entries(Object(n.groupBy)(Array.isArray(e)?e:[e])).forEach((([e,t])=>{null==o||o.reportUiCounter(s,i.METRIC_TYPE.COUNT,`render_lens_${e}`,t.length)}))},c=e=>{const t=[];return null!=e&&e.type&&t.push(`vis_${e.type}`),t}},99:function(e,t,a){"use strict";a.d(t,"c",(function(){return p})),a.d(t,"f",(function(){return f})),a.d(t,"b",(function(){return v})),a.d(t,"j",(function(){return j})),a.d(t,"k",(function(){return I})),a.d(t,"g",(function(){return R})),a.d(t,"i",(function(){return G})),a.d(t,"a",(function(){return $})),a.d(t,"h",(function(){return H})),a.d(t,"d",(function(){return q})),a.d(t,"e",(function(){return X}));var n=a(53),o=a(44),i=a(47),r=a(83),s=a(94),l=a(116),c=a(162),d=a(197);const u={persistedDoc:void 0,searchSessionId:"",filters:[],query:{language:"kuery",query:""},resolvedDateRange:{fromDate:"",toDate:""},isFullscreenDatasource:!1,isSaveable:!1,isLoading:!1,isLinkedToOriginatingApp:!1,activeDatasourceId:null,datasourceStates:{},visualization:{state:null,activeId:null},dataViews:{indexPatternRefs:[],indexPatterns:{}},annotationGroups:{},managed:!1},p=({lensServices:{data:e},initialContext:t,initialStateFromLocator:a,embeddableEditorIncomingState:n,datasourceMap:o,visualizationMap:i})=>{const s=Object(r.getInitialDatasourceId)(o),l={};if(s&&Object.keys(o).forEach((e=>{l[e]={state:null,isLoading:!0}})),a)return"datasourceStates"in a&&Object.keys(o).forEach((e=>{l[e].state=a.datasourceStates[e]})),{...u,isLoading:!0,...a,activeDatasourceId:"activeDatasourceId"in a&&a.activeDatasourceId||s,datasourceStates:l};const c=t?((e,t)=>"searchQuery"in e&&e.searchQuery?e.searchQuery:"query"in e&&e.query?e.query:t.query.queryString.getQuery())(t,e):e.query.queryString.getDefaultQuery();return{...u,isLoading:!0,query:c,filters:t?"searchFilters"in t&&t.searchFilters?t.searchFilters:e.query.filterManager.getFilters():e.query.filterManager.getGlobalFilters(),searchSessionId:e.search.session.getSessionId()||"",resolvedDateRange:Object(r.getResolvedDateRange)(e.query.timefilter.timefilter),isLinkedToOriginatingApp:Boolean((null==n?void 0:n.originatingApp)||t&&"isEmbeddable"in t&&(null==t?void 0:t.isEmbeddable)),activeDatasourceId:s,datasourceStates:l,visualization:{state:null,activeId:Object.keys(i)[0]||null}}},b=Object(n.createAction)("lens/setState"),g=Object(n.createAction)("lens/setExecutionContext"),m=Object(n.createAction)("lens/initExisting"),f=Object(n.createAction)("lens/onActiveDataChange"),x=Object(n.createAction)("lens/setSaveable"),h=Object(n.createAction)("lens/enableAutoApply"),v=Object(n.createAction)("lens/disableAutoApply"),y=Object(n.createAction)("lens/applyChanges"),j=Object(n.createAction)("lens/setChangesApplied"),_=Object(n.createAction)("lens/updateDatasourceState"),O=Object(n.createAction)("lens/updateVisualizationState"),w=Object(n.createAction)("lens/insertLayer"),L=Object(n.createAction)("lens/switchVisualization"),S=Object(n.createAction)("lens/rollbackSuggestion"),I=Object(n.createAction)("lens/setToggleFullscreen"),D=Object(n.createAction)("lens/setIsLoadLibraryVisible"),k=Object(n.createAction)("lens/submitSuggestion"),C=Object(n.createAction)("lens/switchDatasource"),P=Object(n.createAction)("lens/switchAndCleanDatasource"),T=Object(n.createAction)("lens/navigateAway"),z=Object(n.createAction)("lens/loadInitial"),E=Object(n.createAction)("initEmpty",(function({newState:e,initialContext:t}){return{payload:{layerId:Object(s.a)(),newState:e,initialContext:t}}})),M=Object(n.createAction)("lens/editVisualizationAction"),F=Object(n.createAction)("lens/removeLayers"),A=Object(n.createAction)("lens/removeOrClearLayer"),N=Object(n.createAction)("cloneLayer",(function({layerId:e}){return{payload:{newLayerId:Object(s.a)(),layerId:e}}})),W=Object(n.createAction)("lens/addLayer"),R=Object(n.createAction)("lens/onDropToDimension"),B=Object(n.createAction)("lens/setLayerDefaultDimension"),V=Object(n.createAction)("lens/updateIndexPatterns"),G=Object(n.createAction)("lens/replaceIndexPattern"),$=Object(n.createAction)("lens/changeIndexPattern"),H=Object(n.createAction)("lens/removeDimension"),U=Object(n.createAction)("lens/registerLibraryAnnotationGroup"),q={initExisting:m,setState:b,setExecutionContext:g,onActiveDataChange:f,setSaveable:x,enableAutoApply:h,disableAutoApply:v,applyChanges:y,setChangesApplied:j,updateDatasourceState:_,updateVisualizationState:O,insertLayer:w,switchVisualization:L,rollbackSuggestion:S,setToggleFullscreen:I,setIsLoadLibraryVisible:D,submitSuggestion:k,switchDatasource:C,switchAndCleanDatasource:P,navigateAway:T,loadInitial:z,initEmpty:E,editVisualizationAction:M,removeLayers:F,removeOrClearLayer:A,addLayer:W,onDropToDimension:R,cloneLayer:N,setLayerDefaultDimension:B,updateIndexPatterns:V,replaceIndexpattern:G,changeIndexPattern:$,removeDimension:H,syncLinkedDimensions:K,registerLibraryAnnotationGroup:U},X=e=>{const{datasourceMap:t,visualizationMap:a}=e;return Object(n.createReducer)(u,(e=>{e.addCase(b,((e,{payload:t})=>({...e,...t}))).addCase(g,((e,{payload:t})=>({...e,...t}))).addCase(m,((e,{payload:t})=>({...e,...t}))).addCase(f,((e,{payload:{activeData:t}})=>({...e,activeData:t}))).addCase(x,((e,{payload:t})=>({...e,isSaveable:t}))).addCase(h,(e=>{e.autoApplyDisabled=!1})).addCase(v,(e=>{e.autoApplyDisabled=!0,e.changesApplied=!0})).addCase(y,(e=>{void 0===e.applyChangesCounter&&(e.applyChangesCounter=0),e.applyChangesCounter++})).addCase(j,((e,{payload:t})=>{e.changesApplied=t})).addCase(N,((e,{payload:{layerId:n,newLayerId:i}})=>{const r=new Map,l=e=>{const t=r.get(e);if(!t){const t=Object(s.a)();return r.set(e,t),t}return t};if(!e.activeDatasourceId||!e.visualization.activeId)return e;e.datasourceStates=Object(o.mapValues)(e.datasourceStates,((e,a)=>a?{...e,state:t[a].cloneLayer(e.state,n,i,l)}:e)),e.visualization.state=a[e.visualization.activeId].cloneLayer(e.visualization.state,n,i,r)})).addCase(A,((e,{payload:{visualizationId:n,layerId:i,layerIds:s}})=>{const l=a[n],c=t[e.activeDatasourceId],d="clear"===Object(r.getRemoveOperation)(l,e.visualization.state,i,s.length);let u=[];e.datasourceStates=Object(o.mapValues)(e.datasourceStates,((a,n)=>{const o=t[n],{newState:r,removedLayerIds:s}=d?o.clearLayer(a.state,i):o.removeLayer(a.state,i);return u=[...u,...s],{...a,...n===e.activeDatasourceId&&{state:r}}})),e.stagedPreview=void 0;const p=c.getUsedDataView(e.datasourceStates[e.activeDatasourceId].state);!d&&l.removeLayer||(e.visualization.state=l.clearLayer(e.visualization.state,i,p)),Object(o.uniq)(u).forEach((t=>{var a;return e.visualization.state=null===(a=l.removeLayer)||void 0===a?void 0:a.call(l,e.visualization.state,t)}))})).addCase($,((e,{payload:o})=>{const{visualizationIds:i,datasourceIds:r,layerId:s,indexPatternId:l,dataViews:d}=o;if(!d.indexPatterns)throw new Error("Invariant: indexPatterns should be defined");const u=[...e.dataViews.indexPatternRefs],p=new Set(u.map((e=>e.id)));Object.values(d.indexPatterns||{}).forEach((e=>{p.has(e.id)||u.push({id:e.id,name:e.name,title:e.title})}));const b={dataViews:{...e.dataViews,indexPatterns:d.indexPatterns,indexPatternRefs:u}};if(null!=i&&i.length)for(const t of i){const n=t&&e.visualization.activeId===t&&a[t];n&&s&&null!=n&&n.onIndexPatternChange&&(b.visualization={...e.visualization,state:n.onIndexPatternChange(e.visualization.state,l,s)})}if(null!=r&&r.length){b.datasourceStates={...e.datasourceStates};const o=Object(c.l)({lens:{...Object(n.current)(e),dataViews:b.dataViews}},t),i=o.datasourceLayers;for(const n of r){const r=n&&t[n];if(r&&null!=r&&r.onIndexPatternChange&&(b.datasourceStates={...b.datasourceStates,[n]:{isLoading:!1,state:r.onIndexPatternChange(b.datasourceStates[n].state,d.indexPatterns,l,s)}},s&&e.visualization.activeId)){const t=r.getPublicAPI({state:b.datasourceStates[n].state,layerId:s,indexPatterns:d.indexPatterns}),l=new Set(t.getTableSpec().map((({columnId:e})=>e))),c=i[s];if(c){const t=c.getTableSpec().map((({columnId:e})=>e)).filter((e=>!l.has(e))),n=a[e.visualization.activeId];let i=(b.visualization||e.visualization).state;t.forEach((e=>{i=n.removeDimension({layerId:s,columnId:e,prevState:i,frame:o})})),b.visualization={...e.visualization,state:i}}}}}return{...e,...b}})).addCase(V,((e,{payload:t})=>({...e,dataViews:{...e.dataViews,...t}}))).addCase(G,((e,{payload:n})=>{var o,i;e.dataViews.indexPatterns[n.newIndexPattern.id]=n.newIndexPattern,delete e.dataViews.indexPatterns[n.oldId],e.dataViews.indexPatternRefs=e.dataViews.indexPatternRefs.filter((e=>e.id!==n.oldId)),e.dataViews.indexPatternRefs.push({id:n.newIndexPattern.id,title:n.newIndexPattern.title,name:n.newIndexPattern.name});const r=a[e.visualization.activeId];e.visualization.state=null!==(o=null===(i=r.onIndexPatternRename)||void 0===i?void 0:i.call(r,e.visualization.state,n.oldId,n.newIndexPattern.id))&&void 0!==o?o:e.visualization.state,Object.entries(e.datasourceStates).forEach((([a,o])=>{var i,r;const s=t[a];e.datasourceStates[a].state=null!==(i=null==s||null===(r=s.onIndexPatternRename)||void 0===r?void 0:r.call(s,o.state,n.oldId,n.newIndexPattern.id))&&void 0!==i?i:o.state}))})).addCase(_,((e,{payload:o})=>{if(o.clearStagedPreview&&(e.stagedPreview=void 0),e.datasourceStates[o.datasourceId]={state:o.newDatasourceState,isLoading:!1},o.dontSyncLinkedDimensions)return;const i=Object(n.current)(e),{datasourceState:r,visualizationState:s}=K(i,a,t,o.datasourceId);e.visualization.state=s,e.datasourceStates[o.datasourceId].state=r})).addCase(O,((e,{payload:o})=>{if(!e.visualization.activeId)throw new Error("Invariant: visualization state got updated without active visualization");if(e.visualization.activeId!==o.visualizationId)return e;if(e.visualization.state=o.newState,!e.activeDatasourceId)return;if(o.dontSyncLinkedDimensions)return;const{datasourceState:i,visualizationState:r}=K(Object(n.current)(e),a,t);e.datasourceStates[e.activeDatasourceId].state=i,e.visualization.state=r})).addCase(L,((e,{payload:t})=>{const{newVisualizationId:a,visualizationState:n,datasourceState:o,datasourceId:i}=t.suggestion;return{...e,datasourceStates:i?{...e.datasourceStates,[i]:{...e.datasourceStates[i],state:o}}:e.datasourceStates,visualization:{...e.visualization,activeId:a,state:n},stagedPreview:t.clearStagedPreview?void 0:e.stagedPreview||{datasourceStates:e.datasourceStates,visualization:e.visualization,activeData:e.activeData}}})).addCase(S,(e=>({...e,...e.stagedPreview||{},stagedPreview:void 0}))).addCase(I,(e=>({...e,isFullscreenDatasource:!e.isFullscreenDatasource}))).addCase(k,(e=>({...e,stagedPreview:void 0}))).addCase(C,((e,{payload:t})=>({...e,datasourceStates:{...e.datasourceStates,[t.newDatasourceId]:e.datasourceStates[t.newDatasourceId]||{state:null,isLoading:!0}},activeDatasourceId:t.newDatasourceId}))).addCase(P,((e,{payload:o})=>{var i,r;const s=o.visualizationId&&a[o.visualizationId],l=e.visualization;let c=l.state;const d=[];if(s&&s.getLayerIds){const e=s.getLayerIds(l.state);d.push(...Object.values(e)),c=s.initialize((()=>d[0]))}const u=d[0],p=Object(n.current)(e).datasourceStates[o.newDatasourceId]?null===(i=Object(n.current)(e).datasourceStates[o.newDatasourceId])||void 0===i?void 0:i.state:t[o.newDatasourceId].createEmptyLayer(null!==(r=o.currentIndexPatternId)&&void 0!==r?r:""),b=t[o.newDatasourceId].insertLayer(p,u);return{...e,datasourceStates:{[o.newDatasourceId]:{state:b,isLoading:!1}},activeDatasourceId:o.newDatasourceId,visualization:{...l,state:c}}})).addCase(T,(e=>e)).addCase(z,((e,t)=>e)).addCase(E,((e,{payload:n})=>{const o={...e,...n.newState},i=Object(l.c)({datasourceMap:t,datasourceStates:o.datasourceStates,visualizationMap:a,visualizeTriggerFieldContext:n.initialContext,dataViews:o.dataViews});if(i)return{...o,datasourceStates:{...o.datasourceStates,[i.datasourceId]:{...o.datasourceStates[i.datasourceId],state:i.datasourceState}},visualization:{...o.visualization,activeId:i.visualizationId,state:i.visualizationState},stagedPreview:void 0};const s=o.visualization;if(!s.activeId)throw new Error("Invariant: visualization state got updated without active visualization");const c=a[s.activeId];if(null===s.state&&c){var d;const e=Object(r.getInitialDatasourceId)(t),a=c.initialize((()=>n.layerId)),i=t[e];return{...o,activeDatasourceId:e,datasourceStates:{...o.datasourceStates,[e]:{...o.datasourceStates[e],state:i.insertLayer(null===(d=o.datasourceStates[e])||void 0===d?void 0:d.state,n.layerId)}},visualization:{...s,state:a}}}return o})).addCase(M,((e,{payload:t})=>{if(!e.visualization.activeId)throw new Error("Invariant: visualization state got updated without active visualization");if(e.visualization.activeId!==t.visualizationId)return e;const n=a[t.visualizationId];null!=n&&n.onEditAction&&(e.visualization.state=n.onEditAction(e.visualization.state,t.event))})).addCase(w,((e,{payload:a})=>{const o=t[a.datasourceId].insertLayer;return{...e,datasourceStates:{...e.datasourceStates,[a.datasourceId]:{...e.datasourceStates[a.datasourceId],state:o(Object(n.current)(e).datasourceStates[a.datasourceId].state,a.layerId)}}}})).addCase(F,((e,{payload:{visualizationId:o,layerIds:i}})=>{if(!e.visualization.activeId)throw new Error("Invariant: visualization state got updated without active visualization");const r=o&&a[o];if(e.visualization.activeId===o&&r&&r.removeLayer&&e.visualization.state){const t=i.reduce(((e,t)=>r.removeLayer?r.removeLayer(e,t):e),e.visualization.state);e.visualization.state="function"==typeof t?t(Object(n.current)(e.visualization.state)):t}i.forEach((a=>{var o;const[i]=null!==(o=Object.entries(t).find((([t,n])=>e.datasourceStates[t]&&n.getLayers(e.datasourceStates[t].state).includes(a))))&&void 0!==o?o:[];if(i){const{newState:o}=t[i].removeLayer(Object(n.current)(e).datasourceStates[i].state,a);e.datasourceStates[i].state=o}}))})).addCase(W,((e,{payload:{layerId:o,layerType:i,extraArg:r,seriesType:s,ignoreInitialValues:l}})=>{var d,u;if(!e.activeDatasourceId||!e.visualization.activeId)return e;const p=a[e.visualization.activeId],b=t[e.activeDatasourceId],g=b.getUsedDataView(e.datasourceStates[e.activeDatasourceId].state),m=p.appendLayer(e.visualization.state,o,i,g,r,s),f=Object(c.l)({lens:Object(n.current)(e)},t),{noDatasource:x}=p.getSupportedLayers(m,f).find((({type:e})=>e===i))||{},h=null!==(d=null===(u=p.getLayersToLinkTo)||void 0===u?void 0:u.call(p,m,o))&&void 0!==d?d:[],v=!x&&b?b.insertLayer(e.datasourceStates[e.activeDatasourceId].state,o,h):e.datasourceStates[e.activeDatasourceId].state,{activeDatasourceState:y,activeVisualizationState:j}=l?{activeDatasourceState:v,activeVisualizationState:m}:Y({datasourceState:v,visualizationState:m,framePublicAPI:f,activeVisualization:p,activeDatasource:b,layerId:o,layerType:i});e.visualization.state=j,e.datasourceStates[e.activeDatasourceId].state=y,e.stagedPreview=void 0;const{datasourceState:_,visualizationState:O}=K(Object(n.current)(e),a,t);e.datasourceStates[e.activeDatasourceId].state=_,e.visualization.state=O})).addCase(R,((e,{payload:{source:o,target:i,dropType:r}})=>{var s,l;if(!e.visualization.activeId)return e;const u=a[e.visualization.activeId],p=Object(c.l)({lens:Object(n.current)(e)},t),{groups:b}=u.getConfiguration({layerId:i.layerId,frame:p,state:e.visualization.state}),[g,m]=Object.entries(t).find((([t,a])=>e.datasourceStates[t]&&a.getLayers(e.datasourceStates[t].state).includes(i.layerId)))||[];let f;if(m&&g){var x;if(f=null==m?void 0:m.onDrop({state:e.datasourceStates[g].state,source:o,target:{...i,filterOperations:(null===(x=b.find((({groupId:e})=>e===i.groupId)))||void 0===x?void 0:x.filterOperations)||Boolean},targetLayerDimensionGroups:b,dropType:r,indexPatterns:p.dataViews.indexPatterns}),!f)return;e.datasourceStates[g].state=f}u.onDrop=null===(s=u.onDrop)||void 0===s?void 0:s.bind(u);const h=null===(l=u.onDrop||d.a)||void 0===l?void 0:l({prevState:e.visualization.state,frame:p,target:i,source:o,dropType:r,group:b.find((({groupId:e})=>e===i.groupId))},u);if(e.visualization.state=h,g){const{datasourceState:o,visualizationState:i}=K(Object(n.current)(e),a,t);e.datasourceStates[g].state=o,e.visualization.state=i}e.stagedPreview=void 0})).addCase(B,((e,{payload:{layerId:o,columnId:r,groupId:s}})=>{if(!e.activeDatasourceId||!e.visualization.activeId)return e;const l=t[e.activeDatasourceId],d=a[e.visualization.activeId],u=d.getLayerType(o,e.visualization.state)||i.LayerTypes.DATA,{activeDatasourceState:p,activeVisualizationState:b}=Y({datasourceState:e.datasourceStates[e.activeDatasourceId].state,visualizationState:e.visualization.state,framePublicAPI:Object(c.l)({lens:Object(n.current)(e)},t),activeVisualization:d,activeDatasource:l,layerId:o,layerType:u,columnId:r,groupId:s});e.visualization.state=b,e.datasourceStates[e.activeDatasourceId].state=p})).addCase(H,((e,{payload:{layerId:o,columnId:i,datasourceId:r}})=>{var s,l;if(!e.visualization.activeId)return e;const d=a[e.visualization.activeId],u=null===(s=d.getLinkedDimensions)||void 0===s?void 0:s.call(d,e.visualization.state),p=null==u||null===(l=u.filter((({from:{columnId:e}})=>i===e)))||void 0===l?void 0:l.map((({to:e})=>e)),b=r?t[r]:void 0,g=Object(c.l)({lens:Object(n.current)(e)},t),m=t=>{if(b&&r){let a;try{a=Object(n.current)(e.datasourceStates[r].state)}catch{a=e.datasourceStates[r].state}e.datasourceStates[r].state=null==b?void 0:b.removeColumn({layerId:t.layerId,columnId:t.columnId,prevState:a,indexPatterns:g.dataViews.indexPatterns})}let a;try{a=Object(n.current)(e.visualization.state)}catch{a=e.visualization.state}e.visualization.state=d.removeDimension({layerId:t.layerId,columnId:t.columnId,prevState:a,frame:g})};m({layerId:o,columnId:i}),null==p||p.forEach((e=>e.columnId&&m({columnId:e.columnId,layerId:e.layerId})))})).addCase(U,((e,{payload:{group:t,id:a}})=>{e.annotationGroups[a]=t})).addDefaultCase((e=>e))}))};function Y({visualizationState:e,datasourceState:t,activeVisualization:a,activeDatasource:n,framePublicAPI:o,layerType:i,layerId:r,columnId:s,groupId:l}){const{initialDimensions:c,noDatasource:d}=a.getSupportedLayers(e,o).find((({type:e})=>e===i))||{};if(c){const i=l?c.find((({groupId:e})=>e===l)):c[0];if(i){const l=a.setDimension({groupId:i.groupId,layerId:r,columnId:s||i.columnId,prevState:e,frame:o});return!d&&null!=n&&n.initializeDimension?{activeDatasourceState:n.initializeDimension(t,r,o.dataViews.indexPatterns,{...i,columnId:s||i.columnId,visualizationGroups:a.getConfiguration({layerId:r,frame:o,state:l}).groups}),activeVisualizationState:l}:{activeDatasourceState:t,activeVisualizationState:l}}}return{activeDatasourceState:t,activeVisualizationState:e}}function K(e,t,a,n){var o;const i=null!=n?n:e.activeDatasourceId;if(!i)return{datasourceState:null,visualizationState:e.visualization.state};const r=Object(c.g)({lens:e}).indexPatterns;let l=e.datasourceStates[i].state,u=e.visualization.state;const p=t[e.visualization.activeId],b=null===(o=p.getLinkedDimensions)||void 0===o?void 0:o.call(p,u),g=Object(c.l)({lens:e},a),m=e=>p.getConfiguration({state:u,layerId:e,frame:g}).groups;if(b){const e=b.map((e=>{var t;return{...e,to:{...e.to,columnId:null!==(t=e.to.columnId)&&void 0!==t?t:Object(s.a)()}}}));l=a[i].syncColumns({state:l,links:e,getDimensionGroups:m,indexPatterns:r}),e.forEach((({from:e,to:t})=>{var a;const n={...e,id:e.columnId,humanData:{label:""}},o={...t,filterOperations:()=>!0};u=null===(a=p.onDrop||d.a)||void 0===a?void 0:a({prevState:u,frame:g,target:o,source:n,dropType:"duplicate_compatible",group:m(t.layerId).find((({groupId:e})=>e===o.groupId))},p)}))}return{datasourceState:l,visualizationState:u}}}}]);