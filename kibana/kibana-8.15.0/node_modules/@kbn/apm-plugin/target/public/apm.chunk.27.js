/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.apm_bundle_jsonpfunction=window.apm_bundle_jsonpfunction||[]).push([[27],{1251:function(e,t,a){"use strict";a.r(t),a.d(t,"registerAssistantFunctions",(function(){return g}));var n=a(11),r=a(17),s=a(6),i=a(1),c=a.n(i),o=a(109),u=a(9),l=a(264),_=a(86),m=a(130),p=a(142),b=a(123),E=a(96),d=a(74);async function g({registerRenderFunction:e}){!function({registerRenderFunction:e}){e("get_apm_timeseries",(e=>{const{response:t}=e,a=Object(s.groupBy)(t.data,(e=>e.group)),{services:{uiSettings:i}}=Object(r.useKibana)(),g=Object(m.a)(i);return c.a.createElement(E.b,null,c.a.createElement(l.b,null,c.a.createElement(n.EuiFlexGroup,{direction:"column"},Object.values(a).map((e=>{const t=e[0].group,a=Object(b.a)(e),r=Object(u.o)(a,10,1e3);let s;switch(e[0].stat.timeseries.name){case"transaction_throughput":case"exit_span_throughput":case"error_event_rate":s=u.l;break;case"transaction_latency":case"exit_span_latency":s=Object(b.b)(r);break;case"transaction_failure_rate":case"exit_span_failure_rate":s=e=>Object(u.j)(e||0,100)}const i=e.map((e=>{let t;const a=e.data;switch(e.stat.timeseries.name){case"transaction_throughput":case"exit_span_throughput":t=_.a.THROUGHPUT;break;case"transaction_failure_rate":case"exit_span_failure_rate":t=_.a.FAILED_TRANSACTION_RATE;break;case"transaction_latency":t=e.stat.timeseries.function===o.a.p99?_.a.LATENCY_P99:e.stat.timeseries.function===o.a.p95?_.a.LATENCY_P95:_.a.LATENCY_AVG;break;case"exit_span_latency":t=_.a.LATENCY_AVG;break;case"error_event_rate":t=_.a.ERROR_OCCURRENCES}return{title:e.id,type:"line",color:Object(_.b)(t).currentPeriodColor,data:a}}));return c.a.createElement(n.EuiFlexItem,{grow:!1,key:t},c.a.createElement(n.EuiFlexGroup,{direction:"column",gutterSize:"s"},c.a.createElement(n.EuiFlexItem,null,c.a.createElement(n.EuiText,{size:"m"},t),c.a.createElement(p.a,{comparisonEnabled:!1,fetchStatus:d.a.SUCCESS,id:t,timeZone:g,timeseries:i,yLabelFormat:s}))))})))))}))}({registerRenderFunction:e})}}}]);