/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.remoteClusters_bundle_jsonpfunction=window.remoteClusters_bundle_jsonpfunction||[]).push([[1],Array(31).concat([function(e,t,s){e.exports=s(11)(4)},function(e,t,s){"use strict";var r,o=function(){var e={};return function(t){if(void 0===e[t]){var s=document.querySelector(t);if(window.HTMLIFrameElement&&s instanceof window.HTMLIFrameElement)try{s=s.contentDocument.head}catch(e){s=null}e[t]=s}return e[t]}}(),a=[];function i(e){for(var t=-1,s=0;s<a.length;s++)if(a[s].identifier===e){t=s;break}return t}function l(e,t){for(var s={},r=[],o=0;o<e.length;o++){var l=e[o],n=t.base?l[0]+t.base:l[0],u=s[n]||0,c="".concat(n," ").concat(u);s[n]=u+1;var d=i(c),m={css:l[1],media:l[2],sourceMap:l[3]};-1!==d?(a[d].references++,a[d].updater(m)):a.push({identifier:c,updater:b(m,t),references:1}),r.push(c)}return r}function n(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var a=s.nc;a&&(r.nonce=a)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var i=o(e.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}return t}var u,c=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function d(e,t,s,r){var o=s?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=c(t,o);else{var a=document.createTextNode(o),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(a,i[t]):e.appendChild(a)}}function m(e,t,s){var r=s.css,o=s.media,a=s.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var j=null,p=0;function b(e,t){var s,r,o;if(t.singleton){var a=p++;s=j||(j=n(t)),r=d.bind(null,s,a,!1),o=d.bind(null,s,a,!0)}else s=n(t),r=m.bind(null,s,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(s)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var s=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<s.length;r++){var o=i(s[r]);a[o].references--}for(var n=l(e,t),u=0;u<s.length;u++){var c=i(s[u]);0===a[c].references&&(a[c].updater(),a.splice(c,1))}s=n}}}},function(e,t,s){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var s=function(e,t){var s,r,o,a=e[1]||"",i=e[3];if(!i)return a;if(t&&"function"==typeof btoa){var l=(s=i,r=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),"/*# ".concat(o," */")),n=i.sources.map((function(e){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(e," */")}));return[a].concat(n).concat([l]).join("\n")}return[a].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(s,"}"):s})).join("")},t.i=function(e,s,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var a=0;a<this.length;a++){var i=this[a][0];null!=i&&(o[i]=!0)}for(var l=0;l<e.length;l++){var n=[].concat(e[l]);r&&o[n[0]]||(s&&(n[2]?n[2]="".concat(s," and ").concat(n[2]):n[2]=s),t.push(n))}},t}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(23),o=s(15),a=r.__importDefault(s(35));t.default=function(e,t){var s=o.useState(t),r=s[0],i=s[1];return a.default((function(){var t=e.subscribe(i);return function(){return t.unsubscribe()}}),[e]),r}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(15),o="undefined"!=typeof window?r.useLayoutEffect:r.useEffect;t.default=o},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setEuiDevProviderWarning=t.getEuiDevProviderWarning=t.emitEuiProviderWarning=void 0;var r=void 0;t.setEuiDevProviderWarning=function(e){return r=e},t.getEuiDevProviderWarning=function(){return r},t.emitEuiProviderWarning=function(e){if("function"==typeof r)return r(e);switch(r){case"log":console.log(e);break;case"warn":console.warn(e);break;case"error":throw new Error(e)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(23),o=s(38),a=r.__importDefault(s(40));t.default=function(e,t){a.default(e,t,o.isDeepEqual)}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDeepEqual=t.off=t.on=t.isClient=void 0;var r=s(23).__importDefault(s(39));t.isClient="object"==typeof window,t.on=function(e){for(var t=[],s=1;s<arguments.length;s++)t[s-1]=arguments[s];return e.addEventListener.apply(e,t)},t.off=function(e){for(var t=[],s=1;s<arguments.length;s++)t[s-1]=arguments[s];return e.removeEventListener.apply(e,t)},t.isDeepEqual=r.default},function(e,t,s){"use strict";e.exports=function e(t,s){if(t===s)return!0;if(t&&s&&"object"==typeof t&&"object"==typeof s){if(t.constructor!==s.constructor)return!1;var r,o,a;if(Array.isArray(t)){if((r=t.length)!=s.length)return!1;for(o=r;0!=o--;)if(!e(t[o],s[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===s.source&&t.flags===s.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===s.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===s.toString();if((r=(a=Object.keys(t)).length)!==Object.keys(s).length)return!1;for(o=r;0!=o--;)if(!Object.prototype.hasOwnProperty.call(s,a[o]))return!1;for(o=r;0!=o--;){var i=a[o];if(!("_owner"===i&&t.$$typeof||e(t[i],s[i])))return!1}return!0}return t!=t&&s!=s}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(15);t.default=function(e,t,s){var o=r.useRef(void 0);o.current&&s(t,o.current)||(o.current=t),r.useEffect(e,o.current)}},function(e,t,s){"use strict";function r(e){return function(t){var s=t.dispatch,r=t.getState;return function(t){return function(o){return"function"==typeof o?o(s,r,e):t(o)}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r();o.withExtraArgument=r;var a=o;t.default=a},function(e,t,s){switch(window.__kbnThemeTag__){case"v8dark":return s(43);case"v8light":return s(45)}},function(e,t,s){var r=s(32),o=s(44);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);r(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},function(e,t,s){(t=s(33)(!1)).push([e.i,".remoteClusterSkipIfUnavailableSwitch{justify-content:flex-start!important;padding-top:8px!important}.remoteClustersConnectionStatus__message{flex-basis:auto!important}",""]),e.exports=t},function(e,t,s){var r=s(32),o=s(46);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);r(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},function(e,t,s){(t=s(33)(!1)).push([e.i,".remoteClusterSkipIfUnavailableSwitch{justify-content:flex-start!important;padding-top:8px!important}.remoteClustersConnectionStatus__message{flex-basis:auto!important}",""]),e.exports=t},,function(e,t,s){"use strict";s.r(t),s.d(t,"renderApp",(function(){return zt}));var r=s(15),o=s.n(r),a=s(27),i=s(19),l=s(21),n=s(20),u=s(31),c=s.n(u),d=s(28),m=s(36),j=s(34),p=s.n(j),b=s(29),x=s.n(b),g=s(18);const C="eui-global",f="eui-utilities",O={darkMode:!1};var h=s(16);const E=[g.euiStylisPrefixer],y=x()({key:"css",stylisPlugins:E,container:document.querySelector('meta[name="emotion"]')}),M=x()({key:C,stylisPlugins:E,container:document.querySelector(`meta[name="${C}"]`)}),v=x()({key:f,stylisPlugins:E,container:document.querySelector(`meta[name="${f}"]`)});y.compat=!0,M.compat=!0,v.compat=!0;const F={default:y,global:M,utility:v},k=({theme:{theme$:e},globalStyles:t,colorMode:s,modify:o,children:a})=>{const i=p()(e,O),l=Object(r.useMemo)((()=>(e=>e.darkMode?g.COLOR_MODES_STANDARD.dark:g.COLOR_MODES_STANDARD.light)(i)),[i]),n=s||l,u=!1!==t&&void 0;return Object(h.jsx)(g.EuiProvider,{cache:F,modify:o,colorMode:n,globalStyles:u,utilityClasses:u},a)},S=({children:e,i18n:t,...s})=>Object(d.useIsNestedEuiProvider)()?(Object(m.emitEuiProviderWarning)("KibanaRootContextProvider has likely been nested in this React tree, either by direct reference or by KibanaRenderContextProvider.  The result of this nesting is a nesting of EuiProvider, which has negative effects.  Check your React tree for nested Kibana context providers."),Object(h.jsx)(t.Context,null,e)):Object(h.jsx)(k,s,Object(h.jsx)(t.Context,null,e));var T=s(30);const L=({children:e,...t})=>Object(h.jsx)(S,c()({globalStyles:!1},t),Object(h.jsx)(T.KibanaErrorBoundaryProvider,{analytics:t.analytics},Object(h.jsx)(T.KibanaErrorBoundary,null,e)));var D=s(22),R=s(25);const P=({children:e,...t})=>Object(h.jsx)(D.Router,t,Object(h.jsx)(R.CompatRouter,null,e));var _=s(24);const w={services:{}},A=Object(r.createContext)(w);var N=s(37),I=s.n(N);const B=({children:e,component:t,render:s,...a})=>{const i=Object(r.useMemo)((()=>{if(t)return e=>Object(h.jsx)(o.a.Fragment,null,Object(h.jsx)(z,null),Object(h.jsx)(t,e))}),[t]);if(i)return Object(h.jsx)(D.Route,c()({},a,{component:i}));if(s||"function"==typeof e){const t="function"==typeof e?e:s;return Object(h.jsx)(D.Route,c()({},a,{render:e=>Object(h.jsx)(o.a.Fragment,null,Object(h.jsx)(z,null),t(e))}))}return Object(h.jsx)(D.Route,a,Object(h.jsx)(z,null),e)},z=()=>{const{executionContext:e}=Object(r.useContext)(A).services,t=Object(D.useRouteMatch)();return function(e,t){I()((()=>(null==e||e.set(t),()=>{null==e||e.clear()})),[t])}(e,{type:"application",page:t.path,id:Object.keys(t.params).length>0?JSON.stringify(t.params):void 0}),null},W=({legacySwitch:e=!0,children:t})=>{const s=Object(D.useRouteMatch)();return e?Object(h.jsx)(D.Switch,null,t):Object(h.jsx)(R.Routes,null,r.Children.map(t,(e=>{if(o.a.isValidElement(e)&&e.type===B){var r;const a=Object(_.replace)(null==e?void 0:e.props.path,s.url+"/",""),i="function"==typeof(null==e?void 0:e.props.children)?null==e?void 0:e.props.children:null==e?void 0:e.props.render;return Object(h.jsx)(R.Route,{path:a,element:Object(h.jsx)(o.a.Fragment,null,Object(h.jsx)(z,null),(null==e||null===(r=e.props)||void 0===r?void 0:r.component)&&Object(h.jsx)(e.props.component,null)||i&&i()||t)})}return e})))};var U=s(8),q=s(6),V=s(10);async function H(e){return await Object(V.c)(void 0,e)}async function G(e){const t=Object(V.d)("",e);return await Object(q.d)(t,U.c)}async function $(e){const{name:t,...s}=e,r=Object(V.e)(t,s);return await Object(q.d)(r,U.f)}var K=s(7);var Y=s(5),Q=s(9);let J,Z=!1;function X(e){Z=e}function ee(){return J}const te=e=>e.clusters.asList,se=e=>e.clusters.byName,re=e=>e.detailPanel.isOpen,oe=e=>((e,t)=>se(e)[t])(e,e.detailPanel.clusterName),ae=e=>e.detailPanel.clusterName,ie=e=>e.clusters.isLoading,le=e=>e.clusters.clusterLoadError,ne=e=>e.addCluster.isAdding,ue=e=>e.addCluster.error,ce=e=>se(e)[e.editCluster.clusterName],de=e=>e.editCluster.isEditing,me=e=>e.editCluster.error,je=e=>e.removeCluster.isRemoving;var pe=s(0);const be="OPEN_DETAIL_PANEL",xe="CLOSE_DETAIL_PANEL",ge="LOAD_CLUSTERS_START",Ce="LOAD_CLUSTERS_SUCCESS",fe="LOAD_CLUSTERS_FAILURE",Oe="REFRESH_CLUSTERS_SUCCESS",he="ADD_CLUSTER_START",Ee="ADD_CLUSTER_SUCCESS",ye="ADD_CLUSTER_FAILURE",Me="CLEAR_ADD_CLUSTER_ERRORS",ve="EDIT_CLUSTER_START",Fe="EDIT_CLUSTER_STOP",ke="EDIT_CLUSTER_SAVE",Se="EDIT_CLUSTER_SUCCESS",Te="EDIT_CLUSTER_FAILURE",Le="CLEAR_EDIT_CLUSTER_ERRORS",De="REMOVE_CLUSTERS_START",Re="REMOVE_CLUSTERS_FINISH",Pe=({name:e})=>t=>{const{history:s}=ee(),r=s.location.search,{cluster:o}=Object(l.extractQueryParams)(r);o!==e&&s.replace({search:`?cluster=${e}`}),t({type:be,payload:{clusterName:e}})},_e=()=>e=>{e({type:xe})};function we(e,t=null){return 1!==e?pe.i18n.translate("xpack.remoteClusters.removeAction.errorMultipleNotificationTitle",{defaultMessage:"Error removing {count} remote clusters",values:{count:e}}):t?pe.i18n.translate("xpack.remoteClusters.removeAction.errorSingleNotificationTitle",{defaultMessage:"Error removing remote cluster ''{name}''",values:{name:t}}):void 0}const Ae=()=>async e=>{let t;e({type:ge});try{t=await H()}catch(t){return e({type:fe,payload:{error:t}})}e({type:Ce,payload:{clusters:t}})};var Ne=s(17),Ie=s(4),Be=s(2),ze=s.n(Be),We=s(1);function Ue({isConnected:e,mode:t}){const s=pe.i18n.translate("xpack.remoteClusters.connectedStatus.notConnectedToolTip",{defaultMessage:"Ensure the seed nodes are configured with the remote cluster's transport port, not the http port."});return Object(h.jsx)(g.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},Object(h.jsx)(g.EuiFlexItem,{grow:!1},Object(h.jsx)(g.EuiBadge,{color:e?"success":"danger","data-test-subj":"remoteClusterConnectionStatusMessage"},e?pe.i18n.translate("xpack.remoteClusters.connectedStatus.connectedAriaLabel",{defaultMessage:"Connected"}):pe.i18n.translate("xpack.remoteClusters.connectedStatus.notConnectedAriaLabel",{defaultMessage:"Not connected"}))),!e&&t===We.d&&Object(h.jsx)(g.EuiFlexItem,{grow:!1},Object(h.jsx)(g.EuiIconTip,{color:"subdued",content:s})))}class remove_cluster_button_provider_RemoveClusterButtonProvider extends r.Component{constructor(...e){super(...e),ze()(this,"state",{isModalOpen:!1}),ze()(this,"onMouseOverModal",(e=>{e.stopPropagation()})),ze()(this,"showConfirmModal",(()=>{this.setState({isModalOpen:!0})})),ze()(this,"closeConfirmModal",(()=>{this.setState({isModalOpen:!1})})),ze()(this,"onConfirm",(()=>{const{removeClusters:e,clusterNames:t}=this.props;e(t),this.closeConfirmModal()}))}render(){const{clusterNames:e,children:t}=this.props,{isModalOpen:s}=this.state,a=1===e.length;let i;if(s){const t=a?pe.i18n.translate("xpack.remoteClusters.removeButton.confirmModal.deleteSingleClusterTitle",{defaultMessage:"Remove remote cluster ''{name}''?",values:{name:e[0]}}):pe.i18n.translate("xpack.remoteClusters.removeButton.confirmModal.multipleDeletionTitle",{defaultMessage:"Remove {count} remote clusters?",values:{count:e.length}}),s=Object(h.jsx)(r.Fragment,null,Object(h.jsx)("p",null,Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.removeButton.confirmModal.multipleDeletionDescription",defaultMessage:"You are about to remove these remote clusters:"})),Object(h.jsx)("ul",null,e.map((e=>Object(h.jsx)("li",{key:e},e)))));i=Object(h.jsx)(o.a.Fragment,null,Object(h.jsx)(g.EuiConfirmModal,{"data-test-subj":"remoteClustersDeleteConfirmModal",title:t,onCancel:this.closeConfirmModal,onConfirm:this.onConfirm,cancelButtonText:pe.i18n.translate("xpack.remoteClusters.removeButton.confirmModal.cancelButtonText",{defaultMessage:"Cancel"}),buttonColor:"danger",confirmButtonText:pe.i18n.translate("xpack.remoteClusters.removeButton.confirmModal.confirmButtonText",{defaultMessage:"Remove"}),onMouseOver:this.onMouseOverModal},!a&&s))}return Object(h.jsx)(r.Fragment,null,t(this.showConfirmModal),i)}}const qe=Object(i.connect)(void 0,(e=>({removeClusters:t=>{e((e=>async(t,s)=>{t({type:De});let r=[],o=[];var a;if(await Promise.all([(a=e.join(","),Object(V.b)(a)).then((e=>{({itemsDeleted:r,errors:o}=e)})),new Promise((e=>setTimeout(e,500)))]).catch((t=>{var s;const r=we(e.length,e[0]);K.c.addDanger({title:r,text:null===(s=t.body)||void 0===s?void 0:s.message})})),o.length>0){const{name:e,error:{payload:{message:t}}}=o[0],s=we(o.length,e);K.c.addDanger({title:s,text:t})}r.length>0&&(Object(q.c)(q.a.COUNT,e.length>1?U.e:U.d),1===r.length?K.c.addSuccess(pe.i18n.translate("xpack.remoteClusters.removeAction.successSingleNotificationTitle",{defaultMessage:"Remote cluster ''{name}'' was removed",values:{name:r[0]}})):K.c.addSuccess(pe.i18n.translate("xpack.remoteClusters.removeAction.successMultipleNotificationTitle",{defaultMessage:"{count} remote clusters were removed",values:{count:r.length}})));const i=ae(s());i&&e.includes(i)&&t(_e()),t({type:Re,payload:r})})(t))}})))(remove_cluster_button_provider_RemoveClusterButtonProvider);function Ve({securityModel:e}){return Object(h.jsx)(g.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},Object(h.jsx)(g.EuiFlexItem,{grow:!1},Object(h.jsx)(g.EuiText,{"data-test-subj":"authenticationTypeLabel",size:"s"},Object(We.e)(e))),"api_key"!==e&&Object(h.jsx)(g.EuiFlexItem,{grow:!1,"data-test-subj":"authenticationTypeWarning"},Object(h.jsx)(g.EuiIconTip,{type:"iInCircle",color:"subdued",content:Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterList.table.authTypeWarningMessage",defaultMessage:"If you need more fine-grained permissions on your remote cluster, you can now use API keys instead of certificates as authentication mechanism."})})))}const He=(e,t)=>{if(t){const s=t.toLowerCase();return e.filter((e=>{const{name:t,seeds:r,proxyAddress:o}=e;return!!t.toLowerCase().toLowerCase().includes(s)||!(!o||!o.toLowerCase().includes(s))||!!r&&r.some((e=>e.includes(s)))}))}return e};class remote_cluster_table_RemoteClusterTable extends r.Component{static getDerivedStateFromProps(e,t){const{clusters:s}=e,{prevClusters:r,queryText:o}=t;return r!==s?{prevClusters:s,filteredClusters:He(s,o)}:null}constructor(e){super(e),ze()(this,"onSearch",(({query:e})=>{if(!e)return;const{clusters:t}=this.props,{text:s}=e;this.setState({queryText:s,filteredClusters:He(t,s)})})),this.state={prevClusters:e.clusters,selectedItems:[],filteredClusters:e.clusters,queryText:""}}render(){const{openDetailPanel:e}=this.props,{selectedItems:t,filteredClusters:s}=this.state,{history:r}=ee(),o=[{field:"name",name:pe.i18n.translate("xpack.remoteClusters.remoteClusterList.table.nameColumnTitle",{defaultMessage:"Name"}),sortable:!0,truncateText:!1,render:(t,{isConfiguredByNode:s,hasDeprecatedProxySetting:r})=>{const o=Object(h.jsx)(g.EuiLink,{"data-test-subj":"remoteClustersTableListClusterLink",onClick:()=>{Object(q.c)(q.a.CLICK,U.g),e(t)}},t);return s?Object(h.jsx)(g.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},Object(h.jsx)(g.EuiFlexItem,{grow:!1},o),Object(h.jsx)(g.EuiFlexItem,{grow:!1,"data-test-subj":"remoteClustersTableListClusterDefinedByNodeTooltip"},Object(h.jsx)(g.EuiIconTip,{type:"iInCircle",color:"subdued",content:Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterList.table.isConfiguredByNodeMessage",defaultMessage:"Defined in elasticsearch.yml"})}))):r?Object(h.jsx)(g.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},Object(h.jsx)(g.EuiFlexItem,{grow:!1,"data-test-subj":"remoteClustersTableListClusterWithDeprecatedSettingTooltip"},o),Object(h.jsx)(g.EuiFlexItem,{grow:!1,"data-test-subj":"remoteClustersTableListDeprecatedSetttingsTooltip"},Object(h.jsx)(g.EuiIconTip,{type:"warning",color:"warning",content:Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterList.table.hasDeprecatedSettingMessage",defaultMessage:"Edit this cluster to update the deprecated settings."})}))):o}},{field:"isConnected",name:pe.i18n.translate("xpack.remoteClusters.remoteClusterList.table.connectedColumnTitle",{defaultMessage:"Status"}),sortable:!0,render:(e,{mode:t})=>Object(h.jsx)(Ue,{isConnected:e,mode:t}),width:"240px"},{field:"mode",name:pe.i18n.translate("xpack.remoteClusters.remoteClusterList.table.modeColumnTitle",{defaultMessage:"Mode"}),sortable:!0,render:e=>{let t;return t=e===We.c?e:pe.i18n.translate("xpack.remoteClusters.remoteClusterList.table.sniffModeDescription",{defaultMessage:"default"}),Object(h.jsx)(g.EuiFlexItem,{grow:!1,className:"remoteClustersConnectionMode__message"},Object(h.jsx)(g.EuiText,{id:"xpack.remoteClusters.remoteClusterList.table.sniffModeDescription","data-test-subj":"remoteClusterConnectionModeMessage",size:"s"},t))}},{field:"mode",name:pe.i18n.translate("xpack.remoteClusters.remoteClusterList.table.addressesColumnTitle",{defaultMessage:"Addresses"}),"data-test-subj":"remoteClustersAddress",truncateText:!0,render:(e,{seeds:t,proxyAddress:s})=>{const r=e===We.c?s:t.join(", ");return Object(h.jsx)(g.EuiFlexItem,{grow:!1,className:"remoteClustersConnectionAddress__message"},Object(h.jsx)(g.EuiText,{"data-test-subj":"remoteClusterConnectionAddressMessage",size:"s"},r))}},{field:"securityModel",name:pe.i18n.translate("xpack.remoteClusters.remoteClusterList.table.authTypeColumnTitle",{defaultMessage:"Authentication type"}),sortable:!0,render:e=>Object(h.jsx)(Ve,{securityModel:e})},{field:"mode",name:pe.i18n.translate("xpack.remoteClusters.remoteClusterList.table.connectionsColumnTitle",{defaultMessage:"Connections"}),sortable:!0,width:"160px",align:"right",render:(e,{connectedNodesCount:t,connectedSocketsCount:s})=>{const r=e===We.c?s:t;return Object(h.jsx)(g.EuiFlexItem,{grow:!1,className:"remoteClustersNodeCount__message"},Object(h.jsx)(g.EuiText,{"data-test-subj":"remoteClusterNodeCountMessage",size:"s"},r))}},{name:pe.i18n.translate("xpack.remoteClusters.remoteClusterList.table.actionsColumnTitle",{defaultMessage:"Actions"}),width:"100px",actions:[{render:({name:e,isConfiguredByNode:t})=>{const s=t?pe.i18n.translate("xpack.remoteClusters.remoteClusterList.table.actionBlockedEditDescription",{defaultMessage:"Remote clusters defined in elasticsearch.yml can't be edited"}):pe.i18n.translate("xpack.remoteClusters.remoteClusterList.table.actionEditDescription",{defaultMessage:"Edit remote cluster"});return Object(h.jsx)(g.EuiToolTip,{content:s,delay:"long"},Object(h.jsx)(g.EuiButtonIcon,c()({"data-test-subj":"remoteClusterTableRowEditButton","aria-label":s,iconType:"pencil",color:"primary",isDisabled:t},Object(n.reactRouterNavigate)(r,`/edit/${e}`),{disabled:t})))}},{render:({name:e,isConfiguredByNode:t})=>{const s=t?pe.i18n.translate("xpack.remoteClusters.remoteClusterList.table.actionBlockedDeleteDescription",{defaultMessage:"Remote clusters defined in elasticsearch.yml can't be deleted"}):pe.i18n.translate("xpack.remoteClusters.remoteClusterList.table.actionDeleteDescription",{defaultMessage:"Delete remote cluster"});return Object(h.jsx)(g.EuiToolTip,{content:s,delay:"long"},Object(h.jsx)(qe,{clusterNames:[e]},(e=>Object(h.jsx)(g.EuiButtonIcon,{"data-test-subj":"remoteClusterTableRowRemoveButton","aria-label":s,iconType:"trash",color:"danger",isDisabled:t,onClick:e}))))}}]}],a={toolsLeft:t.length?Object(h.jsx)(qe,{clusterNames:t.map((({name:e})=>e))},(e=>Object(h.jsx)(g.EuiButton,{color:"danger",onClick:e,"data-test-subj":"remoteClusterBulkDeleteButton"},Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterList.table.removeButtonLabel",defaultMessage:"Remove {count, plural, one {remote cluster} other {{count} remote clusters}}",values:{count:t.length}})))):void 0,toolsRight:Object(h.jsx)(g.EuiButton,c()({},Object(n.reactRouterNavigate)(r,"/add"),{fill:!0,iconType:"plusInCircle","data-test-subj":"remoteClusterCreateButton"}),Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterList.connectButtonLabel",defaultMessage:"Add a remote cluster"})),onChange:this.onSearch,box:{incremental:!0,"data-test-subj":"remoteClusterSearch"}},i={onSelectionChange:e=>this.setState({selectedItems:e}),selectable:({isConfiguredByNode:e})=>!e};return Object(h.jsx)(g.EuiInMemoryTable,{items:s,itemId:"name",columns:o,search:a,pagination:{initialPageSize:20,pageSizeOptions:[10,20,50]},sorting:{sort:{field:"name",direction:"asc"}},selection:i,"data-test-subj":"remoteClusterListTable"})}}ze()(remote_cluster_table_RemoteClusterTable,"defaultProps",{clusters:[]});const Ge=Object(i.connect)(void 0,(e=>({openDetailPanel:t=>{e(Pe({name:t}))}})))(remote_cluster_table_RemoteClusterTable),$e=Object(r.createContext)({}),Ke=({children:e,context:t})=>Object(h.jsx)($e.Provider,{value:t},e),Ye=({closeModal:e,onSubmit:t})=>{const[s,o]=Object(r.useState)(!1),a=Object(g.useGeneratedHtmlId)({prefix:"modalForm"}),i=Object(g.useGeneratedHtmlId)({prefix:"checkBoxId"});return Object(h.jsx)(g.EuiModal,{onClose:e},Object(h.jsx)(g.EuiModalHeader,null,Object(h.jsx)(g.EuiModalHeaderTitle,null,Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.clusterWizard.trustStep.modal.title",defaultMessage:"Confirm your configuration"}))),Object(h.jsx)(g.EuiModalBody,null,Object(h.jsx)(g.EuiText,null,Object(h.jsx)("p",null,Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.clusterWizard.trustStep.body",defaultMessage:"Have you set up trust to connect to your remote cluster?"}))),Object(h.jsx)(g.EuiSpacer,{size:"m"}),Object(h.jsx)(g.EuiForm,{id:a,component:"form",onSubmit:s=>{s.preventDefault(),e(),t()}},Object(h.jsx)(g.EuiFormRow,null,Object(h.jsx)(g.EuiCheckbox,{id:i,label:pe.i18n.translate("xpack.remoteClusters.clusterWizard.trustStep.modal.checkbox",{defaultMessage:"Yes, I have setup trust"}),labelProps:{"data-test-subj":"remoteClusterTrustCheckboxLabel"},checked:s,onChange:()=>o(!s),"data-test-subj":"remoteClusterTrustCheckbox"})))),Object(h.jsx)(g.EuiModalFooter,null,Object(h.jsx)(g.EuiButtonEmpty,{onClick:e},Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.clusterWizard.trustStep.modal.cancelButton",defaultMessage:"No, go back"})),Object(h.jsx)(g.EuiButton,{fill:!0,type:"submit",form:a,disabled:!s,"data-test-subj":"remoteClusterTrustSubmitButton"},Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.clusterWizard.trustStep.modal.createCluster",defaultMessage:"Add remote cluster"}))))},Qe=400,Je={apiKeyTitle:pe.i18n.translate("xpack.remoteClusters.clusterWizard.trustStep.setupWithApiKeys.title",{defaultMessage:"API keys"}),apiKeyDescription:pe.i18n.translate("xpack.remoteClusters.clusterWizard.trustStep.setupWithApiKeys.description",{defaultMessage:"Fine-grained access to remote indices. You need an API key provided by the remote cluster administrator."}),certTitle:pe.i18n.translate("xpack.remoteClusters.clusterWizard.trustStep.setupWithCert.title",{defaultMessage:"Certificates"}),certDescription:pe.i18n.translate("xpack.remoteClusters.clusterWizard.trustStep.setupWithCert.description",{defaultMessage:"Full access to the remote cluster. You need TLS certificates from the remote cluster."})},Ze={cert:Ie.d,apiKey:Ie.c,cloud:Ie.a},Xe=({onBack:e,onSubmit:t,isSaving:s})=>{const[a,i]=Object(r.useState)(!1),{canUseAPIKeyTrustModel:l,isCloudEnabled:n}=Object(r.useContext)($e);return Object(h.jsx)("div",null,Object(h.jsx)(g.EuiText,{size:"m",textAlign:"center"},Object(h.jsx)("p",null,Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.clusterWizard.trustStep.title",defaultMessage:"Set up an authentication mechanism to connect to the remote cluster. Complete{br} this step using the instructions in our docs before continuing.",values:{br:Object(h.jsx)("br",null)}}))),Object(h.jsx)(g.EuiSpacer,{size:"xxl"}),Object(h.jsx)(g.EuiFlexGroup,{wrap:!0,justifyContent:"center"},l&&Object(h.jsx)(g.EuiFlexItem,{style:{maxWidth:Qe}},Object(h.jsx)(g.EuiCard,{title:Je.apiKeyTitle,paddingSize:"l","data-test-subj":"setupTrustApiKeyCard"},Object(h.jsx)(g.EuiText,{size:"s"},Object(h.jsx)("p",null,Je.apiKeyDescription)),Object(h.jsx)(g.EuiSpacer,{size:"xl"}),Object(h.jsx)(g.EuiButton,{href:n?Ze.cloud:Ze.apiKey,target:"_blank","data-test-subj":"setupTrustApiKeyCardDocs"},Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.clusterWizard.trustStep.docs",defaultMessage:"View instructions"})),Object(h.jsx)(g.EuiSpacer,{size:"xl"}),Object(h.jsx)(g.EuiText,{size:"xs",color:"subdued"},Object(h.jsx)("p",null,Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.clusterWizard.trustStep.apiKeyNote",defaultMessage:"Both clusters must be on version {minAllowedVersion} or above.",values:{minAllowedVersion:"8.10"}}))))),Object(h.jsx)(g.EuiFlexItem,{style:{maxWidth:Qe}},Object(h.jsx)(g.EuiCard,{title:Object(h.jsx)(o.a.Fragment,null,Object(h.jsx)(g.EuiSpacer,{size:"s"}),Je.certTitle),paddingSize:"l","data-test-subj":"setupTrustCertCard"},Object(h.jsx)(g.EuiText,{size:"s"},Object(h.jsx)("p",null,Je.certDescription)),Object(h.jsx)(g.EuiSpacer,{size:"xl"}),Object(h.jsx)(g.EuiButton,{href:n?Ze.cloud:Ze.cert,target:"_blank","data-test-subj":"setupTrustCertCardDocs"},Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.clusterWizard.trustStep.docs",defaultMessage:"View instructions"}))))),Object(h.jsx)(g.EuiSpacer,{size:"xxl"}),Object(h.jsx)(g.EuiFlexGroup,{wrap:!0,justifyContent:"center"},Object(h.jsx)(g.EuiFlexItem,{style:{maxWidth:Qe}},Object(h.jsx)(g.EuiFlexGroup,{justifyContent:"flexStart"},Object(h.jsx)(g.EuiFlexItem,{grow:!1},Object(h.jsx)(g.EuiButtonEmpty,{"data-test-subj":"setupTrustBackButton",iconType:"arrowLeft",onClick:e},Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.clusterWizard.trustStep.backButtonLabel",defaultMessage:"Back"}))))),Object(h.jsx)(g.EuiFlexItem,{style:{maxWidth:Qe}},Object(h.jsx)(g.EuiFlexGroup,{justifyContent:"flexEnd"},Object(h.jsx)(g.EuiFlexItem,{grow:!1},Object(h.jsx)(g.EuiButton,{"data-test-subj":"setupTrustDoneButton",color:"primary",fill:!0,isLoading:s,onClick:()=>i(!0)},Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.clusterWizard.trustStep.doneButtonLabel",defaultMessage:"Add remote cluster"}))))),a&&Object(h.jsx)(Ye,{closeModal:()=>i(!1),onSubmit:t})))};class request_flyout_RequestFlyout extends r.PureComponent{render(){const{close:e,cluster:t}=this.props,{name:s}=t,r=JSON.stringify(function(e){if(!e||"object"!=typeof e)throw new Error("Unable to serialize cluster");const{name:t,seeds:s,skipUnavailable:r,mode:o,nodeConnections:a,proxyAddress:i,proxySocketConnections:l,serverName:n,hasDeprecatedProxySetting:u}=e,c={skip_unavailable:"boolean"==typeof r?r:null,mode:o||null,proxy_address:i||null,proxy_socket_connections:l||null,server_name:n||null,seeds:s||null,node_connections:a||null};return u&&(c.proxy=null),{persistent:{cluster:{remote:{[t]:c}}}}}(t),null,2),o=`PUT _cluster/settings\n${r}`;return Object(h.jsx)(g.EuiFlyout,{maxWidth:480,onClose:e},Object(h.jsx)(g.EuiFlyoutHeader,null,Object(h.jsx)(g.EuiTitle,{"data-test-subj":"remoteClusterRequestFlyoutTitle"},Object(h.jsx)("h2",null,s?Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.requestFlyout.namedTitle",defaultMessage:"Request for ''{name}''",values:{name:s}}):Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.requestFlyout.unnamedTitle",defaultMessage:"Request"})))),Object(h.jsx)(g.EuiFlyoutBody,null,Object(h.jsx)(g.EuiText,null,Object(h.jsx)("p",null,Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.requestFlyout.descriptionText",defaultMessage:"This Elasticsearch request will create or update this remote cluster."}))),Object(h.jsx)(g.EuiSpacer,null),Object(h.jsx)(g.EuiCodeBlock,{language:"json",isCopyable:!0},o)),Object(h.jsx)(g.EuiFlyoutFooter,null,Object(h.jsx)(g.EuiButtonEmpty,{iconType:"cross",onClick:e,flush:"left"},Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.requestFlyout.closeButtonLabel",defaultMessage:"Close"}))))}}const et=e=>{const{fields:t,fieldsErrors:s,areErrorsVisible:r,onFieldsChange:a}=e,{cloudRemoteAddress:i,serverName:l,proxySocketConnections:n,cloudAdvancedOptionsEnabled:u}=t,{cloudRemoteAddress:c}=s;return Object(h.jsx)(g.EuiDescribedFormGroup,{title:Object(h.jsx)(g.EuiTitle,{size:"s"},Object(h.jsx)("h2",null,Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.sectionModeTitle",defaultMessage:"Connection mode"}))),description:Object(h.jsx)(o.a.Fragment,null,Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.sectionModeCloudDescription",defaultMessage:"Configure how to connect to the remote cluster."}),Object(h.jsx)(g.EuiFormRow,{hasEmptyLabelSpace:!0,fullWidth:!0},Object(h.jsx)(g.EuiSwitch,{label:Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.advancedOptionsToggleLabel",defaultMessage:"Configure advanced options"}),checked:u,"data-test-subj":"remoteClusterFormCloudAdvancedOptionsToggle",onChange:e=>a({cloudAdvancedOptionsEnabled:e.target.checked})})),Object(h.jsx)(g.EuiSpacer,{size:"s"})),fullWidth:!0},Object(h.jsx)(g.EuiFormRow,{"data-test-subj":"remoteClusterFormRemoteAddressFormRow",label:Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldRemoteAddressLabel",defaultMessage:"Remote address"}),helpText:Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldRemoteAddressHelpText",defaultMessage:"When no port is specified, the default {default_port} port is used.",values:{default_port:Object(h.jsx)(g.EuiCode,null,"9400")}}),isInvalid:Boolean(r&&c),error:c,fullWidth:!0},Object(h.jsx)(g.EuiFieldText,{value:i,placeholder:pe.i18n.translate("xpack.remoteClusters.remoteClusterForm.fieldProxyAddressPlaceholder",{defaultMessage:"host:port"}),onChange:e=>a({cloudRemoteAddress:e.target.value}),isInvalid:Boolean(r&&c),"data-test-subj":"remoteClusterFormRemoteAddressInput",fullWidth:!0})),u&&Object(h.jsx)(o.a.Fragment,null,Object(h.jsx)(g.EuiFormRow,{"data-test-subj":"remoteClusterFormTLSServerNameFormRow",label:Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldTLSServerNameLabel",defaultMessage:"TLS server name (optional)"}),helpText:Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldTLSServerNameHelpText",defaultMessage:"If the remote cluster certificate has a different server name, specify it here. {learnMoreLink}",values:{learnMoreLink:Object(h.jsx)(g.EuiLink,{href:Ie.f,target:"_blank"},Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldTLSServerNameHelpText.learnMoreLinkLabel",defaultMessage:"Learn more."}))}}),fullWidth:!0},Object(h.jsx)(g.EuiFieldText,{value:l,onChange:e=>a({serverName:e.target.value}),fullWidth:!0})),Object(h.jsx)(g.EuiFormRow,{"data-test-subj":"remoteClusterFormProxySocketConnectionsFormRow",label:Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldProxySocketConnectionsLabel",defaultMessage:"Socket connections"}),helpText:Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldSocketConnectionsHelpText",defaultMessage:"The number of connections to open per remote cluster."}),fullWidth:!0},Object(h.jsx)(g.EuiFieldNumber,{value:n||"",onChange:e=>a({proxySocketConnections:Number(e.target.value)}),fullWidth:!0}))))};function tt(e){if(!e||!e.trim())return Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.form.errors.nameMissing",defaultMessage:"Name is required."});if(e.includes(" "))return Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.form.errors.illegalSpace",defaultMessage:"Spaces are not allowed in the name."});const t=e.match(/[^a-zA-Z\d\-_]/g);return t?Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.form.errors.illegalCharacters",defaultMessage:"Remove the {characterListLength, plural, one {character} other {characters}} {characterList} from the name.",values:{characterList:Object(h.jsx)("strong",null,t.join(" ")),characterListLength:t.length}}):null}function st(e){return!!e&&!e.split(":")[0].split(".").some((e=>{var t;if(!e)return!0;const[s]=null!==(t=e.match(/[A-Za-z0-9\-]*/))&&void 0!==t?t:[];return s!==e}))}function rt(e){var t;if(!e)return!1;const s=e.split(":");if(2!==s.length)return!1;const r=s[1];return!!r&&(null!==(t=r.match(/[0-9]*/))&&void 0!==t?t:[])[0]===r}function ot(e,t){return e.some((e=>Boolean(e.trim())))||t?null:Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.form.errors.seedMissing",defaultMessage:"At least one seed node is required."})}function at(e){const t=[];return e?(st(e)||t.push(Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.localSeedError.invalidCharactersMessage",defaultMessage:"Seed node must use host:port format. Example: 127.0.0.1:9400, localhost:9400. Hosts can only consist of letters, numbers, and dashes."})),rt(e)||t.push(Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.localSeedError.invalidPortMessage",defaultMessage:"A port is required."})),t):t}const it={urlEmpty:Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.cloudDeploymentForm.remoteAddressRequiredError",defaultMessage:"A remote address is required."}),urlInvalid:Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.cloudDeploymentForm.remoteAddressInvalidError",defaultMessage:"Remote address is invalid."})},lt={proxyAddress:"",serverName:""},nt=new RegExp(/^https?:\/\//),ut=e=>{if(!e)return!1;const{proxyAddress:t,serverName:s,proxySocketConnections:r}=e;return!!t&&((null!=t?t:"").split(":")[0]!==s||null!=r&&18!==r)},ct=e=>{var t;return(e=(null!==(t=e)&&void 0!==t?t:"").trim().toLowerCase()).replace(nt,"")},dt=(e,t)=>{const{name:s,seeds:r=[],mode:o,proxyAddress:a,cloudRemoteAddress:i}=e;return{name:tt(s),seeds:o===We.d?ot(r):null,proxyAddress:o===We.c?(l=a,l?st(l)?rt(l)?null:Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.addressError.invalidPortMessage",defaultMessage:"A port is required."}):Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.proxyError.invalidCharactersMessage",defaultMessage:"Address must use host:port format. Example: 127.0.0.1:9400, localhost:9400. Hosts can only consist of letters, numbers, and dashes."}):Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.proxyError.missingProxyMessage",defaultMessage:"A proxy address is required."})):null,cloudRemoteAddress:t?(n=i,n?st(n=ct(n))?null:it.urlInvalid:it.urlEmpty):null};var l,n},mt=({fields:e,fieldsErrors:t,areErrorsVisible:s,onFieldsChange:a})=>{const[i,l]=Object(r.useState)([]),{seeds:n=[],nodeConnections:u}=e,{seeds:c}=t,d=Boolean(s&&c),m=d||0!==i.length,j=d&&c?i.concat(c):i,p=n.map((e=>({label:e})));return Object(h.jsx)(o.a.Fragment,null,Object(h.jsx)(g.EuiFormRow,{"data-test-subj":"remoteClusterFormSeedNodesFormRow",label:Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldSeedsLabel",defaultMessage:"Seed nodes"}),helpText:Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldSeedsHelpText",defaultMessage:"An IP address or host name, followed by the {transportPort} of the remote cluster. Specify multiple seed nodes so discovery doesn't fail if a node is unavailable.",values:{transportPort:Object(h.jsx)(g.EuiLink,{href:Ie.i,target:"_blank"},Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.sectionSeedsHelpText.portLinkText",defaultMessage:"port"}))}}),isInvalid:m,error:j,fullWidth:!0},Object(h.jsx)(g.EuiComboBox,{noSuggestions:!0,placeholder:pe.i18n.translate("xpack.remoteClusters.remoteClusterForm.fieldSeedsPlaceholder",{defaultMessage:"host:port"}),selectedOptions:p,onCreateOption:e=>{if(!e)return;const t=at(e);if(0!==t.length)return l(t),!1;const s=n.slice(0);s.push(e.toLowerCase()),a({seeds:s})},onChange:e=>a({seeds:e.map((({label:e})=>e))}),onSearchChange:e=>{if(!e)return;const t=e&&0!==at(e).length?i:[];n.includes(e)&&t.push(Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.localSeedError.duplicateMessage",defaultMessage:"Duplicate seed nodes aren't allowed.`"})),l(t)},isInvalid:m,fullWidth:!0,"data-test-subj":"remoteClusterFormSeedsInput"})),Object(h.jsx)(g.EuiFormRow,{"data-test-subj":"remoteClusterFormNodeConnectionsFormRow",label:Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldNodeConnectionsLabel",defaultMessage:"Node connections"}),helpText:Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldNodeConnectionsHelpText",defaultMessage:"The number of gateway nodes to connect to for this cluster."}),fullWidth:!0},Object(h.jsx)(g.EuiFieldNumber,{value:u||"",onChange:e=>a({nodeConnections:Number(e.target.value)}),fullWidth:!0})))},jt=e=>{const{fields:t,fieldsErrors:s,areErrorsVisible:r,onFieldsChange:a}=e,{proxyAddress:i,serverName:l,proxySocketConnections:n}=t,{proxyAddress:u}=s;return Object(h.jsx)(o.a.Fragment,null,Object(h.jsx)(o.a.Fragment,null,Object(h.jsx)(g.EuiFormRow,{"data-test-subj":"remoteClusterFormProxyAddressFormRow",label:Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldProxyAddressLabel",defaultMessage:"Proxy address"}),helpText:Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldProxyAddressHelpText",defaultMessage:"The address to use for remote connections."}),isInvalid:Boolean(r&&u),error:u,fullWidth:!0},Object(h.jsx)(g.EuiFieldText,{value:i,placeholder:pe.i18n.translate("xpack.remoteClusters.remoteClusterForm.fieldProxyAddressPlaceholder",{defaultMessage:"host:port"}),onChange:e=>a({proxyAddress:e.target.value}),isInvalid:Boolean(r&&u),"data-test-subj":"remoteClusterFormProxyAddressInput",fullWidth:!0})),Object(h.jsx)(g.EuiFormRow,{"data-test-subj":"remoteClusterFormServerNameFormRow",label:Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldServerNameOptionalLabel",defaultMessage:"Server name (optional)"}),helpText:Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldServerNameHelpText",defaultMessage:"A string sent in the server_name field of the TLS Server Name Indication extension if TLS is enabled. {learnMoreLink}",values:{learnMoreLink:Object(h.jsx)(g.EuiLink,{href:Ie.f,target:"_blank"},Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldServerNameHelpText.learnMoreLinkLabel",defaultMessage:"Learn more."}))}}),fullWidth:!0},Object(h.jsx)(g.EuiFieldText,{value:l,onChange:e=>a({serverName:e.target.value}),fullWidth:!0}))),Object(h.jsx)(g.EuiFormRow,{"data-test-subj":"remoteClusterFormProxySocketConnectionsFormRow",label:Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldProxySocketConnectionsLabel",defaultMessage:"Socket connections"}),helpText:Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldSocketConnectionsHelpText",defaultMessage:"The number of connections to open per remote cluster."}),fullWidth:!0},Object(h.jsx)(g.EuiFieldNumber,{value:n||"",onChange:e=>a({proxySocketConnections:Number(e.target.value)}),fullWidth:!0})))},pt=e=>{const{fields:t,onFieldsChange:s}=e,{mode:a}=t,{isCloudEnabled:i}=(()=>{const e=Object(r.useContext)($e);if(!e)throw new Error("Cannot use outside of app context");return e})();return i?Object(h.jsx)(et,e):Object(h.jsx)(g.EuiDescribedFormGroup,{title:Object(h.jsx)(g.EuiTitle,{size:"s"},Object(h.jsx)("h2",null,Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.sectionModeTitle",defaultMessage:"Connection mode"}))),description:Object(h.jsx)(o.a.Fragment,null,Object(h.jsx)(o.a.Fragment,null,Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.sectionModeDescription",defaultMessage:"Use seed nodes by default, or switch to proxy mode."}),Object(h.jsx)(g.EuiFormRow,{hasEmptyLabelSpace:!0,fullWidth:!0},Object(h.jsx)(g.EuiSwitch,{label:Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldModeLabel",defaultMessage:"Use proxy mode"}),checked:a===We.c,"data-test-subj":"remoteClusterFormConnectionModeToggle",onChange:e=>s({mode:e.target.checked?We.c:We.d})})))),fullWidth:!0},a===We.d?Object(h.jsx)(mt,e):Object(h.jsx)(jt,e))},bt={name:"",seeds:[],skipUnavailable:!0,nodeConnections:3,proxyAddress:"",proxySocketConnections:18,serverName:""},xt="removeClustersErrorTitle",gt="removeClustersErrorList";class remote_cluster_form_RemoteClusterForm extends r.Component{constructor(e,t){super(e,t),ze()(this,"generateId",void 0),ze()(this,"toggleRequest",(()=>{this.setState((({isRequestVisible:e})=>({isRequestVisible:!e})))})),ze()(this,"onFieldsChange",(e=>{const{isCloudEnabled:t}=this.context,{cloudRemoteAddress:s,cloudAdvancedOptionsEnabled:r}=e;if(s){const{proxyAddress:t,serverName:r}=(e=>{if(!(e=ct(e))||!st(e))return lt;const t=e.split(":")[0];return{proxyAddress:e.split(":")[1]?e:`${t}:9400`,serverName:t}})(s);e=this.state.fields.cloudAdvancedOptionsEnabled?{...e,proxyAddress:t}:{...e,proxyAddress:t,serverName:r}}var o;!1===r&&(e={...e,serverName:null===(o=this.state.fields.proxyAddress)||void 0===o?void 0:o.split(":")[0],proxySocketConnections:bt.proxySocketConnections}),this.setState((({fields:s})=>{const r={...s,...e};return{fields:r,fieldsErrors:dt(r,t)}}))})),ze()(this,"save",(()=>{const{save:e}=this.props;this.hasErrors()?this.setState({areErrorsVisible:!0}):e(this.getCluster())})),ze()(this,"onSkipUnavailableChange",(e=>{const t=e.target.checked;this.onFieldsChange({skipUnavailable:t})})),ze()(this,"resetToDefault",(e=>{this.onFieldsChange({[e]:bt[e]})})),ze()(this,"hasErrors",(()=>{const{fieldsErrors:e}=this.state;return Object.values(e).some((e=>null!=e))})),ze()(this,"renderErrors",(()=>{const{areErrorsVisible:e,fieldsErrors:{name:t,seeds:s,proxyAddress:o}}=this.state,a=this.hasErrors();if(!e||!a)return null;const i=[];t&&i.push({key:"nameExplanation",field:pe.i18n.translate("xpack.remoteClusters.remoteClusterForm.inputNameErrorMessage",{defaultMessage:'The "Name" field is invalid.'}),error:t}),s&&i.push({key:"seedsExplanation",field:pe.i18n.translate("xpack.remoteClusters.remoteClusterForm.inputSeedsErrorMessage",{defaultMessage:'The "Seed nodes" field is invalid.'}),error:s}),o&&i.push({key:"proxyAddressExplanation",field:pe.i18n.translate("xpack.remoteClusters.remoteClusterForm.inputProxyErrorMessage",{defaultMessage:'The "Proxy address" field is invalid.'}),error:o});const l=i.length&&Object(h.jsx)(g.EuiScreenReaderOnly,null,Object(h.jsx)("dl",{id:this.generateId(gt),"aria-labelledby":this.generateId(xt)},i.map((({key:e,field:t,error:s})=>Object(h.jsx)("div",{key:e},Object(h.jsx)("dt",null,t),Object(h.jsx)("dd",null,s))))));return Object(h.jsx)(r.Fragment,null,Object(h.jsx)(g.EuiCallOut,{title:Object(h.jsx)("span",{id:this.generateId(xt)},Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.errorTitle",defaultMessage:"Some fields require your attention."})),color:"danger",iconType:"error"}),Object(h.jsx)(g.EuiDelayRender,null,l),Object(h.jsx)(g.EuiSpacer,{size:"m","data-test-subj":"remoteClusterFormGlobalError"}))}));const{cluster:s}=e,{isCloudEnabled:o}=t,a=o?We.c:We.d,i=Object(_.merge)({},{...bt,mode:a,cloudRemoteAddress:(null==s?void 0:s.proxyAddress)||"",cloudAdvancedOptionsEnabled:ut(s)},s);this.generateId=Object(g.htmlIdGenerator)(),this.state={fields:i,fieldsErrors:dt(i,o),areErrorsVisible:!1,isRequestVisible:!1}}getCluster(){const{fields:{name:e,mode:t,seeds:s,nodeConnections:r,proxyAddress:o,proxySocketConnections:a,serverName:i,skipUnavailable:l}}=this.state,{cluster:n}=this.props;let u;return u=t===We.c?{proxyAddress:o,proxySocketConnections:a,serverName:i}:{seeds:s,nodeConnections:r},{name:e,skipUnavailable:l,mode:t,hasDeprecatedProxySetting:null==n?void 0:n.hasDeprecatedProxySetting,...u}}renderSkipUnavailable(){const{fields:{skipUnavailable:e}}=this.state;return Object(h.jsx)(g.EuiDescribedFormGroup,{title:Object(h.jsx)(g.EuiTitle,{size:"s"},Object(h.jsx)("h2",null,Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.sectionSkipUnavailableTitle",defaultMessage:"Make remote cluster optional"}))),description:Object(h.jsx)(r.Fragment,null,Object(h.jsx)("p",null,Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.sectionSkipUnavailableDescription",defaultMessage:"If any of the remote clusters are unavailable, the query request fails. To avoid this and continue to send requests to other clusters, enable {optionName}. {learnMoreLink}",values:{optionName:Object(h.jsx)("strong",null,Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.sectionSkipUnavailableDescription.optionNameLabel",defaultMessage:"Skip if unavailable"})),learnMoreLink:Object(h.jsx)(g.EuiLink,{href:Ie.h,target:"_blank"},Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.sectionSkipUnavailableDescription.learnMoreLinkLabel",defaultMessage:"Learn more."}))}}))),fullWidth:!0},Object(h.jsx)(g.EuiFormRow,{"data-test-subj":"remoteClusterFormSkipUnavailableFormRow",className:"remoteClusterSkipIfUnavailableSwitch",hasEmptyLabelSpace:!0,fullWidth:!0,helpText:e!==bt.skipUnavailable?Object(h.jsx)(g.EuiLink,{onClick:()=>{this.resetToDefault("skipUnavailable")}},Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.sectionSkipUnavailableResetLabel",defaultMessage:"Reset to default"})):null},Object(h.jsx)(g.EuiSwitch,{label:pe.i18n.translate("xpack.remoteClusters.remoteClusterForm.sectionSkipUnavailableLabel",{defaultMessage:"Skip if unavailable"}),checked:!!e,onChange:this.onSkipUnavailableChange,"data-test-subj":"remoteClusterFormSkipUnavailableFormToggle"})))}renderActions(){const{isSaving:e,cancel:t,cluster:s}=this.props,{areErrorsVisible:r,isRequestVisible:o}=this.state,a=r&&this.hasErrors()||e;return Object(h.jsx)(g.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},t&&Object(h.jsx)(g.EuiFlexItem,{grow:!1},Object(h.jsx)(g.EuiButtonEmpty,{color:"primary",onClick:t},Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.cancelButtonLabel",defaultMessage:"Cancel"}))),Object(h.jsx)(g.EuiFlexItem,{grow:!1},Object(h.jsx)(g.EuiFlexGroup,{alignItems:"center",gutterSize:"m"},Object(h.jsx)(g.EuiFlexItem,{grow:!1},Object(h.jsx)(g.EuiButtonEmpty,{onClick:this.toggleRequest,"data-test-subj":"remoteClustersRequestButton"},o?Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.hideRequestButtonLabel",defaultMessage:"Hide request"}):Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.showRequestButtonLabel",defaultMessage:"Show request"}))),Object(h.jsx)(g.EuiFlexItem,{grow:!1},Object(h.jsx)(g.EuiButton,{"data-test-subj":"remoteClusterFormSaveButton",color:"primary",onClick:this.save,fill:!0,isDisabled:a,isLoading:e,"aria-describedby":`${this.generateId(xt)} ${this.generateId(gt)}`},Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.nextButtonLabel",defaultMessage:"{isEditMode, select, true{Save} other{Next}}",values:{isEditMode:Boolean(s)}}))))))}renderSavingFeedback(){return this.props.isSaving?Object(h.jsx)(g.EuiOverlayMask,null,Object(h.jsx)(g.EuiLoadingLogo,{logo:"logoKibana",size:"xl"})):null}renderSaveErrorFeedback(){const{saveError:e}=this.props;if(e){const{message:t,cause:s}=e;let o;return s&&Array.isArray(s)&&(o=1===s.length?Object(h.jsx)("p",null,s[0]):Object(h.jsx)("ul",null,s.map((e=>Object(h.jsx)("li",{key:e},e))))),Object(h.jsx)(r.Fragment,null,Object(h.jsx)(g.EuiCallOut,{title:t,iconType:"cross",color:"warning"},o),Object(h.jsx)(g.EuiSpacer,null))}return null}render(){const{isRequestVisible:e,areErrorsVisible:t,fields:s,fieldsErrors:o}=this.state,{name:a}=o,{cluster:i}=this.props,l=!i;return Object(h.jsx)(r.Fragment,null,this.renderSaveErrorFeedback(),this.renderErrors(),Object(h.jsx)(g.EuiForm,{"data-test-subj":"remoteClusterForm"},Object(h.jsx)(g.EuiDescribedFormGroup,{title:Object(h.jsx)(g.EuiTitle,{size:"s"},Object(h.jsx)("h2",null,Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.sectionNameTitle",defaultMessage:"Name"}))),description:Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.sectionNameDescription",defaultMessage:"A unique name for the cluster."}),fullWidth:!0},Object(h.jsx)(g.EuiFormRow,{"data-test-subj":"remoteClusterFormNameFormRow",label:Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldNameLabel",defaultMessage:"Name"}),helpText:Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldNameLabelHelpText",defaultMessage:"Must contain only letters, numbers, underscores, and dashes."}),error:a,isInvalid:Boolean(t&&a),fullWidth:!0},Object(h.jsx)(g.EuiFieldText,{isInvalid:Boolean(t&&a),value:s.name,onChange:e=>this.onFieldsChange({name:e.target.value}),fullWidth:!0,disabled:!l,"data-test-subj":"remoteClusterFormNameInput"}))),Object(h.jsx)(pt,{fields:s,fieldsErrors:o,onFieldsChange:this.onFieldsChange,areErrorsVisible:t}),this.renderSkipUnavailable()),Object(h.jsx)(g.EuiSpacer,{size:"l"}),this.renderActions(),this.renderSavingFeedback(),e?Object(h.jsx)(request_flyout_RequestFlyout,{cluster:this.getCluster(),close:()=>this.setState({isRequestVisible:!1})}):null)}}ze()(remote_cluster_form_RemoteClusterForm,"defaultProps",{fields:Object(_.merge)({},bt)}),ze()(remote_cluster_form_RemoteClusterForm,"contextType",$e);const Ct=({title:e,description:t})=>Object(h.jsx)(o.a.Fragment,null,Object(h.jsx)(g.EuiPageHeader,{bottomBorder:!0,pageTitle:Object(h.jsx)("span",{"data-test-subj":"remoteClusterPageTitle"},e),rightSideItems:[Object(h.jsx)(g.EuiButtonEmpty,{size:"s",flush:"right",href:Ie.g,target:"_blank",iconType:"help","data-test-subj":"remoteClusterDocsButton"},Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.readDocsButtonLabel",defaultMessage:"Remote cluster docs"}))],description:t}),Object(h.jsx)(g.EuiSpacer,{size:"l"}));function ft(){return Object(h.jsx)(g.EuiCallOut,{title:Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.configuredByNodeWarningTitle",defaultMessage:"You can't edit or delete this remote cluster because it's defined in a node's elasticsearch.yml configuration file."}),color:"primary",iconType:"iInCircle","data-test-subj":"remoteClusterConfiguredByNodeWarning"})}class detail_panel_DetailPanel extends r.Component{renderSkipUnavailableValue(e){return!0===e?Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.skipUnavailableTrueValue",defaultMessage:"Yes"}):!1===e?Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.skipUnavailableFalseValue",defaultMessage:"No"}):Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.skipUnavailableNullValue",defaultMessage:"Default"})}renderClusterNotFound(){return Object(h.jsx)(g.EuiFlexGroup,{justifyContent:"flexStart",alignItems:"center",gutterSize:"s","data-test-subj":"remoteClusterDetailClusterNotFound"},Object(h.jsx)(g.EuiFlexItem,{grow:!1},Object(h.jsx)(g.EuiIcon,{size:"m",type:"warning",color:"danger"})),Object(h.jsx)(g.EuiFlexItem,{grow:!1},Object(h.jsx)(g.EuiText,null,Object(h.jsx)(g.EuiTextColor,{color:"subdued"},Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.notFoundLabel",defaultMessage:"Remote cluster not found"})))))}renderClusterConfiguredByNodeWarning({isConfiguredByNode:e}){return e?Object(h.jsx)(r.Fragment,null,Object(h.jsx)(ft,null),Object(h.jsx)(g.EuiSpacer,{size:"l"})):null}renderClusterWithDeprecatedSettingWarning({hasDeprecatedProxySetting:e,isConfiguredByNode:t},s,r){return e?Object(h.jsx)(o.a.Fragment,null,Object(h.jsx)(g.EuiCallOut,{title:Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.deprecatedSettingsTitle",defaultMessage:"''{remoteCluster}'' has deprecated settings",values:{remoteCluster:s}}),color:"warning",iconType:"help"},t?Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.deprecatedSettingsConfiguredByNodeMessage",defaultMessage:"Edit the cluster to update the settings. {helpLink}",values:{helpLink:Object(h.jsx)(g.EuiLink,{href:Ie.e,target:"_blank"},Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.deprecatedSettingsLearnMoreLinkLabel",defaultMessage:"Learn more."}))}}):Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.deprecatedSettingsMessage",defaultMessage:"{editLink} to update the settings.",values:{editLink:Object(h.jsx)(g.EuiLink,Object(n.reactRouterNavigate)(r,`/edit/${s}`),Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.deprecatedSettingsEditLinkLabel",defaultMessage:"Edit the cluster"}))}})),Object(h.jsx)(g.EuiSpacer,{size:"l"})):null}renderSniffModeDescriptionList({isConnected:e,connectedNodesCount:t,skipUnavailable:s,seeds:r,maxConnectionsPerCluster:o,initialConnectTimeout:a,mode:i,securityModel:l}){return Object(h.jsx)(g.EuiFlexGroup,{"data-test-subj":"remoteClusterDetailPanelStatusValues"},Object(h.jsx)(g.EuiFlexItem,null,Object(h.jsx)(g.EuiDescriptionList,null,Object(h.jsx)(g.EuiDescriptionListTitle,null,Object(h.jsx)(g.EuiTitle,{size:"xs"},Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.connectedLabel",defaultMessage:"Connection"}))),Object(h.jsx)(g.EuiDescriptionListDescription,{"data-test-subj":"remoteClusterDetailIsConnected"},Object(h.jsx)(Ue,{isConnected:e,mode:i})),Object(h.jsx)(g.EuiDescriptionListTitle,null,Object(h.jsx)(g.EuiTitle,{size:"xs"},Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.securityModel",defaultMessage:"Authentication type"}))),Object(h.jsx)(g.EuiDescriptionListDescription,{"data-test-subj":"remoteClusterDetailAuthType"},Object(h.jsx)(Ve,{securityModel:l})),Object(h.jsx)(g.EuiDescriptionListTitle,null,Object(h.jsx)(g.EuiTitle,{size:"xs"},Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.connectedNodesLabel",defaultMessage:"Connected nodes"}))),Object(h.jsx)(g.EuiDescriptionListDescription,{"data-test-subj":"remoteClusterDetailConnectedNodesCount"},t),Object(h.jsx)(g.EuiDescriptionListTitle,null,Object(h.jsx)(g.EuiTitle,{size:"xs"},Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.seedsLabel",defaultMessage:"Seeds"}))),Object(h.jsx)(g.EuiDescriptionListDescription,{"data-test-subj":"remoteClusterDetailSeeds"},r.map((e=>Object(h.jsx)(g.EuiText,{size:"s",key:e},e)))))),Object(h.jsx)(g.EuiFlexItem,null,Object(h.jsx)(g.EuiDescriptionList,null,Object(h.jsx)(g.EuiDescriptionListTitle,null,Object(h.jsx)(g.EuiTitle,{size:"xs"},Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.skipUnavailableLabel",defaultMessage:"Skip unavailable"}))),Object(h.jsx)(g.EuiDescriptionListDescription,{"data-test-subj":"remoteClusterDetailSkipUnavailable"},this.renderSkipUnavailableValue(s)),Object(h.jsx)(g.EuiDescriptionListTitle,null,Object(h.jsx)(g.EuiTitle,{size:"xs"},Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.maxConnectionsPerClusterLabel",defaultMessage:"Maximum connections"}))),Object(h.jsx)(g.EuiDescriptionListDescription,{"data-test-subj":"remoteClusterDetailMaxConnections"},o),Object(h.jsx)(g.EuiDescriptionListTitle,null,Object(h.jsx)(g.EuiTitle,{size:"xs"},Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.initialConnectTimeoutLabel",defaultMessage:"Initial connect timeout"}))),Object(h.jsx)(g.EuiDescriptionListDescription,{"data-test-subj":"remoteClusterDetailInitialConnectTimeout"},a))))}renderProxyModeDescriptionList({isConnected:e,skipUnavailable:t,initialConnectTimeout:s,proxyAddress:r,proxySocketConnections:o,connectedSocketsCount:a,mode:i,serverName:l,securityModel:n}){return Object(h.jsx)(g.EuiFlexGroup,null,Object(h.jsx)(g.EuiFlexItem,null,Object(h.jsx)(g.EuiDescriptionList,null,Object(h.jsx)(g.EuiDescriptionListTitle,null,Object(h.jsx)(g.EuiTitle,{size:"xs"},Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.connectedLabel",defaultMessage:"Connection"}))),Object(h.jsx)(g.EuiDescriptionListDescription,{"data-test-subj":"remoteClusterDetailIsConnected"},Object(h.jsx)(Ue,{isConnected:e,mode:i})),Object(h.jsx)(g.EuiDescriptionListTitle,null,Object(h.jsx)(g.EuiTitle,{size:"xs"},Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.securityModel",defaultMessage:"Authentication type"}))),Object(h.jsx)(g.EuiDescriptionListDescription,{"data-test-subj":"remoteClusterDetailAuthType"},Object(h.jsx)(Ve,{securityModel:n})),Object(h.jsx)(g.EuiDescriptionListTitle,null,Object(h.jsx)(g.EuiTitle,{size:"xs"},Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.connectedSocketsLabel",defaultMessage:"Connected sockets"}))),Object(h.jsx)(g.EuiDescriptionListDescription,{"data-test-subj":"remoteClusterDetailConnectedSocketsCount"},a||"-"),Object(h.jsx)(g.EuiDescriptionListTitle,null,Object(h.jsx)(g.EuiTitle,{size:"xs"},Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.proxyAddressLabel",defaultMessage:"Proxy address"}))),Object(h.jsx)(g.EuiDescriptionListDescription,{"data-test-subj":"remoteClusterDetailProxyAddress"},r),Object(h.jsx)(g.EuiDescriptionListTitle,null,Object(h.jsx)(g.EuiTitle,{size:"xs"},Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.serverNameLabel",defaultMessage:"Server name"}))),Object(h.jsx)(g.EuiDescriptionListDescription,{"data-test-subj":"remoteClusterDetailServerName"},l||"-"))),Object(h.jsx)(g.EuiFlexItem,null,Object(h.jsx)(g.EuiDescriptionList,null,Object(h.jsx)(g.EuiDescriptionListTitle,null,Object(h.jsx)(g.EuiTitle,{size:"xs"},Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.skipUnavailableLabel",defaultMessage:"Skip unavailable"}))),Object(h.jsx)(g.EuiDescriptionListDescription,{"data-test-subj":"remoteClusterDetailSkipUnavailable"},this.renderSkipUnavailableValue(t)),Object(h.jsx)(g.EuiDescriptionListTitle,null,Object(h.jsx)(g.EuiTitle,{size:"xs"},Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.maxSocketConnectionsLabel",defaultMessage:"Maximum socket connections"}))),Object(h.jsx)(g.EuiDescriptionListDescription,{"data-test-subj":"remoteClusterDetailMaxSocketConnections"},o||"-"),Object(h.jsx)(g.EuiDescriptionListTitle,null,Object(h.jsx)(g.EuiTitle,{size:"xs"},Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.initialConnectTimeoutLabel",defaultMessage:"Initial connect timeout"}))),Object(h.jsx)(g.EuiDescriptionListDescription,{"data-test-subj":"remoteClusterDetailInitialConnectTimeout"},s))))}renderCluster(e){return Object(h.jsx)("section",{"aria-labelledby":"clusterStatus","data-test-subj":"remoteClusterDetailPanelStatusSection"},Object(h.jsx)(g.EuiTitle,{size:"s",id:"clusterStatus"},Object(h.jsx)("h3",null,Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.statusTitle",defaultMessage:"Status"}))),Object(h.jsx)(g.EuiSpacer,{size:"s"}),e.mode===We.c?this.renderProxyModeDescriptionList(e):this.renderSniffModeDescriptionList(e))}renderFlyoutBody(e){const{cluster:t,clusterName:s}=this.props;return Object(h.jsx)(g.EuiFlyoutBody,null,!t&&this.renderClusterNotFound(),t&&Object(h.jsx)(r.Fragment,null,this.renderClusterConfiguredByNodeWarning(t),this.renderClusterWithDeprecatedSettingWarning(t,s,e),this.renderCluster(t)))}renderFlyoutFooter(e){const{cluster:t,clusterName:s,closeDetailPanel:r}=this.props;return Object(h.jsx)(g.EuiFlyoutFooter,null,Object(h.jsx)(g.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},Object(h.jsx)(g.EuiFlexItem,{grow:!1},Object(h.jsx)(g.EuiButtonEmpty,{iconType:"cross",flush:"left",onClick:r,"data-test-subj":"remoteClusterDetailsPanelCloseButton"},Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.closeButtonLabel",defaultMessage:"Close"}))),t&&!t.isConfiguredByNode&&Object(h.jsx)(g.EuiFlexItem,{grow:!1},Object(h.jsx)(g.EuiFlexGroup,{alignItems:"center"},Object(h.jsx)(g.EuiFlexItem,{grow:!1},Object(h.jsx)(qe,{clusterNames:[s]},(e=>Object(h.jsx)(g.EuiButtonEmpty,{color:"danger",onClick:e,"data-test-subj":"remoteClusterDetailPanelRemoveButton"},Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.removeButtonLabel",defaultMessage:"Remove"}))))),Object(h.jsx)(g.EuiFlexItem,{grow:!1},Object(h.jsx)(g.EuiButton,c()({},Object(n.reactRouterNavigate)(e,`/edit/${s}`),{fill:!0,color:"primary","data-test-subj":"remoteClusterDetailPanelEditButton"}),Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.editButtonLabel",defaultMessage:"Edit"})))))))}render(){const{isOpen:e,closeDetailPanel:t,clusterName:s,cluster:r}=this.props,{history:o}=ee();return e?Object(h.jsx)(g.EuiFlyout,{"data-test-subj":"remoteClusterDetailFlyout",onClose:t,"aria-labelledby":"remoteClusterDetailsFlyoutTitle",size:"m",maxWidth:550,className:"eui-textBreakAll"},Object(h.jsx)(g.EuiFlyoutHeader,null,Object(h.jsx)(g.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},Object(h.jsx)(g.EuiFlexItem,{grow:!1},Object(h.jsx)(g.EuiTitle,{size:"m",id:"remoteClusterDetailsFlyoutTitle","data-test-subj":"remoteClusterDetailsFlyoutTitle"},Object(h.jsx)("h2",null,s))),r&&r.mode===We.c?Object(h.jsx)(g.EuiFlexItem,{grow:!1}," ",Object(h.jsx)(g.EuiBadge,{color:"hollow",title:pe.i18n.translate("xpack.remoteClusters.detailPanel.proxyBadgeLabel",{defaultMessage:'This remote cluster was configured with the "proxy" connection mode'})},r.mode)):null)),this.renderFlyoutBody(o),this.renderFlyoutFooter(o)):null}}const Ot=Object(i.connect)((e=>({isOpen:re(e),isLoading:ie(e),cluster:oe(e),clusterName:ae(e)})),(e=>({closeDetailPanel:()=>{e(_e())}})))(detail_panel_DetailPanel);class remote_cluster_list_RemoteClusterList extends r.Component{componentDidUpdate(){const{openDetailPanel:e,closeDetailPanel:t,isDetailPanelOpen:s,history:{location:{search:r}}}=this.props,{cluster:o}=Object(l.extractQueryParams)(r);null!=o?e(o):s&&t()}componentDidMount(){this.props.loadClusters(),this.interval=setInterval(this.props.refreshClusters,3e4),Object(Y.b)("home")}componentWillUnmount(){clearInterval(this.interval)}renderBlockingAction(){const{isCopyingCluster:e,isRemovingCluster:t}=this.props;return e||t?Object(h.jsx)(g.EuiOverlayMask,null,Object(h.jsx)(g.EuiLoadingLogo,{logo:"logoKibana",size:"xl"})):null}renderNoPermission(){return Object(h.jsx)(g.EuiPageTemplate.EmptyPrompt,{iconType:"warning",color:"danger",title:Object(h.jsx)("h2",null,Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterList.noPermissionTitle",defaultMessage:"Permission error"})),body:Object(h.jsx)("p",null,Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterList.noPermissionText",defaultMessage:"You do not have permission to view or add remote clusters."}))})}renderError(e){const{statusCode:t,error:s}=e.body;return Object(h.jsx)(g.EuiPageTemplate.EmptyPrompt,{iconType:"warning",color:"danger",title:Object(h.jsx)("h2",null,Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterList.loadingErrorTitle",defaultMessage:"Error loading remote clusters"})),body:Object(h.jsx)("p",null,t," ",s)})}renderEmpty(){return Object(h.jsx)(g.EuiPageTemplate.EmptyPrompt,{"data-test-subj":"remoteClusterListEmptyPrompt",iconType:"managementApp",title:Object(h.jsx)("h2",null,Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterList.emptyPromptTitle",defaultMessage:"Add your first remote cluster"})),body:Object(h.jsx)("p",null,Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterList.emptyPromptDescription",defaultMessage:"Remote clusters create a uni-directional connection from your local cluster to other clusters."})),actions:Object(h.jsx)(g.EuiButton,c()({},Object(n.reactRouterNavigate)(this.props.history,"/add"),{fill:!0,iconType:"plusInCircle","data-test-subj":"remoteClusterEmptyPromptCreateButton"}),Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterList.emptyPrompt.connectButtonLabel",defaultMessage:"Add a remote cluster"})),footer:Object(h.jsx)(o.a.Fragment,null,Object(h.jsx)(g.EuiTitle,{size:"xxs"},Object(h.jsx)("span",null,Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusters.emptyState.docsDescription",defaultMessage:"Want to learn more?"})))," ",Object(h.jsx)(g.EuiLink,{href:Ie.g,target:"_blank"},Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusters.emptyState.docsLink",defaultMessage:"Read documentation"})))})}renderLoading(){return Object(h.jsx)(l.SectionLoading,{"data-test-subj":"remoteClustersTableLoading"},Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterList.loadingTitle",defaultMessage:"Loading remote clusters"}))}renderList(){const{clusters:e}=this.props;return Object(h.jsx)(g.EuiPageBody,{"data-test-subj":"remote-clusters-list"},Object(h.jsx)(g.EuiPageSection,{paddingSize:"none"},Object(h.jsx)(g.EuiPageHeader,{bottomBorder:!0,pageTitle:Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterListTitle",defaultMessage:"Remote Clusters"}),rightSideItems:[Object(h.jsx)(g.EuiButtonEmpty,{href:Ie.g,target:"_blank",iconType:"help","data-test-subj":"documentationLink"},Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClustersDocsLinkText",defaultMessage:"Remote Clusters docs"}))]}),Object(h.jsx)(g.EuiSpacer,{size:"l"}),Object(h.jsx)(Ge,{clusters:e}),Object(h.jsx)(Ot,null)))}render(){const{isLoading:e,clusters:t,clusterLoadError:s}=this.props,r=!e&&!t.length,a=!s||403!==s.status;let i;return i=s?a?this.renderError(s):this.renderNoPermission():r?this.renderEmpty():e?this.renderLoading():this.renderList(),Object(h.jsx)(o.a.Fragment,null,i,this.renderBlockingAction())}}const ht=Object(i.connect)((e=>({clusters:te(e),isDetailPanelOpen:re(e),isLoading:ie(e),isCopyingCluster:de(e),isRemovingCluster:je(e),clusterLoadError:le(e)})),(e=>({loadClusters:()=>{e(Ae())},refreshClusters:()=>{e((async e=>{let t;try{t=await H({asSystemRequest:!0})}catch(e){return function(e,t){const s=function(e,t){if(e&&e.body){const{error:s,statusCode:r,message:o}=e.body;return{title:t,text:`${r}: ${s}. ${o}`}}}(e,t);return s?K.c.addWarning(s):K.a.add(e,t)}(e,pe.i18n.translate("xpack.remoteClusters.refreshAction.errorTitle",{defaultMessage:"Error refreshing remote clusters"}))}e({type:Oe,payload:{clusters:t}})}))},openDetailPanel:t=>{e(Pe({name:t}))},closeDetailPanel:()=>{e(_e())}})))(remote_cluster_list_RemoteClusterList),Et=({saveRemoteClusterConfig:e,onCancel:t,isSaving:s,addClusterError:o})=>{const[a,i]=Object(r.useState)(),[l,n]=Object(r.useState)(1);Object(r.useEffect)((()=>{o&&n(1)}),[o,n]);const u=Object(r.useMemo)((()=>[{step:1,title:pe.i18n.translate("xpack.remoteClusters.clusterWizard.addConnectionInfoLabel",{defaultMessage:"Add connection information"}),status:1===l?"current":"complete",onClick:()=>n(1)},{step:2,title:pe.i18n.translate("xpack.remoteClusters.clusterWizard.setupTrustLabel",{defaultMessage:"Establish trust"}),status:2===l?"current":"incomplete",disabled:!a,onClick:()=>n(2)}]),[l,a,n]);return Object(h.jsx)(g.EuiPageSection,{restrictWidth:!0},Object(h.jsx)(g.EuiStepsHorizontal,{steps:u}),Object(h.jsx)(g.EuiSpacer,{size:"xl"}),Object(h.jsx)("div",{style:{display:1===l?"block":"none"}},Object(h.jsx)(remote_cluster_form_RemoteClusterForm,{save:e=>{i(e),n(2)},cancel:t,saveError:o})),2===l&&Object(h.jsx)(Xe,{onBack:()=>n(1),onSubmit:()=>{e(a)},isSaving:s}))};class remote_cluster_add_RemoteClusterAdd extends r.PureComponent{constructor(...e){super(...e),ze()(this,"save",(e=>{this.props.addCluster(e)})),ze()(this,"redirectToList",(()=>{const{history:e,route:{location:{search:t}}}=ee(),{redirect:s}=Object(l.extractQueryParams)(t);if(s){const e=decodeURIComponent(s);Object(Q.b)(e)}else e.push("/list")}))}componentDidMount(){Object(Y.b)("add")}componentWillUnmount(){this.props.clearAddClusterErrors()}render(){const{isAddingCluster:e,addClusterError:t}=this.props;return Object(h.jsx)(g.EuiPageBody,{"data-test-subj":"remote-clusters-add"},Object(h.jsx)(g.EuiPageSection,{paddingSize:"none"},Object(h.jsx)(Ct,{title:Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.addTitle",defaultMessage:"Add remote cluster"}),description:Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.remoteClustersDescription",defaultMessage:"Create a connection from this cluster to other Elasticsearch clusters."})}),Object(h.jsx)(Et,{saveRemoteClusterConfig:this.save,onCancel:this.redirectToList,isSaving:e,addClusterError:t})))}}const yt=Object(i.connect)((e=>({isAddingCluster:ne(e),addClusterError:ue(e)})),(e=>({addCluster:t=>{e((e=>async t=>{t({type:he});try{await Promise.all([G(e),new Promise((e=>setTimeout(e,500)))])}catch(s){if(s){const{body:r}=s;if(r){const{statusCode:s,message:o}=r;return t(s&&409===s?{type:ye,payload:{error:{message:pe.i18n.translate("xpack.remoteClusters.addAction.clusterNameAlreadyExistsErrorMessage",{defaultMessage:"A cluster with the name ''{clusterName}'' already exists.",values:{clusterName:e.name}})}}}:{type:ye,payload:{error:{message:pe.i18n.translate("xpack.remoteClusters.addAction.failedDefaultErrorMessage",{defaultMessage:"Request failed with a {statusCode} error. {message}",values:{statusCode:s,message:o}})}}})}}return K.a.add(s,pe.i18n.translate("xpack.remoteClusters.addAction.errorTitle",{defaultMessage:"Error adding cluster"}))}t({type:Ee});const{history:s,route:{location:{search:r}}}=ee(),{redirect:o}=Object(l.extractQueryParams)(r);if(o){K.c.addSuccess(pe.i18n.translate("xpack.remoteClusters.addAction.successTitle",{defaultMessage:"Added remote cluster ''{name}''",values:{name:e.name}}));const t=decodeURIComponent(o);Object(Q.b)(`${t}?cluster=${e.name}`)}else s.push({pathname:"/list",search:`?cluster=${e.name}`})})(t))},clearAddClusterErrors:()=>{e((e=>{e({type:Me})}))}})))(remote_cluster_add_RemoteClusterAdd);class remote_cluster_edit_RemoteClusterEdit extends r.Component{constructor(e){super(e),ze()(this,"save",(e=>{this.props.editCluster(e)})),ze()(this,"cancel",(()=>{const{openDetailPanel:e}=this.props,{clusterName:t}=this.state,{history:s,route:{location:{search:r}}}=ee(),{redirect:o}=Object(l.extractQueryParams)(r);if(o){const e=decodeURIComponent(o);Object(Q.b)(e)}else s.push("/list"),e(t)}));const{match:{params:{name:t}}}=e;Object(Y.b)("edit",`?cluster=${t}`),this.state={clusterName:t}}componentDidMount(){const{startEditingCluster:e}=this.props,{clusterName:t}=this.state;e(t)}componentWillUnmount(){this.props.clearEditClusterErrors(),this.props.stopEditingCluster()}render(){const{clusterName:e}=this.state,{isLoading:t,cluster:s,isEditingCluster:r,getEditClusterError:a}=this.props;if(t)return Object(h.jsx)(l.SectionLoading,null,Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.edit.loadingLabel",defaultMessage:"Loading remote cluster"}));if(!s)return Object(h.jsx)(g.EuiPageTemplate.EmptyPrompt,{iconType:"warning",color:"danger",title:Object(h.jsx)("h2",null,Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.edit.loadingErrorTitle",defaultMessage:"Error loading remote cluster"})),body:Object(h.jsx)("p",null,Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.edit.loadingErrorMessage",defaultMessage:"The remote cluster ''{name}'' does not exist.",values:{name:e}})),actions:Object(h.jsx)(g.EuiButton,c()({},Object(n.reactRouterNavigate)(this.props.history,"/list"),{color:"danger",iconType:"arrowLeft",flush:"left"}),Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.edit.viewRemoteClustersButtonLabel",defaultMessage:"View remote clusters"}))});const{isConfiguredByNode:i,hasDeprecatedProxySetting:u}=s;return i?Object(h.jsx)(g.EuiPageTemplate.EmptyPrompt,{iconType:"iInCircle",title:Object(h.jsx)("h2",null,Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.edit.configuredByNodeWarningTitle",defaultMessage:"Defined in configuration"})),body:Object(h.jsx)("p",null,Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.configuredByNodeWarningBody",defaultMessage:"You can't edit or delete this remote cluster because it's defined in a node's elasticsearch.yml configuration file."})),actions:Object(h.jsx)(g.EuiButton,{color:"primary",iconType:"arrowLeft",flush:"left",onClick:this.cancel},Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.edit.backToRemoteClustersButtonLabel",defaultMessage:"Back to remote clusters"}))}):Object(h.jsx)(g.EuiPageBody,{restrictWidth:!0,"data-test-subj":"remote-clusters-edit"},Object(h.jsx)(g.EuiPageSection,{paddingSize:"none"},Object(h.jsx)(Ct,{title:Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.editTitle",defaultMessage:"Edit remote cluster"})}),u?Object(h.jsx)(o.a.Fragment,null,Object(h.jsx)(g.EuiCallOut,{title:Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.edit.deprecatedSettingsTitle",defaultMessage:"Proceed with caution"}),color:"warning",iconType:"help"},Object(h.jsx)(Ne.FormattedMessage,{id:"xpack.remoteClusters.edit.deprecatedSettingsMessage",defaultMessage:"This remote cluster has deprecated settings that we tried to resolve. Verify all changes before saving."})),Object(h.jsx)(g.EuiSpacer,null)):null,Object(h.jsx)(remote_cluster_form_RemoteClusterForm,{cluster:s,isSaving:r,saveError:a,save:this.save,cancel:this.cancel})))}}const Mt=Object(i.connect)((e=>({isLoading:ie(e),cluster:ce(e),isEditingCluster:de(e),getEditClusterError:me(e)})),(e=>({startEditingCluster:t=>{e((({clusterName:e})=>t=>{t(Ae()),t({type:ve,payload:{clusterName:e}})})({clusterName:t}))},stopEditingCluster:()=>{e((e=>{e(Ae()),e({type:Fe})}))},editCluster:t=>{e((e=>async t=>{t({type:ke});try{await Promise.all([$(e),new Promise((e=>setTimeout(e,500)))])}catch(e){if(e){const{body:s}=e;if(s){const{statusCode:e,message:r}=s;return t({type:Te,payload:{error:{message:pe.i18n.translate("xpack.remoteClusters.editAction.failedDefaultErrorMessage",{defaultMessage:"Request failed with a {statusCode} error. {message}",values:{statusCode:e,message:r}})}}})}}return K.a.add(e,pe.i18n.translate("xpack.remoteClusters.editAction.errorTitle",{defaultMessage:"Error editing cluster"}))}t({type:Se});const{history:s,route:{location:{search:r}}}=ee(),{redirect:o}=Object(l.extractQueryParams)(r);if(o){K.c.addSuccess(pe.i18n.translate("xpack.remoteClusters.editAction.successTitle",{defaultMessage:"Edited remote cluster ''{name}''",values:{name:e.name}}));const t=decodeURIComponent(o);Object(Q.b)(`${t}?cluster=${e.name}`)}else s.push({pathname:"/list",search:`?cluster=${e.name}`})})(t))},clearEditClusterErrors:()=>{e((e=>{e({type:Le})}))},openDetailPanel:t=>{e(Pe({name:t}))}})))(remote_cluster_edit_RemoteClusterEdit);class app_AppComponent extends r.Component{constructor(...e){super(...e),X(!1),this.registerRouter()}registerRouter(){const{history:e}=this.props;var t;t={history:e,route:{location:e.location}},J=t}componentDidMount(){Object(q.c)(q.a.LOADED,U.a)}componentWillUnmount(){X(!0)}render(){return Object(h.jsx)(P,{history:this.props.history},Object(h.jsx)(W,null,Object(h.jsx)(B,{exact:!0,path:["/list","/",""],component:ht}),Object(h.jsx)(B,{path:["/add"],component:yt}),Object(h.jsx)(B,{path:"/edit/:name",component:Mt}),Object(h.jsx)(D.Redirect,{from:"/:anything",to:"/list"})))}}const vt=app_AppComponent;var Ft=s(26),kt=s(41),St=s.n(kt);const Tt={isLoading:!1,clusterLoadError:null,asList:[],byName:{},allNames:[]},Lt=e=>e.reduce(((e,t)=>({...e,[t.name]:t})),{}),Dt=e=>e.map((e=>e.name)),Rt={isOpen:!1,clusterName:void 0},Pt={isAdding:!1,error:void 0},_t={isRemoving:!1},wt={clusterName:void 0,isEditing:!1,error:void 0},At=Object(Ft.combineReducers)({clusters:function(e=Tt,t){const{type:s,payload:r}=t;switch(s){case ge:return{...e,isLoading:!0};case Ce:return{asList:[...r.clusters],byName:Lt(r.clusters),allNames:Dt(r.clusters),isLoading:!1};case Oe:return{asList:[...r.clusters],byName:Lt(r.clusters),allNames:Dt(r.clusters)};case fe:return{...e,isLoading:!1,clusterLoadError:r.error};case Re:const t=r,s=Object.keys(e.byName).filter((e=>t.indexOf(e)<0)).map((t=>e.byName[t]));return{...e,asList:s,byName:Lt(s),allNames:Dt(s)};default:return e}},detailPanel:function(e=Rt,t){const{type:s,payload:r}=t;switch(s){case be:const{clusterName:t}=r;return{clusterName:t,isOpen:!0};case xe:return{clusterName:void 0,isOpen:!1};default:return e}},addCluster:function(e=Pt,t){const{type:s,payload:r}=t;switch(s){case he:return{isAdding:!0,error:void 0};case Ee:return{...e,isAdding:!1};case ye:return{...e,error:r.error,isAdding:!1};case Me:return{...e,error:void 0};default:return e}},removeCluster:function(e=_t,t){const{type:s}=t;switch(s){case De:return{isRemoving:!0};case Re:return{isRemoving:!1};default:return e}},editCluster:function(e=wt,t){const{type:s,payload:r}=t;switch(s){case ve:const{clusterName:t}=r;return{clusterName:t};case Fe:return{clusterName:void 0,isEditing:!1,error:void 0};case ke:return{...e,isEditing:!0};case Se:return{...e,isEditing:!1};case Te:return{...e,error:r.error,isEditing:!1};case Le:return{...e,error:void 0};default:return e}}}),Nt=()=>e=>t=>{const{type:s}=t;if(s===xe&&!Z){const{history:e}=ee();e.replace({search:""})}return e(t)},It=function(e={}){const t=[Object(Ft.applyMiddleware)(St.a,Nt)];return Object(Ft.createStore)(At,e,Object(Ft.compose)(...t))}();s(42);const Bt=({history:e,executionContext:t})=>(Object(n.useExecutionContext)(t,{type:"application",page:"remoteClusters"}),Object(h.jsx)(vt,{history:e})),zt=(e,t,s,r)=>(Object(a.render)(Object(h.jsx)(L,r,Object(h.jsx)(i.Provider,{store:It},Object(h.jsx)(Ke,{context:t},Object(h.jsx)(Bt,{history:s,executionContext:t.executionContext})))),e),()=>Object(a.unmountComponentAtNode)(e))}])]);