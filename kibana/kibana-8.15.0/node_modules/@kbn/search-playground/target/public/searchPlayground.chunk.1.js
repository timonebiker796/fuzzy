/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.searchPlayground_bundle_jsonpfunction=window.searchPlayground_bundle_jsonpfunction||[]).push([[1],Array(36).concat([function(e,t,n){"use strict";var a,s=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),o=[];function i(e){for(var t=-1,n=0;n<o.length;n++)if(o[n].identifier===e){t=n;break}return t}function r(e,t){for(var n={},a=[],s=0;s<e.length;s++){var r=e[s],l=t.base?r[0]+t.base:r[0],c=n[l]||0,u="".concat(l," ").concat(c);n[l]=c+1;var d=i(u),p={css:r[1],media:r[2],sourceMap:r[3]};-1!==d?(o[d].references++,o[d].updater(p)):o.push({identifier:u,updater:g(p,t),references:1}),a.push(u)}return a}function l(e){var t=document.createElement("style"),a=e.attributes||{};if(void 0===a.nonce){var o=n.nc;o&&(a.nonce=o)}if(Object.keys(a).forEach((function(e){t.setAttribute(e,a[e])})),"function"==typeof e.insert)e.insert(t);else{var i=s(e.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}return t}var c,u=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function d(e,t,n,a){var s=n?"":a.media?"@media ".concat(a.media," {").concat(a.css,"}"):a.css;if(e.styleSheet)e.styleSheet.cssText=u(t,s);else{var o=document.createTextNode(s),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(o,i[t]):e.appendChild(o)}}function p(e,t,n){var a=n.css,s=n.media,o=n.sourceMap;if(s?e.setAttribute("media",s):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}var b=null,j=0;function g(e,t){var n,a,s;if(t.singleton){var o=j++;n=b||(b=l(t)),a=d.bind(null,n,o,!1),s=d.bind(null,n,o,!0)}else n=l(t),a=p.bind(null,n,t),s=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else s()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===a&&(a=Boolean(window&&document&&document.all&&!window.atob)),a));var n=r(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var a=0;a<n.length;a++){var s=i(n[a]);o[s].references--}for(var l=r(e,t),c=0;c<n.length;c++){var u=i(n[c]);0===o[u].references&&(o[u].updater(),o.splice(u,1))}n=l}}}},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,a,s,o=e[1]||"",i=e[3];if(!i)return o;if(t&&"function"==typeof btoa){var r=(n=i,a=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(s," */")),l=i.sources.map((function(e){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(e," */")}));return[o].concat(l).concat([r]).join("\n")}return[o].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,a){"string"==typeof e&&(e=[[null,e,""]]);var s={};if(a)for(var o=0;o<this.length;o++){var i=this[o][0];null!=i&&(s[i]=!0)}for(var r=0;r<e.length;r++){var l=[].concat(e[r]);a&&s[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},,,,,,,,function(e,t,n){"use strict";e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},function(e,t,n){e.exports=n.p+"1cbd62546f764080f7071e03889e9de3.svg"},function(e,t,n){"use strict";e.exports=n(68)},function(e,t,n){"use strict";e.exports=n(75)},,,,,,,function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n(56);var a=n(1),s=n(57),o=n(58);function i(e){return e&&e.__esModule?e:{default:e}}const r=i(a).default.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;throw"rejected"===e.status?e.reason:(e.status="pending",e.then((t=>{e.status="fulfilled",e.value=t}),(t=>{e.status="rejected",e.reason=t})),e)}),l={dedupe:!0},c=o.OBJECT.defineProperty(o.SWRConfig,"defaultValue",{value:o.defaultConfig}),u=o.withArgs(((e,t,n)=>{const{cache:i,compare:c,suspense:u,fallbackData:d,revalidateOnMount:p,revalidateIfStale:b,refreshInterval:j,refreshWhenHidden:g,refreshWhenOffline:m,keepPreviousData:x}=n,[f,h,O,v]=o.SWRGlobalState.get(i),[y,E]=o.serialize(e),k=a.useRef(!1),C=a.useRef(!1),S=a.useRef(y),w=a.useRef(t),_=a.useRef(n),M=()=>_.current,T=()=>M().isVisible()&&M().isOnline(),[P,F,N,I]=o.createCacheHelper(i,y),A=a.useRef({}).current,z=o.isUndefined(d)?n.fallback[y]:d,L=(e,t)=>{for(const n in A){const a=n;if("data"===a){if(!c(e[a],t[a])){if(!o.isUndefined(e[a]))return!1;if(!c(V,t[a]))return!1}}else if(t[a]!==e[a])return!1}return!0},B=a.useMemo((()=>{const e=!!y&&!!t&&(o.isUndefined(p)?!M().isPaused()&&!u&&(!!o.isUndefined(b)||b):p),n=t=>{const n=o.mergeObjects(t);return delete n._k,e?{isValidating:!0,isLoading:!0,...n}:n},a=P(),s=I(),i=n(a),r=a===s?i:n(s);let l=i;return[()=>{const e=n(P());return L(e,l)?(l.data=e.data,l.isLoading=e.isLoading,l.isValidating=e.isValidating,l.error=e.error,l):(l=e,e)},()=>r]}),[i,y]),R=s.useSyncExternalStore(a.useCallback((e=>N(y,((t,n)=>{L(n,t)||e()}))),[i,y]),B[0],B[1]),D=!k.current,U=f[y]&&f[y].length>0,q=R.data,G=o.isUndefined(q)?z:q,$=R.error,W=a.useRef(G),V=x?o.isUndefined(q)?W.current:q:G,H=!(U&&!o.isUndefined($))&&(D&&!o.isUndefined(p)?p:!M().isPaused()&&(u?!o.isUndefined(G)&&b:o.isUndefined(G)||b)),J=!!(y&&t&&D&&H),Y=o.isUndefined(R.isValidating)?J:R.isValidating,Q=o.isUndefined(R.isLoading)?J:R.isLoading,X=a.useCallback((async e=>{const t=w.current;if(!y||!t||C.current||M().isPaused())return!1;let a,s,i=!0;const r=e||{},l=!O[y]||!r.dedupe,u=()=>o.IS_REACT_LEGACY?!C.current&&y===S.current&&k.current:y===S.current,d={isValidating:!1,isLoading:!1},p=()=>{F(d)},b=()=>{const e=O[y];e&&e[1]===s&&delete O[y]},j={isValidating:!0};o.isUndefined(P().data)&&(j.isLoading=!0);try{if(l&&(F(j),n.loadingTimeout&&o.isUndefined(P().data)&&setTimeout((()=>{i&&u()&&M().onLoadingSlow(y,n)}),n.loadingTimeout),O[y]=[t(E),o.getTimestamp()]),[a,s]=O[y],a=await a,l&&setTimeout(b,n.dedupingInterval),!O[y]||O[y][1]!==s)return l&&u()&&M().onDiscarded(y),!1;d.error=o.UNDEFINED;const e=h[y];if(!o.isUndefined(e)&&(s<=e[0]||s<=e[1]||0===e[1]))return p(),l&&u()&&M().onDiscarded(y),!1;const r=P().data;d.data=c(r,a)?r:a,l&&u()&&M().onSuccess(a,y,n)}catch(e){b();const t=M(),{shouldRetryOnError:n}=t;t.isPaused()||(d.error=e,l&&u()&&(t.onError(e,y,t),(!0===n||o.isFunction(n)&&n(e))&&(M().revalidateOnFocus&&M().revalidateOnReconnect&&!T()||t.onErrorRetry(e,y,t,(e=>{const t=f[y];t&&t[0]&&t[0](o.revalidateEvents.ERROR_REVALIDATE_EVENT,e)}),{retryCount:(r.retryCount||0)+1,dedupe:!0}))))}return i=!1,p(),!0}),[y,i]),K=a.useCallback(((...e)=>o.internalMutate(i,S.current,...e)),[]);if(o.useIsomorphicLayoutEffect((()=>{w.current=t,_.current=n,o.isUndefined(q)||(W.current=q)})),o.useIsomorphicLayoutEffect((()=>{if(!y)return;const e=X.bind(o.UNDEFINED,l);let t=0;const n=o.subscribeCallback(y,f,((n,a={})=>{if(n==o.revalidateEvents.FOCUS_EVENT){const n=Date.now();M().revalidateOnFocus&&n>t&&T()&&(t=n+M().focusThrottleInterval,e())}else if(n==o.revalidateEvents.RECONNECT_EVENT)M().revalidateOnReconnect&&T()&&e();else{if(n==o.revalidateEvents.MUTATE_EVENT)return X();if(n==o.revalidateEvents.ERROR_REVALIDATE_EVENT)return X(a)}}));return C.current=!1,S.current=y,k.current=!0,F({_k:E}),H&&(o.isUndefined(G)||o.IS_SERVER?e():o.rAF(e)),()=>{C.current=!0,n()}}),[y]),o.useIsomorphicLayoutEffect((()=>{let e;function t(){const t=o.isFunction(j)?j(P().data):j;t&&-1!==e&&(e=setTimeout(n,t))}function n(){P().error||!g&&!M().isVisible()||!m&&!M().isOnline()?t():X(l).then(t)}return t(),()=>{e&&(clearTimeout(e),e=-1)}}),[j,g,m,y]),a.useDebugValue(V),u&&o.isUndefined(G)&&y){if(!o.IS_REACT_LEGACY&&o.IS_SERVER)throw new Error("Fallback data is required when using suspense in SSR.");w.current=t,_.current=n,C.current=!1;const e=v[y];if(!o.isUndefined(e)){const t=K(e);r(t)}if(!o.isUndefined($))throw $;{const e=X(l);o.isUndefined(V)||(e.status="fulfilled",e.value=!0),r(e)}}return{mutate:K,get data(){return A.data=!0,V},get error(){return A.error=!0,$},get isValidating(){return A.isValidating=!0,Y},get isLoading(){return A.isLoading=!0,Q}}}));Object.defineProperty(t,"mutate",{enumerable:!0,get:function(){return o.mutate}}),Object.defineProperty(t,"preload",{enumerable:!0,get:function(){return o.preload}}),Object.defineProperty(t,"useSWRConfig",{enumerable:!0,get:function(){return o.useSWRConfig}}),t.SWRConfig=c,t.default=u,t.unstable_serialize=e=>o.serialize(e)[0]},function(e,t){},function(e,t,n){e.exports=n(8)(574)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(1);function s(e){return e&&e.__esModule?e:{default:e}}var o=s(a);const i=()=>{},r=i(),l=Object,c=e=>e===r,u=e=>"function"==typeof e,d=(e,t)=>({...e,...t}),p=e=>u(e.then),b=new WeakMap;let j=0;const g=e=>{const t=typeof e,n=e&&e.constructor,a=n==Date;let s,o;if(l(e)!==e||a||n==RegExp)s=a?e.toJSON():"symbol"==t?e.toString():"string"==t?JSON.stringify(e):""+e;else{if(s=b.get(e),s)return s;if(s=++j+"~",b.set(e,s),n==Array){for(s="@",o=0;o<e.length;o++)s+=g(e[o])+",";b.set(e,s)}if(n==l){s="#";const t=l.keys(e).sort();for(;!c(o=t.pop());)c(e[o])||(s+=o+":"+g(e[o])+",");b.set(e,s)}}return s},m=new WeakMap,x={},f={},h="undefined",O=typeof window!=h,v=typeof document!=h,y=()=>O&&typeof window.requestAnimationFrame!=h,E=(e,t)=>{const n=m.get(e);return[()=>!c(t)&&e.get(t)||x,a=>{if(!c(t)){const s=e.get(t);t in f||(f[t]=s),n[5](t,d(s,a),s||x)}},n[6],()=>!c(t)&&t in f?f[t]:!c(t)&&e.get(t)||x]};let k=!0;const[C,S]=O&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[i,i],w={isOnline:()=>k,isVisible:()=>{const e=v&&document.visibilityState;return c(e)||"hidden"!==e}},_={initFocus:e=>(v&&document.addEventListener("visibilitychange",e),C("focus",e),()=>{v&&document.removeEventListener("visibilitychange",e),S("focus",e)}),initReconnect:e=>{const t=()=>{k=!0,e()},n=()=>{k=!1};return C("online",t),C("offline",n),()=>{S("online",t),S("offline",n)}}},M=!o.default.useId,T=!O||"Deno"in window,P=T?a.useEffect:a.useLayoutEffect,F="undefined"!=typeof navigator&&navigator.connection,N=!T&&F&&(["slow-2g","2g"].includes(F.effectiveType)||F.saveData),I=e=>{if(u(e))try{e=e()}catch(t){e=""}const t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?g(e):"",t]};let A=0;const z=()=>++A;async function L(...e){const[t,n,a,s]=e,o=d({populateCache:!0,throwOnError:!0},"boolean"==typeof s?{revalidate:s}:s||{});let i=o.populateCache;const l=o.rollbackOnError;let b=o.optimisticData;const j=o.throwOnError;if(u(n)){const e=n,a=[],s=t.keys();for(const n of s)!/^\$(inf|sub)\$/.test(n)&&e(t.get(n)._k)&&a.push(n);return Promise.all(a.map(g))}return g(n);async function g(n){const[s]=I(n);if(!s)return;const[d,g]=E(t,s),[x,f,h,O]=m.get(t),v=()=>{const e=x[s];return(u(o.revalidate)?o.revalidate(d().data,n):!1!==o.revalidate)&&(delete h[s],delete O[s],e&&e[0])?e[0](2).then((()=>d().data)):d().data};if(e.length<3)return v();let y,k=a;const C=z();f[s]=[C,0];const S=!c(b),w=d(),_=w.data,M=w._c,T=c(M)?_:M;if(S&&(b=u(b)?b(T,_):b,g({data:b,_c:T})),u(k))try{k=k(T)}catch(e){y=e}if(k&&p(k)){if(k=await k.catch((e=>{y=e})),C!==f[s][0]){if(y)throw y;return k}y&&S&&(e=>"function"==typeof l?l(e):!1!==l)(y)&&(i=!0,g({data:T,_c:r}))}if(i&&!y)if(u(i)){const e=i(k,T);g({data:e,error:r,_c:r})}else g({data:k,error:r,_c:r});if(f[s][1]=z(),Promise.resolve(v()).then((()=>{g({_c:r})})),!y)return k;if(j)throw y}}const B=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},R=(e,t)=>{if(!m.has(e)){const n=d(_,t),a={},s=L.bind(r,e);let o=i;const l={},c=(e,t)=>{const n=l[e]||[];return l[e]=n,n.push(t),()=>n.splice(n.indexOf(t),1)},u=(t,n,a)=>{e.set(t,n);const s=l[t];if(s)for(const e of s)e(n,a)},p=()=>{if(!m.has(e)&&(m.set(e,[a,{},{},{},s,u,c]),!T)){const t=n.initFocus(setTimeout.bind(r,B.bind(r,a,0))),s=n.initReconnect(setTimeout.bind(r,B.bind(r,a,1)));o=()=>{t&&t(),s&&s(),m.delete(e)}}};return p(),[e,s,p,o]}return[e,m.get(e)[4]]},D=(e,t)=>g(e)==g(t),[U,q]=R(new Map),G=d({onLoadingSlow:i,onSuccess:i,onError:i,onErrorRetry:(e,t,n,a,s)=>{const o=n.errorRetryCount,i=s.retryCount,r=~~((Math.random()+.5)*(1<<(i<8?i:8)))*n.errorRetryInterval;!c(o)&&i>o||setTimeout(a,r,s)},onDiscarded:i,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:N?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:N?5e3:3e3,compare:D,isPaused:()=>!1,cache:U,mutate:q,fallback:{}},w),$=(e,t)=>{const n=d(e,t);if(t){const{use:a,fallback:s}=e,{use:o,fallback:i}=t;a&&o&&(n.use=a.concat(o)),s&&i&&(n.fallback=d(s,i))}return n},W=a.createContext({}),V="$inf$",H=O&&window.__SWR_DEVTOOLS_USE__,J=H?window.__SWR_DEVTOOLS_USE__:[],Y=e=>u(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}],Q=()=>d(G,a.useContext(W)),X=J.concat((e=>(t,n,a)=>e(t,n&&((...e)=>{const[a]=I(t),[,,,s]=m.get(U);if(a.startsWith(V))return n(...e);const o=s[a];return c(o)?n(...e):(delete s[a],o)}),a)));H&&(window.__SWR_DEVTOOLS_REACT__=o.default),t.INFINITE_PREFIX=V,t.IS_REACT_LEGACY=M,t.IS_SERVER=T,t.OBJECT=l,t.SWRConfig=e=>{const{value:t}=e,n=a.useContext(W),s=u(t),o=a.useMemo((()=>s?t(n):t),[s,n,t]),i=a.useMemo((()=>s?o:$(n,o)),[s,n,o]),l=o&&o.provider,c=a.useRef(r);l&&!c.current&&(c.current=R(l(i.cache||U),o));const p=c.current;return p&&(i.cache=p[0],i.mutate=p[1]),P((()=>{if(p)return p[2]&&p[2](),p[3]}),[]),a.createElement(W.Provider,d(e,{value:i}))},t.SWRGlobalState=m,t.UNDEFINED=r,t.cache=U,t.compare=D,t.createCacheHelper=E,t.defaultConfig=G,t.defaultConfigOptions=_,t.getTimestamp=z,t.hasRequestAnimationFrame=y,t.initCache=R,t.internalMutate=L,t.isDocumentDefined=v,t.isFunction=u,t.isPromiseLike=p,t.isUndefined=c,t.isWindowDefined=O,t.mergeConfigs=$,t.mergeObjects=d,t.mutate=q,t.noop=i,t.normalize=Y,t.preload=(e,t)=>{const[n,a]=I(e),[,,,s]=m.get(U);if(s[n])return s[n];const o=t(a);return s[n]=o,o},t.preset=w,t.rAF=e=>y()?window.requestAnimationFrame(e):setTimeout(e,1),t.revalidateEvents={__proto__:null,ERROR_REVALIDATE_EVENT:3,FOCUS_EVENT:0,MUTATE_EVENT:2,RECONNECT_EVENT:1},t.serialize=I,t.slowConnection=N,t.stableHash=g,t.subscribeCallback=(e,t,n)=>{const a=t[e]||(t[e]=[]);return a.push(n),()=>{const e=a.indexOf(n);e>=0&&(a[e]=a[a.length-1],a.pop())}},t.useIsomorphicLayoutEffect=P,t.useSWRConfig=Q,t.withArgs=e=>function(...t){const n=Q(),[a,s,o]=Y(t),i=$(n,o);let r=e;const{use:l}=i,c=(l||[]).concat(X);for(let e=c.length;e--;)r=c[e](r);return r(a,s||i.fetcher||null,i)},t.withMiddleware=(e,t)=>(...n)=>{const[a,s,o]=Y(n),i=(o.use||[]).concat(t);return e(a,s,{...o,use:i})}},function(e,t,n){switch(window.__kbnThemeTag__){case"v8dark":return n(60);case"v8light":return n(62)}},function(e,t,n){var a=n(36),s=n(61);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);a(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},function(e,t,n){var a=n(37),s=n(45),o=n(46);t=a(!1);var i=s(o);t.push([e.i,".kbnSolutionAvatar{box-shadow:0 .7px 1.4px rgba(0,0,0,.175),0 1.9px 4px rgba(0,0,0,.125),0 4.5px 10px rgba(0,0,0,.125)}.kbnSolutionAvatar--xxl{background:#1d1e24 url("+i+") no-repeat;background-size:cover,125%;border-radius:100px;box-shadow:0 .9px 4px -1px #0003,0 2.6px 8px -1px #00000026,0 5.7px 12px -1px rgba(0,0,0,.125),0 15px 15px -1px #0000001a;display:inline-block;height:100px;line-height:100px;text-align:center;width:100px}",""]),e.exports=t},function(e,t,n){var a=n(36),s=n(63);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);a(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},function(e,t,n){var a=n(37),s=n(45),o=n(46);t=a(!1);var i=s(o);t.push([e.i,".kbnSolutionAvatar{box-shadow:0 .7px 1.4px #00000012,0 1.9px 4px #0000000d,0 4.5px 10px #0000000d}.kbnSolutionAvatar--xxl{background:#fff url("+i+") no-repeat;background-size:cover,125%;border-radius:100px;box-shadow:0 .9px 4px -1px #00000014,0 2.6px 8px -1px #0000000f,0 5.7px 12px -1px #0000000d,0 15px 15px -1px #0000000a;display:inline-block;height:100px;line-height:100px;text-align:center;width:100px}",""]),e.exports=t},function(e,t,n){e.exports=n.p+"baad30acfe492601d08a0e839c9bb3f5.svg"},function(e,t,n){"use strict";e.exports=n(66)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(67);n(18),n(47),n(48);var s=a.default({key:"css"}),o=s.flush,i=s.hydrate,r=s.cx,l=s.merge,c=s.getRegisteredStyles,u=s.injectGlobal,d=s.keyframes,p=s.css,b=s.sheet,j=s.cache;t.cache=j,t.css=p,t.cx=r,t.flush=o,t.getRegisteredStyles=c,t.hydrate=i,t.injectGlobal=u,t.keyframes=d,t.merge=l,t.sheet=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(18),s=n(47),o=n(48);function i(e){return e&&e.__esModule?e:{default:e}}var r=i(a);function l(e,t){if(void 0===e.inserted[t.name])return e.insert("",t,e.sheet,!0)}function c(e,t,n){var a=[],s=o.getRegisteredStyles(e,a,n);return a.length<2?n:s+t(a)}var u=function e(t){for(var n="",a=0;a<t.length;a++){var s=t[a];if(null!=s){var o=void 0;switch(typeof s){case"boolean":break;case"object":if(Array.isArray(s))o=e(s);else for(var i in o="",s)s[i]&&i&&(o&&(o+=" "),o+=i);break;default:o=s}o&&(n&&(n+=" "),n+=o)}}return n};t.default=function(e){var t=r.default(e);t.sheet.speedy=function(e){this.isSpeedy=e},t.compat=!0;var n=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];var i=s.serializeStyles(n,t.registered,void 0);return o.insertStyles(t,i,!1),t.key+"-"+i.name};return{css:n,cx:function(){for(var e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];return c(t.registered,n,u(a))},injectGlobal:function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];var o=s.serializeStyles(n,t.registered);l(t,o)},keyframes:function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];var o=s.serializeStyles(n,t.registered),i="animation-"+o.name;return l(t,{name:o.name,styles:"@keyframes "+i+"{"+o.styles+"}"}),i},hydrate:function(e){e.forEach((function(e){t.inserted[e]=!0}))},flush:function(){t.registered={},t.inserted={},t.sheet.flush()},sheet:t.sheet,cache:t,getRegisteredStyles:o.getRegisteredStyles.bind(null,t.registered),merge:c.bind(null,t.registered,n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(69),s=n(71),o=n(73);function i(e){return e&&e.__esModule?e:{default:e}}var r=i(a),l=i(s),c=/[A-Z]|^ms/g,u=/_EMO_([^_]+?)_([^]*?)_EMO_/g,d=function(e){return 45===e.charCodeAt(1)},p=function(e){return null!=e&&"boolean"!=typeof e},b=i(o).default((function(e){return d(e)?e:e.replace(c,"-$&").toLowerCase()})),j=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(u,(function(e,t,n){return m={name:t,styles:n,next:m},t}))}return 1===l.default[e]||d(e)||"number"!=typeof t||0===t?t:t+"px"};function g(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return m={name:n.name,styles:n.styles,next:m},n.name;if(void 0!==n.styles){var a=n.next;if(void 0!==a)for(;void 0!==a;)m={name:a.name,styles:a.styles,next:m},a=a.next;return n.styles+";"}return function(e,t,n){var a="";if(Array.isArray(n))for(var s=0;s<n.length;s++)a+=g(e,t,n[s])+";";else for(var o in n){var i=n[o];if("object"!=typeof i)null!=t&&void 0!==t[i]?a+=o+"{"+t[i]+"}":p(i)&&(a+=b(o)+":"+j(o,i)+";");else if(!Array.isArray(i)||"string"!=typeof i[0]||null!=t&&void 0!==t[i[0]]){var r=g(e,t,i);switch(o){case"animation":case"animationName":a+=b(o)+":"+r+";";break;default:a+=o+"{"+r+"}"}}else for(var l=0;l<i.length;l++)p(i[l])&&(a+=b(o)+":"+j(o,i[l])+";")}return a}(e,t,n);case"function":if(void 0!==e){var s=m,o=n(e);return m=s,g(e,t,o)}}if(null==t)return n;var i=t[n];return void 0!==i?i:n}var m,x=/label:\s*([^\s;\n{]+)\s*(;|$)/g;t.serializeStyles=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var a=!0,s="";m=void 0;var o=e[0];null==o||void 0===o.raw?(a=!1,s+=g(n,t,o)):s+=o[0];for(var i=1;i<e.length;i++)s+=g(n,t,e[i]),a&&(s+=o[i]);x.lastIndex=0;for(var l,c="";null!==(l=x.exec(s));)c+="-"+l[1];return{name:r.default(s)+c,styles:s,next:m}}},function(e,t,n){"use strict";e.exports=n(70)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t,n=0,a=0,s=e.length;s>=4;++a,s-=4)t=1540483477*(65535&(t=255&e.charCodeAt(a)|(255&e.charCodeAt(++a))<<8|(255&e.charCodeAt(++a))<<16|(255&e.charCodeAt(++a))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(s){case 3:n^=(255&e.charCodeAt(a+2))<<16;case 2:n^=(255&e.charCodeAt(a+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(a)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}},function(e,t,n){"use strict";e.exports=n(72)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(e,t,n){"use strict";e.exports=n(74)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="undefined"!=typeof document,s=function(e,t,n){var s=e.key+"-"+t.name;(!1===n||!1===a&&void 0!==e.compat)&&void 0===e.registered[s]&&(e.registered[s]=t.styles)};t.getRegisteredStyles=function(e,t,n){var a="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):a+=n+" "})),a},t.insertStyles=function(e,t,n){s(e,t,n);var o=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i="",r=t;do{var l=e.insert(t===r?"."+o:"",r,e.sheet,!0);a||void 0===l||(i+=l),r=r.next}while(void 0!==r);if(!a&&0!==i.length)return i}},t.registerStyles=s},function(e,t,n){switch(window.__kbnThemeTag__){case"v8dark":return n(77);case"v8light":return n(79)}},function(e,t,n){var a=n(36),s=n(78);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);a(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},function(e,t,n){(t=n(37)(!1)).push([e.i,'.kbnSolutionNav__flyout{background-color:#141519}.kbnSolutionNav__flyout .kbnSolutionNav{flex:auto}.kbnSolutionNav{display:flex;flex-direction:column;height:100%;overflow-x:hidden;overflow-y:auto;scrollbar-color:#98a2b380 #0000;scrollbar-width:thin}.kbnSolutionNav::-webkit-scrollbar{height:16px;width:16px}.kbnSolutionNav::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#98a2b380;border:6px solid #0000;border-radius:16px}.kbnSolutionNav::-webkit-scrollbar-corner,.kbnSolutionNav::-webkit-scrollbar-track{background-color:#0000}.kbnSolutionNav:focus{outline:none}.kbnSolutionNav[tabindex="0"]:focus:focus-visible{outline-style:auto}@media only screen and (min-width:768px)and (max-width:991px){.kbnSolutionNav{padding:24px;width:248px}}@media only screen and (min-width:992px)and (max-width:1199px){.kbnSolutionNav{padding:24px;width:248px}}@media only screen and (min-width:1200px){.kbnSolutionNav{padding:24px;width:248px}}.kbnSolutionNav__title{align-items:center;display:inline-flex}.kbnSolutionNav__titleAvatar{align-self:flex-start;margin-right:12px}.kbnSolutionNav--hidden{opacity:0;pointer-events:none}@media screen and (prefers-reduced-motion:no-preference){.kbnSolutionNav--hidden{transition:opacity .15s cubic-bezier(.694,.0482,.335,1)}}',""]),e.exports=t},function(e,t,n){var a=n(36),s=n(80);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);a(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},function(e,t,n){(t=n(37)(!1)).push([e.i,'.kbnSolutionNav__flyout{background-color:#fafbfd}.kbnSolutionNav__flyout .kbnSolutionNav{flex:auto}.kbnSolutionNav{display:flex;flex-direction:column;height:100%;overflow-x:hidden;overflow-y:auto;scrollbar-color:#69707d80 #0000;scrollbar-width:thin}.kbnSolutionNav::-webkit-scrollbar{height:16px;width:16px}.kbnSolutionNav::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#69707d80;border:6px solid #0000;border-radius:16px}.kbnSolutionNav::-webkit-scrollbar-corner,.kbnSolutionNav::-webkit-scrollbar-track{background-color:#0000}.kbnSolutionNav:focus{outline:none}.kbnSolutionNav[tabindex="0"]:focus:focus-visible{outline-style:auto}@media only screen and (min-width:768px)and (max-width:991px){.kbnSolutionNav{padding:24px;width:248px}}@media only screen and (min-width:992px)and (max-width:1199px){.kbnSolutionNav{padding:24px;width:248px}}@media only screen and (min-width:1200px){.kbnSolutionNav{padding:24px;width:248px}}.kbnSolutionNav__title{align-items:center;display:inline-flex}.kbnSolutionNav__titleAvatar{align-self:flex-start;margin-right:12px}.kbnSolutionNav--hidden{opacity:0;pointer-events:none}@media screen and (prefers-reduced-motion:no-preference){.kbnSolutionNav--hidden{transition:opacity .15s cubic-bezier(.694,.0482,.335,1)}}',""]),e.exports=t},function(e,t,n){switch(window.__kbnThemeTag__){case"v8dark":return n(82);case"v8light":return n(84)}},function(e,t,n){var a=n(36),s=n(83);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);a(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},function(e,t,n){(t=n(37)(!1)).push([e.i,".kbnSolutionNavCollapseButton{left:232px;opacity:0;position:absolute;top:24px;z-index:2}@media screen and (prefers-reduced-motion:no-preference){.kbnSolutionNavCollapseButton{transition:opacity .15s,left .15s,background .15s}}.kbnSolutionNavCollapseButton:focus,.kbnSolutionNavCollapseButton:hover{transition-delay:0s!important}.kbnSolutionNavCollapseButton:focus,.kbnSolutionNavCollapseButton:hover,.kbnSolutionNav__sidebar:hover .kbnSolutionNavCollapseButton{left:224px;opacity:1}.kbnSolutionNav__sidebar:hover .kbnSolutionNavCollapseButton{transition-delay:.7s}.kbnSolutionNavCollapseButton:not(.kbnSolutionNavCollapseButton-isCollapsed){background-color:#1d1e24!important}.kbnSolutionNavCollapseButton-isCollapsed{align-items:flex-start;border-radius:0;bottom:0;height:100%;left:0!important;opacity:1!important;padding-top:32px;right:auto;top:0;transition-delay:0s!important;width:40px}",""]),e.exports=t},function(e,t,n){var a=n(36),s=n(85);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);a(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},function(e,t,n){(t=n(37)(!1)).push([e.i,".kbnSolutionNavCollapseButton{left:232px;opacity:0;position:absolute;top:24px;z-index:2}@media screen and (prefers-reduced-motion:no-preference){.kbnSolutionNavCollapseButton{transition:opacity .15s,left .15s,background .15s}}.kbnSolutionNavCollapseButton:focus,.kbnSolutionNavCollapseButton:hover{transition-delay:0s!important}.kbnSolutionNavCollapseButton:focus,.kbnSolutionNavCollapseButton:hover,.kbnSolutionNav__sidebar:hover .kbnSolutionNavCollapseButton{left:224px;opacity:1}.kbnSolutionNav__sidebar:hover .kbnSolutionNavCollapseButton{transition-delay:.7s}.kbnSolutionNavCollapseButton:not(.kbnSolutionNavCollapseButton-isCollapsed){background-color:#fff!important}.kbnSolutionNavCollapseButton-isCollapsed{align-items:flex-start;border-radius:0;bottom:0;height:100%;left:0!important;opacity:1!important;padding-top:32px;right:auto;top:0;transition-delay:0s!important;width:40px}",""]),e.exports=t},,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"ViewMode",(function(){return wt})),n.d(t,"App",(function(){return Mt}));var a=n(1),s=n.n(a),o=n(31),i=n.n(o),r=n(4),l=n(14),c=n.n(l),u=(n(76),n(12)),d=n(5),p=(n(59),n(2));const b=e=>{const{className:t,size:n,...a}=e,s={};return(e=>void 0===e.iconType)(e)&&(s.iconType=`logo${e.name.replace(/\s+/g,"")}`),Object(p.jsx)(r.EuiAvatar,i()({className:c()("kbnSolutionAvatar",{[`kbnSolutionAvatar--${n}`]:n},t),size:"xxl"===n?"xl":n,iconSize:n,color:"plain"},a,s))};n(81);const j=d.i18n.translate("sharedUXPackages.solutionNav.collapsibleLabel",{defaultMessage:"Collapse side navigation"}),g=d.i18n.translate("sharedUXPackages.solutionNav.openLabel",{defaultMessage:"Open side navigation"}),m=({className:e,isCollapsed:t,...n})=>{const a=c()("kbnSolutionNavCollapseButton",{"kbnSolutionNavCollapseButton-isCollapsed":t},e);return Object(p.jsx)(r.EuiButtonIcon,i()({className:a,size:"s",color:"text",iconType:t?"menuRight":"menuLeft","aria-label":t?g:j,title:t?g:j},n))},x="248px",f=(e,t)=>e.map((e=>(e.tabIndex=t?-1:void 0,e.items=e.items&&f(e.items,t),e))),h=Object(r.htmlIdGenerator)("SolutionNav"),O=({children:e,headingProps:t,icon:n,isOpenOnDesktop:o=!1,items:l,mobileBreakpoints:j=["xs","s"],closeFlyoutButtonPosition:g="outside",name:O,onCollapse:v,canBeCollapsed:y=!0,...E})=>{const k=Object(r.useIsWithinBreakpoints)(j),C=Object(r.useIsWithinBreakpoints)(["m"]),S=Object(r.useIsWithinMinBreakpoint)("l"),[w,_]=Object(a.useState)(!1),M=S&&!o&&y,T=!!e,P=c()("kbnSolutionNav",{"kbnSolutionNav--hidden":M}),F=(null==t?void 0:t.id)||h("heading"),N=(null==t?void 0:t.element)||"h2",I=Object(p.jsx)(r.EuiTitle,{size:"xs",id:F,"data-test-subj":null==t?void 0:t["data-test-subj"],className:"kbnSolutionNav__title"},Object(p.jsx)(N,null,n&&Object(p.jsx)(b,{className:"kbnSolutionNav__titleAvatar",iconType:n,name:O}),Object(p.jsx)("strong",null,Object(p.jsx)(u.FormattedMessage,{id:"sharedUXPackages.solutionNav.mobileTitleText",defaultMessage:"{solutionName} {menuText}",values:{solutionName:O||"Navigation",menuText:k?d.i18n.translate("sharedUXPackages.solutionNav.menuText",{defaultMessage:"menu"}):""}})))),A=Object(a.useMemo)((()=>T?e:l?Object(p.jsx)(r.EuiSideNav,i()({"aria-labelledby":F,"aria-hidden":M,items:f(l,M),mobileBreakpoints:[]},E)):null),[e,F,T,M,l,E]),{euiTheme:z}=Object(r.useEuiTheme)(),L=Object(a.useMemo)((()=>S?o?x:z.size.xxl:C?w||!y?x:z.size.xxl:"0"),[z,o,w,y,C,S]),{setGlobalCSSVariables:B}=Object(r.useEuiThemeCSSVariables)();return Object(a.useEffect)((()=>{B({"--kbnSolutionNavOffset":L})}),[L,B]),Object(p.jsx)(s.a.Fragment,null,k&&Object(p.jsx)(r.EuiCollapsibleNavGroup,{className:P,paddingSize:"none",background:"none",title:I,titleElement:"span",isCollapsible:y,initialIsOpen:!1},Object(p.jsx)(r.EuiPanel,{color:"transparent",paddingSize:"s"},A)),C&&Object(p.jsx)(s.a.Fragment,null,(w||!y)&&Object(p.jsx)(r.EuiFlyout,{ownFocus:!1,outsideClickCloses:!0,onClose:()=>_(!1),side:"left",size:248,closeButtonPosition:g,className:"kbnSolutionNav__flyout",hideCloseButton:!y},Object(p.jsx)(r.EuiPageSidebar,{className:P,hasEmbellish:!0},I,Object(p.jsx)(r.EuiSpacer,{size:"l"}),A)),y&&Object(p.jsx)(m,{isCollapsed:!0,onClick:()=>{_(!w)}})),S&&Object(p.jsx)(s.a.Fragment,null,Object(p.jsx)("div",{className:P},I,Object(p.jsx)(r.EuiSpacer,{size:"l"}),A),y&&Object(p.jsx)(m,{isCollapsed:!o,onClick:v})))};var v=n(65);const y="solutionNavIsCollapsed",E=e=>{const t=t=>{var n;const s=Object(r.useIsWithinBreakpoints)(["m"]),o=Object(r.useIsWithinMinBreakpoint)("l"),[l,u]=Object(a.useState)(!JSON.parse(String(localStorage.getItem(y)))),{solutionNav:d,children:b,...j}=t,{euiTheme:g}=Object(r.useEuiTheme)(),{canBeCollapsed:m=!0}=d,x=s||m&&o&&!l,f=(e=>Object(v.css)("flex:0 1 0;overflow:hidden;",r.euiCanAnimate,"{transition:min-width ",e.animation.fast," ",e.animation.resistance,";}",""))(g),h=c()("kbnSolutionNav__sidebar",{"kbnSolutionNav__sidebar--shrink":x},null===(n=t.pageSideBarProps)||void 0===n?void 0:n.className,f),E=Object(p.jsx)(O,i()({isOpenOnDesktop:l,onCollapse:()=>{u(!l),localStorage.setItem(y,JSON.stringify(l))}},d)),k={paddingSize:"none",...t.pageSideBarProps,minWidth:x?g.size.xxl:void 0,className:h,hasEmbellish:!x};return Object(p.jsx)(e,i()({},j,{pageSideBar:E,pageSideBarProps:k}),b)};var n;return t.displayName=`WithSolutionNavBar(${n=e,n.displayName||n.name||"UnnamedComponent"})`,t};n(42);const k=s.a.createContext(null),C={name:"h42ud6",styles:"display:inherit;height:inherit;width:inherit;flex:1;flex-flow:column nowrap"},S=({children:e,navigateToUrl:t,currentAppId:n,...s})=>{const o=Object(a.useRef)(null),r=Object(a.useCallback)((e=>(({event:e,container:t,navigateToUrl:n,currentAppId:a})=>{if(!t||!a)return;const s=((e,t)=>{let n=e;do{var a,s;if("a"===(null===(a=n)||void 0===a?void 0:a.tagName.toLowerCase()))return n;const e=null===(s=n)||void 0===s?void 0:s.parentElement;if(!e||e===document.body||e===t)break;n=e}while(parent||parent!==document.body||parent!==t)})(e.target,t);if(!s)return;const o=s.href,i=""===s.target||"_self"===s.target,r=0===e.button;o&&i&&r&&!e.defaultPrevented&&!(e=>e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)(e)&&(e.preventDefault(),n(s.href))})({event:e,currentAppId:n,navigateToUrl:t,container:o.current})),[n,t]);return Object(p.jsx)("div",i()({onClick:r,ref:o,css:C,"data-test-subj":"kbnRedirectAppLink"},s),e)},w=({children:e,...t})=>Object(p.jsx)(S,i()({},function(){const e=Object(a.useContext)(k);if(!e)throw new Error("RedirectAppLinksContext is missing.  Ensure your component or React root is wrapped with RedirectAppLinksProvider.");return e}(),t),e);var _=n(64),M=n.n(_);const T=d.i18n.translate("sharedUXPackages.card.noData.noPermission.title",{defaultMessage:"Contact your administrator"}),P=d.i18n.translate("sharedUXPackages.card.noData.noPermission.description",{defaultMessage:"This integration is not yet enabled. Your administrator has the required permissions to turn it on."}),F=d.i18n.translate("sharedUXPackages.card.noData.title",{defaultMessage:"Add Elastic Agent"}),N=d.i18n.translate("sharedUXPackages.card.noData.description",{defaultMessage:"Use Elastic Agent for a simple, unified way to collect data from your machines."}),I=()=>Object(p.jsx)(r.EuiImage,{size:"fullWidth",style:{width:"max(100%, 360px)",height:240,objectFit:"cover",background:"aliceblue"},url:M.a,alt:""}),A=({title:e,description:t,canAccessFleet:n,button:a,href:s,...o})=>Object(p.jsx)(r.EuiCard,i()({css:{maxWidth:400,marginInline:"auto"},paddingSize:"l",title:n?Object(p.jsx)(r.EuiScreenReaderOnly,null,Object(p.jsx)("span",null,e||F)):Object(p.jsx)(r.EuiTextColor,{color:"default"},T),description:n?t||N:Object(p.jsx)(r.EuiTextColor,{color:"default"},P),footer:(()=>{if(n)return a&&"string"!=typeof a?a:Object(p.jsx)(r.EuiButton,{fill:!0,href:s,"data-test-subj":"noDataDefaultFooterAction"},a||e||F)})(),isDisabled:!n,href:s,image:Object(p.jsx)(I,null)},o)),z=s.a.createContext(null),L=({href:e,category:t,description:n,...s})=>{var o;const{canAccessFleet:r,addBasePath:l}=function(){const e=Object(a.useContext)(z);if(!e)throw new Error("NoDataCard Context is missing.  Ensure your component or React root is wrapped with NoDataCardContext.");return e}(),c=Object(a.useMemo)((()=>{if(e)return e;const n="/app/integrations/browse";return l(t?`${n}/${t}`:n)}),[l,e,t]);return Object(p.jsx)(w,null,Object(p.jsx)(A,i()({},s,{href:c,canAccessFleet:null!==(o=s.canAccessFleet)&&void 0!==o?o:r,description:n})))},B=({action:e})=>{const t=Object.keys(e);if(1!==t.length)return null;const n=t[0],a="elasticAgent"===n?"empty-page-agent-action":`empty-page-${n}-action`;return Object(p.jsx)(L,i()({key:a},e[n]))},R=({solution:e,logo:t,action:n,docsLink:a,pageTitle:s,pageDescription:o,className:i})=>{const l=s||d.i18n.translate("sharedUXPackages.noDataPage.welcomeTitle",{defaultMessage:"Welcome to Elastic {solution}!",values:{solution:e}}),j=a?Object(p.jsx)(r.EuiLink,{href:a,target:"_blank"},Object(p.jsx)(u.FormattedMessage,{id:"sharedUXPackages.noDataPage.intro.link",defaultMessage:"learn more"})):null,g=null!=o?o:j?Object(p.jsx)(u.FormattedMessage,{id:"sharedUXPackages.noDataPage.intro",defaultMessage:"Add your data to get started, or {link} about {solution}.",values:{solution:e,link:j}}):Object(p.jsx)(u.FormattedMessage,{id:"sharedUXPackages.noDataPage.introNoDocLink",defaultMessage:"Add your data to get started."});return Object(p.jsx)(r.EuiPageTemplate.Section,{alignment:"center",grow:!0,className:c()("kbnNoDataPageContents",i),"data-test-subj":"kbnNoDataPage"},Object(p.jsx)(r.EuiText,{textAlign:"center"},Object(p.jsx)(b,{name:e,iconType:t||`logo${e}`,size:"xxl"}),Object(p.jsx)(r.EuiSpacer,{size:"l"}),Object(p.jsx)("h1",null,l),Object(p.jsx)(r.EuiTextColor,{color:"subdued"},Object(p.jsx)("p",null,g))),Object(p.jsx)(r.EuiSpacer,{size:"xxl"}),Object(p.jsx)(B,{action:n}))},D=e=>{const{className:t,noDataConfig:n,pageSideBar:a,pageSideBarProps:s,...o}=e;if(!n)return null;let l;a&&(l=Object(p.jsx)(r.EuiPageTemplate.Sidebar,s,a));const u=((e,t)=>c()("kbnPageTemplate","",t||""))(0,t);return Object(p.jsx)(r.EuiPageTemplate,i()({className:u,restrictWidth:950,panelled:!1,offset:0,minHeight:0},o),l,Object(p.jsx)(R,n))},U=E(D),q=({className:e,pageHeader:t,children:n,isEmptyState:a,pageSideBar:s,pageSideBarProps:o,emptyPageBody:l,...u})=>{let d,b;if(a&&t&&!n){const{iconType:e,pageTitle:a,description:s,rightSideItems:o}=t,i=a?Object(p.jsx)("h1",null,a):void 0,l=s?Object(p.jsx)("p",null,s):void 0;n=Object(p.jsx)(r.EuiPageTemplate.EmptyPrompt,{iconType:e,iconColor:"",title:i,body:l,actions:o})}else t&&(d=Object(p.jsx)(r.EuiPageTemplate.Header,t));if(a&&l&&(n=l),s){const e={...o};e.sticky=!0,b=Object(p.jsx)(r.EuiPageTemplate.Sidebar,e,s)}const j=((e,t)=>c()("kbnPageTemplate","",t||""))(0,e);return Object(p.jsx)(r.EuiPageTemplate,i()({className:j,offset:0,minHeight:d?"calc(100vh - var(--kbnAppHeadersOffset, var(--euiFixedHeadersOffset, 0)))":0,grow:!d&&void 0},u),b,d,n)},G=E(q),$=Object.assign((({className:e,children:t,solutionNav:n,noDataConfig:a,...s})=>a&&n?Object(p.jsx)(U,{"data-test-subj":s["data-test-subj"],className:e,noDataConfig:a,solutionNav:n}):a?Object(p.jsx)(D,{"data-test-subj":s["data-test-subj"],className:e,noDataConfig:a}):n?Object(p.jsx)(G,i()({className:e,solutionNav:n,children:t},s)):Object(p.jsx)(q,i()({className:e,children:t},s))),{Sidebar:r.EuiPageTemplate.Sidebar,Header:r.EuiPageTemplate.Header,Section:r.EuiPageTemplate.Section,BottomBar:r.EuiPageTemplate.BottomBar,EmptyPrompt:r.EuiPageTemplate.EmptyPrompt});var W=n(34),V=n(38),H=n(30),J=n(32),Y=n(33);const Q=()=>{const e=Object(J.a)(),{field:{value:t,onChange:n}}=Object(W.useController)({name:H.b.indices}),{fields:s,isLoading:o}=Object(V.a)(t),i=Object(a.useCallback)((a=>{const s=[...t,a];n(s),null==e||e.count(Y.a.sourceIndexUpdated,s.length)}),[n,t,e]),r=Object(a.useCallback)((a=>{const s=t.filter((e=>e!==a));n(s),null==e||e.count(Y.a.sourceIndexUpdated,s.length)}),[n,t,e]),l=Object(a.useCallback)((t=>{n(t),null==e||e.count(Y.a.sourceIndexUpdated,t.length)}),[n,e]);return{indices:t,fields:s,isFieldsLoading:o,addIndex:i,removeIndex:r,setIndices:l}};var X=n(3),K=n(40);const Z=(e,t,n)=>{var a;return Boolean(null===(a=e[t])||void 0===a?void 0:a.includes(n))},ee=()=>{const{euiTheme:e}=Object(r.useEuiTheme)(),t=Object(J.a)(),{fields:n}=Q(),o=Object(W.useWatch)({name:H.b.sourceFields}),{field:{onChange:i,value:l}}=Object(W.useController)({name:H.b.queryFields}),{field:{onChange:c,value:d}}=Object(W.useController)({name:H.b.elasticsearchQuery});Object(a.useEffect)((()=>{null==t||t.load(Y.a.queryModeLoaded)}),[t]);const b=Object(a.useMemo)((()=>JSON.stringify(d,null,2)),[d]);return Object(p.jsx)(r.EuiFlexGroup,null,Object(p.jsx)(r.EuiFlexItem,{grow:6,className:"eui-yScroll",css:Object(p.css)({padding:e.size.l,paddingRight:0},"","")},Object(p.jsx)(r.EuiCodeBlock,{language:"json",fontSize:"m",paddingSize:"none",lineNumbers:!0,transparentBackground:!0,"data-test-subj":"ViewElasticsearchQueryResult"},b)),Object(p.jsx)(r.EuiFlexItem,{grow:3,className:"eui-yScroll",css:Object(p.css)({padding:e.size.l,paddingLeft:0},"","")},Object(p.jsx)(r.EuiFlexGroup,{direction:"column",gutterSize:"s"},Object(p.jsx)(r.EuiText,null,Object(p.jsx)("h5",null,Object(p.jsx)(u.FormattedMessage,{id:"xpack.searchPlayground.viewQuery.flyout.table.title",defaultMessage:"Fields to search (per index)"}))),Object.entries(n).map((([e,a],d)=>Object(p.jsx)(r.EuiFlexItem,{grow:!1,key:e},Object(p.jsx)(r.EuiPanel,{grow:!1,hasShadow:!1,hasBorder:!0},Object(p.jsx)(r.EuiAccordion,{id:e,buttonContent:Object(p.jsx)(r.EuiText,null,Object(p.jsx)("h5",null,e)),initialIsOpen:!0,"data-test-subj":`fieldsAccordion-${d}`},Object(p.jsx)(r.EuiSpacer,{size:"s"}),Object(p.jsx)(r.EuiBasicTable,{tableCaption:"Query Model table",items:[...a.semantic_fields,...a.elser_query_fields,...a.dense_vector_query_fields,...a.bm25_query_fields].map((t=>({name:"string"==typeof t?t:t.field,checked:Z(l,e,"string"==typeof t?t:t.field)}))),rowHeader:"name",columns:[{field:"name",name:"Field","data-test-subj":"fieldName"},{field:"checked",name:"Enabled",align:"right",render:(a,s)=>Object(p.jsx)(r.EuiSwitch,{showLabel:!1,label:s.name,checked:a,onChange:a=>((e,a,s)=>{const r=s?[...l[e],a]:l[e].filter((e=>a!==e)),u={...l,[e]:r};i(u),c(Object(K.a)(u,o,n)),null==t||t.count(Y.a.queryFieldsUpdated,r.length)})(e,s.name,a.target.checked),compressed:!0,"data-test-subj":`field-${s.name}-${a}`})}]}),a.skipped_fields>0&&Object(p.jsx)(s.a.Fragment,null,Object(p.jsx)(r.EuiSpacer,{size:"m"}),Object(p.jsx)(r.EuiFlexGroup,null,Object(p.jsx)(r.EuiFlexItem,null,Object(p.jsx)(r.EuiText,{size:"s",color:"subdued","data-test-subj":`skippedFields-${d}`},Object(p.jsx)(r.EuiIcon,{type:"eyeClosed"})," ",Object(p.jsx)(u.FormattedMessage,{id:"xpack.searchPlayground.viewQuery.flyout.hiddenFields",defaultMessage:"{skippedFields} fields are hidden.",values:{skippedFields:a.skipped_fields}}))),Object(p.jsx)(r.EuiFlexItem,{grow:!1},Object(p.jsx)(r.EuiLink,{href:X.a.hiddenFields,target:"_blank","data-test-subj":"hidden-fields-documentation-link"},Object(p.jsx)(u.FormattedMessage,{id:"xpack.searchPlayground.viewQuery.flyout.learnMoreLink",defaultMessage:"Learn more."})))))))))))))};var te=n(35);const ne=()=>{const{services:{application:e,share:t}}=Object(te.a)(),n=Object(a.useMemo)((()=>t.url.locators.get("CREATE_INDEX_LOCATOR_ID")),[t.url.locators]),s=Object(a.useCallback)((async()=>{const t=await(null==n?void 0:n.getUrl({}));t&&(null==e||e.navigateToUrl(t))}),[e,n]);return n?Object(p.jsx)(r.EuiButton,{color:"primary",iconType:"plusInCircle",fill:!0,onClick:s,"data-test-subj":"createIndexButton"},Object(p.jsx)(u.FormattedMessage,{id:"xpack.searchPlayground.createIndexButton",defaultMessage:"Create an index"})):Object(p.jsx)(r.EuiCallOut,{title:d.i18n.translate("xpack.searchPlayground.createIndexCallout",{defaultMessage:"You need to create an index first"}),size:"s",color:"warning","data-test-subj":"createIndexCallout"})};var ae=n(13);const se=(e="")=>{const{services:t}=Object(te.a)(),{data:n,isLoading:a}=Object(ae.useQuery)({queryKey:["indices",e],queryFn:async()=>(await t.http.get(H.a.GET_INDICES,{query:{search_query:e,size:10}})).indices,initialData:[]});return{indices:n,isLoading:a}};var oe=n(28),ie=n(44);const re=()=>{const[e,t]=Object(a.useState)(!1),[n,o]=Object(a.useState)(!1),{services:{triggersActionsUi:{getAddConnectorFlyout:i}}}=Object(te.a)(),{data:l,refetch:c}=Object(ie.a)(),d=Object(J.a)(),b=()=>{null==d||d.click(Y.a.genAiConnectorCreated),t(!0)};return Object(a.useEffect)((()=>{null!=l&&l.length?n?null==d||d.load(Y.a.genAiConnectorAdded):null==d||d.load(Y.a.genAiConnectorExists):null==d||d.load(Y.a.genAiConnectorSetup)}),[null==l?void 0:l.length,n,d]),Object(p.jsx)(s.a.Fragment,null,null!=l&&l.length?Object(p.jsx)(r.EuiButtonEmpty,{iconType:"check",color:"success",onClick:b,"data-test-subj":"successConnectLLMButton"},Object(p.jsx)(u.FormattedMessage,{id:"xpack.searchPlayground.setupPage.llmConnectedButtonLabel",defaultMessage:"LLM connected"})):Object(p.jsx)(r.EuiButton,{fill:!0,iconType:"link","data-test-subj":"connectLLMButton",onClick:b},Object(p.jsx)(u.FormattedMessage,{id:"xpack.searchPlayground.setupPage.connectLLMButtonLabel",defaultMessage:"Connect to an LLM"})),e&&Object(p.jsx)(i,{featureId:oe.GenerativeAIForSearchPlaygroundConnectorFeatureId,onConnectorCreated:()=>{c(),o(!0),t(!1)},onClose:()=>t(!1)}))},le=({onClose:e})=>{const[t,n]=Object(a.useState)(""),{indices:o,isLoading:i}=se(t),{indices:l,setIndices:c}=Q(),[b,j]=Object(a.useState)(l),g=[{id:"indices",name:d.i18n.translate("xpack.searchPlayground.setupPage.addDataSource.flyout.tabName",{defaultMessage:"Indices"}),content:Object(p.jsx)(s.a.Fragment,null,Object(p.jsx)(r.EuiSpacer,null),Object(p.jsx)(r.EuiSelectable,{searchable:!0,searchProps:{onChange:e=>{n(e)}},options:[{label:d.i18n.translate("xpack.searchPlayground.setupPage.addDataSource.flyout.groupOption",{defaultMessage:"Available indices"}),isGroupLabel:!0},...o.map(((e,t)=>({label:e,checked:b.includes(e)?"on":"","data-test-subj":`sourceIndex-${t}`})))],onChange:e=>{j(e.filter((e=>"on"===e.checked)).map((e=>e.label)))},listProps:{showIcons:!0,bordered:!1},isLoading:i,renderOption:void 0},((e,t)=>Object(p.jsx)(s.a.Fragment,null,t,e))))}],{fields:m,isLoading:x}=Object(V.a)(b),f=Object(K.d)(m);return Object(p.jsx)(r.EuiFlyout,{size:"s",ownFocus:!0,onClose:e,"data-test-subj":"selectIndicesFlyout"},Object(p.jsx)(r.EuiFlyoutHeader,null,Object(p.jsx)(r.EuiTitle,{size:"m"},Object(p.jsx)("h2",null,Object(p.jsx)(u.FormattedMessage,{id:"xpack.searchPlayground.addDataSource.flyout.title",defaultMessage:"Add data to query"})))),Object(p.jsx)(r.EuiFlyoutBody,null,Object(p.jsx)(r.EuiTabbedContent,{tabs:g,initialSelectedTab:g[0],autoFocus:"selected","data-test-subj":"indicesTable"}),!x&&!!f&&Object(p.jsx)(r.EuiCallOut,{color:"warning",iconType:"warning","data-test-subj":"NoIndicesFieldsMessage"},Object(p.jsx)("p",null,Object(p.jsx)(u.FormattedMessage,{id:"xpack.searchPlayground.addDataSource.flyout.warningCallout",defaultMessage:"No fields found for {errorMessage}. Try adding data to these indices.",values:{errorMessage:f}})))),Object(p.jsx)(r.EuiFlyoutFooter,null,Object(p.jsx)(r.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(p.jsx)(r.EuiFlexItem,{grow:!1},Object(p.jsx)(r.EuiButtonEmpty,{iconType:"cross",onClick:e,flush:"left","data-test-subj":"closeButton"},Object(p.jsx)(u.FormattedMessage,{id:"xpack.searchPlayground.addDataSource.flyout.closeButton",defaultMessage:"Close"}))),Object(p.jsx)(r.EuiFlexItem,{grow:!1},Object(p.jsx)(r.EuiButton,{onClick:()=>{c(b),e()},"data-test-subj":"saveButton",fill:!0,disabled:!b.length},Object(p.jsx)(u.FormattedMessage,{id:"xpack.searchPlayground.setupPage.addDataSource.flyout.saveButton",defaultMessage:"Save and continue"}))))))},ce=()=>{var e;const[t,n]=Object(a.useState)(!1),{getValues:o}=Object(W.useFormContext)(),i=!(null===(e=o(H.b.indices))||void 0===e||!e.length);return Object(p.jsx)(s.a.Fragment,null,t&&Object(p.jsx)(le,{onClose:()=>{n(!1)}}),i?Object(p.jsx)(r.EuiButtonEmpty,{iconType:"check",color:"success",onClick:()=>n(!0),"data-test-subj":"dataSourcesSuccessButton"},Object(p.jsx)(u.FormattedMessage,{id:"xpack.searchPlayground.setupPage.addedDataSourcesLabel",defaultMessage:"Data sources added"})):Object(p.jsx)(r.EuiButton,{fill:!0,iconType:"plusInCircle",onClick:()=>n(!0),"data-test-subj":"addDataSourcesButton"},Object(p.jsx)(u.FormattedMessage,{id:"xpack.searchPlayground.setupPage.addDataSourcesLabel",defaultMessage:"Add data sources"})))},ue=()=>{const e=Object(J.a)(),{indices:t,isLoading:n}=se();return Object(a.useEffect)((()=>{null==e||e.load(Y.a.setupChatPageLoaded)}),[e]),Object(p.jsx)(r.EuiEmptyPrompt,{iconType:"discuss","data-test-subj":"setupPage",title:Object(p.jsx)("h2",null,Object(p.jsx)(u.FormattedMessage,{id:"xpack.searchPlayground.setupPage.title",defaultMessage:"Set up a chat experience"})),body:Object(p.jsx)(s.a.Fragment,null,Object(p.jsx)("p",null,Object(p.jsx)(u.FormattedMessage,{id:"xpack.searchPlayground.setupPage.description",defaultMessage:"Experiment with combining your Elasticsearch data with powerful large language models (LLMs) using Playground for retrieval augmented generation (RAG)."})),Object(p.jsx)("p",null,Object(p.jsx)(u.FormattedMessage,{id:"xpack.searchPlayground.setupPage.descriptionLLM",defaultMessage:"Connect to your LLM provider and select your data sources to get started."}))),actions:Object(p.jsx)(r.EuiFlexGroup,{justifyContent:"center"},n?Object(p.jsx)(r.EuiLoadingSpinner,null):Object(p.jsx)(s.a.Fragment,null,Object(p.jsx)(r.EuiFlexItem,{grow:!1},Object(p.jsx)(re,null)),Object(p.jsx)(r.EuiFlexItem,{grow:!1},t.length?Object(p.jsx)(ce,null):Object(p.jsx)(ne,null)))),footer:Object(p.jsx)(s.a.Fragment,null,Object(p.jsx)(r.EuiTitle,{size:"xxs"},Object(p.jsx)("span",null,Object(p.jsx)(u.FormattedMessage,{id:"xpack.searchPlayground.setupPage.learnMore",defaultMessage:"Want to learn more?"})))," ",Object(p.jsx)(r.EuiLink,{href:X.a.chatPlayground,target:"_blank",external:!0},Object(p.jsx)(u.FormattedMessage,{id:"xpack.searchPlayground.setupPage.documentationLink",defaultMessage:"Read documentation"})))})};var de=n(7);const pe=()=>{const e=Object(W.useWatch)({name:H.b.indices}),[t,n]=Object(a.useState)(!1);return Object(p.jsx)(s.a.Fragment,null,t&&Object(p.jsx)(le,{onClose:()=>n(!1)}),Object(p.jsx)(r.EuiButton,{size:"s",iconType:"database",onClick:()=>n(!0),disabled:!(null!=e&&e.length),"data-test-subj":"dataSourceActionButton"},Object(p.jsx)(u.FormattedMessage,{id:"xpack.searchPlayground.dataActionButton",defaultMessage:"Data"})))},be=(e,t)=>`\n  Instructions:\n  ${e}\n\n  Context:\n  {context}\n\n  ${t?"follow up question: {question}":""}\n  `,je=(e,t)=>`\n  <s>[INST]${e}[/INST] </s>\n\n  [INST]\n  Context:\n  {context}\n  [/INST]\n\n  ${t?"[INST]follow up question: {question}[/INST]":""}\n\n  `,ge=(e,t)=>`\n  <instructions>${e}</instructions>\n\n  <context>\n  {context}\n  </context>\n\n  ${t?"<input>{question}</input>":""}\n  `,me=(e,t)=>`\n  Instructions:\n  ${e}\n\n  Context:\n  {context}\n\n  ${t?"follow up question: {question}":""}\n\n  `,xe=(e,t)=>{const n=`\n  - ${e}\n  ${t.context?"- Answer questions truthfully and factually using only the context presented.":""}\n  - If you don't know the answer, just say that you don't know, don't make up an answer.\n  ${t.citations?"- You must always cite the document where the answer was extracted using inline academic citation style [], using the position.":""}\n  - Use markdown format for code examples.\n  - You are correct, factual, precise, and reliable.\n  `;return{openai:be,mistral:je,anthropic:ge,gemini:me}[t.type||"openai"](n,!1)},fe=e=>{try{return JSON.stringify(e,null,4).replace(/"{query}"/g,"query").split("\n").map((e=>`    ${e}`)).join("\n").trim()}catch(e){return console.error("Error parsing ES query",e),"{}"}},he=(e,t)=>Object(p.jsx)(r.EuiCodeBlock,{language:"py",isCopyable:!0,overflowHeight:"100%"},`## Install the required packages\n## pip install -qU elasticsearch langchain langchain-elasticsearch langchain-openai\n\nfrom langchain_elasticsearch import ElasticsearchRetriever\nfrom langchain_openai import ChatOpenAI\nfrom langchain_core.runnables import RunnablePassthrough\nfrom langchain_core.prompts import ChatPromptTemplate\nfrom langchain_core.output_parsers import StrOutputParser\nfrom langchain_core.prompts import format_document\nfrom langchain.prompts.prompt import PromptTemplate\nimport os\n${t}\n\ndef build_query(query):\n    return ${fe(e.elasticsearch_query)}\n\nindex_source_fields = ${(e=>{const t=Object.keys(e).reduce(((t,n)=>(t[n]=e[n][0],t)),{});return JSON.stringify(t,null,4)})(e.source_fields)}\n\nretriever = ElasticsearchRetriever(\n    index_name="${e.indices.join(",")}",\n    body_func=build_query,\n    content_field=index_source_fields,\n    es_client=es_client\n)\n\nmodel = ChatOpenAI(openai_api_key=os.environ["OPENAI_API_KEY"], model_name="gpt-3.5-turbo")\n\nANSWER_PROMPT = ChatPromptTemplate.from_template(\n    """${xe(e.prompt,{context:!0,citations:e.citations,type:"openai"})}"""\n)\n\nDEFAULT_DOCUMENT_PROMPT = PromptTemplate.from_template(template="{page_content}")\n\ndef _combine_documents(\n    docs, document_prompt=DEFAULT_DOCUMENT_PROMPT, document_separator="\\n\\n"\n):\n    doc_strings = [format_document(doc, document_prompt) for doc in docs]\n    return document_separator.join(doc_strings)\n\n_context = {\n    "context": retriever | _combine_documents,\n    "question": RunnablePassthrough(),\n}\n\nchain = _context | ANSWER_PROMPT | model | StrOutputParser()\nans = chain.invoke("what is the nasa sales team?")\nprint("---- Answer ----")\nprint(ans)`),Oe=(e,t)=>Object(p.jsx)(r.EuiCodeBlock,{language:"py",isCopyable:!0,overflowHeight:"100%"},`## Install the required packages\n## pip install -qU elasticsearch openai\n\nimport os\nfrom elasticsearch import Elasticsearch\nfrom openai import OpenAI\n\n${t}\n\nopenai_client = OpenAI(\n    api_key=os.environ["OPENAI_API_KEY"],\n)\n\nindex_source_fields = ${JSON.stringify(e.source_fields,null,4)}\n\ndef get_elasticsearch_results(query):\n    es_query = ${fe({...e.elasticsearch_query,size:e.doc_size})}\n\n    result = es_client.search(index="${e.indices.join(",")}", body=es_query)\n    return result["hits"]["hits"]\n\ndef create_openai_prompt(question, results):\n    context = ""\n    for hit in results:\n        inner_hit_path = f"{hit['_index']}.{index_source_fields.get(hit['_index'])[0]}"\n\n        ## For semantic_text matches, we need to extract the text from the inner_hits\n        if 'inner_hits' in hit and inner_hit_path in hit['inner_hits']:\n            context += '\\n --- \\n'.join(inner_hit['_source']['text'] for inner_hit in hit['inner_hits'][inner_hit_path]['hits']['hits'])\n        else:\n            source_field = index_source_fields.get(hit["_index"])[0]\n            hit_context = hit["_source"][source_field]\n            context += f"{hit_context}\\n"\n\n    prompt = f"""${xe(e.prompt,{context:!0,citations:e.citations,type:"openai"})}"""\n\n    return prompt\n\ndef generate_openai_completion(user_prompt, question):\n    response = openai_client.chat.completions.create(\n        model="gpt-3.5-turbo",\n        messages=[\n            {"role": "system", "content": user_prompt},\n            {"role": "user", "content": question},\n        ]\n    )\n\n    return response.choices[0].message.content\n\nif __name__ == "__main__":\n    question = "my question"\n    elasticsearch_results = get_elasticsearch_results(question)\n    context_prompt = create_openai_prompt(elasticsearch_results)\n    openai_completion = generate_openai_completion(context_prompt, question)\n    print(openai_completion)\n\n`),ve=({onClose:e})=>{const t=Object(J.a)(),[n,s]=Object(a.useState)("py-es-client"),{getValues:o}=Object(W.useFormContext)(),i=o(),{services:{cloud:l,http:c}}=Object(te.a)(),d=(e=>e?`\nes_client = Elasticsearch(\n    "${e.elasticsearchUrl}",\n    api_key=os.environ["ES_API_KEY"]\n)\n      `:'\nes_client = Elasticsearch(\n    "<your-elasticsearch-url>"\n)\n  ')(l),b={"lc-py":he(i,d),"py-es-client":Oe(i,d)};return Object(a.useEffect)((()=>{null==t||t.load(Y.a.viewCodeFlyoutOpened)}),[t]),Object(a.useEffect)((()=>{null==t||t.click(`${Y.a.viewCodeLanguageChange}_${n}`)}),[t,n]),Object(p.jsx)(r.EuiFlyout,{ownFocus:!0,onClose:e,"data-test-subj":"viewCodeFlyout"},Object(p.jsx)(r.EuiFlyoutHeader,{hasBorder:!0},Object(p.jsx)(r.EuiTitle,{size:"m"},Object(p.jsx)("h2",null,Object(p.jsx)(u.FormattedMessage,{id:"xpack.searchPlayground.viewCode.flyout.title",defaultMessage:"Application code"}))),Object(p.jsx)(r.EuiSpacer,{size:"s"}),Object(p.jsx)(r.EuiText,{color:"subdued"},Object(p.jsx)("p",null,Object(p.jsx)(u.FormattedMessage,{id:"xpack.searchPlayground.viewCode.flyout.subtitle",defaultMessage:"Here's the code used to render this search experience. You can integrate it into your own application, modifying as needed."})))),Object(p.jsx)(r.EuiFlyoutBody,null,Object(p.jsx)(r.EuiFlexGroup,{direction:"column"},Object(p.jsx)(r.EuiFlexItem,{grow:!1},Object(p.jsx)(r.EuiFlexGroup,null,Object(p.jsx)(r.EuiFlexItem,null,Object(p.jsx)(r.EuiSelect,{options:[{value:"py-es-client",text:"Python Elasticsearch Client with OpenAI"},{value:"lc-py",text:"LangChain Python with OpenAI"}],onChange:e=>{s(e.target.value)},value:n})),Object(p.jsx)(r.EuiFlexItem,{grow:!1},Object(p.jsx)(r.EuiButtonEmpty,{color:"primary",iconType:"popout",href:c.basePath.prepend("/app/management/security/api_keys"),"data-test-subj":"viewCodeManageApiKeys",target:"_blank"},Object(p.jsx)(u.FormattedMessage,{id:"xpack.searchPlayground.viewCode.flyout.apiKeysAction",defaultMessage:"Manage API Keys"}))))),Object(p.jsx)(r.EuiFlexItem,{grow:!1},b[n]))))},ye=()=>{const{watch:e}=Object(W.useFormContext)(),[t,n]=Object(a.useState)(!1),o=e(H.b.indices);return Object(p.jsx)(s.a.Fragment,null,t&&Object(p.jsx)(ve,{onClose:()=>n(!1)}),Object(p.jsx)(r.EuiButton,{iconType:"editorCodeBlock",color:"primary",fill:!0,onClick:()=>n(!0),disabled:!o||0===(null==o?void 0:o.length),"data-test-subj":"viewCodeActionButton",size:"s"},Object(p.jsx)(u.FormattedMessage,{id:"xpack.searchPlayground.viewCode.actionButtonLabel",defaultMessage:"View code"})))},Ee=()=>Object(p.jsx)(r.EuiFlexGroup,{gutterSize:"s",alignItems:"center","data-test-subj":"playground-header-actions"},Object(p.jsx)(pe,null),Object(p.jsx)(ye,null));var ke={name:"1bmnxg7",styles:"white-space:nowrap"};const Ce=({selectedMode:e,onModeChange:t,showDocs:n=!1,isActionsDisabled:a=!1})=>{const{euiTheme:s}=Object(r.useEuiTheme)(),o=[{id:wt.chat,label:d.i18n.translate("xpack.searchPlayground.header.view.chat",{defaultMessage:"Chat"}),"data-test-subj":"chatMode"},{id:wt.query,label:d.i18n.translate("xpack.searchPlayground.header.view.query",{defaultMessage:"Query"}),"data-test-subj":"queryMode"}];return Object(p.jsx)(r.EuiPageTemplate.Header,{css:Object(p.css)({".euiPageHeaderContent > .euiFlexGroup":{flexWrap:"wrap"},backgroundColor:s.colors.ghost},"",""),paddingSize:"s","data-test-subj":"chat-playground-home-page"},Object(p.jsx)(r.EuiPageHeaderSection,null,Object(p.jsx)(r.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},Object(p.jsx)(r.EuiTitle,{css:ke,"data-test-subj":"chat-playground-home-page-title",size:"xs"},Object(p.jsx)("h2",null,Object(p.jsx)(u.FormattedMessage,{id:"xpack.searchPlayground.pageTitle",defaultMessage:"Playground"}))),Object(p.jsx)(r.EuiBetaBadge,{label:d.i18n.translate("xpack.searchPlayground.pageTitle.techPreview",{defaultMessage:"TECH PREVIEW"}),color:"hollow",alignment:"middle"}))),Object(p.jsx)(r.EuiPageHeaderSection,null,Object(p.jsx)(r.EuiButtonGroup,{legend:"viewMode",options:o,idSelected:e,onChange:t,buttonSize:"compressed",isDisabled:a,"data-test-subj":"viewModeSelector"})),Object(p.jsx)(r.EuiPageHeaderSection,null,Object(p.jsx)(r.EuiFlexGroup,{alignItems:"center"},n&&Object(p.jsx)(de.PlaygroundHeaderDocs,null),Object(p.jsx)(Ee,null))))};var Se=n(19);const we=()=>{const e=Object(J.a)(),{fields:t}=Q(),{field:{onChange:n,value:a}}=Object(W.useController)({name:H.b.docSize}),{field:{onChange:s,value:o}}=Object(W.useController)({name:H.b.sourceFields});return Object(p.jsx)(r.EuiPanel,{"data-test-subj":"editContextPanel"},Object(p.jsx)(r.EuiFlexGroup,{direction:"column",gutterSize:"l"},Object(p.jsx)(r.EuiFlexItem,{grow:!1},Object(p.jsx)(r.EuiFormRow,{label:d.i18n.translate("xpack.searchPlayground.editContext.docsRetrievedCount",{defaultMessage:"Number of documents sent to LLM"}),fullWidth:!0},Object(p.jsx)(r.EuiSelect,{options:[{value:1,text:"1"},{value:3,text:"3"},{value:5,text:"5"},{value:10,text:"10"}],value:a,onChange:t=>{null==e||e.click(Y.a.editContextDocSizeChanged),n(Number(t.target.value))},fullWidth:!0}))),Object(p.jsx)(r.EuiFlexItem,null,Object(p.jsx)(r.EuiFlexGroup,{direction:"column",gutterSize:"m"},Object(p.jsx)(r.EuiFlexItem,null,Object(p.jsx)(r.EuiText,null,Object(p.jsx)("h5",null,Object(p.jsx)(u.FormattedMessage,{id:"xpack.searchPlayground.editContext.table.title",defaultMessage:"Context fields"})))),Object.entries(t).map((([t,n],a)=>{var i,l;return Object(p.jsx)(r.EuiFlexItem,{grow:!1,key:t},Object(p.jsx)(r.EuiFormRow,{label:t,fullWidth:!0},null!==(i=n.source_fields)&&void 0!==i&&i.length?Object(p.jsx)(r.EuiSuperSelect,{"data-test-subj":`contextFieldsSelectable-${a}`,options:n.source_fields.map((e=>({value:e,inputDisplay:e,"data-test-subj":"contextField"}))),valueOfSelected:null===(l=o[t])||void 0===l?void 0:l[0],onChange:n=>((t,n)=>{s({...o,[t]:[n]}),null==e||e.click(Y.a.editContextFieldToggled)})(t,n),fullWidth:!0}):Object(p.jsx)(r.EuiCallOut,{title:d.i18n.translate("xpack.searchPlayground.editContext.noSourceFieldWarning",{defaultMessage:"No source fields found"}),color:"warning",iconType:"warning",size:"s"})))}))))))};var _e=n(41);const Me=({checked:e,onChange:t})=>{const n=Object(J.a)();return Object(p.jsx)(r.EuiFormRow,{fullWidth:!0},Object(p.jsx)(r.EuiSwitch,{label:d.i18n.translate("xpack.searchPlayground.sidebar.citationsField.label",{defaultMessage:"Include citations"}),checked:e,onChange:e=>{return a=e.target.checked,t(a),void(null==n||n.click(`${Y.a.includeCitations}_${String(a)}`));var a}}))};var Te=n(21);const Pe=({value:e,onChange:t})=>{const[n,a]=s.a.useState(e),o=Object(J.a)();return Object(p.jsx)(r.EuiFormRow,{label:Object(p.jsx)(r.EuiToolTip,{content:d.i18n.translate("xpack.searchPlayground.sidebar.instructionsField.help",{defaultMessage:"These preliminary instructions and guidelines define the behavior of the model. Be clear and specific for best results."})},Object(p.jsx)(s.a.Fragment,null,Object(p.jsx)("span",null,d.i18n.translate("xpack.searchPlayground.sidebar.instructionsField.label",{defaultMessage:"Instructions"})),Object(p.jsx)(r.EuiIcon,{type:"questionInCircle",color:"subdued"}))),fullWidth:!0},Object(p.jsx)(r.EuiTextArea,{placeholder:d.i18n.translate("xpack.searchPlayground.sidebar.instructionsField.placeholder",{defaultMessage:"Replace me"}),value:e,onFocus:()=>{a(e)},onBlur:()=>{n!==e&&(null==o||o.click(Y.a.instructionsFieldChanged)),a("")},onChange:e=>{t(e.target.value)},fullWidth:!0,isInvalid:Object(Te.isEmpty)(e)}))},Fe=e=>e.connectorId+e.name;var Ne={name:"d3v9zr",styles:"overflow:hidden"},Ie={name:"1bnhmdk",styles:"overflow:hidden;text-overflow:ellipsis;text-wrap:nowrap"},Ae={name:"14yy209",styles:".euiFormLabel{display:flex;align-items:center;}"};const ze=({selectedModel:e,models:t,onSelect:n})=>{const o=Object(J.a)(),i=Object(a.useMemo)((()=>t.map((e=>({value:Fe(e),disabled:e.disabled,inputDisplay:Object(p.jsx)(r.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},Object(p.jsx)(r.EuiFlexItem,{grow:!1},Object(p.jsx)(r.EuiIcon,{type:e.icon})),Object(p.jsx)(r.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center",gutterSize:"s",css:Ne},Object(p.jsx)(r.EuiText,{size:"s"},e.name),e.showConnectorName&&e.connectorName&&Object(p.jsx)(r.EuiText,{size:"xs",color:"subdued",css:Ie},Object(p.jsx)("span",{title:e.connectorName},e.connectorName)))),dropdownDisplay:Object(p.jsx)(r.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},Object(p.jsx)(r.EuiFlexItem,{grow:!1},Object(p.jsx)(r.EuiIcon,{type:e.icon})),Object(p.jsx)(r.EuiFlexGroup,{gutterSize:"xs",direction:"column"},Object(p.jsx)(r.EuiText,{size:"s"},e.name),e.showConnectorName&&e.connectorName&&Object(p.jsx)(r.EuiText,{size:"xs",color:"subdued"},e.connectorName)))})))),[t]);return Object(a.useEffect)((()=>{null==o||o.click(`${Y.a.modelSelected}_${e.value||e.connectorType}`)}),[o,e]),Object(p.jsx)(r.EuiFormRow,{css:Ae,label:Object(p.jsx)(s.a.Fragment,null,Object(p.jsx)(u.FormattedMessage,{id:"xpack.searchPlayground.sidebar.summarizationModel.label",defaultMessage:"Model"})," "),fullWidth:!0},Object(p.jsx)(r.EuiSuperSelect,{"data-test-subj":"summarizationModelSelect",options:i,valueOfSelected:e&&Fe(e),onChange:e=>{const a=t.find((t=>Fe(t)===e));a&&n(a)},fullWidth:!0}))},Le=()=>{const{control:e}=Object(W.useFormContext)(),t=Object(_e.a)();return Object(p.jsx)(r.EuiPanel,{"data-test-subj":"summarizationPanel"},Object(p.jsx)(W.Controller,{name:H.b.summarizationModel,rules:{required:!0},control:e,render:({field:e})=>Object(p.jsx)(ze,{selectedModel:e.value,onSelect:t=>e.onChange(t),models:t})}),Object(p.jsx)(W.Controller,{name:H.b.prompt,control:e,rules:{required:!0},defaultValue:"You are an assistant for question-answering tasks.",render:({field:e})=>Object(p.jsx)(Pe,{value:e.value,onChange:e.onChange})}),Object(p.jsx)(W.Controller,{name:H.b.citations,control:e,defaultValue:!0,render:({field:e})=>Object(p.jsx)(Me,{checked:e.value,onChange:e.onChange})}))},Be=()=>{const{euiTheme:e}=Object(r.useEuiTheme)(),t=Object(W.useWatch)({name:H.b.summarizationModel}),n=(e=>{const{services:{share:t}}=Object(te.a)(),n=Object(a.useMemo)((()=>t.url.locators.get("MANAGEMENT_APP_LOCATOR")),[t.url.locators]),[s,o]=Object(a.useState)("");return Object(a.useEffect)((()=>{(async()=>{const t=await(null==n?void 0:n.getUrl({sectionId:"insightsAndAlerting",appId:`triggersActionsConnectors/connectors/${e}`}));o(t||"")})()}),[n,e]),s})(null==t?void 0:t.connectorId),s=[{title:d.i18n.translate("xpack.searchPlayground.sidebar.summarizationTitle",{defaultMessage:"Model settings"}),children:Object(p.jsx)(Le,null),extraAction:Object(p.jsx)(r.EuiButtonEmpty,{target:"_blank",href:n,"data-test-subj":"manageConnectorsLink",iconType:"wrench",size:"s","aria-label":d.i18n.translate("xpack.searchPlayground.sidebar.summarizationModel.manageConnectorLink",{defaultMessage:"Manage connector"})},Object(p.jsx)(u.FormattedMessage,{id:"xpack.searchPlayground.sidebar.summarizationModel.manageConnectorTooltip",defaultMessage:"Manage"}))},{title:d.i18n.translate("xpack.searchPlayground.sidebar.contextTitle",{defaultMessage:"Context"}),extraAction:Object(p.jsx)(r.EuiLink,{href:X.a.context,target:"_blank","data-test-subj":"hidden-fields-documentation-link"},Object(p.jsx)(u.FormattedMessage,{id:"xpack.searchPlayground.sidebar.contextLearnMore",defaultMessage:"Learn more"})),children:Object(p.jsx)(we,null)}];return Object(p.jsx)(r.EuiFlexGroup,{direction:"column",className:"eui-yScroll",gutterSize:"none"},null==s?void 0:s.map((({title:t,children:n,extraAction:a})=>Object(p.jsx)(r.EuiFlexItem,{key:t,grow:!1},Object(p.jsx)(r.EuiFlexGroup,{direction:"column",css:Object(p.css)({padding:e.size.l},"",""),gutterSize:"s"},Object(p.jsx)(r.EuiFlexItem,{grow:!1},Object(p.jsx)(r.EuiFlexGroup,{justifyContent:"spaceBetween",gutterSize:"none",alignItems:"center"},Object(p.jsx)(r.EuiTitle,{size:"xs"},Object(p.jsx)("h4",null,t)),a&&Object(p.jsx)(r.EuiFlexItem,{grow:!1},a))),Object(p.jsx)(r.EuiFlexItem,{grow:!1},n))))))};var Re=n(55),De=n.n(Re);const Ue="\n".charCodeAt(0),qe=(e,t)=>{const n=new Uint8Array(t);let a=0;for(const t of e)n.set(t,a),a+=t.length;return e.length=0,n},Ge=(e,t,n)=>({code:e,name:t,parse:n}),$e=Ge("0","text",(e=>{if("string"!=typeof e)throw new Error('"text" parts expect a string value.');return{type:"text",value:e}})),We=Ge("3","error",(e=>{if("string"!=typeof e)throw new Error('"error" parts expect a string value.');return{type:"error",value:e}})),Ve=Ge("8","message_annotations",(e=>{if(!Array.isArray(e))throw new Error('"message_annotations" parts expect an array value.');return{type:"message_annotations",value:e}})),He=[$e,We,Ge("10","buffer",(e=>{if("string"!=typeof e)throw new Error('"buffer" parts expect a string value.');return{type:"buffer",value:e}})),Ve],Je=He.reduce(((e,t)=>({...e,[t.code]:t})),{}),Ye=He.map((e=>e.code)),Qe=e=>{const t=e.indexOf(":");if(-1===t)throw new Error("Failed to parse stream string. No separator found.");const n=e.slice(0,t);if(!Ye.includes(n))throw new Error(`Failed to parse stream string. Invalid code ${n}.`);const a=n,s=e.slice(t+1),o=JSON.parse(s);return Je[a].parse(o)};function Xe(e,t){return e&&t&&t.length?{...e,annotations:[...t]}:e}function Ke({api:e="/api/chat",id:t="chat",initialInput:n="",onError:s,headers:o,body:i}={}){const r=["string"==typeof e?e:"function",t],[l]=Object(a.useState)([]),{data:c,mutate:u}=De()([r,"messages"],null,{fallbackData:l}),{data:d=!1,mutate:p}=De()([r,"loading"],null),{data:b,mutate:j}=De()([r,"error"],null),g=Object(a.useRef)(c||[]);Object(a.useEffect)((()=>{g.current=c||[]}),[c]);const m=Object(a.useRef)(null),x=Object(a.useRef)({headers:o,body:i});Object(a.useEffect)((()=>{x.current={headers:o,body:i}}),[o,i]);const f=Object(a.useCallback)((async t=>{try{p(!0),j(void 0);const n=new AbortController;m.current=n,await(async(e,t,n,a,s,o)=>{var i,r;const l=s.current;n(t.messages,!1);const c=t.messages.map((({role:e,content:t})=>({role:e,content:t})));return await async function({api:e,messages:t,body:n,headers:a,abortController:s,handleFailure:o,onUpdate:i}){var r;const l={method:"POST",body:JSON.stringify({messages:t,...n}),headers:{"Content-Type":"application/json",...a},signal:null==s||null===(r=s())||void 0===r?void 0:r.signal},c="string"==typeof e?fetch(e,l):e(l),u=await c.catch((async e=>{let t="Failed to fetch the chat messages";var n,a,s;throw e.response&&(t=null!==(n=null===(a=await(null===(s=e.response)||void 0===s?void 0:s.json()))||void 0===a?void 0:a.message)&&void 0!==n?n:"Failed to fetch the chat response."),o(t),new Error(t)}));if(!u.body)throw new Error("The response body is empty.");const d=u.body.getReader();return await async function({reader:e,abortControllerRef:t,update:n,generateId:a=Se.v4,getCurrentDate:s=(()=>new Date)}){const o=s(),i={};let r;for await(const{type:s,value:c}of async function*(e,{isAborted:t}={}){const n=new TextDecoder,a=[];let s=0;for(;;){const{value:o}=await e.read();if(o&&(a.push(o),s+=o.length,o[o.length-1]!==Ue))continue;if(0===a.length)break;const i=qe(a,s);s=0;const r=n.decode(i,{stream:!0}).split("\n").filter((e=>""!==e)).map(Qe);for(const e of r)yield e;if(null!=t&&t()){e.cancel();break}}}(e,{isAborted:()=>null===(null==t?void 0:t.current)})){var l;"text"===s&&(i.text?i.text={...i.text,content:(i.text.content||"")+c}:i.text={id:a(),role:H.d.assistant,content:c,createdAt:o});let e=i.text;"message_annotations"===s&&(r?r.push(...c):r=[...c],e=Xe(i.text,r)),null!==(l=r)&&void 0!==l&&l.length&&["text"].forEach((e=>{i[e]&&(i[e].annotations=[...r])})),n([e].filter(Boolean).map((e=>({...Xe(e,r)}))))}return{messages:[i.text].filter(Boolean)}}({reader:d,abortControllerRef:null!=s?{current:s()}:void 0,update:i})}({api:e,messages:c,body:{data:t.data,...a.current.body,...null===(i=t.options)||void 0===i?void 0:i.body},headers:{...a.current.headers,...null===(r=t.options)||void 0===r?void 0:r.headers},abortController:()=>o.current,appendMessage(e){n([...t.messages,e],!1)},handleFailure(e){const a={id:Object(Se.v4)(),content:e,role:H.d.system,createdAt:new Date};n([...l,t.messages.slice(-1)[0],a],!1)},onUpdate(e){n([...t.messages,...e],!1)}})})(e,t,u,x,g,m),m.current=null}catch(e){if("AbortError"===e.name)return m.current=null,null;s&&e instanceof Error&&s(e),j(e)}finally{p(!1)}}),[u,p,e,x,s,j,g,m]),h=Object(a.useCallback)((async(e,{options:t,data:n}={})=>{e.id||(e.id=Object(Se.v4)());const a={messages:g.current.concat(e),options:t,data:n};return f(a)}),[f]),O=Object(a.useCallback)((async({options:e,data:t}={})=>{if(0===g.current.length)return null;const n={messages:g.current,options:e,data:t};return f(n)}),[f]),v=Object(a.useCallback)((()=>{m.current&&(m.current.abort(),m.current=null)}),[]),y=Object(a.useCallback)((e=>{u(e,!1),g.current=e}),[u]),[E,k]=Object(a.useState)(n),C=Object(a.useCallback)(((e,t={},n)=>{n&&(x.current={...x.current,...n}),e.preventDefault(),E&&(h({content:E,role:H.d.user,createdAt:new Date},t),k(""))}),[E,h]);return{messages:c||[],error:b,append:h,reload:O,stop:v,setMessages:y,input:E,setInput:k,handleInputChange:e=>{k(e.target.value)},handleSubmit:C,isLoading:d}}var Ze=n(22),et=n.n(Ze);const tt=e=>Object.entries({context:e.content,score:e.metadata._score}).slice(0,4).map((([e,t])=>({field:e,value:t}))),nt=({onClose:e,retrievalDocs:t})=>{const n=Object(J.a)(),s=[{field:"field",name:d.i18n.translate("xpack.searchPlayground.chat.message.assistant.retrievalDoc.result.nameColumn",{defaultMessage:"Field"}),render:e=>Object(p.jsx)(r.EuiText,null,Object(p.jsx)(r.EuiTextColor,{color:"subdued"},Object(p.jsx)("code",null,'"',e,'"'))),truncateText:!0,width:"20%"},{field:"value",name:d.i18n.translate("xpack.searchPlayground.chat.message.assistant.retrievalDoc.result.valueColumn",{defaultMessage:"Value"}),render:e=>Object(p.jsx)(r.EuiCodeBlock,{paddingSize:"none",transparentBackground:!0,fontSize:"m"},e)}];return Object(a.useEffect)((()=>{null==n||n.load(Y.a.retrievalDocsFlyoutOpened)}),[n]),Object(p.jsx)(r.EuiFlyout,{onClose:e},Object(p.jsx)(r.EuiFlyoutHeader,{hasBorder:!0},Object(p.jsx)(r.EuiTitle,{size:"m"},Object(p.jsx)("h3",null,d.i18n.translate("xpack.searchPlayground.chat.message.assistant.retrievalDoc.title",{defaultMessage:"Documents retrieved"}))),Object(p.jsx)(r.EuiSpacer,{size:"s"}),Object(p.jsx)(r.EuiText,{color:"subdued"},Object(p.jsx)("p",null,d.i18n.translate("xpack.searchPlayground.chat.message.assistant.retrievalDoc.subtitle",{defaultMessage:"The documents that were referenced in order to create an answer to your query. You can change the context field using the Edit context button."})))),Object(p.jsx)(r.EuiFlyoutBody,null,Object(p.jsx)(r.EuiFlexGroup,{direction:"column",gutterSize:"m"},t.map((e=>Object(p.jsx)(r.EuiPanel,{key:e.metadata._id,paddingSize:"m"},Object(p.jsx)(r.EuiFlexGroup,{direction:"column",gutterSize:"m"},Object(p.jsx)(r.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(p.jsx)("code",null,d.i18n.translate("xpack.searchPlayground.chat.message.assistant.retrievalDoc.result.id",{defaultMessage:"ID: {id}",values:{id:e.metadata._id}})),Object(p.jsx)(r.EuiFlexItem,{grow:!1},Object(p.jsx)(r.EuiFlexGroup,{gutterSize:"xs",alignItems:"center"},Object(p.jsx)("code",null,d.i18n.translate("xpack.searchPlayground.chat.message.assistant.retrievalDoc.result.fromIndex",{defaultMessage:"from"})),Object(p.jsx)(r.EuiBadge,{color:"primary"},e.metadata._index)))),Object(p.jsx)(r.EuiBasicTable,{items:tt(e),columns:s}))))))))},at=({copyText:e,ariaLabel:t})=>Object(p.jsx)(r.EuiButtonIcon,{"aria-label":t,color:"text",iconType:"copyClipboard",onClick:()=>{navigator.clipboard.writeText(e)}}),st=({citations:e})=>{const t=Object(J.a)(),[n,s]=Object(a.useState)({}),o=e.map((e=>({...e,id:e.metadata._id})));return Object(p.jsx)(r.EuiBasicTable,{columns:[{field:"metadata._id",name:d.i18n.translate("xpack.searchPlayground.chat.message.assistant.citations.idField",{defaultMessage:"ID"}),truncateText:!0},{truncateText:!1,align:"right",isExpander:!0,render:e=>{const a={...n};return Object(p.jsx)(r.EuiButtonEmpty,{iconSide:"right",size:"s","data-test-subj":`expandButton-${e.metadata._id}`,onClick:()=>(e=>{const a={...n};a[e.metadata._id]?(delete a[e.metadata._id],null==t||t.click(Y.a.citationDetailsCollapsed)):(a[e.metadata._id]=Object(p.jsx)(r.EuiText,{size:"s"},e.content),null==t||t.click(Y.a.citationDetailsExpanded)),s(a)})(e),iconType:a[e.metadata._id]?"arrowDown":"arrowRight"},d.i18n.translate("xpack.searchPlayground.chat.message.assistant.citations.snippet",{defaultMessage:"Snippet"}))}}],items:o,itemId:"id",itemIdToExpandedRowMap:n})},ot=({context:e,total:t,clipped:n})=>{const[o,i]=Object(a.useState)(!1),l=Object(_e.a)(),{getValues:c}=Object(W.useFormContext)(),d=c(H.b.summarizationModel),b=l.find((e=>e.value===(null==d?void 0:d.value))),j=()=>{i(!o)},g=Object(r.useGeneratedHtmlId)({prefix:"tokenEstimateTooltipId"}),m=null==b?void 0:b.promptTokenLimit;return Object(p.jsx)(r.EuiPopover,{id:g,button:Object(p.jsx)(r.EuiButtonEmpty,{color:"text",size:"xs",onClick:j,"data-test-subj":"token-tooltip-button"},Object(p.jsx)(u.FormattedMessage,{id:"xpack.searchPlayground.chat.message.tokenEstimateTooltip.label",defaultMessage:"{total}{limit} tokens sent",values:{total:Object(p.jsx)("strong",null,Object(p.jsx)(r.EuiI18nNumber,{value:t})),limit:m?Object(p.jsx)("strong",null," /"," ",Object(p.jsx)(r.EuiI18nNumber,{value:m})):null}})),isOpen:o,closePopover:j,panelPaddingSize:"none",anchorPosition:"upCenter"},Object(p.jsx)(r.EuiContextMenu,{initialPanelId:0,panels:[{id:0,width:300,items:[{name:Object(p.jsx)("strong",{"data-test-subj":"token-tooltip-title"},Object(p.jsx)(u.FormattedMessage,{id:"xpack.searchPlayground.chat.message.tokenEstimateTooltip.title",defaultMessage:"Approximate breakdown"}))},{renderItem:()=>Object(p.jsx)(r.EuiPanel,{paddingSize:"s",hasShadow:!1,"data-test-subj":"token-tooltip-breakdown-1"},Object(p.jsx)(r.EuiDescriptionList,{compressed:!0,rowGutterSize:"s",columnGutterSize:"s",listItems:[{description:Object(p.jsx)(u.FormattedMessage,{id:"xpack.searchPlayground.chat.message.tokenEstimateTooltip.contextTokens",defaultMessage:"Context tokens"}),title:Object(p.jsx)(r.EuiI18nNumber,{value:e})},{description:Object(p.jsx)(u.FormattedMessage,{id:"xpack.searchPlayground.chat.message.tokenEstimateTooltip.instructionTokens",defaultMessage:"Instruction tokens"}),title:Object(p.jsx)(r.EuiI18nNumber,{value:t-e})},...m?[{description:Object(p.jsx)(r.EuiTextColor,{color:"subdued"},Object(p.jsx)(u.FormattedMessage,{id:"xpack.searchPlayground.chat.message.tokenEstimateTooltip.modelLimit",defaultMessage:"Max for this model"})),title:Object(p.jsx)(r.EuiTextColor,{color:"subdued"},Object(p.jsx)(r.EuiI18nNumber,{value:m}))}]:[]],type:"column",columnWidths:[2,4]}))},{renderItem:()=>Object(p.jsx)(s.a.Fragment,null,n?Object(p.jsx)(r.EuiPanel,{paddingSize:"s",hasShadow:!1,color:"warning"},Object(p.jsx)(r.EuiCallOut,{"data-test-subj":"clipped-tokens-callout",title:Object(p.jsx)(u.FormattedMessage,{id:"xpack.searchPlayground.chat.message.tokenEstimateTooltip.clippedTokensTitle",defaultMessage:"Context tokens exceed model limit"}),color:"warning",iconType:"iInCircle",size:"s"},Object(p.jsx)(u.FormattedMessage,{id:"xpack.searchPlayground.chat.message.tokenEstimateTooltip.clippedTokensDescription",defaultMessage:"Approximately {clipped} tokens within your context was removed to fit within the model's limit. Learn how to {optimizeLink} to improve your model's performance and avoid clipping.",values:{clipped:Object(p.jsx)("strong",{"data-test-subj":"clipped-tokens-description"},Object(p.jsx)(r.EuiI18nNumber,{value:n})),optimizeLink:Object(p.jsx)(r.EuiLink,{href:X.a.retrievalOptimize,target:"_blank","data-test-subj":"context-optimization-documentation-link"},Object(p.jsx)(u.FormattedMessage,{id:"xpack.searchPlayground.chat.message.tokenEstimateTooltip.optimizeYourIndex",defaultMessage:"optimize your context"}))}}))):Object(p.jsx)(r.EuiPanel,{paddingSize:"s",hasShadow:!1},Object(p.jsx)(r.EuiLink,{href:X.a.chatPlayground,target:"_blank","data-test-subj":"context-optimization-documentation-link"},Object(p.jsx)(u.FormattedMessage,{id:"xpack.searchPlayground.chat.message.tokenEstimateTooltip.learnMoreLink",defaultMessage:"Learn more"}))))}]}]}))},it={name:"2attqf",styles:"white-space:break-spaces"};var rt={name:"1bqt6sb",styles:"block-size:auto"};const lt=({message:e})=>{const{euiTheme:t}=Object(r.useEuiTheme)(),[n,o]=Object(a.useState)(!1),{content:i,createdAt:l,citations:c,retrievalDocs:b,inputTokens:j}=e,g=d.i18n.translate("xpack.searchPlayground.chat.message.assistant.username",{defaultMessage:"AI"});return Object(p.jsx)(s.a.Fragment,null,!(null==b||!b.length)&&Object(p.jsx)(r.EuiComment,{username:g,timelineAvatar:"dot","data-test-subj":"retrieval-docs-comment",eventColor:"subdued",css:Object(p.css)({".euiAvatar":{backgroundColor:t.colors.ghost},".euiCommentEvent":{border:t.border.thin,borderRadius:t.border.radius.medium}},"",""),event:Object(p.jsx)(s.a.Fragment,null,Object(p.jsx)(r.EuiText,{size:"s"},Object(p.jsx)("p",null,Object(p.jsx)(u.FormattedMessage,{id:"xpack.searchPlayground.chat.message.assistant.retrievalDocs",defaultMessage:"Grounding answer based on"})," ")),Object(p.jsx)(r.EuiButtonEmpty,{css:rt,size:"s",flush:"left","data-test-subj":"retrieval-docs-button",onClick:()=>o(!0)},Object(p.jsx)(u.FormattedMessage,{id:"xpack.searchPlayground.chat.message.assistant.retrievalDocButton",defaultMessage:"{count} document sources",values:{count:b.length}})),n&&Object(p.jsx)(nt,{onClose:()=>o(!1),retrievalDocs:b}))}),0===(null==b?void 0:b.length)&&Object(p.jsx)(r.EuiComment,{username:g,timelineAvatar:"dot","data-test-subj":"retrieval-docs-comment-no-docs",eventColor:"subdued",css:Object(p.css)({".euiAvatar":{backgroundColor:t.colors.ghost},".euiCommentEvent":{border:t.border.thin,borderRadius:t.border.radius.medium}},"",""),event:Object(p.jsx)(s.a.Fragment,null,Object(p.jsx)(r.EuiText,{size:"s"},Object(p.jsx)("p",null,Object(p.jsx)(u.FormattedMessage,{id:"xpack.searchPlayground.chat.message.assistant.noRetrievalDocs",defaultMessage:"Unable to retrieve documents based on the provided question and query."})," ")),Object(p.jsx)(r.EuiLink,{href:X.a.retrievalOptimize,target:"_blank","data-test-subj":"retrieval-optimization-documentation-link"},Object(p.jsx)(u.FormattedMessage,{id:"xpack.searchPlayground.chat.message.assistant.noRetrievalDocs.learnMore",defaultMessage:" Learn more."})),n&&Object(p.jsx)(nt,{onClose:()=>o(!1),retrievalDocs:b}))}),Object(p.jsx)(r.EuiComment,{username:g,event:d.i18n.translate("xpack.searchPlayground.chat.message.assistant.event.responded",{defaultMessage:"responded"}),"data-test-subj":"assistant-message",timestamp:l&&d.i18n.translate("xpack.searchPlayground.chat.message.assistant.createdAt",{defaultMessage:"at {time}",values:{time:et()(l).format("HH:mm")}}),css:Object(p.css)({".euiAvatar":{backgroundColor:t.colors.ghost},".euiCommentEvent__body":{backgroundColor:t.colors.ghost}},"",""),eventColor:"subdued",timelineAvatar:"compute",timelineAvatarAriaLabel:d.i18n.translate("xpack.searchPlayground.chat.message.assistant.avatarAriaLabel",{defaultMessage:"AI"}),actions:Object(p.jsx)(s.a.Fragment,null,Object(p.jsx)(ot,{context:j.context,total:j.total,clipped:j.contextClipped}),Object(p.jsx)(at,{copyText:String(i),ariaLabel:d.i18n.translate("xpack.searchPlayground.chat.message.assistant.copyLabel",{defaultMessage:"Copy assistant message"})}))},Object(p.jsx)(r.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},Object(p.jsx)(r.EuiTitle,{size:"xs"},Object(p.jsx)("h4",null,Object(p.jsx)(u.FormattedMessage,{id:"xpack.searchPlayground.chat.message.assistant.title",defaultMessage:"Summary"})))),Object(p.jsx)(r.EuiSpacer,{size:"m"}),Object(p.jsx)(r.EuiText,{size:"s",css:it},Object(p.jsx)("p",null,i)),!(null==c||!c.length)&&Object(p.jsx)(s.a.Fragment,null,Object(p.jsx)(r.EuiSpacer,{size:"l"}),Object(p.jsx)(r.EuiTitle,{size:"xs","data-test-subj":"assistant-message-citations"},Object(p.jsx)("p",null,Object(p.jsx)(u.FormattedMessage,{id:"xpack.searchPlayground.chat.message.assistant.citations.title",defaultMessage:"Citations"}))),Object(p.jsx)(r.EuiSpacer,{size:"xs"}),Object(p.jsx)(st,{citations:c}))))},ct=({content:e})=>{const{euiTheme:t}=Object(r.useEuiTheme)();return Object(p.jsx)(r.EuiComment,{username:d.i18n.translate("xpack.searchPlayground.chat.message.system.username",{defaultMessage:"system"}),timelineAvatarAriaLabel:d.i18n.translate("xpack.searchPlayground.chat.message.system.avatarAriaLabel",{defaultMessage:"System"}),event:e,timelineAvatar:"dot",eventColor:"subdued",css:Object(p.css)({".euiAvatar":{backgroundColor:t.colors.ghost},".euiCommentEvent":{border:t.border.thin,borderRadius:t.border.radius.medium}},"","")})};function ut(e,t){if(t&&t.color)return t.color;const n=pt(e).codePointAt(0)||97;return r.VISUALIZATION_COLORS[n%r.VISUALIZATION_COLORS.length]}function dt(e,t){if(t&&t.initials)return t.initials;const n=pt(e).split(" "),a=Math.min(2,n.length);return n.splice(a,n.length),n.map((e=>e.substring(0,1))).join("")}function pt(e){return e.full_name||e.email||e.username}const bt=({user:e,avatar:t,...n})=>{const{euiTheme:a}=Object(r.useEuiTheme)();if(!e)return Object(p.jsx)(r.EuiAvatar,i()({name:"",color:a.colors.lightestShade,initials:"?"},n));const s=function(e){const t=pt(e);return e.email&&e.email!==t?`${t} (${e.email})`:t}(e);return null!=t&&t.imageUrl?Object(p.jsx)(r.EuiAvatar,i()({name:s,imageUrl:t.imageUrl,color:"plain"},n)):Object(p.jsx)(r.EuiAvatar,i()({name:s,initials:dt(e,t),initialsLength:2,color:ut(e,t)},n))},jt={name:"2attqf",styles:"white-space:break-spaces"},gt=({content:e,createdAt:t})=>{const{euiTheme:n}=Object(r.useEuiTheme)(),a=(()=>{const{security:e}=Object(te.a)().services;return Object(ae.useQuery)(["useGetCurrentUserProfile"],(async()=>e.userProfiles.getCurrent({dataPath:"avatar"})),{retry:!1,staleTime:1/0}).data})();return Object(p.jsx)(r.EuiComment,{eventColor:"subdued",css:Object(p.css)({".euiCommentEvent__body":{backgroundColor:n.colors.ghost}},"",""),username:d.i18n.translate("xpack.searchPlayground.chat.message.user.name",{defaultMessage:"You"}),event:d.i18n.translate("xpack.searchPlayground.chat.message.user.event",{defaultMessage:"asked"}),timestamp:t&&d.i18n.translate("xpack.searchPlayground.chat.message.user.createdAt",{defaultMessage:"at {time}",values:{time:et()(t).format("HH:mm")}}),timelineAvatar:Object(p.jsx)(bt,{user:null==a?void 0:a.user,avatar:null==a?void 0:a.data.avatar}),timelineAvatarAriaLabel:null==a?void 0:a.user.username,actions:Object(p.jsx)(at,{copyText:String(e),ariaLabel:d.i18n.translate("xpack.searchPlayground.chat.message.user.copyLabel",{defaultMessage:"Copy user message"})}),"data-test-subj":"userMessage"},Object(p.jsx)(r.EuiText,{size:"s",css:jt},Object(p.jsx)("p",null,e)))},mt={[H.d.system]:e=>Object(p.jsx)(ct,{content:e.content}),[H.d.user]:e=>Object(p.jsx)(gt,{content:e.content,createdAt:e.createdAt}),[H.d.assistant]:e=>Object(p.jsx)(lt,{message:e})},xt=({messages:e})=>Object(p.jsx)(r.EuiCommentList,{gutterSize:"m"},e.map((e=>Object(p.jsx)(s.a.Fragment,{key:e.id},mt[e.role](e)))));var ft={name:"bjn8wh",styles:"position:relative"};const ht=({value:e,onChange:t,button:n,isDisabled:s})=>{const[o,i]=Object(a.useState)(!1),{euiTheme:l}=Object(r.useEuiTheme)(),c=Object(a.useCallback)((e=>{t(e.target.value),e.target.style.height="auto",e.target.style.height=`${e.target.scrollHeight}px`}),[t]),u=Object(a.useCallback)((e=>{var t;e.key!==r.keys.ENTER||e.shiftKey||o||(e.preventDefault(),null===(t=e.currentTarget.form)||void 0===t||t.requestSubmit())}),[o]);return Object(p.jsx)("div",{css:ft},Object(p.jsx)(r.EuiTextArea,{className:"eui-scrollBar",style:{maxHeight:200,lineHeight:l.size.l,padding:`${l.size.base} ${l.size.xxxxl} ${l.size.base} ${l.size.base}`},autoFocus:!0,fullWidth:!0,rows:1,placeholder:d.i18n.translate("xpack.searchPlayground.chat.questionInput.askQuestionPlaceholder",{defaultMessage:"Ask a question"}),value:e,onKeyDown:u,onChange:c,disabled:s,resize:"none","data-test-subj":"questionInput",onCompositionStart:()=>i(!0),onCompositionEnd:()=>{i(!1)}}),Object(p.jsx)("div",{css:Object(p.css)({position:"absolute",right:l.size.base,bottom:l.size.m},"","")},n))},Ot=()=>Object(p.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object(p.jsx)("path",{d:"M17.7644 11.1191C18.6857 10.6585 18.6858 9.34373 17.7645 8.88303L4.30906 2.1546C3.47793 1.73899 2.5 2.34336 2.5 3.27261L2.5 8.12481L2.50014 8.12465L10.0001 9.99965L2.50014 11.8747L2.5 11.8745L2.5 16.7276C2.5 17.6568 3.47782 18.2611 4.30894 17.8457L17.7644 11.1191Z",fill:"currentColor"})),vt=e=>({content:e.pageContent,metadata:e.metadata}),yt=e=>e.map((({id:e,content:t,createdAt:n,role:a,annotations:s=[]})=>{const o={id:e,content:t,createdAt:n,role:a};var i,r,l,c,u,d,p;return a===H.d.assistant?{...o,citations:null===(i=s.find((e=>"citations"===e.type)))||void 0===i||null===(r=i.documents)||void 0===r?void 0:r.map(vt),retrievalDocs:null===(l=s.find((e=>"retrieved_docs"===e.type)))||void 0===l||null===(c=l.documents)||void 0===c?void 0:c.map(vt),inputTokens:{context:null==s||null===(u=s.find((e=>"context_token_count"===e.type)))||void 0===u?void 0:u.count,total:null==s||null===(d=s.find((e=>"prompt_token_count"===e.type)))||void 0===d?void 0:d.count,contextClipped:null==s||null===(p=s.find((e=>"context_clipped"===e.type)))||void 0===p?void 0:p.count}}:o})),Et=e=>({connector_id:e[H.b.summarizationModel].connectorId,prompt:e[H.b.prompt],indices:e[H.b.indices].join(),citations:e[H.b.citations],elasticsearch_query:JSON.stringify(e[H.b.elasticsearchQuery]),summarization_model:e[H.b.summarizationModel].value,source_fields:JSON.stringify(e[H.b.sourceFields]),doc_size:e[H.b.docSize]});var kt={name:"5thnkd",styles:"display:flex;flex-grow:1"},Ct={name:"6j4z1f",styles:"flex-basis:0;min-width:33.3%"};const St=()=>{const{euiTheme:e}=Object(r.useEuiTheme)(),{control:t,formState:{isValid:n,isSubmitting:s},resetField:o,handleSubmit:i,getValues:l}=Object(W.useFormContext)(),{messages:c,append:b,stop:j,setMessages:g,reload:m}=(()=>{const{services:e}=Object(te.a)();return Ke({api:async t=>(await e.http.post(H.a.POST_CHAT_MESSAGE,{...t,rawResponse:!0,asResponse:!0})).response})})(),x=(e=>{const t=Object(a.useRef)(null),[n,s]=Object(a.useState)(!0);return Object(a.useEffect)((()=>{t.current&&n&&(t.current.scrollTop=t.current.scrollHeight)})),Object(a.useEffect)((()=>{const e=t.current,a=()=>{if(t.current){const e=t.current.scrollTop+t.current.clientHeight===t.current.scrollHeight;e!==n&&s(e)}};return null==e||e.addEventListener("scroll",a),()=>{null==e||e.removeEventListener("scroll",a)}}),[n,void 0]),t})(),[f,h]=Object(a.useState)(!1),O=Object(J.a)(),v=()=>{j(),null==O||O.click(Y.a.chatRequestStopped)},y=Object(a.useMemo)((()=>[{id:Object(Se.v4)(),role:H.d.system,content:"Welcome! Ask a question to get started."},...yt(c)]),[c]),E=Object(a.useMemo)((()=>y.length<=1||f||s),[y,s,f]);return Object(a.useEffect)((()=>{null==O||O.load(Y.a.chatPageLoaded)}),[O]),Object(p.jsx)(r.EuiForm,{component:"form",css:kt,onSubmit:i((async e=>{await b({content:e.question,role:H.d.user,createdAt:new Date},{data:Et(e)}),null==O||O.click(Y.a.chatQuestionSent),o(H.b.question)})),"data-test-subj":"chatPage"},Object(p.jsx)(r.EuiFlexGroup,{gutterSize:"none"},Object(p.jsx)(r.EuiFlexItem,{grow:2,css:Object(p.css)({paddingTop:e.size.l,paddingBottom:e.size.l,flexBasis:0,minWidth:"66.6%"},"","")},Object(p.jsx)(r.EuiFlexGroup,{direction:"column",className:"eui-fullHeight"},Object(p.jsx)(r.EuiFlexGroup,{direction:"column",className:"eui-yScroll",css:Object(p.css)({paddingLeft:e.size.l,paddingRight:e.size.l},"",""),tabIndex:0,ref:x},Object(p.jsx)(xt,{messages:y})),Object(p.jsx)(r.EuiFlexItem,{grow:!1,css:Object(p.css)({paddingLeft:e.size.l,paddingRight:e.size.l},"","")},Object(p.jsx)(r.EuiHorizontalRule,{margin:"none"}),Object(p.jsx)(r.EuiSpacer,{size:"s"}),Object(p.jsx)(r.EuiFlexGroup,{responsive:!1},Object(p.jsx)(r.EuiFlexItem,{grow:!1},Object(p.jsx)(r.EuiButtonEmpty,{iconType:"sparkles",disabled:E,onClick:async()=>{h(!0);const e=l();await m({data:Et(e)}),h(!1),null==O||O.click(Y.a.chatRegenerateMessages)},size:"xs","data-test-subj":"regenerateActionButton"},Object(p.jsx)(u.FormattedMessage,{id:"xpack.searchPlayground.chat.regenerateBtn",defaultMessage:"Regenerate"}))),Object(p.jsx)(r.EuiFlexItem,{grow:!1},Object(p.jsx)(r.EuiButtonEmpty,{iconType:"refresh",disabled:E,onClick:()=>{g([]),null==O||O.click(Y.a.chatCleared)},size:"xs","data-test-subj":"clearChatActionButton"},Object(p.jsx)(u.FormattedMessage,{id:"xpack.searchPlayground.chat.clearChatBtn",defaultMessage:"Clear chat"})))),Object(p.jsx)(r.EuiSpacer,{size:"s"}),Object(p.jsx)(W.Controller,{name:H.b.question,control:t,defaultValue:"",rules:{required:!0,validate:e=>!(null==e||!e.trim())},render:({field:e})=>Object(p.jsx)(ht,{value:e.value,onChange:e.onChange,isDisabled:s||f,button:s||f?Object(p.jsx)(r.EuiButtonIcon,{"aria-label":d.i18n.translate("xpack.searchPlayground.chat.stopButtonAriaLabel",{defaultMessage:"Stop request"}),display:"base",size:"s",iconType:"stop",onClick:v}):Object(p.jsx)(r.EuiButtonIcon,{"aria-label":d.i18n.translate("xpack.searchPlayground.chat.sendButtonAriaLabel",{defaultMessage:"Send a question"}),display:n?"base":"empty",size:"s",type:"submit",isLoading:s,isDisabled:!n,iconType:Ot,"data-test-subj":"sendQuestionButton"})})})))),Object(p.jsx)(r.EuiHideFor,{sizes:["xs","s"]},Object(p.jsx)(r.EuiFlexItem,{grow:1,css:Ct},Object(p.jsx)(Be,null)))))};let wt=function(e){return e.chat="chat",e.query="query",e}({});var _t={name:"bjn8wh",styles:"position:relative"};const Mt=({showDocs:e=!1})=>{const[t,n]=Object(a.useState)(!0),[o,i]=Object(a.useState)(wt.chat),{data:r}=Object(ie.a)(),l=Object(W.useWatch)({name:H.b.indices}).length;return Object(a.useEffect)((()=>{t&&null!=r&&r.length&&l?n(!1):t||null!=r&&r.length&&l||n(!0)}),[r,l,t]),Object(p.jsx)(s.a.Fragment,null,Object(p.jsx)(Ce,{showDocs:e,onModeChange:e=>i(e),selectedMode:o,isActionsDisabled:t}),Object(p.jsx)($.Section,{alignment:"top",restrictWidth:!1,grow:!0,css:_t,contentProps:{css:{display:"flex",flexGrow:1,position:"absolute",inset:0}},paddingSize:"none",className:"eui-fullHeight"},t?Object(p.jsx)(ue,null):o===wt.chat?Object(p.jsx)(St,null):Object(p.jsx)(ee,null)))}}])]);