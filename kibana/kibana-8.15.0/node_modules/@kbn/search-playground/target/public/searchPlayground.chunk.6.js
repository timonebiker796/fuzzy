/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.searchPlayground_bundle_jsonpfunction=window.searchPlayground_bundle_jsonpfunction||[]).push([[6],{49:function(e,t,s){"use strict";s.r(t),s.d(t,"PlaygroundProvider",(function(){return m}));var n=s(1),u=s(13);const c=new u.QueryClient({});var a=s(34),l=s(17),r=s(32),o=s(30),i=s(38),d=s(40),b=s(33);const j=(e,t)=>Object.keys(e).reduce(((s,n)=>{var u;return s[n]=null!==(u=null==t?void 0:t[n])&&void 0!==u?u:e[n],s}),{});var O=s(41),f=s(2);const v=({children:e})=>{const t=Object(O.a)(),[s]=Object(l.useSearchParams)(),u=Object(n.useMemo)((()=>s.get("default-index")),[s]),c=Object(a.useForm)({defaultValues:{prompt:"You are an assistant for question-answering tasks.",doc_size:3,source_fields:{},indices:u?[u]:[],summarization_model:void 0}});return(({watch:e,setValue:t,getValues:s})=>{const u=Object(r.a)(),c=e(o.b.indices),{fields:a}=Object(i.a)(c);Object(n.useEffect)((()=>{var e,n;const[c,l]=s([o.b.queryFields,o.b.sourceFields]),r=Object(d.b)(a),i=Object(d.c)(a),O=j(r,c),f=j(i,l);t(o.b.elasticsearchQuery,Object(d.a)(O,f,a)),t(o.b.queryFields,O),t(o.b.sourceFields,f),null==u||u.count(b.a.sourceFieldsLoaded,null===(e=Object.values(a))||void 0===e||null===(n=e.flat())||void 0===n?void 0:n.length)}),[a,s,t,u])})({watch:c.watch,setValue:c.setValue,getValues:c.getValues}),Object(n.useEffect)((()=>{const e=t.find((e=>!e.disabled));e&&!c.getValues(o.b.summarizationModel)&&c.setValue(o.b.summarizationModel,e)}),[c,t]),Object(f.jsx)(a.FormProvider,c,e)},m=({children:e})=>Object(f.jsx)(u.QueryClientProvider,{client:c},Object(f.jsx)(v,null,e))}}]);