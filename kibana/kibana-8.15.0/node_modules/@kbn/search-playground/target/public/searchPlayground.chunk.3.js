/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.searchPlayground_bundle_jsonpfunction=window.searchPlayground_bundle_jsonpfunction||[]).push([[3,6],{49:function(e,t,n){"use strict";n.r(t),n.d(t,"PlaygroundProvider",(function(){return v}));var r=n(1),o=n(13);const u=new o.QueryClient({});var c=n(34),s=n(17),l=n(32),i=n(30),a=n(38),j=n(40),d=n(33);const f=(e,t)=>Object.keys(e).reduce(((n,r)=>{var o;return n[r]=null!==(o=null==t?void 0:t[r])&&void 0!==o?o:e[r],n}),{});var b=n(41),p=n(2);const O=({children:e})=>{const t=Object(b.a)(),[n]=Object(s.useSearchParams)(),o=Object(r.useMemo)((()=>n.get("default-index")),[n]),u=Object(c.useForm)({defaultValues:{prompt:"You are an assistant for question-answering tasks.",doc_size:3,source_fields:{},indices:o?[o]:[],summarization_model:void 0}});return(({watch:e,setValue:t,getValues:n})=>{const o=Object(l.a)(),u=e(i.b.indices),{fields:c}=Object(a.a)(u);Object(r.useEffect)((()=>{var e,r;const[u,s]=n([i.b.queryFields,i.b.sourceFields]),l=Object(j.b)(c),a=Object(j.c)(c),b=f(l,u),p=f(a,s);t(i.b.elasticsearchQuery,Object(j.a)(b,p,c)),t(i.b.queryFields,b),t(i.b.sourceFields,p),null==o||o.count(d.a.sourceFieldsLoaded,null===(e=Object.values(c))||void 0===e||null===(r=e.flat())||void 0===r?void 0:r.length)}),[c,n,t,o])})({watch:u.watch,setValue:u.setValue,getValues:u.getValues}),Object(r.useEffect)((()=>{const e=t.find((e=>!e.disabled));e&&!u.getValues(i.b.summarizationModel)&&u.setValue(i.b.summarizationModel,e)}),[u,t]),Object(p.jsx)(c.FormProvider,u,e)},v=({children:e})=>Object(p.jsx)(o.QueryClientProvider,{client:u},Object(p.jsx)(O,null,e))},86:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(15),o=n(87),u=r.__importDefault(n(89));t.default=function(e,t){u.default(e,t,o.isDeepEqual)}},87:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDeepEqual=t.off=t.on=t.isClient=void 0;var r=n(15).__importDefault(n(88));t.isClient="object"==typeof window,t.on=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e.addEventListener.apply(e,t)},t.off=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e.removeEventListener.apply(e,t)},t.isDeepEqual=r.default},88:function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,o,u;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(o=r;0!=o--;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(u=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(o=r;0!=o--;)if(!Object.prototype.hasOwnProperty.call(n,u[o]))return!1;for(o=r;0!=o--;){var c=u[o];if(!("_owner"===c&&t.$$typeof||e(t[c],n[c])))return!1}return!0}return t!=t&&n!=n}},89:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);t.default=function(e,t,n){var o=r.useRef(void 0);o.current&&n(t,o.current)||(o.current=t),r.useEffect(e,o.current)}},97:function(e,t,n){"use strict";n.r(t),n.d(t,"PlaygroundRouter",(function(){return w}));var r=n(21),o=n(1),u=n.n(o),c=n(16),s=n(17),l=n(31),i=n.n(l);const a={services:{}},j=Object(o.createContext)(a);var d=n(86),f=n.n(d),b=n(2);const p=({children:e,component:t,render:n,...r})=>{const s=Object(o.useMemo)((()=>{if(t)return e=>Object(b.jsx)(u.a.Fragment,null,Object(b.jsx)(O,null),Object(b.jsx)(t,e))}),[t]);if(s)return Object(b.jsx)(c.Route,i()({},r,{component:s}));if(n||"function"==typeof e){const t="function"==typeof e?e:n;return Object(b.jsx)(c.Route,i()({},r,{render:e=>Object(b.jsx)(u.a.Fragment,null,Object(b.jsx)(O,null),t(e))}))}return Object(b.jsx)(c.Route,r,Object(b.jsx)(O,null),e)},O=()=>{const{executionContext:e}=Object(o.useContext)(j).services,t=Object(c.useRouteMatch)();return function(e,t){f()((()=>(null==e||e.set(t),()=>{null==e||e.clear()})),[t])}(e,{type:"application",page:t.path,id:Object.keys(t.params).length>0?JSON.stringify(t.params):void 0}),null},v=({legacySwitch:e=!0,children:t})=>{const n=Object(c.useRouteMatch)();return e?Object(b.jsx)(c.Switch,null,t):Object(b.jsx)(s.Routes,null,o.Children.map(t,(e=>{if(u.a.isValidElement(e)&&e.type===p){var o;const c=Object(r.replace)(null==e?void 0:e.props.path,n.url+"/",""),l="function"==typeof(null==e?void 0:e.props.children)?null==e?void 0:e.props.children:null==e?void 0:e.props.render;return Object(b.jsx)(s.Route,{path:c,element:Object(b.jsx)(u.a.Fragment,null,Object(b.jsx)(O,null),(null==e||null===(o=e.props)||void 0===o?void 0:o.component)&&Object(b.jsx)(e.props.component,null)||l&&l()||t)})}return e})))};var y=n(4),g=n(49),h=n(90),x=n(35);const m=()=>{const{services:{console:e}}=Object(x.a)(),t=Object(o.useMemo)((()=>null!=e&&e.EmbeddableConsole?Object(b.jsx)(e.EmbeddableConsole,null):null),[e]);return Object(b.jsx)(g.PlaygroundProvider,null,Object(b.jsx)(y.EuiPageTemplate,{offset:0,restrictWidth:!1,"data-test-subj":"svlPlaygroundPage",grow:!1,panelled:!1},Object(b.jsx)(h.App,{showDocs:!0}),t))},_="/chat",w=()=>Object(b.jsx)(v,null,Object(b.jsx)(c.Redirect,{exact:!0,from:"/",to:_}),Object(b.jsx)(p,{path:_},Object(b.jsx)(m,null)))}}]);