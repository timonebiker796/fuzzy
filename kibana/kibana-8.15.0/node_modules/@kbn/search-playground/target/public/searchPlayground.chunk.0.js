/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.searchPlayground_bundle_jsonpfunction=window.searchPlayground_bundle_jsonpfunction||[]).push([[0],{30:function(e,t,r){"use strict";r.d(t,"b",(function(){return s}));var n=r(39);r.d(t,"a",(function(){return n.a})),r.d(t,"c",(function(){return n.b})),r.d(t,"d",(function(){return n.c}));let s=function(e){return e.question="question",e.citations="citations",e.prompt="prompt",e.indices="indices",e.elasticsearchQuery="elasticsearch_query",e.summarizationModel="summarization_model",e.sourceFields="source_fields",e.docSize="doc_size",e.queryFields="query_fields",e}({})},32:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(27),s=r(1),a=r(35);const i="search_playground",o=()=>{const{usageCollection:e}=Object(a.a)().services;return Object(s.useMemo)((()=>{if(e)return{click:e.reportUiCounter.bind(e,i,n.METRIC_TYPE.CLICK),count:e.reportUiCounter.bind(e,i,n.METRIC_TYPE.COUNT),load:e.reportUiCounter.bind(e,i,n.METRIC_TYPE.LOADED)}}),[e])}},33:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));let n=function(e){return e.chatPageLoaded="chat_page_loaded",e.chatCleared="chat_cleared",e.chatQuestionSent="chat_question_sent",e.chatRequestStopped="chat_request_stopped",e.chatRegenerateMessages="chat_regenerate_messages",e.citationDetailsExpanded="citation_details_expanded",e.citationDetailsCollapsed="citation_details_collapsed",e.editContextFieldToggled="edit_context_field_toggled",e.editContextDocSizeChanged="edit_context_doc_size_changed",e.genAiConnectorAdded="gen_ai_connector_added",e.genAiConnectorCreated="gen_ai_connector_created",e.genAiConnectorExists="gen_ai_connector_exists",e.genAiConnectorSetup="gen_ai_connector_setup",e.includeCitations="include_citations",e.instructionsFieldChanged="instructions_field_changed",e.queryFieldsUpdated="view_query_fields_updated",e.queryModeLoaded="query_mode_loaded",e.modelSelected="model_selected",e.retrievalDocsFlyoutOpened="retrieval_docs_flyout_opened",e.sourceFieldsLoaded="source_fields_loaded",e.sourceIndexUpdated="source_index_updated",e.setupChatPageLoaded="start_new_chat_page_loaded",e.viewCodeFlyoutOpened="view_code_flyout_opened",e.viewCodeLanguageChange="view_code_language_change",e}({})},34:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,s=(n=r(1))&&"object"==typeof n&&"default"in n?n:{default:n},a=e=>"checkbox"===e.type,i=e=>e instanceof Date,o=e=>null==e;const u=e=>"object"==typeof e;var l=e=>!o(e)&&!Array.isArray(e)&&u(e)&&!i(e),d=e=>l(e)&&e.target?a(e.target)?e.target.checked:e.target.value:e,c=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),f="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function m(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(f&&(e instanceof Blob||e instanceof FileList)||!r&&!l(e))return e;if(t=r?[]:{},r||(e=>{const t=e.constructor&&e.constructor.prototype;return l(t)&&t.hasOwnProperty("isPrototypeOf")})(e))for(const r in e)e.hasOwnProperty(r)&&(t[r]=m(e[r]));else t=e}return t}var _=e=>Array.isArray(e)?e.filter(Boolean):[],p=e=>void 0===e,y=(e,t,r)=>{if(!t||!l(e))return r;const n=_(t.split(/[,[\].]+?/)).reduce(((e,t)=>o(e)?e:e[t]),e);return p(n)||n===e?p(e[t])?r:e[t]:n};const g="blur",h="onChange",v="onSubmit",b="all",A="pattern",x="required",k=s.default.createContext(null),V=()=>s.default.useContext(k);var S=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(s,a,{get:()=>{const s=a;return t._proxyFormState[s]!==b&&(t._proxyFormState[s]=!n||b),r&&(r[s]=!0),e[s]}});return s},F=e=>l(e)&&!Object.keys(e).length,C=(e,t,r,n)=>{r(e);const{name:s,...a}=e;return F(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find((e=>t[e]===(!n||b)))},O=e=>Array.isArray(e)?e:[e],w=(e,t,r)=>r&&t?e===t:!e||!t||e===t||O(e).some((e=>e&&(e.startsWith(t)||t.startsWith(e))));function T(e){const t=s.default.useRef(e);t.current=e,s.default.useEffect((()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}}),[e.disabled])}function D(e){const t=V(),{control:r=t.control,disabled:n,name:a,exact:i}=e||{},[o,u]=s.default.useState(r._formState),l=s.default.useRef(!0),d=s.default.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),c=s.default.useRef(a);return c.current=a,T({disabled:n,next:e=>l.current&&w(c.current,e.name,i)&&C(e,d.current,r._updateFormState)&&u({...r._formState,...e}),subject:r._subjects.state}),s.default.useEffect((()=>(l.current=!0,d.current.isValid&&r._updateValid(!0),()=>{l.current=!1})),[r]),S(o,r,d.current,!1)}var E=e=>"string"==typeof e,q=(e,t,r,n,s)=>E(e)?(n&&t.watch.add(e),y(r,e,s)):Array.isArray(e)?e.map((e=>(n&&t.watch.add(e),y(r,e)))):(n&&(t.watchAll=!0),r);function M(e){const t=V(),{control:r=t.control,name:n,defaultValue:a,disabled:i,exact:o}=e||{},u=s.default.useRef(n);u.current=n,T({disabled:i,subject:r._subjects.values,next:e=>{w(u.current,e.name,o)&&d(m(q(u.current,r._names,e.values||r._formValues,!1,a)))}});const[l,d]=s.default.useState(r._getWatch(n,a));return s.default.useEffect((()=>r._removeUnmounted())),l}var I=e=>/^\w*$/.test(e),j=e=>_(e.replace(/["|']|\]/g,"").split(/\.|\[/));function L(e,t,r){let n=-1;const s=I(t)?[t]:j(t),a=s.length,i=a-1;for(;++n<a;){const t=s[n];let a=r;if(n!==i){const r=e[t];a=l(r)||Array.isArray(r)?r:isNaN(+s[n+1])?{}:[]}e[t]=a,e=e[t]}return e}function N(e){const t=V(),{name:r,control:n=t.control,shouldUnregister:a}=e,i=c(n._names.array,r),o=M({control:n,name:r,defaultValue:y(n._formValues,r,y(n._defaultValues,r,e.defaultValue)),exact:!0}),u=D({control:n,name:r}),l=s.default.useRef(n.register(r,{...e.rules,value:o}));return l.current=n.register(r,e.rules),s.default.useEffect((()=>{const e=n._options.shouldUnregister||a,t=(e,t)=>{const r=y(n._fields,e);r&&(r._f.mount=t)};if(t(r,!0),e){const e=m(y(n._options.defaultValues,r));L(n._defaultValues,r,e),p(y(n._formValues,r))&&L(n._formValues,r,e)}return()=>{(i?e&&!n._state.action:e)?n.unregister(r):t(r,!1)}}),[r,n,i,a]),{field:{name:r,value:o,onChange:s.default.useCallback((e=>l.current.onChange({target:{value:d(e),name:r},type:"change"})),[r]),onBlur:s.default.useCallback((()=>l.current.onBlur({target:{value:y(n._formValues,r),name:r},type:g})),[r,n]),ref:e=>{const t=y(n._fields,r);t&&e&&(t._f.ref={focus:()=>e.focus(),select:()=>e.select(),setCustomValidity:t=>e.setCustomValidity(t),reportValidity:()=>e.reportValidity()})}},formState:u,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!y(u.errors,r)},isDirty:{enumerable:!0,get:()=>!!y(u.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!y(u.touchedFields,r)},error:{enumerable:!0,get:()=>y(u.errors,r)}})}}const P="post";var R=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{};const U=(e,t,r)=>{for(const n of r||Object.keys(e)){const r=y(e,n);if(r){const{_f:e,...n}=r;if(e&&t(e.name)){if(e.ref.focus){e.ref.focus();break}if(e.refs&&e.refs[0].focus){e.refs[0].focus();break}}else l(n)&&U(n,t)}}};var B=()=>{const e="undefined"==typeof performance?Date.now():1e3*performance.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{const r=(16*Math.random()+e)%16|0;return("x"==t?r:3&r|8).toString(16)}))},$=(e,t,r={})=>r.shouldFocus||p(r.shouldFocus)?r.focusName||`${e}.${p(r.focusIndex)?t:r.focusIndex}.`:"",z=e=>({isOnSubmit:!e||e===v,isOnBlur:"onBlur"===e,isOnChange:e===h,isOnAll:e===b,isOnTouch:"onTouched"===e}),G=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some((t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))))),W=(e,t,r)=>{const n=_(y(e,r));return L(n,"root",t[r]),L(e,r,n),e},K=e=>"boolean"==typeof e,Q=e=>"file"===e.type,Y=e=>"function"==typeof e,H=e=>{if(!f)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},J=e=>E(e),X=e=>"radio"===e.type,Z=e=>e instanceof RegExp;const ee={value:!1,isValid:!1},te={value:!0,isValid:!0};var re=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!p(e[0].attributes.value)?p(e[0].value)||""===e[0].value?te:{value:e[0].value,isValid:!0}:te:ee}return ee};const ne={isValid:!1,value:null};var se=e=>Array.isArray(e)?e.reduce(((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e),ne):ne;function ae(e,t,r="validate"){if(J(e)||Array.isArray(e)&&e.every(J)||K(e)&&!e)return{type:r,message:J(e)?e:"",ref:t}}var ie=e=>l(e)&&!Z(e)?e:{value:e,message:""},oe=async(e,t,r,n,s)=>{const{ref:i,refs:u,required:d,maxLength:c,minLength:f,min:m,max:_,pattern:g,validate:h,name:v,valueAsNumber:b,mount:k,disabled:V}=e._f,S=y(t,v);if(!k||V)return{};const C=u?u[0]:i,O=e=>{n&&C.reportValidity&&(C.setCustomValidity(K(e)?"":e||""),C.reportValidity())},w={},T=X(i),D=a(i),q=T||D,M=(b||Q(i))&&p(i.value)&&p(S)||H(i)&&""===i.value||""===S||Array.isArray(S)&&!S.length,I=R.bind(null,v,r,w),j=(e,t,r,n="maxLength",s="minLength")=>{const a=e?t:r;w[v]={type:e?n:s,message:a,ref:i,...I(e?n:s,a)}};if(s?!Array.isArray(S)||!S.length:d&&(!q&&(M||o(S))||K(S)&&!S||D&&!re(u).isValid||T&&!se(u).isValid)){const{value:e,message:t}=J(d)?{value:!!d,message:d}:ie(d);if(e&&(w[v]={type:x,message:t,ref:C,...I(x,t)},!r))return O(t),w}if(!(M||o(m)&&o(_))){let e,t;const n=ie(_),s=ie(m);if(o(S)||isNaN(S)){const r=i.valueAsDate||new Date(S),a=e=>new Date((new Date).toDateString()+" "+e),o="time"==i.type,u="week"==i.type;E(n.value)&&S&&(e=o?a(S)>a(n.value):u?S>n.value:r>new Date(n.value)),E(s.value)&&S&&(t=o?a(S)<a(s.value):u?S<s.value:r<new Date(s.value))}else{const r=i.valueAsNumber||(S?+S:S);o(n.value)||(e=r>n.value),o(s.value)||(t=r<s.value)}if((e||t)&&(j(!!e,n.message,s.message,"max","min"),!r))return O(w[v].message),w}if((c||f)&&!M&&(E(S)||s&&Array.isArray(S))){const e=ie(c),t=ie(f),n=!o(e.value)&&S.length>+e.value,s=!o(t.value)&&S.length<+t.value;if((n||s)&&(j(n,e.message,t.message),!r))return O(w[v].message),w}if(g&&!M&&E(S)){const{value:e,message:t}=ie(g);if(Z(e)&&!S.match(e)&&(w[v]={type:A,message:t,ref:i,...I(A,t)},!r))return O(t),w}if(h)if(Y(h)){const e=ae(await h(S,t),C);if(e&&(w[v]={...e,...I("validate",e.message)},!r))return O(e.message),w}else if(l(h)){let e={};for(const n in h){if(!F(e)&&!r)break;const s=ae(await h[n](S,t),C,n);s&&(e={...s,...I(n,s.message)},O(s.message),r&&(w[v]=e))}if(!F(e)&&(w[v]={ref:C,...e},!r))return w}return O(!0),w};function ue(e,t){return[...e,...O(t)]}var le=e=>Array.isArray(e)?e.map((()=>{})):void 0;function de(e,t,r){return[...e.slice(0,t),...O(r),...e.slice(t)]}var ce=(e,t,r)=>Array.isArray(e)?(p(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(t,1)[0]),e):[];function fe(e,t){return[...O(t),...O(e)]}var me=(e,t)=>p(t)?[]:function(e,t){let r=0;const n=[...e];for(const e of t)n.splice(e-r,1),r++;return _(n).length?n:[]}(e,O(t).sort(((e,t)=>e-t))),_e=(e,t,r)=>{e[t]=[e[r],e[r]=e[t]][0]};function pe(e,t){const r=Array.isArray(t)?t:I(t)?[t]:j(t),n=1===r.length?e:function(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=p(e)?n++:e[t[n++]];return e}(e,r),s=r.length-1,a=r[s];return n&&delete n[a],0!==s&&(l(n)&&F(n)||Array.isArray(n)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!p(e[t]))return!1;return!0}(n))&&pe(e,r.slice(0,-1)),e}var ye=(e,t,r)=>(e[t]=r,e);function ge(){let e=[];return{get observers(){return e},next:t=>{for(const r of e)r.next&&r.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter((e=>e!==t))}}),unsubscribe:()=>{e=[]}}}var he=e=>o(e)||!u(e);function ve(e,t){if(he(e)||he(t))return e===t;if(i(e)&&i(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const s of r){const r=e[s];if(!n.includes(s))return!1;if("ref"!==s){const e=t[s];if(i(r)&&i(e)||l(r)&&l(e)||Array.isArray(r)&&Array.isArray(e)?!ve(r,e):r!==e)return!1}}return!0}var be=e=>"select-multiple"===e.type,Ae=e=>H(e)&&e.isConnected,xe=e=>{for(const t in e)if(Y(e[t]))return!0;return!1};function ke(e,t={}){const r=Array.isArray(e);if(l(e)||r)for(const r in e)Array.isArray(e[r])||l(e[r])&&!xe(e[r])?(t[r]=Array.isArray(e[r])?[]:{},ke(e[r],t[r])):o(e[r])||(t[r]=!0);return t}function Ve(e,t,r){const n=Array.isArray(e);if(l(e)||n)for(const n in e)Array.isArray(e[n])||l(e[n])&&!xe(e[n])?p(t)||he(r[n])?r[n]=Array.isArray(e[n])?ke(e[n],[]):{...ke(e[n])}:Ve(e[n],o(t)?{}:t[n],r[n]):r[n]=!ve(e[n],t[n]);return r}var Se=(e,t)=>Ve(e,t,ke(t)),Fe=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>p(e)?e:t?""===e?NaN:e?+e:e:r&&E(e)?new Date(e):n?n(e):e;function Ce(e){const t=e.ref;if(!(e.refs?e.refs.every((e=>e.disabled)):t.disabled))return Q(t)?t.files:X(t)?se(e.refs).value:be(t)?[...t.selectedOptions].map((({value:e})=>e)):a(t)?re(e.refs).value:Fe(p(t.value)?e.ref.value:t.value,e)}var Oe=e=>p(e)?e:Z(e)?e.source:l(e)?Z(e.value)?e.value.source:e.value:e;function we(e,t,r){const n=y(e,r);if(n||I(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const n=s.join("."),a=y(t,n),i=y(e,n);if(a&&!Array.isArray(a)&&r!==n)return{name:r};if(i&&i.type)return{name:n,error:i};s.pop()}return{name:r}}const Te={mode:v,reValidateMode:h,shouldFocusError:!0};function De(e={},t){let r,n={...Te,...e},s={submitCount:0,isDirty:!1,isLoading:Y(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},u={},h=(l(n.defaultValues)||l(n.values))&&m(n.defaultValues||n.values)||{},v=n.shouldUnregister?{}:m(h),A={action:!1,mount:!1,watch:!1},x={mount:new Set,unMount:new Set,array:new Set,watch:new Set},k=0;const V={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},S={values:ge(),array:ge(),state:ge()},C=e.resetOptions&&e.resetOptions.keepDirtyValues,w=z(n.mode),T=z(n.reValidateMode),D=n.criteriaMode===b,M=async e=>{if(V.isValid||e){const e=n.resolver?F((await R()).errors):await B(u,!0);e!==s.isValid&&S.state.next({isValid:e})}},I=e=>V.isValidating&&S.state.next({isValidating:e}),j=(e,t,r,n)=>{const s=y(u,e);if(s){const a=y(v,e,p(r)?y(h,e):r);p(a)||n&&n.defaultChecked||t?L(v,e,t?a:Ce(s._f)):Z(e,a),A.mount&&M()}},N=(e,t,r,n,a)=>{let i=!1,o=!1;const u={name:e};if(!r||n){V.isDirty&&(o=s.isDirty,s.isDirty=u.isDirty=$(),i=o!==u.isDirty);const r=ve(y(h,e),t);o=y(s.dirtyFields,e),r?pe(s.dirtyFields,e):L(s.dirtyFields,e,!0),u.dirtyFields=s.dirtyFields,i=i||V.dirtyFields&&o!==!r}if(r){const t=y(s.touchedFields,e);t||(L(s.touchedFields,e,r),u.touchedFields=s.touchedFields,i=i||V.touchedFields&&t!==r)}return i&&a&&S.state.next(u),i?u:{}},P=(t,n,a,i)=>{const o=y(s.errors,t),u=V.isValid&&K(n)&&s.isValid!==n;var l;if(e.delayError&&a?(l=()=>((e,t)=>{L(s.errors,e,t),S.state.next({errors:s.errors})})(t,a),r=e=>{clearTimeout(k),k=setTimeout(l,e)},r(e.delayError)):(clearTimeout(k),r=null,a?L(s.errors,t,a):pe(s.errors,t)),(a?!ve(o,a):o)||!F(i)||u){const e={...i,...u&&K(n)?{isValid:n}:{},errors:s.errors,name:t};s={...s,...e},S.state.next(e)}I(!1)},R=async e=>n.resolver(v,n.context,((e,t,r,n)=>{const s={};for(const r of e){const e=y(t,r);e&&L(s,r,e._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}})(e||x.mount,u,n.criteriaMode,n.shouldUseNativeValidation)),B=async(e,t,r={valid:!0})=>{for(const a in e){const i=e[a];if(i){const{_f:e,...a}=i;if(e){const a=x.array.has(e.name),o=await oe(i,v,D,n.shouldUseNativeValidation&&!t,a);if(o[e.name]&&(r.valid=!1,t))break;!t&&(y(o,e.name)?a?W(s.errors,o,e.name):L(s.errors,e.name,o[e.name]):pe(s.errors,e.name))}a&&await B(a,t,r)}}return r.valid},$=(e,t)=>(e&&t&&L(v,e,t),!ve(se(),h)),J=(e,t,r)=>q(e,x,{...A.mount?v:p(t)?h:E(e)?{[e]:t}:t},r,t),Z=(e,t,r={})=>{const n=y(u,e);let s=t;if(n){const r=n._f;r&&(!r.disabled&&L(v,e,Fe(t,r)),s=H(r.ref)&&o(t)?"":t,be(r.ref)?[...r.ref.options].forEach((e=>e.selected=s.includes(e.value))):r.refs?a(r.ref)?r.refs.length>1?r.refs.forEach((e=>(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(s)?!!s.find((t=>t===e.value)):s===e.value))):r.refs[0]&&(r.refs[0].checked=!!s):r.refs.forEach((e=>e.checked=e.value===s)):Q(r.ref)?r.ref.value="":(r.ref.value=s,r.ref.type||S.values.next({name:e,values:{...v}})))}(r.shouldDirty||r.shouldTouch)&&N(e,s,r.shouldTouch,r.shouldDirty,!0),r.shouldValidate&&ne(e)},ee=(e,t,r)=>{for(const n in t){const s=t[n],a=`${e}.${n}`,o=y(u,a);!x.array.has(e)&&he(s)&&(!o||o._f)||i(s)?Z(a,s,r):ee(a,s,r)}},te=(e,r,n={})=>{const a=y(u,e),i=x.array.has(e),l=m(r);L(v,e,l),i?(S.array.next({name:e,values:{...v}}),(V.isDirty||V.dirtyFields)&&n.shouldDirty&&S.state.next({name:e,dirtyFields:Se(h,v),isDirty:$(e,l)})):!a||a._f||o(l)?Z(e,l,n):ee(e,l,n),G(e,x)&&S.state.next({...s}),S.values.next({name:e,values:{...v}}),!A.mount&&t()},re=async e=>{const t=e.target;let a=t.name,i=!0;const o=y(u,a);if(o){let c,f;const m=t.type?Ce(o._f):d(e),_=e.type===g||"focusout"===e.type,p=!((l=o._f).mount&&(l.required||l.min||l.max||l.maxLength||l.minLength||l.pattern||l.validate)||n.resolver||y(s.errors,a)||o._f.deps)||((e,t,r,n,s)=>!s.isOnAll&&(!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:!(r?n.isOnChange:s.isOnChange)||e))(_,y(s.touchedFields,a),s.isSubmitted,T,w),h=G(a,x,_);L(v,a,m),_?(o._f.onBlur&&o._f.onBlur(e),r&&r(0)):o._f.onChange&&o._f.onChange(e);const b=N(a,m,_,!1),A=!F(b)||h;if(!_&&S.values.next({name:a,type:e.type,values:{...v}}),p)return V.isValid&&M(),A&&S.state.next({name:a,...h?{}:b});if(!_&&h&&S.state.next({...s}),I(!0),n.resolver){const{errors:e}=await R([a]),t=we(s.errors,u,a),r=we(e,u,t.name||a);c=r.error,a=r.name,f=F(e)}else c=(await oe(o,v,D,n.shouldUseNativeValidation))[a],i=isNaN(m)||m===y(v,a,m),i&&(c?f=!1:V.isValid&&(f=await B(u,!0)));i&&(o._f.deps&&ne(o._f.deps),P(a,f,c,b))}var l},ne=async(e,t={})=>{let r,a;const i=O(e);if(I(!0),n.resolver){const t=await(async e=>{const{errors:t}=await R();if(e)for(const r of e){const e=y(t,r);e?L(s.errors,r,e):pe(s.errors,r)}else s.errors=t;return t})(p(e)?e:i);r=F(t),a=e?!i.some((e=>y(t,e))):r}else e?(a=(await Promise.all(i.map((async e=>{const t=y(u,e);return await B(t&&t._f?{[e]:t}:t)})))).every(Boolean),(a||s.isValid)&&M()):a=r=await B(u);return S.state.next({...!E(e)||V.isValid&&r!==s.isValid?{}:{name:e},...n.resolver||!e?{isValid:r}:{},errors:s.errors,isValidating:!1}),t.shouldFocus&&!a&&U(u,(e=>e&&y(s.errors,e)),e?i:x.mount),a},se=e=>{const t={...h,...A.mount?v:{}};return p(e)?t:E(e)?y(t,e):e.map((e=>y(t,e)))},ae=(e,t)=>({invalid:!!y((t||s).errors,e),isDirty:!!y((t||s).dirtyFields,e),isTouched:!!y((t||s).touchedFields,e),error:y((t||s).errors,e)}),ie=(e,t,r)=>{const n=(y(u,e,{_f:{}})._f||{}).ref;L(s.errors,e,{...t,ref:n}),S.state.next({name:e,errors:s.errors,isValid:!1}),r&&r.shouldFocus&&n&&n.focus&&n.focus()},ue=(e,t={})=>{for(const r of e?O(e):x.mount)x.mount.delete(r),x.array.delete(r),t.keepValue||(pe(u,r),pe(v,r)),!t.keepError&&pe(s.errors,r),!t.keepDirty&&pe(s.dirtyFields,r),!t.keepTouched&&pe(s.touchedFields,r),!n.shouldUnregister&&!t.keepDefaultValue&&pe(h,r);S.values.next({values:{...v}}),S.state.next({...s,...t.keepDirty?{isDirty:$()}:{}}),!t.keepIsValid&&M()},le=(e,t={})=>{let r=y(u,e);const s=K(t.disabled);return L(u,e,{...r||{},_f:{...r&&r._f?r._f:{ref:{name:e}},name:e,mount:!0,...t}}),x.mount.add(e),r?s&&L(v,e,t.disabled?void 0:y(v,e,Ce(r._f))):j(e,!0,t.value),{...s?{disabled:t.disabled}:{},...n.progressive?{required:!!t.required,min:Oe(t.min),max:Oe(t.max),minLength:Oe(t.minLength),maxLength:Oe(t.maxLength),pattern:Oe(t.pattern)}:{},name:e,onChange:re,onBlur:re,ref:s=>{if(s){le(e,t),r=y(u,e);const n=p(s.value)&&s.querySelectorAll&&s.querySelectorAll("input,select,textarea")[0]||s,i=(e=>X(e)||a(e))(n),o=r._f.refs||[];if(i?o.find((e=>e===n)):n===r._f.ref)return;L(u,e,{_f:{...r._f,...i?{refs:[...o.filter(Ae),n,...Array.isArray(y(h,e))?[{}]:[]],ref:{type:n.type,name:e}}:{ref:n}}}),j(e,!1,void 0,n)}else r=y(u,e,{}),r._f&&(r._f.mount=!1),(n.shouldUnregister||t.shouldUnregister)&&(!c(x.array,e)||!A.action)&&x.unMount.add(e)}}},de=()=>n.shouldFocusError&&U(u,(e=>e&&y(s.errors,e)),x.mount),ce=(e,t)=>async r=>{r&&(r.preventDefault&&r.preventDefault(),r.persist&&r.persist());let a=m(v);if(S.state.next({isSubmitting:!0}),n.resolver){const{errors:e,values:t}=await R();s.errors=e,a=t}else await B(u);pe(s.errors,"root"),F(s.errors)?(S.state.next({errors:{}}),await e(a,r)):(t&&await t({...s.errors},r),de(),setTimeout(de)),S.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:F(s.errors),submitCount:s.submitCount+1,errors:s.errors})},fe=(r,n={})=>{const a=r||h,i=m(a),o=r&&!F(r)?i:h;if(n.keepDefaultValues||(h=a),!n.keepValues){if(n.keepDirtyValues||C)for(const e of x.mount)y(s.dirtyFields,e)?L(o,e,y(v,e)):te(e,y(o,e));else{if(f&&p(r))for(const e of x.mount){const t=y(u,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(H(e)){const t=e.closest("form");if(t){t.reset();break}}}}u={}}v=e.shouldUnregister?n.keepDefaultValues?m(h):{}:m(o),S.array.next({values:{...o}}),S.values.next({values:{...o}})}x={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!A.mount&&t(),A.mount=!V.isValid||!!n.keepIsValid,A.watch=!!e.shouldUnregister,S.state.next({submitCount:n.keepSubmitCount?s.submitCount:0,isDirty:n.keepDirty?s.isDirty:!(!n.keepDefaultValues||ve(r,h)),isSubmitted:!!n.keepIsSubmitted&&s.isSubmitted,dirtyFields:n.keepDirtyValues?s.dirtyFields:n.keepDefaultValues&&r?Se(h,r):{},touchedFields:n.keepTouched?s.touchedFields:{},errors:n.keepErrors?s.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},me=(e,t)=>fe(Y(e)?e(v):e,t);return{control:{register:le,unregister:ue,getFieldState:ae,handleSubmit:ce,setError:ie,_executeSchema:R,_getWatch:J,_getDirty:$,_updateValid:M,_removeUnmounted:()=>{for(const e of x.unMount){const t=y(u,e);t&&(t._f.refs?t._f.refs.every((e=>!Ae(e))):!Ae(t._f.ref))&&ue(e)}x.unMount=new Set},_updateFieldArray:(e,t=[],r,n,a=!0,i=!0)=>{if(n&&r){if(A.action=!0,i&&Array.isArray(y(u,e))){const t=r(y(u,e),n.argA,n.argB);a&&L(u,e,t)}if(i&&Array.isArray(y(s.errors,e))){const t=r(y(s.errors,e),n.argA,n.argB);a&&L(s.errors,e,t),((e,t)=>{!_(y(e,t)).length&&pe(e,t)})(s.errors,e)}if(V.touchedFields&&i&&Array.isArray(y(s.touchedFields,e))){const t=r(y(s.touchedFields,e),n.argA,n.argB);a&&L(s.touchedFields,e,t)}V.dirtyFields&&(s.dirtyFields=Se(h,v)),S.state.next({name:e,isDirty:$(e,t),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else L(v,e,t)},_getFieldArray:t=>_(y(A.mount?v:h,t,e.shouldUnregister?y(h,t,[]):[])),_reset:fe,_resetDefaultValues:()=>Y(n.defaultValues)&&n.defaultValues().then((e=>{me(e,n.resetOptions),S.state.next({isLoading:!1})})),_updateFormState:e=>{s={...s,...e}},_subjects:S,_proxyFormState:V,get _fields(){return u},get _formValues(){return v},get _state(){return A},set _state(e){A=e},get _defaultValues(){return h},get _names(){return x},set _names(e){x=e},get _formState(){return s},set _formState(e){s=e},get _options(){return n},set _options(e){n={...n,...e}}},trigger:ne,register:le,handleSubmit:ce,watch:(e,t)=>Y(e)?S.values.subscribe({next:r=>e(J(void 0,t),r)}):J(e,t,!0),setValue:te,getValues:se,reset:me,resetField:(e,t={})=>{y(u,e)&&(p(t.defaultValue)?te(e,y(h,e)):(te(e,t.defaultValue),L(h,e,t.defaultValue)),t.keepTouched||pe(s.touchedFields,e),t.keepDirty||(pe(s.dirtyFields,e),s.isDirty=t.defaultValue?$(e,y(h,e)):$()),t.keepError||(pe(s.errors,e),V.isValid&&M()),S.state.next({...s}))},clearErrors:e=>{e&&O(e).forEach((e=>pe(s.errors,e))),S.state.next({errors:e?s.errors:{}})},unregister:ue,setError:ie,setFocus:(e,t={})=>{const r=y(u,e),n=r&&r._f;if(n){const e=n.refs?n.refs[0]:n.ref;e.focus&&(e.focus(),t.shouldSelect&&e.select())}},getFieldState:ae}}t.Controller=e=>e.render(N(e)),t.Form=function(e){const t=V(),[r,n]=s.default.useState(!1),{control:a=t.control,onSubmit:i,children:o,action:u,method:l=P,headers:d,encType:c,onError:f,render:m,onSuccess:_,validateStatus:p,...g}=e,h=async t=>{let r=!1,n="";await a.handleSubmit((async e=>{const s=new FormData;let o="";try{o=JSON.stringify(e)}catch(e){}for(const t of a._names.mount)s.append(t,y(e,t));if(i&&i({data:e,event:t,method:l,formData:s,formDataJson:o}),u)try{const e=[d&&d["Content-Type"],c].some((e=>e&&e.includes("json"))),t=await fetch(u,{method:l,headers:{...d,...c?{"Content-Type":c}:{}},body:e?o:s});t&&(p?!p(t.status):t.status<200||t.status>=300)?(r=!0,f&&f({response:t}),n=String(t.status)):_&&_({response:t})}catch(e){r=!0,f&&f({error:e})}}))(t),r&&e.control&&(e.control._subjects.state.next({isSubmitSuccessful:!1}),e.control.setError("root.server",{type:n}))};return s.default.useEffect((()=>{n(!0)}),[]),m?s.default.createElement(s.default.Fragment,null,m({submit:h})):s.default.createElement("form",{noValidate:r,action:u,method:l,encType:c,onSubmit:h,...g},o)},t.FormProvider=e=>{const{children:t,...r}=e;return s.default.createElement(k.Provider,{value:r},t)},t.appendErrors=R,t.get=y,t.set=L,t.useController=N,t.useFieldArray=function(e){const t=V(),{control:r=t.control,name:n,keyName:a="id",shouldUnregister:i}=e,[o,u]=s.default.useState(r._getFieldArray(n)),l=s.default.useRef(r._getFieldArray(n).map(B)),d=s.default.useRef(o),c=s.default.useRef(n),f=s.default.useRef(!1);c.current=n,d.current=o,r._names.array.add(n),e.rules&&r.register(n,e.rules),T({next:({values:e,name:t})=>{if(t===c.current||!t){const t=y(e,c.current);Array.isArray(t)&&(u(t),l.current=t.map(B))}},subject:r._subjects.array});const _=s.default.useCallback((e=>{f.current=!0,r._updateFieldArray(n,e)}),[r,n]);return s.default.useEffect((()=>{if(r._state.action=!1,G(n,r._names)&&r._subjects.state.next({...r._formState}),f.current&&(!z(r._options.mode).isOnSubmit||r._formState.isSubmitted))if(r._options.resolver)r._executeSchema([n]).then((e=>{const t=y(e.errors,n),s=y(r._formState.errors,n);(s?!t&&s.type||t&&(s.type!==t.type||s.message!==t.message):t&&t.type)&&(t?L(r._formState.errors,n,t):pe(r._formState.errors,n),r._subjects.state.next({errors:r._formState.errors}))}));else{const e=y(r._fields,n);e&&e._f&&oe(e,r._formValues,r._options.criteriaMode===b,r._options.shouldUseNativeValidation,!0).then((e=>!F(e)&&r._subjects.state.next({errors:W(r._formState.errors,e,n)})))}r._subjects.values.next({name:n,values:{...r._formValues}}),r._names.focus&&U(r._fields,(e=>!!e&&e.startsWith(r._names.focus||""))),r._names.focus="",r._updateValid()}),[o,n,r]),s.default.useEffect((()=>(!y(r._formValues,n)&&r._updateFieldArray(n),()=>{(r._options.shouldUnregister||i)&&r.unregister(n)})),[n,r,a,i]),{swap:s.default.useCallback(((e,t)=>{const s=r._getFieldArray(n);_e(s,e,t),_e(l.current,e,t),_(s),u(s),r._updateFieldArray(n,s,_e,{argA:e,argB:t},!1)}),[_,n,r]),move:s.default.useCallback(((e,t)=>{const s=r._getFieldArray(n);ce(s,e,t),ce(l.current,e,t),_(s),u(s),r._updateFieldArray(n,s,ce,{argA:e,argB:t},!1)}),[_,n,r]),prepend:s.default.useCallback(((e,t)=>{const s=O(m(e)),a=fe(r._getFieldArray(n),s);r._names.focus=$(n,0,t),l.current=fe(l.current,s.map(B)),_(a),u(a),r._updateFieldArray(n,a,fe,{argA:le(e)})}),[_,n,r]),append:s.default.useCallback(((e,t)=>{const s=O(m(e)),a=ue(r._getFieldArray(n),s);r._names.focus=$(n,a.length-1,t),l.current=ue(l.current,s.map(B)),_(a),u(a),r._updateFieldArray(n,a,ue,{argA:le(e)})}),[_,n,r]),remove:s.default.useCallback((e=>{const t=me(r._getFieldArray(n),e);l.current=me(l.current,e),_(t),u(t),r._updateFieldArray(n,t,me,{argA:e})}),[_,n,r]),insert:s.default.useCallback(((e,t,s)=>{const a=O(m(t)),i=de(r._getFieldArray(n),e,a);r._names.focus=$(n,e,s),l.current=de(l.current,e,a.map(B)),_(i),u(i),r._updateFieldArray(n,i,de,{argA:e,argB:le(t)})}),[_,n,r]),update:s.default.useCallback(((e,t)=>{const s=m(t),a=ye(r._getFieldArray(n),e,s);l.current=[...a].map(((t,r)=>t&&r!==e?l.current[r]:B())),_(a),u([...a]),r._updateFieldArray(n,a,ye,{argA:e,argB:s},!0,!1)}),[_,n,r]),replace:s.default.useCallback((e=>{const t=O(m(e));l.current=t.map(B),_([...t]),u([...t]),r._updateFieldArray(n,[...t],(e=>e),{},!0,!1)}),[_,n,r]),fields:s.default.useMemo((()=>o.map(((e,t)=>({...e,[a]:l.current[t]||B()})))),[o,a])}},t.useForm=function(e={}){const t=s.default.useRef(),[r,n]=s.default.useState({isDirty:!1,isValidating:!1,isLoading:Y(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:Y(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...De(e,(()=>n((e=>({...e}))))),formState:r});const a=t.current.control;return a._options=e,T({subject:a._subjects.state,next:e=>{C(e,a._proxyFormState,a._updateFormState,!0)&&n({...a._formState})}}),s.default.useEffect((()=>{e.values&&!ve(e.values,a._defaultValues)?a._reset(e.values,a._options.resetOptions):a._resetDefaultValues()}),[e.values,a]),s.default.useEffect((()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()})),t.current.formState=S(r,a),t.current},t.useFormContext=V,t.useFormState=D,t.useWatch=M},35:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(6);const s=()=>Object(n.useKibana)()},38:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(13),s=r(35),a=r(30);const i={},o=(e=[])=>{const{services:t}=Object(s.a)(),{data:r,isLoading:o,isFetching:u}=Object(n.useQuery)({enabled:e.length>0,queryKey:["fields",e.toString()],initialData:i,queryFn:async()=>await t.http.post(a.a.POST_QUERY_SOURCE_FIELDS,{body:JSON.stringify({indices:e})})});return{fields:r,isLoading:o||u}}},39:function(e,t,r){"use strict";r.d(t,"c",(function(){return n})),r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return a}));let n=function(e){return e.user="human",e.assistant="assistant",e.system="system",e}({}),s=function(e){return e.POST_API_KEY="/internal/search_playground/api_key",e.POST_CHAT_MESSAGE="/internal/search_playground/chat",e.POST_QUERY_SOURCE_FIELDS="/internal/search_playground/query_source_fields",e.GET_INDICES="/internal/search_playground/indices",e}({}),a=function(e){return e.openai="openai",e.openai_azure="openai_azure",e.bedrock="bedrock",e.gemini="gemini",e}({})},40:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"c",(function(){return u})),r.d(t,"d",(function(){return l})),r.d(t,"b",(function(){return d}));const n=["vector.tokens"],s=["title","body_content","page_content_text","text","content","text_field"],a=["content_vector.tokens"],i=["body_content","content","text","page_content_text","text_field"];function o(e,t,r,n={rrf:!0}){const s=Object.keys(r),a=Object.keys(e).reduce(((n,a)=>{if(!r[a])return n;const i=e[a],o=r[a],u=i.map((e=>{const r=o.semantic_fields.find((t=>t.field===e)),n=t[a].includes(e);if(!r||!n)return r?{semantic:{field:r.field,query:"{query}"}}:null;if("dense_vector"===r.embeddingType){const e=r.indices.length<s.length?{filter:{terms:{_index:r.indices}}}:{};return{nested:{path:`${r.field}.inference.chunks`,query:{knn:{field:`${r.field}.inference.chunks.embeddings`,...e,query_vector_builder:{text_embedding:{model_id:r.inferenceId,model_text:"{query}"}}}},inner_hits:{size:2,name:`${a}.${r.field}`,_source:[`${r.field}.inference.chunks.text`]}}}}return"sparse_vector"===r.embeddingType?{nested:{path:`${r.field}.inference.chunks`,query:{sparse_vector:{inference_id:r.inferenceId,field:`${r.field}.inference.chunks.embeddings`,query:"{query}"}},inner_hits:{size:2,name:`${a}.${r.field}`,_source:[`${r.field}.inference.chunks.text`]}}}:void 0})),l=i.map((e=>{const t=o.elser_query_fields.find((t=>t.field===e));return t&&t.sparse_vector?n.queryMatches.find((r=>{var n,s;return(null==r||null===(n=r.sparse_vector)||void 0===n?void 0:n.field)===e&&(null==r||null===(s=r.sparse_vector)||void 0===s?void 0:s.inference_id)===(null==t?void 0:t.model_id)}))?null:{sparse_vector:{field:t.field,inference_id:t.model_id,query:"{query}"}}:t&&!t.sparse_vector?n.queryMatches.find((e=>{var r,n;return(null==e||null===(r=e.text_expansion)||void 0===r?void 0:r[t.field])&&(null==e||null===(n=e.sparse_vector)||void 0===n?void 0:n.inference_id)===(null==t?void 0:t.model_id)}))?null:{text_expansion:{[t.field]:{model_id:t.model_id,model_text:"{query}"}}}:null}))||[],d=i.filter((e=>o.bm25_query_fields.includes(e))),c=d.length>0?{multi_match:{query:"{query}",fields:d}}:null,f=i.map((e=>{const t=o.dense_vector_query_fields.find((t=>t.field===e));if(t){const e=t.indices.length<s.length?{filter:{terms:{_index:t.indices}}}:{};return{knn:{field:t.field,num_candidates:100,...e,query_vector_builder:{text_embedding:{model_id:t.model_id,model_text:"{query}"}}}}}return null})).filter((e=>!!e)),m=[...l,...u,c].filter((e=>!!e));return{queryMatches:[...n.queryMatches,...m],knnMatches:[...n.knnMatches,...f]}}),{queryMatches:[],knnMatches:[]});if(1===a.queryMatches.length&&0===a.knnMatches.length)return{retriever:{standard:{query:a.queryMatches[0]}}};if(0===a.queryMatches.length&&1===a.knnMatches.length)return{retriever:{standard:{query:a.knnMatches[0]}}};const i=[...a.queryMatches,...a.knnMatches];return 0===i.length?{retriever:{standard:{query:{match_all:{}}}}}:n.rrf?{retriever:{rrf:{retrievers:i.map((e=>({standard:{query:e}})))}}}:{retriever:{standard:{query:{bool:{should:i,minimum_should_match:1}}}}}}function u(e){return Object.keys(e).reduce(((t,r)=>{const n=e[r];if(n.semantic_fields.length>0)return{...t,[r]:n.semantic_fields.map((e=>e.field))};if(0===n.source_fields.length)return{...t,[r]:[]};const s=n.source_fields.filter((e=>i.includes(e))),a=0===s.length?[n.source_fields[0]]:s;return{...t,[r]:a}}),{})}const l=e=>{const t=u(e),r=Object.keys(t).reduce(((e,r)=>(0===t[r].length&&e.push(r),e)),[]);return 0===r.length?void 0:r.join()};function d(e){return Object.keys(e).reduce(((t,r)=>{const i=e[r],o=[];if(i.semantic_fields.length>0)o.push(...i.semantic_fields.map((e=>e.field)));else if(i.elser_query_fields.length>0){const e=i.elser_query_fields.filter((e=>n.includes(e.field)));e.length>0?o.push(...e.map((e=>e.field))):o.push(...i.elser_query_fields.map((e=>e.field)))}else if(i.dense_vector_query_fields.length>0){const e=i.dense_vector_query_fields.filter((e=>a.includes(e.field)));e.length>0?o.push(...e.map((e=>e.field))):o.push(...i.dense_vector_query_fields.map((e=>e.field)))}else if(i.bm25_query_fields.length>0){const e=i.bm25_query_fields.filter((e=>s.includes(e)));e.length>0?o.push(...e):o.push(i.bm25_query_fields[0])}return{...t,[r]:o}}),{})}},41:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r(5),s=r(20),a=r(1),i=r(39),o=r(44);const u=[{name:"OpenAI GPT-3.5 Turbo",model:"gpt-3.5-turbo",promptTokenLimit:16385,provider:i.b.openai},{name:"OpenAI GPT-4o",model:"gpt-4o",promptTokenLimit:128e3,provider:i.b.openai},{name:"OpenAI GPT-4 Turbo",model:"gpt-4-turbo",promptTokenLimit:128e3,provider:i.b.openai},{name:"Anthropic Claude 3 Haiku",model:"anthropic.claude-3-haiku-20240307-v1:0",promptTokenLimit:2e5,provider:i.b.bedrock},{name:"Anthropic Claude 3.5 Sonnet",model:"anthropic.claude-3-5-sonnet-20240620-v1:0",promptTokenLimit:2e5,provider:i.b.bedrock},{name:"Google Gemini 1.5 Pro",model:"gemini-1.5-pro-001",promptTokenLimit:2097152,provider:i.b.gemini},{name:"Google Gemini 1.5 Flash",model:"gemini-1.5-flash-001",promptTokenLimit:2097152,provider:i.b.gemini}],l={[i.b.openai]:{icon:s.OpenAILogo,getModels:(e,t)=>u.filter((({provider:e})=>e===i.b.openai)).map((r=>({label:`${r.name} ${t?`(${e})`:""}`,value:r.model,promptTokenLimit:r.promptTokenLimit})))},[i.b.openai_azure]:{icon:s.OpenAILogo,getModels:(e,t)=>[{label:n.i18n.translate("xpack.searchPlayground.openAIAzureModel",{defaultMessage:"Azure OpenAI {name}",values:{name:t?`(${e})`:""}})}]},[i.b.bedrock]:{icon:s.BedrockLogo,getModels:()=>u.filter((({provider:e})=>e===i.b.bedrock)).map((e=>({label:e.name,value:e.model,promptTokenLimit:e.promptTokenLimit})))},[i.b.gemini]:{icon:s.GeminiLogo,getModels:()=>u.filter((({provider:e})=>e===i.b.gemini)).map((e=>({label:e.name,value:e.model,promptTokenLimit:e.promptTokenLimit})))}},d=()=>{const{data:e}=Object(o.a)(),t=Object(a.useMemo)((()=>null==e?void 0:e.reduce(((e,t)=>({...e,[t.type]:(e[t.type]||0)+1})),{})),[e]);return Object(a.useMemo)((()=>(null==e?void 0:e.reduce(((e,r)=>{const n=l[r.type];if(!n)return e;const s=Number(null==t?void 0:t[r.type])>1;return[...e,...n.getModels(r.name,!1).map((({label:e,value:t,promptTokenLimit:a})=>({id:(null==r?void 0:r.id)+e,name:e,value:t,connectorType:r.type,connectorName:r.name,showConnectorName:s,icon:n.icon,disabled:!r,connectorId:r.id,promptTokenLimit:a})))]}),[]))||[]),[e,t])}},44:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(13),s=r(29),a=r(5),i=r(20),o=r(35),u=r(30);const l=["search-playground, load-connectors"],d=[{actionId:i.OPENAI_CONNECTOR_ID,actionProvider:i.OpenAiProviderType.AzureAi,match:e=>{var t;return e.actionTypeId===i.OPENAI_CONNECTOR_ID&&(null==e||null===(t=e.config)||void 0===t?void 0:t.apiProvider)===i.OpenAiProviderType.AzureAi},transform:e=>({...e,title:a.i18n.translate("xpack.searchPlayground.openAIAzureConnectorTitle",{defaultMessage:"OpenAI Azure"}),type:u.c.openai_azure})},{actionId:i.OPENAI_CONNECTOR_ID,match:e=>{var t;return e.actionTypeId===i.OPENAI_CONNECTOR_ID&&((null==e||null===(t=e.config)||void 0===t?void 0:t.apiProvider)===i.OpenAiProviderType.OpenAi||!!e.isPreconfigured)},transform:e=>({...e,title:a.i18n.translate("xpack.searchPlayground.openAIConnectorTitle",{defaultMessage:"OpenAI"}),type:u.c.openai})},{actionId:i.BEDROCK_CONNECTOR_ID,match:e=>e.actionTypeId===i.BEDROCK_CONNECTOR_ID,transform:e=>({...e,title:a.i18n.translate("xpack.searchPlayground.bedrockConnectorTitle",{defaultMessage:"Bedrock"}),type:u.c.bedrock})},{actionId:i.GEMINI_CONNECTOR_ID,match:e=>e.actionTypeId===i.GEMINI_CONNECTOR_ID,transform:e=>({...e,title:a.i18n.translate("xpack.searchPlayground.geminiConnectorTitle",{defaultMessage:"Gemini"}),type:u.c.gemini})}],c=()=>{const{services:{http:e,notifications:t}}=Object(o.a)();return Object(n.useQuery)(l,(async()=>(await Object(s.loadAllActions)({http:e})).reduce(((e,t)=>{const{transform:r}=d.find((({match:e})=>e(t)))||{};return!t.isMissingSecrets&&r?[...e,r(t)]:e}),[])),{retry:!1,keepPreviousData:!0,onError:e=>{var r;"AbortError"!==e.name&&(null==t||null===(r=t.toasts)||void 0===r||r.addError(e.body&&e.body.message?new Error(e.body.message):e,{title:a.i18n.translate("xpack.searchPlayground.loadConnectorsError",{defaultMessage:"Error loading connectors. Please check your configuration and try again."})}))}})}}}]);