(window.webpackJsonp_kbnSharedDeps_=window.webpackJsonp_kbnSharedDeps_||[]).push([[4],{390:function(t,e,s){"use strict";s.r(e),s.d(e,"ESQLTokensProvider",(function(){return h}));var n=s(19),o=s(221),r=s(182),i=s(6),c=s.n(i),l=s(161);class u{constructor(t,e,s){c()(this,"scopes",void 0),this.startIndex=e,this.stopIndex=s,this.scopes=t.toLowerCase()+l.c}}class a{constructor(){c()(this,"lastLine",0)}setLineNumber(t){this.lastLine=t}getLineNumber(){return this.lastLine}clone(){const t=new a;return t.setLineNumber(this.lastLine),t}equals(t){return!1}}class d{constructor(t,e){c()(this,"endState",void 0),c()(this,"tokens",void 0),this.endState=new a,this.endState.setLineNumber(e),this.tokens=t}}function p(t){return null!=t}class h{getInitialState(){return new a}tokenize(t,e){const s=[],i=new o.a,c=e.getLineNumber()&&"|"===t.trimStart()[0]?t.trimStart().substring(1):t,a=n.c.fromString(c),h=Object(r.b)(a,i);let f=!1;const w=[];do{let e;try{e=h.nextToken()}catch(t){e=null}if(null==e)f=!0;else if(-1===e.type)f=!0;else{const s=h.symbolicNames[e.type];if(s){const n=c===t?0:t.length-c.length,o=new u(s,e.start+n,e.stop+n);w.push(o)}}}while(!f);for(const t of s)w.push(new u("error"+l.c,t));w.sort(((t,e)=>t.startIndex-e.startIndex));const b=function(t){const e=t.filter((({scopes:t})=>t!=="expr_ws"+l.c)),s=e.map(((t,e)=>t.scopes==="unquoted_identifier"+l.c?e:void 0)).filter(p);for(const t of s){var n;(null===(n=e[t+1])||void 0===n?void 0:n.scopes)==="lp"+l.c&&(e[t].scopes="functions"+l.c)}return[...t]}(w);return function(t){var e;const s=t.findIndex((t=>t.scopes==="nulls"+l.c));s>-1&&["first"+l.c,"last"+l.c].includes(null===(e=t[s+2])||void 0===e?void 0:e.scopes)&&(t[s].scopes="nulls_order"+l.c,t.splice(s+1,2))}(b),new d(b,e.getLineNumber()+1)}}}}]);