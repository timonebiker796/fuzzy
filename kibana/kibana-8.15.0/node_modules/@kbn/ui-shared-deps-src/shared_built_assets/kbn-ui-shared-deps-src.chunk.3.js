(window.webpackJsonp_kbnSharedDeps_=window.webpackJsonp_kbnSharedDeps_||[]).push([[3],{388:function(e,n,t){"use strict";let r;function o(){if(!r)throw new Error("Monaco is undefined. Call setMonaco(monaco) first.");return r}function i(e){const{MarkerSeverity:n}=o();return e===n.Error?1:e===n.Warning?2:e===n.Info?3:4}function a(e){const{MarkerSeverity:n}=o();return 1===e?n.Error:2===e?n.Warning:3===e?n.Info:n.Hint}function s(e){return e}function l(e){return e}function u(e){return{start:{line:e.startLineNumber-1,character:e.startColumn-1},end:{line:e.endLineNumber-1,character:e.endColumn-1}}}function c(e){return{startLineNumber:e.start.line+1,startColumn:e.start.character+1,endLineNumber:e.end.line+1,endColumn:e.end.character+1}}function d(e){return{location:{range:u(e),uri:String(e.resource)},message:e.message}}function g(e){const{Uri:n}=o();return{...c(e.location.range),message:e.message,resource:n.parse(e.location.uri)}}function m(e){const n={message:e.message,range:u(e),severity:i(e.severity)};return"string"==typeof e.code?n.code=e.code:null!=e.code&&(n.code=e.code.value,n.codeDescription={href:String(e.code.target)}),e.relatedInformation&&(n.relatedInformation=e.relatedInformation.map(d)),e.tags&&(n.tags=e.tags.map(s)),null!=e.source&&(n.source=e.source),n}function p(e,n){var t;const{MarkerSeverity:r,Uri:i}=o(),s={...c(e.range),message:e.message,severity:e.severity?a(e.severity):null!==(t=null==n?void 0:n.defaultSeverity)&&void 0!==t?t:r.Error};return null!=e.code&&(s.code=null==e.codeDescription?String(e.code):{value:String(e.code),target:i.parse(e.codeDescription.href)}),e.relatedInformation&&(s.relatedInformation=e.relatedInformation.map(g)),e.tags&&(s.tags=e.tags.map(l)),null!=e.source&&(s.source=e.source),s}function f(e){return{range:c(e.range),text:e.newText}}function v(e){const{Uri:n}=o(),t="create"===e.kind?{newResource:n.parse(e.uri)}:"delete"===e.kind?{oldResource:n.parse(e.uri)}:{oldResource:n.parse(e.oldUri),newResource:n.parse(e.newUri)};return e.options&&(t.options=function(e){const n={};return null!=e.ignoreIfExists&&(n.ignoreIfExists=e.ignoreIfExists),null!=e.ignoreIfNotExists&&(n.ignoreIfNotExists=e.ignoreIfNotExists),null!=e.overwrite&&(n.overwrite=e.overwrite),null!=e.recursive&&(n.recursive=e.recursive),n}(e.options)),t}function y(e,n,t){const{Uri:r}=o();return{resource:r.parse(n),versionId:t,textEdit:f(e)}}function w(e){const{CompletionItemKind:n}=o().languages;return 1===e?n.Text:2===e?n.Method:3===e?n.Function:4===e?n.Constructor:5===e?n.Field:6===e?n.Variable:7===e?n.Class:8===e?n.Interface:9===e?n.Module:10===e?n.Property:11===e?n.Unit:12===e?n.Value:13===e?n.Enum:14===e?n.Keyword:15===e?n.Snippet:16===e?n.Color:17===e?n.File:18===e?n.Reference:19===e?n.Folder:20===e?n.EnumMember:21===e?n.Constant:22===e?n.Struct:23===e?n.Event:24===e?n.Operator:n.TypeParameter}function k(e){return e}function x(e){return{value:e.value}}function C(e){return{range:c(e.range),text:e.newText}}function b(e){const{SymbolKind:n}=o().languages;return 1===e?n.File:2===e?n.Module:3===e?n.Namespace:4===e?n.Package:5===e?n.Class:6===e?n.Method:7===e?n.Property:8===e?n.Field:9===e?n.Constructor:10===e?n.Enum:11===e?n.Interface:12===e?n.Function:13===e?n.Variable:14===e?n.Constant:15===e?n.String:16===e?n.Number:17===e?n.Boolean:18===e?n.Array:19===e?n.Object:20===e?n.Key:21===e?n.Null:22===e?n.EnumMember:23===e?n.Struct:24===e?n.Event:25===e?n.Operator:n.TypeParameter}function h(e){return e}function S(e){var n,t,r;const o={detail:null!==(n=e.detail)&&void 0!==n?n:"",kind:b(e.kind),name:e.name,range:c(e.range),selectionRange:c(e.selectionRange),tags:null!==(r=null===(t=e.tags)||void 0===t?void 0:t.map(h))&&void 0!==r?r:[]};return e.children&&(o.children=e.children.map(S)),o}function I(e){const n={start:e.startLine+1,end:e.endLine+1};return null!=e.kind&&(n.kind={value:e.kind}),n}function D(e){return"string"==typeof e?{value:e}:{value:`\`\`\`${e.language}\n${e.value}\n\`\`\``}}function T(e){return{character:e.column-1,line:e.lineNumber-1}}function M(e){const{Uri:n}=o(),t={range:c(e.range)};return null!=e.tooltip&&(t.tooltip=e.tooltip),null!=e.target&&(t.url=n.parse(e.target)),t}function R(e){const{Uri:n}=o(),t={range:c(e.targetRange),targetSelectionRange:c(e.targetSelectionRange),uri:n.parse(e.targetUri)};return e.originSelectionRange&&(t.originSelectionRange=c(e.originSelectionRange)),t}function E(e,n,t){const r=new Map,o=e=>{if("*"===n)return!0;const t=e.getLanguageId();return Array.isArray(n)?n.includes(t):n===t},i=async n=>{const r=await t.provideMarkerData(n);!n.isDisposed()&&o(n)&&e.editor.setModelMarkers(n,t.owner,null!=r?r:[])},a=e=>{if(!o(e))return;let n;r.set(String(e.uri),e.onDidChangeContent((()=>{clearTimeout(n),n=setTimeout((()=>{i(e)}),500)}))),i(e)},s=n=>{e.editor.setModelMarkers(n,t.owner,[]);const o=String(n.uri),i=r.get(o);i&&(i.dispose(),r.delete(o))},l=[e.editor.onDidCreateModel(a),e.editor.onWillDisposeModel((e=>{var n;s(e),null===(n=t.doReset)||void 0===n||n.call(t,e)})),e.editor.onDidChangeModelLanguage((e=>{var n;s(e.model),a(e.model),null===(n=t.doReset)||void 0===n||n.call(t,e.model)}))];for(const n of e.editor.getModels())a(n);return{dispose(){for(const n of r.keys())s(e.editor.getModel(e.Uri.parse(n)));for(;l.length;)l.pop().dispose()}}}function P(e){return{owner:"yaml",async provideMarkerData(n){const t=await e(n.uri),r=await t.doValidation(String(n.uri));return null==r?void 0:r.map((e=>p(e)))},async doReset(n){const t=await e(n.uri);await t.resetSchema(String(n.uri))}}}function W(e){return{triggerCharacters:[" ",":"],async provideCompletionItems(n,t){const r=n.uri,i=n.getWordUntilPosition(t),a=await e(r),s=await a.doComplete(String(r),T(t));if(s)return l=s,u={range:{startLineNumber:t.lineNumber,startColumn:i.startColumn,endLineNumber:t.lineNumber,endColumn:i.endColumn}},{incomplete:Boolean(l.isIncomplete),suggestions:l.items.map((e=>function(e,n){var t,r,i,a,s;const{CompletionItemInsertTextRule:l,CompletionItemKind:u}=o().languages,d=null!==(t=n.itemDefaults)&&void 0!==t?t:{},g=null!==(r=e.textEdit)&&void 0!==r?r:d.editRange,m=null!==(i=e.commitCharacters)&&void 0!==i?i:d.commitCharacters,p=null!==(a=e.insertTextFormat)&&void 0!==a?a:d.insertTextFormat,f=null!==(s=e.insertTextMode)&&void 0!==s?s:d.insertTextMode;let v,y=e.insertText;var b;g?(v="range"in(b=g)?c(b.range):"insert"in b&&"replace"in b?{insert:c(b.insert),replace:c(b.replace)}:c(b),"newText"in g&&(y=g.newText)):v={...n.range};const h={insertText:null!=y?y:"",kind:null==e.kind?u.Text:w(e.kind),label:e.label,range:v};return e.additionalTextEdits&&(h.additionalTextEdits=e.additionalTextEdits.map(C)),e.command&&(h.command=function(e){const n={title:e.title,id:e.command};return e.arguments&&(n.arguments=e.arguments),n}(e.command)),m&&(h.commitCharacters=m),null!=e.detail&&(h.detail=e.detail),"string"==typeof e.documentation?h.documentation=e.documentation:e.documentation&&(h.documentation=x(e.documentation)),null!=e.filterText&&(h.filterText=e.filterText),2===p?h.insertTextRules=l.InsertAsSnippet:2===f&&(h.insertTextRules=l.KeepWhitespace),null!=e.preselect&&(h.preselect=e.preselect),null!=e.sortText&&(h.sortText=e.sortText),e.tags&&(h.tags=e.tags.map(k)),h}(e,{range:u.range,itemDefaults:l.itemDefaults})))};var l,u}}}function L(e){return{async provideHover(n,t){const r=n.uri,o=await e(r),i=await o.doHover(String(r),T(t));if(i)return function(e){const n={contents:(t=e.contents,"string"==typeof t||"language"in t?[D(t)]:Array.isArray(t)?t.map(D):[x(t)])};var t;return e.range&&(n.range=c(e.range)),n}(i)}}}function F(e){return{async provideDocumentSymbols(n){const t=n.uri,r=await e(t),o=await r.findDocumentSymbols(String(t));return null==o?void 0:o.map(S)}}}function N(e){return{async provideDocumentFormattingEdits(n){const t=n.uri,r=await e(t),o=await r.format(String(t));return null==o?void 0:o.map(f)}}}function A(e){return{async provideLinks(n){const t=n.uri,r=await e(t),o=await r.findLinks(String(t));if(o)return{links:o.map(M)}}}}function U(e){return{async provideCodeActions(n,t,r){const o=n.uri,i=await e(o),a=await i.getCodeAction(String(o),u(t),function(e){const n={diagnostics:e.markers.map(m),triggerKind:e.trigger};return null!=e.only&&(n.only=[e.only]),n}(r));if(a)return{actions:a.map((e=>function(e,n){const t={title:e.title,isPreferred:e.isPreferred};return e.diagnostics&&(t.diagnostics=e.diagnostics.map((e=>p(e,n)))),e.disabled&&(t.disabled=e.disabled.reason),e.edit&&(t.edit=function(e){var n;const t=[];if(e.changes)for(const[n,r]of Object.entries(e.changes))for(const e of r)t.push(y(e,n));if(e.documentChanges)for(const r of e.documentChanges)if("textDocument"in r)for(const e of r.edits)t.push(y(e,r.textDocument.uri,null!==(n=r.textDocument.version)&&void 0!==n?n:void 0));else t.push(v(r));return{edits:t}}(e.edit)),null!=e.isPreferred&&(t.isPreferred=e.isPreferred),e.kind&&(t.kind=e.kind),t}(e))),dispose(){}}}}}function K(e){return{async provideFoldingRanges(n){const t=n.uri,r=await e(t),o=await r.getFoldingRanges(String(t));return null==o?void 0:o.map(I)}}}function O(e,n){const t={completion:!0,customTags:[],enableSchemaRequest:!1,format:!0,isKubernetes:!1,hover:!0,schemas:[],validate:!0,yamlVersion:"1.2",...n};!function(e){r=e}(e),e.languages.register({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml"]});const o=function(e,n){let t,{createData:r,interval:o=3e4,label:i,moduleId:a,stopWhenIdleFor:s=12e4}=n,l=0,u=!1;const c=()=>{t&&(t.dispose(),t=void 0)},d=setInterval((()=>{t&&Date.now()-l>s&&c()}),o);return{dispose(){u=!0,clearInterval(d),c()},getWorker(...n){if(u)throw new Error("Worker manager has been disposed");return l=Date.now(),t||(t=e.editor.createWebWorker({createData:r,label:i,moduleId:a})),t.withSyncedResources(n)},updateCreateData(e){r=e,c()}}}(e,{label:"yaml",moduleId:"monaco-yaml/yaml.worker",createData:t});let i=E(e,"yaml",P(o.getWorker));const a=[o,e.languages.registerCompletionItemProvider("yaml",W(o.getWorker)),e.languages.registerHoverProvider("yaml",L(o.getWorker)),e.languages.registerDefinitionProvider("yaml",(s=o.getWorker,{async provideDefinition(e,n){const t=e.uri,r=await s(t),o=await r.doDefinition(String(t),T(n));return null==o?void 0:o.map(R)}})),e.languages.registerDocumentSymbolProvider("yaml",F(o.getWorker)),e.languages.registerDocumentFormattingEditProvider("yaml",N(o.getWorker)),e.languages.registerLinkProvider("yaml",A(o.getWorker)),e.languages.registerCodeActionProvider("yaml",U(o.getWorker)),e.languages.registerFoldingRangeProvider("yaml",K(o.getWorker)),e.languages.setLanguageConfiguration("yaml",{comments:{lineComment:"#"},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],onEnterRules:[{beforeText:/:\s*$/,action:{indentAction:e.languages.IndentAction.Indent}}]})];var s;return{dispose(){for(const e of a)e.dispose()},update(n){o.updateCreateData(Object.assign(t,n)),i.dispose(),i=E(e,"yaml",P(o.getWorker))}}}t.r(n),t.d(n,"configureMonacoYaml",(function(){return O}))}}]);