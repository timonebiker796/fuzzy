!function(e){function t(t){for(var n,r,a=t[0],o=t[1],s=0,u=[];s<a.length;s++)r=a[s],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&u.push(i[r][0]),i[r]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);for(l&&l(t);u.length;)u.shift()()}var n={},i={0:0};function r(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.e=function(e){var t=[],n=i[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,r){n=i[e]=[t,r]}));t.push(n[2]=a);var o,s=document.createElement("script");s.charset="utf-8",s.timeout=120,r.nc&&s.setAttribute("nonce",r.nc),s.src=function(e){return r.p+"links.chunk."+e+".js"}(e);var l=new Error;o=function(t){s.onerror=s.onload=null,clearTimeout(u);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",l.name="ChunkLoadError",l.type=r,l.request=a,n[1](l)}i[e]=void 0}};var u=setTimeout((function(){o({type:"timeout",target:s})}),12e4);s.onerror=s.onload=o,document.head.appendChild(s)}return Promise.all(t)},r.m=e,r.c=n,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r.oe=function(e){throw console.error(e),e};var a=window.links_bundle_jsonpfunction=window.links_bundle_jsonpfunction||[],o=a.push.bind(a);a.push=t,a=a.slice();for(var s=0;s<a.length;s++)t(a[s]);var l=o;r(r.s=41)}([function(e,t){e.exports=__kbnSharedDeps__.KbnI18n},function(e,t){e.exports=__kbnSharedDeps__.React},function(e,t,n){"use strict";var i=n(9);n.d(t,"a",(function(){return i.a})),n.d(t,"b",(function(){return i.b})),n.d(t,"c",(function(){return i.c})),n.d(t,"d",(function(){return i.d}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"e",(function(){return b}));var i=n(7),r=n(2);let a,o,s,l,u,d;const c=new i.BehaviorSubject(!1),p=()=>c.value?Promise.resolve():new Promise((e=>{const t=c.subscribe((n=>{n&&(t.unsubscribe(),e())}))})),b=(e,t)=>{a=e,o=t.dashboard,s=t.embeddable,l=t.presentationUtil,u=t.contentManagement,t.usageCollection&&(d=t.usageCollection.reportUiCounter.bind(t.usageCollection,r.c)),c.next(!0)}},function(e,t,n){e.exports=n(33)(2)},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return a})),n(9);const i="dashboardLink",r="externalLink",a="horizontal",o="vertical"},function(e,t){e.exports=__kbnSharedDeps__.EmotionReact},function(e,t){e.exports=__kbnSharedDeps__.Rxjs},function(e,t){e.exports=__kbnSharedDeps__.ElasticEui},function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var i=n(0);const r=1,a="links",o="link",s=i.i18n.translate("links.visTypeAlias.title",{defaultMessage:"Links"})},function(e,t){e.exports=__kbnSharedDeps__.Lodash},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var i=n(10),r=n(5);function a({attributes:e,references:t=[]}){if(!e.links)return{attributes:e,references:t};const{links:n}=e,a=[],o=n.map((e=>{if(e.type===r.a&&e.destination){const t=`link_${e.id}_dashboard`;return a.push({name:t,type:"dashboard",id:e.destination}),{...Object(i.omit)(e,"destination"),destinationRefName:t}}return e}));return{attributes:{...e,links:o},references:t.concat(a)}}function o({attributes:e,references:t}){if(!e.links)return{attributes:e};const{links:n}=e;return n.forEach((e=>{if(e.type===r.a&&e.destinationRefName){const n=function(e,t){const n=t.find((({name:t})=>t===e));if(!n)throw new Error(`Could not find reference "${e}"`);return n}(e.destinationRefName,t);e.destination=n.id,delete e.destinationRefName}})),{attributes:{...e,links:n}}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var i=n(2),r=n(3);const a={get:async e=>r.a.client.get({contentTypeId:i.c,id:e}),create:async({data:e,options:t})=>await r.a.client.create({contentTypeId:i.c,data:e,options:t}),update:async({id:e,data:t,options:n})=>await r.a.client.update({contentTypeId:i.c,id:e,data:t,options:n}),delete:async e=>{await r.a.client.delete({contentTypeId:i.c,id:e})},search:async(e={},t)=>r.a.client.search({contentTypeId:i.c,query:e,options:t})};function o(){return a}},function(e,t){e.exports=__kbnSharedDeps__.TsLib},function(e,t,n){n.r(t);var i=__kbnBundles__.get("plugin/embeddable/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))},function(e,t,n){n.r(t);var i=__kbnBundles__.get("plugin/dashboard/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(0);const r={getDescription:()=>i.i18n.translate("links.description",{defaultMessage:"Use links to navigate to commonly used dashboards and websites."}),editor:{getAddButtonLabel:()=>i.i18n.translate("links.editor.addButtonLabel",{defaultMessage:"Add link"}),getUpdateButtonLabel:()=>i.i18n.translate("links.editor.updateButtonLabel",{defaultMessage:"Update link"}),getEditLinkTitle:e=>i.i18n.translate("links.editor.editLinkTitle.hasLabel",{defaultMessage:"Edit {label} link",values:{label:null!=e?e:""}}),getDeleteLinkTitle:e=>i.i18n.translate("links.editor.deleteLinkTitle",{defaultMessage:"Delete {label} link",values:{label:null!=e?e:""}}),getCancelButtonLabel:()=>i.i18n.translate("links.editor.cancelButtonLabel",{defaultMessage:"Close"}),panelEditor:{getLinksTitle:()=>i.i18n.translate("links.panelEditor.linksTitle",{defaultMessage:"Links"}),getEmptyLinksMessage:()=>i.i18n.translate("links.panelEditor.emptyLinksMessage",{defaultMessage:"You haven't added any links yet."}),getEmptyLinksTooltip:()=>i.i18n.translate("links.panelEditor.emptyLinksTooltip",{defaultMessage:"Add one or more links."}),getCreateFlyoutTitle:()=>i.i18n.translate("links.panelEditor.createFlyoutTitle",{defaultMessage:"Create links panel"}),getEditFlyoutTitle:()=>i.i18n.translate("links.panelEditor.editFlyoutTitle",{defaultMessage:"Edit links panel"}),getSaveButtonLabel:()=>i.i18n.translate("links.panelEditor.saveButtonLabel",{defaultMessage:"Save"}),getSaveToLibrarySwitchLabel:()=>i.i18n.translate("links.panelEditor.saveToLibrarySwitchLabel",{defaultMessage:"Save to library"}),getSaveToLibrarySwitchTooltip:()=>i.i18n.translate("links.panelEditor.saveToLibrarySwitchTooltip",{defaultMessage:"Save this links panel to the library so you can easily add it to other dashboards."}),getTitleInputLabel:()=>i.i18n.translate("links.panelEditor.titleInputLabel",{defaultMessage:"Title"}),getBrokenDashboardLinkAriaLabel:()=>i.i18n.translate("links.panelEditor.brokenDashboardLinkAriaLabel",{defaultMessage:"Broken dashboard link"}),getDragHandleAriaLabel:()=>i.i18n.translate("links.panelEditor.dragHandleAriaLabel",{defaultMessage:"Link drag handle"}),getLayoutSettingsTitle:()=>i.i18n.translate("links.panelEditor.layoutSettingsTitle",{defaultMessage:"Layout"}),getLayoutSettingsLegend:()=>i.i18n.translate("links.panelEditor.layoutSettingsLegend",{defaultMessage:"Choose how to display your links."}),getHorizontalLayoutLabel:()=>i.i18n.translate("links.editor.horizontalLayout",{defaultMessage:"Horizontal"}),getVerticalLayoutLabel:()=>i.i18n.translate("links.editor.verticalLayout",{defaultMessage:"Vertical"}),getErrorDuringSaveToastTitle:()=>i.i18n.translate("links.editor.unableToSaveToastTitle",{defaultMessage:"Error saving Link panel"})},linkEditor:{getGoBackAriaLabel:()=>i.i18n.translate("links.linkEditor.goBackAriaLabel",{defaultMessage:"Go back to panel editor."}),getLinkTypePickerLabel:()=>i.i18n.translate("links.linkEditor.linkTypeFormLabel",{defaultMessage:"Go to"}),getLinkDestinationLabel:()=>i.i18n.translate("links.linkEditor.linkDestinationLabel",{defaultMessage:"Choose destination"}),getLinkTextLabel:()=>i.i18n.translate("links.linkEditor.linkTextLabel",{defaultMessage:"Text"}),getLinkTextPlaceholder:()=>i.i18n.translate("links.linkEditor.linkTextPlaceholder",{defaultMessage:"Enter text for link"}),getLinkOptionsLabel:()=>i.i18n.translate("links.linkEditor.linkOptionsLabel",{defaultMessage:"Options"})}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(0);const r={getType:()=>i.i18n.translate("links.dashboardLink.type",{defaultMessage:"Dashboard link"}),getDisplayName:()=>i.i18n.translate("links.dashboardLink.displayName",{defaultMessage:"Dashboard"}),getDescription:()=>i.i18n.translate("links.dashboardLink.description",{defaultMessage:"Go to dashboard"}),getDashboardPickerPlaceholder:()=>i.i18n.translate("links.dashboardLink.editor.dashboardComboBoxPlaceholder",{defaultMessage:"Search for a dashboard"}),getDashboardPickerAriaLabel:()=>i.i18n.translate("links.dashboardLink.editor.dashboardPickerAriaLabel",{defaultMessage:"Pick a destination dashboard"}),getCurrentDashboardLabel:()=>i.i18n.translate("links.dashboardLink.editor.currentDashboardLabel",{defaultMessage:"Current"}),getLoadingDashboardLabel:()=>i.i18n.translate("links.dashboardLink.editor.loadingDashboardLabel",{defaultMessage:"Loading..."}),getDashboardErrorLabel:()=>i.i18n.translate("links.dashboardLink.editor.dashboardErrorLabel",{defaultMessage:"Error fetching dashboard"})}},function(e,t,n){n.r(t);var i=__kbnBundles__.get("plugin/uiActionsEnhanced/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))},function(e,t){e.exports=__kbnSharedDeps__.KbnAnalytics},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(0);const r={getType:()=>i.i18n.translate("links.externalLink.type",{defaultMessage:"External URL"}),getDisplayName:()=>i.i18n.translate("links.externalLink.displayName",{defaultMessage:"URL"}),getDescription:()=>i.i18n.translate("links.externalLink.description",{defaultMessage:"Go to URL"}),getPlaceholder:()=>i.i18n.translate("links.externalLink.editor.placeholder",{defaultMessage:"Enter external URL"}),getUrlFormatError:()=>i.i18n.translate("links.externalLink.editor.urlFormatError",{defaultMessage:"Invalid format. Example: {exampleUrl}",values:{exampleUrl:"https://elastic.co/"}}),getDisallowedUrlError:()=>i.i18n.translate("links.externalLink.editor.disallowedUrlError",{defaultMessage:'This URL is not allowed by your administrator. Refer to "externalUrl.policy" configuration.'})}},function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var i,r,a;if(Array.isArray(t)){if((i=t.length)!=n.length)return!1;for(r=i;0!=r--;)if(!e(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((i=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(r=i;0!=r--;)if(!Object.prototype.hasOwnProperty.call(n,a[r]))return!1;for(r=i;0!=r--;){var o=a[r];if(!e(t[o],n[o]))return!1}return!0}return t!=t&&n!=n}},function(e,t,n){e.exports=n(33)(4)},function(e,t){e.exports=__kbnSharedDeps__.ReactDom},function(e,t,n){"use strict";var i,r=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function o(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function s(e,t){for(var n={},i=[],r=0;r<e.length;r++){var s=e[r],l=t.base?s[0]+t.base:s[0],u=n[l]||0,d="".concat(l," ").concat(u);n[l]=u+1;var c=o(d),p={css:s[1],media:s[2],sourceMap:s[3]};-1!==c?(a[c].references++,a[c].updater(p)):a.push({identifier:d,updater:h(p,t),references:1}),i.push(d)}return i}function l(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0===i.nonce){var a=n.nc;a&&(i.nonce=a)}if(Object.keys(i).forEach((function(e){t.setAttribute(e,i[e])})),"function"==typeof e.insert)e.insert(t);else{var o=r(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var u,d=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function c(e,t,n,i){var r=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(e.styleSheet)e.styleSheet.cssText=d(t,r);else{var a=document.createTextNode(r),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}function p(e,t,n){var i=n.css,r=n.media,a=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var b=null,f=0;function h(e,t){var n,i,r;if(t.singleton){var a=f++;n=b||(b=l(t)),i=c.bind(null,n,a,!1),r=c.bind(null,n,a,!0)}else n=l(t),i=p.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i));var n=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var i=0;i<n.length;i++){var r=o(n[i]);a[r].references--}for(var l=s(e,t),u=0;u<n.length;u++){var d=o(n[u]);0===a[d].references&&(a[d].updater(),a.splice(d,1))}n=l}}}},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,i,r,a=e[1]||"",o=e[3];if(!o)return a;if(t&&"function"==typeof btoa){var s=(n=o,i=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),"/*# ".concat(r," */")),l=o.sources.map((function(e){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(e," */")}));return[a].concat(l).concat([s]).join("\n")}return[a].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,i){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(i)for(var a=0;a<this.length;a++){var o=this[a][0];null!=o&&(r[o]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);i&&r[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var i=n(10);const r=Object(i.memoize)((e=>(e=>[...e].sort(((e,t)=>e.order-t.order)))(e)),(e=>e)),a=e=>{const t=document.getElementById(e);t&&t.focus()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var i=n(10),r=n(3);const a=async e=>{const t=await r.c.findDashboardsService(),n=await t.findById(e);if("error"===n.status)throw new Error(n.error.message);return n},o=async({search:e="",size:t=10,parentDashboardId:n,selectedDashboardId:o})=>{const s=await r.c.findDashboardsService();let l=(await s.search({search:e,size:t,options:{onlyTitle:!0}})).hits;return Object(i.isEmpty)(e)&&(l=Object(i.filter)(l,(e=>e.id!==n&&e.id!==o)),n&&l.unshift(await a(n)),o&&o!==n)&&await a(o).catch((()=>{}))&&l.unshift(await a(o)),l.map((e=>({id:e.id,attributes:e.attributes})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(13),r=n(1),a=i.__importDefault(n(44));t.default=function(e,t){void 0===t&&(t=[]);var n=a.default(e,t,{loading:!0}),i=n[0],o=n[1];return r.useEffect((function(){o()}),[o]),i}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(18),r=n(3),a=n(20);const o=e=>{try{if(null===r.b.http.externalUrl.validateUrl(e))return{valid:!1,message:a.a.getDisallowedUrlError()};if(!Object(i.urlDrilldownValidateUrl)(e).isValid)throw new Error}catch{return{valid:!1,message:a.a.getUrlFormatError()}}return{valid:!0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(13).__importDefault(n(40));t.default=function(e){i.default((function(){e()}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(0),r=n(12);const a=i.i18n.translate("links.saveDuplicateRejectedDescription",{defaultMessage:"Save with duplicate title confirmation was rejected"}),o=async({id:e,title:t,lastSavedTitle:n,copyOnSave:i,isTitleDuplicateConfirmed:o,onTitleDuplicate:s})=>{if(o)return!0;if(t===n&&!i)return!0;const{hits:l}=await r.b.search({text:`"${t}"`,limit:10},{onlyTitle:!0}),u=l.find((e=>e.attributes.title.toLowerCase()===t.toLowerCase()));return!u||u.id===e||(s(),Promise.reject(new Error(a)))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n(11),r=n(3),a=n(12),o=n(31),s=n(2);let l=null;function u(){return l||(l=r.d.getAttributeService(s.c,{saveMethod:async(e,t)=>{const{attributes:n,references:r}=Object(i.a)({attributes:e,references:e.references}),{item:{id:o}}=await(t?a.b.update({id:t,data:n,options:{references:r}}):a.b.create({data:n,options:{references:r}}));return{id:o}},unwrapMethod:async e=>{const{item:t,meta:{outcome:n,aliasPurpose:r,aliasTargetId:o}}=await a.b.get(e);if(t.error)throw t.error;const{attributes:s}=Object(i.b)(t);return{attributes:s,metaInfo:{sharingSavedObjectProps:{aliasTargetId:o,outcome:n,aliasPurpose:r,sourceId:e}}}},checkForDuplicateTitle:e=>Object(o.a)({title:e.newTitle,copyOnSave:!1,lastSavedTitle:"",isTitleDuplicateConfirmed:e.isTitleDuplicateConfirmed,onTitleDuplicate:e.onTitleDuplicate})}),l)}},function(e,t){e.exports=__kbnSharedDeps_npm__},function(e,t){e.exports=__kbnSharedDeps__.Classnames},function(e,t,n){n.r(t);var i=__kbnBundles__.get("plugin/presentationUtil/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(13),r=n(1),a=i.__importDefault(n(43));t.default=function(e,t){var n=r.useState(t),i=n[0],o=n[1];return a.default((function(){var t=e.subscribe(o);return function(){return t.unsubscribe()}}),[e]),i}},function(e,t,n){"use strict";n.r(t),n.d(t,"LinksContext",(function(){return z})),n.d(t,"LinksEmbeddable",(function(){return links_embeddable_LinksEmbeddable}));var i=n(4),r=n.n(i),a=n(21),o=n.n(a),s=n(1),l=n(23),u=n(7),d=n(14),c=n(2),p=n(8),b=n(38),f=n.n(b),h=n(5),g=n(26),k=n(22),v=n.n(k),y=n(34),m=n.n(y),L=n(28),_=n.n(L),O=n(36),j=n.n(O),E=n(19),w=n(15),x=n(35),D=n(3);const T=()=>{const e=Object(s.useContext)(z);if(null==e)throw new Error("useLinks must be used inside LinksContext.");return e};var M=n(17),C=n(27),S=n(6);const P=({link:e,layout:t,onLoading:n,onRender:i})=>{var r;const a=T(),[o,l]=Object(s.useState)(),u=a.parent,d=j()(u.getInput$()),c=u.select((e=>e.componentState.lastSavedId)),{loading:b,value:f}=_()((async()=>{if(e.id!==c&&e.destination)return await Object(C.a)(e.destination).then((e=>(l(void 0),e))).catch((e=>l(e)))}),[e,c]),[g,k]=Object(s.useMemo)((()=>e.destination===c?[null==d?void 0:d.title,null==d?void 0:d.description]:[null==f?void 0:f.attributes.title,null==f?void 0:f.attributes.description]),[e.destination,c,d,f]),y=Object(s.useMemo)((()=>e.label||(null!=g?g:M.a.getDashboardErrorLabel())),[e,g]),{tooltipTitle:L,tooltipMessage:O}=Object(s.useMemo)((()=>o?{tooltipTitle:M.a.getDashboardErrorLabel(),tooltipMessage:o.message}:{tooltipTitle:Boolean(k)?y:void 0,tooltipMessage:k||y}),[o,y,k]),P=Object(s.useMemo)((()=>{if(!e.destination||e.destination===c)return;const t={...x.DEFAULT_DASHBOARD_DRILLDOWN_OPTIONS,...e.options},n={dashboardId:e.destination,...Object(w.getDashboardLocatorParamsFromEmbeddable)(a,t)},i=u.locator;if(!i)return;const r=i.getRedirectUrl(n);return{href:r,onClick:async e=>{null===D.f||void 0===D.f||Object(D.f)(E.METRIC_TYPE.CLICK,`${h.a}:click`),e.ctrlKey||e.metaKey||e.shiftKey||(e.preventDefault(),t.openInNewTab?window.open(r,"_blank"):await i.navigate(n))}}}),[e,u.locator,a,c]);Object(s.useEffect)((()=>{b?n():i()}),[e,a,b,n,i]);const I=`dashboardLink--${e.id}`;return b?Object(S.jsx)("li",{id:`${I}--loading`},Object(S.jsx)(p.EuiButtonEmpty,{size:"s",isLoading:!0,"data-test-subj":`${I}--loading`},M.a.getLoadingDashboardLabel())):Object(S.jsx)(p.EuiListGroupItem,v()({size:"s",color:"text"},P,{id:`dashboardLink--${e.id}`,showToolTip:!0,toolTipProps:{title:L,content:O,position:t===h.d?"right":"bottom",repositionOnScroll:!0,delay:"long","data-test-subj":`${I}--tooltip`},iconType:o?"warning":void 0,iconProps:{className:"dashboardLinkIcon"},isDisabled:Boolean(o),className:m()("linksPanelLink",{linkCurrent:e.destination===c,dashboardLinkError:Boolean(o),"dashboardLinkError--noLabel":!e.label}),label:y,external:null===(r=e.options)||void 0===r?void 0:r.openInNewTab,"data-test-subj":o?`${I}--error`:`${I}`,"aria-current":e.destination===c}))};var I=n(30),N=n.n(I),R=n(18),A=n(29);const U=({link:e,layout:t,onRender:n})=>{const[i,r]=Object(s.useState)();N()((()=>{n()}));const a=Object(s.useMemo)((()=>({...R.DEFAULT_URL_DRILLDOWN_OPTIONS,...e.options})),[e.options]),o=Object(s.useMemo)((()=>{if(!e.destination)return!1;const{valid:t,message:n}=Object(A.a)(e.destination);return t||r(n),t}),[e.destination]),l=Object(s.useMemo)((()=>e.destination&&a.encodeUrl?encodeURI(e.destination):e.destination),[a,e.destination]),u=`externalLink--${e.id}`;return Object(S.jsx)(p.EuiListGroupItem,{size:"s",external:!0,color:"text",isDisabled:!e.destination||!o,className:"linksPanelLink",showToolTip:!o,toolTipProps:{content:i,position:t===h.d?"right":"bottom",repositionOnScroll:!0,delay:"long","data-test-subj":`${u}--tooltip`},iconType:i?"warning":void 0,id:u,label:e.label||e.destination,"data-test-subj":i?`${u}--error`:`${u}`,href:l,onClick:async e=>{l&&(null===D.f||void 0===D.f||Object(D.f)(E.METRIC_TYPE.CLICK,`${h.b}:click`),e.ctrlKey||e.metaKey||e.shiftKey||(e.preventDefault(),a.openInNewTab?window.open(l,"_blank"):await D.b.application.navigateToUrl(l)))}})};n(45);const B=()=>{var e,t;const n=T(),i=(()=>{const e=T(),[t,n]=Object(s.useState)(e.attributes);return Object(s.useEffect)((()=>{const t=e.attributes$.subscribe((e=>{n(e)}));return()=>{t.unsubscribe()}}),[e.attributes$]),t})(),[r,{set:a}]=f()(Object.fromEntries((null!==(e=null==i?void 0:i.links)&&void 0!==e?e:[]).map((e=>[e.id,!0]))));Object(s.useEffect)((()=>{Object.values(r).includes(!0)?n.onLoading():n.onRender()}),[r,n]);const o=Object(s.useMemo)((()=>null!=i&&i.links?Object(g.b)(null==i?void 0:i.links):[]),[i]),l=Object(s.useMemo)((()=>{var e;return(null!==(e=null==i?void 0:i.links)&&void 0!==e?e:[]).reduce(((e,t)=>{var n,r;return{...e,[t.id]:{id:t.id,content:t.type===h.a?Object(S.jsx)(P,{key:t.id,link:t,layout:null!==(n=null==i?void 0:i.layout)&&void 0!==n?n:h.d,onLoading:()=>a(t.id,!0),onRender:()=>a(t.id,!1)}):Object(S.jsx)(U,{key:t.id,link:t,layout:null!==(r=null==i?void 0:i.layout)&&void 0!==r?r:h.d,onRender:()=>a(t.id,!1)})}}}),{})}),[null==i?void 0:i.links,null==i?void 0:i.layout,a]);return Object(S.jsx)(p.EuiPanel,{className:"linksComponent "+((null==i?void 0:i.layout)===h.c?"eui-xScroll":"eui-yScroll"),paddingSize:"xs","data-test-subj":"links--component"},Object(S.jsx)(p.EuiListGroup,{maxWidth:!1,className:`${null!==(t=null==i?void 0:i.layout)&&void 0!==t?t:h.d}LayoutWrapper`,"data-test-subj":"links--component--listGroup"},o.map((e=>l[e.id].content))))},z=Object(s.createContext)(null);class links_embeddable_LinksEmbeddable extends d.Embeddable{constructor(e,t,n,i){super(t,{editable:e.editable,editableWithExplicitInput:!0},i),r()(this,"type",c.c),r()(this,"deferEmbeddableLoad",!0),r()(this,"domNode",void 0),r()(this,"isDestroyed",void 0),r()(this,"subscriptions",new u.Subscription),r()(this,"attributes",void 0),r()(this,"attributes$",new u.Subject),r()(this,"grouping",[d.COMMON_EMBEDDABLE_GROUPING.annotation]),this.attributeService=n,this.initializeSavedLinks().then((()=>this.setInitializationFinished())).catch((e=>this.onFatalError(e))),this.subscriptions.add(this.getInput$().pipe(Object(u.distinctUntilChanged)(o.a),Object(u.skip)(1),Object(u.switchMap)((async()=>await this.initializeSavedLinks()))).subscribe()),this.subscriptions.add(this.attributes$.pipe(Object(u.distinctUntilChanged)(o.a)).subscribe((e=>{this.attributes=e})))}async initializeSavedLinks(){const{attributes:e}=await this.attributeService.unwrapAttributes(this.getInput());this.attributes$.next(e),await this.initializeOutput()}async initializeOutput(){var e,t,n,i;const{title:r,description:a}=this.getInput();this.updateOutput({defaultTitle:null===(e=this.attributes)||void 0===e?void 0:e.title,defaultDescription:null===(t=this.attributes)||void 0===t?void 0:t.description,title:null!=r?r:null===(n=this.attributes)||void 0===n?void 0:n.title,description:null!=a?a:null===(i=this.attributes)||void 0===i?void 0:i.description})}onRender(){this.renderComplete.dispatchComplete()}onLoading(){this.renderComplete.dispatchInProgress()}inputIsRefType(e){return this.attributeService.inputIsRefType(e)}async getInputAsRefType(){return this.attributeService.getInputAsRefType(this.getExplicitInput(),{showSaveModal:!0,saveModalTitle:this.getTitle()})}async getInputAsValueType(){return this.attributeService.getInputAsValueType(this.getExplicitInput())}async reload(){this.isDestroyed||(this.initializeSavedLinks(),this.domNode&&this.render(this.domNode))}destroy(){this.isDestroyed=!0,super.destroy(),this.subscriptions.unsubscribe(),this.domNode&&Object(l.unmountComponentAtNode)(this.domNode)}render(e){if(this.domNode=e,!this.isDestroyed)return super.render(e),this.domNode.setAttribute("data-shared-item",""),Object(S.jsx)(z.Provider,{value:this},Object(S.jsx)(B,null))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(13),r=n(1);t.default=function(e){void 0===e&&(e={});var t=r.useState(e),n=t[0],a=t[1],o=r.useMemo((function(){return{set:function(e,t){a((function(n){var r;return i.__assign(i.__assign({},n),((r={})[e]=t,r))}))},setAll:function(e){a(e)},remove:function(e){a((function(t){var n=t,r=e;return n[r],i.__rest(n,["symbol"==typeof r?r:r+""])}))},reset:function(){return a(e)}}}),[a]),s=i.__assign({get:r.useCallback((function(e){return n[e]}),[n])},o);return[n,s]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1);t.default=function(){var e=i.useRef(!1),t=i.useCallback((function(){return e.current}),[]);return i.useEffect((function(){return e.current=!0,function(){e.current=!1}})),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1);t.default=function(e){i.useEffect(e,[])}},function(e,t,n){n(42),__kbnBundles__.define("plugin/links/public",n,50)},function(e,t,n){n.p=window.__kbnPublicPath__.links},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r="undefined"!=typeof window?i.useLayoutEffect:i.useEffect;t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(13),r=n(1),a=i.__importDefault(n(39));t.default=function(e,t,n){void 0===t&&(t=[]),void 0===n&&(n={loading:!1});var o=r.useRef(0),s=a.default(),l=r.useState(n),u=l[0],d=l[1],c=r.useCallback((function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=++o.current;return d((function(e){return i.__assign(i.__assign({},e),{loading:!0})})),e.apply(void 0,t).then((function(e){return s()&&r===o.current&&d({value:e,loading:!1}),e}),(function(e){return s()&&r===o.current&&d({error:e,loading:!1}),e}))}),t);return[u,c]}},function(e,t,n){switch(window.__kbnThemeTag__){case"v8dark":return n(46);case"v8light":return n(48)}},function(e,t,n){var i=n(24),r=n(47);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);i(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,n){(t=n(25)(!1)).push([e.i,'.linksComponent .linksPanelLink{max-width:-moz-fit-content;max-width:fit-content}.linksComponent .linksPanelLink.dashboardLinkError.dashboardLinkError--noLabel .euiListGroupItem__button{font-style:italic}.linksComponent .linksPanelLink.dashboardLinkError .dashboardLinkIcon{margin-right:8px}.linksComponent .linksPanelLink.linkCurrent{border-radius:0}.linksComponent .linksPanelLink.linkCurrent .euiListGroupItem__text{color:#36a2ef;cursor:default}.linksComponent .verticalLayoutWrapper{gap:4px}.linksComponent .verticalLayoutWrapper .linksPanelLink.linkCurrent:before{background-color:#36a2ef;content:"";height:75%;position:absolute;width:2px}.linksComponent .horizontalLayoutWrapper{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;height:100%}.linksComponent .horizontalLayoutWrapper .linksPanelLink.linkCurrent{padding:0 8px}.linksComponent .horizontalLayoutWrapper .linksPanelLink.linkCurrent .euiListGroupItem__text{box-shadow:inset 0 -2px #36a2ef;padding-inline:0}',""]),e.exports=t},function(e,t,n){var i=n(24),r=n(49);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);i(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,n){(t=n(25)(!1)).push([e.i,'.linksComponent .linksPanelLink{max-width:-moz-fit-content;max-width:fit-content}.linksComponent .linksPanelLink.dashboardLinkError.dashboardLinkError--noLabel .euiListGroupItem__button{font-style:italic}.linksComponent .linksPanelLink.dashboardLinkError .dashboardLinkIcon{margin-right:8px}.linksComponent .linksPanelLink.linkCurrent{border-radius:0}.linksComponent .linksPanelLink.linkCurrent .euiListGroupItem__text{color:#07c;cursor:default}.linksComponent .verticalLayoutWrapper{gap:4px}.linksComponent .verticalLayoutWrapper .linksPanelLink.linkCurrent:before{background-color:#07c;content:"";height:75%;position:absolute;width:2px}.linksComponent .horizontalLayoutWrapper{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;height:100%}.linksComponent .horizontalLayoutWrapper .linksPanelLink.linkCurrent{padding:0 8px}.linksComponent .horizontalLayoutWrapper .linksPanelLink.linkCurrent .euiListGroupItem__text{box-shadow:inset 0 -2px #07c;padding-inline:0}',""]),e.exports=t},function(e,t,n){"use strict";n.r(t),n.d(t,"LinksFactoryDefinition",(function(){return links_embeddable_factory_LinksFactoryDefinition})),n.d(t,"LinksEmbeddable",(function(){return i.LinksEmbeddable})),n.d(t,"plugin",(function(){return g}));var i=n(37),r=n(4),a=n.n(r),o=n(15),s=n(14),l=n(2),u=n(11);const d=(e,t)=>{const n=e;if(!("attributes"in n)||void 0===n.attributes)return n;try{const{attributes:e}=Object(u.b)({attributes:n.attributes,references:t});return{...n,attributes:e}}catch(e){return n}},c=e=>{const t=e;if(!("attributes"in t)||void 0===t.attributes)return{state:e,references:[]};const{attributes:n,references:i}=Object(u.a)({attributes:t.attributes});return{state:{...e,attributes:n},references:i}};var p=n(16),b=n(32),f=n(3);class links_embeddable_factory_LinksFactoryDefinition{constructor(){a()(this,"latestVersion",void 0),a()(this,"telemetry",void 0),a()(this,"migrations",void 0),a()(this,"grouping",[s.COMMON_EMBEDDABLE_GROUPING.annotation]),a()(this,"type",l.c),a()(this,"isContainerType",!1),a()(this,"savedObjectMetaData",{name:l.b,type:l.c,getIconForSavedObject:()=>l.a}),a()(this,"getLegacyPanelPlacementSettings",((e,t)=>{var n,i;if(!(e=>void 0!==e&&Boolean(e.layout||e.links))(t)||!t.layout)return{};const r="horizontal"===t.layout;return{width:r?o.DASHBOARD_GRID_COLUMN_COUNT:8,height:r?4:(null!==(n=null===(i=t.links)||void 0===i?void 0:i.length)&&void 0!==n?n:3)+4,strategy:o.PanelPlacementStrategy.placeAtTop}})),a()(this,"inject",d),a()(this,"extract",c)}async isEditable(){var e;return await Object(f.g)(),Boolean(null===(e=f.b.application.capabilities.dashboard)||void 0===e?void 0:e.showWriteControls)}canCreateNew(){return!0}getDefaultInput(){return{disabledActions:["OPEN_FLYOUT_ADD_DRILLDOWN"]}}async createFromSavedObject(e,t,n){return t.savedObjectId||(t.savedObjectId=e),this.create(t,n)}async create(e,t){await Object(f.g)();const{LinksEmbeddable:i}=await Promise.resolve().then(n.bind(null,37));return new i({editable:await this.isEditable()},{disabledActions:["OPEN_FLYOUT_ADD_DRILLDOWN"],...e},Object(b.a)(),t)}async getExplicitInput(e,t){const{openEditorFlyout:i}=await n.e(2).then(n.bind(null,65)),{newInput:r,attributes:a}=await i({disabledActions:["OPEN_FLYOUT_ADD_DRILLDOWN"],...e},t);return{newInput:r,attributes:a}}getDisplayName(){return l.b}getIconType(){return"link"}getDescription(){return p.a.getDescription()}}var h=n(12);class plugin_LinksPlugin{constructor(){}setup(e,t){e.getStartServices().then((([e,n])=>{const i=new links_embeddable_factory_LinksFactoryDefinition;t.embeddable.registerEmbeddableFactory(l.c,i),t.contentManagement.registry.register({id:l.c,version:{latest:l.d},name:l.b}),t.visualizations.registerAlias({disableCreate:!0,name:l.c,title:l.b,icon:l.a,description:p.a.getDescription(),stage:"production",appExtensions:{visualizations:{docTypes:[l.c],searchFields:["title^3"],client:h.a,toListItem(e){const{id:t,type:n,updatedAt:r,attributes:a}=e,{title:o,description:s}=a;return{id:t,title:o,editor:{onEdit:e=>(async({savedObjectId:e,parent:t})=>{try{await i.getExplicitInput({savedObjectId:e},t)}catch{}})({savedObjectId:e})},description:s,updatedAt:r,icon:l.a,typeTitle:l.b,stage:"production",savedObjectType:n}}}}})}))}start(e,t){return Object(f.e)(e,t),{}}stop(){}}function g(){return new plugin_LinksPlugin}},function(e,t){e.exports=__kbnSharedDeps__.Uuid},function(e,t){e.exports=__kbnSharedDeps__.KbnSharedUxErrorBoundary},function(e,t){e.exports=__kbnSharedDeps__.ElasticEuiLibComponentsUseIsNestedEuiProvider},function(e,t){e.exports=__kbnSharedDeps__.EmotionCache},function(e,t,n){n.r(t);var i=__kbnBundles__.get("plugin/savedObjects/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))}]);