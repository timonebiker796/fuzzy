(window.visTypeHeatmap_bundle_jsonpfunction=window.visTypeHeatmap_bundle_jsonpfunction||[]).push([[2],{26:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return v}));var s=t(12),l=t.n(s),o=t(8),i=t.n(o),n=t(20),r=t(7),c=t(1),p=t(21),u=t(22),b=t(11),d=t(3),g=t(9);function m({valueAxis:e,setValue:a,isNewLibrary:t}){const s=270===e.labels.rotate,l=Object(o.useCallback)(((t,s)=>a("valueAxes",[{...e,labels:{...e.labels,[t]:s}}])),[e,a]),i=Object(o.useCallback)(((e,a)=>l(e,a?270:0)),[l]),r=Object(o.useCallback)((e=>l("color",e)),[l]);return Object(g.jsx)(n.EuiPanel,{paddingSize:"s"},Object(g.jsx)(n.EuiTitle,{size:"xs"},Object(g.jsx)("h3",null,Object(g.jsx)(p.FormattedMessage,{id:"visTypeHeatmap.controls.heatmapOptions.labelsTitle",defaultMessage:"Labels"}))),Object(g.jsx)(n.EuiSpacer,{size:"s"}),Object(g.jsx)(u.SwitchOption,{label:c.i18n.translate("visTypeHeatmap.controls.heatmapOptions.showLabelsTitle",{defaultMessage:"Show labels"}),paramName:"show",value:Boolean(e.labels.show),setValue:l}),Object(g.jsx)(u.SwitchOption,{disabled:!e.labels.show||t,label:c.i18n.translate("visTypeHeatmap.controls.heatmapOptions.rotateLabel",{defaultMessage:"Rotate"}),"data-test-subj":"heatmapLabelsRotate",paramName:"rotate",value:s,setValue:i,tooltip:c.i18n.translate("visTypeHeatmap.editors.heatmap.rotateLabelNotAvailable",{defaultMessage:"Rotate label is not supported with the new charts library. Please enable the heatmap legacy charts library advanced setting."})}),Object(g.jsx)(u.SwitchOption,{disabled:!e.labels.show||t,label:c.i18n.translate("visTypeHeatmap.controls.heatmapOptions.overwriteAutomaticColorLabel",{defaultMessage:"Overwrite automatic color"}),paramName:"overwriteColor",value:Boolean(e.labels.overwriteColor),setValue:l,"data-test-subj":"heatmapLabelsOverwriteColor",tooltip:c.i18n.translate("visTypeHeatmap.editors.heatmap.overwriteColorlNotAvailable",{defaultMessage:"Overwrite automatic color is not supported with the new charts library. Please enable the heatmap legacy charts library advanced setting ."})}),Object(g.jsx)(n.EuiFormRow,{display:"rowCompressed",fullWidth:!0,label:c.i18n.translate("visTypeHeatmap.controls.heatmapOptions.colorLabel",{defaultMessage:"Color"})},Object(g.jsx)(n.EuiColorPicker,{compressed:!0,fullWidth:!0,"data-test-subj":"heatmapLabelsColor",disabled:!e.labels.show||!e.labels.overwriteColor||t,color:e.labels.color,onChange:r})))}var h=t(5);const j=[{text:c.i18n.translate("visTypeHeatmap.legendPositions.topText",{defaultMessage:"Top"}),value:r.Position.Top},{text:c.i18n.translate("visTypeHeatmap.legendPositions.leftText",{defaultMessage:"Left"}),value:r.Position.Left},{text:c.i18n.translate("visTypeHeatmap.legendPositions.rightText",{defaultMessage:"Right"}),value:r.Position.Right},{text:c.i18n.translate("visTypeHeatmap.legendPositions.bottomText",{defaultMessage:"Bottom"}),value:r.Position.Bottom}],O=[{text:c.i18n.translate("visTypeHeatmap.scaleTypes.linearText",{defaultMessage:"Linear"}),value:h.b.Linear},{text:c.i18n.translate("visTypeHeatmap.scaleTypes.logText",{defaultMessage:"Log"}),value:h.b.Log},{text:c.i18n.translate("visTypeHeatmap.scaleTypes.squareRootText",{defaultMessage:"Square root"}),value:h.b.SquareRoot}],v=e=>{var a,t;const{stateParams:s,uiState:h,setValue:v,setValidity:x,setTouched:T,showElasticChartsOptions:y}=e,[f]=s.valueAxes,S=s.colorsNumber<2||s.colorsNumber>10,[w,L]=Object(o.useState)(!1),C=s.legendSize,[H]=Object(o.useState)((()=>C===d.LegendSize.AUTO)),M=Object(o.useCallback)(((e,a)=>v("valueAxes",[{...f,scale:{...f.scale,[e]:a}}])),[f,v]);Object(o.useEffect)((()=>{x(s.setColorRange?w:!S)}),[s.setColorRange,w,S,x]),Object(o.useEffect)((()=>{s.setColorRange&&(s.percentageMode=!1)}),[s]);const P=Object(o.useCallback)((e=>v("legendSize",e)),[v]);return Object(g.jsx)(i.a.Fragment,null,Object(g.jsx)(n.EuiPanel,{paddingSize:"s"},Object(g.jsx)(n.EuiTitle,{size:"xs"},Object(g.jsx)("h3",null,Object(g.jsx)(p.FormattedMessage,{id:"visTypeHeatmap.editors.heatmap.basicSettingsTitle",defaultMessage:"Basic settings"}))),Object(g.jsx)(n.EuiSpacer,{size:"s"}),Object(g.jsx)(u.BasicOptions,l()({},e,{legendPositions:j})),y&&Object(g.jsx)(i.a.Fragment,null,Object(g.jsx)(u.LongLegendOptions,{"data-test-subj":"heatmapLongLegendsOptions",truncateLegend:null===(a=s.truncateLegend)||void 0===a||a,maxLegendLines:null!==(t=s.maxLegendLines)&&void 0!==t?t:1,setValue:v}),Object(g.jsx)(u.LegendSizeSettings,{legendSize:C,onLegendSizeChange:P,isVerticalLegend:s.legendPosition===r.Position.Left||s.legendPosition===r.Position.Right,showAutoOption:H})),Object(g.jsx)(u.SwitchOption,{label:c.i18n.translate("visTypeHeatmap.editors.heatmap.highlightLabel",{defaultMessage:"Highlight range"}),"data-test-subj":"heatmapHighlightRange",paramName:"enableHover",value:s.enableHover,setValue:v,tooltip:y?c.i18n.translate("visTypeHeatmap.editors.heatmap.highlightLabelTooltipNotAvailable",{defaultMessage:"Highlight hovered range is not yet supported with the new charts library. Please enable the heatmap legacy charts library advanced setting ."}):c.i18n.translate("visTypeHeatmap.editors.heatmap.highlightLabelTooltip",{defaultMessage:"Highlight hovered range in the chart and corresponding label in the legend."}),disabled:y})),Object(g.jsx)(n.EuiSpacer,{size:"s"}),Object(g.jsx)(n.EuiPanel,{paddingSize:"s"},Object(g.jsx)(n.EuiTitle,{size:"xs"},Object(g.jsx)("h3",null,Object(g.jsx)(p.FormattedMessage,{id:"visTypeHeatmap.editors.heatmap.heatmapSettingsTitle",defaultMessage:"Heatmap settings"}))),Object(g.jsx)(n.EuiSpacer,{size:"s"}),Object(g.jsx)(u.ColorSchemaOptions,{colorSchema:s.colorSchema,colorSchemas:b.colorSchemas,invertColors:s.invertColors,uiState:h,setValue:v}),Object(g.jsx)(n.EuiSpacer,{size:"s"}),Object(g.jsx)(n.EuiToolTip,{content:y?c.i18n.translate("visTypeHeatmap.editors.heatmap.colorScaleTooltipNotAvailable",{defaultMessage:"Color scale is not supported with the new charts library. Please enable the heatmap legacy charts library advanced setting."}):null,delay:"long",position:"right"},Object(g.jsx)(u.SelectOption,{label:c.i18n.translate("visTypeHeatmap.controls.heatmapOptions.colorScaleLabel",{defaultMessage:"Color scale"}),options:O,paramName:"type",value:f.scale.type,setValue:M,disabled:y,"data-test-subj":"heatmapColorScale"})),Object(g.jsx)(n.EuiSpacer,{size:"s"}),!y&&Object(g.jsx)(u.SwitchOption,{label:c.i18n.translate("visTypeHeatmap.controls.heatmapOptions.scaleToDataBoundsLabel",{defaultMessage:"Scale to data bounds"}),paramName:"defaultYExtents",value:f.scale.defaultYExtents,setValue:M,"data-test-subj":"heatmapScaleToDataBounds"}),Object(g.jsx)(u.PercentageModeOption,{"data-test-subj":"metricPercentageMode",percentageMode:!s.setColorRange&&s.percentageMode,disabled:s.setColorRange,formatPattern:s.percentageFormatPattern,setValue:v}),Object(g.jsx)(n.EuiSpacer,{size:"s"}),Object(g.jsx)(u.NumberInputOption,{"data-test-subj":"heatmapColorsNumber",disabled:s.setColorRange,isInvalid:S,label:c.i18n.translate("visTypeHeatmap.controls.heatmapOptions.colorsNumberLabel",{defaultMessage:"Number of colors"}),max:10,min:2,paramName:"colorsNumber",value:s.colorsNumber,setValue:v}),Object(g.jsx)(u.SwitchOption,{"data-test-subj":"heatmapUseCustomRanges",label:c.i18n.translate("visTypeHeatmap.controls.heatmapOptions.useCustomRangesLabel",{defaultMessage:"Use custom ranges"}),paramName:"setColorRange",value:s.setColorRange,setValue:v}),s.setColorRange&&s.colorsRange&&Object(g.jsx)(u.ColorRanges,{"data-test-subj":"heatmapColorRange",colorsRange:s.colorsRange,setValue:v,setTouched:T,setValidity:L})),Object(g.jsx)(n.EuiSpacer,{size:"s"}),Object(g.jsx)(m,{valueAxis:f,setValue:v,isNewLibrary:y}))}}}]);