(window.controls_bundle_jsonpfunction=window.controls_bundle_jsonpfunction||[]).push([[0],Array(58).concat([function(e,t,n){"use strict";var r,o=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),i=[];function a(e){for(var t=-1,n=0;n<i.length;n++)if(i[n].identifier===e){t=n;break}return t}function l(e,t){for(var n={},r=[],o=0;o<e.length;o++){var l=e[o],s=t.base?l[0]+t.base:l[0],c=n[s]||0,u="".concat(s," ").concat(c);n[s]=c+1;var d=a(u),p={css:l[1],media:l[2],sourceMap:l[3]};-1!==d?(i[d].references++,i[d].updater(p)):i.push({identifier:u,updater:h(p,t),references:1}),r.push(u)}return r}function s(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var a=o(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var c,u=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function d(e,t,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=u(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function p(e,t,n){var r=n.css,o=n.media,i=n.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var g=null,m=0;function h(e,t){var n,r,o;if(t.singleton){var i=m++;n=g||(g=s(t)),r=d.bind(null,n,i,!1),o=d.bind(null,n,i,!0)}else n=s(t),r=p.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var o=a(n[r]);i[o].references--}for(var s=l(e,t),c=0;c<n.length;c++){var u=a(n[c]);0===i[u].references&&(i[u].updater(),i.splice(u,1))}n=s}}}},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,r,o,i=e[1]||"",a=e[3];if(!a)return i;if(t&&"function"==typeof btoa){var l=(n=a,r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),"/*# ".concat(o," */")),s=a.sources.map((function(e){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(e," */")}));return[i].concat(s).concat([l]).join("\n")}return[i].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var l=0;l<e.length;l++){var s=[].concat(e[l]);r&&o[s[0]]||(n&&(s[2]?s[2]="".concat(n," and ").concat(s[2]):s[2]=n),t.push(s))}},t}},function(e,t,n){e.exports=n(42)(4)},function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n(60),o=n.n(r),i=n(4),a=n(51),l=n(64),s=n(62),c=n.n(s),u=n(52),d=n.n(u),p=n(6);const g="eui-global",m="eui-utilities",h={darkMode:!1};var b=n(3);const f=[p.euiStylisPrefixer],v=d()({key:"css",stylisPlugins:f,container:document.querySelector('meta[name="emotion"]')}),y=d()({key:g,stylisPlugins:f,container:document.querySelector(`meta[name="${g}"]`)}),x=d()({key:m,stylisPlugins:f,container:document.querySelector(`meta[name="${m}"]`)});v.compat=!0,y.compat=!0,x.compat=!0;const w={default:v,global:y,utility:x},C=({theme:{theme$:e},globalStyles:t,colorMode:n,modify:r,children:o})=>{const a=c()(e,h),l=Object(i.useMemo)((()=>(e=>e.darkMode?p.COLOR_MODES_STANDARD.dark:p.COLOR_MODES_STANDARD.light)(a)),[a]),s=n||l,u=!1!==t&&void 0;return Object(b.jsx)(p.EuiProvider,{cache:w,modify:r,colorMode:s,globalStyles:u,utilityClasses:u},o)},j=({children:e,i18n:t,...n})=>Object(a.useIsNestedEuiProvider)()?(Object(l.emitEuiProviderWarning)("KibanaRootContextProvider has likely been nested in this React tree, either by direct reference or by KibanaRenderContextProvider.  The result of this nesting is a nesting of EuiProvider, which has negative effects.  Check your React tree for nested Kibana context providers."),Object(b.jsx)(t.Context,null,e)):Object(b.jsx)(C,n,Object(b.jsx)(t.Context,null,e));var S=n(53);const O=({children:e,...t})=>Object(b.jsx)(j,o()({globalStyles:!1},t),Object(b.jsx)(S.KibanaErrorBoundaryProvider,{analytics:t.analytics},Object(b.jsx)(S.KibanaErrorBoundary,null,e)))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(32),o=n(4),i=r.__importDefault(n(63));t.default=function(e,t){var n=o.useState(t),r=n[0],a=n[1];return i.default((function(){var t=e.subscribe(a);return function(){return t.unsubscribe()}}),[e]),r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o="undefined"!=typeof window?r.useLayoutEffect:r.useEffect;t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setEuiDevProviderWarning=t.getEuiDevProviderWarning=t.emitEuiProviderWarning=void 0;var r=void 0;t.setEuiDevProviderWarning=function(e){return r=e},t.getEuiDevProviderWarning=function(){return r},t.emitEuiProviderWarning=function(e){if("function"==typeof r)return r(e);switch(r){case"log":console.log(e);break;case"warn":console.warn(e);break;case"error":throw new Error(e)}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));const r=300,o=100},,function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(4),o=n(6),i=n(54),a=n(60),l=n.n(a),s=n(3);const c=({ariaLabelContent:e,markdownContent:t,children:n,className:i,onRender:a,openLinksInNewTab:c=!0,defaultValue:u="",placeholder:d="",height:p="full",readOnly:g=!1,enableTooltipSupport:m=!1,validateLinks:h=!1,enableSoftLineBreaks:b=!1,...f})=>{const[v,y]=Object(r.useState)(u);Object(r.useEffect)((()=>{null==a||a()}),[a]);const x=Array();m||x.push("tooltip"),h||x.push("linkValidator"),b&&x.push("lineBreaks");const{parsingPlugins:w,processingPlugins:C,uiPlugins:j}=Object(o.getDefaultEuiMarkdownPlugins)({exclude:x});var S;return C[1][1].components.a=e=>Object(s.jsx)(o.EuiLink,l()({},e,{target:"_blank"})),g?Object(s.jsx)(o.EuiMarkdownFormat,{textSize:"relative",color:"inherit",className:i,"aria-label":null!=e?e:"markdown component",parsingPluginList:w,processingPluginList:c?C:void 0,"data-test-subj":f["data-test-subj"],style:f.style},null!==(S=null!=n?n:t)&&void 0!==S?S:""):Object(s.jsx)(o.EuiMarkdownEditor,{className:i,"aria-label":null!=e?e:"markdown component",placeholder:d,value:v,onChange:y,height:p,uiPlugins:j,parsingPluginList:w,processingPluginList:c?C:void 0,"data-test-subj":f["data-test-subj"]})},u=({error:e})=>{const[t,n]=Object(r.useState)(!1),a=e instanceof Error?e.message:e,l=Object(s.jsx)(o.EuiButtonEmpty,{color:"danger",iconSize:"m",iconType:"error","data-test-subj":"control-frame-error",onClick:()=>n((e=>!e)),className:"errorEmbeddableCompact__button",textProps:{className:"errorEmbeddableCompact__text"}},Object(s.jsx)(i.FormattedMessage,{id:"controls.frame.error.message",defaultMessage:"An error occurred. View more"}));return Object(s.jsx)(i.I18nProvider,null,Object(s.jsx)(o.EuiPopover,{button:l,isOpen:t,className:"errorEmbeddableCompact__popover",closePopover:()=>n(!1)},Object(s.jsx)(c,{"data-test-subj":"errorMessageMarkdown",readOnly:!0},a)))}},function(e,t,n){"use strict";n.r(t),n.d(t,"setFlyoutRef",(function(){return le})),n.d(t,"ControlGroupContainerContext",(function(){return se})),n.d(t,"controlGroupSelector",(function(){return de})),n.d(t,"useControlGroupContainer",(function(){return pe})),n.d(t,"ControlGroupContainer",(function(){return control_group_container_ControlGroupContainer}));var r=n(1),o=n.n(r),i=n(25),a=n(2),l=n(4),s=n.n(l),c=n(47),u=n.n(c),d=n(48),p=n(31),g=n(24),m=n(61),h=n(7),b=n(19),f=(n(77),n(49)),v=n.n(f),y=n(73),x=n(74),w=n(6),C=n(20),j=n(60),S=n.n(j),O=n(69),F=n(5),E=n(67),I=n(3);const D=({customPrepend:e,enableActions:t,embeddableId:n,embeddableType:r})=>{var o;const i=Object(l.useMemo)((()=>s.a.createRef()),[]),a=pe(),c=de((e=>e.explicitInput.controlStyle)),u=de((e=>e.explicitInput.viewMode)),d=de((e=>e.explicitInput.disabledActions)),p=(({untilEmbeddableLoaded:e,embeddableId:t,embeddableType:n})=>{const[r,o]=Object(l.useState)();return Object(l.useEffect)((()=>{let n=!0;return(async()=>{const r=await e(t);n&&o(r)})(),()=>{n=!1}}),[e,t,n]),r})({untilEmbeddableLoaded:a.untilEmbeddableLoaded.bind(a),embeddableType:r,embeddableId:n}),[m,h]=Object(l.useState)(),b="twoLine"===c;Object(l.useEffect)((()=>{let e=!0;i.current&&(null==p||p.render(i.current));const t=null==p?void 0:p.getInput$().subscribe((t=>{e&&h(t.title)}));return()=>{e=!1,null==t||t.unsubscribe()}}),[p,i]);const f=v()("controlFrame__control",{"controlFrame--twoLine":"twoLine"===c,"controlFrame--oneLine":"oneLine"===c}),y=Object(I.jsx)(w.EuiFormControlLayout,{className:v()("controlFrame__formControlLayout",{"controlFrameFormControlLayout--twoLine":"twoLine"===c}),fullWidth:!0,prepend:Object(I.jsx)(s.a.Fragment,null,null!==(o=p&&e)&&void 0!==o?o:null,"function"==typeof(null==p?void 0:p.renderPrepend)?p.renderPrepend():b?void 0:Object(I.jsx)(w.EuiToolTip,{anchorClassName:"controlFrame__labelToolTip",content:m},Object(I.jsx)(w.EuiFormLabel,{className:"controlFrame__formControlLayoutLabel",htmlFor:n},m)))},p&&Object(I.jsx)("div",{className:f,id:`controlFrame--${n}`,ref:i},Object(g.isErrorEmbeddable)(p)&&Object(I.jsx)(E.a,{error:p.error})),!p&&Object(I.jsx)("div",{className:f,id:`controlFrame--${n}`},Object(I.jsx)("div",{className:"controlFrame--controlLoading"},Object(I.jsx)(w.EuiLoadingChart,null))));return Object(I.jsx)(F.FloatingActions,{className:v()({"controlFrameFloatingActions--twoLine":b,"controlFrameFloatingActions--oneLine":!b}),viewMode:u,api:p,disabledActions:d,isEnabled:p&&t},Object(I.jsx)(w.EuiFormRow,{"data-test-subj":"control-frame-title",fullWidth:!0,label:b?m||"...":void 0},y))},T=e=>{const{embeddableId:t,isEditable:n}=e,{over:r,listeners:o,isSorting:i,transform:a,transition:l,attributes:s,isDragging:c,setNodeRef:u}=Object(x.useSortable)({id:t,animateLayoutChanges:()=>!0,disabled:!n}),d={...e,dragInfo:{...e.dragInfo,isOver:(null==r?void 0:r.id)===t,isDragging:c}};return Object(I.jsx)(R,S()({key:t,ref:u},d,s,o,{style:{transition:null!=l?l:void 0,transform:i?void 0:O.CSS.Translate.toString(a)}}))},R=Object(l.forwardRef)((({embeddableId:e,embeddableType:t,dragInfo:n,style:r,isEditable:o,...i},a)=>{const{isOver:l,isDragging:s,draggingIndex:c,index:u}=n,d=de((e=>e.explicitInput.panels)),p=de((e=>e.explicitInput.controlStyle)),g=d[e].grow,m=d[e].width,h=d[e].explicitInput.title,b=o?Object(I.jsx)("button",S()({ref:a},i,{"aria-label":`${C.a.ariaActions.getMoveControlButtonAction(h)}`,className:"controlFrame__dragHandle"}),Object(I.jsx)(w.EuiIcon,{type:"grabHorizontal"})):"oneLine"===p?Object(I.jsx)(w.EuiIcon,{type:"empty",size:"s"}):void 0;return Object(I.jsx)(w.EuiFlexItem,{grow:g,"data-control-id":e,"data-test-subj":"control-frame","data-render-complete":"true",className:v()("controlFrameWrapper",{"controlFrameWrapper--grow":g,"controlFrameWrapper-isDragging":s,"controlFrameWrapper-isEditable":o,"controlFrameWrapper--small":"small"===m,"controlFrameWrapper--medium":"medium"===m,"controlFrameWrapper--large":"large"===m,"controlFrameWrapper--insertBefore":l&&(null!=u?u:-1)<(null!=c?c:-1),"controlFrameWrapper--insertAfter":l&&(null!=u?u:-1)>(null!=c?c:-1)}),style:r},Object(I.jsx)(D,{enableActions:-1===c,embeddableId:e,embeddableType:t,customPrepend:b}))})),L=({draggingId:e})=>{const t=de((e=>e.explicitInput.panels)),n=de((e=>e.explicitInput.controlStyle)),r=t[e].width,o=t[e].explicitInput.title;return Object(I.jsx)(w.EuiFlexItem,{className:v()("controlFrameCloneWrapper",{"controlFrameCloneWrapper--small":"small"===r,"controlFrameCloneWrapper--medium":"medium"===r,"controlFrameCloneWrapper--large":"large"===r,"controlFrameCloneWrapper--twoLine":"twoLine"===n})},"twoLine"===n?Object(I.jsx)(w.EuiFormLabel,null,o):void 0,Object(I.jsx)(w.EuiFlexGroup,{responsive:!1,gutterSize:"none",className:"controlFrame__draggable"},Object(I.jsx)(w.EuiFlexItem,{grow:!1},Object(I.jsx)(w.EuiIcon,{type:"grabHorizontal",className:"controlFrame__dragHandle"})),"oneLine"===n?Object(I.jsx)(w.EuiFlexItem,null,Object(I.jsx)("label",{className:"controlFrameCloneWrapper__label"},o)):void 0))},W=()=>{const e=pe(),t=de((e=>e.explicitInput.panels)),n=de((e=>e.explicitInput.viewMode)),r=de((e=>e.explicitInput.controlStyle)),o=de((e=>e.explicitInput.showApplySelections)),i=de((e=>e.componentState.showAddButton)),a=de((e=>e.componentState.unpublishedFilters)),c=de((e=>e.componentState.controlWithInvalidSelectionsId)),[u,d]=Object(l.useState)(!0),[p,m]=Object(l.useState)(!1),[h,b]=Object(l.useState)(!1),f=n===g.ViewMode.EDIT,j=Object(l.useMemo)((()=>Object.values(t).sort(((e,t)=>e.order>t.order?1:-1)).reduce(((e,t)=>(e.push(t.explicitInput.id),e)),[])),[t]);Object(l.useEffect)((()=>{let e=!0;return b(!1),setTimeout((()=>{e&&b(!0)}),100),()=>{e=!1}}),[c]);const S=Object(l.useMemo)((()=>Boolean(a)),[a]),O=Object(l.useMemo)((()=>i||o),[i,o]),F=Object(l.useMemo)((()=>Object(I.jsx)(w.EuiButtonIcon,{size:"m",disabled:!S,iconSize:"m",display:"fill",color:"success",iconType:"check","data-test-subj":"controlGroup--applyFiltersButton","aria-label":C.a.management.getApplyButtonTitle(S),onClick:()=>{a&&e.publishFilters(a)}})),[S,a,e]),E=Object(l.useMemo)((()=>{if(!(h&&e.canShowInvalidSelectionsWarning()&&u&&c&&t[c]))return null;const n=t[c].type;return Object(I.jsx)(w.EuiTourStep,{step:1,stepsTotal:1,minWidth:300,maxWidth:300,display:"block",isStepOpen:!0,repositionOnScroll:!0,onFinish:()=>{},panelPaddingSize:"m",anchorPosition:"downCenter",panelClassName:"controlGroup--invalidSelectionsTour",anchor:`#controlFrame--${c}`,title:Object(I.jsx)(w.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},Object(I.jsx)(w.EuiFlexItem,{grow:!1},Object(I.jsx)(w.EuiIcon,{type:"warning",color:"warning"})),Object(I.jsx)(w.EuiFlexItem,null,C.a.invalidControlWarning.getTourTitle())),content:C.a.invalidControlWarning.getTourContent(n),footerAction:[Object(I.jsx)(w.EuiCheckbox,{checked:p,id:"controlGroup--suppressTourCheckbox",className:"controlGroup--suppressTourCheckbox",onChange:e=>m(e.target.checked),label:Object(I.jsx)(w.EuiText,{size:"xs",className:"controlGroup--suppressTourCheckboxLabel"},C.a.invalidControlWarning.getSuppressTourLabel())}),Object(I.jsx)(w.EuiButtonEmpty,{size:"xs",flush:"right",color:"text",onClick:()=>{d(!1),p&&e.suppressInvalidSelectionsWarning()}},C.a.invalidControlWarning.getDismissButton())]})}),[t,e,u,h,p,c]),[D,R]=Object(l.useState)(null),W=Object(l.useMemo)((()=>D?j.indexOf(D):-1),[j,D]),_=Object(y.useSensors)(Object(y.useSensor)(y.PointerSensor),Object(y.useSensor)(y.KeyboardSensor,{coordinateGetter:x.sortableKeyboardCoordinates})),k=!(j&&j.length>0);if(!f&&k)return null;let M="transparent";return k&&(M="plain"),D&&(M="success"),Object(I.jsx)(s.a.Fragment,null,j.length>0||i?Object(I.jsx)(w.EuiPanel,{borderRadius:"m",color:M,paddingSize:k?"s":"none","data-test-subj":"controls-group-wrapper",className:v()("controlsWrapper",{"controlsWrapper--empty":k,"controlsWrapper--twoLine":"twoLine"===r})},Object(I.jsx)(w.EuiFlexGroup,{wrap:!1,gutterSize:"s",direction:"row",responsive:!1,alignItems:"stretch",justifyContent:"center","data-test-subj":"controls-group"},E,Object(I.jsx)(w.EuiFlexItem,null,Object(I.jsx)(y.DndContext,{onDragStart:({active:e})=>R(`${e.id}`),onDragEnd:({over:t})=>{var n;if(t){const n=j.indexOf(`${t.id}`);if(W!==n){const t=n;e.dispatch.setControlOrders({ids:Object(x.arrayMove)([...j],W,t)})}}null===(n=document.activeElement)||void 0===n||n.blur(),R(null)},onDragCancel:()=>R(null),sensors:_,measuring:{droppable:{strategy:y.MeasuringStrategy.Always}},collisionDetection:y.closestCenter},Object(I.jsx)(x.SortableContext,{items:j,strategy:x.rectSortingStrategy},Object(I.jsx)(w.EuiFlexGroup,{className:v()("controlGroup",{"controlGroup-isDragging":D}),alignItems:"center",gutterSize:"s",wrap:!0},j.map(((e,n)=>t[e]&&Object(I.jsx)(T,{isEditable:f,dragInfo:{index:n,draggingIndex:W},embeddableId:e,embeddableType:t[e].type,key:e}))))),Object(I.jsx)(y.DragOverlay,null,D?Object(I.jsx)(L,{draggingId:D}):null))),O&&Object(I.jsx)(w.EuiFlexItem,{grow:!1,className:"controlGroup--endButtonGroup","data-test-subj":"controlGroup--endButtonGroup"},Object(I.jsx)(w.EuiFlexGroup,{responsive:!1,gutterSize:"s",alignItems:"center"},i&&Object(I.jsx)(w.EuiFlexItem,{grow:!1},Object(I.jsx)(w.EuiToolTip,{content:C.a.management.getAddControlTitle()},Object(I.jsx)(w.EuiButtonIcon,{size:"m",iconSize:"m",display:"base",iconType:"plusInCircle","data-test-subj":"controlGroup--addControlButton","aria-label":C.a.management.getAddControlTitle(),onClick:()=>e.openAddDataControlFlyout()}))),o&&Object(I.jsx)(w.EuiFlexItem,{grow:!1},S?F:Object(I.jsx)(w.EuiToolTip,{content:C.a.management.getApplyButtonTitle(!1)},F)))))):Object(I.jsx)(s.a.Fragment,null))};var _=n(71),k=n(41),M=n(10),N=n(75);function A(e){var t,n;const{controlInputTransform:r,onSave:o}=e||{},{core:{theme:i,i18n:a},overlays:{openFlyout:l,openConfirm:s},controls:{getControlFactory:c}}=b.a.getServices(),u=e=>{e&&0!==Object.keys(e.input).length?s(C.a.management.discardNewControl.getSubtitle(),{confirmButtonText:C.a.management.discardNewControl.getConfirm(),cancelButtonText:C.a.management.discardNewControl.getCancel(),title:C.a.management.discardNewControl.getTitle(),buttonColor:"danger"}).then((e=>{e&&this.closeAllFlyouts()})):this.closeAllFlyouts()},p=l(Object(_.a)(Object(I.jsx)(se.Provider,{value:this},Object(I.jsx)(N.a,{setLastUsedDataViewId:e=>this.setLastUsedDataViewId(e),getRelevantDataViewId:this.getMostRelevantDataViewId,isCreate:!0,width:null!==(t=this.getInput().defaultControlWidth)&&void 0!==t?t:M.c,grow:null!==(n=this.getInput().defaultControlGrow)&&void 0!==n?n:M.a,onSave:async(e,t)=>{if(this.closeAllFlyouts(),!t)return;let n=e.input;const i=c(t);i.presaveTransformFunction&&(n=i.presaveTransformFunction(n)),r&&(n=r({...n},t));const a={grow:e.grow,width:e.width,...n};let l;switch(t){case k.OPTIONS_LIST_CONTROL:l=await this.addOptionsListControl(a);break;case k.RANGE_SLIDER_CONTROL:l=await this.addRangeSliderControl(a);break;default:l=await this.addDataControlFromField(a)}o&&!Object(g.isErrorEmbeddable)(l)&&o(l.id),Object(d.batch)((()=>{this.dispatch.setDefaultControlGrow(e.grow),this.dispatch.setDefaultControlWidth(e.width)}))},onCancel:u})),{theme:i,i18n:a}),{"aria-label":C.a.manageControl.getFlyoutCreateTitle(),outsideClickCloses:!1,onClose:()=>{u()}});le(p)}var P=n(8),B=n.n(P),z=n(23),G=n(33);const K=({controlCount:e,initialInput:t,updateInput:n,onDeleteAll:r,onClose:o})=>{var i,a,c,u;const[d,p]=Object(l.useState)({...Object(h.getDefaultControlGroupInput)(),...t}),g=Object(l.useCallback)((e=>{p({...d,...e})}),[d]),m=Object(l.useCallback)((e=>{var t;p({...d,ignoreParentSettings:{...null!==(t=d.ignoreParentSettings)&&void 0!==t?t:{},...e}})}),[d]),b=Object(l.useCallback)((()=>{const e={...d};var r,o;r=e,o=t,B()(r,o)||n(e)}),[d,t,n]);return Object(I.jsx)(s.a.Fragment,null,Object(I.jsx)(w.EuiFlyoutHeader,{hasBorder:!0},Object(I.jsx)(w.EuiTitle,{size:"m"},Object(I.jsx)("h2",null,C.a.management.getFlyoutTitle()))),Object(I.jsx)(w.EuiFlyoutBody,{"data-test-subj":"control-group-settings-flyout"},Object(I.jsx)(w.EuiForm,{component:"form",fullWidth:!0},Object(I.jsx)(w.EuiFormRow,{label:C.a.management.labelPosition.getLabelPositionTitle()},Object(I.jsx)(w.EuiButtonGroup,{color:"primary",options:G.a,"data-test-subj":"control-group-layout-options",idSelected:d.controlStyle,legend:C.a.management.labelPosition.getLabelPositionLegend(),onChange:e=>{g({controlStyle:e})}})),Object(I.jsx)(w.EuiFormRow,{label:C.a.management.filteringSettings.getFilteringSettingsTitle()},Object(I.jsx)("div",null,Object(I.jsx)(w.EuiSwitch,{compressed:!0,"data-test-subj":"control-group-filter-sync",label:C.a.management.filteringSettings.getUseGlobalFiltersTitle(),onChange:e=>m({ignoreFilters:!e.target.checked,ignoreQuery:!e.target.checked}),checked:!Boolean(null===(i=d.ignoreParentSettings)||void 0===i?void 0:i.ignoreFilters)||!Boolean(null===(a=d.ignoreParentSettings)||void 0===a?void 0:a.ignoreQuery)}),Object(I.jsx)(w.EuiSpacer,{size:"s"}),Object(I.jsx)(w.EuiSwitch,{compressed:!0,"data-test-subj":"control-group-query-sync-time-range",label:C.a.management.filteringSettings.getUseGlobalTimeRangeTitle(),onChange:e=>m({ignoreTimerange:!e.target.checked}),checked:!Boolean(null===(c=d.ignoreParentSettings)||void 0===c?void 0:c.ignoreTimerange)}))),Object(I.jsx)(w.EuiFormRow,{label:C.a.management.selectionSettings.getSelectionSettingsTitle()},Object(I.jsx)("div",null,Object(I.jsx)(w.EuiSwitch,{compressed:!0,"data-test-subj":"control-group-validate-selections",label:Object(I.jsx)(z.a,{label:C.a.management.selectionSettings.validateSelections.getValidateSelectionsTitle(),tooltip:C.a.management.selectionSettings.validateSelections.getValidateSelectionsTooltip()}),checked:!Boolean(null===(u=d.ignoreParentSettings)||void 0===u?void 0:u.ignoreValidations),onChange:e=>m({ignoreValidations:!e.target.checked})}),Object(I.jsx)(w.EuiSpacer,{size:"s"}),Object(I.jsx)(w.EuiSwitch,{compressed:!0,"data-test-subj":"control-group-chaining",label:Object(I.jsx)(z.a,{label:C.a.management.selectionSettings.controlChaining.getHierarchyTitle(),tooltip:C.a.management.selectionSettings.controlChaining.getHierarchyTooltip()}),checked:"HIERARCHICAL"===d.chainingSystem,onChange:e=>g({chainingSystem:e.target.checked?"HIERARCHICAL":"NONE"})}),Object(I.jsx)(w.EuiSpacer,{size:"s"}),Object(I.jsx)(w.EuiSwitch,{compressed:!0,"data-test-subj":"control-group-auto-apply-selections",label:Object(I.jsx)(z.a,{label:C.a.management.selectionSettings.showApplySelections.getShowApplySelectionsTitle(),tooltip:C.a.management.selectionSettings.showApplySelections.getShowApplySelectionsTooltip()}),checked:!d.showApplySelections,onChange:e=>g({showApplySelections:!e.target.checked})}))),e>0&&Object(I.jsx)(s.a.Fragment,null,Object(I.jsx)(w.EuiHorizontalRule,{margin:"m"}),Object(I.jsx)(w.EuiFormRow,null,Object(I.jsx)(w.EuiButtonEmpty,{onClick:r,"data-test-subj":"delete-all-controls-button","aria-label":"delete-all",iconType:"trash",color:"danger",flush:"left",size:"s"},C.a.management.getDeleteAllButtonTitle()))))),Object(I.jsx)(w.EuiFlyoutFooter,null,Object(I.jsx)(w.EuiFlexGroup,{responsive:!1,justifyContent:"spaceBetween"},Object(I.jsx)(w.EuiFlexItem,{grow:!1},Object(I.jsx)(w.EuiButtonEmpty,{"aria-label":"cancel-editing-group",iconType:"cross",onClick:()=>{o()}},C.a.manageControl.getCancelTitle())),Object(I.jsx)(w.EuiFlexItem,{grow:!1},Object(I.jsx)(w.EuiButton,{"aria-label":"save-group",iconType:"check",color:"primary","data-test-subj":"control-group-editor-save",onClick:()=>{b(),o()}},C.a.manageControl.getSaveChangesTitle())))))};function U(){var e;const{core:{theme:t,i18n:n},overlays:{openFlyout:r,openConfirm:o}}=b.a.getServices(),i=e=>{o(C.a.management.deleteControls.getSubtitle(),{confirmButtonText:C.a.management.deleteControls.getConfirm(),cancelButtonText:C.a.management.deleteControls.getCancel(),title:C.a.management.deleteControls.getDeleteAllTitle(),buttonColor:"danger"}).then((t=>{t&&Object.keys(this.getInput().panels).forEach((e=>this.removeEmbeddable(e))),e.close()}))},a=r(Object(_.a)(Object(I.jsx)(se.Provider,{value:this},Object(I.jsx)(K,{initialInput:this.getInput(),updateInput:e=>this.updateInput(e),controlCount:Object.keys(null!==(e=this.getInput().panels)&&void 0!==e?e:{}).length,onDeleteAll:()=>i(a),onClose:()=>a.close()})),{theme:t,i18n:n}),{"aria-label":C.a.manageControl.getFlyoutCreateTitle(),outsideClickCloses:!1,onClose:()=>{this.closeAllFlyouts()}});le(a)}var $=n(26),H=n(65);const q=["setDefaultControlWidth","setDefaultControlGrow"];function X(){const e=new p.Subject;return this.diffingSubscription.add(e.pipe(Object(p.startWith)(null),Object(p.debounceTime)(H.a),Object(p.switchMap)((()=>new p.Observable((e=>{var t;if(e.closed)return;const{explicitInput:n,componentState:{lastSavedInput:r,lastSavedFilters:o},output:{filters:l,timeslice:s}}=this.getState(),c=!(Object(h.persistableControlGroupInputIsEqual)(n,r,!1)&&Object(i.compareFilters)(null!=l?l:[],null!==(t=null==o?void 0:o.filters)&&void 0!==t?t:[],i.COMPARE_ALL_OPTIONS)&&Object(a.isEqual)(s,null==o?void 0:o.timeslice));this.unsavedChanges.next(c?this.getPersistableInput():void 0)}))))).subscribe()),t=>t=>n=>{var r;const o=null===(r=n.type.split("/"))||void 0===r?void 0:r[1];o&&"updateEmbeddableReduxOutput"!==o&&!q.includes(o)&&e.next(null),t(n)}}const J={setControlWithInvalidSelectionsId:(e,t)=>{e.componentState.controlWithInvalidSelectionsId=t.payload},setLastSavedInput:(e,t)=>{e.componentState.lastSavedInput=t.payload},setLastSavedFilters:(e,t)=>{e.componentState.lastSavedFilters=t.payload},setUnpublishedFilters:(e,t)=>{e.componentState.unpublishedFilters=t.payload},setControlStyle:(e,t)=>{e.explicitInput.controlStyle=t.payload},setChainingSystem:(e,t)=>{e.explicitInput.chainingSystem=t.payload},setDefaultControlWidth:(e,t)=>{e.explicitInput.defaultControlWidth=t.payload},setDefaultControlGrow:(e,t)=>{e.explicitInput.defaultControlGrow=t.payload},setControlWidth:(e,t)=>{e.explicitInput.panels[t.payload.embeddableId].width=t.payload.width},setControlGrow:(e,t)=>{e.explicitInput.panels[t.payload.embeddableId].grow=t.payload.grow},setControlOrders:(e,t)=>{t.payload.ids.forEach(((t,n)=>{e.explicitInput.panels[t].order=n}))}};var Q=n(16);const Z=e=>Object.values(null!=e?e:{}).map((e=>({id:e.explicitInput.id,order:e.order}))),ee=Object(a.memoize)((e=>{const t={},n=[];Object.values(e).sort(((e,t)=>e.order>t.order?1:-1)).forEach((e=>{t[e.explicitInput.id]=e.order,n.push(e.explicitInput.id)}));const r=n[n.length-1];return{IdsToOrder:t,idsInOrder:n,lastChildId:r}}),(e=>JSON.stringify(Z(e)))),ne={HIERARCHICAL:{getContainerSettings:e=>({childIdInitializeOrder:Object.values(e.panels).sort(((e,t)=>e.order>t.order?1:-1)).map((e=>e.explicitInput.id)),initializeSequentially:!0}),getPrecedingFilters:({id:e,childOrder:t,getChild:n})=>{var r;let o,i=[];const a=null===(r=t.IdsToOrder)||void 0===r?void 0:r[e];if(!a||0===a)return{filters:i,timeslice:o};for(let e=0;e<a;e++){var l;const r=n(t.idsInOrder[e]);if(!r||Object(g.isErrorEmbeddable)(r))return{filters:i,timeslice:o};const a=r.getOutput();a.timeslice&&(o=a.timeslice),i=[...i,...null!==(l=a.filters)&&void 0!==l?l:[]]}return{filters:i,timeslice:o}},onChildChange:({childOutputChangedId:e,childOrder:t,recalculateFilters$:n,getChild:r})=>{if(e===t.lastChildId)return void n.next(null);let o=t.IdsToOrder[e]+1;for(;o<t.idsInOrder.length;){var i;const e=r(t.idsInOrder[o]);if(null!=e&&null!==(i=e.isChained)&&void 0!==i&&i.call(e))return void setTimeout((()=>e.refreshInputFromParent()),1);if(e.id===t.lastChildId)return void n.next(null);o+=1}}},NONE:{getContainerSettings:()=>{},getPrecedingFilters:()=>{},onChildChange:({recalculateFilters$:e})=>e.next(null)}};var re=n(27);let ie;const le=e=>{ie=e},se=Object(l.createContext)(null),de=d.useSelector,pe=()=>{const e=Object(l.useContext)(se);if(null==e)throw new Error("useControlGroupContainer must be used inside ControlGroupContainerContext.");return e};class control_group_container_ControlGroupContainer extends g.Container{constructor(e,t,n,r,l){var s;super(t,{dataViewIds:[],embeddableLoaded:{},filters:[]},b.a.getServices().controls.getControlFactory,n,null===(s=ne[t.chainingSystem])||void 0===s?void 0:s.getContainerSettings(t)),o()(this,"type",Q.a),o()(this,"anyControlOutputConsumerLoading$",new p.Subject),o()(this,"initialized$",new p.BehaviorSubject(!1)),o()(this,"storageService",void 0),o()(this,"subscriptions",new p.Subscription),o()(this,"domNode",void 0),o()(this,"recalculateFilters$",void 0),o()(this,"relevantDataViewId",void 0),o()(this,"lastUsedDataViewId",void 0),o()(this,"invalidSelectionsState",{}),o()(this,"diffingSubscription",new p.Subscription),o()(this,"select",void 0),o()(this,"getState",void 0),o()(this,"dispatch",void 0),o()(this,"onStateChange",void 0),o()(this,"store",void 0),o()(this,"cleanupStateTools",void 0),o()(this,"onFiltersPublished$",void 0),o()(this,"onControlRemoved$",void 0),o()(this,"unsavedChanges",void 0),o()(this,"fieldFilterPredicate",void 0),o()(this,"canShowInvalidSelectionsWarning",(()=>{var e;return null===(e=this.storageService.getShowInvalidSelectionWarning())||void 0===e||e})),o()(this,"suppressInvalidSelectionsWarning",(()=>{this.storageService.setShowInvalidSelectionWarning(!1)})),o()(this,"reportInvalidSelections",(({id:e,hasInvalidSelections:t})=>{this.invalidSelectionsState={...this.invalidSelectionsState,[e]:t};const n=ee(this.getInput().panels).idsInOrder.filter((e=>this.invalidSelectionsState[e]));this.dispatch.setControlWithInvalidSelectionsId(n.length>0?n[0]:void 0)})),o()(this,"setupSubscriptions",(()=>{this.subscriptions.add(this.getInput$().pipe(Object(p.skip)(1),Object(p.distinctUntilChanged)(((e,t)=>{return n=e.panels,r=t.panels,B()(Z(n),Z(r));var n,r}))).subscribe((e=>{this.recalculateDataViews(),this.recalculateFilters$.next(null),ee(e.panels).idsInOrder.forEach((e=>{var t;return null===(t=this.getChild(e))||void 0===t?void 0:t.refreshInputFromParent()}))}))),this.subscriptions.add(this.getInput$().pipe(Object(p.distinctUntilChanged)(((e,t)=>Boolean(e.showApplySelections)===Boolean(t.showApplySelections))),Object(p.skip)(1)).subscribe((()=>{const{filters:e,timeslice:t}=this.recalculateFilters();this.publishFilters({filters:e,timeslice:t})}))),this.subscriptions.add(this.getAnyChildOutputChange$().subscribe((e=>{this.recalculateDataViews(),ne[this.getInput().chainingSystem].onChildChange({childOutputChangedId:e,childOrder:ee(this.getInput().panels),getChild:e=>this.getChild(e),recalculateFilters$:this.recalculateFilters$})}))),this.subscriptions.add(this.recalculateFilters$.pipe(Object(p.debounceTime)(10)).subscribe((()=>{const{filters:e,timeslice:t}=this.recalculateFilters();this.tryPublishFilters({filters:e,timeslice:t})})))})),o()(this,"getPersistableInput",(()=>{const e=this.getInput();return Object(a.pick)(e,[...h.persistableControlGroupInputKeys,"id"])})),o()(this,"updateInputAndReinitialize",(e=>{this.subscriptions.unsubscribe(),this.subscriptions=new p.Subscription,this.initialized$.next(!1),this.updateInput(e),this.untilAllChildrenReady().then((()=>{this.dispatch.setControlWithInvalidSelectionsId(void 0),this.invalidSelectionsState=this.getChildIds().reduce(((e,t)=>({...e,[t]:!1})),{}),this.recalculateDataViews();const{filters:e,timeslice:t}=this.recalculateFilters();this.publishFilters({filters:e,timeslice:t}),this.setupSubscriptions(),this.initialized$.next(!0)}))})),o()(this,"setLastUsedDataViewId",(e=>{this.lastUsedDataViewId=e})),o()(this,"setRelevantDataViewId",(e=>{this.relevantDataViewId=e})),o()(this,"getMostRelevantDataViewId",(()=>{var e;return null!==(e=this.lastUsedDataViewId)&&void 0!==e?e:this.relevantDataViewId})),o()(this,"openAddDataControlFlyout",A),o()(this,"openEditControlGroupFlyout",U),o()(this,"getPanelCount",(()=>Object.keys(this.getInput().panels).length)),o()(this,"updateFilterContext",(e=>{this.updateInput({filters:e})})),o()(this,"recalculateFilters",(()=>{const e=[];let t;return Object.values(this.children$.value).map((n=>{var r;const o=n.getOutput();e.push(...null!==(r=null==o?void 0:o.filters)&&void 0!==r?r:[]),o.timeslice&&(t=o.timeslice)})),{filters:Object(i.uniqFilters)(e),timeslice:t}})),o()(this,"tryPublishFilters",(({filters:e,timeslice:t})=>{var n;if(Object(i.compareFilters)(null!==(n=this.output.filters)&&void 0!==n?n:[],null!=e?e:[],i.COMPARE_ALL_OPTIONS)&&Object(a.isEqual)(this.output.timeslice,t))this.dispatch.setUnpublishedFilters(void 0);else{const{explicitInput:{showApplySelections:n}}=this.getState();n?this.dispatch.setUnpublishedFilters({filters:e,timeslice:t}):this.publishFilters({filters:e,timeslice:t})}})),o()(this,"publishFilters",(({filters:e,timeslice:t})=>{this.updateOutput({filters:e,timeslice:t}),this.dispatch.setUnpublishedFilters(void 0),this.onFiltersPublished$.next(null!=e?e:[])})),o()(this,"recalculateDataViews",(()=>{const e=new Set;Object.values(this.children$.value).map((t=>{const n=t.getOutput().dataViewId;n&&e.add(n)})),this.updateOutput({dataViewIds:Array.from(e)})})),o()(this,"untilAllChildrenReady",(()=>{const e=()=>Object.keys(this.getInput().panels).some((e=>!this.getOutput().embeddableLoaded[e]));return e()?new Promise(((t,n)=>{const r=Object(p.merge)(this.getOutput$(),this.getInput$()).subscribe((()=>{this.destroyed&&(r.unsubscribe(),n()),e()||(r.unsubscribe(),t())}))})):Promise.resolve()})),o()(this,"untilInitialized",(()=>!1===this.initialized$.value?new Promise(((e,t)=>{const n=this.initialized$.subscribe((r=>{this.destroyed&&(n.unsubscribe(),t()),r&&(n.unsubscribe(),e())}))})):Promise.resolve())),({storage:this.storageService}=b.a.getServices()),this.recalculateFilters$=new p.Subject,this.onFiltersPublished$=new p.Subject,this.onControlRemoved$=new p.Subject,this.unsavedChanges=new p.BehaviorSubject(void 0);const c=X.bind(this)(),u=e.createReduxEmbeddableTools({embeddable:this,reducers:J,additionalMiddleware:[c],initialComponentState:r});this.select=u.select,this.getState=u.getState,this.dispatch=u.dispatch,this.cleanupStateTools=u.cleanup,this.onStateChange=u.onStateChange,this.store=u.store,this.untilAllChildrenReady().then((()=>{var e,t;this.invalidSelectionsState=this.getChildIds().reduce(((e,t)=>({...e,[t]:!1})),{}),this.recalculateDataViews(),this.setupSubscriptions();const{filters:n,timeslice:o}=this.recalculateFilters();this.publishFilters({filters:n,timeslice:o}),this.calculateFiltersFromSelections(null!==(e=null==r||null===(t=r.lastSavedInput)||void 0===t?void 0:t.panels)&&void 0!==e?e:{}).then((e=>{this.dispatch.setLastSavedFilters(e)})),this.initialized$.next(!0)})),this.fieldFilterPredicate=l}setSavedState(e){var t;this.calculateFiltersFromSelections(null!==(t=null==e?void 0:e.panels)&&void 0!==t?t:{}).then((t=>{Object(d.batch)((()=>{this.dispatch.setLastSavedInput(e),this.dispatch.setLastSavedFilters(t)}))}))}resetToLastSavedState(){const{explicitInput:{showApplySelections:e},componentState:{lastSavedInput:t}}=this.getState();t&&!Object(h.persistableControlGroupInputIsEqual)(this.getPersistableInput(),t)&&(this.updateInput(t),(e||t.showApplySelections)&&this.calculateFiltersFromSelections(t.panels).then((e=>{this.publishFilters(e)})),this.reload())}reload(){super.reload()}closeAllFlyouts(){var e;null===(e=ie)||void 0===e||e.close(),ie=void 0}async addDataControlFromField(e){const t=await Object($.b)(this.getInput(),e);return this.createAndSaveEmbeddable(t.type,t,this.getInput().panels)}addOptionsListControl(e){const t=Object($.c)(this.getInput(),e);return this.createAndSaveEmbeddable(t.type,t,this.getInput().panels)}addRangeSliderControl(e){const t=Object($.d)(this.getInput(),e);return this.createAndSaveEmbeddable(t.type,t,this.getInput().panels)}addTimeSliderControl(){const e=Object($.e)(this.getInput());return this.createAndSaveEmbeddable(e.type,e,this.getInput().panels)}async calculateFiltersFromSelections(e){let t,n=[];const r=Object.values(this.children$.value);return await Promise.all(r.map((async r=>{if(e[r.id]){var o,i,a;const l=null!==(o=await(null===(i=(a=r).selectionsToFilters)||void 0===i?void 0:i.call(a,e[r.id].explicitInput)))&&void 0!==o?o:{};l.filters?n=[...n,...l.filters]:l.timeslice&&(t=l.timeslice)}}))),{filters:n,timeslice:t}}createNewPanelState(e,t={},n){const{newPanel:r}=super.createNewPanelState(e,t);return{newPanel:{order:Object(re.b)(this.getInput().panels),width:this.getInput().defaultControlWidth,grow:this.getInput().defaultControlGrow,...r},otherPanels:n}}removePanel(e){super.removeEmbeddable(e)}onRemoveEmbeddable(e){const t=super.onRemoveEmbeddable(e),n=ee(this.getInput().panels);for(let r=n.IdsToOrder[e]+1;r<n.idsInOrder.length;r++){const e=t[n.idsInOrder[r]].order;t[n.idsInOrder[r]]={...t[n.idsInOrder[r]],order:e-1}}return this.onControlRemoved$.next(e),t}getInheritedInput(e){var t;const{filters:n,query:r,ignoreParentSettings:o,timeRange:i,chainingSystem:a,panels:l}=this.getInput(),s=ne[a].getPrecedingFilters({id:e,childOrder:ee(l),getChild:e=>this.getChild(e)});return{ignoreParentSettings:o,filters:[...null!=o&&o.ignoreFilters?[]:null!=n?n:[],...null!==(t=null==s?void 0:s.filters)&&void 0!==t?t:[]],query:null!=o&&o.ignoreQuery?void 0:r,timeRange:null!=o&&o.ignoreTimerange?void 0:i,timeslice:null!=o&&o.ignoreTimerange||null==s?void 0:s.timeslice,id:e}}render(e){this.domNode&&u.a.unmountComponentAtNode(this.domNode),this.domNode=e,u.a.render(Object(I.jsx)(m.a,b.a.getServices().core,Object(I.jsx)(d.Provider,{store:this.store},Object(I.jsx)(se.Provider,{value:this},Object(I.jsx)(W,null)))),e)}destroy(){super.destroy(),this.closeAllFlyouts(),this.subscriptions.unsubscribe(),this.cleanupStateTools(),this.domNode&&u.a.unmountComponentAtNode(this.domNode)}}},function(e,t,n){"use strict";e.exports=n(83)},,function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(4),o=n(47),i=n.n(o),a=n(61),l=n(3);const s=(e,t)=>n=>(i.a.render(Object(l.jsx)(a.a,t,e),n),()=>i.a.unmountComponentAtNode(n));n(1),n(0),r.Component},,function(e,t,n){"use strict";e.exports=n(82)},function(e,t,n){"use strict";e.exports=n(86)},function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var r=n(8),o=n.n(r),i=n(4),a=n.n(i),l=n(36),s=n.n(l),c=n(87),u=n.n(c),d=n(6),p=n(5),g=n(7),m=n(19),h=n(20),b=n(68),f=n(38),v=n(33),y=n(3);const x=Object(p.withSuspense)(p.LazyFieldPicker,null),w=Object(p.withSuspense)(p.LazyDataViewPicker,null),C=({embeddable:e,isCreate:t,width:n,grow:r,onSave:l,onCancel:c,removeControl:p,getRelevantDataViewId:C,setLastUsedDataViewId:j})=>{var S,O;const{dataViews:{getIdsWithTitle:F,getDefaultId:E,get:I},controls:{getControlFactory:D,getControlTypes:T}}=m.a.getServices(),R=Object(b.useControlGroupContainer)(),L=R.select((e=>e.componentState.editorConfig)),[W,_]=Object(i.useState)(r),[k,M]=Object(i.useState)(n),[N,A]=Object(i.useState)(),[P,B]=Object(i.useState)(null!==(S=null==e?void 0:e.getTitle())&&void 0!==S?S:""),[z,G]=Object(i.useState)(!1),[K,U]=Object(i.useState)(),[$,H]=Object(i.useState)(e?e.getInput().fieldName:void 0),[q,X]=Object(i.useState)(e?e.type:void 0),[J,Q]=Object(i.useState)(),Z=Object(i.useMemo)((()=>({fieldName:$,dataViewId:K,title:""===P?null!=N?N:$:P,...J})),[P,N,$,K,J]),ee=Object(i.useRef)(Z);u()((()=>{let t=!0;return $&&A($),(async(n,r,o,i)=>{if(!t)return;const a=null!==(n=null!==(r=null!==(o=null==e?void 0:e.getInput().dataViewId)&&void 0!==o?o:null===(i=R.getOutput().dataViewIds)||void 0===i?void 0:i[0])&&void 0!==r?r:null==C?void 0:C())&&void 0!==n?n:await E();a&&(U(a),ee.current={...ee.current,dataViewId:a})})(),()=>{t=!1}}));const{loading:ne,value:re=[]}=s()((()=>F())),{loading:ie,value:{selectedDataView:le,fieldRegistry:se}={selectedDataView:void 0,fieldRegistry:void 0}}=s()((async()=>{if(!K)return;const e=await I(K);return{selectedDataView:e,fieldRegistry:await Object(f.a)(e)}}),[K]);Object(i.useEffect)((()=>G(Boolean($)&&Boolean(le)&&Boolean(q))),[$,G,le,q]);const de=Object(i.useMemo)((()=>{const e=T().filter((e=>e!==g.TIME_SLIDER_CONTROL));return Object(y.jsx)(d.EuiKeyPadMenu,{"data-test-subj":"controlTypeMenu","aria-label":h.a.manageControl.dataSource.getControlTypeTitle()},e.map((e=>{var t;const n=D(e),r=!se||!$||!(null!==(t=se[$])&&void 0!==t&&t.compatibleControlTypes.includes(e)),o=Object(y.jsx)(d.EuiKeyPadMenuItem,{key:e,id:`create__${e}`,"aria-label":n.getDisplayName(),"data-test-subj":`create__${e}`,isSelected:e===q,disabled:r,onClick:()=>X(e),label:n.getDisplayName()},Object(y.jsx)(d.EuiIcon,{type:n.getIconType(),size:"l"}));return r?Object(y.jsx)(d.EuiToolTip,{key:`disabled__${e}`,content:h.a.manageControl.dataSource.getControlTypeErrorMessage({fieldSelected:Boolean($),controlType:e})},o):o})))}),[$,se,D,T,q]),pe=Object(i.useMemo)((()=>{if(!q||!$||!se)return;const t=D(q),n=t.controlEditorOptionsComponent;return n?Object(y.jsx)(d.EuiDescribedFormGroup,{ratio:"third",title:Object(y.jsx)("h2",null,h.a.manageControl.controlTypeSettings.getFormGroupTitle(t.getDisplayName())),description:h.a.manageControl.controlTypeSettings.getFormGroupDescription(t.getDisplayName()),"data-test-subj":"control-editor-custom-settings"},Object(y.jsx)(n,{onChange:e=>Q(e),initialInput:null==e?void 0:e.getInput(),fieldType:se[$].field.type,setControlEditorValid:G})):void 0}),[q,$,D,se,e]);return Object(y.jsx)(a.a.Fragment,null,Object(y.jsx)(d.EuiFlyoutHeader,{hasBorder:!0},Object(y.jsx)(d.EuiTitle,{size:"m"},Object(y.jsx)("h2",null,t?h.a.manageControl.getFlyoutCreateTitle():h.a.manageControl.getFlyoutEditTitle()))),Object(y.jsx)(d.EuiFlyoutBody,{"data-test-subj":"control-editor-flyout"},Object(y.jsx)(d.EuiForm,{fullWidth:!0},Object(y.jsx)(d.EuiDescribedFormGroup,{ratio:"third",title:Object(y.jsx)("h2",null,h.a.manageControl.dataSource.getFormGroupTitle()),description:h.a.manageControl.dataSource.getFormGroupDescription()},!(null!=L&&L.hideDataViewSelector)&&Object(y.jsx)(d.EuiFormRow,{label:h.a.manageControl.dataSource.getDataViewTitle()},Object(y.jsx)(w,{dataViews:re,selectedDataViewId:K,onChangeDataViewId:e=>{null==j||j(e),e!==K&&(H(void 0),U(e))},trigger:{label:null!==(O=null==le?void 0:le.getName())&&void 0!==O?O:h.a.manageControl.dataSource.getSelectDataViewMessage()},selectableProps:{isLoading:ne}})),Object(y.jsx)(d.EuiFormRow,{label:h.a.manageControl.dataSource.getFieldTitle()},Object(y.jsx)(x,{filterPredicate:e=>{var t,n;const r=null===(t=null===(n=R.fieldFilterPredicate)||void 0===n?void 0:n.call(R,e))||void 0===t||t;return Boolean(null==se?void 0:se[e.name])&&r},selectedFieldName:$,dataView:le,onSelectField:e=>{var t,n;const r=null!==(t=e.displayName)&&void 0!==t?t:e.name;A(r),H(e.name),X(null==se||null===(n=se[e.name])||void 0===n?void 0:n.compatibleControlTypes[0]),P&&P!==N||B(r)},selectableProps:{isLoading:ne||ie}})),Object(y.jsx)(d.EuiFormRow,{label:h.a.manageControl.dataSource.getControlTypeTitle()},de)),Object(y.jsx)(d.EuiDescribedFormGroup,{ratio:"third",title:Object(y.jsx)("h2",null,h.a.manageControl.displaySettings.getFormGroupTitle()),description:h.a.manageControl.displaySettings.getFormGroupDescription()},Object(y.jsx)(d.EuiFormRow,{label:h.a.manageControl.displaySettings.getTitleInputTitle()},Object(y.jsx)(d.EuiFieldText,{"data-test-subj":"control-editor-title-input",placeholder:N,value:P,onChange:e=>B(e.target.value)})),!(null!=L&&L.hideWidthSettings)&&Object(y.jsx)(d.EuiFormRow,{label:h.a.manageControl.displaySettings.getWidthInputTitle()},Object(y.jsx)("div",null,Object(y.jsx)(d.EuiButtonGroup,{color:"primary",legend:h.a.management.controlWidth.getWidthSwitchLegend(),options:v.b,idSelected:k,onChange:e=>M(e)}),Object(y.jsx)(d.EuiSpacer,{size:"s"}),Object(y.jsx)(d.EuiSwitch,{label:h.a.manageControl.displaySettings.getGrowSwitchTitle(),color:"primary",checked:W,onChange:()=>_(!W),"data-test-subj":"control-editor-grow-switch"})))),null!=L&&L.hideAdditionalSettings?null:pe,p&&Object(y.jsx)(a.a.Fragment,null,Object(y.jsx)(d.EuiSpacer,{size:"l"}),Object(y.jsx)(d.EuiButtonEmpty,{"aria-label":`delete-${Z.title}`,iconType:"trash",flush:"left",color:"danger",onClick:()=>{c({input:Z,grow:W,width:k}),p()}},h.a.management.getDeleteButtonTitle())))),Object(y.jsx)(d.EuiFlyoutFooter,null,Object(y.jsx)(d.EuiFlexGroup,{responsive:!1,justifyContent:"spaceBetween"},Object(y.jsx)(d.EuiFlexItem,{grow:!1},Object(y.jsx)(d.EuiButtonEmpty,{"aria-label":`cancel-${Z.title}`,"data-test-subj":"control-editor-cancel",iconType:"cross",onClick:()=>{const e=t&&o()(ee.current,Z)?{}:Z;c({input:e,grow:W,width:k})}},h.a.manageControl.getCancelTitle())),Object(y.jsx)(d.EuiFlexItem,{grow:!1},Object(y.jsx)(d.EuiButton,{"aria-label":`save-${Z.title}`,"data-test-subj":"control-editor-save",iconType:"check",color:"primary",disabled:!z,onClick:()=>l({input:Z,grow:W,width:k},q)},h.a.manageControl.getSaveChangesTitle())))))}},,function(e,t,n){switch(window.__kbnThemeTag__){case"v8dark":return n(78);case"v8light":return n(80)}},function(e,t,n){var r=n(58),o=n(79);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);r(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},function(e,t,n){(t=n(59)(!1)).push([e.i,'.controlsWrapper{align-items:center;display:flex;min-height:64px}.controlsWrapper .controlGroup--endButtonGroup{align-self:end}.controlsWrapper--twoLine .groupEditActions{padding-top:16px}.controlFrameCloneWrapper{width:max-content}.controlFrameCloneWrapper--small{min-width:224px;width:224px}.controlFrameCloneWrapper--medium{min-width:400px;width:400px}.controlFrameCloneWrapper--large{min-width:800px;width:800px}.controlFrameCloneWrapper--twoLine{margin-top:-20px}.controlFrameCloneWrapper__label{cursor:grabbing!important}.controlFrameCloneWrapper .controlFrame__draggable{align-items:center;background-color:#16171c;background-color:#2c2f37;background-repeat:no-repeat;background-size:0 100%;border-radius:6px;box-shadow:0 0 #0000,inset 0 0 0 1px #ffffff1a;cursor:grabbing;font-size:12px;font-size:.8571428571rem;font-weight:600;height:40px;line-height:1.1428571429rem;min-width:224px;transition:box-shadow .15s ease-in,background-image .15s ease-in,background-size .15s ease-in,background-color .15s ease-in}@supports(-moz-appearance:none){.controlFrameCloneWrapper .controlFrame__draggable{transition-property:box-shadow,background-image,background-size}}.controlFrameCloneWrapper .controlFrame__draggable .controlFrame__dragHandle,.controlFrameCloneWrapper .controlFrame__formControlLayout .controlFrame__dragHandle{cursor:grabbing}@media only screen and (max-width:574px){.controlFrameCloneWrapper{width:100%}.controlFrameCloneWrapper--large,.controlFrameCloneWrapper--medium,.controlFrameCloneWrapper--small{min-width:unset}}@media only screen and (min-width:575px)and (max-width:767px){.controlFrameCloneWrapper{width:100%}.controlFrameCloneWrapper--large,.controlFrameCloneWrapper--medium,.controlFrameCloneWrapper--small{min-width:unset}}@media only screen and (min-width:768px)and (max-width:991px){.controlFrameCloneWrapper{width:100%}.controlFrameCloneWrapper--large,.controlFrameCloneWrapper--medium,.controlFrameCloneWrapper--small{min-width:unset}}.controlFrameWrapper{flex-basis:auto;position:relative}.controlFrameWrapper:not(.controlFrameWrapper-isEditable) .controlFrame--twoLine{border-radius:6px!important}.controlFrameWrapper .controlFrame__labelToolTip{max-width:40%}.controlFrameWrapper .controlFrame__formControlLayout{min-width:224px;transition:background-color .1s,color .1s;width:100%}.controlFrameWrapper .controlFrame__formControlLayout .controlFrame__formControlLayoutLabel{border-radius:6px;max-width:100%;overflow:hidden!important;padding-left:0;text-overflow:ellipsis!important;white-space:nowrap!important}.controlFrameWrapper .controlFrame__formControlLayout:not(.controlFrame__formControlLayout-clone) .controlFrame__dragHandle{cursor:grab}.controlFrameWrapper .controlFrame__formControlLayout .controlFrame__control{background-color:#16171c!important;border-radius:0 5px 5px 0;height:100%;transition:opacity .1s}.controlFrameWrapper .controlFrame__formControlLayout .controlFrame--controlLoading{align-items:center;display:flex;height:100%;justify-content:center}.controlFrameWrapper--small{min-width:224px;width:224px}.controlFrameWrapper--medium{min-width:400px;width:400px}.controlFrameWrapper--large{min-width:800px;width:800px}@media only screen and (max-width:574px){.controlFrameWrapper--large,.controlFrameWrapper--medium,.controlFrameWrapper--small{min-width:unset}}@media only screen and (min-width:575px)and (max-width:767px){.controlFrameWrapper--large,.controlFrameWrapper--medium,.controlFrameWrapper--small{min-width:unset}}@media only screen and (min-width:768px)and (max-width:991px){.controlFrameWrapper--large,.controlFrameWrapper--medium,.controlFrameWrapper--small{min-width:unset}}.controlFrameWrapper--insertAfter .controlFrame__formControlLayout:after,.controlFrameWrapper--insertBefore .controlFrame__formControlLayout:after{background-color:#36a2ef80;border-radius:6px;bottom:0;content:"";position:absolute;top:0;width:2px}.controlFrameWrapper--insertBefore .controlFrame__formControlLayout:after{left:-5px}.controlFrameWrapper--insertAfter .controlFrame__formControlLayout:after{right:-5px}.controlFrameWrapper-isDragging .controlFrame__formControlLayout,.controlFrameWrapper-isDragging .euiFormRow__labelWrapper{opacity:0}.controlFrameFloatingActions{position:absolute;z-index:1}.controlFrameFloatingActions--oneLine{background-color:#1d1e24;border-radius:6px;box-shadow:0 0 0 1px #343741;padding:4px}.controlFrameFloatingActions--twoLine{top:-4px!important}.controlGroup--invalidSelectionsTour .controlGroup--suppressTourCheckbox{height:22px}.controlGroup--invalidSelectionsTour .controlGroup--suppressTourCheckboxLabel{font-weight:500}',""]),e.exports=t},function(e,t,n){var r=n(58),o=n(81);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);r(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},function(e,t,n){(t=n(59)(!1)).push([e.i,'.controlsWrapper{align-items:center;display:flex;min-height:64px}.controlsWrapper .controlGroup--endButtonGroup{align-self:end}.controlsWrapper--twoLine .groupEditActions{padding-top:16px}.controlFrameCloneWrapper{width:max-content}.controlFrameCloneWrapper--small{min-width:224px;width:224px}.controlFrameCloneWrapper--medium{min-width:400px;width:400px}.controlFrameCloneWrapper--large{min-width:800px;width:800px}.controlFrameCloneWrapper--twoLine{margin-top:-20px}.controlFrameCloneWrapper__label{cursor:grabbing!important}.controlFrameCloneWrapper .controlFrame__draggable{align-items:center;background-color:#fbfcfd;background-color:#e9edf3;background-repeat:no-repeat;background-size:0 100%;border-radius:6px;box-shadow:0 0 #0000,inset 0 0 0 1px #112a861a;cursor:grabbing;font-size:12px;font-size:.8571428571rem;font-weight:600;height:40px;line-height:1.1428571429rem;min-width:224px;transition:box-shadow .15s ease-in,background-image .15s ease-in,background-size .15s ease-in,background-color .15s ease-in}@supports(-moz-appearance:none){.controlFrameCloneWrapper .controlFrame__draggable{transition-property:box-shadow,background-image,background-size}}.controlFrameCloneWrapper .controlFrame__draggable .controlFrame__dragHandle,.controlFrameCloneWrapper .controlFrame__formControlLayout .controlFrame__dragHandle{cursor:grabbing}@media only screen and (max-width:574px){.controlFrameCloneWrapper{width:100%}.controlFrameCloneWrapper--large,.controlFrameCloneWrapper--medium,.controlFrameCloneWrapper--small{min-width:unset}}@media only screen and (min-width:575px)and (max-width:767px){.controlFrameCloneWrapper{width:100%}.controlFrameCloneWrapper--large,.controlFrameCloneWrapper--medium,.controlFrameCloneWrapper--small{min-width:unset}}@media only screen and (min-width:768px)and (max-width:991px){.controlFrameCloneWrapper{width:100%}.controlFrameCloneWrapper--large,.controlFrameCloneWrapper--medium,.controlFrameCloneWrapper--small{min-width:unset}}.controlFrameWrapper{flex-basis:auto;position:relative}.controlFrameWrapper:not(.controlFrameWrapper-isEditable) .controlFrame--twoLine{border-radius:6px!important}.controlFrameWrapper .controlFrame__labelToolTip{max-width:40%}.controlFrameWrapper .controlFrame__formControlLayout{min-width:224px;transition:background-color .1s,color .1s;width:100%}.controlFrameWrapper .controlFrame__formControlLayout .controlFrame__formControlLayoutLabel{border-radius:6px;max-width:100%;overflow:hidden!important;padding-left:0;text-overflow:ellipsis!important;white-space:nowrap!important}.controlFrameWrapper .controlFrame__formControlLayout:not(.controlFrame__formControlLayout-clone) .controlFrame__dragHandle{cursor:grab}.controlFrameWrapper .controlFrame__formControlLayout .controlFrame__control{background-color:#fbfcfd!important;border-radius:0 5px 5px 0;height:100%;transition:opacity .1s}.controlFrameWrapper .controlFrame__formControlLayout .controlFrame--controlLoading{align-items:center;display:flex;height:100%;justify-content:center}.controlFrameWrapper--small{min-width:224px;width:224px}.controlFrameWrapper--medium{min-width:400px;width:400px}.controlFrameWrapper--large{min-width:800px;width:800px}@media only screen and (max-width:574px){.controlFrameWrapper--large,.controlFrameWrapper--medium,.controlFrameWrapper--small{min-width:unset}}@media only screen and (min-width:575px)and (max-width:767px){.controlFrameWrapper--large,.controlFrameWrapper--medium,.controlFrameWrapper--small{min-width:unset}}@media only screen and (min-width:768px)and (max-width:991px){.controlFrameWrapper--large,.controlFrameWrapper--medium,.controlFrameWrapper--small{min-width:unset}}.controlFrameWrapper--insertAfter .controlFrame__formControlLayout:after,.controlFrameWrapper--insertBefore .controlFrame__formControlLayout:after{background-color:#0077cc80;border-radius:6px;bottom:0;content:"";position:absolute;top:0;width:2px}.controlFrameWrapper--insertBefore .controlFrame__formControlLayout:after{left:-5px}.controlFrameWrapper--insertAfter .controlFrame__formControlLayout:after{right:-5px}.controlFrameWrapper-isDragging .controlFrame__formControlLayout,.controlFrameWrapper-isDragging .euiFormRow__labelWrapper{opacity:0}.controlFrameFloatingActions{position:absolute;z-index:1}.controlFrameFloatingActions--oneLine{background-color:#fff;border-radius:6px;box-shadow:0 0 0 1px #d3dae6;padding:4px}.controlFrameFloatingActions--twoLine{top:-4px!important}.controlGroup--invalidSelectionsTour .controlGroup--suppressTourCheckbox{height:22px}.controlGroup--invalidSelectionsTour .controlGroup--suppressTourCheckboxLabel{font-weight:500}',""]),e.exports=t},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(4),i=(r=o)&&"object"==typeof r&&"default"in r?r.default:r,a=n(47),l=n(69),s=n(84);const c=o.createContext(null);function u(e){const t=o.useContext(c);o.useEffect((()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)}),[e,t])}const d={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},p={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function g(e){let{announcements:t=p,container:n,hiddenTextDescribedById:r,screenReaderInstructions:c=d}=e;const{announce:g,announcement:m}=s.useAnnouncement(),h=l.useUniqueId("DndLiveRegion"),[b,f]=o.useState(!1);if(o.useEffect((()=>{f(!0)}),[]),u(o.useMemo((()=>({onDragStart(e){let{active:n}=e;g(t.onDragStart({active:n}))},onDragMove(e){let{active:n,over:r}=e;t.onDragMove&&g(t.onDragMove({active:n,over:r}))},onDragOver(e){let{active:n,over:r}=e;g(t.onDragOver({active:n,over:r}))},onDragEnd(e){let{active:n,over:r}=e;g(t.onDragEnd({active:n,over:r}))},onDragCancel(e){let{active:n,over:r}=e;g(t.onDragCancel({active:n,over:r}))}})),[g,t])),!b)return null;const v=i.createElement(i.Fragment,null,i.createElement(s.HiddenText,{id:r,value:c.draggable}),i.createElement(s.LiveRegion,{id:h,announcement:m}));return n?a.createPortal(v,n):v}var m;function h(){}!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}(m||(m={}));const b=Object.freeze({x:0,y:0});function f(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function v(e,t){const n=l.getEventCoordinates(e);return n?(n.x-t.left)/t.width*100+"% "+(n.y-t.top)/t.height*100+"%":"0 0"}function y(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function x(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function w(e){let{left:t,top:n,height:r,width:o}=e;return[{x:t,y:n},{x:t+o,y:n},{x:t,y:n+r},{x:t+o,y:n+r}]}function C(e,t){if(!e||0===e.length)return null;const[n]=e;return t?n[t]:n}function j(e,t,n){return void 0===t&&(t=e.left),void 0===n&&(n=e.top),{x:t+.5*e.width,y:n+.5*e.height}}function S(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height);if(r<o&&n<i){const a=(o-r)*(i-n);return Number((a/(t.width*t.height+e.width*e.height-a)).toFixed(4))}return 0}const O=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=[];for(const e of r){const{id:r}=e,i=n.get(r);if(i){const n=S(i,t);n>0&&o.push({id:r,data:{droppableContainer:e,value:n}})}}return o.sort(x)};function F(e,t){const{top:n,left:r,bottom:o,right:i}=t;return n<=e.y&&e.y<=o&&r<=e.x&&e.x<=i}function E(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:b}const I=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce(((e,t)=>({...e,top:e.top+1*t.y,bottom:e.bottom+1*t.y,left:e.left+1*t.x,right:e.right+1*t.x})),{...e})};function D(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}const T={ignoreTransform:!1};function R(e,t){void 0===t&&(t=T);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:t,transformOrigin:r}=l.getWindow(e).getComputedStyle(e);t&&(n=function(e,t,n){const r=D(t);if(!r)return e;const{scaleX:o,scaleY:i,x:a,y:l}=r,s=e.left-a-(1-o)*parseFloat(n),c=e.top-l-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),u=o?e.width/o:e.width,d=i?e.height/i:e.height;return{width:u,height:d,top:c,right:s+u,bottom:c+d,left:s}}(n,t,r))}const{top:r,left:o,width:i,height:a,bottom:s,right:c}=n;return{top:r,left:o,width:i,height:a,bottom:s,right:c}}function L(e){return R(e,{ignoreTransform:!0})}function W(e,t){const n=[];return e?function r(o){if(null!=t&&n.length>=t)return n;if(!o)return n;if(l.isDocument(o)&&null!=o.scrollingElement&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!l.isHTMLElement(o)||l.isSVGElement(o))return n;if(n.includes(o))return n;const i=l.getWindow(e).getComputedStyle(o);return o!==e&&function(e,t){void 0===t&&(t=l.getWindow(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some((e=>{const r=t[e];return"string"==typeof r&&n.test(r)}))}(o,i)&&n.push(o),function(e,t){return void 0===t&&(t=l.getWindow(e).getComputedStyle(e)),"fixed"===t.position}(o,i)?n:r(o.parentNode)}(e):n}function _(e){const[t]=W(e,1);return null!=t?t:null}function k(e){return l.canUseDOM&&e?l.isWindow(e)?e:l.isNode(e)?l.isDocument(e)||e===l.getOwnerDocument(e).scrollingElement?window:l.isHTMLElement(e)?e:null:null:null}function M(e){return l.isWindow(e)?e.scrollX:e.scrollLeft}function N(e){return l.isWindow(e)?e.scrollY:e.scrollTop}function A(e){return{x:M(e),y:N(e)}}var P;function B(e){return!(!l.canUseDOM||!e)&&e===document.scrollingElement}function z(e){const t={x:0,y:0},n=B(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=r.y,isRight:e.scrollLeft>=r.x,maxScroll:r,minScroll:t}}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(P||(P={}));const G={x:.2,y:.2};function K(e,t,n,r,o){let{top:i,left:a,right:l,bottom:s}=n;void 0===r&&(r=10),void 0===o&&(o=G);const{isTop:c,isBottom:u,isLeft:d,isRight:p}=z(e),g={x:0,y:0},m={x:0,y:0},h=t.height*o.y,b=t.width*o.x;return!c&&i<=t.top+h?(g.y=P.Backward,m.y=r*Math.abs((t.top+h-i)/h)):!u&&s>=t.bottom-h&&(g.y=P.Forward,m.y=r*Math.abs((t.bottom-h-s)/h)),!p&&l>=t.right-b?(g.x=P.Forward,m.x=r*Math.abs((t.right-b-l)/b)):!d&&a<=t.left+b&&(g.x=P.Backward,m.x=r*Math.abs((t.left+b-a)/b)),{direction:g,speed:m}}function U(e){if(e===document.scrollingElement){const{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function $(e){return e.reduce(((e,t)=>l.add(e,A(t))),b)}function H(e,t){if(void 0===t&&(t=R),!e)return;const{top:n,left:r,bottom:o,right:i}=t(e);_(e)&&(o<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const q=[["x",["left","right"],function(e){return e.reduce(((e,t)=>e+M(t)),0)}],["y",["top","bottom"],function(e){return e.reduce(((e,t)=>e+N(t)),0)}]];class Y{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=W(t),r=$(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[e,t,o]of q)for(const i of t)Object.defineProperty(this,i,{get:()=>{const t=o(n);return this.rect[i]+(r[e]-t)},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class V{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach((e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)}))},this.target=e}add(e,t,n){var r;null==(r=this.target)||r.addEventListener(e,t,n),this.listeners.push([e,t,n])}}function X(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return"number"==typeof t?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t&&r>t.y}var J,Q;function Z(e){e.preventDefault()}function ee(e){e.stopPropagation()}!function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"}(J||(J={})),(Q=t.KeyboardCode||(t.KeyboardCode={})).Space="Space",Q.Down="ArrowDown",Q.Right="ArrowRight",Q.Left="ArrowLeft",Q.Up="ArrowUp",Q.Esc="Escape",Q.Enter="Enter";const ne={start:[t.KeyboardCode.Space,t.KeyboardCode.Enter],cancel:[t.KeyboardCode.Esc],end:[t.KeyboardCode.Space,t.KeyboardCode.Enter]},re=(e,n)=>{let{currentCoordinates:r}=n;switch(e.code){case t.KeyboardCode.Right:return{...r,x:r.x+25};case t.KeyboardCode.Left:return{...r,x:r.x-25};case t.KeyboardCode.Down:return{...r,y:r.y+25};case t.KeyboardCode.Up:return{...r,y:r.y-25}}};class te{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new V(l.getOwnerDocument(t)),this.windowListeners=new V(l.getWindow(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(J.Resize,this.handleCancel),this.windowListeners.add(J.VisibilityChange,this.handleCancel),setTimeout((()=>this.listeners.add(J.Keydown,this.handleKeyDown)))}handleStart(){const{activeNode:e,onStart:t}=this.props,n=e.node.current;n&&H(n),t(b)}handleKeyDown(e){if(l.isKeyboardEvent(e)){const{active:n,context:r,options:o}=this.props,{keyboardCodes:i=ne,coordinateGetter:a=re,scrollBehavior:s="smooth"}=o,{code:c}=e;if(i.end.includes(c))return void this.handleEnd(e);if(i.cancel.includes(c))return void this.handleCancel(e);const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:b;this.referenceCoordinates||(this.referenceCoordinates=d);const p=a(e,{active:n,context:r.current,currentCoordinates:d});if(p){const n=l.subtract(p,d),o={x:0,y:0},{scrollableAncestors:i}=r.current;for(const r of i){const i=e.code,{isTop:a,isRight:l,isLeft:c,isBottom:u,maxScroll:d,minScroll:g}=z(r),m=U(r),h={x:Math.min(i===t.KeyboardCode.Right?m.right-m.width/2:m.right,Math.max(i===t.KeyboardCode.Right?m.left:m.left+m.width/2,p.x)),y:Math.min(i===t.KeyboardCode.Down?m.bottom-m.height/2:m.bottom,Math.max(i===t.KeyboardCode.Down?m.top:m.top+m.height/2,p.y))},b=i===t.KeyboardCode.Right&&!l||i===t.KeyboardCode.Left&&!c,f=i===t.KeyboardCode.Down&&!u||i===t.KeyboardCode.Up&&!a;if(b&&h.x!==p.x){const e=r.scrollLeft+n.x,a=i===t.KeyboardCode.Right&&e<=d.x||i===t.KeyboardCode.Left&&e>=g.x;if(a&&!n.y)return void r.scrollTo({left:e,behavior:s});o.x=a?r.scrollLeft-e:i===t.KeyboardCode.Right?r.scrollLeft-d.x:r.scrollLeft-g.x,o.x&&r.scrollBy({left:-o.x,behavior:s});break}if(f&&h.y!==p.y){const e=r.scrollTop+n.y,a=i===t.KeyboardCode.Down&&e<=d.y||i===t.KeyboardCode.Up&&e>=g.y;if(a&&!n.x)return void r.scrollTo({top:e,behavior:s});o.y=a?r.scrollTop-e:i===t.KeyboardCode.Down?r.scrollTop-d.y:r.scrollTop-g.y,o.y&&r.scrollBy({top:-o.y,behavior:s});break}}this.handleMove(e,l.add(l.subtract(p,this.referenceCoordinates),o))}}}handleMove(e,t){const{onMove:n}=this.props;e.preventDefault(),n(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function ie(e){return Boolean(e&&"distance"in e)}function le(e){return Boolean(e&&"delay"in e)}te.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=ne,onActivation:o}=t,{active:i}=n;const{code:a}=e.nativeEvent;if(r.start.includes(a)){const t=i.activatorNode.current;return!(t&&e.target!==t||(e.preventDefault(),null==o||o({event:e.nativeEvent}),0))}return!1}}];class oe{constructor(e,t,n){var r;void 0===n&&(n=function(e){const{EventTarget:t}=l.getWindow(e);return e instanceof t?e:l.getOwnerDocument(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:o}=e,{target:i}=o;this.props=e,this.events=t,this.document=l.getOwnerDocument(i),this.documentListeners=new V(this.document),this.listeners=new V(n),this.windowListeners=new V(l.getWindow(i)),this.initialCoordinates=null!=(r=l.getEventCoordinates(o))?r:b,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),this.windowListeners.add(J.Resize,this.handleCancel),this.windowListeners.add(J.DragStart,Z),this.windowListeners.add(J.VisibilityChange,this.handleCancel),this.windowListeners.add(J.ContextMenu,Z),this.documentListeners.add(J.Keydown,this.handleKeydown),t){if(null!=n&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(le(t))return void(this.timeoutId=setTimeout(this.handleStart,t.delay));if(ie(t))return}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(J.Click,ee,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(J.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:n,initialCoordinates:r,props:o}=this,{onMove:i,options:{activationConstraint:a}}=o;if(!r)return;const s=null!=(t=l.getEventCoordinates(e))?t:b,c=l.subtract(r,s);if(!n&&a){if(ie(a)){if(null!=a.tolerance&&X(c,a.tolerance))return this.handleCancel();if(X(c,a.distance))return this.handleStart()}return le(a)&&X(c,a.tolerance)?this.handleCancel():void 0}e.cancelable&&e.preventDefault(),i(s)}handleEnd(){const{onEnd:e}=this.props;this.detach(),e()}handleCancel(){const{onCancel:e}=this.props;this.detach(),e()}handleKeydown(e){e.code===t.KeyboardCode.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}const se={move:{name:"pointermove"},end:{name:"pointerup"}};class ae extends oe{constructor(e){const{event:t}=e,n=l.getOwnerDocument(t.target);super(e,se,n)}}ae.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!(!n.isPrimary||0!==n.button||(null==r||r({event:n}),0))}}];const de={move:{name:"mousemove"},end:{name:"mouseup"}};var pe;!function(e){e[e.RightClick=2]="RightClick"}(pe||(pe={}));class ce extends oe{constructor(e){super(e,de,l.getOwnerDocument(e.event.target))}}ce.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button!==pe.RightClick&&(null==r||r({event:n}),!0)}}];const ge={move:{name:"touchmove"},end:{name:"touchend"}};class ue extends oe{constructor(e){super(e,ge)}static setup(){return window.addEventListener(ge.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(ge.move.name,e)};function e(){}}}var me,he;ue.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:o}=n;return!(o.length>1||(null==r||r({event:n}),0))}}],(me=t.AutoScrollActivator||(t.AutoScrollActivator={}))[me.Pointer=0]="Pointer",me[me.DraggableRect=1]="DraggableRect",(he=t.TraversalOrder||(t.TraversalOrder={}))[he.TreeOrder=0]="TreeOrder",he[he.ReversedTreeOrder=1]="ReversedTreeOrder";const be={x:{[P.Backward]:!1,[P.Forward]:!1},y:{[P.Backward]:!1,[P.Forward]:!1}};var fe;(fe=t.MeasuringStrategy||(t.MeasuringStrategy={}))[fe.Always=0]="Always",fe[fe.BeforeDragging=1]="BeforeDragging",fe[fe.WhileDragging=2]="WhileDragging",(t.MeasuringFrequency||(t.MeasuringFrequency={})).Optimized="optimized";const ve=new Map;function ye(e,t){return l.useLazyMemo((n=>e?n||("function"==typeof t?t(e):e):null),[t,e])}function xe(e){let{callback:t,disabled:n}=e;const r=l.useEvent(t),i=o.useMemo((()=>{if(n||"undefined"==typeof window||void 0===window.ResizeObserver)return;const{ResizeObserver:e}=window;return new e(r)}),[n]);return o.useEffect((()=>()=>null==i?void 0:i.disconnect()),[i]),i}function we(e){return new Y(R(e),e)}function Ce(e,t,n){void 0===t&&(t=we);const[r,i]=o.useReducer((function(r){if(!e)return null;var o;if(!1===e.isConnected)return null!=(o=null!=r?r:n)?o:null;const i=t(e);return JSON.stringify(r)===JSON.stringify(i)?r:i}),null),a=function(e){let{callback:t,disabled:n}=e;const r=l.useEvent(t),i=o.useMemo((()=>{if(n||"undefined"==typeof window||void 0===window.MutationObserver)return;const{MutationObserver:e}=window;return new e(r)}),[r,n]);return o.useEffect((()=>()=>null==i?void 0:i.disconnect()),[i]),i}({callback(t){if(e)for(const n of t){const{type:t,target:r}=n;if("childList"===t&&r instanceof HTMLElement&&r.contains(e)){i();break}}}}),s=xe({callback:i});return l.useIsomorphicLayoutEffect((()=>{i(),e?(null==s||s.observe(e),null==a||a.observe(document.body,{childList:!0,subtree:!0})):(null==s||s.disconnect(),null==a||a.disconnect())}),[e]),r}const je=[];function Se(e,t){void 0===t&&(t=[]);const n=o.useRef(null);return o.useEffect((()=>{n.current=null}),t),o.useEffect((()=>{const t=e!==b;t&&!n.current&&(n.current=e),!t&&n.current&&(n.current=null)}),[e]),n.current?l.subtract(e,n.current):b}function Fe(e){return o.useMemo((()=>e?function(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}(e):null),[e])}const Ee=[];function Ie(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return l.isHTMLElement(t)?t:e}const De=[{sensor:ae,options:{}},{sensor:te,options:{}}],Te={current:{}},Re={draggable:{measure:L},droppable:{measure:L,strategy:t.MeasuringStrategy.WhileDragging,frequency:t.MeasuringFrequency.Optimized},dragOverlay:{measure:R}};class Oe extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter((e=>{let{disabled:t}=e;return!t}))}getNodeFor(e){var t,n;return null!=(t=null==(n=this.get(e))?void 0:n.node.current)?t:void 0}}const Le={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Oe,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:h},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Re,measureDroppableContainers:h,windowRect:null,measuringScheduled:!1},We={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:h,draggableNodes:new Map,over:null,measureDroppableContainers:h},_e=o.createContext(We),ke=o.createContext(Le);function Me(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Oe}}}function Ne(e,t){switch(t.type){case m.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case m.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case m.DragEnd:case m.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case m.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new Oe(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case m.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const a=new Oe(e.droppable.containers);return a.set(n,{...i,disabled:o}),{...e,droppable:{...e.droppable,containers:a}}}case m.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const i=new Oe(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function Ae(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:i}=o.useContext(_e),a=l.usePrevious(r),s=l.usePrevious(null==n?void 0:n.id);return o.useEffect((()=>{if(!t&&!r&&a&&null!=s){if(!l.isKeyboardEvent(a))return;if(document.activeElement===a.target)return;const e=i.get(s);if(!e)return;const{activatorNode:t,node:n}=e;if(!t.current&&!n.current)return;requestAnimationFrame((()=>{for(const e of[t.current,n.current]){if(!e)continue;const t=l.findFirstFocusableNode(e);if(t){t.focus();break}}}))}}),[r,t,i,s,a]),null}function Pe(e,t){let{transform:n,...r}=t;return null!=e&&e.length?e.reduce(((e,t)=>t({transform:e,...r})),n):n}const Be=o.createContext({...b,scaleX:1,scaleY:1});var ze;!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"}(ze||(ze={}));const Ge=o.memo((function(e){var n,r,s,u;let{id:d,accessibility:p,autoScroll:h=!0,children:f,sensors:v=De,collisionDetection:y=O,measuring:x,modifiers:w,...j}=e;const S=o.useReducer(Ne,void 0,Me),[F,D]=S,[T,L]=function(){const[e]=o.useState((()=>new Set)),t=o.useCallback((t=>(e.add(t),()=>e.delete(t))),[e]);return[o.useCallback((t=>{let{type:n,event:r}=t;e.forEach((e=>{var t;return null==(t=e[n])?void 0:t.call(e,r)}))}),[e]),t]}(),[M,N]=o.useState(ze.Uninitialized),z=M===ze.Initialized,{draggable:{active:G,nodes:U,translate:H},droppable:{containers:q}}=F,X=G?U.get(G):null,J=o.useRef({initial:null,translated:null}),Q=o.useMemo((()=>{var e;return null!=G?{id:G,data:null!=(e=null==X?void 0:X.data)?e:Te,rect:J}:null}),[G,X]),Z=o.useRef(null),[ee,ne]=o.useState(null),[re,ie]=o.useState(null),le=l.useLatestValue(j,Object.values(j)),se=l.useUniqueId("DndDescribedBy",d),de=o.useMemo((()=>q.getEnabled()),[q]),pe=o.useMemo((()=>({draggable:{...Re.draggable,...null==ge?void 0:ge.draggable},droppable:{...Re.droppable,...null==ge?void 0:ge.droppable},dragOverlay:{...Re.dragOverlay,...null==ge?void 0:ge.dragOverlay}})),[null==(ge=x)?void 0:ge.draggable,null==ge?void 0:ge.droppable,null==ge?void 0:ge.dragOverlay]);var ge;const{droppableRects:me,measureDroppableContainers:he,measuringScheduled:fe}=function(e,n){let{dragging:r,dependencies:i,config:a}=n;const[s,c]=o.useState(null),{frequency:u,measure:d,strategy:p}=a,g=o.useRef(e),m=function(){switch(p){case t.MeasuringStrategy.Always:return!1;case t.MeasuringStrategy.BeforeDragging:return r;default:return!r}}(),h=l.useLatestValue(m),b=o.useCallback((function(e){void 0===e&&(e=[]),h.current||c((t=>null===t?e:t.concat(e.filter((e=>!t.includes(e))))))}),[h]),f=o.useRef(null),v=l.useLazyMemo((t=>{if(m&&!r)return ve;if(!t||t===ve||g.current!==e||null!=s){const t=new Map;for(let n of e){if(!n)continue;if(s&&s.length>0&&!s.includes(n.id)&&n.rect.current){t.set(n.id,n.rect.current);continue}const e=n.node.current,r=e?new Y(d(e),e):null;n.rect.current=r,r&&t.set(n.id,r)}return t}return t}),[e,s,r,m,d]);return o.useEffect((()=>{g.current=e}),[e]),o.useEffect((()=>{m||b()}),[r,m]),o.useEffect((()=>{s&&s.length>0&&c(null)}),[JSON.stringify(s)]),o.useEffect((()=>{m||"number"!=typeof u||null!==f.current||(f.current=setTimeout((()=>{b(),f.current=null}),u))}),[u,m,b,...i]),{droppableRects:v,measureDroppableContainers:b,measuringScheduled:null!=s}}(de,{dragging:z,dependencies:[H.x,H.y],config:pe.droppable}),we=function(e,t){const n=null!==t?e.get(t):void 0,r=n?n.node.current:null;return l.useLazyMemo((e=>{var n;return null===t?null:null!=(n=null!=r?r:e)?n:null}),[r,t])}(U,G),Le=o.useMemo((()=>re?l.getEventCoordinates(re):null),[re]),We=function(){const e=z&&!(!1===(null==ee?void 0:ee.autoScrollEnabled))&&!("object"==typeof h?!1===h.enabled:!1===h);return"object"==typeof h?{...h,enabled:e}:{enabled:e}}(),Ge=function(e,t){return ye(e,t)}(we,pe.draggable.measure);!function(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e;const a=o.useRef(!1),{x:s,y:c}="boolean"==typeof i?{x:i,y:i}:i;l.useIsomorphicLayoutEffect((()=>{if(!s&&!c||!t)return void(a.current=!1);if(a.current||!r)return;const e=null==t?void 0:t.node.current;if(!e||!1===e.isConnected)return;const o=E(n(e),r);if(s||(o.x=0),c||(o.y=0),a.current=!0,Math.abs(o.x)>0||Math.abs(o.y)>0){const t=_(e);t&&t.scrollBy({top:o.y,left:o.x})}}),[t,s,c,r,n])}({activeNode:G?U.get(G):null,config:We.layoutShiftCompensation,initialRect:Ge,measure:pe.draggable.measure});const Ve=Ce(we,pe.draggable.measure,Ge),Ke=Ce(we?we.parentElement:null),Ue=o.useRef({activatorEvent:null,active:null,activeNode:we,collisionRect:null,collisions:null,droppableRects:me,draggableNodes:U,draggingNode:null,draggingNodeRect:null,droppableContainers:q,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),$e=q.getNodeFor(null==(n=Ue.current.over)?void 0:n.id),He=function(e){let{measure:t}=e;const[n,r]=o.useState(null),i=xe({callback:o.useCallback((e=>{for(const{target:n}of e)if(l.isHTMLElement(n)){r((e=>{const r=t(n);return e?{...e,width:r.width,height:r.height}:r}));break}}),[t])}),a=o.useCallback((e=>{const n=Ie(e);null==i||i.disconnect(),n&&(null==i||i.observe(n)),r(n?t(n):null)}),[t,i]),[s,c]=l.useNodeRef(a);return o.useMemo((()=>({nodeRef:s,rect:n,setRef:c})),[n,s,c])}({measure:pe.dragOverlay.measure}),qe=null!=(r=He.nodeRef.current)?r:we,Ye=z?null!=(s=He.rect)?s:Ve:null,Xe=Boolean(He.nodeRef.current&&He.rect),Je=E(Qe=Xe?null:Ve,ye(Qe));var Qe;const Ze=Fe(qe?l.getWindow(qe):null),et=function(e){const t=o.useRef(e),n=l.useLazyMemo((n=>e?n&&n!==je&&e&&t.current&&e.parentNode===t.current.parentNode?n:W(e):je),[e]);return o.useEffect((()=>{t.current=e}),[e]),n}(z?null!=$e?$e:we:null),tt=function(e,t){void 0===t&&(t=R);const[n]=e,r=Fe(n?l.getWindow(n):null),[i,a]=o.useReducer((function(){return e.length?e.map((e=>B(e)?r:new Y(t(e),e))):Ee}),Ee),s=xe({callback:a});return e.length>0&&i===Ee&&a(),l.useIsomorphicLayoutEffect((()=>{e.length?e.forEach((e=>null==s?void 0:s.observe(e))):(null==s||s.disconnect(),a())}),[e]),i}(et),nt=Pe(w,{transform:{x:H.x-Je.x,y:H.y-Je.y,scaleX:1,scaleY:1},activatorEvent:re,active:Q,activeNodeRect:Ve,containerNodeRect:Ke,draggingNodeRect:Ye,over:Ue.current.over,overlayNodeRect:He.rect,scrollableAncestors:et,scrollableAncestorRects:tt,windowRect:Ze}),rt=Le?l.add(Le,H):null,ot=function(e){const[t,n]=o.useState(null),r=o.useRef(e),i=o.useCallback((e=>{const t=k(e.target);t&&n((e=>e?(e.set(t,A(t)),new Map(e)):null))}),[]);return o.useEffect((()=>{const t=r.current;if(e!==t){o(t);const a=e.map((e=>{const t=k(e);return t?(t.addEventListener("scroll",i,{passive:!0}),[t,A(t)]):null})).filter((e=>null!=e));n(a.length?new Map(a):null),r.current=e}return()=>{o(e),o(t)};function o(e){e.forEach((e=>{const t=k(e);null==t||t.removeEventListener("scroll",i)}))}}),[i,e]),o.useMemo((()=>e.length?t?Array.from(t.values()).reduce(((e,t)=>l.add(e,t)),b):$(e):b),[e,t])}(et),it=Se(ot),at=Se(ot,[Ve]),lt=l.add(nt,it),st=Ye?I(Ye,nt):null,ct=Q&&st?y({active:Q,collisionRect:st,droppableRects:me,droppableContainers:de,pointerCoordinates:rt}):null,ut=C(ct,"id"),[dt,pt]=o.useState(null),gt=function(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}(Xe?nt:l.add(nt,at),null!=(u=null==dt?void 0:dt.rect)?u:null,Ve),mt=o.useCallback(((e,t)=>{let{sensor:n,options:r}=t;if(null==Z.current)return;const o=U.get(Z.current);if(!o)return;const i=e.nativeEvent,l=new n({active:Z.current,activeNode:o,event:i,options:r,context:Ue,onStart(e){const t=Z.current;if(null==t)return;const n=U.get(t);if(!n)return;const{onDragStart:r}=le.current,o={active:{id:t,data:n.data,rect:J}};a.unstable_batchedUpdates((()=>{null==r||r(o),N(ze.Initializing),D({type:m.DragStart,initialCoordinates:e,active:t}),T({type:"onDragStart",event:o})}))},onMove(e){D({type:m.DragMove,coordinates:e})},onEnd:s(m.DragEnd),onCancel:s(m.DragCancel)});function s(e){return async function(){const{active:t,collisions:n,over:r,scrollAdjustedTranslate:o}=Ue.current;let l=null;if(t&&o){const{cancelDrop:a}=le.current;l={activatorEvent:i,active:t,collisions:n,delta:o,over:r},e===m.DragEnd&&"function"==typeof a&&await Promise.resolve(a(l))&&(e=m.DragCancel)}Z.current=null,a.unstable_batchedUpdates((()=>{D({type:e}),N(ze.Uninitialized),pt(null),ne(null),ie(null);const t=e===m.DragEnd?"onDragEnd":"onDragCancel";if(l){const e=le.current[t];null==e||e(l),T({type:t,event:l})}}))}}a.unstable_batchedUpdates((()=>{ne(l),ie(e.nativeEvent)}))}),[U]),ht=function(e,t){return o.useMemo((()=>e.reduce(((e,n)=>{const{sensor:r}=n;return[...e,...r.activators.map((e=>({eventName:e.eventName,handler:t(e.handler,n)})))]}),[])),[e,t])}(v,o.useCallback(((e,t)=>(n,r)=>{const o=n.nativeEvent,i=U.get(r);null!==Z.current||!i||o.dndKit||o.defaultPrevented||!0===e(n,t.options,{active:i})&&(o.dndKit={capturedBy:t.sensor},Z.current=r,mt(n,t))}),[U,mt]));!function(e){o.useEffect((()=>{if(!l.canUseDOM)return;const t=e.map((e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()}));return()=>{for(const e of t)null==e||e()}}),e.map((e=>{let{sensor:t}=e;return t})))}(v),l.useIsomorphicLayoutEffect((()=>{Ve&&M===ze.Initializing&&N(ze.Initialized)}),[Ve,M]),o.useEffect((()=>{const{onDragMove:e}=le.current,{active:t,activatorEvent:n,collisions:r,over:o}=Ue.current;if(!t||!n)return;const i={active:t,activatorEvent:n,collisions:r,delta:{x:lt.x,y:lt.y},over:o};a.unstable_batchedUpdates((()=>{null==e||e(i),T({type:"onDragMove",event:i})}))}),[lt.x,lt.y]),o.useEffect((()=>{const{active:e,activatorEvent:t,collisions:n,droppableContainers:r,scrollAdjustedTranslate:o}=Ue.current;if(!e||null==Z.current||!t||!o)return;const{onDragOver:i}=le.current,l=r.get(ut),s=l&&l.rect.current?{id:l.id,rect:l.rect.current,data:l.data,disabled:l.disabled}:null,c={active:e,activatorEvent:t,collisions:n,delta:{x:o.x,y:o.y},over:s};a.unstable_batchedUpdates((()=>{pt(s),null==i||i(c),T({type:"onDragOver",event:c})}))}),[ut]),l.useIsomorphicLayoutEffect((()=>{Ue.current={activatorEvent:re,active:Q,activeNode:we,collisionRect:st,collisions:ct,droppableRects:me,draggableNodes:U,draggingNode:qe,draggingNodeRect:Ye,droppableContainers:q,over:dt,scrollableAncestors:et,scrollAdjustedTranslate:lt},J.current={initial:Ye,translated:st}}),[Q,we,ct,st,U,qe,Ye,me,q,dt,et,lt]),function(e){let{acceleration:n,activator:r=t.AutoScrollActivator.Pointer,canScroll:i,draggingRect:a,enabled:s,interval:c=5,order:u=t.TraversalOrder.TreeOrder,pointerCoordinates:d,scrollableAncestors:p,scrollableAncestorRects:g,delta:m,threshold:h}=e;const b=function(e){let{delta:t,disabled:n}=e;const r=l.usePrevious(t);return l.useLazyMemo((e=>{if(n||!r||!e)return be;const o=Math.sign(t.x-r.x),i=Math.sign(t.y-r.y);return{x:{[P.Backward]:e.x[P.Backward]||-1===o,[P.Forward]:e.x[P.Forward]||1===o},y:{[P.Backward]:e.y[P.Backward]||-1===i,[P.Forward]:e.y[P.Forward]||1===i}}}),[n,t,r])}({delta:m,disabled:!s}),[f,v]=l.useInterval(),y=o.useRef({x:0,y:0}),x=o.useRef({x:0,y:0}),w=o.useMemo((()=>{switch(r){case t.AutoScrollActivator.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case t.AutoScrollActivator.DraggableRect:return a}}),[r,a,d]),C=o.useRef(null),j=o.useCallback((()=>{const e=C.current;e&&e.scrollBy(y.current.x*x.current.x,y.current.y*x.current.y)}),[]),S=o.useMemo((()=>u===t.TraversalOrder.TreeOrder?[...p].reverse():p),[u,p]);o.useEffect((()=>{if(s&&p.length&&w){for(const e of S){if(!1===(null==i?void 0:i(e)))continue;const t=p.indexOf(e),r=g[t];if(!r)continue;const{direction:o,speed:a}=K(e,r,w,n,h);for(const e of["x","y"])b[e][o[e]]||(a[e]=0,o[e]=0);if(a.x>0||a.y>0)return v(),C.current=e,f(j,c),y.current=a,void(x.current=o)}y.current={x:0,y:0},x.current={x:0,y:0},v()}else v()}),[n,j,i,v,s,c,JSON.stringify(w),JSON.stringify(b),f,p,S,g,JSON.stringify(h)])}({...We,delta:H,draggingRect:st,pointerCoordinates:rt,scrollableAncestors:et,scrollableAncestorRects:tt});const bt=o.useMemo((()=>({active:Q,activeNode:we,activeNodeRect:Ve,activatorEvent:re,collisions:ct,containerNodeRect:Ke,dragOverlay:He,draggableNodes:U,droppableContainers:q,droppableRects:me,over:dt,measureDroppableContainers:he,scrollableAncestors:et,scrollableAncestorRects:tt,measuringConfiguration:pe,measuringScheduled:fe,windowRect:Ze})),[Q,we,Ve,re,ct,Ke,He,U,q,me,dt,he,et,tt,pe,fe,Ze]),ft=o.useMemo((()=>({activatorEvent:re,activators:ht,active:Q,activeNodeRect:Ve,ariaDescribedById:{draggable:se},dispatch:D,draggableNodes:U,over:dt,measureDroppableContainers:he})),[re,ht,Q,Ve,D,se,U,dt,he]);return i.createElement(c.Provider,{value:L},i.createElement(_e.Provider,{value:ft},i.createElement(ke.Provider,{value:bt},i.createElement(Be.Provider,{value:gt},f)),i.createElement(Ae,{disabled:!1===(null==p?void 0:p.restoreFocus)})),i.createElement(g,{...p,hiddenTextDescribedById:se}))})),Ve=o.createContext(null),Ke="button";function Ue(){return o.useContext(ke)}const $e={timeout:25};function He(e){let{animation:t,children:n}=e;const[r,a]=o.useState(null),[s,c]=o.useState(null),u=l.usePrevious(n);return n||r||!u||a(u),l.useIsomorphicLayoutEffect((()=>{if(!s)return;const e=null==r?void 0:r.props.id;null!=(null==r?void 0:r.key)&&null!=e?Promise.resolve(t(e,s)).then((()=>{a(null)})):a(null)}),[t,r,s]),i.createElement(i.Fragment,null,n,r?o.cloneElement(r,{ref:c}):null)}const qe={x:0,y:0,scaleX:1,scaleY:1};function Ye(e){let{children:t}=e;return i.createElement(_e.Provider,{value:We},i.createElement(Be.Provider,{value:qe},t))}const Xe={position:"fixed",touchAction:"none"},Je=e=>l.isKeyboardEvent(e)?"transform 250ms ease":void 0,Qe=o.forwardRef(((e,t)=>{let{as:n,activatorEvent:r,adjustScale:o,children:a,className:s,rect:c,style:u,transform:d,transition:p=Je}=e;if(!c)return null;const g=o?d:{...d,scaleX:1,scaleY:1},m={...Xe,width:c.width,height:c.height,top:c.top,left:c.left,transform:l.CSS.Transform.toString(g),transformOrigin:o&&r?v(r,c):void 0,transition:"function"==typeof p?p(r):p,...u};return i.createElement(n,{className:s,style:m,ref:t},a)})),Ze=e=>t=>{let{active:n,dragOverlay:r}=t;const o={},{styles:i,className:a}=e;if(null!=i&&i.active)for(const[e,t]of Object.entries(i.active))void 0!==t&&(o[e]=n.node.style.getPropertyValue(e),n.node.style.setProperty(e,t));if(null!=i&&i.dragOverlay)for(const[e,t]of Object.entries(i.dragOverlay))void 0!==t&&r.node.style.setProperty(e,t);return null!=a&&a.active&&n.node.classList.add(a.active),null!=a&&a.dragOverlay&&r.node.classList.add(a.dragOverlay),function(){for(const[e,t]of Object.entries(o))n.node.style.setProperty(e,t);null!=a&&a.active&&n.node.classList.remove(a.active)}},et={duration:250,easing:"ease",keyframes:e=>{let{transform:{initial:t,final:n}}=e;return[{transform:l.CSS.Transform.toString(t)},{transform:l.CSS.Transform.toString(n)}]},sideEffects:Ze({styles:{active:{opacity:"0"}}})};let tt=0;const nt=i.memo((e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:a,transition:s,modifiers:c,wrapperElement:u="div",className:d,zIndex:p=999}=e;const{activatorEvent:g,active:m,activeNodeRect:h,containerNodeRect:b,draggableNodes:f,droppableContainers:v,dragOverlay:y,over:x,measuringConfiguration:w,scrollableAncestors:C,scrollableAncestorRects:j,windowRect:S}=Ue(),O=o.useContext(Be),F=function(e){return o.useMemo((()=>{if(null!=e)return tt++,tt}),[e])}(null==m?void 0:m.id),E=Pe(c,{activatorEvent:g,active:m,activeNodeRect:h,containerNodeRect:b,draggingNodeRect:y.rect,over:x,overlayNodeRect:y.rect,scrollableAncestors:C,scrollableAncestorRects:j,transform:O,windowRect:S}),I=ye(h),T=function(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:o}=e;return l.useEvent(((e,i)=>{if(null===t)return;const a=n.get(e);if(!a)return;const s=a.node.current;if(!s)return;const c=Ie(i);if(!c)return;const{transform:u}=l.getWindow(i).getComputedStyle(i),d=D(u);if(!d)return;const p="function"==typeof t?t:function(e){const{duration:t,easing:n,sideEffects:r,keyframes:o}={...et,...e};return e=>{let{active:i,dragOverlay:a,transform:l,...s}=e;if(!t)return;const c={x:l.x-(a.rect.left-i.rect.left),y:l.y-(a.rect.top-i.rect.top),scaleX:1!==l.scaleX?i.rect.width*l.scaleX/a.rect.width:1,scaleY:1!==l.scaleY?i.rect.height*l.scaleY/a.rect.height:1},u=o({...s,active:i,dragOverlay:a,transform:{initial:l,final:c}}),[d]=u,p=u[u.length-1];if(JSON.stringify(d)===JSON.stringify(p))return;const g=null==r?void 0:r({active:i,dragOverlay:a,...s}),m=a.node.animate(u,{duration:t,easing:n,fill:"forwards"});return new Promise((e=>{m.onfinish=()=>{null==g||g(),e()}}))}}(t);return H(s,o.draggable.measure),p({active:{id:e,data:a.data,node:s,rect:o.draggable.measure(s)},draggableNodes:n,dragOverlay:{node:i,rect:o.dragOverlay.measure(c)},droppableContainers:r,measuringConfiguration:o,transform:d})}))}({config:r,draggableNodes:f,droppableContainers:v,measuringConfiguration:w});return i.createElement(Ye,null,i.createElement(He,{animation:T},m&&F?i.createElement(Qe,{key:F,id:m.id,ref:I?y.setRef:void 0,as:u,activatorEvent:g,adjustScale:t,className:d,transition:s,rect:I,style:{zIndex:p,...a},transform:E},n):null))}));t.DndContext=Ge,t.DragOverlay=nt,t.KeyboardSensor=te,t.MouseSensor=ce,t.PointerSensor=ae,t.TouchSensor=ue,t.applyModifiers=Pe,t.closestCenter=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=j(t,t.left,t.top),i=[];for(const e of r){const{id:t}=e,r=n.get(t);if(r){const n=f(j(r),o);i.push({id:t,data:{droppableContainer:e,value:n}})}}return i.sort(y)},t.closestCorners=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=w(t),i=[];for(const e of r){const{id:t}=e,r=n.get(t);if(r){const n=w(r),a=o.reduce(((e,t,r)=>e+f(n[r],t)),0),l=Number((a/4).toFixed(4));i.push({id:t,data:{droppableContainer:e,value:l}})}}return i.sort(y)},t.defaultAnnouncements=p,t.defaultCoordinates=b,t.defaultDropAnimation=et,t.defaultDropAnimationSideEffects=Ze,t.defaultScreenReaderInstructions=d,t.getClientRect=R,t.getFirstCollision=C,t.getScrollableAncestors=W,t.pointerWithin=e=>{let{droppableContainers:t,droppableRects:n,pointerCoordinates:r}=e;if(!r)return[];const o=[];for(const e of t){const{id:t}=e,i=n.get(t);if(i&&F(r,i)){const n=w(i).reduce(((e,t)=>e+f(r,t)),0),a=Number((n/4).toFixed(4));o.push({id:t,data:{droppableContainer:e,value:a}})}}return o.sort(y)},t.rectIntersection=O,t.useDndContext=Ue,t.useDndMonitor=u,t.useDraggable=function(e){let{id:t,data:n,disabled:r=!1,attributes:i}=e;const a=l.useUniqueId("Droppable"),{activators:s,activatorEvent:c,active:u,activeNodeRect:d,ariaDescribedById:p,draggableNodes:g,over:m}=o.useContext(_e),{role:h=Ke,roleDescription:b="draggable",tabIndex:f=0}=null!=i?i:{},v=(null==u?void 0:u.id)===t,y=o.useContext(v?Be:Ve),[x,w]=l.useNodeRef(),[C,j]=l.useNodeRef(),S=function(e,t){return o.useMemo((()=>e.reduce(((e,n)=>{let{eventName:r,handler:o}=n;return e[r]=e=>{o(e,t)},e}),{})),[e,t])}(s,t),O=l.useLatestValue(n);return l.useIsomorphicLayoutEffect((()=>(g.set(t,{id:t,key:a,node:x,activatorNode:C,data:O}),()=>{const e=g.get(t);e&&e.key===a&&g.delete(t)})),[g,t]),{active:u,activatorEvent:c,activeNodeRect:d,attributes:o.useMemo((()=>({role:h,tabIndex:f,"aria-disabled":r,"aria-pressed":!(!v||h!==Ke)||void 0,"aria-roledescription":b,"aria-describedby":p.draggable})),[r,h,f,v,b,p.draggable]),isDragging:v,listeners:r?void 0:S,node:x,over:m,setNodeRef:w,setActivatorNodeRef:j,transform:y}},t.useDroppable=function(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e;const a=l.useUniqueId("Droppable"),{active:s,dispatch:c,over:u,measureDroppableContainers:d}=o.useContext(_e),p=o.useRef({disabled:n}),g=o.useRef(!1),h=o.useRef(null),b=o.useRef(null),{disabled:f,updateMeasurementsFor:v,timeout:y}={...$e,...i},x=l.useLatestValue(null!=v?v:r),w=xe({callback:o.useCallback((()=>{g.current?(null!=b.current&&clearTimeout(b.current),b.current=setTimeout((()=>{d(Array.isArray(x.current)?x.current:[x.current]),b.current=null}),y)):g.current=!0}),[y]),disabled:f||!s}),C=o.useCallback(((e,t)=>{w&&(t&&(w.unobserve(t),g.current=!1),e&&w.observe(e))}),[w]),[j,S]=l.useNodeRef(C),O=l.useLatestValue(t);return o.useEffect((()=>{w&&j.current&&(w.disconnect(),g.current=!1,w.observe(j.current))}),[j,w]),l.useIsomorphicLayoutEffect((()=>(c({type:m.RegisterDroppable,element:{id:r,key:a,disabled:n,node:j,rect:h,data:O}}),()=>c({type:m.UnregisterDroppable,key:a,id:r}))),[r]),o.useEffect((()=>{n!==p.current.disabled&&(c({type:m.SetDroppableDisabled,id:r,key:a,disabled:n}),p.current.disabled=n)}),[r,a,n,c]),{active:s,rect:h,isOver:(null==u?void 0:u.id)===r,node:j,over:u,setNodeRef:S}},t.useSensor=function(e,t){return o.useMemo((()=>({sensor:e,options:null!=t?t:{}})),[e,t])},t.useSensors=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.useMemo((()=>[...t].filter((e=>null!=e))),[...t])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4);const o="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function i(e){const t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function a(e){return"nodeType"in e}function l(e){var t,n;return e?i(e)?e:a(e)&&null!=(t=null==(n=e.ownerDocument)?void 0:n.defaultView)?t:window:window}function s(e){const{Document:t}=l(e);return e instanceof t}function c(e){return!i(e)&&e instanceof l(e).HTMLElement}function u(e){return e instanceof l(e).SVGElement}const d=o?r.useLayoutEffect:r.useEffect;function p(e){const t=r.useRef(e);return d((()=>{t.current=e})),r.useCallback((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)}),[])}let g={};function m(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce(((t,n)=>{const r=Object.entries(n);for(const[n,o]of r){const r=t[n];null!=r&&(t[n]=r+e*o)}return t}),{...t})}}const h=m(1),b=m(-1);function f(e){return"clientX"in e&&"clientY"in e}function v(e){if(!e)return!1;const{TouchEvent:t}=l(e.target);return t&&e instanceof t}const y=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[y.Translate.toString(e),y.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),x="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";t.CSS=y,t.add=h,t.canUseDOM=o,t.findFirstFocusableNode=function(e){return e.matches(x)?e:e.querySelector(x)},t.getEventCoordinates=function(e){if(v(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return f(e)?{x:e.clientX,y:e.clientY}:null},t.getOwnerDocument=function(e){return e?i(e)?e.document:a(e)?s(e)?e:c(e)||u(e)?e.ownerDocument:document:document:document},t.getWindow=l,t.hasViewportRelativeCoordinates=f,t.isDocument=s,t.isHTMLElement=c,t.isKeyboardEvent=function(e){if(!e)return!1;const{KeyboardEvent:t}=l(e.target);return t&&e instanceof t},t.isNode=a,t.isSVGElement=u,t.isTouchEvent=v,t.isWindow=i,t.subtract=b,t.useCombinedRefs=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.useMemo((()=>e=>{t.forEach((t=>t(e)))}),t)},t.useEvent=p,t.useInterval=function(){const e=r.useRef(null);return[r.useCallback(((t,n)=>{e.current=setInterval(t,n)}),[]),r.useCallback((()=>{null!==e.current&&(clearInterval(e.current),e.current=null)}),[])]},t.useIsomorphicLayoutEffect=d,t.useLatestValue=function(e,t){void 0===t&&(t=[e]);const n=r.useRef(e);return d((()=>{n.current!==e&&(n.current=e)}),t),n},t.useLazyMemo=function(e,t){const n=r.useRef();return r.useMemo((()=>{const t=e(n.current);return n.current=t,t}),[...t])},t.useNodeRef=function(e){const t=p(e),n=r.useRef(null),o=r.useCallback((e=>{e!==n.current&&(null==t||t(e,n.current)),n.current=e}),[]);return[n,o]},t.usePrevious=function(e){const t=r.useRef();return r.useEffect((()=>{t.current=e}),[e]),t.current},t.useUniqueId=function(e,t){return r.useMemo((()=>{if(t)return t;const n=null==g[e]?0:g[e]+1;return g[e]=n,e+"-"+n}),[e,t])}},function(e,t,n){"use strict";e.exports=n(85)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(4),i=(r=o)&&"object"==typeof r&&"default"in r?r.default:r;const a={display:"none"};t.HiddenText=function(e){let{id:t,value:n}=e;return i.createElement("div",{id:t,style:a},n)},t.LiveRegion=function(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;return i.createElement("div",{id:t,style:{position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":r,"aria-atomic":!0},n)},t.useAnnouncement=function(){const[e,t]=o.useState("");return{announce:o.useCallback((e=>{null!=e&&t(e)}),[]),announcement:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(4),i=(r=o)&&"object"==typeof r&&"default"in r?r.default:r,a=n(73),l=n(69);function s(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function c(e,t){return e.reduce(((e,n,r)=>{const o=t.get(n);return o&&(e[r]=o),e}),Array(e.length))}function u(e){return null!==e&&e>=0}const d={scaleX:1,scaleY:1},p=e=>{let{rects:t,activeIndex:n,overIndex:r,index:o}=e;const i=s(t,r,n),a=t[o],l=i[o];return l&&a?{x:l.left-a.left,y:l.top-a.top,scaleX:l.width/a.width,scaleY:l.height/a.height}:null},g={scaleX:1,scaleY:1},m=i.createContext({activeIndex:-1,containerId:"Sortable",disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:p,disabled:{draggable:!1,droppable:!1}}),h=e=>{let{id:t,items:n,activeIndex:r,overIndex:o}=e;return s(n,r,o).indexOf(t)},b=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:o,items:i,newIndex:a,previousItems:l,previousContainerId:s,transition:c}=e;return!(!c||!r||l!==i&&o===a||!n&&(a===o||t!==s))},f={duration:200,easing:"ease"},v=l.CSS.Transition.toString({property:"transform",duration:0,easing:"linear"}),y={roleDescription:"sortable"};function x(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&"object"==typeof t.sortable&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const w=[a.KeyboardCode.Down,a.KeyboardCode.Right,a.KeyboardCode.Up,a.KeyboardCode.Left];function C(e,t){return!(!x(e)||!x(t))&&e.data.current.sortable.containerId===t.data.current.sortable.containerId}t.SortableContext=function(e){let{children:t,id:n,items:r,strategy:s=p,disabled:u=!1}=e;const{active:d,dragOverlay:g,droppableRects:h,over:b,measureDroppableContainers:f}=a.useDndContext(),v=l.useUniqueId("Sortable",n),y=Boolean(null!==g.rect),x=o.useMemo((()=>r.map((e=>"object"==typeof e&&"id"in e?e.id:e))),[r]),w=null!=d,C=d?x.indexOf(d.id):-1,j=b?x.indexOf(b.id):-1,S=o.useRef(x),O=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(x,S.current),F=-1!==j&&-1===C||O,E=function(e){return"boolean"==typeof e?{draggable:e,droppable:e}:e}(u);l.useIsomorphicLayoutEffect((()=>{O&&w&&f(x)}),[O,x,w,f]),o.useEffect((()=>{S.current=x}),[x]);const I=o.useMemo((()=>({activeIndex:C,containerId:v,disabled:E,disableTransforms:F,items:x,overIndex:j,useDragOverlay:y,sortedRects:c(x,h),strategy:s})),[C,v,E.draggable,E.droppable,F,x,j,h,y,s]);return i.createElement(m.Provider,{value:I},t)},t.arrayMove=s,t.arraySwap=function(e,t,n){const r=e.slice();return r[t]=e[n],r[n]=e[t],r},t.defaultAnimateLayoutChanges=b,t.defaultNewIndexGetter=h,t.hasSortableData=x,t.horizontalListSortingStrategy=e=>{var t;let{rects:n,activeNodeRect:r,activeIndex:o,overIndex:i,index:a}=e;const l=null!=(t=n[o])?t:r;if(!l)return null;const s=function(e,t,n){const r=e[t],o=e[t-1],i=e[t+1];return r&&(o||i)?n<t?o?r.left-(o.left+o.width):i.left-(r.left+r.width):i?i.left-(r.left+r.width):r.left-(o.left+o.width):0}(n,a,o);if(a===o){const e=n[i];return e?{x:o<i?e.left+e.width-(l.left+l.width):e.left-l.left,y:0,...d}:null}return a>o&&a<=i?{x:-l.width-s,y:0,...d}:a<o&&a>=i?{x:l.width+s,y:0,...d}:{x:0,y:0,...d}},t.rectSortingStrategy=p,t.rectSwappingStrategy=e=>{let t,n,{activeIndex:r,index:o,rects:i,overIndex:a}=e;return o===r&&(t=i[o],n=i[a]),o===a&&(t=i[o],n=i[r]),n&&t?{x:n.left-t.left,y:n.top-t.top,scaleX:n.width/t.width,scaleY:n.height/t.height}:null},t.sortableKeyboardCoordinates=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:o,droppableContainers:i,over:s,scrollableAncestors:c}}=t;if(w.includes(e.code)){if(e.preventDefault(),!n||!r)return;const t=[];i.getEnabled().forEach((n=>{if(!n||null!=n&&n.disabled)return;const i=o.get(n.id);if(i)switch(e.code){case a.KeyboardCode.Down:r.top<i.top&&t.push(n);break;case a.KeyboardCode.Up:r.top>i.top&&t.push(n);break;case a.KeyboardCode.Left:r.left>i.left&&t.push(n);break;case a.KeyboardCode.Right:r.left<i.left&&t.push(n)}}));const p=a.closestCorners({active:n,collisionRect:r,droppableRects:o,droppableContainers:t,pointerCoordinates:null});let g=a.getFirstCollision(p,"id");if(g===(null==s?void 0:s.id)&&p.length>1&&(g=p[1].id),null!=g){const e=i.get(n.id),t=i.get(g),s=t?o.get(t.id):null,p=null==t?void 0:t.node.current;if(p&&s&&e&&t){const n=a.getScrollableAncestors(p).some(((e,t)=>c[t]!==e)),o=C(e,t),i=(d=t,!(!x(u=e)||!x(d))&&!!C(u,d)&&u.data.current.sortable.index<d.data.current.sortable.index),g=n||!o?{x:0,y:0}:{x:i?r.width-s.width:0,y:i?r.height-s.height:0},m={x:s.left,y:s.top};return g.x&&g.y?m:l.subtract(m,g)}}}var u,d},t.useSortable=function(e){let{animateLayoutChanges:t=b,attributes:n,disabled:r,data:i,getNewIndex:s=h,id:c,strategy:d,resizeObserverConfig:p,transition:g=f}=e;const{items:x,containerId:w,activeIndex:C,disabled:j,disableTransforms:S,sortedRects:O,overIndex:F,useDragOverlay:E,strategy:I}=o.useContext(m),D=function(e,t){var n,r;return"boolean"==typeof e?{draggable:e,droppable:!1}:{draggable:null!=(n=null==e?void 0:e.draggable)?n:t.draggable,droppable:null!=(r=null==e?void 0:e.droppable)?r:t.droppable}}(r,j),T=x.indexOf(c),R=o.useMemo((()=>({sortable:{containerId:w,index:T,items:x},...i})),[w,i,T,x]),L=o.useMemo((()=>x.slice(x.indexOf(c))),[x,c]),{rect:W,node:_,isOver:k,setNodeRef:M}=a.useDroppable({id:c,data:R,disabled:D.droppable,resizeObserverConfig:{updateMeasurementsFor:L,...p}}),{active:N,activatorEvent:A,activeNodeRect:P,attributes:B,setNodeRef:z,listeners:G,isDragging:K,over:U,setActivatorNodeRef:$,transform:H}=a.useDraggable({id:c,data:R,attributes:{...y,...n},disabled:D.draggable}),q=l.useCombinedRefs(M,z),X=Boolean(N),J=X&&!S&&u(C)&&u(F),Q=!E&&K,Z=Q&&J?H:null,ee=J?null!=Z?Z:(null!=d?d:I)({rects:O,activeNodeRect:P,activeIndex:C,overIndex:F,index:T}):null,ne=u(C)&&u(F)?s({id:c,items:x,activeIndex:C,overIndex:F}):T,re=null==N?void 0:N.id,ie=o.useRef({activeId:re,items:x,newIndex:ne,containerId:w}),le=x!==ie.current.items,se=t({active:N,containerId:w,isDragging:K,isSorting:X,id:c,index:T,items:x,newIndex:ie.current.newIndex,previousItems:ie.current.items,previousContainerId:ie.current.containerId,transition:g,wasDragging:null!=ie.current.activeId}),de=function(e){let{disabled:t,index:n,node:r,rect:i}=e;const[s,c]=o.useState(null),u=o.useRef(n);return l.useIsomorphicLayoutEffect((()=>{if(!t&&n!==u.current&&r.current){const e=i.current;if(e){const t=a.getClientRect(r.current,{ignoreTransform:!0}),n={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(n.x||n.y)&&c(n)}}n!==u.current&&(u.current=n)}),[t,n,r,i]),o.useEffect((()=>{s&&c(null)}),[s]),s}({disabled:!se,index:T,node:_,rect:W});return o.useEffect((()=>{X&&ie.current.newIndex!==ne&&(ie.current.newIndex=ne),w!==ie.current.containerId&&(ie.current.containerId=w),x!==ie.current.items&&(ie.current.items=x)}),[X,ne,w,x]),o.useEffect((()=>{if(re===ie.current.activeId)return;if(re&&!ie.current.activeId)return void(ie.current.activeId=re);const e=setTimeout((()=>{ie.current.activeId=re}),50);return()=>clearTimeout(e)}),[re]),{active:N,activeIndex:C,attributes:B,data:R,rect:W,index:T,newIndex:ne,items:x,isOver:k,isSorting:X,isDragging:K,listeners:G,node:_,overIndex:F,over:U,setNodeRef:q,setActivatorNodeRef:$,setDroppableNodeRef:M,setDraggableNodeRef:z,transform:null!=de?de:ee,transition:de||le&&ie.current.newIndex===T?v:Q&&!l.isKeyboardEvent(A)||!g?void 0:X||se?l.CSS.Transition.toString({...g,property:"transform"}):void 0}},t.verticalListSortingStrategy=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:o,rects:i,overIndex:a}=e;const l=null!=(t=i[n])?t:r;if(!l)return null;if(o===n){const e=i[a];return e?{x:0,y:n<a?e.top+e.height-(l.top+l.height):e.top-l.top,...g}:null}const s=function(e,t,n){const r=e[t],o=e[t-1],i=e[t+1];return r?n<t?o?r.top-(o.top+o.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):o?r.top-(o.top+o.height):0:0}(i,o,n);return o>n&&o<=a?{x:0,y:-l.height-s,...g}:o<n&&o>=a?{x:0,y:l.height+s,...g}:{x:0,y:0,...g}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(32).__importDefault(n(88));t.default=function(e){r.default((function(){e()}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4);t.default=function(e){r.useEffect(e,[])}}])]);