!function(e){function t(t){for(var n,i,r=t[0],a=t[1],s=0,c=[];s<r.length;s++)i=r[s],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&c.push(o[i][0]),o[i]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);for(l&&l(t);c.length;)c.shift()()}var n={},o={2:0};function i(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.e=function(e){var t=[],n=o[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,i){n=o[e]=[t,i]}));t.push(n[2]=r);var a,s=document.createElement("script");s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=function(e){return i.p+"controls.chunk."+e+".js"}(e);var l=new Error;a=function(t){s.onerror=s.onload=null,clearTimeout(c);var n=o[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+i+": "+r+")",l.name="ChunkLoadError",l.type=i,l.request=r,n[1](l)}o[e]=void 0}};var c=setTimeout((function(){a({type:"timeout",target:s})}),12e4);s.onerror=s.onload=a,document.head.appendChild(s)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var r=window.controls_bundle_jsonpfunction=window.controls_bundle_jsonpfunction||[],a=r.push.bind(r);r.push=t,r=r.slice();for(var s=0;s<r.length;s++)t(r[s]);var l=a;i(i.s=43)}([function(e,t){e.exports=__kbnSharedDeps__.KbnI18n},function(e,t,n){e.exports=n(42)(2)},function(e,t){e.exports=__kbnSharedDeps__.Lodash},function(e,t){e.exports=__kbnSharedDeps__.EmotionReact},function(e,t){e.exports=__kbnSharedDeps__.React},function(e,t,n){n.r(t);var o=__kbnBundles__.get("plugin/presentationUtil/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(o))},function(e,t){e.exports=__kbnSharedDeps__.ElasticEui},function(e,t,n){"use strict";n.r(t),n.d(t,"CONTROL_GROUP_TYPE",(function(){return o.a})),n.d(t,"persistableControlGroupInputKeys",(function(){return o.b})),n.d(t,"controlGroupInputToRawControlGroupAttributes",(function(){return v})),n.d(t,"rawControlGroupAttributesToControlGroupInput",(function(){return T})),n.d(t,"rawControlGroupAttributesToSerializable",(function(){return O})),n.d(t,"serializableToRawControlGroupAttributes",(function(){return _})),n.d(t,"getDefaultControlGroupPersistableInput",(function(){return b})),n.d(t,"persistableControlGroupInputIsEqual",(function(){return h})),n.d(t,"getDefaultControlGroupInput",(function(){return m})),n.d(t,"generateNewControlIds",(function(){return y})),n.d(t,"DEFAULT_CONTROL_GROW",(function(){return l.a})),n.d(t,"DEFAULT_CONTROL_WIDTH",(function(){return l.c})),n.d(t,"DEFAULT_CONTROL_STYLE",(function(){return l.b})),n.d(t,"OPTIONS_LIST_CONTROL",(function(){return u.a})),n.d(t,"RANGE_SLIDER_CONTROL",(function(){return d.a})),n.d(t,"TIME_SLIDER_CONTROL",(function(){return p.a}));var o=n(14),i=n(8),r=n.n(i),a=n(15),s=n(2),l=n(10),c=n(13),u=n(11),d=n(12),p=n(21);const g={[d.a]:{getPanelIsEqual:(e,t,n)=>{if(!r()(Object(s.omit)(e,"explicitInput"),Object(s.omit)(t,"explicitInput")))return!1;const{value:o=["",""],...i}=e.explicitInput,{value:a=["",""],...l}=t.explicitInput;return(!n||Object(s.isEqual)(o,a))&&r()(i,l)}},[u.a]:{getPanelIsEqual:(e,t,n)=>{if(!r()(Object(s.omit)(e,"explicitInput"),Object(s.omit)(t,"explicitInput")))return!1;const{sort:o,exclude:i,hideSort:a,hideExists:l,hideExclude:u,selectedOptions:d,singleSelect:p,searchTechnique:g,existsSelected:f,runPastTimeout:m,...b}=e.explicitInput,{sort:h,exclude:S,hideSort:v,hideExists:y,hideExclude:T,selectedOptions:O,singleSelect:_,searchTechnique:w,existsSelected:C,runPastTimeout:L,...M}=t.explicitInput;return Boolean(a)===Boolean(v)&&Boolean(l)===Boolean(y)&&Boolean(u)===Boolean(T)&&Boolean(p)===Boolean(_)&&Boolean(m)===Boolean(L)&&Object(s.isEqual)(null!=g?g:"prefix",null!=w?w:"prefix")&&r()(null!=o?o:c.a,null!=h?h:c.a)&&(!n||Boolean(i)===Boolean(S)&&Boolean(f)===Boolean(C)&&Object(s.isEqual)(null!=d?d:[],null!=O?O:[]))&&r()(b,M)}},[p.a]:{getPanelIsEqual:(e,t,n)=>{if(!r()(Object(s.omit)(e,"explicitInput"),Object(s.omit)(t,"explicitInput")))return!1;const{isAnchored:o,timesliceStartAsPercentageOfTimeRange:i,timesliceEndAsPercentageOfTimeRange:a}=e.explicitInput,{isAnchored:l,timesliceStartAsPercentageOfTimeRange:c,timesliceEndAsPercentageOfTimeRange:u}=t.explicitInput;return Boolean(o)===Boolean(l)&&(!n||Boolean(i)===Boolean(c)&&i===c&&Boolean(a)===Boolean(u)&&a===u)}}},f=e=>{if(e||"string"==typeof e)try{return JSON.parse(e)}catch{return}},m=()=>({panels:{},defaultControlWidth:l.c,defaultControlGrow:l.a,controlStyle:l.b,chainingSystem:"HIERARCHICAL",showApplySelections:!1,ignoreParentSettings:{ignoreFilters:!1,ignoreQuery:!1,ignoreTimerange:!1,ignoreValidations:!1}}),b=()=>Object(s.pick)(m(),o.b),h=(e,t,n=!0)=>{const i=b(),a={...i,...Object(s.pick)(e,o.b)},l={...i,...Object(s.pick)(t,o.b)};return S(a.panels,l.panels,n)&&r()(Object(s.omit)(a,["panels"]),Object(s.omit)(l,["panels"]))},S=(e,t,n)=>{const o=Object.keys(e),i=Object.keys(t);if(Object(s.xor)(o,i).length>0)return!1;for(const o of i){const i=t[o].type;if(!(g[i]?g[i].getPanelIsEqual(e[o],t[o],n):(a=e[o],l=t[o],r()(a,l))))return!1}var a,l;return!0},v=e=>({controlStyle:e.controlStyle,chainingSystem:e.chainingSystem,showApplySelections:e.showApplySelections,panelsJSON:JSON.stringify(e.panels),ignoreParentSettingsJSON:JSON.stringify(e.ignoreParentSettings)}),y=e=>{if(null==e||!e.panels)return;const t={};for(const n of Object.values(e.panels)){const e=Object(a.v4)();t[e]={...n,explicitInput:{...n.explicitInput,id:e}}}return{...e,panels:t}},T=e=>{const t=m(),{chainingSystem:n,controlStyle:o,showApplySelections:i,ignoreParentSettingsJSON:r,panelsJSON:a}=e,s=f(a),l=f(r);return{...t,...n?{chainingSystem:n}:{},...o?{controlStyle:o}:{},...i?{showApplySelections:i}:{},...l?{ignoreParentSettings:l}:{},...s?{panels:s}:{}}},O=e=>{var t,n,o;const i=m();return{chainingSystem:null==e?void 0:e.chainingSystem,controlStyle:null!==(t=null==e?void 0:e.controlStyle)&&void 0!==t?t:i.controlStyle,showApplySelections:null==e?void 0:e.showApplySelections,ignoreParentSettings:null!==(n=f(null==e?void 0:e.ignoreParentSettingsJSON))&&void 0!==n?n:{},panels:null!==(o=f(null==e?void 0:e.panelsJSON))&&void 0!==o?o:{}}},_=e=>({controlStyle:e.controlStyle,chainingSystem:e.chainingSystem,showApplySelections:Boolean(e.showApplySelections),ignoreParentSettingsJSON:JSON.stringify(e.ignoreParentSettings),panelsJSON:JSON.stringify(e.panels)})},function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var o,i,r;if(Array.isArray(t)){if((o=t.length)!=n.length)return!1;for(i=o;0!=i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((o=(r=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=o;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,r[i]))return!1;for(i=o;0!=i--;){var a=r[i];if(!e(t[a],n[a]))return!1}return!0}return t!=t&&n!=n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n(0);const i={control:{getSeparator:e=>["date","number"].includes(null!=e?e:"")?o.i18n.translate("controls.optionsList.control.dateSeparator",{defaultMessage:";  "}):o.i18n.translate("controls.optionsList.control.separator",{defaultMessage:", "}),getPlaceholder:()=>o.i18n.translate("controls.optionsList.control.placeholder",{defaultMessage:"Any"}),getNegate:()=>o.i18n.translate("controls.optionsList.control.negate",{defaultMessage:"NOT"}),getExcludeExists:()=>o.i18n.translate("controls.optionsList.control.excludeExists",{defaultMessage:"DOES NOT"}),getInvalidSelectionWarningLabel:e=>o.i18n.translate("controls.optionsList.control.invalidSelectionWarningLabel",{defaultMessage:"{invalidSelectionCount} {invalidSelectionCount, plural, one {selection returns} other {selections return}} no results.",values:{invalidSelectionCount:e}})},editor:{getSelectionOptionsTitle:()=>o.i18n.translate("controls.optionsList.editor.selectionOptionsTitle",{defaultMessage:"Selections"}),selectionTypes:{multi:{getLabel:()=>o.i18n.translate("controls.optionsList.editor.multiSelectLabel",{defaultMessage:"Allow multiple selections"})},single:{getLabel:()=>o.i18n.translate("controls.optionsList.editor.singleSelectLabel",{defaultMessage:"Only allow a single selection"})}},getSearchOptionsTitle:()=>o.i18n.translate("controls.optionsList.editor.searchOptionsTitle",{defaultMessage:"Searching"}),searchTypes:{prefix:{getLabel:()=>o.i18n.translate("controls.optionsList.editor.prefixSearchLabel",{defaultMessage:"Prefix"}),getTooltip:()=>o.i18n.translate("controls.optionsList.editor.prefixSearchTooltip",{defaultMessage:"Matches values that begin with the given search string."})},wildcard:{getLabel:()=>o.i18n.translate("controls.optionsList.editor.wildcardSearchLabel",{defaultMessage:"Contains"}),getTooltip:()=>o.i18n.translate("controls.optionsList.editor.wildcardSearchTooltip",{defaultMessage:"Matches values that contain the given search string. Results might take longer to populate."})},exact:{getLabel:()=>o.i18n.translate("controls.optionsList.editor.exactSearchLabel",{defaultMessage:"Exact"}),getTooltip:()=>o.i18n.translate("controls.optionsList.editor.exactSearchTooltip",{defaultMessage:"Matches values that are equal to the given search string. Returns results quickly."})}},getAdditionalSettingsTitle:()=>o.i18n.translate("controls.optionsList.editor.additionalSettingsTitle",{defaultMessage:"Additional settings"}),getRunPastTimeoutTitle:()=>o.i18n.translate("controls.optionsList.editor.runPastTimeout",{defaultMessage:"Ignore timeout for results"}),getRunPastTimeoutTooltip:()=>o.i18n.translate("controls.optionsList.editor.runPastTimeout.tooltip",{defaultMessage:"Wait to display results until the list is complete. This setting is useful for large data sets, but the results might take longer to populate."})},popover:{getAriaLabel:e=>o.i18n.translate("controls.optionsList.popover.ariaLabel",{defaultMessage:"Popover for {fieldName} control",values:{fieldName:e}}),getSuggestionsAriaLabel:(e,t)=>o.i18n.translate("controls.optionsList.popover.suggestionsAriaLabel",{defaultMessage:"Available {optionCount, plural, one {option} other {options}} for {fieldName}",values:{fieldName:e,optionCount:t}}),getAllowExpensiveQueriesWarning:()=>o.i18n.translate("controls.optionsList.popover.allowExpensiveQueriesWarning",{defaultMessage:"The cluster setting to allow expensive queries is off, so some features are disabled."}),getLoadingMoreMessage:()=>o.i18n.translate("controls.optionsList.popover.loadingMore",{defaultMessage:"Loading more options..."}),getAtEndOfOptionsMessage:()=>o.i18n.translate("controls.optionsList.popover.endOfOptions",{defaultMessage:"The top 1,000 available options are displayed. View more options by searching for the name."}),getEmptyMessage:()=>o.i18n.translate("controls.optionsList.popover.empty",{defaultMessage:"No options found"}),getSelectionsEmptyMessage:()=>o.i18n.translate("controls.optionsList.popover.selectionsEmpty",{defaultMessage:"You have no selections"}),getInvalidSelectionMessage:()=>o.i18n.translate("controls.optionsList.popover.selectionError",{defaultMessage:"There was an error when making your selection"}),getInvalidSearchMessage:e=>{switch(e){case"ip":return o.i18n.translate("controls.optionsList.popover.invalidSearch.ip",{defaultMessage:"Your search is not a valid IP address."});case"number":return o.i18n.translate("controls.optionsList.popover.invalidSearch.number",{defaultMessage:"Your search is not a valid number."});default:return o.i18n.translate("controls.optionsList.popover.invalidSearch.invalidCharacters",{defaultMessage:"Your search contains invalid characters."})}},getAllOptionsButtonTitle:()=>o.i18n.translate("controls.optionsList.popover.allOptionsTitle",{defaultMessage:"Show all options"}),getSelectedOptionsButtonTitle:()=>o.i18n.translate("controls.optionsList.popover.selectedOptionsTitle",{defaultMessage:"Show only selected options"}),getSearchPlaceholder:e=>{switch(e){case"prefix":return o.i18n.translate("controls.optionsList.popover.prefixSearchPlaceholder",{defaultMessage:"Starts with..."});case"wildcard":return o.i18n.translate("controls.optionsList.popover.wildcardSearchPlaceholder",{defaultMessage:"Contains..."});case"exact":return o.i18n.translate("controls.optionsList.popover.exactSearchPlaceholder",{defaultMessage:"Equals..."})}},getCardinalityLabel:e=>o.i18n.translate("controls.optionsList.popover.cardinalityLabel",{defaultMessage:"{totalOptions, number} {totalOptions, plural, one {option} other {options}}",values:{totalOptions:e}}),getInvalidSelectionsSectionAriaLabel:(e,t)=>o.i18n.translate("controls.optionsList.popover.invalidSelectionsAriaLabel",{defaultMessage:"Invalid {invalidSelectionCount, plural, one {selection} other {selections}} for {fieldName}",values:{fieldName:e,invalidSelectionCount:t}}),getInvalidSelectionsSectionTitle:e=>o.i18n.translate("controls.optionsList.popover.invalidSelectionsSectionTitle",{defaultMessage:"Invalid {invalidSelectionCount, plural, one {selection} other {selections}}",values:{invalidSelectionCount:e}}),getInvalidSelectionsLabel:e=>o.i18n.translate("controls.optionsList.popover.invalidSelectionsLabel",{defaultMessage:"{selectedOptions} {selectedOptions, plural, one {selection} other {selections}} invalid",values:{selectedOptions:e}}),getInvalidSelectionScreenReaderText:()=>o.i18n.translate("controls.optionsList.popover.invalidSelectionScreenReaderText",{defaultMessage:"Invalid selection."}),getIncludeLabel:()=>o.i18n.translate("controls.optionsList.popover.includeLabel",{defaultMessage:"Include"}),getExcludeLabel:()=>o.i18n.translate("controls.optionsList.popover.excludeLabel",{defaultMessage:"Exclude"}),getIncludeExcludeLegend:()=>o.i18n.translate("controls.optionsList.popover.excludeOptionsLegend",{defaultMessage:"Include or exclude selections"}),getSortPopoverTitle:()=>o.i18n.translate("controls.optionsList.popover.sortTitle",{defaultMessage:"Sort"}),getSortPopoverDescription:()=>o.i18n.translate("controls.optionsList.popover.sortDescription",{defaultMessage:"Define the sort order"}),getSortDisabledTooltip:()=>o.i18n.translate("controls.optionsList.popover.sortDisabledTooltip",{defaultMessage:"Sorting is ignored when “Show only selected” is true"}),getDocumentCountTooltip:e=>o.i18n.translate("controls.optionsList.popover.documentCountTooltip",{defaultMessage:"This value appears in {documentCount, number} {documentCount, plural, one {document} other {documents}}",values:{documentCount:e}}),getDocumentCountScreenReaderText:e=>o.i18n.translate("controls.optionsList.popover.documentCountScreenReaderText",{defaultMessage:"Appears in {documentCount, number} {documentCount, plural, one {document} other {documents}}",values:{documentCount:e}})},controlAndPopover:{getExists:(e=0)=>o.i18n.translate("controls.optionsList.controlAndPopover.exists",{defaultMessage:"{negate, plural, one {Exist} other {Exists}}",values:{negate:e}})},editorAndPopover:{getSortDirectionLegend:()=>o.i18n.translate("controls.optionsList.popover.sortDirections",{defaultMessage:"Sort directions"}),sortBy:{_count:{getSortByLabel:()=>o.i18n.translate("controls.optionsList.popover.sortBy.docCount",{defaultMessage:"By document count"})},_key:{getSortByLabel:e=>{switch(e){case"date":return o.i18n.translate("controls.optionsList.popover.sortBy.date",{defaultMessage:"By date"});case"number":return o.i18n.translate("controls.optionsList.popover.sortBy.numeric",{defaultMessage:"Numerically"});default:return o.i18n.translate("controls.optionsList.popover.sortBy.alphabetical",{defaultMessage:"Alphabetically"})}}}},sortOrder:{asc:{getSortOrderLabel:()=>o.i18n.translate("controls.optionsList.popover.sortOrder.asc",{defaultMessage:"Ascending"})},desc:{getSortOrderLabel:()=>o.i18n.translate("controls.optionsList.popover.sortOrder.desc",{defaultMessage:"Descending"})}}}}},function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));const o="medium",i=!0,r="oneLine"},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o="optionsListControl"},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o="rangeSliderControl"},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));const o={by:"_count",direction:"desc"},i=e=>"ip"===e?["_count"]:["_count","_key"]},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));const o="control_group",i=["panels","chainingSystem","controlStyle","ignoreParentSettings","showApplySelections"]},function(e,t){e.exports=__kbnSharedDeps__.Uuid},function(e,t,n){"use strict";var o=n(14);n.d(t,"a",(function(){return o.a}))},function(e,t,n){"use strict";n.d(t,"c",(function(){return control_group_container_factory_ControlGroupContainerFactory})),n.d(t,"b",(function(){return u.c})),n.d(t,"a",(function(){return u.b})),n.d(t,"e",(function(){return d.a})),n.d(t,"d",(function(){return h}));var o=n(16),i=n(1),r=n.n(i),a=n(0),s=n(5);n(11);const l=e=>`${e.explicitInput.id}:`;var c=n(7);class control_group_container_factory_ControlGroupContainerFactory{constructor(e){r()(this,"isContainerType",!0),r()(this,"type",o.a),r()(this,"inject",void 0),r()(this,"extract",void 0),r()(this,"isEditable",(async()=>!1)),r()(this,"getDisplayName",(()=>a.i18n.translate("controls.controlGroup.title",{defaultMessage:"Control group"}))),r()(this,"create",(async(e,t,o,i)=>{const r=await Object(s.lazyLoadReduxToolsPackage)(),{ControlGroupContainer:a}=await n.e(0).then(n.bind(null,68));return new a(r,e,t,o,i)})),this.persistableStateService=e,this.inject=(e=>(t,n)=>{const o={...t};if("panels"in o){o.panels={...o.panels};for(const[t,i]of Object.entries(o.panels)){o.panels[t]={...i};const r=l(i),a=n.filter((e=>0===e.name.indexOf(r))).map((e=>({...e,name:e.name.replace(r,"")}))),s=0===a.length?n:a,{type:c,...u}=e.inject({...o.panels[t].explicitInput,type:o.panels[t].type},s);o.panels[t].explicitInput=u}}return o})(this.persistableStateService),this.extract=(e=>t=>{const n={...t},o=[];if("panels"in n){n.panels={...n.panels};for(const[t,i]of Object.entries(n.panels)){const r=l(i),{state:a,references:s}=e.extract({...i.explicitInput,type:i.type}),c=s.map((e=>({...e,name:`${r}${e.name}`})));o.push(...c);const{type:u,...d}=a;n.panels[t].explicitInput=d}}return{state:n,references:o}})(this.persistableStateService)}getDefaultInput(){return Object(c.getDefaultControlGroupInput)()}}var u=n(29),d=n(26),p=n(2),g=n(4),f=n(15),m=n(25),b=n(3);const h=Object(g.forwardRef)((({getCreationOptions:e,filters:t,timeRange:i,query:r},a)=>{const[s,l]=Object(g.useState)();Object(g.useImperativeHandle)(a,(()=>{return null!=(e=s)?e:null;var e}),[s]);const u=Object(g.useRef)(null),h=Object(g.useMemo)((()=>Object(f.v4)()),[]);return Object(g.useEffect)((()=>{let t,i=!1;return(async r=>{const{pluginServices:a}=await Promise.resolve().then(n.bind(null,39)),{embeddable:g}=a.getServices(),f=g.getEmbeddableFactory(o.a),{initialInput:m,settings:b,fieldFilterPredicate:S}=null!==(r=await(null==e?void 0:e(Object(c.getDefaultControlGroupInput)(),d.a)))&&void 0!==r?r:{},v=await(null==f?void 0:f.create({id:h,...Object(c.getDefaultControlGroupInput)(),...m},void 0,{...b,lastSavedInput:{...Object(c.getDefaultControlGroupPersistableInput)(),...Object(p.pick)(m,c.persistableControlGroupInputKeys)}},S));if(i)return v.destroy(),void(null==s||s.destroy());u.current&&v.render(u.current),l(v),t=()=>v.destroy()})(),()=>{var e;i=!0,null===(e=t)||void 0===e||e()}}),[]),Object(g.useEffect)((()=>{var e;s&&((!i||Object(p.isEqual)(s.getInput().timeRange,i))&&Object(m.compareFilters)(null!==(e=s.getInput().filters)&&void 0!==e?e:[],null!=t?t:[])&&Object(p.isEqual)(s.getInput().query,r)||s.updateInput({timeRange:i,query:r,filters:t}))}),[r,t,s,i]),Object(b.jsx)("div",{ref:u})}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o.a})),n.d(t,"b",(function(){return range_slider_embeddable_factory_RangeSliderEmbeddableFactory}));var o=n(12),i=n(1),r=n.n(i),a=n(0),s=n(8),l=n.n(s),c=n(5),u=n(28);const d="rangeSliderDataView";var p=n(4),g=n.n(p),f=n(6),m=n(37),b=n(3);const h=({initialInput:e,onChange:t,setControlEditorValid:n})=>{const[o,i]=Object(p.useState)((null==e?void 0:e.step)||1);return Object(b.jsx)(g.a.Fragment,null,Object(b.jsx)(f.EuiFormRow,{fullWidth:!0,label:m.a.editor.getStepTitle()},Object(b.jsx)(f.EuiFieldNumber,{value:o,onChange:e=>{const o=e.target.valueAsNumber;t({step:o}),i(o),n(o>0)},min:0,isInvalid:o<=0,"data-test-subj":"rangeSliderControl__stepAdditionalSetting"})))};class range_slider_embeddable_factory_RangeSliderEmbeddableFactory{constructor(){r()(this,"type",o.a),r()(this,"getDisplayName",(()=>a.i18n.translate("controls.rangeSlider.displayName",{defaultMessage:"Range slider"}))),r()(this,"getDescription",(()=>a.i18n.translate("controls.rangeSlider.description",{defaultMessage:"Add a control for selecting a range of field values."}))),r()(this,"getIconType",(()=>"controlsHorizontal")),r()(this,"canCreateNew",(()=>!1)),r()(this,"isEditable",(()=>Promise.resolve(!0))),r()(this,"controlEditorOptionsComponent",h),r()(this,"presaveTransformFunction",((e,t)=>(t&&(e.fieldName&&!l()(e.fieldName,t.getInput().fieldName)||e.dataViewId&&!l()(e.dataViewId,t.getInput().dataViewId))&&(e.value=["",""]),e))),r()(this,"isFieldCompatible",(e=>e.aggregatable&&"number"===e.type)),r()(this,"inject",((e,t)=>{const n={...e};return t.forEach((e=>{e.name===d&&(n.dataViewId=e.id)})),n})),r()(this,"extract",(e=>{const t={...e},n=[];return"dataViewId"in t&&(n.push({name:d,type:u.DATA_VIEW_SAVED_OBJECT_TYPE,id:t.dataViewId}),delete t.dataViewId),{state:t,references:n}}))}async create(e,t){const o=await Object(c.lazyLoadReduxToolsPackage)(),{RangeSliderEmbeddable:i}=await n.e(4).then(n.bind(null,108));return Promise.resolve(new i(o,e,{},t))}}},function(e,t,n){"use strict";var o=n(39);n.d(t,"a",(function(){return o.pluginServices}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n(0),i=n(18);const r={invalidControlWarning:{getTourTitle:()=>o.i18n.translate("controls.controlGroup.invalidControlWarning.tourStepTitle.default",{defaultMessage:"Invalid selections are no longer ignored"}),getTourContent:e=>e===i.a?o.i18n.translate("controls.controlGroup.invalidControlWarning.tourStepContent.rangeSlider",{defaultMessage:"The selected range is returning no results. Try changing the range."}):o.i18n.translate("controls.controlGroup.invalidControlWarning.tourStepContent.default",{defaultMessage:"Some selections are returning no results. Try changing the selections."}),getDismissButton:()=>o.i18n.translate("controls.controlGroup.invalidControlWarning.dismissButtonLabel",{defaultMessage:"Dismiss"}),getSuppressTourLabel:()=>o.i18n.translate("controls.controlGroup.invalidControlWarning.suppressTourLabel",{defaultMessage:"Don't show again"})},manageControl:{getFlyoutCreateTitle:()=>o.i18n.translate("controls.controlGroup.manageControl.createFlyoutTitle",{defaultMessage:"Create control"}),getFlyoutEditTitle:()=>o.i18n.translate("controls.controlGroup.manageControl.editFlyoutTitle",{defaultMessage:"Edit control"}),dataSource:{getFormGroupTitle:()=>o.i18n.translate("controls.controlGroup.manageControl.dataSource.formGroupTitle",{defaultMessage:"Data source"}),getFormGroupDescription:()=>o.i18n.translate("controls.controlGroup.manageControl.dataSource.formGroupDescription",{defaultMessage:"Select the data view and field that you want to create a control for."}),getSelectDataViewMessage:()=>o.i18n.translate("controls.controlGroup.manageControl.dataSource.selectDataViewMessage",{defaultMessage:"Please select a data view"}),getDataViewTitle:()=>o.i18n.translate("controls.controlGroup.manageControl.dataSource.dataViewTitle",{defaultMessage:"Data view"}),getFieldTitle:()=>o.i18n.translate("controls.controlGroup.manageControl.dataSource.fieldTitle",{defaultMessage:"Field"}),getControlTypeTitle:()=>o.i18n.translate("controls.controlGroup.manageControl.dataSource.controlTypesTitle",{defaultMessage:"Control type"}),getControlTypeErrorMessage:({fieldSelected:e,controlType:t})=>e?t===i.a?o.i18n.translate("controls.controlGroup.manageControl.dataSource.controlTypeErrorMessage.rangeSlider",{defaultMessage:"Range sliders are only compatible with number fields."}):o.i18n.translate("controls.controlGroup.manageControl.dataSource.controlTypeErrorMessage.default",{defaultMessage:"Select a compatible control type."}):o.i18n.translate("controls.controlGroup.manageControl.dataSource.controlTypErrorMessage.noField",{defaultMessage:"Select a field first."})},displaySettings:{getFormGroupTitle:()=>o.i18n.translate("controls.controlGroup.manageControl.displaySettings.formGroupTitle",{defaultMessage:"Display settings"}),getFormGroupDescription:()=>o.i18n.translate("controls.controlGroup.manageControl.displaySettings.formGroupDescription",{defaultMessage:"Change how the control appears on your dashboard."}),getTitleInputTitle:()=>o.i18n.translate("controls.controlGroup.manageControl.displaySettings.titleInputTitle",{defaultMessage:"Label"}),getWidthInputTitle:()=>o.i18n.translate("controls.controlGroup.manageControl.displaySettings.widthInputTitle",{defaultMessage:"Minimum width"}),getGrowSwitchTitle:()=>o.i18n.translate("controls.controlGroup.manageControl.displaySettings.growSwitchTitle",{defaultMessage:"Expand width to fit available space"})},controlTypeSettings:{getFormGroupTitle:e=>o.i18n.translate("controls.controlGroup.manageControl.controlTypeSettings.formGroupTitle",{defaultMessage:"{controlType} settings",values:{controlType:e}}),getFormGroupDescription:e=>o.i18n.translate("controls.controlGroup.manageControl.controlTypeSettings.formGroupDescription",{defaultMessage:"Custom settings for your {controlType} control.",values:{controlType:e.toLocaleLowerCase()}})},getSaveChangesTitle:()=>o.i18n.translate("controls.controlGroup.manageControl.saveChangesTitle",{defaultMessage:"Save and close"}),getCancelTitle:()=>o.i18n.translate("controls.controlGroup.manageControl.cancelTitle",{defaultMessage:"Cancel"})},management:{getAddControlTitle:()=>o.i18n.translate("controls.controlGroup.management.addControl",{defaultMessage:"Add control"}),getApplyButtonTitle:e=>e?o.i18n.translate("controls.controlGroup.management.applyButtonTooltip.enabled",{defaultMessage:"Apply selections"}):o.i18n.translate("controls.controlGroup.management.applyButtonTooltip.disabled",{defaultMessage:"No new selections to apply"}),getFlyoutTitle:()=>o.i18n.translate("controls.controlGroup.management.flyoutTitle",{defaultMessage:"Control settings"}),getDeleteButtonTitle:()=>o.i18n.translate("controls.controlGroup.management.delete",{defaultMessage:"Delete control"}),getDeleteAllButtonTitle:()=>o.i18n.translate("controls.controlGroup.management.deleteAll",{defaultMessage:"Delete all"}),controlWidth:{getWidthSwitchLegend:()=>o.i18n.translate("controls.controlGroup.management.layout.controlWidthLegend",{defaultMessage:"Change control size"}),getAutoWidthTitle:()=>o.i18n.translate("controls.controlGroup.management.layout.auto",{defaultMessage:"Auto"}),getSmallWidthTitle:()=>o.i18n.translate("controls.controlGroup.management.layout.small",{defaultMessage:"Small"}),getMediumWidthTitle:()=>o.i18n.translate("controls.controlGroup.management.layout.medium",{defaultMessage:"Medium"}),getLargeWidthTitle:()=>o.i18n.translate("controls.controlGroup.management.layout.large",{defaultMessage:"Large"})},labelPosition:{getLabelPositionTitle:()=>o.i18n.translate("controls.controlGroup.management.labelPosition.title",{defaultMessage:"Label position"}),getLabelPositionLegend:()=>o.i18n.translate("controls.controlGroup.management.labelPosition.designSwitchLegend",{defaultMessage:"Switch label position between inline and above"}),getInlineTitle:()=>o.i18n.translate("controls.controlGroup.management.labelPosition.inline",{defaultMessage:"Inline"}),getAboveTitle:()=>o.i18n.translate("controls.controlGroup.management.labelPosition.above",{defaultMessage:"Above"})},deleteControls:{getDeleteAllTitle:()=>o.i18n.translate("controls.controlGroup.management.delete.deleteAllTitle",{defaultMessage:"Delete all controls?"}),getDeleteTitle:()=>o.i18n.translate("controls.controlGroup.management.delete.deleteTitle",{defaultMessage:"Delete control?"}),getSubtitle:()=>o.i18n.translate("controls.controlGroup.management.delete.sub",{defaultMessage:"Controls are not recoverable once removed."}),getConfirm:()=>o.i18n.translate("controls.controlGroup.management.delete.confirm",{defaultMessage:"Delete"}),getCancel:()=>o.i18n.translate("controls.controlGroup.management.delete.cancel",{defaultMessage:"Cancel"})},discardChanges:{getTitle:()=>o.i18n.translate("controls.controlGroup.management.discard.title",{defaultMessage:"Discard changes?"}),getSubtitle:()=>o.i18n.translate("controls.controlGroup.management.discard.sub",{defaultMessage:"Changes that you've made to this control will be discarded, are you sure you want to continue?"}),getConfirm:()=>o.i18n.translate("controls.controlGroup.management.discard.confirm",{defaultMessage:"Discard changes"}),getCancel:()=>o.i18n.translate("controls.controlGroup.management.discard.cancel",{defaultMessage:"Cancel"})},discardNewControl:{getTitle:()=>o.i18n.translate("controls.controlGroup.management.deleteNew.title",{defaultMessage:"Discard new control"}),getSubtitle:()=>o.i18n.translate("controls.controlGroup.management.deleteNew.sub",{defaultMessage:"Changes that you've made to this control will be discarded, are you sure you want to continue?"}),getConfirm:()=>o.i18n.translate("controls.controlGroup.management.deleteNew.confirm",{defaultMessage:"Discard control"}),getCancel:()=>o.i18n.translate("controls.controlGroup.management.deleteNew.cancel",{defaultMessage:"Cancel"})},selectionSettings:{getSelectionSettingsTitle:()=>o.i18n.translate("controls.controlGroup.management.selectionSettings",{defaultMessage:"Selections"}),validateSelections:{getValidateSelectionsTitle:()=>o.i18n.translate("controls.controlGroup.management.validate.title",{defaultMessage:"Validate user selections"}),getValidateSelectionsTooltip:()=>o.i18n.translate("controls.controlGroup.management.validate.tooltip",{defaultMessage:"Highlight control selections that result in no data."})},controlChaining:{getHierarchyTitle:()=>o.i18n.translate("controls.controlGroup.management.hierarchy.title",{defaultMessage:"Chain controls"}),getHierarchyTooltip:()=>o.i18n.translate("controls.controlGroup.management.hierarchy.tooltip",{defaultMessage:"Selections in one control narrow down available options in the next. Controls are chained from left to right."})},showApplySelections:{getShowApplySelectionsTitle:()=>o.i18n.translate("controls.controlGroup.management.showApplySelections.title",{defaultMessage:"Apply selections automatically"}),getShowApplySelectionsTooltip:()=>o.i18n.translate("controls.controlGroup.management.showApplySelections.tooltip",{defaultMessage:"If disabled, control selections will only be applied after clicking apply."})}},filteringSettings:{getFilteringSettingsTitle:()=>o.i18n.translate("controls.controlGroup.management.filteringSettings",{defaultMessage:"Filtering"}),getUseGlobalFiltersTitle:()=>o.i18n.translate("controls.controlGroup.management.filtering.useGlobalFilters",{defaultMessage:"Apply global filters to controls"}),getUseGlobalTimeRangeTitle:()=>o.i18n.translate("controls.controlGroup.management.filtering.useGlobalTimeRange",{defaultMessage:"Apply global time range to controls"})}},floatingActions:{getEditButtonTitle:()=>o.i18n.translate("controls.controlGroup.floatingActions.editTitle",{defaultMessage:"Edit"}),getRemoveButtonTitle:()=>o.i18n.translate("controls.controlGroup.floatingActions.removeTitle",{defaultMessage:"Delete"}),getClearButtonTitle:()=>o.i18n.translate("controls.controlGroup.floatingActions.clearTitle",{defaultMessage:"Clear"})},ariaActions:{getMoveControlButtonAction:e=>o.i18n.translate("controls.controlGroup.ariaActions.moveControlButtonAction",{defaultMessage:"Move control {controlTitle}",values:{controlTitle:null!=e?e:""}})}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o="timeSlider"},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));const o=()=>r,i={},r={registerControlType:e=>{i[e.type]=e},getControlFactory:e=>i[e],getControlTypes:()=>Object.keys(i)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n(4);var o=n(6),i=n(3),r={name:"1u81noh",styles:"margin-top:0px!important"};const a=({label:e,tooltip:t})=>Object(i.jsx)(o.EuiFlexGroup,{alignItems:"center",gutterSize:"xs",responsive:!1},Object(i.jsx)(o.EuiFlexItem,{grow:!1},e),Object(i.jsx)(o.EuiFlexItem,{grow:!1,css:r},Object(i.jsx)(o.EuiIconTip,{content:t,position:"right"})))},function(e,t,n){n.r(t);var o=__kbnBundles__.get("plugin/embeddable/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(o))},function(e,t){e.exports=__kbnSharedDeps__.KbnEsQuery},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return g}));var o=n(0),i=n(15),r=n(7),a=n(10),s=n(12),l=n(27);const c={addDataControlFromField:async(e,t)=>{const n=await u(e,t);e.panels={...e.panels,[n.explicitInput.id]:n}},addOptionsListControl:(e,t)=>{const n=d(e,t);e.panels={...e.panels,[n.explicitInput.id]:n}},addRangeSliderControl:(e,t)=>{const n=p(e,t);e.panels={...e.panels,[n.explicitInput.id]:n}},addTimeSliderControl:e=>{const t=g(e);e.panels={...e.panels,[t.explicitInput.id]:t}}};async function u(e,t){const{controlId:n,dataViewId:o,fieldName:r,title:a}=t;return{type:await Object(l.a)({dataViewId:o,fieldName:r}),...f(e,t),explicitInput:{id:n||Object(i.v4)(),dataViewId:o,fieldName:r,title:null!=a?a:r}}}function d(e,t){const{controlId:n,dataViewId:o,fieldName:a,title:s,...l}=t;return{type:r.OPTIONS_LIST_CONTROL,...f(e,t),explicitInput:{id:n||Object(i.v4)(),dataViewId:o,fieldName:a,title:null!=s?s:a,...l}}}function p(e,t){const{controlId:n,dataViewId:o,fieldName:r,title:a,...l}=t;return{type:s.a,...f(e,t),explicitInput:{id:n||Object(i.v4)(),dataViewId:o,fieldName:r,title:null!=a?a:r,...l}}}function g(e){return{type:r.TIME_SLIDER_CONTROL,order:Object(l.b)(e.panels),grow:!0,width:"large",explicitInput:{id:Object(i.v4)(),title:o.i18n.translate("controls.controlGroup.timeSlider.title",{defaultMessage:"Time slider"})}}}function f(e,t){var n,o,i,r;return{order:Object(l.b)(e.panels),grow:null!==(n=null!==(o=t.grow)&&void 0!==o?o:e.defaultControlGrow)&&void 0!==n?n:a.a,width:null!==(i=null!==(r=t.width)&&void 0!==r?r:e.defaultControlWidth)&&void 0!==i?i:a.c}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return l}));var o=n(38),i=n(19),r=n(16);const a=e=>{let t=0;return Object.keys(null!=e?e:{}).length>0&&(t=Object.values(null!=e?e:{}).reduce(((e,t)=>(t.order>e&&(e=t.order),e)),0)+1),t},s=async({dataViewId:e,fieldName:t})=>{const n=await i.a.getServices().dataViews.get(e);return(await Object(o.a)(n))[t].compatibleControlTypes[0]},l=e=>e.isContainer&&e.type===r.a},function(e,t,n){n.r(t);var o=__kbnBundles__.get("plugin/dataViews/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(o))},function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));const o="editControl",i="clearControl",r="deleteControl"},function(e,t){e.exports=__kbnSharedDeps__.KbnDatemath},function(e,t){e.exports=__kbnSharedDeps__.Rxjs},function(e,t){e.exports=__kbnSharedDeps__.TsLib},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));var o=n(20);const i=[{id:"small","data-test-subj":"control-editor-width-small",label:o.a.management.controlWidth.getSmallWidthTitle()},{id:"medium","data-test-subj":"control-editor-width-medium",label:o.a.management.controlWidth.getMediumWidthTitle()},{id:"large","data-test-subj":"control-editor-width-large",label:o.a.management.controlWidth.getLargeWidthTitle()}],r=[{id:"oneLine","data-test-subj":"control-editor-layout-oneLine",label:o.a.management.labelPosition.getInlineTitle()},{id:"twoLine","data-test-subj":"control-editor-layout-twoLine",label:o.a.management.labelPosition.getAboveTitle()}]},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=e=>{switch(e){case"string":return["prefix","wildcard","exact"];case"ip":return["prefix","exact"];case"number":return["exact"];default:return[]}}},function(e,t,n){n.r(t);var o=__kbnBundles__.get("plugin/data/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(o))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(32),i=n(4),r=o.__importDefault(n(45));t.default=function(e,t){void 0===t&&(t=[]);var n=r.default(e,t,{loading:!0}),o=n[0],a=n[1];return i.useEffect((function(){a()}),[a]),o}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n(0);const i={control:{getInvalidSelectionWarningLabel:()=>o.i18n.translate("controls.rangeSlider.control.invalidSelectionWarningLabel",{defaultMessage:"Selected range returns no results."})},editor:{getStepTitle:()=>o.i18n.translate("controls.rangeSlider.editor.stepSizeTitle",{defaultMessage:"Step size"})},popover:{getNoAvailableDataHelpText:()=>o.i18n.translate("controls.rangeSlider.popover.noAvailableDataHelpText",{defaultMessage:"There is no data to display. Adjust the time range and filters."})}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n(2),i=n(19);const r=Object(o.memoize)((async e=>await a(e)),(e=>[e.id,JSON.stringify(e.fields.getAll())].join("|"))),a=async e=>{const{controls:{getControlTypes:t,getControlFactory:n}}=i.a.getServices(),o=t().map((e=>n(e))),r={};return new Promise((t=>{for(const t of e.fields.getAll()){const e=[];for(const n of o)n.isFieldCompatible&&n.isFieldCompatible(t)&&e.push(n.type);e.length>0&&(r[t.name]={field:t,compatibleControlTypes:e})}t(r)}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"providers",(function(){return m})),n.d(t,"pluginServices",(function(){return b})),n.d(t,"registry",(function(){return h}));var o=n(5),i=n(22),r=n(2),a=n(31),s=n(1),l=n.n(s),c=n(30),u=n.n(c),d=n(35),p=n(25);class options_list_service_OptionsListService{constructor(e,t){l()(this,"core",void 0),l()(this,"data",void 0),l()(this,"http",void 0),l()(this,"getRoundedTimeRange",(e=>({from:u.a.parse(e.from).startOf("minute").toISOString(),to:u.a.parse(e.to).endOf("minute").toISOString()}))),l()(this,"optionsListCacheResolver",(e=>{const{size:t,sort:n,query:o,filters:i,timeRange:r,searchString:a,runPastTimeout:s,selectedOptions:l,searchTechnique:c,field:{name:u},dataView:{title:d}}=e;return[...r?JSON.stringify(this.getRoundedTimeRange(r)):[],Math.floor(Date.now()/1e3/60),null==l?void 0:l.join(","),JSON.stringify(i),JSON.stringify(o),JSON.stringify(n),c,s,d,a,u,t].join("|")})),l()(this,"cachedOptionsListRequest",Object(r.memoize)((async(e,t)=>{const n=e.dataView.title,o=this.getRequestBody(e);return await this.http.fetch(`/internal/controls/optionsList/${n}`,{version:"1",body:JSON.stringify(o),signal:t,method:"POST"})}),this.optionsListCacheResolver)),l()(this,"getRequestBody",(e=>{const t=this.data.query.timefilter.timefilter,{query:n,filters:o,dataView:i,timeRange:r,field:a,...s}=e,l=r?t.createFilter(i,r):void 0,c=[...null!=o?o:[],...l?[l]:[]],u=Object(d.getEsQueryConfig)(this.core.uiSettings);return{...s,filters:[Object(p.buildEsQuery)(i,null!=n?n:[],null!=c?c:[],u)],fieldName:a.name,fieldSpec:a,runtimeFieldMap:i.toSpec().runtimeFieldMap}})),l()(this,"cachedAllowExpensiveQueries",Object(r.memoize)((async()=>{const{allowExpensiveQueries:e}=await this.http.get("/internal/controls/optionsList/getExpensiveQueriesSetting",{version:"1"});return e}))),l()(this,"getAllowExpensiveQueries",(async()=>{try{return await this.cachedAllowExpensiveQueries()}catch(e){return!1}})),l()(this,"optionsListResponseWasFailure",(e=>void 0!==e.error)),l()(this,"runOptionsListRequest",(async(e,t)=>{try{return await this.cachedOptionsListRequest(e,t)}catch(t){return this.cachedOptionsListRequest.cache.delete(this.optionsListCacheResolver(e)),"AbortError"===t.name?{error:"aborted"}:{error:t}}})),l()(this,"clearOptionsListCache",(()=>{this.cachedOptionsListRequest.cache=new r.memoize.Cache})),this.core=e,({data:this.data,http:this.http}=t)}}var g=n(40);const f="controls:showInvalidSelectionWarning";class storage_service_StorageService{constructor(){l()(this,"storage",void 0),l()(this,"getShowInvalidSelectionWarning",(()=>this.storage.get(f))),l()(this,"setShowInvalidSelectionWarning",(e=>{this.storage.set(f,e)})),this.storage=new g.Storage(localStorage)}}const m={controls:new o.PluginServiceProvider(i.b),data:new o.PluginServiceProvider((({startPlugins:e})=>{const{data:{query:t,search:n}}=e,{data:o}=e;return{fetchFieldRange:async(e,t,n)=>{const{ignoreParentSettings:i,query:s,timeRange:l}=n;let{filters:c=[]}=n;const u=e.getFieldByName(t);if(!u)throw new Error("Field Missing Error");if(l){const t=o.query.timefilter.timefilter.createFilter(e,l);t&&(c=c.concat(t))}const d=await o.search.searchSource.create();d.setField("size",0),d.setField("index",e);const p=(e=>{const t={};return e&&(e.scripted?t.script={source:e.script,lang:e.lang}:t.field=e.name),{maxAgg:{max:t},minAgg:{min:t}}})(u);d.setField("aggs",p),d.setField("filter",null!=i&&i.ignoreFilters?[]:c),d.setField("query",null!=i&&i.ignoreQuery?void 0:s);const g=await Object(a.lastValueFrom)(d.fetch$()),f=Object(r.get)(g,"rawResponse.aggregations.minAgg.value",void 0),m=Object(r.get)(g,"rawResponse.aggregations.maxAgg.value",void 0);return{min:null===f?void 0:f,max:null===m?void 0:m}},query:t,searchSource:n.searchSource,timefilter:t.timefilter.timefilter}})),dataViews:new o.PluginServiceProvider((({startPlugins:e})=>{const{dataViews:{get:t,getIdsWithTitle:n,getDefaultId:o}}=e;return{get:t,getDefaultId:o,getIdsWithTitle:n}})),embeddable:new o.PluginServiceProvider((({startPlugins:e})=>({getEmbeddableFactory:e.embeddable.getEmbeddableFactory}))),http:new o.PluginServiceProvider((({coreStart:e})=>{const{http:{get:t,fetch:n}}=e;return{get:t,fetch:n}})),optionsList:new o.PluginServiceProvider(((e,t)=>new options_list_service_OptionsListService(e.coreStart,t)),["data","http"]),overlays:new o.PluginServiceProvider((({coreStart:e})=>{const{overlays:{openFlyout:t,openConfirm:n}}=e;return{openFlyout:t,openConfirm:n}})),settings:new o.PluginServiceProvider((({coreStart:e})=>({getDateFormat:()=>e.uiSettings.get("dateFormat","MMM D, YYYY @ HH:mm:ss.SSS"),getTimezone:()=>e.uiSettings.get("dateFormat:tz","Browser"),getDefaultTimeRange:()=>e.uiSettings.get("timepicker:timeDefaults")||{from:"now-15m",to:"now"}}))),storage:new o.PluginServiceProvider((()=>new storage_service_StorageService)),core:new o.PluginServiceProvider((({coreStart:e})=>{const{analytics:t,theme:n,i18n:o,notifications:i}=e;return{analytics:t,theme:n,i18n:o,notifications:i}})),unifiedSearch:new o.PluginServiceProvider((({startPlugins:e})=>{const{unifiedSearch:{autocomplete:t}}=e;return{autocomplete:t}}))},b=new o.PluginServices,h=new o.PluginServiceRegistry(m)},function(e,t,n){n.r(t);var o=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(o))},function(e,t,n){"use strict";n.r(t),n.d(t,"CONTROL_GROUP_TYPE",(function(){return x.CONTROL_GROUP_TYPE})),n.d(t,"OPTIONS_LIST_CONTROL",(function(){return x.OPTIONS_LIST_CONTROL})),n.d(t,"RANGE_SLIDER_CONTROL",(function(){return x.RANGE_SLIDER_CONTROL})),n.d(t,"TIME_SLIDER_CONTROL",(function(){return x.TIME_SLIDER_CONTROL})),n.d(t,"ControlGroupContainerFactory",(function(){return j.c})),n.d(t,"controlGroupInputBuilder",(function(){return j.e})),n.d(t,"OptionsListEmbeddableFactory",(function(){return options_list_embeddable_factory_OptionsListEmbeddableFactory})),n.d(t,"RangeSliderEmbeddableFactory",(function(){return M.b})),n.d(t,"ACTION_EDIT_CONTROL",(function(){return j.b})),n.d(t,"ACTION_DELETE_CONTROL",(function(){return j.a})),n.d(t,"ControlGroupRenderer",(function(){return j.d})),n.d(t,"CONTROL_WIDTH_OPTIONS",(function(){return I.b})),n.d(t,"plugin",(function(){return P}));var o=n(24),i=n(11),r=n(1),a=n.n(r),s=n(8),l=n.n(s),c=n(0),u=n(5),d=n(28);const p="optionsListDataView";var g=n(4),f=n.n(g),m=n(36),b=n.n(m),h=n(6),S=n(34),v=n(13),y=n(19),T=n(9),O=n(23),_=n(3);const w=[{id:"multi",label:T.a.editor.selectionTypes.multi.getLabel(),"data-test-subj":"optionsListControl__multiSearchOptionAdditionalSetting"},{id:"single",label:T.a.editor.selectionTypes.single.getLabel(),"data-test-subj":"optionsListControl__singleSearchOptionAdditionalSetting"}],C=[{id:"prefix",label:Object(_.jsx)(O.a,{label:T.a.editor.searchTypes.prefix.getLabel(),tooltip:T.a.editor.searchTypes.prefix.getTooltip()}),"data-test-subj":"optionsListControl__prefixSearchOptionAdditionalSetting"},{id:"wildcard",label:Object(_.jsx)(O.a,{label:T.a.editor.searchTypes.wildcard.getLabel(),tooltip:T.a.editor.searchTypes.wildcard.getTooltip()}),"data-test-subj":"optionsListControl__wildcardSearchOptionAdditionalSetting"},{id:"exact",label:Object(_.jsx)(O.a,{label:T.a.editor.searchTypes.exact.getLabel(),tooltip:T.a.editor.searchTypes.exact.getTooltip()}),"data-test-subj":"optionsListControl__exactSearchOptionAdditionalSetting"}],L=({initialInput:e,onChange:t,fieldType:n})=>{var o,i,r,a;const[s,l]=Object(g.useState)({sortDirection:null!==(o=null==e||null===(i=e.sort)||void 0===i?void 0:i.direction)&&void 0!==o?o:v.a.direction,sortBy:null!==(r=null==e||null===(a=e.sort)||void 0===a?void 0:a.by)&&void 0!==r?r:v.a.by,searchTechnique:null==e?void 0:e.searchTechnique,runPastTimeout:null==e?void 0:e.runPastTimeout,singleSelect:null==e?void 0:e.singleSelect,hideExclude:null==e?void 0:e.hideExclude,hideExists:null==e?void 0:e.hideExists,hideSort:null==e?void 0:e.hideSort}),{loading:c,value:u}=b()((async()=>{const{optionsList:e}=y.a.getServices();return e.getAllowExpensiveQueries()}),[]),d=Object(g.useMemo)((()=>Object(S.a)(n)),[n]),p=Object(g.useMemo)((()=>C.filter((e=>d.includes(e.id)))),[d]);return Object(g.useEffect)((()=>{Object(v.b)(n).includes(s.sortBy)||(t({sort:v.a}),l((e=>({...e,sortBy:v.a.by,sortDirection:v.a.direction}))))}),[n,t,s.sortBy]),Object(g.useEffect)((()=>{const n=null!=e&&e.searchTechnique&&d.includes(e.searchTechnique)?e.searchTechnique:d[0];t({searchTechnique:n}),l((e=>({...e,searchTechnique:n})))}),[d,t,e]),Object(_.jsx)(f.a.Fragment,null,Object(_.jsx)(h.EuiFormRow,{label:T.a.editor.getSelectionOptionsTitle(),"data-test-subj":"optionsListControl__selectionOptionsRadioGroup"},Object(_.jsx)(h.EuiRadioGroup,{options:w,idSelected:s.singleSelect?"single":"multi",onChange:e=>{const n="single"===e;t({singleSelect:n}),l((e=>({...e,singleSelect:n})))}})),c?Object(_.jsx)(h.EuiFormRow,null,Object(_.jsx)(h.EuiLoadingSpinner,{size:"l"})):u&&d.length>1&&Object(_.jsx)(h.EuiFormRow,{label:T.a.editor.getSearchOptionsTitle(),"data-test-subj":"optionsListControl__searchOptionsRadioGroup"},Object(_.jsx)(h.EuiRadioGroup,{options:p,idSelected:s.searchTechnique,onChange:e=>{const n=e;t({searchTechnique:n}),l((e=>({...e,searchTechnique:n})))}})),Object(_.jsx)(h.EuiFormRow,{label:T.a.editor.getAdditionalSettingsTitle()},Object(_.jsx)(h.EuiSwitch,{label:Object(_.jsx)(O.a,{label:T.a.editor.getRunPastTimeoutTitle(),tooltip:T.a.editor.getRunPastTimeoutTooltip()}),checked:Boolean(s.runPastTimeout),onChange:()=>{t({runPastTimeout:!s.runPastTimeout}),l((e=>({...e,runPastTimeout:!e.runPastTimeout})))},"data-test-subj":"optionsListControl__runPastTimeoutAdditionalSetting"})))};class options_list_embeddable_factory_OptionsListEmbeddableFactory{constructor(){a()(this,"type",i.a),a()(this,"canCreateNew",(()=>!1)),a()(this,"presaveTransformFunction",((e,t)=>(t&&(e.fieldName&&!l()(e.fieldName,t.getInput().fieldName)||e.dataViewId&&!l()(e.dataViewId,t.getInput().dataViewId))&&(e.selectedOptions=void 0,e.existsSelected=void 0,e.exclude=void 0,e.sort=void 0),e))),a()(this,"isFieldCompatible",(e=>!e.spec.scripted&&e.aggregatable&&["string","boolean","ip","date","number"].includes(e.type))),a()(this,"controlEditorOptionsComponent",L),a()(this,"isEditable",(()=>Promise.resolve(!0))),a()(this,"getDisplayName",(()=>c.i18n.translate("controls.optionsList.displayName",{defaultMessage:"Options list"}))),a()(this,"getIconType",(()=>"editorChecklist")),a()(this,"getDescription",(()=>c.i18n.translate("controls.optionsList.description",{defaultMessage:"Add a menu for selecting field values."}))),a()(this,"inject",((e,t)=>{const n={...e};return t.forEach((e=>{e.name===p&&(n.dataViewId=e.id)})),n})),a()(this,"extract",(e=>{const t={...e},n=[];return"dataViewId"in t&&(n.push({name:p,type:d.DATA_VIEW_SAVED_OBJECT_TYPE,id:t.dataViewId}),delete t.dataViewId),{state:t,references:n}}))}async create(e,t){const o=await Object(u.lazyLoadReduxToolsPackage)(),{OptionsListEmbeddable:i}=await n.e(3).then(n.bind(null,106));return Promise.resolve(new i(o,e,{},t))}}var M=n(18);class time_slider_embeddable_factory_TimeSliderEmbeddableFactory{constructor(){a()(this,"type",x.TIME_SLIDER_CONTROL),a()(this,"isFieldCompatible",(()=>!1)),a()(this,"isEditable",(()=>Promise.resolve(!1))),a()(this,"canCreateNew",(()=>!1)),a()(this,"getDisplayName",(()=>c.i18n.translate("controls.timeSlider.displayName",{defaultMessage:"Time slider"}))),a()(this,"getIconType",(()=>"clock")),a()(this,"getDescription",(()=>c.i18n.translate("controls.timeSlider.description",{defaultMessage:"Add a slider for selecting a time range"}))),a()(this,"inject",((e,t)=>({...e}))),a()(this,"extract",(e=>({state:{...e},references:[]})))}async create(e,t){const o=await Object(u.lazyLoadReduxToolsPackage)(),{TimeSliderControlEmbeddable:i}=await Promise.all([n.e(0),n.e(5)]).then(n.bind(null,107));return Promise.resolve(new i(o,e,{},t))}}n(21);var E=n(22);class plugin_ControlsPlugin{async startControlsKibanaServices(e,t){const{registry:o,pluginServices:i}=await Promise.resolve().then(n.bind(null,39));i.setRegistry(o.start({coreStart:e,startPlugins:t}))}transferEditorFunctions(e,t){var n;t.controlEditorOptionsComponent=null!==(n=e.controlEditorOptionsComponent)&&void 0!==n?n:void 0,t.presaveTransformFunction=e.presaveTransformFunction,t.isFieldCompatible=e.isFieldCompatible}setup(e,t){const{registerControlType:n}=E.a,{embeddable:o}=t;return e.getStartServices().then((([,e])=>{o.registerEmbeddableFactory(x.CONTROL_GROUP_TYPE,new j.c(e.embeddable));const t=new options_list_embeddable_factory_OptionsListEmbeddableFactory,i=o.registerEmbeddableFactory(x.OPTIONS_LIST_CONTROL,t)();this.transferEditorFunctions(t,i),n(i);const r=new M.b,a=o.registerEmbeddableFactory(x.RANGE_SLIDER_CONTROL,r)();this.transferEditorFunctions(r,a),n(a);const s=new time_slider_embeddable_factory_TimeSliderEmbeddableFactory,l=o.registerEmbeddableFactory(x.TIME_SLIDER_CONTROL,s)();this.transferEditorFunctions(s,l),n(l)})),{registerControlType:n}}start(e,t){this.startControlsKibanaServices(e,t).then((async()=>{const{uiActions:e}=t,{DeleteControlAction:i}=await Promise.all([n.e(1),n.e(7)]).then(n.bind(null,105)),r=new i;e.registerAction(r),e.attachAction(o.PANEL_HOVER_TRIGGER,r.id);const{EditControlAction:a}=await Promise.all([n.e(0),n.e(8)]).then(n.bind(null,109)),s=new a(r);e.registerAction(s),e.attachAction(o.PANEL_HOVER_TRIGGER,s.id);const{ClearControlAction:l}=await Promise.all([n.e(1),n.e(6)]).then(n.bind(null,110)),c=new l;e.registerAction(c),e.attachAction(o.PANEL_HOVER_TRIGGER,c.id)}));const{getControlFactory:i,getControlTypes:r}=E.a;return{getControlFactory:i,getControlTypes:r}}stop(){}}var x=n(7),j=n(17),I=n(33);function P(){return new plugin_ControlsPlugin}},function(e,t){e.exports=__kbnSharedDeps_npm__},function(e,t,n){n(44),__kbnBundles__.define("plugin/controls/public",n,41),__kbnBundles__.define("plugin/controls/common",n,7)},function(e,t,n){n.p=window.__kbnPublicPath__.controls},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(32),i=n(4),r=o.__importDefault(n(46));t.default=function(e,t,n){void 0===t&&(t=[]),void 0===n&&(n={loading:!1});var a=i.useRef(0),s=r.default(),l=i.useState(n),c=l[0],u=l[1],d=i.useCallback((function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=++a.current;return u((function(e){return o.__assign(o.__assign({},e),{loading:!0})})),e.apply(void 0,t).then((function(e){return s()&&i===a.current&&u({value:e,loading:!1}),e}),(function(e){return s()&&i===a.current&&u({error:e,loading:!1}),e}))}),t);return[c,d]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(4);t.default=function(){var e=o.useRef(!1),t=o.useCallback((function(){return e.current}),[]);return o.useEffect((function(){return e.current=!0,function(){e.current=!1}})),t}},function(e,t){e.exports=__kbnSharedDeps__.ReactDom},function(e,t){e.exports=__kbnSharedDeps__.ReactRedux},function(e,t){e.exports=__kbnSharedDeps__.Classnames},function(e,t,n){n.r(t);var o=__kbnBundles__.get("plugin/uiActions/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(o))},function(e,t){e.exports=__kbnSharedDeps__.ElasticEuiLibComponentsUseIsNestedEuiProvider},function(e,t){e.exports=__kbnSharedDeps__.EmotionCache},function(e,t){e.exports=__kbnSharedDeps__.KbnSharedUxErrorBoundary},function(e,t){e.exports=__kbnSharedDeps__.KbnI18nReact},function(e,t){e.exports=__kbnSharedDeps__.MomentTimezone},function(e,t){e.exports=__kbnSharedDeps__.KbnUiTheme},function(e,t,n){n.r(t);var o=__kbnBundles__.get("plugin/embeddable/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(o))}]);