(window.controls_bundle_jsonpfunction=window.controls_bundle_jsonpfunction||[]).push([[7],{105:function(e,t,n){"use strict";n.r(t),n.d(t,"DeleteControlAction",(function(){return DeleteControlAction}));var o=n(1),i=n.n(o),r=(n(4),n(6)),a=n(24),c=n(50),l=n(76),s=n(70),b=n(29),d=n(19),m=n(20),p=n(16),u=n(3);const g=e=>Boolean(Object(s.c)(e)&&Object(s.d)(e)&&Object(s.b)(e)&&Object(s.a)(e.parentApi)&&Object(s.e)(e.parentApi,p.a)&&Object(l.a)(e.parentApi));class DeleteControlAction{constructor(){i()(this,"type",b.b),i()(this,"id",b.b),i()(this,"order",100),i()(this,"openConfirm",void 0),i()(this,"MenuItem",(({context:e})=>{if(!g(e.embeddable))throw new c.IncompatibleActionError;return Object(u.jsx)(r.EuiToolTip,{content:this.getDisplayName(e)},Object(u.jsx)(r.EuiButtonIcon,{"data-test-subj":`control-action-${e.embeddable.uuid}-delete`,"aria-label":this.getDisplayName(e),iconType:this.getIconType(e),onClick:()=>this.execute(e),color:"danger"}))})),({overlays:{openConfirm:this.openConfirm}}=d.a.getServices())}getDisplayName({embeddable:e}){if(!g(e))throw new c.IncompatibleActionError;return m.a.floatingActions.getRemoveButtonTitle()}getIconType({embeddable:e}){if(!g(e))throw new c.IncompatibleActionError;return"trash"}async isCompatible({embeddable:e}){return g(e)&&Object(s.f)(e.parentApi)===a.ViewMode.EDIT}async execute({embeddable:e}){if(!g(e))throw new c.IncompatibleActionError;this.openConfirm(m.a.management.deleteControls.getSubtitle(),{confirmButtonText:m.a.management.deleteControls.getConfirm(),cancelButtonText:m.a.management.deleteControls.getCancel(),title:m.a.management.deleteControls.getDeleteTitle(),buttonColor:"danger"}).then((t=>{t&&e.parentApi.removePanel(e.uuid)}))}}}}]);