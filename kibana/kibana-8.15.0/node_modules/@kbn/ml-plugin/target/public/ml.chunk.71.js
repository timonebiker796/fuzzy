/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.ml_bundle_jsonpfunction=window.ml_bundle_jsonpfunction||[]).push([[71,92],{203:function(e,t,n){"use strict";function a(e){let t=0,n=0;if(0===e.length)return t;for(let a=0;a<e.length;a++)n=e.charCodeAt(a),t=(t<<5)-t+n,t|=0;return t<0?-2*t:t}n.d(t,"a",(function(){return a}))},229:function(e,t,n){"use strict";n.d(t,"c",(function(){return g})),n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return m})),n.d(t,"e",(function(){return h})),n.d(t,"f",(function(){return O})),n.d(t,"k",(function(){return j})),n.d(t,"i",(function(){return A})),n.d(t,"d",(function(){return E})),n.d(t,"g",(function(){return y})),n.d(t,"h",(function(){return S})),n.d(t,"j",(function(){return x})),n.d(t,"m",(function(){return w})),n.d(t,"o",(function(){return k})),n.d(t,"n",(function(){return T})),n.d(t,"l",(function(){return D}));var a=n(83),r=n.n(a),s=n(2),o=n(5),i=n(131),c=n(69);let l=function(e){return e.HISTOGRAM="histogram",e.COUNTER="counter",e.GAUGE="gauge",e.SUMMARY="summary",e}({});var u=n(415),d=n(414),f=n(218),p=n(322);n(37);const g=10,b=1e4;let m=function(e){return e[e.UNUSED=0]="UNUSED",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED",e[e.ERROR=3]="ERROR",e}({});const h={border:"all",fontSize:"s",cellPadding:"s",stripes:!1,rowHover:"none",header:"shade"},O={showColumnSelector:!0,showDisplaySelector:!1,showSortSelector:!0,showFullScreenSelector:!1},j=e=>{const t=e.fields.map((e=>e.name));return t.filter((n=>{if(e.metaFields.includes(n))return!1;const a=n.split(".");return"keyword"!==a.pop()||!t.includes(a.join("."))}))},A=(e,t)=>Object.keys(e).map((n=>{let a;const r=e[n];switch(void 0!==r&&(d.a.has(r)||d.c.has(r))&&(a="numeric"),r){case"date":a="datetime";break;case"nested":case"geo_point":a="json";break;case"boolean":a="boolean";break;case"text":a=E}return n===`${t}.${f.j}`&&(a="numeric"),n.includes(`${t}.${f.k}`)&&(a="json"),n.includes(`${t}.${f.e}`)&&(a="featureImportance"),n===`${t}.${f.f}`&&(a="featureInfluence"),{id:n,schema:a,isSortable:!0}})),E="non-aggregatable",y=e=>{let t;switch(e){case i.a.GEO_POINT:case i.a.GEO_SHAPE:t="json";break;case i.a.BOOLEAN:t="boolean";break;case i.a.DATE:case i.a.DATE_NANOS:t="datetime";break;case i.a.BYTE:case i.a.DOUBLE:case i.a.FLOAT:case i.a.HALF_FLOAT:case i.a.INTEGER:case i.a.LONG:case i.a.SCALED_FLOAT:case i.a.SHORT:case"number":t="numeric";case i.a.KEYWORD:case i.a.VERSION:case i.a.TEXT:}return t},S=e=>{var t;let n;if(e){switch(e.type){case i.b.BOOLEAN:n="boolean";break;case i.b.DATE:n="datetime";break;case i.b.GEO_POINT:case i.b.GEO_SHAPE:n="json";break;case i.b.NUMBER:n="numeric";break;case i.b.NESTED:n="json"}return void 0===n&&!1===e.aggregatable||(e=>(null==e?void 0:e.timeSeriesMetric)===l.COUNTER)(e)||"numeric"===n&&null!=e&&null!==(t=e.esTypes)&&void 0!==t&&t.some((e=>e===i.a.AGGREGATE_METRIC_DOUBLE))?E:n}},v=(e,t)=>t?"true"===e:e,x=(e,t,n=!1)=>{const a=e[`${t}.feature_importance`];return void 0===a?[]:a.map((e=>({feature_name:Array.isArray(e.feature_name)?e.feature_name[0]:e.feature_name,classes:Array.isArray(e.classes)?e.classes.map((e=>{const t=D(e);return{importance:t.importance,class_name:v(t.class_name,n)}})):e.classes,importance:Array.isArray(e.importance)?e.importance[0]:e.importance})))},w=(e,t)=>{const n=e[`${t}.top_classes`];return void 0===n?[]:n.map((e=>D(e)))},k=(e,t,n,a,o)=>Object(s.useMemo)((()=>({rowIndex:s,columnId:l,setCellProps:d})=>{const p=s-t.pageIndex*t.pageSize,g=n[p];if(void 0===g)return null;if(void 0===e)return null;const b=e.fields.getByName(l);let m;void 0!==b&&(m=e.getFormatterForField(b));const h=function(e){if(n.hasOwnProperty(p)){const t=n[p];return t.hasOwnProperty(e)?t[e]:e===`${a}.feature_importance`?x(g,null!=a?a:f.d):e===`${a}.top_classes`?w(g,null!=a?a:f.d):Object(c.a)(n[p],e,null)}return null}(l);return"function"==typeof o&&o(l,h,g,d),"object"==typeof h&&null!==h?JSON.stringify(h):null==h?null:void 0!==m?m.convert(h,"text"):"string"==typeof h||null===h?h:(null==b?void 0:b.type)===i.b.DATE?Object(u.c)(1e3*r()(h).unix()):"boolean"==typeof h?h?"true":"false":h}),[null==e?void 0:e.fields,t.pageIndex,t.pageSize,n]),T=(e,t)=>{t.addDanger(o.i18n.translate("xpack.ml.dataGrid.columnChart.ErrorMessageToast",{defaultMessage:"An error occurred fetching the histogram charts data: {error}",values:{error:Object(p.a)(e)}}))},D=(e,t)=>{const n={...e};for(const e of Object.keys(n))void 0===t?Array.isArray(n[e])&&1===n[e].length&&(n[e]=n[e][0]):!1===t(e)&&Array.isArray(n[e])&&1===n[e].length&&(n[e]=n[e][0]);return n}},277:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n(2);var a=n(25),r=n(5),s=n(6);const o=({compressed:e=!1})=>Object(s.jsx)(a.EuiBetaBadge,{label:r.i18n.translate("xpack.ml.navMenu.trainedModelsTabBetaLabel",{defaultMessage:"Technical preview"}),size:e?"s":"m",color:"hollow",tooltipContent:r.i18n.translate("xpack.ml.navMenu.trainedModelsTabBetaTooltipContent",{defaultMessage:"This functionality is in technical preview and may be changed or removed completely in a future release. Elastic will work to fix any issues, but features in technical preview are not subject to the support SLA of official GA features."}),tooltipPosition:"right"})},373:function(e,t,n){"use strict";n.r(t),n.d(t,"LogRateAnalysisPage",(function(){return g}));var a=n(2),r=n.n(a),s=n(8),o=n(15),i=n(105),c=n(158),l=n(10),u=n(142),d=n(134),f=n(122),p=n(6);const g=()=>{const{services:e}=Object(l.d)(),{showContextualInsights:t,showNodeInfo:n}=Object(f.d)(),{selectedDataView:a,selectedSavedSearch:g}=Object(c.b)();return Object(p.jsx)(r.a.Fragment,null,Object(p.jsx)(d.a,null,Object(p.jsx)(o.FormattedMessage,{id:"xpack.ml.logRateAnalysis.pageHeader",defaultMessage:"Log rate analysis"})),a&&Object(p.jsx)(i.LogRateAnalysis,{dataView:a,savedSearch:g,showContextualInsights:t,showFrozenDataTierChoice:n,appDependencies:Object(s.pick)(e,["analytics","application","charts","data","executionContext","fieldFormats","http","i18n","lens","notifications","share","storage","theme","uiActions","uiSettings","unifiedSearch","observabilityAIAssistant"])}),Object(p.jsx)(u.a,{docLink:e.docLinks.links.ml.guide}))}},892:function(e,t,n){"use strict";n.r(t),n.d(t,"LogRateAnalysisPage",(function(){return a.LogRateAnalysisPage})),n.d(t,"ChangePointDetectionPage",(function(){return j}));var a=n(373),r=n(2),s=n.n(r),o=n(8),i=n(5),c=n(25),l=n(15),u=n(105),d=n(158),f=n(246),p=n(10),g=n(142),b=n(277),m=n(134),h=n(205),O=n(6);const j=()=>{const{services:e}=Object(p.d)(),{showNodeInfo:t}=Object(h.b)(),{selectedDataView:n,selectedSavedSearch:a}=Object(d.b)();return Object(O.jsx)(s.a.Fragment,null,Object(O.jsx)(m.a,null,Object(O.jsx)(c.EuiFlexGroup,{responsive:!1,wrap:!1,alignItems:"center",gutterSize:"m"},Object(O.jsx)(c.EuiFlexItem,{grow:!1},Object(O.jsx)(l.FormattedMessage,{id:"xpack.ml.changePointDetection.pageHeader",defaultMessage:"Change point detection"})),Object(O.jsx)(c.EuiFlexItem,{grow:!1},Object(O.jsx)(b.a,null)))),n?Object(O.jsx)(u.ChangePointDetection,{dataView:n,savedSearch:a,showFrozenDataTierChoice:t,appDependencies:{...Object(o.pick)(e,["analytics","application","cases","charts","data","embeddable","executionContext","fieldFormats","http","i18n","lens","notifications","presentationUtil","share","storage","theme","uiActions","uiSettings","unifiedSearch","usageCollection"]),fieldStats:{useFieldStatsTrigger:f.d,FieldStatsFlyoutProvider:f.b}}}):null,Object(O.jsx)(g.a,{docLink:e.docLinks.links.aggs.change_point,appName:i.i18n.translate("xpack.ml.changePointDetection.pageHeader",{defaultMessage:"Change point detection"})}))}}}]);