/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */!function(e){function t(t){for(var n,a,i=t[0],s=t[1],o=0,d=[];o<i.length;o++)a=i[o],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&d.push(r[a][0]),r[a]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);for(c&&c(t);d.length;)d.shift()()}var n={},r={39:0};function a(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise((function(t,a){n=r[e]=[t,a]}));t.push(n[2]=i);var s,o=document.createElement("script");o.charset="utf-8",o.timeout=120,a.nc&&o.setAttribute("nonce",a.nc),o.src=function(e){return a.p+"ml.chunk."+e+".js"}(e);var c=new Error;s=function(t){o.onerror=o.onload=null,clearTimeout(d);var n=r[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+a+": "+i+")",c.name="ChunkLoadError",c.type=a,c.request=i,n[1](c)}r[e]=void 0}};var d=setTimeout((function(){s({type:"timeout",target:o})}),12e4);o.onerror=o.onload=s,document.head.appendChild(o)}return Promise.all(t)},a.m=e,a.c=n,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a.oe=function(e){throw console.error(e),e};var i=window.ml_bundle_jsonpfunction=window.ml_bundle_jsonpfunction||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var o=0;o<i.length;o++)t(i[o]);var c=s;a(a.s=61)}([function(e,t,n){"use strict";n.d(t,"g",(function(){return a})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return l})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return p}));var r=n(5);const a="ml",i="machineLearningApp",s="logoKibana",o=r.i18n.translate("xpack.ml.navMenu.mlAppNameText",{defaultMessage:"Machine Learning and Analytics"}),c="/app/ml",d="/internal/ml",l="/api/ml";function u(e,t){var n,r,a;void 0!==(null===(n=t.ad)||void 0===n?void 0:n.enabled)&&(e.ad=t.ad.enabled),void 0!==(null===(r=t.dfa)||void 0===r?void 0:r.enabled)&&(e.dfa=t.dfa.enabled),void 0!==(null===(a=t.nlp)||void 0===a?void 0:a.enabled)&&(e.nlp=t.nlp.enabled)}function p(e,t){var n,r;void 0!==(null===(n=t.experimental)||void 0===n||null===(r=n.ruleFormV2)||void 0===r?void 0:r.enabled)&&(e.ruleFormV2=t.experimental.ruleFormV2.enabled)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));const r="ML_APP_LOCATOR",a={ANOMALY_DETECTION_JOBS_MANAGE:"jobs",ANOMALY_EXPLORER:"explorer",SINGLE_METRIC_VIEWER:"timeseriesexplorer",DATA_FRAME_ANALYTICS_JOBS_MANAGE:"data_frame_analytics",DATA_FRAME_ANALYTICS_SOURCE_SELECTION:"data_frame_analytics/source_selection",DATA_FRAME_ANALYTICS_CREATE_JOB:"data_frame_analytics/new_job",TRAINED_MODELS_MANAGE:"trained_models",DATA_DRIFT_INDEX_SELECT:"data_drift_index_select",DATA_DRIFT_CUSTOM:"data_drift_custom",DATA_DRIFT:"data_drift",NODES:"nodes",MEMORY_USAGE:"memory_usage",DATA_FRAME_ANALYTICS_EXPLORATION:"data_frame_analytics/exploration",DATA_FRAME_ANALYTICS_MAP:"data_frame_analytics/map",DATA_VISUALIZER:"datavisualizer",DATA_VISUALIZER_INDEX_SELECT:"datavisualizer_index_select",DATA_VISUALIZER_FILE:"filedatavisualizer",DATA_VISUALIZER_ESQL:"datavisualizer/esql",DATA_VISUALIZER_INDEX_VIEWER:"jobs/new_job/datavisualizer",ANOMALY_DETECTION_CREATE_JOB:"jobs/new_job",ANOMALY_DETECTION_CREATE_JOB_RECOGNIZER:"jobs/new_job/recognize",ANOMALY_DETECTION_CREATE_JOB_SINGLE_METRIC:"jobs/new_job/single_metric",ANOMALY_DETECTION_CREATE_JOB_MULTI_METRIC:"jobs/new_job/multi_metric",ANOMALY_DETECTION_CREATE_JOB_CONVERT_TO_MULTI_METRIC:"jobs/new_job/convert_to_multi_metric",ANOMALY_DETECTION_CREATE_JOB_ADVANCED:"jobs/new_job/advanced",ANOMALY_DETECTION_CREATE_JOB_POPULATION:"jobs/new_job/population",ANOMALY_DETECTION_CREATE_JOB_CATEGORIZATION:"jobs/new_job/categorization",ANOMALY_DETECTION_CREATE_JOB_RARE:"jobs/new_job/rare",ANOMALY_DETECTION_CREATE_JOB_GEO:"jobs/new_job/geo",ANOMALY_DETECTION_CREATE_JOB_CONVERT_TO_ADVANCED:"jobs/new_job/convert_to_advanced",ANOMALY_DETECTION_CREATE_JOB_SELECT_TYPE:"jobs/new_job/step/job_type",ANOMALY_DETECTION_CREATE_JOB_SELECT_INDEX:"jobs/new_job/step/index_or_search",ANOMALY_DETECTION_CREATE_JOB_FROM_LENS:"jobs/new_job/from_lens",ANOMALY_DETECTION_CREATE_JOB_FROM_PATTERN_ANALYSIS:"jobs/new_job/from_pattern_analysis",ANOMALY_DETECTION_CREATE_JOB_FROM_MAP:"jobs/new_job/from_map",ANOMALY_DETECTION_MODULES_VIEW_OR_CREATE:"modules/check_view_or_create",SETTINGS:"settings",CALENDARS_MANAGE:"settings/calendars_list",CALENDARS_NEW:"settings/calendars_list/new_calendar",CALENDARS_EDIT:"settings/calendars_list/edit_calendar",FILTER_LISTS_MANAGE:"settings/filter_lists",FILTER_LISTS_NEW:"settings/filter_lists/new_filter_list",FILTER_LISTS_EDIT:"settings/filter_lists/edit_filter_list",OVERVIEW:"overview",NOTIFICATIONS:"notifications",AIOPS:"aiops",AIOPS_EXPLAIN_LOG_RATE_SPIKES:"aiops/explain_log_rate_spikes",AIOPS_EXPLAIN_LOG_RATE_SPIKES_INDEX_SELECT:"aiops/explain_log_rate_spikes_index_select",AIOPS_LOG_RATE_ANALYSIS:"aiops/log_rate_analysis",AIOPS_LOG_RATE_ANALYSIS_INDEX_SELECT:"aiops/log_rate_analysis_index_select",AIOPS_LOG_CATEGORIZATION:"aiops/log_categorization",AIOPS_LOG_CATEGORIZATION_INDEX_SELECT:"aiops/log_categorization_index_select",AIOPS_CHANGE_POINT_DETECTION:"aiops/change_point_detection",AIOPS_CHANGE_POINT_DETECTION_INDEX_SELECT:"aiops/change_point_detection_index_select"}},function(e,t){e.exports=__kbnSharedDeps__.React},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){e.exports=n(57)(2)},function(e,t){e.exports=__kbnSharedDeps__.KbnI18n},function(e,t){e.exports=__kbnSharedDeps__.EmotionReact},function(e,t){e.exports=__kbnSharedDeps__.Rxjs},function(e,t){e.exports=__kbnSharedDeps__.Lodash},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(21);const a=()=>Object(r.useKibana)()},function(e,t,n){"use strict";n.d(t,"d",(function(){return r.a})),n.d(t,"h",(function(){return o})),n.d(t,"j",(function(){return c})),n.d(t,"i",(function(){return d})),n.d(t,"g",(function(){return l.c})),n.d(t,"f",(function(){return l.b})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return p.b})),n.d(t,"a",(function(){return f})),n.d(t,"e",(function(){return m}));var r=n(9),a=n(2),i=n(22),s=n(0);const o=()=>{const{services:{application:{getUrlForApp:e,navigateToUrl:t}}}=Object(r.a)(),n=Object(i.useLocation)();return Object(a.useCallback)((async(r,a=!1)=>{if(void 0===r)return;const i=`${r}${!0===a?n.search:""}`,o=i.includes(s.b)?i:e(s.g,{path:i});await t(o)}),[n])},c=()=>Object(r.a)().services.uiSettings,d=()=>Object(r.a)().services.notifications;var l=n(34);const u=()=>Object(r.a)().services.mlServices.mlApiServices;var p=n(45),b=n(54);function f(){const{services:{theme:e}}=Object(r.a)();return Object(b.a)(e)}var _=n(26),h=n.n(_);const m=()=>{const{services:{mlServices:{mlLicense:e}}}=Object(r.a)();return h()(e.licenseInfo$,e.getLicenseInfo())}},function(e,t,n){"use strict";n.r(t),n.d(t,"ml",(function(){return g})),n.d(t,"mlApiServicesProvider",(function(){return y}));var r=n(0),a=n(17),i=n(12),s=n(8),o=n(67);function c(e){return{getSchemaDefinition:t=>e.http({path:`${r.d}/json_schema`,method:"GET",query:Object(s.omitBy)(t,(e=>!Object(o.a)(e))),version:"1"})}}n(2),n(10);const d=e=>({getAnnotations$(t){const n=JSON.stringify(t);return e.http$({path:`${r.d}/annotations`,method:"POST",body:n,version:"1"})},getAnnotations(t){const n=JSON.stringify(t);return e.http({path:`${r.d}/annotations`,method:"POST",body:n,version:"1"})},indexAnnotation(t){const n=JSON.stringify(t);return e.http({path:`${r.d}/annotations/index`,method:"PUT",body:n,version:"1"})},deleteAnnotation:t=>e.http({path:`${r.d}/annotations/delete/${t}`,method:"DELETE",version:"1"})}),l=e=>({getDataFrameAnalytics(t,n,a){const i=void 0!==t?`/${t}`:"";return e.http({path:`${r.d}/data_frame/analytics${i}`,method:"GET",...n?{query:{excludeGenerated:n,size:a}}:{},version:"1"})},getDataFrameAnalyticsStats:t=>void 0!==t?e.http({path:`${r.d}/data_frame/analytics/${t}/_stats`,method:"GET",version:"1"}):e.http({path:`${r.d}/data_frame/analytics/_stats`,method:"GET",version:"1"}),createDataFrameAnalytics(t,n,a=!1,i){const s=JSON.stringify(n);return e.http({path:`${r.d}/data_frame/analytics/${t}`,method:"PUT",query:{createDataView:a,timeFieldName:i},body:s,version:"1"})},updateDataFrameAnalytics(t,n){const a=JSON.stringify(n);return e.http({path:`${r.d}/data_frame/analytics/${t}/_update`,method:"POST",body:a,version:"1"})},getDataFrameAnalyticsMap(t,n,a){const i=void 0!==t?`/${t}`:"";return e.http({path:`${r.d}/data_frame/analytics/map${i}`,method:"GET",query:{treatAsRoot:n,type:a},version:"1"})},jobsExist(t,n=!1){const a=JSON.stringify({analyticsIds:t,allSpaces:n});return e.http({path:`${r.d}/data_frame/analytics/jobs_exist`,method:"POST",body:a,version:"1"})},evaluateDataFrameAnalytics(t){const n=JSON.stringify(t);return e.http({path:`${r.d}/data_frame/_evaluate`,method:"POST",body:n,version:"1"})},explainDataFrameAnalytics(t){const n=JSON.stringify(t);return e.http({path:`${r.d}/data_frame/analytics/_explain`,method:"POST",body:n,version:"1"})},deleteDataFrameAnalytics:(t,n=!0)=>e.http({path:`${r.d}/data_frame/analytics/${t}`,query:{force:n},method:"DELETE",version:"1"}),deleteDataFrameAnalyticsAndDestIndex:(t,n,a,i=!0)=>e.http({path:`${r.d}/data_frame/analytics/${t}`,query:{deleteDestIndex:n,deleteDestDataView:a,force:i},method:"DELETE",version:"1"}),startDataFrameAnalytics:t=>e.http({path:`${r.d}/data_frame/analytics/${t}/_start`,method:"POST",version:"1"}),stopDataFrameAnalytics:(t,n=!1)=>e.http({path:`${r.d}/data_frame/analytics/${t}/_stop`,method:"POST",query:{force:n},version:"1"}),getAnalyticsAuditMessages:t=>e.http({path:`${r.d}/data_frame/analytics/${t}/messages`,method:"GET",version:"1"}),validateDataFrameAnalytics(t){const n=JSON.stringify(t);return e.http({path:`${r.d}/data_frame/analytics/validate`,method:"POST",body:n,version:"1"})},newJobCapsAnalytics(t,n=!1){const a=!0===n?{rollup:!0}:{};return e.http({path:`${r.d}/data_frame/analytics/new_job_caps/${t}`,method:"GET",query:a,version:"1"})}}),u=e=>({filters(t){const n=t&&t.filterId?`/${t.filterId}`:"";return e.http({path:`${r.d}/filters${n}`,method:"GET",version:"1"})},filtersStats:()=>e.http({path:`${r.d}/filters/_stats`,method:"GET",version:"1"}),addFilter(t,n,a){const i=JSON.stringify({filterId:t,description:n,items:a});return e.http({path:`${r.d}/filters`,method:"PUT",version:"1",body:i})},updateFilter(t,n,a,i){const s=JSON.stringify({...void 0!==n?{description:n}:{},...void 0!==a?{addItems:a}:{},...void 0!==i?{removeItems:i}:{}});return e.http({path:`${r.d}/filters/${t}`,method:"PUT",body:s,version:"1"})},deleteFilter:t=>e.http({path:`${r.d}/filters/${t}`,method:"DELETE",version:"1"})}),p=e=>({getAnomaliesTableData(t,n,a,i,s,o,c,d,l,u,p,b){const f=JSON.stringify({jobIds:t,criteriaFields:n,influencers:a,aggregationInterval:i,threshold:s,earliestMs:o,latestMs:c,dateFormatTz:d,maxRecords:l,maxExamples:u,influencersFilterQuery:p,functionDescription:b});return e.http$({path:`${r.d}/results/anomalies_table_data`,method:"POST",body:f,version:"1"})},getMaxAnomalyScore(t,n,a){const i=JSON.stringify({jobIds:t,earliestMs:n,latestMs:a});return e.http({path:`${r.d}/results/max_anomaly_score`,method:"POST",body:i,version:"1"})},getCategoryDefinition(t,n){const a=JSON.stringify({jobId:t,categoryId:n});return e.http({path:`${r.d}/results/category_definition`,method:"POST",body:a,version:"1"})},getCategoryExamples(t,n,a){const i=JSON.stringify({jobId:t,categoryIds:n,maxExamples:a});return e.http({path:`${r.d}/results/category_examples`,method:"POST",body:i,version:"1"})},fetchPartitionFieldsValues(t,n,a,i,s,o){const c=JSON.stringify({jobId:t,searchTerm:n,criteriaFields:a,earliestMs:i,latestMs:s,fieldsConfig:o});return e.http$({path:`${r.d}/results/partition_fields_values`,method:"POST",body:c,version:"1"})},anomalySearch(t,n){const a=JSON.stringify({query:t,jobIds:n});return e.http({path:`${r.d}/results/anomaly_search`,method:"POST",body:a,version:"1"})},anomalySearch$(t,n){const a=JSON.stringify({query:t,jobIds:n});return e.http$({path:`${r.d}/results/anomaly_search`,method:"POST",body:a,version:"1"})},getCategoryStoppedPartitions(t,n){const a=JSON.stringify({jobIds:t,fieldToBucket:n});return e.http({path:`${r.d}/results/category_stopped_partitions`,method:"POST",body:a,version:"1"})},getDatafeedResultChartData(t,n,a){const i=JSON.stringify({jobId:t,start:n,end:a});return e.http({path:`${r.d}/results/datafeed_results_chart`,method:"POST",body:i,version:"1"})},getAnomalyCharts$(t,n,a,i,s,o,c,d,l){const u=JSON.stringify({jobIds:t,influencers:n,threshold:a,earliestMs:i,latestMs:s,maxResults:c,influencersFilterQuery:l,numberOfPoints:d,timeBounds:o});return e.http$({path:`${r.d}/results/anomaly_charts`,method:"POST",body:u,version:"1"})},getAnomalyRecords$(t,n,a,i,s,o,c){const d=JSON.stringify({jobIds:t,criteriaFields:n,threshold:a,earliestMs:i,latestMs:s,interval:o,functionDescription:c});return e.http$({path:`${r.d}/results/anomaly_records`,method:"POST",body:d,version:"1"})}});var b=n(52);const f=e=>({jobsSpaces:()=>e.http({path:`${r.d}/saved_objects/jobs_spaces`,method:"GET",version:"1"}),updateJobsSpaces(t,n,a,i){const s=JSON.stringify({jobType:t,jobIds:n,spacesToAdd:a,spacesToRemove:i});return e.http({path:`${r.d}/saved_objects/update_jobs_spaces`,method:"POST",body:s,version:"1"})},removeItemFromCurrentSpace(t,n){const a=JSON.stringify({mlSavedObjectType:t,ids:n});return e.http({path:`${r.d}/saved_objects/remove_item_from_current_space`,method:"POST",body:a,version:"1"})},syncSavedObjects:(t=!1)=>e.http({path:`${r.c}/saved_objects/sync`,method:"GET",query:{simulate:t},version:"2023-10-31"}),initSavedObjects:(t=!1)=>e.http({path:`${r.d}/saved_objects/initialize`,method:"GET",query:{simulate:t},version:"1"}),syncCheck(t){const n=JSON.stringify({mlSavedObjectType:t});return e.http({path:`${r.d}/saved_objects/sync_check`,method:"POST",body:n,version:"1"})},canDeleteMLSpaceAwareItems(t,n){const a=JSON.stringify({ids:n});return e.http({path:`${r.d}/saved_objects/can_delete_ml_space_aware_item/${t}`,method:"POST",body:a,version:"1"})},trainedModelsSpaces:()=>e.http({path:`${r.d}/saved_objects/trained_models_spaces`,method:"GET",version:"1"}),updateModelsSpaces(t,n,a){const i=JSON.stringify({modelIds:t,spacesToAdd:n,spacesToRemove:a});return e.http({path:`${r.d}/saved_objects/update_trained_models_spaces`,method:"POST",body:i,version:"1"})}});var _=n(46);function h(e){return{findMessages:t=>e.http({path:`${r.d}/notifications`,method:"GET",query:Object(s.omitBy)(t,(e=>!Object(o.a)(e))),version:"1"}),countMessages$:t=>e.http$({path:`${r.d}/notifications/count`,method:"GET",query:Object(s.omitBy)(t,(e=>!Object(o.a)(e))),version:"1"})}}function m(e){return{createInferenceEndpoint:async(t,n,a)=>await e.http({path:`${r.d}/_inference/${n}/${t}`,method:"PUT",body:JSON.stringify(a),version:"1"}),getAllInferenceEndpoints:async()=>await e.http({path:`${r.d}/_inference/all`,method:"GET",version:"1"})}}const O=new Proxy({},{get(e,t){try{return Object(a.d)()[t]}catch(e){if("getLoadingCount$"===t)return()=>{};console.error(e)}}}),g=y(new i.a(O));function y(e){return{getJobs(t){const n=t&&t.jobId?`/${t.jobId}`:"";return e.http({path:`${r.d}/anomaly_detectors${n}`,version:"1"})},getJobs$(t){const n=t&&t.jobId?`/${t.jobId}`:"";return e.http$({path:`${r.d}/anomaly_detectors${n}`,version:"1"})},getJobStats(t){const n=t&&t.jobId?`/${t.jobId}`:"";return e.http({path:`${r.d}/anomaly_detectors${n}/_stats`,version:"1"})},addJob({jobId:t,job:n}){const a=JSON.stringify(n);return e.http({path:`${r.d}/anomaly_detectors/${t}`,method:"PUT",body:a,version:"1"})},openJob:({jobId:t})=>e.http({path:`${r.d}/anomaly_detectors/${t}/_open`,method:"POST",version:"1"}),closeJob:({jobId:t})=>e.http({path:`${r.d}/anomaly_detectors/${t}/_close`,method:"POST",version:"1"}),forceCloseJob:({jobId:t})=>e.http({path:`${r.d}/anomaly_detectors/${t}/_close?force=true`,method:"POST",version:"1"}),deleteJob:({jobId:t})=>e.http({path:`${r.d}/anomaly_detectors/${t}`,method:"DELETE",version:"1"}),forceDeleteJob:({jobId:t})=>e.http({path:`${r.d}/anomaly_detectors/${t}?force=true`,method:"DELETE",version:"1"}),updateJob({jobId:t,job:n}){const a=JSON.stringify(n);return e.http({path:`${r.d}/anomaly_detectors/${t}/_update`,method:"POST",body:a,version:"1"})},estimateBucketSpan(t){const n=JSON.stringify(t);return e.http({path:`${r.d}/validate/estimate_bucket_span`,method:"POST",body:n,version:"1"})},validateJob(t){const n=JSON.stringify(t);return e.http({path:`${r.d}/validate/job`,method:"POST",body:n,version:"1"})},validateDatafeedPreview(t){const n=JSON.stringify(t);return e.http({path:`${r.d}/validate/datafeed_preview`,method:"POST",body:n,version:"1"})},validateCardinality$(t){const n=JSON.stringify(t);return e.http$({path:`${r.d}/validate/cardinality`,method:"POST",body:n,version:"1"})},getDatafeeds(t){const n=t&&t.datafeedId?`/${t.datafeedId}`:"";return e.http({path:`${r.d}/datafeeds${n}`,version:"1"})},getDatafeedStats(t){const n=t&&t.datafeedId?`/${t.datafeedId}`:"";return e.http({path:`${r.d}/datafeeds${n}/_stats`,version:"1"})},addDatafeed({datafeedId:t,datafeedConfig:n}){const a=JSON.stringify(n);return e.http({path:`${r.d}/datafeeds/${t}`,method:"PUT",body:a,version:"1"})},updateDatafeed({datafeedId:t,datafeedConfig:n}){const a=JSON.stringify(n);return e.http({path:`${r.d}/datafeeds/${t}/_update`,method:"POST",body:a,version:"1"})},deleteDatafeed:({datafeedId:t})=>e.http({path:`${r.d}/datafeeds/${t}`,method:"DELETE",version:"1"}),forceDeleteDatafeed:({datafeedId:t})=>e.http({path:`${r.d}/datafeeds/${t}?force=true`,method:"DELETE",version:"1"}),startDatafeed({datafeedId:t,start:n,end:a}){const i=JSON.stringify({...void 0!==n?{start:n}:{},...void 0!==a?{end:a}:{}});return e.http({path:`${r.d}/datafeeds/${t}/_start`,method:"POST",body:i,version:"1"})},stopDatafeed:({datafeedId:t})=>e.http({path:`${r.d}/datafeeds/${t}/_stop`,method:"POST",version:"1"}),forceStopDatafeed:({datafeedId:t})=>e.http({path:`${r.d}/datafeeds/${t}/_stop?force=true`,method:"POST",version:"1"}),datafeedPreview:({datafeedId:t})=>e.http({path:`${r.d}/datafeeds/${t}/_preview`,method:"GET",version:"1"}),validateDetector({detector:t}){const n=JSON.stringify(t);return e.http({path:`${r.d}/anomaly_detectors/_validate/detector`,method:"POST",body:n})},forecast({jobId:t,duration:n}){const a=JSON.stringify({...void 0!==n?{duration:n}:{}});return e.http({path:`${r.d}/anomaly_detectors/${t}/_forecast`,method:"POST",body:a,version:"1"})},overallBuckets({jobId:t,topN:n,bucketSpan:a,start:i,end:s,overallScore:o}){const c=JSON.stringify({topN:n,bucketSpan:a,start:i,end:s,...o?{overall_score:o}:{}});return e.http({path:`${r.d}/anomaly_detectors/${t}/results/overall_buckets`,method:"POST",body:c,version:"1"})},hasPrivileges(t){const n=JSON.stringify(t);return e.http({path:`${r.d}/_has_privileges`,method:"POST",body:n,version:"1"})},checkMlCapabilities:()=>e.http({path:`${r.d}/ml_capabilities`,method:"GET",version:"1"}),checkIndicesExists({indices:t}){const n=JSON.stringify({indices:t});return e.http({path:`${r.d}/index_exists`,method:"POST",body:n,version:"1"})},recognizeIndex:({indexPatternTitle:t,filter:n})=>e.http({path:`${r.d}/modules/recognize/${t}`,method:"GET",version:"1",query:{filter:null==n?void 0:n.join(",")}}),listDataRecognizerModules:t=>e.http({path:`${r.d}/modules/get_module`,method:"GET",version:"1",query:{filter:null==t?void 0:t.join(",")}}),getDataRecognizerModule:({moduleId:t,filter:n})=>e.http({path:`${r.d}/modules/get_module/${t}`,method:"GET",version:"1",query:{filter:null==n?void 0:n.join(",")}}),dataRecognizerModuleJobsExist:({moduleId:t})=>e.http({path:`${r.d}/modules/jobs_exist/${t}`,method:"GET",version:"1"}),setupDataRecognizerConfig({moduleId:t,prefix:n,groups:a,indexPatternName:i,query:s,useDedicatedIndex:o,startDatafeed:c,start:d,end:l,jobOverrides:u,estimateModelMemory:p}){const b=JSON.stringify({prefix:n,groups:a,indexPatternName:i,query:s,useDedicatedIndex:o,startDatafeed:c,start:d,end:l,jobOverrides:u,estimateModelMemory:p});return e.http({path:`${r.d}/modules/setup/${t}`,method:"POST",body:b,version:"1"})},getVisualizerFieldHistograms({indexPattern:t,query:n,fields:a,samplerShardSize:i,runtimeMappings:s}){const o=JSON.stringify({query:n,fields:a,samplerShardSize:i,runtimeMappings:s});return e.http({path:`${r.d}/data_visualizer/get_field_histograms/${t}`,method:"POST",body:o,version:"1"})},calendars(t){const{calendarId:n,calendarIds:a}=t||{};let i="";return n?i=`/${n}`:a&&(i=`/${a.join(",")}`),e.http({path:`${r.d}/calendars${i}`,method:"GET",version:"1"})},addCalendar(t){const n=JSON.stringify(t);return e.http({path:`${r.d}/calendars`,method:"PUT",body:n,version:"1"})},updateCalendar(t){const n=t&&t.calendarId?`/${t.calendarId}`:"",a=JSON.stringify(t);return e.http({path:`${r.d}/calendars${n}`,method:"PUT",body:a,version:"1"})},deleteCalendar:({calendarId:t})=>e.http({path:`${r.d}/calendars/${t}`,method:"DELETE",version:"1"}),mlNodeCount:()=>e.http({path:`${r.d}/ml_node_count`,method:"GET",version:"1"}),mlInfo:()=>e.http({path:`${r.d}/info`,method:"GET",version:"1"}),calculateModelMemoryLimit$({datafeedConfig:t,analysisConfig:n,indexPattern:a,query:i,timeFieldName:s,earliestMs:o,latestMs:c}){const d=JSON.stringify({datafeedConfig:t,analysisConfig:n,indexPattern:a,query:i,timeFieldName:s,earliestMs:o,latestMs:c});return e.http$({path:`${r.d}/validate/calculate_model_memory_limit`,method:"POST",body:d,version:"1"})},getCardinalityOfFields({index:t,fieldNames:n,query:a,timeFieldName:i,earliestMs:s,latestMs:o}){const c=JSON.stringify({index:t,fieldNames:n,query:a,timeFieldName:i,earliestMs:s,latestMs:o});return e.http({path:`${r.d}/fields_service/field_cardinality`,method:"POST",body:c,version:"1"})},getTimeFieldRange({index:t,timeFieldName:n,query:a,runtimeMappings:i,indicesOptions:s,allowFutureTime:o}){const c=JSON.stringify({index:t,timeFieldName:n,query:a,runtimeMappings:i,indicesOptions:s,allowFutureTime:o});return e.http({path:`${r.d}/fields_service/time_field_range`,method:"POST",body:c,version:"1"})},esSearch(t){const n=JSON.stringify(t);return e.http({path:`${r.d}/es_search`,method:"POST",body:n,version:"1"})},esSearch$(t){const n=JSON.stringify(t);return e.http$({path:`${r.d}/es_search`,method:"POST",body:n,version:"1"})},getIndices:()=>e.http({path:"/api/index_management/indices",method:"GET",version:"1"}),getModelSnapshots:(t,n)=>e.http({path:`${r.d}/anomaly_detectors/${t}/model_snapshots${void 0!==n?`/${n}`:""}`,version:"1"}),updateModelSnapshot:(t,n,a)=>e.http({path:`${r.d}/anomaly_detectors/${t}/model_snapshots/${n}/_update`,method:"POST",body:JSON.stringify(a),version:"1"}),deleteModelSnapshot:(t,n)=>e.http({path:`${r.d}/anomaly_detectors/${t}/model_snapshots/${n}`,method:"DELETE",version:"1"}),reindexWithPipeline:(t,n,a)=>e.http({path:`${r.d}/reindex_with_pipeline`,method:"POST",body:JSON.stringify({source:{index:n},dest:{index:a,pipeline:t}}),version:"1"}),annotations:d(e),dataFrameAnalytics:l(e),filters:u(e),results:p(e),jobs:Object(b.jobsApiProvider)(e),savedObjects:f(e),trainedModels:Object(_.a)(e),inferenceModels:m(e),notifications:h(e),jsonSchema:c(e)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return HttpService}));var r=n(4),a=n.n(r),i=n(7);function s(e){return{"Content-Type":"application/json",...e}}function o(e){const{path:t,method:n,headers:r,body:a,query:i,version:o}=e;if(!t)throw new Error("URL path is missing");const c={asSystemRequest:!0,credentials:"same-origin",method:n||"GET",headers:s(null!=r?r:{})};return a&&(c.body=a),i&&(c.query=i),o&&(c.version=o),{path:t,fetchOptions:c}}n(17);class HttpService{constructor(e){a()(this,"getLoadingCount$",void 0),this.httpStart=e,this.getLoadingCount$=e.getLoadingCount$()}fromHttpHandler(e,t){return new i.Observable((n=>{const r=new AbortController,a=r.signal;let i=!0,s=!1;null!=t&&t.signal&&(t.signal.aborted?r.abort():t.signal.addEventListener("abort",(()=>{a.aborted||r.abort()})));const o={...t||{},signal:a};return this.httpStart.fetch(e,o).then((e=>{i=!1,n.next(e),n.complete()})).catch((e=>{i=!1,s||n.error(e)})),()=>{s=!0,i&&r.abort()}}))}async http(e){const{path:t,fetchOptions:n}=o(e);return this.httpStart.fetch(t,n)}http$(e){const{path:t,fetchOptions:n}=o(e);return this.fromHttpHandler(t,n)}}},function(e,t,n){"use strict";n.d(t,"g",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"h",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return b})),n.d(t,"i",(function(){return f}));var r=n(5),a=n(118);const i={ANOMALY_DETECTION:"xpack.ml.anomaly_detection_alert",AD_JOBS_HEALTH:"xpack.ml.anomaly_detection_jobs_health"},s=5,o=1,c="*",d={datafeed:{name:r.i18n.translate("xpack.ml.alertTypes.jobsHealthAlertingRule.datafeedCheckName",{defaultMessage:"Datafeed is not started"}),description:r.i18n.translate("xpack.ml.alertTypes.jobsHealthAlertingRule.datafeedCheckDescription",{defaultMessage:"Get alerted if the corresponding datafeed of the job is not started"})},mml:{name:r.i18n.translate("xpack.ml.alertTypes.jobsHealthAlertingRule.mmlCheckName",{defaultMessage:"Model memory limit reached"}),description:r.i18n.translate("xpack.ml.alertTypes.jobsHealthAlertingRule.mmlCheckDescription",{defaultMessage:"Get alerted when job reaches soft or hard model memory limit."})},delayedData:{name:r.i18n.translate("xpack.ml.alertTypes.jobsHealthAlertingRule.delayedDataCheckName",{defaultMessage:"Data delay has occurred"}),description:r.i18n.translate("xpack.ml.alertTypes.jobsHealthAlertingRule.delayedDataCheckDescription",{defaultMessage:"Get alerted if a job missed data due to data delay."})},errorMessages:{name:r.i18n.translate("xpack.ml.alertTypes.jobsHealthAlertingRule.errorMessagesCheckName",{defaultMessage:"Errors in job messages"}),description:r.i18n.translate("xpack.ml.alertTypes.jobsHealthAlertingRule.errorMessagesCheckDescription",{defaultMessage:"Get alerted if a job contains errors in the job messages."})},behindRealtime:{name:r.i18n.translate("xpack.ml.alertTypes.jobsHealthAlertingRule.behindRealtimeCheckName",{defaultMessage:"Job is running behind real-time"}),description:r.i18n.translate("xpack.ml.alertTypes.jobsHealthAlertingRule.behindRealtimeCheckDescription",{defaultMessage:"Job is running behind real-time"})}},l=a.c,u=`${l}.anomaly_timestamp`,p=`${l}.job_id`,b=`${l}.anomaly_score`,f=Object.freeze({[a.e]:r.i18n.translate("xpack.ml.alertsTable.columns.ruleName",{defaultMessage:"Rule name"}),[a.i]:r.i18n.translate("xpack.ml.alertsTable.columns.status",{defaultMessage:"Status"}),[p]:r.i18n.translate("xpack.ml.alertsTable.columns.jobId",{defaultMessage:"Job ID"}),[b]:r.i18n.translate("xpack.ml.alertsTable.columns.anomalyScore",{defaultMessage:"Latest anomaly score"}),[u]:r.i18n.translate("xpack.ml.alertsTable.columns.anomalyTime",{defaultMessage:"Latest anomaly time"}),[a.a]:r.i18n.translate("xpack.ml.alertsTable.columns.duration",{defaultMessage:"Duration"}),[a.h]:r.i18n.translate("xpack.ml.alertsTable.columns.start",{defaultMessage:"Start time"})})},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(8),a=n(3);function i(e,t,n){let i=`${e}/${t}`;if(n){const{globalState:e,appState:t,index:s,savedSearchId:o,...c}=n;void 0!==s&&void 0===o&&(i=`${i}?index=${s}`),void 0===s&&void 0!==o&&(i=`${i}?savedSearchId=${o}`),Object(r.isEmpty)(c)||Object.keys(c).forEach((e=>{i=Object(a.setStateToKbnUrl)(e,c[e],{useHash:!1,storeInHashQuery:!1},i)})),e&&(i=Object(a.setStateToKbnUrl)("_g",e,{useHash:!1,storeInHashQuery:!1},i)),t&&(i=Object(a.setStateToKbnUrl)("_a",t,{useHash:!1,storeInHashQuery:!1},i))}return i}},function(e,t){e.exports=__kbnSharedDeps__.KbnI18nReact},function(e,t,n){"use strict";n.d(t,"a",(function(){return r.b})),n.d(t,"b",(function(){return ml_locator_MlLocatorDefinition})),n.d(t,"c",(function(){return p}));var r=n(1),a=n(4),i=n.n(a),s=n(3),o=n(37),c=n(14),d=n(55),l=n(8),u=n(20);class ml_locator_MlLocatorDefinition{constructor(){i()(this,"id",r.a),i()(this,"getLocation",(async e=>{let t="";switch(e.page){case r.b.ANOMALY_DETECTION_JOBS_MANAGE:t=Object(d.c)("",e.pageState);break;case r.b.ANOMALY_EXPLORER:t=Object(d.d)("",e.pageState);break;case r.b.ANOMALY_DETECTION_CREATE_JOB_SELECT_TYPE:t=Object(d.b)("",e.pageState);break;case r.b.ANOMALY_DETECTION_CREATE_JOB_SELECT_INDEX:t=Object(d.a)("",e.pageState);break;case r.b.SINGLE_METRIC_VIEWER:t=Object(d.e)("",e.pageState);break;case r.b.DATA_FRAME_ANALYTICS_JOBS_MANAGE:t=function(e,t){let n=`/${r.b.DATA_FRAME_ANALYTICS_JOBS_MANAGE}`;if(t){const{jobId:e,groupIds:a,globalState:i}=t;if(e||a){const t=[];e&&t.push(Object(u.b)(e)),a&&t.push(Object(u.a)(a));const i={...t.length>0?{queryText:t.join(" ")}:{}},o={[r.b.DATA_FRAME_ANALYTICS_JOBS_MANAGE]:i};n=Object(s.setStateToKbnUrl)("_a",o,{useHash:!1,storeInHashQuery:!1},n)}i&&(n=Object(s.setStateToKbnUrl)("_g",i,{useHash:!1,storeInHashQuery:!1},n))}return n}(0,e.pageState);break;case r.b.DATA_FRAME_ANALYTICS_CREATE_JOB:n=e.pageState,t=Object(c.a)("",r.b.DATA_FRAME_ANALYTICS_CREATE_JOB,n);break;case r.b.DATA_FRAME_ANALYTICS_MAP:t=function(e,t){let n=`/${r.b.DATA_FRAME_ANALYTICS_MAP}`;if(t){const{jobId:e,modelId:a,analysisType:i,globalState:o,queryText:c}=t,d={ml:{jobId:e,modelId:a,analysisType:i},...o},u={[r.b.DATA_FRAME_ANALYTICS_MAP]:{...c?{queryText:c}:{}}};Object(l.isEmpty)(u[r.b.DATA_FRAME_ANALYTICS_MAP])||(n=Object(s.setStateToKbnUrl)("_a",u,{useHash:!1,storeInHashQuery:!1},n)),n=Object(s.setStateToKbnUrl)("_g",d,{useHash:!1,storeInHashQuery:!1},n)}return n}(0,e.pageState);break;case r.b.DATA_FRAME_ANALYTICS_EXPLORATION:t=function(e,t){let n=`/${r.b.DATA_FRAME_ANALYTICS_EXPLORATION}`;if(t){const{jobId:e,analysisType:a,queryText:i,globalState:o}=t,c={ml:{jobId:e,analysisType:a},...o},d={[r.b.DATA_FRAME_ANALYTICS_EXPLORATION]:{...i?{queryText:i}:{}}};Object(l.isEmpty)(d[r.b.DATA_FRAME_ANALYTICS_EXPLORATION])||(n=Object(s.setStateToKbnUrl)("_a",d,{useHash:!1,storeInHashQuery:!1},n)),n=Object(s.setStateToKbnUrl)("_g",c,{useHash:!1,storeInHashQuery:!1},n)}return n}(0,e.pageState);break;case r.b.TRAINED_MODELS_MANAGE:t=function(e,t){let n=`/${r.b.TRAINED_MODELS_MANAGE}`;if(t){const{modelId:e}=t;if(e){const t={queryText:`model_id:(${e})`},a={[r.b.TRAINED_MODELS_MANAGE]:t};n=Object(s.setStateToKbnUrl)("_a",a,{useHash:!1,storeInHashQuery:!1},n)}}return n}(0,e.pageState);break;case r.b.MEMORY_USAGE:t=function(e,t){let n=`/${r.b.MEMORY_USAGE}`;if(t){const{nodeId:e}=t;if(e){const t={queryText:`name:(${e})`},a={[r.b.MEMORY_USAGE]:t};n=Object(s.setStateToKbnUrl)("_a",a,{useHash:!1,storeInHashQuery:!1},n)}}return n}(0,e.pageState);break;case r.b.AIOPS_CHANGE_POINT_DETECTION:t=function(e,t){let n=`/${r.b.AIOPS_CHANGE_POINT_DETECTION}`;if(null==t||!t.fieldConfigs)throw new Error("Field configs are required to create a change point detection URL");if(!t.index)throw new Error("Data view is required to create a change point detection URL");n=`${n}?index=${t.index}`;const{timeRange:a,fieldConfigs:i}=t,o={fieldConfigs:i},c={time:a};return n=Object(s.setStateToKbnUrl)("_g",c,{useHash:!1,storeInHashQuery:!1},n),n=Object(s.setStateToKbnUrl)("_a",{changePoint:o},{useHash:!1,storeInHashQuery:!1},n),n}(0,e.pageState);break;case r.b.DATA_DRIFT_INDEX_SELECT:case r.b.DATA_DRIFT_CUSTOM:case r.b.DATA_DRIFT:case r.b.ANOMALY_DETECTION_CREATE_JOB:case r.b.ANOMALY_DETECTION_CREATE_JOB_RECOGNIZER:case r.b.ANOMALY_DETECTION_CREATE_JOB_ADVANCED:case r.b.ANOMALY_DETECTION_CREATE_JOB_FROM_LENS:case r.b.ANOMALY_DETECTION_CREATE_JOB_FROM_MAP:case r.b.ANOMALY_DETECTION_CREATE_JOB_FROM_PATTERN_ANALYSIS:case r.b.DATA_VISUALIZER:case r.b.DATA_VISUALIZER_FILE:case r.b.DATA_VISUALIZER_ESQL:case r.b.DATA_VISUALIZER_INDEX_VIEWER:case r.b.DATA_VISUALIZER_INDEX_SELECT:case r.b.AIOPS:case r.b.AIOPS_LOG_RATE_ANALYSIS:case r.b.AIOPS_LOG_RATE_ANALYSIS_INDEX_SELECT:case r.b.AIOPS_LOG_CATEGORIZATION:case r.b.AIOPS_LOG_CATEGORIZATION_INDEX_SELECT:case r.b.AIOPS_CHANGE_POINT_DETECTION_INDEX_SELECT:case r.b.OVERVIEW:case r.b.SETTINGS:case r.b.FILTER_LISTS_MANAGE:case r.b.FILTER_LISTS_NEW:case r.b.CALENDARS_MANAGE:case r.b.CALENDARS_NEW:t=Object(c.a)("",e.page,e.pageState);break;case r.b.FILTER_LISTS_EDIT:t=function(e,t){let n=`/${r.b.FILTER_LISTS_EDIT}`;if(t){const{globalState:e,filterId:r}=t;void 0!==r&&(n=`${n}/${r}`),e&&(n=Object(s.setStateToKbnUrl)("_g",e,{useHash:!1,storeInHashQuery:!1},n))}return n}(0,e.pageState);break;case r.b.CALENDARS_EDIT:t=function(e,t){let n=`/${r.b.CALENDARS_EDIT}`;if(t){const{globalState:e,calendarId:r}=t;void 0!==r&&(n=`${n}/${r}`),e&&(n=Object(s.setStateToKbnUrl)("_g",e,{useHash:!1,storeInHashQuery:!1},n))}return n}(0,e.pageState);break;case r.b.NOTIFICATIONS:t=function(e,t){let n=`/${r.b.NOTIFICATIONS}`;if(t){const e={},r={},{level:a}=t;a&&(e.level=a),Object(o.a)(r)&&(n=Object(s.setStateToKbnUrl)("_g",r,{useHash:!1,storeInHashQuery:!1},n)),Object(o.a)(e)&&(n=Object(s.setStateToKbnUrl)("_a",e,{useHash:!1,storeInHashQuery:!1},n))}return n}(0,e.pageState);break;default:throw new Error("Page type is not provided or unknown")}var n;return{app:"ml",path:t,state:{}}}))}}const p=(e,t,n,r)=>e&&e.locator?e.locator.useUrl(n,void 0,r):void 0!==t?`${t}/app/ml/${n.page}`:""},function(e,t,n){"use strict";n.d(t,"h",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return u}));const r={timefilter:null,config:null,docLinks:null,toastNotifications:null,recentlyAccessed:null,fieldFormats:null,application:null,http:null,i18n:null,maps:null};function a(e){r.timefilter=e.timefilter||null,r.config=e.config||null,r.docLinks=e.docLinks||null,r.toastNotifications=e.toastNotifications||null,r.recentlyAccessed=e.recentlyAccessed||null,r.fieldFormats=e.fieldFormats||null,r.application=e.application||null,r.http=e.http||null,r.i18n=e.i18n||null}function i(){if(null===r.docLinks)throw new Error("docLinks hasn't been initialized");return r.docLinks}function s(){if(null===r.toastNotifications)throw new Error("toast notifications haven't been initialized");return r.toastNotifications}function o(){if(null===r.config)throw new Error("uiSettings hasn't been initialized");return r.config}function c(){if(null===r.recentlyAccessed)throw new Error("recentlyAccessed hasn't been initialized");return r.recentlyAccessed}function d(){if(null===r.application)throw new Error("application hasn't been initialized");return r.application}function l(){if(null===r.http)throw new Error("http hasn't been initialized");return r.http}function u(){Object.keys(r).forEach((e=>{r[e]=null}))}},function(e,t,n){"use strict";n.d(t,"g",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return b}));var r=n(11);let a={anomaly_detectors:{},datafeeds:{}},i={};const s={cloudId:null,isCloud:!1,isCloudTrial:!1,deploymentId:null};async function o(){try{var e;const t=await r.ml.mlInfo();return a=t.defaults,i=t.limits,s.cloudId=null!==(e=t.cloudId)&&void 0!==e?e:null,s.isCloud=void 0!==t.cloudId,s.isCloudTrial=!0===t.isCloudTrial,s.deploymentId=t.cloudId?b(t.cloudId):null,{defaults:a,limits:i,cloudId:s}}catch(e){return{defaults:a,limits:i,cloudId:s}}}function c(){return a}function d(){return i}function l(){return s.isCloud}function u(){return s.isCloudTrial}function p(){return s.deploymentId}function b(e){const t=e.replace(/^(.+)?:/,"");try{const e=atob(t).match(/^.+\$(.+)(?=\$)/);return null!==e&&2===e.length?e[1]:null}catch(e){return null}}},function(e,t,n){"use strict";const r=n(63),a=n(64),i=n(65);function s(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function o(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function c(e,t){return t.decode?a(e):e}function d(e){return Array.isArray(e)?e.sort():"object"==typeof e?d(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function l(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function u(e){const t=(e=l(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function p(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function b(e,t){s((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const n=function(e){let t;switch(e.arrayFormat){case"index":return(e,n,r)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return(e,n,r)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return(t,n,r)=>{const a="string"==typeof n&&n.split("").indexOf(e.arrayFormatSeparator)>-1?n.split(e.arrayFormatSeparator).map((t=>c(t,e))):null===n?n:c(n,e);r[t]=a};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),r=Object.create(null);if("string"!=typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;for(const a of e.split("&")){let[e,s]=i(t.decode?a.replace(/\+/g," "):a,"=");s=void 0===s?null:["comma","separator"].includes(t.arrayFormat)?s:c(s,t),n(c(e,t),s,r)}for(const e of Object.keys(r)){const n=r[e];if("object"==typeof n&&null!==n)for(const e of Object.keys(n))n[e]=p(n[e],t);else r[e]=p(n,t)}return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce(((e,t)=>{const n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=d(n):e[t]=n,e}),Object.create(null))}t.extract=u,t.parse=b,t.stringify=(e,t)=>{if(!e)return"";s((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const n=n=>t.skipNull&&null==e[n]||t.skipEmptyString&&""===e[n],r=function(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const a=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[o(t,e),"[",a,"]"].join("")]:[...n,[o(t,e),"[",o(a,e),"]=",o(r,e)].join("")]};case"bracket":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[o(t,e),"[]"].join("")]:[...n,[o(t,e),"[]=",o(r,e)].join("")];case"comma":case"separator":return t=>(n,r)=>null==r||0===r.length?n:0===n.length?[[o(t,e),"=",o(r,e)].join("")]:[[n,o(r,e)].join(e.arrayFormatSeparator)];default:return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,o(t,e)]:[...n,[o(t,e),"=",o(r,e)].join("")]}}(t),a={};for(const t of Object.keys(e))n(t)||(a[t]=e[t]);const i=Object.keys(a);return!1!==t.sort&&i.sort(t.sort),i.map((n=>{const a=e[n];return void 0===a?"":null===a?o(n,t):Array.isArray(a)?a.reduce(r(n),[]).join("&"):o(n,t)+"="+o(a,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[n,r]=i(e,"#");return Object.assign({url:n.split("?")[0]||"",query:b(u(e),t)},t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:c(r,t)}:{})},t.stringifyUrl=(e,n)=>{n=Object.assign({encode:!0,strict:!0},n);const r=l(e.url).split("?")[0]||"",a=t.extract(e.url),i=t.parse(a,{sort:!1}),s=Object.assign(i,e.query);let c=t.stringify(s,n);c&&(c=`?${c}`);let d=function(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(e.url);return e.fragmentIdentifier&&(d=`#${o(e.fragmentIdentifier,n)}`),`${r}${c}${d}`}},function(e,t,n){"use strict";function r(e,t){const n=e.match(/{{(.*?)}}/g);return Array.isArray(n)&&void 0!==t&&n.forEach((n=>{e=e.replace(n,t[n.replace(/{{|}}/g,"")])})),e}function a(e){return`groups:(${e.join(" or ")})`}function i(e){return Array.isArray(e)?`id:(${e.join(" OR ")})`:`id:${e}`}n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.ReactRouterDom},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"c",(function(){return p}));var r=n(11);let a=0,i=0,s=!1;async function o(){try{const e=await r.ml.mlNodeCount();return a=e.count,i=e.lazyNodeCount,s=!0,e}catch(e){return a=0,403===e.statusCode&&(s=!1),{count:0,lazyNodeCount:0}}}function c(){return 0!==a||0!==i}function d(){return 0!==a}function l(){return 0!==i}function u(){return s}function p(){return a}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return i}));const r="ml-job",a="ml-trained-model",i="ml-module"},function(e,t){e.exports=__kbnSharedDeps__.ElasticEui},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(58),a=n(2),i=r.__importDefault(n(66));t.default=function(e,t){var n=a.useState(t),r=n[0],s=n[1];return i.default((function(){var t=e.subscribe(s);return function(){return t.unsubscribe()}}),[e]),r}},function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var r=n(2),a=n(21),i=n(12),s=n(11),o=n(18);function c(){const{mlNodesAvailable:e}=function(){const{http:e}=Object(a.useKibana)().services,t=Object(r.useMemo)((()=>Object(s.mlApiServicesProvider)(new i.a(e))),[e]),[n,o]=Object(r.useState)(null),[c,d]=Object(r.useState)(null),[l,u]=Object(r.useState)(null),[p,b]=Object(r.useState)(!0),f=Object(r.useCallback)((async()=>{try{const{count:e,lazyNodeCount:n}=await t.mlNodeCount();o(e),d(n),u(!0),b(0!==e||0!==n)}catch(e){403===e.statusCode&&(u(!1),b(!0))}}),[t]);return Object(r.useEffect)((function(){f()}),[f]),{mlNodeCount:n,lazyMlNodeCount:c,userHasPermissionToViewMlNodeCount:l,mlNodesAvailable:p,refresh:f}}(),{isCloud:t,deploymentId:n,isCloudTrial:o}=l();return{mlNodesAvailable:e,isCloud:t,deploymentId:n,isCloudTrial:o}}const d={cloudId:null,isCloud:!1,isCloudTrial:!1,deploymentId:null};function l(){const{http:e}=Object(a.useKibana)().services,t=Object(r.useMemo)((()=>Object(s.mlApiServicesProvider)(new i.a(e))),[e]),[n,c]=Object(r.useState)(d),l=Object(r.useCallback)((async()=>{try{var e;const n=await t.mlInfo();c({cloudId:null!==(e=n.cloudId)&&void 0!==e?e:null,isCloud:void 0!==n.cloudId,isCloudTrial:!0===n.isCloudTrial,deploymentId:n.cloudId?Object(o.a)(n.cloudId):null})}catch(e){403===e.statusCode&&c(d)}}),[t]);return Object(r.useEffect)((function(){l()}),[l]),n}},function(e,t,n){"use strict";var r=n(23);n.d(t,"a",(function(){return r.b})),n.d(t,"c",(function(){return r.e})),n.d(t,"b",(function(){return r.d})),n.d(t,"d",(function(){return r.f}))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/fieldFormats/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i}));let r=function(e){return e.STARTED="started",e.STARTING="starting",e.STOPPED="stopped",e.STOPPING="stopping",e.DELETED="deleted",e}({}),a=function(e){return e.FAILED="failed",e.FINISHED="finished",e.SCHEDULED="scheduled",e.STARTED="started",e}({}),i=function(e){return e.CLOSED="closed",e.CLOSING="closing",e.FAILED="failed",e.OPENED="opened",e.OPENING="opening",e.DELETED="deleted",e}({})},function(e,t){e.exports=__kbnSharedDeps__.KbnRison},function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return d})),n.d(t,"g",(function(){return l})),n.d(t,"b",(function(){return u}));var r=n(42),a=n(40);function i(e){return t=>t&&t.length>e?{maxLength:{requiredLength:e,actualLength:t.length}}:null}function s(e){return t=>e.test(t)?null:{pattern:{matchPattern:e.toString()}}}function o(...e){return t=>{const n=e.reduce(((e,n)=>Object.assign(e,n(t)||{})),{});return Object.keys(n).length>0?n:null}}function c(){return e=>""===e||null==e?{required:!0}:null}function d(e=r.a){return t=>"string"!=typeof t||""===t||new RegExp(`\\d+(${e.join("|")})$`,"i").test(t.trim())?null:{invalidUnits:{allowedUnits:e.join(", ")}}}function l(){return e=>""===e?null:null===Object(a.a)(e)?{invalidTimeInterval:!0}:null}function u(e,t=!1){const n=new Set(e);return e=>n.has(e)!==t?{matchDict:e}:null}},function(e,t){e.exports=__kbnSharedDeps__.KbnUiTheme},function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return d}));var r=n(2),a=n(68),i=n(9),s=n(1);const o=()=>{const{services:{share:e}}=Object(i.a)();return e.url.locators.get(s.a)},c=(e,t)=>{const[n,a]=Object(r.useState)(e.page),i=o();return Object(r.useEffect)((()=>{let n=!1;return(async e=>{if(i){const r=await i.getUrl(e,t);n||a(r)}})(e),()=>{n=!0}}),[e,t]),n},d=e=>{const t=o(),[n]=Object(a.d)("_g"),{services:{application:{navigateToUrl:s}}}=Object(i.a)(),c=Object(r.useCallback)((async e=>{const r=void 0!==(null==n?void 0:n.refreshInterval)?{globalState:{refreshInterval:n.refreshInterval}}:void 0,a=await t.getUrl({page:e,pageState:r});await s(a)}),[t,s]);return Object(r.useCallback)((()=>c(e)),[c,e])}},function(e,t,n){"use strict";n.d(t,"a",(function(){return ml_license_MlLicense})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return p}));var r=n(4),a=n.n(r),i=n(7),s=n(8),o=n(0);const c="platinum";class ml_license_MlLicense{constructor(){a()(this,"_licenseSubscription",null),a()(this,"_license",null),a()(this,"_isSecurityEnabled",!1),a()(this,"_hasLicenseExpired",!1),a()(this,"_isMlEnabled",!1),a()(this,"_isMinimumLicense",!1),a()(this,"_isFullLicense",!1),a()(this,"_isTrialLicense",!1),a()(this,"_licenseInfo$",new i.BehaviorSubject({license:this._license,isSecurityEnabled:this._isSecurityEnabled,hasLicenseExpired:this._hasLicenseExpired,isMlEnabled:this._isMlEnabled,isMinimumLicense:this._isMinimumLicense,isFullLicense:this._isFullLicense,isTrialLicense:this._isTrialLicense})),a()(this,"licenseInfo$",this._licenseInfo$.pipe(Object(i.distinctUntilChanged)(s.isEqual))),a()(this,"isLicenseReady$",this._licenseInfo$.pipe(Object(i.map)((e=>!!e.license)),Object(i.distinctUntilChanged)()))}setup(e,t){this._licenseSubscription=e.subscribe((e=>{const{isEnabled:n}=e.getFeature("security"),r={license:e,isSecurityEnabled:n,hasLicenseExpired:"expired"===e.status,isMlEnabled:e.getFeature(o.g).isEnabled,isMinimumLicense:u(e),isFullLicense:d(e),isTrialLicense:l(e)};this._licenseInfo$.next(r),this._license=e,this._isSecurityEnabled=r.isSecurityEnabled,this._hasLicenseExpired=r.hasLicenseExpired,this._isMlEnabled=r.isMlEnabled,this._isMinimumLicense=r.isMinimumLicense,this._isFullLicense=r.isFullLicense,this._isTrialLicense=r.isTrialLicense,void 0!==t&&t(this)}))}getLicenseInfo(){return this._licenseInfo$.getValue()}unsubscribe(){null!==this._licenseSubscription&&this._licenseSubscription.unsubscribe()}isSecurityEnabled(){return this._isSecurityEnabled}hasLicenseExpired(){return this._hasLicenseExpired}isMlEnabled(){return this._isMlEnabled}isMinimumLicense(){return this._isMinimumLicense}isFullLicense(){return this._isFullLicense}isTrialLicense(){return this._isTrialLicense}}function d(e){return"valid"===e.check(o.g,c).state}function l(e){return"valid"===e.check(o.g,"trial").state}function u(e){return"valid"===e.check(o.g,"basic").state}function p(e){return e.getFeature(o.g).isEnabled}},function(e,t,n){n.r(t);var r=__kbnBundles__.get("entry/core/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=(e,t=[])=>"object"==typeof e&&null!==e&&Object.keys(e).length>0&&(0===t.length||t.every((t=>({}.hasOwnProperty.call(e,t)))))},,function(e,t){e.exports=__kbnSharedDeps__.Moment},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(39),a=n(47);const i=new RegExp("^([0-9]*)\\s*("+n.n(a).a.units.join("|")+")$"),s=["ms","s","m","h"],o=["ms","s","m","h","d"];function c(e,t=!1){const n=String(e).trim().match(i);if(!Array.isArray(n)||n.length<3)return null;try{const e=parseInt(n[1],10),a=n[2];return isNaN(e)||e<1&&-1===s.indexOf(a)||!0===t&&-1===o.indexOf(a)?null:Object(r.duration)(e,a)}catch(e){return null}}},,function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));let r=function(e){return e.ERROR="error",e.INFO="info",e.SUCCESS="success",e.WARNING="warning",e}({});const a=["B","KB","MB","GB","TB","PB"],i=64},function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));const r="ml_anomaly_swimlane",a="ml_anomaly_charts",i="ml_single_metric_viewer"},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(2),a=n.n(r),i=n(6);const s=a.a.lazy((()=>n.e(97).then(n.bind(null,833)))),o=({jobIds:e})=>Object(i.jsx)(a.a.Suspense,{fallback:Object(i.jsx)("div",null)},Object(i.jsx)(s,{jobIds:e}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));var r=n(29),a=n(9);const i={[r.FIELD_FORMAT_IDS.DURATION]:{inputFormat:"milliseconds",outputFormat:"humanizePrecise"},[r.FIELD_FORMAT_IDS.NUMBER]:{pattern:"00.00"}},s=e=>(t,n)=>{const r=e.deserialize({id:t,params:null!=n?n:i[t]});return r.convert.bind(r)};function o(e){const{services:{fieldFormats:t}}=Object(a.a)();return s(t)(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));var r=n(2),a=n(0),i=n(10);function s(e){return{getTrainedModelDownloads:()=>e.http({path:`${a.d}/trained_models/model_downloads`,method:"GET",version:"1"}),getElserConfig:t=>e.http({path:`${a.d}/trained_models/elser_config`,method:"GET",...t?{query:t}:{},version:"1"}),getTrainedModels(t,n){const r=Array.isArray(t)?t.join(","):t;return e.http({path:`${a.d}/trained_models${r?`/${r}`:""}`,method:"GET",...n?{query:n}:{},version:"1"})},getTrainedModelStats(t,n){const r=Array.isArray(t)?t.join(","):t;return e.http({path:`${a.d}/trained_models${r?`/${r}`:""}/_stats`,method:"GET",version:"1"})},getTrainedModelPipelines(t){let n=t;return Array.isArray(t)&&(n=t.join(",")),e.http({path:`${a.d}/trained_models/${n}/pipelines`,method:"GET",version:"1"})},getAllIngestPipelines:()=>e.http({path:`${a.d}/trained_models/ingest_pipelines`,method:"GET",version:"1"}),createInferencePipeline:(t,n)=>e.http({path:`${a.d}/trained_models/create_inference_pipeline`,method:"POST",body:JSON.stringify({pipeline:n,pipelineName:t}),version:"1"}),deleteTrainedModel:(t,n={with_pipelines:!1,force:!1})=>e.http({path:`${a.d}/trained_models/${t}`,method:"DELETE",version:"1",query:n}),getCuratedModelConfig:(t,n)=>e.http({path:`${a.d}/trained_models/curated_model_config/${t}`,method:"GET",...n?{query:n}:{},version:"1"}),getTrainedModelsNodesOverview:()=>e.http({path:`${a.d}/model_management/nodes_overview`,method:"GET",version:"1"}),startModelAllocation:(t,n)=>e.http({path:`${a.d}/trained_models/${t}/deployment/_start`,method:"POST",query:n,version:"1"}),stopModelAllocation(t,n,r={force:!1}){const i=null==r?void 0:r.force;return e.http({path:`${a.d}/trained_models/${t}/${n.join(",")}/deployment/_stop`,method:"POST",query:{force:i},version:"1"})},updateModelDeployment:(t,n,r)=>e.http({path:`${a.d}/trained_models/${t}/${n}/deployment/_update`,method:"POST",body:JSON.stringify(r),version:"1"}),inferTrainedModel(t,n,r,i){const s=JSON.stringify(r);return e.http({path:`${a.d}/trained_models/infer/${t}/${n}`,method:"POST",body:s,...i?{query:{timeout:i}}:{},version:"1"})},trainedModelPipelineSimulate(t,n){const r=JSON.stringify({pipeline:t,docs:n});return e.http({path:`${a.d}/trained_models/pipeline_simulate`,method:"POST",body:r,version:"1"})},memoryUsage:(t,n,r=!1)=>e.http({path:`${a.d}/model_management/memory_usage`,method:"GET",query:{type:t,node:n,showClosedJobs:r},version:"1"}),putTrainedModelConfig:(t,n)=>e.http({path:`${a.d}/trained_models/${t}`,method:"PUT",body:JSON.stringify(n),version:"1"}),installElasticTrainedModelConfig:t=>e.http({path:`${a.d}/trained_models/install_elastic_trained_model/${t}`,method:"POST",version:"1"}),getModelsDownloadStatus:()=>e.http({path:`${a.d}/trained_models/download_status`,method:"GET",version:"1"})}}function o(){const{services:{mlServices:{httpService:e}}}=Object(i.d)();return Object(r.useMemo)((()=>s(e)),[e])}},function(e,t){e.exports=__kbnSharedDeps__.KbnDatemath},function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return AnomalyExplorerChartsService}));var r=n(4),a=n.n(r),i=n(7),s=n(37),o=n(67),c=n(49);const d=6;class AnomalyExplorerChartsService{constructor(e,t,n){a()(this,"_customTimeRange",void 0),this.timeFilter=e,this.mlApiServices=t,this.mlResultsService=n,this.timeFilter.enableTimeRangeSelector()}setTimeRange(e){this._customTimeRange=e}getTimeBounds(){return void 0!==this._customTimeRange?this.timeFilter.calculateBounds(this._customTimeRange):this.timeFilter.getBounds()}async getCombinedJobs(e){return(await Promise.all(e.map((e=>this.mlApiServices.jobs.jobForCloning(e))))).filter(o.a).filter((e=>void 0!==e.job&&void 0!==e.datafeed)).map((({job:e,datafeed:t})=>({...e,datafeed_config:t})))}loadDataForCharts$(e,t,n,r=[],a,o){return a||0!==r.length||void 0!==o||Object(i.of)([]),this.mlResultsService.getRecordsForInfluencer$(e,r,0,t,n,500,o).pipe(Object(i.map)((e=>Object(s.a)(a)||void 0!==o?e.records:[])))}getAnomalyData$(e,t,n,r,a,s,o=0,l){const u=this.getTimeBounds(),p=null!=u&&u.min?u.min.valueOf():void 0,b=null!=u&&u.max?u.max.valueOf():void 0,f=t+c.a;let _=Math.min(Math.max(Math.floor(f/550),1),4);l&&l<_&&(_=l);const h=Math.floor(f/_),m=Math.ceil(h/5),O=null!=l?l:Math.max(2*_,d);return this.mlApiServices.results.getAnomalyCharts$(e,null!=s?s:[],o,n,r,{min:p,max:b},O,m,a).pipe(Object(i.map)((e=>(_=Math.min(e.seriesToPlot.length,_),e.chartsPerRow=_,e))))}}},function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));const r=170,a=8,i=r+2*a},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n(0),n(24),n(13);const r={isADEnabled:!0,isDFAEnabled:!0,isNLPEnabled:!0},a={canGetJobs:!1,canGetDatafeeds:!1,canGetCalendars:!1,canFindFileStructure:!1,canGetDataFrameAnalytics:!1,canGetAnnotations:!1,canCreateAnnotation:!1,canDeleteAnnotation:!1,canUseMlAlerts:!1,canGetTrainedModels:!1,canTestTrainedModels:!1,canGetFieldInfo:!1,canGetMlInfo:!1,canUseAiops:!1},i={canCreateJob:!1,canDeleteJob:!1,canOpenJob:!1,canCloseJob:!1,canResetJob:!1,canUpdateJob:!1,canForecastJob:!1,canCreateDatafeed:!1,canDeleteDatafeed:!1,canStartStopDatafeed:!1,canUpdateDatafeed:!1,canPreviewDatafeed:!1,canGetFilters:!1,canCreateCalendar:!1,canDeleteCalendar:!1,canCreateFilter:!1,canDeleteFilter:!1,canCreateDataFrameAnalytics:!1,canDeleteDataFrameAnalytics:!1,canStartStopDataFrameAnalytics:!1,canCreateMlAlerts:!1,canUseMlAlerts:!1,canViewMlNodes:!1,canCreateTrainedModels:!1,canDeleteTrainedModels:!1,canStartStopTrainedModels:!1,canCreateInferenceEndpoint:!1};function s(){return{...r,...a,...i}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return b}));var r=n(2),a=n.n(r),i=n(28),s=n(18),o=n(25),c=n(15),d=n(6);const l=({size:e,isCloud:t,isCloudTrial:n,deploymentId:r})=>Object(d.jsx)(a.a.Fragment,null,Object(d.jsx)(o.EuiCallOut,{size:e,title:Object(d.jsx)(c.FormattedMessage,{id:"xpack.ml.jobsList.nodeAvailableWarning.noMLNodesAvailableTitle",defaultMessage:"No ML nodes available"}),color:"warning",iconType:"warning"},Object(d.jsx)("div",null,Object(d.jsx)(c.FormattedMessage,{id:"xpack.ml.jobsList.nodeAvailableWarning.noMLNodesAvailableDescription",defaultMessage:"There are no ML nodes available."})),Object(d.jsx)("div",null,Object(d.jsx)(c.FormattedMessage,{id:"xpack.ml.jobsList.nodeAvailableWarning.unavailableCreateOrRunJobsDescription",defaultMessage:"You will not be able to create or run jobs."})),t&&null!==r&&Object(d.jsx)("div",null,Object(d.jsx)(c.FormattedMessage,{id:"xpack.ml.jobsList.nodeAvailableWarning.linkToCloudDescription",defaultMessage:"Please edit your {link}. You may enable a free {maxRamForMLNodes} machine learning node or expand your existing ML configuration.",values:{link:Object(d.jsx)(o.EuiLink,{href:`https://cloud.elastic.co/deployments?q=${r}`},Object(d.jsx)(c.FormattedMessage,{id:"xpack.ml.jobsList.nodeAvailableWarning.linkToCloud.hereLinkText",defaultMessage:"Elastic Cloud deployment"})),maxRamForMLNodes:n?"2GB":"1GB"}}))),Object(d.jsx)(o.EuiSpacer,{size:"m"})),u=()=>!0===Object(i.c)()||!1===Object(i.d)()?null:Object(d.jsx)(l,{isCloud:Object(s.e)(),isCloudTrial:Object(s.f)(),deploymentId:Object(s.b)()});var p=n(27);const b=({nodeAvailableCallback:e,size:t})=>{const{mlNodesAvailable:n,isCloud:a,deploymentId:i,isCloudTrial:s}=Object(p.b)();return Object(r.useEffect)((function(){"function"==typeof e&&e(n)}),[n,e]),n?null:Object(d.jsx)(l,{size:t,isCloud:a,isCloudTrial:s,deploymentId:i})}},function(e,t,n){"use strict";n.r(t),n.d(t,"jobsApiProvider",(function(){return s})),n.d(t,"useJobsApiService",(function(){return o}));var r=n(2),a=n(10),i=n(0);const s=e=>({jobsSummary(t){const n=JSON.stringify({jobIds:t});return e.http({path:`${i.d}/jobs/jobs_summary`,method:"POST",body:n,version:"1"})},jobIdsWithGeo:()=>e.http({path:`${i.d}/jobs/jobs_with_geo`,method:"GET",version:"1"}),jobsWithTimerange(t){const n=JSON.stringify({dateFormatTz:t});return e.http({path:`${i.d}/jobs/jobs_with_time_range`,method:"POST",body:n,version:"1"})},jobForCloning(t,n=!1){const r=JSON.stringify({jobId:t,retainCreatedBy:n});return e.http({path:`${i.d}/jobs/job_for_cloning`,method:"POST",body:r,version:"1"})},jobs(t){const n=JSON.stringify({jobIds:t});return e.http({path:`${i.d}/jobs/jobs`,method:"POST",body:n,version:"1"})},groups:()=>e.http({path:`${i.d}/jobs/groups`,method:"GET",version:"1"}),updateGroups(t){const n=JSON.stringify({jobs:t});return e.http({path:`${i.d}/jobs/update_groups`,method:"POST",body:n,version:"1"})},forceStartDatafeeds(t,n,r){const a=JSON.stringify({datafeedIds:t,start:n,end:r});return e.http({path:`${i.d}/jobs/force_start_datafeeds`,method:"POST",body:a,version:"1"})},stopDatafeeds(t){const n=JSON.stringify({datafeedIds:t});return e.http({path:`${i.d}/jobs/stop_datafeeds`,method:"POST",body:n,version:"1"})},deleteJobs(t,n,r){const a=JSON.stringify({jobIds:t,deleteUserAnnotations:n,deleteAlertingRules:r});return e.http({path:`${i.d}/jobs/delete_jobs`,method:"POST",body:a,version:"1"})},closeJobs(t){const n=JSON.stringify({jobIds:t});return e.http({path:`${i.d}/jobs/close_jobs`,method:"POST",body:n,version:"1"})},resetJobs(t,n){const r=JSON.stringify({jobIds:t,deleteUserAnnotations:n});return e.http({path:`${i.d}/jobs/reset_jobs`,method:"POST",body:r,version:"1"})},forceStopAndCloseJob(t){const n=JSON.stringify({jobId:t});return e.http({path:`${i.d}/jobs/force_stop_and_close_job`,method:"POST",body:n,version:"1"})},jobAuditMessages({jobId:t,from:n,start:r,end:a}){const s=void 0!==t?`/${t}`:"",o={...void 0!==n?{from:n}:{},...void 0!==r&&void 0!==a?{start:r,end:a}:{}};return e.http({path:`${i.d}/job_audit_messages/messages${s}`,method:"GET",query:o,version:"1"})},clearJobAuditMessages(t,n){const r=JSON.stringify({jobId:t,notificationIndices:n});return e.http({path:`${i.d}/job_audit_messages/clear_messages`,method:"PUT",body:r,version:"1"})},blockingJobTasks:()=>e.http({path:`${i.d}/jobs/blocking_jobs_tasks`,method:"GET",version:"1"}),jobsExist(t,n=!1){const r=JSON.stringify({jobIds:t,allSpaces:n});return e.http({path:`${i.d}/jobs/jobs_exist`,method:"POST",body:r,version:"1"})},jobsExist$(t,n=!1){const r=JSON.stringify({jobIds:t,allSpaces:n});return e.http$({path:`${i.d}/jobs/jobs_exist`,method:"POST",body:r,version:"1"})},newJobCaps(t,n=!1){const r=!0===n?{rollup:!0}:{};return e.http({path:`${i.d}/jobs/new_job_caps/${t}`,method:"GET",query:r,version:"1"})},newJobLineChart(t,n,r,a,s,o,c,d,l,u,p){const b=JSON.stringify({indexPatternTitle:t,timeField:n,start:r,end:a,intervalMs:s,query:o,aggFieldNamePairs:c,splitFieldName:d,splitFieldValue:l,runtimeMappings:u,indicesOptions:p});return e.http({path:`${i.d}/jobs/new_job_line_chart`,method:"POST",body:b,version:"1"})},newJobPopulationsChart(t,n,r,a,s,o,c,d,l,u){const p=JSON.stringify({indexPatternTitle:t,timeField:n,start:r,end:a,intervalMs:s,query:o,aggFieldNamePairs:c,splitFieldName:d,runtimeMappings:l,indicesOptions:u});return e.http({path:`${i.d}/jobs/new_job_population_chart`,method:"POST",body:p,version:"1"})},getAllJobAndGroupIds:()=>e.http({path:`${i.d}/jobs/all_jobs_and_group_ids`,method:"GET",version:"1"}),getLookBackProgress(t,n,r){const a=JSON.stringify({jobId:t,start:n,end:r});return e.http({path:`${i.d}/jobs/look_back_progress`,method:"POST",body:a,version:"1"})},categorizationFieldExamples(t,n,r,a,s,o,c,d,l,u,p){const b=JSON.stringify({indexPatternTitle:t,query:n,size:r,field:a,timeField:s,start:o,end:c,analyzer:d,runtimeMappings:l,indicesOptions:u,includeExamples:p});return e.http({path:`${i.d}/jobs/categorization_field_validation`,method:"POST",body:b,version:"1"})},topCategories(t,n){const r=JSON.stringify({jobId:t,count:n});return e.http({path:`${i.d}/jobs/top_categories`,method:"POST",body:r,version:"1"})},revertModelSnapshot(t,n,r,a,s){const o=JSON.stringify({jobId:t,snapshotId:n,replay:r,end:a,calendarEvents:s});return e.http({path:`${i.d}/jobs/revert_model_snapshot`,method:"POST",body:o,version:"1"})},datafeedPreview(t,n,r){const a=JSON.stringify({datafeedId:t,job:n,datafeed:r});return e.http({path:`${i.d}/jobs/datafeed_preview`,method:"POST",body:a,version:"1"})},bulkCreateJobs(t){const n=JSON.stringify(t);return e.http({path:`${i.d}/jobs/bulk_create`,method:"POST",body:n,version:"1"})}});function o(){const{services:{mlServices:{httpService:e}}}=Object(a.d)();return Object(r.useMemo)((()=>s(e)),[e])}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));const r="anomaly-swim-lane",a="anomaly-charts"},function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return l}));var r=n(2),a=n(7),i=n(26),s=n.n(i),o=n(33);const c={darkMode:!1};function d(e){const t=Object(r.useMemo)((()=>{var t;return null!==(t=null==e?void 0:e.theme$)&&void 0!==t?t:Object(a.of)(c)}),[e]),{darkMode:n}=s()(t,c);return n}function l(e){const t=d(e);return Object(r.useMemo)((()=>({euiTheme:t?o.euiDarkVars:o.euiLightVars})),[t])}},function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return p}));var r=n(8),a=n(3),i=n(1),s=n(14),o=n(20);function c(e,t){let n=`${e}/${i.b.ANOMALY_DETECTION_JOBS_MANAGE}`;if(!t||Object(r.isEmpty)(t))return n;const{jobId:s,groupIds:c,globalState:d}=t;if(s||c){const e=[];s&&e.push(Object(o.b)(s)),c&&e.push(Object(o.a)(c));const t={...e.length>0?{queryText:e.join(" ")}:{}},r={[i.b.ANOMALY_DETECTION_JOBS_MANAGE]:t};n=Object(a.setStateToKbnUrl)("_a",r,{useHash:!1,storeInHashQuery:!1},n)}return d&&(n=Object(a.setStateToKbnUrl)("_g",d,{useHash:!1,storeInHashQuery:!1},n)),n}function d(e,t){return Object(s.a)(e,i.b.ANOMALY_DETECTION_CREATE_JOB_SELECT_TYPE,t)}function l(e,t){return Object(s.a)(e,i.b.ANOMALY_DETECTION_CREATE_JOB_SELECT_INDEX,t)}function u(e,t){let n=`${e}/${i.b.ANOMALY_EXPLORER}`;if(!t)return n;const{refreshInterval:r,timeRange:s,jobIds:o,query:c,mlExplorerSwimlane:d={},mlExplorerFilter:l={},globalState:u}=t,p={mlExplorerSwimlane:d,mlExplorerFilter:l};let b={};return u&&(b=u),c&&(p.query=c),o&&(b.ml={jobIds:o}),r&&(b.refreshInterval=r),s&&(b.time=s),n=Object(a.setStateToKbnUrl)("_g",b,{useHash:!1,storeInHashQuery:!1},n),n=Object(a.setStateToKbnUrl)("_a",{[i.b.ANOMALY_EXPLORER]:p},{useHash:!1,storeInHashQuery:!1},n),n}function p(e,t){let n=`${e}/${i.b.SINGLE_METRIC_VIEWER}`;if(!t)return n;const{timeRange:r,jobIds:s,refreshInterval:o,query:c,detectorIndex:d,forecastId:l,entities:u,globalState:p,functionDescription:b,zoom:f}=t;let _={};p&&(_=p),s&&(_.ml={jobIds:s}),o&&(_.refreshInterval=o),r&&(_.time=r);const h={},m={};return void 0!==l&&(m.forecastId=l),void 0!==d&&(m.detectorIndex=d),void 0!==u&&(m.entities=u),void 0!==b&&(m.functionDescription=b),void 0!==f&&(m.zoom=f),h.mlTimeSeriesExplorer=m,c&&(h.query={query_string:c}),n=Object(a.setStateToKbnUrl)("_g",_,{useHash:!1,storeInHashQuery:!1},n),n=Object(a.setStateToKbnUrl)("_a",{[i.b.SINGLE_METRIC_VIEWER]:h},{useHash:!1,storeInHashQuery:!1},n),n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var r=n(12),a=n(48);const i=async(e,t)=>{const[{AnomalyDetectorService:i},{fieldFormatServiceFactory:s},{indexServiceFactory:o},{timeSeriesExplorerServiceFactory:c},{mlApiServicesProvider:d},{mlJobServiceFactory:l},{mlResultsServiceProvider:u},{MlCapabilitiesService:p},{timeSeriesSearchServiceFactory:b},{toastNotificationServiceProvider:f}]=await Promise.all([await n.e(24).then(n.bind(null,111)),await Promise.all([n.e(0),n.e(1),n.e(37)]).then(n.bind(null,85)),await n.e(38).then(n.bind(null,77)),await Promise.all([n.e(0),n.e(2),n.e(3),n.e(8),n.e(21),n.e(78)]).then(n.bind(null,94)),await Promise.resolve().then(n.bind(null,11)),await n.e(1).then(n.bind(null,73)),await Promise.all([n.e(0),n.e(2),n.e(3),n.e(33)]).then(n.bind(null,80)),await n.e(80).then(n.bind(null,70)),await Promise.all([n.e(0),n.e(2),n.e(3),n.e(62)]).then(n.bind(null,106)),await n.e(79).then(n.bind(null,71))]),_=new r.a(e.http),h=new i(_),m=d(_),O=f(e.notifications.toasts),g=l(O,m),y=u(m),E=b(y,m),S=c(e.uiSettings,m,y),T=new p(m);return{anomalyDetectorService:h,anomalyExplorerService:new a.a(t.data.query.timefilter.timefilter,m,y),mlApiServices:m,mlCapabilities:T,mlFieldFormatService:s(m,o(t.data.dataViews)),mlJobService:g,mlResultsService:y,mlTimeSeriesSearchService:E,mlTimeSeriesExplorerService:S,toastNotificationService:O}},s=async e=>{const[t,n]=await e();return[t,n,await i(t,n)]}},function(e,t){e.exports=__kbnSharedDeps_npm__},function(e,t){e.exports=__kbnSharedDeps__.TsLib},function(e,t,n){"use strict";n.r(t);var r=n(32);n.d(t,"composeValidators",(function(){return r.a})),n.d(t,"patternValidator",(function(){return r.e}));var a=n(50);n.d(t,"getDefaultMlCapabilities",(function(){return a.a}));var i=n(30);n.d(t,"DATAFEED_STATE",(function(){return i.a})),n.d(t,"JOB_STATE",(function(){return i.c}));var s=n(13);n.d(t,"ML_ALERT_TYPES",(function(){return s.g}))},function(e,t,n){"use strict";n.r(t),n.d(t,"plugin",(function(){return S})),n.d(t,"ANOMALY_SWIMLANE_EMBEDDABLE_TYPE",(function(){return O.c})),n.d(t,"CONTROLLED_BY_SWIM_LANE_FILTER",(function(){return g.b})),n.d(t,"useMlHref",(function(){return u.c})),n.d(t,"ML_PAGES",(function(){return u.a})),n.d(t,"MlLocatorDefinition",(function(){return u.b})),n.d(t,"getMlSharedImports",(function(){return T})),n.d(t,"MLJobsAwaitingNodeWarning",(function(){return y.a})),n.d(t,"MlNodeAvailableWarningShared",(function(){return E.a}));var r=n(4),a=n.n(r),i=n(5),s=n(7),o=n(36),c=n(117);class ElasticModels{constructor(e){this.trainedModels=e}async getELSER(e){return await this.trainedModels.getElserConfig(e)}}var d=n(12),l=n(11),u=n(16),p=n(17),b=n(0),f=n(35),_=n(116);const h=Object(_.a)((async()=>n.e(89).then(n.bind(null,832))));var m=n(56);class plugin_MlPlugin{constructor(e){a()(this,"appUpdater$",new s.BehaviorSubject((()=>({})))),a()(this,"locator",void 0),a()(this,"sharedMlServices",void 0),a()(this,"isServerless",!1),a()(this,"enabledFeatures",{ad:!0,dfa:!0,nlp:!0}),a()(this,"experimentalFeatures",{ruleFormV2:!1}),this.initializerContext=e,this.isServerless="serverless"===e.env.packageInfo.buildFlavor,Object(b.h)(this.enabledFeatures,e.config.get()),Object(b.i)(this.experimentalFeatures,e.config.get())}setup(e,t){return this.sharedMlServices=function(e){const t=new d.a(e),n=Object(l.mlApiServicesProvider)(t);return{elasticModels:new ElasticModels(n.trainedModels),mlApiServices:n}}(e.http),e.application.register({id:b.g,title:i.i18n.translate("xpack.ml.plugin.title",{defaultMessage:"Machine Learning"}),order:5e3,euiIconType:b.f,appRoute:b.b,category:o.DEFAULT_APP_CATEGORIES.kibana,updater$:this.appUpdater$,mount:async r=>{const[a,i]=await e.getStartServices(),{renderApp:s}=await Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(5),n.e(10),n.e(8),n.e(11),n.e(19),n.e(40)]).then(n.bind(null,884));return s(a,{cases:i.cases,charts:i.charts,contentManagement:i.contentManagement,dashboard:i.dashboard,data:i.data,dataViewEditor:i.dataViewEditor,dataVisualizer:i.dataVisualizer,embeddable:{...t.embeddable,...i.embeddable},fieldFormats:i.fieldFormats,home:t.home,kibanaVersion:this.initializerContext.env.packageInfo.version,lens:i.lens,licenseManagement:t.licenseManagement,licensing:i.licensing,management:t.management,maps:i.maps,observabilityAIAssistant:i.observabilityAIAssistant,presentationUtil:i.presentationUtil,savedObjectsManagement:i.savedObjectsManagement,savedSearch:i.savedSearch,security:i.security,share:i.share,triggersActionsUi:i.triggersActionsUi,uiActions:i.uiActions,unifiedSearch:i.unifiedSearch,usageCollection:t.usageCollection},r,this.isServerless,this.enabledFeatures,this.experimentalFeatures)}}),t.share&&(this.locator=t.share.url.locators.create(new u.b)),t.management&&function(e,t,r,a,s){const o=i.i18n.translate("xpack.ml.management.jobsListTitle",{defaultMessage:"Machine Learning"});return e.sections.section.insightsAndAlerting.registerApp({id:"jobsListLink",title:o,order:4,async mount(e){const[{chrome:i}]=await t.getStartServices(),{docTitle:c}=i;c.change(o);const{mountApp:d}=await Promise.all([n.e(0),n.e(1),n.e(2),n.e(4),n.e(6),n.e(7),n.e(9),n.e(20),n.e(41)]).then(n.bind(null,863)),l=await d(t,e,r,a,s);return()=>{c.reset(),l()}}})}(t.management,e,{usageCollection:t.usageCollection},this.isServerless,this.enabledFeatures).enable(),t.licensing.license$.pipe(Object(s.take)(1)).pipe(Object(s.mergeMap)((async r=>{const a=Object(f.c)(r),s=Object(f.b)(r),[d,l]=await e.getStartServices(),{capabilities:u}=d.application,p=u.ml,_=e.uiSettings.get(c.a);if(a){t.home&&t.home.featureCatalogue.register({id:b.g,title:i.i18n.translate("xpack.ml.machineLearningTitle",{defaultMessage:"Machine Learning"}),subtitle:i.i18n.translate("xpack.ml.machineLearningSubtitle",{defaultMessage:"Model, predict, and detect."}),description:i.i18n.translate("xpack.ml.machineLearningDescription",{defaultMessage:"Automatically model the normal behavior of your time series data to detect anomalies."}),icon:"machineLearningApp",path:b.b,showOnHomePage:!1,category:"data",solutionId:"kibana",order:500});const{registerEmbeddables:r,registerMlUiActions:a,registerSearchLinks:o,registerCasesAttachments:c}=await Promise.all([n.e(10),n.e(34),n.e(55)]).then(n.bind(null,871));if(o(this.appUpdater$,s,p,this.isServerless,_),t.triggersActionsUi&&(s&&p.canUseMlAlerts&&p.canGetJobs||!s)){const{registerMlAlerts:r}=await Promise.all([n.e(0),n.e(70)]).then(n.bind(null,879));r(t.triggersActionsUi,e.getStartServices,p,t.alerting)}if(s&&p.canGetMlInfo&&(a(t.uiActions,e),this.enabledFeatures.ad)){if(r(t.embeddable,e),t.cases){const e=await Object(m.a)(d,l);c(t.cases,d,l,e)}if(t.maps){const{registerMapExtension:r}=await Promise.all([n.e(0),n.e(1),n.e(46)]).then(n.bind(null,876));await r(t.maps,e,{canGetJobs:p.canGetJobs,canCreateJobs:p.canCreateJob})}}}else this.appUpdater$.next((()=>({status:o.AppStatus.inaccessible})))}))).subscribe(),{locator:this.locator,elasticModels:this.sharedMlServices.elasticModels}}start(e,t){var n,r;return Object(p.h)({docLinks:e.docLinks,http:e.http,i18n:e.i18n}),{locator:this.locator,elasticModels:null===(n=this.sharedMlServices)||void 0===n?void 0:n.elasticModels,mlApi:null===(r=this.sharedMlServices)||void 0===r?void 0:r.mlApiServices,components:{AnomalySwimLane:h}}}stop(){}}var O=n(43),g=n(53),y=n(44),E=n(51);const S=e=>new plugin_MlPlugin(e),T=async()=>await Promise.all([n.e(13),n.e(52)]).then(n.bind(null,829))},function(e,t,n){n(62),__kbnBundles__.define("plugin/ml/public",n,60),__kbnBundles__.define("plugin/ml/common",n,59)},function(e,t,n){n.p=window.__kbnPublicPath__.ml},function(e,t,n){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},function(e,t,n){"use strict";var r="%[a-f0-9]{2}",a=new RegExp("("+r+")|([^%]+?)","gi"),i=new RegExp("("+r+")+","gi");function s(e,t){try{return[decodeURIComponent(e.join(""))]}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],s(n),s(r))}function o(e){try{return decodeURIComponent(e)}catch(r){for(var t=e.match(a)||[],n=1;n<t.length;n++)t=(e=s(t,n).join("")).match(a)||[];return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"","%FF%FE":""},n=i.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=o(n[0]);r!==n[0]&&(t[n[0]]=r)}n=i.exec(e)}t["%C2"]="";for(var a=Object.keys(t),s=0;s<a.length;s++){var c=a[s];e=e.replace(new RegExp(c,"g"),t[c])}return e}(e)}}},function(e,t,n){"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),a="undefined"!=typeof window?r.useLayoutEffect:r.useEffect;t.default=a},function(e,t,n){"use strict";function r(e){return null!=e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return g})),n.d(t,"d",(function(){return y})),n.d(t,"c",(function(){return E}));var r=n(4),a=n.n(r),i=n(19),s=n(2),o=n(22),c=n(8),d=n(69),l=n(31),u=n(7),p=n(37),b=n(6);const f=new Set(["_a","_g"]);function _(e){return f.has(e)}function h(e){const t={},n=Object(i.parse)(e,{sort:!1});try{Object.keys(n).forEach((e=>{_(e)?t[e]=Object(l.decode)(n[e]):t[e]=n[e]}))}catch(e){console.error("Could not read url state",e)}return t}const m=Object(s.createContext)({searchString:"",setUrlState:()=>{}}),{Provider:O}=m,g=({children:e})=>{const t=Object(o.useHistory)(),{search:n}=Object(o.useLocation)(),r=Object(s.useRef)(n);Object(s.useEffect)((()=>{r.current=n}),[n]);const a=Object(s.useCallback)(((e,n,a,s)=>{const o=r.current,u=h(o),p=Object(i.parse)(o,{sort:!1});if(Object.prototype.hasOwnProperty.call(u,e)||(u[e]={}),"string"==typeof n){if(Object(c.isEqual)(Object(d.a)(u,`${e}.${n}`),a))return o;u[e][n]=a}else{const t=n;Object.keys(t).forEach((n=>{u[e][n]=t[n]}))}try{const e=Object(i.stringify)(p,{sort:!1,encode:!1});if(Object.keys(u).forEach((e=>{_(e)?p[e]=Object(l.encode)(u[e]):p[e]=u[e]})),e!==Object(i.stringify)(p,{sort:!1,encode:!1})){const e=Object(i.stringify)(p,{sort:!1});r.current=e,s?t.replace({search:e}):t.push({search:e})}}catch(e){console.error("Could not save url state",e)}}),[]);return Object(b.jsx)(O,{value:{searchString:n,setUrlState:a}},e)},y=e=>{const{searchString:t,setUrlState:n}=Object(s.useContext)(m);return[Object(s.useMemo)((()=>{const n=h(t);if("object"==typeof n)return n[e]}),[t]),Object(s.useCallback)(((t,r,a)=>{n(e,t,r,a)}),[e,n])]};class PageUrlStateService{constructor(){a()(this,"_pageUrlState$",new u.BehaviorSubject(null)),a()(this,"_pageUrlStateCallback",null)}getPageUrlState$(){return this._pageUrlState$.pipe(Object(u.distinctUntilChanged)(c.isEqual))}getPageUrlState(){return this._pageUrlState$.getValue()}updateUrlState(e,t){if(!this._pageUrlStateCallback)throw new Error("Callback has not been initialized.");this._pageUrlStateCallback(e,t)}setCurrentState(e){this._pageUrlState$.next(e)}setUpdateCallback(e){this._pageUrlStateCallback=e}}const E=(e,t)=>{const[n,r]=y("_a"),a=null==n?void 0:n[e],i=Object(s.useRef)();Object(s.useEffect)((()=>{i.current=r}),[r]);const o=Object(s.useRef)(),d=Object(s.useMemo)((()=>{const e={...null!=t?t:{},...null!=a?a:{}};if(Object(c.isEqual)(e,o.current))return o.current;if(Object(p.a)(o.current))for(const t in e)Object(c.isEqual)(e[t],o.current[t])&&(e[t]=o.current[t]);return o.current=e,e}),[a]),l=Object(s.useCallback)(((t,n)=>{if(null==i||!i.current)throw new Error("Callback for URL state update has not been initialized.");i.current(e,{...d,...t},n)}),[e,d]),u=Object(s.useMemo)((()=>new PageUrlStateService),[]);return Object(s.useEffect)((function(){u.setCurrentState(d),u.setUpdateCallback(l)}),[u,l,d]),Object(s.useMemo)((()=>[d,l,u]),[d,l,u])}},function(e,t,n){"use strict";function r(e,t,n){const a=t.split(".");let i=e;for(let e=0;e<a.length;e++){var s;const t=a[e];if(i=null===(s=i)||void 0===s?void 0:s[t],Array.isArray(i)){i=i.map((t=>"object"==typeof t?r(t,a.slice(e+1,a.length).join(".")):t));break}}return void 0===i?n:i}n.d(t,"a",(function(){return r}))},,,,,,function(e,t){e.exports=__kbnSharedDeps__.KbnEsQuery},function(e,t){e.exports=__kbnSharedDeps__.ElasticCharts},,function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/maps/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.ReactDom},,,function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/data/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.MomentTimezone},function(e,t){e.exports=__kbnSharedDeps__.EmotionCache},,function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/data/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.Classnames},function(e,t){e.exports=__kbnSharedDeps__.ElasticEuiLibComponentsUseIsNestedEuiProvider},function(e,t){e.exports=__kbnSharedDeps__.KbnSharedUxErrorBoundary},function(e,t){e.exports=__kbnSharedDeps__.KbnCodeEditor},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/lens/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/esUiShared/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/embeddable/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},,,function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/cases/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/uiActions/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/maps/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/savedObjectsFinder/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/dataViews/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.ElasticNumeral},function(e,t){e.exports=__kbnSharedDeps__.KbnStd},function(e,t){e.exports=__kbnSharedDeps__.KbnAnalytics},function(e,t){e.exports=__kbnSharedDeps__.KbnMonaco},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/aiops/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},,,function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/charts/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.ReactRouterDomV5Compat},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/dashboard/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},,function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/presentationUtil/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.KbnEsqlAst},function(e,t){e.exports=__kbnSharedDeps__.ElasticEuiLibServices},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/usageCollection/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(2),a=n.n(r),i=n(6);function s(e,t={}){const n=a.a.lazy(e);return a.a.forwardRef(((e,s)=>{var o;return Object(i.jsx)(r.Suspense,{fallback:null!==(o=t.fallback)&&void 0!==o?o:null},a.a.createElement(n,{...e,ref:s}))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="enableESQL"},function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return b})),n.d(t,"h",(function(){return c})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return l}));const r="kibana.alert",a=`${r}.rule`,i=`${r}.duration.us`,s=`${r}.end`,o=`${r}.reason`,c=`${r}.start`,d=`${r}.status`,l=`${r}.uuid`,u=`${a}.name`,p=`${a}.rule_type_id`,b=`${a}.uuid`}]);