/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.ml_bundle_jsonpfunction=window.ml_bundle_jsonpfunction||[]).push([[79],{322:function(t,e,o){"use strict";o.d(e,"b",(function(){return s})),o.d(e,"a",(function(){return n}));var r=o(37);const s=t=>{var e;if(function(t){var e;return t&&void 0!==(null===(e=t.error)||void 0===e?void 0:e.reason)}(t))return{message:null!==(e=t.error.reason)&&void 0!==e?e:"",statusCode:t.status,fullError:t};if(function(t){return"string"==typeof t}(t))return{message:t};if(function(t){return!0===(null==t?void 0:t.isBoom)}(t))return{message:t.output.payload.message,statusCode:t.output.payload.statusCode};if(void 0===(null==t?void 0:t.body)&&(null==t||!t.message))return{message:""};if("string"==typeof t.body)return{message:t.body};if(function(t){return"object"==typeof t.body&&"message"in t.body}(t)){var o,s;if("object"==typeof t.body.attributes&&"string"==typeof(null===(o=t.body.attributes.body)||void 0===o||null===(s=o.error)||void 0===s?void 0:s.reason)){var n,i,a;const e={message:t.body.attributes.body.error.reason,statusCode:t.body.statusCode,fullError:t.body.attributes.body};var u,d,c;return"object"!=typeof t.body.attributes.body.error.caused_by||"string"!=typeof(null===(n=t.body.attributes.body.error.caused_by)||void 0===n?void 0:n.reason)&&"string"!=typeof(null===(i=t.body.attributes.body.error.caused_by)||void 0===i||null===(a=i.caused_by)||void 0===a?void 0:a.reason)||(e.causedBy=(null===(u=t.body.attributes.body.error.caused_by)||void 0===u||null===(d=u.caused_by)||void 0===d?void 0:d.reason)||(null===(c=t.body.attributes.body.error.caused_by)||void 0===c?void 0:c.reason)),Array.isArray(t.body.attributes.body.error.root_cause)&&"object"==typeof t.body.attributes.body.error.root_cause[0]&&Object(r.a)(t.body.attributes.body.error.root_cause[0],["script"])&&(e.causedBy=t.body.attributes.body.error.root_cause[0].script,e.message+=`: '${t.body.attributes.body.error.root_cause[0].script}'`),e}return{message:t.body.message,statusCode:t.body.statusCode}}return function(t){return t&&void 0!==t.message&&"string"==typeof t.message}(t)?{message:t.message}:{message:""}},n=t=>s(t).message},71:function(t,e,o){"use strict";o.r(e),o.d(e,"toastNotificationServiceProvider",(function(){return u})),o.d(e,"useToastNotificationService",(function(){return c})),o.d(e,"getToastNotificationService",(function(){return d}));var r=o(5),s=o(2),n=o(322);class MLRequestFailure extends Error{constructor(t,e){if(super(t.message),Object.setPrototypeOf(this,new.target.prototype),"string"!=typeof e&&void 0!==e)if("body"in e)this.stack=JSON.stringify(e.body,null,2);else try{this.stack=JSON.stringify(e,null,2)}catch(t){}}}var i=o(17),a=o(10);function u(t){return{displayDangerToast:function(e,o){t.addDanger(e,o)},displayWarningToast:function(e,o){t.addWarning(e,o)},displaySuccessToast:function(e,o){t.addSuccess(e,o)},displayErrorToast:function(e,o,s){const i=Object(n.b)(e);t.addError(new MLRequestFailure(i,e),{title:null!=o?o:r.i18n.translate("xpack.ml.toastNotificationService.errorTitle",{defaultMessage:"An error has occurred"}),...s?{toastLifeTimeMs:s}:{}})}}}function d(){return u(Object(i.f)())}function c(){const{toasts:t}=Object(a.i)();return Object(s.useMemo)((()=>u(t)),[])}}}]);