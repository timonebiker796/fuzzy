/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.ml_bundle_jsonpfunction=window.ml_bundle_jsonpfunction||[]).push([[89],{161:function(e,t,n){"use strict";n.d(t,"c",(function(){return r.c})),n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return r.b})),n.d(t,"d",(function(){return a}));var r=n(43);function a(e,t){e.registerReactEmbeddableFactory(r.c,(async()=>{const{getAnomalySwimLaneEmbeddableFactory:e}=await Promise.all([n.e(2),n.e(10),n.e(8),n.e(11),n.e(34),n.e(45)]).then(n.bind(null,881));return e(t.getStartServices)})),e.registerReactEmbeddableFactory(r.a,(async()=>{const{getAnomalyChartsReactEmbeddableFactory:e}=await Promise.all([n.e(10),n.e(57)]).then(n.bind(null,845));return e(t.getStartServices)})),e.registerReactEmbeddableFactory(r.b,(async()=>{const{getSingleMetricViewerEmbeddableFactory:e}=await Promise.all([n.e(10),n.e(73)]).then(n.bind(null,882));return e(t.getStartServices)}))}},832:function(e,t,n){"use strict";n.r(t),n.d(t,"AnomalySwimLane",(function(){return o}));var r=n(93),a=n(2),i=n(7),c=n(161),u=n(6);const o=({id:e,jobIds:t,swimlaneType:n,viewBy:o,timeRange:s,filters:l,query:b,refreshConfig:d,perPage:f,executionContext:m})=>{const y=Object(a.useRef)(),g=Object(a.useMemo)((()=>({jobIds:t,swimlaneType:n,refreshConfig:d,viewBy:o,timeRange:s})),[t,d,n,o,s]);Object(a.useEffect)((function(){y.current&&y.current.updateUserInput({jobIds:t,swimlaneType:n,viewBy:o})}),[t,n,o]),Object(a.useEffect)((function(){y.current&&y.current.updatePagination({perPage:f,fromPage:1})}),[f]);const w=Object(a.useMemo)((()=>{const e=new i.BehaviorSubject(l),t=new i.BehaviorSubject(b),n=new i.BehaviorSubject(s);return{getSerializedStateForChild:()=>({rawState:g}),filters$:e,setFilters:t=>{e.next(t)},query$:t,setQuery:e=>{t.next(e)},timeRange$:n,setTimeRange:e=>{n.next(e)},executionContext:m}}),[]);return Object(a.useEffect)((function(){w.setTimeRange(s)}),[s,w]),Object(a.useEffect)((function(){w.setFilters(l),w.setQuery(b)}),[l,b,w]),Object(u.jsx)(r.ReactEmbeddableRenderer,{maybeId:e,type:c.c,getParentApi:()=>w,onApiAvailable:e=>{y.current=e}})};t.default=o}}]);