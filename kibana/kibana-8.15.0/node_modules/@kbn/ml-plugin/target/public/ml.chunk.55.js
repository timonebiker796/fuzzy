/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.ml_bundle_jsonpfunction=window.ml_bundle_jsonpfunction||[]).push([[55,33,66],{132:function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"d",(function(){return l})),a.d(t,"h",(function(){return r})),a.d(t,"b",(function(){return s})),a.d(t,"e",(function(){return d})),a.d(t,"f",(function(){return o})),a.d(t,"j",(function(){return c})),a.d(t,"g",(function(){return u})),a.d(t,"a",(function(){return m})),a.d(t,"i",(function(){return f}));var n=a(5);const i={CLEAR_EXPLORER_DATA:"clearExplorerData",CLEAR_INFLUENCER_FILTER_SETTINGS:"clearInfluencerFilterSettings",CLEAR_JOBS:"clearJobs",JOB_SELECTION_CHANGE:"jobSelectionChange",SET_CHARTS_DATA_LOADING:"setChartsDataLoading",SET_EXPLORER_DATA:"setExplorerData"},l={ADD:"+",REMOVE:"-"},r={OVERALL:"overall",VIEW_BY:"viewBy"},s={EVENT_DISTRIBUTION:"event_distribution",POPULATION_DISTRIBUTION:"population_distribution",SINGLE_METRIC:"single_metric",GEO_MAP:"geo_map"},d=10,o=10,c=n.i18n.translate("xpack.ml.explorer.jobIdLabel",{defaultMessage:"job ID"}),u=n.i18n.translate("xpack.ml.explorer.overallLabel",{defaultMessage:"Overall"}),m=1e3,f=10},140:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));let n=function(e){return e[e.CRITICAL=75]="CRITICAL",e[e.MAJOR=50]="MAJOR",e[e.MINOR=25]="MINOR",e[e.WARNING=3]="WARNING",e[e.LOW=0]="LOW",e}({})},161:function(e,t,a){"use strict";a.d(t,"c",(function(){return n.c})),a.d(t,"a",(function(){return n.a})),a.d(t,"b",(function(){return n.b})),a.d(t,"d",(function(){return i}));var n=a(43);function i(e,t){e.registerReactEmbeddableFactory(n.c,(async()=>{const{getAnomalySwimLaneEmbeddableFactory:e}=await Promise.all([a.e(2),a.e(10),a.e(8),a.e(11),a.e(34),a.e(45)]).then(a.bind(null,881));return e(t.getStartServices)})),e.registerReactEmbeddableFactory(n.a,(async()=>{const{getAnomalyChartsReactEmbeddableFactory:e}=await Promise.all([a.e(10),a.e(57)]).then(a.bind(null,845));return e(t.getStartServices)})),e.registerReactEmbeddableFactory(n.b,(async()=>{const{getSingleMetricViewerEmbeddableFactory:e}=await Promise.all([a.e(10),a.e(73)]).then(a.bind(null,882));return e(t.getStartServices)}))}},173:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(5),i=a(174);const l={critical:{id:i.a.CRITICAL,label:n.i18n.translate("xpack.ml.anomalyUtils.severity.criticalLabel",{defaultMessage:"critical"})},major:{id:i.a.MAJOR,label:n.i18n.translate("xpack.ml.anomalyUtils.severity.majorLabel",{defaultMessage:"major"})},minor:{id:i.a.MINOR,label:n.i18n.translate("xpack.ml.anomalyUtils.severity.minorLabel",{defaultMessage:"minor"})},warning:{id:i.a.WARNING,label:n.i18n.translate("xpack.ml.anomalyUtils.severity.warningLabel",{defaultMessage:"warning"})},unknown:{id:i.a.UNKNOWN,label:n.i18n.translate("xpack.ml.anomalyUtils.severity.unknownLabel",{defaultMessage:"unknown"})},low:{id:i.a.LOW,label:n.i18n.translate("xpack.ml.anomalyUtils.severityWithLow.lowLabel",{defaultMessage:"low"})}}},174:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));let n=function(e){return e.CRITICAL="critical",e.MAJOR="major",e.MINOR="minor",e.WARNING="warning",e.LOW="low",e.UNKNOWN="unknown",e}({})},181:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"d",(function(){return i})),a.d(t,"b",(function(){return l})),a.d(t,"e",(function(){return r})),a.d(t,"c",(function(){return s}));let n=function(e){return e.SKIP_MODEL_UPDATE="skip_model_update",e.SKIP_RESULT="skip_result",e}({}),i=function(e){return e.EXCLUDE="exclude",e.INCLUDE="include",e}({}),l=function(e){return e.ACTUAL="actual",e.DIFF_FROM_TYPICAL="diff_from_typical",e.TYPICAL="typical",e}({}),r=function(e){return e.LESS_THAN="lt",e.LESS_THAN_OR_EQUAL="lte",e.GREATER_THAN="gt",e.GREATER_THAN_OR_EQUAL="gte",e}({});const s=["freq_rare","lat_long","metric","rare"]},252:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"f",(function(){return c})),a.d(t,"e",(function(){return u})),a.d(t,"g",(function(){return m})),a.d(t,"c",(function(){return f})),a.d(t,"d",(function(){return p})),a.d(t,"i",(function(){return _})),a.d(t,"j",(function(){return A})),a.d(t,"h",(function(){return g})),a.d(t,"b",(function(){return L}));var n=a(140),i=a(173),l=a(181);let r=function(e){return e.BY="by",e.OVER="over",e.PARTITON="partition",e}({});const s={ADD:"+",REMOVE:"-"},d=["count","distinct_count","lat_long","mean","max","min","sum","median","varp","info_content","time"],o=["count","distinct_count","lat_long","mean","max","min","sum","median","varp","info_content","time"];function c(e){return"mlcategory"===e.entityName}function u(e){return e>=n.a.CRITICAL?i.a.critical:e>=n.a.MAJOR?i.a.major:e>=n.a.MINOR?i.a.minor:e>=n.a.WARNING?i.a.warning:e>=n.a.LOW?i.a.low:i.a.unknown}function m(e){if(void 0===e.anomaly_score_explanation)return!1;const t=e.anomaly_score_explanation.single_bucket_impact,a=e.anomaly_score_explanation.multi_bucket_impact;return void 0!==a&&0!==a&&!(void 0!==t&&t>a)&&((void 0===t||0===t)&&a>0||void 0!==t&&a>t&&(a-t)*a/t*1.7>=2)}function f(e){return e<2?1:e<4?2:e<7?3:e<12?4:5}function p(e){const t=[];return void 0!==e.partition_field_name&&t.push({fieldName:e.partition_field_name,fieldValue:e.partition_field_value,fieldType:r.PARTITON}),void 0!==e.over_field_name&&t.push({fieldName:e.over_field_name,fieldValue:e.over_field_value,fieldType:r.OVER}),void 0!==e.by_field_name&&void 0===e.over_field_name&&t.push({fieldName:e.by_field_name,fieldValue:e.by_field_value,fieldType:r.BY}),t}function _(e){return d.indexOf(e)>-1}function A(e){return o.indexOf(e)>-1}function g(e){return-1===l.c.indexOf(e.function)||void 0!==function(e){return void 0!==e.by_field_name&&void 0!==e.by_field_value?e.by_field_name:void 0!==e.over_field_name?e.over_field_name:void 0!==e.partition_field_name?e.partition_field_name:void 0}(e)}const L={toES(e){let t=e;return"mean"===t?t="avg":"distinct_count"===t?t="cardinality":"median"===t&&(t="percentiles"),t},toML(e){let t=e;return"avg"===t?t="mean":"cardinality"===t?t="distinct_count":"percentiles"===t&&(t="median"),t}}},289:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return l}));const n="ml_anomaly_swimlane",i="ml_anomaly_charts",l="ml_single_metric_viewer"},345:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(12),i=a(48);const l=async(e,t)=>{const[{AnomalyDetectorService:l},{fieldFormatServiceFactory:r},{indexServiceFactory:s},{mlApiServicesProvider:d},{mlResultsServiceProvider:o}]=await Promise.all([await a.e(24).then(a.bind(null,111)),await Promise.all([a.e(0),a.e(1),a.e(37)]).then(a.bind(null,85)),await a.e(38).then(a.bind(null,77)),await Promise.resolve().then(a.bind(null,11)),await Promise.all([a.e(0),a.e(2),a.e(3),a.e(33)]).then(a.bind(null,80))]),c=new n.a(e.http),u=new l(c),m=d(c),f=o(m);return[e,t,{anomalyDetectorService:u,anomalyExplorerService:new i.a(t.data.query.timefilter.timefilter,m,f),mlFieldFormatService:r(m,s(t.data.dataViews)),mlResultsService:f}]}},346:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(120),i=a.n(n),l=(a(2),a(116)),r=a(6);const s=Object(l.a)((async()=>Promise.all([a.e(0),a.e(1),a.e(2),a.e(3),a.e(8),a.e(11),a.e(14),a.e(17),a.e(21),a.e(42)]).then(a.bind(null,494)))),d=(e,t,a)=>n=>Object(r.jsx)(s,i()({coreStart:e,pluginStart:t,mlServices:a},n))},871:function(e,t,a){"use strict";a.r(t),a.d(t,"registerEmbeddables",(function(){return n.d})),a.d(t,"registerMlUiActions",(function(){return i.b})),a.d(t,"registerSearchLinks",(function(){return d})),a.d(t,"registerCasesAttachments",(function(){return g}));var n=a(161),i=a(389),l=a(5),r=a(1);function s(e,t,a,n){const i=function(e,t,a,n){return{getOverviewLinkDeepLink:()=>e.isADEnabled||e.isDFAEnabled?{id:"overview",title:l.i18n.translate("xpack.ml.deepLink.overview",{defaultMessage:"Overview"}),path:`/${r.b.OVERVIEW}`}:null,getAnomalyDetectionDeepLink:()=>e.isADEnabled?{id:"anomalyDetection",title:l.i18n.translate("xpack.ml.deepLink.anomalyDetection",{defaultMessage:"Anomaly Detection"}),path:`/${r.b.ANOMALY_DETECTION_JOBS_MANAGE}`,deepLinks:[{id:"anomalyExplorer",title:l.i18n.translate("xpack.ml.deepLink.anomalyExplorer",{defaultMessage:"Anomaly explorer"}),path:`/${r.b.ANOMALY_EXPLORER}`},{id:"singleMetricViewer",title:l.i18n.translate("xpack.ml.deepLink.singleMetricViewer",{defaultMessage:"Single metric viewer"}),path:`/${r.b.SINGLE_METRIC_VIEWER}`}]}:null,getDataFrameAnalyticsDeepLink:()=>e.isDFAEnabled?{id:"dataFrameAnalytics",title:l.i18n.translate("xpack.ml.deepLink.dataFrameAnalytics",{defaultMessage:"Data Frame Analytics"}),path:`/${r.b.DATA_FRAME_ANALYTICS_JOBS_MANAGE}`,deepLinks:[{id:"resultExplorer",title:l.i18n.translate("xpack.ml.deepLink.resultExplorer",{defaultMessage:"Results explorer"}),path:`/${r.b.DATA_FRAME_ANALYTICS_EXPLORATION}`},{id:"analyticsMap",title:l.i18n.translate("xpack.ml.deepLink.analyticsMap",{defaultMessage:"Analytics map"}),path:`/${r.b.DATA_FRAME_ANALYTICS_MAP}`}]}:null,getModelManagementDeepLink:()=>{if(!e.isDFAEnabled&&!e.isNLPEnabled)return null;const t=[{id:"nodesOverview",title:l.i18n.translate("xpack.ml.deepLink.trainedModels",{defaultMessage:"Trained Models"}),path:`/${r.b.TRAINED_MODELS_MANAGE}`}];return a||t.push({id:"nodes",title:l.i18n.translate("xpack.ml.deepLink.nodes",{defaultMessage:"Nodes"}),path:`/${r.b.NODES}`}),{id:"modelManagement",title:l.i18n.translate("xpack.ml.deepLink.modelManagement",{defaultMessage:"Model Management"}),path:`/${r.b.TRAINED_MODELS_MANAGE}`,deepLinks:t}},getMemoryUsageDeepLink:()=>t?{id:"memoryUsage",title:l.i18n.translate("xpack.ml.deepLink.memoryUsage",{defaultMessage:"Memory Usage"}),path:`/${r.b.MEMORY_USAGE}`}:null,getSettingsDeepLink:()=>e.isADEnabled?{id:"settings",title:l.i18n.translate("xpack.ml.deepLink.settings",{defaultMessage:"Settings"}),path:`/${r.b.SETTINGS}`,deepLinks:[{id:"calendarSettings",title:l.i18n.translate("xpack.ml.deepLink.calendarSettings",{defaultMessage:"Calendars"}),path:`/${r.b.CALENDARS_MANAGE}`},{id:"filterListsSettings",title:l.i18n.translate("xpack.ml.deepLink.filterListsSettings",{defaultMessage:"Filter Lists"}),path:`/${r.b.SETTINGS}`}]}:null,getAiopsDeepLink:()=>e.canUseAiops?{id:"aiOps",title:l.i18n.translate("xpack.ml.deepLink.aiOps",{defaultMessage:"AIOps"}),path:`/${r.b.AIOPS_LOG_RATE_ANALYSIS_INDEX_SELECT}`,deepLinks:[{id:"logRateAnalysis",title:l.i18n.translate("xpack.ml.deepLink.logRateAnalysis",{defaultMessage:"Log Rate Analysis"}),path:`/${r.b.AIOPS_LOG_RATE_ANALYSIS_INDEX_SELECT}`},{id:"logPatternAnalysis",title:l.i18n.translate("xpack.ml.deepLink.logPatternAnalysis",{defaultMessage:"Log Pattern Analysis"}),path:`/${r.b.AIOPS_LOG_CATEGORIZATION_INDEX_SELECT}`},{id:"changePointDetections",title:l.i18n.translate("xpack.ml.deepLink.changePointDetection",{defaultMessage:"Change Point Detection"}),path:`/${r.b.AIOPS_CHANGE_POINT_DETECTION_INDEX_SELECT}`}]}:null,getNotificationsDeepLink:()=>t?{id:"notifications",title:l.i18n.translate("xpack.ml.deepLink.notifications",{defaultMessage:"Notifications"}),path:`/${r.b.NOTIFICATIONS}`}:null,getDataVisualizerDeepLink:()=>({id:"dataVisualizer",title:l.i18n.translate("xpack.ml.deepLink.dataVisualizer",{defaultMessage:"Data Visualizer"}),path:`/${r.b.DATA_VISUALIZER}`}),getFileUploadDeepLink:()=>({id:"fileUpload",title:l.i18n.translate("xpack.ml.deepLink.fileUpload",{defaultMessage:"File Upload"}),keywords:["CSV","JSON"],path:`/${r.b.DATA_VISUALIZER_FILE}`}),getIndexDataVisualizerDeepLink:()=>({id:"indexDataVisualizer",title:l.i18n.translate("xpack.ml.deepLink.indexDataVisualizer",{defaultMessage:"Index Data Visualizer"}),path:`/${r.b.DATA_VISUALIZER_INDEX_SELECT}`}),getESQLDataVisualizerDeepLink:()=>n?{id:"esqlDataVisualizer",title:l.i18n.translate("xpack.ml.deepLink.esqlDataVisualizer",{defaultMessage:"ES|QL Data Visualizer"}),path:`/${r.b.DATA_VISUALIZER_ESQL}`}:null,getDataDriftDeepLink:()=>({id:"dataDrift",title:l.i18n.translate("xpack.ml.deepLink.dataDrift",{defaultMessage:"Data Drift"}),path:`/${r.b.DATA_DRIFT_INDEX_SELECT}`})}}(t,e,a,n);return Object.values(i).map((e=>e())).filter((e=>null!==e))}function d(e,t,a,n,i){e.next((()=>({keywords:[l.i18n.translate("xpack.ml.keyword.ml",{defaultMessage:"ML"})],deepLinks:s(t,a,n,i)})))}var o=a(2),c=a.n(o),u=a(15),m=a(289),f=a(0),p=a(345),_=a(6),A=a(346);function g(e,t,n,i){!function(e,t){e.attachmentFramework.registerPersistableState({id:m.b,icon:f.e,displayName:l.i18n.translate("xpack.ml.cases.anomalySwimLane.displayName",{defaultMessage:"Anomaly swim lane"}),getAttachmentViewObject:()=>({event:Object(_.jsx)(u.FormattedMessage,{id:"xpack.ml.cases.anomalySwimLane.embeddableAddedEvent",defaultMessage:"added anomaly swim lane"}),timelineAvatar:f.e,children:c.a.lazy((async()=>{const{initComponent:e}=await a.e(104).then(a.bind(null,848));return{default:e(t.fieldFormats)}}))})})}(e,n),function(e,t,n){e.attachmentFramework.registerPersistableState({id:m.a,icon:f.e,displayName:l.i18n.translate("xpack.ml.cases.anomalyCharts.displayName",{defaultMessage:"Anomaly charts"}),getAttachmentViewObject:()=>({event:Object(_.jsx)(u.FormattedMessage,{id:"xpack.ml.cases.anomalyCharts.embeddableAddedEvent",defaultMessage:"added anomaly chart"}),timelineAvatar:f.e,children:c.a.lazy((async()=>{const{initializeAnomalyChartsAttachment:e}=await a.e(68).then(a.bind(null,846)),i=await Object(p.a)(t,n);return{default:e(n.fieldFormats,i)}}))})})}(e,t,n),function(e,t,n,i){const r=Object(A.a)(t,n,i);e.attachmentFramework.registerPersistableState({id:m.c,icon:f.e,displayName:l.i18n.translate("xpack.ml.cases.registerSingleMetricViewer.displayName",{defaultMessage:"Single metric viewer"}),getAttachmentViewObject:()=>({event:Object(_.jsx)(u.FormattedMessage,{id:"xpack.ml.cases.singleMetricViewer.embeddableAddedEvent",defaultMessage:"added single metric viewer"}),timelineAvatar:f.e,children:c.a.lazy((async()=>{const{initComponent:e}=await a.e(105).then(a.bind(null,847));return{default:e(n.fieldFormats,r)}}))})})}(e,t,n,i)}}}]);