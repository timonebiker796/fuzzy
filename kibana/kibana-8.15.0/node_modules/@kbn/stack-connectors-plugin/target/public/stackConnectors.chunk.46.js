/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.stackConnectors_bundle_jsonpfunction=window.stackConnectors_bundle_jsonpfunction||[]).push([[46],{45:function(e,t,s){"use strict";s.r(t),s.d(t,"EmailParamsFields",(function(){return r})),s.d(t,"default",(function(){return r}));var a=s(1),l=s.n(a),n=s(36),o=s(34),c=s(0),i=s(3),u=s(2);const d=()=>{},r=({actionParams:e,editAction:t,index:s,errors:r,messageVariables:b,defaultMessage:m,isLoading:p,isDisabled:g,onBlur:j=d,showEmailSubjectAndMessage:x=!0,useDefaultMessage:O,ruleTypeId:f})=>{var v,C;const{to:h,cc:k,bcc:E,subject:B,message:F}=e,M=h?h.map((e=>({label:e}))):[],I=k?k.map((e=>({label:e}))):[],T=E?E.map((e=>({label:e}))):[],[A,w]=Object(a.useState)(!1),[L,W]=Object(a.useState)(!1),[[S,V],y]=Object(a.useState)([!1,m]);Object(a.useEffect)((()=>{(O||null==e||!e.message||S&&(null==e?void 0:e.message)===V&&V!==m)&&(y([!0,m]),t("message",m,s))}),[m]);const D=void 0!==h&&void 0!==r.to&&r.to.length>0,P=void 0!==B&&void 0!==r.subject&&r.subject.length>0,R=void 0!==r.cc&&r.cc.length>0&&void 0!==k,_=void 0!==r.bcc&&r.bcc.length>0&&void 0!==E;return Object(u.jsx)(l.a.Fragment,null,Object(u.jsx)(o.EuiFormRow,{fullWidth:!0,error:r.to,isInvalid:D,label:c.i18n.translate("xpack.stackConnectors.components.email.recipientTextFieldLabel",{defaultMessage:"To"}),labelAppend:Object(u.jsx)(l.a.Fragment,null,Object(u.jsx)("span",null,A||k&&0!==(null==k?void 0:k.length)?null:Object(u.jsx)(o.EuiButtonEmpty,{size:"xs",onClick:()=>w(!0)},Object(u.jsx)(n.FormattedMessage,{defaultMessage:"Cc",id:"xpack.stackConnectors.components.email.addCcButton"})),L||E&&0!==(null==E?void 0:E.length)?null:Object(u.jsx)(o.EuiButtonEmpty,{size:"xs",onClick:()=>W(!0)},Object(u.jsx)(n.FormattedMessage,{defaultMessage:"Bcc",id:"xpack.stackConnectors.components.email.addBccButton"}))))},Object(u.jsx)(o.EuiComboBox,{noSuggestions:!0,isInvalid:D,isLoading:p,isDisabled:g,fullWidth:!0,"data-test-subj":"toEmailAddressInput",selectedOptions:M,onCreateOption:e=>{const a=[...M,{label:e}];t("to",a.map((e=>e.label)),s)},onChange:e=>{t("to",e.map((e=>e.label)),s)},onBlur:()=>{h||t("to",[],s),j("to")}})),A||k&&(null==k?void 0:k.length)>0?Object(u.jsx)(o.EuiFormRow,{fullWidth:!0,error:r.cc,isInvalid:R,isDisabled:g,label:c.i18n.translate("xpack.stackConnectors.components.email.recipientCopyTextFieldLabel",{defaultMessage:"Cc"})},Object(u.jsx)(o.EuiComboBox,{noSuggestions:!0,isInvalid:R,isLoading:p,fullWidth:!0,"data-test-subj":"ccEmailAddressInput",selectedOptions:I,onCreateOption:e=>{const a=[...I,{label:e}];t("cc",a.map((e=>e.label)),s)},onChange:e=>{t("cc",e.map((e=>e.label)),s)},onBlur:()=>{k||t("cc",[],s),j("cc")}})):null,L||E&&(null==E?void 0:E.length)>0?Object(u.jsx)(o.EuiFormRow,{fullWidth:!0,error:r.bcc,isInvalid:_,label:c.i18n.translate("xpack.stackConnectors.components.email.recipientBccTextFieldLabel",{defaultMessage:"Bcc"})},Object(u.jsx)(o.EuiComboBox,{noSuggestions:!0,isInvalid:_,isDisabled:g,isLoading:p,fullWidth:!0,"data-test-subj":"bccEmailAddressInput",selectedOptions:T,onCreateOption:e=>{const a=[...T,{label:e}];t("bcc",a.map((e=>e.label)),s)},onChange:e=>{t("bcc",e.map((e=>e.label)),s)},onBlur:()=>{E||t("bcc",[],s),j("bcc")}})):null,x&&Object(u.jsx)(o.EuiFormRow,{fullWidth:!0,error:r.subject,isInvalid:P,label:c.i18n.translate("xpack.stackConnectors.components.email.subjectTextFieldLabel",{defaultMessage:"Subject"})},Object(u.jsx)(i.TextFieldWithMessageVariables,{index:s,editAction:t,messageVariables:b,paramsProperty:"subject",inputTargetValue:B,errors:null!==(v=r.subject)&&void 0!==v?v:[]})),x&&Object(u.jsx)(i.TextAreaWithMessageVariables,{index:s,editAction:t,messageVariables:b,paramsProperty:"message",inputTargetValue:F,label:c.i18n.translate("xpack.stackConnectors.components.email.messageTextAreaFieldLabel",{defaultMessage:"Message"}),errors:null!==(C=r.message)&&void 0!==C?C:[]}))}}}]);