/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.stackConnectors_bundle_jsonpfunction=window.stackConnectors_bundle_jsonpfunction||[]).push([[57],{141:function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return l}));var n=r(1),s=r.n(n),o=r(7),a=r(3),c=r(60),i=r(71),u=r(76),b=r(2);const d=({editAction:t,index:e,messageVariables:r,subActionParams:s})=>{const[o,d]=Object(n.useState)([]),l=Object(n.useMemo)((()=>m(s)),[s]),E=Object(n.useCallback)((t=>{try{const e=Object(i.a)(t);return d([]),e}catch(t){return void(Object(u.b)(t)?d(t.decodeErrors):d([t.message]))}}),[]),O=Object(n.useCallback)((r=>{const n=j(r);if(!n)return void t("jsonEditorError",!0,e);const s=E(n);s?t("subActionParams",s,e):t("jsonEditorError",!0,e)}),[t,e,E]);return Object(n.useEffect)((()=>{const r=E(null!=s?s:{});t("jsonEditorError",!r||void 0,e)}),[s,E,e]),Object(b.jsx)(a.JsonEditorWithMessageVariables,{messageVariables:r,paramsProperty:"subActionParams",inputTargetValue:l,ariaLabel:c.e,onDocumentsChange:O,errors:o,label:c.a,dataTestSubj:"actionJsonEditor"})};d.displayName="JsonEditor";const l=s.a.memo(d),j=t=>{try{return JSON.parse(t)}catch(t){return}},m=t=>{try{const e=JSON.stringify(t,null,2);return Object(o.isEmpty)(e)?"{}":e}catch(t){return"{}"}}}}]);