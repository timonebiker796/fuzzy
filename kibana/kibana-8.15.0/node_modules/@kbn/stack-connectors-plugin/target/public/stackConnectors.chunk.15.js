/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.stackConnectors_bundle_jsonpfunction=window.stackConnectors_bundle_jsonpfunction||[]).push([[15,39],{52:function(e,t,o){"use strict";o.r(t),o.d(t,"API_URL_LABEL",(function(){return s})),o.d(t,"ACCESS_KEY_LABEL",(function(){return n})),o.d(t,"DEFAULT_MODEL_LABEL",(function(){return r})),o.d(t,"SECRET",(function(){return c})),o.d(t,"BEDROCK",(function(){return d})),o.d(t,"DOCUMENTATION",(function(){return i})),o.d(t,"URL_LABEL",(function(){return l})),o.d(t,"BODY_REQUIRED",(function(){return u})),o.d(t,"BODY_INVALID",(function(){return b})),o.d(t,"ACTION_REQUIRED",(function(){return k})),o.d(t,"INVALID_ACTION",(function(){return m})),o.d(t,"BODY",(function(){return f})),o.d(t,"BODY_DESCRIPTION",(function(){return p})),o.d(t,"MODEL",(function(){return A})),o.d(t,"USAGE_DASHBOARD_LINK",(function(){return C}));var a=o(0);const s=a.i18n.translate("xpack.stackConnectors.components.bedrock.apiUrlTextFieldLabel",{defaultMessage:"URL"}),n=a.i18n.translate("xpack.stackConnectors.components.bedrock.accessKeySecret",{defaultMessage:"Access Key"}),r=a.i18n.translate("xpack.stackConnectors.components.bedrock.defaultModelTextFieldLabel",{defaultMessage:"Default model"}),c=a.i18n.translate("xpack.stackConnectors.components.bedrock.secret",{defaultMessage:"Secret"}),d=a.i18n.translate("xpack.stackConnectors.components.bedrock.title",{defaultMessage:"Amazon Bedrock"}),i=a.i18n.translate("xpack.stackConnectors.components.bedrock.documentation",{defaultMessage:"documentation"}),l=a.i18n.translate("xpack.stackConnectors.components.bedrock.urlTextFieldLabel",{defaultMessage:"URL"}),u=a.i18n.translate("xpack.stackConnectors.components.bedrock.error.requiredBedrockBodyText",{defaultMessage:"Body is required."}),b=a.i18n.translate("xpack.stackConnectors.security.bedrock.params.error.invalidBodyText",{defaultMessage:"Body does not have a valid JSON format."}),k=a.i18n.translate("xpack.stackConnectors.security.bedrock.params.error.requiredActionText",{defaultMessage:"Action is required."}),m=a.i18n.translate("xpack.stackConnectors.security.bedrock.params.error.invalidActionText",{defaultMessage:"Invalid action name."}),f=a.i18n.translate("xpack.stackConnectors.components.bedrock.bodyFieldLabel",{defaultMessage:"Body"}),p=a.i18n.translate("xpack.stackConnectors.components.bedrock.bodyCodeEditorAriaLabel",{defaultMessage:"Code editor"}),A=a.i18n.translate("xpack.stackConnectors.components.bedrock.model",{defaultMessage:"Model"}),C=(e,t)=>a.i18n.translate("xpack.stackConnectors.components.genAi.dashboardLink",{values:{apiProvider:e,connectorName:t},defaultMessage:'View {apiProvider} Usage Dashboard for "{ connectorName }" Connector'})},69:function(e,t,o){"use strict";o.d(t,"a",(function(){return d})),o.d(t,"b",(function(){return i})),o.d(t,"c",(function(){return l})),o(1);var a=o(36),s=o(34),n=o(5),r=o(52),c=o(2);const d=JSON.stringify({anthropic_version:"bedrock-2023-05-31",messages:[{content:"Hello world",role:"user"}],max_tokens:n.e,stop_sequences:["\n\nHuman:"]}),i=[{id:"apiUrl",label:r.API_URL_LABEL,isUrlField:!0,defaultValue:n.d,helpText:Object(c.jsx)(a.FormattedMessage,{defaultMessage:"The Amazon Bedrock API endpoint URL. For more information on the URL, refer to the {bedrockAPIUrlDocs}.",id:"xpack.stackConnectors.components.bedrock.bedrockDocumentation",values:{bedrockAPIUrlDocs:Object(c.jsx)(s.EuiLink,{"data-test-subj":"bedrock-api-doc",href:"https://docs.aws.amazon.com/general/latest/gr/bedrock.html",target:"_blank"},`${r.BEDROCK} ${r.DOCUMENTATION}`)}})},{id:"defaultModel",label:r.DEFAULT_MODEL_LABEL,helpText:Object(c.jsx)(a.FormattedMessage,{defaultMessage:'Current support is for the Anthropic Claude models. The model can be set on a per request basis by including a "model" parameter alongside the request body. If no model is provided, the fallback will be the default model -  Claude 3 Sonnet. For more information, refer to the {bedrockAPIModelDocs}.',id:"xpack.stackConnectors.components.bedrock.bedrockDocumentationModel",values:{bedrockAPIModelDocs:Object(c.jsx)(s.EuiLink,{"data-test-subj":"bedrock-api-model-doc",href:"https://aws.amazon.com/bedrock/claude/",target:"_blank"},`${r.BEDROCK} ${r.DOCUMENTATION}`)}}),defaultValue:n.c}],l=[{id:"accessKey",label:r.ACCESS_KEY_LABEL,isPasswordField:!0,helpText:Object(c.jsx)(a.FormattedMessage,{defaultMessage:"The AWS access key for HTTP Basic authentication. For more details about generating AWS security credentials, refer to the {bedrockAPIKeyDocs}.",id:"xpack.stackConnectors.components.bedrock.bedrockApiKeyDocumentation",values:{bedrockAPIKeyDocs:Object(c.jsx)(s.EuiLink,{"data-test-subj":"aws-api-keys-doc",href:"https://docs.aws.amazon.com/IAM/latest/UserGuide/security-creds.html",target:"_blank"},`${r.BEDROCK} ${r.DOCUMENTATION}`)}})},{id:"secret",label:r.SECRET,isPasswordField:!0,helpText:Object(c.jsx)(a.FormattedMessage,{defaultMessage:"The AWS secret for HTTP Basic authentication. For more details about generating AWS security credentials, refer to the {bedrockAPIKeyDocs}.",id:"xpack.stackConnectors.components.bedrock.bedrockSecretDocumentation",values:{bedrockAPIKeyDocs:Object(c.jsx)(s.EuiLink,{"data-test-subj":"aws-api-keys-doc",href:"https://docs.aws.amazon.com/IAM/latest/UserGuide/security-creds.html",target:"_blank"},`${r.BEDROCK} ${r.DOCUMENTATION}`)}})}]},99:function(e,t,o){"use strict";o.r(t),o.d(t,"default",(function(){return b}));var a=o(1),s=o.n(a),n=o(3),r=o(34),c=o(36),d=o(69),i=o(52),l=o(5),u=o(2);const b=({actionParams:e,editAction:t,index:o,messageVariables:b,executionMode:k,errors:m})=>{const{subAction:f,subActionParams:p}=e,{body:A,model:C}=null!=p?p:{},O=Object(a.useMemo)((()=>k===n.ActionConnectorMode.Test),[k]);Object(a.useEffect)((()=>{f||t("subAction",O?l.f.TEST:l.f.RUN,o)}),[t,o,O,f]),Object(a.useEffect)((()=>{p||t("subActionParams",{body:d.a},o)}),[t,o,p]),Object(a.useEffect)((()=>()=>{t("subActionParams",void 0,o)}),[]);const E=Object(a.useCallback)((e=>{t("subActionParams",{...p,...e},o)}),[t,o,p]);return Object(u.jsx)(s.a.Fragment,null,Object(u.jsx)(n.JsonEditorWithMessageVariables,{messageVariables:b,paramsProperty:"body",inputTargetValue:A,label:i.BODY,ariaLabel:i.BODY_DESCRIPTION,errors:m.body,onDocumentsChange:e=>{E({body:e.trim()})},onBlur:()=>{A||E({body:""})},dataTestSubj:"bedrock-bodyJsonEditor"}),Object(u.jsx)(r.EuiFormRow,{fullWidth:!0,label:i.MODEL,helpText:Object(u.jsx)(c.FormattedMessage,{defaultMessage:"Optionally overwrite default model per request. Current support is for the Anthropic Claude models. For more information, refer to the {bedrockAPIModelDocs}.",id:"xpack.stackConnectors.components.bedrock.modelHelpText",values:{bedrockAPIModelDocs:Object(u.jsx)(r.EuiLink,{"data-test-subj":"bedrock-api-model-doc",href:"https://aws.amazon.com/bedrock/claude/",target:"_blank"},`${i.BEDROCK} ${i.DOCUMENTATION}`)}})},Object(u.jsx)(r.EuiFieldText,{"data-test-subj":"bedrock-model",placeholder:l.c,value:C,onChange:e=>{E({model:e.target.value})},fullWidth:!0})))}}}]);