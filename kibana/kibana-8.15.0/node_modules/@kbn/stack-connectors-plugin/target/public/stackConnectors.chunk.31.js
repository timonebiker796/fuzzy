/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.stackConnectors_bundle_jsonpfunction=window.stackConnectors_bundle_jsonpfunction||[]).push([[31,61],{149:function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return x}));var a=s(2),n=s(1),i=s.n(n),l=s(34),r=s(0),o=s(7),c=s(3),u=s(61),d={name:"1hwlg33",styles:"margin-top:28px"};const p=({editAction:e,errors:t,index:s,links:n,messageVariables:i})=>{const o=Array.isArray(t.links)&&t.links.length>0;return Object(a.jsx)(l.EuiFormRow,{id:"pagerDutyLinks",label:r.i18n.translate("xpack.stackConnectors.components.pagerDuty.linksFieldLabel",{defaultMessage:"Links"}),labelAppend:Object(a.jsx)(l.EuiText,{size:"xs",color:"subdued"},u.OPTIONAL_LABEL),isInvalid:o,error:t.links,fullWidth:!0},Object(a.jsx)(l.EuiFlexGroup,{direction:"column","data-test-subj":"linksList",gutterSize:"s"},n&&n.map(((t,o)=>Object(a.jsx)(l.EuiFlexItem,{"data-test-subj":`linksListItemRow-${o}`},Object(a.jsx)(l.EuiSpacer,{size:"s"}),Object(a.jsx)(l.EuiFlexGroup,{key:`linksListItemRow-${o}`},Object(a.jsx)(l.EuiFlexItem,null,Object(a.jsx)(l.EuiFormRow,{label:r.i18n.translate("xpack.stackConnectors.components.pagerDuty.linkTextFieldLabel",{defaultMessage:"Label"}),fullWidth:!0},Object(a.jsx)(c.TextFieldWithMessageVariables,{index:s,editAction:(s,a,i)=>{const l=[...n];l[o]={href:t.href,text:a},e("links",l,i)},messageVariables:i,paramsProperty:"linksText",inputTargetValue:t.text}))),Object(a.jsx)(l.EuiFlexItem,null,Object(a.jsx)(l.EuiFormRow,{label:r.i18n.translate("xpack.stackConnectors.components.pagerDuty.linkURLFieldLabel",{defaultMessage:"URL"}),fullWidth:!0},Object(a.jsx)(c.TextFieldWithMessageVariables,{index:s,editAction:(s,a,i)=>{const l=[...n];l[o]={text:t.text,href:a},e("links",l,i)},messageVariables:i,paramsProperty:"linksHref",inputTargetValue:t.href}))),Object(a.jsx)(l.EuiFlexItem,{grow:!1},Object(a.jsx)(l.EuiButtonIcon,{color:"danger",onClick:()=>{n.splice(o,1),e("links",n,s)},iconType:"minusInCircle",css:d,"data-test-subj":"pagerDutyRemoveLinkButton"})))))),Object(a.jsx)(l.EuiFlexItem,null,Object(a.jsx)("div",null,Object(a.jsx)(l.EuiButton,{iconType:"plusInCircle",onClick:()=>e("links",n?[...n,{href:"",text:""}]:[{href:"",text:""}],s),"data-test-subj":"pagerDutyAddLinkButton"},r.i18n.translate("xpack.stackConnectors.components.pagerDuty.addLinkButtonLabel",{defaultMessage:"Add Link"}))))))},x=({actionParams:e,editAction:t,index:s,messageVariables:n,errors:d})=>{var x;const{euiTheme:b}=Object(l.useEuiTheme)(),{eventAction:m,dedupKey:g,summary:j,source:k,severity:O,timestamp:y,component:L,group:E,customDetails:f,links:T}=e,A=[{value:"critical",text:r.i18n.translate("xpack.stackConnectors.components.pagerDuty.severitySelectCriticalOptionLabel",{defaultMessage:"Critical"})},{value:"error",text:r.i18n.translate("xpack.stackConnectors.components.pagerDuty.severitySelectErrorOptionLabel",{defaultMessage:"Error"})},{value:"warning",text:r.i18n.translate("xpack.stackConnectors.components.pagerDuty.severitySelectWarningOptionLabel",{defaultMessage:"Warning"})},{value:"info",text:r.i18n.translate("xpack.stackConnectors.components.pagerDuty.severitySelectInfoOptionLabel",{defaultMessage:"Info"})}],F=[{value:"trigger",text:r.i18n.translate("xpack.stackConnectors.components.pagerDuty.eventSelectTriggerOptionLabel",{defaultMessage:"Trigger"})},{value:"resolve",text:r.i18n.translate("xpack.stackConnectors.components.pagerDuty.eventSelectResolveOptionLabel",{defaultMessage:"Resolve"})},{value:"acknowledge",text:r.i18n.translate("xpack.stackConnectors.components.pagerDuty.eventSelectAcknowledgeOptionLabel",{defaultMessage:"Acknowledge"})}],D="trigger"!==m,v="trigger"===m,I=void 0!==d.dedupKey&&d.dedupKey.length>0,h=void 0!==d.summary&&d.summary.length>0&&void 0!==j,C=void 0!==d.timestamp&&d.timestamp.length>0&&void 0!==y;return Object(a.jsx)(i.a.Fragment,null,Object(a.jsx)(l.EuiFlexGroup,null,Object(a.jsx)(l.EuiFlexItem,null,Object(a.jsx)(l.EuiFormRow,{fullWidth:!0,label:r.i18n.translate("xpack.stackConnectors.components.pagerDuty.eventActionSelectFieldLabel",{defaultMessage:"Event action"})},Object(a.jsx)(l.EuiSelect,{fullWidth:!0,"data-test-subj":"eventActionSelect",options:F,hasNoInitialSelection:Object(o.isUndefined)(m),value:m,onChange:e=>{t("eventAction",e.target.value,s)}})))),Object(a.jsx)(l.EuiFlexGroup,{css:Object(a.css)({marginTop:b.size.s},"","")},Object(a.jsx)(l.EuiFlexItem,null,Object(a.jsx)(l.EuiFormRow,{fullWidth:!0,error:d.dedupKey,isInvalid:I,label:r.i18n.translate("xpack.stackConnectors.components.pagerDuty.dedupKeyTextFieldLabel",{defaultMessage:"DedupKey"}),labelAppend:D?null:Object(a.jsx)(l.EuiText,{size:"xs",color:"subdued"},u.OPTIONAL_LABEL)},Object(a.jsx)(c.TextFieldWithMessageVariables,{index:s,editAction:t,messageVariables:n,paramsProperty:"dedupKey",inputTargetValue:g})))),v&&Object(a.jsx)(i.a.Fragment,null,Object(a.jsx)(l.EuiSpacer,{size:"m"}),Object(a.jsx)(l.EuiFormRow,{id:"pagerDutySummary",fullWidth:!0,error:d.summary,isInvalid:h,label:r.i18n.translate("xpack.stackConnectors.components.pagerDuty.summaryFieldLabel",{defaultMessage:"Summary"})},Object(a.jsx)(c.TextFieldWithMessageVariables,{index:s,editAction:t,messageVariables:n,paramsProperty:"summary",inputTargetValue:j,errors:null!==(x=d.summary)&&void 0!==x?x:[]})),Object(a.jsx)(l.EuiSpacer,{size:"m"}),Object(a.jsx)(l.EuiFlexGroup,null,Object(a.jsx)(l.EuiFlexItem,null,Object(a.jsx)(l.EuiFormRow,{fullWidth:!0,label:r.i18n.translate("xpack.stackConnectors.components.pagerDuty.severitySelectFieldLabel",{defaultMessage:"Severity"}),labelAppend:Object(a.jsx)(l.EuiText,{size:"xs",color:"subdued"},u.OPTIONAL_LABEL)},Object(a.jsx)(l.EuiSelect,{fullWidth:!0,"data-test-subj":"severitySelect",options:A,hasNoInitialSelection:Object(o.isUndefined)(O),value:O,onChange:e=>{t("severity",e.target.value,s)}}))),Object(a.jsx)(l.EuiFlexItem,null,Object(a.jsx)(l.EuiFormRow,{fullWidth:!0,error:d.timestamp,isInvalid:C,label:r.i18n.translate("xpack.stackConnectors.components.pagerDuty.timestampTextFieldLabel",{defaultMessage:"Timestamp"}),labelAppend:Object(a.jsx)(l.EuiText,{size:"xs",color:"subdued"},u.OPTIONAL_LABEL)},Object(a.jsx)(c.TextFieldWithMessageVariables,{index:s,editAction:t,messageVariables:n,paramsProperty:"timestamp",inputTargetValue:y,errors:d.timestamp})))),Object(a.jsx)(l.EuiSpacer,{size:"m"}),Object(a.jsx)(l.EuiFormRow,{fullWidth:!0,label:r.i18n.translate("xpack.stackConnectors.components.pagerDuty.componentTextFieldLabel",{defaultMessage:"Component"}),labelAppend:Object(a.jsx)(l.EuiText,{size:"xs",color:"subdued"},u.OPTIONAL_LABEL)},Object(a.jsx)(c.TextFieldWithMessageVariables,{index:s,editAction:t,messageVariables:n,paramsProperty:"component",inputTargetValue:L})),Object(a.jsx)(l.EuiFormRow,{fullWidth:!0,label:r.i18n.translate("xpack.stackConnectors.components.pagerDuty.groupTextFieldLabel",{defaultMessage:"Group"}),labelAppend:Object(a.jsx)(l.EuiText,{size:"xs",color:"subdued"},u.OPTIONAL_LABEL)},Object(a.jsx)(c.TextFieldWithMessageVariables,{index:s,editAction:t,messageVariables:n,paramsProperty:"group",inputTargetValue:E})),Object(a.jsx)(l.EuiFormRow,{fullWidth:!0,label:r.i18n.translate("xpack.stackConnectors.components.pagerDuty.sourceTextFieldLabel",{defaultMessage:"Source"}),labelAppend:Object(a.jsx)(l.EuiText,{size:"xs",color:"subdued"},u.OPTIONAL_LABEL)},Object(a.jsx)(c.TextFieldWithMessageVariables,{index:s,editAction:t,messageVariables:n,paramsProperty:"source",inputTargetValue:k})),Object(a.jsx)(l.EuiFormRow,{id:"pagerDutyClass",fullWidth:!0,label:r.i18n.translate("xpack.stackConnectors.components.pagerDuty.classFieldLabel",{defaultMessage:"Class"}),labelAppend:Object(a.jsx)(l.EuiText,{size:"xs",color:"subdued"},u.OPTIONAL_LABEL)},Object(a.jsx)(c.TextFieldWithMessageVariables,{index:s,editAction:t,messageVariables:n,paramsProperty:"class",inputTargetValue:e.class})),Object(a.jsx)(l.EuiFormRow,{id:"pagerDutyCustomDetails",fullWidth:!0,labelAppend:Object(a.jsx)(l.EuiText,{size:"xs",color:"subdued"},u.OPTIONAL_LABEL)},Object(a.jsx)(c.JsonEditorWithMessageVariables,{messageVariables:n,paramsProperty:"customDetails",inputTargetValue:f,errors:d.customDetails,label:r.i18n.translate("xpack.stackConnectors.components.pagerDuty.customDetailsFieldLabel",{defaultMessage:"Custom details"}),onDocumentsChange:e=>{t("customDetails",e,s)},onBlur:()=>{f||t("customDetails","{}",s)},dataTestSubj:"customDetailsJsonEditor"})),Object(a.jsx)(p,{editAction:t,errors:d,index:s,links:T,messageVariables:n})))}},61:function(e,t,s){"use strict";s.r(t),s.d(t,"SUMMARY_REQUIRED",(function(){return n})),s.d(t,"DEDUP_KEY_REQUIRED",(function(){return i})),s.d(t,"INTEGRATION_KEY_REQUIRED",(function(){return l})),s.d(t,"API_URL_LABEL",(function(){return r})),s.d(t,"API_URL_INVALID",(function(){return o})),s.d(t,"INTEGRATION_KEY_LABEL",(function(){return c})),s.d(t,"OPTIONAL_LABEL",(function(){return u}));var a=s(0);const n=a.i18n.translate("xpack.stackConnectors.components.pagerDuty.error.requiredSummaryText",{defaultMessage:"Summary is required."}),i=a.i18n.translate("xpack.stackConnectors.components.pagerDuty.error.requiredDedupKeyText",{defaultMessage:"DedupKey is required when resolving or acknowledging an incident."}),l=a.i18n.translate("xpack.stackConnectors.components.pagerDuty.error.requiredRoutingKeyText",{defaultMessage:"An integration key / routing key is required."}),r=a.i18n.translate("xpack.stackConnectors.components.pagerDuty.apiUrlTextFieldLabel",{defaultMessage:"API URL"}),o=a.i18n.translate("xpack.stackConnectors.components.pagerDuty.apiUrlInvalid",{defaultMessage:"Invalid API URL"}),c=a.i18n.translate("xpack.stackConnectors.components.pagerDuty.routingKeyTextFieldLabel",{defaultMessage:"Integration key"}),u=a.i18n.translate("xpack.stackConnectors.components.pagerDuty.optionalLabel",{defaultMessage:"Optional"})}}]);