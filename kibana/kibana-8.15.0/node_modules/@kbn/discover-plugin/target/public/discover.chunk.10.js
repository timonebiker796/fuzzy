(window.discover_bundle_jsonpfunction=window.discover_bundle_jsonpfunction||[]).push([[10],{100:function(e,t,r){"use strict";r.d(t,"a",(function(){return m})),r.d(t,"f",(function(){return S})),r.d(t,"b",(function(){return b})),r.d(t,"c",(function(){return v})),r.d(t,"d",(function(){return p})),r.d(t,"e",(function(){return O}));var i=r(31),n=r(10),a=r(7),o=r(5),s=r(59),c=r(26),u=r(138),d=r(128),l=r(109),g=r(6);const f="_a",{Provider:m,useSelector:S}=Object(i.createStateContainerReactHelpers)(),b=({stateStorage:e,savedSearch:t,services:r})=>{let o=v(e,t,r),u=o;const l=Object(i.createStateContainer)(o),m={...l,set:e=>{e&&(u=l.getState(),Object(n.isOfAggregateQueryType)(e.query)&&(e.dataSource=Object(g.c)()),l.set(e))}},S=async(t={},r=!0)=>{Object(c.a)("[appState] replaceUrlState",{newPartial:t,merge:r});const i=r?{...m.getState(),...t}:t;await e.set(f,i,{replace:!0})},b=()=>(Object(c.a)("[appState] start syncing state with URL"),Object(a.syncState)({storageKey:f,stateContainer:m,stateStorage:e}));return{...m,isEmptyURL:()=>null==e.get(f),getPrevious:()=>u,hasChanged:()=>!O(o,m.getState()),initAndSync:t=>{Object(c.a)("[appState] initialize state and sync with URL",t);const{data:i}=r,a=t.searchSource.getField("index"),o=m.getState();(!o.dataSource||Object(g.d)(o.dataSource,g.a.DataView)&&o.dataSource.dataViewId!==(null==a?void 0:a.id))&&h(m,{dataSource:null!=a&&a.id?Object(g.b)({dataViewId:a.id}):void 0});const u=Object(s.connectToQueryState)(i.query,m,{filters:n.FilterStateStore.APP_STATE,query:!0}),{stop:d}=Object(s.syncGlobalQueryStateWithUrl)(i.query,e),{start:l,stop:f}=b();return S({}).then((()=>l())),()=>{u(),d(),f()}},resetToState:e=>{Object(c.a)("[appState] reset state to",e),u=e,m.set(e)},resetInitialState:()=>{Object(c.a)("[appState] reset initial state to the current state"),o=m.getState()},replaceUrlState:S,syncState:b,update:(e,t=!1)=>{if(Object(c.a)("[appState] update",{newPartial:e,replace:t}),t)return S(e);u={...m.getState()},h(m,e)},getAppStateFromSavedSearch:e=>Object(d.a)({savedSearch:e,services:r})}};function v(e,t,r){const i=null==e?void 0:e.get(f),n=Object(d.a)({savedSearch:t,services:r});return Object(l.a)(null==i?n:{...n,...Object(u.a)(i,r.uiSettings)},r.uiSettings)}function h(e,t){Object(c.a)("[appstate] setState",{newState:t});const r=e.getState(),i={...r,...t};O(r,i)||e.set(i)}function p(e,t,r=n.COMPARE_ALL_OPTIONS){return!e&&!t||!(!e||!t)&&Object(n.compareFilters)(e,t,r)}function O(e,t,r=[]){if(!e&&!t)return!0;if(!e||!t)return!1;const{filters:i=[],...n}=Object(o.omit)(e,r),{filters:a=[],...s}=Object(o.omit)(t,r);return Object(o.isEqual)(n,s)&&p(i,a)}},103:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return o})),r.d(t,"d",(function(){return u})),r.d(t,"c",(function(){return l}));var i=r(5);function n(e,t,r){if(r)return"_source"!==e;const i=t.getFieldByName(e);return!(!i||!i.sortable)}function a(e,t,r){return Array.isArray(e)?function(e){return 2===e.length&&"string"==typeof e[0]&&("desc"===e[1]||"asc"===e[1])}(e)?[{[e[0]]:e[1]}]:e.map((e=>function(e,t,r){if(Array.isArray(e)&&2===e.length&&n(String(e[0]),t,r)){const[t,r]=e;return{[t]:r}}if(Object(i.isPlainObject)(e)&&n(Object.keys(e)[0],t,r))return e}(e,t,r))).filter((e=>"object"==typeof e)):[]}function o(e,t,r){return a(e,t,r).reduce(((e,t)=>{const r=Object.entries(t);return r&&r[0]&&e.push(r[0]),e}),[])}function s(e,t="desc",r=!1,i){return i?[]:null!=e&&e.timeFieldName&&n(e.timeFieldName,e,i)&&!r?[[e.timeFieldName,t]]:[]}var c=r(114);function u({sort:e,dataView:t,defaultSortDir:r,includeTieBreaker:i=!1}){const n=r||"desc";if(!e||!t||Array.isArray(e)&&0===e.length)return null!=t&&t.timeFieldName?[{_doc:n}]:[{_score:n}];const{timeFieldName:o}=t,s=a(e,t,!1),u=s.map((e=>o&&e[o]?Object(c.c)({sortDir:e[o],timeFieldName:o,isTimeNanosBased:t.isTimeNanosBased()}):e));if(i&&o&&s.length){const e=s[0],t=Array.isArray(e)?e[1]:Object.values(e)[0];u.push(Object(c.b)({sortDir:t,tieBreakerFieldName:c.a}))}return u}var d=r(40);function l(e,t,r,i){return e&&e.length&&t?o(e,t,i):r?s(t,r.get(d.s,"desc"),r.get(d.e,!1),i):[]}},106:function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return o}));var i=r(40),n=r(75);const a=e=>Math.min(e.get(i.m)||500,n.MAX_SAVED_SEARCH_SAMPLE_SIZE),o=(e,t)=>!e||e<0?t.get(i.m):Math.max(Math.min(e,a(t)),n.MIN_SAVED_SEARCH_SAMPLE_SIZE)},109:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var i=r(5),n=r(40);function a(e,t){if(!e.columns)return e;const r=!t.get(n.o),a=t.get(n.d);if(r){let t=e.columns.filter((e=>"_source"!==e));return 0!==t.length||Object(i.isEqual)(a,["_source"])||(t=a,t=t.filter((e=>"_source"!==e))),{...e,columns:t}}if(0===e.columns.length){const t=a;return 0===t.length&&t.push("_source"),{...e,columns:[...t]}}return e}},114:function(e,t,r){"use strict";r.d(t,"d",(function(){return n})),r.d(t,"c",(function(){return a})),r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return s})),r.d(t,"e",(function(){return u}));var i=r(40);function n({sortDir:e,timeFieldName:t,tieBreakerFieldName:r,isTimeNanosBased:i}){return[a({sortDir:e,timeFieldName:t,isTimeNanosBased:i}),o({sortDir:e,tieBreakerFieldName:r})]}function a({sortDir:e,timeFieldName:t,isTimeNanosBased:r}){return{[t]:{order:e,...r?{format:"strict_date_optional_time_nanos",numeric_type:"date_nanos"}:{format:"strict_date_optional_time"}}}}function o({sortDir:e,tieBreakerFieldName:t}){return{[t]:e}}const s="_doc",c=["_seq_no","_doc","_uid"];function u(e,t){return(t.get(i.c)||[]).filter((t=>c.includes(t)||(e.fields.getByName(t)||{sortable:!1}).sortable))[0]}},117:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var i=r(66);const n=({viewMode:e,isEsqlMode:t})=>e===i.VIEW_MODE.PATTERN_LEVEL&&t?i.VIEW_MODE.DOCUMENT_LEVEL:e},128:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var i=r(5),n=r(67),a=r(40),o=r(10),s=r(103),c=r(117),u=r(6);function d({savedSearch:e,services:t}){var r;const{searchSource:d}=e,{data:l,uiSettings:g,storage:f}=t,m=d.getField("index"),S=d.getField("query")||l.query.queryString.getDefaultQuery(),b=Object(o.isOfAggregateQueryType)(S),v=Object(s.b)(null!==(r=e.sort)&&void 0!==r?r:[],m,b),h=function(e,t){return e.columns&&e.columns.length>0?[...e.columns]:t.get(a.o)&&Object(i.isEqual)(t.get(a.d),[])?["_source"]:[...t.get(a.d)]}(e,g),p=Object(n.getChartHidden)(f,"discover"),O=b?Object(u.c)():null!=m&&m.id?Object(u.b)({dataViewId:m.id}):void 0,y={query:S,sort:v.length?v:Object(s.a)(m,g.get(a.s,"desc"),g.get(a.e,!1),b),columns:h,dataSource:O,interval:"auto",filters:Object(i.cloneDeep)(d.getOwnField("filter")),hideChart:"boolean"==typeof p?p:void 0,viewMode:void 0,hideAggregatedPreview:void 0,savedQuery:void 0,rowHeight:void 0,headerRowHeight:void 0,rowsPerPage:void 0,sampleSize:void 0,grid:void 0,breakdownField:void 0};return e.grid&&(y.grid=e.grid),void 0!==e.hideChart&&(y.hideChart=e.hideChart),void 0!==e.rowHeight&&(y.rowHeight=e.rowHeight),void 0!==e.headerRowHeight&&(y.headerRowHeight=e.headerRowHeight),e.viewMode&&(y.viewMode=Object(c.a)({viewMode:e.viewMode,isEsqlMode:b})),e.hideAggregatedPreview&&(y.hideAggregatedPreview=e.hideAggregatedPreview),e.rowsPerPage&&(y.rowsPerPage=e.rowsPerPage),e.sampleSize&&(y.sampleSize=e.sampleSize),e.breakdownField&&(y.breakdownField=e.breakdownField),y}},138:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var i=r(10),n=r(5),a=r(106),o=r(6);function s(e,t){var r;const s=e.query,c=Object(i.isOfAggregateQueryType)(s);var u;return c||!s||s.language||(e.query=function(e){return Object(n.has)(e,"language")?e:{query:e,language:"lucene"}}(s)),"string"==typeof(null===(r=e.sort)||void 0===r?void 0:r[0])&&("asc"===(null===(u=e.sort)||void 0===u?void 0:u[1])||"desc"===e.sort[1]?e.sort=[[e.sort[0],e.sort[1]]]:delete e.sort),e.sort&&!e.sort.length&&delete e.sort,!e.rowsPerPage||"number"==typeof e.rowsPerPage&&e.rowsPerPage>0||delete e.rowsPerPage,!e.sampleSize||!c&&"number"==typeof e.sampleSize&&e.sampleSize>0&&e.sampleSize<=Object(a.b)(t)||delete e.sampleSize,e.index&&(e.dataSource||(e.dataSource=c?Object(o.c)():Object(o.b)({dataViewId:e.index})),delete e.index),e}},182:function(e,t,r){"use strict";r.r(t),r.d(t,"getSharingData",(function(){return s})),r.d(t,"showPublicUrlSwitch",(function(){return c}));var i=r(40),n=r(244),a=r(100),o=r(103);async function s(e,t,r,s){const{uiSettings:c,data:u}=r,d=e.createCopy(),l=d.getField("index");d.setField("sort",Object(o.d)({sort:t.sort,dataView:l,defaultSortDir:c.get(i.s)})),d.removeField("highlight"),d.removeField("highlightAll"),d.removeField("aggs"),d.removeField("size");let g=t.columns||[];if(g&&g.length>0){let e;!c.get(i.e)&&l&&l.timeFieldName&&!s&&(e=l.timeFieldName),e&&!g.includes(e)&&(g=[e,...g])}const f=u.query.timefilter.timefilter.createFilter(l),m=u.query.timefilter.timefilter.createRelativeFilter(l);return{getSearchSource:({addGlobalTimeFilter:e,absoluteTime:t})=>{let r=d.getField("filter");const o=d.createCopy();o.removeField("filter");const s=t?f:m;if(e&&s&&(Array.isArray(r)?r=r.filter((e=>!Object(a.d)(e,f))):Object(a.d)(r,f)&&(r=void 0),r=r?Array.isArray(r)?[s,...r]:[s,r]:s),r&&o.setField("filter",r),!c.get(i.o)){o.removeField("fieldsFromSource");const e=g.length?g.map((e=>{let t=e;return Object(n.a)(e,l)&&(t=`${e}.*`),{field:t,include_unmapped:!0}})):[{field:"*",include_unmapped:!0}];o.setField("fields",e)}return o.getSerializedFields(!0)},columns:g}}const c=e=>!!e.discover&&!!e.discover.show},244:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var i=r(70),n=r(10);function a(e,t){const r=new RegExp(Object(i.escapeRegExp)(e)+"(\\.|$)");return!t.fields.getByName(e)&&!!t.fields.getAll().find((e=>{var t;const i=Object(n.getDataViewFieldSubtypeNested)(e);return!!i&&r.test(null!==(t=null==i?void 0:i.nested.path)&&void 0!==t?t:"")}))}}}]);