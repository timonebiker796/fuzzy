(window.visTypeTimelion_bundle_jsonpfunction=window.visTypeTimelion_bundle_jsonpfunction||[]).push([[3],{37:function(t,n,r){"use strict";r.r(n),r.d(n,"parseTimelionExpression",(function(){return u}));var e=r(51);const u=t=>Object(e.parse)(t)},51:function(t,n,r){t.exports=r(52)},52:function(t,n,r){"use strict";function e(t,n,r,u){var o=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(o,e.prototype),o.expected=n,o.found=r,o.location=u,o.name="SyntaxError",o}function u(t,n,r){return r=r||" ",t.length>n?t:(n-=t.length,t+(r+=r.repeat(n)).slice(0,n))}function o(t,n){var r,u,o={},c=(n=void 0!==n?n:{}).grammarSource,i={start:Lt},a=Lt,l=",",f="=",s="$",h=".",p="(",A=")",d="@",g=":",v='"',m="'",C="true",y="false",x="null",b="\\",j=/^[a-zA-Z]/,w=/^[.a-zA-Z0-9_\-]/,F=/^[^()"',= \t]/,E=/^[ \t\r\n]/,O=/^[^"]/,S=/^[^']/,N=/^[0-9]/,_=Jt(",",!1),T=Jt("=",!1),z=Jt("$",!1),R=$t([["a","z"],["A","Z"]],!1,!1),Z=$t([".",["a","z"],["A","Z"],["0","9"],"_","-"],!1,!1),J=Mt("function"),$=Jt(".",!1),M=Jt("(",!1),P=Jt(")",!1),k=Jt("@",!1),I=Jt(":",!1),L=Mt("literal"),U=Jt('"',!1),V=Jt("'",!1),q=Jt("true",!1),B=Jt("false",!1),D=Jt("null",!1),G=$t(["(",")",'"',"'",",","="," ","\t"],!0,!1),H=$t([" ","\t","\r","\n"],!1,!1),K=Jt("\\",!1),Q=$t(['"'],!0,!1),W=$t(["'"],!0,!1),X=$t([["0","9"]],!1,!1),Y=function(t){return{tree:t.filter((function(t){return null!=t})),functions:rn,args:en,variables:un}},tt=function(t,n){return n},nt=function(t,n){return[t].concat(n)},rt=function(t,n){var r={type:"namedArg",name:t,value:n,location:tn(Rt()),text:zt()};return nn.push(r),r},et=function(t){var n={type:"incompleteArgument",currentArgs:nn,currentFunction:u,location:tn(Rt()),text:zt()};Zt(JSON.stringify(n))},ut=function(t){var n={type:"incompleteArgumentValue",currentArgs:nn,currentFunction:u,name:t,location:tn(Rt()),text:zt()};Zt(JSON.stringify(n))},ot=function(t){return t},ct=function(t){var n=function(t){return{type:"literal",value:t}}(t);return n.location=tn(Rt()),n.text=zt(),n},it=function(t){if(un[t])return un[t];Zt("$"+t+" is not defined")},at=function(t,n){un[t]=n},lt=function(t,n){return n},ft=function(t,n){return[t].concat(n)},st=function(t,n){return u=t.join("")+n.join(""),nn=[],u},ht=function(t,n){return t.join("")+n.join("")},pt=function(t,n){var r={type:"function",function:t,arguments:n||[],location:tn(Rt()),text:zt()};return r.arguments.forEach((function(n){n.function=t,en.push(n)})),rn.push(r),r},At=function(t){var n={type:"incompleteFunction",function:t,location:tn(Rt()),text:zt()};Zt(JSON.stringify(n))},dt=function(t,n){return{type:"reference",plot:t,series:n}},gt=function(t){return{type:"reference",plot:t}},vt=function(t,n){return{type:"chain",chain:[t].concat(n)}},mt=function(t,n){var r={type:"chainList",list:t};return r.label=zt(),{type:"chain",chain:[r].concat(n)}},Ct=function(t){return t.join("")},yt=function(){return!0},xt=function(){return!1},bt=function(){return null},jt=function(t){var n=t.join("");return isNaN(Number(n))?n:Number(n)},wt=function(t){return t},Ft=function(t){return parseInt(t.join(""))},Et=0,Ot=0,St=[{line:1,column:1}],Nt=0,_t=[],Tt=0;if("startRule"in n){if(!(n.startRule in i))throw new Error("Can't start parsing from rule \""+n.startRule+'".');a=i[n.startRule]}function zt(){return t.substring(Ot,Et)}function Rt(){return kt(Ot,Et)}function Zt(t,n){throw function(t,n){return new e(t,null,null,n)}(t,n=void 0!==n?n:kt(Ot,Et))}function Jt(t,n){return{type:"literal",text:t,ignoreCase:n}}function $t(t,n,r){return{type:"class",parts:t,inverted:n,ignoreCase:r}}function Mt(t){return{type:"other",description:t}}function Pt(n){var r,e=St[n];if(e)return e;for(r=n-1;!St[r];)r--;for(e={line:(e=St[r]).line,column:e.column};r<n;)10===t.charCodeAt(r)?(e.line++,e.column=1):e.column++,r++;return St[n]=e,e}function kt(t,n){var r=Pt(t),e=Pt(n);return{source:c,start:{offset:t,line:r.line,column:r.column},end:{offset:n,line:e.line,column:e.column}}}function It(t){Et<Nt||(Et>Nt&&(Nt=Et,_t=[]),_t.push(t))}function Lt(){var t,n;return t=Et,Qt(),(n=Dt())!==o?(Ot=t,t=Y(n)):(Et=t,t=o),t}function Ut(){var n,r,e,u,c,i;return n=Et,(r=Ht())!==o?((e=Qt())===o&&(e=null),61===t.charCodeAt(Et)?(u=f,Et++):(u=o,0===Tt&&It(T)),u!==o?((c=Qt())===o&&(c=null),(i=Vt())!==o?(Ot=n,n=rt(r,i)):(Et=n,n=o)):(Et=n,n=o)):(Et=n,n=o),n===o&&(n=Et,(r=Qt())===o&&(r=null),61===t.charCodeAt(Et)?(e=f,Et++):(e=o,0===Tt&&It(T)),e!==o?((u=Qt())===o&&(u=null),(c=Vt())===o&&(c=null),Ot=n,n=et(c)):(Et=n,n=o),n===o&&(n=Et,(r=Ht())!==o?((e=Qt())===o&&(e=null),61===t.charCodeAt(Et)?(u=f,Et++):(u=o,0===Tt&&It(T)),u!==o?(Ot=n,n=ut(r)):(Et=n,n=o)):(Et=n,n=o),n===o&&(n=Et,(r=Vt())!==o&&(Ot=n,r=ot(r)),n=r))),n}function Vt(){var n,r;return(n=qt())===o&&(n=Bt())===o&&(n=Et,r=function(){var n,r,e,u;if(Tt++,n=Et,34===t.charCodeAt(Et)?(r=v,Et++):(r=o,0===Tt&&It(U)),r!==o){for(e=[],u=Wt();u!==o;)e.push(u),u=Wt();34===t.charCodeAt(Et)?(u=v,Et++):(u=o,0===Tt&&It(U)),u!==o?(Ot=n,n=Ct(e)):(Et=n,n=o)}else Et=n,n=o;if(n===o){if(n=Et,39===t.charCodeAt(Et)?(r=m,Et++):(r=o,0===Tt&&It(V)),r!==o){for(e=[],u=Xt();u!==o;)e.push(u),u=Xt();39===t.charCodeAt(Et)?(u=m,Et++):(u=o,0===Tt&&It(V)),u!==o?(Ot=n,n=Ct(e)):(Et=n,n=o)}else Et=n,n=o;if(n===o&&(n=Et,t.substr(Et,4)===C?(r=C,Et+=4):(r=o,0===Tt&&It(q)),r!==o&&(Ot=n,r=yt()),(n=r)===o&&(n=Et,t.substr(Et,5)===y?(r=y,Et+=5):(r=o,0===Tt&&It(B)),r!==o&&(Ot=n,r=xt()),(n=r)===o&&(n=Et,t.substr(Et,4)===x?(r=x,Et+=4):(r=o,0===Tt&&It(D)),r!==o&&(Ot=n,r=bt()),(n=r)===o)))){if(n=Et,r=[],F.test(t.charAt(Et))?(e=t.charAt(Et),Et++):(e=o,0===Tt&&It(G)),e!==o)for(;e!==o;)r.push(e),F.test(t.charAt(Et))?(e=t.charAt(Et),Et++):(e=o,0===Tt&&It(G));else r=o;r!==o&&(Ot=n,r=jt(r)),n=r}}return Tt--,n===o&&(r=o,0===Tt&&It(L)),n}(),r!==o&&(Ot=n,r=ct(r)),n=r),n}function qt(){var n,r,e;return n=Et,36===t.charCodeAt(Et)?(r=s,Et++):(r=o,0===Tt&&It(z)),r!==o&&(e=Ht())!==o?(Ot=n,n=it(e)):(Et=n,n=o),n}function Bt(){var n;return(n=function(){var n,r,e,u,c;return n=Et,36===t.charCodeAt(Et)?(r=s,Et++):(r=o,0===Tt&&It(z)),r!==o&&(e=Ht())!==o?(Qt(),61===t.charCodeAt(Et)?(u=f,Et++):(u=o,0===Tt&&It(T)),u!==o?(Qt(),(c=Vt())!==o?(Ot=n,n=at(e,c)):(Et=n,n=o)):(Et=n,n=o)):(Et=n,n=o),n}())===o&&(n=qt())===o&&(n=function(){var n,r,e,u,c,i;if(n=Et,40===t.charCodeAt(Et)?(r=p,Et++):(r=o,0===Tt&&It(M)),r!==o)if(Qt(),(e=Dt())!==o)if(Qt(),41===t.charCodeAt(Et)?(u=A,Et++):(u=o,0===Tt&&It(P)),u!==o){for(c=[],i=Kt();i!==o;)c.push(i),i=Kt();Ot=n,n=mt(e,c)}else Et=n,n=o;else Et=n,n=o;else Et=n,n=o;return n}())===o&&(n=function(){var t,n,r,e;if(t=Et,(n=Kt())!==o){for(Qt(),r=[],e=Kt();e!==o;)r.push(e),e=Kt();Ot=t,t=vt(n,r)}else Et=t,t=o;return t}())===o&&(n=function(){var n,r,e,u,c;return n=Et,64===t.charCodeAt(Et)?(r=d,Et++):(r=o,0===Tt&&It(k)),r!==o&&(e=Yt())!==o?(58===t.charCodeAt(Et)?(u=g,Et++):(u=o,0===Tt&&It(I)),u!==o&&(c=Yt())!==o?(Ot=n,n=dt(e,c)):(Et=n,n=o)):(Et=n,n=o),n===o&&(n=Et,64===t.charCodeAt(Et)?(r=d,Et++):(r=o,0===Tt&&It(k)),r!==o&&(e=Yt())!==o?(Ot=n,n=gt(e)):(Et=n,n=o)),n}()),n}function Dt(){var n,r,e,u,c,i;if(n=Et,(r=Bt())!==o){for(e=[],u=Et,Qt(),44===t.charCodeAt(Et)?(c=l,Et++):(c=o,0===Tt&&It(_)),c!==o?(Qt(),(i=Bt())!==o?(Ot=u,u=lt(r,i)):(Et=u,u=o)):(Et=u,u=o);u!==o;)e.push(u),u=Et,Qt(),44===t.charCodeAt(Et)?(c=l,Et++):(c=o,0===Tt&&It(_)),c!==o?(Qt(),(i=Bt())!==o?(Ot=u,u=lt(r,i)):(Et=u,u=o)):(Et=u,u=o);44===t.charCodeAt(Et)?(u=l,Et++):(u=o,0===Tt&&It(_)),u===o&&(u=null),Ot=n,n=ft(r,e)}else Et=n,n=o;return n}function Gt(){var n,r,e,u;if(n=Et,r=[],j.test(t.charAt(Et))?(e=t.charAt(Et),Et++):(e=o,0===Tt&&It(R)),e!==o)for(;e!==o;)r.push(e),j.test(t.charAt(Et))?(e=t.charAt(Et),Et++):(e=o,0===Tt&&It(R));else r=o;if(r!==o){for(e=[],w.test(t.charAt(Et))?(u=t.charAt(Et),Et++):(u=o,0===Tt&&It(Z));u!==o;)e.push(u),w.test(t.charAt(Et))?(u=t.charAt(Et),Et++):(u=o,0===Tt&&It(Z));Ot=n,n=st(r,e)}else Et=n,n=o;return n}function Ht(){var n,r,e,u;if(n=Et,r=[],j.test(t.charAt(Et))?(e=t.charAt(Et),Et++):(e=o,0===Tt&&It(R)),e!==o)for(;e!==o;)r.push(e),j.test(t.charAt(Et))?(e=t.charAt(Et),Et++):(e=o,0===Tt&&It(R));else r=o;if(r!==o){for(e=[],w.test(t.charAt(Et))?(u=t.charAt(Et),Et++):(u=o,0===Tt&&It(Z));u!==o;)e.push(u),w.test(t.charAt(Et))?(u=t.charAt(Et),Et++):(u=o,0===Tt&&It(Z));Ot=n,n=ht(r,e)}else Et=n,n=o;return n}function Kt(){var n,r,e,u,c,i,a;return Tt++,n=Et,(r=Qt())===o&&(r=null),46===t.charCodeAt(Et)?(e=h,Et++):(e=o,0===Tt&&It($)),e!==o&&(u=Gt())!==o?(Qt(),40===t.charCodeAt(Et)?(c=p,Et++):(c=o,0===Tt&&It(M)),c!==o?(Qt(),i=function(){var n,r,e,u,c,i,a;if(n=Et,(r=Ut())!==o){for(e=[],u=Et,(c=Qt())===o&&(c=null),44===t.charCodeAt(Et)?(i=l,Et++):(i=o,0===Tt&&It(_)),i!==o?(Qt(),(a=Ut())!==o?(Ot=u,u=tt(r,a)):(Et=u,u=o)):(Et=u,u=o);u!==o;)e.push(u),u=Et,(c=Qt())===o&&(c=null),44===t.charCodeAt(Et)?(i=l,Et++):(i=o,0===Tt&&It(_)),i!==o?(Qt(),(a=Ut())!==o?(Ot=u,u=tt(r,a)):(Et=u,u=o)):(Et=u,u=o);(u=Qt())===o&&(u=null),44===t.charCodeAt(Et)?(c=l,Et++):(c=o,0===Tt&&It(_)),c===o&&(c=null),Ot=n,n=nt(r,e)}else Et=n,n=o;return n}(),i===o&&(i=null),Qt(),41===t.charCodeAt(Et)?(a=A,Et++):(a=o,0===Tt&&It(P)),a!==o?(Qt(),Ot=n,n=pt(u,i)):(Et=n,n=o)):(Et=n,n=o)):(Et=n,n=o),n===o&&(n=Et,46===t.charCodeAt(Et)?(r=h,Et++):(r=o,0===Tt&&It($)),r!==o?((e=Gt())===o&&(e=null),Ot=n,n=At(e)):(Et=n,n=o)),Tt--,n===o&&(r=o,0===Tt&&It(J)),n}function Qt(){var n,r;if(n=[],E.test(t.charAt(Et))?(r=t.charAt(Et),Et++):(r=o,0===Tt&&It(H)),r!==o)for(;r!==o;)n.push(r),E.test(t.charAt(Et))?(r=t.charAt(Et),Et++):(r=o,0===Tt&&It(H));else n=o;return n}function Wt(){var n,r,e;return n=Et,92===t.charCodeAt(Et)?(r=b,Et++):(r=o,0===Tt&&It(K)),r!==o?(34===t.charCodeAt(Et)?(e=v,Et++):(e=o,0===Tt&&It(U)),e===o&&(92===t.charCodeAt(Et)?(e=b,Et++):(e=o,0===Tt&&It(K))),e!==o?(Ot=n,n=wt(e)):(Et=n,n=o)):(Et=n,n=o),n===o&&(O.test(t.charAt(Et))?(n=t.charAt(Et),Et++):(n=o,0===Tt&&It(Q))),n}function Xt(){var n,r,e;return n=Et,92===t.charCodeAt(Et)?(r=b,Et++):(r=o,0===Tt&&It(K)),r!==o?(39===t.charCodeAt(Et)?(e=m,Et++):(e=o,0===Tt&&It(V)),e===o&&(92===t.charCodeAt(Et)?(e=b,Et++):(e=o,0===Tt&&It(K))),e!==o?(Ot=n,n=wt(e)):(Et=n,n=o)):(Et=n,n=o),n===o&&(S.test(t.charAt(Et))?(n=t.charAt(Et),Et++):(n=o,0===Tt&&It(W))),n}function Yt(){var n,r,e;if(n=Et,r=[],N.test(t.charAt(Et))?(e=t.charAt(Et),Et++):(e=o,0===Tt&&It(X)),e!==o)for(;e!==o;)r.push(e),N.test(t.charAt(Et))?(e=t.charAt(Et),Et++):(e=o,0===Tt&&It(X));else r=o;return r!==o&&(Ot=n,r=Ft(r)),r}function tn(t){return{min:t.start.offset,max:t.end.offset}}var nn=[],rn=[],en=[],un={};if((r=a())!==o&&Et===t.length)return r;throw r!==o&&Et<t.length&&It({type:"end"}),function(t,n,r){return new e(e.buildMessage(t,n),t,n,r)}(_t,Nt<t.length?t.charAt(Nt):null,Nt<t.length?kt(Nt,Nt+1):kt(Nt,Nt))}r.r(n),r.d(n,"SyntaxError",(function(){return e})),r.d(n,"parse",(function(){return o})),function(t,n){function r(){this.constructor=t}r.prototype=n.prototype,t.prototype=new r}(e,Error),e.prototype.format=function(t){var n="Error: "+this.message;if(this.location){var r,e=null;for(r=0;r<t.length;r++)if(t[r].source===this.location.source){e=t[r].text.split(/\r\n|\n|\r/g);break}var o=this.location.start,c=this.location.source+":"+o.line+":"+o.column;if(e){var i=this.location.end,a=u("",o.line.toString().length),l=e[o.line-1],f=o.line===i.line?i.column:l.length+1;n+="\n --\x3e "+c+"\n"+a+" |\n"+o.line+" | "+l+"\n"+a+" | "+u("",o.column-1)+u("",f-o.column,"^")}else n+="\n at "+c}return n},e.buildMessage=function(t,n){var r={literal:function(t){return'"'+u(t.text)+'"'},class:function(t){var n=t.parts.map((function(t){return Array.isArray(t)?o(t[0])+"-"+o(t[1]):o(t)}));return"["+(t.inverted?"^":"")+n+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(t){return t.description}};function e(t){return t.charCodeAt(0).toString(16).toUpperCase()}function u(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+e(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+e(t)}))}function o(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+e(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+e(t)}))}function c(t){return r[t.type](t)}return"Expected "+function(t){var n,r,e=t.map(c);if(e.sort(),e.length>0){for(n=1,r=1;n<e.length;n++)e[n-1]!==e[n]&&(e[r]=e[n],r++);e.length=r}switch(e.length){case 1:return e[0];case 2:return e[0]+" or "+e[1];default:return e.slice(0,-1).join(", ")+", or "+e[e.length-1]}}(t)+" but "+function(t){return t?'"'+u(t)+'"':"end of input"}(n)+" found."}}}]);