/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.profiling_bundle_jsonpfunction=window.profiling_bundle_jsonpfunction||[]).push([[7],{134:function(e,t,n){"use strict";n.r(t),n.d(t,"EmbeddableStackTraces",(function(){return h}));var r=n(1),a=n.n(r),o=n(52),i=n(128),s=n(75),l=n(40),c=n(87),u=n(45),d=n(17),p=n(3),b=n(0);function j(){return Object(b.jsx)(a.a.Fragment,null,Object(b.jsx)(d.EuiSpacer,null),Object(b.jsx)(d.EuiEmptyPrompt,{color:"subdued",iconType:"search",titleSize:"xs",title:Object(b.jsx)("h2",null,p.i18n.translate("xpack.profiling.embeddables.emptyDataPromptTitle",{defaultMessage:"No data found"})),body:Object(b.jsx)("p",null,p.i18n.translate("xpack.profiling.embeddables.emptyDataPromptBody",{defaultMessage:"Make sure this host is sending profiling data or try selecting a different date range."}))}))}function g(){return Object(b.jsx)(d.EuiEmptyPrompt,{color:"warning",iconType:"warning",titleSize:"xs",title:Object(b.jsx)("h2",null,p.i18n.translate("xpack.profiling.embeddables.loadErrorTitle",{defaultMessage:"Unable to load the Profiling data"})),body:Object(b.jsx)("p",null,p.i18n.translate("xpack.profiling.embeddables.loadErrorBody",{defaultMessage:"There was an error while trying to load profiling data. Try refreshing the page"}))})}function f({type:e,kuery:t,rangeFrom:n,rangeTo:a,onClick:o,onChartBrushEnd:d}){var p;const{services:{fetchTopN:f}}=Object(l.a)(),[h,x]=Object(r.useState)(i.a.StackTraces),y=n/1e3,O=a/1e3,m=Object(u.b)((({http:n})=>f({http:n,type:e,timeFrom:y,timeTo:O,kuery:t}).then(s.b)),[f,e,y,O,t]);return m.error?Object(b.jsx)(g,null):m.status===u.a.Settled&&0===(null===(p=m.data)||void 0===p?void 0:p.charts.length)?Object(b.jsx)(j,null):Object(b.jsx)(c.a,{type:e,state:m,displayOption:h,limit:10,onChangeDisplayOption:x,onStackedBarChartBrushEnd:d,onChartClick:o})}function h({type:e,kuery:t,rangeFrom:n,rangeTo:r,onClick:a,onChartBrushEnd:i,...s}){return Object(b.jsx)(o.a,{deps:s},Object(b.jsx)("div",{style:{width:"100%"}},Object(b.jsx)(f,{type:e,kuery:t,rangeFrom:n,rangeTo:r,onClick:a,onChartBrushEnd:i})))}},52:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(22),a=n(1),o=n(25),i=n(47),s=n(0);const l=new o.Storage(localStorage);function c({deps:e,children:t}){const n=Object(a.useMemo)((()=>({start:{core:e.coreStart,...e.pluginsStart},setup:{core:e.coreSetup,...e.pluginsSetup},services:e.profilingFetchServices})),[e]),o=e.coreStart.i18n;return Object(s.jsx)(o.Context,null,Object(s.jsx)(r.KibanaContextProvider,{services:{...e.coreStart,...e.pluginsStart,storage:l}},Object(s.jsx)(i.b,{value:n},t)))}}}]);