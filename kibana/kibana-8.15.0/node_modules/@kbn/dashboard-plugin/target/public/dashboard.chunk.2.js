(window.dashboard_bundle_jsonpfunction=window.dashboard_bundle_jsonpfunction||[]).push([[2],{101:function(e,t,a){(function(t){const a="object"==typeof t&&Object({IS_KIBANA_DISTRIBUTABLE:"true"})&&Object({IS_KIBANA_DISTRIBUTABLE:"true"}).NODE_DEBUG&&/\bsemver\b/i.test(Object({IS_KIBANA_DISTRIBUTABLE:"true"}).NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=a}).call(this,a(116))},113:function(e,t){const a=Object.freeze({loose:!0}),r=Object.freeze({});e.exports=e=>e?"object"!=typeof e?a:e:r},114:function(e,t,a){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:s}=a(115),i=a(101),o=(t=e.exports={}).re=[],l=t.safeRe=[],c=t.src=[],d=t.t={};let u=0;const p="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",s],[p,n]],b=(e,t,a)=>{const r=(e=>{for(const[t,a]of h)e=e.split(`${t}*`).join(`${t}{0,${a}}`).split(`${t}+`).join(`${t}{1,${a}}`);return e})(t),n=u++;i(e,n,t),d[e]=n,c[n]=t,o[n]=new RegExp(t,a?"g":void 0),l[n]=new RegExp(r,a?"g":void 0)};b("NUMERICIDENTIFIER","0|[1-9]\\d*"),b("NUMERICIDENTIFIERLOOSE","\\d+"),b("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${p}*`),b("MAINVERSION",`(${c[d.NUMERICIDENTIFIER]})\\.(${c[d.NUMERICIDENTIFIER]})\\.(${c[d.NUMERICIDENTIFIER]})`),b("MAINVERSIONLOOSE",`(${c[d.NUMERICIDENTIFIERLOOSE]})\\.(${c[d.NUMERICIDENTIFIERLOOSE]})\\.(${c[d.NUMERICIDENTIFIERLOOSE]})`),b("PRERELEASEIDENTIFIER",`(?:${c[d.NUMERICIDENTIFIER]}|${c[d.NONNUMERICIDENTIFIER]})`),b("PRERELEASEIDENTIFIERLOOSE",`(?:${c[d.NUMERICIDENTIFIERLOOSE]}|${c[d.NONNUMERICIDENTIFIER]})`),b("PRERELEASE",`(?:-(${c[d.PRERELEASEIDENTIFIER]}(?:\\.${c[d.PRERELEASEIDENTIFIER]})*))`),b("PRERELEASELOOSE",`(?:-?(${c[d.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[d.PRERELEASEIDENTIFIERLOOSE]})*))`),b("BUILDIDENTIFIER",`${p}+`),b("BUILD",`(?:\\+(${c[d.BUILDIDENTIFIER]}(?:\\.${c[d.BUILDIDENTIFIER]})*))`),b("FULLPLAIN",`v?${c[d.MAINVERSION]}${c[d.PRERELEASE]}?${c[d.BUILD]}?`),b("FULL",`^${c[d.FULLPLAIN]}$`),b("LOOSEPLAIN",`[v=\\s]*${c[d.MAINVERSIONLOOSE]}${c[d.PRERELEASELOOSE]}?${c[d.BUILD]}?`),b("LOOSE",`^${c[d.LOOSEPLAIN]}$`),b("GTLT","((?:<|>)?=?)"),b("XRANGEIDENTIFIERLOOSE",`${c[d.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),b("XRANGEIDENTIFIER",`${c[d.NUMERICIDENTIFIER]}|x|X|\\*`),b("XRANGEPLAIN",`[v=\\s]*(${c[d.XRANGEIDENTIFIER]})(?:\\.(${c[d.XRANGEIDENTIFIER]})(?:\\.(${c[d.XRANGEIDENTIFIER]})(?:${c[d.PRERELEASE]})?${c[d.BUILD]}?)?)?`),b("XRANGEPLAINLOOSE",`[v=\\s]*(${c[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[d.XRANGEIDENTIFIERLOOSE]})(?:${c[d.PRERELEASELOOSE]})?${c[d.BUILD]}?)?)?`),b("XRANGE",`^${c[d.GTLT]}\\s*${c[d.XRANGEPLAIN]}$`),b("XRANGELOOSE",`^${c[d.GTLT]}\\s*${c[d.XRANGEPLAINLOOSE]}$`),b("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),b("COERCE",`${c[d.COERCEPLAIN]}(?:$|[^\\d])`),b("COERCEFULL",c[d.COERCEPLAIN]+`(?:${c[d.PRERELEASE]})?`+`(?:${c[d.BUILD]})?(?:$|[^\\d])`),b("COERCERTL",c[d.COERCE],!0),b("COERCERTLFULL",c[d.COERCEFULL],!0),b("LONETILDE","(?:~>?)"),b("TILDETRIM",`(\\s*)${c[d.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",b("TILDE",`^${c[d.LONETILDE]}${c[d.XRANGEPLAIN]}$`),b("TILDELOOSE",`^${c[d.LONETILDE]}${c[d.XRANGEPLAINLOOSE]}$`),b("LONECARET","(?:\\^)"),b("CARETTRIM",`(\\s*)${c[d.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",b("CARET",`^${c[d.LONECARET]}${c[d.XRANGEPLAIN]}$`),b("CARETLOOSE",`^${c[d.LONECARET]}${c[d.XRANGEPLAINLOOSE]}$`),b("COMPARATORLOOSE",`^${c[d.GTLT]}\\s*(${c[d.LOOSEPLAIN]})$|^$`),b("COMPARATOR",`^${c[d.GTLT]}\\s*(${c[d.FULLPLAIN]})$|^$`),b("COMPARATORTRIM",`(\\s*)${c[d.GTLT]}\\s*(${c[d.LOOSEPLAIN]}|${c[d.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",b("HYPHENRANGE",`^\\s*(${c[d.XRANGEPLAIN]})\\s+-\\s+(${c[d.XRANGEPLAIN]})\\s*$`),b("HYPHENRANGELOOSE",`^\\s*(${c[d.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[d.XRANGEPLAINLOOSE]})\\s*$`),b("STAR","(<|>)?=?\\s*\\*"),b("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),b("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},115:function(e,t){const a=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:a,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},116:function(e,t,a){e.exports=a(37)(675)},117:function(e,t,a){const r=a(101),{MAX_LENGTH:n,MAX_SAFE_INTEGER:s}=a(115),{safeRe:i,t:o}=a(114),l=a(113),{compareIdentifiers:c}=a(206);class SemVer{constructor(e,t){if(t=l(t),e instanceof SemVer){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>n)throw new TypeError(`version is longer than ${n} characters`);r("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const a=e.trim().match(t.loose?i[o.LOOSE]:i[o.FULL]);if(!a)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+a[1],this.minor=+a[2],this.patch=+a[3],this.major>s||this.major<0)throw new TypeError("Invalid major version");if(this.minor>s||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>s||this.patch<0)throw new TypeError("Invalid patch version");a[4]?this.prerelease=a[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<s)return t}return e})):this.prerelease=[],this.build=a[5]?a[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof SemVer)){if("string"==typeof e&&e===this.version)return 0;e=new SemVer(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof SemVer||(e=new SemVer(e,this.options)),c(this.major,e.major)||c(this.minor,e.minor)||c(this.patch,e.patch)}comparePre(e){if(e instanceof SemVer||(e=new SemVer(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const a=this.prerelease[t],n=e.prerelease[t];if(r("prerelease compare",t,a,n),void 0===a&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===a)return-1;if(a!==n)return c(a,n)}while(++t)}compareBuild(e){e instanceof SemVer||(e=new SemVer(e,this.options));let t=0;do{const a=this.build[t],n=e.build[t];if(r("build compare",t,a,n),void 0===a&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===a)return-1;if(a!==n)return c(a,n)}while(++t)}inc(e,t,a){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,a);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,a);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,a),this.inc("pre",t,a);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,a),this.inc("pre",t,a);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(a)?1:0;if(!t&&!1===a)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let r=this.prerelease.length;for(;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);if(-1===r){if(t===this.prerelease.join(".")&&!1===a)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let r=[t,e];!1===a&&(r=[t]),0===c(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=r):this.prerelease=r}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=SemVer},136:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return d}));var r=a(2),n=a.n(r),s=a(366),i=a(25),o=a(1),l=a(3);const c=({onDataViewCreated:e})=>{const{application:t,data:{dataViews:r},dataViewEditor:o,http:{basePath:c,get:d},documentationLinks:{indexPatternsDocLink:u,kibanaGuideDocLink:p,esqlDocLink:h},customBranding:b,noDataPage:m,share:f}=i.pluginServices.getServices(),g={coreStart:{docLinks:{links:{kibana:{guide:p},indexPatterns:{introduction:u},query:{queryESQL:h}}},application:t,http:{basePath:c,get:d},customBranding:{hasCustomBranding$:b.hasCustomBranding$}},dataViews:r,dataViewEditor:o,noDataPage:m,share:f.url?{url:f.url}:void 0},y=a.e(10).then(a.bind(null,350)),E=Object(s.a)(n.a.lazy((()=>y.then((({AnalyticsNoDataPageKibanaProvider:e})=>({default:e})))))),v=Object(s.a)(n.a.lazy((()=>y.then((({AnalyticsNoDataPage:e})=>({default:e}))))));return Object(l.jsx)(E,g,Object(l.jsx)(v,{onDataViewCreated:e}))},d=async()=>{const{data:{dataViews:e},embeddable:t,dashboardContentManagement:a,dashboardBackup:r}=i.pluginServices.getServices();if(await e.hasData.hasUserDataView().catch((()=>!1)))return!1;if(t.getStateTransfer().getIncomingEmbeddablePackage(o.c,!1))return!1;if(r.dashboardHasUnsavedEdits())return!1;const{total:n}=await a.findDashboards.search({search:"",size:1}).catch((()=>({total:0})));return!(n>0)}},137:function(e,t,a){class Range{constructor(e,t){if(t=n(t),e instanceof Range)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new Range(e.raw,t);if(e instanceof s)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!m(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&f(e[0])){this.set=[e];break}}this.format()}format(){return this.range=this.set.map((e=>e.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&h)|(this.options.loose&&b))+":"+e,a=r.get(t);if(a)return a;const n=this.options.loose,o=n?l[c.HYPHENRANGELOOSE]:l[c.HYPHENRANGE];e=e.replace(o,x(this.options.includePrerelease)),i("hyphen replace",e),e=e.replace(l[c.COMPARATORTRIM],d),i("comparator trim",e),e=e.replace(l[c.TILDETRIM],u),i("tilde trim",e),e=e.replace(l[c.CARETTRIM],p),i("caret trim",e);let f=e.split(" ").map((e=>y(e,this.options))).join(" ").split(/\s+/).map((e=>_(e,this.options)));n&&(f=f.filter((e=>(i("loose invalid filter",e,this.options),!!e.match(l[c.COMPARATORLOOSE]))))),i("range list",f);const g=new Map,E=f.map((e=>new s(e,this.options)));for(const e of E){if(m(e))return[e];g.set(e.value,e)}g.size>1&&g.has("")&&g.delete("");const v=[...g.values()];return r.set(t,v),v}intersects(e,t){if(!(e instanceof Range))throw new TypeError("a Range is required");return this.set.some((a=>g(a,t)&&e.set.some((e=>g(e,t)&&a.every((a=>e.every((e=>a.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new o(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(R(this.set[t],e,this.options))return!0;return!1}}e.exports=Range;const r=new(a(202)),n=a(113),s=a(203),i=a(101),o=a(117),{safeRe:l,t:c,comparatorTrimReplace:d,tildeTrimReplace:u,caretTrimReplace:p}=a(114),{FLAG_INCLUDE_PRERELEASE:h,FLAG_LOOSE:b}=a(115),m=e=>"<0.0.0-0"===e.value,f=e=>""===e.value,g=(e,t)=>{let a=!0;const r=e.slice();let n=r.pop();for(;a&&r.length;)a=r.every((e=>n.intersects(e,t))),n=r.pop();return a},y=(e,t)=>(i("comp",e,t),e=O(e,t),i("caret",e),e=v(e,t),i("tildes",e),e=I(e,t),i("xrange",e),e=S(e,t),i("stars",e),e),E=e=>!e||"x"===e.toLowerCase()||"*"===e,v=(e,t)=>e.trim().split(/\s+/).map((e=>w(e,t))).join(" "),w=(e,t)=>{const a=t.loose?l[c.TILDELOOSE]:l[c.TILDE];return e.replace(a,((t,a,r,n,s)=>{let o;return i("tilde",e,t,a,r,n,s),E(a)?o="":E(r)?o=`>=${a}.0.0 <${+a+1}.0.0-0`:E(n)?o=`>=${a}.${r}.0 <${a}.${+r+1}.0-0`:s?(i("replaceTilde pr",s),o=`>=${a}.${r}.${n}-${s} <${a}.${+r+1}.0-0`):o=`>=${a}.${r}.${n} <${a}.${+r+1}.0-0`,i("tilde return",o),o}))},O=(e,t)=>e.trim().split(/\s+/).map((e=>T(e,t))).join(" "),T=(e,t)=>{i("caret",e,t);const a=t.loose?l[c.CARETLOOSE]:l[c.CARET],r=t.includePrerelease?"-0":"";return e.replace(a,((t,a,n,s,o)=>{let l;return i("caret",e,t,a,n,s,o),E(a)?l="":E(n)?l=`>=${a}.0.0${r} <${+a+1}.0.0-0`:E(s)?l="0"===a?`>=${a}.${n}.0${r} <${a}.${+n+1}.0-0`:`>=${a}.${n}.0${r} <${+a+1}.0.0-0`:o?(i("replaceCaret pr",o),l="0"===a?"0"===n?`>=${a}.${n}.${s}-${o} <${a}.${n}.${+s+1}-0`:`>=${a}.${n}.${s}-${o} <${a}.${+n+1}.0-0`:`>=${a}.${n}.${s}-${o} <${+a+1}.0.0-0`):(i("no pr"),l="0"===a?"0"===n?`>=${a}.${n}.${s}${r} <${a}.${n}.${+s+1}-0`:`>=${a}.${n}.${s}${r} <${a}.${+n+1}.0-0`:`>=${a}.${n}.${s} <${+a+1}.0.0-0`),i("caret return",l),l}))},I=(e,t)=>(i("replaceXRanges",e,t),e.split(/\s+/).map((e=>A(e,t))).join(" ")),A=(e,t)=>{e=e.trim();const a=t.loose?l[c.XRANGELOOSE]:l[c.XRANGE];return e.replace(a,((a,r,n,s,o,l)=>{i("xRange",e,a,r,n,s,o,l);const c=E(n),d=c||E(s),u=d||E(o),p=u;return"="===r&&p&&(r=""),l=t.includePrerelease?"-0":"",c?a=">"===r||"<"===r?"<0.0.0-0":"*":r&&p?(d&&(s=0),o=0,">"===r?(r=">=",d?(n=+n+1,s=0,o=0):(s=+s+1,o=0)):"<="===r&&(r="<",d?n=+n+1:s=+s+1),"<"===r&&(l="-0"),a=`${r+n}.${s}.${o}${l}`):d?a=`>=${n}.0.0${l} <${+n+1}.0.0-0`:u&&(a=`>=${n}.${s}.0${l} <${n}.${+s+1}.0-0`),i("xRange return",a),a}))},S=(e,t)=>(i("replaceStars",e,t),e.trim().replace(l[c.STAR],"")),_=(e,t)=>(i("replaceGTE0",e,t),e.trim().replace(l[t.includePrerelease?c.GTE0PRE:c.GTE0],"")),x=e=>(t,a,r,n,s,i,o,l,c,d,u,p)=>`${a=E(r)?"":E(n)?`>=${r}.0.0${e?"-0":""}`:E(s)?`>=${r}.${n}.0${e?"-0":""}`:i?`>=${a}`:`>=${a}${e?"-0":""}`} ${l=E(c)?"":E(d)?`<${+c+1}.0.0-0`:E(u)?`<${c}.${+d+1}.0-0`:p?`<=${c}.${d}.${u}-${p}`:e?`<${c}.${d}.${+u+1}-0`:`<=${l}`}`.trim(),R=(e,t,a)=>{for(let a=0;a<e.length;a++)if(!e[a].test(t))return!1;if(t.prerelease.length&&!a.includePrerelease){for(let a=0;a<e.length;a++)if(i(e[a].semver),e[a].semver!==s.ANY&&e[a].semver.prerelease.length>0){const r=e[a].semver;if(r.major===t.major&&r.minor===t.minor&&r.patch===t.patch)return!0}return!1}return!0}},193:function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(194);case"v8light":return a(196)}},194:function(e,t,a){var r=a(26),n=a(195);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);r(n,{insert:"head",singleton:!1}),e.exports=n.locals||{}},195:function(e,t,a){(t=a(27)(!1)).push([e.i,".dshUnsavedListingItem{margin-top:12px}.dshUnsavedListingItem__icon{margin-right:12px}.dshUnsavedListingItem__title{margin-bottom:0!important}.dshUnsavedListingItem__loading{color:#7a7f89!important}.dshUnsavedListingItem__actions{margin-left:28px}@media only screen and (max-width:574px){.dshUnsavedListingItem{margin-top:16px}.dshUnsavedListingItem__heading{margin-bottom:4px}.dshUnsavedListingItem__actions{flex-direction:column}}@media only screen and (min-width:575px)and (max-width:767px){.dshUnsavedListingItem{margin-top:16px}.dshUnsavedListingItem__heading{margin-bottom:4px}.dshUnsavedListingItem__actions{flex-direction:column}}",""]),e.exports=t},196:function(e,t,a){var r=a(26),n=a(197);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);r(n,{insert:"head",singleton:!1}),e.exports=n.locals||{}},197:function(e,t,a){(t=a(27)(!1)).push([e.i,".dshUnsavedListingItem{margin-top:12px}.dshUnsavedListingItem__icon{margin-right:12px}.dshUnsavedListingItem__title{margin-bottom:0!important}.dshUnsavedListingItem__loading{color:#69707d!important}.dshUnsavedListingItem__actions{margin-left:28px}@media only screen and (max-width:574px){.dshUnsavedListingItem{margin-top:16px}.dshUnsavedListingItem__heading{margin-bottom:4px}.dshUnsavedListingItem__actions{flex-direction:column}}@media only screen and (min-width:575px)and (max-width:767px){.dshUnsavedListingItem{margin-top:16px}.dshUnsavedListingItem__heading{margin-bottom:4px}.dshUnsavedListingItem__actions{flex-direction:column}}",""]),e.exports=t},201:function(e,t,a){const r=a(137);e.exports=(e,t,a)=>{try{t=new r(t,a)}catch(e){return!1}return t.test(e)}},202:function(e,t){e.exports=class LRUCache{constructor(){this.max=1e3,this.map=new Map}get(e){const t=this.map.get(e);return void 0===t?void 0:(this.map.delete(e),this.map.set(e,t),t)}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){const e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}},203:function(e,t,a){const r=Symbol("SemVer ANY");class Comparator{static get ANY(){return r}constructor(e,t){if(t=n(t),e instanceof Comparator){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),l("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===r?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(e){const t=this.options.loose?s[i.COMPARATORLOOSE]:s[i.COMPARATOR],a=e.match(t);if(!a)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==a[1]?a[1]:"","="===this.operator&&(this.operator=""),a[2]?this.semver=new c(a[2],this.options.loose):this.semver=r}toString(){return this.value}test(e){if(l("Comparator.test",e,this.options.loose),this.semver===r||e===r)return!0;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}return o(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof Comparator))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new d(e.value,t).test(this.value):""===e.operator?""===e.value||new d(this.value,t).test(e.semver):!((t=n(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))||(!this.operator.startsWith(">")||!e.operator.startsWith(">"))&&(!this.operator.startsWith("<")||!e.operator.startsWith("<"))&&(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))&&!(o(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))&&!(o(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}}e.exports=Comparator;const n=a(113),{safeRe:s,t:i}=a(114),o=a(204),l=a(101),c=a(117),d=a(137)},204:function(e,t,a){const r=a(205),n=a(207),s=a(208),i=a(209),o=a(210),l=a(211);e.exports=(e,t,a,c)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof a&&(a=a.version),e===a;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof a&&(a=a.version),e!==a;case"":case"=":case"==":return r(e,a,c);case"!=":return n(e,a,c);case">":return s(e,a,c);case">=":return i(e,a,c);case"<":return o(e,a,c);case"<=":return l(e,a,c);default:throw new TypeError(`Invalid operator: ${t}`)}}},205:function(e,t,a){const r=a(89);e.exports=(e,t,a)=>0===r(e,t,a)},206:function(e,t){const a=/^[0-9]+$/,r=(e,t)=>{const r=a.test(e),n=a.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},207:function(e,t,a){const r=a(89);e.exports=(e,t,a)=>0!==r(e,t,a)},208:function(e,t,a){const r=a(89);e.exports=(e,t,a)=>r(e,t,a)>0},209:function(e,t,a){const r=a(89);e.exports=(e,t,a)=>r(e,t,a)>=0},210:function(e,t,a){const r=a(89);e.exports=(e,t,a)=>r(e,t,a)<0},211:function(e,t,a){const r=a(89);e.exports=(e,t,a)=>r(e,t,a)<=0},212:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(38).__importDefault(a(40));t.default=function(e){r.default((function(){e()}))}},242:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(38),n=a(243),s=r.__importDefault(a(245));t.default=function(e,t){s.default(e,t,n.isDeepEqual)}},243:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDeepEqual=t.off=t.on=t.isClient=void 0;var r=a(38).__importDefault(a(244));t.isClient="object"==typeof window,t.on=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return e.addEventListener.apply(e,t)},t.off=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return e.removeEventListener.apply(e,t)},t.isDeepEqual=r.default},244:function(e,t,a){"use strict";e.exports=function e(t,a){if(t===a)return!0;if(t&&a&&"object"==typeof t&&"object"==typeof a){if(t.constructor!==a.constructor)return!1;var r,n,s;if(Array.isArray(t)){if((r=t.length)!=a.length)return!1;for(n=r;0!=n--;)if(!e(t[n],a[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===a.source&&t.flags===a.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===a.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===a.toString();if((r=(s=Object.keys(t)).length)!==Object.keys(a).length)return!1;for(n=r;0!=n--;)if(!Object.prototype.hasOwnProperty.call(a,s[n]))return!1;for(n=r;0!=n--;){var i=s[n];if(!("_owner"===i&&t.$$typeof||e(t[i],a[i])))return!1}return!0}return t!=t&&a!=a}},245:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(2);t.default=function(e,t,a){var n=r.useRef(void 0);n.current&&a(t,n.current)||(n.current=t),r.useEffect(e,n.current)}},366:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var r=a(77),n=a.n(r),s=a(57),i=a(2),o=a.n(i),l=a(5),c=a(3),d={name:"1azakc",styles:"text-align:center"};const u=()=>{const e=d;return Object(c.jsx)("div",{css:e},Object(c.jsx)(l.EuiLoadingSpinner,null))},p=(e,t=Object(c.jsx)(u,null))=>o.a.forwardRef(((a,r)=>Object(c.jsx)(s.KibanaErrorBoundaryProvider,{analytics:a.analytics},Object(c.jsx)(s.KibanaErrorBoundary,null,Object(c.jsx)(i.Suspense,{fallback:t},Object(c.jsx)(e,n()({},a,{ref:r})))))))},63:function(e,t,a){"use strict";a.r(t),a.d(t,"dashboardUrlParams",(function(){return q})),a.d(t,"mountApp",(function(){return H})),a(193);var r=a(2),n=a.n(r),s=a(135),i=a(50),o=a(53),l=a(6),c=a(66),d=a(77),u=a.n(d);const p={services:{}},h=Object(r.createContext)(p);var b=a(242),m=a.n(b),f=a(3);const g=({children:e,component:t,render:a,...s})=>{const i=Object(r.useMemo)((()=>{if(t)return e=>Object(f.jsx)(n.a.Fragment,null,Object(f.jsx)(y,null),Object(f.jsx)(t,e))}),[t]);if(i)return Object(f.jsx)(o.Route,u()({},s,{component:i}));if(a||"function"==typeof e){const t="function"==typeof e?e:a;return Object(f.jsx)(o.Route,u()({},s,{render:e=>Object(f.jsx)(n.a.Fragment,null,Object(f.jsx)(y,null),t(e))}))}return Object(f.jsx)(o.Route,s,Object(f.jsx)(y,null),e)},y=()=>{const{executionContext:e}=Object(r.useContext)(h).services,t=Object(o.useRouteMatch)();return function(e,t){m()((()=>(null==e||e.set(t),()=>{null==e||e.clear()})),[t])}(e,{type:"application",page:t.path,id:Object.keys(t.params).length>0?JSON.stringify(t.params):void 0}),null},E=({legacySwitch:e=!0,children:t})=>{const a=Object(o.useRouteMatch)();return e?Object(f.jsx)(o.Switch,null,t):Object(f.jsx)(c.Routes,null,r.Children.map(t,(e=>{if(n.a.isValidElement(e)&&e.type===g){var r;const s=Object(l.replace)(null==e?void 0:e.props.path,a.url+"/",""),i="function"==typeof(null==e?void 0:e.props.children)?null==e?void 0:e.props.children:null==e?void 0:e.props.render;return Object(f.jsx)(c.Route,{path:s,element:Object(f.jsx)(n.a.Fragment,null,Object(f.jsx)(y,null),(null==e||null===(r=e.props)||void 0===r?void 0:r.component)&&Object(f.jsx)(e.props.component,null)||i&&i()||t)})}return e})))};var v=a(8),w=a(97),O=a(18),T=a(1),I=a(87),A=a(25),S=a(0),_=a(5),x=a(48),R=a(88),$=a(95);let N;const j=({history:e})=>{const{restorePreviousUrl:t}=Object($.b)(),{analytics:a,settings:{i18n:n,theme:s},overlays:{banners:i},urlForwarding:{navigateToLegacyKibanaUrl:o}}=A.pluginServices.getServices();return Object(r.useEffect)((()=>{t();const{navigated:r}=o(e.location.pathname+e.location.search);if(!r){const t=S.i18n.translate("dashboard.noMatchRoute.bannerTitleText",{defaultMessage:"Page not found"});N=i.replace(N,Object(R.a)(Object(f.jsx)(_.EuiCallOut,{color:"warning",iconType:"iInCircle",title:t},Object(f.jsx)("p",null,Object(f.jsx)(x.FormattedMessage,{id:"dashboard.noMatchRoute.bannerText",defaultMessage:"Dashboard application doesn't recognize this route: {route}.",values:{route:e.location.pathname}}))),{analytics:a,i18n:n,theme:s})),setTimeout((()=>{N&&i.remove(N)}),15e3),e.replace(T.q)}}),[t,o,i,a,n,s,e]),null};var L=a(51),M=a(136),k=a(82),C=a(130),P=a(367);const D=({title:e,description:t,entityName:a,entityNamePlural:s,initialFilter:i,headingId:o,initialPageSize:l,listingLimit:c,urlStateEnabled:d=!0,customTableColumn:u,emptyPrompt:p,findItems:h,createItem:b,editItem:m,deleteItems:g,getDetailViewLink:y,getOnClickTitle:E,rowItemActions:v,id:w,contentEditor:O,children:T,titleColumnName:I,additionalRightSideActions:A,withoutPageTemplateWrapper:S,createdByEnabled:_})=>{const x=S?n.a.Fragment:P.a,[R,$]=Object(r.useState)(!1),[N,j]=Object(r.useState)(),L=Object(r.useCallback)((()=>{$(!0)}),[]);return Object(f.jsx)(x,{panelled:!0,"data-test-subj":N},Object(f.jsx)(P.a.Header,{pageTitle:Object(f.jsx)("span",{id:o},e),description:t,rightSideItems:null==A?void 0:A.slice(0,2),"data-test-subj":"top-nav"}),Object(f.jsx)(P.a.Section,{"aria-labelledby":R?o:void 0},T,Object(f.jsx)(C.b,{tableCaption:e,entityName:a,entityNamePlural:s,initialFilter:i,headingId:o,initialPageSize:l,listingLimit:c,urlStateEnabled:d,customTableColumn:u,emptyPrompt:p,findItems:h,createItem:b,editItem:m,deleteItems:g,rowItemActions:v,getDetailViewLink:y,getOnClickTitle:E,id:w,contentEditor:O,titleColumnName:I,withoutPageTemplateWrapper:S,onFetchSuccess:L,setPageDataTestSubject:j,createdByEnabled:_})))};var U=a(56),F=a(144),B=a(177);const G=({children:e,initialFilter:t,goToDashboard:a,getDashboardUrl:s,useSessionStorageIntegration:i})=>{const{analytics:o,application:l,notifications:c,overlays:d,http:u,i18n:p,chrome:{theme:h},savedObjectsTagging:b,coreContext:{executionContext:m},userProfile:g}=A.pluginServices.getServices();Object(U.useExecutionContext)(m,{type:"application",page:"list"});const{unsavedDashboardIds:y,refreshUnsavedDashboards:E,tableListViewTableProps:v}=Object(B.a)({goToDashboard:a,getDashboardUrl:s,useSessionStorageIntegration:i,initialFilter:t}),w=Object(r.useMemo)((()=>b.hasApi?{ui:b}:void 0),[b]);return Object(f.jsx)(x.I18nProvider,null,Object(f.jsx)(C.a,{core:{analytics:o,application:l,notifications:c,overlays:d,http:u,i18n:p,theme:h,userProfile:g},savedObjectsTagging:w,FormattedRelative:x.FormattedRelative},Object(f.jsx)(D,v,Object(f.jsx)(n.a.Fragment,null,e,Object(f.jsx)(F.a,{goToDashboard:a,unsavedDashboardIds:y,refreshUnsavedDashboards:E})))))},V=({title:e,redirectTo:t,initialFilter:a,kbnUrlStateStorage:s})=>{const{data:{query:i},serverless:o,chrome:{setBreadcrumbs:l},dashboardContentManagement:{findDashboards:c}}=A.pluginServices.getServices(),[d,u]=Object(r.useState)();Object(r.useEffect)((()=>{let e=!0;return(async()=>{const t=await Object(M.b)();u(t&&e)})(),()=>{e=!1}}),[]),Object(r.useEffect)((()=>{l([{text:Object(k.g)()}]),null!=o&&o.setBreadcrumbs&&o.setBreadcrumbs([])}),[l,o]),Object(r.useEffect)((()=>{const{stop:a}=Object(L.syncGlobalQueryStateWithUrl)(i,s);return e&&c.findByTitle(e).then((e=>{e&&t({destination:"dashboard",id:e.id,useReplace:!0})})),()=>{a()}}),[e,t,i,s,c]);const p=e?`${e}`:"";return void 0===d?null:Object(f.jsx)(n.a.Fragment,null,d&&Object(f.jsx)(M.a,{onDataViewCreated:()=>u(!1)}),!d&&Object(f.jsx)(G,{useSessionStorageIntegration:!0,initialFilter:null!=a?a:p,goToDashboard:(e,a)=>{t({destination:"dashboard",id:e,editMode:a===v.ViewMode.EDIT})},getDashboardUrl:(e,t)=>((e,t,a)=>{const{application:{getUrlForApp:r},settings:{uiSettings:n}}=A.pluginServices.getServices(),s=n.get("state:storeInSessionStorage");let i=r(T.c,{path:`#${Object(T.y)(t)}`});const o=e.get(T.p)||{};return a&&(delete o.time,delete o.refreshInterval),i=Object(O.setStateToKbnUrl)(T.p,o,{useHash:s},i),i})(s,e,t)}))},q={showTopMenu:"show-top-menu",showQueryInput:"show-query-input",showTimeFilter:"show-time-filter",hideFilterBar:"hide-filter-bar"};async function H({coreStart:e,element:t,appUnMounted:a,mountContext:r}){const{chrome:{setBadge:n,docTitle:l,setHelpExtension:c},dashboardCapabilities:{showWriteControls:d},documentationLinks:{dashboardDocLink:u},application:{navigateToApp:p},settings:{uiSettings:h},data:b,notifications:m,embeddable:y}=A.pluginServices.getServices();let S;const _=e=>{let t,a;"dashboard"===e.destination?(t=e.id?Object(T.y)(e.id):T.b,e.editMode&&(a={viewMode:v.ViewMode.EDIT})):t=Object(T.z)(e.filter),p(T.c,{path:`#/${t}`,state:a,replace:e.useReplace})};Boolean(y.getStateTransfer().getIncomingEmbeddablePackage(T.c,!1))||b.dataViews.clearCache();const x=r.scopedHistory().listen((()=>{window.dispatchEvent(new HashChangeEvent("hashchange"))})),R=Object(f.jsx)(w.a,e,Object(f.jsx)($.a.Provider,{value:r},Object(f.jsx)(o.HashRouter,null,Object(f.jsx)(E,null,Object(f.jsx)(g,{path:[T.b,`${T.x}/:id`],render:e=>{const t=Object(s.parse)(e.history.location.search);return"true"!==t.embed||S||(S=(e=>({forceShowTopNavMenu:"true"===e[q.showTopMenu],forceShowQueryInput:"true"===e[q.showQueryInput],forceShowDatePicker:"true"===e[q.showTimeFilter],forceHideFilterBar:"true"===e[q.hideFilterBar]}))(t)),Object(f.jsx)(I.b,{history:e.history,embedSettings:S,savedDashboardId:e.match.params.id,redirectTo:_})}}),Object(f.jsx)(g,{exact:!0,path:T.q,render:e=>{l.change(Object(k.h)());const t=Object(s.parse)(e.history.location.search),a=t.title||void 0,r=t.filter||void 0;return Object(f.jsx)(V,{initialFilter:r,title:a,kbnUrlStateStorage:(n=e.history,Object(O.createKbnUrlStateStorage)({history:n,useHash:h.get("state:storeInSessionStorage"),...Object(O.withNotifyOnErrors)(m.toasts)})),redirectTo:_});var n}}),Object(f.jsx)(g,{exact:!0,path:"/"},Object(f.jsx)(o.Redirect,{to:T.q})),Object(f.jsx)(g,{render:e=>Object(f.jsx)(j,{history:e.history})})))));return c({appName:Object(k.h)(),links:[{linkType:"documentation",href:`${u}`}]}),d||n({text:k.b.getText(),tooltip:k.b.getTooltip(),iconType:"glasses"}),Object(i.render)(R,t),()=>{b.search.session.clear(),x(),Object(i.unmountComponentAtNode)(t),a()}}},82:function(e,t,a){"use strict";a.d(t,"h",(function(){return s})),a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return o})),a.d(t,"i",(function(){return l})),a.d(t,"q",(function(){return c})),a.d(t,"n",(function(){return d})),a.d(t,"f",(function(){return u})),a.d(t,"l",(function(){return h})),a.d(t,"m",(function(){return b})),a.d(t,"o",(function(){return m})),a.d(t,"g",(function(){return f})),a.d(t,"p",(function(){return g})),a.d(t,"e",(function(){return y})),a.d(t,"c",(function(){return E})),a.d(t,"j",(function(){return v})),a.d(t,"k",(function(){return w})),a.d(t,"d",(function(){return O}));var r=a(0),n=a(8);const s=()=>r.i18n.translate("dashboard.dashboardPageTitle",{defaultMessage:"Dashboards"}),i={getText:()=>r.i18n.translate("dashboard.badge.readOnly.text",{defaultMessage:"Read only"}),getTooltip:()=>r.i18n.translate("dashboard.badge.readOnly.tooltip",{defaultMessage:"Unable to save dashboards"})},o={getTooltip:()=>r.i18n.translate("dashboard.badge.managed.tooltip",{defaultMessage:"Elastic manages this dashboard. Clone it to make changes."})};function l(e,t,a){const s=t===n.ViewMode.EDIT,i=a?p():e;return s?r.i18n.translate("dashboard.strings.dashboardEditTitle",{defaultMessage:"Editing {title}",values:{title:i}}):i}const c={getUnsavedChangedBadgeText:()=>r.i18n.translate("dashboard.unsavedChangesBadge",{defaultMessage:"Unsaved changes"}),getUnsavedChangedBadgeToolTipContent:()=>r.i18n.translate("dashboard.unsavedChangesBadgeToolTipContent",{defaultMessage:" You have unsaved changes in this dashboard. To remove this label, save the dashboard."}),getHasRunMigrationsText:()=>r.i18n.translate("dashboard.hasRunMigrationsBadge",{defaultMessage:"Save recommended"}),getHasRunMigrationsToolTipContent:()=>r.i18n.translate("dashboard.hasRunMigrationsBadgeToolTipContent",{defaultMessage:"One or more panels on this dashboard have been updated to a new version. Save the dashboard so it loads faster next time."})},d={getLeaveTitle:()=>r.i18n.translate("dashboard.appLeaveConfirmModal.unsavedChangesTitle",{defaultMessage:"Unsaved changes"}),getLeaveSubtitle:()=>r.i18n.translate("dashboard.appLeaveConfirmModal.unsavedChangesSubtitle",{defaultMessage:"Leave Dashboard with unsaved work?"}),getLeaveCancelButtonText:()=>r.i18n.translate("dashboard.appLeaveConfirmModal.cancelButtonLabel",{defaultMessage:"Cancel"})},u=()=>r.i18n.translate("dashboard.solutionToolbar.addPanelButtonLabel",{defaultMessage:"Create visualization"}),p=()=>r.i18n.translate("dashboard.savedDashboard.newDashboardTitle",{defaultMessage:"New Dashboard"}),h=e=>e?r.i18n.translate("dashboard.addPanel.newEmbeddableAddedSuccessMessageTitle",{defaultMessage:"{savedObjectName} was added",values:{savedObjectName:e}}):r.i18n.translate("dashboard.addPanel.newEmbeddableWithNoTitleAddedSuccessMessageTitle",{defaultMessage:"A panel was added"}),b=()=>r.i18n.translate("dashboard.loadURLError.PanelTooOld",{defaultMessage:"Cannot load panels from a URL created in a version older than 7.3"}),m={getTopMenuCheckbox:()=>r.i18n.translate("dashboard.embedUrlParamExtension.topMenu",{defaultMessage:"Top menu"}),getQueryCheckbox:()=>r.i18n.translate("dashboard.embedUrlParamExtension.query",{defaultMessage:"Query"}),getTimeFilterCheckbox:()=>r.i18n.translate("dashboard.embedUrlParamExtension.timeFilter",{defaultMessage:"Time filter"}),getFilterBarCheckbox:()=>r.i18n.translate("dashboard.embedUrlParamExtension.filterBar",{defaultMessage:"Filter bar"}),getCheckboxLegend:()=>r.i18n.translate("dashboard.embedUrlParamExtension.include",{defaultMessage:"Include"}),getSnapshotShareWarning:()=>r.i18n.translate("dashboard.snapshotShare.longUrlWarning",{defaultMessage:"One or more panels on this dashboard have changed. Before you generate a snapshot, save the dashboard."})},f=()=>r.i18n.translate("dashboard.dashboardAppBreadcrumbsTitle",{defaultMessage:"Dashboards"}),g={fullScreen:{label:r.i18n.translate("dashboard.topNave.fullScreenButtonAriaLabel",{defaultMessage:"full screen"}),description:r.i18n.translate("dashboard.topNave.fullScreenConfigDescription",{defaultMessage:"Full Screen Mode"})},labs:{label:r.i18n.translate("dashboard.topNav.labsButtonAriaLabel",{defaultMessage:"labs"}),description:r.i18n.translate("dashboard.topNav.labsConfigDescription",{defaultMessage:"Labs"})},edit:{label:r.i18n.translate("dashboard.topNave.editButtonAriaLabel",{defaultMessage:"edit"}),description:r.i18n.translate("dashboard.topNave.editConfigDescription",{defaultMessage:"Switch to edit mode"})},quickSave:{label:r.i18n.translate("dashboard.topNave.saveButtonAriaLabel",{defaultMessage:"save"}),description:r.i18n.translate("dashboard.topNave.saveConfigDescription",{defaultMessage:"Quick save your dashboard without any prompts"})},editModeInteractiveSave:{label:r.i18n.translate("dashboard.topNave.editModeInteractiveSaveButtonAriaLabel",{defaultMessage:"save as"}),description:r.i18n.translate("dashboard.topNave.editModeInteractiveSaveConfigDescription",{defaultMessage:"Save as a new dashboard"})},resetChanges:{label:r.i18n.translate("dashboard.topNave.resetChangesButtonAriaLabel",{defaultMessage:"Reset"}),description:r.i18n.translate("dashboard.topNave.resetChangesConfigDescription",{defaultMessage:"Reset changes to dashboard"})},switchToViewMode:{label:r.i18n.translate("dashboard.topNave.cancelButtonAriaLabel",{defaultMessage:"Switch to view mode"}),description:r.i18n.translate("dashboard.topNave.viewConfigDescription",{defaultMessage:"Switch to view-only mode"})},share:{label:r.i18n.translate("dashboard.topNave.shareButtonAriaLabel",{defaultMessage:"share"}),description:r.i18n.translate("dashboard.topNave.shareConfigDescription",{defaultMessage:"Share Dashboard"})},settings:{label:r.i18n.translate("dashboard.topNave.settingsButtonAriaLabel",{defaultMessage:"settings"}),description:r.i18n.translate("dashboard.topNave.settingsConfigDescription",{defaultMessage:"Open dashboard settings"})},viewModeInteractiveSave:{label:r.i18n.translate("dashboard.topNave.viewModeInteractiveSaveButtonAriaLabel",{defaultMessage:"duplicate"}),description:r.i18n.translate("dashboard.topNave.viewModeInteractiveSaveConfigDescription",{defaultMessage:"Create a copy of your dashboard"})}},y=()=>r.i18n.translate("dashboard.editingToolbar.controlsButtonTitle",{defaultMessage:"Controls"}),E=()=>r.i18n.translate("dashboard.editingToolbar.addControlButtonTitle",{defaultMessage:"Add control"}),v=()=>r.i18n.translate("dashboard.editingToolbar.editControlGroupButtonTitle",{defaultMessage:"Settings"}),w=()=>r.i18n.translate("dashboard.editingToolbar.onlyOneTimeSliderControlMsg",{defaultMessage:"Control group already contains time slider control."}),O=()=>r.i18n.translate("dashboard.editingToolbar.addTimeSliderControlButtonTitle",{defaultMessage:"Add time slider control"})},87:function(e,t,a){"use strict";a.d(t,"a",(function(){return tt})),a.d(t,"c",(function(){return at})),a.d(t,"b",(function(){return rt}));var r=a(212),n=a.n(r),s=a(83),i=a.n(s),o=a(2),l=a.n(o),c=a(8),d=a(56),u=a(18),p=a(29),h=a(136),b=a(6),m=a.n(b),f=a(11),g=a(201),y=a.n(g),E=a(15),v=a(24),w=a(25),O=a(82),T=a(1),I=a(178);const A=e=>{const t=e.get(T.k);if(!t)return{};const a=function(e){if(e.panels){if(0===e.panels.length)return{};if(!(e=>{for(const t of e)if(!t.gridData||!t.embeddableConfig||t.version&&y()(t.version,"<7.3"))return!0;return!1})(e.panels))return Object(v.c)(e.panels);w.pluginServices.getServices().notifications.toasts.addWarning(Object(O.m)())}}(t),r=Object(E.replaceUrlHashQuery)(window.location.href,(e=>(delete e[T.k],e)));return e.kbnUrlControls.update(r,!0),{...m.a.omit(t,["panels","query"]),...a?{panels:a}:{},...t.query?{query:Object(I.b)(t.query)}:{}}},S=({kbnUrlStateStorage:e,dashboardAPI:t})=>{const a=e.change$(T.k).pipe(Object(f.debounceTime)(10)).subscribe((()=>{const a=A(e);0!==Object.keys(a).length&&t.updateInput(a)}));return{stopWatchingAppStateInUrl:()=>a.unsubscribe()}},_=e=>{e.kbnUrlControls.updateAsync((e=>e.includes(T.w)?Object(E.replaceUrlHashQuery)(e,(e=>(delete e[T.w],e))):e))},x=e=>Object(u.getQueryParams)(e.location)[T.w],R=e=>Object(u.createQueryParamObservable)(e,T.w).pipe(Object(f.map)((e=>null!=e?e:void 0)));function $(e){return{getName:async()=>e.getTitle(),getLocatorData:async()=>({id:p.a,initialState:N({container:e,shouldRestoreSearchSession:!1}),restoreState:N({container:e,shouldRestoreSearchSession:!0})})}}function N({container:e,shouldRestoreSearchSession:t}){const{data:{query:{queryString:a,filterManager:r,timefilter:{timefilter:n}},search:{session:s}}}=w.pluginServices.getServices(),{componentState:{lastSavedId:i},explicitInput:{panels:o,query:l,viewMode:c}}=e.getState();return{viewMode:c,useHash:!1,preserveSavedFilters:!1,filters:r.getFilters(),query:a.formatQuery(l),dashboardId:e.getDashboardSavedObjectId(),searchSessionId:t?s.getSessionId():void 0,timeRange:t?n.getAbsoluteTime():n.getTime(),refreshInterval:t?{pause:!0,value:0}:void 0,panels:i?void 0:Object(v.b)(o)}}var j=a(39),L=a(95);const M=()=>{const[e,t]=Object(o.useState)(),[a,r]=Object(o.useState)(),[n,s]=Object(o.useState)(),{scopedHistory:i}=Object(L.b)(),l=null==i?void 0:i(),{screenshotMode:c,spaces:d}=w.pluginServices.getServices();return{validateOutcome:Object(o.useCallback)((({dashboardFound:e,resolveMeta:a,dashboardId:n})=>{if(!e)return"invalid";if(a&&n){const{outcome:e,aliasTargetId:o,aliasPurpose:u}=a;if("aliasMatch"===e&&n&&o){const e=l.location.hash.replace(n,o);var i;return c.isScreenshotMode()?l.replace(e):null===(i=d.redirectLegacyUrl)||void 0===i||i.call(d,{path:e,aliasPurpose:u}),"redirected"}t(o),r(e),s(n)}return"valid"}),[l,c,d]),getLegacyConflictWarning:Object(o.useMemo)((()=>n&&"conflict"===a&&e?()=>{var t;return null===(t=d.getLegacyUrlConflict)||void 0===t?void 0:t.call(d,{currentObjectId:n,otherObjectId:e,otherObjectPath:`#${Object(T.y)(e)}${l.location.search}`})}:null),[e,a,n,l,d])}},k=e=>{const t=e().location.state;if(!t)return{};const{panels:a,...r}=t;return null!=a&&a.length?{...r,panels:Object(v.c)(a)}:r};var C=a(33),P=a(36);const D=({dashboardContainer:e})=>{const{chrome:{docTitle:t}}=w.pluginServices.getServices(),a=e.select((e=>e.explicitInput.title)),r=e.select((e=>e.componentState.lastSavedId));return Object(o.useEffect)((()=>{t.change(Object(O.i)(a,P.ViewMode.VIEW,!r))}),[a,t,r]),null};var U=a(0),F=a(4),B=a.n(F);let G=function(e){return e._ID="_id",e._INDEX="_index",e._SOURCE="_source",e._TYPE="_type",e.STRING="string",e.TEXT="text",e.MATCH_ONLY_TEXT="match_only_text",e.KEYWORD="keyword",e.VERSION="version",e.BOOLEAN="boolean",e.OBJECT="object",e.DATE="date",e.DATE_NANOS="date_nanos",e.DATE_RANGE="date_range",e.GEO_POINT="geo_point",e.GEO_SHAPE="geo_shape",e.FLOAT="float",e.HALF_FLOAT="half_float",e.SCALED_FLOAT="scaled_float",e.DOUBLE="double",e.INTEGER="integer",e.LONG="long",e.SHORT="short",e.UNSIGNED_LONG="unsigned_long",e.AGGREGATE_METRIC_DOUBLE="aggregate_metric_double",e.FLOAT_RANGE="float_range",e.DOUBLE_RANGE="double_range",e.INTEGER_RANGE="integer_range",e.LONG_RANGE="long_range",e.NESTED="nested",e.BYTE="byte",e.IP="ip",e.IP_RANGE="ip_range",e.ATTACHMENT="attachment",e.TOKEN_COUNT="token_count",e.MURMUR3="murmur3",e.HISTOGRAM="histogram",e}({}),V=function(e){return e._SOURCE="_source",e.ATTACHMENT="attachment",e.BOOLEAN="boolean",e.DATE="date",e.DATE_RANGE="date_range",e.GEO_POINT="geo_point",e.GEO_SHAPE="geo_shape",e.IP="ip",e.IP_RANGE="ip_range",e.MURMUR3="murmur3",e.NUMBER="number",e.NUMBER_RANGE="number_range",e.STRING="string",e.UNKNOWN="unknown",e.CONFLICT="conflict",e.OBJECT="object",e.NESTED="nested",e.HISTOGRAM="histogram",e.MISSING="missing",e}({});class kbn_field_type_KbnFieldType{constructor(e={}){B()(this,"name",void 0),B()(this,"sortable",void 0),B()(this,"filterable",void 0),B()(this,"esTypes",void 0),this.name=e.name||V.UNKNOWN,this.sortable=e.sortable||!1,this.filterable=e.filterable||!1,this.esTypes=Object.freeze((e.esTypes||[]).slice())}}const q=new kbn_field_type_KbnFieldType({name:V.UNKNOWN}),H=[new kbn_field_type_KbnFieldType({name:V.STRING,sortable:!0,filterable:!0,esTypes:[G.STRING,G.TEXT,G.MATCH_ONLY_TEXT,G.KEYWORD,G.VERSION,G._TYPE,G._ID]}),new kbn_field_type_KbnFieldType({name:V.NUMBER,sortable:!0,filterable:!0,esTypes:[G.FLOAT,G.HALF_FLOAT,G.SCALED_FLOAT,G.DOUBLE,G.INTEGER,G.LONG,G.UNSIGNED_LONG,G.SHORT,G.BYTE,G.TOKEN_COUNT,G.AGGREGATE_METRIC_DOUBLE]}),new kbn_field_type_KbnFieldType({name:V.NUMBER_RANGE,sortable:!0,filterable:!0,esTypes:[G.FLOAT_RANGE,G.DOUBLE_RANGE,G.INTEGER_RANGE,G.LONG_RANGE]}),new kbn_field_type_KbnFieldType({name:V.DATE,sortable:!0,filterable:!0,esTypes:[G.DATE,G.DATE_NANOS]}),new kbn_field_type_KbnFieldType({name:V.DATE_RANGE,sortable:!0,filterable:!0,esTypes:[G.DATE_RANGE]}),new kbn_field_type_KbnFieldType({name:V.IP,sortable:!0,filterable:!0,esTypes:[G.IP]}),new kbn_field_type_KbnFieldType({name:V.IP_RANGE,sortable:!0,filterable:!0,esTypes:[G.IP_RANGE]}),new kbn_field_type_KbnFieldType({name:V.BOOLEAN,sortable:!0,filterable:!0,esTypes:[G.BOOLEAN]}),new kbn_field_type_KbnFieldType({name:V.OBJECT,esTypes:[G.OBJECT]}),new kbn_field_type_KbnFieldType({name:V.NESTED,esTypes:[G.NESTED]}),new kbn_field_type_KbnFieldType({name:V.GEO_POINT,esTypes:[G.GEO_POINT]}),new kbn_field_type_KbnFieldType({name:V.GEO_SHAPE,esTypes:[G.GEO_SHAPE]}),new kbn_field_type_KbnFieldType({name:V.ATTACHMENT,esTypes:[G.ATTACHMENT]}),new kbn_field_type_KbnFieldType({name:V.MURMUR3,esTypes:[G.MURMUR3]}),new kbn_field_type_KbnFieldType({name:V._SOURCE,esTypes:[G._SOURCE]}),new kbn_field_type_KbnFieldType({name:V.HISTOGRAM,filterable:!0,esTypes:[G.HISTOGRAM]}),new kbn_field_type_KbnFieldType({name:V.CONFLICT}),q],X=e=>{const t=H.find((t=>t.esTypes.includes(e)));return t&&t.name?t.name:V.UNKNOWN};async function z({esqlQuery:e,search:t,signal:a}){try{var r;const n=await async function({esqlQuery:e,search:t,signal:a}){try{var r;return null!==(r=(await Object(f.lastValueFrom)(t({params:{query:`${e} | limit 0`}},{abortSignal:a,strategy:"esql_async"}))).rawResponse.columns)&&void 0!==r?r:[]}catch(e){throw new Error(U.i18n.translate("esqlUtils.columnsErrorMsg",{defaultMessage:"Unable to load columns. {errorMessage}",values:{errorMessage:e.message}}))}}({esqlQuery:e,search:t,signal:a});return null!==(r=n.map((({name:e,type:t})=>{const a=function(e){switch(e){case G._INDEX:return V.STRING;case"_version":return V.NUMBER;case"datetime":return V.DATE;default:return X(e)}}(t);return{id:e,name:e,meta:{type:a,esType:t}}})))&&void 0!==r?r:[]}catch(e){throw new Error(U.i18n.translate("esqlUtils.columnsErrorMsg",{defaultMessage:"Unable to load columns. {errorMessage}",values:{errorMessage:e.message}}))}}var K=a(19);const W="layer_0";var Y=a(65);const Q=(e,t)=>[{type:"index-pattern",id:e,name:`indexpattern-datasource-layer-${t}`}];function J(e){const{label:t,decimals:a,format:r,compactValues:n,normalizeByUnit:s,value:i}=e;return{formula:i,label:t,timeScale:s,format:r?{id:r,params:{decimals:null!=a?a:2,...n?{compact:n}:void 0}}:void 0}}function Z(e){const t=[];for(const a in e)e[a]&&t.push(...Q(e[a].id,a));return t.flat()}const ee=e=>{let t={};return[...new Set(Object.values(e))].forEach((e=>{var a,r;t={...t,...(a=e,{[null!==(r=a.id)&&void 0!==r?r:Object(K.v4)()]:{...a.toSpec(!1)}})}})),t};function te(e){return e&&"object"==typeof e&&("columnOrder"in e||"columns"in e)}async function ae(e,t,a){let r;try{r=await t.get(e,!1)}catch{r=await t.create({title:e,timeFieldName:a||"@timestamp"})}return r}function re(e){if(!e)return;let t,a="@timestamp";if("index"in e)t=e.index,a=e.timeFieldName||"@timestamp";else{if(!("esql"in e))return;t=function(e){var t;const{ast:a}=Object(Y.getAstAndSyntaxErrors)(e),r=a.find((({name:e})=>["from","metrics"].includes(e))),n=(null!==(t=null==r?void 0:r.args)&&void 0!==t?t:[]).filter((e=>"index"===e.sourceType));return null==n?void 0:n.map((e=>e.text)).join(",")}(e.esql)}return{index:t,timeFieldName:a}}function ne(e,t,a,r,n,s){return"esql"in a?["textBased",function(n){const i=s(e,t);return{index:r.id,query:{esql:a.esql},timeField:r.timeFieldName,columns:i,allColumns:i}}()]:"type"in a?["textBased",function(r){const n=a;return{table:n,columns:s(e,t),allColumns:n.columns.map((e=>({fieldName:e.name,columnId:e.id,meta:e.meta}))),index:"",query:void 0}}()]:["formBased",n(e,t,r)]}const se=async(e,t,a,r,n)=>{let s={};const i=e.dataset,o="layers"in e?e.layers:[e];for(let e=0;e<o.length;e++){const u=o[e],p=`layer_${e}`,h=u.dataset||i;if(!h&&"type"in u&&"annotation"!==u.type)throw Error("dataset must be defined");const b=re(h),m=b?await ae(b.index,n,b.timeFieldName):void 0;if(h){const[n,i]=ne(u,e,h,m,a,r);var l,c,d;i&&(s={...s,[n]:{layers:te(i)?{...null===(l=s[n])||void 0===l?void 0:l.layers,[p]:i}:{...i}}}),m&&Object.keys(null!==(c=null===(d=s[n])||void 0===d?void 0:d.layers)&&void 0!==c?c:[]).forEach((e=>{t[e]=m}))}}return s},ie=(e,t,a,r=!1)=>{e.columns={...e.columns,[t]:a},r?e.columnOrder.unshift(t):e.columnOrder.push(t)},oe=(e,t,a="")=>{const r=Object.fromEntries(Object.entries(t.columns).map((([e,t])=>[`${e}${a}`,t])));e.columns={...e.columns,...r},e.columnOrder.push(...t.columnOrder.map((e=>`${e}${a}`)))},le=({options:e})=>{var t,a;const{interval:r="auto",...n}=null!==(t=null==e?void 0:e.params)&&void 0!==t?t:{};return{dataType:"date",isBucketed:!0,label:"@timestamp",operationType:"date_histogram",scale:"interval",sourceField:null!==(a=null==e?void 0:e.sourceField)&&void 0!==a?a:"@timestamp",params:{interval:r,...n}}};function ce(e,t,a,r,n){const{formula:s,...i}=t,o=null==r?void 0:r.insertOrReplaceFormulaColumn(e,{formula:s,...i},n||{columnOrder:[],columns:{}},a);if(!o)throw new Error("Error generating the data layer for the chart");return o}const de=10,ue=({options:e,dataView:t})=>{const a="string"==typeof e?function(e,t){if(!t.fields.getByName(e))throw new Error(`field ${e} does not exist on dataview ${t.id?t.id:t.title}`);switch(t.fields.getByName(e).type){case"string":default:return"topValues";case"number":return"intervals";case"date":return"dateHistogram"}}(e,t):e.type,r="string"==typeof e?e:"field"in e?e.field:"",n="string"!=typeof e?e:{};switch(a){case"dateHistogram":return le({options:{sourceField:r,params:"string"!=typeof e?{interval:e.minimumInterval||"auto"}:{interval:"auto"}}});case"topValues":return(({field:e,options:t})=>{const{size:a=de,...r}=null!=t?t:{};return{label:`Top ${a} values of ${e}`,dataType:"string",operationType:"terms",scale:"ordinal",sourceField:e,isBucketed:!0,params:{size:a,orderBy:{type:"alphabetical",fallback:!1},orderDirection:"asc",otherBucket:!1,missingBucket:!1,parentFormat:{id:"terms"},include:[],exclude:[],includeIsRegex:!1,excludeIsRegex:!1,...r}}})({field:r,options:{size:n.size||5}});case"intervals":return(({field:e,options:t})=>{const{ranges:a=[],...r}=null!=t?t:{};return{label:`Intervals of ${e}`,dataType:"number",operationType:"range",scale:"ordinal",sourceField:e,isBucketed:!0,params:{ranges:a,...r}}})({field:r,options:{type:"range",ranges:[{from:0,to:1e3,label:""}],maxBars:n.granularity||"auto"}});case"filters":return(({options:e})=>{const{filters:t=[],...a}=null!=e?e:{};return{label:"Filters",dataType:"number",operationType:"filters",scale:"ordinal",isBucketed:!0,params:{filters:t,...a}}})({options:{filters:n.filters.map((e=>({label:e.label||"",input:{language:"kuery",query:e.filter}})))}})}};function pe(e,t,a){return{columnId:e,fieldName:t||e,...a?{meta:{type:a}}:{}}}const he="metric_formula_accessor";function be(e){return`${he}_${e}`}function me(e){return{layerId:W,valueAccessor:he,maxFontSize:72,minFontSize:12,orientation:"single",showLabel:!0,...e.breakdown?{tagAccessor:be("breakdown")}:{}}}function fe(e){if(e.breakdown&&"string"!=typeof e.breakdown)throw new Error("breakdown must be a field name when not using index source");return[pe(he,e.value),pe(be("breakdown"),e.breakdown)]}async function ge(e,{dataViewsAPI:t,formulaAPI:a}){const r={},n=await se(e,r,((e,t,r)=>function(e,t,a,r){const n={[W]:{...ce(he,J(e),a,r)}}[W];if(!e.breakdown)throw new Error("breakdown must be defined on tagcloud!");{const t=be("breakdown"),r=ue({options:e.breakdown,dataView:a});ie(n,t,r,!0)}return n}(e,0,r,a)),fe,t);return{title:e.title,visualizationType:"lnsTagcloud",references:Z(r),state:{datasourceStates:n,internalReferences:[],filters:[],query:{language:"kuery",query:""},visualization:me(e),adHocDataViews:ee(r)}}}const ye="metric_formula_accessor",Ee="x_date_histogram",ve="layer_0_trendline";function we(e){return`${ye}_${e}`}function Oe(e){const t=e;return{layerId:W,layerType:"data",metricAccessor:ye,color:t.seriesColor,subtitle:t.subtitle,showBar:!1,...t.querySecondaryMetric?{secondaryMetricAccessor:we("secondary")}:{},...t.queryMaxValue?{maxAccessor:we("max"),showBar:!0}:{},...t.breakdown?{breakdownByAccessor:we("breakdown")}:{},...t.trendLine?{trendlineLayerId:`${W}_trendline`,trendlineLayerType:"metricTrendline",trendlineMetricAccessor:`${ye}_trendline`,trendlineTimeAccessor:Ee,...t.querySecondaryMetric?{trendlineSecondaryMetricAccessor:`${ye}_secondary_trendline`}:{},...t.queryMaxValue?{trendlineMaxAccessor:`${ye}_max_trendline`}:{},...t.breakdown?{trendlineBreakdownByAccessor:`${ye}_breakdown_trendline`}:{}}:{}}}function Te(e){if(e.breakdown&&"string"!=typeof e.breakdown)throw new Error("breakdown must be a field name when not using index source");return[...e.breakdown?[pe(we("breakdown"),e.breakdown)]:[],pe(ye,e.value,"number"),...e.queryMaxValue?[pe(we("max"),e.queryMaxValue,"number")]:[],...e.querySecondaryMetric?[pe(we("secondary"),e.querySecondaryMetric)]:[]]}async function Ie(e,{dataViewsAPI:t,formulaAPI:a}){const r={},n=await se(e,r,((e,t,r)=>function(e,t,a,r){const n={columnOrder:[ye,Ee],columns:{[Ee]:le({options:{sourceField:a.timeFieldName,params:{interval:"auto",includeEmptyRows:!0}}})},sampling:1},s={[W]:{...ce(ye,J(e),a,r)},...e.trendLine?{[ve]:{linkToLayers:[W],...ce(`${ye}_trendline`,J(e),a,r,n)}}:{}},i=s[W],o=s[ve];if(e.breakdown){const t=we("breakdown"),r=ue({options:e.breakdown,dataView:a});ie(i,t,r,!0),o&&ie(o,`${t}_trendline`,r,!0)}if(e.querySecondaryMetric){const t=ce(we("secondary"),{formula:e.querySecondaryMetric},a,r);oe(i,t),o&&oe(o,t,"X0")}if(e.queryMaxValue){const t=ce(we("max"),{formula:e.queryMaxValue},a,r);oe(i,t),o&&oe(o,t,"X0")}return s}(e,0,r,a)),Te,t);return{title:e.title,visualizationType:"lnsMetric",references:Z(r),state:{datasourceStates:n,internalReferences:[],filters:[],query:{language:"kuery",query:""},visualization:Oe(e),adHocDataViews:ee(r)}}}const Ae="metric_formula_accessor";function Se(e){const t=e,a=Array.isArray(t.breakdown)?t.breakdown:[t.breakdown];let r="default",n="right";return"legend"in e&&e.legend&&("show"in e.legend&&(r=e.legend?"show":"hide"),n=e.legend.position||"right"),{shape:e.chartType,layers:[{layerId:W,layerType:"data",metrics:[Ae],allowMultipleMetrics:!1,numberDisplay:"percent",categoryDisplay:"default",legendDisplay:r,legendPosition:n,primaryGroups:a.map(((e,t)=>`${Ae}_breakdown_${t}`))}]}}function _e(e){if(e.breakdown&&e.breakdown.filter((e=>"string"!=typeof e)).length)throw new Error("breakdown must be a field name when not using index source");return[...e.breakdown?e.breakdown.map(((e,t)=>pe(`${Ae}_breakdown_${t}`,e))):[],pe(Ae,e.value)]}async function xe(e,{dataViewsAPI:t,formulaAPI:a}){const r={},n=await se(e,r,((e,t,r)=>function(e,t,a,r){const n={[W]:{...ce(Ae,J(e),a,r)}}[W];if(!e.breakdown)throw new Error("breakdown must be defined!");return(Array.isArray(e.breakdown)?e.breakdown:[e.breakdown]).reverse().forEach(((e,t)=>{const r=`${Ae}_breakdown_${t}`,s=ue({options:e,dataView:a});ie(n,r,s,!0)})),n}(e,0,r,a)),_e,t);return{title:e.title,visualizationType:"lnsPie",references:Z(r),state:{datasourceStates:n,internalReferences:[],filters:[],query:{language:"kuery",query:""},visualization:Se(e),adHocDataViews:ee(r)}}}const Re="metric_formula_accessor";function $e(e){return`${Re}_${e}`}function Ne(e){const t=e;return{layerId:W,layerType:"data",ticksPosition:"auto",shape:t.shape||"horizontalBullet",labelMajorMode:"auto",metricAccessor:Re,...t.queryGoalValue?{goalAccessor:$e("goal")}:{},...t.queryMaxValue?{maxAccessor:$e("max"),showBar:!0}:{},...t.queryMinValue?{minAccessor:$e("min")}:{}}}function je(e){return[pe(Re,e.value),...e.queryMaxValue?[pe($e("max"),e.queryMaxValue)]:[],...e.queryMinValue?[pe($e("min"),e.queryMinValue)]:[],...e.queryGoalValue?[pe($e("goal"),e.queryGoalValue)]:[]]}async function Le(e,{dataViewsAPI:t,formulaAPI:a}){const r={},n=await se(e,r,((e,t,r)=>function(e,t,a,r){const n={[W]:{...ce(Re,J(e),a,r)}}[W];if(e.queryGoalValue){const t=ce($e("goal"),{formula:e.queryGoalValue},a,r);oe(n,t)}if(e.queryMinValue){const t=ce($e("min"),{formula:e.queryMinValue},a,r);oe(n,t)}if(e.queryMaxValue){const t=ce($e("max"),{formula:e.queryMaxValue},a,r);oe(n,t)}return n}(e,0,r,a)),je,t);return{title:e.title,visualizationType:"lnsGauge",references:Z(r),state:{datasourceStates:n,internalReferences:[],filters:[],query:{language:"kuery",query:""},visualization:Ne(e),adHocDataViews:ee(r)}}}const Me="metric_formula_accessor";function ke(e){return`${e}_${Me}`}function Ce(e){var t,a;const r=e;return{layerId:W,layerType:"data",shape:"heatmap",valueAccessor:Me,...r.xAxis?{xAccessor:ke("x")}:{},...r.breakdown?{yAccessor:ke("y")}:{},gridConfig:{type:"heatmap_grid",isCellLabelVisible:!1,isXAxisLabelVisible:!1,isXAxisTitleVisible:!1,isYAxisLabelVisible:!1,isYAxisTitleVisible:!1},legend:{isVisible:(null===(t=e.legend)||void 0===t?void 0:t.show)||!0,position:(null===(a=e.legend)||void 0===a?void 0:a.position)||"left",type:"heatmap_legend"}}}function Pe(e){if(e.breakdown&&"string"!=typeof e.breakdown)throw new Error("breakdown must be a field name when not using index source");if("string"!=typeof e.xAxis)throw new Error("xAxis must be a field name when not using index source");return[...e.breakdown?[pe(ke("y"),e.breakdown)]:[],pe(ke("x"),e.xAxis),pe(Me,e.value)]}async function De(e,{dataViewsAPI:t,formulaAPI:a}){const r={},n=await se(e,r,((e,t,r)=>function(e,t,a,r){const n={...ce(Me,J(e),a,r)};if(e.xAxis){const t=ke("x"),r=ue({options:e.xAxis,dataView:a});ie(n,t,r,!0)}if(e.breakdown){const t=ke("y"),r=ue({options:e.breakdown,dataView:a});ie(n,t,r,!0)}return n}(e,0,r,a)),Pe,t);return{title:e.title,visualizationType:"lnsHeatmap",references:Z(r),state:{datasourceStates:n,internalReferences:[],filters:[],query:{language:"kuery",query:""},visualization:Ce(e),adHocDataViews:ee(r)}}}const Ue="metric_formula_accessor";function Fe(e){return`${Ue}_${e}`}function Be(e){return{layerId:W,layerType:"data",valueAccessor:Ue,...e.breakdown?{regionAccessor:Fe("breakdown")}:{}}}function Ge(e){if("string"!=typeof e.breakdown)throw new Error("breakdown must be a field name when not using index source");return[pe(Ue,e.value),pe(Fe("breakdown"),e.breakdown)]}async function Ve(e,{dataViewsAPI:t,formulaAPI:a}){const r={},n=await se(e,r,((e,t,r)=>function(e,t,a,r){const n={[W]:{...ce(Ue,J(e),a,r)}}[W];if(!e.breakdown)throw new Error("breakdown must be defined for regionmap!");{const t=Fe("breakdown"),r=ue({options:e.breakdown,dataView:a});ie(n,t,r,!0)}return n}(e,0,r,a)),Ge,t);return{title:e.title,visualizationType:"lnsChoropleth",references:Z(r),state:{datasourceStates:n,internalReferences:[],filters:[],query:{language:"kuery",query:""},visualization:Be(e),adHocDataViews:ee(r)}}}const qe="metric_formula_accessor";function He(e){const t=e;return{layerId:W,layerType:"data",columns:[{columnId:qe},...(t.breakdown||[]).map(((e,t)=>({columnId:`${qe}_breakdown_${t}`}))),...(t.splitBy||[]).map(((e,t)=>({columnId:`${qe}_splitby_${t}`})))]}}function Xe(e){if(e.breakdown&&e.breakdown.filter((e=>"string"!=typeof e)).length)throw new Error("breakdown must be a field name when not using index source");if(e.splitBy&&e.splitBy.filter((e=>"string"!=typeof e)).length)throw new Error("xAxis must be a field name when not using index source");return[...e.breakdown?e.breakdown.map(((e,t)=>pe(`${qe}_breakdown_${t}`,e))):[],...e.splitBy?e.splitBy.map(((e,t)=>pe(`${qe}_splitby_${t}`,e))):[],pe(qe,e.value)]}async function ze(e,{dataViewsAPI:t,formulaAPI:a}){const r={},n=await se(e,r,((e,t,r)=>function(e,t,a,r){const n={[W]:{...ce(qe,J(e),a,r)}}[W];if(!e.breakdown)throw new Error("breakdown must be defined for table!");return e.breakdown.reverse().forEach(((e,t)=>{const r=`${qe}_breakdown_${t}`,s=ue({options:e,dataView:a});ie(n,r,s,!0)})),e.splitBy&&e.splitBy.forEach(((e,t)=>{const r=`${qe}_splitby_${t}`,s=ue({options:e,dataView:a});ie(n,r,s,!0)})),n}(e,0,r,a)),Xe,t);return{title:e.title,visualizationType:"lnsDatatable",references:Z(r),state:{datasourceStates:n,internalReferences:[],filters:[],query:{language:"kuery",query:""},visualization:He(e),adHocDataViews:ee(r)}}}const Ke="metric_formula_accessor";function We(e){var t,a,r,n,s,i,o,l,c,d,u,p,h,b;return{axisTitlesVisibilitySettings:{x:null===(t=null===(a=e.axisTitleVisibility)||void 0===a?void 0:a.showXAxisTitle)||void 0===t||t,yLeft:null===(r=null===(n=e.axisTitleVisibility)||void 0===n?void 0:n.showYAxisTitle)||void 0===r||r,yRight:!0},legend:{isVisible:null===(s=null===(i=e.legend)||void 0===i?void 0:i.show)||void 0===s||s,position:null!==(o=null===(l=e.legend)||void 0===l?void 0:l.position)&&void 0!==o?o:"left"},hideEndzones:!0,preferredSeriesType:"line",valueLabels:"hide",emphasizeFitting:null!==(c=null==e?void 0:e.emphasizeFitting)&&void 0!==c&&c,fittingFunction:null!==(d=null==e?void 0:e.fittingFunction)&&void 0!==d?d:"None",yLeftExtent:{mode:null!==(u=null===(p=e.yBounds)||void 0===p?void 0:p.mode)&&void 0!==u?u:"full",lowerBound:null===(h=e.yBounds)||void 0===h?void 0:h.lowerBound,upperBound:null===(b=e.yBounds)||void 0===b?void 0:b.upperBound},tickLabelsVisibilitySettings:{x:!0,yLeft:!0,yRight:!0},labelsOrientation:{x:0,yLeft:0,yRight:0},gridlinesVisibilitySettings:{x:!0,yLeft:!0,yRight:!0},layers:e.layers.map(((e,t)=>{switch(e.type){case"annotation":return{layerId:`layer_${t}`,layerType:"annotations",annotations:e.events.map(((e,t)=>"datetime"in e?{type:"manual",id:`annotation_${t}`,icon:e.icon||"triangle",color:e.color||"blue",label:e.name,key:{type:"point_in_time",timestamp:e.datetime}}:{id:`event${t}`,type:"query",icon:e.icon||"triangle",color:e.color||"blue",label:e.name,key:{type:"point_in_time"},filter:{type:"kibana_query",query:e.filter,language:"kuery"},...e.field?{timeField:e.field}:{}})),ignoreGlobalFilters:!0};case"reference":return{layerId:`layer_${t}`,layerType:"referenceLine",accessors:e.yAxis.map(((e,a)=>`${Ke}${t}_${a}`)),yConfig:e.yAxis.map(((e,a)=>({forAccessor:`${Ke}${t}_${a}`,axisMode:"left",color:e.seriesColor})))};case"series":return{layerId:`layer_${t}`,layerType:"data",xAccessor:`x_${Ke}${t}`,...e.breakdown?{splitAccessor:`y_${Ke}${t}`}:{},accessors:e.yAxis.map(((e,a)=>`${Ke}${t}_${a}`)),seriesType:e.seriesType||"line"}}}))}}function Ye(e,t){if(e.breakdown&&"string"!=typeof e.breakdown)throw new Error("breakdown must be a field name when not using index source");if("string"!=typeof e.xAxis)throw new Error("xAxis must be a field name when not using index source");return[...e.breakdown?[pe(`${Ke}${t}_breakdown`,e.breakdown)]:[],pe(`x_${Ke}${t}`,e.xAxis),...e.yAxis.map(((e,a)=>({...pe(`${Ke}${t}_${a}`,e.value,"number")})))]}function Qe(e,t,a,r){return e.yAxis.reduce(((e,n,s)=>{const i=ce(`${Ke}${t}_${s}`,J(n),a,r,s>0?e:void 0);return{...e,...i}}),{})}async function Je(e,{dataViewsAPI:t,formulaAPI:a}){const r={},n=await se(e,r,((e,t,r)=>function(e,t,a,r){if("series"===e.type){const n=Qe(e,t,a,r);if(e.xAxis){const r=`x_${Ke}${t}`,s=ue({options:e.xAxis,dataView:a});ie(n,r,s,!0)}if(e.breakdown){const r=`y_${Ke}${t}`,s=ue({options:e.breakdown,dataView:a});ie(n,r,s,!0)}return n}if("annotation"===e.type);else if("reference"===e.type)return Qe(e,t,a,r);return{columns:{},columnOrder:[]}}(e,t,r,a)),Ye,t),s=Z(r);return{title:e.title,visualizationType:"lnsXY",references:s,state:{datasourceStates:n,internalReferences:[],filters:[],query:{language:"kuery",query:""},visualization:We(e),adHocDataViews:ee(r)}}}class config_builder_LensConfigBuilder{constructor(e,t){B()(this,"charts",{metric:Ie,tagcloud:ge,treemap:xe,pie:xe,donut:xe,gauge:Le,heatmap:De,mosaic:xe,regionmap:Ve,xy:Je,table:ze}),B()(this,"formulaAPI",void 0),B()(this,"dataViewsAPI",void 0),this.formulaAPI=t,this.dataViewsAPI=e}async build(e,t={}){const{chartType:a}=e,r=await this.charts[a](e,{formulaAPI:this.formulaAPI,dataViewsAPI:this.dataViewsAPI}),n={...r,state:{...r.state,filters:t.filters||[],query:t.query||{language:"kuery",query:""}}};return t.embeddable?{id:Object(K.v4)(),attributes:n,timeRange:t.timeRange,references:n.references}:n}}const Ze=["xy","pie","heatmap","metric","gauge","donut","mosaic","regionmap","table","tagcloud","treemap"];var et=a(3);const tt=Object(o.createContext)(null),at=()=>{const e=Object(o.useContext)(tt);if(null==e)throw new Error("useDashboardAPI must be used inside DashboardAPIContext");return e};function rt({savedDashboardId:e,embedSettings:t,redirectTo:a,history:r}){const[s,b]=Object(o.useState)(!1);n()((()=>{(async()=>{b(await Object(h.b)())})()}));const[m,f]=Object(o.useState)(null),{screenshotMode:{isScreenshotMode:g,getScreenshotContext:y},coreContext:{executionContext:E},embeddable:{getStateTransfer:v},notifications:{toasts:O},settings:{uiSettings:I},data:{search:N,dataViews:P},customBranding:U,share:{url:F},observabilityAIAssistant:B}=w.pluginServices.getServices(),G=i()(U.hasCustomBranding$,!1),{scopedHistory:V}=Object(L.b)();!function({observabilityAIAssistant:e,dashboardAPI:t,search:a,dataViews:r}){Object(o.useEffect)((()=>{if(!e)return;const{service:{setScreenContext:n},createScreenContextAction:s}=e;return n({screenDescription:"The user is looking at the dashboard app. Here they can add visualizations to a dashboard and save them",actions:t?[s({name:"add_to_dashboard",description:"Add an ES|QL visualization to the current dashboard. Pick a single chart type, and based on the chart type, the corresponding key for `layers`. E.g., when you select type:metric, fill in only layers.metric.",parameters:{type:"object",properties:{esql:{type:"object",properties:{query:{type:"string",description:'The ES|QL query for this visualization. Use the "query" function to generate ES|QL first and then add it here.'}},required:["query"]},type:{type:"string",description:"The type of chart",enum:Ze},layers:{type:"object",properties:{xy:{type:"object",properties:{xAxis:{type:"string"},yAxis:{type:"string"},type:{type:"string",enum:["line","bar","area"]}}},donut:{type:"object",properties:{breakdown:{type:"string"}}},metric:{type:"object"},gauge:{type:"object"},pie:{type:"object",properties:{breakdown:{type:"string"}}},heatmap:{type:"object",properties:{xAxis:{type:"string"},breakdown:{type:"string"}},required:["xAxis"]},mosaic:{type:"object",properties:{breakdown:{type:"string"}},required:["breakdown"]},regionmap:{type:"object",properties:{breakdown:{type:"string"}},required:["breakdown"]},table:{type:"object"},tagcloud:{type:"object",properties:{breakdown:{type:"string"}},required:["breakdown"]},treemap:{type:"object",properties:{breakdown:{type:"string"}}}}},title:{type:"string",description:"An optional title for the visualization."}},required:["esql","type"]}},(async({args:e,signal:n})=>{var s,i,o,l,c,d,u,p,h,b,m,f;const{title:g="",type:y="xy",layers:E,esql:{query:v}}=e,[w]=await Promise.all([z({esqlQuery:v,search:a.search,signal:n})]),O=new config_builder_LensConfigBuilder(r);let T;const I=null===(s=w.find((e=>"number"===e.meta.type)))||void 0===s?void 0:s.id,A={esql:v};switch(y){default:case"xy":T={chartType:"xy",layers:[{seriesType:(null==E||null===(i=E.xy)||void 0===i?void 0:i.type)||"line",type:"series",xAxis:(null==E||null===(o=E.xy)||void 0===o?void 0:o.xAxis)||"@timestamp",yAxis:[{value:(null==E||null===(l=E.xy)||void 0===l?void 0:l.yAxis)||I}]}],dataset:A,title:g};break;case"donut":T={chartType:y,title:g,value:I,breakdown:[null==E||null===(c=E.donut)||void 0===c?void 0:c.breakdown],dataset:A};break;case"pie":T={chartType:y,title:g,value:I,breakdown:[null==E||null===(d=E.pie)||void 0===d?void 0:d.breakdown],dataset:A};break;case"metric":case"gauge":case"table":T={chartType:y,title:g,value:I,dataset:A};break;case"heatmap":T={chartType:y,title:g,value:I,breakdown:null==E||null===(u=E.heatmap)||void 0===u?void 0:u.breakdown,xAxis:(null==E||null===(p=E.heatmap)||void 0===p?void 0:p.xAxis)||"@timestamp",dataset:A};break;case"mosaic":T={chartType:y,title:g,value:I,breakdown:[(null==E||null===(h=E.mosaic)||void 0===h?void 0:h.breakdown)||"@timestamp"],dataset:A};break;case"regionmap":T={chartType:y,title:g,value:I,breakdown:null==E||null===(b=E.regionmap)||void 0===b?void 0:b.breakdown,dataset:A};break;case"tagcloud":T={chartType:y,title:g,value:I,breakdown:null==E||null===(m=E.tagcloud)||void 0===m?void 0:m.breakdown,dataset:A};break;case"treemap":T={chartType:y,title:g,value:I,breakdown:[(null==E||null===(f=E.treemap)||void 0===f?void 0:f.breakdown)||"@timestamp"],dataset:A}}const S=await O.build(T,{embeddable:!0,query:A});return t.addNewPanel({panelType:"lens",initialState:S}).then((()=>({content:"Visualization successfully added to dashboard"}))).catch((e=>({content:{error:e}})))}))]:[]})}),[e,t,a,r])}({observabilityAIAssistant:B.start,dashboardAPI:m,search:N,dataViews:P}),Object(d.useExecutionContext)(E,{type:"application",page:"app",id:e||"new"});const q=Object(o.useMemo)((()=>Object(u.createKbnUrlStateStorage)({history:r,useHash:I.get("state:storeInSessionStorage"),...Object(u.withNotifyOnErrors)(O)})),[O,r,I]);Object(o.useEffect)((()=>()=>{N.session.clear()}),[N.session]);const{validateOutcome:H,getLegacyConflictWarning:X}=M(),K=Object(o.useCallback)((()=>{const e=x(r);return Promise.resolve({getIncomingEmbeddable:()=>v().getIncomingEmbeddablePackage(T.c,!0),useControlGroupIntegration:!0,useSessionStorageIntegration:!0,useUnifiedSearchIntegration:!0,unifiedSearchSettings:{kbnUrlStateStorage:q},useSearchSessionsIntegration:!0,searchSessionSettings:{createSessionRestorationDataProvider:$,sessionIdToRestore:e,sessionIdUrlChangeObservable:R(r),getSearchSessionIdFromURL:()=>x(r),removeSessionIdFromUrl:()=>_(q)},getInitialInput:()=>{const e=k(V);return{...A(q),...e,...g()&&"print"===y("layout")?{viewMode:c.ViewMode.PRINT}:{}}},validateLoadedSavedObject:H,isEmbeddedExternally:Boolean(t),getEmbeddableAppContext:e=>({currentAppId:T.c,getCurrentPath:()=>`#${Object(T.y)(e)}`})})}),[r,t,H,V,g,v,q,y]);Object(o.useEffect)((()=>{if(!m)return;const{stopWatchingAppStateInUrl:e}=S({kbnUrlStateStorage:q,dashboardAPI:m});return()=>e()}),[m,q,e]);const W=Object(o.useMemo)((()=>null==F?void 0:F.locators.get(p.a)),[F]);return Object(et.jsx)(l.a.Fragment,null,s&&Object(et.jsx)(h.a,{onDataViewCreated:()=>b(!1)}),!s&&Object(et.jsx)(l.a.Fragment,null,m&&Object(et.jsx)(l.a.Fragment,null,Object(et.jsx)(D,{dashboardContainer:m}),Object(et.jsx)(C.a,{redirectTo:a,embedSettings:t,dashboardContainer:m})),null==X?void 0:X(),Object(et.jsx)(j.DashboardRenderer,{locator:W,ref:f,dashboardRedirect:a,savedObjectId:e,showPlainSpinner:G,getCreationOptions:K})))}},89:function(e,t,a){const r=a(117);e.exports=(e,t,a)=>new r(e,a).compare(new r(t,a))},95:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var r=a(2);const n=Object(r.createContext)({restorePreviousUrl:()=>{},scopedHistory:()=>({}),onAppLeave:e=>{},setHeaderActionMenu:e=>{}}),s=()=>Object(r.useContext)(n)}}]);