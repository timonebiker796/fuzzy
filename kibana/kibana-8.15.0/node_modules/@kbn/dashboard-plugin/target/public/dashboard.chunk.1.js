(window.dashboard_bundle_jsonpfunction=window.dashboard_bundle_jsonpfunction||[]).push([[1],{102:function(e,t,a){"use strict";a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return u})),a(2);var n=a(5),s=a(8),i=a(88),r=a(25),o=a(103),l=a(3);const c=(e,t=s.ViewMode.EDIT)=>{const{overlays:{openConfirm:a}}=r.pluginServices.getServices();a(o.g.getResetSubtitle(t),{confirmButtonText:o.g.getResetConfirmButtonText(),buttonColor:t===s.ViewMode.EDIT?"danger":"primary",maxWidth:500,defaultFocusedButton:n.EUI_MODAL_CANCEL_BUTTON,title:o.g.getResetTitle()}).then((t=>{t&&e()}))},u=(e,t)=>{const a="confirmDiscardOrKeepTitle",s="confirmDiscardOrKeepDescription",{analytics:c,settings:{i18n:u,theme:d},overlays:{openModal:b}}=r.pluginServices.getServices(),g=b(Object(i.a)(Object(l.jsx)(n.EuiFocusTrap,{clickOutsideDisables:!0,initialFocus:".dashboardCreateConfirmContinueButton"},Object(l.jsx)(n.EuiOutsideClickDetector,{onOutsideClick:()=>g.close()},Object(l.jsx)("div",{role:"dialog","aria-modal":"true","aria-labelledby":a,"aria-describedby":s},Object(l.jsx)(n.EuiModalHeader,{"data-test-subj":"dashboardCreateConfirm"},Object(l.jsx)(n.EuiModalHeaderTitle,{id:a,component:"h2"},o.a.getCreateTitle())),Object(l.jsx)(n.EuiModalBody,null,Object(l.jsx)(n.EuiText,null,Object(l.jsx)("p",{id:s},o.a.getCreateSubtitle()))),Object(l.jsx)(n.EuiModalFooter,null,Object(l.jsx)(n.EuiButtonEmpty,{"data-test-subj":"dashboardCreateConfirmCancel",onClick:()=>g.close()},o.a.getCancelButtonText()),Object(l.jsx)(n.EuiButtonEmpty,{color:"danger","data-test-subj":"dashboardCreateConfirmStartOver",onClick:()=>{e(),g.close()}},o.a.getStartOverButtonText()),Object(l.jsx)(n.EuiButton,{fill:!0,"data-test-subj":"dashboardCreateConfirmContinue",className:"dashboardCreateConfirmContinueButton",onClick:()=>{t(),g.close()}},o.a.getContinueButtonText()))))),{analytics:c,i18n:u,theme:d}),{"data-test-subj":"dashboardCreateConfirmModal"})}},103:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"e",(function(){return r})),a.d(t,"c",(function(){return o})),a.d(t,"f",(function(){return l})),a.d(t,"d",(function(){return c})),a.d(t,"g",(function(){return u})),a.d(t,"a",(function(){return d}));var n=a(8),s=a(0);const i={getErrorDeletingDashboardToast:()=>s.i18n.translate("dashboard.deleteError.toastDescription",{defaultMessage:"Error encountered while deleting dashboard"}),getDuplicateTitleWarning:e=>s.i18n.translate("dashboard.dashboardListingEditErrorTitle.duplicateWarning",{defaultMessage:'Saving "{value}" creates a duplicate title',values:{value:e}})},r=()=>s.i18n.translate("dashboard.listing.newDashboardTitle",{defaultMessage:"New Dashboard"}),o={getEntityName:()=>s.i18n.translate("dashboard.listing.table.entityName",{defaultMessage:"dashboard"}),getEntityNamePlural:()=>s.i18n.translate("dashboard.listing.table.entityNamePlural",{defaultMessage:"dashboards"}),getTableListTitle:()=>s.i18n.translate("dashboard.listing.tableListTitle",{defaultMessage:"Dashboards"})},l={getReadonlyTitle:()=>s.i18n.translate("dashboard.listing.readonlyNoItemsTitle",{defaultMessage:"No dashboards to view"}),getReadonlyBody:()=>s.i18n.translate("dashboard.listing.readonlyNoItemsBody",{defaultMessage:"There are no available dashboards. To change your permissions to view the dashboards in this space, contact your administrator."}),getReadEditTitle:()=>s.i18n.translate("dashboard.listing.createNewDashboard.title",{defaultMessage:"Create your first dashboard"}),getReadEditInProgressTitle:()=>s.i18n.translate("dashboard.listing.createNewDashboard.inProgressTitle",{defaultMessage:"Dashboard in progress"}),getReadEditDashboardDescription:()=>s.i18n.translate("dashboard.listing.createNewDashboard.combineDataViewFromKibanaAppDescription",{defaultMessage:"Analyze all of your Elastic data in one place by creating a dashboard and adding visualizations."}),getSampleDataLinkText:()=>s.i18n.translate("dashboard.listing.createNewDashboard.sampleDataInstallLinkText",{defaultMessage:"Add some sample data"}),getCreateNewDashboardText:()=>s.i18n.translate("dashboard.listing.createNewDashboard.createButtonLabel",{defaultMessage:"Create a dashboard"})},c={getUnsavedChangesTitle:(e=!1)=>s.i18n.translate("dashboard.listing.unsaved.unsavedChangesTitle",{defaultMessage:"You have unsaved changes in the following {dash}:",values:{dash:e?o.getEntityNamePlural():o.getEntityName()}}),getLoadingTitle:()=>s.i18n.translate("dashboard.listing.unsaved.loading",{defaultMessage:"Loading"}),getEditAriaLabel:e=>s.i18n.translate("dashboard.listing.unsaved.editAria",{defaultMessage:"Continue editing {title}",values:{title:e}}),getEditTitle:()=>s.i18n.translate("dashboard.listing.unsaved.editTitle",{defaultMessage:"Continue editing"}),getDiscardAriaLabel:e=>s.i18n.translate("dashboard.listing.unsaved.resetAria",{defaultMessage:"Reset changes to {title}",values:{title:e}}),getDiscardTitle:()=>s.i18n.translate("dashboard.listing.unsaved.resetTitle",{defaultMessage:"Reset changes"})},u={getResetTitle:()=>s.i18n.translate("dashboard.resetChangesConfirmModal.resetChangesTitle",{defaultMessage:"Reset dashboard?"}),getResetSubtitle:e=>e===n.ViewMode.EDIT?s.i18n.translate("dashboard.discardChangesConfirmModal.discardChangesDescription",{defaultMessage:"All unsaved changes will be lost."}):s.i18n.translate("dashboard.resetChangesConfirmModal.resetChangesDescription",{defaultMessage:"This dashboard will return to its last saved state.  You might lose changes to filters and queries."}),getResetConfirmButtonText:()=>s.i18n.translate("dashboard.resetChangesConfirmModal.confirmButtonLabel",{defaultMessage:"Reset dashboard"})},d={getCreateTitle:()=>s.i18n.translate("dashboard.createConfirmModal.unsavedChangesTitle",{defaultMessage:"New dashboard already in progress"}),getCreateSubtitle:()=>s.i18n.translate("dashboard.createConfirmModal.unsavedChangesSubtitle",{defaultMessage:"Continue editing or start over with a blank dashboard."}),getStartOverButtonText:()=>s.i18n.translate("dashboard.createConfirmModal.confirmButtonLabel",{defaultMessage:"Start over"}),getContinueButtonText:()=>s.i18n.translate("dashboard.createConfirmModal.continueButtonLabel",{defaultMessage:"Continue editing"}),getCancelButtonText:()=>s.i18n.translate("dashboard.createConfirmModal.cancelButtonLabel",{defaultMessage:"Cancel"})}},109:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));a(2),a(3);a(90),a(91);const n="performance_metric";function s(e,t){e.reportEvent(n,t)}},111:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(2),s="undefined"!=typeof window?n.useLayoutEffect:n.useEffect;t.default=s},112:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setEuiDevProviderWarning=t.getEuiDevProviderWarning=t.emitEuiProviderWarning=void 0;var n=void 0;t.setEuiDevProviderWarning=function(e){return n=e},t.getEuiDevProviderWarning=function(){return n},t.emitEuiProviderWarning=function(e){if("function"==typeof n)return n(e);switch(n){case"log":console.log(e);break;case"warn":console.warn(e);break;case"error":throw new Error(e)}}},118:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(77),s=a.n(n),i=a(5),r=(a(2),a(119)),o=a(3);const l=({user:e,avatar:t,...a})=>{const{euiTheme:n}=Object(i.useEuiTheme)();if(!e)return Object(o.jsx)(i.EuiAvatar,s()({name:"",color:n.colors.lightestShade,initials:"?"},a));const l=Object(r.d)(e);return null!=t&&t.imageUrl?Object(o.jsx)(i.EuiAvatar,s()({name:l,imageUrl:t.imageUrl,color:"plain"},a)):Object(o.jsx)(i.EuiAvatar,s()({name:l,initials:Object(r.c)(e,t),initialsLength:r.a,color:Object(r.b)(e,t)},a))}},119:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return o})),a.d(t,"e",(function(){return l})),a.d(t,"d",(function(){return c}));var n=a(5);const s=97,i=2;function r(e,t){if(t&&t.color)return t.color;const a=l(e).codePointAt(0)||s;return n.VISUALIZATION_COLORS[a%n.VISUALIZATION_COLORS.length]}function o(e,t){if(t&&t.initials)return t.initials;const a=l(e).split(" "),n=Math.min(i,a.length);return a.splice(n,a.length),a.map((e=>e.substring(0,1))).join("")}function l(e){return e.full_name||e.email||e.username}function c(e){const t=l(e);return e.email&&e.email!==t?`${t} (${e.email})`:t}},130:function(e,t,a){"use strict";a.d(t,"b",(function(){return ve})),a.d(t,"a",(function(){return S}));var n=a(2),s=a.n(n),i=a(213),r=a.n(i),o=a(5),l=a(6),c=a(0),u=a(48),d=a(367),b=a(98),g=a(88),p=a(3);const m=s.a.createContext(null),f=({children:e,...t})=>Object(p.jsx)(m.Provider,{value:t},e),j=({children:e,...t})=>{const{core:a,savedObjectsTagging:s}=t,{overlays:i,notifications:r,...o}=a,{openFlyout:l}=i,c=Object(n.useMemo)((()=>({references:e})=>{if(null==s||!s.ui.components.TagList)return null;const t=s.ui.components.TagList;return Object(p.jsx)(t,{object:{references:e}})}),[null==s?void 0:s.ui.components.TagList]),u=Object(b.i)(),d=Object(n.useCallback)(((e,t)=>l(Object(g.a)(Object(p.jsx)(b.f,u,e),o),t)),[l,o,u]);return Object(p.jsx)(f,{openFlyout:d,notifyError:(e,t)=>{r.toasts.addDanger({title:Object(g.a)(e,o),text:t})},TagList:c,TagSelector:null==s?void 0:s.ui.components.SavedObjectSaveModalTagSelector},e)};var h=a(77),v=a.n(h);const x=e=>{const[t,i]=Object(n.useState)(null),r=Object(n.useCallback)((async()=>{const{ContentEditorFlyoutContentContainer:e}=await a.e(9).then(a.bind(null,364));i((()=>e))}),[]);return Object(n.useEffect)((()=>{r()}),[r]),t?Object(p.jsx)(t,e):Object(p.jsx)(s.a.Fragment,null,Object(p.jsx)(o.EuiFlyoutHeader,null),Object(p.jsx)(o.EuiFlyoutBody,null),Object(p.jsx)(o.EuiFlyoutFooter,null))};var O=a(138);const y=s.a.createContext(null),C=({children:e,...t})=>Object(p.jsx)(y.Provider,{value:t},e),S=({children:e,...t})=>{var a;const{core:s,savedObjectsTagging:i,FormattedRelative:r}=t,{application:o,http:l,notifications:c,...u}=s,d=Object(n.useMemo)((()=>{if(i)return async e=>{const t=await i.ui.parseSearchQuery(e,{useName:!0});return{searchQuery:t.searchTerm,references:t.tagReferences,referencesToExclude:t.tagReferencesToExclude}}}),[i]),m=Object(n.useMemo)((()=>({references:e,onClick:t,tagRender:a})=>{if(null==i||!i.ui.components.TagList)return null;const n=i.ui.components.TagList;return Object(p.jsx)(n,{object:{references:e},onClick:t,tagRender:a})}),[null==i?void 0:i.ui.components.TagList]),f=Object(n.useCallback)((e=>null!=i&&i.ui.getTagIdsFromReferences?i.ui.getTagIdsFromReferences(e):[]),[null==i?void 0:i.ui]),h=Object(n.useCallback)((()=>null!=i&&i.ui.getTagList?i.ui.getTagList():[]),[null==i?void 0:i.ui]),v=Object(n.useCallback)((e=>f(e).length>0),[f]);return Object(p.jsx)(O.a,{coreStart:s},Object(p.jsx)(b.e,{core:s},Object(p.jsx)(j,{core:s,savedObjectsTagging:i},Object(p.jsx)(C,{canEditAdvancedSettings:Boolean(null===(a=o.capabilities.advancedSettings)||void 0===a?void 0:a.save),getListingLimitSettingsUrl:()=>o.getUrlForApp("management",{path:"/kibana/settings?query=savedObjects:listingLimit"}),notifyError:(e,t)=>{c.toasts.addDanger({title:Object(g.a)(e,u),text:t})},searchQueryParser:d,DateFormatterComp:e=>Object(p.jsx)(r,e),currentAppId$:o.currentAppId$,navigateToUrl:o.navigateToUrl,isTaggingEnabled:()=>Boolean(i),getTagList:h,TagList:m,itemHasTags:v,getTagIdsFromReferences:f,getTagManagementUrl:()=>s.http.basePath.prepend("/app/management/kibana/tags")},e))))};function k(){const e=Object(n.useContext)(y);if(!e)throw new Error("TableListViewContext is missing. Ensure your component or React root is wrapped with <TableListViewProvider /> or <TableListViewKibanaProvider />.");return e}const E={nameAscSort:c.i18n.translate("contentManagement.tableList.listing.tableSortSelect.nameAscLabel",{defaultMessage:"Name A-Z"}),nameDescSort:c.i18n.translate("contentManagement.tableList.listing.tableSortSelect.nameDescLabel",{defaultMessage:"Name Z-A"}),updatedAtAscSort:c.i18n.translate("contentManagement.tableList.listing.tableSortSelect.updatedAtAscLabel",{defaultMessage:"Least recently updated"}),updatedAtDescSort:c.i18n.translate("contentManagement.tableList.listing.tableSortSelect.updatedAtDescLabel",{defaultMessage:"Recently updated"}),headerSort:c.i18n.translate("contentManagement.tableList.listing.tableSortSelect.headerLabel",{defaultMessage:"Sort by"})};function M({tableSort:e,hasUpdatedAtMetadata:t,onChange:a}){var i,r;const{euiTheme:l}=Object(o.useEuiTheme)(),[c,u]=Object(n.useState)(!1),[d,b]=Object(n.useState)((()=>{let e=[{label:E.nameAscSort,column:"attributes.title",direction:"asc",append:Object(p.jsx)(o.EuiIcon,{type:"sortUp"})},{label:E.nameDescSort,column:"attributes.title",direction:"desc",append:Object(p.jsx)(o.EuiIcon,{type:"sortDown"})}];return t&&(e=e.concat([{label:E.updatedAtDescSort,column:"updatedAt",direction:"desc",append:Object(p.jsx)(o.EuiIcon,{type:"sortDown"})},{label:E.updatedAtAscSort,column:"updatedAt",direction:"asc",append:Object(p.jsx)(o.EuiIcon,{type:"sortUp"})}])),e})),g=null!==(i=null===(r=d.find((({checked:e})=>"on"===e)))||void 0===r?void 0:r.label)&&void 0!==i?i:"",m=Object(p.css)("border-bottom:",l.border.thin,";font-weight:",600,";padding:",l.size.s,";",""),f=Object(p.jsx)(o.EuiFilterButton,{iconType:"arrowDown",iconSide:"right",onClick:()=>{u((e=>!e))},"data-test-subj":"tableSortSelectBtn",grow:!0},g);return Object(n.useEffect)((()=>{b((t=>t.map((t=>{const a=t.column===e.field&&t.direction===e.direction?"on":void 0;return{...t,checked:a}}))))}),[e]),Object(p.jsx)(o.EuiPopover,{button:f,isOpen:c,closePopover:()=>{u(!1)},panelPaddingSize:"none",anchorPosition:"downCenter",panelProps:{css:{width:18*l.base}}},Object(p.jsx)(s.a.Fragment,null,Object(p.jsx)(o.EuiText,{css:m},E.headerSort),Object(p.jsx)(o.EuiSelectable,{singleSelection:!0,"aria-label":"some aria label",options:d,onChange:e=>{b(e);const t=e.find((({checked:e})=>"on"===e));t&&a&&a(t.column,t.direction)},"data-test-subj":"sortSelect"},(e=>e))))}const T=e=>`tableSort:${e}`;function w(e,t){try{localStorage.setItem(T(e),JSON.stringify(t))}catch(e){}}var I=a(351);const N=({children:e,...t})=>{if(void 0!==t.coreStart){const{coreStart:a,...n}=t,s=Object(p.jsx)(I.a,n,e);return Object(p.jsx)(O.a,{coreStart:a},s)}const{navigateToUrl:a,currentAppId:n,...s}=t,i=Object(p.jsx)(I.a,s,e);return Object(p.jsx)(O.b,{currentAppId:n,navigateToUrl:a},i)},L=navigator.platform.toLowerCase().indexOf("mac")>=0?"⌘":"^",F={name:"pit38s",styles:"height:auto"},P={name:"1d3w5wq",styles:"width:100%"},B=({isPopoverOpen:e,isInUse:t,options:a,totalActiveFilters:n,onFilterButtonClick:i,onSelectChange:r,closePopover:l,clearTagSelection:u})=>{const{euiTheme:d}=Object(o.useEuiTheme)(),{navigateToUrl:b,currentAppId$:g,getTagManagementUrl:m}=k(),f=a.length>10,j=Object(p.css)("padding:",d.size.s,";border-bottom:",d.border.thin,";",""),h=Object(p.css)("height:",d.size.xxxl,";","");let x={searchable:!1};return f&&(x={searchable:!0,searchProps:{compressed:!0}}),Object(p.jsx)(s.a.Fragment,null,Object(p.jsx)(o.EuiPopover,{button:Object(p.jsx)(o.EuiFilterButton,{iconType:"arrowDown",iconSide:"right",onClick:i,"data-test-subj":"tagFilterPopoverButton",hasActiveFilters:n>0,numActiveFilters:n,grow:!0},"Tags"),isOpen:e,closePopover:l,panelPaddingSize:"none",anchorPosition:"downCenter",panelProps:{css:{width:18*d.base}},panelStyle:t?{transition:"none"}:void 0},Object(p.jsx)(o.EuiPopoverTitle,{paddingSize:"m",css:h},Object(p.jsx)(o.EuiFlexGroup,null,Object(p.jsx)(o.EuiFlexItem,null,"Tags"),Object(p.jsx)(o.EuiFlexItem,{grow:!1},n>0&&Object(p.jsx)(o.EuiButtonEmpty,{flush:"both",onClick:u,css:F},c.i18n.translate("contentManagement.tableList.tagFilterPanel.clearSelectionButtonLabelLabel",{defaultMessage:"Clear selection"}))))),Object(p.jsx)(o.EuiSelectable,v()({singleSelection:!1,"aria-label":"some aria label",options:a,renderOption:e=>e.view,emptyMessage:"There aren't any tags",noMatchesMessage:"No tag matches the search",onChange:r,"data-test-subj":"tagSelectableList"},x),((e,t)=>Object(p.jsx)(s.a.Fragment,null,f?Object(p.jsx)("div",{css:j},t):Object(p.jsx)(o.EuiSpacer,{size:"s"}),e))),Object(p.jsx)(o.EuiPopoverFooter,{paddingSize:"m"},Object(p.jsx)(o.EuiFlexGroup,{direction:"column",alignItems:"center",gutterSize:"s"},Object(p.jsx)(o.EuiFlexItem,null,Object(p.jsx)(o.EuiText,{size:"xs"},Object(p.jsx)(o.EuiTextColor,{color:"dimgrey"},c.i18n.translate("contentManagement.tableList.tagFilterPanel.modifierKeyHelpText",{defaultMessage:"{modifierKeyPrefix} + click exclude",values:{modifierKeyPrefix:L}})))),Object(p.jsx)(o.EuiFlexItem,{css:P},Object(p.jsx)(o.EuiButton,{onClick:l},c.i18n.translate("contentManagement.tableList.tagFilterPanel.doneButtonLabel",{defaultMessage:"Done"}))),Object(p.jsx)(o.EuiFlexItem,null,Object(p.jsx)(N,{coreStart:{application:{navigateToUrl:b,currentAppId$:g}}},Object(p.jsx)(o.EuiLink,{href:m(),"data-test-subj":"manageAllTagsLink",external:!0},c.i18n.translate("contentManagement.tableList.tagFilterPanel.manageAllTagsLinkLabel",{defaultMessage:"Manage tags"}))))))))},D=navigator.platform.toLowerCase().indexOf("mac")>=0,A=e=>Array.isArray(e)?e:[e],_=e=>e.replace(" ","_"),R=({query:e,tagsToTableItemMap:t,getTagList:a,addOrRemoveExcludeTagFilter:s,addOrRemoveIncludeTagFilter:i})=>{const[r,l]=Object(n.useState)(!1),[c,u]=Object(n.useState)(!1),[d,b]=Object(n.useState)([]),[g,m]=Object(n.useState)({}),f=Object.keys(g).length,j=Object(n.useCallback)((e=>{const t=e.find(((e,t)=>e.checked!==d[t].checked));t&&i(t.tag)}),[d,i]),h=Object(n.useCallback)((e=>t=>{D&&t.metaKey||!D&&t.ctrlKey?s(e):i(e)}),[i,s]),v=Object(n.useCallback)((()=>{const e=a().map((e=>{var a,n;const{name:s,id:i,color:r}=e;let l;return g[s]&&(l="include"===g[s]?"on":"off"),{name:s,label:s,value:null!=i?i:"",tag:e,checked:l,view:Object(p.jsx)(o.EuiFlexGroup,{gutterSize:"xs",justifyContent:"spaceBetween"},Object(p.jsx)(o.EuiFlexItem,null,Object(p.jsx)(o.EuiHealth,{color:r,"data-test-subj":`tag-searchbar-option-${_(s)}`,onClick:h(e)},Object(p.jsx)(o.EuiText,null,s))),Object(p.jsx)(o.EuiFlexItem,{grow:!1},Object(p.jsx)(o.EuiBadge,{color:void 0!==l?"accent":void 0},null!==(a=null===(n=t[null!=i?i:""])||void 0===n?void 0:n.length)&&void 0!==a?a:0)))}}));b(e)}),[a,t,g,h]),x=Object(n.useCallback)((()=>{l((e=>!e))}),[]),O=Object(n.useCallback)((()=>{l(!1)}),[]);return Object(n.useEffect)((()=>{if(e){const t=e.ast.getOrFieldClause("tag",void 0,!0,"eq"),a=e.ast.getOrFieldClause("tag",void 0,!1,"eq"),n={};t&&A(t.value).forEach((e=>{n[e]="include"})),a&&A(a.value).forEach((e=>{n[e]="exclude"})),m(n)}}),[e]),Object(n.useEffect)((()=>{r?(v(),setTimeout((()=>{u(!0)}),250)):u(!1)}),[r,v]),{isPopoverOpen:r,isInUse:c,options:d,totalActiveFilters:f,onFilterButtonClick:x,onSelectChange:j,closePopover:O}};var U=a(119),z=a(118);const $="null",q=({selectedOptions:e,defaultOptions:t,options:a,onChange:i,onSearchChange:r,isLoading:l=!1,singleSelection:d=!1,limit:b,height:g,loadingMessage:m,noMatchesMessage:f,emptyMessage:j,errorMessage:h,searchPlaceholder:v,searchInputId:x,selectedStatusMessage:O,limitReachedMessage:y,nullOptionLabel:C,nullOptionProps:S,defaultOptionsLabel:k,clearButtonLabel:E,...M})=>{const[T,w]=Object(n.useState)([]),[I,N]=Object(n.useState)(""),L=e?e.length:0,F=!!b&&L>=b,P=()=>{a||w((a=>{const n=[...a],s=e?e.filter((e=>!n.find((t=>V(t,e))))).map((e=>W(e,C,S))):[],i=t?t.filter((e=>!n.find((t=>V(t,e)))&&!s.find((t=>V(t,e))))).map((e=>W(e,C,S))):[];if(i.length){const e=(e=>{let t=e.findIndex((e=>e.isGroupLabel));return-1===t&&(t=e.push({label:null!=k?k:c.i18n.translate("userProfileComponents.userProfilesSelectable.defaultOptionsLabel",{defaultMessage:"Suggested"}),isGroupLabel:!0})-1),t})(n);n.splice(e,0,...s),n.push(...i)}else n.push(...s);return n}))};return Object(n.useEffect)((()=>{a?w(a.map((e=>W(e,C,S)))):(w([]),P())}),[a]),Object(n.useEffect)(P,[t,e]),Object(n.useEffect)((()=>{w((t=>t.map((t=>{if(e){var a;const n=void 0===e.find((e=>V(t,e)))?void 0:"on",s=!n&&F;return{...t,checked:n,disabled:s,prepend:t.data?Object(p.jsx)(z.a,{user:t.data.user,avatar:null===(a=t.data.data)||void 0===a?void 0:a.avatar,size:"s",isDisabled:s}):void 0}}return{...t,checked:void 0,disabled:void 0}}))))}),[a,t,e]),Object(p.jsx)(o.EuiSelectable,{"data-test-subj":M["data-test-subj"],options:T,onChange:t=>{if(!i)return;const a=t.filter((t=>!(t.isGroupLabel||"on"!==t.checked||e&&void 0!==e.find((e=>V(t,e)))))).map((e=>e.key===$?null:e.data));e&&!d&&e.forEach((e=>{const n=t.find((t=>V(t,e)));void 0!==n&&"on"!==n.checked||(n&&n.key===$?a.unshift(e):a.push(e))})),i(a)},style:{maxHeight:g},singleSelection:d,searchable:!0,searchProps:{placeholder:null!=v?v:c.i18n.translate("userProfileComponents.userProfilesSelectable.searchPlaceholder",{defaultMessage:"Search"}),value:I,onChange:e=>{N(e),null==r||r(e)},isLoading:l,isClearable:!l,id:x},isPreFiltered:!0,listProps:{onFocusBadge:!1,rowHeight:48},loadingMessage:m,noMatchesMessage:f,emptyMessage:j,errorMessage:h,renderOption:(e,t)=>{if(e.user){const a=Object(U.e)(e.user);return Object(p.jsx)(s.a.Fragment,null,Object(p.jsx)("div",{className:"eui-textTruncate"},Object(p.jsx)(o.EuiHighlight,{search:t},a)),e.user.email&&e.user.email!==a?Object(p.jsx)(o.EuiText,{size:"xs",color:e.disabled?"disabled":"subdued",className:"eui-textTruncate"},t?Object(p.jsx)(o.EuiHighlight,{search:t},e.user.email):e.user.email):void 0)}return Object(p.jsx)(o.EuiHighlight,{search:t},e.label)}},((e,t)=>Object(p.jsx)(s.a.Fragment,null,Object(p.jsx)(o.EuiPanel,{hasShadow:!1,paddingSize:"s"},t,d?void 0:Object(p.jsx)(s.a.Fragment,null,Object(p.jsx)(o.EuiSpacer,{size:"s"}),Object(p.jsx)(o.EuiFlexGroup,{alignItems:"center",justifyContent:"spaceBetween",gutterSize:"s",responsive:!1},Object(p.jsx)(o.EuiFlexItem,{grow:!1},Object(p.jsx)(o.EuiText,{size:"xs",color:"subdued"},O?O(L):Object(p.jsx)(u.FormattedMessage,{id:"userProfileComponents.userProfilesSelectable.selectedStatusMessage",defaultMessage:"{count, plural, one {# user selected} other {# users selected}}",values:{count:L}}))),Object(p.jsx)(o.EuiFlexItem,{grow:!1},L?Object(p.jsx)(o.EuiButtonEmpty,{size:"xs",flush:"right",onClick:()=>null==i?void 0:i([]),style:{height:"1rem"}},null!=E?E:Object(p.jsx)(u.FormattedMessage,{id:"userProfileComponents.userProfilesSelectable.clearButtonLabel",defaultMessage:"Remove all users"})):void 0)))),b&&L>=b?Object(p.jsx)(s.a.Fragment,null,Object(p.jsx)(o.EuiHorizontalRule,{margin:"none"}),Object(p.jsx)(o.EuiCallOut,{title:y?y(b):Object(p.jsx)(u.FormattedMessage,{id:"userProfileComponents.userProfilesSelectable.limitReachedMessage",defaultMessage:"You've selected the maximum of {count, plural, one {# user} other {# users}}",values:{count:b}}),color:"warning",size:"s"})):void 0,Object(p.jsx)(o.EuiHorizontalRule,{margin:"none"}),e)))};function W(e,t,a){return e?{key:e.uid,label:Object(U.d)(e.user),data:e,"data-test-subj":`userProfileSelectableOption-${e.user.username}`}:{key:$,label:null!=t?t:c.i18n.translate("userProfileComponents.userProfilesSelectable.nullOptionLabel",{defaultMessage:"No users"}),"data-test-subj":"userProfileSelectableOption-null",...a}}function V(e,t){return e.key===(t?t.uid:$)}const H=({title:e,selectableProps:t,...a})=>{const n=Object(o.useGeneratedHtmlId)({prefix:"searchInput",conditionalId:t.searchInputId});return Object(p.jsx)(o.EuiPopover,v()({panelPaddingSize:"none",initialFocus:`#${n}`},a),Object(p.jsx)(o.EuiContextMenuPanel,{title:e},Object(p.jsx)(q,v()({},t,{searchInputId:n}))))},G=s.a.createContext(null),Q=({children:e,...t})=>t.enabled?Object(p.jsx)(G.Provider,{value:t},e):Object(p.jsx)(s.a.Fragment,null,e),K="no-user",X=()=>{const{euiTheme:e}=Object(o.useEuiTheme)(),t=s.a.useContext(G);if(!t)throw new Error("UserFilterPanel must be used within a UserFilterContextProvider");const{onSelectedUsersChange:a,selectedUsers:n,showNoUserOption:i}=t,[r,l]=s.a.useState(!1),[d,g]=s.a.useState(""),m=Object(b.h)(t.allUsers,{enabled:r}),f=s.a.useMemo((()=>m.data?m.data.reduce(((e,t)=>(e[t.uid]=t,e)),{}):{}),[m.data]),j=s.a.useMemo((()=>{if(!m.data||0===m.data.length)return[];const e=i||n.includes(K)?[...m.data,null]:m.data;return d?e.filter((e=>{var t,a;return e?!!n.includes(e.uid)||(e.uid+e.user.username+(null!==(t=e.user.email)&&void 0!==t?t:"")+(null!==(a=e.user.full_name)&&void 0!==a?a:"")).toLowerCase().includes(d.toLowerCase()):n.includes(K)})):e}),[m.data,d,n,i]);return Object(p.jsx)(s.a.Fragment,null,Object(p.jsx)(H,{button:Object(p.jsx)(o.EuiFilterButton,{iconType:"arrowDown",iconSide:"right","data-test-subj":"userFilterPopoverButton",onClick:()=>l(!r),hasActiveFilters:n.length>0,numActiveFilters:n.length,grow:!0},Object(p.jsx)(u.FormattedMessage,{id:"contentManagement.tableList.listing.userFilter.filterLabel",defaultMessage:"Created by"})),isOpen:r,closePopover:()=>l(!1),selectableProps:{"data-test-subj":"userSelectableList",isLoading:m.isLoading,options:j,errorMessage:m.error?Object(p.jsx)(u.FormattedMessage,{id:"contentManagement.tableList.listing.userFilter.errorMessage",defaultMessage:"Failed to load users"}):void 0,emptyMessage:Object(p.jsx)("p",{"data-test-subj":"userFilterEmptyMessage"},Object(p.jsx)(u.FormattedMessage,{id:"contentManagement.tableList.listing.userFilter.emptyMessage",defaultMessage:"None of the dashboards have creators"}),Object(p.jsx)(b.b,null)),nullOptionLabel:c.i18n.translate("contentManagement.tableList.listing.userFilter.noCreators",{defaultMessage:"No creators"}),nullOptionProps:{append:Object(p.jsx)(b.b,null)},clearButtonLabel:Object(p.jsx)(u.FormattedMessage,{id:"contentManagement.tableList.listing.userFilter.clearFilterButtonLabel",defaultMessage:"Clear filter"}),selectedOptions:n.map((e=>{var t;return e===K?null:null!==(t=f[e])&&void 0!==t?t:{uid:e,user:{username:e}}})),onChange:e=>{a(e.map((e=>e?e.uid:K)))},onSearchChange:g},panelProps:{css:{minWidth:22*e.base}}}))};function Y({dispatch:e,items:t,isFetchingItems:a,searchQuery:i,selectedIds:r,pagination:l,tableColumns:d,tableSort:b,tableFilter:g,hasUpdatedAtMetadata:m,entityName:f,entityNamePlural:j,tagsToTableItemMap:h,tableItemsRowActions:v,deleteItems:x,renderCreateButton:O,tableCaption:y,onTableChange:C,onTableSearchChange:S,onSortChange:E,onFilterChange:T,addOrRemoveExcludeTagFilter:w,addOrRemoveIncludeTagFilter:I,clearTagSelection:N,createdByEnabled:L}){const{getTagList:F,isTaggingEnabled:P}=k(),D=Object(n.useCallback)((()=>{if(x&&0!==r.length)return Object(p.jsx)(o.EuiButton,{color:"danger",iconType:"trash",onClick:()=>e({type:"showConfirmDeleteItemsModal"}),"data-test-subj":"deleteSelectedItems"},Object(p.jsx)(u.FormattedMessage,{id:"contentManagement.tableList.listing.deleteButtonMessage",defaultMessage:"Delete {itemCount} {entityName}",values:{itemCount:r.length,entityName:1===r.length?f:j}}))}),[x,e,f,j,r.length]),A=Object(n.useMemo)((()=>{if(x)return{onSelectionChange:t=>{e({type:"onSelectionChange",data:t})},selectable:e=>{var t;const a=v[e.id];return!1!==(null==a||null===(t=a.delete)||void 0===t?void 0:t.enabled)},selectableMessage:(e,t)=>{if(!e){var a,n;const e=v[t.id];return null!==(a=null==e||null===(n=e.delete)||void 0===n?void 0:n.reason)&&void 0!==a?a:c.i18n.translate("contentManagement.tableList.actionsDisabledLabel",{defaultMessage:"Actions disabled for this item"})}return""},initialSelected:[]}}),[x,e,v]),{isPopoverOpen:_,isInUse:U,closePopover:z,onFilterButtonClick:$,onSelectChange:q,options:W,totalActiveFilters:V}=R({query:i.query,getTagList:F,tagsToTableItemMap:h,addOrRemoveExcludeTagFilter:w,addOrRemoveIncludeTagFilter:I}),H=Object(n.useMemo)((()=>({type:"custom_component",component:()=>Object(p.jsx)(M,{tableSort:b,hasUpdatedAtMetadata:m,onChange:E})})),[m,E,b]),G=Object(n.useMemo)((()=>P()?{type:"custom_component",component:()=>Object(p.jsx)(B,{isPopoverOpen:_,isInUse:U,closePopover:z,options:W,totalActiveFilters:V,onFilterButtonClick:$,onSelectChange:q,clearTagSelection:N})}:null),[_,U,P,z,W,V,$,q,N]),Y=Object(n.useMemo)((()=>L?{type:"custom_component",component:X}:null),[L]),Z=Object(n.useMemo)((()=>[H,G,Y].filter((e=>Boolean(e)))),[H,G,Y]),J=Object(n.useMemo)((()=>{var e;return{onChange:S,toolsLeft:D(),toolsRight:O(),query:null!==(e=i.query)&&void 0!==e?e:void 0,box:{incremental:!0,"data-test-subj":"tableListSearchBox"},filters:Z}}),[S,O,D,Z,i.query]),ee=Object(p.jsx)(u.FormattedMessage,{id:"contentManagement.tableList.listing.noMatchedItemsMessage",defaultMessage:"No {entityNamePlural} matched your search.",values:{entityNamePlural:j}}),te=s.a.useMemo((()=>{var e;return(null==g||null===(e=g.createdBy)||void 0===e?void 0:e.length)>0?t.filter((e=>e.createdBy?g.createdBy.includes(e.createdBy):!e.managed&&g.createdBy.includes(K))):t}),[t,g]),{allUsers:ae,showNoUserOption:ne}=Object(n.useMemo)((()=>{if(!L)return{allUsers:[],showNoUserOption:!1};let e=!1;const a=new Set;return t.forEach((t=>{t.createdBy?a.add(t.createdBy):t.managed||(e=!0)})),{allUsers:Array.from(a),showNoUserOption:e}}),[L,t]);return Object(p.jsx)(Q,{enabled:L,allUsers:ae,onSelectedUsersChange:e=>{T({createdBy:e})},selectedUsers:g.createdBy,showNoUserOption:ne},Object(p.jsx)(o.EuiInMemoryTable,{itemId:"id",items:te,columns:d,pagination:l,loading:a,message:ee,selection:A,search:J,executeQueryOptions:{enabled:!1},sorting:b?{sort:b}:void 0,onChange:C,"data-test-subj":"itemsInMemTable",rowHeader:"attributes.title",tableCaption:y}))}var Z=a(54),J=a.n(Z);const ee=({value:e,children:t})=>t(new Date(e).toDateString()),te=({dateTime:e,DateFormatterComp:t=ee})=>{if(!e)return Object(p.jsx)(o.EuiToolTip,{content:c.i18n.translate("contentManagement.tableList.updatedDateUnknownLabel",{defaultMessage:"Last updated unknown"})},Object(p.jsx)("span",null,"-"));const a=J()(e);return a.diff(J()(),"days")>-7?Object(p.jsx)(t,{value:new Date(e).getTime()},(e=>Object(p.jsx)(o.EuiToolTip,{content:a.format("LL LT")},Object(p.jsx)("span",null,e)))):Object(p.jsx)(o.EuiToolTip,{content:a.format("LL LT")},Object(p.jsx)("span",null,a.format("LL")))};function ae({isDeletingItems:e,items:t,entityName:a,entityNamePlural:s,onCancel:i,onConfirm:r}){const{deleteBtnLabel:l,deletingBtnLabel:u,title:d,description:b,cancelBtnLabel:g}=Object(n.useMemo)((()=>function(e,t,a){return{deleteBtnLabel:c.i18n.translate("contentManagement.tableList.listing.deleteSelectedItemsConfirmModal.confirmButtonLabel",{defaultMessage:"Delete"}),deletingBtnLabel:c.i18n.translate("contentManagement.tableList.listing.deleteSelectedItemsConfirmModal.confirmButtonLabelDeleting",{defaultMessage:"Deleting"}),title:c.i18n.translate("contentManagement.tableList.listing.deleteSelectedConfirmModal.title",{defaultMessage:"Delete {itemCount} {entityName}?",values:{itemCount:e.length,entityName:1===e.length?t:a}}),description:c.i18n.translate("contentManagement.tableList.listing.deleteConfirmModalDescription",{defaultMessage:"You can't recover deleted {entityNamePlural}.",values:{entityNamePlural:a}}),cancelBtnLabel:c.i18n.translate("contentManagement.tableList.listing.deleteSelectedItemsConfirmModal.cancelButtonLabel",{defaultMessage:"Cancel"})}}(t,a,s)),[a,s,t]);return Object(p.jsx)(o.EuiConfirmModal,{title:d,buttonColor:"danger",onCancel:i,onConfirm:r,cancelButtonText:g,confirmButtonText:e?u:l,defaultFocusedButton:"cancel"},Object(p.jsx)("p",null,b))}function ne({entityNamePlural:e,totalItems:t,listingLimit:a,canEditAdvancedSettings:n,advancedSettingsLink:i}){return Object(p.jsx)(s.a.Fragment,null,Object(p.jsx)(o.EuiCallOut,{title:Object(p.jsx)(u.FormattedMessage,{id:"contentManagement.tableList.listing.listingLimitExceededTitle",defaultMessage:"Listing limit exceeded"}),color:"warning",iconType:"help"},Object(p.jsx)("p",null,Object(p.jsx)(u.FormattedMessage,{id:"contentManagement.tableList.listing.listingLimitExceededDescription",defaultMessage:"You have {totalItems} {entityNamePlural}, but your {listingLimitText} setting prevents the table below from displaying more than {listingLimitValue}.",values:{entityNamePlural:e,totalItems:t,listingLimitValue:a,listingLimitText:Object(p.jsx)("strong",null,"listingLimit")}})," ",n?Object(p.jsx)(u.FormattedMessage,{id:"contentManagement.tableList.listing.listingLimitExceededDescriptionPermissions",defaultMessage:"You can change this setting under {advancedSettingsLink}.",values:{advancedSettingsLink:Object(p.jsx)(o.EuiLink,{href:i},Object(p.jsx)(u.FormattedMessage,{id:"contentManagement.tableList.listing.listingLimitExceeded.advancedSettingsLinkText",defaultMessage:"Advanced Settings"}))}}):Object(p.jsx)(u.FormattedMessage,{id:"contentManagement.tableList.listing.listingLimitExceededDescriptionNoPermissions",defaultMessage:"Contact your system administrator to change this setting."}))),Object(p.jsx)(o.EuiSpacer,{size:"m"}))}const se=navigator.platform.toLowerCase().indexOf("mac")>=0,ie=({tag:e,onClick:t})=>Object(p.jsx)(o.EuiBadge,{color:e.color,title:e.description,"data-test-subj":`tag-${e.id}`,onClick:a=>{const n=se&&a.metaKey||!se&&a.ctrlKey;t(e,n)},onClickAriaLabel:c.i18n.translate("contentManagement.tableList.tagBadge.buttonLabel",{defaultMessage:"{tagName} tag button.",values:{tagName:e.name}})},e.name),re=e=>e.replace(/[-\[\]{}()*+?.,\\^$|#\s]/g,"\\$&");function oe({id:e,item:t,searchTerm:a="",getDetailViewLink:i,getOnClickTitle:r,onClickTag:l}){const{references:c,attributes:{title:u,description:d}}=t,{navigateToUrl:b,currentAppId$:g,TagList:m,itemHasTags:f}=k(),j=Object(n.useMemo)((()=>({application:{navigateToUrl:b,currentAppId$:g}})),[g,b]),h=Object(n.useMemo)((()=>{const e=null==r?void 0:r(t);if(e&&(null==i||!i(t)))return t=>{t.preventDefault(),e()}}),[r,t,i]),v=Object(n.useCallback)((()=>(i?i(t):void 0)||null!=r&&r(t)?Object(p.jsx)(N,{coreStart:j},Object(p.jsx)(o.EuiLink,{href:null==i?void 0:i(t),onClick:h,"data-test-subj":`${e}ListingTitleLink-${t.attributes.title.split(" ").join("-")}`},Object(p.jsx)(o.EuiHighlight,{highlightAll:!0,search:re(a)},u))):Object(p.jsx)("span",null,u)),[i,r,e,t,h,j,a,u]),x=f(c);return Object(p.jsx)("div",null,Object(p.jsx)(o.EuiText,{size:"s"},v()),Boolean(d)&&Object(p.jsx)(o.EuiText,{size:"s",color:"subdued"},Object(p.jsx)("p",null,Object(p.jsx)(o.EuiHighlight,{highlightAll:!0,search:re(a)},d))),x&&Object(p.jsx)(s.a.Fragment,null,Object(p.jsx)(o.EuiSpacer,{size:"s"}),Object(p.jsx)(m,{references:c,tagRender:e=>Object(p.jsx)(ie,{key:e.name,tag:e,onClick:l})})))}var le=a(135),ce=a.n(le),ue=a(53);const de=e=>{var t;const a={},n={...e};if(["s","title","sort","sortdir"].forEach((e=>{Array.isArray(n[e])&&(n[e]=n[e][0])})),a.s=null!==(t=n.s)&&void 0!==t?t:n.title,"title"===n.sort||"updatedAt"===n.sort){const e="title"===n.sort?"attributes.title":"updatedAt";a.sort={field:e,direction:"asc"},"desc"!==n.sortdir&&"asc"!==n.sortdir||(a.sort.direction=n.sortdir)}return n.created_by?a.filter={createdBy:Array.isArray(n.created_by)?n.created_by:[n.created_by]}:a.filter={createdBy:[]},a},be=e=>{var t;const a={};return e.sort&&(a.sort=e.sort.field,a.sortdir=e.sort.direction),void 0!==e.s&&(a.s=e.s,a.title=void 0),"string"==typeof a.s&&""===a.s.trim()&&(a.s=void 0,a.title=void 0),null!==(t=e.filter)&&void 0!==t&&t.createdBy&&(a.created_by=e.filter.createdBy),a},ge="attributes.title",pe="Name, description, tags",me="updatedAt",fe="Last updated",je="createdBy";function he({tableCaption:e,entityName:t,entityNamePlural:a,initialFilter:i,headingId:g,initialPageSize:f,listingLimit:j,urlStateEnabled:h=!0,customTableColumn:O,emptyPrompt:y,rowItemActions:C,findItems:S,createItem:E,editItem:M,deleteItems:I,getDetailViewLink:N,getOnClickTitle:L,id:F="userContent",contentEditor:P={enabled:!1},titleColumnName:B,withoutPageTemplateWrapper:D,onFetchSuccess:A,refreshListBouncer:_,setPageDataTestSubject:R,createdByEnabled:U=!1}){if(Object(n.useEffect)((()=>{R(`${t}LandingPage`)}),[t,R]),!N&&!L)throw new Error('[TableListView] One o["getDetailViewLink" or "getOnClickTitle"] prop must be provided.');if(!1===P.isReadonly&&void 0===P.onSave)throw new Error("[TableListView] A value for [contentEditor.onSave()] must be provided when [contentEditor.isReadonly] is false.");const z=Object(n.useRef)(!1),$=Object(n.useRef)(0),q=Object(n.useRef)(0),W=Object(n.useRef)(!1),{canEditAdvancedSettings:V,getListingLimitSettingsUrl:H,getTagIdsFromReferences:G,searchQueryParser:Q,notifyError:K,DateFormatterComp:X,getTagList:Z}=k(),J=function(){const e=function(){const e=Object(n.useContext)(m);if(!e)throw new Error("ContentEditorContext is missing. Ensure your component or React root is wrapped with <ContentEditorProvider /> or <ContentEditorKibanaProvider />.");return e}(),{openFlyout:t}=e,a=Object(n.useRef)(null);return Object(n.useCallback)((n=>{if(!1===n.isReadonly&&void 0===n.onSave)throw new Error("A value for [onSave()] must be provided when [isReadonly] is false.");const s=()=>{var e;null===(e=a.current)||void 0===e||e.close()};return a.current=t(Object(p.jsx)(x,v()({},n,{onCancel:s,services:e})),{maxWidth:600,size:"m",ownFocus:!0,hideCloseButton:!0}),s}),[t,e])}();if(!function(){try{return Object(ue.useLocation)(),!0}catch(e){return!1}}())throw new Error("<TableListView/> requires a React Router context. Ensure your component or React root is being rendered in the context of a <Router>.");const[ee,se]=function({queryParamsDeserializer:e,queryParamsSerializer:t}){const a=Object(ue.useHistory)(),s=function(){const{search:e}=Object(ue.useLocation)();return Object(n.useMemo)((()=>ce.a.parse(e)),[e])}(),[i,r]=Object(n.useState)({}),o=Object(n.useCallback)((e=>{const n=t(e),i={...s,...n};a.replace({search:`?${ce.a.stringify(i,{encode:!1})}`})}),[a,s,t]);return Object(n.useEffect)((()=>{const t=e(s);r(t)}),[s,e]),[i,o]}({queryParamsDeserializer:de,queryParamsSerializer:be}),ie=Object(n.useMemo)((()=>(e,t)=>{switch(t.type){case"onFetchItems":return{...e,isFetchingItems:!0};case"onFetchItemsSuccess":{var a;const n=t.data.response.hits;let s,i=e.hasUpdatedAtMetadata,r=e.hasCreatedByMetadata;e.hasInitialFetchReturned||(i=Boolean(n.find((e=>Boolean(e.updatedAt)))),r=Boolean(n.find((e=>Boolean(e.createdBy)))),i&&!e.sortColumnChanged&&(s={field:"updatedAt",direction:"desc"}));let o=e.hasNoItems;return o=""!==e.searchQuery.text?void 0:0===n.length,{...e,hasInitialFetchReturned:!0,isFetchingItems:!1,items:n,hasNoItems:o,totalItems:t.data.response.total,hasUpdatedAtMetadata:i,hasCreatedByMetadata:r,tableSort:null!==(a=s)&&void 0!==a?a:e.tableSort,pagination:{...e.pagination,totalItemCount:n.length}}}case"onFetchItemsError":return{...e,isFetchingItems:!1,items:[],totalItems:0,fetchError:t.data};case"onSearchQueryChange":return t.data.text===e.searchQuery.text?e:{...e,searchQuery:t.data,isFetchingItems:!0};case"onTableChange":{var n,s,i,r,o;const a=null!==(n=t.data.sort)&&void 0!==n?n:e.tableSort,l=null!==(s=null===(i=t.data.page)||void 0===i?void 0:i.pageIndex)&&void 0!==s?s:e.pagination.pageIndex,c=null!==(r=null===(o=t.data.page)||void 0===o?void 0:o.pageSize)&&void 0!==r?r:e.pagination.pageSize,u=t.data.filter?{...e.tableFilter,...t.data.filter}:e.tableFilter;return{...e,pagination:{...e.pagination,pageIndex:l,pageSize:c},tableSort:a,tableFilter:u,sortColumnChanged:e.sortColumnChanged||Boolean(t.data.sort)}}case"showConfirmDeleteItemsModal":return{...e,showDeleteModal:!0};case"onDeleteItems":return{...e,isDeletingItems:!0};case"onCancelDeleteItems":return{...e,showDeleteModal:!1};case"onItemsDeleted":return{...e,isDeletingItems:!1,selectedIds:[],showDeleteModal:!1};case"onSelectionChange":return{...e,selectedIds:t.data.map((e=>null==e?void 0:e.id)).filter((e=>Boolean(e)))}}}),[]),re=Object(n.useMemo)((()=>{const e=function(e){try{const t=localStorage.getItem(T(e));if(t)return{isDefault:!1,tableSort:JSON.parse(t)}}catch(e){}return{isDefault:!0,tableSort:{field:"attributes.title",direction:"asc"}}}(t);return{items:[],hasNoItems:void 0,totalItems:0,hasInitialFetchReturned:!1,isFetchingItems:!0,isDeletingItems:!1,showDeleteModal:!1,hasUpdatedAtMetadata:!1,hasCreatedByMetadata:!1,selectedIds:[],searchQuery:{text:"",query:new o.Query(o.Ast.create([]),void 0,"")},pagination:{pageIndex:0,totalItemCount:0,pageSize:f,pageSizeOptions:Object(l.uniq)([10,20,50,f]).sort()},tableSort:e.tableSort,sortColumnChanged:!e.isDefault,tableFilter:{createdBy:[]}}}),[f,t]),[le,he]=Object(n.useReducer)(ie,re),{searchQuery:ve,hasInitialFetchReturned:xe,isFetchingItems:Oe,items:ye,hasNoItems:Ce,fetchError:Se,showDeleteModal:ke,isDeletingItems:Ee,selectedIds:Me,totalItems:Te,hasUpdatedAtMetadata:we,hasCreatedByMetadata:Ie,pagination:Ne,tableSort:Le,tableFilter:Fe}=le,Pe=Boolean(Se),Be=!Pe&&Te>j,De=Object(n.useCallback)((async()=>{he({type:"onFetchItems"});try{const e=++$.current,{searchQuery:t,references:a,referencesToExclude:n}=Q?await Q(ve.text):{searchQuery:ve.text,references:void 0,referencesToExclude:void 0},s=await S(t,{references:a,referencesToExclude:n});if(!z.current)return;e===$.current&&(he({type:"onFetchItemsSuccess",data:{response:s}}),A())}catch(e){he({type:"onFetchItemsError",data:e})}}),[Q,ve.text,S,A]),Ae=Object(n.useCallback)((e=>{h?se({s:e.text}):he({type:"onSearchQueryChange",data:{query:e,text:e.text}})}),[h,se]),{addOrRemoveIncludeTagFilter:_e,addOrRemoveExcludeTagFilter:Re,clearTagSelection:Ue,tagsToTableItemMap:ze}=function({query:e,updateQuery:t,items:a}){const s=Object(n.useMemo)((()=>a.reduce(((e,t)=>{const a=t.references.filter((e=>"tag"===e.type));return a.length>0&&a.forEach((a=>{e[a.id]||(e[a.id]=[]),e[a.id].push(t.id)})),e}),{})),[a]),i=Object(n.useCallback)((a=>(n,s=e,i=!0)=>{const r=a(s,n);return i&&t(r),r}),[e,t]),r=Object(n.useCallback)((t=>(a,n)=>{const s=Boolean(n)?n:e;if(s.ast.getFieldClauses("tag")){var i;const e=null===(i=s.ast.getFieldClauses("tag").find((({match:e})=>e===t)))||void 0===i?void 0:i.value;if(e&&e.includes(a.name))return!0}return!1}),[e]),o=Object(n.useMemo)((()=>i(((e,t)=>e.addOrFieldValue("tag",t.name,!0,"eq")))),[i]),l=Object(n.useMemo)((()=>i(((e,t)=>e.removeOrFieldValue("tag",t.name)))),[i]),c=Object(n.useMemo)((()=>i(((e,t)=>e.addOrFieldValue("tag",t.name,!1,"eq")))),[i]),u=Object(n.useMemo)((()=>i(((e,t)=>e.removeOrFieldValue("tag",t.name)))),[i]),d=Object(n.useMemo)((()=>r("must")),[r]),b=Object(n.useMemo)((()=>r("must_not")),[r]);return{addOrRemoveIncludeTagFilter:Object(n.useCallback)((e=>{let t;if(b(e))t=u(e,void 0,!1);else if(d(e,t))return void l(e,t);o(e,t)}),[b,d,u,o,l]),addOrRemoveExcludeTagFilter:Object(n.useCallback)((e=>{let t;d(e)&&(t=l(e,void 0,!1)),b(e,t)?u(e,t):c(e,t)}),[d,b,l,c,u]),clearTagSelection:Object(n.useCallback)((()=>{const a=e.removeOrFieldClauses("tag");return t(a),t}),[e,t]),tagsToTableItemMap:s}}({query:ve.query,updateQuery:Ae,items:ye}),$e=Object(n.useMemo)((()=>ye.reduce(((e,t)=>{const a={...e,[t.id]:C?C(t):void 0};return t.managed&&(a[t.id]={edit:{enabled:!1,reason:c.i18n.translate("contentManagement.tableList.managedItemNoEdit",{defaultMessage:"Elastic manages this item. Clone it to make changes."})},...a[t.id]}),a}),{})),[ye,C]),qe=Object(n.useCallback)((e=>{var a,n,s,i;const r=G(e.references).map((t=>e.references.find((({id:e})=>e===t)))),o=J({item:{id:e.id,title:e.attributes.title,description:e.attributes.description,tags:r,createdAt:e.createdAt,createdBy:e.createdBy,updatedAt:e.updatedAt,updatedBy:e.updatedBy,managed:e.managed},entityName:t,...P,isReadonly:P.isReadonly||!1===(null===(a=$e[e.id])||void 0===a||null===(n=a.edit)||void 0===n?void 0:n.enabled),readonlyReason:null===(s=$e[e.id])||void 0===s||null===(i=s.edit)||void 0===i?void 0:i.reason,onSave:P.onSave&&(async e=>{await P.onSave(e),await De(),o()})})}),[G,J,t,P,$e,De]),We=Object(n.useMemo)((()=>{const e=[{field:ge,name:null!=B?B:c.i18n.translate("contentManagement.tableList.mainColumnName",{defaultMessage:"Name, description, tags"}),sortable:!0,render:(e,t)=>Object(p.jsx)(oe,{id:F,item:t,getDetailViewLink:N,getOnClickTitle:L,onClickTag:(e,t)=>{t?Re(e):_e(e)},searchTerm:ve.text})}];if(O&&e.push(O),Ie&&U&&e.push({field:je,name:Object(p.jsx)(s.a.Fragment,null,c.i18n.translate("contentManagement.tableList.createdByColumnTitle",{defaultMessage:"Creator"})),render:(e,a)=>a.createdBy?Object(p.jsx)(b.d,{uid:a.createdBy}):a.managed?Object(p.jsx)(b.a,{entityName:t}):Object(p.jsx)(b.b,{iconType:"minus"}),sortable:!1,width:"100px",align:"center"}),we&&e.push({field:me,name:c.i18n.translate("contentManagement.tableList.lastUpdatedColumnTitle",{defaultMessage:"Last updated"}),render:(e,t)=>Object(p.jsx)(te,{dateTime:t.updatedAt,DateFormatterComp:X}),sortable:!0,width:"130px"}),M||!1!==P.enabled){const t=[];M&&t.push({name:e=>c.i18n.translate("contentManagement.tableList.listing.table.editActionName",{defaultMessage:"Edit {itemDescription}",values:{itemDescription:Object(l.get)(e,"attributes.title")}}),description:c.i18n.translate("contentManagement.tableList.listing.table.editActionDescription",{defaultMessage:"Edit"}),icon:"pencil",type:"icon",available:e=>{var t,a;return Boolean(null===(t=$e[e.id])||void 0===t||null===(a=t.edit)||void 0===a?void 0:a.enabled)},enabled:e=>!(null!=e&&e.error),onClick:M,"data-test-subj":"edit-action"}),!1!==P.enabled&&t.push({name:e=>c.i18n.translate("contentManagement.tableList.listing.table.viewDetailsActionName",{defaultMessage:"View {itemTitle} details",values:{itemTitle:Object(l.get)(e,"attributes.title")}}),description:c.i18n.translate("contentManagement.tableList.listing.table.viewDetailsActionDescription",{defaultMessage:"View details"}),icon:"iInCircle",type:"icon",onClick:qe,"data-test-subj":"inspect-action"}),e.push({name:c.i18n.translate("contentManagement.tableList.listing.table.actionTitle",{defaultMessage:"Actions"}),width:32*t.length+"px",actions:t})}return e}),[B,O,we,Ie,U,M,P.enabled,F,N,L,ve.text,Re,_e,X,$e,qe,t]),Ve=Object(n.useMemo)((()=>Object(l.keyBy)(ye,"id")),[ye]),He=Object(n.useMemo)((()=>Me.map((e=>Ve[e]))),[Me,Ve]),Ge=Object(n.useCallback)((async e=>{let t=o.Ast.create([]),a=e;if(Q){const{references:n,referencesToExclude:s,searchQuery:i}=await Q(e);if(a=i,null!=n&&n.length||null!=s&&s.length){const e=Z();null!=n&&n.length&&n.forEach((({id:a})=>{const n=e.find((({id:e})=>e===a));n&&(t=t.addOrFieldValue("tag",n.name,!0,"eq"))})),null!=s&&s.length&&s.forEach((({id:a})=>{const n=e.find((({id:e})=>e===a));n&&(t=t.addOrFieldValue("tag",n.name,!1,"eq"))}))}}return""!==a.trim()&&(t=t.addClause({type:"term",value:a,match:"must"})),new o.Query(t,void 0,e)}),[Z,Q]),Qe=Object(n.useCallback)((e=>{if(e.query)Ae(e.query);else{const t=q.current+1;Ge(e.queryText).then((e=>{t===q.current&&Ae(e)}))}}),[Ae,Ge]),Ke=Object(n.useCallback)((e=>{e.sort&&h&&se({sort:{field:"attributes.title"===e.sort.field?"title":e.sort.field,direction:e.sort.direction}}),e.filter&&h&&se({filter:e.filter}),!e.page&&h||he({type:"onTableChange",data:e})}),[se,h]),Xe=Object(n.useCallback)(((e,a)=>{const n={field:e,direction:a};w(t,n),Ke({sort:n})}),[t,Ke]),Ye=Object(n.useCallback)((e=>{Ke({filter:e})}),[Ke]),Ze=Object(n.useCallback)((e=>{const a={};if(e.sort){let n=e.sort.field;n===pe?n=ge:n===fe&&(n=me),a.sort={field:n,direction:e.sort.direction},w(t,a.sort)}a.page={pageIndex:e.page.index,pageSize:e.page.size},Ke(a)}),[Ke,t]),Je=Object(n.useCallback)((async()=>{if(!Ee){he({type:"onDeleteItems"});try{await I(He)}catch(e){K(Object(p.jsx)(u.FormattedMessage,{id:"contentManagement.tableList.listing.unableToDeleteDangerMessage",defaultMessage:"Unable to delete {entityName}(s)",values:{entityName:t}}),e)}De(),he({type:"onItemsDeleted"})}}),[I,t,De,Ee,K,He]),et=Object(n.useCallback)((()=>{if(E)return Object(p.jsx)(o.EuiButton,{onClick:E,"data-test-subj":"newItemButton",iconType:"plusInCircleFilled",fill:!0},Object(p.jsx)(u.FormattedMessage,{id:"contentManagement.tableList.listing.createNewItemButtonLabel",defaultMessage:"Create {entityName}",values:{entityName:t}}))}),[E,t]),tt=Object(n.useCallback)((()=>y||Object(p.jsx)(o.EuiEmptyPrompt,{title:Object(p.jsx)("h1",null,Object(p.jsx)(u.FormattedMessage,{id:"contentManagement.tableList.listing.noAvailableItemsMessage",defaultMessage:"No {entityNamePlural} available.",values:{entityNamePlural:a}})),actions:et()})),[y,a,et]),at=Object(n.useCallback)((()=>{var e;return Object(p.jsx)(s.a.Fragment,null,Object(p.jsx)(o.EuiCallOut,{title:Object(p.jsx)(u.FormattedMessage,{id:"contentManagement.tableList.listing.fetchErrorTitle",defaultMessage:"Fetching listing failed"}),color:"danger",iconType:"warning"},Object(p.jsx)("p",null,Object(p.jsx)(u.FormattedMessage,{id:"contentManagement.tableList.listing.fetchErrorDescription",defaultMessage:"The {entityName} listing could not be fetched: {message}.",values:{entityName:t,message:(null===(e=Se.body)||void 0===e?void 0:e.message)||Se.message}}))),Object(p.jsx)(o.EuiSpacer,{size:"m"}))}),[t,Se]);r()(De,300,[De,_]),Object(n.useEffect)((()=>{var e,t,a;h&&((async(e="")=>{const t=await Ge(e);he({type:"onSearchQueryChange",data:{query:t,text:e}})})(ee.s),(e=ee.sort)&&he({type:"onTableChange",data:{sort:{field:e.field,direction:e.direction}}}),(t=ee.filter)&&he({type:"onTableChange",data:{filter:{createdBy:null!==(a=t.createdBy)&&void 0!==a?a:[]}}}))}),[ee,Ge,h]),Object(n.useEffect)((()=>(z.current=!0,()=>{z.current=!1})),[]),Object(n.useEffect)((()=>{i&&!W.current&&(W.current=!0,Ge(i).then(Ae))}),[i,Ge,Ae]);const nt=Object(n.useMemo)((()=>D?({children:e,"data-test-subj":t})=>Object(p.jsx)("div",{"data-test-subj":t},e):d.a),[D]);if(!xe)return null;if(!Pe&&Ce)return Object(p.jsx)(nt,{isEmptyState:!0},Object(p.jsx)(d.a.Section,{"aria-labelledby":xe?g:void 0},tt()));const st=Ee?"table-is-deleting":xe&&!Oe?"table-is-ready":"table-is-loading";return Object(p.jsx)(s.a.Fragment,null,Be&&Object(p.jsx)(ne,{canEditAdvancedSettings:V,advancedSettingsLink:H(),entityNamePlural:a,totalItems:Te,listingLimit:j}),Pe&&at(),Object(p.jsx)("div",{"data-test-subj":st},Object(p.jsx)(Y,{dispatch:he,items:ye,renderCreateButton:et,isFetchingItems:Oe,searchQuery:ve,tableColumns:We,hasUpdatedAtMetadata:we,tableSort:Le,tableFilter:Fe,tableItemsRowActions:$e,pagination:Ne,selectedIds:Me,entityName:t,entityNamePlural:a,tagsToTableItemMap:ze,deleteItems:I,tableCaption:e,onTableChange:Ze,onTableSearchChange:Qe,onSortChange:Xe,onFilterChange:Ye,addOrRemoveIncludeTagFilter:_e,addOrRemoveExcludeTagFilter:Re,clearTagSelection:Ue,createdByEnabled:U}),ke&&Object(p.jsx)(ae,{isDeletingItems:Ee,entityName:t,entityNamePlural:a,items:He,onConfirm:Je,onCancel:()=>he({type:"onCancelDeleteItems"})})))}const ve=s.a.memo(he)},135:function(e,t,a){"use strict";const n=a(198),s=a(199),i=a(200);function r(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function o(e,t){return t.encode?t.strict?n(e):encodeURIComponent(e):e}function l(e,t){return t.decode?s(e):e}function c(e){return Array.isArray(e)?e.sort():"object"==typeof e?c(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function u(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function d(e){const t=(e=u(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function b(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function g(e,t){r((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const a=function(e){let t;switch(e.arrayFormat){case"index":return(e,a,n)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=a):n[e]=a};case"bracket":return(e,a,n)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],a):n[e]=[a]:n[e]=a};case"comma":case"separator":return(t,a,n)=>{const s="string"==typeof a&&a.split("").indexOf(e.arrayFormatSeparator)>-1?a.split(e.arrayFormatSeparator).map((t=>l(t,e))):null===a?a:l(a,e);n[t]=s};default:return(e,t,a)=>{void 0!==a[e]?a[e]=[].concat(a[e],t):a[e]=t}}}(t),n=Object.create(null);if("string"!=typeof e)return n;if(!(e=e.trim().replace(/^[?#&]/,"")))return n;for(const s of e.split("&")){let[e,r]=i(t.decode?s.replace(/\+/g," "):s,"=");r=void 0===r?null:["comma","separator"].includes(t.arrayFormat)?r:l(r,t),a(l(e,t),r,n)}for(const e of Object.keys(n)){const a=n[e];if("object"==typeof a&&null!==a)for(const e of Object.keys(a))a[e]=b(a[e],t);else n[e]=b(a,t)}return!1===t.sort?n:(!0===t.sort?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce(((e,t)=>{const a=n[t];return Boolean(a)&&"object"==typeof a&&!Array.isArray(a)?e[t]=c(a):e[t]=a,e}),Object.create(null))}t.extract=d,t.parse=g,t.stringify=(e,t)=>{if(!e)return"";r((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const a=a=>t.skipNull&&null==e[a]||t.skipEmptyString&&""===e[a],n=function(e){switch(e.arrayFormat){case"index":return t=>(a,n)=>{const s=a.length;return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?a:null===n?[...a,[o(t,e),"[",s,"]"].join("")]:[...a,[o(t,e),"[",o(s,e),"]=",o(n,e)].join("")]};case"bracket":return t=>(a,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?a:null===n?[...a,[o(t,e),"[]"].join("")]:[...a,[o(t,e),"[]=",o(n,e)].join("")];case"comma":case"separator":return t=>(a,n)=>null==n||0===n.length?a:0===a.length?[[o(t,e),"=",o(n,e)].join("")]:[[a,o(n,e)].join(e.arrayFormatSeparator)];default:return t=>(a,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?a:null===n?[...a,o(t,e)]:[...a,[o(t,e),"=",o(n,e)].join("")]}}(t),s={};for(const t of Object.keys(e))a(t)||(s[t]=e[t]);const i=Object.keys(s);return!1!==t.sort&&i.sort(t.sort),i.map((a=>{const s=e[a];return void 0===s?"":null===s?o(a,t):Array.isArray(s)?s.reduce(n(a),[]).join("&"):o(a,t)+"="+o(s,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[a,n]=i(e,"#");return Object.assign({url:a.split("?")[0]||"",query:g(d(e),t)},t&&t.parseFragmentIdentifier&&n?{fragmentIdentifier:l(n,t)}:{})},t.stringifyUrl=(e,a)=>{a=Object.assign({encode:!0,strict:!0},a);const n=u(e.url).split("?")[0]||"",s=t.extract(e.url),i=t.parse(s,{sort:!1}),r=Object.assign(i,e.query);let l=t.stringify(r,a);l&&(l=`?${l}`);let c=function(e){let t="";const a=e.indexOf("#");return-1!==a&&(t=e.slice(a)),t}(e.url);return e.fragmentIdentifier&&(c=`#${o(e.fragmentIdentifier,a)}`),`${n}${l}${c}`}},138:function(e,t,a){"use strict";a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return u})),a.d(t,"c",(function(){return d}));var n=a(2),s=a.n(n),i=a(83),r=a.n(i),o=a(3);const l=s.a.createContext(null),c=({children:e,...t})=>{const{navigateToUrl:a,currentAppId:n}=t;return Object(o.jsx)(l.Provider,{value:{navigateToUrl:a,currentAppId:n}},e)},u=({children:e,coreStart:t})=>{const{navigateToUrl:a,currentAppId$:n}=t.application,s=r()(n,void 0);return Object(o.jsx)(l.Provider,{value:{navigateToUrl:a,currentAppId:s}},e)};function d(){const e=Object(n.useContext)(l);if(!e)throw new Error("RedirectAppLinksContext is missing.  Ensure your component or React root is wrapped with RedirectAppLinksProvider.");return e}},139:function(e,t,a){"use strict";e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},140:function(e,t,a){e.exports=a.p+"1cbd62546f764080f7071e03889e9de3.svg"},141:function(e,t,a){"use strict";e.exports=a(222)},142:function(e,t,a){"use strict";e.exports=a(224)},143:function(e,t,a){"use strict";e.exports=a(231)},144:function(e,t,a){"use strict";a.d(t,"a",(function(){return g}));var n=a(5),s=a(2),i=a.n(s),r=a(8),o=a(25),l=a(102),c=a(103),u=a(110),d=a(3);const b=({id:e,title:t,onOpenClick:a,onDiscardClick:s})=>Object(d.jsx)("div",{className:"dshUnsavedListingItem"},Object(d.jsx)(n.EuiFlexGroup,{alignItems:"center",gutterSize:"none",className:"dshUnsavedListingItem__heading",responsive:!1},Object(d.jsx)(n.EuiFlexItem,{grow:!1},Object(d.jsx)(n.EuiIcon,{color:"text",className:"dshUnsavedListingItem__icon",type:t?"dashboardApp":"clock"})),Object(d.jsx)(n.EuiFlexItem,{grow:!1},Object(d.jsx)(n.EuiTitle,{size:"xxs"},Object(d.jsx)("h4",{className:"dshUnsavedListingItem__title "+(t?"":"dshUnsavedListingItem__loading")},t||c.d.getLoadingTitle())))),Object(d.jsx)(n.EuiFlexGroup,{alignItems:"flexStart",gutterSize:"none",className:"dshUnsavedListingItem__actions",responsive:!1},Object(d.jsx)(n.EuiFlexItem,{grow:!1},Object(d.jsx)(n.EuiButtonEmpty,{flush:"left",size:"s",color:"primary",disabled:!t,onClick:a,"data-test-subj":t?`edit-unsaved-${t.split(" ").join("-")}`:void 0,"aria-label":c.d.getEditAriaLabel(null!=t?t:e)},c.d.getEditTitle())),Object(d.jsx)(n.EuiFlexItem,{grow:!1},Object(d.jsx)(n.EuiButtonEmpty,{flush:"left",size:"s",color:"danger",disabled:!t,onClick:s,"data-test-subj":t?`discard-unsaved-${t.split(" ").join("-")}`:void 0,"aria-label":c.d.getDiscardAriaLabel(null!=t?t:e)},c.d.getDiscardTitle())))),g=({goToDashboard:e,unsavedDashboardIds:t,refreshUnsavedDashboards:a})=>{const{dashboardBackup:g,dashboardContentManagement:{findDashboards:p}}=o.pluginServices.getServices(),[m,f]=Object(s.useState)({}),j=Object(s.useCallback)((t=>{e(t,r.ViewMode.EDIT)}),[e]),h=Object(s.useCallback)((e=>{Object(l.b)((()=>{g.clearState(e),a()}))}),[a,g]);return Object(s.useEffect)((()=>{if(0===(null==t?void 0:t.length))return;let e=!1;const n=t.filter((e=>e!==u.a));return p.findByIds(n).then((t=>{if(e)return;let n=!1;const s=t.reduce(((e,t)=>"error"===t.status?(n=!0,404===t.error.statusCode&&g.clearState(t.id),e):{...e,[t.id||u.a]:t.attributes}),{});n?a():f(s)})),()=>{e=!0}}),[a,g,t,p]),0===t.length?null:Object(d.jsx)(i.a.Fragment,null,Object(d.jsx)(n.EuiCallOut,{heading:"h3","data-test-subj":"unsavedDashboardsCallout",title:c.d.getUnsavedChangesTitle(t.length>1)},t.map((e=>{var t;const a=e===u.a?Object(c.e)():null===(t=m[e])||void 0===t?void 0:t.title,n=e===u.a?void 0:e;return Object(d.jsx)(b,{key:e,id:e,title:a,onOpenClick:()=>j(n),onDiscardClick:()=>h(n)})}))),Object(d.jsx)(n.EuiSpacer,{size:"m"}))}},177:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var n=a(2),s=a.n(n),i=a(8),r=a(109),o=a(1),l=a(103),c=a(102),u=a(25),d=a(5),b=a(48),g=a(110),p=a(3);const m=({useSessionStorageIntegration:e,setUnsavedDashboardIds:t,unsavedDashboardIds:a,goToDashboard:i,createItem:r,disableCreateDashboardButton:o})=>{const{application:m,dashboardBackup:f,dashboardCapabilities:{showWriteControls:j}}=u.pluginServices.getServices(),h=Object(n.useMemo)((()=>e&&1===a.length),[a.length,e]),v=Object(n.useCallback)((()=>h?Object(p.jsx)(d.EuiFlexGroup,{alignItems:"center",justifyContent:"center",gutterSize:"s",responsive:!1},Object(p.jsx)(d.EuiFlexItem,{grow:!1},Object(p.jsx)(d.EuiButtonEmpty,{size:"s",color:"danger",onClick:()=>Object(c.b)((()=>{f.clearState(g.a),t(f.getDashboardIdsWithUnsavedChanges())})),"data-test-subj":"discardDashboardPromptButton","aria-label":l.d.getDiscardAriaLabel(Object(l.e)())},l.d.getDiscardTitle())),Object(p.jsx)(d.EuiFlexItem,{grow:!1},Object(p.jsx)(d.EuiButton,{fill:!0,iconType:"pencil",color:"primary","data-test-subj":"newItemButton",onClick:()=>i(),"aria-label":l.d.getEditAriaLabel(Object(l.e)())},l.d.getEditTitle()))):Object(p.jsx)(d.EuiButton,{onClick:r,fill:!0,iconType:"plusInCircle","data-test-subj":"newItemButton",disabled:o},l.f.getCreateNewDashboardText())),[h,r,o,f,i,t]);return j?Object(p.jsx)(d.EuiEmptyPrompt,{iconType:"dashboardApp",title:Object(p.jsx)("h1",{id:"dashboardListingHeading","data-test-subj":"emptyListPrompt"},h?l.f.getReadEditInProgressTitle():l.f.getReadEditTitle()),body:Object(p.jsx)(s.a.Fragment,null,Object(p.jsx)("p",null,l.f.getReadEditDashboardDescription()),!h&&Object(p.jsx)("p",null,Object(p.jsx)(b.FormattedMessage,{id:"dashboard.listing.createNewDashboard.newToKibanaDescription",defaultMessage:"New to Kibana? {sampleDataInstallLink} to take a test drive.",values:{sampleDataInstallLink:Object(p.jsx)(d.EuiLink,{onClick:()=>m.navigateToApp("home",{path:"#/tutorial_directory/sampleData"})},l.f.getSampleDataLinkText())}}))),actions:v()}):Object(p.jsx)(d.EuiEmptyPrompt,{iconType:"glasses",title:Object(p.jsx)("h1",{id:"dashboardListingHeading","data-test-subj":"emptyListPrompt"},l.f.getReadonlyTitle()),body:Object(p.jsx)("p",null,l.f.getReadonlyBody())})},f=e=>{const{title:t,description:a,timeRestore:n}=e.attributes;return{type:"dashboard",id:e.id,updatedAt:e.updatedAt,createdAt:e.createdAt,createdBy:e.createdBy,updatedBy:e.updatedBy,references:e.references,managed:e.managed,attributes:{title:t,description:a,timeRestore:n}}},j=({dashboardListingId:e="dashboard",disableCreateDashboardButton:t,getDashboardUrl:a,goToDashboard:s,headingId:d="dashboardListingHeading",initialFilter:b,urlStateEnabled:g,useSessionStorageIntegration:j,showCreateDashboardButton:h=!0})=>{const{dashboardBackup:v,dashboardCapabilities:{showWriteControls:x},settings:{uiSettings:O},dashboardContentManagement:{findDashboards:y,deleteDashboards:C,updateDashboardMeta:S,checkForDuplicateDashboardTitle:k},notifications:{toasts:E}}=u.pluginServices.getServices(),{getEntityName:M,getTableListTitle:T,getEntityNamePlural:w}=l.c,I=T(),N=M(),L=w(),[F,P]=Object(n.useState)(),[B,D]=Object(n.useState)(!1),[A,_]=Object(n.useState)(v.getDashboardIdsWithUnsavedChanges()),R=O.get("savedObjects:listingLimit"),U=O.get("savedObjects:perPage"),z=Object(n.useCallback)((()=>{j&&v.dashboardHasUnsavedEdits()?Object(c.a)((()=>{v.clearState(),s()}),s):s()}),[v,s,j]),$=Object(n.useCallback)((async e=>{await S(e),_(v.getDashboardIdsWithUnsavedChanges())}),[v,S]),q=Object(n.useMemo)((()=>({title:[{type:"warning",fn:async(e,t)=>{if(t)try{const[a]=await y.findByIds([t]);if("error"===a.status)return;if(!await k({title:e,copyOnSave:!1,lastSavedTitle:a.attributes.title,isTitleDuplicateConfirmed:!1}))throw new Error(l.b.getDuplicateTitleWarning(e))}catch(e){return e.message}}}]})),[k,y]),W=Object(n.useMemo)((()=>Object(p.jsx)(m,{createItem:z,disableCreateDashboardButton:t,goToDashboard:s,setUnsavedDashboardIds:_,unsavedDashboardIds:A,useSessionStorageIntegration:j})),[z,t,s,A,j]),V=Object(n.useCallback)(((e,{references:t,referencesToExclude:a}={})=>{const n=window.performance.now();return y.search({search:e,size:R,hasReference:t,hasNoReference:a}).then((({total:e,hits:t})=>{const a=window.performance.now()-n;return Object(r.a)(u.pluginServices.getServices().analytics,{eventName:o.u,duration:a,meta:{saved_object_type:o.f}}),{total:e,hits:t.map(f)}}))}),[y,R]),H=Object(n.useCallback)((async e=>{try{const t=window.performance.now();await C(e.map((({id:e})=>(v.clearState(e),e))));const a=window.performance.now()-t;Object(r.a)(u.pluginServices.getServices().analytics,{eventName:o.t,duration:a,meta:{saved_object_type:o.f,total:e.length}})}catch(e){E.addError(e,{title:l.b.getErrorDeletingDashboardToast()})}_(v.getDashboardIdsWithUnsavedChanges())}),[v,C,E]),G=Object(n.useCallback)((({id:e})=>s(e,i.ViewMode.EDIT)),[s]),Q=Object(n.useCallback)((()=>{B||D(!0)}),[B]),K=Object(n.useCallback)((({id:e,attributes:{timeRestore:t}})=>a(e,t)),[a]),X=Object(n.useMemo)((()=>({contentEditor:{isReadonly:!x,onSave:$,customValidators:q,showActivityView:!0},createItem:x&&h?z:void 0,deleteItems:x?H:void 0,editItem:x?G:void 0,emptyPrompt:W,entityName:N,entityNamePlural:L,findItems:V,getDetailViewLink:K,headingId:d,id:e,initialFilter:b,initialPageSize:U,listingLimit:R,onFetchSuccess:Q,setPageDataTestSubject:P,title:I,urlStateEnabled:g,createdByEnabled:!0})),[q,z,e,H,G,W,N,L,V,K,d,b,U,R,Q,h,x,I,$,g]),Y=Object(n.useCallback)((()=>_(v.getDashboardIdsWithUnsavedChanges())),[v]);return{hasInitialFetchReturned:B,pageDataTestSubject:F,refreshUnsavedDashboards:Y,tableListViewTableProps:X,unsavedDashboardIds:A}}},198:function(e,t,a){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},199:function(e,t,a){"use strict";var n="%[a-f0-9]{2}",s=new RegExp("("+n+")|([^%]+?)","gi"),i=new RegExp("("+n+")+","gi");function r(e,t){try{return[decodeURIComponent(e.join(""))]}catch(e){}if(1===e.length)return e;t=t||1;var a=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],r(a),r(n))}function o(e){try{return decodeURIComponent(e)}catch(n){for(var t=e.match(s)||[],a=1;a<t.length;a++)t=(e=r(t,a).join("")).match(s)||[];return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},a=i.exec(e);a;){try{t[a[0]]=decodeURIComponent(a[0])}catch(e){var n=o(a[0]);n!==a[0]&&(t[a[0]]=n)}a=i.exec(e)}t["%C2"]="�";for(var s=Object.keys(t),r=0;r<s.length;r++){var l=s[r];e=e.replace(new RegExp(l,"g"),t[l])}return e}(e)}}},200:function(e,t,a){"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const a=e.indexOf(t);return-1===a?[e]:[e.slice(0,a),e.slice(a+t.length)]}},213:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(38),s=a(2),i=n.__importDefault(a(214));t.default=function(e,t,a){void 0===t&&(t=0),void 0===a&&(a=[]);var n=i.default(e,t),r=n[0],o=n[1],l=n[2];return s.useEffect(l,a),[r,o]}},214:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(2);t.default=function(e,t){void 0===t&&(t=0);var a=n.useRef(!1),s=n.useRef(),i=n.useRef(e),r=n.useCallback((function(){return a.current}),[]),o=n.useCallback((function(){a.current=!1,s.current&&clearTimeout(s.current),s.current=setTimeout((function(){a.current=!0,i.current()}),t)}),[t]),l=n.useCallback((function(){a.current=null,s.current&&clearTimeout(s.current)}),[]);return n.useEffect((function(){i.current=e}),[e]),n.useEffect((function(){return o(),l}),[t]),[r,l,o]}},215:function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(216);case"v8light":return a(218)}},216:function(e,t,a){var n=a(26),s=a(217);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);n(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},217:function(e,t,a){var n=a(27),s=a(139),i=a(140);t=n(!1);var r=s(i);t.push([e.i,".kbnSolutionAvatar{box-shadow:0 .7px 1.4px rgba(0,0,0,.175),0 1.9px 4px rgba(0,0,0,.125),0 4.5px 10px rgba(0,0,0,.125)}.kbnSolutionAvatar--xxl{background:#1d1e24 url("+r+") no-repeat;background-size:cover,125%;border-radius:100px;box-shadow:0 .9px 4px -1px #0003,0 2.6px 8px -1px #00000026,0 5.7px 12px -1px rgba(0,0,0,.125),0 15px 15px -1px #0000001a;display:inline-block;height:100px;line-height:100px;text-align:center;width:100px}",""]),e.exports=t},218:function(e,t,a){var n=a(26),s=a(219);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);n(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},219:function(e,t,a){var n=a(27),s=a(139),i=a(140);t=n(!1);var r=s(i);t.push([e.i,".kbnSolutionAvatar{box-shadow:0 .7px 1.4px #00000012,0 1.9px 4px #0000000d,0 4.5px 10px #0000000d}.kbnSolutionAvatar--xxl{background:#fff url("+r+") no-repeat;background-size:cover,125%;border-radius:100px;box-shadow:0 .9px 4px -1px #00000014,0 2.6px 8px -1px #0000000f,0 5.7px 12px -1px #0000000d,0 15px 15px -1px #0000000a;display:inline-block;height:100px;line-height:100px;text-align:center;width:100px}",""]),e.exports=t},220:function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return c})),a.d(t,"c",(function(){return u}));var n=a(2),s=a.n(n),i=a(138),r=a(3);const o=s.a.createContext(null),l=({children:e,...t})=>{const{addBasePath:a,canAccessFleet:n}=t;return Object(r.jsx)(o.Provider,{value:{addBasePath:a,canAccessFleet:n}},Object(r.jsx)(i.b,t,e))},c=({children:e,...t})=>{const a={addBasePath:t.coreStart.http.basePath.prepend,canAccessFleet:t.coreStart.application.capabilities.navLinks.integrations};return Object(r.jsx)(o.Provider,{value:a},Object(r.jsx)(i.a,t,e))};function u(){const e=Object(n.useContext)(o);if(!e)throw new Error("NoDataCard Context is missing.  Ensure your component or React root is wrapped with NoDataCardContext.");return e}},221:function(e,t,a){e.exports=a.p+"baad30acfe492601d08a0e839c9bb3f5.svg"},222:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(223);a(55),a(142),a(143);var s=n.default({key:"css"}),i=s.flush,r=s.hydrate,o=s.cx,l=s.merge,c=s.getRegisteredStyles,u=s.injectGlobal,d=s.keyframes,b=s.css,g=s.sheet,p=s.cache;t.cache=p,t.css=b,t.cx=o,t.flush=i,t.getRegisteredStyles=c,t.hydrate=r,t.injectGlobal=u,t.keyframes=d,t.merge=l,t.sheet=g},223:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(55),s=a(142),i=a(143);function r(e){return e&&e.__esModule?e:{default:e}}var o=r(n);function l(e,t){if(void 0===e.inserted[t.name])return e.insert("",t,e.sheet,!0)}function c(e,t,a){var n=[],s=i.getRegisteredStyles(e,n,a);return n.length<2?a:s+t(n)}var u=function e(t){for(var a="",n=0;n<t.length;n++){var s=t[n];if(null!=s){var i=void 0;switch(typeof s){case"boolean":break;case"object":if(Array.isArray(s))i=e(s);else for(var r in i="",s)s[r]&&r&&(i&&(i+=" "),i+=r);break;default:i=s}i&&(a&&(a+=" "),a+=i)}}return a};t.default=function(e){var t=o.default(e);t.sheet.speedy=function(e){this.isSpeedy=e},t.compat=!0;var a=function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];var r=s.serializeStyles(a,t.registered,void 0);return i.insertStyles(t,r,!1),t.key+"-"+r.name};return{css:a,cx:function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return c(t.registered,a,u(n))},injectGlobal:function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];var i=s.serializeStyles(a,t.registered);l(t,i)},keyframes:function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];var i=s.serializeStyles(a,t.registered),r="animation-"+i.name;return l(t,{name:i.name,styles:"@keyframes "+r+"{"+i.styles+"}"}),r},hydrate:function(e){e.forEach((function(e){t.inserted[e]=!0}))},flush:function(){t.registered={},t.inserted={},t.sheet.flush()},sheet:t.sheet,cache:t,getRegisteredStyles:i.getRegisteredStyles.bind(null,t.registered),merge:c.bind(null,t.registered,a)}}},224:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(225),s=a(227),i=a(229);function r(e){return e&&e.__esModule?e:{default:e}}var o=r(n),l=r(s),c=/[A-Z]|^ms/g,u=/_EMO_([^_]+?)_([^]*?)_EMO_/g,d=function(e){return 45===e.charCodeAt(1)},b=function(e){return null!=e&&"boolean"!=typeof e},g=r(i).default((function(e){return d(e)?e:e.replace(c,"-$&").toLowerCase()})),p=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(u,(function(e,t,a){return f={name:t,styles:a,next:f},t}))}return 1===l.default[e]||d(e)||"number"!=typeof t||0===t?t:t+"px"};function m(e,t,a){if(null==a)return"";if(void 0!==a.__emotion_styles)return a;switch(typeof a){case"boolean":return"";case"object":if(1===a.anim)return f={name:a.name,styles:a.styles,next:f},a.name;if(void 0!==a.styles){var n=a.next;if(void 0!==n)for(;void 0!==n;)f={name:n.name,styles:n.styles,next:f},n=n.next;return a.styles+";"}return function(e,t,a){var n="";if(Array.isArray(a))for(var s=0;s<a.length;s++)n+=m(e,t,a[s])+";";else for(var i in a){var r=a[i];if("object"!=typeof r)null!=t&&void 0!==t[r]?n+=i+"{"+t[r]+"}":b(r)&&(n+=g(i)+":"+p(i,r)+";");else if(!Array.isArray(r)||"string"!=typeof r[0]||null!=t&&void 0!==t[r[0]]){var o=m(e,t,r);switch(i){case"animation":case"animationName":n+=g(i)+":"+o+";";break;default:n+=i+"{"+o+"}"}}else for(var l=0;l<r.length;l++)b(r[l])&&(n+=g(i)+":"+p(i,r[l])+";")}return n}(e,t,a);case"function":if(void 0!==e){var s=f,i=a(e);return f=s,m(e,t,i)}}if(null==t)return a;var r=t[a];return void 0!==r?r:a}var f,j=/label:\s*([^\s;\n{]+)\s*(;|$)/g;t.serializeStyles=function(e,t,a){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var n=!0,s="";f=void 0;var i=e[0];null==i||void 0===i.raw?(n=!1,s+=m(a,t,i)):s+=i[0];for(var r=1;r<e.length;r++)s+=m(a,t,e[r]),n&&(s+=i[r]);j.lastIndex=0;for(var l,c="";null!==(l=j.exec(s));)c+="-"+l[1];return{name:o.default(s)+c,styles:s,next:f}}},225:function(e,t,a){"use strict";e.exports=a(226)},226:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t,a=0,n=0,s=e.length;s>=4;++n,s-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),a=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&a)+(59797*(a>>>16)<<16);switch(s){case 3:a^=(255&e.charCodeAt(n+2))<<16;case 2:a^=(255&e.charCodeAt(n+1))<<8;case 1:a=1540483477*(65535&(a^=255&e.charCodeAt(n)))+(59797*(a>>>16)<<16)}return(((a=1540483477*(65535&(a^=a>>>13))+(59797*(a>>>16)<<16))^a>>>15)>>>0).toString(36)}},227:function(e,t,a){"use strict";e.exports=a(228)},228:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},229:function(e,t,a){"use strict";e.exports=a(230)},230:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=Object.create(null);return function(a){return void 0===t[a]&&(t[a]=e(a)),t[a]}}},231:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="undefined"!=typeof document,s=function(e,t,a){var s=e.key+"-"+t.name;(!1===a||!1===n&&void 0!==e.compat)&&void 0===e.registered[s]&&(e.registered[s]=t.styles)};t.getRegisteredStyles=function(e,t,a){var n="";return a.split(" ").forEach((function(a){void 0!==e[a]?t.push(e[a]+";"):n+=a+" "})),n},t.insertStyles=function(e,t,a){s(e,t,a);var i=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var r="",o=t;do{var l=e.insert(t===o?"."+i:"",o,e.sheet,!0);n||void 0===l||(r+=l),o=o.next}while(void 0!==o);if(!n&&0!==r.length)return r}},t.registerStyles=s},232:function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(233);case"v8light":return a(235)}},233:function(e,t,a){var n=a(26),s=a(234);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);n(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},234:function(e,t,a){(t=a(27)(!1)).push([e.i,'.kbnSolutionNav__flyout{background-color:#141519}.kbnSolutionNav__flyout .kbnSolutionNav{flex:auto}.kbnSolutionNav{display:flex;flex-direction:column;height:100%;overflow-x:hidden;overflow-y:auto;scrollbar-color:#98a2b380 #0000;scrollbar-width:thin}.kbnSolutionNav::-webkit-scrollbar{height:16px;width:16px}.kbnSolutionNav::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#98a2b380;border:6px solid #0000;border-radius:16px}.kbnSolutionNav::-webkit-scrollbar-corner,.kbnSolutionNav::-webkit-scrollbar-track{background-color:#0000}.kbnSolutionNav:focus{outline:none}.kbnSolutionNav[tabindex="0"]:focus:focus-visible{outline-style:auto}@media only screen and (min-width:768px)and (max-width:991px){.kbnSolutionNav{padding:24px;width:248px}}@media only screen and (min-width:992px)and (max-width:1199px){.kbnSolutionNav{padding:24px;width:248px}}@media only screen and (min-width:1200px){.kbnSolutionNav{padding:24px;width:248px}}.kbnSolutionNav__title{align-items:center;display:inline-flex}.kbnSolutionNav__titleAvatar{align-self:flex-start;margin-right:12px}.kbnSolutionNav--hidden{opacity:0;pointer-events:none}@media screen and (prefers-reduced-motion:no-preference){.kbnSolutionNav--hidden{transition:opacity .15s cubic-bezier(.694,.0482,.335,1)}}',""]),e.exports=t},235:function(e,t,a){var n=a(26),s=a(236);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);n(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},236:function(e,t,a){(t=a(27)(!1)).push([e.i,'.kbnSolutionNav__flyout{background-color:#fafbfd}.kbnSolutionNav__flyout .kbnSolutionNav{flex:auto}.kbnSolutionNav{display:flex;flex-direction:column;height:100%;overflow-x:hidden;overflow-y:auto;scrollbar-color:#69707d80 #0000;scrollbar-width:thin}.kbnSolutionNav::-webkit-scrollbar{height:16px;width:16px}.kbnSolutionNav::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#69707d80;border:6px solid #0000;border-radius:16px}.kbnSolutionNav::-webkit-scrollbar-corner,.kbnSolutionNav::-webkit-scrollbar-track{background-color:#0000}.kbnSolutionNav:focus{outline:none}.kbnSolutionNav[tabindex="0"]:focus:focus-visible{outline-style:auto}@media only screen and (min-width:768px)and (max-width:991px){.kbnSolutionNav{padding:24px;width:248px}}@media only screen and (min-width:992px)and (max-width:1199px){.kbnSolutionNav{padding:24px;width:248px}}@media only screen and (min-width:1200px){.kbnSolutionNav{padding:24px;width:248px}}.kbnSolutionNav__title{align-items:center;display:inline-flex}.kbnSolutionNav__titleAvatar{align-self:flex-start;margin-right:12px}.kbnSolutionNav--hidden{opacity:0;pointer-events:none}@media screen and (prefers-reduced-motion:no-preference){.kbnSolutionNav--hidden{transition:opacity .15s cubic-bezier(.694,.0482,.335,1)}}',""]),e.exports=t},237:function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(238);case"v8light":return a(240)}},238:function(e,t,a){var n=a(26),s=a(239);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);n(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},239:function(e,t,a){(t=a(27)(!1)).push([e.i,".kbnSolutionNavCollapseButton{left:232px;opacity:0;position:absolute;top:24px;z-index:2}@media screen and (prefers-reduced-motion:no-preference){.kbnSolutionNavCollapseButton{transition:opacity .15s,left .15s,background .15s}}.kbnSolutionNavCollapseButton:focus,.kbnSolutionNavCollapseButton:hover{transition-delay:0s!important}.kbnSolutionNavCollapseButton:focus,.kbnSolutionNavCollapseButton:hover,.kbnSolutionNav__sidebar:hover .kbnSolutionNavCollapseButton{left:224px;opacity:1}.kbnSolutionNav__sidebar:hover .kbnSolutionNavCollapseButton{transition-delay:.7s}.kbnSolutionNavCollapseButton:not(.kbnSolutionNavCollapseButton-isCollapsed){background-color:#1d1e24!important}.kbnSolutionNavCollapseButton-isCollapsed{align-items:flex-start;border-radius:0;bottom:0;height:100%;left:0!important;opacity:1!important;padding-top:32px;right:auto;top:0;transition-delay:0s!important;width:40px}",""]),e.exports=t},240:function(e,t,a){var n=a(26),s=a(241);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);n(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},241:function(e,t,a){(t=a(27)(!1)).push([e.i,".kbnSolutionNavCollapseButton{left:232px;opacity:0;position:absolute;top:24px;z-index:2}@media screen and (prefers-reduced-motion:no-preference){.kbnSolutionNavCollapseButton{transition:opacity .15s,left .15s,background .15s}}.kbnSolutionNavCollapseButton:focus,.kbnSolutionNavCollapseButton:hover{transition-delay:0s!important}.kbnSolutionNavCollapseButton:focus,.kbnSolutionNavCollapseButton:hover,.kbnSolutionNav__sidebar:hover .kbnSolutionNavCollapseButton{left:224px;opacity:1}.kbnSolutionNav__sidebar:hover .kbnSolutionNavCollapseButton{transition-delay:.7s}.kbnSolutionNavCollapseButton:not(.kbnSolutionNavCollapseButton-isCollapsed){background-color:#fff!important}.kbnSolutionNavCollapseButton-isCollapsed{align-items:flex-start;border-radius:0;bottom:0;height:100%;left:0!important;opacity:1!important;padding-top:32px;right:auto;top:0;transition-delay:0s!important;width:40px}",""]),e.exports=t},351:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(77),s=a.n(n),i=a(2),r=a(138);var o=a(3);const l={name:"h42ud6",styles:"display:inherit;height:inherit;width:inherit;flex:1;flex-flow:column nowrap"},c=({children:e,navigateToUrl:t,currentAppId:a,...n})=>{const r=Object(i.useRef)(null),c=Object(i.useCallback)((e=>(({event:e,container:t,navigateToUrl:a,currentAppId:n})=>{if(!t||!n)return;const s=((e,t)=>{let a=e;do{var n,s;if("a"===(null===(n=a)||void 0===n?void 0:n.tagName.toLowerCase()))return a;const e=null===(s=a)||void 0===s?void 0:s.parentElement;if(!e||e===document.body||e===t)break;a=e}while(parent||parent!==document.body||parent!==t)})(e.target,t);if(!s)return;const i=s.href,r=""===s.target||"_self"===s.target,o=0===e.button;i&&r&&o&&!e.defaultPrevented&&!(e=>e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)(e)&&(e.preventDefault(),a(s.href))})({event:e,currentAppId:a,navigateToUrl:t,container:r.current})),[a,t]);return Object(o.jsx)("div",s()({onClick:c,ref:r,css:l,"data-test-subj":"kbnRedirectAppLink"},n),e)},u=({children:e,...t})=>Object(o.jsx)(c,s()({},Object(r.c)(),t),e)},357:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(77),s=a.n(n),i=(a(215),a(2),a(28)),r=a.n(i),o=a(5),l=a(3);const c=e=>{const{className:t,size:a,...n}=e,i={};return(e=>void 0===e.iconType)(e)&&(i.iconType=`logo${e.name.replace(/\s+/g,"")}`),Object(l.jsx)(o.EuiAvatar,s()({className:r()("kbnSolutionAvatar",{[`kbnSolutionAvatar--${a}`]:a},t),size:"xxl"===a?"xl":a,iconSize:a,color:"plain"},n,i))}},363:function(e,t,a){"use strict";a.d(t,"a",(function(){return M})),a.d(t,"b",(function(){return T}));var n=a(77),s=a.n(n),i=a(2),r=a(28),o=a.n(r),l=a(5),c=a(365),u=a(0),d=a(48),b=a(357),g=a(351),p=a(221),m=a.n(p),f=a(3);const j=u.i18n.translate("sharedUXPackages.card.noData.noPermission.title",{defaultMessage:"Contact your administrator"}),h=u.i18n.translate("sharedUXPackages.card.noData.noPermission.description",{defaultMessage:"This integration is not yet enabled. Your administrator has the required permissions to turn it on."}),v=u.i18n.translate("sharedUXPackages.card.noData.title",{defaultMessage:"Add Elastic Agent"}),x=u.i18n.translate("sharedUXPackages.card.noData.description",{defaultMessage:"Use Elastic Agent for a simple, unified way to collect data from your machines."}),O=()=>Object(f.jsx)(l.EuiImage,{size:"fullWidth",style:{width:"max(100%, 360px)",height:240,objectFit:"cover",background:"aliceblue"},url:m.a,alt:""}),y=({title:e,description:t,canAccessFleet:a,button:n,href:i,...r})=>Object(f.jsx)(l.EuiCard,s()({css:{maxWidth:400,marginInline:"auto"},paddingSize:"l",title:a?Object(f.jsx)(l.EuiScreenReaderOnly,null,Object(f.jsx)("span",null,e||v)):Object(f.jsx)(l.EuiTextColor,{color:"default"},j),description:a?t||x:Object(f.jsx)(l.EuiTextColor,{color:"default"},h),footer:(()=>{if(a)return n&&"string"!=typeof n?n:Object(f.jsx)(l.EuiButton,{fill:!0,href:i,"data-test-subj":"noDataDefaultFooterAction"},n||e||v)})(),isDisabled:!a,href:i,image:Object(f.jsx)(O,null)},r));var C=a(220);const S=({href:e,category:t,description:a,...n})=>{var r;const{canAccessFleet:o,addBasePath:l}=Object(C.c)(),c=Object(i.useMemo)((()=>{if(e)return e;const a="/app/integrations/browse";return l(t?`${a}/${t}`:a)}),[l,e,t]);return Object(f.jsx)(g.a,null,Object(f.jsx)(y,s()({},n,{href:c,canAccessFleet:null!==(r=n.canAccessFleet)&&void 0!==r?r:o,description:a})))},k=({action:e})=>{const t=Object.keys(e);if(1!==t.length)return null;const a=t[0],n="elasticAgent"===a?"empty-page-agent-action":`empty-page-${a}-action`;return Object(f.jsx)(S,s()({key:n},e[a]))},E=({solution:e,logo:t,action:a,docsLink:n,pageTitle:s,pageDescription:i,className:r})=>{const c=s||u.i18n.translate("sharedUXPackages.noDataPage.welcomeTitle",{defaultMessage:"Welcome to Elastic {solution}!",values:{solution:e}}),g=n?Object(f.jsx)(l.EuiLink,{href:n,target:"_blank"},Object(f.jsx)(d.FormattedMessage,{id:"sharedUXPackages.noDataPage.intro.link",defaultMessage:"learn more"})):null,p=null!=i?i:g?Object(f.jsx)(d.FormattedMessage,{id:"sharedUXPackages.noDataPage.intro",defaultMessage:"Add your data to get started, or {link} about {solution}.",values:{solution:e,link:g}}):Object(f.jsx)(d.FormattedMessage,{id:"sharedUXPackages.noDataPage.introNoDocLink",defaultMessage:"Add your data to get started."});return Object(f.jsx)(l.EuiPageTemplate.Section,{alignment:"center",grow:!0,className:o()("kbnNoDataPageContents",r),"data-test-subj":"kbnNoDataPage"},Object(f.jsx)(l.EuiText,{textAlign:"center"},Object(f.jsx)(b.a,{name:e,iconType:t||`logo${e}`,size:"xxl"}),Object(f.jsx)(l.EuiSpacer,{size:"l"}),Object(f.jsx)("h1",null,c),Object(f.jsx)(l.EuiTextColor,{color:"subdued"},Object(f.jsx)("p",null,p))),Object(f.jsx)(l.EuiSpacer,{size:"xxl"}),Object(f.jsx)(k,{action:a}))},M=e=>{const{className:t,noDataConfig:a,pageSideBar:n,pageSideBarProps:i,...r}=e;if(!a)return null;let c;n&&(c=Object(f.jsx)(l.EuiPageTemplate.Sidebar,i,n));const u=((e,t)=>o()("kbnPageTemplate","",t||""))(0,t);return Object(f.jsx)(l.EuiPageTemplate,s()({className:u,restrictWidth:950,panelled:!1,offset:0,minHeight:0},r),c,Object(f.jsx)(E,a))},T=Object(c.a)(M)},365:function(e,t,a){"use strict";a.d(t,"a",(function(){return C}));var n=a(77),s=a.n(n),i=a(2),r=a.n(i),o=a(28),l=a.n(o),c=a(5),u=(a(232),a(48)),d=a(0),b=a(357),g=(a(237),a(3));const p=d.i18n.translate("sharedUXPackages.solutionNav.collapsibleLabel",{defaultMessage:"Collapse side navigation"}),m=d.i18n.translate("sharedUXPackages.solutionNav.openLabel",{defaultMessage:"Open side navigation"}),f=({className:e,isCollapsed:t,...a})=>{const n=l()("kbnSolutionNavCollapseButton",{"kbnSolutionNavCollapseButton-isCollapsed":t},e);return Object(g.jsx)(c.EuiButtonIcon,s()({className:n,size:"s",color:"text",iconType:t?"menuRight":"menuLeft","aria-label":t?m:p,title:t?m:p},a))},j="248px",h=(e,t)=>e.map((e=>(e.tabIndex=t?-1:void 0,e.items=e.items&&h(e.items,t),e))),v=Object(c.htmlIdGenerator)("SolutionNav"),x=({children:e,headingProps:t,icon:a,isOpenOnDesktop:n=!1,items:o,mobileBreakpoints:p=["xs","s"],closeFlyoutButtonPosition:m="outside",name:x,onCollapse:O,canBeCollapsed:y=!0,...C})=>{const S=Object(c.useIsWithinBreakpoints)(p),k=Object(c.useIsWithinBreakpoints)(["m"]),E=Object(c.useIsWithinMinBreakpoint)("l"),[M,T]=Object(i.useState)(!1),w=E&&!n&&y,I=!!e,N=l()("kbnSolutionNav",{"kbnSolutionNav--hidden":w}),L=(null==t?void 0:t.id)||v("heading"),F=(null==t?void 0:t.element)||"h2",P=Object(g.jsx)(c.EuiTitle,{size:"xs",id:L,"data-test-subj":null==t?void 0:t["data-test-subj"],className:"kbnSolutionNav__title"},Object(g.jsx)(F,null,a&&Object(g.jsx)(b.a,{className:"kbnSolutionNav__titleAvatar",iconType:a,name:x}),Object(g.jsx)("strong",null,Object(g.jsx)(u.FormattedMessage,{id:"sharedUXPackages.solutionNav.mobileTitleText",defaultMessage:"{solutionName} {menuText}",values:{solutionName:x||"Navigation",menuText:S?d.i18n.translate("sharedUXPackages.solutionNav.menuText",{defaultMessage:"menu"}):""}})))),B=Object(i.useMemo)((()=>I?e:o?Object(g.jsx)(c.EuiSideNav,s()({"aria-labelledby":L,"aria-hidden":w,items:h(o,w),mobileBreakpoints:[]},C)):null),[e,L,I,w,o,C]),{euiTheme:D}=Object(c.useEuiTheme)(),A=Object(i.useMemo)((()=>E?n?j:D.size.xxl:k?M||!y?j:D.size.xxl:"0"),[D,n,M,y,k,E]),{setGlobalCSSVariables:_}=Object(c.useEuiThemeCSSVariables)();return Object(i.useEffect)((()=>{_({"--kbnSolutionNavOffset":A})}),[A,_]),Object(g.jsx)(r.a.Fragment,null,S&&Object(g.jsx)(c.EuiCollapsibleNavGroup,{className:N,paddingSize:"none",background:"none",title:P,titleElement:"span",isCollapsible:y,initialIsOpen:!1},Object(g.jsx)(c.EuiPanel,{color:"transparent",paddingSize:"s"},B)),k&&Object(g.jsx)(r.a.Fragment,null,(M||!y)&&Object(g.jsx)(c.EuiFlyout,{ownFocus:!1,outsideClickCloses:!0,onClose:()=>T(!1),side:"left",size:248,closeButtonPosition:m,className:"kbnSolutionNav__flyout",hideCloseButton:!y},Object(g.jsx)(c.EuiPageSidebar,{className:N,hasEmbellish:!0},P,Object(g.jsx)(c.EuiSpacer,{size:"l"}),B)),y&&Object(g.jsx)(f,{isCollapsed:!0,onClick:()=>{T(!M)}})),E&&Object(g.jsx)(r.a.Fragment,null,Object(g.jsx)("div",{className:N},P,Object(g.jsx)(c.EuiSpacer,{size:"l"}),B),y&&Object(g.jsx)(f,{isCollapsed:!n,onClick:O})))};var O=a(141);const y="solutionNavIsCollapsed",C=e=>{const t=t=>{var a;const n=Object(c.useIsWithinBreakpoints)(["m"]),r=Object(c.useIsWithinMinBreakpoint)("l"),[o,u]=Object(i.useState)(!JSON.parse(String(localStorage.getItem(y)))),{solutionNav:d,children:b,...p}=t,{euiTheme:m}=Object(c.useEuiTheme)(),{canBeCollapsed:f=!0}=d,j=n||f&&r&&!o,h=(e=>Object(O.css)("flex:0 1 0;overflow:hidden;",c.euiCanAnimate,"{transition:min-width ",e.animation.fast," ",e.animation.resistance,";}",""))(m),v=l()("kbnSolutionNav__sidebar",{"kbnSolutionNav__sidebar--shrink":j},null===(a=t.pageSideBarProps)||void 0===a?void 0:a.className,h),C=Object(g.jsx)(x,s()({isOpenOnDesktop:o,onCollapse:()=>{u(!o),localStorage.setItem(y,JSON.stringify(o))}},d)),S={paddingSize:"none",...t.pageSideBarProps,minWidth:j?m.size.xxl:void 0,className:v,hasEmbellish:!j};return Object(g.jsx)(e,s()({},p,{pageSideBar:C,pageSideBarProps:S}),b)};var a;return t.displayName=`WithSolutionNavBar(${a=e,a.displayName||a.name||"UnnamedComponent"})`,t}},367:function(e,t,a){"use strict";a.d(t,"a",(function(){return g}));var n=a(77),s=a.n(n),i=(a(2),a(5)),r=a(363),o=a(28),l=a.n(o),c=a(365),u=a(3);const d=({className:e,pageHeader:t,children:a,isEmptyState:n,pageSideBar:r,pageSideBarProps:o,emptyPageBody:c,...d})=>{let b,g;if(n&&t&&!a){const{iconType:e,pageTitle:n,description:s,rightSideItems:r}=t,o=n?Object(u.jsx)("h1",null,n):void 0,l=s?Object(u.jsx)("p",null,s):void 0;a=Object(u.jsx)(i.EuiPageTemplate.EmptyPrompt,{iconType:e,iconColor:"",title:o,body:l,actions:r})}else t&&(b=Object(u.jsx)(i.EuiPageTemplate.Header,t));if(n&&c&&(a=c),r){const e={...o};e.sticky=!0,g=Object(u.jsx)(i.EuiPageTemplate.Sidebar,e,r)}const p=((e,t)=>l()("kbnPageTemplate","",t||""))(0,e);return Object(u.jsx)(i.EuiPageTemplate,s()({className:p,offset:0,minHeight:b?"calc(100vh - var(--kbnAppHeadersOffset, var(--euiFixedHeadersOffset, 0)))":0,grow:!b&&void 0},d),g,b,a)},b=Object(c.a)(d),g=Object.assign((({className:e,children:t,solutionNav:a,noDataConfig:n,...i})=>n&&a?Object(u.jsx)(r.b,{"data-test-subj":i["data-test-subj"],className:e,noDataConfig:n,solutionNav:a}):n?Object(u.jsx)(r.a,{"data-test-subj":i["data-test-subj"],className:e,noDataConfig:n}):a?Object(u.jsx)(b,s()({className:e,solutionNav:a,children:t},i)):Object(u.jsx)(d,s()({className:e,children:t},i))),{Sidebar:i.EuiPageTemplate.Sidebar,Header:i.EuiPageTemplate.Header,Section:i.EuiPageTemplate.Section,BottomBar:i.EuiPageTemplate.BottomBar,EmptyPrompt:i.EuiPageTemplate.EmptyPrompt})},77:function(e,t,a){e.exports=a(37)(4)},83:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(38),s=a(2),i=n.__importDefault(a(111));t.default=function(e,t){var a=s.useState(t),n=a[0],r=a[1];return i.default((function(){var t=e.subscribe(r);return function(){return t.unsubscribe()}}),[e]),n}},88:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(2),s=a(50),i=a.n(s),r=a(97),o=a(3);const l=(e,t)=>a=>(i.a.render(Object(o.jsx)(r.a,t,e),a),()=>i.a.unmountComponentAtNode(a));a(4),a(0),n.Component},90:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(2);const s=Object(n.createContext)(void 0)},91:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n={startPageChange:"start::pageChange",endPageReady:"end::pageReady"}},97:function(e,t,a){"use strict";a.d(t,"a",(function(){return k}));var n=a(77),s=a.n(n),i=a(2),r=a(61),o=a(112),l=a(83),c=a.n(l),u=a(55),d=a.n(u),b=a(5);const g="eui-global",p="eui-utilities",m={darkMode:!1};var f=a(3);const j=[b.euiStylisPrefixer],h=d()({key:"css",stylisPlugins:j,container:document.querySelector('meta[name="emotion"]')}),v=d()({key:g,stylisPlugins:j,container:document.querySelector(`meta[name="${g}"]`)}),x=d()({key:p,stylisPlugins:j,container:document.querySelector(`meta[name="${p}"]`)});h.compat=!0,v.compat=!0,x.compat=!0;const O={default:h,global:v,utility:x},y=({theme:{theme$:e},globalStyles:t,colorMode:a,modify:n,children:s})=>{const r=c()(e,m),o=Object(i.useMemo)((()=>(e=>e.darkMode?b.COLOR_MODES_STANDARD.dark:b.COLOR_MODES_STANDARD.light)(r)),[r]),l=a||o,u=!1!==t&&void 0;return Object(f.jsx)(b.EuiProvider,{cache:O,modify:n,colorMode:l,globalStyles:u,utilityClasses:u},s)},C=({children:e,i18n:t,...a})=>Object(r.useIsNestedEuiProvider)()?(Object(o.emitEuiProviderWarning)("KibanaRootContextProvider has likely been nested in this React tree, either by direct reference or by KibanaRenderContextProvider.  The result of this nesting is a nesting of EuiProvider, which has negative effects.  Check your React tree for nested Kibana context providers."),Object(f.jsx)(t.Context,null,e)):Object(f.jsx)(y,a,Object(f.jsx)(t.Context,null,e));var S=a(57);const k=({children:e,...t})=>Object(f.jsx)(C,s()({globalStyles:!1},t),Object(f.jsx)(S.KibanaErrorBoundaryProvider,{analytics:t.analytics},Object(f.jsx)(S.KibanaErrorBoundary,null,e)))},98:function(e,t,a){"use strict";a.d(t,"d",(function(){return C})),a.d(t,"c",(function(){return E})),a.d(t,"b",(function(){return k})),a.d(t,"a",(function(){return I})),a.d(t,"g",(function(){return O})),a.d(t,"h",(function(){return y})),a.d(t,"e",(function(){return h})),a.d(t,"f",(function(){return j})),a.d(t,"i",(function(){return v}));var n=a(2),s=a.n(n),i=a(77),r=a.n(i),o=a(118),l=a(5),c=a(119),u=a(3);const d=({user:e,avatar:t,...a})=>{const n=Object(c.e)(e);return Object(u.jsx)(l.EuiToolTip,r()({content:Object(u.jsx)(l.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},Object(u.jsx)(l.EuiFlexItem,{grow:!1},Object(u.jsx)(o.a,{user:e,avatar:t,size:"l"})),Object(u.jsx)(l.EuiFlexItem,{grow:!0,style:{minWidth:0}},Object(u.jsx)("div",null,n),e.email&&e.email!==n?Object(u.jsx)(l.EuiText,{size:"xs"},e.email):void 0))},a))},b=({user:e,avatar:t,...a})=>e?Object(u.jsx)(d,{user:e,avatar:t,position:"top",delay:"regular"},Object(u.jsx)(o.a,r()({user:e,avatar:t},a))):Object(u.jsx)(o.a,a);var g=a(62);const p=()=>{let e,t;const a=new Promise(((a,n)=>{e=a,t=n}));return{resolve:e,reject:t,value:a}},m=new g.QueryClient({defaultOptions:{queries:{retry:!1,staleTime:18e5}}}),f=s.a.createContext(null),j=({children:e,...t})=>Object(u.jsx)(g.QueryClientProvider,{client:m},Object(u.jsx)(f.Provider,{value:t},e)),h=({children:e,core:t})=>{const a=Object(n.useCallback)((async e=>0===e.length?[]:t.userProfile.bulkGet({uids:new Set(e),dataPath:"avatar"})),[t.userProfile]),s=Object(n.useMemo)((()=>(e=>{const t={batch:new Set,currentRequest:p(),timer:void 0,start:null,latest:null};return{fetch:a=>(t.start||(t.start=Date.now()),t.latest=Date.now(),t.batch.add(a),clearTimeout(t.timer),t.timer=setTimeout((()=>{const a=e.fetcher([...t.batch]),n=t.currentRequest;return t.batch=new Set,t.currentRequest=p(),t.timer=void 0,t.start=null,t.latest=null,a.then((e=>{n.resolve(e)})).catch((e=>{n.reject(e)})),a}),50-(t.latest-t.start)),t.currentRequest.value.then((t=>e.resolver(t,a))))}})({fetcher:a,resolver:(e,t)=>e.find((e=>e.uid===t))}).fetch),[a]);return Object(u.jsx)(j,{getUserProfile:s,bulkGetUserProfiles:a},e)};function v(){const e=Object(n.useContext)(f);if(!e)throw new Error("UserProfilesContext is missing. Ensure your component or React root is wrapped with <UserProfilesProvider />");return e}const x=e=>["user-profile",{uids:e}],O=e=>{const{getUserProfile:t}=v();return Object(g.useQuery)((e=>["user-profile",e])(e),(async()=>t(e)),{staleTime:1/0})},y=(e,t)=>{var a;const{bulkGetUserProfiles:n}=v();return Object(g.useQuery)({queryKey:x(e),queryFn:()=>n(e),enabled:null===(a=null==t?void 0:t.enabled)||void 0===a||a})};function C(e){const t=O(e.uid);return t.data?Object(u.jsx)(b,{user:t.data.user,avatar:t.data.data.avatar,size:"s","data-test-subj":`userAvatarTip-${t.data.user.username}`}):null}var S=a(48);const k=e=>Object(u.jsx)(T,r()({content:Object(u.jsx)(S.FormattedMessage,{id:"contentManagement.userProfiles.noCreatorTip",defaultMessage:"Creators are assigned when objects are created (after version 8.14)"})},e)),E=e=>Object(u.jsx)(T,r()({content:Object(u.jsx)(S.FormattedMessage,{id:"contentManagement.userProfiles.noUpdaterTip",defaultMessage:"Updated by is set when objects are updated (after version 8.14)"})},e));var M={name:"xnsfkl",styles:"text-wrap:balance"};const T=({iconType:e="questionInCircle",...t})=>Object(u.jsx)(l.EuiIconTip,r()({"aria-label":"Additional information",position:"top",color:"inherit",iconProps:{style:{verticalAlign:"text-bottom",marginLeft:2}},css:M,type:e},t));var w=a(0);function I({entityName:e=w.i18n.translate("contentManagement.userProfiles.managedAvatarTip.defaultEntityName",{defaultMessage:"object"})}){return Object(u.jsx)(l.EuiToolTip,{content:w.i18n.translate("contentManagement.userProfiles.managedAvatarTip.avatarTooltip",{defaultMessage:"This {entityName} is created and managed by Elastic. Clone it to make changes.",values:{entityName:e}})},Object(u.jsx)(l.EuiAvatar,{name:w.i18n.translate("contentManagement.userProfiles.managedAvatarTip.avatarLabel",{defaultMessage:"Managed"}),iconType:"logoElastic",iconSize:"l",color:"subdued",size:"s","data-test-subj":"managedAvatarTip"}))}}}]);