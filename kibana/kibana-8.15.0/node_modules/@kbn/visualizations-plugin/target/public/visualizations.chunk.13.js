(window.visualizations_bundle_jsonpfunction=window.visualizations_bundle_jsonpfunction||[]).push([[13],{213:function(a,e,t){"use strict";t.r(e),t.d(e,"AnalyticsNoDataPageProvider",(function(){return p})),t.d(e,"AnalyticsNoDataPageKibanaProvider",(function(){return j})),t.d(e,"AnalyticsNoDataPage",(function(){return X})),t.d(e,"AnalyticsNoDataPageComponent",(function(){return T})),t.d(e,"getHasApiKeys$",(function(){return N}));var s=t(3),n=t.n(s),i=t(6);const o=n.a.createContext(null),r=({children:a,...e})=>{const{canCreateNewDataView:t,dataViewsDocLink:s,openDataViewEditor:n,onTryESQL:r,esqlDocLink:c}=e;return Object(i.jsx)(o.Provider,{value:{canCreateNewDataView:t,dataViewsDocLink:s,openDataViewEditor:n,onTryESQL:r,esqlDocLink:c}},a)},c=({children:a,...e})=>{var t,n;const{share:r,coreStart:{application:{navigateToApp:c}}}=e,l=(({locatorClient:a,navigateToApp:e})=>{const[t,n]=Object(s.useState)();return Object(s.useEffect)((()=>{(async t=>{const s=await(null==a||null===(t=a.get("DISCOVER_ESQL_LOCATOR"))||void 0===t?void 0:t.getLocation({}));if(!s)return;const{app:i,path:o,state:r}=s;n((()=>()=>{e(i,{path:o,state:r})}))})()}),[a,e]),t})({locatorClient:null==r?void 0:r.url.locators,navigateToApp:c});return Object(i.jsx)(o.Provider,{value:{dataViewsDocLink:null===(t=e.coreStart.docLinks.links.indexPatterns)||void 0===t?void 0:t.introduction,canCreateNewDataView:e.dataViewEditor.userPermissions.editDataView(),openDataViewEditor:e.dataViewEditor.openEditor,esqlDocLink:null===(n=e.coreStart.docLinks.links.query)||void 0===n?void 0:n.queryESQL,onTryESQL:l}},a)};var l=t(130);const d=n.a.createContext(null),u=({children:a,...e})=>{const{hasESData:t,hasUserDataView:s}=e;return Object(i.jsx)(d.Provider,{value:{hasESData:t,hasUserDataView:s}},Object(i.jsx)(r,e,Object(i.jsx)(l.b,e,a)))},g=({children:a,...e})=>{const{dataViews:t}=e,s={hasESData:t.hasData.hasESData,hasUserDataView:t.hasData.hasUserDataView};return Object(i.jsx)(d.Provider,{value:s},Object(i.jsx)(c,e,Object(i.jsx)(l.a,e,a)))},b=n.a.createContext(null),p=({children:a,...e})=>{const{kibanaGuideDocLink:t,customBranding:s,getHttp:n,prependBasePath:o,pageFlavor:r}=e;return Object(i.jsx)(b.Provider,{value:{kibanaGuideDocLink:t,customBranding:s,getHttp:n,prependBasePath:o,pageFlavor:r}},Object(i.jsx)(u,e,a))},j=({children:a,...e})=>{var t,s;const n={kibanaGuideDocLink:e.coreStart.docLinks.links.kibana.guide,customBranding:{hasCustomBranding$:e.coreStart.customBranding.hasCustomBranding$},getHttp:e.coreStart.http.get,prependBasePath:e.coreStart.http.basePath.prepend,pageFlavor:null!==(t=null===(s=e.noDataPage)||void 0===s?void 0:s.getAnalyticsNoDataPageFlavor())&&void 0!==t?t:"kibana"};return Object(i.jsx)(b.Provider,{value:n},Object(i.jsx)(g,e,a))};var h=t(41),w=t.n(h),D=t(45),v=t.n(D),f=t(4),y=t(10),k=t(215),O=t(64),m=t(218);function x({href:a}){return Object(i.jsx)("dl",null,Object(i.jsx)(y.EuiTitle,{size:"xxs"},Object(i.jsx)("dt",{className:"eui-displayInline"},Object(i.jsx)(O.FormattedMessage,{id:"sharedUXPackages.noDataViewsPrompt.learnMore",defaultMessage:"Want to learn more?"}))),"â€ƒ",Object(i.jsx)("dd",{className:"eui-displayInline"},Object(i.jsx)(y.EuiLink,{href:a,target:"_blank",external:!0},Object(i.jsx)(O.FormattedMessage,{id:"sharedUXPackages.noDataViewsPrompt.readDocumentation",defaultMessage:"Read the docs"}))))}const P=f.i18n.translate("sharedUXPackages.noDataViewsPrompt.addDataViewText",{defaultMessage:"Create data view"}),C=({onClickCreate:a,canCreateNewDataView:e,onTryESQL:t,esqlDocLink:s})=>t||e?Object(i.jsx)(n.a.Fragment,null,e&&Object(i.jsx)(y.EuiButton,{onClick:a,iconType:"plusInCircle",fill:!0,"data-test-subj":"createDataViewButton"},P),e&&t&&Object(i.jsx)(y.EuiSpacer,null),t&&Object(i.jsx)(y.EuiText,{size:"xs",color:"subdued"},Object(i.jsx)(O.FormattedMessage,{id:"sharedUXPackages.no_data_views.esqlMessage",defaultMessage:"Alternatively, you can query your data directly using ES|QL. {docsLink}",values:{docsLink:s&&Object(i.jsx)(y.EuiLink,{href:s,target:"_blank"},Object(i.jsx)(O.FormattedMessage,{id:"sharedUXPackages.no_data_views.esqlDocsLink",defaultMessage:"Learn more."}))}}),Object(i.jsx)(y.EuiSpacer,{size:"s"}),Object(i.jsx)(y.EuiButton,{color:"success",onClick:t,size:"s","data-test-subj":"tryESQLLink"},Object(i.jsx)(O.FormattedMessage,{id:"sharedUXPackages.no_data_views.esqlButtonLabel",defaultMessage:"Language: ES|QL"})))):null,E=({onClickCreate:a,canCreateNewDataView:e,dataViewsDocLink:s,onTryESQL:o,esqlDocLink:r,emptyPromptColor:c="plain"})=>{const l=e?Object(i.jsx)("h2",null,Object(i.jsx)(O.FormattedMessage,{id:"sharedUXPackages.noDataViewsPrompt.youHaveData",defaultMessage:"You have data in Elasticsearch."}),Object(i.jsx)("br",null),Object(i.jsx)(O.FormattedMessage,{id:"sharedUXPackages.noDataViewsPrompt.nowCreate",defaultMessage:"Now, create a data view."})):Object(i.jsx)("h2",null,Object(i.jsx)(O.FormattedMessage,{id:"sharedUXPackages.noDataViewsPrompt.noPermission.title",defaultMessage:"You need permission to create data views"})),d=e?Object(i.jsx)("p",null,Object(i.jsx)(O.FormattedMessage,{id:"sharedUXPackages.noDataViewsPrompt.dataViewExplanation",defaultMessage:"Data views identify the Elasticsearch data you want to explore. You can point data views to one or more data streams, indices, and index aliases, such as your log data from yesterday, or all indices that contain your log data."})):Object(i.jsx)("p",null,Object(i.jsx)(O.FormattedMessage,{id:"sharedUXPackages.noDataViewsPrompt.noPermission.dataViewExplanation",defaultMessage:"Data views identify the Elasticsearch data that you want to explore. To create data views, ask your administrator for the required permissions."})),u=s?Object(i.jsx)(x,{href:s}):void 0,g=Object(m.a)(n.a.lazy((()=>t.e(9).then(t.bind(null,210)).then((({DataViewIllustration:a})=>({default:a}))))),Object(i.jsx)(y.EuiPanel,{color:"subdued",style:{width:226,height:206}})),b=Object(i.jsx)(g,null),p=Object(i.jsx)(C,{onClickCreate:a,canCreateNewDataView:e,onTryESQL:o,esqlDocLink:r});return Object(i.jsx)(y.EuiEmptyPrompt,{"data-test-subj":"noDataViewsPrompt",layout:"horizontal",css:Object(i.css)("max-width:",830,"px!important;flex-grow:0;",""),color:c,actions:p,icon:b,title:l,body:d,footer:u})},L=({onDataViewCreated:a,onESQLNavigationComplete:e,allowAdHocDataView:t=!1})=>{const{canCreateNewDataView:n,openDataViewEditor:r,dataViewsDocLink:c,onTryESQL:l,esqlDocLink:d}=function(){const a=Object(s.useContext)(o);if(!a)throw new Error("NoDataViewsPromptContext is missing.  Ensure your component or React root is wrapped with NoDataViewsPromptProvider.");return a}(),u=Object(s.useRef)();Object(s.useEffect)((()=>()=>{null!=u&&u.current&&(null==u||u.current())}),[]);const g=Object(s.useCallback)((a=>{u.current=a}),[]),b=Object(s.useCallback)((()=>{if(!n)return;const e=r({onSave:e=>{a(e)},allowAdHocDataView:t});g&&g(e)}),[n,r,t,g,a]);return Object(i.jsx)(E,{onClickCreate:b,canCreateNewDataView:n,dataViewsDocLink:c,esqlDocLink:d,onTryESQL:l?()=>{l(),e&&e()}:void 0})};var V={name:"y1f223",styles:"margin:auto"},S={name:"y1f223",styles:"margin:auto"};const A=({onDataViewCreated:a,onESQLNavigationComplete:e,noDataConfig:t,allowAdHocDataView:n,showPlainSpinner:o})=>{const r=function(){const a=Object(s.useContext)(d);if(!a)throw new Error("KibanaNoDataPageContext is missing.  Ensure your component or React root is wrapped with KibanaNoDataPageContext.");return a}(),{hasESData:c,hasUserDataView:l}=r,[u,g]=Object(s.useState)(!0),[b,p]=Object(s.useState)(!1),[j,h]=Object(s.useState)(!1);return Object(s.useEffect)((()=>{(async()=>{p(await c()),h(await l()),g(!1)})().catch((()=>{g(!1)}))}),[c,l]),u?o?Object(i.jsx)(y.EuiLoadingSpinner,{css:V,size:"xxl"}):Object(i.jsx)(y.EuiLoadingElastic,{css:S,size:"xxl"}):!j&&b?Object(i.jsx)(L,{onDataViewCreated:a,onESQLNavigationComplete:e,allowAdHocDataView:n}):b?null:Object(i.jsx)(k.a,{noDataConfig:t})};var M=t(0);const N=({get:a})=>Object(M.from)(a("/internal/security/api_key/_has_active")).pipe(Object(M.map)((a=>({isLoading:!1,hasApiKeys:a.hasApiKeys,error:null}))),Object(M.startWith)({isLoading:!0,hasApiKeys:null,error:null}),Object(M.catchError)((a=>(console.error("Could not determine whether user has API keys:",a),Object(M.of)({hasApiKeys:null,isLoading:!1,error:a}))))),U={kibana:({kibanaGuideDocLink:a})=>({solution:f.i18n.translate("sharedUXPackages.noDataConfig.analytics",{defaultMessage:"Analytics"}),pageTitle:f.i18n.translate("sharedUXPackages.noDataConfig.analyticsPageTitle",{defaultMessage:"Welcome to Analytics!"}),logo:"logoKibana",action:{elasticAgent:{title:f.i18n.translate("sharedUXPackages.noDataConfig.addIntegrationsTitle",{defaultMessage:"Add integrations"}),description:f.i18n.translate("sharedUXPackages.noDataConfig.addIntegrationsDescription",{defaultMessage:"Use Elastic Agent to collect data and build out Analytics solutions."}),"data-test-subj":"kbnOverviewAddIntegrations"}},docsLink:a}),serverless_search:({hasApiKeys:a,prependBasePath:e})=>({solution:f.i18n.translate("sharedUXPackages.noDataConfig.elasticsearch",{defaultMessage:"Elasticsearch"}),pageTitle:f.i18n.translate("sharedUXPackages.noDataConfig.elasticsearchPageTitle",{defaultMessage:"Welcome to Elasticsearch!"}),logo:"logoElasticsearch",action:{elasticsearch:{title:f.i18n.translate("sharedUXPackages.noDataConfig.elasticsearchTitle",{defaultMessage:"Add data"}),description:f.i18n.translate("sharedUXPackages.noDataConfig.elasticsearchDescription",{defaultMessage:"Set up your programming language client, ingest some data, and start searching."}),"data-test-subj":"kbnOverviewElasticsearchAddData",href:e(a?"/app/elasticsearch/#ingestData":"/app/elasticsearch/"),canAccessFleet:!0}}}),serverless_observability:({prependBasePath:a})=>({solution:f.i18n.translate("sharedUXPackages.noDataConfig.observability",{defaultMessage:"Observability"}),pageTitle:f.i18n.translate("sharedUXPackages.noDataConfig.observabilityPageTitle",{defaultMessage:"Welcome to Elastic Observability!"}),pageDescription:f.i18n.translate("sharedUXPackages.noDataConfig.observabilityPageDescription",{defaultMessage:"Converge metrics, logs, and traces to monitor the health of your applications."}),logo:"logoObservability",action:{observability:{title:f.i18n.translate("sharedUXPackages.noDataConfig.observabilityTitle",{defaultMessage:"Add data"}),description:f.i18n.translate("sharedUXPackages.noDataConfig.observabilityDescription",{defaultMessage:"Get started by collecting data using one of our many integrations."}),"data-test-subj":"kbnObservabilityNoData",href:a("/app/observabilityOnboarding/")}}})},T=({onDataViewCreated:a,onESQLNavigationComplete:e,allowAdHocDataView:t,showPlainSpinner:n,...o})=>{var r;const{prependBasePath:c,kibanaGuideDocLink:l,getHttp:d,pageFlavor:u}=o,{hasApiKeys:g}=null!==(r=v()(Object(s.useMemo)((()=>N({get:d})),[d])))&&void 0!==r?r:{},b=U[u]({kibanaGuideDocLink:l,prependBasePath:c,hasApiKeys:Boolean(g)});return Object(i.jsx)(A,{noDataConfig:b,onDataViewCreated:a,onESQLNavigationComplete:e,allowAdHocDataView:t,showPlainSpinner:n})},X=({onDataViewCreated:a,onESQLNavigationComplete:e,allowAdHocDataView:t})=>{var n;const{customBranding:o,...r}=function(){const a=Object(s.useContext)(b);if(!a)throw new Error("AnalyticsNoDataPage Context is missing.  Ensure your component or React root is wrapped with AnalyticsNoDataPageContext.");return a}(),c=null!==(n=v()(o.hasCustomBranding$))&&void 0!==n&&n;return Object(i.jsx)(T,w()({},r,{showPlainSpinner:c,allowAdHocDataView:t,onDataViewCreated:a,onESQLNavigationComplete:e}))}}}]);