(window.visualizations_bundle_jsonpfunction=window.visualizations_bundle_jsonpfunction||[]).push([[2],Array(88).concat([function(e,t,a){"use strict";a.d(t,"d",(function(){return S})),a.d(t,"c",(function(){return w})),a.d(t,"b",(function(){return E})),a.d(t,"a",(function(){return L})),a.d(t,"g",(function(){return O})),a.d(t,"h",(function(){return y})),a.d(t,"e",(function(){return j})),a.d(t,"f",(function(){return v})),a.d(t,"i",(function(){return h}));var n=a(3),i=a.n(n),s=a(41),r=a.n(s),o=a(90),l=a(10),c=a(91),u=a(6);const d=({user:e,avatar:t,...a})=>{const n=Object(c.e)(e);return Object(u.jsx)(l.EuiToolTip,r()({content:Object(u.jsx)(l.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},Object(u.jsx)(l.EuiFlexItem,{grow:!1},Object(u.jsx)(o.a,{user:e,avatar:t,size:"l"})),Object(u.jsx)(l.EuiFlexItem,{grow:!0,style:{minWidth:0}},Object(u.jsx)("div",null,n),e.email&&e.email!==n?Object(u.jsx)(l.EuiText,{size:"xs"},e.email):void 0))},a))},b=({user:e,avatar:t,...a})=>e?Object(u.jsx)(d,{user:e,avatar:t,position:"top",delay:"regular"},Object(u.jsx)(o.a,r()({user:e,avatar:t},a))):Object(u.jsx)(o.a,a);var p=a(69);const g=()=>{let e,t;const a=new Promise(((a,n)=>{e=a,t=n}));return{resolve:e,reject:t,value:a}},f=new p.QueryClient({defaultOptions:{queries:{retry:!1,staleTime:18e5}}}),m=i.a.createContext(null),v=({children:e,...t})=>Object(u.jsx)(p.QueryClientProvider,{client:f},Object(u.jsx)(m.Provider,{value:t},e)),j=({children:e,core:t})=>{const a=Object(n.useCallback)((async e=>0===e.length?[]:t.userProfile.bulkGet({uids:new Set(e),dataPath:"avatar"})),[t.userProfile]),i=Object(n.useMemo)((()=>(e=>{const t={batch:new Set,currentRequest:g(),timer:void 0,start:null,latest:null};return{fetch:a=>(t.start||(t.start=Date.now()),t.latest=Date.now(),t.batch.add(a),clearTimeout(t.timer),t.timer=setTimeout((()=>{const a=e.fetcher([...t.batch]),n=t.currentRequest;return t.batch=new Set,t.currentRequest=g(),t.timer=void 0,t.start=null,t.latest=null,a.then((e=>{n.resolve(e)})).catch((e=>{n.reject(e)})),a}),50-(t.latest-t.start)),t.currentRequest.value.then((t=>e.resolver(t,a))))}})({fetcher:a,resolver:(e,t)=>e.find((e=>e.uid===t))}).fetch),[a]);return Object(u.jsx)(v,{getUserProfile:i,bulkGetUserProfiles:a},e)};function h(){const e=Object(n.useContext)(m);if(!e)throw new Error("UserProfilesContext is missing. Ensure your component or React root is wrapped with <UserProfilesProvider />");return e}const x=e=>["user-profile",{uids:e}],O=e=>{const{getUserProfile:t}=h();return Object(p.useQuery)((e=>["user-profile",e])(e),(async()=>t(e)),{staleTime:1/0})},y=(e,t)=>{var a;const{bulkGetUserProfiles:n}=h();return Object(p.useQuery)({queryKey:x(e),queryFn:()=>n(e),enabled:null===(a=null==t?void 0:t.enabled)||void 0===a||a})};function S(e){const t=O(e.uid);return t.data?Object(u.jsx)(b,{user:t.data.user,avatar:t.data.data.avatar,size:"s","data-test-subj":`userAvatarTip-${t.data.user.username}`}):null}var C=a(64);const E=e=>Object(u.jsx)(T,r()({content:Object(u.jsx)(C.FormattedMessage,{id:"contentManagement.userProfiles.noCreatorTip",defaultMessage:"Creators are assigned when objects are created (after version 8.14)"})},e)),w=e=>Object(u.jsx)(T,r()({content:Object(u.jsx)(C.FormattedMessage,{id:"contentManagement.userProfiles.noUpdaterTip",defaultMessage:"Updated by is set when objects are updated (after version 8.14)"})},e));var M={name:"xnsfkl",styles:"text-wrap:balance"};const T=({iconType:e="questionInCircle",...t})=>Object(u.jsx)(l.EuiIconTip,r()({"aria-label":"Additional information",position:"top",color:"inherit",iconProps:{style:{verticalAlign:"text-bottom",marginLeft:2}},css:M,type:e},t));var k=a(4);function L({entityName:e=k.i18n.translate("contentManagement.userProfiles.managedAvatarTip.defaultEntityName",{defaultMessage:"object"})}){return Object(u.jsx)(l.EuiToolTip,{content:k.i18n.translate("contentManagement.userProfiles.managedAvatarTip.avatarTooltip",{defaultMessage:"This {entityName} is created and managed by Elastic. Clone it to make changes.",values:{entityName:e}})},Object(u.jsx)(l.EuiAvatar,{name:k.i18n.translate("contentManagement.userProfiles.managedAvatarTip.avatarLabel",{defaultMessage:"Managed"}),iconType:"logoElastic",iconSize:"l",color:"subdued",size:"s","data-test-subj":"managedAvatarTip"}))}},function(e,t,a){"use strict";var n,i="object"==typeof Reflect?Reflect:null,s=i&&"function"==typeof i.apply?i.apply:function(e,t,a){return Function.prototype.apply.call(e,t,a)};n=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var r=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(a,n){function i(a){e.removeListener(t,s),n(a)}function s(){"function"==typeof e.removeListener&&e.removeListener("error",i),a([].slice.call(arguments))}v(e,t,s,{once:!0}),"error"!==t&&function(e,t,a){"function"==typeof e.on&&v(e,"error",t,{once:!0})}(e,i)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var l=10;function c(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function d(e,t,a,n){var i,s,r,o;if(c(a),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,a.listener?a.listener:a),s=e._events),r=s[t]),void 0===r)r=s[t]=a,++e._eventsCount;else if("function"==typeof r?r=s[t]=n?[a,r]:[r,a]:n?r.unshift(a):r.push(a),(i=u(e))>0&&r.length>i&&!r.warned){r.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+r.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=r.length,o=l,console&&console.warn&&console.warn(o)}return e}function b(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,a){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:a},i=b.bind(n);return i.listener=a,n.wrapFn=i,i}function g(e,t,a){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?a?[i.listener||i]:[i]:a?function(e){for(var t=new Array(e.length),a=0;a<t.length;++a)t[a]=e[a].listener||e[a];return t}(i):m(i,i.length)}function f(e){var t=this._events;if(void 0!==t){var a=t[e];if("function"==typeof a)return 1;if(void 0!==a)return a.length}return 0}function m(e,t){for(var a=new Array(t),n=0;n<t;++n)a[n]=e[n];return a}function v(e,t,a,n){if("function"==typeof e.on)n.once?e.once(t,a):e.on(t,a);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(s){n.once&&e.removeEventListener(t,i),a(s)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||r(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||r(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(e){for(var t=[],a=1;a<arguments.length;a++)t.push(arguments[a]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var r;if(t.length>0&&(r=t[0]),r instanceof Error)throw r;var o=new Error("Unhandled error."+(r?" ("+r.message+")":""));throw o.context=r,o}var l=i[e];if(void 0===l)return!1;if("function"==typeof l)s(l,this,t);else{var c=l.length,u=m(l,c);for(a=0;a<c;++a)s(u[a],this,t)}return!0},o.prototype.addListener=function(e,t){return d(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return d(this,e,t,!0)},o.prototype.once=function(e,t){return c(t),this.on(e,p(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,p(this,e,t)),this},o.prototype.removeListener=function(e,t){var a,n,i,s,r;if(c(t),void 0===(n=this._events))return this;if(void 0===(a=n[e]))return this;if(a===t||a.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,a.listener||t));else if("function"!=typeof a){for(i=-1,s=a.length-1;s>=0;s--)if(a[s]===t||a[s].listener===t){r=a[s].listener,i=s;break}if(i<0)return this;0===i?a.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(a,i),1===a.length&&(n[e]=a[0]),void 0!==n.removeListener&&this.emit("removeListener",e,r||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,a,n;if(void 0===(a=this._events))return this;if(void 0===a.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==a[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete a[e]),this;if(0===arguments.length){var i,s=Object.keys(a);for(n=0;n<s.length;++n)"removeListener"!==(i=s[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=a[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},o.prototype.listeners=function(e){return g(this,e,!0)},o.prototype.rawListeners=function(e){return g(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},o.prototype.listenerCount=f,o.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(41),i=a.n(n),s=a(10),r=(a(3),a(91)),o=a(6);const l=({user:e,avatar:t,...a})=>{const{euiTheme:n}=Object(s.useEuiTheme)();if(!e)return Object(o.jsx)(s.EuiAvatar,i()({name:"",color:n.colors.lightestShade,initials:"?"},a));const l=Object(r.d)(e);return null!=t&&t.imageUrl?Object(o.jsx)(s.EuiAvatar,i()({name:l,imageUrl:t.imageUrl,color:"plain"},a)):Object(o.jsx)(s.EuiAvatar,i()({name:l,initials:Object(r.c)(e,t),initialsLength:r.a,color:Object(r.b)(e,t)},a))}},function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return o})),a.d(t,"e",(function(){return l})),a.d(t,"d",(function(){return c}));var n=a(10);const i=97,s=2;function r(e,t){if(t&&t.color)return t.color;const a=l(e).codePointAt(0)||i;return n.VISUALIZATION_COLORS[a%n.VISUALIZATION_COLORS.length]}function o(e,t){if(t&&t.initials)return t.initials;const a=l(e).split(" "),n=Math.min(s,a.length);return a.splice(n,a.length),a.map((e=>e.substring(0,1))).join("")}function l(e){return e.full_name||e.email||e.username}function c(e){const t=l(e);return e.email&&e.email!==t?`${t} (${e.email})`:t}},,,,function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(169);case"v8light":return a(171)}},,,,,,function(e,t,a){"use strict";e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},function(e,t,a){e.exports=a.p+"1cbd62546f764080f7071e03889e9de3.svg"},function(e,t,a){"use strict";e.exports=a(132)},function(e,t,a){"use strict";e.exports=a(134)},function(e,t,a){"use strict";e.exports=a(141)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(3);t.default=function(e){n.useEffect(e,[])}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDeepEqual=t.off=t.on=t.isClient=void 0;var n=a(59).__importDefault(a(174));t.isClient="object"==typeof window,t.on=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return e.addEventListener.apply(e,t)},t.off=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return e.removeEventListener.apply(e,t)},t.isDeepEqual=n.default},,,,,,,,,,,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(59),i=a(3),s=n.__importDefault(a(124));t.default=function(e,t,a){void 0===t&&(t=0),void 0===a&&(a=[]);var n=s.default(e,t),r=n[0],o=n[1],l=n[2];return i.useEffect(l,a),[r,o]}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(3);t.default=function(e,t){void 0===t&&(t=0);var a=n.useRef(!1),i=n.useRef(),s=n.useRef(e),r=n.useCallback((function(){return a.current}),[]),o=n.useCallback((function(){a.current=!1,i.current&&clearTimeout(i.current),i.current=setTimeout((function(){a.current=!0,s.current()}),t)}),[t]),l=n.useCallback((function(){a.current=null,i.current&&clearTimeout(i.current)}),[]);return n.useEffect((function(){s.current=e}),[e]),n.useEffect((function(){return o(),l}),[t]),[r,l,o]}},function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(126);case"v8light":return a(128)}},function(e,t,a){var n=a(83),i=a(127);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);n(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,a){var n=a(84),i=a(101),s=a(102);t=n(!1);var r=i(s);t.push([e.i,".kbnSolutionAvatar{box-shadow:0 .7px 1.4px rgba(0,0,0,.175),0 1.9px 4px rgba(0,0,0,.125),0 4.5px 10px rgba(0,0,0,.125)}.kbnSolutionAvatar--xxl{background:#1d1e24 url("+r+") no-repeat;background-size:cover,125%;border-radius:100px;box-shadow:0 .9px 4px -1px #0003,0 2.6px 8px -1px #00000026,0 5.7px 12px -1px rgba(0,0,0,.125),0 15px 15px -1px #0000001a;display:inline-block;height:100px;line-height:100px;text-align:center;width:100px}",""]),e.exports=t},function(e,t,a){var n=a(83),i=a(129);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);n(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,a){var n=a(84),i=a(101),s=a(102);t=n(!1);var r=i(s);t.push([e.i,".kbnSolutionAvatar{box-shadow:0 .7px 1.4px #00000012,0 1.9px 4px #0000000d,0 4.5px 10px #0000000d}.kbnSolutionAvatar--xxl{background:#fff url("+r+") no-repeat;background-size:cover,125%;border-radius:100px;box-shadow:0 .9px 4px -1px #00000014,0 2.6px 8px -1px #0000000f,0 5.7px 12px -1px #0000000d,0 15px 15px -1px #0000000a;display:inline-block;height:100px;line-height:100px;text-align:center;width:100px}",""]),e.exports=t},function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return c})),a.d(t,"c",(function(){return u}));var n=a(3),i=a.n(n),s=a(100),r=a(6);const o=i.a.createContext(null),l=({children:e,...t})=>{const{addBasePath:a,canAccessFleet:n}=t;return Object(r.jsx)(o.Provider,{value:{addBasePath:a,canAccessFleet:n}},Object(r.jsx)(s.b,t,e))},c=({children:e,...t})=>{const a={addBasePath:t.coreStart.http.basePath.prepend,canAccessFleet:t.coreStart.application.capabilities.navLinks.integrations};return Object(r.jsx)(o.Provider,{value:a},Object(r.jsx)(s.a,t,e))};function u(){const e=Object(n.useContext)(o);if(!e)throw new Error("NoDataCard Context is missing.  Ensure your component or React root is wrapped with NoDataCardContext.");return e}},function(e,t,a){e.exports=a.p+"baad30acfe492601d08a0e839c9bb3f5.svg"},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(133);a(29),a(104),a(105);var i=n.default({key:"css"}),s=i.flush,r=i.hydrate,o=i.cx,l=i.merge,c=i.getRegisteredStyles,u=i.injectGlobal,d=i.keyframes,b=i.css,p=i.sheet,g=i.cache;t.cache=g,t.css=b,t.cx=o,t.flush=s,t.getRegisteredStyles=c,t.hydrate=r,t.injectGlobal=u,t.keyframes=d,t.merge=l,t.sheet=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(29),i=a(104),s=a(105);function r(e){return e&&e.__esModule?e:{default:e}}var o=r(n);function l(e,t){if(void 0===e.inserted[t.name])return e.insert("",t,e.sheet,!0)}function c(e,t,a){var n=[],i=s.getRegisteredStyles(e,n,a);return n.length<2?a:i+t(n)}var u=function e(t){for(var a="",n=0;n<t.length;n++){var i=t[n];if(null!=i){var s=void 0;switch(typeof i){case"boolean":break;case"object":if(Array.isArray(i))s=e(i);else for(var r in s="",i)i[r]&&r&&(s&&(s+=" "),s+=r);break;default:s=i}s&&(a&&(a+=" "),a+=s)}}return a};t.default=function(e){var t=o.default(e);t.sheet.speedy=function(e){this.isSpeedy=e},t.compat=!0;var a=function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];var r=i.serializeStyles(a,t.registered,void 0);return s.insertStyles(t,r,!1),t.key+"-"+r.name};return{css:a,cx:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return c(t.registered,a,u(n))},injectGlobal:function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];var s=i.serializeStyles(a,t.registered);l(t,s)},keyframes:function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];var s=i.serializeStyles(a,t.registered),r="animation-"+s.name;return l(t,{name:s.name,styles:"@keyframes "+r+"{"+s.styles+"}"}),r},hydrate:function(e){e.forEach((function(e){t.inserted[e]=!0}))},flush:function(){t.registered={},t.inserted={},t.sheet.flush()},sheet:t.sheet,cache:t,getRegisteredStyles:s.getRegisteredStyles.bind(null,t.registered),merge:c.bind(null,t.registered,a)}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(135),i=a(137),s=a(139);function r(e){return e&&e.__esModule?e:{default:e}}var o=r(n),l=r(i),c=/[A-Z]|^ms/g,u=/_EMO_([^_]+?)_([^]*?)_EMO_/g,d=function(e){return 45===e.charCodeAt(1)},b=function(e){return null!=e&&"boolean"!=typeof e},p=r(s).default((function(e){return d(e)?e:e.replace(c,"-$&").toLowerCase()})),g=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(u,(function(e,t,a){return m={name:t,styles:a,next:m},t}))}return 1===l.default[e]||d(e)||"number"!=typeof t||0===t?t:t+"px"};function f(e,t,a){if(null==a)return"";if(void 0!==a.__emotion_styles)return a;switch(typeof a){case"boolean":return"";case"object":if(1===a.anim)return m={name:a.name,styles:a.styles,next:m},a.name;if(void 0!==a.styles){var n=a.next;if(void 0!==n)for(;void 0!==n;)m={name:n.name,styles:n.styles,next:m},n=n.next;return a.styles+";"}return function(e,t,a){var n="";if(Array.isArray(a))for(var i=0;i<a.length;i++)n+=f(e,t,a[i])+";";else for(var s in a){var r=a[s];if("object"!=typeof r)null!=t&&void 0!==t[r]?n+=s+"{"+t[r]+"}":b(r)&&(n+=p(s)+":"+g(s,r)+";");else if(!Array.isArray(r)||"string"!=typeof r[0]||null!=t&&void 0!==t[r[0]]){var o=f(e,t,r);switch(s){case"animation":case"animationName":n+=p(s)+":"+o+";";break;default:n+=s+"{"+o+"}"}}else for(var l=0;l<r.length;l++)b(r[l])&&(n+=p(s)+":"+g(s,r[l])+";")}return n}(e,t,a);case"function":if(void 0!==e){var i=m,s=a(e);return m=i,f(e,t,s)}}if(null==t)return a;var r=t[a];return void 0!==r?r:a}var m,v=/label:\s*([^\s;\n{]+)\s*(;|$)/g;t.serializeStyles=function(e,t,a){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var n=!0,i="";m=void 0;var s=e[0];null==s||void 0===s.raw?(n=!1,i+=f(a,t,s)):i+=s[0];for(var r=1;r<e.length;r++)i+=f(a,t,e[r]),n&&(i+=s[r]);v.lastIndex=0;for(var l,c="";null!==(l=v.exec(i));)c+="-"+l[1];return{name:o.default(i)+c,styles:i,next:m}}},function(e,t,a){"use strict";e.exports=a(136)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t,a=0,n=0,i=e.length;i>=4;++n,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),a=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&a)+(59797*(a>>>16)<<16);switch(i){case 3:a^=(255&e.charCodeAt(n+2))<<16;case 2:a^=(255&e.charCodeAt(n+1))<<8;case 1:a=1540483477*(65535&(a^=255&e.charCodeAt(n)))+(59797*(a>>>16)<<16)}return(((a=1540483477*(65535&(a^=a>>>13))+(59797*(a>>>16)<<16))^a>>>15)>>>0).toString(36)}},function(e,t,a){"use strict";e.exports=a(138)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(e,t,a){"use strict";e.exports=a(140)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=Object.create(null);return function(a){return void 0===t[a]&&(t[a]=e(a)),t[a]}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="undefined"!=typeof document,i=function(e,t,a){var i=e.key+"-"+t.name;(!1===a||!1===n&&void 0!==e.compat)&&void 0===e.registered[i]&&(e.registered[i]=t.styles)};t.getRegisteredStyles=function(e,t,a){var n="";return a.split(" ").forEach((function(a){void 0!==e[a]?t.push(e[a]+";"):n+=a+" "})),n},t.insertStyles=function(e,t,a){i(e,t,a);var s=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var r="",o=t;do{var l=e.insert(t===o?"."+s:"",o,e.sheet,!0);n||void 0===l||(r+=l),o=o.next}while(void 0!==o);if(!n&&0!==r.length)return r}},t.registerStyles=i},function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(143);case"v8light":return a(145)}},function(e,t,a){var n=a(83),i=a(144);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);n(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,a){(t=a(84)(!1)).push([e.i,'.kbnSolutionNav__flyout{background-color:#141519}.kbnSolutionNav__flyout .kbnSolutionNav{flex:auto}.kbnSolutionNav{display:flex;flex-direction:column;height:100%;overflow-x:hidden;overflow-y:auto;scrollbar-color:#98a2b380 #0000;scrollbar-width:thin}.kbnSolutionNav::-webkit-scrollbar{height:16px;width:16px}.kbnSolutionNav::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#98a2b380;border:6px solid #0000;border-radius:16px}.kbnSolutionNav::-webkit-scrollbar-corner,.kbnSolutionNav::-webkit-scrollbar-track{background-color:#0000}.kbnSolutionNav:focus{outline:none}.kbnSolutionNav[tabindex="0"]:focus:focus-visible{outline-style:auto}@media only screen and (min-width:768px)and (max-width:991px){.kbnSolutionNav{padding:24px;width:248px}}@media only screen and (min-width:992px)and (max-width:1199px){.kbnSolutionNav{padding:24px;width:248px}}@media only screen and (min-width:1200px){.kbnSolutionNav{padding:24px;width:248px}}.kbnSolutionNav__title{align-items:center;display:inline-flex}.kbnSolutionNav__titleAvatar{align-self:flex-start;margin-right:12px}.kbnSolutionNav--hidden{opacity:0;pointer-events:none}@media screen and (prefers-reduced-motion:no-preference){.kbnSolutionNav--hidden{transition:opacity .15s cubic-bezier(.694,.0482,.335,1)}}',""]),e.exports=t},function(e,t,a){var n=a(83),i=a(146);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);n(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,a){(t=a(84)(!1)).push([e.i,'.kbnSolutionNav__flyout{background-color:#fafbfd}.kbnSolutionNav__flyout .kbnSolutionNav{flex:auto}.kbnSolutionNav{display:flex;flex-direction:column;height:100%;overflow-x:hidden;overflow-y:auto;scrollbar-color:#69707d80 #0000;scrollbar-width:thin}.kbnSolutionNav::-webkit-scrollbar{height:16px;width:16px}.kbnSolutionNav::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#69707d80;border:6px solid #0000;border-radius:16px}.kbnSolutionNav::-webkit-scrollbar-corner,.kbnSolutionNav::-webkit-scrollbar-track{background-color:#0000}.kbnSolutionNav:focus{outline:none}.kbnSolutionNav[tabindex="0"]:focus:focus-visible{outline-style:auto}@media only screen and (min-width:768px)and (max-width:991px){.kbnSolutionNav{padding:24px;width:248px}}@media only screen and (min-width:992px)and (max-width:1199px){.kbnSolutionNav{padding:24px;width:248px}}@media only screen and (min-width:1200px){.kbnSolutionNav{padding:24px;width:248px}}.kbnSolutionNav__title{align-items:center;display:inline-flex}.kbnSolutionNav__titleAvatar{align-self:flex-start;margin-right:12px}.kbnSolutionNav--hidden{opacity:0;pointer-events:none}@media screen and (prefers-reduced-motion:no-preference){.kbnSolutionNav--hidden{transition:opacity .15s cubic-bezier(.694,.0482,.335,1)}}',""]),e.exports=t},function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(148);case"v8light":return a(150)}},function(e,t,a){var n=a(83),i=a(149);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);n(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,a){(t=a(84)(!1)).push([e.i,".kbnSolutionNavCollapseButton{left:232px;opacity:0;position:absolute;top:24px;z-index:2}@media screen and (prefers-reduced-motion:no-preference){.kbnSolutionNavCollapseButton{transition:opacity .15s,left .15s,background .15s}}.kbnSolutionNavCollapseButton:focus,.kbnSolutionNavCollapseButton:hover{transition-delay:0s!important}.kbnSolutionNavCollapseButton:focus,.kbnSolutionNavCollapseButton:hover,.kbnSolutionNav__sidebar:hover .kbnSolutionNavCollapseButton{left:224px;opacity:1}.kbnSolutionNav__sidebar:hover .kbnSolutionNavCollapseButton{transition-delay:.7s}.kbnSolutionNavCollapseButton:not(.kbnSolutionNavCollapseButton-isCollapsed){background-color:#1d1e24!important}.kbnSolutionNavCollapseButton-isCollapsed{align-items:flex-start;border-radius:0;bottom:0;height:100%;left:0!important;opacity:1!important;padding-top:32px;right:auto;top:0;transition-delay:0s!important;width:40px}",""]),e.exports=t},function(e,t,a){var n=a(83),i=a(151);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);n(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,a){(t=a(84)(!1)).push([e.i,".kbnSolutionNavCollapseButton{left:232px;opacity:0;position:absolute;top:24px;z-index:2}@media screen and (prefers-reduced-motion:no-preference){.kbnSolutionNavCollapseButton{transition:opacity .15s,left .15s,background .15s}}.kbnSolutionNavCollapseButton:focus,.kbnSolutionNavCollapseButton:hover{transition-delay:0s!important}.kbnSolutionNavCollapseButton:focus,.kbnSolutionNavCollapseButton:hover,.kbnSolutionNav__sidebar:hover .kbnSolutionNavCollapseButton{left:224px;opacity:1}.kbnSolutionNav__sidebar:hover .kbnSolutionNavCollapseButton{transition-delay:.7s}.kbnSolutionNavCollapseButton:not(.kbnSolutionNavCollapseButton-isCollapsed){background-color:#fff!important}.kbnSolutionNavCollapseButton-isCollapsed{align-items:flex-start;border-radius:0;bottom:0;height:100%;left:0!important;opacity:1!important;padding-top:32px;right:auto;top:0;transition-delay:0s!important;width:40px}",""]),e.exports=t},function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(153);case"v8light":return a(155)}},function(e,t,a){var n=a(83),i=a(154);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);n(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,a){(t=a(84)(!1)).push([e.i,".visAppWrapper{display:flex;flex-direction:column;flex-grow:1}.visAppLoadingWrapper{align-items:center;display:flex;flex-grow:1;justify-content:center}",""]),e.exports=t},function(e,t,a){var n=a(83),i=a(156);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);n(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,a){(t=a(84)(!1)).push([e.i,".visAppWrapper{display:flex;flex-direction:column;flex-grow:1}.visAppLoadingWrapper{align-items:center;display:flex;flex-grow:1;justify-content:center}",""]),e.exports=t},function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(158);case"v8light":return a(160)}},function(e,t,a){var n=a(83),i=a(159);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);n(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,a){(t=a(84)(!1)).push([e.i,".visListingTable__typeIcon,.visListingTable__typeImage{margin-right:8px;position:relative;top:-1px}.visListingTable__typeImage{height:16px;width:16px}.visListingTable__experimentalIcon{margin-left:8px;padding:0 8px;vertical-align:middle;width:24px}.visListingTable__titleLink{text-align:left}.visListingCallout__link{text-decoration:underline}",""]),e.exports=t},function(e,t,a){var n=a(83),i=a(161);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);n(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,a){(t=a(84)(!1)).push([e.i,".visListingTable__typeIcon,.visListingTable__typeImage{margin-right:8px;position:relative;top:-1px}.visListingTable__typeImage{height:16px;width:16px}.visListingTable__experimentalIcon{margin-left:8px;padding:0 8px;vertical-align:middle;width:24px}.visListingTable__titleLink{text-align:left}.visListingCallout__link{text-decoration:underline}",""]),e.exports=t},,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(59).__importDefault(a(106));t.default=function(e){n.default((function(){e()}))}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(59),i=a(3),s=n.__importDefault(a(106));t.default=function(e){var t=i.useRef(e);t.current=e,s.default((function(){return function(){return t.current()}}))}},function(e,t,a){var n=a(83),i=a(170);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);n(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,a){(t=a(84)(!1)).push([e.i,".visEditor{display:flex;flex:1 1 auto;flex-direction:column;height:100%}.visEditor>*{flex-shrink:0}@media only screen and (max-width:574px){.visEditor .visualization{min-height:240px}}@media only screen and (min-width:575px)and (max-width:767px){.visEditor .visualization{min-height:240px}}@media only screen and (min-width:768px)and (max-width:991px){.visEditor .visualization{min-height:240px}}.visEditor>.visualize{display:flex;flex:1 1 auto;height:100%;z-index:0}.visEditor__content{display:flex;flex:1 1 auto;flex-direction:column;width:100%;z-index:0}.visEditor__content>*{flex-shrink:0}",""]),e.exports=t},function(e,t,a){var n=a(83),i=a(172);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);n(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,a){(t=a(84)(!1)).push([e.i,".visEditor{display:flex;flex:1 1 auto;flex-direction:column;height:100%}.visEditor>*{flex-shrink:0}@media only screen and (max-width:574px){.visEditor .visualization{min-height:240px}}@media only screen and (min-width:575px)and (max-width:767px){.visEditor .visualization{min-height:240px}}@media only screen and (min-width:768px)and (max-width:991px){.visEditor .visualization{min-height:240px}}.visEditor>.visualize{display:flex;flex:1 1 auto;height:100%;z-index:0}.visEditor__content{display:flex;flex:1 1 auto;flex-direction:column;width:100%;z-index:0}.visEditor__content>*{flex-shrink:0}",""]),e.exports=t},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(3),i=a(107),s=function(){};t.default=function(e,t,a){if(!i.isClient)return[t,s,s];if(!e)throw new Error("useLocalStorage key may not be falsy");var r=a?a.raw?function(e){return e}:a.deserializer:JSON.parse,o=n.useState((function(){try{var n=a?a.raw?String:a.serializer:JSON.stringify,i=localStorage.getItem(e);return null!==i?r(i):(t&&localStorage.setItem(e,n(t)),t)}catch(e){return t}})),l=o[0],c=o[1],u=n.useCallback((function(t){try{var n="function"==typeof t?t(l):t;if(void 0===n)return;var i;i=a?a.raw?"string"==typeof n?n:JSON.stringify(n):a.serializer?a.serializer(n):JSON.stringify(n):JSON.stringify(n),localStorage.setItem(e,i),c(r(i))}catch(e){}}),[e,c]),d=n.useCallback((function(){try{localStorage.removeItem(e),c(void 0)}catch(e){}}),[e,c]);return[l,u,d]}},function(e,t,a){"use strict";e.exports=function e(t,a){if(t===a)return!0;if(t&&a&&"object"==typeof t&&"object"==typeof a){if(t.constructor!==a.constructor)return!1;var n,i,s;if(Array.isArray(t)){if((n=t.length)!=a.length)return!1;for(i=n;0!=i--;)if(!e(t[i],a[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===a.source&&t.flags===a.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===a.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===a.toString();if((n=(s=Object.keys(t)).length)!==Object.keys(a).length)return!1;for(i=n;0!=i--;)if(!Object.prototype.hasOwnProperty.call(a,s[i]))return!1;for(i=n;0!=i--;){var r=s[i];if(!("_owner"===r&&t.$$typeof||e(t[r],a[r])))return!1}return!0}return t!=t&&a!=a}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(59),i=a(107),s=n.__importDefault(a(176));t.default=function(e,t){s.default(e,t,i.isDeepEqual)}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(3);t.default=function(e,t,a){var i=n.useRef(void 0);i.current&&a(t,i.current)||(i.current=t),n.useEffect(e,i.current)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(41),i=a.n(n),s=(a(125),a(3),a(42)),r=a.n(s),o=a(10),l=a(6);const c=e=>{const{className:t,size:a,...n}=e,s={};return(e=>void 0===e.iconType)(e)&&(s.iconType=`logo${e.name.replace(/\s+/g,"")}`),Object(l.jsx)(o.EuiAvatar,i()({className:r()("kbnSolutionAvatar",{[`kbnSolutionAvatar--${a}`]:a},t),size:"xxl"===a?"xl":a,iconSize:a,color:"plain"},n,s))}},,,,,function(e,t,a){"use strict";a.r(t),a.d(t,"renderApp",(function(){return wt}));var n=a(3),i=a.n(n),s=a(22),r=a.n(s),o=a(66),l=a(71),c=a(6);const u=({children:e,...t})=>Object(c.jsx)(o.Router,t,Object(c.jsx)(l.CompatRouter,null,e));var d=a(65),b=a(49),p=a(64),g=a(123),f=a.n(g),m=a(10),v=a(7),j=a(4),h=a(41),x=a.n(h),O=a(215),y=a(42),S=a.n(y),C=a(217);const E=({className:e,pageHeader:t,children:a,isEmptyState:n,pageSideBar:i,pageSideBarProps:s,emptyPageBody:r,...o})=>{let l,u;if(n&&t&&!a){const{iconType:e,pageTitle:n,description:i,rightSideItems:s}=t,r=n?Object(c.jsx)("h1",null,n):void 0,o=i?Object(c.jsx)("p",null,i):void 0;a=Object(c.jsx)(m.EuiPageTemplate.EmptyPrompt,{iconType:e,iconColor:"",title:r,body:o,actions:s})}else t&&(l=Object(c.jsx)(m.EuiPageTemplate.Header,t));if(n&&r&&(a=r),i){const e={...s};e.sticky=!0,u=Object(c.jsx)(m.EuiPageTemplate.Sidebar,e,i)}const d=((e,t)=>S()("kbnPageTemplate","",t||""))(0,e);return Object(c.jsx)(m.EuiPageTemplate,x()({className:d,offset:0,minHeight:l?"calc(100vh - var(--kbnAppHeadersOffset, var(--euiFixedHeadersOffset, 0)))":0,grow:!l&&void 0},o),u,l,a)},w=Object(C.a)(E),M=Object.assign((({className:e,children:t,solutionNav:a,noDataConfig:n,...i})=>n&&a?Object(c.jsx)(O.b,{"data-test-subj":i["data-test-subj"],className:e,noDataConfig:n,solutionNav:a}):n?Object(c.jsx)(O.a,{"data-test-subj":i["data-test-subj"],className:e,noDataConfig:n}):a?Object(c.jsx)(w,x()({className:e,solutionNav:a,children:t},i)):Object(c.jsx)(E,x()({className:e,children:t},i))),{Sidebar:m.EuiPageTemplate.Sidebar,Header:m.EuiPageTemplate.Header,Section:m.EuiPageTemplate.Section,BottomBar:m.EuiPageTemplate.BottomBar,EmptyPrompt:m.EuiPageTemplate.EmptyPrompt});var T=a(88),k=a(24);const L=i.a.createContext(null),P=({children:e,...t})=>Object(c.jsx)(L.Provider,{value:t},e),_=({children:e,...t})=>{const{core:a,savedObjectsTagging:i}=t,{overlays:s,notifications:r,...o}=a,{openFlyout:l}=s,u=Object(n.useMemo)((()=>({references:e})=>{if(null==i||!i.ui.components.TagList)return null;const t=i.ui.components.TagList;return Object(c.jsx)(t,{object:{references:e}})}),[null==i?void 0:i.ui.components.TagList]),d=Object(T.i)(),b=Object(n.useCallback)(((e,t)=>l(Object(k.a)(Object(c.jsx)(T.f,d,e),o),t)),[l,o,d]);return Object(c.jsx)(P,{openFlyout:b,notifyError:(e,t)=>{r.toasts.addDanger({title:Object(k.a)(e,o),text:t})},TagList:u,TagSelector:null==i?void 0:i.ui.components.SavedObjectSaveModalTagSelector},e)},I=e=>{const[t,s]=Object(n.useState)(null),r=Object(n.useCallback)((async()=>{const{ContentEditorFlyoutContentContainer:e}=await a.e(12).then(a.bind(null,216));s((()=>e))}),[]);return Object(n.useEffect)((()=>{r()}),[r]),t?Object(c.jsx)(t,e):Object(c.jsx)(i.a.Fragment,null,Object(c.jsx)(m.EuiFlyoutHeader,null),Object(c.jsx)(m.EuiFlyoutBody,null),Object(c.jsx)(m.EuiFlyoutFooter,null))};var A=a(100);const N=i.a.createContext(null),F=({children:e,...t})=>Object(c.jsx)(N.Provider,{value:t},e),z=({children:e,...t})=>{var a;const{core:i,savedObjectsTagging:s,FormattedRelative:r}=t,{application:o,http:l,notifications:u,...d}=i,b=Object(n.useMemo)((()=>{if(s)return async e=>{const t=await s.ui.parseSearchQuery(e,{useName:!0});return{searchQuery:t.searchTerm,references:t.tagReferences,referencesToExclude:t.tagReferencesToExclude}}}),[s]),p=Object(n.useMemo)((()=>({references:e,onClick:t,tagRender:a})=>{if(null==s||!s.ui.components.TagList)return null;const n=s.ui.components.TagList;return Object(c.jsx)(n,{object:{references:e},onClick:t,tagRender:a})}),[null==s?void 0:s.ui.components.TagList]),g=Object(n.useCallback)((e=>null!=s&&s.ui.getTagIdsFromReferences?s.ui.getTagIdsFromReferences(e):[]),[null==s?void 0:s.ui]),f=Object(n.useCallback)((()=>null!=s&&s.ui.getTagList?s.ui.getTagList():[]),[null==s?void 0:s.ui]),m=Object(n.useCallback)((e=>g(e).length>0),[g]);return Object(c.jsx)(A.a,{coreStart:i},Object(c.jsx)(T.e,{core:i},Object(c.jsx)(_,{core:i,savedObjectsTagging:s},Object(c.jsx)(F,{canEditAdvancedSettings:Boolean(null===(a=o.capabilities.advancedSettings)||void 0===a?void 0:a.save),getListingLimitSettingsUrl:()=>o.getUrlForApp("management",{path:"/kibana/settings?query=savedObjects:listingLimit"}),notifyError:(e,t)=>{u.toasts.addDanger({title:Object(k.a)(e,d),text:t})},searchQueryParser:b,DateFormatterComp:e=>Object(c.jsx)(r,e),currentAppId$:o.currentAppId$,navigateToUrl:o.navigateToUrl,isTaggingEnabled:()=>Boolean(s),getTagList:f,TagList:p,itemHasTags:m,getTagIdsFromReferences:g,getTagManagementUrl:()=>i.http.basePath.prepend("/app/management/kibana/tags")},e))))};function B(){const e=Object(n.useContext)(N);if(!e)throw new Error("TableListViewContext is missing. Ensure your component or React root is wrapped with <TableListViewProvider /> or <TableListViewKibanaProvider />.");return e}const D={nameAscSort:j.i18n.translate("contentManagement.tableList.listing.tableSortSelect.nameAscLabel",{defaultMessage:"Name A-Z"}),nameDescSort:j.i18n.translate("contentManagement.tableList.listing.tableSortSelect.nameDescLabel",{defaultMessage:"Name Z-A"}),updatedAtAscSort:j.i18n.translate("contentManagement.tableList.listing.tableSortSelect.updatedAtAscLabel",{defaultMessage:"Least recently updated"}),updatedAtDescSort:j.i18n.translate("contentManagement.tableList.listing.tableSortSelect.updatedAtDescLabel",{defaultMessage:"Recently updated"}),headerSort:j.i18n.translate("contentManagement.tableList.listing.tableSortSelect.headerLabel",{defaultMessage:"Sort by"})};function R({tableSort:e,hasUpdatedAtMetadata:t,onChange:a}){var s,r;const{euiTheme:o}=Object(m.useEuiTheme)(),[l,u]=Object(n.useState)(!1),[d,b]=Object(n.useState)((()=>{let e=[{label:D.nameAscSort,column:"attributes.title",direction:"asc",append:Object(c.jsx)(m.EuiIcon,{type:"sortUp"})},{label:D.nameDescSort,column:"attributes.title",direction:"desc",append:Object(c.jsx)(m.EuiIcon,{type:"sortDown"})}];return t&&(e=e.concat([{label:D.updatedAtDescSort,column:"updatedAt",direction:"desc",append:Object(c.jsx)(m.EuiIcon,{type:"sortDown"})},{label:D.updatedAtAscSort,column:"updatedAt",direction:"asc",append:Object(c.jsx)(m.EuiIcon,{type:"sortUp"})}])),e})),p=null!==(s=null===(r=d.find((({checked:e})=>"on"===e)))||void 0===r?void 0:r.label)&&void 0!==s?s:"",g=Object(c.css)("border-bottom:",o.border.thin,";font-weight:",600,";padding:",o.size.s,";",""),f=Object(c.jsx)(m.EuiFilterButton,{iconType:"arrowDown",iconSide:"right",onClick:()=>{u((e=>!e))},"data-test-subj":"tableSortSelectBtn",grow:!0},p);return Object(n.useEffect)((()=>{b((t=>t.map((t=>{const a=t.column===e.field&&t.direction===e.direction?"on":void 0;return{...t,checked:a}}))))}),[e]),Object(c.jsx)(m.EuiPopover,{button:f,isOpen:l,closePopover:()=>{u(!1)},panelPaddingSize:"none",anchorPosition:"downCenter",panelProps:{css:{width:18*o.base}}},Object(c.jsx)(i.a.Fragment,null,Object(c.jsx)(m.EuiText,{css:g},D.headerSort),Object(c.jsx)(m.EuiSelectable,{singleSelection:!0,"aria-label":"some aria label",options:d,onChange:e=>{b(e);const t=e.find((({checked:e})=>"on"===e));t&&a&&a(t.column,t.direction)},"data-test-subj":"sortSelect"},(e=>e))))}const U=e=>`tableSort:${e}`;function V(e,t){try{localStorage.setItem(U(e),JSON.stringify(t))}catch(e){}}var H=a(205);const G=navigator.platform.toLowerCase().indexOf("mac")>=0?"⌘":"^",q={name:"pit38s",styles:"height:auto"},$={name:"1d3w5wq",styles:"width:100%"},Q=({isPopoverOpen:e,isInUse:t,options:a,totalActiveFilters:n,onFilterButtonClick:s,onSelectChange:r,closePopover:o,clearTagSelection:l})=>{const{euiTheme:u}=Object(m.useEuiTheme)(),{navigateToUrl:d,currentAppId$:b,getTagManagementUrl:p}=B(),g=a.length>10,f=Object(c.css)("padding:",u.size.s,";border-bottom:",u.border.thin,";",""),v=Object(c.css)("height:",u.size.xxxl,";","");let h={searchable:!1};return g&&(h={searchable:!0,searchProps:{compressed:!0}}),Object(c.jsx)(i.a.Fragment,null,Object(c.jsx)(m.EuiPopover,{button:Object(c.jsx)(m.EuiFilterButton,{iconType:"arrowDown",iconSide:"right",onClick:s,"data-test-subj":"tagFilterPopoverButton",hasActiveFilters:n>0,numActiveFilters:n,grow:!0},"Tags"),isOpen:e,closePopover:o,panelPaddingSize:"none",anchorPosition:"downCenter",panelProps:{css:{width:18*u.base}},panelStyle:t?{transition:"none"}:void 0},Object(c.jsx)(m.EuiPopoverTitle,{paddingSize:"m",css:v},Object(c.jsx)(m.EuiFlexGroup,null,Object(c.jsx)(m.EuiFlexItem,null,"Tags"),Object(c.jsx)(m.EuiFlexItem,{grow:!1},n>0&&Object(c.jsx)(m.EuiButtonEmpty,{flush:"both",onClick:l,css:q},j.i18n.translate("contentManagement.tableList.tagFilterPanel.clearSelectionButtonLabelLabel",{defaultMessage:"Clear selection"}))))),Object(c.jsx)(m.EuiSelectable,x()({singleSelection:!1,"aria-label":"some aria label",options:a,renderOption:e=>e.view,emptyMessage:"There aren't any tags",noMatchesMessage:"No tag matches the search",onChange:r,"data-test-subj":"tagSelectableList"},h),((e,t)=>Object(c.jsx)(i.a.Fragment,null,g?Object(c.jsx)("div",{css:f},t):Object(c.jsx)(m.EuiSpacer,{size:"s"}),e))),Object(c.jsx)(m.EuiPopoverFooter,{paddingSize:"m"},Object(c.jsx)(m.EuiFlexGroup,{direction:"column",alignItems:"center",gutterSize:"s"},Object(c.jsx)(m.EuiFlexItem,null,Object(c.jsx)(m.EuiText,{size:"xs"},Object(c.jsx)(m.EuiTextColor,{color:"dimgrey"},j.i18n.translate("contentManagement.tableList.tagFilterPanel.modifierKeyHelpText",{defaultMessage:"{modifierKeyPrefix} + click exclude",values:{modifierKeyPrefix:G}})))),Object(c.jsx)(m.EuiFlexItem,{css:$},Object(c.jsx)(m.EuiButton,{onClick:o},j.i18n.translate("contentManagement.tableList.tagFilterPanel.doneButtonLabel",{defaultMessage:"Done"}))),Object(c.jsx)(m.EuiFlexItem,null,Object(c.jsx)(H.a,{coreStart:{application:{navigateToUrl:d,currentAppId$:b}}},Object(c.jsx)(m.EuiLink,{href:p(),"data-test-subj":"manageAllTagsLink",external:!0},j.i18n.translate("contentManagement.tableList.tagFilterPanel.manageAllTagsLinkLabel",{defaultMessage:"Manage tags"}))))))))},W=navigator.platform.toLowerCase().indexOf("mac")>=0,K=e=>Array.isArray(e)?e:[e],J=e=>e.replace(" ","_"),X=({query:e,tagsToTableItemMap:t,getTagList:a,addOrRemoveExcludeTagFilter:i,addOrRemoveIncludeTagFilter:s})=>{const[r,o]=Object(n.useState)(!1),[l,u]=Object(n.useState)(!1),[d,b]=Object(n.useState)([]),[p,g]=Object(n.useState)({}),f=Object.keys(p).length,v=Object(n.useCallback)((e=>{const t=e.find(((e,t)=>e.checked!==d[t].checked));t&&s(t.tag)}),[d,s]),j=Object(n.useCallback)((e=>t=>{W&&t.metaKey||!W&&t.ctrlKey?i(e):s(e)}),[s,i]),h=Object(n.useCallback)((()=>{const e=a().map((e=>{var a,n;const{name:i,id:s,color:r}=e;let o;return p[i]&&(o="include"===p[i]?"on":"off"),{name:i,label:i,value:null!=s?s:"",tag:e,checked:o,view:Object(c.jsx)(m.EuiFlexGroup,{gutterSize:"xs",justifyContent:"spaceBetween"},Object(c.jsx)(m.EuiFlexItem,null,Object(c.jsx)(m.EuiHealth,{color:r,"data-test-subj":`tag-searchbar-option-${J(i)}`,onClick:j(e)},Object(c.jsx)(m.EuiText,null,i))),Object(c.jsx)(m.EuiFlexItem,{grow:!1},Object(c.jsx)(m.EuiBadge,{color:void 0!==o?"accent":void 0},null!==(a=null===(n=t[null!=s?s:""])||void 0===n?void 0:n.length)&&void 0!==a?a:0)))}}));b(e)}),[a,t,p,j]),x=Object(n.useCallback)((()=>{o((e=>!e))}),[]),O=Object(n.useCallback)((()=>{o(!1)}),[]);return Object(n.useEffect)((()=>{if(e){const t=e.ast.getOrFieldClause("tag",void 0,!0,"eq"),a=e.ast.getOrFieldClause("tag",void 0,!1,"eq"),n={};t&&K(t.value).forEach((e=>{n[e]="include"})),a&&K(a.value).forEach((e=>{n[e]="exclude"})),g(n)}}),[e]),Object(n.useEffect)((()=>{r?(h(),setTimeout((()=>{u(!0)}),250)):u(!1)}),[r,h]),{isPopoverOpen:r,isInUse:l,options:d,totalActiveFilters:f,onFilterButtonClick:x,onSelectChange:v,closePopover:O}};var Y=a(91),Z=a(90);const ee="null",te=({selectedOptions:e,defaultOptions:t,options:a,onChange:s,onSearchChange:r,isLoading:o=!1,singleSelection:l=!1,limit:u,height:d,loadingMessage:b,noMatchesMessage:g,emptyMessage:f,errorMessage:v,searchPlaceholder:h,searchInputId:x,selectedStatusMessage:O,limitReachedMessage:y,nullOptionLabel:S,nullOptionProps:C,defaultOptionsLabel:E,clearButtonLabel:w,...M})=>{const[T,k]=Object(n.useState)([]),[L,P]=Object(n.useState)(""),_=e?e.length:0,I=!!u&&_>=u,A=()=>{a||k((a=>{const n=[...a],i=e?e.filter((e=>!n.find((t=>ne(t,e))))).map((e=>ae(e,S,C))):[],s=t?t.filter((e=>!n.find((t=>ne(t,e)))&&!i.find((t=>ne(t,e))))).map((e=>ae(e,S,C))):[];if(s.length){const e=(e=>{let t=e.findIndex((e=>e.isGroupLabel));return-1===t&&(t=e.push({label:null!=E?E:j.i18n.translate("userProfileComponents.userProfilesSelectable.defaultOptionsLabel",{defaultMessage:"Suggested"}),isGroupLabel:!0})-1),t})(n);n.splice(e,0,...i),n.push(...s)}else n.push(...i);return n}))};return Object(n.useEffect)((()=>{a?k(a.map((e=>ae(e,S,C)))):(k([]),A())}),[a]),Object(n.useEffect)(A,[t,e]),Object(n.useEffect)((()=>{k((t=>t.map((t=>{if(e){var a;const n=void 0===e.find((e=>ne(t,e)))?void 0:"on",i=!n&&I;return{...t,checked:n,disabled:i,prepend:t.data?Object(c.jsx)(Z.a,{user:t.data.user,avatar:null===(a=t.data.data)||void 0===a?void 0:a.avatar,size:"s",isDisabled:i}):void 0}}return{...t,checked:void 0,disabled:void 0}}))))}),[a,t,e]),Object(c.jsx)(m.EuiSelectable,{"data-test-subj":M["data-test-subj"],options:T,onChange:t=>{if(!s)return;const a=t.filter((t=>!(t.isGroupLabel||"on"!==t.checked||e&&void 0!==e.find((e=>ne(t,e)))))).map((e=>e.key===ee?null:e.data));e&&!l&&e.forEach((e=>{const n=t.find((t=>ne(t,e)));void 0!==n&&"on"!==n.checked||(n&&n.key===ee?a.unshift(e):a.push(e))})),s(a)},style:{maxHeight:d},singleSelection:l,searchable:!0,searchProps:{placeholder:null!=h?h:j.i18n.translate("userProfileComponents.userProfilesSelectable.searchPlaceholder",{defaultMessage:"Search"}),value:L,onChange:e=>{P(e),null==r||r(e)},isLoading:o,isClearable:!o,id:x},isPreFiltered:!0,listProps:{onFocusBadge:!1,rowHeight:48},loadingMessage:b,noMatchesMessage:g,emptyMessage:f,errorMessage:v,renderOption:(e,t)=>{if(e.user){const a=Object(Y.e)(e.user);return Object(c.jsx)(i.a.Fragment,null,Object(c.jsx)("div",{className:"eui-textTruncate"},Object(c.jsx)(m.EuiHighlight,{search:t},a)),e.user.email&&e.user.email!==a?Object(c.jsx)(m.EuiText,{size:"xs",color:e.disabled?"disabled":"subdued",className:"eui-textTruncate"},t?Object(c.jsx)(m.EuiHighlight,{search:t},e.user.email):e.user.email):void 0)}return Object(c.jsx)(m.EuiHighlight,{search:t},e.label)}},((e,t)=>Object(c.jsx)(i.a.Fragment,null,Object(c.jsx)(m.EuiPanel,{hasShadow:!1,paddingSize:"s"},t,l?void 0:Object(c.jsx)(i.a.Fragment,null,Object(c.jsx)(m.EuiSpacer,{size:"s"}),Object(c.jsx)(m.EuiFlexGroup,{alignItems:"center",justifyContent:"spaceBetween",gutterSize:"s",responsive:!1},Object(c.jsx)(m.EuiFlexItem,{grow:!1},Object(c.jsx)(m.EuiText,{size:"xs",color:"subdued"},O?O(_):Object(c.jsx)(p.FormattedMessage,{id:"userProfileComponents.userProfilesSelectable.selectedStatusMessage",defaultMessage:"{count, plural, one {# user selected} other {# users selected}}",values:{count:_}}))),Object(c.jsx)(m.EuiFlexItem,{grow:!1},_?Object(c.jsx)(m.EuiButtonEmpty,{size:"xs",flush:"right",onClick:()=>null==s?void 0:s([]),style:{height:"1rem"}},null!=w?w:Object(c.jsx)(p.FormattedMessage,{id:"userProfileComponents.userProfilesSelectable.clearButtonLabel",defaultMessage:"Remove all users"})):void 0)))),u&&_>=u?Object(c.jsx)(i.a.Fragment,null,Object(c.jsx)(m.EuiHorizontalRule,{margin:"none"}),Object(c.jsx)(m.EuiCallOut,{title:y?y(u):Object(c.jsx)(p.FormattedMessage,{id:"userProfileComponents.userProfilesSelectable.limitReachedMessage",defaultMessage:"You've selected the maximum of {count, plural, one {# user} other {# users}}",values:{count:u}}),color:"warning",size:"s"})):void 0,Object(c.jsx)(m.EuiHorizontalRule,{margin:"none"}),e)))};function ae(e,t,a){return e?{key:e.uid,label:Object(Y.d)(e.user),data:e,"data-test-subj":`userProfileSelectableOption-${e.user.username}`}:{key:ee,label:null!=t?t:j.i18n.translate("userProfileComponents.userProfilesSelectable.nullOptionLabel",{defaultMessage:"No users"}),"data-test-subj":"userProfileSelectableOption-null",...a}}function ne(e,t){return e.key===(t?t.uid:ee)}const ie=({title:e,selectableProps:t,...a})=>{const n=Object(m.useGeneratedHtmlId)({prefix:"searchInput",conditionalId:t.searchInputId});return Object(c.jsx)(m.EuiPopover,x()({panelPaddingSize:"none",initialFocus:`#${n}`},a),Object(c.jsx)(m.EuiContextMenuPanel,{title:e},Object(c.jsx)(te,x()({},t,{searchInputId:n}))))},se=i.a.createContext(null),re=({children:e,...t})=>t.enabled?Object(c.jsx)(se.Provider,{value:t},e):Object(c.jsx)(i.a.Fragment,null,e),oe="no-user",le=()=>{const{euiTheme:e}=Object(m.useEuiTheme)(),t=i.a.useContext(se);if(!t)throw new Error("UserFilterPanel must be used within a UserFilterContextProvider");const{onSelectedUsersChange:a,selectedUsers:n,showNoUserOption:s}=t,[r,o]=i.a.useState(!1),[l,u]=i.a.useState(""),d=Object(T.h)(t.allUsers,{enabled:r}),b=i.a.useMemo((()=>d.data?d.data.reduce(((e,t)=>(e[t.uid]=t,e)),{}):{}),[d.data]),g=i.a.useMemo((()=>{if(!d.data||0===d.data.length)return[];const e=s||n.includes(oe)?[...d.data,null]:d.data;return l?e.filter((e=>{var t,a;return e?!!n.includes(e.uid)||(e.uid+e.user.username+(null!==(t=e.user.email)&&void 0!==t?t:"")+(null!==(a=e.user.full_name)&&void 0!==a?a:"")).toLowerCase().includes(l.toLowerCase()):n.includes(oe)})):e}),[d.data,l,n,s]);return Object(c.jsx)(i.a.Fragment,null,Object(c.jsx)(ie,{button:Object(c.jsx)(m.EuiFilterButton,{iconType:"arrowDown",iconSide:"right","data-test-subj":"userFilterPopoverButton",onClick:()=>o(!r),hasActiveFilters:n.length>0,numActiveFilters:n.length,grow:!0},Object(c.jsx)(p.FormattedMessage,{id:"contentManagement.tableList.listing.userFilter.filterLabel",defaultMessage:"Created by"})),isOpen:r,closePopover:()=>o(!1),selectableProps:{"data-test-subj":"userSelectableList",isLoading:d.isLoading,options:g,errorMessage:d.error?Object(c.jsx)(p.FormattedMessage,{id:"contentManagement.tableList.listing.userFilter.errorMessage",defaultMessage:"Failed to load users"}):void 0,emptyMessage:Object(c.jsx)("p",{"data-test-subj":"userFilterEmptyMessage"},Object(c.jsx)(p.FormattedMessage,{id:"contentManagement.tableList.listing.userFilter.emptyMessage",defaultMessage:"None of the dashboards have creators"}),Object(c.jsx)(T.b,null)),nullOptionLabel:j.i18n.translate("contentManagement.tableList.listing.userFilter.noCreators",{defaultMessage:"No creators"}),nullOptionProps:{append:Object(c.jsx)(T.b,null)},clearButtonLabel:Object(c.jsx)(p.FormattedMessage,{id:"contentManagement.tableList.listing.userFilter.clearFilterButtonLabel",defaultMessage:"Clear filter"}),selectedOptions:n.map((e=>{var t;return e===oe?null:null!==(t=b[e])&&void 0!==t?t:{uid:e,user:{username:e}}})),onChange:e=>{a(e.map((e=>e?e.uid:oe)))},onSearchChange:u},panelProps:{css:{minWidth:22*e.base}}}))};function ce({dispatch:e,items:t,isFetchingItems:a,searchQuery:s,selectedIds:r,pagination:o,tableColumns:l,tableSort:u,tableFilter:d,hasUpdatedAtMetadata:b,entityName:g,entityNamePlural:f,tagsToTableItemMap:v,tableItemsRowActions:h,deleteItems:x,renderCreateButton:O,tableCaption:y,onTableChange:S,onTableSearchChange:C,onSortChange:E,onFilterChange:w,addOrRemoveExcludeTagFilter:M,addOrRemoveIncludeTagFilter:T,clearTagSelection:k,createdByEnabled:L}){const{getTagList:P,isTaggingEnabled:_}=B(),I=Object(n.useCallback)((()=>{if(x&&0!==r.length)return Object(c.jsx)(m.EuiButton,{color:"danger",iconType:"trash",onClick:()=>e({type:"showConfirmDeleteItemsModal"}),"data-test-subj":"deleteSelectedItems"},Object(c.jsx)(p.FormattedMessage,{id:"contentManagement.tableList.listing.deleteButtonMessage",defaultMessage:"Delete {itemCount} {entityName}",values:{itemCount:r.length,entityName:1===r.length?g:f}}))}),[x,e,g,f,r.length]),A=Object(n.useMemo)((()=>{if(x)return{onSelectionChange:t=>{e({type:"onSelectionChange",data:t})},selectable:e=>{var t;const a=h[e.id];return!1!==(null==a||null===(t=a.delete)||void 0===t?void 0:t.enabled)},selectableMessage:(e,t)=>{if(!e){var a,n;const e=h[t.id];return null!==(a=null==e||null===(n=e.delete)||void 0===n?void 0:n.reason)&&void 0!==a?a:j.i18n.translate("contentManagement.tableList.actionsDisabledLabel",{defaultMessage:"Actions disabled for this item"})}return""},initialSelected:[]}}),[x,e,h]),{isPopoverOpen:N,isInUse:F,closePopover:z,onFilterButtonClick:D,onSelectChange:U,options:V,totalActiveFilters:H}=X({query:s.query,getTagList:P,tagsToTableItemMap:v,addOrRemoveExcludeTagFilter:M,addOrRemoveIncludeTagFilter:T}),G=Object(n.useMemo)((()=>({type:"custom_component",component:()=>Object(c.jsx)(R,{tableSort:u,hasUpdatedAtMetadata:b,onChange:E})})),[b,E,u]),q=Object(n.useMemo)((()=>_()?{type:"custom_component",component:()=>Object(c.jsx)(Q,{isPopoverOpen:N,isInUse:F,closePopover:z,options:V,totalActiveFilters:H,onFilterButtonClick:D,onSelectChange:U,clearTagSelection:k})}:null),[N,F,_,z,V,H,D,U,k]),$=Object(n.useMemo)((()=>L?{type:"custom_component",component:le}:null),[L]),W=Object(n.useMemo)((()=>[G,q,$].filter((e=>Boolean(e)))),[G,q,$]),K=Object(n.useMemo)((()=>{var e;return{onChange:C,toolsLeft:I(),toolsRight:O(),query:null!==(e=s.query)&&void 0!==e?e:void 0,box:{incremental:!0,"data-test-subj":"tableListSearchBox"},filters:W}}),[C,O,I,W,s.query]),J=Object(c.jsx)(p.FormattedMessage,{id:"contentManagement.tableList.listing.noMatchedItemsMessage",defaultMessage:"No {entityNamePlural} matched your search.",values:{entityNamePlural:f}}),Y=i.a.useMemo((()=>{var e;return(null==d||null===(e=d.createdBy)||void 0===e?void 0:e.length)>0?t.filter((e=>e.createdBy?d.createdBy.includes(e.createdBy):!e.managed&&d.createdBy.includes(oe))):t}),[t,d]),{allUsers:Z,showNoUserOption:ee}=Object(n.useMemo)((()=>{if(!L)return{allUsers:[],showNoUserOption:!1};let e=!1;const a=new Set;return t.forEach((t=>{t.createdBy?a.add(t.createdBy):t.managed||(e=!0)})),{allUsers:Array.from(a),showNoUserOption:e}}),[L,t]);return Object(c.jsx)(re,{enabled:L,allUsers:Z,onSelectedUsersChange:e=>{w({createdBy:e})},selectedUsers:d.createdBy,showNoUserOption:ee},Object(c.jsx)(m.EuiInMemoryTable,{itemId:"id",items:Y,columns:l,pagination:o,loading:a,message:J,selection:A,search:K,executeQueryOptions:{enabled:!1},sorting:u?{sort:u}:void 0,onChange:S,"data-test-subj":"itemsInMemTable",rowHeader:"attributes.title",tableCaption:y}))}var ue=a(70),de=a.n(ue);const be=({value:e,children:t})=>t(new Date(e).toDateString()),pe=({dateTime:e,DateFormatterComp:t=be})=>{if(!e)return Object(c.jsx)(m.EuiToolTip,{content:j.i18n.translate("contentManagement.tableList.updatedDateUnknownLabel",{defaultMessage:"Last updated unknown"})},Object(c.jsx)("span",null,"-"));const a=de()(e);return a.diff(de()(),"days")>-7?Object(c.jsx)(t,{value:new Date(e).getTime()},(e=>Object(c.jsx)(m.EuiToolTip,{content:a.format("LL LT")},Object(c.jsx)("span",null,e)))):Object(c.jsx)(m.EuiToolTip,{content:a.format("LL LT")},Object(c.jsx)("span",null,a.format("LL")))};function ge({isDeletingItems:e,items:t,entityName:a,entityNamePlural:i,onCancel:s,onConfirm:r}){const{deleteBtnLabel:o,deletingBtnLabel:l,title:u,description:d,cancelBtnLabel:b}=Object(n.useMemo)((()=>function(e,t,a){return{deleteBtnLabel:j.i18n.translate("contentManagement.tableList.listing.deleteSelectedItemsConfirmModal.confirmButtonLabel",{defaultMessage:"Delete"}),deletingBtnLabel:j.i18n.translate("contentManagement.tableList.listing.deleteSelectedItemsConfirmModal.confirmButtonLabelDeleting",{defaultMessage:"Deleting"}),title:j.i18n.translate("contentManagement.tableList.listing.deleteSelectedConfirmModal.title",{defaultMessage:"Delete {itemCount} {entityName}?",values:{itemCount:e.length,entityName:1===e.length?t:a}}),description:j.i18n.translate("contentManagement.tableList.listing.deleteConfirmModalDescription",{defaultMessage:"You can't recover deleted {entityNamePlural}.",values:{entityNamePlural:a}}),cancelBtnLabel:j.i18n.translate("contentManagement.tableList.listing.deleteSelectedItemsConfirmModal.cancelButtonLabel",{defaultMessage:"Cancel"})}}(t,a,i)),[a,i,t]);return Object(c.jsx)(m.EuiConfirmModal,{title:u,buttonColor:"danger",onCancel:s,onConfirm:r,cancelButtonText:b,confirmButtonText:e?l:o,defaultFocusedButton:"cancel"},Object(c.jsx)("p",null,d))}function fe({entityNamePlural:e,totalItems:t,listingLimit:a,canEditAdvancedSettings:n,advancedSettingsLink:s}){return Object(c.jsx)(i.a.Fragment,null,Object(c.jsx)(m.EuiCallOut,{title:Object(c.jsx)(p.FormattedMessage,{id:"contentManagement.tableList.listing.listingLimitExceededTitle",defaultMessage:"Listing limit exceeded"}),color:"warning",iconType:"help"},Object(c.jsx)("p",null,Object(c.jsx)(p.FormattedMessage,{id:"contentManagement.tableList.listing.listingLimitExceededDescription",defaultMessage:"You have {totalItems} {entityNamePlural}, but your {listingLimitText} setting prevents the table below from displaying more than {listingLimitValue}.",values:{entityNamePlural:e,totalItems:t,listingLimitValue:a,listingLimitText:Object(c.jsx)("strong",null,"listingLimit")}})," ",n?Object(c.jsx)(p.FormattedMessage,{id:"contentManagement.tableList.listing.listingLimitExceededDescriptionPermissions",defaultMessage:"You can change this setting under {advancedSettingsLink}.",values:{advancedSettingsLink:Object(c.jsx)(m.EuiLink,{href:s},Object(c.jsx)(p.FormattedMessage,{id:"contentManagement.tableList.listing.listingLimitExceeded.advancedSettingsLinkText",defaultMessage:"Advanced Settings"}))}}):Object(c.jsx)(p.FormattedMessage,{id:"contentManagement.tableList.listing.listingLimitExceededDescriptionNoPermissions",defaultMessage:"Contact your system administrator to change this setting."}))),Object(c.jsx)(m.EuiSpacer,{size:"m"}))}const me=navigator.platform.toLowerCase().indexOf("mac")>=0,ve=({tag:e,onClick:t})=>Object(c.jsx)(m.EuiBadge,{color:e.color,title:e.description,"data-test-subj":`tag-${e.id}`,onClick:a=>{const n=me&&a.metaKey||!me&&a.ctrlKey;t(e,n)},onClickAriaLabel:j.i18n.translate("contentManagement.tableList.tagBadge.buttonLabel",{defaultMessage:"{tagName} tag button.",values:{tagName:e.name}})},e.name),je=e=>e.replace(/[-\[\]{}()*+?.,\\^$|#\s]/g,"\\$&");function he({id:e,item:t,searchTerm:a="",getDetailViewLink:s,getOnClickTitle:r,onClickTag:o}){const{references:l,attributes:{title:u,description:d}}=t,{navigateToUrl:b,currentAppId$:p,TagList:g,itemHasTags:f}=B(),v=Object(n.useMemo)((()=>({application:{navigateToUrl:b,currentAppId$:p}})),[p,b]),j=Object(n.useMemo)((()=>{const e=null==r?void 0:r(t);if(e&&(null==s||!s(t)))return t=>{t.preventDefault(),e()}}),[r,t,s]),h=Object(n.useCallback)((()=>(s?s(t):void 0)||null!=r&&r(t)?Object(c.jsx)(H.a,{coreStart:v},Object(c.jsx)(m.EuiLink,{href:null==s?void 0:s(t),onClick:j,"data-test-subj":`${e}ListingTitleLink-${t.attributes.title.split(" ").join("-")}`},Object(c.jsx)(m.EuiHighlight,{highlightAll:!0,search:je(a)},u))):Object(c.jsx)("span",null,u)),[s,r,e,t,j,v,a,u]),x=f(l);return Object(c.jsx)("div",null,Object(c.jsx)(m.EuiText,{size:"s"},h()),Boolean(d)&&Object(c.jsx)(m.EuiText,{size:"s",color:"subdued"},Object(c.jsx)("p",null,Object(c.jsx)(m.EuiHighlight,{highlightAll:!0,search:je(a)},d))),x&&Object(c.jsx)(i.a.Fragment,null,Object(c.jsx)(m.EuiSpacer,{size:"s"}),Object(c.jsx)(g,{references:l,tagRender:e=>Object(c.jsx)(ve,{key:e.name,tag:e,onClick:o})})))}var xe=a(87),Oe=a.n(xe);const ye=e=>{var t;const a={},n={...e};if(["s","title","sort","sortdir"].forEach((e=>{Array.isArray(n[e])&&(n[e]=n[e][0])})),a.s=null!==(t=n.s)&&void 0!==t?t:n.title,"title"===n.sort||"updatedAt"===n.sort){const e="title"===n.sort?"attributes.title":"updatedAt";a.sort={field:e,direction:"asc"},"desc"!==n.sortdir&&"asc"!==n.sortdir||(a.sort.direction=n.sortdir)}return n.created_by?a.filter={createdBy:Array.isArray(n.created_by)?n.created_by:[n.created_by]}:a.filter={createdBy:[]},a},Se=e=>{var t;const a={};return e.sort&&(a.sort=e.sort.field,a.sortdir=e.sort.direction),void 0!==e.s&&(a.s=e.s,a.title=void 0),"string"==typeof a.s&&""===a.s.trim()&&(a.s=void 0,a.title=void 0),null!==(t=e.filter)&&void 0!==t&&t.createdBy&&(a.created_by=e.filter.createdBy),a},Ce="attributes.title",Ee="Name, description, tags",we="updatedAt",Me="Last updated",Te="createdBy";function ke({tableCaption:e,entityName:t,entityNamePlural:a,initialFilter:s,headingId:r,initialPageSize:l,listingLimit:u,urlStateEnabled:d=!0,customTableColumn:b,emptyPrompt:g,rowItemActions:h,findItems:O,createItem:y,editItem:S,deleteItems:C,getDetailViewLink:E,getOnClickTitle:w,id:k="userContent",contentEditor:P={enabled:!1},titleColumnName:_,withoutPageTemplateWrapper:A,onFetchSuccess:N,refreshListBouncer:F,setPageDataTestSubject:z,createdByEnabled:D=!1}){if(Object(n.useEffect)((()=>{z(`${t}LandingPage`)}),[t,z]),!E&&!w)throw new Error('[TableListView] One o["getDetailViewLink" or "getOnClickTitle"] prop must be provided.');if(!1===P.isReadonly&&void 0===P.onSave)throw new Error("[TableListView] A value for [contentEditor.onSave()] must be provided when [contentEditor.isReadonly] is false.");const R=Object(n.useRef)(!1),H=Object(n.useRef)(0),G=Object(n.useRef)(0),q=Object(n.useRef)(!1),{canEditAdvancedSettings:$,getListingLimitSettingsUrl:Q,getTagIdsFromReferences:W,searchQueryParser:K,notifyError:J,DateFormatterComp:X,getTagList:Y}=B(),Z=function(){const e=function(){const e=Object(n.useContext)(L);if(!e)throw new Error("ContentEditorContext is missing. Ensure your component or React root is wrapped with <ContentEditorProvider /> or <ContentEditorKibanaProvider />.");return e}(),{openFlyout:t}=e,a=Object(n.useRef)(null);return Object(n.useCallback)((n=>{if(!1===n.isReadonly&&void 0===n.onSave)throw new Error("A value for [onSave()] must be provided when [isReadonly] is false.");const i=()=>{var e;null===(e=a.current)||void 0===e||e.close()};return a.current=t(Object(c.jsx)(I,x()({},n,{onCancel:i,services:e})),{maxWidth:600,size:"m",ownFocus:!0,hideCloseButton:!0}),i}),[t,e])}();if(!function(){try{return Object(o.useLocation)(),!0}catch(e){return!1}}())throw new Error("<TableListView/> requires a React Router context. Ensure your component or React root is being rendered in the context of a <Router>.");const[ee,te]=function({queryParamsDeserializer:e,queryParamsSerializer:t}){const a=Object(o.useHistory)(),i=function(){const{search:e}=Object(o.useLocation)();return Object(n.useMemo)((()=>Oe.a.parse(e)),[e])}(),[s,r]=Object(n.useState)({}),l=Object(n.useCallback)((e=>{const n=t(e),s={...i,...n};a.replace({search:`?${Oe.a.stringify(s,{encode:!1})}`})}),[a,i,t]);return Object(n.useEffect)((()=>{const t=e(i);r(t)}),[i,e]),[s,l]}({queryParamsDeserializer:ye,queryParamsSerializer:Se}),ae=Object(n.useMemo)((()=>(e,t)=>{switch(t.type){case"onFetchItems":return{...e,isFetchingItems:!0};case"onFetchItemsSuccess":{var a;const n=t.data.response.hits;let i,s=e.hasUpdatedAtMetadata,r=e.hasCreatedByMetadata;e.hasInitialFetchReturned||(s=Boolean(n.find((e=>Boolean(e.updatedAt)))),r=Boolean(n.find((e=>Boolean(e.createdBy)))),s&&!e.sortColumnChanged&&(i={field:"updatedAt",direction:"desc"}));let o=e.hasNoItems;return o=""!==e.searchQuery.text?void 0:0===n.length,{...e,hasInitialFetchReturned:!0,isFetchingItems:!1,items:n,hasNoItems:o,totalItems:t.data.response.total,hasUpdatedAtMetadata:s,hasCreatedByMetadata:r,tableSort:null!==(a=i)&&void 0!==a?a:e.tableSort,pagination:{...e.pagination,totalItemCount:n.length}}}case"onFetchItemsError":return{...e,isFetchingItems:!1,items:[],totalItems:0,fetchError:t.data};case"onSearchQueryChange":return t.data.text===e.searchQuery.text?e:{...e,searchQuery:t.data,isFetchingItems:!0};case"onTableChange":{var n,i,s,r,o;const a=null!==(n=t.data.sort)&&void 0!==n?n:e.tableSort,l=null!==(i=null===(s=t.data.page)||void 0===s?void 0:s.pageIndex)&&void 0!==i?i:e.pagination.pageIndex,c=null!==(r=null===(o=t.data.page)||void 0===o?void 0:o.pageSize)&&void 0!==r?r:e.pagination.pageSize,u=t.data.filter?{...e.tableFilter,...t.data.filter}:e.tableFilter;return{...e,pagination:{...e.pagination,pageIndex:l,pageSize:c},tableSort:a,tableFilter:u,sortColumnChanged:e.sortColumnChanged||Boolean(t.data.sort)}}case"showConfirmDeleteItemsModal":return{...e,showDeleteModal:!0};case"onDeleteItems":return{...e,isDeletingItems:!0};case"onCancelDeleteItems":return{...e,showDeleteModal:!1};case"onItemsDeleted":return{...e,isDeletingItems:!1,selectedIds:[],showDeleteModal:!1};case"onSelectionChange":return{...e,selectedIds:t.data.map((e=>null==e?void 0:e.id)).filter((e=>Boolean(e)))}}}),[]),ne=Object(n.useMemo)((()=>{const e=function(e){try{const t=localStorage.getItem(U(e));if(t)return{isDefault:!1,tableSort:JSON.parse(t)}}catch(e){}return{isDefault:!0,tableSort:{field:"attributes.title",direction:"asc"}}}(t);return{items:[],hasNoItems:void 0,totalItems:0,hasInitialFetchReturned:!1,isFetchingItems:!0,isDeletingItems:!1,showDeleteModal:!1,hasUpdatedAtMetadata:!1,hasCreatedByMetadata:!1,selectedIds:[],searchQuery:{text:"",query:new m.Query(m.Ast.create([]),void 0,"")},pagination:{pageIndex:0,totalItemCount:0,pageSize:l,pageSizeOptions:Object(v.uniq)([10,20,50,l]).sort()},tableSort:e.tableSort,sortColumnChanged:!e.isDefault,tableFilter:{createdBy:[]}}}),[l,t]),[ie,se]=Object(n.useReducer)(ae,ne),{searchQuery:re,hasInitialFetchReturned:oe,isFetchingItems:le,items:ue,hasNoItems:de,fetchError:be,showDeleteModal:me,isDeletingItems:ve,selectedIds:je,totalItems:xe,hasUpdatedAtMetadata:ke,hasCreatedByMetadata:Le,pagination:Pe,tableSort:_e,tableFilter:Ie}=ie,Ae=Boolean(be),Ne=!Ae&&xe>u,Fe=Object(n.useCallback)((async()=>{se({type:"onFetchItems"});try{const e=++H.current,{searchQuery:t,references:a,referencesToExclude:n}=K?await K(re.text):{searchQuery:re.text,references:void 0,referencesToExclude:void 0},i=await O(t,{references:a,referencesToExclude:n});if(!R.current)return;e===H.current&&(se({type:"onFetchItemsSuccess",data:{response:i}}),N())}catch(e){se({type:"onFetchItemsError",data:e})}}),[K,re.text,O,N]),ze=Object(n.useCallback)((e=>{d?te({s:e.text}):se({type:"onSearchQueryChange",data:{query:e,text:e.text}})}),[d,te]),{addOrRemoveIncludeTagFilter:Be,addOrRemoveExcludeTagFilter:De,clearTagSelection:Re,tagsToTableItemMap:Ue}=function({query:e,updateQuery:t,items:a}){const i=Object(n.useMemo)((()=>a.reduce(((e,t)=>{const a=t.references.filter((e=>"tag"===e.type));return a.length>0&&a.forEach((a=>{e[a.id]||(e[a.id]=[]),e[a.id].push(t.id)})),e}),{})),[a]),s=Object(n.useCallback)((a=>(n,i=e,s=!0)=>{const r=a(i,n);return s&&t(r),r}),[e,t]),r=Object(n.useCallback)((t=>(a,n)=>{const i=Boolean(n)?n:e;if(i.ast.getFieldClauses("tag")){var s;const e=null===(s=i.ast.getFieldClauses("tag").find((({match:e})=>e===t)))||void 0===s?void 0:s.value;if(e&&e.includes(a.name))return!0}return!1}),[e]),o=Object(n.useMemo)((()=>s(((e,t)=>e.addOrFieldValue("tag",t.name,!0,"eq")))),[s]),l=Object(n.useMemo)((()=>s(((e,t)=>e.removeOrFieldValue("tag",t.name)))),[s]),c=Object(n.useMemo)((()=>s(((e,t)=>e.addOrFieldValue("tag",t.name,!1,"eq")))),[s]),u=Object(n.useMemo)((()=>s(((e,t)=>e.removeOrFieldValue("tag",t.name)))),[s]),d=Object(n.useMemo)((()=>r("must")),[r]),b=Object(n.useMemo)((()=>r("must_not")),[r]);return{addOrRemoveIncludeTagFilter:Object(n.useCallback)((e=>{let t;if(b(e))t=u(e,void 0,!1);else if(d(e,t))return void l(e,t);o(e,t)}),[b,d,u,o,l]),addOrRemoveExcludeTagFilter:Object(n.useCallback)((e=>{let t;d(e)&&(t=l(e,void 0,!1)),b(e,t)?u(e,t):c(e,t)}),[d,b,l,c,u]),clearTagSelection:Object(n.useCallback)((()=>{const a=e.removeOrFieldClauses("tag");return t(a),t}),[e,t]),tagsToTableItemMap:i}}({query:re.query,updateQuery:ze,items:ue}),Ve=Object(n.useMemo)((()=>ue.reduce(((e,t)=>{const a={...e,[t.id]:h?h(t):void 0};return t.managed&&(a[t.id]={edit:{enabled:!1,reason:j.i18n.translate("contentManagement.tableList.managedItemNoEdit",{defaultMessage:"Elastic manages this item. Clone it to make changes."})},...a[t.id]}),a}),{})),[ue,h]),He=Object(n.useCallback)((e=>{var a,n,i,s;const r=W(e.references).map((t=>e.references.find((({id:e})=>e===t)))),o=Z({item:{id:e.id,title:e.attributes.title,description:e.attributes.description,tags:r,createdAt:e.createdAt,createdBy:e.createdBy,updatedAt:e.updatedAt,updatedBy:e.updatedBy,managed:e.managed},entityName:t,...P,isReadonly:P.isReadonly||!1===(null===(a=Ve[e.id])||void 0===a||null===(n=a.edit)||void 0===n?void 0:n.enabled),readonlyReason:null===(i=Ve[e.id])||void 0===i||null===(s=i.edit)||void 0===s?void 0:s.reason,onSave:P.onSave&&(async e=>{await P.onSave(e),await Fe(),o()})})}),[W,Z,t,P,Ve,Fe]),Ge=Object(n.useMemo)((()=>{const e=[{field:Ce,name:null!=_?_:j.i18n.translate("contentManagement.tableList.mainColumnName",{defaultMessage:"Name, description, tags"}),sortable:!0,render:(e,t)=>Object(c.jsx)(he,{id:k,item:t,getDetailViewLink:E,getOnClickTitle:w,onClickTag:(e,t)=>{t?De(e):Be(e)},searchTerm:re.text})}];if(b&&e.push(b),Le&&D&&e.push({field:Te,name:Object(c.jsx)(i.a.Fragment,null,j.i18n.translate("contentManagement.tableList.createdByColumnTitle",{defaultMessage:"Creator"})),render:(e,a)=>a.createdBy?Object(c.jsx)(T.d,{uid:a.createdBy}):a.managed?Object(c.jsx)(T.a,{entityName:t}):Object(c.jsx)(T.b,{iconType:"minus"}),sortable:!1,width:"100px",align:"center"}),ke&&e.push({field:we,name:j.i18n.translate("contentManagement.tableList.lastUpdatedColumnTitle",{defaultMessage:"Last updated"}),render:(e,t)=>Object(c.jsx)(pe,{dateTime:t.updatedAt,DateFormatterComp:X}),sortable:!0,width:"130px"}),S||!1!==P.enabled){const t=[];S&&t.push({name:e=>j.i18n.translate("contentManagement.tableList.listing.table.editActionName",{defaultMessage:"Edit {itemDescription}",values:{itemDescription:Object(v.get)(e,"attributes.title")}}),description:j.i18n.translate("contentManagement.tableList.listing.table.editActionDescription",{defaultMessage:"Edit"}),icon:"pencil",type:"icon",available:e=>{var t,a;return Boolean(null===(t=Ve[e.id])||void 0===t||null===(a=t.edit)||void 0===a?void 0:a.enabled)},enabled:e=>!(null!=e&&e.error),onClick:S,"data-test-subj":"edit-action"}),!1!==P.enabled&&t.push({name:e=>j.i18n.translate("contentManagement.tableList.listing.table.viewDetailsActionName",{defaultMessage:"View {itemTitle} details",values:{itemTitle:Object(v.get)(e,"attributes.title")}}),description:j.i18n.translate("contentManagement.tableList.listing.table.viewDetailsActionDescription",{defaultMessage:"View details"}),icon:"iInCircle",type:"icon",onClick:He,"data-test-subj":"inspect-action"}),e.push({name:j.i18n.translate("contentManagement.tableList.listing.table.actionTitle",{defaultMessage:"Actions"}),width:32*t.length+"px",actions:t})}return e}),[_,b,ke,Le,D,S,P.enabled,k,E,w,re.text,De,Be,X,Ve,He,t]),qe=Object(n.useMemo)((()=>Object(v.keyBy)(ue,"id")),[ue]),$e=Object(n.useMemo)((()=>je.map((e=>qe[e]))),[je,qe]),Qe=Object(n.useCallback)((async e=>{let t=m.Ast.create([]),a=e;if(K){const{references:n,referencesToExclude:i,searchQuery:s}=await K(e);if(a=s,null!=n&&n.length||null!=i&&i.length){const e=Y();null!=n&&n.length&&n.forEach((({id:a})=>{const n=e.find((({id:e})=>e===a));n&&(t=t.addOrFieldValue("tag",n.name,!0,"eq"))})),null!=i&&i.length&&i.forEach((({id:a})=>{const n=e.find((({id:e})=>e===a));n&&(t=t.addOrFieldValue("tag",n.name,!1,"eq"))}))}}return""!==a.trim()&&(t=t.addClause({type:"term",value:a,match:"must"})),new m.Query(t,void 0,e)}),[Y,K]),We=Object(n.useCallback)((e=>{if(e.query)ze(e.query);else{const t=G.current+1;Qe(e.queryText).then((e=>{t===G.current&&ze(e)}))}}),[ze,Qe]),Ke=Object(n.useCallback)((e=>{e.sort&&d&&te({sort:{field:"attributes.title"===e.sort.field?"title":e.sort.field,direction:e.sort.direction}}),e.filter&&d&&te({filter:e.filter}),!e.page&&d||se({type:"onTableChange",data:e})}),[te,d]),Je=Object(n.useCallback)(((e,a)=>{const n={field:e,direction:a};V(t,n),Ke({sort:n})}),[t,Ke]),Xe=Object(n.useCallback)((e=>{Ke({filter:e})}),[Ke]),Ye=Object(n.useCallback)((e=>{const a={};if(e.sort){let n=e.sort.field;n===Ee?n=Ce:n===Me&&(n=we),a.sort={field:n,direction:e.sort.direction},V(t,a.sort)}a.page={pageIndex:e.page.index,pageSize:e.page.size},Ke(a)}),[Ke,t]),Ze=Object(n.useCallback)((async()=>{if(!ve){se({type:"onDeleteItems"});try{await C($e)}catch(e){J(Object(c.jsx)(p.FormattedMessage,{id:"contentManagement.tableList.listing.unableToDeleteDangerMessage",defaultMessage:"Unable to delete {entityName}(s)",values:{entityName:t}}),e)}Fe(),se({type:"onItemsDeleted"})}}),[C,t,Fe,ve,J,$e]),et=Object(n.useCallback)((()=>{if(y)return Object(c.jsx)(m.EuiButton,{onClick:y,"data-test-subj":"newItemButton",iconType:"plusInCircleFilled",fill:!0},Object(c.jsx)(p.FormattedMessage,{id:"contentManagement.tableList.listing.createNewItemButtonLabel",defaultMessage:"Create {entityName}",values:{entityName:t}}))}),[y,t]),tt=Object(n.useCallback)((()=>g||Object(c.jsx)(m.EuiEmptyPrompt,{title:Object(c.jsx)("h1",null,Object(c.jsx)(p.FormattedMessage,{id:"contentManagement.tableList.listing.noAvailableItemsMessage",defaultMessage:"No {entityNamePlural} available.",values:{entityNamePlural:a}})),actions:et()})),[g,a,et]),at=Object(n.useCallback)((()=>{var e;return Object(c.jsx)(i.a.Fragment,null,Object(c.jsx)(m.EuiCallOut,{title:Object(c.jsx)(p.FormattedMessage,{id:"contentManagement.tableList.listing.fetchErrorTitle",defaultMessage:"Fetching listing failed"}),color:"danger",iconType:"warning"},Object(c.jsx)("p",null,Object(c.jsx)(p.FormattedMessage,{id:"contentManagement.tableList.listing.fetchErrorDescription",defaultMessage:"The {entityName} listing could not be fetched: {message}.",values:{entityName:t,message:(null===(e=be.body)||void 0===e?void 0:e.message)||be.message}}))),Object(c.jsx)(m.EuiSpacer,{size:"m"}))}),[t,be]);f()(Fe,300,[Fe,F]),Object(n.useEffect)((()=>{var e,t,a;d&&((async(e="")=>{const t=await Qe(e);se({type:"onSearchQueryChange",data:{query:t,text:e}})})(ee.s),(e=ee.sort)&&se({type:"onTableChange",data:{sort:{field:e.field,direction:e.direction}}}),(t=ee.filter)&&se({type:"onTableChange",data:{filter:{createdBy:null!==(a=t.createdBy)&&void 0!==a?a:[]}}}))}),[ee,Qe,d]),Object(n.useEffect)((()=>(R.current=!0,()=>{R.current=!1})),[]),Object(n.useEffect)((()=>{s&&!q.current&&(q.current=!0,Qe(s).then(ze))}),[s,Qe,ze]);const nt=Object(n.useMemo)((()=>A?({children:e,"data-test-subj":t})=>Object(c.jsx)("div",{"data-test-subj":t},e):M),[A]);if(!oe)return null;if(!Ae&&de)return Object(c.jsx)(nt,{isEmptyState:!0},Object(c.jsx)(M.Section,{"aria-labelledby":oe?r:void 0},tt()));const it=ve?"table-is-deleting":oe&&!le?"table-is-ready":"table-is-loading";return Object(c.jsx)(i.a.Fragment,null,Ne&&Object(c.jsx)(fe,{canEditAdvancedSettings:$,advancedSettingsLink:Q(),entityNamePlural:a,totalItems:xe,listingLimit:u}),Ae&&at(),Object(c.jsx)("div",{"data-test-subj":it},Object(c.jsx)(ce,{dispatch:se,items:ue,renderCreateButton:et,isFetchingItems:le,searchQuery:re,tableColumns:Ge,hasUpdatedAtMetadata:ke,tableSort:_e,tableFilter:Ie,tableItemsRowActions:Ve,pagination:Pe,selectedIds:je,entityName:t,entityNamePlural:a,tagsToTableItemMap:Ue,deleteItems:C,tableCaption:e,onTableChange:Ye,onTableSearchChange:We,onSortChange:Je,onFilterChange:Xe,addOrRemoveIncludeTagFilter:Be,addOrRemoveExcludeTagFilter:De,clearTagSelection:Re,createdByEnabled:D}),me&&Object(c.jsx)(ge,{isDeletingItems:ve,entityName:t,entityNamePlural:a,items:$e,onConfirm:Ze,onCancel:()=>se({type:"onCancelDeleteItems"})})))}const Le=i.a.memo(ke);a(152);const Pe={services:{}},_e=Object(n.createContext)(Pe);var Ie=a(175),Ae=a.n(Ie);const Ne=({children:e,component:t,render:a,...s})=>{const r=Object(n.useMemo)((()=>{if(t)return e=>Object(c.jsx)(i.a.Fragment,null,Object(c.jsx)(Fe,null),Object(c.jsx)(t,e))}),[t]);if(r)return Object(c.jsx)(o.Route,x()({},s,{component:r}));if(a||"function"==typeof e){const t="function"==typeof e?e:a;return Object(c.jsx)(o.Route,x()({},s,{render:e=>Object(c.jsx)(i.a.Fragment,null,Object(c.jsx)(Fe,null),t(e))}))}return Object(c.jsx)(o.Route,s,Object(c.jsx)(Fe,null),e)},Fe=()=>{const{executionContext:e}=Object(n.useContext)(_e).services,t=Object(o.useRouteMatch)();return function(e,t){Ae()((()=>(null==e||e.set(t),()=>{null==e||e.clear()})),[t])}(e,{type:"application",page:t.path,id:Object.keys(t.params).length>0?JSON.stringify(t.params):void 0}),null},ze=({legacySwitch:e=!0,children:t})=>{const a=Object(o.useRouteMatch)();return e?Object(c.jsx)(o.Switch,null,t):Object(c.jsx)(l.Routes,null,n.Children.map(t,(e=>{if(i.a.isValidElement(e)&&e.type===Ne){var n;const s=Object(v.replace)(null==e?void 0:e.props.path,a.url+"/",""),r="function"==typeof(null==e?void 0:e.props.children)?null==e?void 0:e.props.children:null==e?void 0:e.props.render;return Object(c.jsx)(l.Route,{path:s,element:Object(c.jsx)(i.a.Fragment,null,Object(c.jsx)(Fe,null),(null==e||null===(n=e.props)||void 0===n?void 0:n.component)&&Object(c.jsx)(e.props.component,null)||r&&r()||t)})}return e})))};var Be=a(9),De=a(218),Re=(a(157),a(168)),Ue=a.n(Re),Ve=a(167),He=a.n(Ve);const Ge=({title:e,description:t,headingId:a,children:i,tabs:s,activeTabId:r,changeActiveTab:o})=>{const[l,u]=Object(n.useState)(!1),[d,b]=Object(n.useState)(),p=Object(n.useCallback)((()=>{var e;return null!==(e=s.find((e=>e.id===r)))&&void 0!==e?e:s[0]}),[r,s]),g=Object(n.useCallback)((()=>{u(!0)}),[]),[f,m]=Object(n.useState)(null);return Object(n.useEffect)((()=>{!async function(){const e=await p().getTableList({onFetchSuccess:g,setPageDataTestSubject:b});m(e)}()}),[r,s,p,g]),Object(c.jsx)(M,{panelled:!0,"data-test-subj":d},Object(c.jsx)(M.Header,{pageTitle:Object(c.jsx)("span",{id:a},e),description:t,"data-test-subj":"top-nav",tabs:s.map((e=>({onClick:()=>o(e.id),isSelected:e.id===p().id,label:e.title})))}),Object(c.jsx)(M.Section,{"aria-labelledby":l?a:void 0},i,f))};var qe=a(13),$e=a(17),Qe=a(15);function We(e,t,a){var n,i,s;const r=t.getAliases().find((t=>{var a;return null===(a=t.appExtensions)||void 0===a?void 0:a.visualizations.docTypes.includes(e)}));return r?null==r||null===(n=r.appExtensions)||void 0===n||null===(i=n.visualizations)||void 0===i||null===(s=i.clientOptions)||void 0===s?void 0:s[a]:{overwrite:!0}}var Ke=a(26),Je=a(27),Xe=a(2),Ye=a(60),Ze=a(8),et=a(85),tt=a(5);const at=e=>{var t,a,n;return{id:e.id,updatedAt:e.updatedAt,managed:e.managed,references:e.references,type:e.savedObjectType,icon:e.icon,stage:e.stage,savedObjectType:e.savedObjectType,typeTitle:e.typeTitle,title:null!==(t=e.title)&&void 0!==t?t:"",error:null!==(a=e.error)&&void 0!==a?a:"",editor:e.editor,attributes:{id:e.id,title:null!==(n=e.title)&&void 0!==n?n:"",description:e.description,readOnly:e.readOnly,error:e.error}}},nt=()=>{const{services:{application:e,executionContext:t,chrome:a,history:s,stateTransferService:r,dashboardCapabilities:l,uiSettings:u,kbnUrlStateStorage:b,listingViewRegistry:g,serverless:f}}=Object(d.useKibana)(),{pathname:v}=Object(o.useLocation)(),h=Object(n.useRef)((()=>{}));Object(d.useExecutionContext)(t,{type:"application",page:"list"}),Object(n.useEffect)((()=>{"/new"===v?h.current=Object(Je.a)({onClose:()=>{s.push(Ze.VisualizeConstants.LANDING_PAGE_PATH)}}):h.current()}),[s,v]),He()((()=>{r.clearEditorState(),null!=f&&f.setBreadcrumbs?f.setBreadcrumbs([]):a.setBreadcrumbs([{text:j.i18n.translate("visualizations.visualizeListingBreadcrumbsTitle",{defaultMessage:"Visualize Library"})}]),a.docTitle.change(j.i18n.translate("visualizations.listingPageTitle",{defaultMessage:"Visualize Library"}))})),Ue()((()=>h.current()));const O=u.get(Ye.SAVED_OBJECTS_LIMIT_SETTING),y=u.get(Ye.SAVED_OBJECTS_PER_PAGE_SETTING),S=((e,t)=>{const{services:{application:a,history:i,savedObjects:s,savedObjectsTagging:r,toastNotifications:o,visualizeCapabilities:l,contentManagement:c,...u}}=Object(d.useKibana)(),b=Object(n.useRef)(),p=Object(n.useCallback)((()=>{e.current=Object(Je.a)()}),[e]),g=Object(n.useCallback)((async({attributes:{id:e},editor:t})=>{if(!("editApp"in t)&&!("editUrl"in t))return void await t.onEdit(e);const{editApp:n,editUrl:s}=t;n?a.navigateToApp(n,{path:s}):i.push(s)}),[a,i]),f=Object(n.useMemo)((()=>Object(et.d)(p)),[p]),m=Object(n.useCallback)(((e,{references:a,referencesToExclude:n}={})=>Object(qe.c)(Object(Xe.q)(),e,t,a,n).then((({total:e,hits:t})=>{const a=t.map(at);return b.current=a,{total:e,hits:a}}))),[t]),v=Object(n.useCallback)((async e=>{var t;const a=null===(t=b.current)||void 0===t?void 0:t.find((({id:t})=>t===e.id));var n;a&&await(async(e,t,a,n)=>{const i=function(e,t,a){var n,i;return(null===(n=t.getAliases().find((t=>{var a;return null===(a=t.appExtensions)||void 0===a?void 0:a.visualizations.docTypes.includes(e)})))||void 0===n||null===(i=n.appExtensions)||void 0===i?void 0:i.visualizations.client(a))||Qe.a}(t,n.typesService,n.contentManagement),s=await i.get(e),r=Object($e.b)({attributes:s.item.attributes,references:s.item.references});let{references:o}=r;const l={...r.attributes,title:a.title,description:a.description};return n.savedObjectsTagging&&(o=n.savedObjectsTagging.ui.updateTagsReferences(o,a.tags||[])),await i.update({id:e,data:{...l},options:{references:o,...We(t,n.typesService,"update")}})})(a.id,a.type,{title:e.title,description:null!==(n=e.description)&&void 0!==n?n:"",tags:e.tags},{savedObjectsTagging:r,typesService:Object(Xe.q)(),contentManagement:c,...u})}),[r,c,u]),h=Object(n.useMemo)((()=>({title:[{type:"warning",async fn(e,t){if(t){var a;const n=null===(a=b.current)||void 0===a?void 0:a.find((e=>e.id===t));if(n)try{await Object(Ke.a)({id:t,title:e,lastSavedTitle:n.title,getEsType:()=>n.type},!1,!1,(()=>{}),u)}catch(t){return j.i18n.translate("visualizations.visualizeListingDeleteErrorTitle.duplicateWarning",{defaultMessage:'Saving "{value}" creates a duplicate title.',values:{value:e}})}}}}]})),[u]);return{findItems:m,deleteItems:Object(n.useCallback)((async e=>{await Promise.all(e.map((e=>s.client.delete(e.savedObjectType,e.id)))).catch((e=>{o.addError(e,{title:j.i18n.translate("visualizations.visualizeListingDeleteErrorTitle",{defaultMessage:"Error deleting visualization"})})}))}),[s.client,o]),contentEditor:{isReadonly:!l.save,onSave:v,customValidators:h},editItem:g,emptyPrompt:f,createItem:p,rowItemActions:({managed:e,attributes:{readOnly:t}})=>!l.save||t?{edit:{enabled:!1,reason:e?j.i18n.translate("visualizations.managedLegacyVisMessage",{defaultMessage:"Elastic manages this visualisation. Changing it is not possible."}):j.i18n.translate("visualizations.readOnlyLegacyVisMessage",{defaultMessage:"These details can't be edited because this visualization is no longer supported."})}}:void 0}})(h,O),C=j.i18n.translate("visualizations.listing.table.listTitle",{defaultMessage:"Visualize Library"}),E=Object(n.useMemo)((()=>{const t=Object(c.jsx)(p.FormattedMessage,{"data-test-subj":"visualize-dashboard-flow-prompt",id:"visualizations.visualizeListingDashboardFlowDescription",defaultMessage:"Building a dashboard? Create and add your visualizations right from the {dashboardApp}.",values:{dashboardApp:Object(c.jsx)(m.EuiLink,{className:"visListingCallout__link",onClick:t=>{t.preventDefault(),e.navigateToUrl(e.getUrlForApp("dashboards"))}},Object(c.jsx)(p.FormattedMessage,{id:"visualizations.visualizeListingDashboardAppName",defaultMessage:"Dashboard application"}))}});return{title:"Visualizations",id:"visualizations",getTableList:a=>Object(c.jsx)(i.a.Fragment,null,l.createNew&&Object(c.jsx)(i.a.Fragment,null,Object(c.jsx)(m.EuiCallOut,{size:"s",title:t,iconType:"iInCircle"}),Object(c.jsx)(m.EuiSpacer,{size:"m"})),Object(c.jsx)(Le,x()({id:"vis",customTableColumn:Object(et.c)(),listingLimit:O,initialPageSize:y,initialFilter:"",entityName:j.i18n.translate("visualizations.listing.table.entityName",{defaultMessage:"visualization"}),entityNamePlural:j.i18n.translate("visualizations.listing.table.entityNamePlural",{defaultMessage:"visualizations"}),getOnClickTitle:e=>e.attributes.readOnly?void 0:()=>{var t;return null===(t=S.editItem)||void 0===t?void 0:t.call(S,e)},getDetailViewLink:({editor:t,attributes:{error:a,readOnly:n}})=>n||t&&"onEdit"in t?void 0:((e,t,a,n,i)=>{if(i||!a&&!n)return;let s=e.getUrlForApp(null!=a?a:Ze.VISUALIZE_APP_NAME,{path:a?n:`#${n}`});const r=Object(Xe.r)().get("state:storeInSessionStorage"),o=t.get(Ze.GLOBAL_STATE_STORAGE_KEY)||{};return s=Object(tt.setStateToKbnUrl)(Ze.GLOBAL_STATE_STORAGE_KEY,o,{useHash:r},s),s})(e,b,t.editApp,t.editUrl,a),tableCaption:C},S,a)))}}),[e,l.createNew,y,b,O,S,C]),w=Object(n.useMemo)((()=>[E,...Array.from(g)]),[g,E]),{activeTab:M}=Object(o.useParams)();return Object(c.jsx)(Ge,{headingId:"visualizeListingHeading",title:C,tabs:w,activeTabId:M,changeActiveTab:t=>{e.navigateToUrl(`#/${t}`)}})};a(95);var it=a(89),st=a(173),rt=a.n(st),ot=a(0);const lt=({currentAppState:e,isChromeVisible:t,isEmbeddableRendered:a,hasUnsavedChanges:i,setHasUnsavedChanges:s,hasUnappliedChanges:r,originatingApp:o,setOriginatingApp:l,originatingPath:u,visInstance:b,stateContainer:p,visualizationIdFromUrl:g,embeddableId:f,onAppLeave:m,eventEmitter:v})=>{var h;const{services:x}=Object(d.useKibana)(),{TopNavMenu:O}=x.navigation.ui,{setHeaderActionMenu:y,visualizeCapabilities:S}=x,{embeddableHandler:C,vis:E,savedVis:{managed:w}}=b,[M,T]=Object(n.useState)(),[k,L]=Object(n.useState)(!1),[P,_]=Object(n.useState)(!1),[I,A]=rt()("EDIT_IN_LENS_BADGE_VISIBLE",!1),N=Object(n.useCallback)((()=>{A(!0)}),[A]),F=Object(n.useCallback)((()=>{const e=C.openInspector();T(e)}),[C]),z=Object(n.useCallback)((async()=>{x.data.search.session.start()}),[x.data.search.session]),B=Object(n.useCallback)(((e,t)=>{!1===t&&z()}),[z]);Object(n.useEffect)((()=>{const e=C.getExpressionVariables$().subscribe((e=>{_(Boolean(E.type.navigateToLens&&(null==e?void 0:e.canNavigateToLens)))}));return()=>{e.unsubscribe()}}),[C,E]);const D=Object(n.useMemo)((()=>{if(a)return Object(et.e)({hasUnsavedChanges:i,setHasUnsavedChanges:s,hasUnappliedChanges:r,openInspector:F,originatingApp:o,setOriginatingApp:l,originatingPath:u,visInstance:b,stateContainer:p,visualizationIdFromUrl:g,stateTransfer:x.stateTransferService,embeddableId:f,displayEditInLensItem:P,hideLensBadge:N,setNavigateToLens:L,showBadge:!I&&P,eventEmitter:v},x)}),[a,i,s,r,F,o,l,u,b,p,g,x,f,P,N,I,v]),[R,U]=Object(n.useState)([]),V=()=>{const e=!E.data.indexPattern||!!E.data.indexPattern.timeFieldName;return E.type.options.showTimePicker&&e},H=E.type.options.showFilterBar,G=E.type.requiresSearch&&E.type.options.showQueryInput;Object(n.useEffect)((()=>()=>{M&&M.close()}),[M]),Object(n.useEffect)((()=>(m((e=>!o||!r&&!i||x.stateTransferService.isTransferInProgress||k?e.default():e.confirm(j.i18n.translate("visualizations.confirmModal.confirmTextDescription",{defaultMessage:"Leave Visualize editor with unsaved changes?"}),j.i18n.translate("visualizations.confirmModal.title",{defaultMessage:"Unsaved changes"})))),()=>{m((e=>e.default()))})),[m,o,i,r,S.save,x.stateTransferService.isTransferInProgress,k]),Object(n.useEffect)((()=>{(async()=>{let e;if(E.data.indexPattern?e=[E.data.indexPattern]:E.type.getUsedIndexPattern&&(e=await E.type.getUsedIndexPattern(E.params)),!e||!e.length){const t=await x.dataViews.getDefault();t&&(e=[t])}e&&U(e)})()}),[x.dataViews,E.data.indexPattern,E.params,E.type]),Object(n.useEffect)((()=>{const e=p.state$.pipe(Object(ot.switchMap)((async({dataView:e})=>{if(e&&b.vis.data.indexPattern&&e!==b.vis.data.indexPattern.id){const t=await x.dataViews.get(e);t&&U([t])}}))).subscribe();return()=>{e.unsubscribe()}}),[x.dataViews,p.state$,b.vis.data.indexPattern]),Object(n.useEffect)((()=>{const e=x.data.query.timefilter.timefilter.getAutoRefreshFetch$().pipe(Object(ot.switchMap)((async e=>{try{await z()}finally{e()}}))).subscribe();return()=>{e.unsubscribe()}}),[x.data.query.timefilter.timefilter,z]);const q=Boolean((null===(h=E.type.editorConfig)||void 0===h?void 0:h.enableDataViewChange)&&(E.data.indexPattern&&!E.data.savedSearchId||Object(et.f)(E.data.indexPattern))&&R.length),$=Object(n.useCallback)((async e=>{e&&p.transitions.updateDataView(e)}),[p.transitions]),Q=Object(et.f)(E.data.indexPattern);return t?Object(c.jsx)(O,{appName:Ze.VISUALIZE_APP_NAME,config:D,setMenuMountPoint:y,onQuerySubmit:B,savedQueryId:e.savedQuery,onSavedQueryIdChange:p.transitions.updateSavedQuery,indexPatterns:R,screenTitle:E.title,showAutoRefreshOnly:!V(),showDatePicker:V(),showFilterBar:H,showQueryInput:G,badges:w?[(W=j.i18n.translate("visualizations.managedBadgeTooltip",{defaultMessage:"This visualization is managed by Elastic. Changes made here must be saved to a new visualization."}),{"data-test-subj":"managedContentBadge",badgeText:j.i18n.translate("managedContentBadge.text",{defaultMessage:"Managed"}),title:j.i18n.translate("managedContentBadge.text",{defaultMessage:"Managed"}),color:"primary",iconType:"glasses",toolTipProps:{content:W,position:"bottom"}})]:void 0,saveQueryMenuVisibility:x.visualizeCapabilities.saveQuery?"allowed_by_app_privilege":"globally_managed",dataViewPickerComponentProps:q&&E.data.indexPattern?{currentDataViewId:E.data.indexPattern.id,trigger:{label:Q?j.i18n.translate("visualizations.fallbackDataView.label",{defaultMessage:"{type} not found",values:{type:E.data.savedSearchId?j.i18n.translate("visualizations.search.label",{defaultMessage:"Search"}):j.i18n.translate("visualizations.dataView.label",{defaultMessage:"Data view"})}}):E.data.indexPattern.getName()},isMissingCurrent:Q,onChangeDataView:$}:void 0,showSearchBar:!0,useDefaultBehaviors:!0}):H?Object(c.jsx)(O,{appName:Ze.VISUALIZE_APP_NAME,setMenuMountPoint:y,indexPatterns:R,showSearchBar:!0,saveQueryMenuVisibility:"hidden",showDatePicker:!1,showQueryInput:!1}):null;var W},ct=Object(p.injectI18n)(Object(n.memo)(lt)),ut=()=>{const e=Object(c.jsx)(p.FormattedMessage,{id:"visualizations.experimentalVisInfoTitle",defaultMessage:"This functionality is in technical preview."}),t=Object(c.jsx)(p.FormattedMessage,{id:"visualizations.experimentalVisInfoText",defaultMessage:"It may be changed or removed completely in a future release. Elastic will work to fix any issues, but features in technical preview are not subject to the support SLA of official GA features. For feedback, please create an issue in {githubLink}.",values:{githubLink:Object(c.jsx)(m.EuiLink,{external:!0,href:"https://github.com/elastic/kibana/issues/new/choose",target:"_blank"},"GitHub")}});return Object(c.jsx)(m.EuiCallOut,{className:"hide-for-sharing","data-test-subj":"experimentalVisInfo",size:"s",title:e,iconType:"beaker"},t)},dt=Object(n.memo)(ut),bt={gauge:"gauge"},pt={pie:"pie",controls:"input_control_vis"},gt={[bt.gauge]:"visualization:visualize:legacyGaugeChartsLibrary"},ft=({canEditAdvancedSettings:e,advancedSettingsLink:t,mode:a="old"})=>Object(c.jsx)(i.a.Fragment,null,e&&Object(c.jsx)(p.FormattedMessage,{id:"visualizations.newChart.conditionalMessage.newLibrary",defaultMessage:"Switch to the {type} library in {link}",values:{link:Object(c.jsx)(m.EuiLink,{href:t},Object(c.jsx)(p.FormattedMessage,{id:"visualizations.newChart.conditionalMessage.advancedSettingsLink",defaultMessage:"Advanced Settings."})),type:"old"===a?j.i18n.translate("visualizations.newChart.libraryMode.old",{defaultMessage:"old"}):j.i18n.translate("visualizations.newChart.libraryMode.new",{defaultMessage:"new"})}})),mt=({canEditAdvancedSettings:e})=>Object(c.jsx)(i.a.Fragment,null,!e&&Object(c.jsx)(p.FormattedMessage,{id:"visualizations.legacyCharts.conditionalMessage.noPermissions",defaultMessage:"Contact your system administrator to switch to the old library."})),vt={[bt.gauge]:e=>Object(c.jsx)(p.FormattedMessage,{id:"visualizations.newGaugeChart.notificationMessage",defaultMessage:"The new gauge charts library does not yet support split chart aggregation. {conditionalMessage}",values:{conditionalMessage:Object(c.jsx)(i.a.Fragment,null,Object(c.jsx)(ft,e),Object(c.jsx)(mt,e))}}),[pt.pie]:e=>Object(c.jsx)(p.FormattedMessage,{id:"visualizations.oldPieChart.notificationMessage",defaultMessage:"You are using the legacy charts library, which will be removed in a future version. {conditionalMessage}",values:{conditionalMessage:Object(c.jsx)(i.a.Fragment,null,Object(c.jsx)(ft,e),Object(c.jsx)(mt,e))}}),[pt.controls]:e=>Object(c.jsx)(p.FormattedMessage,{id:"visualizations.controls.notificationMessage",defaultMessage:"Input controls are deprecated and will be removed in a future release. Use the new Controls to filter and interact with your dashboard data. "})},jt=({chartType:e,chartConfigToken:t,mode:a})=>{const{services:n}=Object(d.useKibana)(),i=n.application.capabilities.advancedSettings.save,s=n.application.getUrlForApp("management",{path:`/kibana/settings?query=${t}`}),r=vt[e];return Object(c.jsx)(m.EuiCallOut,{"data-test-subj":"vizChartWarning",title:Object(c.jsx)(r,{advancedSettingsLink:s,canEditAdvancedSettings:i,mode:a}),iconType:"warning",color:"warning",size:"s"})},ht=({visInstance:e,appState:t,currentAppState:a,isChromeVisible:i,hasUnsavedChanges:s,setHasUnsavedChanges:r,hasUnappliedChanges:o,isEmbeddableRendered:l,onAppLeave:u,originatingApp:b,originatingPath:g,setOriginatingApp:f,visualizationIdFromUrl:v,embeddableId:h,visEditorRef:x,eventEmitter:O})=>{var y,S,C,E,w,M,T,k,L,P,_,I,A;const{services:N}=Object(d.useKibana)();Object(n.useEffect)((()=>{!async function(){const t=null==e?void 0:e.savedVis.sharingSavedObjectProps;if(N.spaces&&"aliasMatch"===(null==t?void 0:t.outcome)){var a;const n=null==t?void 0:t.aliasTargetId,i=`${Object(Ye.urlFor)(n)}${N.history.location.search}`;await N.spaces.ui.redirectLegacyUrl({path:i,aliasPurpose:t.aliasPurpose,objectNoun:j.i18n.translate("visualizations.legacyUrlConflict.objectNoun",{defaultMessage:"{visName} visualization",values:{visName:null==e||null===(a=e.vis)||void 0===a?void 0:a.type.title}})})}}()}),[null==e?void 0:e.savedVis.sharingSavedObjectProps,null==e||null===(y=e.vis)||void 0===y?void 0:y.type.title,N]);const F=Object(n.useCallback)((()=>{const t=null==e?void 0:e.savedVis.id,a=null==e?void 0:e.savedVis.sharingSavedObjectProps;if(N.spaces&&"conflict"===(null==a?void 0:a.outcome)&&t){var n;const i=null==a?void 0:a.aliasTargetId,s=`${Object(Ye.urlFor)(i)}${N.history.location.search}`;return N.spaces.ui.components.getLegacyUrlConflict({objectNoun:j.i18n.translate("visualizations.legacyUrlConflict.objectNoun",{defaultMessage:"{visName} visualization",values:{visName:null==e||null===(n=e.vis)||void 0===n?void 0:n.type.title}}),currentObjectId:t,otherObjectId:i,otherObjectPath:s})}return null}),[null==e?void 0:e.savedVis,N,null==e||null===(S=e.vis)||void 0===S?void 0:S.type.title]),z=null==e?void 0:e.vis.type.name,B=(D=z,R=null==e||null===(C=e.vis)||void 0===C||null===(E=C.data)||void 0===E?void 0:E.aggs,(null!==(U={[bt.gauge]:()=>null==R?void 0:R.aggs.some((e=>"group"===e.schema))}[D])&&void 0!==U?U:()=>null==R?void 0:R.aggs.some((e=>"split"===e.schema)))());var D,R,U;const V=Object.values(bt),H=!!z&&V.includes(z),G=Object.values(pt),q=!!z&&G.includes(z),$=z&&(H||q)?gt[z]:void 0,Q=!$||Object(Xe.r)().get($);return Object(c.jsx)("div",{className:`app-container visEditor visEditor--${null==e?void 0:e.vis.type.name}`},e&&t&&a&&Object(c.jsx)(ct,{currentAppState:a,hasUnsavedChanges:s,setHasUnsavedChanges:r,isChromeVisible:i,isEmbeddableRendered:l,hasUnappliedChanges:o,originatingApp:b,originatingPath:g,setOriginatingApp:f,visInstance:e,stateContainer:t,visualizationIdFromUrl:v,embeddableId:h,onAppLeave:u,eventEmitter:O}),"experimental"===(null==e||null===(w=e.vis)||void 0===w||null===(M=w.type)||void 0===M?void 0:M.stage)&&!(null!=e&&null!==(T=e.vis)&&void 0!==T&&null!==(k=T.type)&&void 0!==k&&k.isDeprecated)&&Object(c.jsx)(dt,null),!Q&&B&&H&&$&&z&&Object(c.jsx)(jt,{chartType:z,chartConfigToken:$}),(Q&&q&&$&&z||(null==e||null===(L=e.vis)||void 0===L||null===(P=L.type)||void 0===P?void 0:P.isDeprecated))&&Object(c.jsx)(jt,{chartType:z,chartConfigToken:null!=$?$:void 0,mode:"new"}),null==e||null===(_=e.vis)||void 0===_||null===(I=_.type)||void 0===I||null===(A=I.getInfoMessage)||void 0===A?void 0:A.call(I,e.vis),F(),e&&Object(c.jsx)(m.EuiScreenReaderOnly,null,Object(c.jsx)("h1",null,"savedVis"in e&&e.savedVis.id?Object(c.jsx)(p.FormattedMessage,{id:"visualizations.pageHeading",defaultMessage:"{chartName} {chartType} visualization",values:{chartName:e.savedVis.title,chartType:e.vis.type.title}}):Object(c.jsx)(p.FormattedMessage,{id:"visualizations.byValue_pageHeading",defaultMessage:"Visualization of type {chartType} embedded into {originatingApp} app",values:{chartType:e.vis.type.title,originatingApp:b||"dashboards"}}))),Object(c.jsx)("div",{className:i?"visEditor__content":"visualize",ref:x}))},xt=({onAppLeave:e})=>{const{id:t}=Object(o.useParams)(),[a,i]=Object(n.useState)(),[s,r]=Object(n.useState)(),[l,u]=Object(n.useState)(),[b,p]=Object(n.useState)(),{services:g}=Object(d.useKibana)(),[f]=Object(n.useState)(new it.EventEmitter),[m,v]=Object(n.useState)(!t),j=Object(et.g)(g.chrome);Object(n.useEffect)((()=>{const{stateTransferService:e,data:t}=g,{originatingApp:a,searchSessionId:n,embeddableId:s,originatingPath:o,valueInput:l}=e.getIncomingEditorState(Ze.VisualizeConstants.APP_ID)||{};n?t.search.session.continue(n):t.search.session.start(),p(l),u(s),i(a),r(o)}),[g]);const{savedVisInstance:h,visEditorRef:x,visEditorController:O}=Object(et.k)(g,f,j,a,t,b),y=(null==h?void 0:h.vis.type.title.toLowerCase().replace(" ","_"))||"";Object(d.useExecutionContext)(g.executionContext,{type:"application",page:"editor"+(y?`:${y}`:""),id:t||"new"});const{appState:S,hasUnappliedChanges:C}=Object(et.m)(g,f,h),{isEmbeddableRendered:E,currentAppState:w}=Object(et.i)(g,f,v,S,h,O);return Object(et.j)(g,f,S,h),Object(et.h)(g,f,S,h),Object(n.useEffect)((()=>()=>{f.removeAllListeners()}),[f,g]),Object(c.jsx)(ht,{visInstance:h,appState:S,currentAppState:w,isChromeVisible:j,hasUnsavedChanges:m,hasUnappliedChanges:C,isEmbeddableRendered:E,originatingApp:a,setOriginatingApp:i,originatingPath:s,visualizationIdFromUrl:t,setHasUnsavedChanges:v,visEditorRef:x,onAppLeave:e,embeddableId:l,eventEmitter:f})};let Ot;const yt=()=>{const{services:e}=Object(d.useKibana)();return Object(n.useEffect)((()=>{e.restorePreviousUrl();const{navigated:t}=e.urlForwarding.navigateToLegacyKibanaUrl(e.history.location.pathname+e.history.location.search);if(!t){const t=j.i18n.translate("visualizations.noMatchRoute.bannerTitleText",{defaultMessage:"Page not found"});Ot=e.overlays.banners.replace(Ot,Object(k.a)(Object(c.jsx)(m.EuiCallOut,{color:"warning",iconType:"iInCircle",title:t},Object(c.jsx)("p",null,Object(c.jsx)(p.FormattedMessage,{id:"visualizations.noMatchRoute.bannerText",defaultMessage:"Visualize application doesn't recognize this route: {route}.",values:{route:Object(c.jsx)(m.EuiLink,{href:window.location.href},e.history.location.pathname)}}))),e.core)),setTimeout((()=>{e.overlays.banners.remove(Ot)}),15e3),e.history.replace(Ze.VisualizeConstants.LANDING_PAGE_PATH)}}),[e]),null},St=({onAppLeave:e})=>{const[t,a]=Object(n.useState)(),[i,s]=Object(n.useState)(),{services:r}=Object(d.useKibana)(),[o]=Object(n.useState)(new it.EventEmitter),[l,u]=Object(n.useState)(!1),[b,p]=Object(n.useState)(),[g,f]=Object(n.useState)();Object(n.useEffect)((()=>{const{stateTransferService:e,history:t,data:n}=r,{originatingApp:i,embeddableId:o,valueInput:l,searchSessionId:c,originatingPath:u}=e.getIncomingEditorState(Ze.VisualizeConstants.APP_ID)||{};s(u),a(i),f(l),p(o),l||t.replace(Ze.VisualizeConstants.LANDING_PAGE_PATH),c?n.search.session.continue(c):n.search.session.start()}),[r]);const m=Object(et.g)(r.chrome),{byValueVisInstance:v,visEditorRef:j,visEditorController:h}=Object(et.l)(r,o,m,g,t,i),{appState:x,hasUnappliedChanges:O}=Object(et.m)(r,o,v),{isEmbeddableRendered:y,currentAppState:S}=Object(et.i)(r,o,u,x,v,h);return Object(et.j)(r,o,x,v),Object(et.h)(r,o,x,v),Object(n.useEffect)((()=>()=>{o.removeAllListeners()}),[o]),Object(c.jsx)(ht,{visInstance:v,appState:x,currentAppState:S,isChromeVisible:m,hasUnsavedChanges:l,hasUnappliedChanges:O,isEmbeddableRendered:y,originatingApp:t,setOriginatingApp:a,originatingPath:i,setHasUnsavedChanges:u,visEditorRef:j,embeddableId:b,onAppLeave:e,eventEmitter:o})},Ct=({core:e,dataViews:t,dataViewEditor:n,onDataViewCreated:s,noDataPage:r,share:o})=>{const l={coreStart:e,dataViews:t,dataViewEditor:n,noDataPage:r,share:o},u=a.e(13).then(a.bind(null,213)),d=Object(De.a)(i.a.lazy((()=>u.then((({AnalyticsNoDataPageKibanaProvider:e})=>({default:e})))))),b=Object(De.a)(i.a.lazy((()=>u.then((({AnalyticsNoDataPage:e})=>({default:e}))))));return Object(c.jsx)(d,l,Object(c.jsx)(b,{onDataViewCreated:s}))},Et=({onAppLeave:e})=>{const{services:{data:{query:t,dataViews:a},core:i,kbnUrlStateStorage:s,dataViewEditor:r,noDataPage:l,share:u}}=Object(d.useKibana)(),{pathname:b}=Object(o.useLocation)(),[p,g]=Object(n.useState)(!1),[f,v]=Object(n.useState)(!0),j=Object(n.useCallback)((e=>{e&&g(!1)}),[]);return Object(n.useEffect)((()=>{const{stop:e}=Object(Be.syncGlobalQueryStateWithUrl)(t,s);return()=>e()}),[t,s,b]),Object(n.useEffect)((()=>{(async()=>{if(await a.hasData.hasUserDataView().catch((()=>!1)))return await a.defaultDataViewExists()||g(!0),void v(!1);g(!0),v(!1)})()}),[a]),f?Object(c.jsx)("div",{className:"visAppLoadingWrapper"},Object(c.jsx)(m.EuiLoadingSpinner,{size:"xl"})):p?Object(c.jsx)(Ct,{core:i,dataViewEditor:r,dataViews:a,onDataViewCreated:j,noDataPage:l,share:u}):Object(c.jsx)(ze,null,Object(c.jsx)(Ne,{exact:!0,path:`${Ze.VisualizeConstants.EDIT_BY_VALUE_PATH}`},Object(c.jsx)(St,{onAppLeave:e})),Object(c.jsx)(Ne,{path:[Ze.VisualizeConstants.CREATE_PATH,`${Ze.VisualizeConstants.EDIT_PATH}/:id`]},Object(c.jsx)(xt,{onAppLeave:e})),Object(c.jsx)(Ne,{exact:!0,path:[Ze.VisualizeConstants.LANDING_PAGE_PATH,Ze.VisualizeConstants.WIZARD_STEP_1_PAGE_PATH,Ze.VisualizeConstants.LANDING_PAGE_PATH_WITH_TAB]},Object(c.jsx)(nt,null)),Object(c.jsx)(yt,null))},wt=({element:e,onAppLeave:t},a)=>{Object(et.b)(a.chrome,a.docLinks),a.visualizeCapabilities.save||Object(et.a)(a.chrome);const n=Object(c.jsx)(b.a,a.core,Object(c.jsx)(u,{history:a.history},Object(c.jsx)(d.KibanaContextProvider,{services:a},Object(c.jsx)(a.presentationUtil.ContextProvider,null,Object(c.jsx)(z,{core:a.core,savedObjectsTagging:a.savedObjectsTagging,FormattedRelative:p.FormattedRelative},Object(c.jsx)(Et,{onAppLeave:t}))))));return r.a.render(n,e),()=>r.a.unmountComponentAtNode(e)}},,,,function(e,t,a){"use strict";a.d(t,"a",(function(){return M})),a.d(t,"b",(function(){return T}));var n=a(41),i=a.n(n),s=a(3),r=a(42),o=a.n(r),l=a(10),c=a(217),u=a(4),d=a(64),b=a(206),p=a(200),g=a(131),f=a.n(g),m=a(6);const v=u.i18n.translate("sharedUXPackages.card.noData.noPermission.title",{defaultMessage:"Contact your administrator"}),j=u.i18n.translate("sharedUXPackages.card.noData.noPermission.description",{defaultMessage:"This integration is not yet enabled. Your administrator has the required permissions to turn it on."}),h=u.i18n.translate("sharedUXPackages.card.noData.title",{defaultMessage:"Add Elastic Agent"}),x=u.i18n.translate("sharedUXPackages.card.noData.description",{defaultMessage:"Use Elastic Agent for a simple, unified way to collect data from your machines."}),O=()=>Object(m.jsx)(l.EuiImage,{size:"fullWidth",style:{width:"max(100%, 360px)",height:240,objectFit:"cover",background:"aliceblue"},url:f.a,alt:""}),y=({title:e,description:t,canAccessFleet:a,button:n,href:s,...r})=>Object(m.jsx)(l.EuiCard,i()({css:{maxWidth:400,marginInline:"auto"},paddingSize:"l",title:a?Object(m.jsx)(l.EuiScreenReaderOnly,null,Object(m.jsx)("span",null,e||h)):Object(m.jsx)(l.EuiTextColor,{color:"default"},v),description:a?t||x:Object(m.jsx)(l.EuiTextColor,{color:"default"},j),footer:(()=>{if(a)return n&&"string"!=typeof n?n:Object(m.jsx)(l.EuiButton,{fill:!0,href:s,"data-test-subj":"noDataDefaultFooterAction"},n||e||h)})(),isDisabled:!a,href:s,image:Object(m.jsx)(O,null)},r));var S=a(130);const C=({href:e,category:t,description:a,...n})=>{var r;const{canAccessFleet:o,addBasePath:l}=Object(S.c)(),c=Object(s.useMemo)((()=>{if(e)return e;const a="/app/integrations/browse";return l(t?`${a}/${t}`:a)}),[l,e,t]);return Object(m.jsx)(p.a,null,Object(m.jsx)(y,i()({},n,{href:c,canAccessFleet:null!==(r=n.canAccessFleet)&&void 0!==r?r:o,description:a})))},E=({action:e})=>{const t=Object.keys(e);if(1!==t.length)return null;const a=t[0],n="elasticAgent"===a?"empty-page-agent-action":`empty-page-${a}-action`;return Object(m.jsx)(C,i()({key:n},e[a]))},w=({solution:e,logo:t,action:a,docsLink:n,pageTitle:i,pageDescription:s,className:r})=>{const c=i||u.i18n.translate("sharedUXPackages.noDataPage.welcomeTitle",{defaultMessage:"Welcome to Elastic {solution}!",values:{solution:e}}),p=n?Object(m.jsx)(l.EuiLink,{href:n,target:"_blank"},Object(m.jsx)(d.FormattedMessage,{id:"sharedUXPackages.noDataPage.intro.link",defaultMessage:"learn more"})):null,g=null!=s?s:p?Object(m.jsx)(d.FormattedMessage,{id:"sharedUXPackages.noDataPage.intro",defaultMessage:"Add your data to get started, or {link} about {solution}.",values:{solution:e,link:p}}):Object(m.jsx)(d.FormattedMessage,{id:"sharedUXPackages.noDataPage.introNoDocLink",defaultMessage:"Add your data to get started."});return Object(m.jsx)(l.EuiPageTemplate.Section,{alignment:"center",grow:!0,className:o()("kbnNoDataPageContents",r),"data-test-subj":"kbnNoDataPage"},Object(m.jsx)(l.EuiText,{textAlign:"center"},Object(m.jsx)(b.a,{name:e,iconType:t||`logo${e}`,size:"xxl"}),Object(m.jsx)(l.EuiSpacer,{size:"l"}),Object(m.jsx)("h1",null,c),Object(m.jsx)(l.EuiTextColor,{color:"subdued"},Object(m.jsx)("p",null,g))),Object(m.jsx)(l.EuiSpacer,{size:"xxl"}),Object(m.jsx)(E,{action:a}))},M=e=>{const{className:t,noDataConfig:a,pageSideBar:n,pageSideBarProps:s,...r}=e;if(!a)return null;let c;n&&(c=Object(m.jsx)(l.EuiPageTemplate.Sidebar,s,n));const u=((e,t)=>o()("kbnPageTemplate","",t||""))(0,t);return Object(m.jsx)(l.EuiPageTemplate,i()({className:u,restrictWidth:950,panelled:!1,offset:0,minHeight:0},r),c,Object(m.jsx)(w,a))},T=Object(c.a)(M)},,function(e,t,a){"use strict";a.d(t,"a",(function(){return S}));var n=a(41),i=a.n(n),s=a(3),r=a.n(s),o=a(42),l=a.n(o),c=a(10),u=(a(142),a(64)),d=a(4),b=a(206),p=(a(147),a(6));const g=d.i18n.translate("sharedUXPackages.solutionNav.collapsibleLabel",{defaultMessage:"Collapse side navigation"}),f=d.i18n.translate("sharedUXPackages.solutionNav.openLabel",{defaultMessage:"Open side navigation"}),m=({className:e,isCollapsed:t,...a})=>{const n=l()("kbnSolutionNavCollapseButton",{"kbnSolutionNavCollapseButton-isCollapsed":t},e);return Object(p.jsx)(c.EuiButtonIcon,i()({className:n,size:"s",color:"text",iconType:t?"menuRight":"menuLeft","aria-label":t?f:g,title:t?f:g},a))},v="248px",j=(e,t)=>e.map((e=>(e.tabIndex=t?-1:void 0,e.items=e.items&&j(e.items,t),e))),h=Object(c.htmlIdGenerator)("SolutionNav"),x=({children:e,headingProps:t,icon:a,isOpenOnDesktop:n=!1,items:o,mobileBreakpoints:g=["xs","s"],closeFlyoutButtonPosition:f="outside",name:x,onCollapse:O,canBeCollapsed:y=!0,...S})=>{const C=Object(c.useIsWithinBreakpoints)(g),E=Object(c.useIsWithinBreakpoints)(["m"]),w=Object(c.useIsWithinMinBreakpoint)("l"),[M,T]=Object(s.useState)(!1),k=w&&!n&&y,L=!!e,P=l()("kbnSolutionNav",{"kbnSolutionNav--hidden":k}),_=(null==t?void 0:t.id)||h("heading"),I=(null==t?void 0:t.element)||"h2",A=Object(p.jsx)(c.EuiTitle,{size:"xs",id:_,"data-test-subj":null==t?void 0:t["data-test-subj"],className:"kbnSolutionNav__title"},Object(p.jsx)(I,null,a&&Object(p.jsx)(b.a,{className:"kbnSolutionNav__titleAvatar",iconType:a,name:x}),Object(p.jsx)("strong",null,Object(p.jsx)(u.FormattedMessage,{id:"sharedUXPackages.solutionNav.mobileTitleText",defaultMessage:"{solutionName} {menuText}",values:{solutionName:x||"Navigation",menuText:C?d.i18n.translate("sharedUXPackages.solutionNav.menuText",{defaultMessage:"menu"}):""}})))),N=Object(s.useMemo)((()=>L?e:o?Object(p.jsx)(c.EuiSideNav,i()({"aria-labelledby":_,"aria-hidden":k,items:j(o,k),mobileBreakpoints:[]},S)):null),[e,_,L,k,o,S]),{euiTheme:F}=Object(c.useEuiTheme)(),z=Object(s.useMemo)((()=>w?n?v:F.size.xxl:E?M||!y?v:F.size.xxl:"0"),[F,n,M,y,E,w]),{setGlobalCSSVariables:B}=Object(c.useEuiThemeCSSVariables)();return Object(s.useEffect)((()=>{B({"--kbnSolutionNavOffset":z})}),[z,B]),Object(p.jsx)(r.a.Fragment,null,C&&Object(p.jsx)(c.EuiCollapsibleNavGroup,{className:P,paddingSize:"none",background:"none",title:A,titleElement:"span",isCollapsible:y,initialIsOpen:!1},Object(p.jsx)(c.EuiPanel,{color:"transparent",paddingSize:"s"},N)),E&&Object(p.jsx)(r.a.Fragment,null,(M||!y)&&Object(p.jsx)(c.EuiFlyout,{ownFocus:!1,outsideClickCloses:!0,onClose:()=>T(!1),side:"left",size:248,closeButtonPosition:f,className:"kbnSolutionNav__flyout",hideCloseButton:!y},Object(p.jsx)(c.EuiPageSidebar,{className:P,hasEmbellish:!0},A,Object(p.jsx)(c.EuiSpacer,{size:"l"}),N)),y&&Object(p.jsx)(m,{isCollapsed:!0,onClick:()=>{T(!M)}})),w&&Object(p.jsx)(r.a.Fragment,null,Object(p.jsx)("div",{className:P},A,Object(p.jsx)(c.EuiSpacer,{size:"l"}),N),y&&Object(p.jsx)(m,{isCollapsed:!n,onClick:O})))};var O=a(103);const y="solutionNavIsCollapsed",S=e=>{const t=t=>{var a;const n=Object(c.useIsWithinBreakpoints)(["m"]),r=Object(c.useIsWithinMinBreakpoint)("l"),[o,u]=Object(s.useState)(!JSON.parse(String(localStorage.getItem(y)))),{solutionNav:d,children:b,...g}=t,{euiTheme:f}=Object(c.useEuiTheme)(),{canBeCollapsed:m=!0}=d,v=n||m&&r&&!o,j=(e=>Object(O.css)("flex:0 1 0;overflow:hidden;",c.euiCanAnimate,"{transition:min-width ",e.animation.fast," ",e.animation.resistance,";}",""))(f),h=l()("kbnSolutionNav__sidebar",{"kbnSolutionNav__sidebar--shrink":v},null===(a=t.pageSideBarProps)||void 0===a?void 0:a.className,j),S=Object(p.jsx)(x,i()({isOpenOnDesktop:o,onCollapse:()=>{u(!o),localStorage.setItem(y,JSON.stringify(o))}},d)),C={paddingSize:"none",...t.pageSideBarProps,minWidth:v?f.size.xxl:void 0,className:h,hasEmbellish:!v};return Object(p.jsx)(e,i()({},g,{pageSideBar:S,pageSideBarProps:C}),b)};var a;return t.displayName=`WithSolutionNavBar(${a=e,a.displayName||a.name||"UnnamedComponent"})`,t}},function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(41),i=a.n(n),s=a(38),r=a(3),o=a.n(r),l=a(10),c=a(6),u={name:"1azakc",styles:"text-align:center"};const d=()=>{const e=u;return Object(c.jsx)("div",{css:e},Object(c.jsx)(l.EuiLoadingSpinner,null))},b=(e,t=Object(c.jsx)(d,null))=>o.a.forwardRef(((a,n)=>Object(c.jsx)(s.KibanaErrorBoundaryProvider,{analytics:a.analytics},Object(c.jsx)(s.KibanaErrorBoundary,null,Object(c.jsx)(r.Suspense,{fallback:t},Object(c.jsx)(e,i()({},a,{ref:n})))))))}])]);