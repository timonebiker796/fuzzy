(window.unifiedDocViewer_bundle_jsonpfunction=window.unifiedDocViewer_bundle_jsonpfunction||[]).push([[10],{38:function(e,i,t){"use strict";t.r(i),t(75);var l=t(0),a=t(2),o=t(74),n=t(14),s=t(156),d=t(157),c=t(155),r=t(98),u=t(4),b=t(27),f=t(161),j=t(3),m=t(1);function g({onClick:e,disabled:i=!1}){const t=i?Object(m.jsx)(b.FormattedMessage,{id:"unifiedDocViewer.docViews.table.unindexedFieldsCanNotBeSearchedTooltip",defaultMessage:"Unindexed fields or ignored values cannot be searched"}):Object(m.jsx)(b.FormattedMessage,{id:"unifiedDocViewer.docViews.table.filterOutValueButtonTooltip",defaultMessage:"Filter out value"});return Object(m.jsx)(a.EuiToolTip,{content:t},Object(m.jsx)(a.EuiButtonIcon,{"aria-label":j.i18n.translate("unifiedDocViewer.docViews.table.filterOutValueButtonAriaLabel",{defaultMessage:"Filter out value"}),className:"kbnDocViewer__actionButton","data-test-subj":"removeInclusiveFilterButton",disabled:i,onClick:e,iconType:"minusInCircle",iconSize:"s"}))}function p({onClick:e,disabled:i=!1,scripted:t=!1}){const l=i?t?Object(m.jsx)(b.FormattedMessage,{id:"unifiedDocViewer.docViews.table.unableToFilterForPresenceOfScriptedFieldsTooltip",defaultMessage:"Unable to filter for presence of scripted fields"}):Object(m.jsx)(b.FormattedMessage,{id:"unifiedDocViewer.docViews.table.unableToFilterForPresenceOfMetaFieldsTooltip",defaultMessage:"Unable to filter for presence of meta fields"}):Object(m.jsx)(b.FormattedMessage,{id:"unifiedDocViewer.docViews.table.filterForFieldPresentButtonTooltip",defaultMessage:"Filter for field present"});return Object(m.jsx)(a.EuiToolTip,{content:l},Object(m.jsx)(a.EuiButtonIcon,{"aria-label":j.i18n.translate("unifiedDocViewer.docViews.table.filterForFieldPresentButtonAriaLabel",{defaultMessage:"Filter for field present"}),onClick:e,className:"kbnDocViewer__actionButton","data-test-subj":"addExistsFilterButton",disabled:i,iconType:"filter",iconSize:"s"}))}function O({onClick:e,active:i,disabled:t=!1,fieldname:l=""}){return t?Object(m.jsx)(a.EuiButtonIcon,{"aria-label":j.i18n.translate("unifiedDocViewer.docViews.table.toggleColumnInTableButtonAriaLabel",{defaultMessage:"Toggle column in table"}),className:"kbnDocViewer__actionButton","data-test-subj":"toggleColumnButton",disabled:!0,iconType:"listAdd",iconSize:"s"}):Object(m.jsx)(a.EuiToolTip,{content:Object(m.jsx)(b.FormattedMessage,{id:"unifiedDocViewer.docViews.table.toggleColumnInTableButtonTooltip",defaultMessage:"Toggle column in table"})},Object(m.jsx)(a.EuiButtonIcon,{"aria-label":j.i18n.translate("unifiedDocViewer.docViews.table.toggleColumnInTableButtonAriaLabel",{defaultMessage:"Toggle column in table"}),"aria-pressed":i,onClick:e,className:"kbnDocViewer__actionButton","data-test-subj":`toggleColumnButton-${l}`,iconType:"listAdd",iconSize:"s"}))}function w({onClick:e,disabled:i=!1}){const t=i?Object(m.jsx)(b.FormattedMessage,{id:"unifiedDocViewer.docViews.table.unindexedFieldsCanNotBeSearchedTooltip",defaultMessage:"Unindexed fields or ignored values cannot be searched"}):Object(m.jsx)(b.FormattedMessage,{id:"unifiedDocViewer.docViews.table.filterForValueButtonTooltip",defaultMessage:"Filter for value"});return Object(m.jsx)(a.EuiToolTip,{content:t},Object(m.jsx)(a.EuiButtonIcon,{"aria-label":j.i18n.translate("unifiedDocViewer.docViews.table.filterForValueButtonAriaLabel",{defaultMessage:"Filter for value"}),className:"kbnDocViewer__actionButton","data-test-subj":"addInclusiveFilterButton",disabled:i,onClick:e,iconType:"plusInCircle",iconSize:"s"}))}const V=({isActive:e,field:i,fieldMapping:t,flattenedField:l,onToggleColumn:a,onFilter:o,ignoredValue:n})=>Object(m.jsx)("div",{className:"kbnDocViewer__buttons"},o&&Object(m.jsx)(w,{disabled:!t||!t.filterable||n,onClick:()=>o(t,l,"+")}),o&&Object(m.jsx)(g,{disabled:!t||!t.filterable||n,onClick:()=>o(t,l,"-")}),a&&Object(m.jsx)(O,{active:e,fieldname:i,onClick:()=>a(i)}),o&&Object(m.jsx)(p,{disabled:!t||!t.filterable,onClick:()=>o("_exists_",i,"+"),scripted:t&&t.scripted}));var x=t(76);const F={field:"action",className:"kbnDocViewer__tableActionsCell",width:"108px",mobileOptions:{header:!1},name:Object(m.jsx)(a.EuiText,{size:"xs"},Object(m.jsx)("strong",null,Object(m.jsx)(b.FormattedMessage,{id:"unifiedDocViewer.fieldChooser.discoverField.actions",defaultMessage:"Actions"}))),render:({flattenedField:e,isActive:i,onFilter:t,onToggleColumn:l},{field:{field:a,fieldMapping:o},value:{ignored:n}})=>Object(m.jsx)(V,{isActive:i,field:a,fieldMapping:o,flattenedField:e,onFilter:t,onToggleColumn:l,ignoredValue:!!n})},T=[{field:"field",className:"kbnDocViewer__tableFieldNameCell",mobileOptions:{header:!1},width:"30%",name:Object(m.jsx)(a.EuiText,{size:"xs"},Object(m.jsx)("strong",null,Object(m.jsx)(b.FormattedMessage,{id:"unifiedDocViewer.fieldChooser.discoverField.name",defaultMessage:"Field"}))),render:({field:e,fieldType:i,displayName:t,fieldMapping:l,scripted:a})=>e?Object(m.jsx)(f.a,{fieldName:t,fieldType:i,fieldMapping:l,scripted:a}):Object(m.jsx)("span",null,"Â ")},{field:"value",className:"kbnDocViewer__tableValueCell",mobileOptions:{header:!1},name:Object(m.jsx)(a.EuiText,{size:"xs"},Object(m.jsx)("strong",null,Object(m.jsx)(b.FormattedMessage,{id:"unifiedDocViewer.fieldChooser.discoverField.value",defaultMessage:"Value"}))),render:({formattedValue:e,ignored:i},{field:{field:t},action:{flattenedField:l}})=>Object(m.jsx)(x.a,{field:t,formattedValue:e,rawValue:l,ignoreReason:i})}];i.default=({columns:e,hit:i,dataView:t,hideActionsColumn:b,filter:f,onAddColumn:j,onRemoveColumn:g})=>{const{fieldFormats:p,uiSettings:O}=Object(u.b)(),w=Object(l.useMemo)((()=>O.get(n.c)),[O]),V=Object(l.useCallback)((e=>t.fields.getByName(e)),[t.fields]),x=Object(l.useMemo)((()=>b?T:[F,...T]),[b]),M=Object(l.useMemo)((()=>{if(g&&j&&e)return i=>{e.includes(i)?g(i):j(i)}}),[g,j,e]),C=Object(l.useCallback)((({field:{field:e}})=>({key:e,className:"kbnDocViewer__tableRow","data-test-subj":`tableDocViewRow-${e}`})),[]),v=Object(l.useMemo)((()=>Object(s.a)(Object.keys(i.flattened),t,w)),[i.flattened,t,w]),D=Object.keys(i.flattened).filter(v).sort(((e,i)=>{const t=V(e),l=V(i),a=t&&t.displayName?t.displayName:e,o=l&&l.displayName?l.displayName:i;return a.localeCompare(o)})).map((l=>{var a;const n=V(l),s=null!==(a=null==n?void 0:n.displayName)&&void 0!==a?a:l,u=Object(d.a)(l,t)?"nested":n?Object(o.a)(n):void 0,b=Object(c.b)(null!=n?n:l,i.raw._ignored);return{action:{onToggleColumn:M,onFilter:f,isActive:!(null==e||!e.includes(l)),flattenedField:i.flattened[l]},field:{field:l,displayName:s,fieldMapping:n,fieldType:u,scripted:Boolean(null==n?void 0:n.scripted)},value:{formattedValue:Object(r.a)(i.flattened[l],i.raw,p,t,n),ignored:b}}}));return Object(m.jsx)(a.EuiInMemoryTable,{tableLayout:"auto",className:"kbnDocViewer__table",items:D,columns:x,rowProps:C,responsiveBreakpoint:!1})}}}]);