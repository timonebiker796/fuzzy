(window.textBasedLanguages_bundle_jsonpfunction=window.textBasedLanguages_bundle_jsonpfunction||[]).push([[1],Array(25).concat([function(e,t,o){"use strict";var n,r=function(){var e={};return function(t){if(void 0===e[t]){var o=document.querySelector(t);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(e){o=null}e[t]=o}return e[t]}}(),i=[];function a(e){for(var t=-1,o=0;o<i.length;o++)if(i[o].identifier===e){t=o;break}return t}function s(e,t){for(var o={},n=[],r=0;r<e.length;r++){var s=e[r],d=t.base?s[0]+t.base:s[0],u=o[d]||0,c="".concat(d," ").concat(u);o[d]=u+1;var l=a(c),g={css:s[1],media:s[2],sourceMap:s[3]};-1!==l?(i[l].references++,i[l].updater(g)):i.push({identifier:c,updater:p(g,t),references:1}),n.push(c)}return n}function d(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var i=o.nc;i&&(n.nonce=i)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var a=r(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var u,c=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function l(e,t,o,n){var r=o?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=c(t,r);else{var i=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function g(e,t,o){var n=o.css,r=o.media,i=o.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var m=null,b=0;function p(e,t){var o,n,r;if(t.singleton){var i=b++;o=m||(m=d(t)),n=l.bind(null,o,i,!1),r=l.bind(null,o,i,!0)}else o=d(t),n=g.bind(null,o,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(o)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n));var o=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<o.length;n++){var r=a(o[n]);i[r].references--}for(var d=s(e,t),u=0;u<o.length;u++){var c=a(o[u]);0===i[c].references&&(i[c].updater(),i.splice(c,1))}o=d}}}},function(e,t,o){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var o=function(e,t){var o,n,r,i=e[1]||"",a=e[3];if(!a)return i;if(t&&"function"==typeof btoa){var s=(o=a,n=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),"/*# ".concat(r," */")),d=a.sources.map((function(e){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(e," */")}));return[i].concat(d).concat([s]).join("\n")}return[i].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(o,"}"):o})).join("")},t.i=function(e,o,n){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(n)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(r[a]=!0)}for(var s=0;s<e.length;s++){var d=[].concat(e[s]);n&&r[d[0]]||(o&&(d[2]?d[2]="".concat(o," and ").concat(d[2]):d[2]=o),t.push(d))}},t}},function(e,t,o){"use strict";e.exports=o(45)},function(e,t,o){"use strict";e.exports=o(52)},function(e,t,o){e.exports=o(6)(3501)},function(e,t,o){switch(window.__kbnThemeTag__){case"v8dark":return o(31);case"v8light":return o(33)}},function(e,t,o){var n=o(25),r=o(32);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,o){(t=o(26)(!1)).push([e.i,".TextBasedLangEditor .monaco-editor,.TextBasedLangEditor .monaco-editor .margin,.TextBasedLangEditor .monaco-editor .overflow-guard{border-bottom-left-radius:6px;border-top-left-radius:6px}.TextBasedLangEditor .monaco-editor .monaco-hover{display:none!important}.TextBasedLangEditor .monaco-editor .margin-view-overlays .line-numbers{color:#515761}.TextBasedLangEditor .monaco-editor .current-line~.line-numbers{color:#7a7f89}.TextBasedLangEditor .monaco-editor .suggest-details-container,.TextBasedLangEditor .monaco-editor .suggest-widget{border-radius:6px;box-shadow:0 1px 5px #00000040,0 3.6px 13px rgba(0,0,0,.175),0 8.4px 23px #00000026,0 23px 35px rgba(0,0,0,.125)}.TextBasedLangEditor .monaco-editor .suggest-details-container{background-color:#1d1e24;line-height:1.5rem}.TextBasedLangEditor_errorMessage{overflow-wrap:break-word!important;word-break:break-word}.TextBasedLangEditor--compact .monaco-editor .monaco-scrollable-element{margin-left:8px}.TextBasedLangEditor--compact .monaco-editor .monaco-list .monaco-scrollable-element{margin-left:0}.TextBasedLangEditor--compact .monaco-editor .monaco-list .monaco-scrollable-element .monaco-list-row.focused{border-radius:6px}.TextBasedLangEditor--expanded .monaco-editor .monaco-hover{display:block!important}.TextBasedLangEditor--expanded .monaco-editor,.TextBasedLangEditor--expanded .monaco-editor .margin,.TextBasedLangEditor--expanded .monaco-editor .overflow-guard{border-bottom-left-radius:0;border-top-left-radius:0}",""]),e.exports=t},function(e,t,o){var n=o(25),r=o(34);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,o){(t=o(26)(!1)).push([e.i,".TextBasedLangEditor .monaco-editor,.TextBasedLangEditor .monaco-editor .margin,.TextBasedLangEditor .monaco-editor .overflow-guard{border-bottom-left-radius:6px;border-top-left-radius:6px}.TextBasedLangEditor .monaco-editor .monaco-hover{display:none!important}.TextBasedLangEditor .monaco-editor .margin-view-overlays .line-numbers{color:#abb4c4}.TextBasedLangEditor .monaco-editor .current-line~.line-numbers{color:#69707d}.TextBasedLangEditor .monaco-editor .suggest-details-container,.TextBasedLangEditor .monaco-editor .suggest-widget{border-radius:6px;box-shadow:0 1px 5px #0000001a,0 3.6px 13px #00000012,0 8.4px 23px #0000000f,0 23px 35px #0000000d}.TextBasedLangEditor .monaco-editor .suggest-details-container{background-color:#fff;line-height:1.5rem}.TextBasedLangEditor_errorMessage{overflow-wrap:break-word!important;word-break:break-word}.TextBasedLangEditor--compact .monaco-editor .monaco-scrollable-element{margin-left:8px}.TextBasedLangEditor--compact .monaco-editor .monaco-list .monaco-scrollable-element{margin-left:0}.TextBasedLangEditor--compact .monaco-editor .monaco-list .monaco-scrollable-element .monaco-list-row.focused{border-radius:6px}.TextBasedLangEditor--expanded .monaco-editor .monaco-hover{display:block!important}.TextBasedLangEditor--expanded .monaco-editor,.TextBasedLangEditor--expanded .monaco-editor .margin,.TextBasedLangEditor--expanded .monaco-editor .overflow-guard{border-bottom-left-radius:0;border-top-left-radius:0}",""]),e.exports=t},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(8),r=o(2),i=n.__importDefault(o(36));t.default=function(e,t,o){void 0===t&&(t=0),void 0===o&&(o=[]);var n=i.default(e,t),a=n[0],s=n[1],d=n[2];return r.useEffect(d,o),[a,s]}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(2);t.default=function(e,t){void 0===t&&(t=0);var o=n.useRef(!1),r=n.useRef(),i=n.useRef(e),a=n.useCallback((function(){return o.current}),[]),s=n.useCallback((function(){o.current=!1,r.current&&clearTimeout(r.current),r.current=setTimeout((function(){o.current=!0,i.current()}),t)}),[t]),d=n.useCallback((function(){o.current=null,r.current&&clearTimeout(r.current)}),[]);return n.useEffect((function(){i.current=e}),[e]),n.useEffect((function(){return s(),d}),[t]),[a,d,s]}},function(e,t,o){switch(window.__kbnThemeTag__){case"v8dark":return o(38);case"v8light":return o(40)}},function(e,t,o){var n=o(25),r=o(39);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,o){(t=o(26)(!1)).push([e.i,'.documentation__docs{background:#1d1e24}.documentation__docsHeader{margin:0}.documentation__docs--inline{display:flex;flex-direction:column;z-index:1}.documentation__docs--overlay .documentation__docsContent{height:40vh;width:min(75vh,90vw)}.documentation__docs--inline .documentation__docsContent{flex:1;min-height:0}.documentation__docsContent>*+*{border-left:1px solid #343741}.documentation__docsSidebar{background:#25262e}.documentation__docsSidebarInner{min-height:0}.documentation__docsSidebarInner>*+*{border-top:1px solid #343741}.documentation__docsSearch{padding:16px}.documentation__docsNav{height:100%;overflow-x:hidden;overflow-y:auto;scrollbar-color:#98a2b380 #0000;scrollbar-width:thin}.documentation__docsNav::-webkit-scrollbar{height:16px;width:16px}.documentation__docsNav::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#98a2b380;border:6px solid #0000;border-radius:16px}.documentation__docsNav::-webkit-scrollbar-corner,.documentation__docsNav::-webkit-scrollbar-track{background-color:#0000}.documentation__docsNav:focus{outline:none}.documentation__docsNav[tabindex="0"]:focus:focus-visible{outline-style:auto}.documentation__docsNavGroup{padding:16px}.documentation__docsNavGroup+.documentation__docsNavGroup{border-top:1px solid #343741}.documentation__docsNavGroupLink{font-weight:inherit}.documentation__docsText{height:100%;overflow-x:hidden;overflow-y:auto;padding:16px;scrollbar-color:#98a2b380 #0000;scrollbar-width:thin}.documentation__docsText::-webkit-scrollbar{height:16px;width:16px}.documentation__docsText::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#98a2b380;border:6px solid #0000;border-radius:16px}.documentation__docsText::-webkit-scrollbar-corner,.documentation__docsText::-webkit-scrollbar-track{background-color:#0000}.documentation__docsText:focus{outline:none}.documentation__docsText[tabindex="0"]:focus:focus-visible{outline-style:auto}.documentation__docsTextGroup,.documentation__docsTextItem{margin-top:40px}.documentation__docsTextGroup{border-top:1px solid #343741;padding-top:40px}.documentationOverflow{z-index:9001}',""]),e.exports=t},function(e,t,o){var n=o(25),r=o(41);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,o){(t=o(26)(!1)).push([e.i,'.documentation__docs{background:#fff}.documentation__docsHeader{margin:0}.documentation__docs--inline{display:flex;flex-direction:column;z-index:1}.documentation__docs--overlay .documentation__docsContent{height:40vh;width:min(75vh,90vw)}.documentation__docs--inline .documentation__docsContent{flex:1;min-height:0}.documentation__docsContent>*+*{border-left:1px solid #d3dae6}.documentation__docsSidebar{background:#f5f7fa}.documentation__docsSidebarInner{min-height:0}.documentation__docsSidebarInner>*+*{border-top:1px solid #d3dae6}.documentation__docsSearch{padding:16px}.documentation__docsNav{height:100%;overflow-x:hidden;overflow-y:auto;scrollbar-color:#69707d80 #0000;scrollbar-width:thin}.documentation__docsNav::-webkit-scrollbar{height:16px;width:16px}.documentation__docsNav::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#69707d80;border:6px solid #0000;border-radius:16px}.documentation__docsNav::-webkit-scrollbar-corner,.documentation__docsNav::-webkit-scrollbar-track{background-color:#0000}.documentation__docsNav:focus{outline:none}.documentation__docsNav[tabindex="0"]:focus:focus-visible{outline-style:auto}.documentation__docsNavGroup{padding:16px}.documentation__docsNavGroup+.documentation__docsNavGroup{border-top:1px solid #d3dae6}.documentation__docsNavGroupLink{font-weight:inherit}.documentation__docsText{height:100%;overflow-x:hidden;overflow-y:auto;padding:16px;scrollbar-color:#69707d80 #0000;scrollbar-width:thin}.documentation__docsText::-webkit-scrollbar{height:16px;width:16px}.documentation__docsText::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#69707d80;border:6px solid #0000;border-radius:16px}.documentation__docsText::-webkit-scrollbar-corner,.documentation__docsText::-webkit-scrollbar-track{background-color:#0000}.documentation__docsText:focus{outline:none}.documentation__docsText[tabindex="0"]:focus:focus-visible{outline-style:auto}.documentation__docsTextGroup,.documentation__docsTextItem{margin-top:40px}.documentation__docsTextGroup{border-top:1px solid #d3dae6;padding-top:40px}.documentationOverflow{z-index:9001}',""]),e.exports=t},function(e,t,o){"use strict";e.exports=o(43)},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(44);o(18),o(27),o(28);var r=n.default({key:"css"}),i=r.flush,a=r.hydrate,s=r.cx,d=r.merge,u=r.getRegisteredStyles,c=r.injectGlobal,l=r.keyframes,g=r.css,m=r.sheet,b=r.cache;t.cache=b,t.css=g,t.cx=s,t.flush=i,t.getRegisteredStyles=u,t.hydrate=a,t.injectGlobal=c,t.keyframes=l,t.merge=d,t.sheet=m},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(18),r=o(27),i=o(28);function a(e){return e&&e.__esModule?e:{default:e}}var s=a(n);function d(e,t){if(void 0===e.inserted[t.name])return e.insert("",t,e.sheet,!0)}function u(e,t,o){var n=[],r=i.getRegisteredStyles(e,n,o);return n.length<2?o:r+t(n)}var c=function e(t){for(var o="",n=0;n<t.length;n++){var r=t[n];if(null!=r){var i=void 0;switch(typeof r){case"boolean":break;case"object":if(Array.isArray(r))i=e(r);else for(var a in i="",r)r[a]&&a&&(i&&(i+=" "),i+=a);break;default:i=r}i&&(o&&(o+=" "),o+=i)}}return o};t.default=function(e){var t=s.default(e);t.sheet.speedy=function(e){this.isSpeedy=e},t.compat=!0;var o=function(){for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];var a=r.serializeStyles(o,t.registered,void 0);return i.insertStyles(t,a,!1),t.key+"-"+a.name};return{css:o,cx:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return u(t.registered,o,c(n))},injectGlobal:function(){for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];var i=r.serializeStyles(o,t.registered);d(t,i)},keyframes:function(){for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];var i=r.serializeStyles(o,t.registered),a="animation-"+i.name;return d(t,{name:i.name,styles:"@keyframes "+a+"{"+i.styles+"}"}),a},hydrate:function(e){e.forEach((function(e){t.inserted[e]=!0}))},flush:function(){t.registered={},t.inserted={},t.sheet.flush()},sheet:t.sheet,cache:t,getRegisteredStyles:i.getRegisteredStyles.bind(null,t.registered),merge:u.bind(null,t.registered,o)}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(46),r=o(48),i=o(50);function a(e){return e&&e.__esModule?e:{default:e}}var s=a(n),d=a(r),u=/[A-Z]|^ms/g,c=/_EMO_([^_]+?)_([^]*?)_EMO_/g,l=function(e){return 45===e.charCodeAt(1)},g=function(e){return null!=e&&"boolean"!=typeof e},m=a(i).default((function(e){return l(e)?e:e.replace(u,"-$&").toLowerCase()})),b=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(c,(function(e,t,o){return x={name:t,styles:o,next:x},t}))}return 1===d.default[e]||l(e)||"number"!=typeof t||0===t?t:t+"px"};function p(e,t,o){if(null==o)return"";if(void 0!==o.__emotion_styles)return o;switch(typeof o){case"boolean":return"";case"object":if(1===o.anim)return x={name:o.name,styles:o.styles,next:x},o.name;if(void 0!==o.styles){var n=o.next;if(void 0!==n)for(;void 0!==n;)x={name:n.name,styles:n.styles,next:x},n=n.next;return o.styles+";"}return function(e,t,o){var n="";if(Array.isArray(o))for(var r=0;r<o.length;r++)n+=p(e,t,o[r])+";";else for(var i in o){var a=o[i];if("object"!=typeof a)null!=t&&void 0!==t[a]?n+=i+"{"+t[a]+"}":g(a)&&(n+=m(i)+":"+b(i,a)+";");else if(!Array.isArray(a)||"string"!=typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=p(e,t,a);switch(i){case"animation":case"animationName":n+=m(i)+":"+s+";";break;default:n+=i+"{"+s+"}"}}else for(var d=0;d<a.length;d++)g(a[d])&&(n+=m(i)+":"+b(i,a[d])+";")}return n}(e,t,o);case"function":if(void 0!==e){var r=x,i=o(e);return x=r,p(e,t,i)}}if(null==t)return o;var a=t[o];return void 0!==a?a:o}var x,f=/label:\s*([^\s;\n{]+)\s*(;|$)/g;t.serializeStyles=function(e,t,o){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var n=!0,r="";x=void 0;var i=e[0];null==i||void 0===i.raw?(n=!1,r+=p(o,t,i)):r+=i[0];for(var a=1;a<e.length;a++)r+=p(o,t,e[a]),n&&(r+=i[a]);f.lastIndex=0;for(var d,u="";null!==(d=f.exec(r));)u+="-"+d[1];return{name:s.default(r)+u,styles:r,next:x}}},function(e,t,o){"use strict";e.exports=o(47)},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t,o=0,n=0,r=e.length;r>=4;++n,r-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),o=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&o)+(59797*(o>>>16)<<16);switch(r){case 3:o^=(255&e.charCodeAt(n+2))<<16;case 2:o^=(255&e.charCodeAt(n+1))<<8;case 1:o=1540483477*(65535&(o^=255&e.charCodeAt(n)))+(59797*(o>>>16)<<16)}return(((o=1540483477*(65535&(o^=o>>>13))+(59797*(o>>>16)<<16))^o>>>15)>>>0).toString(36)}},function(e,t,o){"use strict";e.exports=o(49)},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(e,t,o){"use strict";e.exports=o(51)},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=Object.create(null);return function(o){return void 0===t[o]&&(t[o]=e(o)),t[o]}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="undefined"!=typeof document,r=function(e,t,o){var r=e.key+"-"+t.name;(!1===o||!1===n&&void 0!==e.compat)&&void 0===e.registered[r]&&(e.registered[r]=t.styles)};t.getRegisteredStyles=function(e,t,o){var n="";return o.split(" ").forEach((function(o){void 0!==e[o]?t.push(e[o]+";"):n+=o+" "})),n},t.insertStyles=function(e,t,o){r(e,t,o);var i=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var a="",s=t;do{var d=e.insert(t===s?"."+i:"",s,e.sheet,!0);n||void 0===d||(a+=d),s=s.next}while(void 0!==s);if(!n&&0!==a.length)return a}},t.registerStyles=r},,,,function(e,t,o){"use strict";o.r(t),o.d(t,"fetchFieldsFromESQL",(function(){return i}));var n=o(7),r=o(20);function i(e,t,o,i,a){return Object(r.textBasedQueryStateToAstWithValidation)({query:e,time:o,dataView:a}).then((e=>{if(e){const o=t.execute(e,null);i&&(i.signal.onabort=()=>{o.cancel()});const r=o.getData();let a,s;return r.pipe(Object(n.pluck)("result")).subscribe((e=>{const t=e;"error"===t.type?s=t.error.message:a=t})),Object(n.lastValueFrom)(r).then((()=>{if(s)throw new Error(s);return a}))}})).catch((e=>{throw new Error(e.message)}))}var a=o(3),s=o(5),d=o.n(s),u=o(4),c=o(21),l=o(16),g=o(1),m=o(9),b=o(2),p=o.n(b);function x(e){return null!=e}function f(e){if(!e)return"";const t=e.props;return t&&"markdownContent"in t?String(t.markdownContent):t&&"children"in t&&Array.isArray(t.children)?t.children.reduce(((e,t)=>{const o=p.a.Children.toArray(t).filter(x);return Object(b.isValidElement)(t)&&o.length>0?e.concat(f(t)):e}),""):""}function h({language:e,sections:t,searchInDescription:o,linkToDocumentation:n}){const[r,i]=Object(b.useState)(),s=Object(b.useRef)({});Object(b.useEffect)((()=>{r&&s.current[r]&&s.current[r].scrollIntoView()}),[r]);const[d,c]=Object(b.useState)(""),l=d.trim().toLocaleLowerCase(),m=null==t?void 0:t.groups.map((e=>{const t=e.items.filter((e=>{var t;return!l||e.label.toLocaleLowerCase().includes(l)||o&&(null===(t=f(e.description))||void 0===t?void 0:t.toLocaleLowerCase().includes(l))}));return{...e,items:t}})).filter((e=>e.items.length>0||!l||e.label.toLocaleLowerCase().includes(l)));return Object(a.jsx)(p.a.Fragment,null,Object(a.jsx)(u.EuiPopoverTitle,{className:"documentation__docsHeader",paddingSize:"m","data-test-subj":"language-documentation-title"},Object(a.jsx)(u.EuiFlexGroup,{gutterSize:"none",responsive:!1,alignItems:"center",justifyContent:"spaceBetween"},Object(a.jsx)(u.EuiFlexItem,{grow:!1},g.i18n.translate("languageDocumentationPopover.header",{defaultMessage:"{language} reference",values:{language:e}})),n&&Object(a.jsx)(u.EuiFlexItem,{grow:!1},Object(a.jsx)(u.EuiLink,{external:!0,href:n,target:"_blank"},g.i18n.translate("languageDocumentationPopover.documentationLinkLabel",{defaultMessage:"View full documentation"}))))),Object(a.jsx)(u.EuiFlexGroup,{className:"documentation__docsContent",gutterSize:"none",responsive:!1,alignItems:"stretch"},Object(a.jsx)(u.EuiFlexItem,{className:"documentation__docsSidebar",grow:1},Object(a.jsx)(u.EuiFlexGroup,{className:"documentation__docsSidebarInner",direction:"column",gutterSize:"none",responsive:!1},Object(a.jsx)(u.EuiFlexItem,{className:"documentation__docsSearch",grow:!1},Object(a.jsx)(u.EuiFieldSearch,{value:d,onChange:e=>{c(e.target.value)},"data-test-subj":"language-documentation-navigation-search",placeholder:g.i18n.translate("languageDocumentationPopover.searchPlaceholder",{defaultMessage:"Search"})})),Object(a.jsx)(u.EuiFlexItem,{className:"documentation__docsNav"},null==m?void 0:m.map(((e,t)=>Object(a.jsx)("nav",{className:"documentation__docsNavGroup",key:e.label},Object(a.jsx)(u.EuiTitle,{size:"xxs","data-test-subj":"language-documentation-navigation-title"},Object(a.jsx)("h6",null,Object(a.jsx)(u.EuiLink,{className:"documentation__docsNavGroupLink",color:"text",onClick:()=>{i(e.label)}},Object(a.jsx)(u.EuiHighlight,{search:d},e.label)))),e.items.length?Object(a.jsx)(p.a.Fragment,null,Object(a.jsx)(u.EuiSpacer,{size:"s"}),Object(a.jsx)(u.EuiListGroup,{gutterSize:"none"},e.items.map((e=>Object(a.jsx)(u.EuiListGroupItem,{key:e.label,label:Object(a.jsx)(u.EuiHighlight,{search:d},e.label),size:"s",onClick:()=>{i(e.label)}}))))):null)))))),Object(a.jsx)(u.EuiFlexItem,{className:"documentation__docsText",grow:2},Object(a.jsx)(u.EuiText,{size:"s"},Object(a.jsx)("section",{className:"documentation__docsTextIntro",ref:e=>{var o;e&&null!=t&&null!==(o=t.groups)&&void 0!==o&&o.length&&(s.current[t.groups[0].label]=e)}},null==t?void 0:t.initialSection),null==t?void 0:t.groups.slice(1).map(((e,o)=>Object(a.jsx)("section",{className:"documentation__docsTextGroup",key:e.label,ref:t=>{t&&(s.current[e.label]=t)}},Object(a.jsx)("h2",null,e.label),Object(a.jsx)("p",null,e.description),null==t?void 0:t.groups[o+1].items.map((e=>Object(a.jsx)("article",{className:"documentation__docsTextItem",key:e.label,ref:t=>{t&&(s.current[e.label]=t)}},e.description))))))))))}o(37);const j=p.a.memo(h);function y({language:e,sections:t,buttonProps:o,searchInDescription:n,linkToDocumentation:r}){const[i,s]=Object(b.useState)(!1),c=Object(b.useCallback)((()=>{s(!i)}),[i]);return Object(a.jsx)(u.EuiOutsideClickDetector,{onOutsideClick:()=>{s(!1)}},Object(a.jsx)(u.EuiPopover,{panelClassName:"documentation__docs--overlay",panelPaddingSize:"none",isOpen:i,closePopover:()=>s(!1),button:Object(a.jsx)(u.EuiToolTip,{position:"top",content:g.i18n.translate("languageDocumentationPopover.tooltip",{defaultMessage:"{lang} reference",values:{lang:e}})},Object(a.jsx)(u.EuiButtonIcon,d()({iconType:"iInCircle",onClick:c},o)))},Object(a.jsx)(j,{language:e,sections:t,searchInDescription:n,linkToDocumentation:r})))}const v=p.a.memo(y);var E=o(17),O=o(22),w=o.n(O),L=o(29),_=o.n(L),C=o(42);const S=(e,t)=>"error"===e?{color:"danger",message:g.i18n.translate("textBasedEditor.query.textBasedLanguagesEditor.errorCount",{defaultMessage:"{count} {count, plural, one {error} other {errors}}",values:{count:t}}),label:g.i18n.translate("textBasedEditor.query.textBasedLanguagesEditor.errorsTitle",{defaultMessage:"Errors"})}:{color:"warning",message:g.i18n.translate("textBasedEditor.query.textBasedLanguagesEditor.warningCount",{defaultMessage:"{count} {count, plural, one {warning} other {warnings}}",values:{count:t}}),label:g.i18n.translate("textBasedEditor.query.textBasedLanguagesEditor.warningsTitle",{defaultMessage:"Warnings"})};function T({items:e,type:t,onErrorClick:o}){const{label:n,color:r}=S(t,e.length);return Object(a.jsx)("div",{style:{width:500}},Object(a.jsx)(u.EuiPopoverTitle,{paddingSize:"s"},n),Object(a.jsx)(u.EuiDescriptionList,null,e.map(((e,n)=>Object(a.jsx)(u.EuiDescriptionListDescription,{key:n,className:Object(C.css)({name:"1p3qk0r",styles:"&:hover{cursor:pointer;}"}),onClick:()=>o(e)},Object(a.jsx)(u.EuiFlexGroup,{gutterSize:"xl",alignItems:"flexStart"},Object(a.jsx)(u.EuiFlexItem,{grow:!1},Object(a.jsx)(u.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},Object(a.jsx)(u.EuiFlexItem,{grow:!1},Object(a.jsx)(u.EuiIcon,{type:t,color:r,size:"s"})),Object(a.jsx)(u.EuiFlexItem,{style:{whiteSpace:"nowrap"}},g.i18n.translate("textBasedEditor.query.textBasedLanguagesEditor.lineNumber",{defaultMessage:"Line {lineNumber}",values:{lineNumber:e.startLineNumber}})))),Object(a.jsx)(u.EuiFlexItem,{grow:!1,className:"TextBasedLangEditor_errorMessage"},e.message)))))))}var B={name:"e0dnmk",styles:"cursor:pointer"};function k({items:e,type:t,onErrorClick:o,popoverCSS:n}){const[r,i]=Object(b.useState)(!1),{color:s,message:d}=S(t,e.length);return Object(a.jsx)(u.EuiPopover,{button:Object(a.jsx)(u.EuiBadge,{color:s,onClick:()=>i(!0),onClickAriaLabel:d,iconType:t,iconSide:"left","data-test-subj":`TextBasedLangEditor-inline-${t}-badge`,title:d,css:B},e.length),css:n,ownFocus:!1,isOpen:r,closePopover:()=>i(!1),"data-test-subj":`TextBasedLangEditor-inline-${t}-popover`},Object(a.jsx)(T,{items:e,type:t,onErrorClick:o}))}var I={name:"rulwqv",styles:"&:hover{cursor:pointer;text-decoration:underline;}"};function M({isPopoverOpen:e,items:t,type:o,setIsPopoverOpen:n,onErrorClick:r,isSpaceReduced:i}){const{color:s,message:d}=S(o,t.length);return Object(a.jsx)(u.EuiFlexItem,{grow:!1},Object(a.jsx)(u.EuiFlexGroup,{gutterSize:"xs",responsive:!1,alignItems:"center"},Object(a.jsx)(u.EuiFlexItem,{grow:!1},Object(a.jsx)(u.EuiIcon,{type:o,color:s,size:"s",onClick:()=>{n(!e)}})),Object(a.jsx)(u.EuiFlexItem,{grow:!1},Object(a.jsx)(u.EuiPopover,{button:Object(a.jsx)(u.EuiText,{size:"xs",color:s,css:I,onClick:()=>{n(!e)}},Object(a.jsx)("p",null,i?t.length:d)),ownFocus:!1,isOpen:e,closePopover:()=>n(!1)},Object(a.jsx)(T,{items:t,type:o,onErrorClick:r})))))}var q=o(23),z=o.n(q);o(24);const R="QUERY_HISTORY_ITEM_KEY",F=e=>e.replaceAll("\n","").trim(),N=(e,t)=>{var o,n;return(null===(o=z()(e))||void 0===o?void 0:o.valueOf())-(null===(n=z()(t))||void 0===n?void 0:n.valueOf())},D=e=>{var t;const o=null!==(t=localStorage.getItem(R))&&void 0!==t?t:"[]";return JSON.parse(o).sort(((t,o)=>"desc"===e?N(o.startDateMilliseconds,t.startDateMilliseconds):N(t.startDateMilliseconds,o.startDateMilliseconds)))},H=new Map;var A={name:"gv9h2n",styles:"padding-inline:0"};function Q({toggleHistory:e,isHistoryOpen:t,isSpaceReduced:o}){const{euiTheme:n}=Object(u.useEuiTheme)();return D("desc").length?Object(a.jsx)(p.a.Fragment,null,o&&Object(a.jsx)(u.EuiFlexItem,{grow:!1,"data-test-subj":"TextBasedLangEditor-toggle-query-history-icon"},Object(a.jsx)(u.EuiToolTip,{position:"top",content:t?g.i18n.translate("textBasedEditor.query.textBasedLanguagesEditor.hideQueriesLabel",{defaultMessage:"Hide recent queries"}):g.i18n.translate("textBasedEditor.query.textBasedLanguagesEditor.showQueriesLabel",{defaultMessage:"Show recent queries"})},Object(a.jsx)(u.EuiIcon,{type:"clockCounter",color:"primary",size:"m",onClick:e,css:Object(a.css)("margin-right:",n.size.s,";cursor:pointer;","")}))),!o&&Object(a.jsx)(u.EuiFlexItem,{grow:!1,"data-test-subj":"TextBasedLangEditor-toggle-query-history-button-container"},Object(a.jsx)(u.EuiButtonEmpty,{size:"xs",color:"primary",onClick:e,css:A,iconType:"clockCounter","data-test-subj":"TextBasedLangEditor-toggle-query-history-button"},t?g.i18n.translate("textBasedEditor.query.textBasedLanguagesEditor.hideQueriesLabel",{defaultMessage:"Hide recent queries"}):g.i18n.translate("textBasedEditor.query.textBasedLanguagesEditor.showQueriesLabel",{defaultMessage:"Show recent queries"})))):null}var G={name:"e0dnmk",styles:"cursor:pointer"},P={name:"e0dnmk",styles:"cursor:pointer"};function W({containerCSS:e,containerWidth:t,refetchHistoryItems:o,onUpdateAndSubmit:n,isInCompactMode:r}){const i=Object(u.useEuiTheme)(),s=Object(u.euiScrollBarStyles)(i),[d,c]=Object(b.useState)("desc"),[l,m]=Object(b.useState)([]);Object(b.useEffect)((()=>{o&&m(D(d))}),[o,d]);const p=Object(b.useMemo)((()=>[{render:e=>Object(a.jsx)(u.EuiFlexGroup,{gutterSize:"xs",responsive:!1},Object(a.jsx)(u.EuiFlexItem,{grow:!1},Object(a.jsx)(u.EuiToolTip,{position:"top",content:g.i18n.translate("textBasedEditor.query.textBasedLanguagesEditor.querieshistoryRun",{defaultMessage:"Run query"})},Object(a.jsx)(u.EuiButtonIcon,{iconType:"play","aria-label":g.i18n.translate("textBasedEditor.query.textBasedLanguagesEditor.querieshistoryRun",{defaultMessage:"Run query"}),"data-test-subj":"TextBasedLangEditor-queryHistory-runQuery-button",role:"button",iconSize:"m",onClick:()=>n(e.queryString),css:P}))),Object(a.jsx)(u.EuiFlexItem,{grow:!1},Object(a.jsx)(u.EuiCopy,{textToCopy:e.queryString,content:g.i18n.translate("textBasedEditor.query.textBasedLanguagesEditor.querieshistoryCopy",{defaultMessage:"Copy query to clipboard"})},(e=>Object(a.jsx)(u.EuiButtonIcon,{iconType:"copyClipboard",iconSize:"m",onClick:e,css:G,"aria-label":g.i18n.translate("textBasedEditor.query.textBasedLanguagesEditor.querieshistoryCopy",{defaultMessage:"Copy query to clipboard"})})))))}]),[n]),x=t<560,f=Object(b.useMemo)((()=>((e,t,o)=>{const n=[{field:"status",name:"",sortable:!1,"data-test-subj":"status",render:e=>{switch(e){case"success":default:return Object(a.jsx)(u.EuiToolTip,{position:"top",content:g.i18n.translate("textBasedEditor.query.textBasedLanguagesEditor.querieshistory.success",{defaultMessage:"Query ran successfully"})},Object(a.jsx)(u.EuiIcon,{type:"checkInCircleFilled",color:"success",size:"m","data-test-subj":"TextBasedLangEditor-queryHistory-success"}));case"error":return Object(a.jsx)(u.EuiToolTip,{position:"top",content:g.i18n.translate("textBasedEditor.query.textBasedLanguagesEditor.querieshistory.error",{defaultMessage:"Query failed"})},Object(a.jsx)(u.EuiIcon,{type:"error",color:"danger",size:"m","data-test-subj":"TextBasedLangEditor-queryHistory-error"}));case"warning":return Object(a.jsx)(u.EuiToolTip,{position:"top",content:g.i18n.translate("textBasedEditor.query.textBasedLanguagesEditor.querieshistory.error",{defaultMessage:"Query failed"})},Object(a.jsx)(u.EuiIcon,{type:"warning",color:"warning",size:"m","data-test-subj":"TextBasedLangEditor-queryHistory-warning"}))}},width:t?"auto":"40px",css:{height:"100%"}},{field:"queryString","data-test-subj":"queryString",name:g.i18n.translate("textBasedEditor.query.textBasedLanguagesEditor.recentQueriesColumnLabel",{defaultMessage:"Recent queries"}),render:o=>Object(a.jsx)(U,{queryString:o,containerWidth:e,isOnReducedSpaceLayout:t})},{field:"timeRan","data-test-subj":"timeRan",name:g.i18n.translate("textBasedEditor.query.textBasedLanguagesEditor.timeRanColumnLabel",{defaultMessage:"Time ran"}),sortable:!0,render:e=>e,width:t?"auto":"240px"},{field:"duration","data-test-subj":"lastDuration",name:g.i18n.translate("textBasedEditor.query.textBasedLanguagesEditor.lastDurationColumnLabel",{defaultMessage:"Last duration"}),sortable:!1,width:t?"auto":"120px",css:{justifyContent:"flex-end"}},{name:"",actions:o,"data-test-subj":"actions",width:t?"auto":"60px"}];return t?((e,t,o)=>{const n=e[1];return e[1]=e[2],e[2]=n,e})(n):n})(t,x,p)),[p,t,x]),h={sort:{field:"timeRan",direction:d}},{euiTheme:j}=i,y=x?"\n  /* Use grid display instead of standard table display CSS */\n        .euiTable thead,\n        .euiTable tbody {\n          display: block;\n        }\n        .euiTable thead tr {\n          display: grid;\n          grid-template-columns: 40px 1fr 0 auto 72px;\n        }\n        .euiTable tbody tr {\n          display: grid;\n          grid-template-columns: 40px 1fr auto 72px;\n          grid-template-areas:\n            'status timeRan lastDuration actions'\n            '. queryString queryString queryString';\n        }\n        /* Set grid template areas */\n        .euiTable td[data-test-subj='status'] {\n          grid-area: status;\n        }\n        .euiTable td[data-test-subj='timeRan'] {\n          grid-area: timeRan;\n        }\n        .euiTable td[data-test-subj='lastDuration'] {\n          grid-area: lastDuration;\n        }\n        .euiTable td[data-test-subj='actions'] {\n          grid-area: actions;\n        }\n        /**\n   * Special full-width cell that comes after all other cells\n   */\n        .euiTable td[data-test-subj='queryString'] {\n          grid-area: queryString;\n          border: 0;\n          .euiTableCellContent {\n            padding-top: 0;\n          }\n        }\n        /* Unset the border between this cell and other cells */\n        .euiTable .euiTableRowCell:not([data-test-subj='queryString']) {\n          border-bottom: 0;\n        }\n  ":"",v=Object(a.css)(".euiTable{background-color:",j.colors.lightestShade,";}.euiTable tbody tr:nth-child(odd){background-color:",j.colors.lightestShade,";filter:brightness(97%);}.euiTableRowCell{vertical-align:top;border:none;}.euiTable th[data-test-subj='tableHeaderCell_duration_3'] span{justify-content:flex-end;}border-bottom-left-radius:",j.border.radius.medium,";border-top-left-radius:",j.border.radius.medium,";max-height:",r?250:190,"px;overflow-y:auto;",s," ",y,";","");return Object(a.jsx)("div",{"data-test-subj":"TextBasedLangEditor-queryHistory",css:e},Object(a.jsx)(u.EuiInMemoryTable,{tableCaption:g.i18n.translate("textBasedEditor.query.textBasedLanguagesEditor.querieshistoryTable",{defaultMessage:"Queries history table"}),responsiveBreakpoint:!1,items:l,columns:f,sorting:h,onChange:({page:e,sort:t})=>{if(t){const{direction:e}=t;c(e)}},css:v,tableLayout:t<560?"auto":"fixed"}))}function U({queryString:e,containerWidth:t,isOnReducedSpaceLayout:o}){const{euiTheme:n}=Object(u.useEuiTheme)(),r=Object(b.useRef)(null),[i,s]=Object(b.useState)(!1),[d,c]=Object(b.useState)(!1);return Object(b.useEffect)((()=>{if(r.current){const e=r.current.offsetWidth<r.current.scrollWidth;s(e)}}),[t]),Object(a.jsx)(p.a.Fragment,null,i&&Object(a.jsx)(u.EuiButtonIcon,{onClick:()=>{c(!d)},"data-test-subj":"TextBasedLangEditor-queryHistory-queryString-expanded","aria-label":d?g.i18n.translate("textBasedEditor.query.textBasedLanguagesEditor.collapseLabel",{defaultMessage:"Collapse"}):g.i18n.translate("textBasedEditor.query.textBasedLanguagesEditor.expandLabel",{defaultMessage:"Expand"}),iconType:d?"arrowDown":"arrowRight",size:"xs",color:"text"}),Object(a.jsx)("span",{css:Object(a.css)("overflow:hidden;text-overflow:ellipsis;white-space:",d?"pre-wrap":"nowrap",";padding-left:",i?n.size.s:n.size.m?0:n.size.xl,";color:",o?n.colors.subduedText:n.colors.text,";font-size:",o?n.size.m:"inherit",";font-family:",n.font.familyCode,";line-height:1.5;",""),ref:r},e))}const $=navigator.platform.toLowerCase().indexOf("mac")>=0?"⌘":"^",K="https://ela.st/esql-feedback";function V({isSpaceReduced:e}){const{euiTheme:t}=Object(u.useEuiTheme)();return Object(a.jsx)(p.a.Fragment,null,e&&Object(a.jsx)(u.EuiFlexItem,{grow:!1},Object(a.jsx)(u.EuiLink,{href:K,external:!1,target:"_blank","data-test-subj":"TextBasedLangEditor-feedback-link"},Object(a.jsx)(u.EuiToolTip,{position:"top",content:g.i18n.translate("textBasedEditor.query.textBasedLanguagesEditor.submitFeedback",{defaultMessage:"Submit feedback"})},Object(a.jsx)(u.EuiIcon,{type:"editorComment",color:"primary",size:"m",css:Object(a.css)("margin-right:",t.size.s,";","")})))),!e&&Object(a.jsx)(p.a.Fragment,null,Object(a.jsx)(u.EuiFlexItem,{grow:!1},Object(a.jsx)(u.EuiIcon,{type:"editorComment",color:"primary",size:"s"})),Object(a.jsx)(u.EuiFlexItem,{grow:!1},Object(a.jsx)(u.EuiLink,{href:K,external:!1,target:"_blank",css:Object(a.css)("font-size:12px;margin-right:",t.size.m,";",""),"data-test-subj":"TextBasedLangEditor-feedback-link"},e?g.i18n.translate("textBasedEditor.query.textBasedLanguagesEditor.feedback",{defaultMessage:"Feedback"}):g.i18n.translate("textBasedEditor.query.textBasedLanguagesEditor.submitFeedback",{defaultMessage:"Submit feedback"})))))}var Y={name:"rnnx2x",styles:"font-size:12px"},J={name:"1d3w5wq",styles:"width:100%"};const Z=Object(b.memo)((function({lines:e,styles:t,errors:o,warnings:n,detectTimestamp:r,onErrorClick:i,runQuery:s,updateQuery:d,hideRunQueryText:c,disableSubmitAction:l,editorIsInline:m,isSpaceReduced:x,isLoading:f,allowQueryCancellation:h,hideTimeFilterInfo:j,isHistoryOpen:y,setIsHistoryOpen:v,hideQueryHistory:E,refetchHistoryItems:O,isInCompactMode:w,queryHasChanged:L,measuredContainerWidth:_}){const[C,S]=Object(b.useState)(!1),[T,B]=Object(b.useState)(!1),k=Object(b.useCallback)((e=>{d(e),setTimeout((()=>{s()}),300)}),[s,d]);return Object(a.jsx)(u.EuiFlexGroup,{gutterSize:"none",responsive:!1,direction:"column",css:J},Object(a.jsx)(u.EuiFlexItem,{grow:!1},Object(a.jsx)(u.EuiFlexGroup,{gutterSize:"s",justifyContent:"spaceBetween","data-test-subj":"TextBasedLangEditor-footer",css:t.bottomContainer,responsive:!1},Object(a.jsx)(u.EuiFlexItem,{grow:!1},Object(a.jsx)(u.EuiFlexGroup,{gutterSize:"s",responsive:!1,alignItems:"center"},Object(a.jsx)(u.EuiFlexItem,{grow:!1,style:{marginRight:"8px"}},Object(a.jsx)(u.EuiText,{size:"xs",color:"subdued","data-test-subj":"TextBasedLangEditor-footer-lines"},Object(a.jsx)("p",null,g.i18n.translate("textBasedEditor.query.textBasedLanguagesEditor.lineCount",{defaultMessage:"{count} {count, plural, one {line} other {lines}}",values:{count:e}})))),(r||!x)&&!j&&Object(a.jsx)(u.EuiFlexItem,{grow:!1,style:{marginRight:"16px"}},Object(a.jsx)(u.EuiFlexGroup,{gutterSize:"xs",responsive:!1,alignItems:"center"},Object(a.jsx)(u.EuiFlexItem,{grow:!1},Object(a.jsx)(u.EuiText,{size:"xs",color:"subdued","data-test-subj":"TextBasedLangEditor-date-info"},Object(a.jsx)("p",null,x?"@timestamp":r?g.i18n.translate("textBasedEditor.query.textBasedLanguagesEditor.timestampDetected",{defaultMessage:"@timestamp found"}):g.i18n.translate("textBasedEditor.query.textBasedLanguagesEditor.timestampNotDetected",{defaultMessage:"@timestamp not found"})))))),o&&o.length>0&&Object(a.jsx)(M,{isPopoverOpen:C,items:o,type:"error",setIsPopoverOpen:e=>{e&&B(!1),S(e)},onErrorClick:i}),n&&n.length>0&&Object(a.jsx)(M,{isPopoverOpen:T,items:n,type:"warning",setIsPopoverOpen:e=>{e&&S(!1),B(e)},onErrorClick:i}))),Object(a.jsx)(u.EuiFlexItem,{grow:!1},Object(a.jsx)(u.EuiFlexGroup,{gutterSize:"xs",responsive:!1,alignItems:"center"},!Boolean(m)&&Object(a.jsx)(p.a.Fragment,null,Object(a.jsx)(V,null),!E&&Object(a.jsx)(Q,{toggleHistory:()=>v(!y),isHistoryOpen:y})),!c&&Object(a.jsx)(u.EuiFlexItem,{grow:!1},Object(a.jsx)(u.EuiFlexGroup,{gutterSize:"xs",responsive:!1,alignItems:"center"},Object(a.jsx)(u.EuiFlexItem,{grow:!1},Object(a.jsx)(u.EuiText,{size:"xs",color:"subdued","data-test-subj":"TextBasedLangEditor-run-query"},Object(a.jsx)("p",null,g.i18n.translate("textBasedEditor.query.textBasedLanguagesEditor.runQuery",{defaultMessage:"Run query"})))),Object(a.jsx)(u.EuiFlexItem,{grow:!1},Object(a.jsx)(u.EuiCode,{transparentBackground:!0,css:Y},`${$} + Enter`)))))),Boolean(m)&&Object(a.jsx)(p.a.Fragment,null,Object(a.jsx)(u.EuiFlexItem,{grow:!1},Object(a.jsx)(u.EuiFlexGroup,{responsive:!1,gutterSize:"xs",alignItems:"center"},Object(a.jsx)(V,{isSpaceReduced:!0}),!E&&Object(a.jsx)(Q,{toggleHistory:()=>v(!y),isHistoryOpen:y,isSpaceReduced:!0}),Object(a.jsx)(u.EuiFlexItem,{grow:!1},Object(a.jsx)(u.EuiToolTip,{position:"top",content:g.i18n.translate("textBasedEditor.query.textBasedLanguagesEditor.runQuery",{defaultMessage:"Run query"})},Object(a.jsx)(u.EuiButtonIcon,{display:"base",color:L?"success":"primary",onClick:s,iconType:h&&f?"cross":L?"play":"refresh",size:"s",isLoading:f&&!h,isDisabled:Boolean(l&&!h),"data-test-subj":"TextBasedLangEditor-run-query-button","aria-label":h&&f?g.i18n.translate("textBasedEditor.query.textBasedLanguagesEditor.cancel",{defaultMessage:"Cancel"}):g.i18n.translate("textBasedEditor.query.textBasedLanguagesEditor.runQuery",{defaultMessage:"Run query"})})))))))),y&&Object(a.jsx)(u.EuiFlexItem,{grow:!1},Object(a.jsx)(W,{containerCSS:t.historyContainer,onUpdateAndSubmit:k,containerWidth:_,refetchHistoryItems:O,isInCompactMode:w})))}));var X=o(35),ee=o.n(X);const te=/"(.*?)"/g,oe=e=>{if(te.test(e)){const t=e.match(te);if(t)return t.map((e=>{let t=e.replace(/"/g,""),o=1,n=1,r=10;if(/Line (\d+):(\d+):/.test(t)){const[e,i,a,s]=t.split(":");if(t=null!=s?s:a,Number.isNaN(Number(i))||(o=Number(i),n=Number(e.replace("Line ",""))),/\[.*\]/.test(t)){const[e,o]=t.split("[");o&&(r=o.length)}}return{message:t.trimStart(),startColumn:o,startLineNumber:n,endColumn:o+r-1,endLineNumber:n,severity:E.monaco.MarkerSeverity.Warning}}))}return[{message:e,startColumn:1,startLineNumber:1,endColumn:10,endLineNumber:1,severity:E.monaco.MarkerSeverity.Warning}]},ne=(e,t)=>e.map((e=>{if(!e.message.includes("esql_illegal_argument_exception")&&e.message.includes("line")){const t=e.message.split("line")[1],[o,n,r]=t.split(":");let i=10;const[a,s]=r.split("[");return s&&(i=s.length-1),{message:r,startColumn:Number(n),startLineNumber:Number(o),endColumn:Number(n)+i+1,endLineNumber:Number(o),severity:E.monaco.MarkerSeverity.Error}}return e.message.includes("expression was aborted")?{message:g.i18n.translate("textBasedEditor.query.textBasedLanguagesEditor.aborted",{defaultMessage:"Request was aborted"}),startColumn:1,startLineNumber:1,endColumn:10,endLineNumber:1,severity:E.monaco.MarkerSeverity.Warning}:{message:e.message,startColumn:1,startLineNumber:1,endColumn:10,endLineNumber:1,severity:E.monaco.MarkerSeverity.Error}})),re=async e=>(await e.getIndices({showAllIndices:!1,pattern:"*",isRollupIndex:()=>!1})).map((e=>({name:e.name,hidden:e.name.startsWith(".")}))),ie=async e=>(await e.getIndices({showAllIndices:!1,pattern:"*:*",isRollupIndex:()=>!1})).filter((e=>{const[t,o]=e.name.split(":");return!o.startsWith(".")&&!Boolean(e.item.indices)})).map((e=>({name:e.name,hidden:!1}))),ae=(e,t)=>{if(e.has(t)){const o=e.get(t);Date.now()-o.timestamp>6e5&&e.delete(t)}},se=async e=>{var t,o;const n=e.application.capabilities.fleet;if(null==n||!n.read)return[];const r=await e.http.get("/api/fleet/epm/packages/installed",{query:void 0,version:"2023-10-31"}).catch((e=>{console.error("Failed to fetch integrations",e)}));return null!==(t=null==r||null===(o=r.items)||void 0===o?void 0:o.map((e=>({name:e.name,hidden:!1,title:e.title,dataStreams:e.dataStreams}))))&&void 0!==t?t:[]},de=async(e,t)=>{const[o,n,r]=await Promise.all([ie(e),re(e),se(t)]);return[...n,...o,...r]};function ue({onMouseDownResizeHandler:e,onKeyDownResizeHandler:t,editorIsInline:o}){return Object(a.jsx)(u.EuiResizableButton,{"data-test-subj":"TextBasedLangEditor-resize",onMouseDown:e,onKeyDown:t,onTouchStart:e,indicator:"border",css:Object(a.css)("position:",o?"relative":"absolute",";bottom:0;left:0;right:0;","")})}o(30);let ce=!1,le=!0,ge=!1,me=1;var be={name:"nziz0a",styles:"max-width:100%;position:relative"};const pe=Object(b.memo)((function({query:e,onTextLangQueryChange:t,onTextLangQuerySubmit:n,expandCodeEditor:r,isCodeEditorExpanded:s,detectTimestamp:x=!1,errors:f,warning:h,isLoading:j,isDisabled:y,isDarkMode:O,hideMinimizeButton:L,hideRunQueryText:C,editorIsInline:S,disableSubmitAction:T,dataTestSubj:B,allowQueryCancellation:I,hideTimeFilterInfo:M,hideQueryHistory:q,hideHeaderWhenExpanded:A}){var Q,G,P,W,U,$,K;const{euiTheme:V}=Object(u.useEuiTheme)(),Y=Object(l.getAggregateQueryMode)(e),J=null!==(Q=e[Y])&&void 0!==Q?Q:"",X=Object(m.useKibana)(),{dataViews:te,expressions:re,indexManagementApiService:ie,application:se,docLinks:pe,core:xe}=X.services,fe=null==xe||null===(G=xe.uiSettings)||void 0===G?void 0:G.get("dateFormat:tz"),[he,je]=Object(b.useState)(null!=J?J:""),[ye,ve]=Object(b.useState)(null),[Ee,Oe]=Object(b.useState)(he),[we,Le]=Object(b.useState)(s?140:38),[_e,Ce]=Object(b.useState)(0),[Se,Te]=Object(b.useState)(0),Be=Boolean(S)&&_e<540,[ke,Ie]=Object(b.useState)(!1),[Me,qe]=Object(b.useState)(s),[ze,Re]=Object(b.useState)(s),[Fe,Ne]=Object(b.useState)(!1),[De,He]=Object(b.useState)(!0),[Ae,Qe]=Object(b.useState)(new AbortController),[Ge,Pe]=Object(b.useState)({errors:f?ne(f):[],warnings:h?oe(h):[]}),[We,Ue]=Object(b.useState)({errors:[],warnings:[]}),[$e,Ke]=Object(b.useState)(!1),Ve=q||null==j,Ye=Object(b.useCallback)((e=>{je(e),t({[Y]:e})}),[Y,t]),Je=Object(b.useCallback)((()=>{if(De&&j&&I)null==Ae||Ae.abort(),He(!1);else{var e;He(!0);const t=new AbortController;Qe(t);const o=null===(e=it.current)||void 0===e?void 0:e.getValue();null!=o&&Oe(o),n({[Y]:o},t)}}),[De,j,I,Ae,n,Y]),Ze=Object(b.useCallback)((()=>{var e;const t=null==it||null===(e=it.current)||void 0===e?void 0:e.getSelection(),o=null==t?void 0:t.startLineNumber,n=null==t?void 0:t.endLineNumber;if(o&&n)for(let e=o;e<=n;e++){var r,i,a,s;const t=null!==(r=null===(i=rt.current)||void 0===i?void 0:i.getLineContent(e))&&void 0!==r?r:"",o=(null==t?void 0:t.startsWith("//"))?null==t?void 0:t.replace("//",""):`//${t}`;null===(a=it.current)||void 0===a||a.executeEdits("comment",[{range:{startLineNumber:e,startColumn:0,endLineNumber:e,endColumn:(null!==(s=null==t?void 0:t.length)&&void 0!==s?s:0)+1},text:o}])}}),[]);Object(b.useEffect)((()=>{j||He(!1)}),[j]);const[Xe,et]=Object(b.useState)(),tt=Object(b.useCallback)((e=>{Ie(e)}),[]);E.monaco.editor.registerCommand("esql.policies.create",((...e)=>{null==se||se.navigateToApp("management",{path:"data/index_management/enrich_policies/create",openInNewTab:!0})}));const ot=((e,t,o,n,r,i,a,s,d,u,c)=>{const l=r?e.colors.danger:e.colors.primary,g=!0===c&&n;let m=t?"absolute":"relative";return n&&(m="relative"),{editorContainer:{position:m,left:0,right:0,zIndex:t?4:0,height:`${o}px`,border:t?e.border.thin:"none",borderLeft:d||!t?"none":e.border.thin,borderRight:d||!t?"none":e.border.thin,borderTopLeftRadius:n?0:e.border.radius.medium,borderBottom:n?"none":t?e.border.thin:"none"},resizableContainer:{display:"flex",width:n?"100%":`calc(100% - ${s?80:40}px)`,alignItems:t?"flex-start":"center",border:t?"none":e.border.thin,borderTopLeftRadius:n?0:e.border.radius.medium,borderBottomLeftRadius:n?0:e.border.radius.medium,borderBottomWidth:r?"2px":"1px",borderBottomColor:r?e.colors.danger:e.colors.lightShade,borderRight:n?e.border.thin:"none",...n&&{overflow:"hidden"}},linesBadge:{position:"absolute",zIndex:1,right:r||i?"60px":"12px",top:"50%",transform:"translate(0, -50%)"},errorsBadge:{position:"absolute",zIndex:1,right:"12px",top:"50%",transform:"translate(0, -50%)"},bottomContainer:{borderLeft:d?"none":e.border.thin,borderRight:d?"none":e.border.thin,borderTop:n&&!a?r?`2px solid ${e.colors.danger}`:e.border.thin:`2px solid ${l}`,borderBottom:d?"none":e.border.thin,backgroundColor:e.colors.lightestShade,paddingLeft:e.size.base,paddingRight:e.size.base,paddingTop:d?e.size.s:e.size.xs,paddingBottom:d?e.size.s:e.size.xs,width:n?"100%":"calc(100% + 2px)",position:"relative",marginTop:0,marginLeft:n?0:-1,marginBottom:0,borderBottomLeftRadius:d||u?0:e.border.radius.medium,borderBottomRightRadius:d||u?0:e.border.radius.medium},historyContainer:{border:e.border.thin,borderTop:"none",borderLeft:d?"none":e.border.thin,borderRight:d?"none":e.border.thin,backgroundColor:e.colors.lightestShade,width:"100%",position:"relative",marginTop:0,marginLeft:0,marginBottom:0,borderBottomLeftRadius:d?0:e.border.radius.medium,borderBottomRightRadius:d?0:e.border.radius.medium},topContainer:{border:d?"none":e.border.thin,borderTopLeftRadius:d?0:e.border.radius.medium,borderTopRightRadius:d?0:e.border.radius.medium,backgroundColor:e.colors.lightestShade,paddingLeft:e.size.s,paddingRight:e.size.s,paddingTop:g?e.size.s:e.size.xs,paddingBottom:g?e.size.s:e.size.xs,width:"100%",position:"relative",marginLeft:0,marginTop:d?0:e.size.s,borderBottom:"none"},dragResizeContainer:{width:"100%",cursor:"row-resize",textAlign:"center",height:e.size.base},dragResizeButton:{cursor:"row-resize"}}})(V,ze,we,s,Boolean(Ge.errors.length),Boolean(Ge.warnings.length),Fe,Boolean(Xe),Boolean(S),ke,!!A),nt=O,rt=Object(b.useRef)(),it=Object(b.useRef)(),at=Object(b.useRef)(null),st=w()("TextBasedLangEditor",{"TextBasedLangEditor--expanded":s,"TextBasedLangEditor--compact":ze,"TextBasedLangEditor--initial":!ze}),dt=Object(b.useCallback)((e=>{const t=we,o=e.pageY;function n(e){const n=t-o+e.pageY,r=Math.min(Math.max(n,40),400);Le(r)}document.body.addEventListener("mousemove",n),document.body.addEventListener("mouseup",(function(){document.body.removeEventListener("mousemove",n)}),{once:!0})}),[we]),ut=Object(b.useCallback)((e=>{let t=we;if(38===e.keyCode||40===e.keyCode){t+=38===e.keyCode?-10:10;const o=Math.min(Math.max(t,40),400);Le(o)}}),[we]),ct=Object(b.useCallback)((e=>{if(ce||le)return;const t=Math.min(250,e.getContentHeight());Le(t),e.layout({width:e.getLayoutInfo().width,height:t})}),[]),lt=Object(b.useCallback)((()=>{Re(!0),Ne(!0),qe(!0),ve(null),ce=!1,le=!1,ge=!0}),[]),{cache:gt,memoizedFieldsFromESQL:mt}=Object(b.useMemo)((()=>{const e=_()(((...e)=>({timestamp:Date.now(),result:i(...e)})),(({esql:e})=>e));return{cache:e.cache,memoizedFieldsFromESQL:e}}),[]),{cache:bt,memoizedSources:pt}=Object(b.useMemo)((()=>{const e=_()(((...e)=>({timestamp:Date.now(),result:de(...e)})),(({esql:e})=>e));return{cache:e.cache,memoizedSources:e}}),[]),xt=Object(b.useMemo)((()=>({getSources:async()=>(ae(bt,J),await pt(te,xe).result),getFieldsFor:async({query:e}={})=>{if(e){const t={esql:`${e} | limit 0`};ae(gt,t.esql);try{const e=await mt(t,re,void 0,Ae).result;return(null==e?void 0:e.columns.map((e=>({name:e.name,type:e.meta.type}))))||[]}catch(e){}}return[]},getPolicies:async()=>{const{data:e,error:t}=await(null==ie?void 0:ie.getAllEnrichPolicies())||{};return t||!e?[]:e.map((({type:e,query:t,...o})=>o))}})),[J,pt,bt,te,xe,gt,mt,re,Ae,ie]),ft=Object(b.useCallback)((async()=>rt.current?await E.ESQLLang.validate(rt.current,J,xt):{errors:[],warnings:[]}),[xt,J]),ht=null!==(P=We.errors)&&void 0!==P&&P.length?"error":We.warnings.length?"warning":"success";Object(b.useEffect)((()=>{De||j?((e=>{D("desc").forEach((e=>{const t=F(e.queryString);H.set(t,e)}));const t=F(e.queryString);if(e.queryString){const n=(o=e.timeZone)&&"Browser"!==o?o:z.a.tz.guess();H.set(t,{...e,timeRan:z()().tz(n).format("MMM. D, YY HH:mm:ss.SSS"),startDateMilliseconds:z()().valueOf(),queryRunning:!0})}var o})({queryString:J,timeZone:fe}),(async()=>{if(null!=it&&it.current){var e,t;const o=await ft();Ue({errors:null!==(e=null==o?void 0:o.errors)&&void 0!==e?e:[],warnings:null!==(t=null==o?void 0:o.warnings)&&void 0!==t?t:[]})}})(),Ke(!1)):(((e,t=20)=>{const o=F(e.queryString),n=H.get(o);if(n){const t=z()().valueOf(),r=z()(t).diff(z()(null==n?void 0:n.startDateMilliseconds));H.set(o,{...n,timeRan:n.queryRunning?n.timeRan:z()().format("MMM. D, YY HH:mm:ss"),duration:n.queryRunning?`${r}ms`:n.duration,status:e.status,queryRunning:!1})}const r=Array.from(H,(([e,t])=>({...t}))),i=D("desc").filter((e=>!r.find((t=>t.queryString===e.queryString))));let a=[...r,...i];if(a.length>=t+1){const e=a.sort(((e,t)=>N(null==t?void 0:t.startDateMilliseconds,null==e?void 0:e.startDateMilliseconds)));a=e.slice(0,t),H.clear(),a.forEach((e=>{H.set(e.queryString,e)}))}localStorage.setItem(R,JSON.stringify(a))})({queryString:J,status:ht}),Ke(!0))}),[ht,j,De,ft,J,fe]);const jt=Object(b.useCallback)((async({active:e})=>{if(!rt.current||"esql"!==Y||rt.current.isDisposed())return;E.monaco.editor.setModelMarkers(rt.current,"Unified search",[]);const{warnings:t,errors:o}=await ft(),n=[];return o.length&&n.push(...o),e?(Pe({errors:o,warnings:t}),void E.monaco.editor.setModelMarkers(rt.current,"Unified search",n)):void 0}),[Y,ft]);((e,{skipFirstRender:t}={skipFirstRender:!1},o,n)=>{const r=Object(b.useRef)(!0),i=[...n||[],r];ee()((()=>{if(!t||!r.current)return e();r.current=!1}),o,i)})((async()=>{if(!rt.current)return;const e={active:!0};if(he!==Ee||!f&&!h)return jt(e).catch((()=>{})),()=>e.active=!1;{var t,o;const e=ne(f||[]),n=h?oe(h):[];Pe({errors:e,warnings:e.length?[]:n}),E.monaco.editor.setModelMarkers(rt.current,"Unified search",e.length?e:[]);const r=await ft();Ue({errors:null!==(t=null==r?void 0:r.errors)&&void 0!==t?t:[],warnings:null!==(o=null==r?void 0:r.warnings)&&void 0!==o?o:[]})}}),{skipFirstRender:!1},256,[f,h,he]);const yt=Object(b.useMemo)((()=>{var e;return"esql"===Y?null===(e=E.ESQLLang.getSuggestionProvider)||void 0===e?void 0:e.call(E.ESQLLang,xt):void 0}),[Y,xt]),vt=Object(b.useMemo)((()=>{var e;return"esql"===Y?null===(e=E.ESQLLang.getHoverProvider)||void 0===e?void 0:e.call(E.ESQLLang,xt):void 0}),[Y,xt]),Et=Object(b.useMemo)((()=>{var e;return"esql"===Y?null===(e=E.ESQLLang.getCodeActionProvider)||void 0===e?void 0:e.call(E.ESQLLang,xt):void 0}),[Y,xt]),Ot=Object(b.useCallback)((({startLineNumber:e,startColumn:t})=>{it.current&&(it.current.focus(),it.current.setPosition({lineNumber:e,column:t}),it.current.revealLine(e))}),[]);Object(b.useEffect)((()=>{const e=rt,t=it;return()=>{var o,n;null===(o=e.current)||void 0===o||o.dispose(),null===(n=t.current)||void 0===n||n.dispose()}}),[]);const wt=Object(b.useCallback)(((e,t)=>{var o;if((null===(o=at.current)||void 0===o?void 0:o.offsetWidth)&&(!ze||t)){const t=/\r|\n/.exec(J);t&&!ge&&(me=J.split(/\r|\n/).length);const o=((e,t)=>t?e.replace(/\r?\n|\r/g," ").replace(/  +/g," "):e)(J,Boolean(t)),n=o.length,r=Ge.errors.length||Ge.warnings.length?220:180,i=Math.floor((e-r)/8);if(n>i){const e=o.substring(0,i)+"...";ve(e)}else ve(o)}}),[ze,J,Ge]),Lt=e=>{if(e.contentWidth!==Se){const t=e.contentWidth;Te(t),Fe||ze||wt(t,!0)}e.width!==_e&&Ce(e.width)},_t=Object(b.useRef)(Lt);_t.current=Lt,Object(b.useEffect)((()=>{it.current&&!ze&&he!==J&&(je(J),wt(it.current.getLayoutInfo().width))}),[wt,he,ze,J]),Object(b.useEffect)((()=>{var e;s&&(null===(e=it.current)||void 0===e?void 0:e.getValue())!==J&&je(J)}),[s,J]);const Ct=Object(b.useMemo)((()=>{const e=null==he?void 0:he.split("|"),t=null==he?void 0:he.split("\n|");return(null==e?void 0:e.length)===(null==t?void 0:t.length)}),[he]);Object(b.useEffect)((()=>{Xe||async function(){const e=await(async e=>{const t=[];if("esql"===e){const{sourceCommands:e,processingCommands:n,initialSection:r,functions:i,aggregationFunctions:a,groupingFunctions:s,operators:d}=await o.e(2).then(o.bind(null,57));return t.push({label:g.i18n.translate("textBasedEditor.query.textBasedLanguagesEditor.esql",{defaultMessage:"ES|QL"}),items:[]}),t.push(e,n,i,a,s,d),{groups:t,initialSection:r}}})(Y);et(e)}()}),[Y,Xe]);const St={accessibilitySupport:"off",autoIndent:"none",automaticLayout:!0,fixedOverflowWidgets:!0,folding:!1,fontSize:14,hideCursorInOverviewRuler:!0,lightbulb:{enabled:!1},lineDecorationsWidth:12,lineNumbers:Me?"on":"off",lineNumbersMinChars:3,minimap:{enabled:!1},overviewRulerLanes:0,overviewRulerBorder:!1,padding:{top:8,bottom:8},quickSuggestions:!0,readOnly:y||Boolean(!ze&&ye&&ye.includes("...")),renderLineHighlight:s?"line":"none",renderLineHighlightOnlyWhenFocus:!0,scrollbar:{horizontal:"hidden",vertical:"auto"},scrollBeyondLastLine:!1,theme:"esql"===Y?E.ESQL_THEME_ID:nt?"vs-dark":"vs",wordWrap:"on",wrappingIndent:"none"};ze&&(St.overviewRulerLanes=4,St.hideCursorInOverviewRuler=!1,St.overviewRulerBorder=!0);const Tt=Object(a.jsx)(p.a.Fragment,null,s&&!A&&Object(a.jsx)(u.EuiFlexGroup,{gutterSize:"s",justifyContent:"spaceBetween",css:ot.topContainer,responsive:!1},Object(a.jsx)(u.EuiFlexItem,{grow:!1},Object(a.jsx)(u.EuiFlexGroup,{responsive:!1,gutterSize:"none",alignItems:"center"},Object(a.jsx)(u.EuiFlexItem,{grow:!1},Object(a.jsx)(u.EuiToolTip,{position:"top",content:Ct?g.i18n.translate("textBasedEditor.query.textBasedLanguagesEditor.disableWordWrapLabel",{defaultMessage:"Remove line breaks on pipes"}):g.i18n.translate("textBasedEditor.query.textBasedLanguagesEditor.EnableWordWrapLabel",{defaultMessage:"Add line breaks on pipes"})},Object(a.jsx)(u.EuiButtonIcon,{iconType:Ct?"pipeNoBreaks":"pipeBreaks",color:"text",size:"xs","data-test-subj":"TextBasedLangEditor-toggleWordWrap","aria-label":Ct?g.i18n.translate("textBasedEditor.query.textBasedLanguagesEditor.disableWordWrapLabel",{defaultMessage:"Remove line breaks on pipes"}):g.i18n.translate("textBasedEditor.query.textBasedLanguagesEditor.EnableWordWrapLabel",{defaultMessage:"Add line breaks on pipes"}),onClick:()=>{const e=((e,t)=>{const o=null==e?void 0:e.split("|");return(null==o?void 0:o.map((e=>e.replaceAll("\n","").trim()))).join(t?" | ":"\n| ")})(he,Ct);he!==e&&(je(e),t({[Y]:e}))}}))))),Object(a.jsx)(u.EuiFlexItem,{grow:!1},Object(a.jsx)(u.EuiFlexGroup,{responsive:!1,gutterSize:"none",alignItems:"center"},Object(a.jsx)(u.EuiFlexItem,{grow:!1},Xe&&Object(a.jsx)(u.EuiFlexItem,{grow:!1},Object(a.jsx)(v,{language:Object(l.getLanguageDisplayName)(String(Y)),sections:Xe,searchInDescription:!0,linkToDocumentation:"esql"===Y?null==pe||null===(W=pe.links)||void 0===W||null===(U=W.query)||void 0===U?void 0:U.queryESQL:"",buttonProps:{color:"text",size:"xs","data-test-subj":"TextBasedLangEditor-documentation","aria-label":g.i18n.translate("textBasedEditor.query.textBasedLanguagesEditor.documentationLabel",{defaultMessage:"Documentation"})}}))),!Boolean(L)&&Object(a.jsx)(u.EuiFlexItem,{grow:!1},Object(a.jsx)(u.EuiToolTip,{position:"top",content:g.i18n.translate("textBasedEditor.query.textBasedLanguagesEditor.minimizeTooltip",{defaultMessage:"Compact query editor"})},Object(a.jsx)(u.EuiButtonIcon,{iconType:"minimize",color:"text","aria-label":g.i18n.translate("textBasedEditor.query.textBasedLanguagesEditor.MinimizeEditor",{defaultMessage:"Minimize editor"}),"data-test-subj":"TextBasedLangEditor-minimize",size:"xs",onClick:()=>{r(!1),ge=!1}})))))),Object(a.jsx)(u.EuiFlexGroup,{gutterSize:"none",responsive:!1,ref:at},Object(a.jsx)(u.EuiOutsideClickDetector,{onOutsideClick:()=>{(()=>{if(Ne(!1),!s&&(Le(38),Re(!1),qe(!1),ge=!1,ce=!0,it.current)){const e=it.current.getLayoutInfo().width;wt(e,!0),it.current.layout({width:e,height:38})}})()}},Object(a.jsx)("div",{css:ot.resizableContainer},Object(a.jsx)(u.EuiFlexItem,{"data-test-subj":null!=B?B:"TextBasedLangEditor",className:st,css:be},Object(a.jsx)("div",{css:ot.editorContainer},!ze&&Object(a.jsx)(u.EuiBadge,{color:V.colors.lightShade,css:ot.linesBadge,"data-test-subj":"TextBasedLangEditor-inline-lines-badge"},g.i18n.translate("textBasedEditor.query.textBasedLanguagesEditor.lineCount",{defaultMessage:"{count} {count, plural, one {line} other {lines}}",values:{count:me}})),!ze&&Ge.errors.length>0&&Object(a.jsx)(k,{items:Ge.errors,type:"error",onErrorClick:Ot,popoverCSS:ot.errorsBadge}),!ze&&Ge.warnings.length>0&&0===Ge.errors.length&&Object(a.jsx)(k,{items:Ge.warnings,type:"warning",onErrorClick:Ot,popoverCSS:ot.errorsBadge}),Object(a.jsx)(c.CodeEditor,{languageId:E.ESQL_LANG_ID,value:ye||he,options:St,width:"100%",suggestionProvider:yt,hoverProvider:{provideHover:(e,t,o)=>ze||null==vt||!vt.provideHover?{contents:[]}:null==vt?void 0:vt.provideHover(e,t,o)},codeActions:Et,onChange:Ye,editorDidMount:e=>{it.current=e;const t=e.getModel();t&&(rt.current=t),s&&(me=(null==t?void 0:t.getLineCount())||1),e.onMouseDown((()=>{setTimeout((()=>{e.focus()}),100)})),e.onDidFocusEditorText((()=>{lt()})),e.onKeyDown((()=>{lt()})),e.addCommand(E.monaco.KeyMod.CtrlCmd|E.monaco.KeyCode.Enter,Je),e.addCommand(E.monaco.KeyMod.CtrlCmd|E.monaco.KeyCode.Slash,Ze),Ce(e.getLayoutInfo().width),Te(e.getContentWidth()),e.onDidLayoutChange((e=>{_t.current(e)})),s||e.onDidContentSizeChange((t=>{t.contentHeightChanged&&ct(e)}))}}),ze&&!s&&Object(a.jsx)(Z,d()({lines:me,styles:{bottomContainer:ot.bottomContainer,historyContainer:ot.historyContainer}},Ge,{onErrorClick:Ot,runQuery:Je,updateQuery:Ye,detectTimestamp:x,editorIsInline:S,disableSubmitAction:T,hideRunQueryText:C,isSpaceReduced:Be,isLoading:De,allowQueryCancellation:I,hideTimeFilterInfo:M,isHistoryOpen:ke,setIsHistoryOpen:tt,measuredContainerWidth:_e,hideQueryHistory:Ve,refetchHistoryItems:$e,isInCompactMode:!0,queryHasChanged:he!==Ee})))))),!s&&Object(a.jsx)(u.EuiFlexItem,{grow:!1},Object(a.jsx)(u.EuiFlexGroup,{responsive:!1,gutterSize:"none",alignItems:"center"},Object(a.jsx)(u.EuiFlexItem,{grow:!1},Xe&&Object(a.jsx)(u.EuiFlexItem,{grow:!1},Object(a.jsx)(v,{language:"esql"===String(Y)?"ES|QL":String(Y).toUpperCase(),linkToDocumentation:"esql"===Y?null==pe||null===($=pe.links)||void 0===$||null===(K=$.query)||void 0===K?void 0:K.queryESQL:"",searchInDescription:!0,sections:Xe,buttonProps:{display:"empty","data-test-subj":"TextBasedLangEditor-inline-documentation","aria-label":g.i18n.translate("textBasedEditor.query.textBasedLanguagesEditor.documentationLabel",{defaultMessage:"Documentation"}),size:"m",css:{borderRadius:0,backgroundColor:nt?V.colors.lightestShade:"#e9edf3",border:"1px solid rgb(17 43 134 / 10%) !important",transform:"none !important"}}}))),Object(a.jsx)(u.EuiFlexItem,{grow:!1},Object(a.jsx)(u.EuiToolTip,{position:"top",content:g.i18n.translate("textBasedEditor.query.textBasedLanguagesEditor.expandTooltip",{defaultMessage:"Expand query editor"})},Object(a.jsx)(u.EuiButtonIcon,{display:"empty",iconType:"expand",size:"m","aria-label":"Expand",onClick:()=>r(!0),"data-test-subj":"TextBasedLangEditor-expand",css:Object(a.css)({borderTopLeftRadius:0,borderBottomLeftRadius:0,backgroundColor:nt?V.colors.lightestShade:"#e9edf3",border:"1px solid rgb(17 43 134 / 10%) !important",borderLeft:"transparent !important",transform:"none !important"},"","")})))))),s&&Object(a.jsx)(Z,d()({lines:me,styles:{bottomContainer:ot.bottomContainer,historyContainer:ot.historyContainer},onErrorClick:Ot,runQuery:Je,updateQuery:Ye,detectTimestamp:x,hideRunQueryText:C,editorIsInline:S,disableSubmitAction:T,isSpaceReduced:Be,isLoading:De,allowQueryCancellation:I,hideTimeFilterInfo:M},Ge,{isHistoryOpen:ke,setIsHistoryOpen:tt,measuredContainerWidth:_e,hideQueryHistory:Ve,refetchHistoryItems:$e,queryHasChanged:he!==Ee})),s&&Object(a.jsx)(ue,{onMouseDownResizeHandler:dt,onKeyDownResizeHandler:ut,editorIsInline:S}));return Tt}));t.default=pe}])]);