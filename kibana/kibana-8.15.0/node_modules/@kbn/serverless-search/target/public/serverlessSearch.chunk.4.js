/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.serverlessSearch_bundle_jsonpfunction=window.serverlessSearch_bundle_jsonpfunction||[]).push([[4],{100:function(e,t,n){(t=n(35)(!1)).push([e.i,".resultField:nth-child(odd){background-color:#f5f7fa}.resultField{padding:4px 8px}.resultField>.euiTableRowCell{border-bottom:none;border-top:none}.resultField>.euiTableRowCell>.euiTableCellContent{padding:4px}.resultExpandColumn{align-items:flex-start;border-left:1px solid #d3dae6;height:100%;justify-content:center;padding:0 0 0 8px}.resultHeader{padding:0 8px 4px 0}.euiToken.resultField__token{align-items:center;display:flex;justify-content:flex-start}",""]),e.exports=t},110:function(e,t,n){"use strict";n.r(t),n.d(t,"IndexDocuments",(function(){return T}));var a=n(4),s=n.n(a);var o=n(3),i=n(0),r=n(1);const l=({accessControlSwitch:e,dataTelemetryIdPrefix:t,documentComponent:n,searchQueryCallback:a})=>Object(r.jsx)(o.EuiPanel,{hasBorder:!1,hasShadow:!1,paddingSize:"none"},Object(r.jsx)(o.EuiSpacer,null),Object(r.jsx)(o.EuiFlexGroup,{direction:"column"},Object(r.jsx)(o.EuiFlexItem,null,Object(r.jsx)(o.EuiFlexGroup,{direction:"row",alignItems:"center"},Object(r.jsx)(o.EuiFlexItem,{className:"enterpriseSearchDocumentsHeader",grow:!1},Object(r.jsx)(o.EuiTitle,{size:"s"},Object(r.jsx)("h2",null,i.i18n.translate("searchIndexDocuments.documents.title",{defaultMessage:"Browse documents"})))),e&&Object(r.jsx)(o.EuiFlexItem,{grow:!1},e),Object(r.jsx)(o.EuiFlexItem,null,Object(r.jsx)(o.EuiFieldSearch,{"data-telemetry-id":`${t}-documents-searchDocuments`,placeholder:i.i18n.translate("searchIndexDocuments.documents.searchField.placeholder",{defaultMessage:"Search documents in this index"}),isClearable:!0,onChange:e=>a(e.target.value),fullWidth:!0})))),Object(r.jsx)(o.EuiFlexItem,null,n)));var u=n(6);const c=["title","name"];function d(e,t){return"string"==typeof e[t]}const m=e=>{if("object"==typeof(t=e._source)&&null!==t)for(const t of c)if(d(e._source,t))return e._source[t];var t},j=e=>({id:e._id,title:m(e)});var p=n(22);const x={boolean:"tokenBoolean",date:"tokenDate",date_range:"tokenDate",double:"tokenNumber",double_range:"tokenDate",flattened:"tokenObject",float:"tokenNumber",float_range:"tokenNumber",geo_point:"tokenGeo",geo_shape:"tokenGeo",half_float:"tokenNumber",histogram:"tokenHistogram",integer:"tokenNumber",integer_range:"tokenNumber",ip:"tokenIp",ip_range:"tokenIp",join:"tokenJoin",keyword:"tokenKeyword",long:"tokenNumber",long_range:"tokenNumber",nested:"tokenObject",object:"tokenObject",percolator:"tokenPercolator",rank_feature:"tokenRankFeature",rank_features:"tokenRankFeatures",scaled_float:"tokenNumber",search_as_you_type:"tokenSearchType",shape:"tokenShape",short:"tokenNumber",text:"tokenString",token_count:"tokenTokenCount",unsigned_long:"tokenNumber"},b=({iconType:e,fieldName:t,fieldValue:n,fieldType:a,isExpanded:s})=>Object(r.jsx)(o.EuiTableRow,{className:"resultField"},Object(r.jsx)(o.EuiTableRowCell,{className:"resultFieldRowCell",width:p.euiThemeVars.euiSizeL,valign:"middle"},Object(r.jsx)("span",null,Object(r.jsx)(o.EuiToken,{className:"resultField__token",iconType:e||(a?x[a]:"questionInCircle")}))),Object(r.jsx)(o.EuiTableRowCell,{className:"resultFieldRowCell",width:"25%",truncateText:!s,valign:"middle"},Object(r.jsx)(o.EuiText,{size:"xs"},t)),Object(r.jsx)(o.EuiTableRowCell,{className:"resultFieldRowCell",width:p.euiThemeVars.euiSizeXXL,valign:"middle"},Object(r.jsx)(o.EuiIcon,{type:"sortRight",color:"subdued"})),Object(r.jsx)(o.EuiTableRowCell,{className:"resultFieldRowCell",truncateText:!s,valign:"middle"},("object"===a||"array"===a||"nested"===a||Array.isArray(n))&&s?Object(r.jsx)(o.EuiCodeBlock,{language:"json",overflowHeight:"250",transparentBackground:!0},n):Object(r.jsx)(o.EuiText,{size:"xs"},n))),f=({fields:e,isExpanded:t})=>Object(r.jsx)(o.EuiTable,null,Object(r.jsx)(o.EuiTableBody,null,e.map((e=>Object(r.jsx)(b,{isExpanded:t,iconType:e.iconType,fieldName:e.fieldName,fieldValue:e.fieldValue,fieldType:e.fieldType,key:e.fieldName}))))),g=({label:e})=>Object(r.jsx)(o.EuiFlexItem,{grow:!1},Object(r.jsx)("strong",null,Object(r.jsx)(o.EuiTextColor,{color:"subdued"},e,":"))),h=({label:e})=>Object(r.jsx)(o.EuiFlexItem,null,Object(r.jsx)(o.EuiTextColor,{color:"subdued"},e)),O=({id:e,onDocumentDelete:t})=>{const[n,s]=Object(a.useState)(!1),l=()=>s(!1),u=Object(r.jsx)(o.EuiButtonIcon,{display:"empty",size:"xs",iconType:"iInCircle",color:"primary",onClick:()=>s(!n),"aria-label":i.i18n.translate("searchIndexDocuments.result.header.metadata.icon.ariaLabel",{defaultMessage:"Metadata for document: {id}",values:{id:e}})});return Object(r.jsx)(o.EuiPopover,{button:u,isOpen:n,closePopover:l},Object(r.jsx)(o.EuiPopoverTitle,null,i.i18n.translate("searchIndexDocuments.result.header.metadata.title",{defaultMessage:"Document metadata"})),Object(r.jsx)(o.EuiFlexGroup,{gutterSize:"s",direction:"column",style:{width:"20rem"}},Object(r.jsx)(o.EuiFlexItem,null,Object(r.jsx)(o.EuiFlexGroup,{justifyContent:"spaceBetween",gutterSize:"s"},Object(r.jsx)(g,{label:"ID"}),Object(r.jsx)(h,{label:e})))),t&&Object(r.jsx)(o.EuiPopoverFooter,null,Object(r.jsx)(o.EuiButton,{iconType:"trash",color:"danger",size:"s",onClick:l,fullWidth:!0},i.i18n.translate("searchIndexDocuments.result.header.metadata.deleteDocument",{defaultMessage:"Delete document"}))))},v=({title:e,metaData:t})=>Object(r.jsx)("div",{className:"resultHeader"},Object(r.jsx)(o.EuiText,{size:"s"},Object(r.jsx)(o.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},Object(r.jsx)(o.EuiFlexItem,null,Object(r.jsx)("strong",null,e)),!!t&&Object(r.jsx)(o.EuiFlexItem,{grow:!1},Object(r.jsx)(O,t)))));n(96);const y=({metaData:e,fields:t})=>{var n;const[l,u]=Object(a.useState)(!1),c=t.length<=3?i.i18n.translate("searchIndexDocuments.result.expandTooltip.allVisible",{defaultMessage:"All fields are visible"}):l?i.i18n.translate("searchIndexDocuments.result.expandTooltip.showFewer",{defaultMessage:"Show {amount} fewer fields",values:{amount:t.length-3}}):i.i18n.translate("searchIndexDocuments.result.expandTooltip.showMore",{defaultMessage:"Show {amount} more fields",values:{amount:t.length-3}}),d=Object(r.jsx)(s.a.Fragment,null,c);return Object(r.jsx)(o.EuiPanel,{hasBorder:!0,paddingSize:"s","data-test-subj":"search-index-documents-result"},Object(r.jsx)(o.EuiFlexGroup,{gutterSize:"none"},Object(r.jsx)(o.EuiFlexItem,null,Object(r.jsx)(o.EuiFlexGroup,{direction:"column",gutterSize:"none",responsive:!1},Object(r.jsx)(o.EuiFlexItem,{grow:!1},Object(r.jsx)(v,{title:null!==(n=e.title)&&void 0!==n?n:i.i18n.translate("searchIndexDocuments.result.title.id",{defaultMessage:"Document id: {id}",values:{id:e.id}}),metaData:e})),Object(r.jsx)(o.EuiFlexItem,null,Object(r.jsx)(f,{isExpanded:l,fields:l?t:t.slice(0,3)})))),Object(r.jsx)(o.EuiFlexItem,{grow:!1},Object(r.jsx)("div",{className:"resultExpandColumn"},Object(r.jsx)(o.EuiToolTip,{position:"left",content:d},Object(r.jsx)(o.EuiButtonIcon,{iconType:l?"fold":"unfold",color:"text",onClick:()=>u(!l),"aria-label":c}))))))},E=({dataTelemetryIdPrefix:e,docs:t,docsPerPage:n,isLoading:l,mappings:c,meta:d,onPaginate:m,setDocsPerPage:p})=>{const[x,b]=Object(a.useState)(!1),f=e=>e===n?"check":"empty",g=null!=d&&d.pageSize?Math.ceil(d.totalItemCount/(null==d?void 0:d.pageSize)):0;return Object(r.jsx)(s.a.Fragment,null,Object(r.jsx)(o.EuiPagination,{"aria-label":i.i18n.translate("searchIndexDocuments.documentList.paginationAriaLabel",{defaultMessage:"Pagination for document list"}),pageCount:g,activePage:d.pageIndex,onPageClick:m}),Object(r.jsx)(o.EuiSpacer,{size:"m"}),Object(r.jsx)(o.EuiText,{size:"xs"},Object(r.jsx)("p",null,Object(r.jsx)(u.FormattedMessage,{id:"searchIndexDocuments.documentList.description",defaultMessage:"Showing {results} of {total}. Search results maxed at {maximum} documents.",values:{maximum:Object(r.jsx)(u.FormattedNumber,{value:1e4}),results:Object(r.jsx)("strong",null,Object(r.jsx)(u.FormattedNumber,{value:t.length})),total:Object(r.jsx)("strong",null,Object(r.jsx)(u.FormattedNumber,{value:d.totalItemCount}))}}))),l&&Object(r.jsx)(o.EuiProgress,{size:"xs",color:"primary"}),Object(r.jsx)(o.EuiSpacer,{size:"m"}),t.map((e=>{return Object(r.jsx)(s.a.Fragment,{key:e._id},Object(r.jsx)(y,{fields:(t=e,c&&t._source&&!Array.isArray(t._source)&&"object"==typeof t._source?Object.entries(t._source).map((([e,t])=>{var n,a;return{fieldName:e,fieldType:null!==(n=null===(a=c[e])||void 0===a?void 0:a.type)&&void 0!==n?n:"object",fieldValue:JSON.stringify(t,null,2)}})):[]),metaData:j(e)}),Object(r.jsx)(o.EuiSpacer,{size:"s"}));var t})),Object(r.jsx)(o.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(r.jsx)(o.EuiFlexItem,{grow:!1},Object(r.jsx)(o.EuiPagination,{"aria-label":i.i18n.translate("searchIndexDocuments.documentList.paginationAriaLabel",{defaultMessage:"Pagination for document list"}),pageCount:g,activePage:d.pageIndex,onPageClick:m})),Object(r.jsx)(o.EuiFlexItem,{grow:!1},Object(r.jsx)(o.EuiPopover,{"aria-label":i.i18n.translate("searchIndexDocuments.documentList.docsPerPage",{defaultMessage:"Document count per page dropdown"}),button:Object(r.jsx)(o.EuiButtonEmpty,{"data-telemetry-id":`${e}-documents-docsPerPage`,size:"s",iconType:"arrowDown",iconSide:"right",onClick:()=>{b(!0)}},i.i18n.translate("searchIndexDocuments.documentList.pagination.itemsPerPage",{defaultMessage:"Documents per page: {docPerPage}",values:{docPerPage:n}})),isOpen:x,closePopover:()=>{b(!1)},panelPaddingSize:"none",anchorPosition:"downLeft"},Object(r.jsx)(o.EuiContextMenuPanel,{size:"s",items:[Object(r.jsx)(o.EuiContextMenuItem,{key:"10 rows",icon:f(10),onClick:()=>{b(!1),p(10)}},i.i18n.translate("searchIndexDocuments.documentList.paginationOptions.option",{defaultMessage:"{docCount} documents",values:{docCount:10}})),Object(r.jsx)(o.EuiContextMenuItem,{key:"25 rows",icon:f(25),onClick:()=>{b(!1),p(25)}},i.i18n.translate("searchIndexDocuments.documentList.paginationOptions.option",{defaultMessage:"{docCount} documents",values:{docCount:25}})),Object(r.jsx)(o.EuiContextMenuItem,{key:"50 rows",icon:f(50),onClick:()=>{b(!1),p(50)}},i.i18n.translate("searchIndexDocuments.documentList.paginationOptions.option",{defaultMessage:"{docCount} documents",values:{docCount:50}}))]})))),Object(r.jsx)(o.EuiSpacer,null),d.totalItemCount>9999&&Object(r.jsx)(o.EuiCallOut,{size:"s",title:Object(r.jsx)(u.FormattedMessage,{id:"searchIndexDocuments.documentList.resultLimitTitle",defaultMessage:"Results are limited to {number} documents",values:{number:Object(r.jsx)(u.FormattedNumber,{value:1e4})}}),iconType:"search"},Object(r.jsx)("p",null,Object(r.jsx)(u.FormattedMessage,{id:"searchIndexDocuments.documentList.resultLimit",defaultMessage:"Only the first {number} results are available for paging. Please use the search bar to filter down your results.",values:{number:Object(r.jsx)(u.FormattedNumber,{value:1e4})}}))))};var C=n(5),k=n(30);const I={from:0,has_more_hits_than_total:!1,size:10,total:0},w={pageIndex:0,pageSize:25,totalItemCount:0},T=({indexName:e})=>{var t,n,o,u;const[c,d]=Object(a.useState)(w),[m,j]=Object(a.useState)(""),{results:p,meta:x}=((e,t,n)=>{var a,s,o,i,r;const{http:l}=Object(k.a)(),u=Object(C.useQuery)({queryKey:["fetchIndexDocuments",t,n],queryFn:async()=>l.post(`/internal/serverless_search/indices/${e}/search`,{body:JSON.stringify({searchQuery:n}),query:{page:t.pageIndex,size:t.pageSize}})});return{results:null==u||null===(a=u.data)||void 0===a?void 0:a.results,meta:(c=null!==(s=null==u||null===(o=u.data)||void 0===o||null===(i=o.results)||void 0===i||null===(r=i._meta)||void 0===r?void 0:r.page)&&void 0!==s?s:I,{pageIndex:c.size?Math.trunc(c.from/c.size):0,pageSize:c.size,totalItemCount:c.total})};var c})(e,c,m),{data:b}=(e=>{const{http:t}=Object(k.a)();return Object(C.useQuery)({queryKey:["fetchIndexMappings"],queryFn:async()=>t.fetch(`/internal/serverless_search/mappings/${e}`)})})(e),f=null!==(t=null==p?void 0:p.data)&&void 0!==t?t:[];return Object(a.useEffect)((()=>{j(""),d(w)}),[e]),Object(r.jsx)(l,{dataTelemetryIdPrefix:"serverless-view-index-documents",searchQueryCallback:e=>{j(e)},documentComponent:Object(r.jsx)(s.a.Fragment,null,0===f.length&&i.i18n.translate("xpack.serverlessSearch.indexManagementTab.documents.noMappings",{defaultMessage:"No documents found for index"}),(null==f?void 0:f.length)>0&&Object(r.jsx)(E,{dataTelemetryIdPrefix:"serverless-view-index-documents",docs:f,docsPerPage:null!==(n=c.pageSize)&&void 0!==n?n:10,isLoading:!1,mappings:null!==(o=null==b||null===(u=b.mappings)||void 0===u?void 0:u.properties)&&void 0!==o?o:{},meta:null!=x?x:w,onPaginate:e=>d({...c,pageIndex:e}),setDocsPerPage:e=>d({...c,pageSize:e})}))})};t.default=T},30:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(7);const s=()=>Object(a.useKibana)().services},34:function(e,t,n){"use strict";var a,s=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),o=[];function i(e){for(var t=-1,n=0;n<o.length;n++)if(o[n].identifier===e){t=n;break}return t}function r(e,t){for(var n={},a=[],s=0;s<e.length;s++){var r=e[s],l=t.base?r[0]+t.base:r[0],u=n[l]||0,c="".concat(l," ").concat(u);n[l]=u+1;var d=i(c),m={css:r[1],media:r[2],sourceMap:r[3]};-1!==d?(o[d].references++,o[d].updater(m)):o.push({identifier:c,updater:x(m,t),references:1}),a.push(c)}return a}function l(e){var t=document.createElement("style"),a=e.attributes||{};if(void 0===a.nonce){var o=n.nc;o&&(a.nonce=o)}if(Object.keys(a).forEach((function(e){t.setAttribute(e,a[e])})),"function"==typeof e.insert)e.insert(t);else{var i=s(e.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}return t}var u,c=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function d(e,t,n,a){var s=n?"":a.media?"@media ".concat(a.media," {").concat(a.css,"}"):a.css;if(e.styleSheet)e.styleSheet.cssText=c(t,s);else{var o=document.createTextNode(s),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(o,i[t]):e.appendChild(o)}}function m(e,t,n){var a=n.css,s=n.media,o=n.sourceMap;if(s?e.setAttribute("media",s):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}var j=null,p=0;function x(e,t){var n,a,s;if(t.singleton){var o=p++;n=j||(j=l(t)),a=d.bind(null,n,o,!1),s=d.bind(null,n,o,!0)}else n=l(t),a=m.bind(null,n,t),s=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else s()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===a&&(a=Boolean(window&&document&&document.all&&!window.atob)),a));var n=r(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var a=0;a<n.length;a++){var s=i(n[a]);o[s].references--}for(var l=r(e,t),u=0;u<n.length;u++){var c=i(n[u]);0===o[c].references&&(o[c].updater(),o.splice(c,1))}n=l}}}},35:function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,a,s,o=e[1]||"",i=e[3];if(!i)return o;if(t&&"function"==typeof btoa){var r=(n=i,a=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(s," */")),l=i.sources.map((function(e){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(e," */")}));return[o].concat(l).concat([r]).join("\n")}return[o].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,a){"string"==typeof e&&(e=[[null,e,""]]);var s={};if(a)for(var o=0;o<this.length;o++){var i=this[o][0];null!=i&&(s[i]=!0)}for(var r=0;r<e.length;r++){var l=[].concat(e[r]);a&&s[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},96:function(e,t,n){switch(window.__kbnThemeTag__){case"v8dark":return n(97);case"v8light":return n(99)}},97:function(e,t,n){var a=n(34),s=n(98);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);a(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},98:function(e,t,n){(t=n(35)(!1)).push([e.i,".resultField:nth-child(odd){background-color:#25262e}.resultField{padding:4px 8px}.resultField>.euiTableRowCell{border-bottom:none;border-top:none}.resultField>.euiTableRowCell>.euiTableCellContent{padding:4px}.resultExpandColumn{align-items:flex-start;border-left:1px solid #343741;height:100%;justify-content:center;padding:0 0 0 8px}.resultHeader{padding:0 8px 4px 0}.euiToken.resultField__token{align-items:center;display:flex;justify-content:flex-start}",""]),e.exports=t},99:function(e,t,n){var a=n(34),s=n(100);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);a(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}}}]);