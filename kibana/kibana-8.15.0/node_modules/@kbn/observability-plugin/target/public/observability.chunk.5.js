/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.observability_bundle_jsonpfunction=window.observability_bundle_jsonpfunction||[]).push([[5,11,14],{115:function(e,t,a){e.exports=a(60)(3419)},119:function(e,t,a){"use strict";a.r(t),a.d(t,"ObservabilityAlertSearchBar",(function(){return g}));var r=a(39),i=a(2),n=a.n(i),s=a(1),l=a(11),o=a(44);const u=[{id:o.c.status,label:o.c.label,value:o.c.query,"data-test-subj":"alert-status-filter-show-all-button"},{id:o.a.status,label:o.a.label,value:o.a.query,"data-test-subj":"alert-status-filter-active-button"},{id:o.f.status,label:o.f.label,value:o.f.query,"data-test-subj":"alert-status-filter-recovered-button"},{id:o.g.status,label:o.g.label,value:o.g.query,"data-test-subj":"alert-status-filter-untracked-button"}];function c({status:e,onChange:t}){return n.a.createElement(r.EuiButtonGroup,{legend:s.i18n.translate("xpack.observability.alerts.alertStatusFilter.legend",{defaultMessage:"Filter by"}),color:"primary",options:u,idSelected:e,onChange:e=>t(e)})}var d=a(19),p=a(46);const m=e=>o.b[e]?[{query:o.b[e],language:"kuery"}]:[],b=s.i18n.translate("xpack.observability.alerts.searchBar.invalidQueryTitle",{defaultMessage:"Invalid query string"}),E=[];function g({appName:e,defaultSearchQueries:t=o.d,onEsQueryChange:a,onKueryChange:s,onRangeFromChange:u,onRangeToChange:g,onStatusChange:f,onFiltersChange:v,showFilterBar:h=!1,filters:y=E,savedQuery:x,setSavedQuery:S,kuery:T,rangeFrom:O,rangeTo:I,services:{AlertsSearchBar:j,timeFilterService:k,useToasts:w,uiSettings:M},status:R}){const C=w(),L=Object(i.useCallback)((()=>S?S(void 0):null),[S]),F=Object(i.useCallback)((e=>{try{a(Object(p.a)({timeRange:{to:I,from:O},kuery:T,queries:[...m(e),...t],config:Object(l.getEsQueryConfig)(M)}))}catch(e){C.addError(e,{title:b}),s(o.e)}}),[a,I,O,T,t,M,C,s]);Object(i.useEffect)((()=>{F(R)}),[F,R]);const A=Object(i.useCallback)((()=>{try{a(Object(p.a)({timeRange:{to:I,from:O},kuery:T,queries:[...m(R),...t],filters:y,config:Object(l.getEsQueryConfig)(M)}))}catch(e){C.addError(e,{title:b}),s(o.e)}}),[t,y,T,a,s,O,I,R,M,C]);Object(i.useEffect)((()=>{A()}),[A]);const P=Object(i.useCallback)((e=>{L(),null==v||v(e)}),[L,v]);return n.a.createElement(r.EuiFlexGroup,{direction:"column",gutterSize:"s"},n.a.createElement(r.EuiFlexItem,null,n.a.createElement(j,{appName:e,featureIds:d.d,rangeFrom:O,rangeTo:I,showFilterBar:h,filters:y,onFiltersUpdated:P,savedQuery:x,onSavedQueryUpdated:S,onClearSavedQuery:L,query:T,onQuerySubmit:({dateRange:e,query:t},a)=>{a?(L(),s(null!=t?t:""),k.setTime(e),u(e.from),g(e.to)):A()}})),n.a.createElement(r.EuiFlexItem,null,n.a.createElement(r.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},n.a.createElement(r.EuiFlexItem,{grow:!1},n.a.createElement(c,{status:R,onChange:f})))))}t.default=g},137:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pipeable=t.pipe=void 0;var r=a(128);t.pipe=r.pipe,t.pipeable=function(e){var t={};return function(e){return"function"==typeof e.map}(e)&&(t.map=function(t){return function(a){return e.map(a,t)}}),function(e){return"function"==typeof e.contramap}(e)&&(t.contramap=function(t){return function(a){return e.contramap(a,t)}}),function(e){return"function"==typeof e.mapWithIndex}(e)&&(t.mapWithIndex=function(t){return function(a){return e.mapWithIndex(a,t)}}),function(e){return"function"==typeof e.ap}(e)&&(t.ap=function(t){return function(a){return e.ap(a,t)}},t.apFirst=function(t){return function(a){return e.ap(e.map(a,(function(e){return function(){return e}})),t)}},t.apSecond=function(t){return function(a){return e.ap(e.map(a,(function(){return function(e){return e}})),t)}}),function(e){return"function"==typeof e.chain}(e)&&(t.chain=function(t){return function(a){return e.chain(a,t)}},t.chainFirst=function(t){return function(a){return e.chain(a,(function(a){return e.map(t(a),(function(){return a}))}))}},t.flatten=function(t){return e.chain(t,r.identity)}),function(e){return"function"==typeof e.bimap}(e)&&(t.bimap=function(t,a){return function(r){return e.bimap(r,t,a)}},t.mapLeft=function(t){return function(a){return e.mapLeft(a,t)}}),function(e){return"function"==typeof e.extend}(e)&&(t.extend=function(t){return function(a){return e.extend(a,t)}},t.duplicate=function(t){return e.extend(t,r.identity)}),function(e){return"function"==typeof e.reduce}(e)&&(t.reduce=function(t,a){return function(r){return e.reduce(r,t,a)}},t.foldMap=function(t){var a=e.foldMap(t);return function(e){return function(t){return a(t,e)}}},t.reduceRight=function(t,a){return function(r){return e.reduceRight(r,t,a)}}),function(e){return"function"==typeof e.reduceWithIndex}(e)&&(t.reduceWithIndex=function(t,a){return function(r){return e.reduceWithIndex(r,t,a)}},t.foldMapWithIndex=function(t){var a=e.foldMapWithIndex(t);return function(e){return function(t){return a(t,e)}}},t.reduceRightWithIndex=function(t,a){return function(r){return e.reduceRightWithIndex(r,t,a)}}),function(e){return"function"==typeof e.alt}(e)&&(t.alt=function(t){return function(a){return e.alt(a,t)}}),function(e){return"function"==typeof e.compact}(e)&&(t.compact=e.compact,t.separate=e.separate),function(e){return"function"==typeof e.filter}(e)&&(t.filter=function(t){return function(a){return e.filter(a,t)}},t.filterMap=function(t){return function(a){return e.filterMap(a,t)}},t.partition=function(t){return function(a){return e.partition(a,t)}},t.partitionMap=function(t){return function(a){return e.partitionMap(a,t)}}),function(e){return"function"==typeof e.filterWithIndex}(e)&&(t.filterWithIndex=function(t){return function(a){return e.filterWithIndex(a,t)}},t.filterMapWithIndex=function(t){return function(a){return e.filterMapWithIndex(a,t)}},t.partitionWithIndex=function(t){return function(a){return e.partitionWithIndex(a,t)}},t.partitionMapWithIndex=function(t){return function(a){return e.partitionMapWithIndex(a,t)}}),function(e){return"function"==typeof e.promap}(e)&&(t.promap=function(t,a){return function(r){return e.promap(r,t,a)}}),function(e){return"function"==typeof e.compose}(e)&&(t.compose=function(t){return function(a){return e.compose(a,t)}}),function(e){return"function"==typeof e.throwError}(e)&&(t.fromOption=function(t){return function(a){return"None"===a._tag?e.throwError(t()):e.of(a.value)}},t.fromEither=function(t){return"Left"===t._tag?e.throwError(t.left):e.of(t.right)},t.fromPredicate=function(t,a){return function(r){return t(r)?e.of(r):e.throwError(a(r))}},t.filterOrElse=function(t,a){return function(r){return e.chain(r,(function(r){return t(r)?e.of(r):e.throwError(a(r))}))}}),t}},138:function(e,t,a){"use strict";a.r(t),a.d(t,"DatePicker",(function(){return o}));var r=a(39),i=a(2),n=a.n(i),s=a(105),l=a(93);function o({rangeFrom:e,rangeTo:t,refreshPaused:a,refreshInterval:o,width:u="restricted",onTimeRangeRefresh:c}){const{updateTimeRange:d,updateRefreshInterval:p}=Object(l.a)(),m=Object(s.b)(s.a.TIMEPICKER_QUICK_RANGES).map((({from:e,to:t,display:a})=>({start:e,end:t,label:a}))),b=Object(i.useCallback)((e=>{c&&c(e),d(e)}),[c,d]);return n.a.createElement(r.EuiSuperDatePicker,{start:e,end:t,onTimeChange:b,onRefresh:b,isPaused:a,refreshInterval:o,onRefreshChange:function({isPaused:e,refreshInterval:t}){p({isPaused:e,interval:t})},commonlyUsedRanges:m,width:u})}t.default=o},139:function(e,t,a){const r=a(140),{MAX_LENGTH:i,MAX_SAFE_INTEGER:n}=a(141),{safeRe:s,t:l}=a(142),o=a(161),{compareIdentifiers:u}=a(162);class SemVer{constructor(e,t){if(t=o(t),e instanceof SemVer){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>i)throw new TypeError(`version is longer than ${i} characters`);r("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const a=e.trim().match(t.loose?s[l.LOOSE]:s[l.FULL]);if(!a)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+a[1],this.minor=+a[2],this.patch=+a[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");a[4]?this.prerelease=a[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<n)return t}return e})):this.prerelease=[],this.build=a[5]?a[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof SemVer)){if("string"==typeof e&&e===this.version)return 0;e=new SemVer(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof SemVer||(e=new SemVer(e,this.options)),u(this.major,e.major)||u(this.minor,e.minor)||u(this.patch,e.patch)}comparePre(e){if(e instanceof SemVer||(e=new SemVer(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const a=this.prerelease[t],i=e.prerelease[t];if(r("prerelease compare",t,a,i),void 0===a&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===a)return-1;if(a!==i)return u(a,i)}while(++t)}compareBuild(e){e instanceof SemVer||(e=new SemVer(e,this.options));let t=0;do{const a=this.build[t],i=e.build[t];if(r("build compare",t,a,i),void 0===a&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===a)return-1;if(a!==i)return u(a,i)}while(++t)}inc(e,t,a){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,a);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,a);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,a),this.inc("pre",t,a);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,a),this.inc("pre",t,a);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(a)?1:0;if(!t&&!1===a)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let r=this.prerelease.length;for(;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);if(-1===r){if(t===this.prerelease.join(".")&&!1===a)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let r=[t,e];!1===a&&(r=[t]),0===u(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=r):this.prerelease=r}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=SemVer},140:function(e,t,a){(function(t){const a="object"==typeof t&&Object({IS_KIBANA_DISTRIBUTABLE:"true"})&&Object({IS_KIBANA_DISTRIBUTABLE:"true"}).NODE_DEBUG&&/\bsemver\b/i.test(Object({IS_KIBANA_DISTRIBUTABLE:"true"}).NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=a}).call(this,a(160))},141:function(e,t){const a=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:a,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},142:function(e,t,a){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:i,MAX_LENGTH:n}=a(141),s=a(140),l=(t=e.exports={}).re=[],o=t.safeRe=[],u=t.src=[],c=t.t={};let d=0;const p="[a-zA-Z0-9-]",m=[["\\s",1],["\\d",n],[p,i]],b=(e,t,a)=>{const r=(e=>{for(const[t,a]of m)e=e.split(`${t}*`).join(`${t}{0,${a}}`).split(`${t}+`).join(`${t}{1,${a}}`);return e})(t),i=d++;s(e,i,t),c[e]=i,u[i]=t,l[i]=new RegExp(t,a?"g":void 0),o[i]=new RegExp(r,a?"g":void 0)};b("NUMERICIDENTIFIER","0|[1-9]\\d*"),b("NUMERICIDENTIFIERLOOSE","\\d+"),b("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${p}*`),b("MAINVERSION",`(${u[c.NUMERICIDENTIFIER]})\\.(${u[c.NUMERICIDENTIFIER]})\\.(${u[c.NUMERICIDENTIFIER]})`),b("MAINVERSIONLOOSE",`(${u[c.NUMERICIDENTIFIERLOOSE]})\\.(${u[c.NUMERICIDENTIFIERLOOSE]})\\.(${u[c.NUMERICIDENTIFIERLOOSE]})`),b("PRERELEASEIDENTIFIER",`(?:${u[c.NUMERICIDENTIFIER]}|${u[c.NONNUMERICIDENTIFIER]})`),b("PRERELEASEIDENTIFIERLOOSE",`(?:${u[c.NUMERICIDENTIFIERLOOSE]}|${u[c.NONNUMERICIDENTIFIER]})`),b("PRERELEASE",`(?:-(${u[c.PRERELEASEIDENTIFIER]}(?:\\.${u[c.PRERELEASEIDENTIFIER]})*))`),b("PRERELEASELOOSE",`(?:-?(${u[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[c.PRERELEASEIDENTIFIERLOOSE]})*))`),b("BUILDIDENTIFIER",`${p}+`),b("BUILD",`(?:\\+(${u[c.BUILDIDENTIFIER]}(?:\\.${u[c.BUILDIDENTIFIER]})*))`),b("FULLPLAIN",`v?${u[c.MAINVERSION]}${u[c.PRERELEASE]}?${u[c.BUILD]}?`),b("FULL",`^${u[c.FULLPLAIN]}$`),b("LOOSEPLAIN",`[v=\\s]*${u[c.MAINVERSIONLOOSE]}${u[c.PRERELEASELOOSE]}?${u[c.BUILD]}?`),b("LOOSE",`^${u[c.LOOSEPLAIN]}$`),b("GTLT","((?:<|>)?=?)"),b("XRANGEIDENTIFIERLOOSE",`${u[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),b("XRANGEIDENTIFIER",`${u[c.NUMERICIDENTIFIER]}|x|X|\\*`),b("XRANGEPLAIN",`[v=\\s]*(${u[c.XRANGEIDENTIFIER]})(?:\\.(${u[c.XRANGEIDENTIFIER]})(?:\\.(${u[c.XRANGEIDENTIFIER]})(?:${u[c.PRERELEASE]})?${u[c.BUILD]}?)?)?`),b("XRANGEPLAINLOOSE",`[v=\\s]*(${u[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[c.XRANGEIDENTIFIERLOOSE]})(?:${u[c.PRERELEASELOOSE]})?${u[c.BUILD]}?)?)?`),b("XRANGE",`^${u[c.GTLT]}\\s*${u[c.XRANGEPLAIN]}$`),b("XRANGELOOSE",`^${u[c.GTLT]}\\s*${u[c.XRANGEPLAINLOOSE]}$`),b("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),b("COERCE",`${u[c.COERCEPLAIN]}(?:$|[^\\d])`),b("COERCEFULL",u[c.COERCEPLAIN]+`(?:${u[c.PRERELEASE]})?`+`(?:${u[c.BUILD]})?(?:$|[^\\d])`),b("COERCERTL",u[c.COERCE],!0),b("COERCERTLFULL",u[c.COERCEFULL],!0),b("LONETILDE","(?:~>?)"),b("TILDETRIM",`(\\s*)${u[c.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",b("TILDE",`^${u[c.LONETILDE]}${u[c.XRANGEPLAIN]}$`),b("TILDELOOSE",`^${u[c.LONETILDE]}${u[c.XRANGEPLAINLOOSE]}$`),b("LONECARET","(?:\\^)"),b("CARETTRIM",`(\\s*)${u[c.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",b("CARET",`^${u[c.LONECARET]}${u[c.XRANGEPLAIN]}$`),b("CARETLOOSE",`^${u[c.LONECARET]}${u[c.XRANGEPLAINLOOSE]}$`),b("COMPARATORLOOSE",`^${u[c.GTLT]}\\s*(${u[c.LOOSEPLAIN]})$|^$`),b("COMPARATOR",`^${u[c.GTLT]}\\s*(${u[c.FULLPLAIN]})$|^$`),b("COMPARATORTRIM",`(\\s*)${u[c.GTLT]}\\s*(${u[c.LOOSEPLAIN]}|${u[c.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",b("HYPHENRANGE",`^\\s*(${u[c.XRANGEPLAIN]})\\s+-\\s+(${u[c.XRANGEPLAIN]})\\s*$`),b("HYPHENRANGELOOSE",`^\\s*(${u[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[c.XRANGEPLAINLOOSE]})\\s*$`),b("STAR","(<|>)?=?\\s*\\*"),b("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),b("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},143:function(e,t,a){"use strict";e.exports=a(167)},144:function(e,t,a){"use strict";e.exports=a(174)},146:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return H}));var r=a(2),i=a.n(r),n=a(39),s=a(1);const l=s.i18n.translate("xpack.observability.ux.coreVitals.noData",{defaultMessage:"No data is available."}),o=s.i18n.translate("xpack.observability.ux.coreVitals.lcp",{defaultMessage:"Largest contentful paint"}),u=s.i18n.translate("xpack.observability.ux.coreVitals.inp",{defaultMessage:"Interaction to next paint"}),c=s.i18n.translate("xpack.observability.ux.coreVitals.cls",{defaultMessage:"Cumulative layout shift"}),d=s.i18n.translate("xpack.observability.ux.coreVitals.poor",{defaultMessage:"a poor"}),p=s.i18n.translate("xpack.observability.ux.coreVitals.good",{defaultMessage:"a good"}),m=s.i18n.translate("xpack.observability.ux.coreVitals.average",{defaultMessage:"an average"}),b=s.i18n.translate("xpack.observability.ux.coreVitals.legends.poor",{defaultMessage:"Poor"}),E=s.i18n.translate("xpack.observability.ux.coreVitals.legends.good",{defaultMessage:"Good"}),g=s.i18n.translate("xpack.observability.ux.coreVitals.legends.needsImprovement",{defaultMessage:"Needs improvement"}),f=s.i18n.translate("xpack.observability.ux.coreVitals.more",{defaultMessage:"more"}),v=s.i18n.translate("xpack.observability.ux.coreVitals.less",{defaultMessage:"less"}),h=s.i18n.translate("xpack.observability.ux.coreVitals.is",{defaultMessage:"is"}),y=s.i18n.translate("xpack.observability.ux.coreVitals.takes",{defaultMessage:"takes"}),x=s.i18n.translate("xpack.observability.ux.coreVitals.lcp.help",{defaultMessage:"Largest contentful paint measures loading performance. To provide a good user experience, LCP should occur within 2.5 seconds of when the page first starts loading."}),S=s.i18n.translate("xpack.observability.ux.coreVitals.inp.help",{defaultMessage:"INP assesses responsiveness using data from the Event Timing API. When an interaction causes a page to become unresponsive, that is a poor user experience. INP observes the latency of all interactions a user has made with the page, and reports a single value which all (or nearly all) interactions were below. A low INP means the page was consistently able to respond quickly to all—or the vast majority—of user interactions."}),T=s.i18n.translate("xpack.observability.ux.coreVitals.cls.help",{defaultMessage:"Cumulative Layout Shift (CLS): measures visual stability. To provide a good user experience, pages should maintain a CLS of less than 0.1."});var O=a(69),I=a.n(O),j=a(40),k=a(74),w=a(18);const M=I()(n.EuiHealth).withConfig({displayName:"PaletteLegend",componentId:"sc-qpt2wj-0"})(["&:hover{cursor:pointer;text-decoration:underline;}"]),R=I.a.span.withConfig({displayName:"StyledSpan",componentId:"sc-qpt2wj-1"})(["&:hover{background-color:",";}"],(e=>e.darkMode?k.euiDarkVars.euiColorLightestShade:k.euiLightVars.euiColorLightestShade));function C({ranks:e,title:t,onItemHover:a,thresholds:r,isCls:s}){const l=Object(w.useDarkMode)(!1),o=Object(n.euiPaletteForStatus)(3),u=[E,g,b];return i.a.createElement(n.EuiFlexGroup,{responsive:!1,gutterSize:"s"},o.map(((o,c)=>i.a.createElement(n.EuiFlexItem,{key:c,grow:!1,onMouseEnter:()=>{a(c)},onMouseLeave:()=>{a(null)}},i.a.createElement(n.EuiToolTip,{content:P(r,c,t,e[c],s),position:"bottom"},i.a.createElement(R,{darkMode:l},i.a.createElement(M,{color:o},i.a.createElement(n.EuiText,{size:"xs","data-test-subj":`${u[c]}-${null==e?void 0:e[c]}`},i.a.createElement(j.FormattedMessage,{id:"xpack.observability.ux.coreVitals.paletteLegend.rankPercentage",defaultMessage:"{labelsInd} ({ranksInd}%)",values:{labelsInd:u[c],ranksInd:null==e?void 0:e[c]}})))))))))}const L=I.a.div.withConfig({displayName:"ColoredSpan",componentId:"sc-bzugtk-0"})(["height:16px;width:100%;cursor:pointer;"]),F=(e,t,a,r)=>{let i=0===e||100===r,n=2===e||100===r;100===r&&(i=!0,n=!0);const s={backgroundColor:a,opacity:t?.3:1};let l="";return i&&(l="4px 0 0 4px"),n&&(l="0 4px 4px 0"),i&&n&&(l="4px"),s.borderRadius=l,s};function A({hexCode:e,inFocus:t,percentage:a,tooltip:r,position:s}){const l=F(s,t,e,a);return i.a.createElement(n.EuiFlexItem,{key:e,grow:!1,style:{width:a+"%"}},i.a.createElement(n.EuiToolTip,{content:r},i.a.createElement(L,{style:l})))}function P(e,t,a,r,i){const n=0===t,l=2===t,o=!n&&!l;return s.i18n.translate("xpack.observability.ux.dashboard.webVitals.palette.tooltip",{defaultMessage:"{percentage} % of users have {exp} experience because the {title} {isOrTakes} {moreOrLess} than {value}{averageMessage}.",values:{percentage:r,isOrTakes:i?h:y,title:null==a?void 0:a.toLowerCase(),exp:n?p:l?d:m,moreOrLess:l||o?f:v,value:n||o?e.good:e.bad,averageMessage:o?s.i18n.translate("xpack.observability.ux.coreVitals.averageMessage",{defaultMessage:" and less than {bad}",values:{bad:e.bad}}):""}})}function D({loading:e,title:t,value:a,thresholds:s,ranks:o=[100,0,0],isCls:u,helpLabel:c,dataTestSubj:d}){const p=Object(n.euiPaletteForStatus)(3),[m,b]=Object(r.useState)(null),E=o.indexOf(Math.max(...o));return a||e?i.a.createElement(i.a.Fragment,null,i.a.createElement(n.EuiStat,{"data-test-subj":d,"aria-label":`${t} ${a}`,titleSize:"s",title:null!=a?a:"",description:i.a.createElement(i.a.Fragment,null,t,i.a.createElement(n.EuiIconTip,{content:c,type:"questionInCircle"})),titleColor:p[E],isLoading:e}),i.a.createElement(n.EuiSpacer,{size:"s"}),i.a.createElement(n.EuiFlexGroup,{gutterSize:"none",alignItems:"flexStart",style:{maxWidth:350},responsive:!1},p.map(((e,a)=>i.a.createElement(A,{hexCode:e,key:e,position:a,inFocus:m!==a&&null!==m,percentage:o[a],tooltip:P(s,a,t,o[a],u)})))),i.a.createElement(n.EuiSpacer,{size:"s"}),i.a.createElement(C,{ranks:o,thresholds:s,title:t,onItemHover:e=>{b(e)},isCls:u})):i.a.createElement(n.EuiCard,{title:t,isDisabled:!0,description:l})}const N=s.i18n.translate("xpack.observability.ux.coreWebVitals",{defaultMessage:"Core web vitals"}),z=s.i18n.translate("xpack.observability.ux.coreWebVitals.browser.support",{defaultMessage:"browser support for core web vitals"});function _({loading:e,coreVitalPages:t,totalPageViews:a=0,displayTrafficMetric:l}){const[o,u]=Object(r.useState)(!1),[c,d]=Object(r.useState)(!1),p=s.i18n.translate("xpack.observability.ux.dashboard.webCoreVitals.helpAriaLabel",{defaultMessage:"help"});return i.a.createElement(n.EuiFlexGroup,{gutterSize:"none"},i.a.createElement(n.EuiFlexItem,null,i.a.createElement(n.EuiTitle,{size:"xs"},i.a.createElement("h3",null,N,i.a.createElement(n.EuiPopover,{isOpen:o,button:i.a.createElement(n.EuiButtonIcon,{"data-test-subj":"o11yWebCoreVitalsTitleButton","aria-label":p,onClick:()=>u(!0),color:"text",iconType:"questionInCircle"}),closePopover:()=>u(!1)},i.a.createElement("div",null,i.a.createElement(n.EuiText,null,i.a.createElement(j.FormattedMessage,{id:"xpack.observability.ux.dashboard.webCoreVitals.help",defaultMessage:"Learn more about"})," ",i.a.createElement(n.EuiLink,{"data-test-subj":"o11yWebCoreVitalsTitleLink",href:"https://web.dev/vitals/",external:!0,target:"_blank"},N))))))),l&&a>0&&i.a.createElement(n.EuiFlexItem,{grow:!1},e?i.a.createElement(n.EuiLoadingSpinner,null):i.a.createElement(n.EuiText,{size:"s"},i.a.createElement(j.FormattedMessage,{id:"xpack.observability.ux.dashboard.webCoreVitals.traffic",defaultMessage:"{trafficPerc} of the traffic represented",values:{trafficPerc:i.a.createElement("strong",null," ",((t||0)/a*100).toFixed(0),"%")}}),i.a.createElement(n.EuiPopover,{isOpen:c,button:i.a.createElement(n.EuiButtonIcon,{"data-test-subj":"o11yWebCoreVitalsTitleButton","aria-label":p,onClick:()=>d(!0),color:"text",iconType:"questionInCircle"}),closePopover:()=>d(!1)},i.a.createElement("div",null,i.a.createElement(n.EuiText,null,i.a.createElement(j.FormattedMessage,{id:"xpack.observability.ux.dashboard.webCoreVitals.browser.help",defaultMessage:"Learn more about"})," ",i.a.createElement(n.EuiLink,{"data-test-subj":"o11yWebCoreVitalsTitleLink",href:"https://github.com/GoogleChrome/web-vitals#browser-support",external:!0,target:"_blank"},z)))))))}const $=s.i18n.translate("xpack.observability.ux.coreWebVitals.service",{defaultMessage:"Service"}),B=s.i18n.translate("xpack.observability.ux.service.help",{defaultMessage:"The RUM service with the most traffic is selected"});function U({name:e}){return i.a.createElement(i.a.Fragment,null,i.a.createElement(n.EuiText,{size:"s"},$,i.a.createElement(n.EuiIconTip,{color:"text","aria-label":B,type:"questionInCircle",content:B})),i.a.createElement(n.EuiTitle,{size:"s"},i.a.createElement("h3",null,e)))}function G(e){return null==e?null:function(e,t="MicroSec"){const a=Number(null!=e?e:0)/("MicroSec"===t?1e3:1);return a<1e3?a.toFixed(0)+" ms":(a/1e3).toFixed(2)+" s"}(e,"ms")}const V={LCP:{good:"2.5s",bad:"4.0s"},INP:{good:"200ms",bad:"500ms"},CLS:{good:"0.1",bad:"0.25"}};function H({data:e,loading:t,displayServiceName:a,serviceName:i,totalPageViews:s,displayTrafficMetric:l=!1}){var d;const{lcp:p,lcpRanks:m,inp:b,inpRanks:E,cls:g,clsRanks:f,coreVitalPages:v}=e||{};return r.createElement(r.Fragment,null,r.createElement(_,{loading:t,coreVitalPages:v,totalPageViews:s,displayTrafficMetric:l}),r.createElement(n.EuiSpacer,{size:"s"}),a&&r.createElement(U,{name:i}),r.createElement(n.EuiSpacer,{size:"s"}),r.createElement(n.EuiFlexGroup,{gutterSize:"xl",justifyContent:"spaceBetween",wrap:!0},r.createElement(n.EuiFlexItem,{style:{flexBasis:380}},r.createElement(D,{title:o,value:G(p),ranks:m,loading:t,thresholds:V.LCP,helpLabel:x,dataTestSubj:"lcp-core-vital"})),r.createElement(n.EuiFlexItem,{style:{flexBasis:380}},r.createElement(D,{title:u,value:G(b),ranks:E,loading:t,thresholds:V.INP,helpLabel:S,dataTestSubj:"inp-core-vital"})),r.createElement(n.EuiFlexItem,{style:{flexBasis:380}},r.createElement(D,{title:c,value:null!==(d=null==g?void 0:g.toFixed(3))&&void 0!==d?d:null,ranks:f,loading:t,thresholds:V.CLS,isCls:!0,helpLabel:T,dataTestSubj:"cls-core-vital"}))))}},159:function(e,t,a){const r=a(139),i=a(163),{safeRe:n,t:s}=a(142);e.exports=(e,t)=>{if(e instanceof r)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let a=null;if((t=t||{}).rtl){const r=t.includePrerelease?n[s.COERCERTLFULL]:n[s.COERCERTL];let i;for(;(i=r.exec(e))&&(!a||a.index+a[0].length!==e.length);)a&&i.index+i[0].length===a.index+a[0].length||(a=i),r.lastIndex=i.index+i[1].length+i[2].length;r.lastIndex=-1}else a=e.match(t.includePrerelease?n[s.COERCEFULL]:n[s.COERCE]);if(null===a)return null;const l=a[2],o=a[3]||"0",u=a[4]||"0",c=t.includePrerelease&&a[5]?`-${a[5]}`:"",d=t.includePrerelease&&a[6]?`+${a[6]}`:"";return i(`${l}.${o}.${u}${c}${d}`,t)}},160:function(e,t,a){e.exports=a(60)(675)},161:function(e,t){const a=Object.freeze({loose:!0}),r=Object.freeze({});e.exports=e=>e?"object"!=typeof e?a:e:r},162:function(e,t){const a=/^[0-9]+$/,r=(e,t)=>{const r=a.test(e),i=a.test(t);return r&&i&&(e=+e,t=+t),e===t?0:r&&!i?-1:i&&!r?1:e<t?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},163:function(e,t,a){const r=a(139);e.exports=(e,t,a=!1)=>{if(e instanceof r)return e;try{return new r(e,t)}catch(e){if(!a)return null;throw e}}},164:function(e,t,a){"use strict";e.exports=a(165)},165:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(166);a(78),a(143),a(144);var i=r.default({key:"css"}),n=i.flush,s=i.hydrate,l=i.cx,o=i.merge,u=i.getRegisteredStyles,c=i.injectGlobal,d=i.keyframes,p=i.css,m=i.sheet,b=i.cache;t.cache=b,t.css=p,t.cx=l,t.flush=n,t.getRegisteredStyles=u,t.hydrate=s,t.injectGlobal=c,t.keyframes=d,t.merge=o,t.sheet=m},166:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(78),i=a(143),n=a(144);function s(e){return e&&e.__esModule?e:{default:e}}var l=s(r);function o(e,t){if(void 0===e.inserted[t.name])return e.insert("",t,e.sheet,!0)}function u(e,t,a){var r=[],i=n.getRegisteredStyles(e,r,a);return r.length<2?a:i+t(r)}var c=function e(t){for(var a="",r=0;r<t.length;r++){var i=t[r];if(null!=i){var n=void 0;switch(typeof i){case"boolean":break;case"object":if(Array.isArray(i))n=e(i);else for(var s in n="",i)i[s]&&s&&(n&&(n+=" "),n+=s);break;default:n=i}n&&(a&&(a+=" "),a+=n)}}return a};t.default=function(e){var t=l.default(e);t.sheet.speedy=function(e){this.isSpeedy=e},t.compat=!0;var a=function(){for(var e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];var s=i.serializeStyles(a,t.registered,void 0);return n.insertStyles(t,s,!1),t.key+"-"+s.name};return{css:a,cx:function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return u(t.registered,a,c(r))},injectGlobal:function(){for(var e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];var n=i.serializeStyles(a,t.registered);o(t,n)},keyframes:function(){for(var e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];var n=i.serializeStyles(a,t.registered),s="animation-"+n.name;return o(t,{name:n.name,styles:"@keyframes "+s+"{"+n.styles+"}"}),s},hydrate:function(e){e.forEach((function(e){t.inserted[e]=!0}))},flush:function(){t.registered={},t.inserted={},t.sheet.flush()},sheet:t.sheet,cache:t,getRegisteredStyles:n.getRegisteredStyles.bind(null,t.registered),merge:u.bind(null,t.registered,a)}}},167:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(168),i=a(170),n=a(172);function s(e){return e&&e.__esModule?e:{default:e}}var l=s(r),o=s(i),u=/[A-Z]|^ms/g,c=/_EMO_([^_]+?)_([^]*?)_EMO_/g,d=function(e){return 45===e.charCodeAt(1)},p=function(e){return null!=e&&"boolean"!=typeof e},m=s(n).default((function(e){return d(e)?e:e.replace(u,"-$&").toLowerCase()})),b=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(c,(function(e,t,a){return g={name:t,styles:a,next:g},t}))}return 1===o.default[e]||d(e)||"number"!=typeof t||0===t?t:t+"px"};function E(e,t,a){if(null==a)return"";if(void 0!==a.__emotion_styles)return a;switch(typeof a){case"boolean":return"";case"object":if(1===a.anim)return g={name:a.name,styles:a.styles,next:g},a.name;if(void 0!==a.styles){var r=a.next;if(void 0!==r)for(;void 0!==r;)g={name:r.name,styles:r.styles,next:g},r=r.next;return a.styles+";"}return function(e,t,a){var r="";if(Array.isArray(a))for(var i=0;i<a.length;i++)r+=E(e,t,a[i])+";";else for(var n in a){var s=a[n];if("object"!=typeof s)null!=t&&void 0!==t[s]?r+=n+"{"+t[s]+"}":p(s)&&(r+=m(n)+":"+b(n,s)+";");else if(!Array.isArray(s)||"string"!=typeof s[0]||null!=t&&void 0!==t[s[0]]){var l=E(e,t,s);switch(n){case"animation":case"animationName":r+=m(n)+":"+l+";";break;default:r+=n+"{"+l+"}"}}else for(var o=0;o<s.length;o++)p(s[o])&&(r+=m(n)+":"+b(n,s[o])+";")}return r}(e,t,a);case"function":if(void 0!==e){var i=g,n=a(e);return g=i,E(e,t,n)}}if(null==t)return a;var s=t[a];return void 0!==s?s:a}var g,f=/label:\s*([^\s;\n{]+)\s*(;|$)/g;t.serializeStyles=function(e,t,a){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";g=void 0;var n=e[0];null==n||void 0===n.raw?(r=!1,i+=E(a,t,n)):i+=n[0];for(var s=1;s<e.length;s++)i+=E(a,t,e[s]),r&&(i+=n[s]);f.lastIndex=0;for(var o,u="";null!==(o=f.exec(i));)u+="-"+o[1];return{name:l.default(i)+u,styles:i,next:g}}},168:function(e,t,a){"use strict";e.exports=a(169)},169:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t,a=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),a=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&a)+(59797*(a>>>16)<<16);switch(i){case 3:a^=(255&e.charCodeAt(r+2))<<16;case 2:a^=(255&e.charCodeAt(r+1))<<8;case 1:a=1540483477*(65535&(a^=255&e.charCodeAt(r)))+(59797*(a>>>16)<<16)}return(((a=1540483477*(65535&(a^=a>>>13))+(59797*(a>>>16)<<16))^a>>>15)>>>0).toString(36)}},170:function(e,t,a){"use strict";e.exports=a(171)},171:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},172:function(e,t,a){"use strict";e.exports=a(173)},173:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=Object.create(null);return function(a){return void 0===t[a]&&(t[a]=e(a)),t[a]}}},174:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="undefined"!=typeof document,i=function(e,t,a){var i=e.key+"-"+t.name;(!1===a||!1===r&&void 0!==e.compat)&&void 0===e.registered[i]&&(e.registered[i]=t.styles)};t.getRegisteredStyles=function(e,t,a){var r="";return a.split(" ").forEach((function(a){void 0!==e[a]?t.push(e[a]+";"):r+=a+" "})),r},t.insertStyles=function(e,t,a){i(e,t,a);var n=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var s="",l=t;do{var o=e.insert(t===l?"."+n:"",l,e.sheet,!0);r||void 0===o||(s+=o),l=l.next}while(void 0!==l);if(!r&&0!==s.length)return s}},t.registerStyles=i},175:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(61),i=a(176),n=r.__importDefault(a(178));t.default=function(e,t){n.default(e,t,i.isDeepEqual)}},176:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDeepEqual=t.off=t.on=t.isClient=void 0;var r=a(61).__importDefault(a(177));t.isClient="object"==typeof window,t.on=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return e.addEventListener.apply(e,t)},t.off=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return e.removeEventListener.apply(e,t)},t.isDeepEqual=r.default},177:function(e,t,a){"use strict";e.exports=function e(t,a){if(t===a)return!0;if(t&&a&&"object"==typeof t&&"object"==typeof a){if(t.constructor!==a.constructor)return!1;var r,i,n;if(Array.isArray(t)){if((r=t.length)!=a.length)return!1;for(i=r;0!=i--;)if(!e(t[i],a[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===a.source&&t.flags===a.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===a.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===a.toString();if((r=(n=Object.keys(t)).length)!==Object.keys(a).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(a,n[i]))return!1;for(i=r;0!=i--;){var s=n[i];if(!("_owner"===s&&t.$$typeof||e(t[s],a[s])))return!1}return!0}return t!=t&&a!=a}},178:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(2);t.default=function(e,t,a){var i=r.useRef(void 0);i.current&&a(t,i.current)||(i.current=t),r.useEffect(e,i.current)}},194:function(e,t,a){"use strict";a.r(t),a.d(t,"renderApp",(function(){return mr}));var r=a(2),i=a.n(r),n=a(77),s=a.n(n),l=a(42),o=a(1),u=a(13),c=a(37),d=a(82),p=a(91),m=a.n(p);const b={services:{}},E=Object(r.createContext)(b);var g=a(175),f=a.n(g),v=a(68);const h=({children:e,component:t,render:a,...n})=>{const s=Object(r.useMemo)((()=>{if(t)return e=>Object(v.jsx)(i.a.Fragment,null,Object(v.jsx)(y,null),Object(v.jsx)(t,e))}),[t]);if(s)return Object(v.jsx)(c.Route,m()({},n,{component:s}));if(a||"function"==typeof e){const t="function"==typeof e?e:a;return Object(v.jsx)(c.Route,m()({},n,{render:e=>Object(v.jsx)(i.a.Fragment,null,Object(v.jsx)(y,null),t(e))}))}return Object(v.jsx)(c.Route,n,Object(v.jsx)(y,null),e)},y=()=>{const{executionContext:e}=Object(r.useContext)(E).services,t=Object(c.useRouteMatch)();return function(e,t){f()((()=>(null==e||e.set(t),()=>{null==e||e.clear()})),[t])}(e,{type:"application",page:t.path,id:Object.keys(t.params).length>0?JSON.stringify(t.params):void 0}),null},x=({legacySwitch:e=!0,children:t})=>{const a=Object(c.useRouteMatch)();return e?Object(v.jsx)(c.Switch,null,t):Object(v.jsx)(d.Routes,null,r.Children.map(t,(e=>{if(i.a.isValidElement(e)&&e.type===h){var r;const n=Object(u.replace)(null==e?void 0:e.props.path,a.url+"/",""),s="function"==typeof(null==e?void 0:e.props.children)?null==e?void 0:e.props.children:null==e?void 0:e.props.render;return Object(v.jsx)(d.Route,{path:n,element:Object(v.jsx)(i.a.Fragment,null,Object(v.jsx)(y,null),(null==e||null===(r=e.props)||void 0===r?void 0:r.component)&&Object(v.jsx)(e.props.component,null)||s&&s()||t)})}return e})))},S=({children:e,...t})=>Object(v.jsx)(c.Router,t,Object(v.jsx)(d.CompatRouter,null,e));var T=a(54),O=a(81),I=a(151),j=a(18),k=a(97),w=a.n(k),M=a(39),R=a(80),C=a(135),L=a(147),F=a(110);const A=({theme:{theme$:e},euiTheme:t,children:a,...i})=>{const n=w()(e,F.a),s=Object(r.useMemo)((()=>Object(F.b)(n)),[n]);return Object(v.jsx)(M.EuiThemeProvider,m()({colorMode:s,theme:t},i),a)},P=({theme:e,children:t,...a})=>Object(R.useIsNestedEuiProvider)()?Object(v.jsx)(A,m()({theme:e},a),t):(Object(C.emitEuiProviderWarning)("KibanaThemeProvider requires a parent KibanaRenderContextProvider.  Check your React tree and ensure that they are wrapped in a KibanaRenderContextProvider."),Object(v.jsx)(L.a,{theme:e,globalStyles:!1},t)),D=i.a.createContext(null),N=({children:e,...t})=>{const{navigateToUrl:a,currentAppId:r}=t;return Object(v.jsx)(D.Provider,{value:{navigateToUrl:a,currentAppId:r}},e)},z=({children:e,coreStart:t})=>{const{navigateToUrl:a,currentAppId$:r}=t.application,i=w()(r,void 0);return Object(v.jsx)(D.Provider,{value:{navigateToUrl:a,currentAppId:i}},e)},_={name:"h42ud6",styles:"display:inherit;height:inherit;width:inherit;flex:1;flex-flow:column nowrap"},$=({children:e,navigateToUrl:t,currentAppId:a,...i})=>{const n=Object(r.useRef)(null),s=Object(r.useCallback)((e=>(({event:e,container:t,navigateToUrl:a,currentAppId:r})=>{if(!t||!r)return;const i=((e,t)=>{let a=e;do{var r,i;if("a"===(null===(r=a)||void 0===r?void 0:r.tagName.toLowerCase()))return a;const e=null===(i=a)||void 0===i?void 0:i.parentElement;if(!e||e===document.body||e===t)break;a=e}while(parent||parent!==document.body||parent!==t)})(e.target,t);if(!i)return;const n=i.href,s=""===i.target||"_self"===i.target,l=0===e.button;n&&s&&l&&!e.defaultPrevented&&!(e=>e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)(e)&&(e.preventDefault(),a(i.href))})({event:e,currentAppId:a,navigateToUrl:t,container:n.current})),[a,t]);return Object(v.jsx)("div",m()({onClick:s,ref:n,css:_,"data-test-subj":"kbnRedirectAppLink"},i),e)},B=({children:e,...t})=>Object(v.jsx)($,m()({},function(){const e=Object(r.useContext)(D);if(!e)throw new Error("RedirectAppLinksContext is missing.  Ensure your component or React root is wrapped with RedirectAppLinksProvider.");return e}(),t),e),U=({children:e,...t})=>{if(void 0!==t.coreStart){const{coreStart:a,...r}=t,i=Object(v.jsx)(B,r,e);return Object(v.jsx)(z,{coreStart:a},i)}const{navigateToUrl:a,currentAppId:r,...i}=t,n=Object(v.jsx)(B,i,e);return Object(v.jsx)(N,{currentAppId:r,navigateToUrl:a},n)};var G=a(20),V=a(125),H=a(47),W=a(28),q=a(72),X=a(12),Q=a(41),K=a(99),Y=a(149),J=a(6),Z=a(92),ee=a(49),te=a(96);const ae=()=>Object(W.a)().services.notifications.toasts;var re=a(74);const ie=O.euiStyled.div`
  border-right: 1px solid ${re.euiThemeVars.euiColorLightShade};
  height: 100%;
`,ne=Object(O.euiStyled)(M.EuiStat)`
  .euiText {
    line-height: 1;
  }
`,se=({condition:e,wrap:t,children:a})=>e?t(a):a,le=o.i18n.translate("xpack.observability.alerts.ruleStats.disabled",{defaultMessage:"Disabled"}),oe=o.i18n.translate("xpack.observability.alerts.ruleStats.muted",{defaultMessage:"Snoozed"}),ue=o.i18n.translate("xpack.observability.alerts.ruleStats.errors",{defaultMessage:"Errors"}),ce=(e,t,a,r)=>{const n=async(e,t)=>{const a=((e,t)=>"snoozed"===t?e.snoozed+e.muted:e[t])(e,t);if(a>0)switch(t){case"error":await(null==r?void 0:r.navigate({lastResponse:["failed"]},{replace:!1}));break;case"snoozed":case"disabled":await(null==r?void 0:r.navigate({status:[t]},{replace:!1}))}},s=i.a.createElement(se,{condition:e.disabled>0,wrap:t=>i.a.createElement(M.EuiButtonEmpty,{"aria-label":le,"data-test-subj":"o11yDisabledStatsComponentButton",onClick:()=>n(e,"disabled")},t)},i.a.createElement(ne,{title:e.disabled,description:le,color:"primary",titleColor:e.disabled>0?"primary":"",titleSize:"xs",isLoading:a,"data-test-subj":"statDisabled"})),l=i.a.createElement(se,{condition:e.muted+e.snoozed>0,wrap:t=>i.a.createElement(M.EuiButtonEmpty,{"aria-label":oe,"data-test-subj":"o11ySnoozedStatsComponentButton",onClick:()=>n(e,"snoozed")},t)},i.a.createElement(ne,{title:e.muted+e.snoozed,description:oe,color:"primary",titleColor:e.muted+e.snoozed>0?"primary":"",titleSize:"xs",isLoading:a,"data-test-subj":"statMuted"})),u=i.a.createElement(se,{condition:e.error>0,wrap:t=>i.a.createElement(M.EuiButtonEmpty,{"aria-label":ue,"data-test-subj":"o11yErrorStatsComponentButton",onClick:()=>n(e,"error")},t)},i.a.createElement(ne,{title:e.error,description:ue,color:"primary",titleColor:e.error>0?"primary":"",titleSize:"xs",isLoading:a,"data-test-subj":"statErrors"}));return[i.a.createElement(ne,{title:e.total,description:o.i18n.translate("xpack.observability.alerts.ruleStats.ruleCount",{defaultMessage:"Rule count"}),color:"primary",titleSize:"xs",isLoading:a,"data-test-subj":"statRuleCount"}),s,l,u,i.a.createElement(ie,null),i.a.createElement(M.EuiButtonEmpty,{"data-test-subj":"manageRulesPageButton",href:t},o.i18n.translate("xpack.observability.alerts.manageRulesButtonLabel",{defaultMessage:"Manage Rules"}))].reverse()};var de=a(119);const pe={rangeFrom:"now-24h",rangeTo:"now",kuery:"",status:a(44).c.status,filters:[]},me=Object(G.createStateContainer)(pe,{setRangeFrom:e=>t=>({...e,rangeFrom:t}),setRangeTo:e=>t=>({...e,rangeTo:t}),setKuery:e=>t=>({...e,kuery:t}),setStatus:e=>t=>({...e,status:t}),setFilters:e=>t=>({...e,filters:t}),setSavedQueryId:e=>t=>({...e,savedQueryId:t})}),{Provider:be,useContainer:Ee}=Object(G.createStateContainerReactHelpers)();var ge=a(95),fe=a(137),ve=a(75),he=a(23),ye=a(56),xe=a.n(ye);const Se=new ve.Type("datemath",ve.string.is,((e,t)=>Object(fe.pipe)(ve.string.validate(e,t),Object(ge.chain)((e=>function(e){const t=xe.a.parse(e);return!(!t||!t.isValid())}(e)?ve.success(e):ve.failure(e,t))))),String);var Te=a(19);const Oe=ve.partial({rangeFrom:Se,rangeTo:Se,kuery:ve.string,status:ve.union([ve.literal(he.a),ve.literal(he.b),ve.literal(Te.b)])});function Ie(e,{replace:t}={}){const[a,i]=Object(r.useState)(),n=Ee();!function(e,t,a=!0){const i=Object(c.useHistory)(),n=function(){const{services:e}=Object(j.useKibana)();return e.data.query.timefilter.timefilter}();Object(r.useEffect)((()=>{const r=Object(G.createKbnUrlStateStorage)({history:i,useHash:!1,useHashQuery:!1}),{start:s,stop:l}=function(e,t,a,r=!0){return Object(G.syncState)({storageKey:a,stateContainer:{...e,set:t=>{e.set({...pe,...t})}},stateStorage:{...t,set:(e,a)=>t.set(e,a,{replace:r})}})}(e,r,t,a);return function(e,t,a,r){const i=Oe.decode(a.get(r)),n=Object(ge.isRight)(i)?Object(fe.pipe)(i).right:{},s=e.getTime(),l=e.isTimeTouched()?{rangeFrom:s.from,rangeTo:s.to}:{},o={...pe,...l,...n};t.set(o),a.set(r,o,{replace:!0}),a.kbnUrlControls.flush()}(n,e,r,t),s(),l}),[e,i,n,t,a])}(n,e,t);const{setRangeFrom:s,setRangeTo:l,setKuery:o,setStatus:u,setFilters:d,setSavedQueryId:p}=n.transitions,{rangeFrom:m,rangeTo:b,kuery:E,status:g,filters:f,savedQueryId:v}=Object(G.useContainerSelector)(n,(e=>e));return Object(r.useEffect)((()=>{var e,t,r;a?a.id!==v&&(p(a.id),"string"==typeof a.attributes.query.query&&o(a.attributes.query.query),null!==(e=a.attributes.filters)&&void 0!==e&&e.length&&d(a.attributes.filters),null!==(t=a.attributes.timefilter)&&void 0!==t&&t.from&&s(a.attributes.timefilter.from),null!==(r=a.attributes.timefilter)&&void 0!==r&&r.to&&s(a.attributes.timefilter.to)):p(void 0)}),[a,v,d,o,s,p,n]),{kuery:E,onKueryChange:o,onRangeFromChange:s,onRangeToChange:l,onStatusChange:u,onFiltersChange:d,filters:f,rangeFrom:m,rangeTo:b,status:g,savedQuery:a,setSavedQuery:i}}var je=a(50),ke=a(45),we=a(100);function Me(){const e=Object(te.a)(),{triggersActionsUi:{ruleTypeRegistry:t}}=Object(W.a)().services,{ruleTypesState:{data:a}}=Object(q.useLoadRuleTypesQuery)({filteredRuleTypes:e});return Object(r.useMemo)((()=>{const e=t.list();return Array.from(a).map((([t,a])=>{var r;return{id:t,name:a.name,description:(null===(r=e.find((e=>e.id===t)))||void 0===r?void 0:r.description)||""}}))}),[t,a])}const Re="alerts-search-bar-o11y",Ce=50,Le="xpack.observability.alerts.alert.table",Fe="60s",Ae="YYYY-MM-DD HH:mm";function Pe(){const e=Object(W.a)().services,{charts:t,data:{query:{timefilter:{timefilter:a}}},http:n,notifications:{toasts:s},observabilityAIAssistant:l,share:{url:{locators:u}},triggersActionsUi:{alertsTableConfigurationRegistry:c,getAlertsSearchBar:d,getAlertsStateTable:p,getAlertSummaryWidget:b},uiSettings:E}=e,{ObservabilityPageTemplate:g,observabilityRuleTypeRegistry:f}=Object(Z.a)(),v=Ie(Te.a,{replace:!1}),h=Object(te.a)(),{setScreenContext:y}=(null==l?void 0:l.service)||{},x=Me();Object(r.useEffect)((()=>null==y?void 0:y({data:x.map((e=>({name:e.id,value:`${e.name} ${e.description}`,description:`An available rule is ${e.name}.`}))),starterPrompts:[{title:o.i18n.translate("xpack.observability.app.starterPrompts.explainRules.title",{defaultMessage:"Explain"}),prompt:o.i18n.translate("xpack.observability.app.starterPrompts.explainRules.prompt",{defaultMessage:"Can you explain the rule types that are available?"}),icon:"sparkles"}]})),[h,x,y]);const S={baseTheme:t.theme.useChartsBaseTheme(),onBrushEnd:e=>{const{x:t}=e;if(t){const[e,a]=t;v.onRangeFromChange(new Date(e).toISOString()),v.onRangeToChange(new Date(a).toISOString())}}},[T,O]=Object(r.useState)(!1),[I,j]=Object(r.useState)({total:0,disabled:0,muted:0,error:0,snoozed:0}),[k,w]=Object(r.useState)(),R=Object(ee.a)(),C=Object(r.useMemo)((()=>Object(je.b)({from:v.rangeFrom,to:v.rangeTo},R)),[v.rangeFrom,v.rangeTo,R]),L=Object(r.useMemo)((()=>Object(ke.b)({from:v.rangeFrom,to:v.rangeTo},(null==C?void 0:C.intervalString)||Fe,(null==C?void 0:C.dateFormat)||Ae)),[v.rangeFrom,v.rangeTo,C,k]);Object(Q.useBreadcrumbs)([{text:o.i18n.translate("xpack.observability.breadcrumbs.alertsLinkText",{defaultMessage:"Alerts"})}]),Object(r.useEffect)((()=>{!async function(){O(!0);try{const e=await Object(q.loadRuleAggregations)({http:n,typesFilter:h,filterConsumers:Te.d}),{ruleExecutionStatus:t,ruleMutedStatus:a,ruleEnabledStatus:r,ruleSnoozedStatus:i}=e;if(t&&a&&r&&i){const e=Object.values(t).reduce(((e,t)=>e+t),0),{disabled:n}=r,{muted:s}=a,{error:l}=t,{snoozed:o}=i;j({...I,total:e,disabled:n,muted:s,error:l,snoozed:o})}O(!1)}catch(e){s.addDanger({title:o.i18n.translate("xpack.observability.alerts.ruleStats.loadError",{defaultMessage:"Unable to load rule stats"})}),O(!1)}}()}),[]);const F=n.basePath.prepend("/app/observability/alerts/rules");return i.a.createElement(be,{value:me},i.a.createElement(g,{"data-test-subj":"alertsPageWithData",pageHeader:{pageTitle:i.a.createElement(i.a.Fragment,null,o.i18n.translate("xpack.observability.alertsTitle",{defaultMessage:"Alerts"})," "),rightSideItems:ce(I,F,T,u.get(J.rulesLocatorID))}},i.a.createElement(we.a,null),i.a.createElement(M.EuiFlexGroup,{direction:"column",gutterSize:"m"},i.a.createElement(M.EuiFlexItem,null,i.a.createElement(K.c,{kibanaServices:e,categories:[Y.a.observability.id]})),i.a.createElement(M.EuiFlexItem,null,i.a.createElement(de.ObservabilityAlertSearchBar,m()({},v,{appName:Re,onEsQueryChange:w,showFilterBar:!0,services:{timeFilterService:a,AlertsSearchBar:d,useToasts:ae,uiSettings:E}}))),i.a.createElement(M.EuiFlexItem,null,i.a.createElement(b,{featureIds:Te.d,filter:k,fullSize:!0,timeRange:L,chartProps:S})),i.a.createElement(M.EuiFlexItem,null,k&&i.a.createElement(p,{alertsTableConfigurationRegistry:c,configurationId:X.a.OBSERVABILITY,id:Le,featureIds:Te.d,query:k,showAlertStatusWithFlapping:!0,pageSize:Ce,cellContext:{observabilityRuleTypeRegistry:f}})))))}function De(){return i.a.createElement(be,{value:me},i.a.createElement(Pe,null))}var Ne=a(117),ze=a(126),_e=a(104),$e=a(127);const Be=e=>{const t=Object(r.useMemo)((()=>Ve(e)),[e]),a=Object(r.useCallback)((e=>e.length>0),[]),{loading:i,data:n}=Object($e.a)({paramsForApiCall:t,initialDataState:void 0,executeApiCall:Ue,shouldExecuteApiCall:a});return[i,null!=n?n:{}]},Ue=async(e,t,a)=>{try{const r=await a.post(`${_e.a}/find`,{body:JSON.stringify({query:{ids:{values:e}},track_total_hits:!1,size:1e4}),signal:t.signal});if(r)return Ge(r)}catch(e){}},Ge=e=>e.hits.hits.reduce(((e,{_id:t,_index:a,_source:r})=>({...e,[t]:{_id:t,_index:a,...r}})),{}),Ve=e=>e.filter((e=>!Object(u.isEmpty)(e)));var He=a(33),We=a(8);function qe({permissions:e}){const{application:{navigateToUrl:t},cases:{ui:{getCases:a}},http:{basePath:{prepend:n}}}=Object(W.a)().services,{observabilityRuleTypeRegistry:s}=Object(Z.a)(),[l,o]=Object(r.useState)(""),[u,c]=Object(ze.a)(l);return i.a.createElement(i.a.Fragment,null,i.a.createElement(a,{basePath:We.c,features:{alerts:{sync:!1,isExperimental:!1}},owner:[J.observabilityFeatureId],permissions:e,ruleDetailsNavigation:{href:e=>n(We.r.observability.ruleDetails(e||"")),onClick:(e,a)=>{const r=n(We.r.observability.ruleDetails(e||""));return null!=a&&a.preventDefault(),t(r)}},showAlertDetails:e=>{o(e)},useFetchAlertData:Be}),c&&""!==l&&!u?i.a.createElement(r.Suspense,{fallback:null},i.a.createElement(He.LazyAlertsFlyout,{alert:c.formatted,rawAlert:c.raw,observabilityRuleTypeRegistry:s,onClose:()=>o("")})):null)}var Xe=a(69),Qe=a.n(Xe);const Ke=i.a.memo((({actions:e,message:t,title:a,...n})=>{const s=Object.keys(e),l=Object(r.useMemo)((()=>Object.values(e).filter((e=>e.label&&e.url)).map((({icon:e,label:t,target:a,url:r,descriptionTitle:n,description:l,onClick:o,fill:u=!0},c)=>null!=n||null!=l?i.a.createElement(M.EuiFlexItem,{grow:!1,style:{maxWidth:283},key:`emptyPageAction-${s[c]}`},i.a.createElement(M.EuiCard,{title:null!=n&&n,description:null!=l&&l,footer:i.a.createElement(M.EuiButton,{href:r,onClick:o,iconType:e,target:a,fill:u,"data-test-subj":`emptyPageAction-${s[c]}`},t)})):i.a.createElement(M.EuiFlexItem,{grow:!1,style:{maxWidth:283},key:`emptyPageAction-${s[c]}`},i.a.createElement(M.EuiButton,{href:r,onClick:o,iconType:e,target:a,"data-test-subj":`emptyPageAction-${s[c]}`},t))))),[e,s]);return i.a.createElement(Je,m()({iconType:"casesApp",title:i.a.createElement("h2",null,a),body:t&&i.a.createElement("p",null,t),actions:i.a.createElement(M.EuiFlexGroup,{justifyContent:"center"},l)},n))}));Ke.displayName="EmptyPageComponent";const Ye=i.a.memo(Ke);Ye.displayName="EmptyPage";var Je=Qe()(M.EuiEmptyPrompt).withConfig({displayName:"_StyledEuiEmptyPrompt",componentId:"sc-puqxp6-0"})(["align-self:center;max-width:60em;"]);const Ze=i.a.memo((()=>{const{docLinks:e}=Object(W.a)().services,t=Object(r.useMemo)((()=>({savedObject:{icon:"documents",label:o.i18n.translate("xpack.observability.cases.caseView.goToDocumentationButton",{defaultMessage:"View documentation"}),target:"_blank",url:`${e.ELASTIC_WEBSITE_URL}guide/en/security/${e.DOC_LINK_VERSION}s`}})),[e]);return i.a.createElement(Ye,{actions:t,"data-test-subj":"noFeaturePermissions",message:o.i18n.translate("xpack.observability.cases.caseFeatureNoPermissionsMessage",{defaultMessage:"To view cases, you must have privileges for the Cases feature in the Kibana space. For more information, contact your Kibana administrator."}),title:o.i18n.translate("xpack.observability.cases.caseFeatureNoPermissionsTitle",{defaultMessage:"Kibana feature privileges required"})})}));function et(){const{ObservabilityPageTemplate:e}=Object(Z.a)(),{canUseCases:t}=Object(W.a)().services.cases.helpers,a=t([J.observabilityFeatureId]);return a.read?i.a.createElement(e,{isPageDataLoaded:!0,"data-test-subj":"o11yCasesPage"},i.a.createElement(we.a,null),i.a.createElement(qe,{permissions:a})):i.a.createElement(Ze,null)}Ze.displayName="CaseSavedObjectNoPermissions";var tt=a(53),at=a(84);const rt="alert",it="ux",nt="uptime",st="infra_logs",lt="infra_metrics",ot="universal_profiling";var ut=a(43),ct=a(93);const dt=["apm","uptime","logs","infrastructure","alerts"],pt=Object(r.createContext)({}),mt=["apm",nt,st,lt,it,rt,ot],bt={alert:o.i18n.translate("xpack.observability.overview.alertsLabel",{defaultMessage:"Alerts"}),apm:o.i18n.translate("xpack.observability.overview.apmLabel",{defaultMessage:"APM"}),infra_logs:o.i18n.translate("xpack.observability.overview.logsLabel",{defaultMessage:"Logs"}),infra_metrics:o.i18n.translate("xpack.observability.overview.metricsLabel",{defaultMessage:"Metrics"}),universal_profiling:o.i18n.translate("xpack.observability.overview.profilingLabel",{defaultMessage:"Profiling"}),uptime:o.i18n.translate("xpack.observability.overview.uptimeLabel",{defaultMessage:"Uptime"}),ux:o.i18n.translate("xpack.observability.overview.uxLabel",{defaultMessage:"UX"})};function Et({children:e}){const{http:t}=Object(W.a)().services,[a,n]=Object(r.useState)(""),{absoluteStart:s,absoluteEnd:l}=Object(ct.a)(),[o,c]=Object(r.useState)({});Object(r.useEffect)((()=>{Object(at.asyncForEach)(mt,(async e=>{var t,a,r,i,n;try{const o=({hasData:t,indices:a,serviceName:r})=>{c((i=>({...i,[e]:{hasData:t,...r?{serviceName:r}:{},...a?{indices:a}:{},status:Q.FETCH_STATUS.SUCCESS}})))};switch(e){case it:const u={absoluteTime:{start:s,end:l}},c=await(null===(t=Object(ut.a)(e))||void 0===t?void 0:t.hasData(u));o({hasData:null==c?void 0:c.hasData,indices:null==c?void 0:c.indices,serviceName:null==c?void 0:c.serviceName});break;case nt:const d=await(null===(a=Object(ut.a)(e))||void 0===a?void 0:a.hasData());o({hasData:null==d?void 0:d.hasData,indices:null==d?void 0:d.indices});break;case"apm":const p=await(null===(r=Object(ut.a)(e))||void 0===r?void 0:r.hasData());o({hasData:null==p?void 0:p.hasData,indices:null==p?void 0:p.indices});break;case st:const m=await(null===(i=Object(ut.a)(e))||void 0===i?void 0:i.hasData());o({hasData:null==m?void 0:m.hasData,indices:null==m?void 0:m.indices});break;case lt:const b=await(null===(n=Object(ut.a)(e))||void 0===n?void 0:n.hasData());o({hasData:null==b?void 0:b.hasData,indices:null==b?void 0:b.indices});break;case ot:o({hasData:!1})}}catch(t){c((t=>({...t,[e]:{hasData:void 0,status:Q.FETCH_STATUS.FAILURE}})))}}))}),[]),Object(r.useEffect)((()=>{!async function(){try{const e=await async function({http:e}){try{const{data:t=[]}=await e.get("/api/alerts/_find",{query:{page:1,per_page:20}})||{};return t.filter((({consumer:e})=>dt.includes(e)))}catch(e){throw console.error("Error while fetching alerts",e),e}}({http:t});c((t=>({...t,[rt]:{hasData:e.length>0,status:Q.FETCH_STATUS.SUCCESS}})))}catch(e){c((e=>({...e,[rt]:{hasData:void 0,status:Q.FETCH_STATUS.FAILURE}})))}}()}),[a,t]);const d=mt.every((e=>{var t;const a=null===(t=o[e])||void 0===t?void 0:t.status;return void 0!==a&&a!==Q.FETCH_STATUS.LOADING})),p=Object.keys(o).some((e=>{var t;return!0===(null===(t=o[e])||void 0===t?void 0:t.hasData)}));return i.a.createElement(pt.Provider,{value:{hasDataMap:o,hasAnyData:Object(u.isEmpty)(o)?void 0:p,isAllRequestsComplete:d,forceUpdate:a,onRefreshTimeRange:()=>{n(Object(u.uniqueId)())}},children:e})}function gt(){return Object(r.useContext)(pt)}function ft(){const{hasDataMap:e,isAllRequestsComplete:t}=gt(),{application:{navigateToUrl:a,navigateToApp:n},http:{basePath:s},share:{url:l}}=Object(W.a)().services;return Object(r.useEffect)((()=>{if(t){const{apm:t,infra_logs:r}=e,i=null==t?void 0:t.hasData;if(null==r?void 0:r.hasData){const e=l.locators.get(tt.a);null==e||e.navigate({})}else a(i?s.prepend("/app/apm/services"):s.prepend("/app/observabilityOnboarding"))}}),[s,e,t,n,a,l.locators]),i.a.createElement(i.a.Fragment,null)}function vt(){const{ObservabilityPageTemplate:e}=Object(Z.a)();return i.a.createElement(e,{pageSectionProps:{alignment:"center"},showSolutionNav:!1},i.a.createElement(M.EuiFlexGroup,null,i.a.createElement(M.EuiFlexItem,{grow:!1},i.a.createElement(M.EuiLoadingSpinner,{size:"xl"})),i.a.createElement(M.EuiFlexItem,{grow:!1,style:{justifyContent:"center"}},i.a.createElement(M.EuiText,null,ht))))}const ht=o.i18n.translate("xpack.observability.overview.loadingObservability",{defaultMessage:"Loading Observability"});var yt=a(26),xt=a(46),St=a(40);function Tt({id:e,title:t,modules:a,addLink:n,addTitle:s,goToAppTitle:l,goToAppLink:o}){const{application:u}=Object(W.a)().services,c=Object(Q.useUiTracker)({app:"observability-overview"}),d=Object(r.useCallback)((()=>{c({metric:`guided_setup_add_integrations_${e}`}),u.navigateToUrl(n)}),[n,u,c,e]);return i.a.createElement(M.EuiPanel,{color:"plain",hasBorder:!0},i.a.createElement(M.EuiFlexGroup,{justifyContent:"spaceBetween"},i.a.createElement(M.EuiFlexItem,null,i.a.createElement("div",null,i.a.createElement(M.EuiIcon,{type:"checkInCircleFilled",color:"success",className:"eui-displayInline eui-alignMiddle",style:{marginRight:8}}),i.a.createElement(M.EuiTitle,{size:"xs",className:"eui-displayInline eui-alignMiddle"},i.a.createElement("h2",null,t)))),i.a.createElement(M.EuiFlexItem,{grow:!1},i.a.createElement(M.EuiButtonEmpty,{"data-test-subj":"o11yCompletedStatusBoxButton",size:"s",iconType:"plusInCircle",flush:"right",onClick:d},s))),i.a.createElement(M.EuiFlexGroup,null,i.a.createElement(M.EuiFlexItem,null,i.a.createElement(St.FormattedMessage,{id:"xpack.observability.status.dataAvailable",defaultMessage:"Data is available."}))),i.a.createElement(M.EuiFlexGroup,{alignItems:"baseline",gutterSize:"s",style:{marginTop:8},role:"list"},a.map((e=>i.a.createElement(M.EuiFlexItem,{role:"listitem",key:e.name},i.a.createElement(M.EuiBadge,{color:e.hasData?"success":"hollow",iconType:"check",iconSide:"left"},e.name))))),i.a.createElement(M.EuiFlexGroup,null,i.a.createElement(M.EuiFlexItem,null,i.a.createElement(M.EuiButton,{"data-test-subj":"o11yCompletedStatusBoxButton",color:"primary",href:o},l))))}function Ot({id:e,title:t,description:a,learnMoreLink:n,addTitle:s,addLink:l}){const{application:o}=Object(W.a)().services,u=Object(Q.useUiTracker)({app:"observability-overview"}),c=Object(r.useCallback)((()=>{u({metric:`guided_setup_add_data_${e}`}),o.navigateToUrl(l)}),[e,u,o,l]);return i.a.createElement(M.EuiPanel,{color:"warning",hasBorder:!0},i.a.createElement(M.EuiFlexGroup,{justifyContent:"spaceBetween"},i.a.createElement(M.EuiFlexItem,null,i.a.createElement("div",null,i.a.createElement(M.EuiIcon,{type:"minusInCircleFilled",color:"warning",className:"eui-displayInline eui-alignMiddle",style:{marginRight:8}}),i.a.createElement(M.EuiTitle,{size:"xs",className:"eui-displayInline eui-alignMiddle"},i.a.createElement("h2",null,t))))),i.a.createElement(M.EuiFlexGroup,null,i.a.createElement(M.EuiFlexItem,null,i.a.createElement(M.EuiText,{size:"s"},a))),i.a.createElement(M.EuiFlexGroup,{alignItems:"center"},i.a.createElement(M.EuiFlexItem,{grow:!1},i.a.createElement(M.EuiButton,{"data-test-subj":"o11yEmptyStatusBoxButton",color:"primary",onClick:c,fill:!0},s)),i.a.createElement(M.EuiFlexItem,{grow:!1},i.a.createElement(M.EuiLink,{"data-test-subj":"o11yEmptyStatusBoxLearnMoreLink",color:"primary",href:n,target:"_blank"},i.a.createElement(St.FormattedMessage,{id:"xpack.observability.status.learnMoreButton",defaultMessage:"Learn more"})))))}const It=(e,t)=>e.weight-t.weight;function jt({boxes:e}){const t=e.filter((e=>e.hasData)).sort(It),a=e.filter((e=>!e.hasData)).sort(It);return i.a.createElement(M.EuiFlexGroup,{direction:"column"},a.length>0&&i.a.createElement(i.a.Fragment,null,i.a.createElement(M.EuiFlexItem,null,i.a.createElement(M.EuiTitle,{size:"xs"},i.a.createElement("h2",null,i.a.createElement(St.FormattedMessage,{id:"xpack.observability.status.recommendedSteps",defaultMessage:"Recommended next steps"})))),a.map((e=>i.a.createElement(M.EuiFlexItem,{key:e.id,"data-test-id":`box-${e.id}`},i.a.createElement(Ot,e))))),a.length>0&&t.length>0&&i.a.createElement(M.EuiHorizontalRule,null),t.length>0&&i.a.createElement(i.a.Fragment,null,i.a.createElement(M.EuiFlexItem,null,i.a.createElement(M.EuiTitle,{size:"xs"},i.a.createElement("h2",null,i.a.createElement(St.FormattedMessage,{id:"xpack.observability.status.dataAvailableTitle",defaultMessage:"Data available for"})))),t.map((e=>i.a.createElement(M.EuiFlexItem,{key:e.id,"data-test-subj":`box-${e.id}`},i.a.createElement(Tt,e))))))}const kt=(e,t)=>[{id:"infra_logs",title:o.i18n.translate("xpack.observability.statusVisualization.logs.title",{defaultMessage:"Logs"}),description:o.i18n.translate("xpack.observability.statusVisualization.logs.description",{defaultMessage:"Fast, easy, and scalable centralized log monitoring with out-of-the-box support for common data sources."}),addTitle:o.i18n.translate("xpack.observability.statusVisualization.logs.link",{defaultMessage:"Add integrations"}),addLink:e.basePath.prepend("/app/integrations/browse?q=logs"),learnMoreLink:t.links.observability.monitorLogs,goToAppTitle:o.i18n.translate("xpack.observability.statusVisualization.logs.goToAppTitle",{defaultMessage:"Show log stream"}),goToAppLink:e.basePath.prepend("/app/logs/stream"),weight:1},{id:"apm",title:o.i18n.translate("xpack.observability.statusVisualization.apm.title",{defaultMessage:"APM"}),description:o.i18n.translate("xpack.observability.statusVisualization.apm.description",{defaultMessage:"Get deeper visibility into your applications with extensive support for popular languages, OpenTelemetry, and distributed tracing."}),addTitle:o.i18n.translate("xpack.observability.statusVisualization.apm.link",{defaultMessage:"Add data"}),addLink:e.basePath.prepend("/app/apm/tutorial"),learnMoreLink:t.links.apm.overview,goToAppTitle:o.i18n.translate("xpack.observability.statusVisualization.apm.goToAppTitle",{defaultMessage:"Show services inventory"}),goToAppLink:e.basePath.prepend("/app/apm/services"),weight:3},{id:"infra_metrics",title:o.i18n.translate("xpack.observability.statusVisualization.metrics.title",{defaultMessage:"Infrastructure"}),description:o.i18n.translate("xpack.observability.statusVisualization.metrics.description",{defaultMessage:"Stream, visualize, and analyze your infrastructure metrics."}),addTitle:o.i18n.translate("xpack.observability.statusVisualization.metrics.link",{defaultMessage:"Add integrations"}),addLink:e.basePath.prepend("/app/integrations/browse?q=metrics"),learnMoreLink:t.links.observability.analyzeMetrics,goToAppTitle:o.i18n.translate("xpack.observability.statusVisualization.metrics.goToAppTitle",{defaultMessage:"Show inventory"}),goToAppLink:e.basePath.prepend("/app/metrics/inventory"),weight:2},{id:"uptime",title:o.i18n.translate("xpack.observability.statusVisualization.uptime.title",{defaultMessage:"Uptime"}),description:o.i18n.translate("xpack.observability.statusVisualization.uptime.description",{defaultMessage:"Proactively monitor the availability and functionality of user journeys."}),addTitle:o.i18n.translate("xpack.observability.statusVisualization.uptime.link",{defaultMessage:"Add monitors"}),addLink:e.basePath.prepend("/app/home#/tutorial/uptimeMonitors"),learnMoreLink:t.links.observability.monitorUptimeSynthetics,goToAppTitle:o.i18n.translate("xpack.observability.statusVisualization.uptime.goToAppTitle",{defaultMessage:"Show monitors "}),goToAppLink:e.basePath.prepend("/app/uptime"),weight:4},{id:"ux",title:o.i18n.translate("xpack.observability.statusVisualization.ux.title",{defaultMessage:"User Experience"}),description:o.i18n.translate("xpack.observability.statusVisualization.ux.description",{defaultMessage:"Collect, measure, and analyze performance data that reflects real-world user experiences."}),addTitle:o.i18n.translate("xpack.observability.statusVisualization.ux.link",{defaultMessage:"Add data"}),addLink:e.basePath.prepend("/app/apm/tutorial"),learnMoreLink:t.links.observability.userExperience,goToAppTitle:o.i18n.translate("xpack.observability.statusVisualization.ux.goToAppTitle",{defaultMessage:"Show dashboard"}),goToAppLink:e.basePath.prepend("/app/ux"),weight:5},{id:"alert",title:o.i18n.translate("xpack.observability.statusVisualization.alert.title",{defaultMessage:"Alerting"}),description:o.i18n.translate("xpack.observability.statusVisualization.alert.description",{defaultMessage:"Detect complex conditions in Observability and trigger actions when those conditions are met."}),addTitle:o.i18n.translate("xpack.observability.statusVisualization.alert.link",{defaultMessage:"Create rules"}),addLink:e.basePath.prepend(We.r.observability.rules),learnMoreLink:t.links.observability.createAlerts,goToAppTitle:o.i18n.translate("xpack.observability.statusVisualization.alert.goToAppTitle",{defaultMessage:"Show alerts"}),goToAppLink:e.basePath.prepend("/app/observability/alerts"),weight:6}];function wt(){const{http:e,docLinks:t}=Object(W.a)().services,{hasDataMap:a}=gt(),r=kt(e,t).map((e=>{var t,r;return{...e,hasData:null!==(t=null===(r=a[e.id])||void 0===r?void 0:r.hasData)&&void 0!==t&&t,modules:[]}}));return i.a.createElement(jt,{boxes:r})}function Mt({onClose:e}){return i.a.createElement(M.EuiFlyout,{ownFocus:!0,"aria-labelledby":"statusVisualizationFlyoutTitle",className:"oblt__flyout",size:"s",onClose:e},i.a.createElement(M.EuiFlyoutHeader,{hasBorder:!0},i.a.createElement(M.EuiTitle,{size:"m"},i.a.createElement("h2",{id:"statusVisualizationFlyoutTitle","data-test-subj":"statusVisualizationFlyoutTitle"},i.a.createElement(St.FormattedMessage,{id:"xpack.observability.overview.statusVisualizationFlyoutTitle",defaultMessage:"Data assistant"}))),i.a.createElement(M.EuiSpacer,{size:"s"}),i.a.createElement(M.EuiText,{size:"s"},i.a.createElement("p",null,i.a.createElement(St.FormattedMessage,{id:"xpack.observability.overview.statusVisualizationFlyoutDescription",defaultMessage:"Track your progress towards adding observability integrations and features."})))),i.a.createElement(M.EuiFlyoutBody,null,i.a.createElement(wt,null)))}var Rt=a(70),Ct=a(115),Lt=a(24),Ft=a.n(Lt),At=a(5),Pt=a.n(At);function Dt(){return i.a.createElement(M.EuiFlexGroup,{justifyContent:"center",alignItems:"center"},i.a.createElement(M.EuiFlexItem,{grow:!1},i.a.createElement(M.EuiText,{color:"subdued"},o.i18n.translate("xpack.observability.section.errorPanel",{defaultMessage:"An error happened when trying to fetch data. Please try again"}))))}function Nt(){return i.a.createElement(M.EuiBetaBadge,{label:o.i18n.translate("xpack.observability.experimentalBadgeLabel",{defaultMessage:"Technical preview"}),tooltipContent:o.i18n.translate("xpack.observability.experimentalBadgeDescription",{defaultMessage:"This functionality is in technical preview and may be changed or removed completely in a future release. Elastic will work to fix any issues, but features in technical preview are not subject to the support SLA of official GA features."})})}function zt({title:e,appLink:t,children:a,hasError:r,initialIsOpen:n=!0,showExperimentalBadge:s=!1}){const{http:l}=Object(W.a)().services,o=Object(M.useGeneratedHtmlId)({prefix:"euiAccordion"});return i.a.createElement(M.EuiPanel,{color:"subdued"},i.a.createElement(M.EuiAccordion,{initialIsOpen:n,id:o,buttonContentClassName:"accordion-button","data-test-subj":`accordion-${e}`,buttonContent:i.a.createElement(i.a.Fragment,null,i.a.createElement(M.EuiFlexGroup,{gutterSize:"s",alignItems:"center",responsive:!1},i.a.createElement(M.EuiFlexItem,{grow:!1},i.a.createElement(M.EuiTitle,{size:"xs"},i.a.createElement("h5",null,e))),s&&i.a.createElement(M.EuiFlexItem,{grow:!1},i.a.createElement(Nt,null)))),extraAction:(null==t?void 0:t.href)&&i.a.createElement(M.EuiButtonEmpty,{"data-test-subj":"o11ySectionContainerButton",iconType:"sortRight",size:"xs",color:"text",href:l.basePath.prepend(t.href)},t.label)},i.a.createElement(i.a.Fragment,null,i.a.createElement(M.EuiSpacer,{size:"s"}),i.a.createElement(M.EuiPanel,{hasBorder:!0},r?i.a.createElement(Dt,null):i.a.createElement(i.a.Fragment,null,a)))))}const _t=120;function $t({isInitialLoad:e,children:t,iconSize:a="l",height:r=_t}){return e?i.a.createElement("div",{"data-test-subj":"loading",style:{height:r,display:"flex",alignItems:"center",justifyContent:"center"}},i.a.createElement(M.EuiLoadingChart,{size:a})):i.a.createElement(Rt.Chart,{size:{height:r}},t)}const Bt=Qe()(M.EuiStat).withConfig({displayName:"Stat",componentId:"sc-8f6wat-0"})([".euiStat__title{color:",";}"],(e=>e.color)),Ut="--";function Gt(e){const{description:t=Ut,title:a=Ut,...r}=e;return i.a.createElement(Bt,m()({description:t,title:a,titleSize:"s"},r))}var Vt=a(38);const Ht=({x:e,history:t})=>{if(e){const a=e[0],r=e[1],i=Object(Vt.b)(t.location.search),n={rangeFrom:new Date(a).toISOString(),rangeTo:new Date(r).toISOString()};t.push({...t.location,search:Object(Vt.a)({...i,...n})})}};function Wt({bucketSize:e}){var t;const a=Object(r.useContext)(Xe.ThemeContext),n=Object(Q.useChartThemes)(),s=Object(c.useHistory)(),{forceUpdate:l,hasDataMap:u}=gt(),{relativeStart:d,relativeEnd:p,absoluteStart:b,absoluteEnd:E,lastUpdated:g}=Object(ct.a)(),{data:f,status:v}=Object(Q.useFetcher)((()=>{var t;if(e&&b&&E)return null===(t=Object(ut.a)("apm"))||void 0===t?void 0:t.fetchData({absoluteTime:{start:b,end:E},relativeTime:{start:d,end:p},...e})}),[e,d,p,b,E,l,g]);if(null===(t=u.apm)||void 0===t||!t.hasData)return null;const{appLink:h,stats:y,series:x}=f||{},S=Pt.a.utc(b).valueOf(),T=Pt.a.utc(E).valueOf(),O=null!=e&&e.dateFormat?Object(Ct.timeFormatter)(null==e?void 0:e.dateFormat):Object(Rt.niceTimeFormatter)([S,T]),I=v===Q.FETCH_STATUS.LOADING,j=a.eui.euiColorVis1;return i.a.createElement(zt,{title:o.i18n.translate("xpack.observability.overview.apm.title",{defaultMessage:"Services"}),appLink:{href:h,label:o.i18n.translate("xpack.observability.overview.apm.appLink",{defaultMessage:"Show service inventory"})},hasError:v===Q.FETCH_STATUS.FAILURE},i.a.createElement(M.EuiFlexGroup,null,i.a.createElement(M.EuiFlexItem,{grow:!1},i.a.createElement(Gt,{title:Ft()(null==y?void 0:y.services.value).format("0a"),description:o.i18n.translate("xpack.observability.overview.apm.services",{defaultMessage:"Services"}),isLoading:I})),i.a.createElement(M.EuiFlexItem,{grow:!1},i.a.createElement(Gt,{title:`${k=null==y?void 0:y.transactions.value,k&&0!==k?k<=.1?"< 0.1":k>1e3?Ft()(k).format("0.00a"):Ft()(k).format("0,0.0"):"0"} tpm`,description:i.a.createElement(M.EuiToolTip,{content:o.i18n.translate("xpack.observability.overview.apm.throughputTip",{defaultMessage:'Values are calculated for transactions with type "Request" or "page-load". If neither are available, values reflect the top transaction type.'})},i.a.createElement(i.a.Fragment,null,o.i18n.translate("xpack.observability.overview.apm.throughput",{defaultMessage:"Throughput"})," ",i.a.createElement(M.EuiIcon,{size:"s",color:"subdued",type:"questionInCircle",className:"eui-alignCenter"}))),isLoading:I,color:j}))),i.a.createElement($t,{isInitialLoad:I&&!f},i.a.createElement(Rt.Settings,m()({onBrushEnd:e=>Ht({x:e.x,history:s})},n,{showLegend:!1,xDomain:{min:S,max:T},locale:o.i18n.getLocale()})),(null==x?void 0:x.transactions.coordinates)&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Rt.BarSeries,{id:"transactions",name:"Transactions",data:null==x?void 0:x.transactions.coordinates,xScaleType:Rt.ScaleType.Time,yScaleType:Rt.ScaleType.Linear,xAccessor:"x",yAccessors:["y"],color:j}),i.a.createElement(Rt.Axis,{id:"y-axis",position:Rt.Position.Left,gridLine:{visible:!0},tickFormat:e=>`${function(e){return Ft()(e).format("0.00a")}(e)} tpm`}),i.a.createElement(Rt.Axis,{id:"x-axis",position:Rt.Position.Bottom,tickFormat:O}))));var k}function qt(e){const{value:t,type:a}=e;switch(a){case"bytesPerSecond":return`${Ft()(t).format("0.0b")}/s`;case"number":return Ft()(t).format("0a");case"percent":return Ft()(t).format("0.0%")}}function Xt({bucketSize:e}){var t;const a=Object(c.useHistory)(),n=Object(Q.useChartThemes)(),{forceUpdate:s,hasDataMap:l}=gt(),{relativeStart:d,relativeEnd:p,absoluteStart:b,absoluteEnd:E,lastUpdated:g}=Object(ct.a)(),{data:f,status:v}=Object(Q.useFetcher)((()=>{var t;if(e&&b&&E)return null===(t=Object(ut.a)("infra_logs"))||void 0===t?void 0:t.fetchData({absoluteTime:{start:b,end:E},relativeTime:{start:d,end:p},...e})}),[e,d,p,b,E,s,g]);if(null===(t=l.infra_logs)||void 0===t||!t.hasData)return null;const h=Pt.a.utc(b).valueOf(),y=Pt.a.utc(E).valueOf(),x=null!=e&&e.dateFormat?Object(Ct.timeFormatter)(null==e?void 0:e.dateFormat):Object(Rt.niceTimeFormatter)([h,y]),{appLink:S,stats:T,series:O}=f||{},I=function(e){if(!e)return{};const t=Object(M.euiPaletteColorBlind)({rotations:Math.ceil(Object.keys(e).length/10)});return Object.keys(e).reduce(((e,a,r)=>(e[a]=t[r],e)),{})}(O),j=v===Q.FETCH_STATUS.LOADING;return i.a.createElement(zt,{title:o.i18n.translate("xpack.observability.overview.logs.title",{defaultMessage:"Log Events"}),appLink:{href:S,label:o.i18n.translate("xpack.observability.overview.logs.appLink",{defaultMessage:"Show log stream"})},hasError:v===Q.FETCH_STATUS.FAILURE},i.a.createElement(M.EuiTitle,{size:"xxs"},i.a.createElement("h4",null,o.i18n.translate("xpack.observability.overview.logs.subtitle",{defaultMessage:"Logs rate per minute"}))),i.a.createElement(M.EuiSpacer,{size:"s"}),i.a.createElement(M.EuiFlexGroup,null,!T||Object(u.isEmpty)(T)?i.a.createElement(M.EuiFlexItem,{grow:!1},i.a.createElement(Gt,{isLoading:j})):Object.keys(T).map((e=>{const t=T[e];return i.a.createElement(M.EuiFlexItem,{grow:!1,key:e},i.a.createElement(Gt,{title:qt(t),description:t.label,isLoading:j,color:I[e]}))}))),i.a.createElement($t,{isInitialLoad:j&&!f},i.a.createElement(Rt.Settings,m()({onBrushEnd:e=>Ht({x:e.x,history:a})},n,{showLegend:!0,legendPosition:Rt.Position.Right,xDomain:{min:h,max:y},locale:o.i18n.getLocale()})),O&&Object.keys(O).map((e=>{const t=O[e],a=t.coordinates.map((e=>({...e,g:t.label})));return i.a.createElement(r.Fragment,{key:e},i.a.createElement(Rt.BarSeries,{id:e,xScaleType:Rt.ScaleType.Time,yScaleType:Rt.ScaleType.Linear,xAccessor:"x",yAccessors:["y"],stackAccessors:["x"],splitSeriesAccessors:["g"],data:a,color:I[e]}),i.a.createElement(Rt.Axis,{id:"x-axis",position:Rt.Position.Bottom,showOverlappingTicks:!1,showOverlappingLabels:!1,tickFormat:x}),i.a.createElement(Rt.Axis,{id:"y-axis",gridLine:{visible:!0},position:Rt.Position.Left,tickFormat:e=>Ft()(e).format("0a")}))}))))}function Qt({name:e,id:t,timerange:a}){const r=`../../app/metrics/link-to/host-detail/${t}?from=${a.from}&to=${a.to}`;return i.a.createElement(i.a.Fragment,null,i.a.createElement("a",{href:r},e))}const Kt=3600,Yt=86400,Jt=e=>e<60?`${Math.floor(e)}s`:e<Kt?`${Math.floor(e/60)}m ${Math.floor(e%60)}s`:e<Yt?`${Math.floor(e/Kt)}h ${Math.floor(e%Kt/60)}m`:`${Math.floor(e/Yt)}d ${Math.floor(e%Yt/Kt)}h`,Zt=()=>{const{charts:e}=Object(W.a)().services;return{baseTheme:e.theme.useChartsBaseTheme(),sparklineTheme:e.theme.useSparklineOverrides()}};function ea({id:e,formatter:t,value:a,timeseries:r,color:n}){var s,l;const{baseTheme:u,sparklineTheme:c}=Zt(),d=null!==(s=null===(l=u.colors)||void 0===l?void 0:l.vizColors)&&void 0!==s?s:[];return a?i.a.createElement(M.EuiFlexGroup,{gutterSize:"m",responsive:!1},i.a.createElement(M.EuiFlexItem,{grow:!1},i.a.createElement(Rt.Chart,{size:{height:18,width:40}},i.a.createElement(Rt.Tooltip,{type:Rt.TooltipType.None}),i.a.createElement(Rt.Settings,{baseTheme:u,theme:c,showLegend:!1,locale:o.i18n.getLocale()}),i.a.createElement(Rt.AreaSeries,{id:e,data:r,xAccessor:"timestamp",yAccessors:[e],color:d[n]||"#006BB4"}))),i.a.createElement(M.EuiFlexItem,{grow:!1,style:{whiteSpace:"nowrap"}},t(a))):i.a.createElement(M.EuiTextColor,{color:"subdued"},i.a.createElement(M.EuiIcon,{type:"visLine"})," ",i.a.createElement(St.FormattedMessage,{id:"xpack.observability.metricWithSparkline.nATextColorLabel",defaultMessage:"N/A"}))}const ta=7,aa=1,ra=0,ia=3,na=e=>null===e?"":Ft()(e).format("0[.0]%"),sa=e=>null===e?"":Ft()(e).format("0[.0]"),la=e=>null===e?"":Ft()(e).format("0b")+"/s";function oa({bucketSize:e}){var t,a;const{forceUpdate:n,hasDataMap:s}=gt(),{relativeStart:l,relativeEnd:u,absoluteStart:c,absoluteEnd:d,lastUpdated:p}=Object(ct.a)(),[m,b]=Object(r.useState)("asc"),[E,g]=Object(r.useState)("uptime"),[f,v]=Object(r.useState)(null),{data:h,status:y}=Object(Q.useFetcher)((()=>{var t;if(e&&c&&d)return null===(t=Object(ut.a)("infra_metrics"))||void 0===t?void 0:t.fetchData({absoluteTime:{start:c,end:d},relativeTime:{start:l,end:u},...e})}),[e,l,u,c,d,n,p]),x=Object(r.useCallback)((({sort:e})=>{if(e){const{field:t,direction:a}=e;g(t),b(a),h&&(async()=>{const e=await h.sort(t,a);v(e||null)})()}}),[h,g,b]);if(null===(t=s.infra_metrics)||void 0===t||!t.hasData)return null;const S=y===Q.FETCH_STATUS.LOADING,T=S&&!h,O=[{field:"uptime",name:o.i18n.translate("xpack.observability.overview.metrics.colunms.uptime",{defaultMessage:"Uptime"}),sortable:!0,width:"80px",render:e=>null==e?"N/A":Jt(e/1e3)},{field:"name",name:o.i18n.translate("xpack.observability.overview.metrics.colunms.hostname",{defaultMessage:"Hostname"}),sortable:!0,truncateText:!0,isExpander:!0,textOnly:!0,render:(e,t)=>i.a.createElement(Qt,{id:t.id,name:e,timerange:{from:c,to:d}})},{field:"cpu",name:o.i18n.translate("xpack.observability.overview.metrics.colunms.cpu",{defaultMessage:"CPU %"}),sortable:!0,render:(e,t)=>i.a.createElement(ea,{id:"cpu",value:e,formatter:na,timeseries:t.timeseries,color:ta})},{field:"load",name:o.i18n.translate("xpack.observability.overview.metrics.colunms.load15",{defaultMessage:"Load 15"}),sortable:!0,render:(e,t)=>i.a.createElement(ea,{id:"load",value:e,formatter:sa,timeseries:t.timeseries,color:aa})},{field:"rx",name:"RX",sortable:!0,render:(e,t)=>i.a.createElement(ea,{id:"rx",value:e,formatter:la,timeseries:t.timeseries,color:ra})},{field:"tx",name:"TX",sortable:!0,render:(e,t)=>i.a.createElement(ea,{id:"tx",value:e,formatter:la,timeseries:t.timeseries,color:ia})}],I={sort:{field:E,direction:m}},j=f||h,{appLink:k}=h||{};return i.a.createElement(zt,{title:o.i18n.translate("xpack.observability.overview.metrics.title",{defaultMessage:"Hosts"}),appLink:{href:k,label:o.i18n.translate("xpack.observability.overview.metrics.appLink",{defaultMessage:"Show inventory"})},hasError:y===Q.FETCH_STATUS.FAILURE},T?i.a.createElement("div",{"data-test-subj":"loading",style:{height:240,display:"flex",alignItems:"center",justifyContent:"center"}},i.a.createElement(M.EuiLoadingChart,{size:"l"})):i.a.createElement(M.EuiBasicTable,{onChange:x,sorting:I,items:null!==(a=null==j?void 0:j.series)&&void 0!==a?a:[],columns:O,loading:S}))}function ua({bucketSize:e}){var t;const a=Object(r.useContext)(Xe.ThemeContext),n=Object(Q.useChartThemes)(),s=Object(c.useHistory)(),{forceUpdate:l,hasDataMap:u}=gt(),{relativeStart:d,relativeEnd:p,absoluteStart:b,absoluteEnd:E,lastUpdated:g}=Object(ct.a)(),f=Object(Q.useTimeZone)(),{data:v,status:h}=Object(Q.useFetcher)((()=>{var t;if(e&&b&&E)return null===(t=Object(ut.a)("uptime"))||void 0===t?void 0:t.fetchData({absoluteTime:{start:b,end:E},relativeTime:{start:d,end:p},timeZone:f,...e})}),[e,d,p,b,E,l,g,f]);if(null===(t=u.uptime)||void 0===t||!t.hasData)return null;const y=Pt.a.utc(b).valueOf(),x=Pt.a.utc(E).valueOf(),S=null!=e&&e.dateFormat?Object(Ct.timeFormatter)(null==e?void 0:e.dateFormat):Object(Rt.niceTimeFormatter)([y,x]),T=h===Q.FETCH_STATUS.LOADING,{appLink:O,stats:I,series:j}=v||{},k=a.eui.euiColorVis2,w=a.eui.euiColorMediumShade;return i.a.createElement(zt,{title:o.i18n.translate("xpack.observability.overview.uptime.title",{defaultMessage:"Monitors"}),appLink:{href:O,label:o.i18n.translate("xpack.observability.overview.uptime.appLink",{defaultMessage:"Show monitors"})},hasError:h===Q.FETCH_STATUS.FAILURE},i.a.createElement(M.EuiFlexGroup,null,i.a.createElement(M.EuiFlexItem,{grow:!1},i.a.createElement(Gt,{title:Ft()(null==I?void 0:I.monitors.value).format("0a"),description:o.i18n.translate("xpack.observability.overview.uptime.monitors",{defaultMessage:"Monitors"}),isLoading:T})),i.a.createElement(M.EuiFlexItem,{grow:!1},i.a.createElement(Gt,{title:Ft()(null==I?void 0:I.up.value).format("0a"),description:o.i18n.translate("xpack.observability.overview.uptime.up",{defaultMessage:"Up"}),isLoading:T,color:w})),i.a.createElement(M.EuiFlexItem,{grow:!1},i.a.createElement(Gt,{title:Ft()(null==I?void 0:I.down.value).format("0a"),description:o.i18n.translate("xpack.observability.overview.uptime.down",{defaultMessage:"Down"}),isLoading:T,color:k}))),i.a.createElement($t,{isInitialLoad:T&&!v},i.a.createElement(Rt.Settings,m()({onBrushEnd:e=>Ht({x:e.x,history:s})},n,{showLegend:!1,legendPosition:Rt.Position.Right,xDomain:{min:y,max:x},locale:o.i18n.getLocale()})),i.a.createElement(ca,{id:"down",label:o.i18n.translate("xpack.observability.overview.uptime.chart.down",{defaultMessage:"Down"}),series:null==j?void 0:j.down,tickFormatter:S,color:k}),i.a.createElement(ca,{id:"up",label:o.i18n.translate("xpack.observability.overview.uptime.chart.up",{defaultMessage:"Up"}),series:null==j?void 0:j.up,tickFormatter:S,color:w})))}function ca({id:e,label:t,series:a,color:r,tickFormatter:n}){if(!a)return null;const s=a.coordinates.map((e=>({...e,g:t})));return i.a.createElement(i.a.Fragment,null,i.a.createElement(Rt.BarSeries,{id:e,xScaleType:Rt.ScaleType.Time,yScaleType:Rt.ScaleType.Linear,xAccessor:"x",yAccessors:["y"],color:r,stackAccessors:["x"],splitSeriesAccessors:["g"],data:s}),i.a.createElement(Rt.Axis,{id:"x-axis",position:Rt.Position.Bottom,showOverlappingTicks:!1,showOverlappingLabels:!1,tickFormat:n}),i.a.createElement(Rt.Axis,{id:"y-axis",gridLine:{visible:!0},position:Rt.Position.Left,tickFormat:e=>Ft()(e).format("0a")}))}var da=a(73),pa=a(146);function ma({bucketSize:e}){const{forceUpdate:t,hasDataMap:a}=gt(),{services:r}=Object(j.useKibana)(),{ExploratoryViewEmbeddable:n}=r.exploratoryView,{relativeStart:s,relativeEnd:l,absoluteStart:u,absoluteEnd:c,lastUpdated:d}=Object(ct.a)(),p=a.ux,m=null==p?void 0:p.serviceName,b=[{name:ba,time:{from:s,to:l},reportDefinitions:{[da.SERVICE_NAME]:["ALL_VALUES"]},breakdown:da.SERVICE_NAME,dataType:it,selectedMetricField:da.TRANSACTION_DURATION,showPercentileAnnotations:!1}],{data:E,status:g}=Object(Q.useFetcher)((()=>{var t;if(m&&e&&u&&c)return null===(t=Object(ut.a)("ux"))||void 0===t?void 0:t.fetchData({absoluteTime:{start:u,end:c},relativeTime:{start:s,end:l},serviceName:m,...e})}),[e,s,l,u,c,t,m,d]);if(null==p||!p.hasData)return null;const f=g===Q.FETCH_STATUS.LOADING,{appLink:v,coreWebVitals:h}=E||{};return i.a.createElement(zt,{title:o.i18n.translate("xpack.observability.overview.ux.title",{defaultMessage:"User Experience"}),appLink:{href:v,label:o.i18n.translate("xpack.observability.overview.ux.appLink",{defaultMessage:"Show dashboard"})},hasError:g===Q.FETCH_STATUS.FAILURE},i.a.createElement("div",{style:{height:320}},i.a.createElement(n,{attributes:b,reportType:"data-distribution",title:ba,withActions:!1})),i.a.createElement(pa.default,{data:h,loading:f,displayServiceName:!0,serviceName:m}))}const ba=o.i18n.translate("xpack.observability.overview.ux.pageLoadDistribution.title",{defaultMessage:"Page load distribution"});function Ea({bucketSize:e}){return i.a.createElement(M.EuiFlexItem,{grow:!1},i.a.createElement(M.EuiFlexGroup,{direction:"column",gutterSize:"s"},i.a.createElement(M.EuiFlexItem,{grow:!1},i.a.createElement(Xt,{bucketSize:e})),i.a.createElement(M.EuiFlexItem,{grow:!1},i.a.createElement(oa,{bucketSize:e})),i.a.createElement(M.EuiFlexItem,{grow:!1},i.a.createElement(Wt,{bucketSize:e})),i.a.createElement(M.EuiFlexItem,{grow:!1},i.a.createElement(ua,{bucketSize:e})),i.a.createElement(M.EuiFlexItem,{grow:!1},i.a.createElement(ma,{bucketSize:e}))))}var ga=a(138);function fa({showTour:e=!1,onGuidedSetupClick:t,onTimeRangeRefresh:a,onTourDismiss:n}){const s=Object(r.useRef)(),{relativeStart:l,relativeEnd:u,refreshInterval:c,refreshPaused:d}=Object(ct.a)(),{endTour:p,isTourVisible:m}=Object(Q.useObservabilityTourContext)();return i.a.createElement(M.EuiFlexGroup,{direction:"row",gutterSize:"s",justifyContent:"flexEnd"},i.a.createElement(M.EuiFlexItem,{grow:!1},i.a.createElement(ga.DatePicker,{rangeFrom:l,rangeTo:u,refreshInterval:c,refreshPaused:d,width:"auto",onTimeRangeRefresh:a})),i.a.createElement(M.EuiFlexItem,{grow:!1},i.a.createElement(M.EuiButton,{buttonRef:s,color:"text","data-test-subj":"guidedSetupButton",id:"guidedSetupButton",iconType:"wrench",onClick:()=>{m&&p(),t()}},i.a.createElement(St.FormattedMessage,{id:"xpack.observability.overview.guidedSetupButton",defaultMessage:"Data assistant"})),e?i.a.createElement(M.EuiTourStep,{anchor:()=>s.current,step:1,stepsTotal:1,isStepOpen:!0,maxWidth:400,onFinish:n,title:o.i18n.translate("xpack.observability.overview.guidedSetupTourTitle",{defaultMessage:"Data assistant is always available"}),content:i.a.createElement(M.EuiText,{size:"s"},i.a.createElement(St.FormattedMessage,{id:"xpack.observability.overview.guidedSetupTourContent",defaultMessage:"If you're ever in doubt you can always access the data assistant and view your next steps by clicking here."})),footerAction:i.a.createElement(M.EuiButtonEmpty,{"data-test-subj":"o11yHeaderActionsDismissButton",color:"text",flush:"right",size:"xs",onClick:n},i.a.createElement(St.FormattedMessage,{id:"xpack.observability.overview.guidedSetupTourDismissButton",defaultMessage:"Dismiss"}))}):null))}var va=a(159),ha=a.n(va);const ya=a(164).css`
  box-shadow: 0 0.7px 1.4px rgba(0, 0, 0, 0.07), 0 1.9px 4px rgba(0, 0, 0, 0.05),
    0 4.5px 10px rgba(0, 0, 0, 0.05);
`;function xa({items:e}){return i.a.createElement(M.EuiErrorBoundary,null,i.a.createElement(M.EuiFlexGrid,{direction:"row",gutterSize:"s",alignItems:"start"},i.a.createElement(M.EuiFlexItem,{grow:!1},i.a.createElement(M.EuiTitle,{size:"xs"},i.a.createElement("h4",null,o.i18n.translate("xpack.observability.news.title",{defaultMessage:"What's new"})))),e.map(((e,t)=>i.a.createElement(M.EuiFlexItem,{key:t,grow:!1},i.a.createElement(Ta,{item:e}))))))}const Sa=(e,t)=>Object(u.truncate)(e,{length:t});function Ta({item:e}){var t;const a=Object(r.useContext)(Xe.ThemeContext);return i.a.createElement(M.EuiPanel,{hasBorder:!0},i.a.createElement(M.EuiFlexGrid,{direction:"row",gutterSize:"s"},i.a.createElement(M.EuiFlexItem,{grow:!1},i.a.createElement(M.EuiTitle,{size:"xxs"},i.a.createElement("h4",null,e.title.en))),i.a.createElement(M.EuiFlexItem,null,i.a.createElement(M.EuiFlexGroup,{gutterSize:"s"},i.a.createElement(M.EuiFlexItem,{grow:!1},i.a.createElement(M.EuiFlexGroup,{direction:"column",gutterSize:"s"},i.a.createElement(M.EuiFlexItem,null,i.a.createElement(M.EuiText,{size:"s",color:"subdued"},Sa(e.description.en,128))),i.a.createElement(M.EuiFlexItem,null,i.a.createElement(M.EuiText,{size:"s"},i.a.createElement(M.EuiLink,{"data-test-subj":"o11yNewsItemReadFullStoryLink",href:e.link_url.en,target:"_blank",external:!0},o.i18n.translate("xpack.observability.news.readFullStory",{defaultMessage:"Read full story"})))))),(null===(t=e.image_url)||void 0===t?void 0:t.en)&&i.a.createElement(M.EuiFlexItem,{grow:!1},i.a.createElement("img",{"data-test-subj":"newsImage",style:{border:a.eui.euiBorderThin},width:48,height:48,alt:e.title.en,src:e.image_url.en,className:ya}))))))}const Oa="DISMISS_OBSERVABILITY_ONBOARDING";function Ia(){var e;const{application:t,share:a}=Object(j.useKibana)().services,n=null==a||null===(e=a.url.locators.get("OBSERVABILITY_ONBOARDING_LOCATOR"))||void 0===e?void 0:e.useUrl({category:"logs"}),s=Object(Q.useUiTracker)({app:"observability-overview"}),{isObservabilityOnboardingDismissed:l,dismissObservabilityOnboarding:o}=function(){const e=window.localStorage.getItem(Oa),[t,a]=Object(r.useState)(JSON.parse(e||"false"));return{isObservabilityOnboardingDismissed:t,dismissObservabilityOnboarding:Object(r.useCallback)((()=>{window.localStorage.setItem(Oa,"true"),a(!0)}),[])}}(),u=Object(r.useCallback)((()=>{o(),s({metric:"observability_onboarding_dismiss"})}),[o,s]);return l?null:i.a.createElement(i.a.Fragment,null,i.a.createElement(M.EuiPanel,{color:"primary","data-test-subj":"observability-onboarding-callout"},i.a.createElement(M.EuiFlexGroup,null,i.a.createElement(M.EuiFlexItem,null,i.a.createElement(M.EuiTitle,{size:"xxs"},i.a.createElement("h2",null,i.a.createElement(St.FormattedMessage,{id:"xpack.observability.overview.observabilityOnboarding",defaultMessage:"Collect and analyze logs in observability"}))),i.a.createElement(M.EuiText,{size:"xs",color:"subdued"},i.a.createElement("p",null,i.a.createElement(St.FormattedMessage,{id:"xpack.observability.overview.observabilityOnboarding.description",defaultMessage:"Onboard your data in up to 5 minutes to start analysing it straight away."})))),i.a.createElement(M.EuiFlexItem,{grow:!1},i.a.createElement(M.EuiFlexGroup,{responsive:!1,direction:"row",alignItems:"center"},i.a.createElement(M.EuiFlexItem,null,i.a.createElement(M.EuiButtonEmpty,{"data-test-subj":"o11yObservabilityOnboardingDismissButton",size:"s",onClick:u},i.a.createElement(St.FormattedMessage,{id:"xpack.observability.overview.observabilityOnboarding.dismiss",defaultMessage:"Dismiss"}))),i.a.createElement(M.EuiFlexItem,null,i.a.createElement(M.EuiButton,{"data-test-subj":"o11yObservabilityOnboardingGetStartedButton",size:"s",onClick:()=>{s({metric:"observability_onboarding_get_started"}),null==t||t.navigateToUrl(n)}},i.a.createElement(St.FormattedMessage,{id:"xpack.observability.overview.observabilityOnboarding.getStarted",defaultMessage:"Get started"}))))))),i.a.createElement(M.EuiSpacer,null))}function ja(){return i.a.createElement(M.EuiFlexGrid,{direction:"row"},i.a.createElement(M.EuiFlexItem,{grow:!1},i.a.createElement(M.EuiTitle,{size:"xs"},i.a.createElement("h4",null,o.i18n.translate("xpack.observability.resources.title",{defaultMessage:"Resources"})))),i.a.createElement(M.EuiListGroup,{flush:!0,listItems:ka,"data-test-subj":"listGroup",size:"s"}))}const ka=[{iconType:"documents",label:o.i18n.translate("xpack.observability.resources.documentation",{defaultMessage:"Documentation"}),href:"https://ela.st/observability-documentation"},{iconType:"editorComment",label:o.i18n.translate("xpack.observability.resources.forum",{defaultMessage:"Discuss Forum"}),href:"https://ela.st/observability-discuss"},{iconType:"play",label:o.i18n.translate("xpack.observability.resources.quick_start",{defaultMessage:"Quick Start Videos"}),href:"https://ela.st/observability-quick-starts"},{iconType:"training",label:o.i18n.translate("xpack.observability.resources.training",{defaultMessage:"Free Observability Course"}),href:"https://ela.st/observability-training"}];var wa=a(30);function Ma({section:e}){return i.a.createElement(M.EuiEmptyPrompt,{style:{maxWidth:"none"},title:i.a.createElement("h2",null,e.title),titleSize:"xs",body:i.a.createElement(M.EuiText,{color:"default"},e.description),actions:i.a.createElement(i.a.Fragment,null,e.linkTitle&&i.a.createElement(M.EuiButton,{size:"s",color:"primary",fill:!0,href:e.href,target:e.target,"data-test-subj":`empty-${e.id}`},e.linkTitle))})}function Ra(){var e;const{http:t,share:a}=Object(W.a)().services,n=null==a||null===(e=a.url.locators.get(wa.b))||void 0===e?void 0:e.useUrl({category:"metrics"}),s=Object(r.useContext)(Xe.ThemeContext),{hasDataMap:l}=gt(),o=Ca({http:t,onboardingMetricsHref:n}).filter((({id:e})=>{const t=l[e];return!(!t||t.status!==Q.FETCH_STATUS.FAILURE&&t.hasData)}));return i.a.createElement(M.EuiFlexItem,null,i.a.createElement(M.EuiSpacer,{size:"s"}),i.a.createElement(M.EuiFlexGrid,{columns:o.length>2?2:1,gutterSize:"s"},o.map((e=>i.a.createElement(M.EuiFlexItem,{key:e.id,style:{border:`${s.eui.euiBorderEditable}`,borderRadius:`${s.eui.euiBorderRadius}`}},i.a.createElement(Ma,{section:e}))))))}const Ca=({http:e,onboardingMetricsHref:t})=>[{id:"infra_logs",title:o.i18n.translate("xpack.observability.emptySection.apps.logs.title",{defaultMessage:"Logs"}),icon:"logoLogging",description:o.i18n.translate("xpack.observability.emptySection.apps.logs.description",{defaultMessage:"Fast, easy, and scalable centralized log monitoring with out-of-the-box support for common data sources."}),linkTitle:o.i18n.translate("xpack.observability.emptySection.apps.logs.link",{defaultMessage:"Install Filebeat"}),href:e.basePath.prepend("/app/home#/tutorial_directory/logging")},{id:"apm",title:o.i18n.translate("xpack.observability.emptySection.apps.apm.title",{defaultMessage:"APM"}),icon:"logoObservability",description:o.i18n.translate("xpack.observability.emptySection.apps.apm.description",{defaultMessage:"Get deeper visibility into your applications with extensive support for popular languages, OpenTelemetry, and distributed tracing."}),linkTitle:o.i18n.translate("xpack.observability.emptySection.apps.apm.link",{defaultMessage:"Install Agent"}),href:e.basePath.prepend("/app/apm/tutorial")},{id:"infra_metrics",title:o.i18n.translate("xpack.observability.emptySection.apps.metrics.title",{defaultMessage:"Metrics"}),icon:"logoMetrics",description:o.i18n.translate("xpack.observability.emptySection.apps.metrics.description",{defaultMessage:"Stream, visualize, and analyze your infrastructure metrics."}),linkTitle:o.i18n.translate("xpack.observability.emptySection.apps.metrics.link",{defaultMessage:"Install Metricbeat"}),href:null!=t?t:e.basePath.prepend("/app/home#/tutorial_directory/metrics")},{id:"uptime",title:o.i18n.translate("xpack.observability.emptySection.apps.uptime.title",{defaultMessage:"Uptime"}),icon:"logoUptime",description:o.i18n.translate("xpack.observability.emptySection.apps.uptime.description",{defaultMessage:"Proactively monitor the availability and functionality of user journeys."}),linkTitle:o.i18n.translate("xpack.observability.emptySection.apps.uptime.link",{defaultMessage:"Install Heartbeat"}),href:e.basePath.prepend("/app/home#/tutorial/uptimeMonitors")},{id:"ux",title:o.i18n.translate("xpack.observability.emptySection.apps.ux.title",{defaultMessage:"User Experience"}),icon:"logoObservability",description:o.i18n.translate("xpack.observability.emptySection.apps.ux.description",{defaultMessage:"Collect, measure, and analyze performance data that reflects real-world user experiences."}),linkTitle:o.i18n.translate("xpack.observability.emptySection.apps.ux.link",{defaultMessage:"Install RUM Agent"}),href:e.basePath.prepend("/app/apm/tutorial")},{id:"alert",title:o.i18n.translate("xpack.observability.emptySection.apps.alert.title",{defaultMessage:"No alerts found."}),icon:"watchesApp",description:o.i18n.translate("xpack.observability.emptySection.apps.alert.description",{defaultMessage:"Detect complex conditions within Observability and trigger actions when those conditions are met."}),linkTitle:o.i18n.translate("xpack.observability.emptySection.apps.alert.link",{defaultMessage:"Create rule"}),href:e.basePath.prepend(We.r.observability.rules)},{id:"universal_profiling",title:o.i18n.translate("xpack.observability.emptySection.apps.universalProfiling.title",{defaultMessage:"Universal Profiling"}),icon:"logoObservability",description:o.i18n.translate("xpack.observability.emptySection.apps.universalProfiling.description",{defaultMessage:"Understand what lines of code are consuming compute resources across your entire infrastructure, with minimal overhead and zero instrumentation"}),linkTitle:o.i18n.translate("xpack.observability.emptySection.apps.universalProfiling.link",{defaultMessage:"Install Profiling Host Agent"}),href:e.basePath.prepend("/app/profiling/add-data-instructions")}];function La(){var e;const{http:t,observabilityAIAssistant:a,triggersActionsUi:{alertsTableConfigurationRegistry:n,getAlertsStateTable:s,getAlertSummaryWidget:l},kibanaVersion:u}=Object(W.a)().services,{ObservabilityPageTemplate:c,observabilityRuleTypeRegistry:d}=Object(Z.a)();Object(Q.useBreadcrumbs)([{text:o.i18n.translate("xpack.observability.breadcrumbs.overviewLinkText",{defaultMessage:"Overview"})}]);const{data:p}=Object(Q.useFetcher)((()=>async function({http:e,kibanaVersion:t}){try{return await e.get(`https://feeds.elastic.co/observability-solution/v${(e=>{var t,a;return null!==(t=null===(a=ha()(e))||void 0===a?void 0:a.version)&&void 0!==t?t:e})(t)}.json`)}catch(e){return console.error("Error while fetching news feed",e),{items:[]}}}({http:t,kibanaVersion:u})),[t,u]),{hasAnyData:m,isAllRequestsComplete:b,hasDataMap:E}=gt(),{setScreenContext:g}=(null==a?void 0:a.service)||{},f=Object.keys(E).sort().reduce(((e,t)=>{const a=E[t];return"success"!==(null==a?void 0:a.status)||null!=a&&a.hasData?e:`${e}${bt[t]}, `}),"").slice(0,-2);Object(r.useEffect)((()=>null==g?void 0:g({screenDescription:`The user is viewing the Overview page which shows a summary of the following apps: ${JSON.stringify(E)}`,starterPrompts:[...f.length>0?[{title:o.i18n.translate("xpack.observability.aiAssistant.starterPrompts.explainNoData.title",{defaultMessage:"Explain"}),prompt:o.i18n.translate("xpack.observability.aiAssistant.starterPrompts.explainNoData.prompt",{defaultMessage:"Why don't I see any data for the {appsWithoutData} sections?",values:{appsWithoutData:f}}),icon:"sparkles"}]:[]]})),[f,E,g]);const[v,h]=Object(r.useState)(!1),[y,x]=Object(r.useState)(!1),{relativeStart:S,relativeEnd:T,absoluteStart:O,absoluteEnd:I}=Object(ct.a)(),[j,k]=Object(r.useState)(Object(xt.a)({timeRange:{from:S,to:T}})),w=Object(ee.a)(),R=Object(r.useMemo)((()=>Object(je.a)({start:O,end:I,timeBuckets:w})),[O,I,w]),C=Object(r.useMemo)((()=>Object(ke.b)({from:S,to:T},(null==R?void 0:R.intervalString)||yt.b,(null==R?void 0:R.dateFormat)||yt.a)),[R,T,S]);Object(r.useEffect)((()=>{k(Object(xt.a)({timeRange:{from:S,to:T}}))}),[T,S]);const L=Object(r.useCallback)((()=>{k(Object(xt.a)({timeRange:{from:S,to:T}}))}),[T,S]),F=()=>{x(!1)},A=Object(r.useCallback)((()=>{F(),h(!0)}),[]);return void 0===m?i.a.createElement(vt,null):i.a.createElement(c,{isPageDataLoaded:b,pageHeader:{pageTitle:o.i18n.translate("xpack.observability.overview.pageTitle",{defaultMessage:"Overview"}),rightSideItems:[i.a.createElement(fa,{showTour:y,onGuidedSetupClick:A,onTourDismiss:F,onTimeRangeRefresh:L})],rightSideGroupProps:{responsive:!0},"data-test-subj":"obltOverviewPageHeader"}},i.a.createElement(we.a,null),i.a.createElement(Ia,null),i.a.createElement(M.EuiFlexGroup,{direction:"column",gutterSize:"s","data-test-subj":"obltOverviewAlerts"},i.a.createElement(M.EuiFlexItem,null,i.a.createElement(zt,{title:o.i18n.translate("xpack.observability.overview.alerts.title",{defaultMessage:"Alerts"}),appLink:{href:We.r.observability.alerts,label:o.i18n.translate("xpack.observability.overview.alerts.appLink",{defaultMessage:"Show alerts"})},initialIsOpen:m,hasError:!1},i.a.createElement(l,{featureIds:Te.d,filter:j,fullSize:!0,timeRange:C}),i.a.createElement(s,{alertsTableConfigurationRegistry:n,configurationId:X.a.OBSERVABILITY,featureIds:Te.d,hideLazyLoader:!0,id:"xpack.observability.overview.alert.table",pageSize:10,query:j,showAlertStatusWithFlapping:!0,cellContext:{observabilityRuleTypeRegistry:d}}))),i.a.createElement(M.EuiFlexItem,null,i.a.createElement(Ea,{bucketSize:R}),i.a.createElement(Ra,null)),i.a.createElement(M.EuiSpacer,{size:"s"})),i.a.createElement(M.EuiHorizontalRule,null),i.a.createElement(M.EuiFlexGroup,null,i.a.createElement(M.EuiFlexItem,null,i.a.createElement(M.EuiFlexGroup,null,i.a.createElement(M.EuiFlexItem,{grow:4},!(null==p||null===(e=p.items)||void 0===e||!e.length)&&i.a.createElement(xa,{items:p.items.slice(0,3)})),i.a.createElement(M.EuiFlexItem,{grow:2},i.a.createElement(ja,null))))),v?i.a.createElement(Mt,{onClose:()=>h(!1)}):null)}var Fa=a(120);a(94);const Aa={apm:o.i18n.translate("alertsUIShared.producerDisplayNames.apm",{defaultMessage:"APM and User Experience"}),uptime:o.i18n.translate("alertsUIShared.producerDisplayNames.uptime",{defaultMessage:"Synthetics and Uptime"}),stackAlerts:o.i18n.translate("alertsUIShared.producerDisplayNames.stackAlerts",{defaultMessage:"Stack Alerts"}),metrics:o.i18n.translate("alertsUIShared.producerDisplayNames.metrics",{defaultMessage:"Metrics"}),logs:o.i18n.translate("alertsUIShared.producerDisplayNames.logs",{defaultMessage:"Logs"}),siem:o.i18n.translate("alertsUIShared.producerDisplayNames.siem",{defaultMessage:"Security"}),observability:o.i18n.translate("alertsUIShared.producerDisplayNames.observability",{defaultMessage:"Observability"}),ml:o.i18n.translate("alertsUIShared.producerDisplayNames.ml",{defaultMessage:"Machine Learning"}),slo:o.i18n.translate("alertsUIShared.producerDisplayNames.slo",{defaultMessage:"SLOs"}),infrastructure:o.i18n.translate("alertsUIShared.producerDisplayNames.infrastructure",{defaultMessage:"Infrastructure"}),monitoring:o.i18n.translate("alertsUIShared.producerDisplayNames.monitoring",{defaultMessage:"Stack Monitoring"})},Pa=e=>{var t;return null!==(t=Reflect.get(Aa,e))&&void 0!==t?t:e},Da=(e,t)=>e.enabledInLicense===t.enabledInLicense?e.name.localeCompare(t.name):e.enabledInLicense?-1:1,Na=({ruleTypes:e,onSelectRuleType:t,onFilterByProducer:a,selectedProducer:n,ruleTypeCountsByProducer:s,onClearFilters:l,showCategories:c=!0})=>{const d=[...e].sort(Da),{euiTheme:p}=Object(M.useEuiTheme)(),m=Object(r.useMemo)((()=>Object.entries(Object(u.omit)(s,"total")).sort((([,e],[,t])=>t-e)).map((([e,t])=>Object(v.jsx)(M.EuiFacetButton,{key:e,fullWidth:!0,quantity:t,onClick:()=>a(e),isSelected:n===e},Pa(e))))),[s,a,n]),b=Object(r.useCallback)((()=>a(null)),[a]);return Object(v.jsx)(M.EuiFlexGroup,{style:{height:"100%"}},c&&Object(v.jsx)(M.EuiFlexItem,{grow:1,style:{paddingTop:p.size.base}},Object(v.jsx)(M.EuiFacetGroup,null,Object(v.jsx)(M.EuiFacetButton,{fullWidth:!0,quantity:s.total,onClick:b,isSelected:!n},o.i18n.translate("alertsUIShared.components.ruleTypeModal.allRuleTypes",{defaultMessage:"All"})),m)),Object(v.jsx)(M.EuiFlexItem,{grow:3,style:{overflowY:"auto",padding:`${p.size.base} ${p.size.base} ${p.size.xl}`}},0===d.length&&Object(v.jsx)(M.EuiEmptyPrompt,{color:"subdued",iconType:"search",title:Object(v.jsx)("h2",null,o.i18n.translate("alertsUIShared.components.ruleTypeModal.noRuleTypesErrorTitle",{defaultMessage:"No rule types found"})),body:Object(v.jsx)("p",null,o.i18n.translate("alertsUIShared.components.ruleTypeModal.noRuleTypesErrorBody",{defaultMessage:"Try a different search or change your filter settings"}),"."),actions:Object(v.jsx)(M.EuiButton,{size:"s",color:"primary",fill:!0,onClick:l},"Clear filters")}),d.map((e=>Object(v.jsx)(i.a.Fragment,{key:e.id},Object(v.jsx)(M.EuiCard,{titleSize:"xs",textAlign:"left",hasBorder:!0,title:e.name,onClick:()=>t(e.id),description:Object(v.jsx)(i.a.Fragment,null,e.description,e.description&&Object(v.jsx)(M.EuiSpacer,{size:"s"}),Object(v.jsx)(M.EuiText,{color:"subdued",size:"xs",style:{textTransform:"uppercase",fontWeight:p.font.weight.bold}},Pa(e.producer))),style:{marginRight:"8px",flexGrow:0},"data-test-subj":`${e.id}-SelectOption`,isDisabled:!1===e.enabledInLicense}),Object(v.jsx)(M.EuiSpacer,{size:"s"}))))))},za=Object(v.jsx)(M.EuiEmptyPrompt,{title:Object(v.jsx)("h2",null,o.i18n.translate("alertsUIShared.components.ruleTypeModal.loadingRuleTypes",{defaultMessage:"Loading rule types"})),icon:Object(v.jsx)(M.EuiLoadingSpinner,{size:"xl"})}),_a=({onClose:e,onSelectRuleType:t,onFilterByProducer:a,onChangeSearch:i,ruleTypes:n,ruleTypesLoading:s,ruleTypeCountsByProducer:l,searchString:u,selectedProducer:c,showCategories:d})=>{var p;const{euiTheme:m}=Object(M.useEuiTheme)(),b=null!==(p=Object(M.useCurrentEuiBreakpoint)())&&void 0!==p?p:"m",E=["s","xs"].includes(b),g=Object(r.useCallback)((()=>{a(null),i("")}),[a,i]);return Object(v.jsx)(M.EuiModal,{onClose:e,maxWidth:m.breakpoint[b],style:{width:m.breakpoint[b],maxHeight:E?"initial":"960px",height:E?"initial":"80vh",overflow:E?"auto":"hidden"},"data-test-subj":"ruleTypeModal"},Object(v.jsx)(M.EuiPanel,{paddingSize:"m",style:E?{}:{maxHeight:"100%"}},Object(v.jsx)(M.EuiFlexGroup,{direction:"column",style:{height:"100%"}},Object(v.jsx)(M.EuiFlexItem,{grow:0},Object(v.jsx)(M.EuiPageHeader,{bottomBorder:"extended",paddingSize:"m"},Object(v.jsx)(M.EuiPageHeaderSection,{style:{width:"100%"}},Object(v.jsx)(M.EuiTitle,{size:"s"},Object(v.jsx)("h1",null,o.i18n.translate("alertsUIShared.components.ruleTypeModal.title",{defaultMessage:"Select rule type"}))),Object(v.jsx)(M.EuiSpacer,{size:"m"}),Object(v.jsx)(M.EuiPageHeaderSection,{style:{width:E?"100%":"50%"}},Object(v.jsx)(M.EuiFieldSearch,{placeholder:o.i18n.translate("alertsUIShared.components.ruleTypeModal.searchPlaceholder",{defaultMessage:"Search"}),value:u,onChange:({target:{value:e}})=>i(e),fullWidth:!0}))))),Object(v.jsx)(M.EuiFlexItem,{style:{overflow:"hidden",marginTop:-m.size.base}},s?za:Object(v.jsx)(Na,{ruleTypes:n,ruleTypeCountsByProducer:l,onSelectRuleType:t,onFilterByProducer:a,selectedProducer:c,onClearFilters:g,showCategories:d})))))},$a=[],Ba=({http:e,toasts:t,filteredRuleTypes:a=$a,registeredRuleTypes:i,...n})=>{const[s,l]=Object(r.useState)(null),[o,c]=Object(r.useState)(""),{ruleTypesState:{data:d,isLoading:p}}=Object(Fa.a)({http:e,toasts:t,filteredRuleTypes:a,registeredRuleTypes:i}),b=Object(r.useMemo)((()=>{const e=Object(u.countBy)([...d.values()],"producer");return 1===Object.keys(e).length}),[d]),[E,g]=Object(r.useMemo)((()=>((e,t,a)=>{const r=[...e.values()];if(!r.length)return[[],{total:0}];const i=r.filter((e=>{if(a){const t=a.toLowerCase();return e.name.toLowerCase().includes(t)||e.description&&e.description.toLowerCase().includes(t)}return!0}));return[i.filter((e=>!t||e.producer===t)),{...Object(u.countBy)(i,"producer"),total:i.length}]})(d,s,o)),[d,o,s]);return Object(v.jsx)(_a,m()({},n,{ruleTypes:E,ruleTypeCountsByProducer:g,ruleTypesLoading:p,onChangeSearch:c,onFilterByProducer:l,selectedProducer:s,searchString:o,showCategories:!b}))};var Ua=a(71);function Ga({setRefresh:e,stateRefresh:t}){const{triggersActionsUi:{getRulesList:a}}=Object(W.a)().services,n=Object(c.useHistory)(),s=Object(G.createKbnUrlStateStorage)({history:n,useHash:!1,useHashQuery:!1}),l=Object(te.a)(),{lastResponse:o,params:u,search:d,status:p,type:m}=s.get("_a")||{lastResponse:[],params:{},search:"",status:[],type:[]},[b,E]=Object(r.useState)(o),[g,f]=Object(r.useState)(u),[v,h]=Object(r.useState)(d),[y,x]=Object(r.useState)(p),[S,T]=Object(r.useState)(m);return i.a.createElement(a,{filterConsumers:Te.d,filteredRuleTypes:l,lastRunOutcomeFilter:b,refresh:t,ruleDetailsRoute:"alerts/rules/:ruleId",rulesListKey:"observability_rulesListColumns",ruleParamFilter:g,showActionFilter:!1,statusFilter:y,searchFilter:v,typeFilter:S,visibleColumns:["ruleName","ruleExecutionStatusLastDate","ruleSnoozeNotify","ruleExecutionStatus","ruleExecutionState"],onLastRunOutcomeFilterChange:t=>{e(new Date),E(t),s.set("_a",{lastResponse:t,params:u,search:d,status:p,type:m})},onRuleParamFilterChange:e=>{f(e),s.set("_a",{lastResponse:o,params:e,search:d,status:p,type:m})},onSearchFilterChange:e=>{h(e),s.set("_a",{lastResponse:o,params:u,search:e,status:p,type:m})},onStatusFilterChange:e=>{x(e),s.set("_a",{lastResponse:o,params:u,search:d,status:e,type:m})},onTypeFilterChange:e=>{T(e),s.set("_a",{lastResponse:o,params:u,search:d,status:p,type:e})},initialSelectedConsumer:X.a.LOGS})}const Va=Object(r.lazy)((()=>a.e(15).then(a.bind(null,193)))),Ha="rules";function Wa({activeTab:e=Ha}){const{http:t,docLinks:a,notifications:{toasts:n},observabilityAIAssistant:s,triggersActionsUi:{ruleTypeRegistry:l,getAddRuleFlyout:u,getRulesSettingsLink:d}}=Object(W.a)().services,{ObservabilityPageTemplate:p}=Object(Z.a)(),m=Object(c.useHistory)(),[b,E]=Object(r.useState)(!1),[g,f]=Object(r.useState)(void 0),[v,h]=Object(r.useState)(!1),[y,x]=Object(r.useState)(new Date);Object(Q.useBreadcrumbs)([{text:o.i18n.translate("xpack.observability.breadcrumbs.alertsLinkText",{defaultMessage:"Alerts"}),href:t.basePath.prepend("/app/observability/alerts"),deepLinkId:"observability-overview:alerts"},{text:o.i18n.translate("xpack.observability.breadcrumbs.rulesLinkText",{defaultMessage:"Rules"})}]);const S=Object(te.a)(),{ruleTypesState:{data:T}}=Object(q.useLoadRuleTypesQuery)({filteredRuleTypes:S}),O=[...T.values()].some((e=>{var t;return null===(t=e.authorizedConsumers[Ua.ALERTING_FEATURE_ID])||void 0===t?void 0:t.all})),{setScreenContext:I}=(null==s?void 0:s.service)||{},j=Me();Object(r.useEffect)((()=>null==I?void 0:I({screenDescription:`The rule types that are available are: ${JSON.stringify(j)}`,starterPrompts:[{title:o.i18n.translate("xpack.observability.aiAssistant.starterPrompts.explainRules.title",{defaultMessage:"Explain"}),prompt:o.i18n.translate("xpack.observability.aiAssistant.starterPrompts.explainRules.prompt",{defaultMessage:"Can you explain the rule types that are available?"}),icon:"sparkles"}]})),[S,j,I]);const k=[{name:"rules",label:i.a.createElement(St.FormattedMessage,{id:"xpack.observability.rulePage.rulesTabTitle",defaultMessage:"Rules"}),onClick:()=>m.push(We.o),isSelected:e===Ha},{name:"logs",label:i.a.createElement(St.FormattedMessage,{id:"xpack.observability.rulePage.logsTabTitle",defaultMessage:"Logs"}),onClick:()=>m.push(We.n),"data-test-subj":"ruleLogsTab",isSelected:e!==Ha}],w=[...e===Ha?[i.a.createElement(M.EuiButton,{"data-test-subj":"createRuleButton",disabled:!O,fill:!0,iconType:"plusInCircle",key:"create-alert",onClick:()=>E(!0)},i.a.createElement(St.FormattedMessage,{id:"xpack.observability.rules.addRuleButtonLabel",defaultMessage:"Create rule"}))]:[],i.a.createElement(d,null),i.a.createElement(M.EuiButtonEmpty,{"data-test-subj":"documentationLink",href:a.links.observability.createAlerts,iconType:"help",target:"_blank"},i.a.createElement(St.FormattedMessage,{id:"xpack.observability.rules.docsLinkText",defaultMessage:"Documentation"}))];return i.a.createElement(p,{pageHeader:{pageTitle:o.i18n.translate("xpack.observability.rulesTitle",{defaultMessage:"Rules"}),rightSideItems:w,tabs:k},"data-test-subj":"rulesPage"},i.a.createElement(we.a,null),i.a.createElement(M.EuiFlexGroup,{direction:"column",gutterSize:"s"},i.a.createElement(M.EuiFlexItem,null,e===Ha?i.a.createElement(Ga,{setRefresh:x,stateRefresh:y}):i.a.createElement(Va,null))),b&&i.a.createElement(Ba,{onClose:()=>E(!1),onSelectRuleType:e=>{f(e),E(!1),h(!0)},http:t,toasts:n,registeredRuleTypes:l.list(),filteredRuleTypes:S}),v&&i.a.createElement(u,{ruleTypeId:g,canChangeTrigger:!1,consumer:Ua.ALERTING_FEATURE_ID,filteredRuleTypes:S,validConsumers:Te.e,initialSelectedConsumer:X.a.LOGS,onClose:()=>{h(!1)},onSave:()=>(x(new Date),Promise.resolve()),hideGrouping:!0,useRuleProducer:!0}))}var qa=a(114),Xa=a(136);function Qa(e){switch(e){case"active":return"success";case"error":return"danger";case"ok":return"primary";case"pending":return"accent";case"warning":return"warning";default:return"subdued"}}function Ka({rule:e}){const{triggersActionsUi:{getRuleTagBadge:t}}=Object(W.a)().services;return i.a.createElement(i.a.Fragment,null,i.a.createElement(M.EuiFlexGroup,{alignItems:"center"},i.a.createElement(M.EuiFlexItem,{grow:!1,"data-test-subj":"ruleName"},e.name)),i.a.createElement(M.EuiFlexItem,{grow:!1},i.a.createElement(M.EuiSpacer,{size:"m"}),i.a.createElement(M.EuiText,{size:"xs"},i.a.createElement(M.EuiBadge,{color:Qa(e.executionStatus.status)},e.executionStatus.status.charAt(0).toUpperCase()+e.executionStatus.status.slice(1))),i.a.createElement(M.EuiSpacer,{size:"m"})),i.a.createElement(M.EuiFlexGroup,{direction:"column",alignItems:"flexStart"},i.a.createElement(M.EuiFlexItem,{component:"span",grow:!1},i.a.createElement(M.EuiText,{color:"subdued",size:"xs"},i.a.createElement("strong",null,o.i18n.translate("xpack.observability.ruleDetails.lastUpdatedMessage",{defaultMessage:"Last updated"}))," ",Ya," ",e.updatedBy," ",Ja," ",Pt()(e.updatedAt).format("ll"),"  ",i.a.createElement("strong",null,o.i18n.translate("xpack.observability.ruleDetails.createdWord",{defaultMessage:"Created"}))," ",Ya," ",e.createdBy," ",Ja," ",Pt()(e.createdAt).format("ll"))),i.a.createElement(M.EuiSpacer,{size:"xs"})),e.tags.length>0&&i.a.createElement(t,{tagsOutPopover:!0,tags:e.tags}),i.a.createElement(M.EuiSpacer,{size:"xs"}))}const Ya=o.i18n.translate("xpack.observability.ruleDetails.byWord",{defaultMessage:"by"}),Ja=o.i18n.translate("xpack.observability.ruleDetails.onWord",{defaultMessage:"on"});function Za({ruleIdToDelete:e,title:t,onCancel:a,onDeleted:n,onDeleting:s}){const[u,c]=Object(r.useState)(Boolean(e)),{mutateAsync:d}=function(){const{http:e,notifications:{toasts:t}}=Object(W.a)().services;return Object(l.useMutation)(["deleteRules"],(({ids:t,filter:a})=>{try{const r=JSON.stringify({...null!=t&&t.length?{ids:t}:{},...a?{filter:JSON.stringify(a)}:{}});return e.patch(`${Ua.INTERNAL_BASE_ALERTING_API_PATH}/rules/_bulk_delete`,{body:r})}catch(e){throw new Error(`Unable to parse bulk delete params: ${e}`)}}),{onError:(e,a,r)=>{t.addDanger(o.i18n.translate("xpack.observability.rules.deleteConfirmationModal.errorNotification.descriptionText",{defaultMessage:"Failed to delete rule"}))},onSuccess:()=>{t.addSuccess(o.i18n.translate("xpack.observability.rules.deleteConfirmationModal.successNotification.descriptionText",{defaultMessage:"Deleted rule"}))}})}();return u?i.a.createElement(M.EuiConfirmModal,{buttonColor:"danger","data-test-subj":"deleteIdsConfirmation",title:o.i18n.translate("xpack.observability.rules.deleteConfirmationModal.descriptionText",{defaultMessage:"You can't recover {title} after deleting.",values:{title:t}}),cancelButtonText:o.i18n.translate("xpack.observability.rules.deleteConfirmationModal.cancelButtonLabel",{defaultMessage:"Cancel"}),confirmButtonText:o.i18n.translate("xpack.observability.rules.deleteConfirmationModal.deleteButtonLabel",{defaultMessage:"Delete {title}",values:{title:t}}),onCancel:a,onConfirm:async()=>{e&&(c(!1),s(),await d({ids:[e]}),n())}},o.i18n.translate("xpack.observability.rules.deleteConfirmationModal.descriptionText",{defaultMessage:"You can't recover {title} after deleting.",values:{title:t}})):null}var er=a(134);function tr(){return i.a.createElement(M.EuiPanel,null,i.a.createElement(M.EuiEmptyPrompt,{iconType:"warning",color:"danger",title:i.a.createElement("h2",null,o.i18n.translate("xpack.observability.ruleDetails.errorPromptTitle",{defaultMessage:"Unable to load rule details"})),body:i.a.createElement("p",null,o.i18n.translate("xpack.observability.ruleDetails.errorPromptBody",{defaultMessage:"There was an error loading the rule details."}))}))}function ar({isLoading:e,isRuleEditable:t,onDeleteRule:a,onEditRule:n}){const[s,l]=Object(r.useState)(!1),u=()=>l(!s);return t?i.a.createElement(M.EuiFlexGroup,{direction:"rowReverse",alignItems:"flexStart"},i.a.createElement(M.EuiFlexItem,null,i.a.createElement(M.EuiPopover,{id:"contextRuleEditMenu",isOpen:s,closePopover:u,button:i.a.createElement(M.EuiButton,{"data-test-subj":"actions",disabled:e,fill:!0,iconSide:"right",iconType:"arrowDown",onClick:u},o.i18n.translate("xpack.observability.ruleDetails.actionsButtonLabel",{defaultMessage:"Actions"}))},i.a.createElement(M.EuiFlexGroup,{direction:"column",alignItems:"flexStart",gutterSize:"s"},i.a.createElement(M.EuiButtonEmpty,{"data-test-subj":"editRuleButton",size:"s",iconType:"pencil",onClick:()=>{l(!1),n()}},i.a.createElement(M.EuiText,{size:"s"},o.i18n.translate("xpack.observability.ruleDetails.editRule",{defaultMessage:"Edit rule"}))),i.a.createElement(M.EuiButtonEmpty,{size:"s",iconType:"trash",color:"danger",onClick:()=>{l(!1),a()},"data-test-subj":"deleteRuleButton"},i.a.createElement(M.EuiText,{size:"s"},o.i18n.translate("xpack.observability.ruleDetails.deleteRule",{defaultMessage:"Delete rule"}))))))):null}function rr(e){const{urlStorageKey:t,...a}=e,r=Ie(t),{data:{query:{timefilter:{timefilter:n}}},triggersActionsUi:{getAlertsSearchBar:s},uiSettings:l}=Object(W.a)().services;return i.a.createElement(de.ObservabilityAlertSearchBar,m()({},r,a,{showFilterBar:!0,services:{timeFilterService:n,AlertsSearchBar:s,useToasts:ae,uiSettings:l}}))}function ir(e){return i.a.createElement(be,{value:me},i.a.createElement(rr,e))}var nr=a(31);function sr({activeTabId:e,esQuery:t,featureIds:a,rule:n,ruleId:s,ruleType:l,onSetTabId:u,onEsQueryChange:c}){const{triggersActionsUi:{alertsTableConfigurationRegistry:d,getAlertsStateTable:p,getRuleEventLogList:m}}=Object(W.a)().services,{observabilityRuleTypeRegistry:b}=Object(Z.a)(),E=Object(r.useRef)([{query:`kibana.alert.rule.uuid: ${s}`,language:"kuery"}]),g=[{id:nr.b,name:o.i18n.translate("xpack.observability.ruleDetails.rule.alertsTabText",{defaultMessage:"Alerts"}),"data-test-subj":"ruleAlertListTab",content:i.a.createElement(i.a.Fragment,null,i.a.createElement(M.EuiSpacer,{size:"m"}),i.a.createElement(ir,{appName:nr.a,onEsQueryChange:c,urlStorageKey:nr.e,defaultSearchQueries:E.current}),i.a.createElement(M.EuiSpacer,{size:"s"}),i.a.createElement(M.EuiFlexGroup,{style:{minHeight:450},direction:"column"},i.a.createElement(M.EuiFlexItem,null,t&&a&&i.a.createElement(p,{alertsTableConfigurationRegistry:d,configurationId:yt.c,id:nr.d,featureIds:a,query:t,showAlertStatusWithFlapping:!0,cellContext:{observabilityRuleTypeRegistry:b}}))))},{id:nr.c,name:o.i18n.translate("xpack.observability.ruleDetails.rule.eventLogTabText",{defaultMessage:"Execution history"}),"data-test-subj":"eventLogListTab",content:i.a.createElement(M.EuiFlexGroup,{style:{minHeight:600},direction:"column"},i.a.createElement(M.EuiFlexItem,null,n&&l?i.a.createElement(m,{ruleId:n.id,ruleType:l}):null))}];return i.a.createElement(M.EuiTabbedContent,{"data-test-subj":"ruleDetailsTabbedContent",tabs:g,selectedTab:g.find((t=>t.id===e)),onTabClick:e=>{var t;t=e.id,u(t)}})}function lr(){var e;const{application:{capabilities:t,navigateToUrl:a},http:{basePath:n},share:{url:{locators:s}},triggersActionsUi:{actionTypeRegistry:l,ruleTypeRegistry:u,getAlertSummaryWidget:d,getEditRuleFlyout:p,getRuleDefinition:m,getRuleStatusPanel:b}}=Object(W.a)().services,{ObservabilityPageTemplate:E}=Object(Z.a)(),{ruleId:g}=Object(c.useParams)(),{search:f}=Object(c.useLocation)(),{rule:v,isLoading:h,isError:y,refetch:x}=Object(qa.a)({ruleId:g}),S=Object(te.a)(),{ruleTypes:T}=Object(Xa.a)({filterByRuleTypeIds:S});Object(Q.useBreadcrumbs)([{text:o.i18n.translate("xpack.observability.breadcrumbs.alertsLinkText",{defaultMessage:"Alerts"}),href:n.prepend(We.r.observability.alerts),deepLinkId:"observability-overview:alerts"},{href:n.prepend(We.r.observability.rules),text:o.i18n.translate("xpack.observability.breadcrumbs.rulesLinkText",{defaultMessage:"Rules"})},{text:v&&v.name}]);const[O,I]=Object(r.useState)((()=>{const e=new URLSearchParams(f).get(nr.f);return e&&[nr.c,nr.b].includes(e)?e:nr.b})),[j,k]=Object(r.useState)(),[w,R]=Object(r.useState)(ke.c),[C,L]=Object(r.useState)(!1),[F,A]=Object(r.useState)(void 0),[P,D]=Object(r.useState)(!1),N=Object(r.useRef)(null);Object(r.useEffect)((()=>{R(Object(ke.c)())}),[j]);const z=null==T?void 0:T.find((e=>e.id===(null==v?void 0:v.ruleTypeId))),_=function({capabilities:e,rule:t,ruleType:a,ruleTypeRegistry:r}){var i,n,s;const l=null==e||null===(i=e.actions)||void 0===i?void 0:i.execute,o=null!==(n=t&&(null==a||null===(s=a.authorizedConsumers[t.consumer])||void 0===s?void 0:s.all))&&void 0!==n&&n,u=t&&o&&(l||!l&&0===t.actions.length);return Boolean(u&&!!r.has(t.ruleTypeId)&&!r.get(t.ruleTypeId).requiresAppContext)}({capabilities:t,rule:v,ruleType:z,ruleTypeRegistry:u}),$=(null==v?void 0:v.consumer)===Ua.ALERTING_FEATURE_ID&&null!=z&&z.producer?[z.producer]:v?[v.consumer]:[],B=(null==v||null===(e=v.executionStatus.error)||void 0===e?void 0:e.reason)===Ua.RuleExecutionStatusErrorReasons.License?or.noLicense:v?or[v.executionStatus.status]:"";return h||P?i.a.createElement(er.a,null):!v||y?i.a.createElement(tr,null):i.a.createElement(E,{"data-test-subj":"ruleDetails",pageHeader:{pageTitle:i.a.createElement(Ka,{rule:v}),bottomBorder:!1,rightSideItems:[i.a.createElement(ar,{isLoading:h||P,isRuleEditable:_,onEditRule:()=>{L(!0)},onDeleteRule:()=>{A(null==v?void 0:v.id),L(!1)}})]}},i.a.createElement(we.a,null),i.a.createElement(M.EuiFlexGroup,{wrap:!0,gutterSize:"m"},i.a.createElement(M.EuiFlexItem,{style:{minWidth:350}},i.a.createElement(b,{rule:v,isEditable:_,requestRefresh:x,healthColor:Qa(v.executionStatus.status),statusMessage:B})),i.a.createElement(M.EuiFlexItem,{style:{minWidth:350}},i.a.createElement(d,{featureIds:$,onClick:async(e=Te.b)=>{var t,a;R(Object(ke.c)()),await(null===(t=s.get(J.ruleDetailsLocatorID))||void 0===t?void 0:t.navigate({rangeFrom:ke.a.from,rangeTo:ke.a.to,ruleId:g,status:e,tabId:nr.b},{replace:!0})),I(nr.b),null===(a=N.current)||void 0===a||a.scrollIntoView({behavior:"smooth"})},timeRange:w,filter:{term:{"kibana.alert.rule.uuid":g}}})),i.a.createElement(m,{actionTypeRegistry:l,rule:v,ruleTypeRegistry:u,onEditRule:async()=>{x()}})),i.a.createElement(M.EuiSpacer,{size:"l"}),i.a.createElement("div",{ref:N}),i.a.createElement(sr,{esQuery:j,featureIds:$,rule:v,ruleId:g,ruleType:z,activeTabId:O,onEsQueryChange:k,onSetTabId:async e=>{var t;I(e),await(null===(t=s.get(J.ruleDetailsLocatorID))||void 0===t?void 0:t.navigate({ruleId:g,tabId:e},{replace:!0}))}}),C&&i.a.createElement(p,{initialRule:v,onClose:()=>{L(!1)},onSave:async()=>{x()}}),F?i.a.createElement(Za,{ruleIdToDelete:F,title:v.name,onCancel:()=>A(void 0),onDeleting:()=>{D(!0)},onDeleted:()=>{A(void 0),D(!1),a(n.prepend(We.r.observability.rules))}}):null)}const or={ok:o.i18n.translate("xpack.observability.ruleDetails.ruleStatusOk",{defaultMessage:"Ok"}),active:o.i18n.translate("xpack.observability.ruleDetails.ruleStatusActive",{defaultMessage:"Active"}),error:o.i18n.translate("xpack.observability.ruleDetails.ruleStatusError",{defaultMessage:"Error"}),pending:o.i18n.translate("xpack.observability.ruleDetails.ruleStatusPending",{defaultMessage:"Pending"}),unknown:o.i18n.translate("xpack.observability.ruleDetails.ruleStatusUnknown",{defaultMessage:"Unknown"}),warning:o.i18n.translate("xpack.observability.ruleDetails.ruleStatusWarning",{defaultMessage:"Warning"}),noLicense:o.i18n.translate("xpack.observability.ruleDetails.ruleStatusLicenseError",{defaultMessage:"License Error"})};function ur({to:e,redirectToApp:t}){const{application:{navigateToApp:a}}=Object(W.a)().services,r=Object(c.useHistory)(),{search:i,hash:n,pathname:s}=Object(c.useLocation)();return t?("/:sloId"===e&&(e=s.split("/slos")[1]),a(t,{path:`/${e}${i?`?${i}`:""}${n}`,replace:!0})):e&&r.replace(e),null}const cr={[We.m]:{handler:()=>i.a.createElement(ur,{to:We.l}),params:{},exact:!0},[We.e]:{handler:()=>i.a.createElement(Et,null,i.a.createElement(ft,null)),params:{},exact:!0},[We.l]:{handler:()=>i.a.createElement(Et,null,i.a.createElement(H.b,null,i.a.createElement(La,null))),params:{},exact:!0},[We.c]:{handler:()=>i.a.createElement(et,null),params:{},exact:!1},[We.a]:{handler:()=>i.a.createElement(De,null),params:{},exact:!0},[We.d]:{handler:()=>i.a.createElement(ur,{to:"/",redirectToApp:"exploratory-view"}),params:{},exact:!0},[We.o]:{handler:()=>i.a.createElement(Wa,null),params:{},exact:!0},[We.n]:{handler:()=>i.a.createElement(Wa,{activeTab:"logs"}),params:{},exact:!0},[We.p]:{handler:()=>i.a.createElement(lr,null),params:{},exact:!0},[We.b]:{handler:()=>i.a.createElement(Ne.b,null),params:{},exact:!0},[We.h]:{handler:()=>i.a.createElement(ur,{to:"/",redirectToApp:"slo"}),params:{},exact:!0},[We.i]:{handler:()=>i.a.createElement(ur,{to:"/welcome",redirectToApp:"slo"}),params:{},exact:!0},[We.g]:{handler:()=>i.a.createElement(ur,{to:"/outdated-definitions",redirectToApp:"slo"}),params:{},exact:!0},[We.j]:{handler:()=>i.a.createElement(ur,{to:"/:sloId",redirectToApp:"slo"}),params:{},exact:!0},[We.k]:{handler:()=>i.a.createElement(ur,{to:"/:sloId",redirectToApp:"slo"}),params:{},exact:!0}};function dr(){const[e,t]=Object(r.useState)(!1);return null}function pr(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(x,null,Object.keys(cr).map((e=>{const t=e,{handler:a,exact:r}=cr[t];return i.a.createElement(h,{key:t,path:t,exact:r,component:()=>a()})}))))}a(85);const mr=({core:e,config:t,plugins:a,appMountParameters:r,observabilityRuleTypeRegistry:n,ObservabilityPageTemplate:u,usageCollection:c,isDev:d,kibanaVersion:p,isServerless:m})=>{var b,E,g,f,v;const{element:h,history:y,theme$:x}=r,k=e.theme.getTheme().darkMode;e.chrome.setHelpExtension({appName:o.i18n.translate("xpack.observability.feedbackMenu.appName",{defaultMessage:"Observability"}),links:[{linkType:"discuss",href:"https://ela.st/observability-discuss"}]}),h.classList.add(T.APP_WRAPPER_CLASS);const w=new l.QueryClient,M=null!==(b=null==c?void 0:c.components.ApplicationUsageTrackingProvider)&&void 0!==b?b:i.a.Fragment,R=null!==(E=null===(g=a.cloud)||void 0===g?void 0:g.CloudContextProvider)&&void 0!==E?E:i.a.Fragment,C=null!==(f=null===(v=a.presentationUtil)||void 0===v?void 0:v.ContextProvider)&&void 0!==f?f:i.a.Fragment;return s.a.render(i.a.createElement(I.a,e,i.a.createElement(C,null,i.a.createElement(M,null,i.a.createElement(P,{theme:{theme$:x}},i.a.createElement(R,null,i.a.createElement(j.KibanaContextProvider,{services:{...e,...a,storage:new G.Storage(localStorage),isDev:d,kibanaVersion:p,isServerless:m}},i.a.createElement(V.a.Provider,{value:{isDev:d,config:t,appMountParameters:r,observabilityRuleTypeRegistry:n,ObservabilityPageTemplate:u}},i.a.createElement(S,{history:y},i.a.createElement(O.EuiThemeProvider,{darkMode:k},i.a.createElement(U,{coreStart:e,"data-test-subj":"observabilityMainContainer"},i.a.createElement(l.QueryClientProvider,{client:w},i.a.createElement(pr,null),i.a.createElement(dr,null)))))))))))),h),()=>{a.data.search.session.clear(),s.a.unmountComponentAtNode(h)}}},93:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=a(2),i=a(47);function n(){return Object(r.useContext)(i.a)}}}]);