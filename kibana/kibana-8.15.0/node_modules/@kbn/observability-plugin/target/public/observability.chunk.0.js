/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.observability_bundle_jsonpfunction=window.observability_bundle_jsonpfunction||[]).push([[0],Array(91).concat([function(e,t,r){e.exports=r(60)(4)},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(2),a=r(125);function i(){return Object(n.useContext)(a.a)}},,function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a})),r.d(t,"e",(function(){return i})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return s}));const n="alerts",a="/api/alerting",i="/internal/alerting",o="/internal/rac/alerts",s="/internal/triggers_actions_ui"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.apS=t.apSW=t.bind=t.bindW=t.bindTo=t.exists=t.elem=t.toError=t.either=t.getValidationMonoid=t.MonadThrow=t.ChainRec=t.Extend=t.Alt=t.Bifunctor=t.Traversable=t.Foldable=t.Monad=t.Applicative=t.Functor=t.getValidationSemigroup=t.getValidation=t.getAltValidation=t.getApplicativeValidation=t.getWitherable=t.getFilterable=t.getApplyMonoid=t.getApplySemigroup=t.getSemigroup=t.getEq=t.getShow=t.URI=t.throwError=t.sequence=t.traverse=t.reduceRight=t.foldMap=t.reduce=t.duplicate=t.extend=t.alt=t.flatten=t.chainFirst=t.chainFirstW=t.chain=t.chainW=t.of=t.apSecond=t.apFirst=t.ap=t.apW=t.mapLeft=t.bimap=t.map=t.filterOrElse=t.orElse=t.swap=t.getOrElse=t.getOrElseW=t.fold=t.fromPredicate=t.fromOption=t.stringifyJSON=t.parseJSON=t.tryCatch=t.fromNullable=t.right=t.left=t.isRight=t.isLeft=void 0;var n=r(157),a=r(128);function i(e,r){try{return t.right(e())}catch(e){return t.left(r(e))}}t.isLeft=function(e){return"Left"===e._tag},t.isRight=function(e){return"Right"===e._tag},t.left=function(e){return{_tag:"Left",left:e}},t.right=function(e){return{_tag:"Right",right:e}},t.fromNullable=function(e){return function(r){return null==r?t.left(e):t.right(r)}},t.tryCatch=i,t.parseJSON=function(e,t){return i((function(){return JSON.parse(e)}),t)},t.stringifyJSON=function(e,t){return i((function(){return JSON.stringify(e)}),t)},t.fromOption=function(e){return function(r){return"None"===r._tag?t.left(e()):t.right(r.value)}},t.fromPredicate=function(e,r){return function(n){return e(n)?t.right(n):t.left(r(n))}},t.fold=function(e,r){return function(n){return t.isLeft(n)?e(n.left):r(n.right)}},t.getOrElseW=function(e){return function(r){return t.isLeft(r)?e(r.left):r.right}},t.getOrElse=t.getOrElseW,t.swap=function(e){return t.isLeft(e)?t.right(e.left):t.left(e.right)},t.orElse=function(e){return function(r){return t.isLeft(r)?e(r.left):r}},t.filterOrElse=function(e,r){return t.chain((function(n){return e(n)?t.right(n):t.left(r(n))}))};var o=function(e,r){return a.pipe(e,t.map(r))},s=function(e,r){return a.pipe(e,t.ap(r))},l=function(e,r){return a.pipe(e,t.chain(r))},u=function(e,r,n){return a.pipe(e,t.reduce(r,n))},c=function(e){return function(r,n){var i=t.foldMap(e);return a.pipe(r,i(n))}},d=function(e,r,n){return a.pipe(e,t.reduceRight(r,n))},f=function(e){var r=t.traverse(e);return function(e,t){return a.pipe(e,r(t))}},p=function(e,r,n){return a.pipe(e,t.bimap(r,n))},m=function(e,r){return a.pipe(e,t.mapLeft(r))},g=function(e,r){return a.pipe(e,t.alt(r))},y=function(e,r){return a.pipe(e,t.extend(r))},b=function(e,r){return n.tailRec(r(e),(function(e){return t.isLeft(e)?t.right(t.left(e.left)):t.isLeft(e.right)?t.left(r(e.right.left)):t.right(t.right(e.right.right))}))};function h(e){return{concat:function(r,n){return t.isLeft(r)?r:t.isLeft(n)?n:t.right(e.concat(r.right,n.right))}}}function v(e){var r=t.left(e.empty);return{URI:t.URI,_E:void 0,map:o,compact:function(e){return t.isLeft(e)?e:"None"===e.right._tag?r:t.right(e.right.value)},separate:function(e){return t.isLeft(e)?{left:e,right:e}:t.isLeft(e.right)?{left:t.right(e.right.left),right:r}:{left:r,right:t.right(e.right.right)}},filter:function(e,n){return t.isLeft(e)||n(e.right)?e:r},filterMap:function(e,n){if(t.isLeft(e))return e;var a=n(e.right);return"None"===a._tag?r:t.right(a.value)},partition:function(e,n){return t.isLeft(e)?{left:e,right:e}:n(e.right)?{left:r,right:t.right(e.right)}:{left:t.right(e.right),right:r}},partitionMap:function(e,n){if(t.isLeft(e))return{left:e,right:e};var a=n(e.right);return t.isLeft(a)?{left:t.right(a.left),right:r}:{left:r,right:t.right(a.right)}}}}function E(e){return{URI:t.URI,_E:void 0,map:o,ap:function(r,n){return t.isLeft(r)?t.isLeft(n)?t.left(e.concat(r.left,n.left)):r:t.isLeft(n)?n:t.right(r.right(n.right))},of:t.of}}function w(e){return{URI:t.URI,_E:void 0,map:o,alt:function(r,n){if(t.isRight(r))return r;var a=n();return t.isLeft(a)?t.left(e.concat(r.left,a.left)):a}}}function T(e,r){return{concat:function(n,a){return t.isLeft(n)?t.isLeft(a)?t.left(e.concat(n.left,a.left)):n:t.isLeft(a)?a:t.right(r.concat(n.right,a.right))}}}t.map=function(e){return function(r){return t.isLeft(r)?r:t.right(e(r.right))}},t.bimap=function(e,r){return function(n){return t.isLeft(n)?t.left(e(n.left)):t.right(r(n.right))}},t.mapLeft=function(e){return function(r){return t.isLeft(r)?t.left(e(r.left)):r}},t.apW=function(e){return function(r){return t.isLeft(r)?r:t.isLeft(e)?e:t.right(r.right(e.right))}},t.ap=t.apW,t.apFirst=function(e){return a.flow(t.map((function(e){return function(){return e}})),t.ap(e))},t.apSecond=function(e){return a.flow(t.map((function(){return function(e){return e}})),t.ap(e))},t.of=t.right,t.chainW=function(e){return function(r){return t.isLeft(r)?r:e(r.right)}},t.chain=t.chainW,t.chainFirstW=function(e){return function(r){return a.pipe(r,t.chainW((function(r){return a.pipe(e(r),t.map((function(){return r})))})))}},t.chainFirst=t.chainFirstW,t.flatten=t.chain(a.identity),t.alt=function(e){return function(r){return t.isLeft(r)?e():r}},t.extend=function(e){return function(r){return t.isLeft(r)?r:t.right(e(r))}},t.duplicate=t.extend(a.identity),t.reduce=function(e,r){return function(n){return t.isLeft(n)?e:r(e,n.right)}},t.foldMap=function(e){return function(r){return function(n){return t.isLeft(n)?e.empty:r(n.right)}}},t.reduceRight=function(e,r){return function(n){return t.isLeft(n)?e:r(n.right,e)}},t.traverse=function(e){return function(r){return function(n){return t.isLeft(n)?e.of(t.left(n.left)):e.map(r(n.right),t.right)}}},t.sequence=function(e){return function(r){return t.isLeft(r)?e.of(t.left(r.left)):e.map(r.right,t.right)}},t.throwError=t.left,t.URI="Either",t.getShow=function(e,r){return{show:function(n){return t.isLeft(n)?"left("+e.show(n.left)+")":"right("+r.show(n.right)+")"}}},t.getEq=function(e,r){return{equals:function(n,a){return n===a||(t.isLeft(n)?t.isLeft(a)&&e.equals(n.left,a.left):t.isRight(a)&&r.equals(n.right,a.right))}}},t.getSemigroup=function(e){return{concat:function(r,n){return t.isLeft(n)?r:t.isLeft(r)?n:t.right(e.concat(r.right,n.right))}}},t.getApplySemigroup=h,t.getApplyMonoid=function(e){return{concat:h(e).concat,empty:t.right(e.empty)}},t.getFilterable=v,t.getWitherable=function(e){var r=v(e);return{URI:t.URI,_E:void 0,map:o,compact:r.compact,separate:r.separate,filter:r.filter,filterMap:r.filterMap,partition:r.partition,partitionMap:r.partitionMap,traverse:f,sequence:t.sequence,reduce:u,foldMap:c,reduceRight:d,wither:function(e){var t=f(e);return function(n,a){return e.map(t(n,a),r.compact)}},wilt:function(e){var t=f(e);return function(n,a){return e.map(t(n,a),r.separate)}}}},t.getApplicativeValidation=E,t.getAltValidation=w,t.getValidation=function(e){var r=E(e),n=w(e);return{URI:t.URI,_E:void 0,map:o,of:t.of,chain:l,bimap:p,mapLeft:m,reduce:u,foldMap:c,reduceRight:d,extend:y,traverse:f,sequence:t.sequence,chainRec:b,throwError:t.throwError,ap:r.ap,alt:n.alt}},t.getValidationSemigroup=T,t.Functor={URI:t.URI,map:o},t.Applicative={URI:t.URI,map:o,ap:s,of:t.of},t.Monad={URI:t.URI,map:o,ap:s,of:t.of,chain:l},t.Foldable={URI:t.URI,reduce:u,foldMap:c,reduceRight:d},t.Traversable={URI:t.URI,map:o,reduce:u,foldMap:c,reduceRight:d,traverse:f,sequence:t.sequence},t.Bifunctor={URI:t.URI,bimap:p,mapLeft:m},t.Alt={URI:t.URI,map:o,alt:g},t.Extend={URI:t.URI,map:o,extend:y},t.ChainRec={URI:t.URI,map:o,ap:s,chain:l,chainRec:b},t.MonadThrow={URI:t.URI,map:o,ap:s,of:t.of,chain:l,throwError:t.throwError},t.getValidationMonoid=function(e,r){return{concat:T(e,r).concat,empty:t.right(r.empty)}},t.either={URI:t.URI,map:o,of:t.of,ap:s,chain:l,reduce:u,foldMap:c,reduceRight:d,traverse:f,sequence:t.sequence,bimap:p,mapLeft:m,alt:g,extend:y,chainRec:b,throwError:t.throwError},t.toError=function(e){return e instanceof Error?e:new Error(String(e))},t.elem=function(e){return function(r,n){return!t.isLeft(n)&&e.equals(r,n.right)}},t.exists=function(e){return function(r){return!t.isLeft(r)&&e(r.right)}},t.bindTo=function(e){return t.map(a.bindTo_(e))},t.bindW=function(e,r){return t.chainW((function(n){return a.pipe(r(n),t.map((function(t){return a.bind_(n,e,t)})))}))},t.bind=t.bindW,t.apSW=function(e,r){return a.flow(t.map((function(t){return function(r){return a.bind_(t,e,r)}})),t.apW(r))},t.apS=t.apSW},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(2);const a=".es-query",i="xpack.ml.anomaly_detection_alert";var o=r(92);function s(){const{observabilityRuleTypeRegistry:e}=Object(o.a)();return Object(n.useMemo)((()=>[a,i,...e.list()]),[e])}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(61),a=r(2),i=n.__importDefault(r(112));t.default=function(e,t){var r=a.useState(t),n=r[0],o=r[1];return i.default((function(){var t=e.subscribe(o);return function(){return t.unsubscribe()}}),[e]),n}},,function(e,t,r){"use strict";r.d(t,"b",(function(){return m})),r.d(t,"c",(function(){return _})),r.d(t,"d",(function(){return M})),r.d(t,"a",(function(){return N}));var n=r(91),a=r.n(n),i=r(2),o=r(1),s=r(39),l=r(23),u=r(68);const c=o.i18n.translate("alertsUIShared.components.alertLifecycleStatusBadge.activeLabel",{defaultMessage:"Active"}),d=o.i18n.translate("alertsUIShared.components.alertLifecycleStatusBadge.recoveredLabel",{defaultMessage:"Recovered"}),f=o.i18n.translate("alertsUIShared.components.alertLifecycleStatusBadge.flappingLabel",{defaultMessage:"Flapping"}),p=o.i18n.translate("alertsUIShared.components.alertLifecycleStatusBadge.untrackedLabel",{defaultMessage:"Untracked"}),m=Object(i.memo)((e=>{const{alertStatus:t,flapping:r}=e,n=(e=>"string"==typeof e?"true"===e:e)(r),{label:i,color:o,iconProps:m,isDisabled:g}=((e,t)=>e===l.c?{label:p,color:"default",isDisabled:!0}:e===l.b?{label:d,color:"success"}:t?{label:f,color:"danger",iconProps:{iconType:"visGauge"}}:{label:c,color:"danger"})(t,n);return Object(u.jsx)(s.EuiBadge,a()({"data-test-subj":"alertLifecycleStatusBadge",isDisabled:g,color:o},m),i)}));var g=r(149);let y=function(e){return e.Running="running",e.Upcoming="upcoming",e.Finished="finished",e.Archived="archived",e}({});var b=r(42);const h=({http:e,notifications:{toasts:t}},{enabled:r})=>Object(b.useQuery)(["GET",v],(({signal:t})=>(async(e,t)=>(await e.fetch("/internal/alerting/rules/maintenance_window/_active",{method:"GET",signal:t})).map((e=>(({expiration_date:e,r_rule:t,created_by:r,updated_by:n,created_at:a,updated_at:i,event_start_time:o,event_end_time:s,category_ids:l,...u})=>({...u,expirationDate:e,rRule:t,createdBy:r,updatedBy:n,createdAt:a,updatedAt:i,eventStartTime:o,eventEndTime:s,categoryIds:l}))(e))))(e,t)),{enabled:r,refetchInterval:6e4,onError:e=>{t.addError(e,{title:E,toastMessage:w})}}),v="/internal/alerting/rules/maintenance_window/_active",E=o.i18n.translate("alertsUIShared.maintenanceWindowCallout.fetchError",{defaultMessage:"Failed to check if maintenance windows are active"}),w=o.i18n.translate("alertsUIShared.maintenanceWindowCallout.fetchErrorDescription",{defaultMessage:"Rule notifications are stopped while maintenance windows are running."}),T="maintenanceWindow",j=o.i18n.translate("alertsUIShared.maintenanceWindowCallout.maintenanceWindowActiveDescription",{defaultMessage:"Rule notifications are stopped while maintenance windows are running."}),x=o.i18n.translate("alertsUIShared.maintenanceWindowCallout.maintenanceWindowActiveNoCategories",{defaultMessage:"One or more maintenance windows are running"}),O=e=>o.i18n.translate("alertsUIShared.maintenanceWindowCallout.maintenanceWindowTwoCategoryNames",{defaultMessage:"{first} and {second}",values:{first:e[0],second:e[1]}}),k=e=>o.i18n.translate("alertsUIShared.maintenanceWindowCallout.maintenanceWindowMultipleCategoryNames",{defaultMessage:"{commaSeparatedList}, and {last}",values:{commaSeparatedList:e.slice(0,-1).join(", "),last:e.slice(-1).join("")}}),S={...g.a,management:{...g.a.management,label:o.i18n.translate("alertsUIShared.maintenanceWindowCallout.managementCategoryLabel",{defaultMessage:"Stack"})}};function _({kibanaServices:e,categories:t}){const{application:{capabilities:r}}=e,n=!r[T].show&&!r[T].save,{data:a=[]}=h(e,{enabled:!n}),l=Object(i.useMemo)((()=>!!a&&0!==a.length&&(!Array.isArray(t)||a.some((({status:e,categoryIds:r})=>e===y.Running&&(!Array.isArray(r)||r.some((e=>t.includes(e)))))))),[t,a]),c=Object(i.useMemo)((()=>{const e=Array.from(new Set(a.map((({categoryIds:e})=>null==e?void 0:e.filter((e=>!t||t.includes(e))))).flat())).map((e=>{var t,r;return null!==(t=null===(r=Object.values(S).find((t=>t.id===e)))||void 0===r?void 0:r.label)&&void 0!==t?t:e})).filter(Boolean);return 0===e.length?null:1===e.length?`${e}`:2===e.length?O(e):k(e)}),[a,t]);return n?null:l?Object(u.jsx)(s.EuiCallOut,{title:c?o.i18n.translate("alertsUIShared.maintenanceWindowCallout.maintenanceWindowActive",{defaultMessage:"{activeWindowCount, plural, one {A maintenance window is} other {Maintenance windows are}} running for {categories} rules",values:{categories:c,activeWindowCount:a.length}}):x,color:"warning",iconType:"iInCircle","data-test-subj":"maintenanceWindowCallout"},j):null}r(152);o.i18n.translate("alertsUIShared.components.addMessageVariables.loadingMessage",{defaultMessage:"Loading variables"}),o.i18n.translate("alertsUIShared.components.addMessageVariables.noVariablesFound",{defaultMessage:"No variables found"}),o.i18n.translate("alertsUIShared.components.addMessageVariables.noVariablesAvailable",{defaultMessage:"No variables available"}),o.i18n.translate("alertsUIShared.components.addMessageVariables.deprecatedVariablesAreShown",{defaultMessage:"Deprecated variables are shown"}),o.i18n.translate("alertsUIShared.components.addMessageVariables.deprecatedVariablesAreHidden",{defaultMessage:"Deprecated variables are hidden"}),o.i18n.translate("alertsUIShared.components.addMessageVariables.hideDeprecatedVariables",{defaultMessage:"Hide"}),o.i18n.translate("alertsUIShared.components.addMessageVariables.showAllDeprecatedVariables",{defaultMessage:"Show all"}),o.i18n.translate("alertsUIShared.components.addMessageVariables.addVariablePopoverButton",{defaultMessage:"Add variable"}),o.i18n.translate("alertsUIShared.components.addMessageVariables.addRuleVariableTitle",{defaultMessage:"Add variable"}),r(12),r(94),o.i18n.translate("alertsUIShared.component.alertsSearchBar.placeholder",{defaultMessage:"Search alerts (e.g. kibana.alert.evaluation.threshold > 75)"}),r(120);var A=r(74);const I={box:{incremental:!0,placeholder:o.i18n.translate("alertsUIShared.alertFieldsTable.filter.placeholder",{defaultMessage:"Filter by Field, Value, or Description..."}),schema:!0}},R=[{field:"key",name:o.i18n.translate("alertsUIShared.alertFieldsTable.field",{defaultMessage:"Field"}),width:"30%"},{field:"value",name:o.i18n.translate("alertsUIShared.alertFieldsTable.value",{defaultMessage:"Value"}),width:"70%"}],M=e=>Object(u.jsx)(s.EuiTabbedContent,a()({css:Object(u.css)("display:flex;flex-direction:column;flex:1;& [role='tabpanel']{display:flex;flex:1 0 0;",Object(s.useEuiOverflowScroll)("y",!0),";}","")},e)),C=[25,50,100],N=Object(i.memo)((({alert:e,fields:t})=>{const{onTableChange:r,paginationTableProp:n}=(()=>{const[e,t]=Object(i.useState)({pageIndex:0});return{onTableChange:Object(i.useCallback)((({page:{index:e}})=>{t({pageIndex:e})}),[]),paginationTableProp:Object(i.useMemo)((()=>({...e,pageSizeOptions:C})),[e])}})(),a=Object(i.useMemo)((()=>{let r=Object.entries(e).map((([e,t])=>({key:e,value:t})));return null!=t&&t.length&&(r=r.filter((e=>t.includes(e.key)))),r}),[e,t]);return Object(u.jsx)(s.EuiInMemoryTable,{items:a,itemId:"key",columns:R,onTableChange:r,pagination:n,search:I,css:Object(u.css)("& .euiTableRow{font-size:",A.euiThemeVars.euiFontSizeXS,";font-family:",A.euiThemeVars.euiCodeFontFamily,";}","")})}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return x}));var n,a=r(39),i=r(30),o=r(1),s=r(2),l=r.n(s),u=r(92),c=r(28),d=r(77),f=r.n(d),p=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},n(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),m="html",g="svg",y=function(e,t){var r,n,a,i={};if(e===m)a=document.createElement("div");else{if(e!==g)throw new Error('Invalid element type "'+e+'" for createPortalNode: must be "html" or "svg".');a=document.createElementNS("http://www.w3.org/2000/svg","g")}if(t&&"object"==typeof t)for(var o=0,s=Object.entries(t.attributes);o<s.length;o++){var l=s[o],u=l[0],c=l[1];a.setAttribute(u,c)}var d={element:a,elementType:e,setPortalProps:function(e){i=e},getInitialPortalProps:function(){return i},mount:function(t,a){if(a!==n){if(d.unmount(),t!==r&&!function(e,t){if(t===m)return e instanceof HTMLElement;if(t===g)return e instanceof SVGElement;throw new Error('Unrecognized element type "'+t+'" for validateElementType.')}(t,e))throw new Error('Invalid element type for portal: "'+e+'" portalNodes must be used with '+e+" elements, but OutPortal is within <"+t.tagName+">.");t.replaceChild(d.element,a),r=t,n=a}},unmount:function(e){e&&e!==n||r&&n&&(r.replaceChild(n,d.element),r=void 0,n=void 0)}};return d},b=function(e){function t(t){var r=e.call(this,t)||this;return r.addPropsChannel=function(){Object.assign(r.props.node,{setPortalProps:function(e){r.setState({nodeProps:e})}})},r.state={nodeProps:r.props.node.getInitialPortalProps()},r}return p(t,e),t.prototype.componentDidMount=function(){this.addPropsChannel()},t.prototype.componentDidUpdate=function(){this.addPropsChannel()},t.prototype.render=function(){var e=this,t=this.props,r=t.children,n=t.node;return d.createPortal(s.Children.map(r,(function(t){return s.isValidElement(t)?s.cloneElement(t,e.state.nodeProps):t})),n.element)},t}(s.PureComponent),h=function(e){function t(t){var r=e.call(this,t)||this;return r.placeholderNode=s.createRef(),r.passPropsThroughPortal(),r}return p(t,e),t.prototype.passPropsThroughPortal=function(){var e=Object.assign({},this.props,{node:void 0});this.props.node.setPortalProps(e)},t.prototype.componentDidMount=function(){var e=this.props.node;this.currentPortalNode=e;var t=this.placeholderNode.current,r=t.parentNode;e.mount(r,t),this.passPropsThroughPortal()},t.prototype.componentDidUpdate=function(){var e=this.props.node;this.currentPortalNode&&e!==this.currentPortalNode&&(this.currentPortalNode.unmount(this.placeholderNode.current),this.currentPortalNode=e);var t=this.placeholderNode.current,r=t.parentNode;e.mount(r,t),this.passPropsThroughPortal()},t.prototype.componentWillUnmount=function(){this.props.node.unmount(this.placeholderNode.current)},t.prototype.render=function(){return s.createElement("div",{ref:this.placeholderNode})},t}(s.PureComponent),v=y.bind(null,m),E=(y.bind(null,g),r(151)),w=r(68);const T=(e,t)=>r=>(f.a.render(Object(w.jsx)(E.a,t,e),r),()=>f.a.unmountComponentAtNode(r));function j({children:e,setHeaderActionMenu:t,theme$:r}){const{i18n:n}=Object(c.a)().services,a=Object(s.useMemo)((()=>v()),[]);return Object(s.useEffect)((()=>(t((e=>T(l.a.createElement(h,{node:a}),{theme:{theme$:r},i18n:n})(e))),()=>{a.unmount(),t(void 0)})),[a,t,n,r]),l.a.createElement(b,{node:a},e)}function x(){const{share:e,theme:t}=Object(c.a)().services,r=null==e?void 0:e.url.locators.get(i.b),n=null==r?void 0:r.useUrl({}),{appMountParameters:s}=Object(u.a)();return l.a.createElement(j,{setHeaderActionMenu:null==s?void 0:s.setHeaderActionMenu,theme$:t.theme$},l.a.createElement(a.EuiFlexGroup,{responsive:!1,gutterSize:"s"},l.a.createElement(a.EuiFlexItem,null,l.a.createElement(a.EuiHeaderLinks,null,l.a.createElement(a.EuiHeaderLink,{color:"primary",href:n,iconType:"indexOpen"},o.i18n.translate("xpack.observability.home.addData",{defaultMessage:"Add data"}))))))}r(9),s.Component},function(e,t,r){"use strict";r.d(t,"a",(function(){return g}));var n=r(0),a=r(23),i=r(90);const o={[i.b]:{type:"scaled_float",scaling_factor:100,required:!1},[i.c]:{type:"scaled_float",scaling_factor:100,required:!1},[i.a]:{type:"object",array:!1,required:!1},[i.d]:{type:"scaled_float",scaling_factor:100,required:!1,array:!0},[i.e]:{type:"object",array:!0,required:!1},[i.f]:{type:"keyword",array:!0,required:!1},[i.g]:{type:"keyword",array:!0,required:!1}};var s=r(118),l=r(95),u=r(129),c=r(13),d=r(148);const f=Object(d.a)(o),p=(e,t=!1)=>{const r=t?(e=>{const t=Object(c.pick)(o,Object.keys(e));return Object(d.a)(t).decode(e)})(e):f.decode(e);if(Object(l.isLeft)(r))throw new Error(u.PathReporter.report(r).join("\n"));return f.encode(r.right)};var m=r(10);const g=e=>t=>{var r,i,l,u;const c=Object.keys(o).reduce(((e,r)=>t[r]?{...e,[r]:t[r]}:e),{}),d={...Object(s.a)(t,!0),...p(c,!0)},f=e.getFormatter(d[n.x]);let g={};try{var y;g=null!==(y=null==f?void 0:f({fields:d,formatters:{asDuration:m.b,asPercent:m.f}}))&&void 0!==y?y:{}}catch(e){}return{...{link:void 0,reason:null!==(r=null!==(i=d[n.m])&&void 0!==i?i:d[n.r])&&void 0!==r?r:"",...g},fields:d,active:d[n.B]===a.a,start:new Date(null!==(l=d[n.A])&&void 0!==l?l:0).getTime(),lastUpdated:new Date(null!==(u=d[n.K])&&void 0!==u?u:0).getTime()}}},,,function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));const n="/internal/rac/alerts"},function(e,t,r){"use strict";r.d(t,"b",(function(){return i}));var n=r(76);r.d(t,"a",(function(){return n.UI_SETTINGS}));var a=r(18);function i(e){const{services:{uiSettings:t}}=Object(a.useKibana)();return t.get(e)}},,,function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));const n=e=>Number(e).toLocaleString("en",{maximumFractionDigits:1});let a=function(e){return e.bytesDecimal="bytesDecimal",e.bitsDecimal="bitsDecimal",e.abbreviatedNumber="abbreviatedNumber",e}({});const i={[a.bytesDecimal]:["B","kB","MB","GB","TB","PB","EB","ZB","YB"],[a.bitsDecimal]:["bit","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],[a.abbreviatedNumber]:["","K","M","B","T"]},o={[a.bytesDecimal]:1e3,[a.bitsDecimal]:1e3,[a.abbreviatedNumber]:1e3},s=e=>t=>{const r=i[e],s=o[e],l=e===a.bitsDecimal?8*t:t,u=Math.min(Math.floor(Math.log(Math.abs(l))/Math.log(s)),r.length-1);return u<0?`${n(l)} ${r[0]}`:`${n(l/Math.pow(s,u))} ${r[u]}`},l={number:n,abbreviatedNumber:s(a.abbreviatedNumber),bytes:s(a.bytesDecimal),bits:s(a.bitsDecimal),percent:e=>`${n(100*e)}%`,highPrecision:e=>Number(e).toLocaleString("en",{maximumFractionDigits:5})},u=(e,t="{{value}}")=>r=>{if(null==r)return"";const n=(0,l[e])(Number(r));return t.replace(/{{value}}/g,n)}},,function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return i}));var n=r(39);const a=e=>e.darkMode?n.COLOR_MODES_STANDARD.dark:n.COLOR_MODES_STANDARD.light,i={darkMode:!1}},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),a="undefined"!=typeof window?n.useLayoutEffect:n.useEffect;t.default=a},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(1),a=r(108);const i=(e,t="")=>{const r=n.i18n.translate("xpack.observability.customThreshold.rule.alerting.noDataFormattedValue",{defaultMessage:"[NO DATA]"});let i=Object(a.a)("highPrecision");return t.endsWith(".pct")&&(i=Object(a.a)("percent")),t.endsWith(".bytes")&&(i=Object(a.a)("bytes")),null==e?r:i(e)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(42),a=r(1),i=r(71),o=r(72),s=r(28);function l({ruleId:e}){const{http:t,notifications:{toasts:r}}=Object(s.a)().services,{isInitialLoading:l,isLoading:u,isError:c,isSuccess:d,isRefetching:f,data:p,refetch:m}=Object(n.useQuery)({queryKey:["fetchRule",e],queryFn:async({signal:r})=>{try{if(!e)return;const n=await t.get(`${i.INTERNAL_BASE_ALERTING_API_PATH}/rule/${encodeURIComponent(e)}`,{signal:r});return Object(o.transformRule)(n)}catch(e){throw e}},keepPreviousData:!0,enabled:Boolean(e),refetchOnWindowFocus:!1,onError:e=>{r.addError(e,{title:a.i18n.translate("xpack.observability.ruleDetails.ruleLoadError",{defaultMessage:"Unable to load rule"}),toastMessage:e instanceof Error?e.message:"string"==typeof e?e:""})}});return{rule:p,isLoading:u,isInitialLoading:l,isRefetching:f,isSuccess:d,isError:c,refetch:m}}},,function(e,t,r){"use strict";r.d(t,"a",(function(){return ye}));var n=r(2),a=r.n(n),i=r(39),o=r(0),s=r(90),l=r(18),u=r(1),c=r(51),d=r(13),f=r(8),p=r(28);var m=r(37),g=r(97),y=r.n(g),b=r(89),h=r(29),v=r(14),E=r(6),w=r(108),T=r(113),j=function(e){return e.number="number",e.abbreviatedNumber="abbreviatedNumber",e.bytes="bytes",e.bits="bits",e.percent="percent",e}(j||{});const x={count:{formatter:j.number,template:"{{value}}"},cpu:{formatter:j.percent,template:"{{value}}"},memory:{formatter:j.percent,template:"{{value}}"},rx:{formatter:j.bits,template:"{{value}}/s"},tx:{formatter:j.bits,template:"{{value}}/s"},logRate:{formatter:j.abbreviatedNumber,template:"{{value}}/s"},diskIOReadBytes:{formatter:j.bytes,template:"{{value}}/s"},diskIOWriteBytes:{formatter:j.bytes,template:"{{value}}/s"},s3BucketSize:{formatter:j.bytes,template:"{{value}}"},s3TotalRequests:{formatter:j.abbreviatedNumber,template:"{{value}}"},s3NumberOfObjects:{formatter:j.abbreviatedNumber,template:"{{value}}"},s3UploadBytes:{formatter:j.bytes,template:"{{value}}"},s3DownloadBytes:{formatter:j.bytes,template:"{{value}}"},sqsOldestMessage:{formatter:j.number,template:"{{value}} seconds"},rdsLatency:{formatter:j.number,template:"{{value}} ms"}};var O=r(117);function k(e){if(0===e.length)return!1;const t=e[0].slice(e[0].lastIndexOf(".")+1);for(let r=1;r<e.length;r++)if(e[r].slice(e[r].lastIndexOf(".")+1)!==t)return!1;return!0}const S=e=>{switch(e){case h.a.GREATER_THAN:return v.b;case h.a.GREATER_THAN_OR_EQUALS:return v.a;case h.a.LESS_THAN:return v.d;case h.a.LESS_THAN_OR_EQUALS:return v.c;default:return e}},_=(e,t,r)=>!r||!e||e.length>1||e[0]<=0?"":u.i18n.translate("xpack.observability.alertFlyout.overview.aboveThresholdLabel",{defaultMessage:" ({pctValue}% {comparator} the threshold)",values:{pctValue:Math.abs(parseFloat((100*(r-e[0])/e[0]).toFixed(2))),comparator:S(Object(E.convertToBuiltInComparators)(t))}});var A=r(99),I=r(5),R=r.n(I);const M=u.i18n.translate("cases.components.status.open",{defaultMessage:"Open"}),C=u.i18n.translate("cases.components.status.inProgress",{defaultMessage:"In progress"}),N=u.i18n.translate("cases.components.status.closed",{defaultMessage:"Closed"});let L=function(e){return e.open="open",e["in-progress"]="in-progress",e.closed="closed",e}({});var F=r(68);const P={[L.open]:{color:"primary",label:M,icon:"folderOpen"},[L["in-progress"]]:{color:"warning",label:C,icon:"folderExclamation"},[L.closed]:{color:"default",label:N,icon:"folderCheck"}},U=({status:e,dataTestSubj:t})=>{var r,n;return Object(F.jsx)(i.EuiBadge,{"data-test-subj":t||`case-status-badge-${e}`,color:null===(r=P[e])||void 0===r?void 0:r.color},null===(n=P[e])||void 0===n?void 0:n.label)};U.displayName="Status";const D=Object(n.memo)(U);var q=r(40),z={name:"1uc4sf3",styles:"margin-left:auto;flex-grow:0"},V={name:"qamjgr",styles:"margin-right:4px"};const B=a.a.memo((({count:e,icon:t})=>Object(F.jsx)(i.EuiFlexGroup,{alignItems:"center",gutterSize:"none",css:z},Object(F.jsx)(i.EuiFlexItem,{grow:!1},Object(F.jsx)(i.EuiIcon,{css:V,size:"s",type:t,"data-test-subj":"comment-count-icon"})),Object(F.jsx)(i.EuiFlexItem,{grow:!1},Object(F.jsx)(i.EuiText,{size:"xs"},e)))));B.displayName="IconWithCount";const $=(e,t)=>t<=0||e.length<=t?e:e.slice(0,t).trim().concat("..."),W=u.i18n.translate("cases.components.tooltip.opened",{defaultMessage:"Opened"}),G=u.i18n.translate("cases.components.tooltip.closed",{defaultMessage:"Closed"}),H=u.i18n.translate("cases.components.tooltip.by",{defaultMessage:"by"}),K=a.a.memo((({title:e,description:t,status:r,totalComments:n,createdAt:o,createdBy:s})=>{var l,u;return Object(F.jsx)(a.a.Fragment,null,Object(F.jsx)(i.EuiFlexGroup,{gutterSize:"xs",direction:"column"},Object(F.jsx)(i.EuiFlexGroup,{gutterSize:"xs",responsive:!1},Object(F.jsx)(i.EuiFlexItem,{grow:!1},Object(F.jsx)(D,{status:r})),Object(F.jsx)(B,{count:n,icon:"editorComment"})),Object(F.jsx)(i.EuiFlexGroup,{direction:"column",gutterSize:"xs"},Object(F.jsx)(i.EuiFlexItem,null,Object(F.jsx)(i.EuiText,{size:"relative"},Object(F.jsx)("strong",null,$(e,35)))),Object(F.jsx)(i.EuiFlexItem,null,Object(F.jsx)(i.EuiText,{size:"relative"},$(t,80))))),Object(F.jsx)(i.EuiHorizontalRule,{margin:"xs"}),Object(F.jsx)(i.EuiText,{size:"relative"},r===L.closed?G:W," ",Object(F.jsx)(q.FormattedRelative,{value:o})," ",s.username||s.fullName?Object(F.jsx)(a.a.Fragment,null,H," ",Object(F.jsx)("strong",{"data-test-subj":"tooltip-username"},$(null!==(l=null!==(u=s.username)&&void 0!==u?u:s.fullName)&&void 0!==l?l:"",15))):null))}));K.displayName="TooltipContent";const J=Object(n.memo)(K);var Q={name:"1tpdvqq",styles:"width:240px"},Y={name:"1o3679e",styles:"width:70px;margin-bottom:12px"};const Z=()=>Object(F.jsx)(i.EuiFlexItem,{css:Q,"data-test-subj":"tooltip-loading-content"},Object(F.jsx)(i.EuiSkeletonTitle,{size:"xxxs",css:Y}),Object(F.jsx)(i.EuiSkeletonText,{lines:3}),Object(F.jsx)(i.EuiHorizontalRule,{margin:"xs"}),Object(F.jsx)(i.EuiSpacer,{size:"s"}));Z.displayName="Skeleton";const X=Z,ee=a.a.memo((e=>{const{dataTestSubj:t,children:r,loading:n=!1,className:o="",content:s}=e;return Object(F.jsx)(i.EuiToolTip,{"data-test-subj":t||"cases-components-tooltip",anchorClassName:o,content:n?Object(F.jsx)(X,null):Object(F.jsx)(J,s)},Object(F.jsx)(a.a.Fragment,null,r))}));ee.displayName="Tooltip";const te=Object(n.memo)(ee);var re=r(48),ne=r(130);const ae="status",ie="source",oe="triggered",se="duration",le="observed_value",ue="threshold",ce="rule_name",de="rule_type",fe="cases",pe=[{field:"key",name:"",width:"30%"},{field:"value",name:"",render:(e,{id:t,meta:r})=>{if(!e&&0!==e&&!r)return a.a.createElement(a.a.Fragment,null,"-");const n=null==r?void 0:r.ruleCriteria;switch(t){case ae:const t=e,o=null==r?void 0:r.flapping;return a.a.createElement(A.b,{alertStatus:t,flapping:o});case ie:const s=null==r?void 0:r.groups;if(!s.length)return a.a.createElement(a.a.Fragment,null,"-");const l=null==r?void 0:r.alertEnd,c=null==r?void 0:r.timeRange;return a.a.createElement("div",null,a.a.createElement(ne.a,{groups:s,timeRange:l?c:{...c,to:"now"}}));case oe:const d=e;return a.a.createElement(i.EuiText,{size:"s"},R()(d).format(null==r?void 0:r.dateFormat));case se:const f=e;return a.a.createElement(i.EuiText,{size:"s"},a.a.createElement("h4",null,R.a.duration(f/1e3).humanize()));case ce:const p=e,m=null==r?void 0:r.ruleLink;return a.a.createElement(i.EuiLink,{"data-test-subj":"alertFlyoutOverview",href:m||"#"},p);case le:return n?a.a.createElement("div",null,n.map(((e,t)=>{const r=e.observedValue,n=e.pctAboveThreshold;return a.a.createElement(i.EuiText,{size:"s",key:`${r}-${t}`},a.a.createElement("h4",{style:{display:"inline"}},r),a.a.createElement("span",null,n))})),n.length>1&&a.a.createElement(i.EuiCallOut,{size:"s",title:u.i18n.translate("xpack.observability.columns.euiCallOut.multipleConditionsLabel",{defaultMessage:"Multiple conditions"}),iconType:"alert"})):a.a.createElement(a.a.Fragment,null,"-");case ue:return n?a.a.createElement("div",null,n.map(((e,t)=>{const{threshold:r,comparator:n}=e;let o=n.toUpperCase();return n!==h.a.NOT_BETWEEN&&n!==re.a.OUTSIDE_RANGE||(o="NOT BETWEEN"),a.a.createElement(i.EuiText,{size:"s",key:`${r}-${t}`},a.a.createElement("h4",null,`${o} ${r}`))}))):a.a.createElement(a.a.Fragment,null,"-");case de:const g=e;return a.a.createElement(i.EuiText,{size:"s"},g);case fe:const y=null==r?void 0:r.cases;if(null==r?void 0:r.isLoading)return a.a.createElement(i.EuiLoadingSpinner,{size:"m"});if(!y||!y.length)return a.a.createElement(a.a.Fragment,null,"-");const b=null==r?void 0:r.navigateToCaseView;return y.map(((e,t)=>{return[t>0&&t<y.length&&", ",a.a.createElement(te,{loading:!1,content:(r=e,{title:r.title,description:r.description,createdAt:r.created_at,createdBy:{username:null!==(n=r.created_by.username)&&void 0!==n?n:void 0,fullName:null!==(o=r.created_by.full_name)&&void 0!==o?o:void 0},status:r.status,totalComments:r.totalComment}),key:e.id},a.a.createElement(i.EuiLink,{key:e.id,onClick:()=>b({caseId:e.id}),"data-test-subj":"o11yAlertFlyoutOverviewTabCasesLink"},e.title))];var r,n,o}));default:return a.a.createElement(a.a.Fragment,null,"-")}}}];var me=r(133),ge=r(31);const ye=Object(n.memo)((({alert:e,pageId:t,alertStatus:r})=>{var g;const{http:{basePath:{prepend:v}}}=Object(p.a)().services,{cases:j,isLoading:S}=(({ids:e=[]})=>{const[t,r]=Object(n.useState)([]),[a,i]=Object(n.useState)(),[o,s]=Object(n.useState)(!1),{cases:l}=Object(p.a)().services;return Object(n.useEffect)((()=>{e.length&&(s(!0),(async()=>l.api.cases.bulkGet({ids:e}))().then((e=>r(e.cases))).catch((e=>i(e))).finally((()=>s(!1))))}),[l.api.cases,e]),{cases:t,isLoading:o,error:a}})({ids:e.fields[o.b]||[]}),A=Object(l.useUiSetting)("dateFormat"),[I,R]=Object(n.useState)({from:"now-15m",to:"now"}),[M,C]=Object(n.useState)([]),N=e.fields[o.A],L=e.fields[o.e],F=null!==(g=Object(d.get)(e.fields,o.y))&&void 0!==g?g:null,P=t!==ge.d&&F?v(f.r.observability.ruleDetails(F)):null;Object(n.useEffect)((()=>{const t=(e=>{const t=e.fields[o.t];if(!t)return;const r=null==t?void 0:t.criteria,n=e.fields[o.x],a=e.fields[s.d]||[e.fields[s.c]];switch(n){case b.e:return a.map(((e,t)=>{const n=r[t],a=n.metrics.map((e=>e.field||"COUNT_AGG")),i=n.comparator,o=n.threshold,s=k(a);return{observedValue:Object(T.a)(e,s?a[0]:"noType"),threshold:o.map((e=>Object(T.a)(e,s?a[0]:"noType"))).join(" AND "),comparator:i,pctAboveThreshold:_(o,Object(E.convertToBuiltInComparators)(i),e)}}));case O.c:return a.map(((e,t)=>{const n=r[t];let a=[];const i=n.metric,o=n.customMetrics;i&&(a=[i]),o&&o.length&&(a=o.map((e=>e.field)));const s=n.comparator,l=n.threshold,u=k(a);return{observedValue:Object(T.a)(e,u?a[0]:"noType"),threshold:l.map((e=>Object(T.a)(e,u?a[0]:"noType"))).join(" AND "),comparator:s,pctAboveThreshold:_(l,Object(E.convertToBuiltInComparators)(s),e)}}));case b.c:return a.map(((e,t)=>{const{threshold:n,customMetric:a,metric:i,comparator:o}=r[t],s=(null==a?void 0:a.field)||i,l=n.map((e=>(s.endsWith(".pct")||x[i]&&"percent"===x[i].formatter?e/=100:(s.endsWith(".bytes")||x[i]&&"bits"===x[i].formatter)&&(e/=8),e)));let u,c;if(a.field)u=Object(T.a)(e,a.field),c=n.map((e=>Object(T.a)(e,s))).join(" AND ");else{const t=x[i].formatter,r=Object(w.a)(t);u=r(e),c=l.map(r).join(" AND ")}return{observedValue:u,threshold:c,comparator:o,pctAboveThreshold:_(l,Object(E.convertToBuiltInComparators)(o),e)}}));case b.b:const{comparator:n}=null==t?void 0:t.count;return[{observedValue:[e.fields[s.c]],threshold:[e.fields[s.b]],comparator:n,pctAboveThreshold:_([e.fields[s.b]],n,e.fields[s.c])}];case b.a.ErrorCount:return[{observedValue:[e.fields[s.c]],threshold:[e.fields[s.b]],comparator:h.a.GREATER_THAN,pctAboveThreshold:_([e.fields[s.b]],h.a.GREATER_THAN,e.fields[s.c])}];case b.a.TransactionErrorRate:return[{observedValue:[Object(E.asPercent)(e.fields[s.c],100)],threshold:[Object(E.asPercent)(e.fields[s.b],100)],comparator:h.a.GREATER_THAN,pctAboveThreshold:_([e.fields[s.b]],h.a.GREATER_THAN,e.fields[s.c])}];case b.a.TransactionDuration:return[{observedValue:[Object(E.asDuration)(e.fields[s.c])],threshold:[Object(E.asDuration)(e.fields[s.b])],comparator:h.a.GREATER_THAN,pctAboveThreshold:_([e.fields[s.b]],h.a.GREATER_THAN,e.fields[s.c])}];case".es-query":const{thresholdComparator:i,threshold:o}=t;return[{observedValue:[e.fields[s.c]],threshold:o.join(" AND "),comparator:i,pctAboveThreshold:_(o,i,e.fields[s.c])}];case b.f:return[{observedValue:[e.fields[s.c]],threshold:[e.fields[s.b]],comparator:h.a.GREATER_THAN,pctAboveThreshold:_([e.fields[s.b]],h.a.GREATER_THAN,e.fields[s.c])}];default:return[]}})(e);C(t)}),[e]),Object(n.useEffect)((()=>{R(Object(c.a)(N,L))}),[N,L]);const{navigateToCaseView:U}=(()=>{var e;const{application:{navigateToApp:t,currentAppId$:r}}=Object(p.a)().services,a=null!==(e=y()(r))&&void 0!==e?e:"";return{navigateToCaseView:Object(n.useCallback)((e=>{return t(a,{deepLinkId:"cases",path:(r=e.caseId,Object(m.generatePath)("/:caseId",{caseId:r}))});var r}),[t,a])}})(),D=Object(n.useMemo)((()=>[{id:ae,key:u.i18n.translate("xpack.observability.alertFlyout.overviewTab.status",{defaultMessage:"Status"}),value:r||e.fields[o.B],meta:{flapping:e.fields[o.f]}},{id:ie,key:u.i18n.translate("xpack.observability.alertFlyout.overviewTab.sources",{defaultMessage:"Affected entity / source"}),value:[],meta:{alertEnd:L,timeRange:I,groups:Object(me.a)(e)||[]}},{id:oe,key:u.i18n.translate("xpack.observability.alertFlyout.overviewTab.triggered",{defaultMessage:"Triggered"}),value:e.fields[o.A],meta:{dateFormat:A}},{id:se,key:u.i18n.translate("xpack.observability.alertFlyout.overviewTab.duration",{defaultMessage:"Duration"}),value:e.fields[o.d]},{id:le,key:u.i18n.translate("xpack.observability.alertFlyout.overviewTab.observedValue",{defaultMessage:"Observed value"}),value:e.fields[s.d]||[e.fields[s.c]],meta:{ruleCriteria:M}},{id:ue,key:u.i18n.translate("xpack.observability.alertFlyout.overviewTab.threshold",{defaultMessage:"Threshold"}),value:[],meta:{ruleCriteria:M}},{id:ce,key:u.i18n.translate("xpack.observability.alertFlyout.overviewTab.ruleName",{defaultMessage:"Rule name"}),value:e.fields[o.r],meta:{ruleLink:e.fields[o.y]&&v(f.r.observability.ruleDetails(e.fields[o.y]))}},{id:de,key:u.i18n.translate("xpack.observability.alertFlyout.overviewTab.ruleType",{defaultMessage:"Rule type"}),value:e.fields[o.n]},{id:fe,key:u.i18n.translate("xpack.observability.alertFlyout.overviewTab.cases",{defaultMessage:"Cases"}),value:[],meta:{cases:j,navigateToCaseView:U,isLoading:S}}]),[r,e,L,I,A,M,v,j,U,S]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(i.EuiTitle,{size:"xs"},a.a.createElement("h4",null,u.i18n.translate("xpack.observability.alertsFlyout.reasonTitle",{defaultMessage:"Reason"}))),a.a.createElement(i.EuiSpacer,{size:"s"}),a.a.createElement(i.EuiText,{size:"s"},e.reason),a.a.createElement(i.EuiSpacer,{size:"s"}),!!P&&a.a.createElement(i.EuiLink,{href:P,"data-test-subj":"viewRuleDetailsFlyout"},u.i18n.translate("xpack.observability.alertsFlyout.viewRulesDetailsLinkText",{defaultMessage:"View rule details"})),a.a.createElement(i.EuiHorizontalRule,{size:"full"}),a.a.createElement(i.EuiTitle,{size:"xs"},a.a.createElement("h4",null,u.i18n.translate("xpack.observability.alertsFlyout.documentSummaryTitle",{defaultMessage:"Document Summary"}))),a.a.createElement(i.EuiSpacer,{size:"m"}),a.a.createElement(i.EuiInMemoryTable,{width:"80%",columns:pe,itemId:"key",items:D}))}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return ie})),r.d(t,"c",(function(){return se})),r.d(t,"b",(function(){return le}));var n=r(2),a=r.n(n),i=r(1),o=r(37),s=r(39),l=r(0),u=r(23),c=r(41),d=r(124),f=r.n(d),p=r(99),m=r(68),g=r(13),y=r(28),b=r(114),h=r(92),v=r(126),E=r(69),w=r.n(E),T=r(5),j=r.n(T),x=r(40),O=r(10);function k(e){return i.i18n.translate("xpack.observability.pages.alertDetails.pageTitle.title",{defaultMessage:"{ruleCategory} {ruleCategory, select, Anomaly {detected} Inventory {threshold breached} other {breached}}",values:{ruleCategory:e}})}function S({alert:e,alertStatus:t,dataTestSubj:r}){var n;const{euiTheme:o}=Object(s.useEuiTheme)();return e?a.a.createElement("div",{"data-test-subj":r},a.a.createElement(s.EuiFlexGroup,{direction:"row",alignItems:"center",gutterSize:"s"},k(e.fields[l.n])),a.a.createElement(s.EuiSpacer,{size:"l"}),a.a.createElement(s.EuiFlexGroup,{direction:"row",alignItems:"center",gutterSize:"xl"},a.a.createElement(s.EuiFlexItem,{grow:!1},t&&a.a.createElement(p.b,{alertStatus:t,flapping:e.fields[l.f]})),a.a.createElement(s.EuiFlexItem,{grow:!1},a.a.createElement(s.EuiFlexGroup,{gutterSize:"none"},a.a.createElement(s.EuiText,{size:"s",color:"subdued"},a.a.createElement(x.FormattedMessage,{id:"xpack.observability.pages.alertDetails.pageTitle.triggered",defaultMessage:"Triggered"}),": "),a.a.createElement(_,{size:"s",$_css:o.font.weight.semiBold},j()(Number(e.start)).locale(i.i18n.getLocale()).fromNow()))),a.a.createElement(s.EuiFlexItem,{grow:!1},a.a.createElement(s.EuiFlexGroup,{gutterSize:"none"},a.a.createElement(s.EuiText,{size:"s",color:"subdued"},a.a.createElement(x.FormattedMessage,{id:"xpack.observability.pages.alertDetails.pageTitle.duration",defaultMessage:"Duration"}),": "),a.a.createElement(A,{size:"s",$_css2:o.font.weight.semiBold},Object(O.b)(Number(e.fields[l.d]))))),a.a.createElement(s.EuiFlexItem,{grow:!1},a.a.createElement(s.EuiFlexGroup,{gutterSize:"none"},a.a.createElement(s.EuiText,{size:"s",color:"subdued"},a.a.createElement(x.FormattedMessage,{id:"xpack.observability.pages.alertDetails.pageTitle.lastStatusUpdate",defaultMessage:"Last status update"}),": "),a.a.createElement(I,{size:"s",$_css3:o.font.weight.semiBold},j()(null===(n=e.fields[l.K])||void 0===n?void 0:n.toString()).locale(i.i18n.getLocale()).fromNow()))))):a.a.createElement(s.EuiLoadingSpinner,null)}var _=w()(s.EuiText)`
                font-weight: ${e=>e.$_css};
              `,A=w()(s.EuiText)`
                font-weight: ${e=>e.$_css2};
              `,I=w()(s.EuiText).withConfig({displayName:"_StyledEuiText3",componentId:"sc-j89lpv-0"})(["font-weight:",";"],(e=>e.$_css3)),R=r(79),M=r(8),C=r(42),N=r(71);const L=()=>{const{http:e,notifications:{toasts:t}}=Object(y.a)().services;return Object(C.useMutation)(["untrackAlerts"],(({indices:t,alertUuids:r})=>{try{const n=JSON.stringify({...null!=t&&t.length?{indices:t}:{},...r?{alert_uuids:r}:{}});return e.post(`${N.INTERNAL_BASE_ALERTING_API_PATH}/alerts/_bulk_untrack`,{body:n})}catch(e){throw new Error(`Unable to parse bulk untrack params: ${e}`)}}),{onError:(e,r)=>{t.addDanger(i.i18n.translate("xpack.observability.alerts.untrackConfirmation.errorNotification.descriptionText",{defaultMessage:"Failed to untrack {uuidsCount, plural, one {alert} other {alerts}}",values:{uuidsCount:r.alertUuids.length}}))},onSuccess:(e,r)=>{t.addSuccess(i.i18n.translate("xpack.observability.alerts.untrackConfirmation.successNotification.descriptionText",{defaultMessage:"Untracked {uuidsCount, plural, one {alert} other {alerts}}",values:{uuidsCount:r.alertUuids.length}}))}})};function F({alert:e,alertIndex:t,alertStatus:r,onUntrackAlert:o}){const{cases:{hooks:{useCasesAddToExistingCaseModal:c}},triggersActionsUi:{getEditRuleFlyout:d,getRuleSnoozeModal:f},http:p}=Object(y.a)().services,{rule:m,refetch:h}=Object(b.a)({ruleId:(null==e?void 0:e.fields[l.y])||""}),[v,E]=Object(n.useState)(!1),[w,T]=Object(n.useState)(!1),[j,x]=Object(n.useState)(!1),O=c(),{mutateAsync:k}=L(),S=Object(n.useCallback)((async()=>{e&&(await k({indices:[".internal.alerts-observability.*"],alertUuids:[e.fields[l.E]]}),o())}),[e,k,o]),_=e&&m?[{alertId:(null==e?void 0:e.fields[l.E])||"",index:t||"",rule:{id:m.id,name:m.name},type:R.AttachmentType.alert}]:[];return a.a.createElement(a.a.Fragment,null,a.a.createElement(s.EuiFlexGroup,{direction:"row",gutterSize:"s",justifyContent:"flexEnd"},a.a.createElement(s.EuiFlexItem,{grow:!1},a.a.createElement(s.EuiButton,{fill:!0,iconType:"bellSlash",onClick:()=>{E(!1),x(!0)},disabled:!(null!=e&&e.fields[l.y]&&m),"data-test-subj":"snooze-rule-button"},a.a.createElement(s.EuiText,{size:"s"},i.i18n.translate("xpack.observability.alertDetails.editSnoozeRule",{defaultMessage:"Snooze the rule"})))),a.a.createElement(s.EuiFlexItem,{grow:!1},a.a.createElement(s.EuiPopover,{panelPaddingSize:"none",isOpen:v,closePopover:()=>E(!1),button:a.a.createElement(s.EuiButtonIcon,{display:"base",size:"m",iconType:"boxesVertical","data-test-subj":"alert-details-header-actions-menu-button",onClick:()=>E(!v),"aria-label":i.i18n.translate("xpack.observability.alertDetails.actionsButtonLabel",{defaultMessage:"Actions"})})},a.a.createElement("div",{style:{width:"220px"}},a.a.createElement(s.EuiFlexGroup,{direction:"column",alignItems:"flexStart",gutterSize:"s"},a.a.createElement("div",null),a.a.createElement(s.EuiButtonEmpty,{size:"s",color:"text",iconType:"plus",onClick:()=>{E(!1),O.open({getAttachments:()=>_})},"data-test-subj":"add-to-case-button"},a.a.createElement(s.EuiText,{size:"s"},i.i18n.translate("xpack.observability.alertDetails.addToCase",{defaultMessage:"Add to case"}))),a.a.createElement(s.EuiButtonEmpty,{size:"s",color:"text",iconType:"pencil",onClick:()=>{E(!1),T(!0)},disabled:!(null!=e&&e.fields[l.y]&&m),"data-test-subj":"edit-rule-button"},a.a.createElement(s.EuiText,{size:"s"},i.i18n.translate("xpack.observability.alertDetails.editRule",{defaultMessage:"Edit rule"}))),a.a.createElement(s.EuiButtonEmpty,{size:"s",color:"text",iconType:"eyeClosed",onClick:S,"data-test-subj":"untrack-alert-button",disabled:r!==u.a},a.a.createElement(s.EuiText,{size:"s"},i.i18n.translate("xpack.observability.alertDetails.untrackAlert",{defaultMessage:"Mark as untracked"}))),a.a.createElement(s.EuiHorizontalRule,{margin:"none"}),a.a.createElement(s.EuiButtonEmpty,{size:"s",color:"text",iconType:"link",disabled:!(null!=e&&e.fields[l.y]&&m),"data-test-subj":"view-rule-details-button",href:m?p.basePath.prepend(M.r.observability.ruleDetails(m.id)):"",target:"_blank"},a.a.createElement(s.EuiText,{size:"s"},i.i18n.translate("xpack.observability.alertDetails.viewRuleDetails",{defaultMessage:"Go to rule details"}))),a.a.createElement("div",null)))))),m&&w?a.a.createElement(d,{initialRule:m,onClose:()=>{T(!1)},onSave:async()=>{h()}}):null,m&&j?a.a.createElement(f,{rule:m,onClose:()=>x(!1),onRuleChanged:async()=>{h()},onLoading:g.noop}):null)}var P=r(51),U=r(4),D=r(130);function q({tags:e}){const[t,r]=Object(n.useState)(!1),o=e.length>3&&a.a.createElement(s.EuiBadge,{key:"more",onClick:()=>r((e=>!e)),onClickAriaLabel:i.i18n.translate("xpack.observability.alertDetails.alertSummaryField.moreTags.ariaLabel",{defaultMessage:"more tags badge"})},a.a.createElement(x.FormattedMessage,{id:"xpack.observability.alertDetails.alertSummaryField.moreTags",defaultMessage:"+{number} more",values:{number:e.length-3}}));return a.a.createElement(a.a.Fragment,null,e.slice(0,3).map((e=>a.a.createElement(s.EuiBadge,{key:e},e))),a.a.createElement("br",null),a.a.createElement(s.EuiPopover,{button:o,isOpen:t,closePopover:()=>r(!1)},e.slice(3).map((e=>a.a.createElement(s.EuiBadge,{key:e},e)))))}var z=r(133);function V({alert:e,alertSummaryFields:t}){const{http:r}=Object(y.a)().services,[o,u]=Object(n.useState)({from:"now-15m",to:"now"}),c=e.fields[l.A],d=e.fields[l.e],f=e.fields[l.r],p=e.fields[l.y],m=e.fields[U.G],g=r.basePath.prepend(M.r.observability.ruleDetails(p)),b=[],h=[],v=Object(z.a)(e);Object(n.useEffect)((()=>{u(Object(P.a)(c,d))}),[c,d]),v&&v.length>0&&b.push({label:i.i18n.translate("xpack.observability.alertDetails.alertSummaryField.source",{defaultMessage:"Source"}),value:a.a.createElement(D.a,{groups:v,timeRange:d?o:{...o,to:"now"}})}),m&&m.length>0&&h.push({label:i.i18n.translate("xpack.observability.alertDetails.alertSummaryField.tags",{defaultMessage:"Tags"}),value:a.a.createElement(q,{tags:m})}),h.push({label:i.i18n.translate("xpack.observability.alertDetails.alertSummaryField.rule",{defaultMessage:"Rule"}),value:a.a.createElement(s.EuiLink,{"data-test-subj":"o11yAlertRuleLink",href:g},f)});const E=[...b,...null!=t?t:[],...h];return a.a.createElement("div",{"data-test-subj":"alert-summary-container"},E&&E.length>0&&a.a.createElement(a.a.Fragment,null,a.a.createElement(s.EuiFlexGroup,{gutterSize:"xl"},E.map(((e,t)=>a.a.createElement(s.EuiFlexItem,{key:t,grow:!1},a.a.createElement(s.EuiText,{color:"subdued"},e.label),a.a.createElement(s.EuiText,null,e.value))))),a.a.createElement(s.EuiSpacer,{size:"l"})))}var B=r(134),$=r(105),W=r(89);const G=[W.a.TransactionDuration,W.b,W.d,W.e,W.f],H=(e,t)=>{if(!e)return!1;const r=e.fields[l.x];if(G.includes(r))return!0;if(!t)return!1;const n="xpack.uptime.alerts.monitorStatus"===r||"xpack.uptime.alerts.tlsCertificate"===r?"uptime":r.split(".")[0];var a,i;return!!["uptime"].includes(n)&&(null===(a=t.unsafe)||void 0===a||null===(i=a.alertDetails[n])||void 0===i?void 0:i.enabled)};var K=r(6),J=r(100),Q=r(116);function Y({alert:e}){const{services:{observabilityAIAssistant:t,http:r}}=Object(y.a)(),o=null==t?void 0:t.ObservabilityAIAssistantContextualInsight,l=Object(n.useCallback)((async()=>{const n=null==e?void 0:e.formatted.fields;if(!t||!n||!e)return[];try{const{alertContext:a}=await r.get("/internal/observability/assistant/alert_details_contextual_insights",{query:{alert_started_at:new Date(e.formatted.start).toISOString(),"service.name":n["service.name"],"service.environment":n["service.environment"],"transaction.type":n["transaction.type"],"transaction.name":n["transaction.name"],"host.name":n["host.name"],"container.id":n["container.id"],"kubernetes.pod.name":n["kubernetes.pod.name"]}}),i=a.map((({description:e,data:t})=>`${e}:\n${JSON.stringify(t,null,2)}`)).join("\n\n");return t.getContextualInsightMessages({message:"I'm looking at an alert and trying to understand why it was triggered",instructions:f()(`I'm an SRE. I am looking at an alert that was triggered. I want to understand why it was triggered, what it means, and what I should do next.\n\n        The following contextual information is available to help you understand the alert:\n        ${i}\n\n        The user already know the alert reason so do not repeat this: ${e.formatted.reason}\n        Be brief and to the point.\n        Do not list the alert details as bullet points.\n        Pay special attention to regressions in downstream dependencies like big increases or decreases in throughput, latency or failure rate\n        Suggest reasons why the alert happened and what may have contributed to it.\n        Present the primary insights in a single paragraph at the top in bold text. Add additional paragraphs with more detailed insights if needed but keep them brief.\n        If the alert is a false positive, mention that in the first paragraph.\n        `)})}catch(e){return console.error("An error occurred while fetching alert context",e),t.getContextualInsightMessages({message:"I'm looking at an alert and trying to understand why it was triggered",instructions:f()("I'm an SRE. I am looking at an alert that was triggered. I want to understand why it was triggered, what it means, and what I should do next.")})}}),[e,r,t]);return o?a.a.createElement(s.EuiFlexGroup,{direction:"column",gutterSize:"m"},a.a.createElement(s.EuiFlexItem,{grow:!1},a.a.createElement(o,{title:i.i18n.translate("xpack.observability.alertDetailContextualInsights.InsightButtonLabel",{defaultMessage:"Help me understand this alert"}),messages:l}))):null}r(118);var Z=r(104);const X={totalTriggeredAlerts:0,histogramTriggeredAlerts:[],avgTimeToRecoverUS:0};var ee=r(136),te=r(96),re=r(45);const ne={from:"now-30d",to:"now+1d"};function ae({rule:e,alert:t}){const{http:r,notifications:n,triggersActionsUi:{getAlertSummaryWidget:o}}=Object(y.a)().services,u=t.fields[l.h],c=Object(te.a)(),{ruleTypes:d}=Object(ee.a)({filterByRuleTypeIds:c}),f=null==d?void 0:d.find((t=>t.id===(null==e?void 0:e.ruleTypeId))),p=(null==e?void 0:e.consumer)===N.ALERTING_FEATURE_ID&&null!=f&&f.producer?[f.producer]:e?[e.consumer]:[],m=t.fields[l.y],{data:{avgTimeToRecoverUS:g,totalTriggeredAlerts:b},isLoading:h,isError:v}=function({featureIds:e,ruleId:t,dateRange:r,http:n,instanceId:a}){const{isInitialLoading:i,isLoading:o,isError:s,isSuccess:u,isRefetching:c,data:d}=Object(C.useQuery)({queryKey:["useAlertsHistory"],queryFn:async({signal:i})=>{if(!n)throw new Error("Http client is missing");return async function({featureIds:e,http:t,ruleId:r,dateRange:n,signal:a,instanceId:i}){try{const o=await t.post(`${Z.a}/find`,{signal:a,body:JSON.stringify({size:0,feature_ids:e,query:{bool:{must:[{term:{[l.y]:r}},...i&&"*"!==i?[{term:{[l.h]:i}}]:[],{range:{[l.C]:n}}]}},aggs:{histogramTriggeredAlerts:{date_histogram:{field:l.A,fixed_interval:"1d",extended_bounds:{min:n.from,max:n.to}}},avgTimeToRecoverUS:{filter:{term:{[l.B]:"recovered"}},aggs:{recoveryTime:{avg:{field:l.d}}}}}})}),s=o.hits.total.value,u=o.aggregations.avgTimeToRecoverUS.recoveryTime.value;return{totalTriggeredAlerts:s,histogramTriggeredAlerts:o.aggregations.histogramTriggeredAlerts.buckets,avgTimeToRecoverUS:u}}catch(e){throw new Error("Something went wrong while fetching alert history chart's data. Error:",e)}}({featureIds:e,http:n,ruleId:t,dateRange:r,signal:i,instanceId:a})},refetchOnWindowFocus:!1});return{data:i?X:null!=d?d:X,isLoading:i||o||c,isSuccess:u,isError:s}}({http:r,featureIds:p,ruleId:e.id,dateRange:ne,instanceId:u});return v&&(null==n||n.toasts.addDanger({title:i.i18n.translate("xpack.observability.alertDetailsPage.alertHistory.error.toastTitle",{defaultMessage:"Alerts history chart error"}),text:i.i18n.translate("xpack.observability.alertDetailsPage.alertHistory.error.toastDescription",{defaultMessage:"An error occurred when fetching alert history chart data"})})),a.a.createElement(s.EuiPanel,{hasBorder:!0,"data-test-subj":"AlertDetails"},a.a.createElement(s.EuiFlexGroup,{direction:"column",gutterSize:"none",responsive:!1},a.a.createElement(s.EuiFlexItem,{grow:!1},a.a.createElement(s.EuiTitle,{size:"xs"},a.a.createElement("h2",null,i.i18n.translate("xpack.observability.alertDetailsPage.alertHistory.chartTitle",{defaultMessage:"Alerts history"})))),a.a.createElement(s.EuiFlexItem,{grow:!1},a.a.createElement(s.EuiText,{size:"s",color:"subdued"},i.i18n.translate("xpack.observability.alertDetailsPage.alertHistory.last30days",{defaultMessage:"Last 30 days"})))),a.a.createElement(s.EuiSpacer,{size:"s"}),a.a.createElement(s.EuiFlexGroup,{gutterSize:"l"},a.a.createElement(s.EuiFlexItem,{grow:!1},a.a.createElement(s.EuiFlexGroup,{gutterSize:"xs",direction:"column"},a.a.createElement(s.EuiFlexItem,{grow:!1},a.a.createElement(s.EuiText,{color:"danger"},a.a.createElement(s.EuiTitle,{size:"s"},a.a.createElement("h3",null,h?a.a.createElement(s.EuiLoadingSpinner,{size:"s"}):b||"-")))),a.a.createElement(s.EuiFlexItem,{grow:!1},a.a.createElement(s.EuiText,{size:"s",color:"subdued"},i.i18n.translate("xpack.observability.alertDetailsPage.alertHistory.alertsTriggered",{defaultMessage:"Alerts triggered"}))))),a.a.createElement(s.EuiFlexGroup,{gutterSize:"xs",direction:"column"},a.a.createElement(s.EuiFlexItem,{grow:!1},a.a.createElement(s.EuiText,null,a.a.createElement(s.EuiTitle,{size:"s"},a.a.createElement("h3",null,h?a.a.createElement(s.EuiLoadingSpinner,{size:"s"}):g?Object(O.g)({unit:"minutes",microseconds:g,extended:!0}).formatted:"-")))),a.a.createElement(s.EuiFlexItem,{grow:!1},a.a.createElement(s.EuiText,{size:"s",color:"subdued"},i.i18n.translate("xpack.observability.alertDetailsPage.alertHistory.avgTimeToRecover",{defaultMessage:"Avg time to recover"}))))),a.a.createElement(s.EuiSpacer,{size:"s"}),a.a.createElement(o,{featureIds:p,timeRange:Object(re.c)(),fullSize:!0,hideStats:!0,filter:{bool:{must:[{term:{[l.y]:m}},...u&&"*"!==u?[{term:{[l.h]:u}}]:[]]}}}))}const ie="alert-details-o11y",oe=i.i18n.translate("xpack.observability.breadcrumbs.alertDetails",{defaultMessage:"Alert details"}),se="metrics.alert.threshold";function le(){var e,t;const{cases:{helpers:{canUseCases:r},ui:{getCasesContext:d}},http:g,triggersActionsUi:{ruleTypeRegistry:E},observabilityAIAssistant:w,uiSettings:T}=Object(y.a)().services,{ObservabilityPageTemplate:j,config:x}=Object(h.a)(),{alertId:O}=Object(o.useParams)(),[_,A]=Object(v.a)(O),[I,R]=Object(n.useState)(null),C=d(),N=r([K.observabilityFeatureId]),L=null==A?void 0:A.formatted.fields[l.y],{rule:P}=Object(b.a)({ruleId:L}),[U,D]=Object(n.useState)(),[q,z]=Object(n.useState)(),{euiTheme:W}=Object(s.useEuiTheme)();if(Object(n.useEffect)((()=>{if(!A||!w)return;const e=function(e){const t=e.formatted.active?"active":"recovered",r=new Date(e.formatted.start).toISOString(),n=new Date(e.formatted.lastUpdated).toISOString();return f()(`The user is looking at an ${t} alert. It started at ${r}, and was last updated at ${n}.\n\n  ${e.formatted.reason?`The reason given for the alert is ${e.formatted.reason}.`:""}\n\n  Use the following alert fields as background information for generating a response. Do not list them as bullet points in the response.\n  ${Object.entries(ue(e)).map((([e,t])=>`${e}: ${JSON.stringify(t)}`)).join("\n")}\n  `)}(A);return w.service.setScreenContext({screenDescription:e,data:[{name:"alert_fields",description:"The fields and values for the alert",value:ue(A)}]})}),[w,A]),Object(n.useEffect)((()=>{var e;A&&(R(E.get(null==A?void 0:A.formatted.fields[l.x])),z(null==A||null===(e=A.formatted)||void 0===e?void 0:e.fields[l.B]))}),[A,E]),Object(c.useBreadcrumbs)([{href:g.basePath.prepend(M.r.observability.alerts),text:i.i18n.translate("xpack.observability.breadcrumbs.alertsLinkText",{defaultMessage:"Alerts"}),deepLinkId:"observability-overview:alerts"},{text:A?k(A.formatted.fields[l.n]):oe}]),_)return a.a.createElement(B.a,null);if(!_&&!A)return a.a.createElement(s.EuiPanel,{"data-test-subj":"alertDetailsError"},a.a.createElement(s.EuiEmptyPrompt,{iconType:"warning",color:"danger",title:a.a.createElement("h2",null,i.i18n.translate("xpack.observability.alertDetails.errorPromptTitle",{defaultMessage:"Unable to load alert details"})),body:a.a.createElement("p",null,i.i18n.translate("xpack.observability.alertDetails.errorPromptBody",{defaultMessage:"There was an error loading the alert details."}))}));const G=I?I.alertDetailsAppSection:null,Z=function(e){const t=null==e?void 0:e.get($.a.DATEFORMAT_TZ);return t&&"Browser"!==t?t:"local"}(T),X=A?G&&H(A.formatted,x)?a.a.createElement(a.a.Fragment,null,a.a.createElement(s.EuiSpacer,{size:"l"}),a.a.createElement(V,{alert:A.formatted,alertSummaryFields:U}),a.a.createElement(Y,{alert:A}),a.a.createElement(s.EuiSpacer,{size:"l"}),P&&A.formatted&&a.a.createElement(a.a.Fragment,null,a.a.createElement(G,{alert:A.formatted,rule:P,timeZone:Z,setAlertSummaryFields:D}),a.a.createElement(s.EuiSpacer,{size:"l"}),a.a.createElement(ae,{alert:A.formatted,rule:P}))):a.a.createElement(s.EuiPanel,{hasShadow:!1,"data-test-subj":"overviewTabPanel",paddingSize:"none"},a.a.createElement(s.EuiSpacer,{size:"l"}),a.a.createElement(Y,{alert:A}),a.a.createElement(s.EuiSpacer,{size:"l"}),a.a.createElement(Q.a,{alert:A.formatted,alertStatus:q})):a.a.createElement(a.a.Fragment,null),ee=(null==A?void 0:A.raw)&&a.a.createElement(s.EuiPanel,{hasShadow:!1,"data-test-subj":"metadataTabPanel",paddingSize:"none"},a.a.createElement(s.EuiSpacer,{size:"l"}),a.a.createElement(p.a,{alert:A.raw})),te=[{id:"overview",name:i.i18n.translate("xpack.observability.alertDetails.tab.overviewLabel",{defaultMessage:"Overview"}),"data-test-subj":"overviewTab",content:X},{id:"metadata",name:i.i18n.translate("xpack.observability.alertDetails.tab.metadataLabel",{defaultMessage:"Metadata"}),"data-test-subj":"metadataTab",content:ee}];return a.a.createElement(j,{pageHeader:{pageTitle:a.a.createElement(S,{alert:null!==(e=null==A?void 0:A.formatted)&&void 0!==e?e:null,alertStatus:q,dataTestSubj:(null==P?void 0:P.ruleTypeId)||"alertDetailsPageTitle"}),rightSideItems:[a.a.createElement(C,{owner:[K.observabilityFeatureId],permissions:N,features:{alerts:{sync:!1}}},a.a.createElement(F,{alert:null!==(t=null==A?void 0:A.formatted)&&void 0!==t?t:null,alertIndex:null==A?void 0:A.raw._index,alertStatus:q,onUntrackAlert:()=>{z(u.c)}}))],bottomBorder:!1},pageSectionProps:{paddingSize:"none",css:m.css`
          padding: 0 ${W.size.l} ${W.size.l} ${W.size.l};
        `},"data-test-subj":"alertDetails"},a.a.createElement(J.a,null),a.a.createElement(s.EuiTabbedContent,{"data-test-subj":"alertDetailsTabbedContent",tabs:te}))}function ue(e){return Object(g.omit)(e.formatted.fields,["kibana.alert.rule.revision","kibana.alert.rule.execution.uuid","kibana.alert.flapping_history","kibana.alert.uuid","kibana.alert.rule.uuid","event.action","event.kind","kibana.alert.rule.tags","kibana.alert.maintenance_window_ids","kibana.alert.consecutive_matches"])}},function(e,t,r){"use strict";r.d(t,"a",(function(){return m}));var n=r(95),a=r(129),i=r(13),o=r(0),s=r(4);const l={[o.a]:{type:"keyword",array:!1,required:!1},[o.b]:{type:"keyword",array:!0,required:!1},[o.d]:{type:"long",array:!1,required:!1},[o.e]:{type:"date",array:!1,required:!1},[o.f]:{type:"boolean",array:!1,required:!1},[o.g]:{type:"boolean",array:!0,required:!1},[o.j]:{type:"keyword",array:!0,required:!1},[o.c]:{type:"long",array:!1,required:!1},[o.h]:{type:"keyword",array:!1,required:!0},[o.i]:{type:"date",required:!1,array:!1},[o.l]:{type:"keyword",array:!1,required:!1},[o.m]:{type:"keyword",array:!1,required:!1,multi_fields:[{flat_name:`${o.m}.text`,name:"text",type:"match_only_text"}]},[o.n]:{type:"keyword",array:!1,required:!0},[o.o]:{type:"keyword",array:!1,required:!0},[o.p]:{type:"date",array:!1,required:!1},[o.q]:{type:"keyword",array:!1,required:!1},[o.r]:{type:"keyword",array:!1,required:!0},[o.t]:{array:!1,type:"flattened",ignore_above:4096,required:!1},[o.u]:{type:"keyword",array:!1,required:!0},[o.v]:{type:"long",array:!1,required:!0},[o.w]:{type:"keyword",array:!0,required:!1},[o.x]:{type:"keyword",array:!1,required:!0},[o.y]:{type:"keyword",array:!1,required:!0},[o.z]:{type:"boolean",array:!1,required:!1},[o.A]:{type:"date",array:!1,required:!1},[o.B]:{type:"keyword",array:!1,required:!0},[o.C]:{type:"date_range",format:"epoch_millis||strict_date_optional_time",array:!1,required:!1},[o.D]:{type:"keyword",array:!1,index:!1,required:!1,ignore_above:2048},[o.E]:{type:"keyword",array:!1,required:!0},[o.G]:{type:"keyword",array:!1,required:!1},[o.H]:{type:"keyword",array:!0,required:!1},[o.F]:{type:"keyword",array:!0,required:!1},[s.E]:{type:"keyword",array:!1,required:!1},[s.F]:{type:"keyword",array:!1,required:!1},[o.J]:{type:"keyword",array:!0,required:!0},[s.G]:{type:"keyword",array:!0,required:!1},[o.K]:{type:"date",required:!0,array:!1},[o.L]:{type:"version",array:!1,required:!1}},u={[s.a]:{type:"float",array:!1,required:!1},[s.b]:{type:"keyword",array:!1,required:!1},[s.c]:{type:"date",array:!1,required:!1},[s.d]:{type:"keyword",array:!1,required:!1},[s.e]:{type:"keyword",array:!1,required:!1},[s.f]:{type:"keyword",array:!1,required:!1},[s.g]:{type:"keyword",array:!1,required:!1},[s.h]:{type:"keyword",array:!1,required:!1},[s.i]:{type:"keyword",array:!1,required:!1},[s.j]:{type:"keyword",array:!1,required:!1},[s.k]:{type:"keyword",array:!0,required:!1},[s.l]:{type:"keyword",array:!1,required:!1},[s.m]:{type:"keyword",array:!1,required:!1},[s.n]:{type:"keyword",array:!1,required:!1},[s.o]:{type:"keyword",array:!1,required:!1},[s.p]:{type:"date",array:!1,required:!1},[s.q]:{type:"keyword",array:!1,required:!1},[s.r]:{type:"keyword",array:!1,required:!1},[s.s]:{type:"keyword",array:!1,required:!1},[s.t]:{type:"long",array:!1,required:!1},[s.u]:{type:"date",array:!1,required:!1},[s.v]:{type:"keyword",array:!0,required:!1},[s.w]:{type:"date",array:!1,required:!1},[s.y]:{type:"keyword",array:!0,required:!1},[s.z]:{type:"keyword",array:!1,required:!1},[s.A]:{type:"keyword",array:!1,required:!1},[s.C]:{type:"keyword",array:!1,required:!1},[s.B]:{type:"date",array:!1,required:!1},[s.D]:{type:"keyword",array:!1,required:!1}};function c(e,...t){const r=Object.keys(e).filter((e=>t.some((t=>{if(t===e)return!0;const r=e.split("."),n=t.split(".");return n.indexOf("*")===n.length-1&&r.every(((e,t)=>{const r=n.length-1<t?"*":n[t];return e===r||"*"===r}))}))));return Object(i.pick)(e,r)}const d={...c(l,"*"),...c(u,"*")};var f=r(148);const p=Object(f.a)(d),m=(e,t=!1)=>{const r=t?(e=>{const t=Object(i.pick)(d,Object.keys(e));return Object(f.a)(t).decode(e)})(e):p.decode(e);if(Object(n.isLeft)(r))throw new Error(a.PathReporter.report(r).join("\n"));return p.encode(r.right)}},,function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(13),a=r(1),i=r(2),o=r(42),s=r(94);const l=({http:e,toasts:t,filteredRuleTypes:r,registeredRuleTypes:l,enabled:u=!0})=>{const{data:c,isSuccess:d,isFetching:f,isInitialLoading:p,isLoading:m,error:g}=Object(o.useQuery)({queryKey:["loadRuleTypes"],queryFn:()=>async function({http:e}){return(await e.get(`${s.b}/rule_types`)).map((e=>(({enabled_in_license:e,recovery_action_group:t,action_groups:r,default_action_group_id:n,minimum_license_required:a,action_variables:i,authorized_consumers:o,rule_task_timeout:s,does_set_recovery_context:l,default_schedule_interval:u,has_alerts_mappings:c,has_fields_for_a_a_d:d,...f})=>({enabledInLicense:e,recoveryActionGroup:t,actionGroups:r,defaultActionGroupId:n,minimumLicenseRequired:a,actionVariables:i,authorizedConsumers:o,ruleTaskTimeout:s,doesSetRecoveryContext:l,defaultScheduleInterval:u,hasAlertsMappings:c,hasFieldsForAAD:d,...f}))(e)))}({http:e}),onError:e=>{e&&t.addDanger(a.i18n.translate("alertsUIShared.hooks.useLoadRuleTypesQuery.unableToLoadRuleTypesMessage",{defaultMessage:"Unable to load rule types"}))},refetchOnWindowFocus:!1,staleTime:6e4,enabled:u}),y=Object(i.useMemo)((()=>c?(({data:e,filteredRuleTypes:t,registeredRuleTypes:r})=>{const a=new Map,i=r?Object(n.keyBy)(r,"id"):{};for(const t of e){const e={...t};r?i[t.id]&&(e.description=i[t.id].description,a.set(t.id,e)):a.set(t.id,e)}let o=a;return null!=t&&t.length&&(o=new Map([...a].filter((([e,r])=>t.includes(r.id))))),o})({data:c,filteredRuleTypes:r,registeredRuleTypes:l}):new Map),[c,r,l]),b=y.size>0,h=Object(i.useMemo)((()=>[...y.values()]),[y]),v=h.some((e=>{var t;return null===(t=e.authorizedConsumers[s.a])||void 0===t?void 0:t.all})),E=v||h.some((e=>{var t;return null===(t=e.authorizedConsumers[s.a])||void 0===t?void 0:t.read}));return{ruleTypesState:{initialLoad:m||p,isLoading:m||f,data:y,error:g},hasAnyAuthorizedRuleType:b,authorizedRuleTypes:h,authorizedToReadAnyRules:E,authorizedToCreateAnyRules:v,isSuccess:d}}},,function(e,t,r){"use strict";var n,a=function(){var e={};return function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}e[t]=r}return e[t]}}(),i=[];function o(e){for(var t=-1,r=0;r<i.length;r++)if(i[r].identifier===e){t=r;break}return t}function s(e,t){for(var r={},n=[],a=0;a<e.length;a++){var s=e[a],l=t.base?s[0]+t.base:s[0],u=r[l]||0,c="".concat(l," ").concat(u);r[l]=u+1;var d=o(c),f={css:s[1],media:s[2],sourceMap:s[3]};-1!==d?(i[d].references++,i[d].updater(f)):i.push({identifier:c,updater:g(f,t),references:1}),n.push(c)}return n}function l(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var i=r.nc;i&&(n.nonce=i)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var o=a(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var u,c=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function d(e,t,r,n){var a=r?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=c(t,a);else{var i=document.createTextNode(a),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(i,o[t]):e.appendChild(i)}}function f(e,t,r){var n=r.css,a=r.media,i=r.sourceMap;if(a?e.setAttribute("media",a):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var p=null,m=0;function g(e,t){var r,n,a;if(t.singleton){var i=m++;r=p||(p=l(t)),n=d.bind(null,r,i,!1),a=d.bind(null,r,i,!0)}else r=l(t),n=f.bind(null,r,t),a=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(r)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else a()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n));var r=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<r.length;n++){var a=o(r[n]);i[a].references--}for(var l=s(e,t),u=0;u<r.length;u++){var c=o(r[u]);0===i[c].references&&(i[c].updater(),i.splice(c,1))}r=l}}}},function(e,t,r){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=function(e,t){var r,n,a,i=e[1]||"",o=e[3];if(!o)return i;if(t&&"function"==typeof btoa){var s=(r=o,n=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),"/*# ".concat(a," */")),l=o.sources.map((function(e){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(e," */")}));return[i].concat(l).concat([s]).join("\n")}return[i].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(r,"}"):r})).join("")},t.i=function(e,r,n){"string"==typeof e&&(e=[[null,e,""]]);var a={};if(n)for(var i=0;i<this.length;i++){var o=this[i][0];null!=o&&(a[o]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);n&&a[l[0]]||(r&&(l[2]?l[2]="".concat(r," and ").concat(l[2]):l[2]=r),t.push(l))}},t}},function(e,t,r){"use strict";e.exports=function(e){var t=void 0;t="string"==typeof e?[e]:e.raw;for(var r="",n=0;n<t.length;n++)r+=t[n].replace(/\\\n[ \t]*/g,"").replace(/\\`/g,"`"),n<(arguments.length<=1?0:arguments.length-1)&&(r+=arguments.length<=n+1?void 0:arguments[n+1]);var a=r.split("\n"),i=null;return a.forEach((function(e){var t=e.match(/^(\s+)\S+/);if(t){var r=t[1].length;i=i?Math.min(i,r):r}})),null!==i&&(r=a.map((function(e){return" "===e[0]?e.slice(i):e})).join("\n")),(r=r.trim()).replace(/\\n/g,"\n")}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(2);const a=Object(n.createContext)({})},function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(2),a=r(13),i=r(104),o=r(92),s=r(127),l=r(101);const u=e=>{const{observabilityRuleTypeRegistry:t}=Object(o.a)(),r=Object(n.useMemo)((()=>({id:e,ruleType:t})),[e,t]),i=Object(n.useCallback)((e=>!Object(a.isEmpty)(e.id)),[]),{loading:u,data:d}=Object(s.a)({paramsForApiCall:r,initialDataState:null,executeApiCall:c,shouldExecuteApiCall:i});return[u,Object(n.useMemo)((()=>d?{formatted:Object(l.a)(t)(d),raw:d}:null),[t,d])]},c=async({id:e},t,r)=>r.get(i.a,{query:{id:e},signal:t.signal}).catch((()=>null))},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(2),a=r(28);const i=({paramsForApiCall:e,initialDataState:t,executeApiCall:r,shouldExecuteApiCall:i})=>{const{http:o}=Object(a.a)().services,[s,l]=Object(n.useState)(!1),[u,c]=Object(n.useState)(!1),[d,f]=Object(n.useState)(t),{fetch:p,cancel:m}=Object(n.useMemo)((()=>{const t=new AbortController;let n=!1;return{fetch:async()=>{if(i(e)){c(!1),l(!0);try{const a=await r(e,t,o);n||(l(!1),f(a))}catch(e){c(!0),l(!1)}}},cancel:()=>{n=!0,t.abort()}}}),[r,o,e,i]);return Object(n.useEffect)((()=>(p(),()=>{m()})),[p,m]),{data:d,loading:s,error:u}}},function(e,t,r){"use strict";function n(e){return e}function a(e){throw new Error("Called `absurd` function which should be uncallable")}Object.defineProperty(t,"__esModule",{value:!0}),t.bindTo_=t.bind_=t.hole=t.pipe=t.untupled=t.tupled=t.absurd=t.decrement=t.increment=t.tuple=t.flow=t.flip=t.constVoid=t.constUndefined=t.constNull=t.constFalse=t.constTrue=t.constant=t.not=t.unsafeCoerce=t.identity=void 0,t.identity=n,t.unsafeCoerce=n,t.not=function(e){return function(t){return!e(t)}},t.constant=function(e){return function(){return e}},t.constTrue=function(){return!0},t.constFalse=function(){return!1},t.constNull=function(){return null},t.constUndefined=function(){},t.constVoid=function(){},t.flip=function(e){return function(t,r){return e(r,t)}},t.flow=function(e,t,r,n,a,i,o,s,l){switch(arguments.length){case 1:return e;case 2:return function(){return t(e.apply(this,arguments))};case 3:return function(){return r(t(e.apply(this,arguments)))};case 4:return function(){return n(r(t(e.apply(this,arguments))))};case 5:return function(){return a(n(r(t(e.apply(this,arguments)))))};case 6:return function(){return i(a(n(r(t(e.apply(this,arguments))))))};case 7:return function(){return o(i(a(n(r(t(e.apply(this,arguments)))))))};case 8:return function(){return s(o(i(a(n(r(t(e.apply(this,arguments))))))))};case 9:return function(){return l(s(o(i(a(n(r(t(e.apply(this,arguments)))))))))}}},t.tuple=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},t.increment=function(e){return e+1},t.decrement=function(e){return e-1},t.absurd=a,t.tupled=function(e){return function(t){return e.apply(void 0,t)}},t.untupled=function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e(t)}},t.pipe=function(e,t,r,n,a,i,o,s,l,u,c,d,f,p,m,g,y,b,h,v){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return r(t(e));case 4:return n(r(t(e)));case 5:return a(n(r(t(e))));case 6:return i(a(n(r(t(e)))));case 7:return o(i(a(n(r(t(e))))));case 8:return s(o(i(a(n(r(t(e)))))));case 9:return l(s(o(i(a(n(r(t(e))))))));case 10:return u(l(s(o(i(a(n(r(t(e)))))))));case 11:return c(u(l(s(o(i(a(n(r(t(e))))))))));case 12:return d(c(u(l(s(o(i(a(n(r(t(e)))))))))));case 13:return f(d(c(u(l(s(o(i(a(n(r(t(e))))))))))));case 14:return p(f(d(c(u(l(s(o(i(a(n(r(t(e)))))))))))));case 15:return m(p(f(d(c(u(l(s(o(i(a(n(r(t(e))))))))))))));case 16:return g(m(p(f(d(c(u(l(s(o(i(a(n(r(t(e)))))))))))))));case 17:return y(g(m(p(f(d(c(u(l(s(o(i(a(n(r(t(e))))))))))))))));case 18:return b(y(g(m(p(f(d(c(u(l(s(o(i(a(n(r(t(e)))))))))))))))));case 19:return h(b(y(g(m(p(f(d(c(u(l(s(o(i(a(n(r(t(e))))))))))))))))));case 20:return v(h(b(y(g(m(p(f(d(c(u(l(s(o(i(a(n(r(t(e)))))))))))))))))))}},t.hole=a,t.bind_=function(e,t,r){var n;return Object.assign({},e,((n={})[t]=r,n))},t.bindTo_=function(e){return function(t){var r;return(r={})[e]=t,r}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(158),a=r(95);function i(e){return void 0!==e.message?e.message:"Invalid value "+("function"==typeof(t=e.value)?n.getFunctionName(t):"number"!=typeof t||isFinite(t)?JSON.stringify(t):isNaN(t)?"NaN":t>0?"Infinity":"-Infinity")+" supplied to "+e.context.map((function(e){return e.key+": "+e.type.name})).join("/");var t}function o(e){return e.map(i)}function s(){return["No errors!"]}t.failure=o,t.success=s,t.PathReporter={report:a.fold(o,s)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(39),a=r(2),i=r.n(a),o=r(73),s=r(28),l=r(131),u=r(132);function c({groups:e,timeRange:t}){var r;const{http:{basePath:{prepend:c}},share:{url:{locators:d}}}=Object(s.a)().services,[f,p]=Object(a.useState)({}),m=null===(r=e.find((e=>e.field===o.SERVICE_NAME)))||void 0===r?void 0:r.value;return Object(a.useEffect)((()=>{if(!e)return;let r={};e.map((e=>{const n=Object(u.b)(e,t,c,m,d.get(l.a));r={...r,[e.field]:n}})),p(r)}),[e,d,c,m,t]),i.a.createElement(i.a.Fragment,null,e&&e.map((e=>i.a.createElement("span",{key:e.field},e.field,":"," ",f[e.field]?i.a.createElement(n.EuiLink,{"data-test-subj":"o11yAlertSourceLink",href:f[e.field]},e.value):i.a.createElement("strong",null,e.value),i.a.createElement("br",null)))))}},function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i}));const n="APM_LOCATOR",a=e=>({serviceName:e.serviceName,serviceOverviewTab:e.serviceOverviewTab,query:{environment:e.environment,transactionType:e.transactionType,transactionName:e.transactionName,rangeFrom:e.rangeFrom,rangeTo:e.rangeTo}}),i=e=>{if(e)return{...e,getRedirectUrl:t=>e.getRedirectUrl(a(t)),navigate:t=>e.navigate(a(t))}}},function(e,t,r){"use strict";r.d(t,"c",(function(){return p})),r.d(t,"a",(function(){return m})),r.d(t,"b",(function(){return y}));var n=r(73),a=r(131);const i="host.name",o="container.id",s="kubernetes.pod.id",l="cloud.instance.id",u="aws.s3.instance.id",c="aws.rds.instance.id",d="aws.sqs.instance.id",f="/app/metrics/detail",p=[i,o,s,l,u,c,d],m=[n.SERVICE_NAME,n.SERVICE_ENVIRONMENT,n.TRANSACTION_TYPE,n.TRANSACTION_NAME],g={[i]:`${f}/host`,[o]:`${f}/container`,[s]:`${f}/pod`,[l]:`${f}/awsEC2`,[u]:`${f}/awsS3`,[c]:`${f}/awsRDS`,[d]:`${f}/awsSQS`},y=({field:e,value:t},r,o,s,l)=>{if(p.includes(e)){const n=`assetDetails=(dateRange:(from:'${r.from}',to:'${r.to}'))`,a=`_a=(time:(from:'${r.from}',to:'${r.to}',interval:>=1m))`;return null==o?void 0:o((({field:e,value:t},r,n)=>e===i?`${g[e]}/${t}?${r}`:`${g[e]}/${t}?${n}`)({field:e,value:t},n,a))}if(m.includes(e))return(({field:e,value:t},r,i,o)=>{if(!i)return;let s={serviceName:i,environment:"ENVIRONMENT_ALL",rangeFrom:r.from,rangeTo:r.to};e===n.TRANSACTION_NAME?s={...s,serviceOverviewTab:"transactions",transactionName:t}:e===n.TRANSACTION_TYPE?s={...s,transactionType:t}:e===n.SERVICE_ENVIRONMENT&&(s={...s,environment:t});const l=Object(a.b)(o);return null==l?void 0:l.getRedirectUrl(s)})({field:e,value:t},r,s,l)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(90),a=r(132);const i=e=>{var t;if(e.fields[n.e])return e.fields[n.e];const r=null===(t=e.fields[n.f])||void 0===t?void 0:t.map(((t,r)=>{const a=e.fields[n.g];if(null!=a&&a.length&&a[r])return{field:t,value:a[r]}}));if(null!=r&&r.length)return r;const i=[],o=[...a.c,...a.a],s=e.fields;return o.forEach((e=>{Object.keys(s).forEach((t=>{if(e===t){const r=s[t];i.push({field:e,value:Array.isArray(r)?r[0]:r})}}))})),i}},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(2),a=r.n(n),i=r(39);function o({size:e}){return a.a.createElement(i.EuiFlexGroup,{"data-test-subj":"centerJustifiedSpinner",justifyContent:"center"},a.a.createElement(i.EuiFlexItem,{grow:!1},a.a.createElement(i.EuiLoadingSpinner,{size:e||"xl"})))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setEuiDevProviderWarning=t.getEuiDevProviderWarning=t.emitEuiProviderWarning=void 0;var n=void 0;t.setEuiDevProviderWarning=function(e){return n=e},t.getEuiDevProviderWarning=function(){return n},t.emitEuiProviderWarning=function(e){if("function"==typeof n)return n(e);switch(n){case"log":console.log(e);break;case"warn":console.warn(e);break;case"error":throw new Error(e)}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(42),a=r(13),i=r(1),o=r(71),s=r(28);function l({filterByRuleTypeIds:e}){const{http:t,notifications:{toasts:r}}=Object(s.a)().services,{isInitialLoading:l,isLoading:u,isError:c,isSuccess:d,isRefetching:f,data:p,refetch:m}=Object(n.useQuery)({queryKey:["fetchRuleTypes",e],queryFn:async({signal:r})=>{try{const n=(await t.get(`${o.BASE_ALERTING_API_PATH}/rule_types`,{signal:r})).map((e=>Object(a.mapKeys)(e,((e,t)=>Object(a.camelCase)(t)))));return e&&e.length>0?n.filter((t=>e.includes(t.id))):n}catch(e){throw e}},keepPreviousData:!0,refetchOnWindowFocus:!1,onError:e=>{r.addError(e,{title:i.i18n.translate("xpack.observability.ruleDetails.ruleTypeLoadError",{defaultMessage:"Unable to load rule type."}),toastMessage:e instanceof Error?e.message:"string"==typeof e?e:""})}});return{ruleTypes:p,isLoading:u,isInitialLoading:l,isRefetching:f,isSuccess:d,isError:c,refetch:m}}},,,,,,,,,,,function(e,t,r){"use strict";r.d(t,"b",(function(){return w})),r.d(t,"a",(function(){return E}));var n=r(2),a=r(80),i=r(135),o=r(97),s=r.n(o),l=r(78),u=r.n(l),c=r(39);const d="eui-global",f="eui-utilities";var p=r(110),m=r(68);const g=[c.euiStylisPrefixer],y=u()({key:"css",stylisPlugins:g,container:document.querySelector('meta[name="emotion"]')}),b=u()({key:d,stylisPlugins:g,container:document.querySelector(`meta[name="${d}"]`)}),h=u()({key:f,stylisPlugins:g,container:document.querySelector(`meta[name="${f}"]`)});y.compat=!0,b.compat=!0,h.compat=!0;const v={default:y,global:b,utility:h},E=({theme:{theme$:e},globalStyles:t,colorMode:r,modify:a,children:i})=>{const o=s()(e,p.a),l=Object(n.useMemo)((()=>Object(p.b)(o)),[o]),u=r||l,d=!1!==t&&void 0;return Object(m.jsx)(c.EuiProvider,{cache:v,modify:a,colorMode:u,globalStyles:d,utilityClasses:d},i)},w=({children:e,i18n:t,...r})=>Object(a.useIsNestedEuiProvider)()?(Object(i.emitEuiProviderWarning)("KibanaRootContextProvider has likely been nested in this React tree, either by direct reference or by KibanaRenderContextProvider.  The result of this nesting is a nesting of EuiProvider, which has negative effects.  Check your React tree for nested Kibana context providers."),Object(m.jsx)(t.Context,null,e)):Object(m.jsx)(E,r,Object(m.jsx)(t.Context,null,e))},function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r(13),a=r(95),i=r(75);const o=new i.Type("NumberFromString",(e=>"number"==typeof e),((e,t)=>a.either.chain(i.string.validate(e,t),(r=>{const n=Number(r);return isNaN(n)?i.failure(e,t):i.success(n)}))),(e=>e)),s=new i.Type("BooleanFromString",(e=>"string"==typeof e),((e,t)=>a.either.chain(i.string.validate(e,t),(r=>{switch(r.toLowerCase().trim()){case"1":case"true":case"yes":return i.success(!0);case"0":case"false":case"no":return i.success(!1);default:return i.failure(e,t)}}))),(e=>e)),l={keyword:i.string,version:i.string,text:i.string,date:i.string,boolean:i.union([i.boolean,s]),byte:i.union([i.number,o]),long:i.union([i.number,o]),integer:i.union([i.number,o]),short:i.union([i.number,o]),double:i.union([i.number,o]),float:i.union([i.number,o]),scaled_float:i.union([i.number,o]),unsigned_long:i.union([i.number,o]),flattened:i.UnknownRecord},u=e=>{const t=i.union([e,i.array(i.union([e,i.nullType]))]);return new i.Type("castArray",t.is,t.validate,(e=>Array.isArray(e)?e:[e]))},c=e=>{const t=i.union([e,i.array(e)]);return new i.Type("castSingle",t.is,t.validate,(e=>Array.isArray(e)?e[0]:e))};function d(e){function t(e){return Object(n.mapValues)(e,(e=>{const t=e.type in l?l[e.type]:i.unknown;return e.array?u(t):c(t)}))}const r=Object(n.pickBy)(e,(e=>e.required));return i.intersection([i.exact(i.partial(t(e))),i.type(t(r))])}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(1);const a=Object.freeze({kibana:{id:"kibana",label:n.i18n.translate("core.ui.kibanaNavList.label",{defaultMessage:"Analytics"}),euiIconType:"logoKibana",order:1e3},enterpriseSearch:{id:"enterpriseSearch",label:n.i18n.translate("core.ui.searchNavList.label",{defaultMessage:"Search"}),order:2e3,euiIconType:"logoEnterpriseSearch"},observability:{id:"observability",label:n.i18n.translate("core.ui.observabilityNavList.label",{defaultMessage:"Observability"}),euiIconType:"logoObservability",order:3e3},security:{id:"securitySolution",label:n.i18n.translate("core.ui.securityNavList.label",{defaultMessage:"Security"}),order:4e3,euiIconType:"logoSecurity"},management:{id:"management",label:n.i18n.translate("core.ui.managementNavList.label",{defaultMessage:"Management"}),order:5e3,euiIconType:"managementApp"}})},,function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(91),a=r.n(n),i=(r(2),r(147)),o=r(83),s=r(68);const l=({children:e,...t})=>Object(s.jsx)(i.b,a()({globalStyles:!1},t),Object(s.jsx)(o.KibanaErrorBoundaryProvider,{analytics:t.analytics},Object(s.jsx)(o.KibanaErrorBoundary,null,e)))},function(e,t,r){switch(window.__kbnThemeTag__){case"v8dark":return r(153);case"v8light":return r(155)}},function(e,t,r){var n=r(122),a=r(154);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);n(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},function(e,t,r){(t=r(123)(!1)).push([e.i,'.messageVariablesPanel{height:100%;-webkit-mask-image:linear-gradient(180deg,#ff00001a 0,red 7.5px,red calc(100% - 7.5px),#ff00001a);mask-image:linear-gradient(180deg,#ff00001a 0,red 7.5px,red calc(100% - 7.5px),#ff00001a);max-height:320px;max-width:320px;overflow-x:hidden;overflow-y:auto;scrollbar-color:#98a2b380 #0000;scrollbar-width:thin}.messageVariablesPanel::-webkit-scrollbar{height:16px;width:16px}.messageVariablesPanel::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#98a2b380;border:6px solid #0000;border-radius:16px}.messageVariablesPanel::-webkit-scrollbar-corner,.messageVariablesPanel::-webkit-scrollbar-track{background-color:#0000}.messageVariablesPanel:focus{outline:none}.messageVariablesPanel[tabindex="0"]:focus:focus-visible{outline-style:auto}',""]),e.exports=t},function(e,t,r){var n=r(122),a=r(156);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);n(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},function(e,t,r){(t=r(123)(!1)).push([e.i,'.messageVariablesPanel{height:100%;-webkit-mask-image:linear-gradient(180deg,#ff00001a 0,red 7.5px,red calc(100% - 7.5px),#ff00001a);mask-image:linear-gradient(180deg,#ff00001a 0,red 7.5px,red calc(100% - 7.5px),#ff00001a);max-height:320px;max-width:320px;overflow-x:hidden;overflow-y:auto;scrollbar-color:#69707d80 #0000;scrollbar-width:thin}.messageVariablesPanel::-webkit-scrollbar{height:16px;width:16px}.messageVariablesPanel::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#69707d80;border:6px solid #0000;border-radius:16px}.messageVariablesPanel::-webkit-scrollbar-corner,.messageVariablesPanel::-webkit-scrollbar-track{background-color:#0000}.messageVariablesPanel:focus{outline:none}.messageVariablesPanel[tabindex="0"]:focus:focus-visible{outline-style:auto}',""]),e.exports=t},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tailRec=void 0,t.tailRec=function(e,t){for(var r=t(e);"Left"===r._tag;)r=t(r.left);return r.right}},function(e,t,r){"use strict";var n,a=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},n(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(95),s=o.either.map,l=o.either.chain,u=function(){function e(e,t,r,n){this.name=e,this.is=t,this.validate=r,this.encode=n,this.decode=this.decode.bind(this)}return e.prototype.pipe=function(r,n){var a=this;return void 0===n&&(n="pipe("+this.name+", "+r.name+")"),new e(n,r.is,(function(e,t){return l(a.validate(e,t),(function(e){return r.validate(e,t)}))}),this.encode===t.identity&&r.encode===t.identity?t.identity:function(e){return a.encode(r.encode(e))})},e.prototype.asDecoder=function(){return this},e.prototype.asEncoder=function(){return this},e.prototype.decode=function(e){return this.validate(e,[{key:"",type:this,actual:e}])},e}();t.Type=u,t.identity=function(e){return e},t.getFunctionName=function(e){return e.displayName||e.name||"<function"+e.length+">"},t.getContextEntry=function(e,t){return{key:e,type:t}},t.appendContext=function(e,t,r,n){for(var a=e.length,i=Array(a+1),o=0;o<a;o++)i[o]=e[o];return i[a]={key:t,type:r,actual:n},i},t.failures=o.left,t.failure=function(e,r,n){return t.failures([{value:e,context:r,message:n}])},t.success=o.right;var c=function(e,t){for(var r=t.length,n=0;n<r;n++)e.push(t[n])},d=function(e){return function(t){return t._tag===e}},f=d("AnyType"),p=d("InterfaceType"),m=d("PartialType"),g=function(e){function r(){var r=e.call(this,"null",(function(e){return null===e}),(function(e,n){return r.is(e)?t.success(e):t.failure(e,n)}),t.identity)||this;return r._tag="NullType",r}return a(r,e),r}(u);t.NullType=g,t.nullType=new g,t.null=t.nullType;var y=function(e){function r(){var r=e.call(this,"undefined",(function(e){return void 0===e}),(function(e,n){return r.is(e)?t.success(e):t.failure(e,n)}),t.identity)||this;return r._tag="UndefinedType",r}return a(r,e),r}(u);t.UndefinedType=y;var b=new y;t.undefined=b;var h=function(e){function r(){var r=e.call(this,"void",b.is,b.validate,t.identity)||this;return r._tag="VoidType",r}return a(r,e),r}(u);t.VoidType=h,t.voidType=new h,t.void=t.voidType;var v=function(e){function r(){var r=e.call(this,"unknown",(function(e){return!0}),t.success,t.identity)||this;return r._tag="UnknownType",r}return a(r,e),r}(u);t.UnknownType=v,t.unknown=new v;var E=function(e){function r(){var r=e.call(this,"string",(function(e){return"string"==typeof e}),(function(e,n){return r.is(e)?t.success(e):t.failure(e,n)}),t.identity)||this;return r._tag="StringType",r}return a(r,e),r}(u);t.StringType=E,t.string=new E;var w=function(e){function r(){var r=e.call(this,"number",(function(e){return"number"==typeof e}),(function(e,n){return r.is(e)?t.success(e):t.failure(e,n)}),t.identity)||this;return r._tag="NumberType",r}return a(r,e),r}(u);t.NumberType=w,t.number=new w;var T=function(e){function r(){var r=e.call(this,"boolean",(function(e){return"boolean"==typeof e}),(function(e,n){return r.is(e)?t.success(e):t.failure(e,n)}),t.identity)||this;return r._tag="BooleanType",r}return a(r,e),r}(u);t.BooleanType=T,t.boolean=new T;var j=function(e){function r(){var r=e.call(this,"UnknownArray",Array.isArray,(function(e,n){return r.is(e)?t.success(e):t.failure(e,n)}),t.identity)||this;return r._tag="AnyArrayType",r}return a(r,e),r}(u);t.AnyArrayType=j,t.UnknownArray=new j,t.Array=t.UnknownArray;var x=function(e){function r(){var r=e.call(this,"UnknownRecord",(function(e){return"[object Object]"===Object.prototype.toString.call(e)}),(function(e,n){return r.is(e)?t.success(e):t.failure(e,n)}),t.identity)||this;return r._tag="AnyDictionaryType",r}return a(r,e),r}(u);t.AnyDictionaryType=x,t.UnknownRecord=new x;var O=function(e){function r(){var r=e.call(this,"Function",(function(e){return"function"==typeof e}),(function(e,n){return r.is(e)?t.success(e):t.failure(e,n)}),t.identity)||this;return r._tag="FunctionType",r}return a(r,e),r}(u);t.FunctionType=O,t.Function=new O;var k=function(e){function t(t,r,n,a,i,o){var s=e.call(this,t,r,n,a)||this;return s.type=i,s.predicate=o,s._tag="RefinementType",s}return a(t,e),t}(u);t.RefinementType=k,t.brand=function(e,t,r){return X(e,t,r)},t.Int=t.brand(t.number,(function(e){return Number.isInteger(e)}),"Int");var S=function(e){function t(t,r,n,a,i){var o=e.call(this,t,r,n,a)||this;return o.value=i,o._tag="LiteralType",o}return a(t,e),t}(u);t.LiteralType=S,t.literal=function(e,r){void 0===r&&(r=JSON.stringify(e));var n=function(t){return t===e};return new S(r,n,(function(r,a){return n(r)?t.success(e):t.failure(r,a)}),t.identity,e)};var _=function(e){function t(t,r,n,a,i){var o=e.call(this,t,r,n,a)||this;return o.keys=i,o._tag="KeyofType",o}return a(t,e),t}(u);t.KeyofType=_;var A=Object.prototype.hasOwnProperty;t.keyof=function(e,r){void 0===r&&(r=Object.keys(e).map((function(e){return JSON.stringify(e)})).join(" | "));var n=function(r){return t.string.is(r)&&A.call(e,r)};return new _(r,n,(function(e,r){return n(e)?t.success(e):t.failure(e,r)}),t.identity,e)};var I=function(e){function t(t,r,n,a,i){var o=e.call(this,t,r,n,a)||this;return o.runDefinition=i,o._tag="RecursiveType",o}return a(t,e),t}(u);t.RecursiveType=I,Object.defineProperty(I.prototype,"type",{get:function(){return this.runDefinition()},enumerable:!0,configurable:!0}),t.recursion=function(e,t){var r,n=function(){return r||((r=t(a)).name=e),r},a=new I(e,(function(e){return n().is(e)}),(function(e,t){return n().validate(e,t)}),(function(e){return n().encode(e)}),n);return a};var R=function(e){function t(t,r,n,a,i){var o=e.call(this,t,r,n,a)||this;return o.type=i,o._tag="ArrayType",o}return a(t,e),t}(u);t.ArrayType=R,t.array=function(e,r){return void 0===r&&(r="Array<"+e.name+">"),new R(r,(function(r){return t.UnknownArray.is(r)&&r.every(e.is)}),(function(r,n){return l(t.UnknownArray.validate(r,n),(function(r){for(var a=r.length,i=r,s=[],l=0;l<a;l++){var u=r[l],d=e.validate(u,t.appendContext(n,String(l),e,u));if(o.isLeft(d))c(s,d.left);else{var f=d.right;f!==u&&(i===r&&(i=r.slice()),i[l]=f)}}return s.length>0?t.failures(s):t.success(i)}))}),e.encode===t.identity?t.identity:function(t){return t.map(e.encode)},e)};var M=function(e){function t(t,r,n,a,i){var o=e.call(this,t,r,n,a)||this;return o.props=i,o._tag="InterfaceType",o}return a(t,e),t}(u);t.InterfaceType=M;var C=function(e){return Object.keys(e).map((function(t){return t+": "+e[t].name})).join(", ")},N=function(e){for(var r=0;r<e.length;r++)if(e[r].encode!==t.identity)return!1;return!0},L=function(e){return"{ "+C(e)+" }"};t.type=function(e,r){void 0===r&&(r=L(e));var n=Object.keys(e),a=n.map((function(t){return e[t]})),s=n.length;return new M(r,(function(e){if(t.UnknownRecord.is(e)){for(var r=0;r<s;r++){var i=n[r];if(!A.call(e,i)||!a[r].is(e[i]))return!1}return!0}return!1}),(function(e,r){return l(t.UnknownRecord.validate(e,r),(function(e){for(var l=e,u=[],d=0;d<s;d++){var f=n[d];A.call(l,f)||(l===e&&(l=i({},e)),l[f]=l[f]);var p=l[f],m=a[d],g=m.validate(p,t.appendContext(r,f,m,p));if(o.isLeft(g))c(u,g.left);else{var y=g.right;y!==p&&(l===e&&(l=i({},e)),l[f]=y)}}return u.length>0?t.failures(u):t.success(l)}))}),N(a)?t.identity:function(e){for(var r=i({},e),o=0;o<s;o++){var l=n[o],u=a[o].encode;u!==t.identity&&(r[l]=u(e[l]))}return r},e)},t.interface=t.type;var F=function(e){function t(t,r,n,a,i){var o=e.call(this,t,r,n,a)||this;return o.props=i,o._tag="PartialType",o}return a(t,e),t}(u);t.PartialType=F;var P=function(e){return"Partial<"+e+">"};t.partial=function(e,r){void 0===r&&(r=P(L(e)));var n=Object.keys(e),a=n.map((function(t){return e[t]})),s=n.length;return new F(r,(function(r){if(t.UnknownRecord.is(r)){for(var a=0;a<s;a++){var i=n[a],o=r[i];if(void 0!==o&&!e[i].is(o))return!1}return!0}return!1}),(function(r,a){return l(t.UnknownRecord.validate(r,a),(function(r){for(var l=r,u=[],d=0;d<s;d++){var f=n[d],p=l[f],m=e[f],g=m.validate(p,t.appendContext(a,f,m,p));if(o.isLeft(g))void 0!==p&&c(u,g.left);else{var y=g.right;y!==p&&(l===r&&(l=i({},r)),l[f]=y)}}return u.length>0?t.failures(u):t.success(l)}))}),N(a)?t.identity:function(e){for(var t=i({},e),r=0;r<s;r++){var o=n[r],l=e[o];void 0!==l&&(t[o]=a[r].encode(l))}return t},e)};var U=function(e){function t(t,r,n,a,i,o){var s=e.call(this,t,r,n,a)||this;return s.domain=i,s.codomain=o,s._tag="DictionaryType",s}return a(t,e),t}(u);t.DictionaryType=U,t.record=function(e,r,n){return void 0===n&&(n="{ [K in "+e.name+"]: "+r.name+" }"),new U(n,(function(n){return t.UnknownRecord.is(n)?Object.keys(n).every((function(t){return e.is(t)&&r.is(n[t])})):f(r)&&Array.isArray(n)}),(function(n,a){if(t.UnknownRecord.is(n)){for(var i={},s=[],l=Object.keys(n),u=l.length,d=!1,p=0;p<u;p++){var m=l[p],g=n[m],y=e.validate(m,t.appendContext(a,m,e,m));if(o.isLeft(y))c(s,y.left);else{var b=y.right;d=d||b!==m,m=b;var h=r.validate(g,t.appendContext(a,m,r,g));if(o.isLeft(h))c(s,h.left);else{var v=h.right;d=d||v!==g,i[m]=v}}}return s.length>0?t.failures(s):t.success(d?i:n)}return f(r)&&Array.isArray(n)?t.success(n):t.failure(n,a)}),e.encode===t.identity&&r.encode===t.identity?t.identity:function(t){for(var n={},a=Object.keys(t),i=a.length,o=0;o<i;o++){var s=a[o];n[String(e.encode(s))]=r.encode(t[s])}return n},e,r)};var D=function(e){function t(t,r,n,a,i){var o=e.call(this,t,r,n,a)||this;return o.types=i,o._tag="UnionType",o}return a(t,e),t}(u);t.UnionType=D;var q=function(e){return"("+e.map((function(e){return e.name})).join(" | ")+")"};t.union=function(e,r){void 0===r&&(r=q(e));var n=oe(e);if(void 0!==n&&e.length>0){var a=n[0],i=n[1],s=i.length,u=function(e){for(var t=0;t<s;t++)if(-1!==i[t].indexOf(e))return t};return new G(r,(function(r){if(t.UnknownRecord.is(r)){var n=u(r[a]);return void 0!==n&&e[n].is(r)}return!1}),(function(r,n){return l(t.UnknownRecord.validate(r,n),(function(i){var o=u(i[a]);if(void 0===o)return t.failure(r,n);var s=e[o];return s.validate(i,t.appendContext(n,String(o),s,i))}))}),N(e)?t.identity:function(t){var n=u(t[a]);if(void 0===n)throw new Error("no codec found to encode value in union codec "+r);return e[n].encode(t)},e,a)}return new D(r,(function(t){return e.some((function(e){return e.is(t)}))}),(function(r,n){for(var a=[],i=0;i<e.length;i++){var s=e[i],l=s.validate(r,t.appendContext(n,String(i),s,r));if(!o.isLeft(l))return t.success(l.right);c(a,l.left)}return t.failures(a)}),N(e)?t.identity:function(t){for(var n=0,a=e;n<a.length;n++){var i=a[n];if(i.is(t))return i.encode(t)}throw new Error("no codec found to encode value in union type "+r)},e)};var z=function(e){function t(t,r,n,a,i){var o=e.call(this,t,r,n,a)||this;return o.types=i,o._tag="IntersectionType",o}return a(t,e),t}(u);t.IntersectionType=z;var V=function(e,r){for(var n=!0,a=!0,i=0,o=r;i<o.length;i++)(c=o[i])!==e&&(n=!1),t.UnknownRecord.is(c)&&(a=!1);if(n)return e;if(a)return r[r.length-1];for(var s={},l=0,u=r;l<u.length;l++){var c=u[l];for(var d in c)c[d]===e[d]&&s.hasOwnProperty(d)||(s[d]=c[d])}return s};t.intersection=function(e,r){void 0===r&&(r="("+e.map((function(e){return e.name})).join(" & ")+")");var n=e.length;return new z(r,(function(t){return e.every((function(e){return e.is(t)}))}),0===e.length?t.success:function(r,a){for(var i=[],s=[],l=0;l<n;l++){var u=e[l],d=u.validate(r,t.appendContext(a,String(l),u,r));o.isLeft(d)?c(s,d.left):i.push(d.right)}return s.length>0?t.failures(s):t.success(V(r,i))},0===e.length?t.identity:function(t){return V(t,e.map((function(e){return e.encode(t)})))},e)};var B=function(e){function t(t,r,n,a,i){var o=e.call(this,t,r,n,a)||this;return o.types=i,o._tag="TupleType",o}return a(t,e),t}(u);t.TupleType=B,t.tuple=function(e,r){void 0===r&&(r="["+e.map((function(e){return e.name})).join(", ")+"]");var n=e.length;return new B(r,(function(r){return t.UnknownArray.is(r)&&r.length===n&&e.every((function(e,t){return e.is(r[t])}))}),(function(r,a){return l(t.UnknownArray.validate(r,a),(function(r){for(var i=r.length>n?r.slice(0,n):r,s=[],l=0;l<n;l++){var u=r[l],d=e[l],f=d.validate(u,t.appendContext(a,String(l),d,u));if(o.isLeft(f))c(s,f.left);else{var p=f.right;p!==u&&(i===r&&(i=r.slice()),i[l]=p)}}return s.length>0?t.failures(s):t.success(i)}))}),N(e)?t.identity:function(t){return e.map((function(e,r){return e.encode(t[r])}))},e)};var $=function(e){function t(t,r,n,a,i){var o=e.call(this,t,r,n,a)||this;return o.type=i,o._tag="ReadonlyType",o}return a(t,e),t}(u);t.ReadonlyType=$,t.readonly=function(e,r){return void 0===r&&(r="Readonly<"+e.name+">"),new $(r,e.is,(function(t,r){return s(e.validate(t,r),(function(e){return e}))}),e.encode===t.identity?t.identity:e.encode,e)};var W=function(e){function t(t,r,n,a,i){var o=e.call(this,t,r,n,a)||this;return o.type=i,o._tag="ReadonlyArrayType",o}return a(t,e),t}(u);t.ReadonlyArrayType=W,t.readonlyArray=function(e,r){void 0===r&&(r="ReadonlyArray<"+e.name+">");var n=t.array(e);return new W(r,n.is,(function(e,t){return s(n.validate(e,t),(function(e){return e}))}),n.encode,e)},t.strict=function(e,r){return t.exact(t.type(e),r)};var G=function(e){function t(t,r,n,a,i,o){var s=e.call(this,t,r,n,a,i)||this;return s.tag=o,s}return a(t,e),t}(D);t.TaggedUnionType=G,t.taggedUnion=function(e,r,n){void 0===n&&(n=q(r));var a=t.union(r,n);return a instanceof G?a:(console.warn("[io-ts] Cannot build a tagged union for "+n+", returning a de-optimized union"),new G(n,a.is,a.validate,a.encode,r,e))};var H=function(e){function t(t,r,n,a,i){var o=e.call(this,t,r,n,a)||this;return o.type=i,o._tag="ExactType",o}return a(t,e),t}(u);t.ExactType=H;var K=function(e){switch(e._tag){case"RefinementType":case"ReadonlyType":return K(e.type);case"InterfaceType":case"StrictType":case"PartialType":return e.props;case"IntersectionType":return e.types.reduce((function(e,t){return Object.assign(e,K(t))}),{})}},J=function(e,t){for(var r=Object.getOwnPropertyNames(e),n=!1,a={},i=0;i<r.length;i++){var o=r[i];A.call(t,o)?a[o]=e[o]:n=!0}return n?a:e};t.exact=function(e,r){void 0===r&&(r=function(e){return p(e)?"{| "+C(e.props)+" |}":m(e)?P("{| "+C(e.props)+" |}"):"Exact<"+e.name+">"}(e));var n=K(e);return new H(r,e.is,(function(r,a){return l(t.UnknownRecord.validate(r,a),(function(){return s(e.validate(r,a),(function(e){return J(e,n)}))}))}),(function(t){return e.encode(J(t,n))}),e)},t.getValidationError=function(e,t){return{value:e,context:t}},t.getDefaultContext=function(e){return[{key:"",type:e}]};var Q=function(e){function r(){var r=e.call(this,"never",(function(e){return!1}),(function(e,r){return t.failure(e,r)}),(function(){throw new Error("cannot encode never")}))||this;return r._tag="NeverType",r}return a(r,e),r}(u);t.NeverType=Q,t.never=new Q;var Y=function(e){function r(){var r=e.call(this,"any",(function(e){return!0}),t.success,t.identity)||this;return r._tag="AnyType",r}return a(r,e),r}(u);t.AnyType=Y,t.any=new Y,t.Dictionary=t.UnknownRecord;var Z=function(e){function r(){var r=e.call(this,"object",(function(e){return null!==e&&"object"==typeof e}),(function(e,n){return r.is(e)?t.success(e):t.failure(e,n)}),t.identity)||this;return r._tag="ObjectType",r}return a(r,e),r}(u);function X(e,r,n){return void 0===n&&(n="("+e.name+" | "+t.getFunctionName(r)+")"),new k(n,(function(t){return e.is(t)&&r(t)}),(function(n,a){return l(e.validate(n,a),(function(e){return r(e)?t.success(e):t.failure(e,a)}))}),e.encode,e,r)}t.ObjectType=Z,t.object=new Z,t.refinement=X,t.Integer=X(t.number,Number.isInteger,"Integer"),t.dictionary=t.record;var ee=function(e){function t(t,r,n,a,i){var o=e.call(this,t,r,n,a)||this;return o.props=i,o._tag="StrictType",o}return a(t,e),t}(u);t.StrictType=ee,t.clean=function(e){return e},t.alias=function(e){return function(){return e}};var te=function(e){return e.length>0};function re(e,t){for(var r=[],n=0,a=e;n<a.length;n++){var i=a[n];-1!==t.indexOf(i)&&r.push(i)}return r}function ne(e){return"LiteralType"===e._tag}t.emptyTags={};var ae=[];function ie(e){if(-1!==ae.indexOf(e))return t.emptyTags;if(function(e){return"InterfaceType"===e._tag}(e)||function(e){return"StrictType"===e._tag}(e)){var r=t.emptyTags;for(var n in e.props){var a=e.props[n];ne(a)&&(r===t.emptyTags&&(r={}),r[n]=[a.value])}return r}if(function(e){return"ExactType"===e._tag}(e)||function(e){return"RefinementType"===e._tag}(e))return ie(e.type);if(function(e){return"IntersectionType"===e._tag}(e))return e.types.reduce((function(e,r){return function(e,r){if(e===t.emptyTags)return r;if(r===t.emptyTags)return e;var n=Object.assign({},e);for(var a in r)if(e.hasOwnProperty(a)){var i=re(e[a],r[a]);if(!te(i)){n=t.emptyTags;break}n[a]=i}else n[a]=r[a];return n}(e,ie(r))}),t.emptyTags);if(function(e){return"UnionType"===e._tag}(e))return e.types.slice(1).reduce((function(e,r){return function(e,r){if(e===t.emptyTags||r===t.emptyTags)return t.emptyTags;var n=t.emptyTags;for(var a in e)r.hasOwnProperty(a)&&0===re(e[a],r[a]).length&&(n===t.emptyTags&&(n={}),n[a]=e[a].concat(r[a]));return n}(e,ie(r))}),ie(e.types[0]));if(function(e){return"RecursiveType"===e._tag}(e)){ae.push(e);var i=ie(e.type);return ae.pop(),i}return t.emptyTags}function oe(e){for(var t=ie(e[0]),r=Object.keys(t),n=e.length,a=function(r){for(var a=t[r].slice(),i=[t[r]],o=1;o<n;o++){var s=ie(e[o])[r];if(void 0===s)return"continue-keys";if(s.some((function(e){return-1!==a.indexOf(e)})))return"continue-keys";a.push.apply(a,s),i.push(s)}return{value:[r,i]}},i=0,o=r;i<o.length;i++){var s=a(o[i]);if("object"==typeof s)return s.value}}t.getTags=ie,t.getIndex=oe}])]);