/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.observability_bundle_jsonpfunction=window.observability_bundle_jsonpfunction||[]).push([[10,12],{107:function(e,t,s){"use strict";s.r(t),s.d(t,"WithKueryAutocompletion",(function(){return c}));var n=s(9),o=s.n(n),i=s(2),u=s.n(i),r=s(18);class WithKueryAutocompletionComponent extends u.a.Component{constructor(...e){super(...e),o()(this,"state",{currentRequest:null,suggestions:[]}),o()(this,"loadSuggestions",(async(e,t,s,n)=>{const{indexPattern:o}=this.props,i="kuery";if(!this.props.kibana.services.unifiedSearch.autocomplete.hasQuerySuggestions(i))return;this.setState({currentRequest:{expression:e,cursorPosition:t},suggestions:[]});const u=await this.props.kibana.services.unifiedSearch.autocomplete.getQuerySuggestions({language:i,query:e,selectionStart:t,selectionEnd:t,indexPatterns:[o],boolFilter:[]})||[],r=n?n(u):u;this.setState((n=>n.currentRequest&&n.currentRequest.expression!==e&&n.currentRequest.cursorPosition!==t?n:{...n,currentRequest:null,suggestions:s?r.slice(0,s):r}))}))}render(){const{currentRequest:e,suggestions:t}=this.state;return this.props.children({isLoadingSuggestions:null!==e,loadSuggestions:this.loadSuggestions,suggestions:t})}}const c=Object(r.withKibana)(WithKueryAutocompletionComponent);t.default=c},150:function(e,t,s){"use strict";s.r(t),s.d(t,"RuleFlyoutKueryBar",(function(){return a}));var n=s(25),o=s(2),i=s.n(o),u=s(39),r=s(107),c=s(109);function a({derivedIndexPattern:e,onSubmit:t,onChange:s,value:a,placeholder:g,curryLoadSuggestions:d=l,compressed:p}){const[h,m]=Object(o.useState)(a||""),[S,b]=Object(o.useState)(!0);Object(o.useEffect)((()=>{a&&m(a)}),[a]);const{euiTheme:f}=Object(u.useEuiTheme)(),y=e=>{b(function(e){try{Object(n.fromKueryExpression)(e)}catch(e){return!1}return!0}(e)),m(e),s&&s(e)},v={...e,fields:e.fields};return i.a.createElement(r.WithKueryAutocompletion,{indexPattern:v},(({isLoadingSuggestions:e,loadSuggestions:s,suggestions:n})=>i.a.createElement(c.AutocompleteField,{compressed:p,"aria-label":g,isLoadingSuggestions:e,isValid:S,loadSuggestions:d(s),onChange:y,onSubmit:t,placeholder:g,suggestions:n,value:h,theme:f})))}const l=e=>(...t)=>e(...t);t.default=a}}]);