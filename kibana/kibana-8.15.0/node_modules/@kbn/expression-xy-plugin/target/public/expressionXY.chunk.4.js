(window.expressionXY_bundle_jsonpfunction=window.expressionXY_bundle_jsonpfunction||[]).push([[4],{35:function(r,e,o){"use strict";o.d(e,"a",(function(){return s})),o.d(e,"c",(function(){return l})),o.d(e,"b",(function(){return u})),o.d(e,"d",(function(){return a})),o.d(e,"e",(function(){return c})),o.d(e,"f",(function(){return p}));var n=o(30),i=o(2);const t=(r,e)=>`${r}-${e}`;function s(r,e){return r.filter((r=>void 0!==r)).map(((r,o)=>{return{...r,layerId:(n=r,n.layerId?r.layerId:t(e,o))};var n}))}const a=r=>{var e;return null!==(e=r.showLines)&&void 0!==e?e:r.seriesType===i.v.LINE||r.seriesType!==i.v.AREA};function l(r){return r.filter((r=>r.layerType===i.q.DATA||!r.layerType))}function u(r,e){var o;let i=r.splitAccessors,t=r.xAccessor,s=null!==(o=r.accessors)&&void 0!==o?o:[],a=r.markSizeAccessor;if(!(i&&i.length||t||s&&s.length||a)){var l,u,d,c;const r=null===(l=e.columns.find((r=>r.id===n.PointSeriesColumnNames.Y)))||void 0===l?void 0:l.id,o=null===(u=e.columns.find((r=>r.id===n.PointSeriesColumnNames.COLOR)))||void 0===u?void 0:u.id;t=null===(d=e.columns.find((r=>r.id===n.PointSeriesColumnNames.X)))||void 0===d?void 0:d.id,i=o?[o]:[],s=r?[r]:[],a=null===(c=e.columns.find((r=>r.id===n.PointSeriesColumnNames.SIZE)))||void 0===c?void 0:c.id}return{splitAccessors:i,xAccessor:t,accessors:s,markSizeAccessor:a}}var d=o(10);function c(r){return r.every((r=>{var e;return!(!r.xAccessor||"date"!==(null===(e=Object(d.getColumnByAccessor)(r.xAccessor,r.table.columns))||void 0===e?void 0:e.meta.type)||r.xScaleType&&r.xScaleType!==i.x.TIME)}))}var f=o(14),h=o.n(f);function p(r,e){const o=e&&Object(d.getColumnByAccessor)(e,r.columns);if(o&&"date"===(null==o?void 0:o.meta.type)){const e=o.id;if(!r.rows.some((r=>"string"==typeof r[e]&&"__other__"!==r[e])))return r;const n=r.rows.map((r=>"string"!=typeof r[e]?r:{...r,[e]:h()(r[e]).valueOf()}));return{...r,rows:n}}return r}},39:function(r,e,o){"use strict";o.d(e,"a",(function(){return a})),o.d(e,"c",(function(){return l})),o.d(e,"b",(function(){return u})),o.d(e,"f",(function(){return d})),o.d(e,"e",(function(){return c})),o.d(e,"g",(function(){return f})),o.d(e,"q",(function(){return h})),o.d(e,"d",(function(){return v})),o.d(e,"j",(function(){return m})),o.d(e,"k",(function(){return x})),o.d(e,"h",(function(){return E})),o.d(e,"p",(function(){return y})),o.d(e,"o",(function(){return b})),o.d(e,"i",(function(){return w})),o.d(e,"l",(function(){return A})),o.d(e,"n",(function(){return g})),o.d(e,"m",(function(){return N}));var n=o(0),i=o(15),t=o(2),s=o(35);const a={markSizeAccessorForNonLineOrAreaChartsError:()=>n.i18n.translate("expressionXY.reusable.function.dataLayer.errors.markSizeAccessorForNonLineOrAreaChartsError",{defaultMessage:"`markSizeAccessor` can't be used. Dots are applied only for line or area charts"}),markSizeRatioLimitsError:()=>n.i18n.translate("expressionXY.reusable.function.xyVis.errors.markSizeLimitsError",{defaultMessage:"Mark size ratio must be greater or equal to 1 and less or equal to 100"}),lineWidthForNonLineOrAreaChartError:()=>n.i18n.translate("expressionXY.reusable.function.xyVis.errors.lineWidthForNonLineOrAreaChartError",{defaultMessage:"`lineWidth` can be applied only for line or area charts"}),showPointsForNonLineOrAreaChartError:()=>n.i18n.translate("expressionXY.reusable.function.xyVis.errors.showPointsForNonLineOrAreaChartError",{defaultMessage:"`showPoints` can be applied only for line or area charts"}),pointsRadiusForNonLineOrAreaChartError:()=>n.i18n.translate("expressionXY.reusable.function.xyVis.errors.pointsRadiusForNonLineOrAreaChartError",{defaultMessage:"`pointsRadius` can be applied only for line or area charts"}),linesVisibilityForNonLineChartError:()=>n.i18n.translate("expressionXY.reusable.function.xyVis.errors.linesVisibilityForNonLineChartError",{defaultMessage:"Lines visibility can be controlled only at line charts"}),markSizeRatioWithoutAccessor:()=>n.i18n.translate("expressionXY.reusable.function.xyVis.errors.markSizeRatioWithoutAccessor",{defaultMessage:"Mark size ratio can be applied only with `markSizeAccessor`"}),extendBoundsAreInvalidError:()=>n.i18n.translate("expressionXY.reusable.function.xyVis.errors.extendBoundsAreInvalidError",{defaultMessage:"For area and bar modes, and custom extent mode, the lower bound should be less or greater than 0 and the upper bound - be greater or equal than 0"}),notUsedFillOpacityError:()=>n.i18n.translate("expressionXY.reusable.function.xyVis.errors.notUsedFillOpacityError",{defaultMessage:"`fillOpacity` argument is applicable only for area charts."}),valueLabelsForNotBarsChartsError:()=>n.i18n.translate("expressionXY.reusable.function.xyVis.errors.valueLabelsForNotBarChartsError",{defaultMessage:"`valueLabels` argument is applicable only for bar charts."}),dataBoundsForNotLineChartError:()=>n.i18n.translate("expressionXY.reusable.function.xyVis.errors.dataBoundsForNotLineChartError",{defaultMessage:"Only line charts can be fit to the data bounds"}),extentFullModeIsInvalidError:()=>n.i18n.translate("expressionXY.reusable.function.xyVis.errors.extentFullModeIsInvalid",{defaultMessage:"For x axis extent, the full mode is not supported."}),extentModeNotSupportedError:()=>n.i18n.translate("expressionXY.reusable.function.xyVis.errors.extentModeNotSupportedError",{defaultMessage:"X axis extent is only supported for numeric histograms."}),timeMarkerForNotTimeChartsError:()=>n.i18n.translate("expressionXY.reusable.function.xyVis.errors.timeMarkerForNotTimeChartsError",{defaultMessage:"Only time charts can have current time marker"}),isInvalidIntervalError:()=>n.i18n.translate("expressionXY.reusable.function.xyVis.errors.isInvalidIntervalError",{defaultMessage:"Provided x-axis interval is invalid. The interval should include quantity and unit names. Examples: 1d, 24h, 1w."}),minTimeBarIntervalNotForTimeBarChartError:()=>n.i18n.translate("expressionXY.reusable.function.xyVis.errors.minTimeBarIntervalNotForTimeBarChartError",{defaultMessage:"`minTimeBarInterval` argument is applicable only for time bar charts."}),invalidMinBarHeightError:()=>n.i18n.translate("expressionXY.reusable.function.xyVis.errors.invalidMinBarHeightError",{defaultMessage:"The min bar height should be a positive integer, representing pixel height of the bar."}),axisIsNotAssignedError:r=>n.i18n.translate("expressionXY.reusable.function.xyVis.errors.axisIsNotAssignedError",{defaultMessage:'Axis with id: "{axisId}" is not assigned to any accessor. Please assign axis using the following construction: `decorations=\'{dataDecorationConfig forAccessor="your-accessor" axisId="{axisId}"}\'`',values:{axisId:r}})},l=r=>r.some((({seriesType:r})=>r===t.v.BAR)),u=r=>r.some((({seriesType:r})=>r===t.v.AREA)),d=(r,e,o,n)=>{null==o||o.forEach((o=>{var n;if(o.extent&&!o.extent.enforce){if(e&&(null===(n=o.extent)||void 0===n?void 0:n.mode)===t.d.CUSTOM&&!(r=>{const e=void 0===r.lowerBound||void 0!==r.lowerBound&&r.lowerBound<=0,o=void 0===r.upperBound||void 0!==r.upperBound&&r.upperBound>=0;return e&&o})(o.extent))throw new Error(a.extendBoundsAreInvalidError());((r,e)=>{if(!e.some((({seriesType:r})=>r===t.v.LINE))&&r.mode===t.d.DATA_BOUNDS)throw new Error(a.dataBoundsForNotLineChartError())})(o.extent,r)}})),((r,e)=>{if(r){if(r.mode===t.d.FULL)throw new Error(a.extentFullModeIsInvalidError());if(Object(s.e)(e)||e.every((({isHistogram:r})=>!r)))throw new Error(a.extentModeNotSupportedError())}})(null==n?void 0:n.extent,r)},c=(r,e)=>{null==e||e.forEach((e=>{if(e.id&&r.every((r=>{var o;return!r.decorations||(null===(o=r.decorations)||void 0===o?void 0:o.every((r=>r.axisId!==e.id)))})))throw new Error(a.axisIsNotAssignedError(e.id))}))},f=(r,e)=>{if(void 0!==r&&!e)throw new Error(a.notUsedFillOpacityError())},h=(r,e)=>{if(!e&&r!==t.w.HIDE)throw new Error(a.valueLabelsForNotBarsChartsError())},p=r=>r===t.v.LINE||r===t.v.AREA,v=(r,e)=>{if(e&&!Object(s.e)(r))throw new Error(a.timeMarkerForNotTimeChartsError())},m=(r,e)=>{if(r&&!p(e))throw new Error(a.markSizeAccessorForNonLineOrAreaChartsError())},x=r=>{if(void 0!==r&&(r<1||r>100))throw new Error(a.markSizeRatioLimitsError())},E=(r,e)=>{if(void 0!==r&&!p(e))throw new Error(a.lineWidthForNonLineOrAreaChartError())},y=(r,e)=>{if(void 0!==r&&!p(e))throw new Error(a.showPointsForNonLineOrAreaChartError())},b=(r,e)=>{if(void 0!==r&&!p(e))throw new Error(a.pointsRadiusForNonLineOrAreaChartError())},w=(r,e)=>{if(r&&!p(e))throw new Error(a.linesVisibilityForNonLineChartError())},A=(r,e)=>{if(void 0!==r&&!e)throw new Error(a.markSizeRatioWithoutAccessor())},g=(r,e,o)=>{if(o){if(!Object(i.isValidInterval)(o))throw new Error(a.isInvalidIntervalError());if(!e||!Object(s.e)(r))throw new Error(a.minTimeBarIntervalNotForTimeBarChartError())}},N=r=>{if(void 0!==r&&r<0)throw new Error(a.invalidMinBarHeightError())}},86:function(r,e,o){"use strict";o.r(e),o.d(e,"extendedDataLayerFn",(function(){return a}));var n=o(10),i=o(2),t=o(35),s=o(39);const a=async(r,e,o)=>{var a;const l=r,u=Object(t.b)(e,l);Object(n.validateAccessor)(u.xAccessor,l.columns),null===(a=u.splitAccessors)||void 0===a||a.forEach((r=>Object(n.validateAccessor)(r,l.columns))),u.accessors.forEach((r=>Object(n.validateAccessor)(r,l.columns))),Object(s.j)(e.markSizeAccessor,e.seriesType),Object(n.validateAccessor)(e.markSizeAccessor,l.columns),Object(s.h)(e.lineWidth,e.seriesType),Object(s.p)(e.showPoints,e.seriesType),Object(s.o)(e.pointsRadius,e.seriesType),Object(s.i)(e.showLines,e.seriesType);const d=Object(t.f)(l,u.xAccessor),c=Object(t.d)(e);return{type:i.i,...e,layerType:i.q.DATA,...u,table:d,showLines:c}}}}]);