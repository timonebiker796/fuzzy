!function(e){function t(t){for(var n,o,i=t[0],a=t[1],s=0,c=[];s<i.length;s++)o=i[s],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&c.push(r[o][0]),r[o]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);for(l&&l(t);c.length;)c.shift()()}var n={},r={0:0};function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise((function(t,o){n=r[e]=[t,o]}));t.push(n[2]=i);var a,s=document.createElement("script");s.charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.src=function(e){return o.p+"expressionTagcloud.chunk."+e+".js"}(e);var l=new Error;a=function(t){s.onerror=s.onload=null,clearTimeout(c);var n=r[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+o+": "+i+")",l.name="ChunkLoadError",l.type=o,l.request=i,n[1](l)}r[e]=void 0}};var c=setTimeout((function(){a({type:"timeout",target:s})}),12e4);s.onerror=s.onload=a,document.head.appendChild(s)}return Promise.all(t)},o.m=e,o.c=n,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o.oe=function(e){throw console.error(e),e};var i=window.expressionTagcloud_bundle_jsonpfunction=window.expressionTagcloud_bundle_jsonpfunction||[],a=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var l=a;o(o.s=21)}([function(e,t){e.exports=__kbnSharedDeps__.KbnI18n},function(e,t){e.exports=__kbnSharedDeps__.EmotionReact},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i}));const r="tagcloud",o={LINEAR:"linear",LOG:"log",SQUARE_ROOT:"square root"},i={SINGLE:"single",RIGHT_ANGLED:"right angled",MULTIPLE:"multiple"}},function(e,t){e.exports=__kbnSharedDeps__.React},function(e,t){e.exports=__kbnSharedDeps__.ElasticEui},function(e,t,n){e.exports=n(20)(4)},function(e,t){e.exports=__kbnSharedDeps__.EmotionCache},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){"use strict";n.r(t);var r=n(2);n.d(t,"EXPRESSION_NAME",(function(){return r.a})),n.d(t,"ScaleOptions",(function(){return r.c})),n.d(t,"Orientation",(function(){return r.b}))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/visualizations/common/utils");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return s}));const r=e=>{if(e){var t;const n=e=>e.type?e:e.child?n(e.child):void 0;return null===(t=n(e))||void 0===t?void 0:t.type}},o=e=>{if(e){var t;const n=e=>e.child?n(e.child):e;return null===(t=n(e))||void 0===t?void 0:t.type}};function i(e,t){return e&&e[t]?Object.fromEntries(Object.entries(e[t]).map((([e,t])=>"ignore"===t?[e,void 0]:[e,t]))):{}}var a=n(13);function s(e,t){return t?e.reduce(((e,n)=>{const r=n[t];if(void 0===r)return e;const o=(Object(a.isMultiFieldKey)(r)?[...r.keys]:[r]).map(String),i=o.join(",");return e.keys.has(i)||(e.keys.add(i),e.categories.push(1===o.length?o[0]:o)),e}),{keys:new Set,categories:[]}).categories:[]}},function(e,t){e.exports=__kbnSharedDeps__.ReactDom},function(e,t){e.exports=__kbnSharedDeps__.KbnSharedUxErrorBoundary},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/data/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n(7);const[o,i]=Object(r.createGetterSetter)("fieldFormats")},function(e,t){e.exports=__kbnSharedDeps__.ElasticEuiLibComponentsUseIsNestedEuiProvider},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(23),o=n(3),i=r.__importDefault(n(24));t.default=function(e,t){var n=o.useState(t),r=n[0],a=n[1];return i.default((function(){var t=e.subscribe(a);return function(){return t.unsubscribe()}}),[e]),r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setEuiDevProviderWarning=t.getEuiDevProviderWarning=t.emitEuiProviderWarning=void 0;var r=void 0;t.setEuiDevProviderWarning=function(e){return r=e},t.getEuiDevProviderWarning=function(){return r},t.emitEuiProviderWarning=function(e){if("function"==typeof r)return r(e);switch(r){case"log":console.log(e);break;case"warn":console.warn(e);break;case"error":throw new Error(e)}}},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/visualizations/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.KbnAnalytics},function(e,t){e.exports=__kbnSharedDeps_npm__},function(e,t,n){n(22),__kbnBundles__.define("plugin/expressionTagcloud/public",n,25),__kbnBundles__.define("plugin/expressionTagcloud/common",n,8)},function(e,t,n){n.p=window.__kbnPublicPath__.expressionTagcloud},function(e,t){e.exports=__kbnSharedDeps__.TsLib},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o="undefined"!=typeof window?r.useLayoutEffect:r.useEffect;t.default=o},function(e,t,n){"use strict";n.r(t),n.d(t,"plugin",(function(){return H}));var r=n(7),o=n(5),i=n.n(o),a=n(3),s=n(11),l=n(1),c=n(0),u=n(15),d=n(17),p=n(16),f=n.n(p),g=n(6),b=n.n(g),_=n(4);const v="eui-global",m="eui-utilities",h={darkMode:!1},y=[_.euiStylisPrefixer],x=b()({key:"css",stylisPlugins:y,container:document.querySelector('meta[name="emotion"]')}),O=b()({key:v,stylisPlugins:y,container:document.querySelector(`meta[name="${v}"]`)}),S=b()({key:m,stylisPlugins:y,container:document.querySelector(`meta[name="${m}"]`)});x.compat=!0,O.compat=!0,S.compat=!0;const j={default:x,global:O,utility:S},T=({theme:{theme$:e},globalStyles:t,colorMode:n,modify:r,children:o})=>{const i=f()(e,h),s=Object(a.useMemo)((()=>(e=>e.darkMode?_.COLOR_MODES_STANDARD.dark:_.COLOR_MODES_STANDARD.light)(i)),[i]),c=n||s,u=!1!==t&&void 0;return Object(l.jsx)(_.EuiProvider,{cache:j,modify:r,colorMode:c,globalStyles:u,utilityClasses:u},o)},E=({children:e,i18n:t,...n})=>Object(u.useIsNestedEuiProvider)()?(Object(d.emitEuiProviderWarning)("KibanaRootContextProvider has likely been nested in this React tree, either by direct reference or by KibanaRenderContextProvider.  The result of this nesting is a nesting of EuiProvider, which has negative effects.  Check your React tree for nested Kibana context providers."),Object(l.jsx)(t.Context,null,e)):Object(l.jsx)(T,n,Object(l.jsx)(t.Context,null,e));var P=n(12);const k=({children:e,...t})=>Object(l.jsx)(E,i()({globalStyles:!1},t),Object(l.jsx)(P.KibanaErrorBoundaryProvider,{analytics:t.analytics},Object(l.jsx)(P.KibanaErrorBoundary,null,e)));var M=n(18),w=n(19),D=n(10),L=n(8);const C={height:"100%"},R=Object(a.lazy)((()=>n.e(1).then(n.bind(null,54))));var z=n(9),N=n(2);const A={help:c.i18n.translate("expressionTagcloud.functions.tagcloudHelpText",{defaultMessage:"Tagcloud visualization."}),argHelp:{scale:c.i18n.translate("expressionTagcloud.functions.tagcloud.args.scaleHelpText",{defaultMessage:"Scale to determine font size of a word"}),orientation:c.i18n.translate("expressionTagcloud.functions.tagcloud.args.orientationHelpText",{defaultMessage:"Orientation of words inside tagcloud"}),minFontSize:c.i18n.translate("expressionTagcloud.functions.tagcloud.args.minFontSizeHelpText",{defaultMessage:"Min font size"}),maxFontSize:c.i18n.translate("expressionTagcloud.functions.tagcloud.args.maxFontSizeHelpText",{defaultMessage:"Max font size"}),showLabel:c.i18n.translate("expressionTagcloud.functions.tagcloud.args.showLabelHelpText",{defaultMessage:"Show chart label"}),palette:c.i18n.translate("expressionTagcloud.functions.tagcloud.args.paletteHelpText",{defaultMessage:"Defines the chart palette name"}),metric:c.i18n.translate("expressionTagcloud.functions.tagcloud.args.metricHelpText",{defaultMessage:"metric dimension configuration"}),bucket:c.i18n.translate("expressionTagcloud.functions.tagcloud.args.bucketHelpText",{defaultMessage:"bucket dimension configuration"}),ariaLabel:c.i18n.translate("expressionTagcloud.functions.tagcloud.args.ariaLabelHelpText",{defaultMessage:"Specifies the aria label of the tagcloud"}),isPreview:c.i18n.translate("expressionTagcloud.functions.tagcloud.args.isPreviewHelpText",{defaultMessage:"Set isPreview to true to avoid showing out of room warnings"}),colorMapping:c.i18n.translate("expressionTagcloud.layer.colorMapping.help",{defaultMessage:"JSON key-value pairs of the color mapping model"})},dimension:{tags:c.i18n.translate("expressionTagcloud.functions.tagcloud.dimension.tags",{defaultMessage:"Tags"}),tagSize:c.i18n.translate("expressionTagcloud.functions.tagcloud.dimension.tagSize",{defaultMessage:"Tag size"})}},I=()=>{const{help:e,argHelp:t,dimension:n}=A;return{name:N.a,type:"render",inputTypes:["datatable"],help:e,args:{scale:{types:["string"],default:N.c.LINEAR,options:[N.c.LINEAR,N.c.LOG,N.c.SQUARE_ROOT],help:t.scale,strict:!0},orientation:{types:["string"],default:N.b.SINGLE,options:[N.b.SINGLE,N.b.RIGHT_ANGLED,N.b.MULTIPLE],help:t.orientation,strict:!0},minFontSize:{types:["number"],default:18,help:t.minFontSize},maxFontSize:{types:["number"],default:72,help:t.maxFontSize},showLabel:{types:["boolean"],default:!0,help:t.showLabel},palette:{types:["palette","system_palette"],help:t.palette,default:"{palette}"},metric:{types:["vis_dimension","string"],help:t.metric,required:!0},bucket:{types:["vis_dimension","string"],help:t.bucket},ariaLabel:{types:["string"],help:t.ariaLabel,required:!1},isPreview:{types:["boolean"],help:t.isPreview,default:!1,required:!1},colorMapping:{types:["string"],help:t.colorMapping}},fn(e,t,r){var o,i,a,s,l,c,u,d;Object(z.validateAccessor)(t.metric,e.columns),Object(z.validateAccessor)(t.bucket,e.columns);const p={scale:t.scale,orientation:t.orientation,minFontSize:t.minFontSize,maxFontSize:t.maxFontSize,showLabel:t.showLabel,metric:t.metric,...t.bucket&&{bucket:t.bucket},palette:t.palette,ariaLabel:null!==(o=null!==(i=t.ariaLabel)&&void 0!==i?i:null===(a=r.variables)||void 0===a?void 0:a.embeddableTitle)&&void 0!==o?o:null===(s=r.getExecutionContext)||void 0===s||null===(l=s.call(r))||void 0===l?void 0:l.description,isPreview:Boolean(t.isPreview),colorMapping:t.colorMapping};if(null!=r&&null!==(c=r.inspectorAdapters)&&void 0!==c&&c.tables){const o=[[[t.metric],n.tagSize]];t.bucket&&o.push([[t.bucket],n.tags]);const i=Object(z.prepareLogTable)(e,o,!0);r.inspectorAdapters.tables.logDatatable("default",i)}return{type:"render",as:N.a,value:{visData:e,visType:N.a,visParams:p,syncColors:null!==(u=null==r||null===(d=r.isSyncColorsEnabled)||void 0===d?void 0:d.call(r))&&void 0!==u&&u}}}}};var F=n(14);class plugin_ExpressionTagcloudPlugin{setup(e,{expressions:t,charts:n}){const o=Object(r.createStartServicesGetter)(e.getStartServices);t.registerFunction(I),t.registerRenderer((({getStartDeps:e})=>({name:L.EXPRESSION_NAME,displayName:c.i18n.translate("expressionTagcloud.renderer.tagcloud.displayName",{defaultMessage:"Tag Cloud visualization"}),help:c.i18n.translate("expressionTagcloud.renderer.tagcloud.helpDescription",{defaultMessage:"Render a tag cloud"}),reuseDomNode:!0,render:async(t,n,r)=>{const{core:o,plugins:a}=e();r.onDestroy((()=>{Object(s.unmountComponentAtNode)(t)}));const c=()=>{const e=r.getExecutionContext(),t=Object(D.a)(e),n=Object(D.b)(e);var o;t&&n&&(null===(o=a.usageCollection)||void 0===o||o.reportUiCounter(t,w.METRIC_TYPE.COUNT,[`render_${n}_${L.EXPRESSION_NAME}`])),r.done()};r.event({name:"chartSize",data:{maxDimensions:{x:{value:100,unit:"percentage"},y:{value:100,unit:"percentage"}}}});const u=await a.charts.palettes.getPalettes();let d=!1;a.charts.theme.darkModeEnabled$.subscribe((e=>{d=e.darkMode})).unsubscribe(),Object(s.render)(Object(l.jsx)(k,o,Object(l.jsx)(l.ClassNames,null,(({css:e,cx:t})=>Object(l.jsx)(M.VisualizationContainer,{handlers:r,className:t("tagCloudContainer",e(C)),renderComplete:c},Object(l.jsx)(R,i()({},n,{palettesRegistry:u,renderComplete:c,fireEvent:r.event,syncColors:n.syncColors,overrides:n.overrides,isDarkMode:d})))))),t)}}))({getStartDeps:o}))}start(e,{fieldFormats:t}){Object(F.b)(t)}stop(){}}function H(){return new plugin_ExpressionTagcloudPlugin}},function(e,t){e.exports=__kbnSharedDeps__.Lodash},function(e,t){e.exports=__kbnSharedDeps__.KbnI18nReact},function(e,t){e.exports=__kbnSharedDeps__.ElasticCharts},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/charts/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.KbnUiTheme}]);