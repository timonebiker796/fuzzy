!function(e){function t(t){for(var n,i,a=t[0],o=t[1],s=0,u=[];s<a.length;s++)i=a[s],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&u.push(r[i][0]),r[i]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);for(l&&l(t);u.length;)u.shift()()}var n={},r={1:0};function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,i){n=r[e]=[t,i]}));t.push(n[2]=a);var o,s=document.createElement("script");s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=function(e){return i.p+"visTypeGauge.chunk."+e+".js"}(e);var l=new Error;o=function(t){s.onerror=s.onload=null,clearTimeout(u);var n=r[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+i+": "+a+")",l.name="ChunkLoadError",l.type=i,l.request=a,n[1](l)}r[e]=void 0}};var u=setTimeout((function(){o({type:"timeout",target:s})}),12e4);s.onerror=s.onload=o,document.head.appendChild(s)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var a=window.visTypeGauge_bundle_jsonpfunction=window.visTypeGauge_bundle_jsonpfunction||[],o=a.push.bind(a);a.push=t,a=a.slice();for(var s=0;s<a.length;s++)t(a[s]);var l=o;i(i.s=18)}([function(e,t){e.exports=__kbnSharedDeps__.KbnI18n},function(e,t){e.exports=__kbnSharedDeps__.EmotionReact},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));const r={Automatic:"automatic",Horizontal:"horizontal",Vertical:"vertical"},i={Arc:"Arc",Circle:"Circle"}},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/expressions/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/charts/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/data/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.React},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/visualizations/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return c}));var r=n(16),i=n(7),a=n(3),o=n(10),s=n(2);const l=e=>{const t=Object(a.buildExpressionFunction)("visdimension",{accessor:e.accessor});return e.format&&(t.addArgument("format",e.format.id),t.addArgument("formatParams",JSON.stringify(e.format.params))),Object(a.buildExpression)([t])},u=({gaugeType:e,percentageMode:t,scale:n,style:r,labels:i})=>{const a=i.show?r.subText?"custom":"auto":"none";return{shape:(l=e,{[s.b.Arc]:o.GaugeShapes.ARC,[s.b.Circle]:o.GaugeShapes.CIRCLE}[l]),ticksPosition:n.show?"auto":"hidden",colorMode:"palette",labelMajorMode:a,..."custom"===a?{labelMinor:r.subText}:{},percentageMode:t};var l},c=(e,t)=>{var n,o,s,c;const g=Object(i.getVisSchemas)(e,t),{percentageMode:p,percentageFormatPattern:d,colorSchema:b,colorsRange:f,invertColors:_}=e.params.gauge;!0===p&&g.metric.forEach((e=>{e.format={id:"percent",params:{pattern:d}}}));const m=Object(a.buildExpressionFunction)("gauge",{...u(e.params.gauge),metric:g.metric.map(l),labelMajor:null===(n=g.metric)||void 0===n||null===(o=n[0])||void 0===o?void 0:o.label,percentageMode:p,respectRanges:!0,commonLabel:g.metric.length>1?null===(s=g.metric)||void 0===s||null===(c=s[0])||void 0===c?void 0:c.label:void 0});if(f&&f.length){const e=Object(r.getStopsWithColorsFromRanges)(f,b,_),t=Object(a.buildExpressionFunction)("palette",{...e,range:p?"percent":"number",continuity:"none",gradient:!0,rangeMax:p?100:e.stop[e.stop.length-1],rangeMin:e.stop[0]});m.addArgument("palette",Object(a.buildExpression)([t]))}return Object(a.buildExpression)([m]).toAst()}},function(e,t,n){"use strict";n.r(t),n.d(t,"LEGACY_GAUGE_CHARTS_LIBRARY",(function(){return r}));const r="visualization:visualize:legacyGaugeChartsLibrary"},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/expressionGauge/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.KbnI18nReact},function(e,t,n){e.exports=n(14)(4)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n(17);const[i,a]=Object(r.createGetterSetter)("dataViews")},function(e,t){e.exports=__kbnSharedDeps_npm__},function(e,t,n){e.exports=n(14)(2)},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/visualizations/common/utils");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n(19),__kbnBundles__.define("plugin/visTypeGauge/public",n,20),__kbnBundles__.define("plugin/visTypeGauge/common",n,9)},function(e,t,n){n.p=window.__kbnPublicPath__.visTypeGauge},function(e,t,n){"use strict";n.r(t),n.d(t,"plugin",(function(){return j})),n.d(t,"gaugeVisType",(function(){return y})),n.d(t,"goalVisType",(function(){return O}));var r=n(15),i=n.n(r),a=n(9),o=n(6),s=n(0),l=n(4),u=n(5),c=n(7),g=n(2),p=n(8),d=n(12),b=n.n(d),f=n(1);const _=Object(o.lazy)((()=>n.e(2).then(n.bind(null,26)))),m=({showElasticChartsOptions:e})=>t=>Object(f.jsx)(_,b()({},t,{showElasticChartsOptions:e}));var v=n(11);function h(){return Object(f.jsx)(v.FormattedMessage,{id:"visTypeGauge.splitTitle.tooltip",defaultMessage:"Split chart aggregation is not yet supported with the new charts library. Please, enable the gauge legacy charts library advanced setting to use split chart aggregation."})}const y=e=>(e=>({name:"gauge",title:s.i18n.translate("visTypeGauge.gauge.gaugeTitle",{defaultMessage:"Gauge"}),icon:"visGauge",description:s.i18n.translate("visTypeGauge.gauge.gaugeDescription",{defaultMessage:"Show the status of a metric."}),getSupportedTriggers:()=>[c.VIS_EVENT_TO_TRIGGER.filter],fetchDatatable:!0,toExpressionAst:p.b,visConfig:{defaults:{type:"gauge",addTooltip:!0,addLegend:!0,isDisplayWarning:!1,gauge:{alignment:g.a.Automatic,extendRange:!0,percentageMode:!1,gaugeType:g.b.Arc,gaugeStyle:"Full",backStyle:"Full",orientation:"vertical",colorSchema:l.ColorSchemas.GreenToRed,gaugeColorMode:l.ColorMode.Labels,colorsRange:[{from:0,to:50},{from:50,to:75},{from:75,to:100}],invertColors:!1,labels:{show:!0,color:"black"},scale:{show:!0,labels:!1,color:"rgba(105,112,125,0.2)"},type:"meter",style:{bgWidth:.9,width:.9,mask:!1,bgMask:!1,maskBars:50,bgFill:"rgba(105,112,125,0.2)",bgColor:!0,subText:"",fontSize:60}}}},editorConfig:{enableDataViewChange:!0,optionsTemplate:m(e),schemas:[{group:u.AggGroupNames.Metrics,name:"metric",title:s.i18n.translate("visTypeGauge.gauge.metricTitle",{defaultMessage:"Metric"}),min:1,...e.showElasticChartsOptions?{max:1}:{},aggFilter:["!std_dev","!geo_centroid","!percentiles","!percentile_ranks","!derivative","!serial_diff","!moving_avg","!cumulative_sum","!geo_bounds","!filtered_metric","!single_percentile","!single_percentile_rank"],defaults:[{schema:"metric",type:"count"}]},{group:u.AggGroupNames.Buckets,name:"group",...e.showElasticChartsOptions&&{disabled:!0,tooltip:Object(f.jsx)(h,null)},title:s.i18n.translate("visTypeGauge.gauge.groupTitle",{defaultMessage:"Split group"}),min:0,max:1,aggFilter:["!geotile_grid","!filter","!sampler","!diversified_sampler","!rare_terms","!multi_terms","!significant_text"]}]},requiresSearch:!0,navigateToLens:async(e,t)=>{const{convertGaugeToLens:r}=await n.e(0).then(n.bind(null,25));return e?r(e,t):null},getExpressionVariables:async(e,t)=>{const{convertGaugeToLens:r}=await n.e(0).then(n.bind(null,25));return{canNavigateToLens:Boolean(null!=e&&e.params?await r(e,t):null)}}}))(e),O=e=>(e=>({name:"goal",title:s.i18n.translate("visTypeGauge.goal.goalTitle",{defaultMessage:"Goal"}),icon:"visGoal",description:s.i18n.translate("visTypeGauge.goal.goalDescription",{defaultMessage:"Track how a metric progresses to a goal."}),fetchDatatable:!0,toExpressionAst:p.b,visConfig:{defaults:{addTooltip:!0,addLegend:!1,isDisplayWarning:!1,type:"goal",gauge:{verticalSplit:!1,autoExtend:!1,percentageMode:!0,gaugeType:g.b.Arc,gaugeStyle:"Full",backStyle:"Full",orientation:"vertical",useRanges:!1,colorSchema:l.ColorSchemas.GreenToRed,gaugeColorMode:l.ColorMode.None,colorsRange:[{from:0,to:1e4}],invertColors:!1,labels:{show:!0,color:"black"},scale:{show:!1,labels:!1,color:"rgba(105,112,125,0.2)",width:2},type:"meter",style:{bgFill:"rgba(105,112,125,0.2)",bgColor:!1,labelColor:!1,subText:"",fontSize:60}}}},editorConfig:{enableDataViewChange:!0,optionsTemplate:m(e),schemas:[{group:u.AggGroupNames.Metrics,name:"metric",title:s.i18n.translate("visTypeGauge.goal.metricTitle",{defaultMessage:"Metric"}),min:1,...e.showElasticChartsOptions?{max:1}:{},aggFilter:["!std_dev","!geo_centroid","!percentiles","!percentile_ranks","!derivative","!serial_diff","!moving_avg","!cumulative_sum","!geo_bounds","!filtered_metric","!single_percentile","!single_percentile_rank"],defaults:[{schema:"metric",type:"count"}]},{group:u.AggGroupNames.Buckets,name:"group",...e.showElasticChartsOptions&&{disabled:!0,tooltip:Object(f.jsx)(h,null)},title:s.i18n.translate("visTypeGauge.goal.groupTitle",{defaultMessage:"Split group"}),min:0,max:1,aggFilter:["!geotile_grid","!filter","!sampler","!diversified_sampler","!rare_terms","!multi_terms","!significant_text"]}]},requiresSearch:!0,navigateToLens:async(e,t)=>{const{convertGoalToLens:r}=await n.e(0).then(n.bind(null,25));return e?r(e,t):null},getExpressionVariables:async(e,t)=>{const{convertGoalToLens:r}=await n.e(0).then(n.bind(null,25));return{canNavigateToLens:Boolean(null!=e&&e.params?await r(e,t):null)}}}))(e);var T=n(13);class plugin_VisTypeGaugePlugin{constructor(e){i()(this,"initializerContext",void 0),this.initializerContext=e}setup(e,{visualizations:t}){if(!e.uiSettings.get(a.LEGACY_GAUGE_CHARTS_LIBRARY)){const{readOnly:e}=this.initializerContext.config.get(),n={showElasticChartsOptions:!0};t.createBaseVisualization({...y(n),disableCreate:Boolean(e),disableEdit:Boolean(e)}),t.createBaseVisualization({...O(n),disableCreate:Boolean(e),disableEdit:Boolean(e)})}return{}}start(e,{dataViews:t}){Object(T.b)(t)}}function j(e){return new plugin_VisTypeGaugePlugin(e)}},function(e,t){e.exports=__kbnSharedDeps__.ElasticEui},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/visDefaultEditor/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.Uuid},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/visualizations/common/convert_to_lens");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))}]);