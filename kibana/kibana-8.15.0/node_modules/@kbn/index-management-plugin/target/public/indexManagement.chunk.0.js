/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.indexManagement_bundle_jsonpfunction=window.indexManagement_bundle_jsonpfunction||[]).push([[0],Array(68).concat([function(e,t,a){"use strict";var i=a(6);a.d(t,"c",(function(){return i.FIELD_TYPES})),a.d(t,"e",(function(){return i.Form})),a.d(t,"f",(function(){return i.FormDataProvider})),a.d(t,"y",(function(){return i.getUseField})),a.d(t,"t",(function(){return i.UseField})),a.d(t,"s",(function(){return i.UseArray})),a.d(t,"z",(function(){return i.useForm})),a.d(t,"A",(function(){return i.useFormContext})),a.d(t,"u",(function(){return i.UseMultiFields})),a.d(t,"B",(function(){return i.useFormData}));var n=a(7);a.d(t,"a",(function(){return n.CheckBoxField})),a.d(t,"d",(function(){return n.Field})),a.d(t,"g",(function(){return n.FormRow})),a.d(t,"k",(function(){return n.NumericField})),a.d(t,"l",(function(){return n.RangeField})),a.d(t,"n",(function(){return n.SelectField})),a.d(t,"o",(function(){return n.SuperSelectField})),a.d(t,"p",(function(){return n.TextAreaField})),a.d(t,"q",(function(){return n.TextField})),a.d(t,"b",(function(){return n.ComboBoxField})),a.d(t,"r",(function(){return n.ToggleField})),a.d(t,"j",(function(){return n.JsonEditorField}));var s=a(13);a.d(t,"w",(function(){return s.fieldFormatters})),a.d(t,"x",(function(){return s.fieldValidators}));var l=a(4);a.d(t,"i",(function(){return l.JsonEditor})),a.d(t,"h",(function(){return l.GlobalFlyout}));var o=a(70);a.d(t,"v",(function(){return o.a}));var r=a(60);a.d(t,"m",(function(){return r.RuntimeFieldEditorFlyoutContent})),a(12)},function(e,t,a){"use strict";a.d(t,"s",(function(){return i.s})),a.d(t,"n",(function(){return i.l})),a.d(t,"r",(function(){return i.q})),a.d(t,"m",(function(){return i.k})),a.d(t,"t",(function(){return i.v})),a.d(t,"c",(function(){return i.c})),a.d(t,"y",(function(){return i.z})),a.d(t,"j",(function(){return i.g})),a.d(t,"k",(function(){return i.h})),a.d(t,"h",(function(){return i.e})),a.d(t,"i",(function(){return i.f})),a.d(t,"q",(function(){return i.o})),a.d(t,"a",(function(){return i.a})),a.d(t,"w",(function(){return i.x})),a.d(t,"b",(function(){return i.b})),a.d(t,"x",(function(){return i.y})),a.d(t,"u",(function(){return i.w})),a.d(t,"d",(function(){return i.d})),a.d(t,"l",(function(){return i.i})),a.d(t,"o",(function(){return i.m})),a.d(t,"p",(function(){return i.n})),a.d(t,"g",(function(){return l})),a.d(t,"f",(function(){return o})),a.d(t,"A",(function(){return c})),a.d(t,"z",(function(){return T})),a.d(t,"v",(function(){return L})),a.d(t,"e",(function(){return I}));var i=a(73),n=a(75),s=a(74);const l=e=>{const{otherTypeJson:t,...a}=e,i=Boolean(t)?{...t,...a}:{...a};return{}.hasOwnProperty.call(i,"subType")&&(i.type=i.subType,delete i.subType),delete i.useSameAnalyzerForSearch,(e=>Object.entries(e).filter((({1:e})=>e!==s.f)).reduce(((e,[t,a])=>({...e,[t]:a})),{}))((e=>n.z.reduce(((e,t)=>t(e)),e))(i))},o=e=>{const t=Object(i.r)(e.type);if(e.type=t.mainType,e.subType=t.subType,"other"===e.type){const{type:t,subType:a,name:i,...n}=e;e.otherTypeJson=n}else e.useSameAnalyzerForSearch=!1==={}.hasOwnProperty.call(e,"search_analyzer");return(e=>n.y.reduce(((e,t)=>t(e)),e))(e)};var r=a(8);const c=({rootLevelFields:e,byId:t},a="",i)=>({value:n})=>{if((i?Object.values(t).filter((e=>e.parentId===i)).map((e=>e.source.name)):e.map((e=>t[e].source.name))).filter((e=>e!==a)).includes(n))return{message:r.i18n.translate("xpack.idxMgmt.mappingsEditor.existNamesValidationErrorMessage",{defaultMessage:"There is already a field with this name."})}};var d=a(50),u=a(59),p=a(142),m=a(139),g=a(111);const x=[],b={report:Object(g.fold)((e=>e.map((e=>{const t=[];let a="";e.context.forEach(((i,n)=>{i.key&&t.push(i.key),n===e.context.length-1&&(a=i.type.name)}));const i=t[t.length-1];return{path:t,message:"Invalid value "+JSON.stringify(e.value)+` supplied to ${i}(${a})`}}))),(()=>x))},f=[...Object.keys(s.k),"type","properties","fields"],j="object",h=e=>Object.entries(e).reduce(((e,[t,a])=>{var i;return f.includes(t)&&((e,t)=>{if("type"===e)return!0;if("name"===e)return!1;if("properties"===e||"fields"===e)return Object(d.isPlainObject)(t);const a=s.k[e].schema;return!a||Object(g.isRight)(a.decode(t))})(t,a)?(e.value=null!==(i=e.value)&&void 0!==i?i:{},e.value[t]=a):e.parametersRemoved.push(t),e}),{parametersRemoved:[]}),O=(e,t=[])=>Object.entries(e).reduce(((e,[a,n])=>{const l=[...t,a].join("."),{value:o,parametersRemoved:r,meta:c}=(e=>{var t,a;if(!Object(d.isPlainObject)(e))return{parametersRemoved:[]};if("string"!=typeof(a=null!==(t=e.type)&&void 0!==t?t:j)||!s.a.includes(a))return{parametersRemoved:[]};const n={type:j,...e};return{...h(n),meta:Object(i.l)(n)}})(n);if(void 0===o)e.errors.push({code:"ERR_FIELD",fieldPath:l});else{if(c.hasChildFields||c.hasMultiFields){const i=O(o[c.childFieldsName],[...t,a]);o[c.childFieldsName]=i.value,i.errors&&(e.errors=[...e.errors,...i.errors])}e.value[a]=o,Boolean(r.length)&&(e.errors=[...e.errors,...r.map((e=>({code:"ERR_PARAMETER",fieldPath:l,paramName:e})))])}return e}),{value:{},errors:[]}),M=u.exact(u.partial({properties:u.UnknownRecord,_data_stream_timestamp:u.interface({enabled:u.boolean}),runtime:u.UnknownRecord,dynamic:u.union([u.literal(!0),u.literal(!1),u.literal("strict"),u.literal("true"),u.literal("false"),u.literal("runtime")]),date_detection:u.boolean,numeric_detection:u.boolean,dynamic_date_formats:u.array(u.string),_source:u.exact(u.partial({enabled:u.boolean,includes:u.array(u.string),excludes:u.array(u.string),mode:u.union([u.literal("disabled"),u.literal("stored"),u.literal("synthetic")])})),_meta:u.UnknownRecord,_routing:u.interface({required:u.boolean}),dynamic_templates:u.array(u.UnknownRecord),_size:u.interface({enabled:u.boolean}),subobjects:u.boolean})),y=Object.keys(M.type.props),v=Object.keys(M.type.props._source.type.props),E=e=>{const t=new Set;let a={...e};const i=M.decode(e),n=Object(g.isLeft)(i),s=Object.keys(e).filter((e=>!1===y.includes(e))),l=void 0!==e._source?Object.keys(e._source).filter((e=>!1===v.includes(e))):[];n&&b.report(i).forEach((e=>{const i=e.path[0];t.add(i),delete a[i]})),s.length>0&&s.forEach((e=>t.add(e))),l.length>0&&(t.add("_source"),delete a._source),a=Object(d.pick)(a,y);const o=Object(m.toArray)(p.ordString)(t).map((e=>({code:"ERR_CONFIG",configName:e}))).sort(((e,t)=>e.configName.localeCompare(t.configName)));return{value:a,errors:o}},k=e=>t=>{const a={...t},i=[];return"_size"in a&&!e.includes(s.j)&&(i.push({code:"ERR_CONFIG",configName:"_size"}),delete a._size),{value:a,errors:i}},T=(e={},t=[])=>{if(!Object(d.isPlainObject)(e))return{value:{}};const{properties:a,dynamic_templates:i,...n}=e,{value:s,errors:l}=[E,k(t)].reduce(((e,t)=>{const{value:a,errors:i}=t(e.value);return{value:a,errors:[...e.errors,...i]}}),{value:n,errors:[]}),{value:o,errors:r}=((e={})=>Object(d.isPlainObject)(e)?O(e):{value:{},errors:[]})(a),c=[...l,...r];return{value:{...s,properties:o,dynamic_templates:null!=i?i:[]},errors:c.length?c:void 0}};a(5);var F=a(2);const S=e=>e.replace(/[-\[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),_=(e,t)=>e.metadata.score>t.metadata.score?-1:t.metadata.score>e.metadata.score||null===e.metadata.stringMatch?1:null===t.metadata.stringMatch?-1:e.metadata.matchFieldName&&t.metadata.matchFieldName?e.field.source.name.length-t.field.source.name.length:e.metadata.stringMatch.length===t.metadata.stringMatch.length?e.field.path.length-t.field.path.length:t.metadata.stringMatch.length-e.metadata.stringMatch.length,C=(e,t)=>{const{term:a,type:i,searchRegexArray:n}=e,s=null!=i?i:a,l=a===t.name,o=a===t.path,r=n[0].exec(t.name),c=!!l||null!==r,d=t.path.startsWith(a),u=t.type.includes(s),p=s===t.type;let m=null;if(o)m=t.path;else if(c)m=l?t.name:r[0];else{const e=n.map((e=>e.exec(t.path))).filter(Boolean).sort(((e,t)=>t[0].length-e[0].length));e.length&&(m=e[0][0])}const g={matchFieldName:c,matchPath:null!==m,matchStartOfPath:d,fullyMatchPath:o,matchType:u,fullyMatchFieldName:l,fullyMatchType:p,stringMatch:m},x=(e=>{let t=0;return e.fullyMatchFieldName&&(t+=15),e.matchFieldName&&(t+=5),e.matchPath&&(t+=15),e.matchStartOfPath&&(t+=5),e.fullyMatchPath&&(t+=5),e.matchType&&(t+=5),e.fullyMatchType&&(t+=5),t})(g),b=((e,t,a)=>{const{term:i}=e,{path:n}=t;let s=Object(F.jsx)("span",null,n);if(a.fullyMatchPath)s=Object(F.jsx)("span",{style:{lineHeight:1.5}},Object(F.jsx)("strong",null,n));else if(a.matchStartOfPath){const e=n.substr(i.length,n.length);s=Object(F.jsx)("span",{style:{lineHeight:1.5}},Object(F.jsx)("strong",null,i),e)}else if(a.matchPath){const{stringMatch:e}=a,t=n.lastIndexOf(e),i=n.substr(0,t),l=n.substr(t+e.length);s=Object(F.jsx)("span",{style:{lineHeight:1.5}},i,Object(F.jsx)("strong",null,e),l)}return s})(e,t,g);return{...g,display:b,score:x}},L=(e,t)=>{const a=(e=>{let t,a=e.replace(/\s+/g," ").trim();const i=a.split(" ").map(S);">"===i[i.length-1]&&(i.pop(),a=i.join(" "));const n=[new RegExp(i.join("([\\._-\\s]|(\\s>\\s))?"),"i")],l=s.a.includes(i[0]),o=s.a.includes(i[i.length-1]);return l?t=i[0]:o&&(t=i[i.length-1]),{term:a,terms:i,type:t,searchRegexArray:n}})(e);return""===a.term?[]:Object.values(t).map((e=>({field:e,metadata:C(a,{name:e.source.name,path:e.path.join(" > "),type:e.source.type})}))).filter((({metadata:e})=>e.score>0)).sort(_).map((({field:e,metadata:{display:t}})=>({display:t,field:e})))},w=e=>{if(!Object.keys(e).every((e=>y.includes(e))))return!1;const{properties:t,dynamic_templates:a,runtime:i,...n}=e,{errors:s}=E(n),l=0===s.length,o=void 0===t||Object(d.isPlainObject)(t),r=void 0===a||Array.isArray(a),c=void 0===i||Object(d.isPlainObject)(i);return l&&o&&r&&c},I=(e={})=>{if(w(e))return e;const t=Object.values(e).reduce(((e,t)=>(w(t)&&e.push(t),e)),[]);return 0===t.length?null:1===t.length?t[0]:null}},function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var i=a(1),n=a.n(i),s=a(74);const l=new class DocumentationService{constructor(){n()(this,"links",void 0),n()(this,"dataStreams",""),n()(this,"esDocsBase",""),n()(this,"enrichPolicies",""),n()(this,"createEnrichPolicies",""),n()(this,"matchAllQuery",""),n()(this,"indexManagement",""),n()(this,"indexSettings",""),n()(this,"indexTemplates",""),n()(this,"indexV1",""),n()(this,"mapping",""),n()(this,"mappingAnalyzer",""),n()(this,"mappingCoerce",""),n()(this,"mappingCopyTo",""),n()(this,"mappingDocValues",""),n()(this,"mappingDynamic",""),n()(this,"mappingDynamicFields",""),n()(this,"mappingDynamicTemplates",""),n()(this,"mappingEagerGlobalOrdinals",""),n()(this,"mappingEnabled",""),n()(this,"mappingFieldData",""),n()(this,"mappingFieldDataFilter",""),n()(this,"mappingFieldDataTypes",""),n()(this,"mappingFieldDataEnable",""),n()(this,"mappingFormat",""),n()(this,"mappingIgnoreAbove",""),n()(this,"mappingIgnoreMalformed",""),n()(this,"mappingIndex",""),n()(this,"mappingIndexOptions",""),n()(this,"mappingIndexPhrases",""),n()(this,"mappingIndexPrefixes",""),n()(this,"mappingJoinFieldsPerformance",""),n()(this,"mappingMeta",""),n()(this,"mappingMetaFields",""),n()(this,"mappingNormalizer",""),n()(this,"mappingNorms",""),n()(this,"mappingNullValue",""),n()(this,"mappingParameters",""),n()(this,"mappingPositionIncrementGap",""),n()(this,"mappingRankFeatureFields",""),n()(this,"mappingRouting",""),n()(this,"mappingSimilarity",""),n()(this,"mappingSourceFields",""),n()(this,"mappingSourceFieldsDisable",""),n()(this,"mappingStore",""),n()(this,"mappingSubobjects",""),n()(this,"mappingTermVector",""),n()(this,"mappingTypesRemoval",""),n()(this,"percolate",""),n()(this,"runtimeFields",""),n()(this,"indicesComponentTemplate",""),n()(this,"bulkIndexAlias",""),n()(this,"indexStats",""),n()(this,"bulkApi",""),n()(this,"updateExistingDS",""),n()(this,"enrichIngestData",""),n()(this,"getTypeDocLink",((e,t="main")=>{const a=s.o[e];if(a&&a.documentation&&a.documentation[t])return`${this.esDocsBase}${a.documentation[t]}`}))}setup(e){const{links:t}=e;this.links=t,this.dataStreams=t.elasticsearch.dataStreams,this.esDocsBase=t.elasticsearch.docsBase,this.enrichPolicies=t.elasticsearch.enrichPolicies,this.createEnrichPolicies=t.elasticsearch.createEnrichPolicy,this.matchAllQuery=t.elasticsearch.matchAllQuery,this.indexManagement=t.management.indexManagement,this.indexSettings=t.elasticsearch.indexSettings,this.indexTemplates=t.elasticsearch.indexTemplates,this.indexV1=t.apis.putIndexTemplateV1,this.mapping=t.elasticsearch.mapping,this.mappingAnalyzer=t.elasticsearch.mappingAnalyzer,this.mappingCoerce=t.elasticsearch.mappingCoerce,this.mappingCopyTo=t.elasticsearch.mappingCopyTo,this.mappingDocValues=t.elasticsearch.mappingDocValues,this.mappingDynamic=t.elasticsearch.mappingDynamic,this.mappingDynamicFields=t.elasticsearch.mappingDynamicFields,this.mappingDynamicTemplates=t.elasticsearch.mappingDynamicTemplates,this.mappingEagerGlobalOrdinals=t.elasticsearch.mappingEagerGlobalOrdinals,this.mappingEnabled=t.elasticsearch.mappingEnabled,this.mappingFieldData=t.elasticsearch.mappingFieldData,this.mappingFieldDataTypes=t.elasticsearch.mappingFieldDataTypes,this.mappingFieldDataEnable=t.elasticsearch.mappingFieldDataEnable,this.mappingFieldDataFilter=t.elasticsearch.mappingFieldDataFilter,this.mappingFormat=t.elasticsearch.mappingFormat,this.mappingIgnoreAbove=t.elasticsearch.mappingIgnoreAbove,this.mappingIgnoreMalformed=t.elasticsearch.mappingIgnoreMalformed,this.mappingIndex=t.elasticsearch.mappingIndex,this.mappingIndexOptions=t.elasticsearch.mappingIndexOptions,this.mappingIndexPhrases=t.elasticsearch.mappingIndexPhrases,this.mappingIndexPrefixes=t.elasticsearch.mappingIndexPrefixes,this.mappingJoinFieldsPerformance=t.elasticsearch.mappingJoinFieldsPerformance,this.mappingMeta=t.elasticsearch.mappingMeta,this.mappingMetaFields=t.elasticsearch.mappingMetaFields,this.mappingNormalizer=t.elasticsearch.mappingNormalizer,this.mappingNorms=t.elasticsearch.mappingNorms,this.mappingNullValue=t.elasticsearch.mappingNullValue,this.mappingParameters=t.elasticsearch.mappingParameters,this.mappingPositionIncrementGap=t.elasticsearch.mappingPositionIncrementGap,this.mappingRankFeatureFields=t.elasticsearch.mappingRankFeatureFields,this.mappingRouting=t.elasticsearch.mappingRouting,this.mappingSimilarity=t.elasticsearch.mappingSimilarity,this.mappingSourceFields=t.elasticsearch.mappingSourceFields,this.mappingSourceFieldsDisable=t.elasticsearch.mappingSourceFieldsDisable,this.mappingStore=t.elasticsearch.mappingStore,this.mappingSubobjects=t.elasticsearch.mappingSubobjects,this.mappingTermVector=t.elasticsearch.mappingTermVector,this.mappingTypesRemoval=t.elasticsearch.mappingTypesRemoval,this.percolate=t.query.percolate,this.runtimeFields=t.runtimeFields.overview,this.indicesComponentTemplate=t.apis.putComponentTemplate,this.bulkIndexAlias=t.apis.bulkIndexAlias,this.indexStats=t.apis.indexStats,this.bulkApi=t.enterpriseSearch.bulkApi,this.updateExistingDS=t.elasticsearch.tutorialUpdateExistingDataStream,this.enrichIngestData=t.ingest.enrich}getEsDocsBase(){return this.esDocsBase}getSettingsDocumentationLink(){return this.indexSettings}getMappingDocumentationLink(){return this.mapping}getRoutingLink(){return this.mappingRouting}getDataStreamsDocumentationLink(){return this.dataStreams}getTemplatesDocumentationLink(e=!1){return e?this.indexV1:this.indexTemplates}getIdxMgmtDocumentationLink(){return this.indexManagement}getIndicesComponentTemplate(){return this.indicesComponentTemplate}getMappingTypesLink(){return this.mappingFieldDataTypes}getDynamicMappingLink(){return this.mappingDynamicFields}getPercolatorQueryLink(){return this.percolate}getRankFeatureQueryLink(){return this.mappingRankFeatureFields}getEnrichApisLink(){return this.enrichPolicies}getCreateEnrichPolicyLink(){return this.createEnrichPolicies}getMatchAllQueryLink(){return this.matchAllQuery}getMetaFieldLink(){return this.mappingMetaFields}getDynamicTemplatesLink(){return this.mappingDynamicTemplates}getMappingSourceFieldLink(){return this.mappingSourceFields}getDisablingMappingSourceFieldLink(){return this.mappingSourceFieldsDisable}getNullValueLink(){return this.mappingNullValue}getTermVectorLink(){return this.mappingTermVector}getStoreLink(){return this.mappingStore}getSimilarityLink(){return this.mappingSimilarity}getNormsLink(){return this.mappingNorms}getIndexLink(){return this.mappingIndex}getIgnoreMalformedLink(){return this.mappingIgnoreMalformed}getMetaLink(){return this.mappingMeta}getFormatLink(){return this.mappingFormat}getEagerGlobalOrdinalsLink(){return this.mappingEagerGlobalOrdinals}getDocValuesLink(){return this.mappingDocValues}getCopyToLink(){return this.mappingCopyTo}getCoerceLink(){return this.mappingCoerce}getBoostLink(){return this.mappingParameters}getNormalizerLink(){return this.mappingNormalizer}getIgnoreAboveLink(){return this.mappingIgnoreAbove}getFielddataLink(){return this.mappingFieldData}getFielddataFrequencyLink(){return this.mappingFieldDataFilter}getEnablingFielddataLink(){return this.mappingFieldDataEnable}getIndexPhrasesLink(){return this.mappingIndexPhrases}getIndexPrefixesLink(){return this.mappingIndexPrefixes}getPositionIncrementGapLink(){return this.mappingPositionIncrementGap}getAnalyzerLink(){return this.mappingAnalyzer}getDateFormatLink(){return this.mappingFormat}getIndexOptionsLink(){return this.mappingIndexOptions}getAlternativeToMappingTypesLink(){return this.mappingTypesRemoval}getJoinMultiLevelsPerformanceLink(){return this.mappingJoinFieldsPerformance}getDynamicLink(){return this.mappingDynamic}getEnabledLink(){return this.mappingEnabled}getSubobjectsLink(){return this.mappingSubobjects}getRuntimeFields(){return this.runtimeFields}getBulkIndexAlias(){return this.bulkIndexAlias}getIndexStats(){return this.indexStats}getBulkApi(){return this.bulkApi}getUpdateExistingDS(){return this.updateExistingDS}getEnrichIngestDataLink(){return this.enrichIngestData}getWellKnownTextLink(){return"http://docs.opengeospatial.org/is/12-063r5/12-063r5.html"}getRootLocaleLink(){return"https://docs.oracle.com/javase/8/docs/api/java/util/Locale.html#ROOT"}get docLinks(){if(!this.links)throw new Error("Can't return undefined doc links.");return this.links}}},function(e,t,a){"use strict";a.d(t,"v",(function(){return d})),a.d(t,"D",(function(){return u})),a.d(t,"C",(function(){return p})),a.d(t,"e",(function(){return m})),a.d(t,"y",(function(){return g})),a.d(t,"q",(function(){return x})),a.d(t,"t",(function(){return b})),a.d(t,"b",(function(){return f})),a.d(t,"g",(function(){return j})),a.d(t,"r",(function(){return h})),a.d(t,"s",(function(){return O})),a.d(t,"j",(function(){return M})),a.d(t,"k",(function(){return y})),a.d(t,"a",(function(){return v})),a.d(t,"x",(function(){return E})),a.d(t,"A",(function(){return k})),a.d(t,"I",(function(){return T})),a.d(t,"h",(function(){return F})),a.d(t,"H",(function(){return S})),a.d(t,"u",(function(){return _})),a.d(t,"B",(function(){return C})),a.d(t,"w",(function(){return L})),a.d(t,"K",(function(){return w})),a.d(t,"E",(function(){return I})),a.d(t,"f",(function(){return D})),a.d(t,"i",(function(){return P})),a.d(t,"c",(function(){return N})),a.d(t,"n",(function(){return A})),a.d(t,"l",(function(){return B})),a.d(t,"o",(function(){return R})),a.d(t,"F",(function(){return z})),a.d(t,"p",(function(){return V})),a.d(t,"G",(function(){return U})),a.d(t,"d",(function(){return q})),a.d(t,"z",(function(){return W})),a.d(t,"m",(function(){return G})),a.d(t,"J",(function(){return $}));var i=a(52),n=a(3),s=a(20),l=a(85);const o=e=>Object(s.G)(l.a.httpClient,e),r=e=>Object(s.O)(l.a.httpClient,e);let c;const d=e=>{c=e};function u({includeStats:e}){return r({path:`${n.a}/data_streams`,method:"get",query:{includeStats:e}})}function p(e){return r({path:`${n.a}/data_streams/${encodeURIComponent(e)}`,method:"get"})}async function m(e){return o({path:`${n.a}/delete_data_streams`,method:"post",body:{dataStreams:e}})}async function g(e,t){let a;return a=t.dataRetentionEnabled?t.infiniteRetentionPeriod?{}:{dataRetention:`${t.dataRetention}${t.timeUnit}`}:{enabled:!1},o({path:`${n.a}/data_streams/${encodeURIComponent(e)}/data_retention`,method:"put",body:a})}async function x(){const e=await l.a.httpClient.get(`${n.a}/indices`);return e.data?e.data:e}async function b(e,{asSystemRequest:t}={}){const a=JSON.stringify({indexNames:e}),i=await l.a.httpClient.post(`${n.a}/indices/reload`,{body:a,asSystemRequest:t});return i.data?i.data:i}async function f(e){const t=JSON.stringify({indices:e}),a=await l.a.httpClient.post(`${n.a}/indices/close`,{body:t}),s=e.length>1?n.v:n.u;return c.trackMetric(i.METRIC_TYPE.COUNT,s),a}async function j(e){const t=JSON.stringify({indices:e}),a=await l.a.httpClient.post(`${n.a}/indices/delete`,{body:t}),s=e.length>1?n.x:n.w;return c.trackMetric(i.METRIC_TYPE.COUNT,s),a}async function h(e){const t=JSON.stringify({indices:e}),a=await l.a.httpClient.post(`${n.a}/indices/open`,{body:t}),s=e.length>1?n.D:n.C;return c.trackMetric(i.METRIC_TYPE.COUNT,s),a}async function O(e){const t=JSON.stringify({indices:e}),a=await l.a.httpClient.post(`${n.a}/indices/refresh`,{body:t}),s=e.length>1?n.F:n.E;return c.trackMetric(i.METRIC_TYPE.COUNT,s),a}async function M(e){const t=JSON.stringify({indices:e}),a=await l.a.httpClient.post(`${n.a}/indices/flush`,{body:t}),s=e.length>1?n.z:n.y;return c.trackMetric(i.METRIC_TYPE.COUNT,s),a}async function y(e,t){const a=JSON.stringify({indices:e,maxNumSegments:t}),s=await l.a.httpClient.post(`${n.a}/indices/forcemerge`,{body:a}),o=e.length>1?n.B:n.A;return c.trackMetric(i.METRIC_TYPE.COUNT,o),s}async function v(e){const t=JSON.stringify({indices:e}),a=await l.a.httpClient.post(`${n.a}/indices/clear_cache`,{body:t}),s=e.length>1?n.t:n.s;return c.trackMetric(i.METRIC_TYPE.COUNT,s),a}async function E(e){const t=JSON.stringify({indices:e}),a=await l.a.httpClient.post(`${n.a}/indices/unfreeze`,{body:t}),s=e.length>1?n.H:n.G;return c.trackMetric(i.METRIC_TYPE.COUNT,s),a}async function k(e,t){const a=await o({path:`${n.a}/settings/${encodeURIComponent(e)}`,method:"put",body:JSON.stringify(t)});return a.error||c.trackMetric(i.METRIC_TYPE.COUNT,n.V),a}function T(){return r({path:`${n.a}/index_templates`,method:"get"})}async function F(e){const t=o({path:`${n.a}/delete_index_templates`,method:"post",body:{templates:e}}),a=e.length>1?n.L:n.K;return c.trackMetric(i.METRIC_TYPE.COUNT,a),t}function S(e,t){return r({path:`${n.a}/index_templates/${encodeURIComponent(e)}`,method:"get",query:{legacy:t}})}async function _(e,t){const a=await o({path:`${n.a}/index_templates`,method:"post",body:JSON.stringify(e)}),s=t?n.I:n.J;return c.trackMetric(i.METRIC_TYPE.COUNT,s),a}async function C(e){const{name:t}=e,a=await o({path:`${n.a}/index_templates/${encodeURIComponent(t)}`,method:"put",body:JSON.stringify(e)});return c.trackMetric(i.METRIC_TYPE.COUNT,n.U),a}function L(e){return o({path:`${n.a}/index_templates/simulate`,method:"post",body:JSON.stringify(e)}).then((e=>(c.trackMetric(i.METRIC_TYPE.COUNT,n.T),e)))}function w(){return r({path:`${n.a}/nodes/plugins`,method:"get"})}const I=()=>r({path:`${n.k}/enrich_policies`,method:"get"});async function D(e){return o({path:`${n.k}/enrich_policies/${e}`,method:"delete"})}async function P(e){return o({path:`${n.k}/enrich_policies/${e}`,method:"put"})}async function N(e,t){return o({path:`${n.k}/enrich_policies`,method:"post",body:JSON.stringify({policy:e}),query:{executePolicyAfterCreation:t}})}async function A(e){return o({path:`${n.k}/enrich_policies/get_matching_indices`,method:"post",body:JSON.stringify({pattern:e})})}async function B(e){return o({path:`${n.k}/enrich_policies/get_fields_from_indices`,method:"post",body:JSON.stringify({indices:e})})}function R(e){return o({path:`${n.k}/indices/${encodeURIComponent(e)}`,method:"get"})}function z(e){return r({path:`${n.a}/mapping/${encodeURIComponent(e)}`,method:"get"})}function V(e){return o({path:`${n.a}/stats/${encodeURIComponent(e)}`,method:"get"})}function U(e){return r({path:`${n.a}/settings/${encodeURIComponent(e)}`,method:"get"})}function q(e){return o({path:`${n.k}/indices/create`,method:"put",body:JSON.stringify({indexName:e})})}function W(e,t){return o({path:`${n.a}/mapping/${encodeURIComponent(e)}`,method:"put",body:JSON.stringify({...t})})}function G(){return o({path:`${n.a}/inference/all`,method:"get"})}function $(){return r({path:`${n.a}/inference/all`,method:"get"})}},function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return o})),a.d(t,"d",(function(){return r})),a.d(t,"e",(function(){return c}));var i=a(5),n=a(2);const s=Object(i.createContext)(void 0),l=({children:e,value:t})=>Object(n.jsx)(s.Provider,{value:t},e),o=s.Consumer,r=()=>{const e=Object(i.useContext)(s);if(!e)throw new Error('"useAppContext" can only be called inside of AppContext.Provider!');return e},c=()=>r().services},function(e,t,a){"use strict";a.d(t,"s",(function(){return l})),a.d(t,"l",(function(){return r})),a.d(t,"q",(function(){return c})),a.d(t,"k",(function(){return d})),a.d(t,"r",(function(){return u})),a.d(t,"v",(function(){return p})),a.d(t,"c",(function(){return m})),a.d(t,"z",(function(){return g})),a.d(t,"g",(function(){return x})),a.d(t,"h",(function(){return b})),a.d(t,"e",(function(){return f})),a.d(t,"f",(function(){return j})),a.d(t,"o",(function(){return h})),a.d(t,"a",(function(){return O})),a.d(t,"x",(function(){return M})),a.d(t,"b",(function(){return y})),a.d(t,"y",(function(){return v})),a.d(t,"w",(function(){return E})),a.d(t,"d",(function(){return k})),a.d(t,"n",(function(){return T})),a.d(t,"m",(function(){return S})),a.d(t,"i",(function(){return L})),a.d(t,"u",(function(){return w})),a.d(t,"p",(function(){return I})),a.d(t,"j",(function(){return P})),a.d(t,"t",(function(){return N}));var i=a(63),n=a(50),s=a(74);const l=()=>Object(i.v4)(),o=["aggregate_metric_double","constant_keyword","flattened","geo_shape","join","percolator","point","shape"],r=(e,t)=>{const a=(e=>{if(!o.includes(e))return"object"===e||"nested"===e?"properties":"fields"})(e.type),i=!t&&"properties"===a,n=!t&&"fields"===a;return{childFieldsName:a,canHaveChildFields:i,hasChildFields:!t&&i&&Boolean(e[a])&&Object.keys(e[a]).length>0,canHaveMultiFields:n,hasMultiFields:!t&&n&&Boolean(e[a])&&Object.keys(e[a]).length>0,isExpanded:!1}},c=e=>{const{type:t}=e,a=(e=>e&&s.o[e]?s.o[e].label:`${s.o.other.label}: ${e}`)(t);return a},d=(e,t)=>{var a;if(void 0!==t){var i;if(!s.k[e].props||!s.k[e].props[t])throw new Error(`No field config found for prop "${t}" on param "${e}" `);return(null===(i=s.k[e].props[t])||void 0===i?void 0:i.fieldConfig)||{}}return(null===(a=s.k[e])||void 0===a?void 0:a.fieldConfig)||{}},u=e=>{if(!s.h[e]){const i=(t=e,null!==(a=s.n[t])&&void 0!==a?a:"other");if(!i)throw new Error(`Property type "${e}" not recognized and no subType was found for it.`);return{mainType:i,subType:e}}var t,a;return{mainType:e}},p=(e={})=>{let t=0;const a=(e,i,n,s,o,c=!1,d)=>Object.entries(e).sort((([e],[t])=>e>t?1:e<t?-1:0)).reduce(((e,[u,p])=>{const m=l();s.push(m);const g={name:u,...p};void 0===g.type&&void 0!==g.properties&&(g.type="object");const x=r(g,c),{childFieldsName:b,hasChildFields:f,hasMultiFields:j}=x;if(f||j){const e=x.canHaveChildFields||x.canHaveMultiFields?o+1:o;x.childFields=[],t=Math.max(t,e),a(g[b],i,[...n,u],x.childFields,e,x.canHaveMultiFields,m)}const{properties:h,fields:O,...M}=g,y={id:m,parentId:d,nestedDepth:o,isMultiField:c,path:n.length?[...n,u]:[u],source:M,...x};return e[m]=y,e}),i),i=[],{byId:n,aliases:s}=(e=>{const t={};return Object.entries(e).forEach((([a,i])=>{if("alias"===i.source.type){const n=Object.values(e).find((e=>e.path.join(".")===i.source.path));n&&(i.source.path=n.id,t[n.id]=t[n.id]||[],t[n.id].push(a))}})),{aliases:t,byId:e}})(a(e,{},[],i,0));return{byId:n,aliases:s,rootLevelFields:i,maxNestedDepth:t}},m=({rootLevelFields:e,byId:t,aliases:a})=>{const i=((e,t)=>{const a={...t};return Object.entries(e).forEach((([e,t])=>{const i=a[e]?a[e].path.join("."):"";t.forEach((e=>{const t=a[e];if(!t)return;const n={...t,source:{...t.source,path:i}};a[e]=n}))})),a})(a,t),n=(e,t={})=>(e.forEach((e=>{const{source:a,childFields:s,childFieldsName:l}=i[e],{name:o,...r}=a,c=r;if(t[o]=c,s)return c[l]={},n(s,c[l])})),t);return n(e)},g=(e,t)=>{const a={...t},i=e.parentId?t[e.parentId].path:[],n=(e,i)=>{const{name:s}=e.source,l=0===i.length?[s]:[...i,s];a[e.id]={...e,path:l},(e.hasChildFields||e.hasMultiFields)&&e.childFields.map((e=>t[e])).forEach((e=>{n(e,[...i,s])}))};return n(e,i),{updatedFieldPath:a[e.id].path,updatedById:a}},x=(e,t)=>{const a=(e,i=[])=>((e.hasChildFields||e.hasMultiFields)&&e.childFields.map((e=>t[e])).forEach((e=>{i.push(e),a(e,i)})),i);return a(e)},b=(e,t,a=[])=>{const i=t.aliases[e.id]&&Boolean(t.aliases[e.id].length);return i||e.hasChildFields||e.hasMultiFields?(i&&t.aliases[e.id].forEach((e=>{a.push(e)})),e.childFields&&e.childFields.forEach((e=>{t.byId[e]&&b(t.byId[e],t,a)})),a):a},f=e=>e.filter((e=>!1===s.p.includes(e.value))),j=e=>e.filter((e=>!1===s.q.includes(e.value))),h=e=>Object.values(e).reduce(((e,t)=>Math.max(e,t.nestedDepth)),0),O=(e,t,a)=>e.map((e=>{const i=t[e],n=i.childFields?O(i.childFields,t,a):void 0;return{label:a(i),children:n}})),M=(e,t)=>"text"===e&&"keyword"!==t||"keyword"===e&&"text"!==t||"object"===e&&"nested"!==t||"nested"===e&&"object"!==t,y=e=>e<s.i,v=(e,t=!0)=>Object.entries(e).reduce(((e,[a,i])=>void 0===i?e:Array.isArray(i)||i instanceof Date||null===i?{...e,[a]:i}:t&&"object"==typeof i?{...e,[a]:v(i,t)}:{...e,[a]:i}),{}),E=(e={})=>Object.entries(e).reduce(((e,[t,a])=>{const i=l();return{...e,[i]:{id:i,source:{name:t,...a}}}}),{}),k=e=>Object.values(e).reduce(((e,{source:t})=>{const{name:a,...i}=t;return{...e,[a]:i}}),{}),T=(e,t)=>Object.fromEntries(Object.entries(e.fields.byId).filter((([a,i])=>t.includes(s.o[e.fields.byId[i.id].source.type].label))));function F(e){return null!=e}const S=(e,t)=>{const a=a=>t?t.includes(s.o[e.byId[a].source.type].label)?e.byId[a]:void 0:e.byId[a];return(t?Object.entries(e.byId).map((([e,t])=>a(e))):e.rootLevelFields.map((e=>a(e)))).filter(F)};function _(e,t,a){return a.indexOf(e)===t}const C=(e,t)=>{const a=Object.values(e);for(const e of a)e.type&&t.push(e.type),e.fields&&C(e.fields,t),e.properties&&C(e.properties,t);return t},L=e=>C(e,[]).filter(_);function w(e){return Boolean(e.inference_id&&"semantic_text"===e.type)}function I(e){let t=Object(n.cloneDeep)(e);for(const e of Object.values(t.fields.byId))if("semantic_text"===e.source.type&&e.source.reference_field){const{reference_field:a,...i}=e.source;if("string"!=typeof a)throw new Error("Reference field is not a string");e.source=i;const n=P(t.fields,a)||P(t.mappingViewFields||{byId:{}},a);if(!n)throw new Error(`Semantic text field ${e.path.join(".")} has invalid reference field`);{const a={...n,source:{...n.source,copy_to:n.source.copy_to?[...Array.isArray(n.source.copy_to)?n.source.copy_to:[n.source.copy_to],e.path.join(".")]:[e.path.join(".")]}};if(t={...t,fields:{...t.fields,byId:{...t.fields.byId,[n.id]:a}}},D(a,t),n.parentId){let e=n,a=!0;for(;a;)e.parentId?t.fields.byId[e.parentId]?a=!1:(t.fields.byId[e.parentId]=t.mappingViewFields.byId[e.parentId],D(t.mappingViewFields.byId[e.parentId],t),e=t.fields.byId[e.parentId]):(t.fields.rootLevelFields.push(e.id),a=!1)}else t.fields.rootLevelFields.push(n.id)}}return t}function D(e,t){if(!e.childFields||0===e.childFields.length)return t;for(const a of e.childFields)t.fields.byId[a]||(t.fields.byId[a]=t.mappingViewFields.byId[a],t=D(t.fields.byId[a],t));return t}const P=(e,t)=>Object.values(e.byId).find((e=>e.path.join(".")===t));function N(e){return["elser","elasticsearch"].includes(e.service)}},function(e,t,a){"use strict";a.d(t,"f",(function(){return i})),a.d(t,"m",(function(){return n})),a.d(t,"q",(function(){return j})),a.d(t,"p",(function(){return h})),a.d(t,"e",(function(){return O})),a.d(t,"r",(function(){return M})),a.d(t,"l",(function(){return v})),a.d(t,"b",(function(){return T})),a.d(t,"o",(function(){return g})),a.d(t,"h",(function(){return x})),a.d(t,"n",(function(){return b})),a.d(t,"a",(function(){return f})),a.d(t,"k",(function(){return V})),a.d(t,"i",(function(){return U})),a.d(t,"d",(function(){return q})),a.d(t,"c",(function(){return W})),a.d(t,"g",(function(){return G})),a.d(t,"j",(function(){return $}));const i="index_default",n="standard";var s=a(5),l=a.n(s),o=a(9),r=a(8);const c={"indexOptions.docs":{title:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.indexOptions.docNumberTitle",{defaultMessage:"Doc number"}),description:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.indexOptions.docNumberDescription",{defaultMessage:"Index the doc number only. Used to verify the existence of a term in a field."})},"indexOptions.freqs":{title:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.indexOptions.termFrequencyTitle",{defaultMessage:"Term frequencies"}),description:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.indexOptions.termFrequencyDescription",{defaultMessage:"Index the doc number and term frequencies. Repeated terms score higher than single terms."})},"indexOptions.positions":{title:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.indexOptions.positionsTitle",{defaultMessage:"Positions"}),description:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.indexOptions.positionsDescription",{defaultMessage:"Index the doc number, term frequencies, positions, and start and end character offsets. Offsets map the term back to the original string."})},"indexOptions.offsets":{title:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.indexOptions.offsetsTitle",{defaultMessage:"Offsets"}),description:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.indexOptions.offsetsDescription",{defaultMessage:"Doc number, term frequencies, positions, and start and end character offsets (which map the term back to the original string) are indexed."})},"analyzer.indexDefault":{title:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.indexDefaultTitle",{defaultMessage:"Index default"}),description:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.indexDefaultDescription",{defaultMessage:"Use the analyzer defined for the index."})},"analyzer.standard":{title:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.standardTitle",{defaultMessage:"Standard"}),description:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.standardDescription",{defaultMessage:"The standard analyzer divides text into terms on word boundaries, as defined by the Unicode Text Segmentation algorithm."})},"analyzer.simple":{title:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.simpleTitle",{defaultMessage:"Simple"}),description:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.simpleDescription",{defaultMessage:"The simple analyzer divides text into terms whenever it encounters a character which is not a letter. "})},"analyzer.whitespace":{title:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.whitespaceTitle",{defaultMessage:"Whitespace"}),description:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.whitespaceDescription",{defaultMessage:"The whitespace analyzer divides text into terms whenever it encounters any whitespace character."})},"analyzer.stop":{title:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.stopTitle",{defaultMessage:"Stop"}),description:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.stopDescription",{defaultMessage:"The stop analyzer is like the simple analyzer, but also supports removal of stop words."})},"analyzer.keyword":{title:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.keywordTitle",{defaultMessage:"Keyword"}),description:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.keywordDescription",{defaultMessage:"The keyword analyzer is a “noop” analyzer that accepts whatever text it is given and outputs the exact same text as a single term."})},"analyzer.pattern":{title:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.patternTitle",{defaultMessage:"Pattern"}),description:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.patternDescription",{defaultMessage:"The pattern analyzer uses a regular expression to split the text into terms. It supports lower-casing and stop words."})},"analyzer.fingerprint":{title:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.fingerprintTitle",{defaultMessage:"Fingerprint"}),description:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.fingerprintDescription",{defaultMessage:"The fingerprint analyzer is a specialist analyzer which creates a fingerprint which can be used for duplicate detection."})},"analyzer.language":{title:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.languageTitle",{defaultMessage:"Language"}),description:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.languageDescription",{defaultMessage:"Elasticsearch provides many language-specific analyzers like english or french."})},"similarity.bm25":{title:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.similarity.bm25Title",{defaultMessage:"Okapi BM25"}),description:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.similarity.bm25Description",{defaultMessage:"The default algorithm used in Elasticsearch and Lucene."})},"similarity.boolean":{title:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.similarity.booleanTitle",{defaultMessage:"Boolean"}),description:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.similarity.booleanDescription",{defaultMessage:"A boolean similarity to use when full text-ranking is not needed. The score is based on whether the query terms match."})},"termVector.no":{title:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.noTitle",{defaultMessage:"No"}),description:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.noDescription",{defaultMessage:"No term vectors are stored."})},"termVector.yes":{title:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.yesTitle",{defaultMessage:"Yes"}),description:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.yesDescription",{defaultMessage:"Just the terms in the field are stored."})},"termVector.withPositions":{title:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.withPositionsTitle",{defaultMessage:"With positions"}),description:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.withPositionsDescription",{defaultMessage:"Terms and positions are stored."})},"termVector.withOffsets":{title:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.withOffsetsTitle",{defaultMessage:"With offsets"}),description:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.withOffsetsDescription",{defaultMessage:"Terms and character offsets are stored."})},"termVector.withPositionsOffsets":{title:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.withPositionsOffsetsTitle",{defaultMessage:"With positions and offsets"}),description:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.withPositionsOffsetsDescription",{defaultMessage:"Terms, positions, and character offsets are stored."})},"termVector.withPositionsPayloads":{title:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.withPositionsPayloadsTitle",{defaultMessage:"With positions and payloads"}),description:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.withPositionsPayloadsDescription",{defaultMessage:"Terms, positions, and payloads are stored."})},"termVector.withPositionsOffsetsPayloads":{title:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.withPositionsOffsetsPayloadsTitle",{defaultMessage:"With positions, offsets, and payloads"}),description:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.withPositionsOffsetsPayloadsDescription",{defaultMessage:"Terms, positions, offsets and payloads are stored."})},"orientation.counterclockwise":{title:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.orientation.counterclockwiseTitle",{defaultMessage:"Counterclockwise"}),description:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.orientation.counterclockwiseDescription",{defaultMessage:"Defines outer polygon vertices in counterclockwise order and interior shape vertices in clockwise order. This is the Open Geospatial Consortium (OGC) and GeoJSON standard."})},"orientation.clockwise":{title:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.orientation.clockwiseTitle",{defaultMessage:"Clockwise"}),description:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.orientation.clockwiseDescription",{defaultMessage:"Defines outer polygon vertices in clockwise order and interior shape vertices in counterclockwise order."})}},d={arabic:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.arabic",{defaultMessage:"Arabic"}),armenian:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.armenian",{defaultMessage:"Armenian"}),basque:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.basque",{defaultMessage:"Basque"}),bengali:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.bengali",{defaultMessage:"Bengali"}),brazilian:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.brazilian",{defaultMessage:"Brazilian"}),bulgarian:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.bulgarian",{defaultMessage:"Bulgarian"}),catalan:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.catalan",{defaultMessage:"Catalan"}),cjk:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.cjk",{defaultMessage:"Cjk"}),czech:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.czech",{defaultMessage:"Czech"}),danish:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.danish",{defaultMessage:"Danish"}),dutch:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.dutch",{defaultMessage:"Dutch"}),english:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.english",{defaultMessage:"English"}),finnish:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.finnish",{defaultMessage:"Finnish"}),french:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.french",{defaultMessage:"French"}),galician:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.galician",{defaultMessage:"Galician"}),german:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.german",{defaultMessage:"German"}),greek:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.greek",{defaultMessage:"Greek"}),hindi:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.hindi",{defaultMessage:"Hindi"}),hungarian:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.hungarian",{defaultMessage:"Hungarian"}),indonesian:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.indonesian",{defaultMessage:"Indonesian"}),irish:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.irish",{defaultMessage:"Irish"}),italian:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.italian",{defaultMessage:"Italian"}),latvian:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.latvian",{defaultMessage:"Latvian"}),lithuanian:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.lithuanian",{defaultMessage:"Lithuanian"}),norwegian:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.norwegian",{defaultMessage:"Norwegian"}),persian:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.persian",{defaultMessage:"Persian"}),portuguese:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.portuguese",{defaultMessage:"Portuguese"}),romanian:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.romanian",{defaultMessage:"Romanian"}),russian:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.russian",{defaultMessage:"Russian"}),sorani:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.sorani",{defaultMessage:"Sorani"}),spanish:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.spanish",{defaultMessage:"Spanish"}),swedish:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.swedish",{defaultMessage:"Swedish"}),thai:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.thai",{defaultMessage:"Thai"}),turkish:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.turkish",{defaultMessage:"Turkish"})};var u=a(49),p=a(70),m=a(2);const g={text:{value:"text",label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.textDescription",{defaultMessage:"Text"}),documentation:{main:"text.html"},description:()=>Object(m.jsx)("p",null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.textLongDescription",defaultMessage:"Text fields support full-text search by breaking strings into individual, searchable terms. To index structured content, such as an email address, use the {keyword}.",values:{keyword:Object(m.jsx)(o.EuiLink,{href:p.a.getTypeDocLink("keyword"),target:"_blank"},r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.textLongDescription.keywordTypeLink",{defaultMessage:"keyword data type"}))}}))},match_only_text:{value:"match_only_text",label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.matchOnlyTextDescription",{defaultMessage:"Match only text"}),documentation:{main:"text.html#match-only-text-field-type"},description:()=>Object(m.jsx)("p",null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.matchOnlyTextLongDescription",defaultMessage:"A variant of {text} that trades scoring and efficiency of positional queries for space efficiency. This field effectively stores data the same way as a text field that only indexes documents (index_options: docs) and disables norms (norms: false). Term queries perform as fast if not faster as on text fields, however queries that need positions such as the match_phrase query perform slower as they need to look at the _source document to verify whether a phrase matches. All queries return constant scores that are equal to 1.0.",values:{text:Object(m.jsx)(o.EuiLink,{href:p.a.getTypeDocLink("text"),target:"_blank"},r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.matchOnlyTextLongDescription.textTypeLink",{defaultMessage:"text"}))}}))},keyword:{value:"keyword",label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.keywordDescription",{defaultMessage:"Keyword"}),documentation:{main:"keyword.html"},description:()=>Object(m.jsx)("p",null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.keywordLongDescription",defaultMessage:"Keyword fields support searching for an exact value and are useful for filtering, sorting, and aggregations. To index full-text content, such as an email body, use the {textType}.",values:{textType:Object(m.jsx)(o.EuiLink,{href:p.a.getTypeDocLink("text"),target:"_blank"},r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.keywordLongDescription.textTypeLink",{defaultMessage:"text data type"}))}}))},constant_keyword:{value:"constant_keyword",label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.constantKeywordDescription",{defaultMessage:"Constant keyword"}),documentation:{main:"keyword.html#constant-keyword-field-type"},description:()=>Object(m.jsx)("p",null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.constantKeywordLongDescription",defaultMessage:"Constant keyword fields are a special type of keyword fields for fields that contain the same keyword across all documents in the index. Supports the same queries and aggregations as {keyword} fields.",values:{keyword:Object(m.jsx)(o.EuiCode,null,"keyword")}}))},numeric:{value:"numeric",label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.numericDescription",{defaultMessage:"Numeric"}),documentation:{main:"number.html"},subTypes:{label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.numericSubtypeDescription",{defaultMessage:"Numeric type"}),types:["byte","double","float","half_float","integer","long","scaled_float","short","unsigned_long"]}},byte:{label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.byteDescription",{defaultMessage:"Byte"}),value:"byte",description:()=>Object(m.jsx)("p",null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.byteLongDescription",defaultMessage:"Byte fields accept a signed 8-bit integer with a minimum value of {minValue} and a maximum value of {maxValue}.",values:{minValue:Object(m.jsx)(o.EuiCode,null,"-128"),maxValue:Object(m.jsx)(o.EuiCode,null,"127")}}))},double:{label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.doubleDescription",{defaultMessage:"Double"}),value:"double",description:()=>Object(m.jsx)("p",null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.doubleLongDescription",defaultMessage:"Double fields accept a double-precision 64-bit floating point number, restricted to finite values (IEEE 754)."}))},integer:{label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.integerDescription",{defaultMessage:"Integer"}),value:"integer",description:()=>Object(m.jsx)("p",null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.integerLongDescription",defaultMessage:"Integer fields accept a signed 32-bit integer with a minimum value of {minValue} and a maximum value of {maxValue}.",values:{minValue:Object(m.jsx)(o.EuiCode,null,"-2",Object(m.jsx)("sup",{className:"eui-alignTop"},"31")),maxValue:Object(m.jsx)(o.EuiCode,null,"2",Object(m.jsx)("sup",{className:"eui-alignTop"},"31"),"-1")}}))},unsigned_long:{label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.unsignedLongDescription",{defaultMessage:"Unsigned long"}),value:"unsigned_long",description:()=>Object(m.jsx)("p",null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.unsignedLongLongDescription",defaultMessage:"Unsigned long fields accept an unsigned 64-bit integer with a minimum value of {minValue} and a maximum value of {maxValue}.",values:{minValue:Object(m.jsx)(o.EuiCode,null,"0"),maxValue:Object(m.jsx)(o.EuiCode,null,"2",Object(m.jsx)("sup",{className:"eui-alignTop"},"64"),"-1")}}))},long:{label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.longDescription",{defaultMessage:"Long"}),value:"long",description:()=>Object(m.jsx)("p",null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.longLongDescription",defaultMessage:"Long fields accept a signed 64-bit integer with a minimum value of {minValue} and a maximum value of {maxValue}.",values:{minValue:Object(m.jsx)(o.EuiCode,null,"-2",Object(m.jsx)("sup",{className:"eui-alignTop"},"63")),maxValue:Object(m.jsx)(o.EuiCode,null,"2",Object(m.jsx)("sup",{className:"eui-alignTop"},"63"),"-1")}}))},float:{label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.floatDescription",{defaultMessage:"Float"}),value:"float",description:()=>Object(m.jsx)("p",null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.floatLongDescription",defaultMessage:"Float fields accept a single-precision 32-bit floating point number, restricted to finite values (IEEE 754)."}))},half_float:{label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.halfFloatDescription",{defaultMessage:"Half float"}),value:"half_float",description:()=>Object(m.jsx)("p",null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.halfFloatLongDescription",defaultMessage:"Half-float fields accept a half-precision 16-bit floating point number, restricted to finite values (IEEE 754)."}))},scaled_float:{label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.scaledFloatDescription",{defaultMessage:"Scaled float"}),value:"scaled_float",description:()=>Object(m.jsx)("p",null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.scaledFloatLongDescription",defaultMessage:"Scaled-float fields accept a floating point number that is backed by a {longType} and scaled by a fixed {doubleType} scaling factor. Use this data type to store floating point data into an integer using a scaling factor. This saves disk space, but affects accuracy.",values:{longType:Object(m.jsx)(o.EuiCode,null,"long"),doubleType:Object(m.jsx)(o.EuiCode,null,"double")}}))},short:{label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.shortDescription",{defaultMessage:"Short"}),value:"short",description:()=>Object(m.jsx)("p",null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.shortLongDescription",defaultMessage:"Short fields accept a signed 16-bit integer with a minimum value of {minValue} and a maximum value of {maxValue}.",values:{minValue:Object(m.jsx)(o.EuiCode,null,"-32,768"),maxValue:Object(m.jsx)(o.EuiCode,null,"32,767")}}))},date:{label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.dateDescription",{defaultMessage:"Date"}),value:"date",documentation:{main:"date.html"},description:()=>Object(m.jsx)("p",null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.dateLongDescription",defaultMessage:'Date fields accept strings with formatted dates ("2015/01/01 12:10:30"), long numbers representing milliseconds since the epoch, and integers representing seconds since the epoch. Multiple date formats are allowed. Dates with timezones are converted to UTC.'}))},date_nanos:{label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.dateNanosDescription",{defaultMessage:"Date nanoseconds"}),value:"date_nanos",documentation:{main:"date_nanos.html"},description:()=>Object(m.jsx)("p",null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.dateNanosLongDescription",defaultMessage:"Date nanoseconds fields store dates in nanosecond resolution. Aggregations remain in millisecond resolution. To store dates in millisecond resolution, use the {date}.",values:{date:Object(m.jsx)(o.EuiLink,{href:p.a.getTypeDocLink("date"),target:"_blank"},r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.dateNanosLongDescription.dateTypeLink",{defaultMessage:"date data type"}))}}))},binary:{label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.binaryDescription",{defaultMessage:"Binary"}),value:"binary",documentation:{main:"binary.html"},description:()=>Object(m.jsx)("p",null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.binaryLongDescription",defaultMessage:"Binary fields accept a binary value as a Base64-encoded string. By default, binary fields are not stored or searchable."}))},ip:{label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.ipDescription",{defaultMessage:"IP"}),value:"ip",documentation:{main:"ip.html"},description:()=>Object(m.jsx)("p",null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.ipLongDescription",defaultMessage:"IP fields accept IPv4 or IPv6 addresses. If you need to store IP ranges in a single field, use the {ipRange}.",values:{ipRange:Object(m.jsx)(o.EuiLink,{href:p.a.getTypeDocLink("range"),target:"_blank"},r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.ipLongDescription.ipRangeTypeLink",{defaultMessage:"IP range data type"}))}}))},boolean:{label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.booleanDescription",{defaultMessage:"Boolean"}),value:"boolean",documentation:{main:"boolean.html"},description:()=>Object(m.jsx)("p",null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.booleanLongDescription",defaultMessage:"Boolean fields accept JSON {true} and {false} values, as well as strings which are interpreted as true or false.",values:{true:Object(m.jsx)(o.EuiCode,null,"true"),false:Object(m.jsx)(o.EuiCode,null,"false")}}))},range:{label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.rangeDescription",{defaultMessage:"Range"}),value:"range",documentation:{main:"range.html"},subTypes:{label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.rangeSubtypeDescription",{defaultMessage:"Range type"}),types:["date_range","double_range","float_range","integer_range","ip_range","long_range"]}},object:{label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.objectDescription",{defaultMessage:"Object"}),value:"object",documentation:{main:"object.html"},description:()=>Object(m.jsx)("p",null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.objectLongDescription",defaultMessage:"Object fields can contain children, which are queried as a flattened list. To query child objects independently, use the {nested}.",values:{nested:Object(m.jsx)(o.EuiLink,{href:p.a.getTypeDocLink("nested"),target:"_blank"},r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.objectLongDescription.nestedTypeLink",{defaultMessage:"nested data type"}))}}))},nested:{label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.nestedDescription",{defaultMessage:"Nested"}),value:"nested",documentation:{main:"nested.html"},description:()=>Object(m.jsx)("p",null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.nestedLongDescription",defaultMessage:"Like {objects}, nested fields can contain children. The difference is that you can query their child objects independently.",values:{objects:Object(m.jsx)(o.EuiLink,{href:p.a.getTypeDocLink("object"),target:"_blank"},r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.nestedLongDescription.objectTypeLink",{defaultMessage:"objects"}))}}))},rank_feature:{label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.rankFeatureDescription",{defaultMessage:"Rank feature"}),value:"rank_feature",documentation:{main:"rank-feature.html"},description:()=>Object(m.jsx)("p",null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.rankFeatureLongDescription",defaultMessage:"The rank feature field accepts a number that will boost documents in {rankFeatureQuery}.",values:{rankFeatureQuery:Object(m.jsx)(o.EuiLink,{href:p.a.getRankFeatureQueryLink(),target:"_blank"},r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.rankFeatureLongDescription.queryLink",{defaultMessage:"rank_feature queries"}))}}))},rank_features:{label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.rankFeaturesDescription",{defaultMessage:"Rank features"}),value:"rank_features",documentation:{main:"rank-features.html"},description:()=>Object(m.jsx)("p",null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.rankFeaturesLongDescription",defaultMessage:"The rank features field accepts numeric vectors that will boost documents in {rankFeatureQuery}.",values:{rankFeatureQuery:Object(m.jsx)(o.EuiLink,{href:p.a.getRankFeatureQueryLink(),target:"_blank"},r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.rankFeaturesLongDescription.queryLink",{defaultMessage:"rank_feature queries"}))}}))},dense_vector:{label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.denseVectorDescription",{defaultMessage:"Dense vector"}),value:"dense_vector",documentation:{main:"dense-vector.html"},description:()=>Object(m.jsx)("p",null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.denseVectorLongDescription",defaultMessage:"Dense vector fields store vectors of float values, useful for document scoring."}))},date_range:{label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.dateRangeDescription",{defaultMessage:"Date range"}),value:"date_range",description:()=>Object(m.jsx)("p",null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.dateRangeLongDescription",defaultMessage:"Date range fields accept an unsigned 64-bit integer representing milliseconds since the system epoch."}))},double_range:{label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.doubleRangeDescription",{defaultMessage:"Double range"}),value:"double_range",description:()=>Object(m.jsx)("p",null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.doubleRangeLongDescription",defaultMessage:"Double range fields accept a 64-bit double precision floating point number (IEEE 754 binary64)."}))},float_range:{label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.floatRangeDescription",{defaultMessage:"Float range"}),value:"float_range",description:()=>Object(m.jsx)("p",null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.floatRangeLongDescription",defaultMessage:"Float range fields accept a 32-bit single precision floating point number (IEEE 754 binary32)."}))},integer_range:{label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.integerRangeDescription",{defaultMessage:"Integer range"}),value:"integer_range",description:()=>Object(m.jsx)("p",null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.integerRangeLongDescription",defaultMessage:"Integer range fields accept a signed 32-bit integer."}))},long_range:{label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.longRangeDescription",{defaultMessage:"Long range"}),value:"long_range",description:()=>Object(m.jsx)("p",null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.longRangeLongDescription",defaultMessage:"Long range fields accept a signed 64-bit integer."}))},ip_range:{label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.ipRangeDescription",{defaultMessage:"IP range"}),value:"ip_range",description:()=>Object(m.jsx)("p",null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.ipRangeLongDescription",defaultMessage:"IP range fields accept an IPv4 or IPV6 address."}))},geo_point:{label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.geoPointDescription",{defaultMessage:"Geo-point"}),value:"geo_point",documentation:{main:"geo-point.html"},description:()=>Object(m.jsx)("p",null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.geoPointLongDescription",defaultMessage:"Geo-point fields accept latitude and longitude pairs. Use this data type to search within a bounding box, aggregate documents geographically, and sort documents by distance."}))},geo_shape:{label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.geoShapeDescription",{defaultMessage:"Geo-shape"}),value:"geo_shape",documentation:{main:"geo-shape.html",learnMore:"/geo-shape.html#geoshape-indexing-approach"},description:()=>Object(m.jsx)("p",null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.geoShapeType.fieldDescription",defaultMessage:"Geo-shapes are indexed by decomposing the shape into a triangular mesh and indexing each triangle as a 7-dimensional point in a BKD tree. {docsLink}",values:{docsLink:Object(m.jsx)(o.EuiLink,{href:p.a.getTypeDocLink("geo_shape","learnMore"),target:"_blank"},r.i18n.translate("xpack.idxMgmt.mappingsEditor.geoShapeType.fieldDescription.learnMoreLink",{defaultMessage:"Learn more."}))}}))},completion:{label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.completionSuggesterDescription",{defaultMessage:"Completion suggester"}),value:"completion",documentation:{main:"search-suggesters.html#completion-suggester"},description:()=>Object(m.jsx)("p",null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.completionSuggesterLongDescription",defaultMessage:"Completion suggester fields support autocomplete, but require special data structures that occupy memory and build slowly."}))},token_count:{label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.tokenCountDescription",{defaultMessage:"Token count"}),value:"token_count",documentation:{main:"token-count.html"},description:()=>Object(m.jsx)("p",null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.tokenCountLongDescription",defaultMessage:"Token count fields accept string values.  These values are analyzed, and the number of tokens in the string are indexed."}))},percolator:{label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.percolatorDescription",{defaultMessage:"Percolator"}),value:"percolator",documentation:{main:"percolator.html"},description:()=>Object(m.jsx)("p",null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.percolatorLongDescription",defaultMessage:"The percolator data type enables {percolator}.",values:{percolator:Object(m.jsx)(o.EuiLink,{href:p.a.getPercolatorQueryLink(),target:"_blank"},r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.percolatorLongDescription.learnMoreLink",{defaultMessage:"percolator queries"}))}}))},histogram:{label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.histogramDescription",{defaultMessage:"Histogram"}),value:"histogram",documentation:{main:"histogram.html"},description:()=>Object(m.jsx)("p",null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.histogramLongDescription",defaultMessage:"Histogram fields store pre-aggregated numerical data representing a histogram, and are intended for use with aggregations."}))},join:{label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.joinDescription",{defaultMessage:"Join"}),value:"join",documentation:{main:"parent-join.html"},description:()=>Object(m.jsx)("p",null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.joinLongDescription",defaultMessage:"Join fields define parent-child relationships among documents of the same index."}))},alias:{label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.aliasDescription",{defaultMessage:"Alias"}),value:"alias",documentation:{main:"alias.html"},description:()=>Object(m.jsx)("p",null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.aliasLongDescription",defaultMessage:"Alias fields accept an alternative name for a field, which you can use in search requests."}))},search_as_you_type:{label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.searchAsYouTypeDescription",{defaultMessage:"Search-as-you-type"}),value:"search_as_you_type",documentation:{main:"search-as-you-type.html"},description:()=>Object(m.jsx)("p",null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.searchAsYouTypeLongDescription",defaultMessage:"Search-as-you-type fields break strings into subfields for search suggestions, and will match terms at any position in the string."}))},flattened:{label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.flattenedDescription",{defaultMessage:"Flattened"}),value:"flattened",documentation:{main:"flattened.html"},description:()=>Object(m.jsx)("p",null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.flattenedLongDescription",defaultMessage:"Flattened fields map an object as a single field and are useful for indexing objects with a large or unknown number of unique keys. Flattened fields support basic queries only."}))},shape:{label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.shapeDescription",{defaultMessage:"Shape"}),value:"shape",documentation:{main:"shape.html"},description:()=>Object(m.jsx)("p",null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.shapeLongDescription",defaultMessage:"Shape fields enable searching of complex shapes, such as rectangles and polygons."}))},sparse_vector:{label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.sparseVectorDescription",{defaultMessage:"Sparse vector"}),value:"sparse_vector",documentation:{main:"sparse-vector.html"},description:()=>Object(m.jsx)("p",null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.sparseVectorLongDescription",defaultMessage:"Sparse vector fields index features and weights, useful for document scoring."}))},semantic_text:{label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.semanticTextDescription",{defaultMessage:"Semantic text"}),value:"semantic_text",documentation:{main:"semantic-text.html"},description:()=>Object(m.jsx)("p",null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.semanticTextLongDescription",defaultMessage:"Semantic text fields enable semantic search using text embeddings."}))},point:{label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.pointDescription",{defaultMessage:"Point"}),value:"point",documentation:{main:"point.html"},description:()=>Object(m.jsx)("p",null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.pointLongDescription",defaultMessage:"Point fields enable searching of {code} pairs that fall in a 2-dimensional planar coordinate system.",values:{code:Object(m.jsx)(o.EuiCode,null,"x,y")}}))},version:{label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.versionDescription",{defaultMessage:"Version"}),value:"version",documentation:{main:"version.html"},description:()=>Object(m.jsx)("p",null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.versionLongDescription",defaultMessage:"Version fields are helpful to handle software version values. This field isn’t optimized for heavy wildcard, regex, or fuzzy searches. For these query types, use the {keywordType}.",values:{keywordType:Object(m.jsx)(o.EuiLink,{href:p.a.getTypeDocLink("keyword"),target:"_blank"},r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.versionLongDescription.keywordTypeLink",{defaultMessage:"keyword data type"}))}}))},wildcard:{label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.wildcardDescription",{defaultMessage:"Wildcard"}),value:"wildcard",documentation:{main:"keyword.html#wildcard-field-type"},description:()=>Object(m.jsx)("p",null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.wildcardLongDescription",defaultMessage:"Wildcard fields store values optimized for wildcard grep-like queries."}))},other:{label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.otherDescription",{defaultMessage:"Other"}),value:"other",description:()=>Object(m.jsx)("p",null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.otherLongDescription",defaultMessage:"Specify type parameters in JSON."}))}},x=["alias","binary","boolean","completion","constant_keyword","date","date_nanos","dense_vector","flattened","geo_point","geo_shape","ip","join","keyword","nested","numeric","match_only_text","object","percolator","range","rank_feature","rank_features","search_as_you_type","shape","semantic_text","sparse_vector","text","token_count","histogram","wildcard","point","version","other"].reduce(((e,t)=>({...e,[t]:g[t]})),{}),b=Object.entries(x).reduce(((e,[t,a])=>(({}.hasOwnProperty.call(a,"subTypes")&&a.subTypes.types.forEach((a=>{e[a]=t})),e))),{}),f=[...Object.keys(x),...Object.keys(b)],j=["join"],h=[...j,"object","nested","alias"],O=Object.entries(x).map((([e,{label:t}])=>({value:e,label:t,"data-test-subj":`fieldTypesOptions-${e}`}))),M=(e,t)=>({inputDisplay:e,dropdownDisplay:Object(m.jsx)(l.a.Fragment,null,Object(m.jsx)("strong",null,e),Object(m.jsx)(o.EuiText,{size:"s",color:"subdued"},Object(m.jsx)("p",null,t)))}),y=e=>M(c[e].title,c[e].description),v={index_options:[{value:"docs",...y("indexOptions.docs")},{value:"freqs",...y("indexOptions.freqs")},{value:"positions",...y("indexOptions.positions")},{value:"offsets",...y("indexOptions.offsets")}],index_options_flattened:[{value:"docs",...y("indexOptions.docs")},{value:"freqs",...y("indexOptions.freqs")}],index_options_keyword:[{value:"docs",...y("indexOptions.docs")},{value:"freqs",...y("indexOptions.freqs")}],analyzer:[{value:i,...y("analyzer.indexDefault")},{value:n,...y("analyzer.standard")},{value:"simple",...y("analyzer.simple")},{value:"whitespace",...y("analyzer.whitespace")},{value:"stop",...y("analyzer.stop")},{value:"keyword",...y("analyzer.keyword")},{value:"pattern",...y("analyzer.pattern")},{value:"fingerprint",...y("analyzer.fingerprint")},{value:"language",...y("analyzer.language")}],languageAnalyzer:Object.entries(d).map((([e,t])=>({value:e,text:t}))),similarity:[{value:"BM25",...y("similarity.bm25")},{value:"boolean",...y("similarity.boolean")}],term_vector:[{value:"no",...y("termVector.no")},{value:"yes",...y("termVector.yes")},{value:"with_positions",...y("termVector.withPositions")},{value:"with_offsets",...y("termVector.withOffsets")},{value:"with_positions_offsets",...y("termVector.withPositionsOffsets")},{value:"with_positions_payloads",...y("termVector.withPositionsPayloads")},{value:"with_positions_offsets_payloads",...y("termVector.withPositionsOffsetsPayloads")}],orientation:[{value:"ccw",...y("orientation.counterclockwise")},{value:"cw",...y("orientation.clockwise")}]},E=[{label:"epoch_millis"},{label:"epoch_second"},{label:"date_optional_time",strict:!0},{label:"basic_date"},{label:"basic_date_time"},{label:"basic_date_time_no_millis"},{label:"basic_ordinal_date"},{label:"basic_ordinal_date_time"},{label:"basic_ordinal_date_time_no_millis"},{label:"basic_time"},{label:"basic_time_no_millis"},{label:"basic_t_time"},{label:"basic_t_time_no_millis"},{label:"basic_week_date",strict:!0},{label:"basic_week_date_time",strict:!0},{label:"basic_week_date_time_no_millis",strict:!0},{label:"date",strict:!0},{label:"date_hour",strict:!0},{label:"date_hour_minute",strict:!0},{label:"date_hour_minute_second",strict:!0},{label:"date_hour_minute_second_fraction",strict:!0},{label:"date_hour_minute_second_millis",strict:!0},{label:"date_time",strict:!0},{label:"date_time_no_millis",strict:!0},{label:"hour",strict:!0},{label:"hour_minute ",strict:!0},{label:"hour_minute_second",strict:!0},{label:"hour_minute_second_fraction",strict:!0},{label:"hour_minute_second_millis",strict:!0},{label:"ordinal_date",strict:!0},{label:"ordinal_date_time",strict:!0},{label:"ordinal_date_time_no_millis",strict:!0},{label:"time",strict:!0},{label:"time_no_millis",strict:!0},{label:"t_time",strict:!0},{label:"t_time_no_millis",strict:!0},{label:"week_date",strict:!0},{label:"week_date_time",strict:!0},{label:"week_date_time_no_millis",strict:!0},{label:"weekyear",strict:!0},{label:"weekyear_week",strict:!0},{label:"weekyear_week_day",strict:!0},{label:"year",strict:!0},{label:"year_month",strict:!0},{label:"year_month_day",strict:!0}],k=E.filter((e=>e.strict)).map((({label:e})=>({label:`strict_${e}`}))),T=[...E.map((({label:e})=>({label:e}))),...k];var F=a(59),S=a(68);const{toInt:_}=S.w,{emptyField:C,containsCharsField:L,numberGreaterThanField:w,isJsonField:I}=S.x,D={smallerThanZero:r.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.smallerZeroErrorMessage",{defaultMessage:"The value must be greater or equal to 0."}),spacesNotAllowed:r.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.spacesNotAllowedErrorMessage",{defaultMessage:"Spaces are not allowed."}),analyzerIsRequired:r.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.analyzerIsRequiredErrorMessage",{defaultMessage:"Specify the custom analyzer name or choose a built-in analyzer."})},P=r.i18n.translate("xpack.idxMgmt.mappingsEditor.nullValueFieldLabel",{defaultMessage:"Null value"}),N=C(r.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.nullValueIsRequiredErrorMessage",{defaultMessage:"Null value is required."})),A=["true",!0,"false",!1],B={label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.indexOptionsLabel",{defaultMessage:"Index options"}),helpText:()=>Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.indexOptionsHelpText",defaultMessage:"Information to store in the index. {docsLink}",values:{docsLink:Object(m.jsx)(o.EuiLink,{href:p.a.getIndexOptionsLink(),target:"_blank"},r.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.indexOptionsdDocumentationLink",{defaultMessage:"Learn more."}))}}),type:S.c.SUPER_SELECT},R={fieldConfig:{defaultValue:{}},props:{min_segment_size:{fieldConfig:{type:S.c.NUMBER,label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.minSegmentSizeFieldLabel",{defaultMessage:"Minimum segment size"}),defaultValue:50,formatters:[_]}}},schema:F.record(F.union([F.literal("min"),F.literal("max"),F.literal("min_segment_size")]),F.number)},z=[{validator:C(D.analyzerIsRequired)},{validator:L({chars:" ",message:D.spacesNotAllowed})}],V={name:{fieldConfig:{label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.nameFieldLabel",{defaultMessage:"Field name"}),defaultValue:"",validations:[{validator:C(r.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.nameIsRequiredErrorMessage",{defaultMessage:"Give a name to the field."}))}]}},type:{fieldConfig:{label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.typeFieldLabel",{defaultMessage:"Field type"}),defaultValue:"text",deserializer:e=>"string"==typeof e&&Boolean(e)?[{label:g[e]?g[e].label:e,value:e}]:[{value:""}],serializer:e=>e&&e.length?e[0].value:e,validations:[{validator:C(r.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.typeIsRequiredErrorMessage",{defaultMessage:"Specify a field type."}))}]},schema:F.string},store:{fieldConfig:{type:S.c.CHECKBOX,defaultValue:!1},schema:F.boolean},index:{fieldConfig:{type:S.c.CHECKBOX,defaultValue:!0},schema:F.boolean},doc_values:{fieldConfig:{defaultValue:!0},schema:F.boolean},doc_values_binary:{fieldConfig:{defaultValue:!1},schema:F.boolean},fielddata:{fieldConfig:{type:S.c.CHECKBOX,defaultValue:!1},schema:F.boolean},fielddata_frequency_filter:R,fielddata_frequency_filter_percentage:{...R,props:{min:{fieldConfig:{defaultValue:.01,serializer:e=>""===e?"":_(e)/100,deserializer:e=>Math.round(100*e)}},max:{fieldConfig:{defaultValue:1,serializer:e=>""===e?"":_(e)/100,deserializer:e=>Math.round(100*e)}}}},fielddata_frequency_filter_absolute:{...R,props:{min:{fieldConfig:{defaultValue:2,validations:[{validator:w({than:1,message:r.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.fieldDataFrequency.numberGreaterThanOneErrorMessage",{defaultMessage:"Value must be greater than one."})})}],formatters:[_]}},max:{fieldConfig:{defaultValue:5,validations:[{validator:w({than:1,message:r.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.fieldDataFrequency.numberGreaterThanOneErrorMessage",{defaultMessage:"Value must be greater than one."})})}],formatters:[_]}}}},coerce:{fieldConfig:{defaultValue:!0},schema:F.boolean},coerce_shape:{fieldConfig:{defaultValue:!1},schema:F.boolean},ignore_malformed:{fieldConfig:{defaultValue:!1},schema:F.boolean},null_value:{fieldConfig:{defaultValue:"",type:S.c.TEXT,label:P}},null_value_ip:{fieldConfig:{defaultValue:"",type:S.c.TEXT,label:P,helpText:r.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.nullValueIpHelpText",{defaultMessage:"Accepts an IP address."})}},null_value_numeric:{fieldConfig:{defaultValue:"",label:P,formatters:[_],validations:[{validator:N}]},schema:F.number},null_value_boolean:{fieldConfig:{defaultValue:!1,label:P,deserializer:e=>A.indexOf(e),serializer:e=>A[e]},schema:F.union([F.literal(!0),F.literal(!1),F.literal("true"),F.literal("false")])},null_value_geo_point:{fieldConfig:{defaultValue:"",label:P,helpText:()=>Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.parameters.geoPointNullValueHelpText",defaultMessage:"Geo-points can be expressed as an object, string, geohash, array or {docsLink} POINT.",values:{docsLink:Object(m.jsx)(o.EuiLink,{href:p.a.getWellKnownTextLink(),target:"_blank"},r.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.wellKnownTextDocumentationLink",{defaultMessage:"Well-Known Text"}))}}),validations:[{validator:N}],deserializer:e=>""===e?e:JSON.stringify(e),serializer:e=>{try{return JSON.parse(e)}catch(t){return e}}},schema:F.any},null_value_point:{fieldConfig:{defaultValue:"",label:P,helpText:()=>Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.parameters.pointNullValueHelpText",defaultMessage:"Points can be expressed as an object, string, array or {docsLink} POINT.",values:{docsLink:Object(m.jsx)(o.EuiLink,{href:p.a.getWellKnownTextLink(),target:"_blank"},r.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.pointWellKnownTextDocumentationLink",{defaultMessage:"Well-Known Text"}))}}),validations:[{validator:N}],deserializer:e=>""===e?e:JSON.stringify(e),serializer:e=>{try{return JSON.parse(e)}catch(t){return e}}},schema:F.any},copy_to:{fieldConfig:{defaultValue:"",type:S.c.TEXT,label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.copyToLabel",{defaultMessage:"Group field name"}),validations:[{validator:C(r.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.copyToIsRequiredErrorMessage",{defaultMessage:"Group field name is required."}))}]},schema:F.union([F.string,F.array(F.string)])},value:{fieldConfig:{defaultValue:"",type:S.c.TEXT,label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.valueLabel",{defaultMessage:"Value"})},schema:F.string},meta:{fieldConfig:{defaultValue:"",label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.metaLabel",{defaultMessage:"Metadata"}),helpText:Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.parameters.metaHelpText",defaultMessage:"Use JSON format: {code}",values:{code:Object(m.jsx)(o.EuiCode,null,JSON.stringify({arbitrary_key:"anything_goes"}))}}),validations:[{validator:I(r.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.metaFieldEditorJsonError",{defaultMessage:"Invalid JSON."}),{allowEmptyString:!0})},{validator:({value:e})=>{if("string"!=typeof e||""===e.trim())return;const t=JSON.parse(e),a=Object.values(t).some((e=>"string"!=typeof e));return Array.isArray(t)?{message:r.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.metaFieldEditorArraysNotAllowedError",{defaultMessage:"Arrays are not allowed."})}:a?{message:r.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.metaFieldEditorOnlyStringValuesAllowedError",{defaultMessage:"Values must be a string."})}:void 0}}],deserializer:e=>""===e?e:JSON.stringify(e,null,2),serializer:e=>{if(""!==e.trim())try{const t=JSON.parse(e);if(!Object.keys(t).length)return;return t}catch(t){return e}}},schema:F.any},max_input_length:{fieldConfig:{defaultValue:50,type:S.c.NUMBER,label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.maxInputLengthLabel",{defaultMessage:"Max input length"}),formatters:[_],validations:[{validator:C(r.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.maxInputLengthFieldRequiredErrorMessage",{defaultMessage:"Specify a max input length."}))}]},schema:F.number},locale:{fieldConfig:{defaultValue:"ROOT",type:S.c.TEXT,label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.localeLabel",{defaultMessage:"Locale"}),helpText:()=>Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.parameters.localeHelpText",defaultMessage:"Separate the language, country, and variant, use {hyphen} or {underscore}. A maximum of 2 separators is allowed. Example: {locale}.",values:{locale:Object(m.jsx)(o.EuiCode,null,"en-US"),hyphen:Object(m.jsx)(o.EuiCode,null,"-"),underscore:Object(m.jsx)(o.EuiCode,null,"_")}}),validations:[{validator:C(r.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.localeFieldRequiredErrorMessage",{defaultMessage:"Specify a locale."}))}]},schema:F.string},orientation:{fieldConfig:{defaultValue:"ccw",type:S.c.SUPER_SELECT,label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.orientationLabel",{defaultMessage:"Orientation"})},schema:F.string},boost:{fieldConfig:{defaultValue:1,type:S.c.NUMBER,label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.boostLabel",{defaultMessage:"Boost level"}),formatters:[_],validations:[{validator:({value:e})=>{if(e<0)return{message:D.smallerThanZero}}}]},schema:F.number},scaling_factor:{title:r.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.scalingFactorFieldTitle",{defaultMessage:"Scaling factor"}),description:r.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.scalingFactorFieldDescription",{defaultMessage:"Values will be multiplied by this factor at index time and rounded to the closest long value. High factor values improve accuracy, but also increase space requirements."}),fieldConfig:{defaultValue:"",type:S.c.NUMBER,deserializer:e=>""===e?e:+e,formatters:[_],label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.scalingFactorLabel",{defaultMessage:"Scaling factor"}),validations:[{validator:C(r.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.scalingFactorIsRequiredErrorMessage",{defaultMessage:"A scaling factor is required."}))},{validator:({value:e})=>{if(e<=0)return{message:r.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.greaterThanZeroErrorMessage",{defaultMessage:"The scaling factor must be greater than 0."})}}}],helpText:r.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.scalingFactorHelpText",{defaultMessage:"Value must be greater than 0."})},schema:F.number},dynamic:{fieldConfig:{defaultValue:!0},schema:F.union([F.boolean,F.literal("strict"),F.literal("true"),F.literal("false"),F.literal("runtime")])},dynamic_toggle:{fieldConfig:{defaultValue:!0}},dynamic_strict:{fieldConfig:{defaultValue:!1,label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.dynamicStrictParameter.fieldTitle",{defaultMessage:"Throw an exception when the object contains an unmapped property"}),helpText:r.i18n.translate("xpack.idxMgmt.mappingsEditor.dynamicStrictParameter.fieldHelpText",{defaultMessage:"By default, unmapped properties will be silently ignored when dynamic mapping is disabled. Optionally, you can choose to throw an exception when an object contains an unmapped property."})}},enabled:{fieldConfig:{defaultValue:!0},schema:F.boolean},format:{fieldConfig:{label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.formatFieldLabel",{defaultMessage:"Format"}),defaultValue:"strict_date_optional_time||epoch_millis",serializer:e=>e.length?e.map((({label:e})=>e)).join("||"):void 0,deserializer:e=>e.split("||").map((e=>({label:e}))),helpText:Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.formatHelpText",defaultMessage:"Specify custom formats using {dateSyntax} syntax.",values:{dateSyntax:Object(m.jsx)(o.EuiCode,null,"yyyy/MM/dd")}})},schema:F.string},analyzer:{fieldConfig:{label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.analyzerFieldLabel",{defaultMessage:"Analyzer"}),defaultValue:i,validations:z},schema:F.string},search_analyzer:{fieldConfig:{label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.searchAnalyzerFieldLabel",{defaultMessage:"Search analyzer"}),defaultValue:i,validations:z},schema:F.string},search_quote_analyzer:{fieldConfig:{label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.searchQuoteAnalyzerFieldLabel",{defaultMessage:"Search quote analyzer"}),defaultValue:i,validations:z},schema:F.string},normalizer:{fieldConfig:{label:"Normalizer",defaultValue:"",type:S.c.TEXT,validations:[{validator:C(r.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.normalizerIsRequiredErrorMessage",{defaultMessage:"Normalizer name is required."}))},{validator:L({chars:" ",message:D.spacesNotAllowed})}],helpText:r.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.normalizerHelpText",{defaultMessage:"The name of a normalizer defined in the index's settings."})},schema:F.string},index_options:{fieldConfig:{...B,defaultValue:"positions"},schema:F.string},index_options_keyword:{fieldConfig:{...B,defaultValue:"docs"},schema:F.string},index_options_flattened:{fieldConfig:{...B,defaultValue:"docs"},schema:F.string},eager_global_ordinals:{fieldConfig:{defaultValue:!1},schema:F.boolean},eager_global_ordinals_join:{fieldConfig:{defaultValue:!0}},index_phrases:{fieldConfig:{defaultValue:!1},schema:F.boolean},positive_score_impact:{fieldConfig:{defaultValue:!0},schema:F.boolean},preserve_separators:{fieldConfig:{defaultValue:!0},schema:F.boolean},preserve_position_increments:{fieldConfig:{defaultValue:!0},schema:F.boolean},ignore_z_value:{fieldConfig:{defaultValue:!0},schema:F.boolean},points_only:{fieldConfig:{defaultValue:!1},schema:F.boolean},norms:{fieldConfig:{defaultValue:!0},schema:F.boolean},norms_keyword:{fieldConfig:{defaultValue:!1},schema:F.boolean},term_vector:{fieldConfig:{type:S.c.SUPER_SELECT,label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.termVectorLabel",{defaultMessage:"Set term vector"}),defaultValue:"no"},schema:F.string},path:{fieldConfig:{type:S.c.COMBO_BOX,label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.pathLabel",{defaultMessage:"Field path"}),helpText:r.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.pathHelpText",{defaultMessage:"The absolute path from the root to the target field."}),validations:[{validator:C(r.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.pathIsRequiredErrorMessage",{defaultMessage:"Select a field to point the alias to."}))}],serializer:e=>0===e.length?"":e[0].id},targetTypesNotAllowed:["object","nested","alias"],schema:F.string},position_increment_gap:{fieldConfig:{type:S.c.NUMBER,label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.positionIncrementGapLabel",{defaultMessage:"Position increment gap"}),defaultValue:100,formatters:[_],validations:[{validator:C(r.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.positionIncrementGapIsRequiredErrorMessage",{defaultMessage:"Set a position increment gap value"}))},{validator:({value:e})=>{if(e<0)return{message:D.smallerThanZero}}}]},schema:F.number},index_prefixes:{fieldConfig:{defaultValue:{}},props:{min_chars:{fieldConfig:{type:S.c.NUMBER,defaultValue:2,serializer:e=>""===e?"":_(e)}},max_chars:{fieldConfig:{type:S.c.NUMBER,defaultValue:5,serializer:e=>""===e?"":_(e)}}},schema:F.partial({min_chars:F.number,max_chars:F.number})},similarity:{fieldConfig:{defaultValue:"BM25",type:S.c.SUPER_SELECT,label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.similarityLabel",{defaultMessage:"Similarity algorithm"})},schema:F.string},split_queries_on_whitespace:{fieldConfig:{defaultValue:!1},schema:F.boolean},ignore_above:{fieldConfig:{defaultValue:8191,type:S.c.NUMBER,label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.ignoreAboveFieldLabel",{defaultMessage:"Character length limit"}),formatters:[_],validations:[{validator:C(r.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.ignoreAboveIsRequiredErrorMessage",{defaultMessage:"Character length limit is required."}))},{validator:({value:e})=>{if(e<0)return{message:D.smallerThanZero}}}]},schema:F.number},enable_position_increments:{fieldConfig:{defaultValue:!0},schema:F.boolean},depth_limit:{fieldConfig:{defaultValue:20,type:S.c.NUMBER,label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.depthLimitFieldLabel",{defaultMessage:"Nested object depth limit"}),formatters:[_],validations:[{validator:({value:e})=>{if(e<0)return{message:D.smallerThanZero}}}]},schema:F.number},dims:{fieldConfig:{defaultValue:"",type:S.c.NUMBER,label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.dimsFieldLabel",{defaultMessage:"Dimensions"}),helpText:r.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.dimsHelpTextDescription",{defaultMessage:"The number of dimensions in the vector."}),formatters:[_],validations:[{validator:C(r.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.dimsIsRequiredErrorMessage",{defaultMessage:"Specify a dimension."}))}]},schema:F.string},reference_field:{fieldConfig:{defaultValue:"",label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.referenceFieldLabel",{defaultMessage:"Reference field"}),helpText:r.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.referenceFieldHelpText",{defaultMessage:"Reference field for model inference."}),validations:[{validator:C(r.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.referenceFieldIsRequiredErrorMessage",{defaultMessage:"Reference field is required."}))}]},schema:F.string},inference_id:{fieldConfig:{defaultValue:"elser_model_2",label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.inferenceIdLabel",{defaultMessage:"Select an inference endpoint:"}),validations:[{validator:C(r.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.inferenceIdIsRequiredErrorMessage",{defaultMessage:"Inference ID is required."}))}]},schema:F.string},relations:{fieldConfig:{defaultValue:[]},schema:F.record(F.string,F.union([F.string,F.array(F.string)]))},max_shingle_size:{fieldConfig:{type:S.c.SELECT,label:r.i18n.translate("xpack.idxMgmt.mappingsEditor.largestShingleSizeFieldLabel",{defaultMessage:"Max shingle size"}),defaultValue:3,formatters:[_]},schema:F.union([F.literal(2),F.literal(3),F.literal(4)])},time_series_metric:{fieldConfig:{defaultValue:null,type:S.c.SELECT},schema:F.union([F.literal("gauge"),F.literal("counter"),F.null])},time_series_dimension:{fieldConfig:{type:S.c.CHECKBOX,defaultValue:!1},schema:F.boolean},subobjects:{fieldConfig:{defaultValue:!0},schema:F.boolean}},U=4,q=16,W=1.5*q,G=.25*q,$="mapper-size"},function(e,t,a){"use strict";a.d(t,"t",(function(){return O})),a.d(t,"p",(function(){return M})),a.d(t,"E",(function(){return y})),a.d(t,"g",(function(){return v})),a.d(t,"c",(function(){return E})),a.d(t,"a",(function(){return _})),a.d(t,"b",(function(){return C})),a.d(t,"v",(function(){return L})),a.d(t,"i",(function(){return w})),a.d(t,"u",(function(){return I})),a.d(t,"C",(function(){return D})),a.d(t,"A",(function(){return A})),a.d(t,"d",(function(){return B})),a.d(t,"e",(function(){return R})),a.d(t,"l",(function(){return z})),a.d(t,"n",(function(){return V})),a.d(t,"f",(function(){return U})),a.d(t,"H",(function(){return q})),a.d(t,"I",(function(){return W})),a.d(t,"F",(function(){return Y})),a.d(t,"o",(function(){return K})),a.d(t,"w",(function(){return X})),a.d(t,"k",(function(){return ee})),a.d(t,"D",(function(){return te})),a.d(t,"q",(function(){return ae})),a.d(t,"h",(function(){return x})),a.d(t,"j",(function(){return ie})),a.d(t,"r",(function(){return ne})),a.d(t,"B",(function(){return m})),a.d(t,"x",(function(){return oe})),a.d(t,"s",(function(){return re})),a.d(t,"m",(function(){return ce})),a.d(t,"G",(function(){return de})),a.d(t,"z",(function(){return ue})),a.d(t,"y",(function(){return pe}));var i=a(5),n=a.n(i),s=a(9),l=a(8),o=a(49),r=a(68),c=a(70),d=a(76),u=a(2);const p={defaultValue:[]},m=()=>Object(u.jsx)(d.d,{title:l.i18n.translate("xpack.idxMgmt.mappingsEditor.relationshipsTitle",{defaultMessage:"Relationships"}),withToggle:!1},Object(u.jsx)(r.s,{path:"relations",initialNumberOfItems:0},(({items:e,addItem:t,removeItem:a})=>{const i=[{name:l.i18n.translate("xpack.idxMgmt.mappingsEditor.joinType.relationshipTable.parentColumnTitle",{defaultMessage:"Parent"}),render:e=>Object(u.jsx)("div",{style:{width:"100%"}},Object(u.jsx)(r.t,{path:`${e.path}.parent`,component:r.q,componentProps:{euiFieldProps:{"aria-label":l.i18n.translate("xpack.idxMgmt.mappingsEditor.joinType.relationshipTable.parentFieldAriaLabel",{defaultMessage:"Parent field"})}},readDefaultValueOnForm:!e.isNew}))},{name:l.i18n.translate("xpack.idxMgmt.mappingsEditor.joinType.relationshipTable.childrenColumnTitle",{defaultMessage:"Children"}),render:e=>Object(u.jsx)("div",{style:{width:"100%"}},Object(u.jsx)(r.t,{path:`${e.path}.children`,config:p,component:r.b,componentProps:{euiFieldProps:{"aria-label":l.i18n.translate("xpack.idxMgmt.mappingsEditor.joinType.relationshipTable.childrenFieldAriaLabel",{defaultMessage:"Children field"})}},readDefaultValueOnForm:!e.isNew}))},{width:"48px",actions:[{render:({id:e})=>{const t=l.i18n.translate("xpack.idxMgmt.mappingsEditor.joinType.relationshipTable.removeRelationshipTooltipLabel",{defaultMessage:"Remove relationship"});return Object(u.jsx)(s.EuiToolTip,{content:t,delay:"long"},Object(u.jsx)(s.EuiButtonIcon,{"data-test-subj":"removeRelationshipButton","aria-label":t,iconType:"minusInCircle",color:"danger",onClick:()=>a(e)}))}}]}];return Object(u.jsx)(n.a.Fragment,null,e.length>1&&Object(u.jsx)(n.a.Fragment,null,Object(u.jsx)(s.EuiCallOut,{color:"warning",iconType:"warning",size:"s",title:Object(u.jsx)(o.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.join.multiLevelsParentJoinWarningTitle",defaultMessage:"Avoid using multiple levels to replicate a relational model. Each relation level increases computation time and memory consumption at query time. For best performance, {docsLink}",values:{docsLink:Object(u.jsx)(s.EuiLink,{href:c.a.getJoinMultiLevelsPerformanceLink(),target:"_blank"},l.i18n.translate("xpack.idxMgmt.mappingsEditor.join.multiLevelsPerformanceDocumentationLink",{defaultMessage:"denormalize your data."}))}})}),Object(u.jsx)(s.EuiSpacer,null)),Object(u.jsx)(s.EuiBasicTable,{items:e,itemId:"id",columns:i,noItemsMessage:l.i18n.translate("xpack.idxMgmt.mappingsEditor.joinType.relationshipTable.emptyTableMessage",{defaultMessage:"No relationship defined"})}),Object(u.jsx)(s.EuiButtonEmpty,{onClick:t,iconType:"plusInCircleFilled","data-test-subj":"addRelationButton"},l.i18n.translate("xpack.idxMgmt.mappingsEditor.joinType.addRelationshipButtonLabel",{defaultMessage:"Add relationship"})))})));var g=a(69);const x=({defaultToggleValue:e})=>Object(u.jsx)(d.d,{title:l.i18n.translate("xpack.idxMgmt.mappingsEditor.dynamicPropertyMappingParameter.fieldTitle",{defaultMessage:"Dynamic property mapping"}),description:l.i18n.translate("xpack.idxMgmt.mappingsEditor.dynamicPropertyMappingParameter.fieldDescription",{defaultMessage:"By default, properties can be added dynamically to objects within a document, just by indexing a document with the object containing the new property."}),docLink:{text:l.i18n.translate("xpack.idxMgmt.mappingsEditor.dynamicDocLinkText",{defaultMessage:"Dynamic documentation"}),href:c.a.getDynamicLink()},formFieldPath:"dynamic_toggle",defaultToggleValue:e},(e=>!1===e?Object(u.jsx)(r.t,{path:"dynamic_strict",config:Object(g.m)("dynamic_strict"),component:r.a}):null));var b=a(74),f=a(78);const{validations:j,...h}=b.k.name.fieldConfig,O=({isSemanticText:e})=>{const{fields:{rootLevelFields:t,byId:a},documentFields:{fieldToAddFieldTo:n,fieldToEdit:s}}=Object(f.c)(),o=s?a[s].source.name:void 0,c=s?a[s].parentId:n,d=Object(i.useCallback)((e=>Object(g.A)({rootLevelFields:t,byId:a},o,c)(e)),[t,a,o,c]),p=Object(i.useMemo)((()=>({...h,label:e?l.i18n.translate("xpack.idxMgmt.mappingsEditor.semanticTextNameFieldLabel",{defaultMessage:"New field name"}):h.label,validations:[...j,{validator:d}]})),[e,d]);return Object(u.jsx)(r.t,{path:"name",config:p,component:r.q,componentProps:{euiFieldProps:{"data-test-subj":"nameParameterInput"}}})},M=({indexOptions:e=b.l.index_options,hasIndexOptions:t=!0,config:a=Object(g.m)("index_options")})=>Object(u.jsx)(d.d,{title:l.i18n.translate("xpack.idxMgmt.mappingsEditor.searchableFieldTitle",{defaultMessage:"Searchable"}),description:l.i18n.translate("xpack.idxMgmt.mappingsEditor.searchableFieldDescription",{defaultMessage:"Allow the field to be searched."}),docLink:{text:l.i18n.translate("xpack.idxMgmt.mappingsEditor.indexDocLinkText",{defaultMessage:"Searchable documentation"}),href:c.a.getIndexLink()},formFieldPath:"index","data-test-subj":"indexParameter"},t?Object(u.jsx)(r.t,{path:"index_options",config:a,component:r.d,componentProps:{euiFieldProps:{options:e}}}):void 0),y=()=>Object(u.jsx)(d.d,{title:l.i18n.translate("xpack.idxMgmt.mappingsEditor.storeFieldValueFieldTitle",{defaultMessage:"Store field value outside of _source"}),description:l.i18n.translate("xpack.idxMgmt.mappingsEditor.storeFieldValueFieldDescription",{defaultMessage:"This can be useful when the _source field is very large and you want to retrieve a few select fields without extracting them from _source."}),docLink:{text:l.i18n.translate("xpack.idxMgmt.mappingsEditor.storeDocLinkText",{defaultMessage:"Store documentation"}),href:c.a.getStoreLink()},formFieldPath:"store"}),v=({configPath:e="doc_values"})=>Object(u.jsx)(d.d,{title:l.i18n.translate("xpack.idxMgmt.mappingsEditor.docValuesFieldTitle",{defaultMessage:"Use doc values"}),description:l.i18n.translate("xpack.idxMgmt.mappingsEditor.docValuesFieldDescription",{defaultMessage:"Store each document's value for this field in memory so it can be used for sorting, aggregations, and in scripts."}),docLink:{text:l.i18n.translate("xpack.idxMgmt.mappingsEditor.docValuesDocLinkText",{defaultMessage:"Doc values documentation"}),href:c.a.getDocValuesLink()},formFieldPath:"doc_values",configPath:e}),E=({defaultToggleValue:e})=>Object(u.jsx)(d.d,{title:l.i18n.translate("xpack.idxMgmt.mappingsEditor.boostFieldTitle",{defaultMessage:"Set boost level"}),description:l.i18n.translate("xpack.idxMgmt.mappingsEditor.boostFieldDescription",{defaultMessage:"Boost this field at query time so it counts more toward the relevance score."}),docLink:{text:l.i18n.translate("xpack.idxMgmt.mappingsEditor.boostDocLinkText",{defaultMessage:"Boost documentation"}),href:c.a.getBoostLink()},defaultToggleValue:e,"data-test-subj":"boostParameter"},Object(u.jsx)(r.t,{path:"boost",config:Object(g.m)("boost"),component:r.l,componentProps:{euiFieldProps:{min:1,max:20,showInput:!0,fullWidth:!0}}}));var k=a(92);const T=({onChange:e,mainDefaultValue:t,subDefaultValue:a,config:n,options:l,mapOptionsToSubOptions:o,"data-test-subj":c})=>{const{form:d}=Object(r.z)({defaultValue:{main:t,sub:a}}),{subscribe:p}=d;Object(i.useEffect)((()=>p((t=>{const a=t.data.internal,i=a.sub?a.sub:a.main;e(i)})).unsubscribe),[p,e]);const m=Object(i.useCallback)((e=>void 0!==o?o[e]:void 0),[o]),g=Object(i.useCallback)((e=>{const t=m(e);d.setFieldValue("sub",t?t.options[0].value:void 0)}),[d,m]),x=(e,t)=>{const a=(e=>!(!e||!Boolean(e.length))&&!1==={}.hasOwnProperty.call(e[0],"text"))(t);return a?Object(u.jsx)(r.o,{field:e,euiFieldProps:{options:t},"data-test-subj":c}):Object(u.jsx)(r.n,{field:e,euiFieldProps:{options:t,hasNoInitialSelection:!1},"data-test-subj":c})};return Object(u.jsx)(r.e,{form:d},Object(u.jsx)(r.f,{pathsToWatch:"main"},(({main:e})=>{const t=m(e);return Object(u.jsx)(s.EuiFlexGroup,null,Object(u.jsx)(s.EuiFlexItem,null,Object(u.jsx)(r.t,{path:"main",config:n,onChange:g},(e=>x(e,l)))),t&&Object(u.jsx)(s.EuiFlexItem,null,Object(u.jsx)(r.t,{path:"sub",config:{...n,defaultValue:t.options[0].value,label:t.label}},(e=>x(e,t.options)))))})))},F=b.l.analyzer,S=b.l.analyzer.filter((({value:e})=>e!==b.f)),_=({path:e,defaultValue:t,label:a,config:n,allowsIndexDefaultOption:o=!0,"data-test-subj":c})=>{const{value:{indexSettings:d}}=Object(k.b)(),p=(e=>{const t={}.hasOwnProperty.call(e,"index")?e.index:e;if({}.hasOwnProperty.call(t,"analysis")&&{}.hasOwnProperty.call(t.analysis,"analyzer"))try{return Object.keys(t.analysis.analyzer).map((e=>({value:e,text:e})))}catch{return}})(d),m=[...o?F:S],x={language:{label:l.i18n.translate("xpack.idxMgmt.mappingsEditor.analyzers.languageAnalyzerLabel",{defaultMessage:"Language"}),options:b.l.languageAnalyzer}};if(p){const e={value:"custom",...Object(b.r)(l.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.customTitle",{defaultMessage:"Custom analyzer"}),l.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.customDescription",{defaultMessage:"Choose one of your custom analyzers."}))};m.push(e),x.custom={label:l.i18n.translate("xpack.idxMgmt.mappingsEditor.analyzers.customAnalyzerLabel",{defaultMessage:"Custom"}),options:p}}const f=void 0===t||m.some((e=>e.value===t));let j,h=t,O=!1;if(!f&&void 0!==x)for(const[e,a]of Object.entries(x))if(a.options.some((e=>e.value===t))){O=!0,h=e,j=t;break}const[M,y]=Object(i.useState)(!f&&!O),[v,E]=Object(i.useState)({main:h,sub:j}),_=n||Object(g.m)("analyzer"),C=void 0!==a?{..._,label:a}:_,L=e=>()=>{M?e.setValue(m[0].value):e.setValue(""),e.reset({resetValue:!1}),E({main:void 0,sub:void 0}),y(!M)};return Object(u.jsx)(r.t,{path:e,config:C},(e=>Object(u.jsx)("div",{className:"mappingsEditor__selectWithCustom"},Object(u.jsx)(s.EuiButtonEmpty,{size:"xs",onClick:L(e),className:"mappingsEditor__selectWithCustom__button","data-test-subj":`${c}-toggleCustomButton`},M?l.i18n.translate("xpack.idxMgmt.mappingsEditor.predefinedButtonLabel",{defaultMessage:"Use built-in analyzer"}):l.i18n.translate("xpack.idxMgmt.mappingsEditor.customButtonLabel",{defaultMessage:"Use custom analyzer"})),M?Object(u.jsx)(s.EuiFlexGroup,null,Object(u.jsx)(s.EuiFlexItem,null,Object(u.jsx)(r.q,{field:e,"data-test-subj":`${c}-custom`}))):Object(u.jsx)(T,{onChange:e.setValue,mainDefaultValue:v.main,subDefaultValue:v.sub,config:C,options:m,mapOptionsToSubOptions:x,"data-test-subj":c}))))},C=({field:e,withSearchQuoteAnalyzer:t=!1})=>Object(u.jsx)(d.d,{title:l.i18n.translate("xpack.idxMgmt.mappingsEditor.analyzersSectionTitle",{defaultMessage:"Analyzers"}),docLink:{text:l.i18n.translate("xpack.idxMgmt.mappingsEditor.analyzersDocLinkText",{defaultMessage:"Analyzers documentation"}),href:c.a.getAnalyzerLink()},withToggle:!1,"data-test-subj":"analyzerParameters"},Object(u.jsx)(r.f,{pathsToWatch:"useSameAnalyzerForSearch"},(({useSameAnalyzerForSearch:t})=>{const a=t?l.i18n.translate("xpack.idxMgmt.mappingsEditor.indexSearchAnalyzerFieldLabel",{defaultMessage:"Index and search analyzer"}):l.i18n.translate("xpack.idxMgmt.mappingsEditor.indexAnalyzerFieldLabel",{defaultMessage:"Index analyzer"});return Object(u.jsx)(_,{path:"analyzer",label:a,defaultValue:e.source.analyzer,"data-test-subj":"indexAnalyzer"})})),Object(u.jsx)(s.EuiSpacer,{size:"s"}),Object(u.jsx)(r.t,{path:"useSameAnalyzerForSearch",component:r.a,componentProps:{"data-test-subj":"useSameAnalyzerForSearchCheckBox"},config:{label:l.i18n.translate("xpack.idxMgmt.mappingsEditor.analyzers.useSameAnalyzerIndexAnSearch",{defaultMessage:"Use the same analyzers for index and searching"}),defaultValue:!0}}),Object(u.jsx)(r.f,{pathsToWatch:"useSameAnalyzerForSearch"},(({useSameAnalyzerForSearch:t})=>t?null:Object(u.jsx)(n.a.Fragment,null,Object(u.jsx)(s.EuiSpacer,{size:"m"}),Object(u.jsx)(_,{path:"search_analyzer",defaultValue:e.source.search_analyzer,config:Object(g.m)("search_analyzer"),"data-test-subj":"searchAnalyzer"}),Object(u.jsx)(s.EuiSpacer,{size:"s"})))),t&&Object(u.jsx)(n.a.Fragment,null,Object(u.jsx)(s.EuiSpacer,{size:"m"}),Object(u.jsx)(_,{path:"search_quote_analyzer",defaultValue:e.source.search_quote_analyzer,config:Object(g.m)("search_quote_analyzer"),"data-test-subj":"searchQuoteAnalyzer"}))),L=({defaultToggleValue:e,description:t,children:a})=>Object(u.jsx)(d.d,{title:l.i18n.translate("xpack.idxMgmt.mappingsEditor.nullValueFieldTitle",{defaultMessage:"Set null value"}),description:t||l.i18n.translate("xpack.idxMgmt.mappingsEditor.nullValueFieldDescription",{defaultMessage:"Replace explicit null values with the specified value so that it can be indexed and searched."}),docLink:{text:l.i18n.translate("xpack.idxMgmt.mappingsEditor.nullValueDocLinkText",{defaultMessage:"Null value documentation"}),href:c.a.getNullValueLink()},defaultToggleValue:e},a||Object(u.jsx)(r.t,{path:"null_value",config:Object(g.m)("null_value"),component:r.d})),w=({description:e,configPath:t="eager_global_ordinals"})=>Object(u.jsx)(d.d,{title:l.i18n.translate("xpack.idxMgmt.mappingsEditor.eagerGlobalOrdinalsFieldTitle",{defaultMessage:"Build global ordinals at index time"}),description:e||l.i18n.translate("xpack.idxMgmt.mappingsEditor.eagerGlobalOrdinalsFieldDescription",{defaultMessage:"By default, global ordinals are built at search time, which optimizes for index speed. You can optimize for search performance by building them at index time instead."}),docLink:{text:l.i18n.translate("xpack.idxMgmt.mappingsEditor.eagerGlobalOrdinalsDocLinkText",{defaultMessage:"Global ordinals documentation"}),href:c.a.getEagerGlobalOrdinalsLink()},formFieldPath:"eager_global_ordinals",configPath:t}),I=({configPath:e="norms"})=>Object(u.jsx)(d.d,{title:l.i18n.translate("xpack.idxMgmt.mappingsEditor.useNormsFieldTitle",{defaultMessage:"Use norms"}),description:l.i18n.translate("xpack.idxMgmt.mappingsEditor.useNormsFieldDescription",{defaultMessage:"Account for field length when scoring queries. Norms require significant memory and are not necessary for fields that are used solely for filtering or aggregations."}),docLink:{text:l.i18n.translate("xpack.idxMgmt.mappingsEditor.normsDocLinkText",{defaultMessage:"Norms documentation"}),href:c.a.getNormsLink()},formFieldPath:"norms",configPath:e}),D=({defaultToggleValue:e})=>Object(u.jsx)(d.d,{title:l.i18n.translate("xpack.idxMgmt.mappingsEditor.setSimilarityFieldTitle",{defaultMessage:"Set similarity"}),description:l.i18n.translate("xpack.idxMgmt.mappingsEditor.setSimilarityFieldDescription",{defaultMessage:"The scoring algorithm or similarity to use."}),docLink:{text:l.i18n.translate("xpack.idxMgmt.mappingsEditor.similarityDocLinkText",{defaultMessage:"Similarity documentation"}),href:c.a.getSimilarityLink()},defaultToggleValue:e},Object(u.jsx)(r.t,{path:"similarity",config:Object(g.m)("similarity"),component:r.d,componentProps:{euiFieldProps:{options:b.l.similarity}}})),P=b.k.path.targetTypesNotAllowed,N=e=>t=>"string"==typeof t&&Boolean(t)?[{id:t,label:e[t].path.join(" > ")}]:[],A=({field:e,allFields:t})=>{const a=((e,t)=>Object.entries(e).filter((([e,a])=>!(t&&e===t.id||P.includes(a.source.type)))).map((([e,t])=>({id:e,label:t.path.join(" > ")}))).sort(((e,t)=>e.label>t.label?1:e.label<t.label?-1:0)))(t,e),o=Object(i.useMemo)((()=>({...Object(g.m)("path"),deserializer:N(t)})),[t]);return Object(u.jsx)(r.t,{path:"path",config:o},(e=>{const t=e.getErrorsMessages(),i=!!t&&Boolean(t.length);return Object(u.jsx)(d.d,{title:l.i18n.translate("xpack.idxMgmt.mappingsEditor.aliasType.aliasTargetFieldTitle",{defaultMessage:"Alias target"}),description:l.i18n.translate("xpack.idxMgmt.mappingsEditor.aliasType.aliasTargetFieldDescription",{defaultMessage:"Select the field you want your alias to point to. You will then be able to use the alias instead of the target field in search requests and select other APIs like field capabilities."}),withToggle:!1},Object(u.jsx)(n.a.Fragment,null,!Boolean(a.length)&&Object(u.jsx)(n.a.Fragment,null,Object(u.jsx)(s.EuiCallOut,{size:"s",color:"warning",title:l.i18n.translate("xpack.idxMgmt.mappingsEditor.aliasType.noFieldsAddedWarningMessage",{defaultMessage:"You need to add at least one field before creating an alias."})}),Object(u.jsx)(s.EuiSpacer,null)),Object(u.jsx)(s.EuiFormRow,{label:e.label,helpText:e.helpText,error:t,isInvalid:i,fullWidth:!0},Object(u.jsx)(s.EuiComboBox,{placeholder:l.i18n.translate("xpack.idxMgmt.mappingsEditor.aliasType.pathPlaceholderLabel",{defaultMessage:"Select a field"}),singleSelection:{asPlainText:!0},options:a,selectedOptions:e.value,onChange:t=>e.setValue(t),isClearable:!1,fullWidth:!0}))))}))},B=()=>Object(u.jsx)(d.d,{title:l.i18n.translate("xpack.idxMgmt.mappingsEditor.coerceFieldTitle",{defaultMessage:"Coerce to number"}),description:l.i18n.translate("xpack.idxMgmt.mappingsEditor.coerceDescription",{defaultMessage:"Convert strings to numbers. If this field is an integer, fractions are truncated. If disabled, then documents with imperfectly formatted values are rejected."}),docLink:{text:l.i18n.translate("xpack.idxMgmt.mappingsEditor.coerceDocLinkText",{defaultMessage:"Coerce documentation"}),href:c.a.getCoerceLink()},formFieldPath:"coerce"}),R=()=>Object(u.jsx)(d.d,{title:l.i18n.translate("xpack.idxMgmt.mappingsEditor.coerceShapeFieldTitle",{defaultMessage:"Coerce to shape"}),description:l.i18n.translate("xpack.idxMgmt.mappingsEditor.coerceShapeDescription",{defaultMessage:"If disabled, then documents that contain polygons with unclosed linear rings are rejected."}),docLink:{text:l.i18n.translate("xpack.idxMgmt.mappingsEditor.coerceShapeDocLinkText",{defaultMessage:"Coerce documentation"}),href:c.a.getCoerceLink()},formFieldPath:"coerce",configPath:"coerce_shape"}),z=({defaultValue:e,defaultToggleValue:t})=>{const a=(void 0!==e?e.split("||").map((e=>({label:e}))):[]).filter((e=>b.b.includes(e))),[n,p]=Object(i.useState)([...b.b,...a]);return Object(u.jsx)(d.d,{title:l.i18n.translate("xpack.idxMgmt.mappingsEditor.formatParameter.fieldTitle",{defaultMessage:"Set format"}),description:Object(u.jsx)(o.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.formatParameter.fieldDescription",defaultMessage:"The date formats to parse. Most builit-ins use {strict} date formats, where YYYY is the year, MM is the month, and DD is the day. Example: 2020/11/01.",values:{strict:Object(u.jsx)(s.EuiCode,null,"strict")}}),docLink:{text:l.i18n.translate("xpack.idxMgmt.mappingsEditor.formatDocLinkText",{defaultMessage:"Format documentation"}),href:c.a.getFormatLink()},defaultToggleValue:t,"data-test-subj":"formatParameter"},Object(u.jsx)(r.t,{path:"format",config:Object(g.m)("format")},(e=>Object(u.jsx)(s.EuiFormRow,{label:e.label,helpText:e.helpText,fullWidth:!0},Object(u.jsx)(s.EuiComboBox,{placeholder:l.i18n.translate("xpack.idxMgmt.mappingsEditor.formatParameter.placeholderLabel",{defaultMessage:"Select a format"}),options:n,selectedOptions:e.value,onChange:t=>{e.setValue(t)},onCreateOption:t=>{const a={label:t};e.setValue([...e.value,a]),p([...n,a])},fullWidth:!0,"data-test-subj":"formatInput"})))))},V=({description:e})=>Object(u.jsx)(d.d,{title:l.i18n.translate("xpack.idxMgmt.mappingsEditor.ignoreMalformedFieldTitle",{defaultMessage:"Ignore malformed data"}),description:e||l.i18n.translate("xpack.idxMgmt.mappingsEditor.ignoredMalformedFieldDescription",{defaultMessage:"By default, documents that contain the wrong data type for a field are not indexed. If enabled, these documents are indexed, but fields with the wrong data type are filtered out. Be careful: if too many documents are indexed this way, queries on the field become meaningless."}),docLink:{text:l.i18n.translate("xpack.idxMgmt.mappingsEditor.ignoreMalformedDocLinkText",{defaultMessage:"Ignore malformed documentation"}),href:c.a.getIgnoreMalformedLink()},formFieldPath:"ignore_malformed"}),U=({defaultToggleValue:e})=>Object(u.jsx)(d.d,{title:l.i18n.translate("xpack.idxMgmt.mappingsEditor.copyToFieldTitle",{defaultMessage:"Copy to group field"}),description:l.i18n.translate("xpack.idxMgmt.mappingsEditor.copyToFieldDescription",{defaultMessage:"Copy the values of multiple fields into a group field. This group field can then be queried as a single field."}),docLink:{text:l.i18n.translate("xpack.idxMgmt.mappingsEditor.copyToDocLinkText",{defaultMessage:"Copy to documentation"}),href:c.a.getCopyToLink()},defaultToggleValue:e},Object(u.jsx)(r.t,{path:"copy_to",config:Object(g.m)("copy_to"),component:r.d})),q=({field:e,defaultToggleValue:t})=>Object(u.jsx)(d.d,{title:l.i18n.translate("xpack.idxMgmt.mappingsEditor.termVectorFieldTitle",{defaultMessage:"Set term vector"}),description:l.i18n.translate("xpack.idxMgmt.mappingsEditor.termVectorFieldDescription",{defaultMessage:"Store term vectors for an analyzed field."}),docLink:{text:l.i18n.translate("xpack.idxMgmt.mappingsEditor.termVectorDocLinkText",{defaultMessage:"Term vector documentation"}),href:c.a.getTermVectorLink()},defaultToggleValue:t},Object(u.jsx)(r.f,{pathsToWatch:"term_vector"},(e=>Object(u.jsx)(n.a.Fragment,null,Object(u.jsx)(r.t,{path:"term_vector",config:Object(g.m)("term_vector"),component:r.d,componentProps:{euiFieldProps:{options:b.l.term_vector,fullWidth:!0}}}),"with_positions_offsets"===e.term_vector&&Object(u.jsx)(n.a.Fragment,null,Object(u.jsx)(s.EuiSpacer,{size:"s"}),Object(u.jsx)(s.EuiCallOut,{size:"s",color:"warning",title:l.i18n.translate("xpack.idxMgmt.mappingsEditor.termVectorFieldWarningMessage",{defaultMessage:'Setting "With positions and offsets" will double the size of a field’s index.'})})))))),W=({isMultiField:e,isRootLevelField:t,showDocLink:a=!1,isSemanticTextEnabled:n=!0})=>{const o=Object(i.useMemo)((()=>{let a=e?Object(g.h)(b.e):t?b.e:Object(g.i)(b.e);return n||(a=a.filter((e=>"semantic_text"!==e.value))),a}),[e,t,n]);return Object(u.jsx)(r.t,{path:"type",config:Object(g.m)("type")},(e=>{const t=e.getErrorsMessages(),i=!!t&&Boolean(t.length);let n=null;if(a&&e.value.length>0){const t=e.value[0].value;n=c.a.getTypeDocLink(t)}return Object(u.jsx)(s.EuiFormRow,{label:e.label,error:t,isInvalid:i,helpText:n?Object(u.jsx)(s.EuiText,{size:"xs"},Object(u.jsx)(s.EuiLink,{href:n,target:"_blank"},l.i18n.translate("xpack.idxMgmt.mappingsEditor.typeField.documentationLinkLabel",{defaultMessage:"{typeName} documentation",values:{typeName:e.value&&e.value[0]?e.value[0].label:""}}))):null},Object(u.jsx)(s.EuiComboBox,{placeholder:l.i18n.translate("xpack.idxMgmt.mappingsEditor.typeField.placeholderLabel",{defaultMessage:"Select a type"}),singleSelection:{asPlainText:!0},options:o,selectedOptions:e.value,onChange:e.setValue,isClearable:!1,"data-test-subj":"fieldType"}))}))},G=Object(g.m)("type"),$={label:l.i18n.translate("xpack.idxMgmt.mappingsEditor.otherTypeNameFieldLabel",{defaultMessage:"Type Name"}),defaultValue:"",deserializer:G.deserializer,serializer:G.serializer,validations:[{validator:({value:e})=>{if(""===e[0].value.trim())return{message:l.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.otherTypeNameIsRequiredErrorMessage",{defaultMessage:"The type name is required."})}}}]},H=({field:e})=>{var t,a;const{setValue:n}=e,s={...e,value:null!==(t=null===(a=e.value[0])||void 0===a?void 0:a.value)&&void 0!==t?t:""},l=Object(i.useCallback)((e=>{n([{value:e.target.value}])}),[n]);return Object(u.jsx)(r.q,{field:s,euiFieldProps:{onChange:l,"data-test-subj":"fieldSubType"}})},J=()=>Object(u.jsx)(r.t,{path:"subType",config:$,component:H}),Y=({type:e,defaultValueType:t,isMultiField:a,isRootLevelField:i})=>{if("other"===e)return Object(u.jsx)(s.EuiFlexItem,null,Object(u.jsx)(J,null));const n=b.o[e];if(void 0===(null==n?void 0:n.subTypes))return null;const o=n.subTypes.types.map((e=>b.o[e])).map((e=>({value:e.value,label:e.label}))),c=n.subTypes.types.includes(t)?t:n.subTypes.types[0];return Object(u.jsx)(s.EuiFlexItem,null,Object(u.jsx)(r.t,{path:"subType",defaultValue:c,config:{...Object(g.m)("type"),label:n.subTypes.label}},(e=>{const t=e.getErrorsMessages(),n=!!t&&Boolean(t.length);return Object(u.jsx)(s.EuiFormRow,{label:e.label,error:t,isInvalid:n},Object(u.jsx)(s.EuiComboBox,{placeholder:l.i18n.translate("xpack.idxMgmt.mappingsEditor.subTypeField.placeholderLabel",{defaultMessage:"Select a type"}),singleSelection:{asPlainText:!0},options:a?Object(g.h)(o):i?o:Object(g.i)(o),selectedOptions:e.value,onChange:e.setValue,isClearable:!1,"data-test-subj":"fieldSubType"}))})))},K=({description:e})=>Object(u.jsx)(d.d,{title:l.i18n.translate("xpack.idxMgmt.mappingsEditor.ignoreZValueFieldTitle",{defaultMessage:"Ignore Z value"}),description:e||l.i18n.translate("xpack.idxMgmt.mappingsEditor.ignoredZValueFieldDescription",{defaultMessage:"Three dimension points will be accepted, but only latitude and longitude values will be indexed; the third dimension is ignored."}),formFieldPath:"ignore_z_value"}),X=({defaultToggleValue:e})=>Object(u.jsx)(d.d,{title:l.i18n.translate("xpack.idxMgmt.mappingsEditor.geoShapeType.orientationFieldTitle",{defaultMessage:"Set orientation"}),description:l.i18n.translate("xpack.idxMgmt.mappingsEditor.geoShapeType.orientationFieldDescription",{defaultMessage:"Interpret the vertex order for polygons and multipolygons as either clockwise or counterclockwise (default)."}),defaultToggleValue:e},Object(u.jsx)(r.t,{path:"orientation",config:Object(g.m)("orientation"),component:r.d,componentProps:{euiFieldProps:{options:b.l.orientation,style:{minWidth:300}}}})),Q=({min:e,max:t})=>Object(u.jsx)(s.EuiFormRow,{fullWidth:!0,label:Object(u.jsx)(o.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.fielddata.frequencyFilterPercentageFieldLabel",defaultMessage:"Percentage-based frequency range"})},Object(u.jsx)(s.EuiDualRange,{min:0,max:100,value:[e.value,t.value],onChange:([a,i])=>{e.setValue(a),t.setValue(i)},showInput:"inputWithPopover",append:"%"})),Z=({min:e,max:t})=>{const a=!e.isChangingValue&&e.errors.length>0,i=!e.isChangingValue&&e.errors.length?e.errors[0].message:null,n=!t.isChangingValue&&t.errors.length>0,r=!t.isChangingValue&&t.errors.length?t.errors[0].message:null;return Object(u.jsx)(s.EuiFormRow,{fullWidth:!0,isInvalid:a||n,error:i||r,label:Object(u.jsx)(o.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.fielddata.frequencyFilterAbsoluteFieldLabel",defaultMessage:"Absolute frequency range"})},Object(u.jsx)(s.EuiFormControlLayoutDelimited,{startControl:Object(u.jsx)(s.EuiFieldNumber,{value:e.value,onChange:e.onChange,isLoading:e.isValidating,isInvalid:a,fullWidth:!0,"data-test-subj":"input",controlOnly:!0,"aria-label":l.i18n.translate("xpack.idxMgmt.mappingsEditor.fielddata.frequencyFilterAbsoluteMinAriaLabel",{defaultMessage:"Minimum absolute frequency"})}),endControl:Object(u.jsx)(s.EuiFieldNumber,{value:t.value,onChange:t.onChange,isLoading:t.isValidating,isInvalid:n,fullWidth:!0,"data-test-subj":"input",controlOnly:!0,"aria-label":l.i18n.translate("xpack.idxMgmt.mappingsEditor.fielddata.frequencyFilterAbsoluteMaxAriaLabel",{defaultMessage:"Maximum absolute frequency"})})}))},ee=({field:e,defaultToggleValue:t})=>{const[a,p]=Object(i.useState)(void 0!==e.source.fielddata_frequency_filter&&e.source.fielddata_frequency_filter.max>1?"absolute":"percentage");function m(e,t=a){return"percentage"===t?Object(g.m)("fielddata_frequency_filter_percentage",e):Object(g.m)("fielddata_frequency_filter_absolute",e)}const x=(e,t)=>()=>{var i,n,s,l;const o="percentage"===a?"absolute":"percentage",r=m("min",o),c=m("max",o);e.setValue(null!==(i=null===(n=r.deserializer)||void 0===n?void 0:n.call(r,r.defaultValue))&&void 0!==i?i:r.defaultValue),t.setValue(null!==(s=null===(l=c.deserializer)||void 0===l?void 0:l.call(c,c.defaultValue))&&void 0!==s?s:c.defaultValue),p(o)};return Object(u.jsx)(d.d,{title:l.i18n.translate("xpack.idxMgmt.mappingsEditor.fielddata.fielddataFormRowTitle",{defaultMessage:"Fielddata"}),description:l.i18n.translate("xpack.idxMgmt.mappingsEditor.fielddata.fielddataFormRowDescription",{defaultMessage:"Whether to use in-memory fielddata for sorting, aggregations, or scripting."}),docLink:{text:l.i18n.translate("xpack.idxMgmt.mappingsEditor.fielddata.fieldDataDocLinkText",{defaultMessage:"Fielddata documentation"}),href:c.a.getFielddataLink()},formFieldPath:"fielddata",defaultToggleValue:t},Object(u.jsx)(r.u,{fields:{min:{path:"fielddata_frequency_filter.min",config:m("min")},max:{path:"fielddata_frequency_filter.max",config:m("max")}}},(({min:e,max:t})=>{const i="percentage"===a?Q:Z;return Object(u.jsx)(n.a.Fragment,null,Object(u.jsx)(s.EuiCallOut,{color:"warning",iconType:"warning",size:"s",title:Object(u.jsx)(o.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.fielddata.fielddataEnabledWarningTitle",defaultMessage:"Fielddata can consume significant memory. This is particularly likely when loading high-cardinality text fields. {docsLink}",values:{docsLink:Object(u.jsx)(s.EuiLink,{href:c.a.getEnablingFielddataLink(),target:"_blank"},l.i18n.translate("xpack.idxMgmt.mappingsEditor.fielddata.fielddataEnabledDocumentationLink",{defaultMessage:"Learn more."}))}})}),Object(u.jsx)(s.EuiSpacer,{size:"m"}),Object(u.jsx)(s.EuiTitle,{size:"xxs"},Object(u.jsx)("h4",null,l.i18n.translate("xpack.idxMgmt.mappingsEditor.fielddata.fielddataDocumentFrequencyRangeTitle",{defaultMessage:"Document frequency range"}))),Object(u.jsx)(s.EuiSpacer,{size:"s"}),Object(u.jsx)(s.EuiText,{size:"s",color:"subdued"},Object(u.jsx)(o.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.fielddata.fielddataFrequencyMessage",defaultMessage:"This range determines the terms loaded into memory. Frequency is calculated per segment. Exclude small segments based on their size, in number of documents. {docsLink}",values:{docsLink:Object(u.jsx)(s.EuiLink,{href:c.a.getFielddataFrequencyLink(),target:"_blank"},l.i18n.translate("xpack.idxMgmt.mappingsEditor.fielddata.fielddataFrequencyDocumentationLink",{defaultMessage:"Learn more."}))}})),Object(u.jsx)(s.EuiSpacer,{size:"m"}),Object(u.jsx)(s.EuiFlexGroup,null,Object(u.jsx)(s.EuiFlexItem,null,Object(u.jsx)(i,{min:e,max:t})),Object(u.jsx)(s.EuiFlexItem,{grow:!1},Object(u.jsx)(r.t,{path:"fielddata_frequency_filter.min_segment_size",config:Object(g.m)("fielddata_frequency_filter","min_segment_size"),component:r.d}))),Object(u.jsx)(s.EuiSpacer,{size:"s"}),Object(u.jsx)(s.EuiSwitch,{compressed:!0,label:l.i18n.translate("xpack.idxMgmt.mappingsEditor.fielddata.useAbsoluteValuesFieldLabel",{defaultMessage:"Use absolute values"}),checked:"absolute"===a,onChange:x(e,t),"data-test-subj":"input"}))})))},te=()=>Object(u.jsx)(d.d,{title:l.i18n.translate("xpack.idxMgmt.mappingsEditor.splitQueriesOnWhitespaceFieldTitle",{defaultMessage:"Split queries on whitespace"}),description:l.i18n.translate("xpack.idxMgmt.mappingsEditor.splitQueriesOnWhitespaceDescription",{defaultMessage:"Full text queries will split the input on whitespace when building a query for this field."}),formFieldPath:"split_queries_on_whitespace"}),ae=({defaultToggleValue:e})=>Object(u.jsx)(d.d,{title:l.i18n.translate("xpack.idxMgmt.mappingsEditor.date.localeFieldTitle",{defaultMessage:"Set locale"}),description:Object(u.jsx)(o.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dateType.localeFieldDescription",defaultMessage:"The locale to use when parsing dates. This is useful because months might not have the same name or abbreviation in all languages. Defaults to the {root} locale.",values:{root:Object(u.jsx)(s.EuiLink,{href:c.a.getRootLocaleLink(),target:"_blank"},"ROOT")}}),defaultToggleValue:e},Object(u.jsx)(r.t,{path:"locale",config:Object(g.m)("locale"),component:r.d})),ie=()=>Object(u.jsx)(d.d,{title:l.i18n.translate("xpack.idxMgmt.mappingsEditor.searchableProperties.fieldTitle",{defaultMessage:"Searchable properties"}),description:Object(u.jsx)(o.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.searchableProperties.fieldDescription",defaultMessage:"Allow object properties to be searched. The JSON can still be retrieved from the {source} field even after disabling this setting.",values:{source:Object(u.jsx)(s.EuiCode,null,"_source")}}),docLink:{text:l.i18n.translate("xpack.idxMgmt.mappingsEditor.enabledDocLinkText",{defaultMessage:"Enabled documentation"}),href:c.a.getEnabledLink()},formFieldPath:"enabled"}),ne=({defaultToggleValue:e})=>Object(u.jsx)(d.d,{title:l.i18n.translate("xpack.idxMgmt.mappingsEditor.maxShingleSizeFieldTitle",{defaultMessage:"Set max shingle size"}),description:l.i18n.translate("xpack.idxMgmt.mappingsEditor.maxShingleSizeFieldDescription",{defaultMessage:"The default is three shingle subfields. More subfields enable more specific queries, but increase index size."}),defaultToggleValue:e},Object(u.jsx)(r.t,{path:"max_shingle_size",component:r.d,config:Object(g.m)("max_shingle_size"),componentProps:{euiFieldProps:{options:[{value:2,text:"2"},{value:3,text:"3"},{value:4,text:"4"}]}}})),{isJsonField:se}=r.x,le={label:l.i18n.translate("xpack.idxMgmt.mappingsEditor.otherTypeJsonFieldLabel",{defaultMessage:"Type Parameters JSON"}),defaultValue:{},validations:[{validator:se(l.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.otherTypeJsonInvalidJSONErrorMessage",{defaultMessage:"Invalid JSON."}))},{validator:({value:e})=>{const t=JSON.parse(e);if(Array.isArray(t))return{message:l.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.otherTypeJsonArrayNotAllowedErrorMessage",{defaultMessage:"Arrays are not allowed."})}}},{validator:({value:e})=>{if(JSON.parse(e).type)return{code:"ERR_CUSTOM_TYPE_OVERRIDDEN",message:l.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.otherTypeJsonTypeFieldErrorMessage",{defaultMessage:'Cannot override the "type" field.'})}}}],deserializer:e=>""===e?e:JSON.stringify(e,null,2),serializer:e=>{try{return JSON.parse(e)}catch(t){return e}}},oe=()=>Object(u.jsx)(r.t,{path:"otherTypeJson",config:le,component:r.j}),re=({defaultToggleValue:e})=>Object(u.jsx)(d.d,{title:l.i18n.translate("xpack.idxMgmt.mappingsEditor.metaParameterTitle",{defaultMessage:"Set metadata"}),description:l.i18n.translate("xpack.idxMgmt.mappingsEditor.metaParameterDescription",{defaultMessage:"Arbitrary information about the field. Specify as JSON key-value pairs."}),defaultToggleValue:e,docLink:{text:l.i18n.translate("xpack.idxMgmt.mappingsEditor.metaParameterDocLinkText",{defaultMessage:"Metadata documentation"}),href:c.a.getMetaLink()},"data-test-subj":"metaParameter"},Object(u.jsx)(r.t,{path:"meta",config:Object(g.m)("meta"),component:r.j,componentProps:{codeEditorProps:{"data-test-subj":"metaParameterEditor",height:"300px","aria-label":l.i18n.translate("xpack.idxMgmt.mappingsEditor.metaParameterAriaLabel",{defaultMessage:"metadata field data editor"})}}})),ce=({defaultToggleValue:e})=>Object(u.jsx)(d.d,{title:l.i18n.translate("xpack.idxMgmt.mappingsEditor.ignoreAboveFieldTitle",{defaultMessage:"Set length limit"}),description:l.i18n.translate("xpack.idxMgmt.mappingsEditor.ignoreAboveFieldDescription",{defaultMessage:"Strings longer than this value will not be indexed. This is useful for protecting against Lucene’s term character-length limit of 8,191 UTF-8 characters."}),docLink:{text:l.i18n.translate("xpack.idxMgmt.mappingsEditor.ignoreAboveDocLinkText",{defaultMessage:"Ignore above documentation"}),href:c.a.getIgnoreAboveLink()},defaultToggleValue:e},Object(u.jsx)(r.t,{path:"ignore_above",config:Object(g.m)("ignore_above"),component:r.d})),de=()=>Object(u.jsx)(d.d,{title:l.i18n.translate("xpack.idxMgmt.mappingsEditor.subobjectsParameter.fieldTitle",{defaultMessage:"Subobjects"}),description:l.i18n.translate("xpack.idxMgmt.mappingsEditor.subobjectsParameter.fieldDescription",{defaultMessage:"Allow object to hold further subobjects. If disabled, documents can be stored with field names that contain dots and share common prefixes."}),docLink:{text:l.i18n.translate("xpack.idxMgmt.mappingsEditor.subobjectsDocLinkText",{defaultMessage:"Subobjects documentation"}),href:c.a.getSubobjectsLink()},formFieldPath:"subobjects"}),ue=[e=>{if(void 0===e.relations)return e;const t=e.relations.reduce(((e,t)=>({...e,[t.parent]:1===t.children.length?t.children[0]:t.children})),{});return{...e,relations:t}},e=>{if(void 0===e.dynamic_toggle)return e;const t=!0===e.dynamic_toggle||!0===e.dynamic_strict&&"strict",{dynamic_toggle:a,dynamic_strict:i,...n}=e;return{...n,dynamic:t}}],pe=[e=>{if(void 0===e.relations)return e;const t=e.relations,a=Object.entries(t).map((([e,t])=>({parent:e,children:"string"==typeof t?[t]:t})));return{...e,relations:a}},e=>{if(void 0===e.dynamic)return e;const t=!0===e.dynamic,a="strict"===e.dynamic;return{...e,dynamic_toggle:t,dynamic_strict:a}}]},function(e,t,a){"use strict";a.d(t,"c",(function(){return Q})),a.d(t,"e",(function(){return X})),a.d(t,"b",(function(){return Z})),a.d(t,"d",(function(){return te})),a.d(t,"a",(function(){return ae}));var i=a(5),n=a.n(i),s=a(104),l=a(68),o=a(78),r=a(69),c=a(131),d=a(8),u=a(9),p=a(6),m=a(70),g=a(74),x=a(109),b=a(75),f=a(2);const j=(e,t)=>{switch(e){case"boost":case"similarity":case"ignore_above":return void 0!==t[e]&&t[e]!==Object(r.m)(e).defaultValue;case"normalizer":case"copy_to":case"null_value":return void 0!==t[e];default:return!1}},h=(e,t)=>{switch(e){case"copy_to":case"boost":case"meta":case"ignore_malformed":return void 0!==t[e]&&t[e]!==Object(r.m)(e).defaultValue;case"null_value":return void 0!==t.null_value&&""!==t.null_value;default:return!1}},O=(e,t)=>{switch(e){case"boost":case"position_increment_gap":case"similarity":case"meta":case"term_vector":return void 0!==t[e]&&t[e]!==Object(r.m)(e).defaultValue;case"analyzers":return void 0!==t.search_analyzer&&t.search_analyzer!==t.analyzer;case"copy_to":return void 0!==t[e]&&""!==t[e];case"indexPrefixes":{if(void 0===t.index_prefixes)return!1;const e=t.index_prefixes.min_chars,a=Object(r.m)("index_prefixes","min_chars").defaultValue,i=t.index_prefixes.max_chars,n=Object(r.m)("index_prefixes","min_chars").defaultValue;return e!==a||i!==n}case"fielddata":return!0===t.fielddata||void 0!==t.fielddata_frequency_filter;default:return!1}},M=n.a.memo((({field:e,kibanaVersion:t})=>Object(f.jsx)(n.a.Fragment,null,Object(f.jsx)(Z,null,Object(f.jsx)(b.p,null)),Object(f.jsx)(ae,null,Object(f.jsx)(b.b,{field:e,withSearchQuoteAnalyzer:!0}),Object(f.jsx)(b.i,null),Object(f.jsx)(te,{title:d.i18n.translate("xpack.idxMgmt.mappingsEditor.indexPhrasesFieldTitle",{defaultMessage:"Index phrases"}),description:d.i18n.translate("xpack.idxMgmt.mappingsEditor.indexPhrasesFieldDescription",{defaultMessage:"Whether to index two-term word combinations into a separate field. Activating this will speed up phrase queries, but could slow down indexing."}),docLink:{text:d.i18n.translate("xpack.idxMgmt.mappingsEditor.indexPhrasesDocLinkText",{defaultMessage:"Index phrases documentation"}),href:m.a.getIndexPhrasesLink()},formFieldPath:"index_phrases"}),Object(f.jsx)(te,{title:d.i18n.translate("xpack.idxMgmt.mappingsEditor.indexPrefixesFieldTitle",{defaultMessage:"Set index prefixes"}),description:d.i18n.translate("xpack.idxMgmt.mappingsEditor.indexPrefixesFieldDescription",{defaultMessage:"Whether to index prefixes of 2 and 5 characters into a separate field. Activating this will speed up prefix queries, but could slow down indexing."}),docLink:{text:d.i18n.translate("xpack.idxMgmt.mappingsEditor.indexPrefixesDocLinkText",{defaultMessage:"Index prefixes documentation"}),href:m.a.getIndexPrefixesLink()},defaultToggleValue:O("indexPrefixes",e.source)},Object(f.jsx)(u.EuiFormRow,{label:d.i18n.translate("xpack.idxMgmt.mappingsEditor.indexPrefixesRangeFieldLabel",{defaultMessage:"Min/max prefix length"}),fullWidth:!0},Object(f.jsx)(l.u,{fields:{min:{path:"index_prefixes.min_chars",config:Object(r.m)("index_prefixes","min_chars")},max:{path:"index_prefixes.max_chars",config:Object(r.m)("index_prefixes","max_chars")}}},(({min:e,max:t})=>{return Object(f.jsx)(u.EuiDualRange,{min:0,max:20,value:[e.value,t.value],onChange:(a=e,i=t,([e,t])=>{a.setValue(e),i.setValue(t)}),showInput:!0,fullWidth:!0});var a,i})))),Object(f.jsx)(b.u,null),Object(f.jsx)(te,{title:d.i18n.translate("xpack.idxMgmt.mappingsEditor.positionIncrementGapFieldTitle",{defaultMessage:"Set position increment gap"}),description:d.i18n.translate("xpack.idxMgmt.mappingsEditor.positionIncrementGapFieldDescription",{defaultMessage:"The number of fake term positions which should be inserted between each element of an array of strings."}),docLink:{text:d.i18n.translate("xpack.idxMgmt.mappingsEditor.positionIncrementGapDocLinkText",{defaultMessage:"Position increment gap documentation"}),href:m.a.getPositionIncrementGapLink()},defaultToggleValue:O("position_increment_gap",e.source)},Object(f.jsx)(l.f,{pathsToWatch:"index_options"},(e=>Object(f.jsx)(n.a.Fragment,null,Object(f.jsx)(l.t,{path:"position_increment_gap",config:Object(r.m)("position_increment_gap"),component:l.l,componentProps:{euiFieldProps:{min:0,max:200,showInput:!0,fullWidth:!0}}}),"positions"!==e.index_options&&"offsets"!==e.index_options&&Object(f.jsx)(n.a.Fragment,null,Object(f.jsx)(u.EuiSpacer,{size:"s"}),Object(f.jsx)(u.EuiCallOut,{title:d.i18n.translate("xpack.idxMgmt.mappingsEditor.positionsErrorTitle",{defaultMessage:"Positions not enabled."}),color:"danger",iconType:"warning"},Object(f.jsx)("p",null,d.i18n.translate("xpack.idxMgmt.mappingsEditor.positionsErrorMessage",{defaultMessage:'You need to set the index options (under the "Searchable" toggle) to "Positions" or "Offsets" in order to be able to change the position increment gap.'})))))))),Object(f.jsx)(b.C,{defaultToggleValue:O("similarity",e.source)}),Object(f.jsx)(b.H,{field:e,defaultToggleValue:O("term_vector",e.source)}),Object(f.jsx)(b.k,{field:e,defaultToggleValue:O("fielddata",e.source)}),Object(f.jsx)(b.f,{defaultToggleValue:O("copy_to",e.source)}),Object(f.jsx)(b.E,null),Object(f.jsx)(b.s,{defaultToggleValue:O("meta",e.source)}),t.major<8&&Object(f.jsx)(b.c,{defaultToggleValue:O("boost",e.source)}))))),y=(e,t)=>{switch(e){case"meta":case"boost":return void 0!==t[e]&&t[e]!==Object(r.m)(e).defaultValue;case"null_value":return void 0!==t.null_value;default:return!1}},v=[{value:0,text:'"true"'},{value:1,text:"true"},{value:2,text:'"false"'},{value:3,text:"false"}],E=(e,t)=>void 0!==t[e]&&t[e]!==Object(r.m)(e).defaultValue,k=(e,t)=>void 0!==t[e]&&t[e]!==Object(r.m)(e).defaultValue,T=(e,t)=>{switch(e){case"boost":return void 0!==t[e]&&t[e]!==Object(r.m)(e).defaultValue;case"null_value":return void 0!==t.null_value&&""!==t.null_value;default:return!1}},F=(e,t)=>{switch(e){case"analyzer":case"meta":case"boost":return void 0!==t[e]&&t[e]!==Object(r.m)(e).defaultValue;case"null_value":return void 0!==t.null_value&&""!==t.null_value;default:return!1}},S=(e,t)=>{switch(e){case"meta":case"max_input_length":return void 0!==t[e]&&t[e]!==Object(r.m)(e).defaultValue;case"analyzers":return void 0!==t.search_analyzer&&t.search_analyzer!==t.analyzer;default:return!1}},_=(e,t)=>{switch(e){case"meta":return void 0!==t[e]&&t[e]!==Object(r.m)(e).defaultValue;case"null_value":return void 0!==t.null_value;default:return!1}},C=(e,t)=>{switch(e){case"locale":case"format":case"meta":case"boost":return void 0!==t[e]&&t[e]!==Object(r.m)(e).defaultValue;case"null_value":return void 0!==t.null_value&&""!==t.null_value;default:return!1}},L=({field:e,kibanaVersion:t})=>Object(f.jsx)(n.a.Fragment,null,Object(f.jsx)(Z,null,Object(f.jsx)(b.p,{hasIndexOptions:!1}),Object(f.jsx)(b.l,{defaultValue:e.source.format,defaultToggleValue:C("format",e.source)}),Object(f.jsx)(b.n,null)),Object(f.jsx)(ae,null,Object(f.jsx)(b.q,{defaultToggleValue:C("locale",e.source)}),Object(f.jsx)(b.g,null),Object(f.jsx)(b.v,{defaultToggleValue:C("null_value",e.source),description:d.i18n.translate("xpack.idxMgmt.mappingsEditor.dateType.nullValueFieldDescription",{defaultMessage:"Replace explicit null values with a date value so that it can be indexed and searched."})}),Object(f.jsx)(b.E,null),Object(f.jsx)(b.s,{defaultToggleValue:C("meta",e.source)}),t.major<8&&Object(f.jsx)(b.c,{defaultToggleValue:C("boost",e.source)}))),w=(e,t)=>{const{defaultValue:a}=Object(r.m)(e);return"orientation"===e?void 0!==t[e]&&t[e]!==a:void 0!==t[e]?t[e]:void 0!==a&&a},I=(e,t)=>{switch(e){case"similarity":case"term_vector":case"meta":case"max_shingle_size":return void 0!==t[e]&&t[e]!==Object(r.m)(e).defaultValue;case"analyzers":return void 0!==t.search_analyzer&&t.search_analyzer!==t.analyzer;default:return!1}},D=n.a.memo((({field:e})=>Object(f.jsx)(n.a.Fragment,null,Object(f.jsx)(Z,null,Object(f.jsx)(b.p,{config:{...Object(r.m)("index_options"),defaultValue:"positions"}})),Object(f.jsx)(ae,null,Object(f.jsx)(b.b,{field:e,withSearchQuoteAnalyzer:!0}),Object(f.jsx)(b.r,{defaultToggleValue:I("max_shingle_size",e.source)}),Object(f.jsx)(b.u,null),Object(f.jsx)(b.C,{defaultToggleValue:I("similarity",e.source)}),Object(f.jsx)(b.H,{field:e,defaultToggleValue:I("term_vector",e.source)}),Object(f.jsx)(b.E,null),Object(f.jsx)(b.s,{defaultToggleValue:I("meta",e.source)}))))),P=(e,t)=>{switch(e){case"boost":case"ignore_above":case"meta":case"similarity":return void 0!==t[e]&&t[e]!==Object(r.m)(e).defaultValue;case"null_value":return void 0!==t.null_value&&""!==t.null_value;default:return!1}},N=n.a.memo((({field:e,kibanaVersion:t})=>Object(f.jsx)(n.a.Fragment,null,Object(f.jsx)(Z,null,Object(f.jsx)(b.p,{config:Object(r.m)("index_options_flattened"),indexOptions:g.l.index_options_flattened})),Object(f.jsx)(ae,null,Object(f.jsx)(b.i,null),Object(f.jsx)(te,{title:d.i18n.translate("xpack.idxMgmt.mappingsEditor.depthLimitTitle",{defaultMessage:"Customize depth limit"}),description:d.i18n.translate("xpack.idxMgmt.mappingsEditor.depthLimitDescription",{defaultMessage:"The maximum allowed depth of the flattened object field, in terms of nested inner objects. Defaults to 20."})},Object(f.jsx)(l.t,{path:"depth_limit",config:Object(r.m)("depth_limit"),component:l.d})),Object(f.jsx)(b.m,{defaultToggleValue:P("ignore_above",e.source)}),Object(f.jsx)(b.D,null),Object(f.jsx)(b.C,{defaultToggleValue:P("similarity",e.source)}),Object(f.jsx)(b.g,null),Object(f.jsx)(b.v,{defaultToggleValue:P("null_value",e.source)}),Object(f.jsx)(b.s,{defaultToggleValue:P("meta",e.source)}),t.major<8&&Object(f.jsx)(b.c,{defaultToggleValue:P("boost",e.source)}))))),A=(e,t)=>{const{defaultValue:a}=Object(r.m)(e);switch(e){case"boost":case"orientation":return void 0!==t[e]&&t[e]!==a;default:return void 0!==t[e]?t[e]:void 0!==a&&a}},B={eagerGlobalOrdinalsDescription:d.i18n.translate("xpack.idxMgmt.mappingsEditor.join.eagerGlobalOrdinalsFieldDescription",{defaultMessage:"The join field uses global ordinals to speed up joins. By default, if the index has changed, global ordinals for the join field will be rebuilt as part of the refresh. This can add significant time to the refresh, however most of the times this is the right trade-off."})},R=(e,t)=>void 0!==t[e]&&t[e]!==Object(r.m)(e).defaultValue,z=(e,t)=>void 0!==t[e]&&t[e]!==Object(r.m)(e).defaultValue,V=(e,t)=>void 0!==t[e]&&t[e]!==Object(r.m)(e).defaultValue,U=(e,t)=>void 0!==t[e]&&t[e]!==Object(r.m)(e).defaultValue,q=(e,t)=>void 0!==t[e]&&t[e]!==Object(r.m)(e).defaultValue,W={alias:({field:e,allFields:t})=>Object(f.jsx)(Z,null,Object(f.jsx)(b.A,{field:e,allFields:t})),keyword:({field:e,kibanaVersion:t})=>Object(f.jsx)(n.a.Fragment,null,Object(f.jsx)(Z,null,Object(f.jsx)(b.p,{config:{...Object(r.m)("index_options_keyword")},indexOptions:g.l.index_options_keyword}),Object(f.jsx)(te,{title:d.i18n.translate("xpack.idxMgmt.mappingsEditor.normalizerFieldTitle",{defaultMessage:"Use normalizer"}),description:d.i18n.translate("xpack.idxMgmt.mappingsEditor.normalizerFieldDescription",{defaultMessage:"Process the keyword prior to indexing."}),docLink:{text:d.i18n.translate("xpack.idxMgmt.mappingsEditor.normalizerDocLinkText",{defaultMessage:"Normalizer documentation"}),href:m.a.getNormalizerLink()},defaultToggleValue:j("normalizer",e.source)},Object(f.jsx)(l.t,{path:"normalizer",config:Object(r.m)("normalizer"),component:l.d}))),Object(f.jsx)(ae,null,Object(f.jsx)(b.i,null),Object(f.jsx)(b.m,{defaultToggleValue:j("ignore_above",e.source)}),Object(f.jsx)(b.u,{configPath:"norms_keyword"}),Object(f.jsx)(b.C,{defaultToggleValue:j("similarity",e.source)}),Object(f.jsx)(b.D,null),Object(f.jsx)(b.g,null),Object(f.jsx)(b.f,{defaultToggleValue:j("copy_to",e.source)}),Object(f.jsx)(b.v,{defaultToggleValue:j("null_value",e.source)}),Object(f.jsx)(b.E,null),t.major<8&&Object(f.jsx)(b.c,{defaultToggleValue:j("boost",e.source)}))),numeric:({field:e,kibanaVersion:t})=>{var a,i;const[s]=Object(l.B)({watch:"subType"});return Object(f.jsx)(n.a.Fragment,null,Object(f.jsx)(Z,null,"scaled_float"===(null===(a=s.subType)||void 0===a||null===(i=a[0])||void 0===i?void 0:i.value)?Object(f.jsx)(te,{title:g.k.scaling_factor.title,description:g.k.scaling_factor.description,withToggle:!1},Object(f.jsx)(l.t,{path:"scaling_factor",config:Object(r.m)("scaling_factor"),component:l.d,"data-test-subj":"scalingFactor"})):null,Object(f.jsx)(b.p,{hasIndexOptions:!1}),Object(f.jsx)(b.n,null)),Object(f.jsx)(ae,null,Object(f.jsx)(b.d,null),Object(f.jsx)(b.g,null),Object(f.jsx)(b.f,{defaultToggleValue:h("copy_to",e.source)}),Object(f.jsx)(b.v,{description:d.i18n.translate("xpack.idxMgmt.mappingsEditor.numeric.nullValueFieldDescription",{defaultMessage:"Accepts a numeric value of the same type as the field which is substituted for any explicit null values."}),defaultToggleValue:h("null_value",e.source)},Object(f.jsx)(l.t,{path:"null_value",component:l.k,config:Object(r.m)("null_value_numeric")})),Object(f.jsx)(b.E,null),Object(f.jsx)(b.s,{defaultToggleValue:h("meta",e.source)}),t.major<8&&Object(f.jsx)(b.c,{defaultToggleValue:h("boost",e.source)})))},text:M,boolean:({field:e,kibanaVersion:t})=>Object(f.jsx)(n.a.Fragment,null,Object(f.jsx)(Z,null,Object(f.jsx)(b.p,{hasIndexOptions:!1})),Object(f.jsx)(ae,null,Object(f.jsx)(b.g,null),Object(f.jsx)(b.v,{defaultToggleValue:y("null_value",e.source),description:d.i18n.translate("xpack.idxMgmt.mappingsEditor.booleanNullValueFieldDescription",{defaultMessage:"Replace explicit null values with a specific boolean value so that it can be indexed and searched."})},Object(f.jsx)(l.t,{path:"null_value",config:Object(r.m)("null_value_boolean"),component:l.n,componentProps:{euiFieldProps:{options:v,fullWidth:!0}}})),Object(f.jsx)(b.E,null),Object(f.jsx)(b.s,{defaultToggleValue:y("meta",e.source)}),t.major<8&&Object(f.jsx)(b.c,{defaultToggleValue:y("boost",e.source)}))),binary:({field:e})=>Object(f.jsx)(ae,null,Object(f.jsx)(b.g,{configPath:"doc_values_binary"}),Object(f.jsx)(b.E,null),Object(f.jsx)(b.s,{defaultToggleValue:E("meta",e.source)})),range:({field:e,kibanaVersion:t})=>Object(f.jsx)(n.a.Fragment,null,Object(f.jsx)(Z,null,Object(f.jsx)(b.p,{hasIndexOptions:!1}),Object(f.jsx)(l.f,{pathsToWatch:"subType"},(t=>{var a,i;return"date_range"===(null===(a=t.subType)||void 0===a||null===(i=a[0])||void 0===i?void 0:i.value)?Object(f.jsx)(b.l,{defaultValue:e.source.format,defaultToggleValue:k("format",e.source)}):null}))),Object(f.jsx)(ae,null,Object(f.jsx)(l.f,{pathsToWatch:"subType"},(t=>{var a,i;return"date_range"===(null===(a=t.subType)||void 0===a||null===(i=a[0])||void 0===i?void 0:i.value)?Object(f.jsx)(b.q,{defaultToggleValue:k("locale",e.source)}):null})),Object(f.jsx)(b.d,null),Object(f.jsx)(b.E,null),Object(f.jsx)(b.s,{defaultToggleValue:k("meta",e.source)}),t.major<8&&Object(f.jsx)(b.c,{defaultToggleValue:k("boost",e.source)}))),ip:({field:e,kibanaVersion:t})=>Object(f.jsx)(n.a.Fragment,null,Object(f.jsx)(Z,null,Object(f.jsx)(b.p,{hasIndexOptions:!1})),Object(f.jsx)(ae,null,Object(f.jsx)(b.g,null),Object(f.jsx)(b.v,{defaultToggleValue:T("null_value",e.source)},Object(f.jsx)(l.t,{path:"null_value",config:Object(r.m)("null_value_ip"),component:l.d})),Object(f.jsx)(b.E,null),t.major<8&&Object(f.jsx)(b.c,{defaultToggleValue:T("boost",e.source)}))),token_count:({field:e,kibanaVersion:t})=>Object(f.jsx)(n.a.Fragment,null,Object(f.jsx)(Z,null,Object(f.jsx)(te,{title:d.i18n.translate("xpack.idxMgmt.mappingsEditor.tokenCount.analyzerSectionTitle",{defaultMessage:"Analyzer"}),docLink:{text:d.i18n.translate("xpack.idxMgmt.mappingsEditor.tokenCount.analyzerLinkText",{defaultMessage:"Analyzer documentation"}),href:m.a.getAnalyzerLink()},withToggle:!1},Object(f.jsx)(b.a,{path:"analyzer",config:{...Object(r.m)("analyzer"),defaultValue:g.m},defaultValue:e.source.analyzer,allowsIndexDefaultOption:!1})),Object(f.jsx)(b.p,{hasIndexOptions:!1})),Object(f.jsx)(ae,null,Object(f.jsx)(te,{title:d.i18n.translate("xpack.idxMgmt.mappingsEditor.tokenCount.enablePositionIncrementsFieldTitle",{defaultMessage:"Enable position increments"}),description:d.i18n.translate("xpack.idxMgmt.mappingsEditor.tokenCount.enablePositionIncrementsFieldDescription",{defaultMessage:"Whether to count position increments."}),formFieldPath:"enable_position_increments"}),Object(f.jsx)(b.g,null),Object(f.jsx)(b.v,{defaultToggleValue:F("null_value",e.source),description:d.i18n.translate("xpack.idxMgmt.mappingsEditor.tokenCount.nullValueFieldDescription",{defaultMessage:"Accepts a numeric value of the same type as the field which is substituted for any explicit null values."})},Object(f.jsx)(l.t,{path:"null_value",component:l.k,config:Object(r.m)("null_value_numeric")})),Object(f.jsx)(b.E,null),Object(f.jsx)(b.s,{defaultToggleValue:F("meta",e.source)}),t.major<8&&Object(f.jsx)(b.c,{defaultToggleValue:F("boost",e.source)}))),completion:({field:e})=>Object(f.jsx)(ae,null,Object(f.jsx)(b.b,{field:e}),Object(f.jsx)(te,{title:d.i18n.translate("xpack.idxMgmt.mappingsEditor.completion.maxInputLengthFieldTitle",{defaultMessage:"Set max input length"}),description:d.i18n.translate("xpack.idxMgmt.mappingsEditor.completion.maxInputLengthFieldDescription",{defaultMessage:"Limits the length of a single input."}),defaultToggleValue:S("max_input_length",e.source)},Object(f.jsx)(l.t,{path:"max_input_length",config:Object(r.m)("max_input_length"),component:l.d})),Object(f.jsx)(te,{title:d.i18n.translate("xpack.idxMgmt.mappingsEditor.completion.preserveSeparatorsFieldTitle",{defaultMessage:"Preserve separators"}),description:d.i18n.translate("xpack.idxMgmt.mappingsEditor.completion.preserveSeparatorsFieldDescription",{defaultMessage:"Preserves the separators."}),formFieldPath:"preserve_separators"}),Object(f.jsx)(te,{title:d.i18n.translate("xpack.idxMgmt.mappingsEditor.completion.preservePositionIncrementsFieldTitle",{defaultMessage:"Preserve position increments"}),description:d.i18n.translate("xpack.idxMgmt.mappingsEditor.completion.preservePositionIncrementsFieldDescription",{defaultMessage:"Enables position increments."}),formFieldPath:"preserve_position_increments"}),Object(f.jsx)(b.s,{defaultToggleValue:S("meta",e.source)})),geo_point:({field:e})=>Object(f.jsx)(n.a.Fragment,null,Object(f.jsx)(Z,null,Object(f.jsx)(b.n,{description:d.i18n.translate("xpack.idxMgmt.mappingsEditor.geoPoint.ignoreMalformedFieldDescription",{defaultMessage:"By default, documents that contain malformed geo-points are not indexed. If enabled, these documents are indexed, but fields with malformed geo-points are filtered out. Be careful: if too many documents are indexed this way, queries on the field become meaningless."})})),Object(f.jsx)(ae,null,Object(f.jsx)(b.o,null),Object(f.jsx)(b.v,{defaultToggleValue:_("null_value",e.source),description:d.i18n.translate("xpack.idxMgmt.mappingsEditor.geoPoint.nullValueFieldDescription",{defaultMessage:"Replace explicit null values with a geo-point value so that it can be indexed and searched."})},Object(f.jsx)(l.t,{path:"null_value",component:l.p,config:Object(r.m)("null_value_geo_point")})),Object(f.jsx)(b.s,{defaultToggleValue:_("meta",e.source)}))),date:L,date_nanos:L,geo_shape:({field:e})=>Object(f.jsx)(n.a.Fragment,null,Object(f.jsx)(Z,null,Object(f.jsx)(b.n,{description:d.i18n.translate("xpack.idxMgmt.mappingsEditor.geoShape.ignoreMalformedFieldDescription",{defaultMessage:"By default, documents that contain malformed GeoJSON or WKT shapes are not indexed. If enabled, these documents are indexed, but fields with malformed shapes are filtered out. Be careful: if too many documents are indexed this way, queries on the field become meaningless."})})),Object(f.jsx)(ae,null,Object(f.jsx)(b.w,{defaultToggleValue:w("orientation",e.source)}),Object(f.jsx)(te,{title:d.i18n.translate("xpack.idxMgmt.mappingsEditor.geoShape.pointsOnlyFieldTitle",{defaultMessage:"Points only"}),description:d.i18n.translate("xpack.idxMgmt.mappingsEditor.geoShape.pointsOnlyFieldDescription",{defaultMessage:"Optimizes geo-shape queries if this field contains only geo-points. Shapes, including multi-point shapes, will be rejected."}),formFieldPath:"points_only"}),Object(f.jsx)(b.o,null),Object(f.jsx)(b.e,null))),search_as_you_type:D,flattened:N,shape:({field:e})=>Object(f.jsx)(n.a.Fragment,null,Object(f.jsx)(Z,null,Object(f.jsx)(b.n,{description:d.i18n.translate("xpack.idxMgmt.mappingsEditor.shapeType.ignoredMalformedFieldDescription",{defaultMessage:"By default, documents that contain malformed GeoJSON or WKT shapes are not indexed. If enabled, these documents are indexed, but fields with malformed shapes are filtered out. Be careful: if too many documents are indexed this way, queries on the field become meaningless."})})),Object(f.jsx)(ae,null,Object(f.jsx)(b.w,{defaultToggleValue:A("orientation",e.source)}),Object(f.jsx)(b.o,null),Object(f.jsx)(b.e,null))),dense_vector:()=>Object(f.jsx)(Z,null,Object(f.jsx)(l.t,{path:"dims",config:Object(r.m)("dims"),component:l.d})),object:({field:e})=>Object(f.jsx)(Z,null,Object(f.jsx)(b.h,{defaultToggleValue:!0===e.source.dynamic||void 0===e.source.dynamic}),Object(f.jsx)(b.j,null),Object(f.jsx)(b.G,null)),other:()=>Object(f.jsx)(Z,null,Object(f.jsx)(b.x,null)),nested:({field:e})=>Object(f.jsx)(Z,null,Object(f.jsx)(b.h,{defaultToggleValue:!0===e.source.dynamic||void 0===e.source.dynamic})),join:()=>Object(f.jsx)(n.a.Fragment,null,Object(f.jsx)(Z,null,Object(f.jsx)(b.B,null)),Object(f.jsx)(ae,null,Object(f.jsx)(b.i,{configPath:"eager_global_ordinals_join",description:B.eagerGlobalOrdinalsDescription}))),histogram:({field:e})=>Object(f.jsx)(ae,null,Object(f.jsx)(b.n,null),Object(f.jsx)(b.s,{defaultToggleValue:R("meta",e.source)})),constant_keyword:({field:e})=>Object(f.jsx)(n.a.Fragment,null,Object(f.jsx)(Z,null,Object(f.jsx)(te,{title:d.i18n.translate("xpack.idxMgmt.mappingsEditor.constantKeyword.valueFieldTitle",{defaultMessage:"Set value"}),description:d.i18n.translate("xpack.idxMgmt.mappingsEditor.constantKeyword.valueFieldDescription",{defaultMessage:"The value of this field for all documents in the index. If not specified, defaults to the value specified in the first document indexed."}),defaultToggleValue:z("value",e.source)},Object(f.jsx)(l.t,{path:"value",config:Object(r.m)("value"),component:l.d}))),Object(f.jsx)(ae,null,Object(f.jsx)(b.s,{defaultToggleValue:z("meta",e.source)}))),rank_feature:()=>Object(f.jsx)(Z,null,Object(f.jsx)(te,{title:d.i18n.translate("xpack.idxMgmt.mappingsEditor.rankFeature.positiveScoreImpactFieldTitle",{defaultMessage:"Positive score impact"}),description:d.i18n.translate("xpack.idxMgmt.mappingsEditor.rankFeature.positiveScoreImpactFieldDescription",{defaultMessage:"Rank features that correlate negatively with the score should disable this field."}),formFieldPath:"positive_score_impact"})),wildcard:({field:e})=>Object(f.jsx)(ae,null,Object(f.jsx)(b.m,{defaultToggleValue:V("ignore_above",e.source)})),point:({field:e})=>Object(f.jsx)(n.a.Fragment,null,Object(f.jsx)(Z,null,Object(f.jsx)(b.n,{description:d.i18n.translate("xpack.idxMgmt.mappingsEditor.point.ignoreMalformedFieldDescription",{defaultMessage:"By default, documents that contain malformed points are not indexed. If enabled, these documents are indexed, but fields with malformed points are filtered out. Be careful: if too many documents are indexed this way, queries on the field become meaningless."})})),Object(f.jsx)(ae,null,Object(f.jsx)(b.o,{description:d.i18n.translate("xpack.idxMgmt.mappingsEditor.point.ignoreZValueFieldDescription",{defaultMessage:"Three dimension points will be accepted, but only x and y values will be indexed; the third dimension is ignored."})}),Object(f.jsx)(b.v,{defaultToggleValue:U("null_value",e.source),description:d.i18n.translate("xpack.idxMgmt.mappingsEditor.point.nullValueFieldDescription",{defaultMessage:"Replace explicit null values with a point value so that it can be indexed and searched."})},Object(f.jsx)(l.t,{path:"null_value",component:l.p,config:Object(r.m)("null_value_point")})),Object(f.jsx)(b.s,{defaultToggleValue:U("meta",e.source)}))),version:({field:e})=>Object(f.jsx)(ae,null,Object(f.jsx)(b.s,{defaultToggleValue:q("meta",e.source)}))};var G=a(110);const $=({children:e,isMultiField:t})=>e||t?Object(f.jsx)("section",null,Object(f.jsx)(u.EuiText,{size:"s",color:"subdued"},e,t&&Object(f.jsx)("p",null,d.i18n.translate("xpack.idxMgmt.mappingsEditor.multiFieldIntroductionText",{defaultMessage:"This field is a multi-field. You can use multi-fields to index the same field in different ways."})))):null,H=n.a.memo((({defaultValue:e,isRootLevelField:t,isMultiField:a})=>Object(f.jsx)(n.a.Fragment,null,Object(f.jsx)(u.EuiFlexGroup,{gutterSize:"s"},Object(f.jsx)(u.EuiFlexItem,null,Object(f.jsx)(b.t,null)),Object(f.jsx)(u.EuiFlexItem,null,Object(f.jsx)(b.I,{isRootLevelField:t,isMultiField:a})),Object(f.jsx)(l.f,{pathsToWatch:"type"},(({type:i})=>{if(void 0===i)return null;const[n]=i;return Object(f.jsx)(b.F,{key:null==n?void 0:n.value,type:null==n?void 0:n.value,defaultValueType:e.type,isMultiField:a,isRootLevelField:t})}))),Object(f.jsx)(l.f,{pathsToWatch:["type","subType"]},(({type:e,subType:t})=>{var i,s,l,o;const r=((e,t)=>{if(!e)return;const a=g.o[e];return void 0!==a.subTypes?t?g.o[t]:void 0:a})(null===(i=e[0])||void 0===i?void 0:i.value,t&&(null===(s=t[0])||void 0===s?void 0:s.value)),c=null!==(l=null==r||null===(o=r.description)||void 0===o?void 0:o.call(r))&&void 0!==l?l:null;return Object(f.jsx)(n.a.Fragment,null,Object(f.jsx)(u.EuiSpacer,{size:"l"}),(null==r?void 0:r.isBeta)&&Object(f.jsx)(G.a,null),Object(f.jsx)(u.EuiSpacer,{size:"s"}),Object(f.jsx)($,{isMultiField:a},c))}))))),J=(e,t=18)=>e.length<=t?e:`...${e.substr(-1*t)}`,Y=({children:e})=>Object(f.jsx)(n.a.Fragment,null,e),K=n.a.memo((({form:e,field:t,allFields:a,exitEdit:i,updateField:s,kibanaVersion:o})=>{const{isMultiField:r}=t,c=Object(p.useFormIsModified)({form:e});return Object(f.jsx)(l.e,{form:e,FormWrapper:Y},Object(f.jsx)(u.EuiFlyoutHeader,null,Object(f.jsx)(u.EuiFlexGroup,{gutterSize:"xs"},Object(f.jsx)(u.EuiFlexItem,null,Object(f.jsx)("div",null,Object(f.jsx)(u.EuiTitle,{size:"m"},Object(f.jsx)("h2",{"data-test-subj":"flyoutTitle"},r?d.i18n.translate("xpack.idxMgmt.mappingsEditor.editMultiFieldTitle",{defaultMessage:"Edit multi-field ''{fieldName}''",values:{fieldName:J(t.source.name)}}):d.i18n.translate("xpack.idxMgmt.mappingsEditor.editFieldTitle",{defaultMessage:"Edit field ''{fieldName}''",values:{fieldName:J(t.source.name)}}))))),Object(f.jsx)(l.f,{pathsToWatch:["type","subType"]},(({type:e,subType:t})=>{var a,i,n,s;const l=m.a.getTypeDocLink(null==t||null===(a=t[0])||void 0===a?void 0:a.value)||m.a.getTypeDocLink(null==e||null===(i=e[0])||void 0===i?void 0:i.value);if(!l)return null;const o=g.o[null==e||null===(n=e[0])||void 0===n?void 0:n.value],r=g.o[null==t||null===(s=t[0])||void 0===s?void 0:s.value];return Object(f.jsx)(u.EuiFlexItem,{grow:!1},Object(f.jsx)(u.EuiButtonEmpty,{size:"s",flush:"right",href:l,target:"_blank",iconType:"help","data-test-subj":"documentationLink"},d.i18n.translate("xpack.idxMgmt.mappingsEditor.editField.typeDocumentation",{defaultMessage:"{type} documentation",values:{type:r?r.label:o.label}})))}))),Object(f.jsx)(u.EuiFlexGroup,null,Object(f.jsx)(u.EuiFlexItem,{grow:!1,"data-test-subj":"fieldPath"},Object(f.jsx)(x.a,{padding:"small"},t.path.join(" > "))))),Object(f.jsx)(u.EuiFlyoutBody,null,Object(f.jsx)(H,{defaultValue:t.source,isRootLevelField:void 0===t.parentId,isMultiField:r}),Object(f.jsx)(l.f,{pathsToWatch:["type","subType"]},(({type:e,subType:i})=>{var n,s;const l=((e,t)=>void 0===t?W[e]:W[t]||W[e])(null==e||null===(n=e[0])||void 0===n?void 0:n.value,null==i||null===(s=i[0])||void 0===s?void 0:s.value);return l?Object(f.jsx)(l,{key:null!=i?i:e,field:t,allFields:a,isMultiField:r,kibanaVersion:o}):null}))),Object(f.jsx)(u.EuiFlyoutFooter,null,e.isSubmitted&&!e.isValid&&Object(f.jsx)(n.a.Fragment,null,Object(f.jsx)(u.EuiCallOut,{title:d.i18n.translate("xpack.idxMgmt.mappingsEditor.editFieldFlyout.validationErrorTitle",{defaultMessage:"Fix errors in form before continuing."}),color:"danger",iconType:"cross","data-test-subj":"formError"}),Object(f.jsx)(u.EuiSpacer,{size:"m"})),Object(f.jsx)(u.EuiFlexGroup,{justifyContent:"flexEnd",alignItems:"center"},c&&Object(f.jsx)(n.a.Fragment,null,Object(f.jsx)(u.EuiFlexItem,null,Object(f.jsx)(u.EuiText,{size:"s"},Object(f.jsx)("p",null,Object(f.jsx)(u.EuiToolTip,{content:d.i18n.translate("xpack.idxMgmt.mappingsEditor.editFieldFlyout.formCompletionTooltip",{defaultMessage:"Default settings are applied to the settings that you haven't changed."}),position:"top"},Object(f.jsx)("span",null,Object(f.jsx)(u.EuiTextColor,{color:"subdued"},d.i18n.translate("xpack.idxMgmt.mappingsEditor.editFieldFlyout.formCompletionGuide",{defaultMessage:"Review all settings before updating "})),Object(f.jsx)(u.EuiIcon,{type:"questionInCircle"}))))))),Object(f.jsx)(u.EuiFlexItem,{grow:!1},Object(f.jsx)(u.EuiButtonEmpty,{onClick:i},d.i18n.translate("xpack.idxMgmt.mappingsEditor.editFieldCancelButtonLabel",{defaultMessage:"Cancel"}))),Object(f.jsx)(u.EuiFlexItem,{grow:!1},Object(f.jsx)(u.EuiButton,{fill:!0,onClick:async()=>{const{isValid:a,data:i}=await e.submit();a&&s({...t,source:i})},type:"submit",disabled:e.isSubmitted&&!e.isValid||!c,"data-test-subj":"editFieldUpdateButton"},d.i18n.translate("xpack.idxMgmt.mappingsEditor.editFieldUpdateButtonLabel",{defaultMessage:"Update"}))))))})),X={"data-test-subj":"mappingsEditorFieldEdit","aria-labelledby":"mappingsEditorFieldEditTitle",className:"mappingsEditor__editField",maxWidth:720},Q=n.a.memo((({exitEdit:e})=>{const{fields:t,documentFields:a}=Object(o.c)(),u=Object(o.b)(),{updateField:p,modal:m}=(()=>{const[e,t]=Object(i.useState)({isModalOpen:!1}),a=Object(o.b)(),{fields:n}=Object(o.c)(),{byId:s,aliases:l}=n,c=d.i18n.translate("xpack.idxMgmt.mappingsEditor.updateField.confirmationModal.confirmDescription",{defaultMessage:"Confirm type change"});let u="";if(e.field){const{source:t}=e.field;u=d.i18n.translate("xpack.idxMgmt.mappingsEditor.updateField.confirmationModal.title",{defaultMessage:"Confirm change ''{fieldName}'' type to ''{fieldType}''.",values:{fieldName:t.name,fieldType:t.type}})}const p=()=>{t({isModalOpen:!1})};return{updateField:Object(i.useCallback)((e=>{const i=s[e.id];if(e.source.type!==i.source.type){const a=l[e.id]||[],o=Object(r.k)(e,n),c=a&&Boolean(a.length),d=!g.k.path.targetTypesNotAllowed.includes(e.source.type);let u,p=[];if(c&&!d?(p=o,u=!0):(u=((t,a)=>{const{hasChildFields:i,hasMultiFields:n}=e;return!(!i&&!n)&&Object(r.w)(t,a)})(i.source.type,e.source.type),u&&(p=o.filter((e=>!1===a.includes(e))))),u)return void t({isModalOpen:!0,field:e,aliases:Boolean(p.length)?p.map((e=>s[e].path.join(" > "))).sort():void 0})}a({type:"field.edit",value:e.source})}),[a,l,n,s]),modal:{isOpen:e.isModalOpen,props:{childFields:e.field&&e.field.childFields,title:u,aliases:e.aliases,byId:s,confirmButtonText:c,onConfirm:()=>{a({type:"field.edit",value:e.field.source}),p()},onCancel:p}}}})(),{services:{kibanaVersion:x}}=Object(s.c)(),{status:b,fieldToEdit:j}=a,h="editingField"===b,O=t.byId[j],M=Object(i.useMemo)((()=>({...null==O?void 0:O.source})),[null==O?void 0:O.source]),{form:y}=Object(l.z)({defaultValue:M,serializer:r.g,deserializer:r.f,options:{stripEmptyFields:!1},id:"edit-field"}),{subscribe:v}=y;return Object(i.useEffect)((()=>v((e=>{u({type:"fieldForm.update",value:e})})).unsubscribe),[v,u]),h?Object(f.jsx)(n.a.Fragment,null,Object(f.jsx)(K,{form:y,field:O,allFields:t.byId,exitEdit:e,updateField:p,kibanaVersion:x.get()}),m.isOpen?Object(f.jsx)(c.a,m.props):null):null})),Z=({children:e})=>Object(f.jsx)("section",null,Object(f.jsx)(u.EuiSpacer,{size:"l"}),e);var ee=a(50);const te=n.a.memo((({title:e,description:t,docLink:a,defaultToggleValue:n,formFieldPath:s,children:o,withToggle:c=!0,configPath:d,"data-test-subj":p})=>{const m=Object(l.A)(),g=!1===c||(void 0!==n?n:void 0!==s&&Object(r.m)(d||s).defaultValue),[x,b]=Object(i.useState)(g),j="function"==typeof o,h=()=>{!0===x&&m.reset({resetValues:!1}),b(!x)},O=()=>{const i=c&&Object(f.jsx)(u.EuiFlexItem,{grow:!1,className:"mappingsEditor__editFieldFormRow__toggle"},void 0===s?Object(f.jsx)(u.EuiSwitch,{label:e,checked:x,onChange:h,"data-test-subj":"formRowToggle",showLabel:!1}):Object(f.jsx)(l.t,{path:s,config:{...Object(r.m)(d||s),defaultValue:g}},(t=>Object(f.jsx)(l.r,{field:t,"data-test-subj":"abc",euiFieldProps:{label:e,showLabel:!1,"data-test-subj":"formRowToggle"}})))),n=Object(f.jsx)(u.EuiTitle,{size:"xs"},Object(f.jsx)("h3",null,e)),m=t&&Object(f.jsx)(u.EuiText,{size:"s",color:"subdued",className:"mappingsEditor__editField__formRow__description"},t),b=(n||m)&&Object(f.jsx)("div",{style:{paddingLeft:!1===c?"0":void 0}},Object(f.jsx)(u.EuiFlexGroup,{alignItems:"center",justifyContent:"spaceBetween"},Object(f.jsx)(u.EuiFlexItem,null,n),a?Object(f.jsx)(u.EuiFlexItem,{grow:!1},Object(f.jsx)(u.EuiToolTip,{content:a.text},Object(f.jsx)(u.EuiButtonIcon,{href:a.href,target:"_blank",iconType:"help","aria-label":a.text}))):null),m),O=(x&&void 0!==o||j)&&Object(f.jsx)("div",{style:{paddingLeft:!1===c?"0":void 0}},Object(f.jsx)(u.EuiSpacer,{size:"m"}),j?o(x):o);return Object(f.jsx)(u.EuiFlexGroup,{className:"mappingsEditor__editField__formRow","data-test-subj":p},i,Object(f.jsx)(u.EuiFlexItem,null,Object(f.jsx)("div",null,b,O)))};return s?Object(f.jsx)(l.f,{pathsToWatch:s},(e=>(b(Object(ee.get)(e,s)),O()))):O()})),ae=({children:e})=>{const[t,a]=Object(i.useState)(!1);return Object(f.jsx)("div",{className:"mappingsEditor__editField__advancedSettings"},Object(f.jsx)(u.EuiHorizontalRule,null),Object(f.jsx)(u.EuiButtonEmpty,{onClick:()=>{a(!t)},flush:"left","data-test-subj":"toggleAdvancedSetting"},t?d.i18n.translate("xpack.idxMgmt.mappingsEditor.advancedSettings.hideButtonLabel",{defaultMessage:"Hide advanced settings"}):d.i18n.translate("xpack.idxMgmt.mappingsEditor.advancedSettings.showButtonLabel",{defaultMessage:"Show advanced settings"})),Object(f.jsx)("div",{style:{display:t?"block":"none"},"data-test-subj":"advancedSettings"},Object(f.jsx)(u.EuiSpacer,{size:"m"}),Object(f.jsx)("div",null,e)))}},function(e,t,a){"use strict";a.d(t,"k",(function(){return i.q})),a.d(t,"n",(function(){return i.t})),a.d(t,"c",(function(){return i.b})),a.d(t,"e",(function(){return i.g})),a.d(t,"l",(function(){return i.r})),a.d(t,"m",(function(){return i.s})),a.d(t,"g",(function(){return i.j})),a.d(t,"h",(function(){return i.k})),a.d(t,"b",(function(){return i.a})),a.d(t,"q",(function(){return i.x})),a.d(t,"r",(function(){return i.A})),a.d(t,"o",(function(){return i.w})),a.d(t,"v",(function(){return i.K})),a.d(t,"i",(function(){return i.o})),a.d(t,"s",(function(){return i.F})),a.d(t,"j",(function(){return i.p})),a.d(t,"t",(function(){return i.G})),a.d(t,"d",(function(){return i.d})),a.d(t,"u",(function(){return i.J})),a.d(t,"p",(function(){return r})),a.d(t,"a",(function(){return c.a})),a.d(t,"f",(function(){return d.a}));var i=a(71),n=a(50);const s={kb:1,mb:2,gb:3,tb:4,pb:5},l=e=>t=>Number(t[e]),o=e=>t=>{const a=String(t[e]);if(!a)return 0;const i=a.match(/(.*)([kmgtp]b)/);if(!i)return 0;const[,n,l]=i;return+n*Math.pow(1024,s[l])},r=(e=[],t,a,i)=>{const s=(e=>{var t;const a={primary:l("primary"),replica:l("replica"),documents:l("documents"),size:o("size"),primary_size:o("primary_size")},i=null!==(t=null==e?void 0:e.columns)&&void 0!==t?t:[];for(const e of i)e.sort&&(a[e.fieldName]=e.sort);return a})(i);let r=s[t];r||(r=e=>Object(n.get)(e,t));const c=Object(n.sortBy)(e,r);return a?c:c.reverse()};var c=a(98),d=(a(85),a(79),a(70))},function(e,t,a){"use strict";a.d(t,"a",(function(){return p})),a.d(t,"c",(function(){return m})),a.d(t,"b",(function(){return g}));var i=a(5),n=a(74),s=a(69);const l=(e,{aliases:t},a)=>{const i={...t};a&&i[a]&&(i[a]=i[a].filter((t=>t!==e.id)));const n=e.source.path;return i[n]||(i[n]=[]),i[n]=[...i[n],e.id],i},o=(e,t)=>{let{rootLevelFields:a}=t;const i={...t.byId},{parentId:n}=i[e];if(delete i[e],n){const t=i[n];if(t){const a=t.childFields.filter((t=>t!==e));i[n]={...t,childFields:a,hasChildFields:t.canHaveChildFields&&Boolean(a.length),hasMultiFields:t.canHaveMultiFields&&Boolean(a.length),isExpanded:!(!t.hasChildFields&&!t.hasMultiFields)&&t.isExpanded}}}else a=a.filter((t=>t!==e));let s={...t,rootLevelFields:a,byId:i};if(s.aliases[e]){s=s.aliases[e].reduce(((e,t)=>o(t,e)),s);const t={...s.aliases};return delete t[e],{...s,aliases:t}}return s},r=(e,t)=>{switch(t.type){case"editor.replaceMappings":return{...e,fieldForm:void 0,fields:t.value.fields,configuration:{...e.configuration,data:{internal:t.value.configuration,format:()=>t.value.configuration},defaultValue:t.value.configuration},templates:{...e.templates,data:{internal:t.value.templates,format:()=>t.value.templates},defaultValue:t.value.templates},documentFields:{...e.documentFields,...t.value.documentFields,fieldToAddFieldTo:void 0,fieldToEdit:void 0},runtimeFields:t.value.runtimeFields,runtimeFieldsList:{status:"idle"},search:{term:"",result:[]},filter:{filteredFields:t.value.filter.filteredFields,selectedOptions:t.value.filter.selectedOptions,selectedDataTypes:t.value.filter.selectedDataTypes}};case"editor.replaceViewMappings":return{...e,mappingViewFields:t.value.fields};case"configuration.update":{const a={...e,configuration:{...e.configuration,...t.value}};return a.isValid=t.value.isValid,a}case"configuration.save":return{...e,configuration:{isValid:!0,defaultValue:t.value,data:{internal:t.value,format:()=>t.value},validate:async()=>!0}};case"templates.update":{const a={...e,templates:{...e.templates,...t.value}};return a.isValid=t.value.isValid,a}case"templates.save":return{...e,templates:{isValid:!0,defaultValue:t.value,data:{internal:t.value,format:()=>t.value},validate:async()=>!0}};case"fieldForm.update":{const a={...e,fieldForm:t.value};return a.isValid=t.value.isValid,a}case"documentField.createField":return{...e,documentFields:{...e.documentFields,fieldToAddFieldTo:t.value,status:"creatingField"}};case"documentField.editField":return{...e,documentFields:{...e.documentFields,status:"editingField",fieldToEdit:t.value}};case"documentField.changeStatus":const a="idle"===t.value?e.configuration.isValid:e.isValid;return{...e,isValid:a,fieldForm:void 0,documentFields:{...e.documentFields,status:t.value,fieldToAddFieldTo:void 0,fieldToEdit:void 0}};case"documentField.changeEditor":{const a="default"===t.value?Object(s.t)(e.fieldsJsonEditor.format()):e.fields;return{...e,fields:a,fieldForm:void 0,documentFields:{...e.documentFields,status:"idle",fieldToAddFieldTo:void 0,fieldToEdit:void 0,editor:t.value}}}case"field.add":return((e,t)=>{const a={...t.fields},i=Object(s.s)(),{fieldToAddFieldTo:n}=t.documentFields,o=void 0===n,r=o?void 0:a.byId[n],c=!!r&&r.canHaveMultiFields;a.byId={...a.byId},a.rootLevelFields=o?[...a.rootLevelFields,i]:a.rootLevelFields;const d=r&&(r.canHaveChildFields||r.canHaveMultiFields)?r.nestedDepth+1:0;a.maxNestedDepth=Math.max(a.maxNestedDepth,d);const{name:u}=e,p={id:i,parentId:n,isMultiField:c,source:e,path:r?[...r.path,u]:[u],nestedDepth:d,...Object(s.n)(e,c)};if(a.byId[i]=p,r){const e=r.childFields||[];a.byId[n]={...r,childFields:[...e,i],hasChildFields:r.canHaveChildFields,hasMultiFields:r.canHaveMultiFields,isExpanded:!0}}return"alias"===p.source.type&&(a.aliases=l(p,a)),{...t,isValid:!0,fields:a}})(t.value,e);case"field.remove":{const a=e.fields.byId[t.value],{id:i,hasChildFields:n,hasMultiFields:l}=a;let r=o(i,e.fields);if((n||l)&&Object(s.j)(a,e.fields.byId).forEach((e=>{r=o(e.id,r)})),"alias"===a.source.type&&a.source.path){const e=a.source.path;r.aliases={...r.aliases,[e]:r.aliases[e].filter((e=>e!==i))}}return r.maxNestedDepth=Object(s.q)(r.byId),{...e,fields:r,documentFields:{...e.documentFields,status:0===r.rootLevelFields.length?"creatingField":"idle"},search:Boolean(e.search.term)?{...e.search,result:Object(s.v)(e.search.term,r.byId)}:e.search}}case"field.edit":{let a={...e.fields};const i=e.documentFields.fieldToEdit,r=a.byId[i];let c={...r,source:t.value};"alias"===c.source.type&&(a.aliases=l(c,a,r.source.path));const d=c.source.name!==r.source.name,u=c.source.type!==r.source.type;if(d){const{updatedFieldPath:e,updatedById:t}=Object(s.y)(c,a.byId);c.path=e,a.byId=t}if(a.byId[i]=c,u){const e=Object(s.w)(r.source.type,c.source.type);"alias"===r.source.type&&r.source.path?a.aliases={...a.aliases,[r.source.path]:a.aliases[r.source.path].filter((e=>e!==i))}:n.k.path.targetTypesNotAllowed.includes(c.source.type)&&a.aliases[i]&&(a.aliases[i].forEach((e=>{a=o(e,a)})),delete a.aliases[i]),e&&r.childFields&&Object(s.j)(r,a.byId).forEach((e=>{a=o(e.id,a)})),c={...c,...Object(s.n)(t.value,c.isMultiField),childFields:e?void 0:r.childFields,hasChildFields:!e&&r.hasChildFields,hasMultiFields:!e&&r.hasMultiFields,isExpanded:!e&&r.isExpanded},a.byId[i]=c}return a.maxNestedDepth=Object(s.q)(a.byId),{...e,isValid:!0,fieldForm:void 0,fields:a,documentFields:{...e.documentFields,fieldToEdit:void 0,status:"idle"},search:Boolean(e.search.term)?{...e.search,result:Object(s.v)(e.search.term,a.byId)}:e.search}}case"field.toggleExpand":{const{fieldId:a,isExpanded:i}=t.value,n=e.fields.byId[a],s={...n,isExpanded:void 0===i?!n.isExpanded:i};return{...e,fields:{...e.fields,byId:{...e.fields.byId,[a]:s}}}}case"runtimeFieldsList.createField":return{...e,runtimeFieldsList:{...e.runtimeFieldsList,status:"creatingField"}};case"runtimeFieldsList.editField":return{...e,runtimeFieldsList:{...e.runtimeFieldsList,status:"editingField",fieldToEdit:t.value}};case"runtimeField.add":{const a=Object(s.s)(),i={id:a,source:t.value};return{...e,runtimeFields:{...e.runtimeFields,[a]:i},runtimeFieldsList:{...e.runtimeFieldsList,status:"idle"}}}case"runtimeField.edit":{const a=e.runtimeFieldsList.fieldToEdit;return{...e,runtimeFields:{...e.runtimeFields,[a]:t.value},runtimeFieldsList:{...e.runtimeFieldsList,status:"idle"}}}case"runtimeField.remove":{const a=e.runtimeFields[t.value],{id:i}=a,n={...e.runtimeFields};return delete n[i],{...e,runtimeFields:n}}case"runtimeFieldsList.closeRuntimeFieldEditor":return{...e,runtimeFieldsList:{...e.runtimeFieldsList,status:"idle",fieldToEdit:void 0}};case"fieldsJsonEditor.update":{const a={...e,fieldsJsonEditor:{format:()=>t.value.json,isValid:t.value.isValid}};return a.isValid=t.value.isValid,a}case"search:update":return{...e,search:{term:t.value,result:Object(s.v)(t.value,e.filter.selectedDataTypes.length>0?Object(s.p)(e,e.filter.selectedDataTypes):e.fields.byId)}};case"validity:update":return{...e,isValid:t.value};case"filter:update":{const a=t.value.selectedOptions.filter((e=>"on"===e.checked)).map((e=>e.label));return{...e,filter:{filteredFields:Object(s.o)(e.fields,a.length>0?a:void 0),selectedOptions:t.value.selectedOptions,selectedDataTypes:a}}}case"inferenceToModelIdMap.update":return{...e,inferenceToModelIdMap:t.value.inferenceToModelIdMap}}};var c=a(2);const d=Object(i.createContext)(void 0),u=Object(i.createContext)(void 0),p=({children:e})=>{const t={isValid:!0,configuration:{defaultValue:{},data:{internal:{},format:()=>({})},validate:()=>Promise.resolve(!0)},templates:{defaultValue:{},data:{internal:{},format:()=>({})},validate:()=>Promise.resolve(!0)},fields:{byId:{},rootLevelFields:[],aliases:{},maxNestedDepth:0},documentFields:{status:"idle",editor:"default"},runtimeFields:{},runtimeFieldsList:{status:"idle"},fieldsJsonEditor:{format:()=>({}),isValid:!0},search:{term:"",result:[]},filter:{filteredFields:[],selectedOptions:[],selectedDataTypes:[]},inferenceToModelIdMap:{},mappingViewFields:{byId:{},rootLevelFields:[],aliases:{},maxNestedDepth:0}},[a,n]=Object(i.useReducer)(r,t);return Object(c.jsx)(d.Provider,{value:a},Object(c.jsx)(u.Provider,{value:n},e))},m=()=>{const e=Object(i.useContext)(d);if(void 0===e)throw new Error("useMappingsState must be used within a <MappingsState>");return e},g=()=>{const e=Object(i.useContext)(u);if(void 0===e)throw new Error("useDispatch must be used within a <MappingsState>");return e}},function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var i=a(1),n=a.n(i);const s=new class NotificationService{constructor(){n()(this,"_toasts",void 0),n()(this,"addToasts",((e,t,a)=>{this._toasts.add({title:e,color:t,text:a})}))}setup(e){this._toasts=e.toasts}get toasts(){return this._toasts}showDangerToast(e,t){this.addToasts(e,"danger",t)}showWarningToast(e,t){this.addToasts(e,"warning",t)}showSuccessToast(e,t){this.addToasts(e,"success",t)}}},function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"c",(function(){return d})),a.d(t,"b",(function(){return u}));var i=a(5),n=a(52),s=a(86),l=a(81),o=a(2);const r=Object(i.createContext)(void 0),c=({children:e,value:t})=>{const{httpClient:a,apiBasePath:i,trackMetric:c,docLinks:d,toasts:u,getUrlForApp:p,executionContext:m,startServices:g}=t,x=(e=>t=>Object(l.H)(e,t))(a),b=(e=>t=>Object(l.A)(e,t))(a),f=((e,t,a,i)=>({useLoadComponentTemplates:function(){return e({path:`${a}/component_templates`,method:"get"})},deleteComponentTemplates:function(e){const l=t({path:`${a}/component_templates/${e.map((e=>encodeURIComponent(e))).join(",")}`,method:"delete"});return i(n.METRIC_TYPE.COUNT,e.length>1?s.e:s.d),l},useLoadComponentTemplate:function(t){return e({path:`${a}/component_templates/${encodeURIComponent(t)}`,method:"get"})},createComponentTemplate:async function(e){const l=await t({path:`${a}/component_templates`,method:"post",body:JSON.stringify(e)});return i(n.METRIC_TYPE.COUNT,s.c),l},updateComponentTemplate:async function(e){const{name:l}=e,o=await t({path:`${a}/component_templates/${encodeURIComponent(l)}`,method:"put",body:JSON.stringify(e)});return i(n.METRIC_TYPE.COUNT,s.h),o},useLoadComponentTemplatesDatastream:function(t){return e({path:`${a}/component_templates/${encodeURIComponent(t)}/datastreams`,method:"get"})},getComponentTemplateDatastreams:async function(e){return t({path:`${a}/component_templates/${encodeURIComponent(e)}/datastreams`,method:"get"})},postDataStreamRollover:async function(e){return t({path:`${a}/data_streams/${encodeURIComponent(e)}/rollover`,method:"post"})},postDataStreamMappingsFromTemplate:async function(e){return t({path:`${a}/data_streams/${encodeURIComponent(e)}/mappings_from_template`,method:"post"})}}))(x,b,i,c),j=(({links:e})=>({esDocsBase:e.elasticsearch.docsBase,componentTemplates:e.apis.putComponentTemplate,componentTemplatesMetadata:e.apis.putComponentTemplateMetadata}))(d);return Object(o.jsx)(r.Provider,{value:{api:f,documentation:j,trackMetric:c,toasts:u,httpClient:a,apiBasePath:i,getUrlForApp:p,executionContext:m,startServices:g}},e)},d=()=>{const e=Object(i.useContext)(r);if(!e)throw new Error('"useComponentTemplatesContext" can only be called inside of ComponentTemplatesProvider!');return e},u=()=>d().api},function(e,t,a){"use strict";var i=a(4);a.d(t,"A",(function(){return i.sendRequest})),a.d(t,"H",(function(){return i.useRequest})),a.d(t,"t",(function(){return i.WithPrivileges})),a.d(t,"a",(function(){return i.AuthorizationProvider})),a.d(t,"l",(function(){return i.SectionError})),a.d(t,"m",(function(){return i.SectionLoading})),a.d(t,"k",(function(){return i.PageLoading})),a.d(t,"j",(function(){return i.PageError})),a.d(t,"D",(function(){return i.useAuthorizationContext})),a.d(t,"h",(function(){return i.NotAuthorizedSection})),a.d(t,"e",(function(){return i.Forms})),a.d(t,"f",(function(){return i.GlobalFlyout})),a.d(t,"u",(function(){return i.attemptToURIDecode}));var n=a(13);a.d(t,"C",(function(){return n.serializers})),a.d(t,"w",(function(){return n.fieldValidators})),a.d(t,"v",(function(){return n.fieldFormatters}));var s=a(6);a.d(t,"b",(function(){return s.FIELD_TYPES})),a.d(t,"F",(function(){return s.useForm})),a.d(t,"d",(function(){return s.Form})),a.d(t,"y",(function(){return s.getUseField})),a.d(t,"G",(function(){return s.useFormData}));var l=a(7);a.d(t,"x",(function(){return l.getFormRow})),a.d(t,"c",(function(){return l.Field})),a.d(t,"g",(function(){return l.JsonEditorField})),a.d(t,"i",(function(){return l.NumericField})),a(25);var o=a(83);a.d(t,"r",(function(){return o.e})),a.d(t,"s",(function(){return o.f})),a.d(t,"q",(function(){return o.d})),a.d(t,"p",(function(){return o.c})),a.d(t,"o",(function(){return o.b})),a.d(t,"n",(function(){return o.a}));var r=a(17);a.d(t,"B",(function(){return r.d}));var c=a(12);a.d(t,"z",(function(){return c.reactRouterNavigate})),a.d(t,"E",(function(){return c.useExecutionContext}))},function(e,t,a){"use strict";t.__esModule=!0;var i=c(a(168));t.combineActions=i.default;var n=c(a(101));t.createAction=n.default;var s=c(a(171));t.createActions=s.default;var l=c(a(180));t.createCurriedAction=l.default;var o=c(a(121));t.handleAction=o.default;var r=c(a(183));function c(e){return e&&e.__esModule?e:{default:e}}t.handleActions=r.default},function(e,t,a){"use strict";a.d(t,"d",(function(){return r})),a.d(t,"e",(function(){return c})),a.d(t,"f",(function(){return d})),a.d(t,"a",(function(){return f})),a.d(t,"b",(function(){return y})),a.d(t,"c",(function(){return E})),a.d(t,"g",(function(){return T})),a.d(t,"h",(function(){return _})),a.d(t,"i",(function(){return C.b}));var i=a(5),n=a.n(i),s=a(49),l=a(9),o=a(2);const r=({aliases:e})=>e&&Object.keys(e).length?Object(o.jsx)("div",{"data-test-subj":"aliasesTabContent"},Object(o.jsx)(l.EuiCodeBlock,{isCopyable:!0,language:"json"},JSON.stringify(e,null,2))):Object(o.jsx)(l.EuiCallOut,{title:Object(o.jsx)(s.FormattedMessage,{id:"xpack.idxMgmt.aliasesTab.noAliasesTitle",defaultMessage:"No aliases defined."}),iconType:"pin","data-test-subj":"noAliasesCallout",size:"s"}),c=({mappings:e})=>e&&Object.keys(e).length?Object(o.jsx)("div",{"data-test-subj":"mappingsTabContent"},Object(o.jsx)(l.EuiCodeBlock,{isCopyable:!0,language:"json"},JSON.stringify(e,null,2))):Object(o.jsx)(l.EuiCallOut,{title:Object(o.jsx)(s.FormattedMessage,{id:"xpack.idxMgmt.mappingsTab.noMappingsTitle",defaultMessage:"No mappings defined."}),iconType:"pin","data-test-subj":"noMappingsCallout",size:"s"}),d=({settings:e})=>e&&Object.keys(e).length?Object(o.jsx)("div",{"data-test-subj":"settingsTabContent"},Object(o.jsx)(l.EuiCodeBlock,{isCopyable:!0,language:"json"},JSON.stringify(e,null,2))):Object(o.jsx)(l.EuiCallOut,{title:Object(o.jsx)(s.FormattedMessage,{id:"xpack.idxMgmt.settingsTab.noIndexSettingsTitle",defaultMessage:"No settings defined."}),iconType:"pin","data-test-subj":"noSettingsCallout",size:"s"});var u=a(20),p=a(8),m=a(55);const g=({defaultValue:e,onChange:t})=>{const[a,n]=Object(i.useState)((s=null!=e?e:{},Object.keys(s).length?JSON.stringify(s,null,2):"{\n\n}"));var s;const[l,o]=Object(i.useState)(null),r=Object(i.useCallback)((()=>{const e=""===a.trim()||Object(u.E)(a);return o(e?null:p.i18n.translate("xpack.idxMgmt.validators.string.invalidJSONError",{defaultMessage:"Invalid JSON format."})),e}),[a]);return Object(i.useEffect)((()=>{const e=r();t({isValid:e,validate:async()=>e,getData:()=>{const t=e&&""!==a.trim()?JSON.parse(a):{};return Object.keys(t).length>0?t:void 0}})}),[a,t,r]),{jsonContent:a,setJsonContent:n,error:l}};var x=a(68);const b=n.a.memo((({defaultValue:e={},onChange:t,esDocsBase:a})=>{const{jsonContent:i,setJsonContent:n,error:r}=g({defaultValue:e,onChange:t});return Object(o.jsx)("div",{"data-test-subj":"stepAliases"},Object(o.jsx)(l.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(o.jsx)(l.EuiFlexItem,{grow:!1},Object(o.jsx)(l.EuiTitle,null,Object(o.jsx)("h2",{"data-test-subj":"stepTitle"},Object(o.jsx)(s.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepAliases.stepTitle",defaultMessage:"Aliases (optional)"}))),Object(o.jsx)(l.EuiSpacer,{size:"s"}),Object(o.jsx)(l.EuiText,null,Object(o.jsx)("p",null,Object(o.jsx)(s.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepAliases.aliasesDescription",defaultMessage:"Set up aliases to associate with your indices."})))),Object(o.jsx)(l.EuiFlexItem,{grow:!1},Object(o.jsx)(l.EuiButtonEmpty,{size:"s",flush:"right",href:x.v.getBulkIndexAlias(),target:"_blank",iconType:"help"},Object(o.jsx)(s.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepAliases.docsButtonLabel",defaultMessage:"Index Aliases docs"})))),Object(o.jsx)(l.EuiSpacer,{size:"l"}),Object(o.jsx)(l.EuiFormRow,{label:Object(o.jsx)(s.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepAliases.fieldAliasesLabel",defaultMessage:"Aliases"}),helpText:Object(o.jsx)(s.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepAliases.aliasesEditorHelpText",defaultMessage:"Use JSON format: {code}",values:{code:Object(o.jsx)(l.EuiCode,null,JSON.stringify({my_alias:{}}))}}),isInvalid:Boolean(r),error:r,fullWidth:!0},Object(o.jsx)(m.CodeEditor,{languageId:"json",value:i,"data-test-subj":"aliasesEditor",height:500,options:{lineNumbers:"off",tabSize:2,automaticLayout:!0},"aria-label":p.i18n.translate("xpack.idxMgmt.formWizard.stepAliases.fieldAliasesAriaLabel",{defaultMessage:"Aliases code editor"}),onChange:n})))})),f=({esDocsBase:e})=>{const{defaultValue:t,updateContent:a}=u.g.useContent("aliases");return Object(o.jsx)(b,{defaultValue:t,onChange:a,esDocsBase:e})};var j=a(77),h=a(72),O=a(106);const M=n.a.memo((({defaultValue:e={},onChange:t,indexSettings:a,esDocsBase:n,esNodesPlugins:r})=>{const[c,d]=Object(i.useState)(e),{docLinks:u}=Object(h.d)(),p=Object(i.useCallback)((({isValid:e,getData:a,validate:i})=>{t({isValid:e,validate:async()=>void 0===e?await i():e,getData:a})}),[t]);return Object(o.jsx)("div",{"data-test-subj":"stepMappings"},Object(o.jsx)(l.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(o.jsx)(l.EuiFlexItem,{grow:!1},Object(o.jsx)(l.EuiTitle,null,Object(o.jsx)("h2",{"data-test-subj":"stepTitle"},Object(o.jsx)(s.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepMappings.stepTitle",defaultMessage:"Mappings (optional)"}))),Object(o.jsx)(l.EuiSpacer,{size:"s"}),Object(o.jsx)(l.EuiText,null,Object(o.jsx)("p",null,Object(o.jsx)(s.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepMappings.mappingsDescription",defaultMessage:"Define how to store and index documents."})))),Object(o.jsx)(l.EuiFlexItem,{grow:!1},Object(o.jsx)(l.EuiFlexGroup,{gutterSize:"s"},Object(o.jsx)(l.EuiFlexItem,{grow:!1},Object(o.jsx)(O.a,{onJson:e=>{d(e)},esNodesPlugins:r})),Object(o.jsx)(l.EuiFlexItem,{grow:!1},Object(o.jsx)(l.EuiButtonEmpty,{size:"s",flush:"right",href:x.v.getMappingDocumentationLink(),target:"_blank",iconType:"help"},Object(o.jsx)(s.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepMappings.docsButtonLabel",defaultMessage:"Mapping docs"})))))),Object(o.jsx)(l.EuiSpacer,{size:"s"}),Object(o.jsx)(O.b,{value:c,onChange:p,indexSettings:a,docLinks:u,esNodesPlugins:r}),Object(o.jsx)(l.EuiSpacer,{size:"m"}))})),y=({esDocsBase:e})=>{const{defaultValue:t,updateContent:a,getSingleContentData:i}=u.g.useContent("mappings"),{data:n}=Object(j.v)();return Object(o.jsx)(M,{defaultValue:t,onChange:a,indexSettings:i("settings"),esDocsBase:e,esNodesPlugins:null!=n?n:[]})},v=n.a.memo((({defaultValue:e={},onChange:t,esDocsBase:a})=>{const{jsonContent:i,setJsonContent:n,error:r}=g({defaultValue:e,onChange:t});return Object(o.jsx)("div",{"data-test-subj":"stepSettings"},Object(o.jsx)(l.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(o.jsx)(l.EuiFlexItem,{grow:!1},Object(o.jsx)(l.EuiTitle,null,Object(o.jsx)("h2",{"data-test-subj":"stepTitle"},Object(o.jsx)(s.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepSettings.stepTitle",defaultMessage:"Index settings (optional)"}))),Object(o.jsx)(l.EuiSpacer,{size:"s"}),Object(o.jsx)(l.EuiText,null,Object(o.jsx)("p",null,Object(o.jsx)(s.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepSettings.settingsDescription",defaultMessage:"Define the behavior of your indices."})))),Object(o.jsx)(l.EuiFlexItem,{grow:!1},Object(o.jsx)(l.EuiButtonEmpty,{size:"s",flush:"right",href:x.v.getSettingsDocumentationLink(),target:"_blank",iconType:"help"},Object(o.jsx)(s.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepSettings.docsButtonLabel",defaultMessage:"Index settings docs"})))),Object(o.jsx)(l.EuiSpacer,{size:"l"}),Object(o.jsx)(l.EuiFormRow,{label:Object(o.jsx)(s.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepSettings.fieldIndexSettingsLabel",defaultMessage:"Index settings"}),helpText:Object(o.jsx)(s.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepSettings.settingsEditorHelpText",defaultMessage:"Use JSON format: {code}",values:{code:Object(o.jsx)(l.EuiCode,null,JSON.stringify({number_of_replicas:1}))}}),isInvalid:Boolean(r),error:r,fullWidth:!0},Object(o.jsx)(m.CodeEditor,{languageId:"json",value:i,"data-test-subj":"settingsEditor",height:500,options:{lineNumbers:"off",tabSize:2,automaticLayout:!0},"aria-label":p.i18n.translate("xpack.idxMgmt.formWizard.stepSettings.fieldIndexSettingsAriaLabel",{defaultMessage:"Index settings editor"}),onChange:n})))})),E=n.a.memo((({esDocsBase:e})=>{const{defaultValue:t,updateContent:a}=u.g.useContent("settings");return Object(o.jsx)(v,{defaultValue:t,onChange:a,esDocsBase:e})})),k={settings:p.i18n.translate("xpack.idxMgmt.templateContentIndicator.indexSettingsTooltipLabel",{defaultMessage:"Index settings"}),mappings:p.i18n.translate("xpack.idxMgmt.templateContentIndicator.mappingsTooltipLabel",{defaultMessage:"Mappings"}),aliases:p.i18n.translate("xpack.idxMgmt.templateContentIndicator.aliasesTooltipLabel",{defaultMessage:"Aliases"})},T=({mappings:e,settings:t,aliases:a,contentWhenEmpty:i=null})=>{const s=e=>e?"primary":"hollow";return e||t||a?Object(o.jsx)(n.a.Fragment,null,Object(o.jsx)(l.EuiToolTip,{content:k.mappings},Object(o.jsx)(n.a.Fragment,null,Object(o.jsx)(l.EuiBadge,{color:s(e)},"M")," ")),Object(o.jsx)(l.EuiToolTip,{content:k.settings},Object(o.jsx)(n.a.Fragment,null,Object(o.jsx)(l.EuiBadge,{color:s(t)},"S")," ")),Object(o.jsx)(l.EuiToolTip,{content:k.aliases},Object(o.jsx)(l.EuiBadge,{color:s(a)},"A"))):i};var F=a(21),S=a.n(F);const _=({path:e,disabled:t,options:a,euiFieldProps:n})=>{const[s,r]=Object(i.useState)(!1);return Object(o.jsx)(u.t,{key:e,path:e},(e=>{var i,c;return Object(o.jsx)(l.EuiPopover,S()({button:Object(o.jsx)(l.EuiButtonEmpty,{size:"xs",color:"text",iconSide:"right",iconType:"arrowDown",onClick:()=>r((e=>!e)),"data-test-subj":"show-filters-button",disabled:t},null!==(i=null===(c=a.find((t=>t.value===e.value)))||void 0===c?void 0:c.text)&&void 0!==i?i:`${e.value}`),ownFocus:!0,panelPaddingSize:"none",isOpen:s,closePopover:()=>r(!1)},n),a.map((t=>Object(o.jsx)(l.EuiFilterSelectItem,{key:t.value,checked:e.value===t.value?"on":void 0,onClick:()=>{return a=t.value,e.setValue(a),void r(!1);var a},"data-test-subj":`filter-option-${t.value}`},t.text))))}))};var C=a(95)},function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return o}));var i=a(1),n=a.n(i),s=a(8);let l=function(e){return e.home="home",e.indices="indices",e.indexDetails="indexDetails",e.dataStreams="dataStreams",e.templates="templates",e.templateCreate="templateCreate",e.templateEdit="templateEdit",e.templateClone="templateClone",e.componentTemplates="componentTemplates",e.componentTemplateCreate="componentTemplateCreate",e.componentTemplateEdit="componentTemplateEdit",e.componentTemplateClone="componentTemplateClone",e.enrichPolicies="enrichPolicies",e.enrichPoliciesCreate="enrichPoliciesCreate",e}({});const o=new class BreadcrumbService{constructor(){n()(this,"breadcrumbs",{home:[]}),n()(this,"setBreadcrumbsHandler",void 0)}setup(e){this.setBreadcrumbsHandler=e,this.breadcrumbs.home=[{text:s.i18n.translate("xpack.idxMgmt.breadcrumb.homeLabel",{defaultMessage:"Index Management"}),href:"/"}],this.breadcrumbs.indices=[...this.breadcrumbs.home,{text:s.i18n.translate("xpack.idxMgmt.breadcrumb.indicesLabel",{defaultMessage:"Indices"}),href:"/indices"}],this.breadcrumbs.indexDetails=[...this.breadcrumbs.indices,{text:s.i18n.translate("xpack.idxMgmt.breadcrumb.indexDetailsLabel",{defaultMessage:"Index details"})}],this.breadcrumbs.templates=[...this.breadcrumbs.home,{text:s.i18n.translate("xpack.idxMgmt.breadcrumb.templatesLabel",{defaultMessage:"Templates"}),href:"/templates"}],this.breadcrumbs.templateCreate=[...this.breadcrumbs.templates,{text:s.i18n.translate("xpack.idxMgmt.breadcrumb.createTemplateLabel",{defaultMessage:"Create template"})}],this.breadcrumbs.templateEdit=[...this.breadcrumbs.templates,{text:s.i18n.translate("xpack.idxMgmt.breadcrumb.editTemplateLabel",{defaultMessage:"Edit template"})}],this.breadcrumbs.templateClone=[...this.breadcrumbs.templates,{text:s.i18n.translate("xpack.idxMgmt.breadcrumb.cloneTemplateLabel",{defaultMessage:"Clone template"})}],this.breadcrumbs.dataStreams=[...this.breadcrumbs.home,{text:s.i18n.translate("xpack.idxMgmt.breadcrumb.dataStreamsLabel",{defaultMessage:"Data streams"}),href:"/data_streams"}],this.breadcrumbs.componentTemplates=[...this.breadcrumbs.home,{text:s.i18n.translate("xpack.idxMgmt.breadcrumb.componentTemplatesLabel",{defaultMessage:"Component templates"}),href:"/component_templates"}],this.breadcrumbs.componentTemplateCreate=[...this.breadcrumbs.componentTemplates,{text:s.i18n.translate("xpack.idxMgmt.breadcrumb.createComponentTemplateLabel",{defaultMessage:"Create component templates"})}],this.breadcrumbs.componentTemplateEdit=[...this.breadcrumbs.componentTemplates,{text:s.i18n.translate("xpack.idxMgmt.componentTemplate.breadcrumb.editComponentTemplateLabel",{defaultMessage:"Edit component template"})}],this.breadcrumbs.componentTemplateClone=[...this.breadcrumbs.componentTemplates,{text:s.i18n.translate("xpack.idxMgmt.componentTemplate.breadcrumb.cloneComponentTemplateLabel",{defaultMessage:"Clone component template"})}],this.breadcrumbs.enrichPolicies=[...this.breadcrumbs.home,{text:s.i18n.translate("xpack.idxMgmt.breadcrumb.enrichPolicyLabel",{defaultMessage:"Enrich policies"}),href:"/enrich_policies"}],this.breadcrumbs.enrichPoliciesCreate=[...this.breadcrumbs.enrichPolicies,{text:s.i18n.translate("xpack.idxMgmt.breadcrumb.enrichPolicyCreateLabel",{defaultMessage:"Create enrich policy"}),href:"/enrich_policies/create"}]}setBreadcrumbs(e,t){if(!this.setBreadcrumbsHandler)throw new Error("BreadcrumbService#setup() must be called first!");const a=this.breadcrumbs[e]?[...this.breadcrumbs[e]]:[...this.breadcrumbs.home];t&&a.push(t);const i=a.pop();a.push({...i,href:void 0}),this.setBreadcrumbsHandler(a)}}},function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var i=a(1),n=a.n(i);const s=new class HttpService{constructor(){n()(this,"client",void 0)}setup(e){this.client=e}get httpClient(){return this.client}}},function(e,t,a){"use strict";a.d(t,"g",(function(){return i})),a.d(t,"d",(function(){return n})),a.d(t,"e",(function(){return s})),a.d(t,"f",(function(){return l})),a.d(t,"c",(function(){return o})),a.d(t,"h",(function(){return r})),a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return d}));const i="component_template_list_load",n="component_template_delete",s="component_template_delete_many",l="component_template_details",o="component_template_create",r="component_template_update",c=["manage_index_templates"],d="fleet"},function(e,t,a){"use strict";const i=a(150),n=a(151),s=a(152);function l(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function o(e,t){return t.encode?t.strict?i(e):encodeURIComponent(e):e}function r(e,t){return t.decode?n(e):e}function c(e){return Array.isArray(e)?e.sort():"object"==typeof e?c(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function d(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function u(e){const t=(e=d(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function p(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function m(e,t){l((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const a=function(e){let t;switch(e.arrayFormat){case"index":return(e,a,i)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===i[e]&&(i[e]={}),i[e][t[1]]=a):i[e]=a};case"bracket":return(e,a,i)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==i[e]?i[e]=[].concat(i[e],a):i[e]=[a]:i[e]=a};case"comma":case"separator":return(t,a,i)=>{const n="string"==typeof a&&a.split("").indexOf(e.arrayFormatSeparator)>-1?a.split(e.arrayFormatSeparator).map((t=>r(t,e))):null===a?a:r(a,e);i[t]=n};default:return(e,t,a)=>{void 0!==a[e]?a[e]=[].concat(a[e],t):a[e]=t}}}(t),i=Object.create(null);if("string"!=typeof e)return i;if(!(e=e.trim().replace(/^[?#&]/,"")))return i;for(const n of e.split("&")){let[e,l]=s(t.decode?n.replace(/\+/g," "):n,"=");l=void 0===l?null:["comma","separator"].includes(t.arrayFormat)?l:r(l,t),a(r(e,t),l,i)}for(const e of Object.keys(i)){const a=i[e];if("object"==typeof a&&null!==a)for(const e of Object.keys(a))a[e]=p(a[e],t);else i[e]=p(a,t)}return!1===t.sort?i:(!0===t.sort?Object.keys(i).sort():Object.keys(i).sort(t.sort)).reduce(((e,t)=>{const a=i[t];return Boolean(a)&&"object"==typeof a&&!Array.isArray(a)?e[t]=c(a):e[t]=a,e}),Object.create(null))}t.extract=u,t.parse=m,t.stringify=(e,t)=>{if(!e)return"";l((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const a=a=>t.skipNull&&null==e[a]||t.skipEmptyString&&""===e[a],i=function(e){switch(e.arrayFormat){case"index":return t=>(a,i)=>{const n=a.length;return void 0===i||e.skipNull&&null===i||e.skipEmptyString&&""===i?a:null===i?[...a,[o(t,e),"[",n,"]"].join("")]:[...a,[o(t,e),"[",o(n,e),"]=",o(i,e)].join("")]};case"bracket":return t=>(a,i)=>void 0===i||e.skipNull&&null===i||e.skipEmptyString&&""===i?a:null===i?[...a,[o(t,e),"[]"].join("")]:[...a,[o(t,e),"[]=",o(i,e)].join("")];case"comma":case"separator":return t=>(a,i)=>null==i||0===i.length?a:0===a.length?[[o(t,e),"=",o(i,e)].join("")]:[[a,o(i,e)].join(e.arrayFormatSeparator)];default:return t=>(a,i)=>void 0===i||e.skipNull&&null===i||e.skipEmptyString&&""===i?a:null===i?[...a,o(t,e)]:[...a,[o(t,e),"=",o(i,e)].join("")]}}(t),n={};for(const t of Object.keys(e))a(t)||(n[t]=e[t]);const s=Object.keys(n);return!1!==t.sort&&s.sort(t.sort),s.map((a=>{const n=e[a];return void 0===n?"":null===n?o(a,t):Array.isArray(n)?n.reduce(i(a),[]).join("&"):o(a,t)+"="+o(n,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[a,i]=s(e,"#");return Object.assign({url:a.split("?")[0]||"",query:m(u(e),t)},t&&t.parseFragmentIdentifier&&i?{fragmentIdentifier:r(i,t)}:{})},t.stringifyUrl=(e,a)=>{a=Object.assign({encode:!0,strict:!0},a);const i=d(e.url).split("?")[0]||"",n=t.extract(e.url),s=t.parse(n,{sort:!1}),l=Object.assign(s,e.query);let r=t.stringify(l,a);r&&(r=`?${r}`);let c=function(e){let t="";const a=e.indexOf("#");return-1!==a&&(t=e.slice(a)),t}(e.url);return e.fragmentIdentifier&&(c=`#${o(e.fragmentIdentifier,a)}`),`${i}${r}${c}`}},function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));let i=function(e){return e.elasticsearch_models="elasticsearch_models",e.connect_to_api="connect_to_api",e.eland_python_client="eland_python_client",e}({}),n=function(e){return e.elser=".elser_model_2",e.e5=".multilingual-e5-small",e}({}),s=function(e){return e.cohere="cohere",e.elser="elser",e.huggingFace="hugging_face",e.openai="openai",e.elasticsearch="elasticsearch",e}({})},function(e,t,a){"use strict";e.exports=function(e,t,a,i,n,s,l,o){if(!e){var r;if(void 0===t)r=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[a,i,n,s,l,o],d=0;(r=new Error(t.replace(/%s/g,(function(){return c[d++]})))).name="Invariant Violation"}throw r.framesToPop=1,r}}},function(e,t,a){"use strict";t.__esModule=!0,t.ACTION_TYPE_DELIMITER=t.DEFAULT_NAMESPACE=void 0,t.DEFAULT_NAMESPACE="/",t.ACTION_TYPE_DELIMITER="||"},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}},function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return o}));var i=a(5),n=a(2);const s=Object(i.createContext)(void 0),l=({children:e})=>{const[t,a]=Object(i.useState)({indexSettings:{}});return Object(n.jsx)(s.Provider,{value:{value:t,update:a}},e)},o=()=>{const e=Object(i.useContext)(s);if(void 0===e)throw new Error("useConfig must be used within a <ConfigProvider />");return e}},function(e,t,a){"use strict";function i(e){return e}function n(e){throw new Error("Called `absurd` function which should be uncallable")}Object.defineProperty(t,"__esModule",{value:!0}),t.bindTo_=t.bind_=t.hole=t.pipe=t.untupled=t.tupled=t.absurd=t.decrement=t.increment=t.tuple=t.flow=t.flip=t.constVoid=t.constUndefined=t.constNull=t.constFalse=t.constTrue=t.constant=t.not=t.unsafeCoerce=t.identity=void 0,t.identity=i,t.unsafeCoerce=i,t.not=function(e){return function(t){return!e(t)}},t.constant=function(e){return function(){return e}},t.constTrue=function(){return!0},t.constFalse=function(){return!1},t.constNull=function(){return null},t.constUndefined=function(){},t.constVoid=function(){},t.flip=function(e){return function(t,a){return e(a,t)}},t.flow=function(e,t,a,i,n,s,l,o,r){switch(arguments.length){case 1:return e;case 2:return function(){return t(e.apply(this,arguments))};case 3:return function(){return a(t(e.apply(this,arguments)))};case 4:return function(){return i(a(t(e.apply(this,arguments))))};case 5:return function(){return n(i(a(t(e.apply(this,arguments)))))};case 6:return function(){return s(n(i(a(t(e.apply(this,arguments))))))};case 7:return function(){return l(s(n(i(a(t(e.apply(this,arguments)))))))};case 8:return function(){return o(l(s(n(i(a(t(e.apply(this,arguments))))))))};case 9:return function(){return r(o(l(s(n(i(a(t(e.apply(this,arguments)))))))))}}},t.tuple=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},t.increment=function(e){return e+1},t.decrement=function(e){return e-1},t.absurd=n,t.tupled=function(e){return function(t){return e.apply(void 0,t)}},t.untupled=function(e){return function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return e(t)}},t.pipe=function(e,t,a,i,n,s,l,o,r,c,d,u,p,m,g,x,b,f,j,h){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return a(t(e));case 4:return i(a(t(e)));case 5:return n(i(a(t(e))));case 6:return s(n(i(a(t(e)))));case 7:return l(s(n(i(a(t(e))))));case 8:return o(l(s(n(i(a(t(e)))))));case 9:return r(o(l(s(n(i(a(t(e))))))));case 10:return c(r(o(l(s(n(i(a(t(e)))))))));case 11:return d(c(r(o(l(s(n(i(a(t(e))))))))));case 12:return u(d(c(r(o(l(s(n(i(a(t(e)))))))))));case 13:return p(u(d(c(r(o(l(s(n(i(a(t(e))))))))))));case 14:return m(p(u(d(c(r(o(l(s(n(i(a(t(e)))))))))))));case 15:return g(m(p(u(d(c(r(o(l(s(n(i(a(t(e))))))))))))));case 16:return x(g(m(p(u(d(c(r(o(l(s(n(i(a(t(e)))))))))))))));case 17:return b(x(g(m(p(u(d(c(r(o(l(s(n(i(a(t(e))))))))))))))));case 18:return f(b(x(g(m(p(u(d(c(r(o(l(s(n(i(a(t(e)))))))))))))))));case 19:return j(f(b(x(g(m(p(u(d(c(r(o(l(s(n(i(a(t(e))))))))))))))))));case 20:return h(j(f(b(x(g(m(p(u(d(c(r(o(l(s(n(i(a(t(e)))))))))))))))))))}},t.hole=n,t.bind_=function(e,t,a){var i;return Object.assign({},e,((i={})[t]=a,i))},t.bindTo_=function(e){return function(t){var a;return(a={})[e]=t,a}}},function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var i=a(5),n=a.n(i),s=a(8),l=a(78),o=a(69),r=a(131),c=a(2);const d=({children:e})=>{const[t,a]=Object(i.useState)({isModalOpen:!1}),d=Object(l.b)(),{fields:u}=Object(l.c)(),{byId:p}=u,m=s.i18n.translate("xpack.idxMgmt.mappingsEditor.deleteField.confirmationModal.removeButtonLabel",{defaultMessage:"Remove"});let g;if(t.field){const{isMultiField:e,source:a}=t.field;g=s.i18n.translate("xpack.idxMgmt.mappingsEditor.deleteField.confirmationModal.title",{defaultMessage:"Remove {fieldType} ''{fieldName}''?",values:{fieldType:e?"multi-field":"field",fieldName:a.name}})}const x=()=>{a({isModalOpen:!1})};return Object(c.jsx)(n.a.Fragment,null,e((e=>{const t=Object(o.k)(e,u).map((e=>p[e].path.join(" > "))).sort(),i=Boolean(t.length);a({isModalOpen:!0,field:e,aliases:i?t:void 0})})),t.isModalOpen&&Object(c.jsx)(r.a,{title:g,childFields:t.field&&t.field.childFields,aliases:t.aliases,byId:p,confirmButtonText:m,onConfirm:()=>{d({type:"field.remove",value:t.field.id}),x()},onCancel:x}))}},function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return s}));var i=a(8);const n=[{value:"d",text:i.i18n.translate("xpack.idxMgmt.dataStream.retention.timeUnits.daysLabel",{defaultMessage:"days"})},{value:"h",text:i.i18n.translate("xpack.idxMgmt.dataStream.retention.timeUnits.hoursLabel",{defaultMessage:"hours"})},{value:"m",text:i.i18n.translate("xpack.idxMgmt.dataStream.retention.timeUnits.minutesLabel",{defaultMessage:"minutes"})},{value:"s",text:i.i18n.translate("xpack.idxMgmt.dataStream.retention.timeUnits.secondsLabel",{defaultMessage:"seconds"})}],s=[{value:"ms",text:i.i18n.translate("xpack.idxMgmt.dataStream.retention.timeUnits.msLabel",{defaultMessage:"milliseconds"})},{value:"micros",text:i.i18n.translate("xpack.idxMgmt.dataStream.retention.timeUnits.microsLabel",{defaultMessage:"microseconds"})},{value:"nanos",text:i.i18n.translate("xpack.idxMgmt.dataStream.retention.timeUnits.nanosLabel",{defaultMessage:"nanoseconds"})}]},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return"function"==typeof e}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return"undefined"!=typeof Map&&e instanceof Map}},function(e,t,a){"use strict";a.d(t,"a",(function(){return UiMetricService}));var i=a(1),n=a.n(i);class UiMetricService{constructor(e){n()(this,"appName",void 0),n()(this,"usageCollection",void 0),this.appName=e}setup(e){this.usageCollection=e}trackMetric(e,t){if(this.usageCollection)return this.usageCollection.reportUiCounter(this.appName,e,t)}}},function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a(5);var i=a(8),n=a(49),s=a(9),l=a(70),o=a(2);const r=()=>Object(o.jsx)(s.EuiCallOut,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.mappingTypesDetectedCallOutTitle",{defaultMessage:"Mapping types detected"}),iconType:"warning",color:"warning","data-test-subj":"mappingTypesDetectedCallout"},Object(o.jsx)("p",null,Object(o.jsx)(n.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.mappingTypesDetectedCallOutDescription",defaultMessage:"The mappings for this template uses types, which have been removed. {docsLink}",values:{docsLink:Object(o.jsx)(s.EuiLink,{href:l.a.getAlternativeToMappingTypesLink(),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.mappingTypesDetectedCallOutDocumentationLink",{defaultMessage:"Consider these alternatives to mapping types."}))}})))},function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var i=a(69);const n=e=>{const t=Object(i.e)(e);if(null===t)return{multipleMappingsDeclared:!0};const{_source:a,_meta:n,_routing:s,_size:l,dynamic:o,properties:r,runtime:c,numeric_detection:d,date_detection:u,dynamic_date_formats:p,dynamic_templates:m,subobjects:g}=t;return{parsedDefaultValue:{configuration:{_source:a,_meta:n,_routing:s,_size:l,dynamic:o,numeric_detection:d,date_detection:u,dynamic_date_formats:p,subobjects:g},fields:r,templates:{dynamic_templates:m},runtime:c},multipleMappingsDeclared:!1}}},function(e,t,a){"use strict";t.__esModule=!0,t.default=function(e,t,a){void 0===t&&(t=s.default),(0,i.default)((0,n.default)(t)||(0,l.default)(t),"Expected payloadCreator to be a function, undefined or null");var o=(0,l.default)(t)||t===s.default?s.default:function(e){for(var a=arguments.length,i=new Array(a>1?a-1:0),n=1;n<a;n++)i[n-1]=arguments[n];return e instanceof Error?e:t.apply(void 0,[e].concat(i))},r=(0,n.default)(a),c=e.toString(),d=function(){var t=o.apply(void 0,arguments),i={type:e};return t instanceof Error&&(i.error=!0),void 0!==t&&(i.payload=t),r&&(i.meta=a.apply(void 0,arguments)),i};return d.toString=function(){return c},d};var i=o(a(89)),n=o(a(96)),s=o(a(102)),l=o(a(170));function o(e){return e&&e.__esModule?e:{default:e}}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return e}},function(e,t,a){"use strict";t.__esModule=!0,t.default=function(e){if((0,n.default)(e))return Array.from(e.keys());if("undefined"!=typeof Reflect&&"function"==typeof Reflect.ownKeys)return Reflect.ownKeys(e);var t=Object.getOwnPropertyNames(e);return"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(e))),t};var i,n=(i=a(97))&&i.__esModule?i:{default:i}},function(e,t,a){"use strict";a.d(t,"a",(function(){return fl})),a.d(t,"b",(function(){return jl})),a.d(t,"c",(function(){return hl}));var i=a(5),n=a.n(i),s=a(56),l=a(57),o=a.n(l),r=a(24),c=a(20),d=a(72),u=a(52),p=a(53),m=a(61),g=a(2);const x=({children:e,...t})=>Object(g.jsx)(p.Router,t,Object(g.jsx)(m.CompatRouter,null,e));var b=a(50),f=a.n(b),j=a(21),h=a.n(j);const O={services:{}},M=Object(i.createContext)(O);var y=a(187),v=a.n(y);const E=({children:e,component:t,render:a,...s})=>{const l=Object(i.useMemo)((()=>{if(t)return e=>Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(k,null),Object(g.jsx)(t,e))}),[t]);if(l)return Object(g.jsx)(p.Route,h()({},s,{component:l}));if(a||"function"==typeof e){const t="function"==typeof e?e:a;return Object(g.jsx)(p.Route,h()({},s,{render:e=>Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(k,null),t(e))}))}return Object(g.jsx)(p.Route,s,Object(g.jsx)(k,null),e)},k=()=>{const{executionContext:e}=Object(i.useContext)(M).services,t=Object(p.useRouteMatch)();return function(e,t){v()((()=>(null==e||e.set(t),()=>{null==e||e.clear()})),[t])}(e,{type:"application",page:t.path,id:Object.keys(t.params).length>0?JSON.stringify(t.params):void 0}),null},T=({legacySwitch:e=!0,children:t})=>{const a=Object(p.useRouteMatch)();return e?Object(g.jsx)(p.Switch,null,t):Object(g.jsx)(m.Routes,null,i.Children.map(t,(e=>{if(n.a.isValidElement(e)&&e.type===E){var i;const s=Object(b.replace)(null==e?void 0:e.props.path,a.url+"/",""),l="function"==typeof(null==e?void 0:e.props.children)?null==e?void 0:e.props.children:null==e?void 0:e.props.render;return Object(g.jsx)(m.Route,{path:s,element:Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(k,null),(null==e||null===(i=e.props)||void 0===i?void 0:i.component)&&Object(g.jsx)(e.props.component,null)||l&&l()||t)})}return e})))};var F=a(3),S=a(49),_=a(9),C=a(70),L=a(80),w=a(87),I=a.n(w),D=a(81);const P=({children:e})=>{const{httpClient:t,apiBasePath:a}=Object(L.c)();return Object(g.jsx)(D.a,{privilegesEndpoint:`${a}/component_templates/privileges`,httpClient:t},e)};var N=a(86);const A=({children:e})=>{const{apiError:t}=Object(D.D)();return t?Object(g.jsx)(D.j,{title:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.checkingPrivilegesErrorMessage",defaultMessage:"Error fetching user privileges from the server."}),error:t}):Object(g.jsx)(D.t,{privileges:N.a.map((e=>`cluster.${e}`))},(({isLoading:t,hasPrivileges:a,privilegesMissing:i})=>t?Object(g.jsx)(D.k,null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.checkingPrivilegesDescription",defaultMessage:"Checking privileges…"})):a?Object(g.jsx)(n.a.Fragment,null,e):Object(g.jsx)(D.h,{title:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.deniedPrivilegeTitle",defaultMessage:"Cluster privileges required"}),message:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.deniedPrivilegeDescription",defaultMessage:"To use Component Templates, you must have {privilegesCount, plural, one {this cluster privilege} other {these cluster privileges}}: {missingPrivileges}.",values:{missingPrivileges:i.cluster.join(", "),privilegesCount:i.cluster.length}})})))};var B=a(8),R=a(84);const z=()=>Object(g.jsx)(_.EuiToolTip,{content:B.i18n.translate("xpack.idxMgmt.componentTemplate.deprecatedBadgeTooltip",{defaultMessage:"This component template is no longer supported and might be removed in a future release. Instead, use one of the other component templates available or create a new one."})},Object(g.jsx)(_.EuiBadge,{color:"warning","data-test-subj":"deprecatedComponentTemplateBadge"},B.i18n.translate("xpack.idxMgmt.componentTemplate.deprecatedTemplateBadgeText",{defaultMessage:"Deprecated"})));var V=a(95);const U=e=>{var t;return Boolean(null===(t=e._meta)||void 0===t?void 0:t.managed)},q=(e,t)=>{var a;if(null==e||!e.enabled)return B.i18n.translate("xpack.idxMgmt.dataStreamList.dataRetentionDisabled",{defaultMessage:"Disabled"});if(!(null!=e&&e.effective_retention||null!=e&&e.data_retention)){const e=B.i18n.translate("xpack.idxMgmt.dataStreamList.dataRetentionInfinite",{defaultMessage:"Keep data indefinitely"});return t?Object(g.jsx)(_.EuiToolTip,{"data-test-subj":"infiniteRetention",position:"top",content:e},Object(g.jsx)(_.EuiIcon,{type:"infinity"})):e}const i=(null==e?void 0:e.effective_retention)||(null==e?void 0:e.data_retention),{size:n,unit:s}=Object(r.d)(i),l=[...V.b,...V.a].find((e=>e.value===s));return`${n} ${null!==(a=null==l?void 0:l.text)&&void 0!==a?a:s}`},W=e=>{var t,a;return"index lifecycle management"===(null==e||null===(t=e.nextGenerationManagedBy)||void 0===t?void 0:t.toLowerCase())&&(null==e||null===(a=e.indices)||void 0===a?void 0:a.every((e=>"index lifecycle management"===e.managedBy.toLowerCase())))},G=e=>{var t,a;return"data stream lifecycle"===(null==e||null===(t=e.nextGenerationManagedBy)||void 0===t?void 0:t.toLowerCase())&&(null==e||null===(a=e.indices)||void 0===a?void 0:a.every((e=>"data stream lifecycle"===e.managedBy.toLowerCase())))},$=({componentTemplateDetails:e,showCallToAction:t})=>{const{getUrlForApp:a}=Object(L.c)(),{version:i,_meta:s,_kbnMeta:l,template:o}=e,{usedBy:r}=l,c=r.length>0;return Object(g.jsx)(n.a.Fragment,null,!c&&Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiCallOut,{title:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.summaryTab.notInUseTitle",defaultMessage:"This component template is not in use by any index templates."}),iconType:"pin","data-test-subj":"notInUseCallout",size:"s"},t&&Object(g.jsx)("p",null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.summaryTab.notInUseDescription",defaultMessage:"{createLink} an index template or {editLink} an existing one.",values:{createLink:Object(g.jsx)(_.EuiLink,{href:a("management",{path:"/data/index_management/create_template"})},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.summaryTab.createTemplateLink",defaultMessage:"Create"})),editLink:Object(g.jsx)(_.EuiLink,{href:a("management",{path:"/data/index_management/templates"})},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.summaryTab.updateTemplateLink",defaultMessage:"update"}))}}))),Object(g.jsx)(_.EuiSpacer,null)),Object(g.jsx)(_.EuiDescriptionList,{textStyle:"reverse","data-test-subj":"summaryTabContent"},c&&Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiDescriptionListTitle,{"data-test-subj":"usedByTitle"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.summaryTab.usedByDescriptionListTitle",defaultMessage:"Used by"})),Object(g.jsx)(_.EuiDescriptionListDescription,null,Object(g.jsx)("ul",null,r.map((e=>Object(g.jsx)("li",{key:e},Object(g.jsx)(_.EuiTitle,{size:"xs"},Object(g.jsx)("span",null,e)))))))),o.lifecycle&&Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiDescriptionListTitle,{"data-test-subj":"dataRetentionTitle"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.summaryTab.dataRetentionDescriptionListTitle",defaultMessage:"Data retention"})),Object(g.jsx)(_.EuiDescriptionListDescription,null,q(o.lifecycle,!0))),void 0!==i&&Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiDescriptionListTitle,{"data-test-subj":"versionTitle"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.summaryTab.versionDescriptionListTitle",defaultMessage:"Version"})),Object(g.jsx)(_.EuiDescriptionListDescription,null,i)),s&&Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiDescriptionListTitle,{"data-test-subj":"metaTitle"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.summaryTab.metaDescriptionListTitle",defaultMessage:"Metadata"})),Object(g.jsx)(_.EuiDescriptionListDescription,null,Object(g.jsx)(_.EuiCodeBlock,{language:"json"},JSON.stringify(s,null,2))))))},H=[{id:"summary",name:B.i18n.translate("xpack.idxMgmt.componentTemplateDetails.summaryTabTitle",{defaultMessage:"Summary"})},{id:"settings",name:B.i18n.translate("xpack.idxMgmt.componentTemplateDetails.settingsTabTitle",{defaultMessage:"Settings"})},{id:"mappings",name:B.i18n.translate("xpack.idxMgmt.componentTemplateDetails.mappingsTabTitle",{defaultMessage:"Mappings"})},{id:"aliases",name:B.i18n.translate("xpack.idxMgmt.componentTemplateDetails.aliasesTabTitle",{defaultMessage:"Aliases"})}],J=({setActiveTab:e,activeTab:t})=>Object(g.jsx)(_.EuiTabs,null,H.map((a=>Object(g.jsx)(_.EuiTab,{onClick:()=>{e(a.id)},isSelected:a.id===t,key:a.id,"data-test-subj":`${a.id}Tab`},a.name)))),Y=({actions:e,componentTemplateDetails:t})=>{const[a,n]=Object(i.useState)(!1),s=e.map((({name:e,icon:a,getIsDisabled:i,closePopoverOnClick:s,handleActionClick:l})=>{const o=!!i&&i(t);return{name:e,icon:a,disabled:o,toolTipContent:o?Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.manageButtonDisabledTooltipLabel",defaultMessage:"Template is in use and cannot be deleted"}):null,onClick:()=>{l(),s&&n(!1)},"data-test-subj":"action"}}));return Object(g.jsx)(_.EuiPopover,{id:"manageComponentTemplatePanel",button:Object(g.jsx)(_.EuiButton,{fill:!0,"data-test-subj":"manageComponentTemplateButton",iconType:"arrowDown",iconSide:"right",onClick:()=>n((e=>!e))},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.manageButtonLabel",defaultMessage:"Manage"})),isOpen:a,closePopover:()=>n(!1),panelPaddingSize:"none",anchorPosition:"rightUp",repositionOnScroll:!0},Object(g.jsx)(_.EuiContextMenu,{initialPanelId:0,"data-test-subj":"manageComponentTemplateContextMenu",panels:[{id:0,title:B.i18n.translate("xpack.idxMgmt.componentTemplateDetails.manageContextMenuPanelTitle",{defaultMessage:"Options"}),items:s}]}))},K={"data-test-subj":"componentTemplateDetails","aria-labelledby":"componentTemplateDetailsFlyoutTitle"},X=({componentTemplateName:e,onClose:t,actions:a,showSummaryCallToAction:s})=>{const{api:l}=Object(L.c)(),o=Object(D.u)(e),{data:r,isLoading:c,error:d}=l.useLoadComponentTemplate(o),[u,p]=Object(i.useState)("summary");let m;if(c)m=Object(g.jsx)(D.m,null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.loadingIndexTemplateDescription",defaultMessage:"Loading component template…"}));else if(d)m=Object(g.jsx)(_.EuiCallOut,{title:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.loadingErrorMessage",defaultMessage:"Error loading component template"}),color:"danger",iconType:"warning","data-test-subj":"sectionError"},Object(g.jsx)("p",null,d.message));else if(r){const{template:{settings:e,mappings:t,aliases:a}}=r,i={summary:Object(g.jsx)($,{componentTemplateDetails:r,showCallToAction:s}),settings:Object(g.jsx)(D.s,{settings:e}),mappings:Object(g.jsx)(D.r,{mappings:t}),aliases:Object(g.jsx)(D.q,{aliases:a})}[u];m=Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(J,{activeTab:u,setActiveTab:p}),Object(g.jsx)(_.EuiSpacer,{size:"l"}),i)}const x=null==r?void 0:r._kbnMeta.isManaged,b=null==r?void 0:r.deprecated;return Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiFlyoutHeader,null,Object(g.jsx)(_.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},Object(g.jsx)(_.EuiFlexItem,{grow:!1},Object(g.jsx)(_.EuiTitle,{size:"m"},Object(g.jsx)("h2",{id:"componentTemplateDetailsFlyoutTitle","data-test-subj":"title"},o))),b&&Object(g.jsx)(_.EuiFlexItem,{grow:!1}," ",Object(g.jsx)(z,null)),x&&Object(g.jsx)(_.EuiFlexItem,{grow:!1}," ",Object(g.jsx)(_.EuiBadge,{color:"hollow"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.managedBadgeLabel",defaultMessage:"Managed"}))))),Object(g.jsx)(_.EuiFlyoutBody,{"data-test-subj":"content"},m),a&&Object(g.jsx)(_.EuiFlyoutFooter,{"data-test-subj":"footer"},Object(g.jsx)(_.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},Object(g.jsx)(_.EuiFlexItem,{grow:!1},Object(g.jsx)(_.EuiButtonEmpty,{iconType:"cross",flush:"left",onClick:t,"data-test-subj":"closeDetailsButton"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.closeButtonLabel",defaultMessage:"Close"}))),r&&Object(g.jsx)(_.EuiFlexItem,{grow:!1},Object(g.jsx)(Y,{actions:a,componentTemplateDetails:r})))))},Q=({history:e})=>{const{documentation:t}=Object(L.c)();return Object(g.jsx)(_.EuiEmptyPrompt,{iconType:"managementApp","data-test-subj":"emptyList",title:Object(g.jsx)("h2",{"data-test-subj":"title"},B.i18n.translate("xpack.idxMgmt.home.componentTemplates.emptyPromptTitle",{defaultMessage:"Start by creating a component template"})),body:Object(g.jsx)("p",null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.emptyPromptDescription",defaultMessage:"For example, you can create a component template for index settings that can be reused across index templates."}),Object(g.jsx)("br",null),Object(g.jsx)(_.EuiLink,{href:t.componentTemplates,target:"_blank",external:!0},B.i18n.translate("xpack.idxMgmt.home.componentTemplates.emptyPromptDocumentionLink",{defaultMessage:"Learn more."}))),actions:Object(g.jsx)(_.EuiButton,h()({},Object(D.z)(e,"/create_component_template"),{iconType:"plusInCircle",fill:!0}),B.i18n.translate("xpack.idxMgmt.home.componentTemplates.emptyPromptButtonLabel",{defaultMessage:"Create a component template"}))})},Z=B.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.inUseFilterLabel",{defaultMessage:"In use"}),ee=B.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.managedFilterLabel",{defaultMessage:"Managed"}),te=B.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.deprecatedFilterLabel",{defaultMessage:"Deprecated"}),ae=({componentTemplates:e,defaultFilter:t,onReloadClick:a,onDeleteClick:s,onEditClick:l,onCloneClick:o,history:r})=>{const{trackMetric:c}=Object(L.c)(),[d,p]=Object(i.useState)([{key:"inUse",label:Z,"data-test-subj":"componentTemplates--inUseFilter"},{key:"managed",label:ee,"data-test-subj":"componentTemplates--managedFilter"},{key:"deprecated",label:te,"data-test-subj":"componentTemplates--deprecatedFilter",checked:"off"}]),[m,x]=Object(i.useState)([]),b=Object(i.useMemo)((()=>{var t,a,i;const n=null===(t=d.find((({key:e})=>"inUse"===e)))||void 0===t?void 0:t.checked,s=null===(a=d.find((({key:e})=>"managed"===e)))||void 0===a?void 0:a.checked,l=null===(i=d.find((({key:e})=>"deprecated"===e)))||void 0===i?void 0:i.checked;return(e||[]).filter((e=>!("off"===l&&e.isDeprecated||"on"===l&&!e.isDeprecated||"off"===s&&e.isManaged||"on"===s&&!e.isManaged||"off"===n&&e.usedBy.length>=1||"on"===n&&0===e.usedBy.length)))}),[e,d]),[f,j]=Object(i.useState)(!1),O=()=>{j(!1)},M=Object(g.jsx)(_.EuiFilterButton,{"data-test-subj":"componentTemplatesFiltersButton",iconType:"arrowDown",badgeColor:"success",onClick:()=>{j(!f)},isSelected:f,numFilters:d.filter((e=>"off"!==e.checked)).length,hasActiveFilters:!!d.find((e=>"on"===e.checked)),numActiveFilters:d.filter((e=>"on"===e.checked)).length},B.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.filtersButtonLabel",{defaultMessage:"Filters"})),y={tableLayout:"auto",itemId:"name","data-test-subj":"componentTemplatesTable",sorting:{sort:{field:"name",direction:"asc"}},selection:{onSelectionChange:x,selectable:({usedBy:e})=>0===e.length,selectableMessage:e=>e?B.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.selectionLabel",{defaultMessage:"Select this component template"}):B.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.disabledSelectionLabel",{defaultMessage:"Component template is in use and cannot be deleted"})},rowProps:()=>({"data-test-subj":"componentTemplateTableRow"}),search:{toolsLeft:m.length>0?Object(g.jsx)(_.EuiButton,{"data-test-subj":"deleteComponentTemplatexButton",onClick:()=>s(m.map((({name:e})=>e))),color:"danger"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesList.table.deleteComponentTemplatesButtonLabel",defaultMessage:"Delete {count, plural, one {component template} other {component templates} }",values:{count:m.length}})):void 0,toolsRight:[Object(g.jsx)(_.EuiButton,{key:"reloadButton",iconType:"refresh",color:"success","data-test-subj":"reloadButton",onClick:a},B.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.reloadButtonLabel",{defaultMessage:"Reload"})),Object(g.jsx)(_.EuiButton,h()({fill:!0,iconType:"plusInCircle","data-test-subj":"createPipelineButton",key:"createPipelineButton"},Object(D.z)(r,"/create_component_template")),B.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.createButtonLabel",{defaultMessage:"Create component template"}))],box:{incremental:!0,"data-test-subj":"componentTemplatesSearch"},filters:[{type:"custom_component",component:()=>Object(g.jsx)(_.EuiFilterGroup,null,Object(g.jsx)(_.EuiPopover,{button:M,isOpen:f,closePopover:O,panelPaddingSize:"none"},Object(g.jsx)(_.EuiSelectable,{allowExclusions:!0,"aria-label":B.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.filtersAriaLabel",{defaultMessage:"Filters"}),options:d,onChange:p},(e=>Object(g.jsx)("div",{style:{width:300}},e)))))}],defaultQuery:t},pagination:{initialPageSize:10,pageSizeOptions:[10,20,50]},columns:[{field:"name",name:B.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.nameColumnTitle",{defaultMessage:"Name"}),sortable:!0,width:"45%",render:(e,t)=>Object(g.jsx)("span",null,Object(g.jsx)(_.EuiLink,h()({},Object(D.z)(r,{pathname:encodeURI(`/component_templates/${encodeURIComponent(e)}`)},(()=>c(u.METRIC_TYPE.CLICK,N.f))),{"data-test-subj":"templateDetailsLink"}),e),t.isDeprecated&&Object(g.jsx)(n.a.Fragment,null," ",Object(g.jsx)(z,null)),t.isManaged&&Object(g.jsx)(n.a.Fragment,null," ",Object(g.jsx)(_.EuiBadge,{color:"hollow","data-test-subj":"isManagedBadge"},B.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.managedBadgeLabel",{defaultMessage:"Managed"}))))},{field:"usedBy",name:B.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.isInUseColumnTitle",{defaultMessage:"Usage count"}),sortable:({usedBy:e})=>e.length,render:e=>e.length?e.length:Object(g.jsx)(_.EuiTextColor,{color:"subdued"},Object(g.jsx)("i",null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesList.table.notInUseCellDescription",defaultMessage:"Not in use"})))},{field:"hasMappings",name:B.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.mappingsColumnTitle",{defaultMessage:"Mappings"}),truncateText:!0,align:"center",sortable:!0,render:e=>e?Object(g.jsx)(_.EuiIcon,{type:"check"}):null},{field:"hasSettings",name:B.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.settingsColumnTitle",{defaultMessage:"Settings"}),truncateText:!0,align:"center",sortable:!0,render:e=>e?Object(g.jsx)(_.EuiIcon,{type:"check"}):null},{field:"hasAliases",name:B.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.aliasesColumnTitle",{defaultMessage:"Aliases"}),truncateText:!0,align:"center",sortable:!0,render:e=>e?Object(g.jsx)(_.EuiIcon,{type:"check"}):null},{name:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesList.table.actionColumnTitle",defaultMessage:"Actions"}),actions:[{name:B.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.actionEditText",{defaultMessage:"Edit"}),description:B.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.actionEditDecription",{defaultMessage:"Edit this component template"}),onClick:({name:e})=>l(e),isPrimary:!0,icon:"pencil",type:"icon","data-test-subj":"editComponentTemplateButton"},{name:B.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.actionCloneText",{defaultMessage:"Clone"}),description:B.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.actionCloneDecription",{defaultMessage:"Clone this component template"}),onClick:({name:e})=>o(e),icon:"copy",type:"icon","data-test-subj":"cloneComponentTemplateButton"},{name:B.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.deleteActionLabel",{defaultMessage:"Delete"}),description:B.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.deleteActionDescription",{defaultMessage:"Delete this component template"}),onClick:({name:e})=>s([e]),enabled:({usedBy:e})=>0===e.length,isPrimary:!0,type:"icon",icon:"trash",color:"danger","data-test-subj":"deleteComponentTemplateButton"}]}],items:b};return Object(g.jsx)(_.EuiInMemoryTable,y)},ie=({componentTemplatesToDelete:e,callback:t})=>{const{toasts:a,api:i}=Object(L.c)(),s=e.length;return Object(g.jsx)(_.EuiConfirmModal,{buttonColor:"danger","data-test-subj":"deleteComponentTemplatesConfirmation",title:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.deleteModal.modalTitleText",defaultMessage:"Delete {numComponentTemplatesToDelete, plural, one {component template} other {# component templates}}",values:{numComponentTemplatesToDelete:s}}),onCancel:()=>{t()},onConfirm:()=>{i.deleteComponentTemplates(e).then((({data:{itemsDeleted:i,errors:n},error:s})=>{const l=i&&i.length;if(l){const n=1===i.length?B.i18n.translate("xpack.idxMgmt.home.componentTemplates.deleteModal.successDeleteSingleNotificationMessageText",{defaultMessage:"Deleted component template ''{componentTemplateName}''",values:{componentTemplateName:e[0]}}):B.i18n.translate("xpack.idxMgmt.home.componentTemplates.deleteModal.successDeleteMultipleNotificationMessageText",{defaultMessage:"Deleted {numSuccesses, plural, one {# component template} other {# component templates}}",values:{numSuccesses:i.length}});t({hasDeletedComponentTemplates:l}),a.addSuccess(n)}if(s||null!=n&&n.length){const t=(null==n?void 0:n.length)>1||s&&e.length>1?B.i18n.translate("xpack.idxMgmt.home.componentTemplates.deleteModal.multipleErrorsNotificationMessageText",{defaultMessage:"Error deleting {count} component templates",values:{count:(null==n?void 0:n.length)||e.length}}):B.i18n.translate("xpack.idxMgmt.home.componentTemplates.deleteModal.errorNotificationMessageText",{defaultMessage:"Error deleting component template ''{name}''",values:{name:n&&n[0].name||e[0]}});a.addDanger(t)}}))},cancelButtonText:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.deleteModal.cancelButtonLabel",defaultMessage:"Cancel"}),confirmButtonText:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.confirmButtonLabel",defaultMessage:"Delete {numComponentTemplatesToDelete, plural, one {component template} other {component templates} }",values:{numComponentTemplatesToDelete:s}})},Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)("p",null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.deleteModal.deleteDescription",defaultMessage:"You are about to delete {numComponentTemplatesToDelete, plural, one {this component template} other {these component templates} }:",values:{numComponentTemplatesToDelete:s}})),Object(g.jsx)("ul",null,e.map((e=>Object(g.jsx)("li",{key:e},e))))))};function ne(e){const{services:t}=hl(),a=Object(i.useMemo)((()=>new URLSearchParams(e.location.search).get("redirect_path")),[e.location.search]);return Object(i.useCallback)((i=>{a&&t.application?t.application.navigateToUrl(a):e.push(i)}),[a,t.application,e])}const{useGlobalFlyout:se}=D.f,le=({componentTemplateName:e,history:t,filter:a})=>{const{addContent:s,removeContent:l}=se(),{api:o,trackMetric:r,documentation:d}=Object(L.c)(),p=ne(t);Object(i.useEffect)((()=>{R.b.setBreadcrumbs(R.a.componentTemplates)}),[]);const{data:m,isLoading:x,error:b,resendRequest:f}=o.useLoadComponentTemplates(),[j,h]=Object(i.useState)([]),O=Object(i.useCallback)((()=>p({pathname:"component_templates"})),[p]),M=Object(i.useCallback)((e=>t.push({pathname:encodeURI(`edit_component_template/${encodeURIComponent(e)}`)})),[t]),y=Object(i.useCallback)((e=>t.push({pathname:encodeURI(`create_component_template/${encodeURIComponent(e)}`)})),[t]);if(Object(i.useEffect)((()=>{r(u.METRIC_TYPE.LOADED,N.g)}),[r]),Object(i.useEffect)((()=>{if(e){const t=[{name:B.i18n.translate("xpack.idxMgmt.componentTemplateDetails.editButtonLabel",{defaultMessage:"Edit"}),icon:"pencil",handleActionClick:()=>M(Object(c.w)(e))},{name:B.i18n.translate("xpack.idxMgmt.componentTemplateDetails.cloneActionLabel",{defaultMessage:"Clone"}),icon:"copy",handleActionClick:()=>y(Object(c.w)(e))},{name:B.i18n.translate("xpack.idxMgmt.componentTemplateDetails.deleteButtonLabel",{defaultMessage:"Delete"}),icon:"trash",getIsDisabled:e=>e._kbnMeta.usedBy.length>0,closePopoverOnClick:!0,handleActionClick:()=>{h([Object(c.w)(e)])}}];s({id:"componentTemplateDetails",Component:X,props:{onClose:O,componentTemplateName:e,showSummaryCallToAction:!0,actions:t},flyoutProps:{...K,onClose:O}})}}),[e,O,M,y,s,t]),Object(i.useEffect)((()=>{e||l("componentTemplateDetails")}),[e,l]),x)return Object(g.jsx)(c.n,null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.list.loadingMessage",defaultMessage:"Loading component templates…"}));let v;return null!=m&&m.length?v=Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiText,{color:"subdued"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.list.componentTemplatesDescription",defaultMessage:"Use component templates to reuse settings, mappings, and aliases configurations in multiple index templates. {learnMoreLink}",values:{learnMoreLink:Object(g.jsx)(_.EuiLink,{href:d.componentTemplates,target:"_blank",external:!0},B.i18n.translate("xpack.idxMgmt.componentTemplates.list.learnMoreLinkText",{defaultMessage:"Learn more."}))}})),Object(g.jsx)(_.EuiSpacer,null),Object(g.jsx)(ae,{componentTemplates:m,defaultFilter:null!=a?a:"",onReloadClick:f,onDeleteClick:h,onEditClick:M,onCloneClick:y,history:t})):m&&0===m.length?v=Object(g.jsx)(Q,{history:t}):b&&(v=Object(g.jsx)(c.m,{title:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.list.loadingErrorMessage",defaultMessage:"Error loading component templates"}),error:b,"data-test-subj":"componentTemplatesLoadError"})),Object(g.jsx)("div",{className:c.a,"data-test-subj":"componentTemplateList"},v,(null==j?void 0:j.length)>0?Object(g.jsx)(ie,{callback:e=>{null!=e&&e.hasDeletedComponentTemplates&&(f(),O()),h([])},componentTemplatesToDelete:j}):null)},oe=({match:{params:{componentTemplateName:e}},location:t,history:a})=>{var i;const{executionContext:n}=Object(L.c)();Object(D.E)(n,{type:"application",page:"indexManagementComponentTemplatesTab"});const s=null!==(i=I.a.parse(t.search).filter)&&void 0!==i?i:"";return Object(g.jsx)(P,null,Object(g.jsx)(A,null,Object(g.jsx)(le,{componentTemplateName:e,history:a,filter:String(s)})))};var re=a(11),ce=a(83);const{emptyField:de,containsCharsField:ue,isJsonField:pe}=D.w,{toInt:me}=D.v,ge={name:{defaultValue:void 0,label:B.i18n.translate("xpack.idxMgmt.componentTemplateForm.stepLogistics.nameFieldLabel",{defaultMessage:"Name"}),type:D.b.TEXT,validations:[{validator:de(B.i18n.translate("xpack.idxMgmt.componentTemplateForm.validation.nameRequiredError",{defaultMessage:"A component template name is required."}))},{validator:ue({chars:" ",message:B.i18n.translate("xpack.idxMgmt.componentTemplateForm.stepLogistics.validation.nameSpacesError",{defaultMessage:"Spaces are not allowed in a component template name."})})}]},"lifecycle.enabled":{type:D.b.TOGGLE,label:B.i18n.translate("xpack.idxMgmt.componentTemplateForm.stepLogistics.enableDataRetentionLabel",{defaultMessage:"Enable data retention"}),defaultValue:!1},"lifecycle.infiniteDataRetention":{type:D.b.TOGGLE,label:B.i18n.translate("xpack.idxMgmt.componentTemplateForm.stepLogistics.infiniteDataRetentionLabel",{defaultMessage:"Keep data indefinitely"}),defaultValue:!1},"lifecycle.value":{type:D.b.TEXT,label:B.i18n.translate("xpack.idxMgmt.componentTemplateForm.stepLogistics.fieldDataRetentionValueLabel",{defaultMessage:"Data Retention"}),formatters:[me],validations:[{validator:({value:e,formData:t})=>{if(!t["lifecycle.infiniteDataRetention"])return e?e<=0?{message:B.i18n.translate("xpack.idxMgmt.dataStreamsDetailsPanel.stepLogistics.dataRetentionFieldNonNegativeError",{defaultMessage:"A positive value is required."})}:e%1!=0?{message:B.i18n.translate("xpack.idxMgmt.dataStreamsDetailsPanel.stepLogistics.dataRetentionFieldDecimalError",{defaultMessage:"The value should be an integer number."})}:void 0:{message:B.i18n.translate("xpack.idxMgmt.dataStreamsDetailsPanel.stepLogistics.dataRetentionFieldRequiredError",{defaultMessage:"A data retention value is required."})}}}]},"lifecycle.unit":{type:D.b.TEXT,label:B.i18n.translate("xpack.idxMgmt.componentTemplateForm.stepLogistics.fieldDataRetentionUnitLabel",{defaultMessage:"Time unit"}),defaultValue:"d"},version:{type:D.b.NUMBER,label:B.i18n.translate("xpack.idxMgmt.componentTemplateForm.stepLogistics.versionFieldLabel",{defaultMessage:"Version (optional)"}),formatters:[me]},_meta:{label:B.i18n.translate("xpack.idxMgmt.componentTemplateForm.stepLogistics.metaFieldLabel",{defaultMessage:"_meta field data (optional)"}),helpText:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.metaHelpText",defaultMessage:"Use JSON format: {code}",values:{code:Object(g.jsx)(_.EuiCode,null,JSON.stringify({arbitrary_data:"anything_goes"}))}}),serializer:e=>{const t=(e=>{let t;try{t=JSON.parse(e)}catch{t={}}return t})(e);if(Object.keys(t).length)return t},deserializer:e=>Object.keys(e).length?JSON.stringify(e,null,2):"{\n\n}",validations:[{validator:pe(B.i18n.translate("xpack.idxMgmt.componentTemplateForm.stepLogistics.validation.metaJsonError",{defaultMessage:"The input is not valid."}),{allowEmptyString:!0})}]}},xe=Object(D.y)({component:D.c}),be=Object(D.x)({titleTag:"h3"}),fe=n.a.memo((({defaultValue:e,isEditing:t,onChange:a})=>{const{form:s}=Object(D.F)({schema:ge,defaultValue:e,options:{stripEmptyFields:!1}}),{isValid:l,submit:o,getFormData:r,subscribe:c}=s,[{lifecycle:d}]=Object(D.G)({form:s,watch:["lifecycle.enabled","lifecycle.infiniteDataRetention"]}),{documentation:u}=Object(L.c)(),[p,m]=Object(i.useState)(Boolean(e._meta&&Object.keys(e._meta).length)),x=Object(i.useCallback)((async()=>(await o()).isValid),[o]);return Object(i.useEffect)((()=>{a({isValid:l,validate:x,getData:r})}),[l,r,x,a]),Object(i.useEffect)((()=>c((({data:e,isValid:t})=>{a({isValid:t,validate:x,getData:e.format})})).unsubscribe),[c,x,a]),Object(g.jsx)(D.d,{form:s,"data-test-subj":"stepLogistics"},Object(g.jsx)(_.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(g.jsx)(_.EuiFlexItem,{grow:!1},Object(g.jsx)(_.EuiTitle,null,Object(g.jsx)("h2",null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.stepTitle",defaultMessage:"Logistics"})))),Object(g.jsx)(_.EuiFlexItem,{grow:!1},Object(g.jsx)(_.EuiButtonEmpty,{size:"s",flush:"right",href:u.componentTemplates,target:"_blank",iconType:"help","data-test-subj":"documentationLink"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.docsButtonLabel",defaultMessage:"Component Templates docs"})))),Object(g.jsx)(_.EuiSpacer,{size:"l"}),Object(g.jsx)(be,{title:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.nameTitle",defaultMessage:"Name"}),description:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.nameDescription",defaultMessage:"Unique name for this component template."})},Object(g.jsx)(xe,{path:"name",componentProps:{"data-test-subj":"nameField",euiFieldProps:{disabled:t}}})),Object(g.jsx)(be,{title:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.dataRetentionTitle",defaultMessage:"Data retention"}),description:Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.dataRetentionDescription",defaultMessage:"Data will be kept at least this long before being automatically deleted."}),Object(g.jsx)(_.EuiSpacer,{size:"m"}),Object(g.jsx)(xe,{path:"lifecycle.enabled",componentProps:{"data-test-subj":"dataRetentionToggle"}}))},(null==d?void 0:d.enabled)&&Object(g.jsx)(xe,{path:"lifecycle.value",component:D.i,labelAppend:Object(g.jsx)(xe,{path:"lifecycle.infiniteDataRetention","data-test-subj":"infiniteDataRetentionToggle",componentProps:{euiFieldProps:{compressed:!0}}}),componentProps:{euiFieldProps:{disabled:null==d?void 0:d.infiniteDataRetention,"data-test-subj":"valueDataRetentionField",min:1,append:Object(g.jsx)(ce.h,{path:"lifecycle.unit",options:ce.i,disabled:null==d?void 0:d.infiniteDataRetention,euiFieldProps:{"data-test-subj":"unitDataRetentionField"}})}}})),Object(g.jsx)(be,{title:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.versionTitle",defaultMessage:"Version"}),description:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.versionDescription",defaultMessage:"Number used by external management systems to identify the component template."})},Object(g.jsx)(xe,{path:"version",componentProps:{"data-test-subj":"versionField"}})),Object(g.jsx)(be,{title:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.metaTitle",defaultMessage:"Metadata"}),description:Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.metaDescription",defaultMessage:"Arbitrary information about the template, stored in the cluster state. {learnMoreLink}",values:{learnMoreLink:Object(g.jsx)(_.EuiLink,{href:u.componentTemplatesMetadata,target:"_blank",external:!0},B.i18n.translate("xpack.idxMgmt.componentTemplateForm.stepLogistics.metaDocumentionLink",{defaultMessage:"Learn more."}))}}),Object(g.jsx)(_.EuiSpacer,{size:"m"}),Object(g.jsx)(_.EuiSwitch,{label:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.metadataDescription",defaultMessage:"Add metadata"}),checked:p,onChange:e=>m(e.target.checked),"data-test-subj":"metaToggle"}))},p&&Object(g.jsx)(xe,{path:"_meta",component:D.g,componentProps:{codeEditorProps:{"data-test-subj":"metaEditor",height:"200px","aria-label":B.i18n.translate("xpack.idxMgmt.componentTemplateForm.stepLogistics.metaAriaLabel",{defaultMessage:"_meta field data editor"})}}})))})),je=({isEditing:e=!1})=>{const{defaultValue:t,updateContent:a}=D.e.useContent("logistics");return Object(g.jsx)(fe,{defaultValue:t,onChange:a,isEditing:e})},{stripEmptyFields:he}=D.C,Oe=e=>e&&Object.entries(e).length>0?Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepReview.summaryTab.yesDescriptionText",defaultMessage:"Yes"}):Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepReview.summaryTab.noDescriptionText",defaultMessage:"No"}),Me=n.a.memo((({dataStreams:e,componentTemplate:t})=>{var a;const{name:i}=t,s=Object(D.B)(he(t,{types:["string"]})),{template:l,_meta:o,version:r}=s,c=Boolean(null==e?void 0:e.length)&&(null===(a=t._meta)||void 0===a?void 0:a.managed_by)===N.b;return Object(g.jsx)("div",{"data-test-subj":"stepReview"},Object(g.jsx)(_.EuiTitle,null,Object(g.jsx)("h2",{"data-test-subj":"title"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepReview.stepTitle",defaultMessage:"Review details for ''{templateName}''",values:{templateName:i}}))),Object(g.jsx)(_.EuiSpacer,{size:"l"}),Object(g.jsx)(_.EuiTabbedContent,{"data-test-subj":"content",tabs:[{id:"summary",name:B.i18n.translate("xpack.idxMgmt.componentTemplateForm.stepReview.summaryTabTitle",{defaultMessage:"Summary"}),content:Object(g.jsx)((()=>Object(g.jsx)("div",{"data-test-subj":"summaryTab"},Object(g.jsx)(_.EuiSpacer,{size:"m"}),Object(g.jsx)(_.EuiFlexGroup,null,Object(g.jsx)(_.EuiFlexItem,null,Object(g.jsx)(_.EuiDescriptionList,{textStyle:"reverse"},void 0!==r&&Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiDescriptionListTitle,null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.versionLabel",defaultMessage:"Version"})),Object(g.jsx)(_.EuiDescriptionListDescription,null,r)),Object(g.jsx)(_.EuiDescriptionListTitle,null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepReview.summaryTab.settingsLabel",defaultMessage:"Index settings"})),Object(g.jsx)(_.EuiDescriptionListDescription,null,Oe(null==l?void 0:l.settings)),Object(g.jsx)(_.EuiDescriptionListTitle,null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepReview.summaryTab.mappingLabel",defaultMessage:"Mappings"})),Object(g.jsx)(_.EuiDescriptionListDescription,null,Oe(null==l?void 0:l.mappings)),Object(g.jsx)(_.EuiDescriptionListTitle,null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepReview.summaryTab.aliasesLabel",defaultMessage:"Aliases"})),Object(g.jsx)(_.EuiDescriptionListDescription,null,Oe(null==l?void 0:l.aliases)),Object(g.jsx)(_.EuiDescriptionListTitle,null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepReview.summaryTab.dataRetentionLabel",defaultMessage:"Data retention"})),Object(g.jsx)(_.EuiDescriptionListDescription,null,q(null==l?void 0:l.lifecycle,!0)))),c&&e&&Object(g.jsx)(_.EuiFlexItem,null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.datastreamsLabel",defaultMessage:"Mappings will immediately be applied to the following datastreams:"}),Object(g.jsx)(_.EuiSpacer,{size:"s"}),Object(g.jsx)(_.EuiText,null,Object(g.jsx)("ul",null,e.map((e=>Object(g.jsx)("li",{key:e},Object(g.jsx)(_.EuiCode,null,e))))))),Object(g.jsx)(_.EuiFlexItem,null,o&&Object(g.jsx)(_.EuiDescriptionList,{textStyle:"reverse"},Object(g.jsx)(_.EuiDescriptionListTitle,null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.metaLabel",defaultMessage:"Metadata"})),Object(g.jsx)(_.EuiDescriptionListDescription,null,Object(g.jsx)(_.EuiCodeBlock,{language:"json"},JSON.stringify(o,null,2)))))))),null)},{id:"request",name:B.i18n.translate("xpack.idxMgmt.componentTemplateForm.stepReview.requestTabTitle",{defaultMessage:"Request"}),content:Object(g.jsx)((()=>{const e=`PUT _component_template/${i||"<componentTemplateName>"}\n${JSON.stringify(s,null,2)}`,t=e.length<6e4?"json":void 0;return Object(g.jsx)("div",{"data-test-subj":"requestTab"},Object(g.jsx)(_.EuiSpacer,{size:"m"}),Object(g.jsx)(_.EuiText,null,Object(g.jsx)("p",null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepReview.requestTab.descriptionText",defaultMessage:"This request will create the following component template."}))),Object(g.jsx)(_.EuiSpacer,{size:"m"}),Object(g.jsx)(_.EuiCodeBlock,{language:t,isCopyable:!0},e),c&&Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiSpacer,{size:"m"}),Object(g.jsx)(_.EuiText,null,Object(g.jsx)("p",null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepReview.requestTab.datastreamNote",defaultMessage:"Datastreams using that template need to be updated with aditionnal requests."})))))}),null)}]}))})),ye=n.a.memo((({getComponentTemplateData:e,dataStreams:t})=>{const{getData:a}=D.e.useMultiContentContext(),i=e(a());return Object(g.jsx)(Me,{dataStreams:t,componentTemplate:i})})),{stripEmptyFields:ve}=D.C,{FormWizard:Ee,FormWizardStep:ke}=D.e,Te={logistics:{id:"logistics",label:B.i18n.translate("xpack.idxMgmt.componentTemplateForm.steps.logisticsStepName",{defaultMessage:"Logistics"})},settings:{id:"settings",label:B.i18n.translate("xpack.idxMgmt.componentTemplateForm.steps.settingsStepName",{defaultMessage:"Index settings"})},mappings:{id:"mappings",label:B.i18n.translate("xpack.idxMgmt.componentTemplateForm.steps.mappingsStepName",{defaultMessage:"Mappings"})},aliases:{id:"aliases",label:B.i18n.translate("xpack.idxMgmt.componentTemplateForm.steps.aliasesStepName",{defaultMessage:"Aliases"})},review:{id:"review",label:B.i18n.translate("xpack.idxMgmt.componentTemplateForm.steps.summaryStepName",{defaultMessage:"Review"})}},Fe=({defaultValue:e={name:"",template:{},_meta:{},_kbnMeta:{usedBy:[],isManaged:!1}},dataStreams:t,isEditing:a,isSaving:s,saveError:l,clearSaveError:o,defaultActiveWizardSection:r,onSave:c,onStepChange:d})=>{const{template:{settings:u,mappings:p,aliases:m,lifecycle:x},...b}=e,{documentation:f}=Object(L.c)(),j={logistics:{...b,...x?{lifecycle:Object(re.a)(x)}:{}},settings:u,mappings:p,aliases:m},h={save:a?Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.saveButtonLabel",defaultMessage:"Save component template"}):Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.createButtonLabel",defaultMessage:"Create component template"})},O=l?Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiCallOut,{title:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.saveTemplateError",defaultMessage:"Unable to create component template"}),color:"danger",iconType:"warning","data-test-subj":"saveComponentTemplateError"},Object(g.jsx)("div",null,l.message||l.statusText)),Object(g.jsx)(_.EuiSpacer,{size:"m"})):null,M=Object(i.useCallback)((e=>t=>(e=>{const t={...e};return void 0===t.template.settings&&delete t.template.settings,void 0===t.template.mappings&&delete t.template.mappings,void 0===t.template.aliases&&delete t.template.aliases,t.lifecycle&&delete t.lifecycle,t})({...e,name:t.logistics.name,version:t.logistics.version,_meta:t.logistics._meta,template:{settings:t.settings,mappings:t.mappings,aliases:t.aliases,lifecycle:t.logistics.lifecycle?Object(re.b)(t.logistics.lifecycle):void 0}})),[]),y=Object(i.useCallback)((async t=>{const a=M(e)(t);c(ve(a,{types:["string"]})),o()}),[M,e,c,o]),v=Object(i.useMemo)((()=>Math.max(r?Object.keys(Te).indexOf(r):0,0)),[r]);return Object(g.jsx)(Ee,{defaultValue:j,onSave:y,isEditing:a,isSaving:s,apiError:O,texts:h,defaultActiveStep:v,onStepChange:d},Object(g.jsx)(ke,{id:Te.logistics.id,label:Te.logistics.label,isRequired:!0},Object(g.jsx)(je,{isEditing:a})),Object(g.jsx)(ke,{id:Te.settings.id,label:Te.settings.label},Object(g.jsx)(D.p,{esDocsBase:f.esDocsBase})),Object(g.jsx)(ke,{id:Te.mappings.id,label:Te.mappings.label},Object(g.jsx)(D.o,{esDocsBase:f.esDocsBase})),Object(g.jsx)(ke,{id:Te.aliases.id,label:Te.aliases.label},Object(g.jsx)(D.n,{esDocsBase:f.esDocsBase})),Object(g.jsx)(ke,{id:Te.review.id,label:Te.review.label},Object(g.jsx)(ye,{getComponentTemplateData:M(e),dataStreams:t})))};function Se(e){return{activeStep:Object(i.useMemo)((()=>{const t=new URLSearchParams(e.location.search);if(t.has("step"))return t.get("step")}),[e.location.search]),updateStep:Object(i.useCallback)((t=>{const a=new URLSearchParams(e.location.search);a.has("step")&&(a.set("step",t),e.push({search:a.toString()}))}),[e])}}var _e=a(27),Ce=a(1),Le=a.n(Ce);i.Component;const we=({componentTemplatename:e,dataStreams:t,onClose:a,api:s})=>{const[l,o]=Object(i.useState)(),[r,c]=Object(i.useState)(!1),d=Object(i.useCallback)((()=>{!async function(){try{c(!0);for(const e of t)await s.postDataStreamRollover(e);await a()}catch(e){o(e)}finally{c(!1)}}()}),[s,a,t]);return Object(g.jsx)(_.EuiConfirmModal,{"data-test-subj":"mappingDatastreamRolloverModal",isLoading:r,title:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateEdit.mappingRolloverModalTitle",defaultMessage:"Apply mappings now and rollover?"}),onCancel:a,onConfirm:d,cancelButtonText:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateMappingsRollover.cancelButton",defaultMessage:"Apply on next rollover"}),confirmButtonText:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateMappingsRollover.confirmButtom",defaultMessage:"Apply now and rollover"})},l&&Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiCallOut,{title:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateMappingsRollover.saveError",defaultMessage:"Unable to apply rollover"}),color:"danger",iconType:"warning","data-test-subj":"applyMappingsRolloverError"},Object(g.jsx)("div",null,l.message)),Object(g.jsx)(_.EuiSpacer,{size:"m"})),Object(g.jsx)(_.EuiText,null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateMappingsRollover.modalDescription",defaultMessage:"New mappings for the {templateName} component template require a rollover for the following data streams: {datastreams} You can apply the new mappings to incoming data now and force a rollover, or wait until the next rollover. Rollover timing is defined by your index lifecycle policy. {moreInfoLink}",values:{templateName:Object(g.jsx)(_.EuiCode,null,e),moreInfoLink:Object(g.jsx)(_.EuiLink,{external:!0,href:C.a.docLinks.fleet.datastreamsILM},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateEdit.moreInfoLink",defaultMessage:"See the documentation for more info."})),datastreams:Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiSpacer,{size:"m"}),Object(g.jsx)("ul",null,t.map((e=>Object(g.jsx)("li",null,Object(g.jsx)(_.EuiCode,null,e))))),Object(g.jsx)(_.EuiSpacer,{size:"s"}))}})))};function Ie(){const{api:e,startServices:t}=Object(L.c)();return{showDatastreamRolloverModal:Object(i.useCallback)((async a=>{var i;const{data:n}=await e.getComponentTemplateDatastreams(a),s=null!==(i=null==n?void 0:n.data_streams)&&void 0!==i?i:[],l=[];for(const t of s)try{const{error:a}=await e.postDataStreamMappingsFromTemplate(t);if(a)throw a}catch(e){l.push(t)}if(l.length){const{overlays:i,...n}=t,s=i.openModal((r=Object(g.jsx)(we,{componentTemplatename:a,dataStreams:l,api:e,onClose:()=>{s.close()}}),c=n,e=>(o.a.render(Object(g.jsx)(_e.a,c,r),e),()=>o.a.unmountComponentAtNode(e))));await s.onClose}var r,c}),[e,t])}}const De=({history:e,sourceComponentTemplate:t})=>{const[a,n]=Object(i.useState)(!1),[s,l]=Object(i.useState)(null),o=ne(e),{activeStep:r,updateStep:c}=Se(e),d=Object(i.useMemo)((()=>new URLSearchParams(e.location.search)),[e.location.search]),u=Object(i.useMemo)((()=>{var e;if(t)return t;const a=null!==(e=d.get("name"))&&void 0!==e?e:"",i=d.get("managed_by");return{name:a,template:{},_meta:i?{managed_by:i}:{},_kbnMeta:{usedBy:[],isManaged:!1}}}),[d,t]),{api:p}=Object(L.c)(),{showDatastreamRolloverModal:m}=Ie(),x=Boolean(t);return Object(i.useEffect)((()=>{x?R.b.setBreadcrumbs(R.a.componentTemplateClone):R.b.setBreadcrumbs(R.a.componentTemplateCreate)}),[x]),Object(g.jsx)(_.EuiPageSection,{restrictWidth:!0,style:{width:"100%"}},Object(g.jsx)(_.EuiPageHeader,{pageTitle:Object(g.jsx)("span",{"data-test-subj":"pageTitle"},x?Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.cloneComponentTemplate.pageTitle",defaultMessage:"Clone component template"}):Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.createComponentTemplate.pageTitle",defaultMessage:"Create component template"})),bottomBorder:!0}),Object(g.jsx)(_.EuiSpacer,{size:"l"}),Object(g.jsx)(Fe,{defaultActiveWizardSection:r,onStepChange:c,defaultValue:u,onSave:async e=>{var t;const{name:a}=e;n(!0),l(null);const{error:i}=await p.createComponentTemplate(e);n(!1),i?l(i):((null===(t=e._meta)||void 0===t?void 0:t.managed_by)===N.b&&await m(e.name),o(encodeURI(`/component_templates/${encodeURIComponent(a)}`)))},isSaving:a,saveError:s,clearSaveError:()=>{l(null)}}))},Pe=({match:{params:{name:e}},history:t})=>{const{api:a}=Object(L.c)(),{activeStep:s,updateStep:l}=Se(t),o=ne(t),[r,c]=Object(i.useState)(!1),[d,u]=Object(i.useState)(null),p=Object(D.u)(e),{error:m,data:x,isLoading:b}=a.useLoadComponentTemplate(p),{data:f}=a.useLoadComponentTemplatesDatastream(p),j=Object(i.useMemo)((()=>{var e;return null!==(e=null==f?void 0:f.data_streams)&&void 0!==e?e:[]}),[f]),{showDatastreamRolloverModal:h}=Ie();return Object(i.useEffect)((()=>{R.b.setBreadcrumbs(R.a.componentTemplateEdit)}),[]),b?Object(g.jsx)(D.k,null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateEdit.loadingDescription",defaultMessage:"Loading component template…"})):m?Object(g.jsx)(D.j,{title:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateEdit.loadComponentTemplateError",defaultMessage:"Error loading component template"}),error:m,"data-test-subj":"loadComponentTemplateError"}):Object(g.jsx)(_.EuiPageSection,{restrictWidth:!0,style:{width:"100%"}},Object(g.jsx)(_.EuiPageHeader,{pageTitle:Object(g.jsx)("span",{"data-test-subj":"pageTitle"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateEdit.editPageTitle",defaultMessage:"Edit component template ''{name}''",values:{name:p}})),bottomBorder:!0}),Object(g.jsx)(_.EuiSpacer,{size:"l"}),(null==x?void 0:x.deprecated)&&Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiCallOut,{title:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateEdit.deprecatedTemplateWarningTitle",defaultMessage:"This component template is deprecated"}),iconType:"warning",color:"warning","data-test-subj":"deprecatedTemplateCallout"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateEdit.deprecatedTemplateWarningDescription",defaultMessage:"This component template is no longer supported and might be removed in a future release. Instead, use one of the other component templates available or create a new one."})),Object(g.jsx)(_.EuiSpacer,{size:"l"})),Object(g.jsx)(Fe,{defaultValue:x,dataStreams:j,defaultActiveWizardSection:s,onStepChange:l,onSave:async e=>{var t;c(!0),u(null);const{error:i}=await a.updateComponentTemplate(e);c(!1),i?u(i):((null===(t=e._meta)||void 0===t?void 0:t.managed_by)===N.b&&await h(e.name),o({pathname:encodeURI(`/component_templates/${encodeURIComponent(e.name)}`)}))},isSaving:r,saveError:d,clearSaveError:()=>{u(null)},isEditing:!0}))},Ne=e=>{const{sourceComponentTemplateName:t}=e.match.params,a=Object(D.u)(t),{toasts:n,api:s}=Object(L.c)(),{error:l,data:o,isLoading:r}=s.useLoadComponentTemplate(a);if(Object(i.useEffect)((()=>{l&&!r&&n.addError({...l,name:""},{title:B.i18n.translate("xpack.idxMgmt.componentTemplateClone.loadComponentTemplateTitle",{defaultMessage:"Error loading component template ''{sourceComponentTemplateName}''.",values:{sourceComponentTemplateName:t}})})}),[l,r]),r)return Object(g.jsx)(D.k,null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateEdit.loadingDescription",defaultMessage:"Loading component template…"}));{const t=o?{...o,name:`${o.name}-copy`}:void 0;return Object(g.jsx)(De,h()({},e,{sourceComponentTemplate:t}))}};var Ae=a(51),Be=a.n(Ae);const Re=({anchorPosition:e="upCenter"})=>{const[t,a]=Object(i.useState)(!1);return Object(g.jsx)(_.EuiPopover,{id:"createComponentTemplatePanel",button:Object(g.jsx)(_.EuiButton,{fill:!0,"data-test-subj":"manageTemplateButton",iconType:"arrowDown",iconSide:"right",onClick:()=>a((e=>!e))},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesFlyout.manageButtonLabel",defaultMessage:"Create"})),isOpen:t,closePopover:()=>a(!1),panelPaddingSize:"none",anchorPosition:e,repositionOnScroll:!0},Object(g.jsx)(_.EuiContextMenu,{initialPanelId:0,panels:[{id:0,title:B.i18n.translate("xpack.idxMgmt.componentTemplatesFlyout.createContextMenuPanelTitle",{defaultMessage:"New component template"}),items:[{name:B.i18n.translate("xpack.idxMgmt.componentTemplatesFlyout.createComponentTemplateFromScratchButtonLabel",{defaultMessage:"From scratch"}),icon:"plusInCircle",onClick:()=>{}},{name:B.i18n.translate("xpack.idxMgmt.componentTemplatesFlyout.createComponentTemplateFromExistingButtonLabel",{defaultMessage:"From existing index template"}),icon:"symlink",onClick:()=>{}}]}]}))};function ze({onChange:e,filters:t}){const{euiTheme:a}=Object(_.useEuiTheme)(),[n,s]=Object(i.useState)(!1),l=Object.values(t).filter((e=>"on"===e.checked)),o=Object(g.jsx)(_.EuiFilterButton,{iconType:"arrowDown",onClick:()=>{s(!n)},isSelected:n,numFilters:Object.keys(t).length,hasActiveFilters:l.length>0,numActiveFilters:l.length,"data-test-subj":"filterButton"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.indexTemplatesList.filterButtonLabel",defaultMessage:"Filter"}));return Object(g.jsx)(_.EuiFilterGroup,{className:"componentTemplates__filterListButton"},Object(g.jsx)(_.EuiPopover,{ownFocus:!0,button:o,isOpen:n,closePopover:()=>{s(!1)},panelPaddingSize:"none","data-test-subj":"filterList"},Object(g.jsx)("div",{className:"eui-yScroll",css:Object(g.css)({maxHeight:30*a.base},"","")},Object.entries(t).map((([a,i],n)=>Object(g.jsx)(_.EuiFilterSelectItem,{checked:i.checked,key:n,onClick:()=>(a=>{const i="on"===t[a].checked?"off":"on";e({...t,[a]:{...t[a],checked:i}})})(a),"data-test-subj":"filterItem"},i.name))))))}a(153);const Ve=({component:e,onViewDetail:t,actions:a,isSelected:i=!1,dragHandleProps:n})=>{const s=a&&a.length>0,l="function"==typeof i?i(e):i,o=Boolean(n);return Object(g.jsx)("div",{className:Be()("componentTemplatesListItem",{"componentTemplatesListItem--selected":l}),"data-test-subj":"item"},Object(g.jsx)(_.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(g.jsx)(_.EuiFlexItem,{grow:!1},Object(g.jsx)(_.EuiFlexGroup,{alignItems:"center"},o&&Object(g.jsx)(_.EuiFlexItem,null,Object(g.jsx)("div",n,Object(g.jsx)(_.EuiIcon,{type:"grab"}))),Object(g.jsx)(_.EuiFlexItem,{grow:!1,"data-test-subj":"name"},Object(g.jsx)(_.EuiLink,{onClick:()=>t(e)},e.name)),Object(g.jsx)(_.EuiFlexItem,{grow:!1,className:"componentTemplatesListItem__contentIndicator"},Object(g.jsx)(ce.g,{settings:e.hasSettings,mappings:e.hasMappings,aliases:e.hasAliases})))),s&&!l&&Object(g.jsx)(_.EuiFlexItem,{grow:!1},Object(g.jsx)(_.EuiFlexGroup,{gutterSize:"xs"},a.map(((t,a)=>Object(g.jsx)(_.EuiFlexItem,{key:a},Object(g.jsx)(_.EuiToolTip,{content:t.label},Object(g.jsx)(_.EuiButtonIcon,{iconType:t.icon,onClick:()=>t.handler(e),"data-test-subj":`action-${t.icon}`,"aria-label":t.label})))))))),l&&Object(g.jsx)(_.EuiIcon,{className:"componentTemplatesListItem__checkIcon",type:"check",color:"success"}))},Ue=({components:e,listItemProps:t})=>Object(g.jsx)("div",{"data-test-subj":"componentTemplatesList"},e.map((e=>Object(g.jsx)(Ve,h()({key:e.name,component:e},t)))));function qe(e){return e.replace(/[-\[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}a(158);const We={filters:{settings:B.i18n.translate("xpack.idxMgmt.componentTemplatesSelector.filters.indexSettingsLabel",{defaultMessage:"Index settings"}),mappings:B.i18n.translate("xpack.idxMgmt.componentTemplatesSelector.filters.mappingsLabel",{defaultMessage:"Mappings"}),aliases:B.i18n.translate("xpack.idxMgmt.componentTemplatesSelector.filters.aliasesLabel",{defaultMessage:"Aliases"})},searchBoxPlaceholder:B.i18n.translate("xpack.idxMgmt.componentTemplatesSelector.searchBox.placeholder",{defaultMessage:"Search component templates"})},Ge=()=>({settings:{name:We.filters.settings,checked:"off"},mappings:{name:We.filters.mappings,checked:"off"},aliases:{name:We.filters.aliases,checked:"off"}}),$e=({isLoading:e,components:t,listItemProps:a})=>{const[n,s]=Object(i.useState)(""),[l,o]=Object(i.useState)(Ge),r=Object(i.useMemo)((()=>e?[]:t.filter((e=>{if("on"===l.settings.checked&&!e.hasSettings)return!1;if("on"===l.mappings.checked&&!e.hasMappings)return!1;if("on"===l.aliases.checked&&!e.hasAliases)return!1;if(""===n.trim())return!0;const t=function(e,t){const a=`.*${e.split("").map(qe).join(".*")}.*`;return new RegExp(a).test(t)}(n,e.name);return t})).sort(((e,t)=>e.name<t.name?-1:e.name>t.name?1:0))),[e,t,n,l]),c=0===r.length&&t.length>0;if(e)return null;return Object(g.jsx)("div",{className:"componentTemplates","data-test-subj":"componentTemplates"},Object(g.jsx)("div",{className:"componentTemplates__header"},Object(g.jsx)(_.EuiFlexGroup,{gutterSize:"none"},Object(g.jsx)(_.EuiFlexItem,null,Object(g.jsx)(_.EuiFieldSearch,{placeholder:We.searchBoxPlaceholder,value:n,onChange:e=>{s(e.target.value)},"aria-label":We.searchBoxPlaceholder,className:"componentTemplates__searchBox","data-test-subj":"componentTemplateSearchBox"})),Object(g.jsx)(_.EuiFlexItem,{grow:!1},Object(g.jsx)(ze,{filters:l,onChange:o})))),Object(g.jsx)("div",{className:Be()("eui-yScrollWithShadows componentTemplates__listWrapper",{"componentTemplates__listWrapper--is-empty":c})},c?Object(g.jsx)(_.EuiEmptyPrompt,{iconType:"search",title:Object(g.jsx)("h3",null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesSelector.searchResult.emptyPromptTitle",defaultMessage:"No components match your search"})),actions:Object(g.jsx)(_.EuiButton,{onClick:()=>{s(""),o(Ge())}},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesSelector.searchResult.emptyPrompt.clearSearchButtonLabel",defaultMessage:"Clear search"})),"data-test-subj":"emptySearchResult"}):Object(g.jsx)(Ue,{components:r,listItemProps:a})))},He=({components:e,onReorder:t,listItemProps:a})=>Object(g.jsx)(_.EuiDragDropContext,{onDragEnd:({source:a,destination:i})=>{if(a&&i){const n=Object(_.euiDragDropReorder)(e,a.index,i.index);t(n)}}},Object(g.jsx)(_.EuiDroppable,{droppableId:"componentTemplates",spacing:"none"},e.map(((e,t)=>Object(g.jsx)(_.EuiDraggable,{spacing:"none",key:e.name,index:t,draggableId:e.name,customDragHandle:!0},(t=>Object(g.jsx)(Ve,h()({component:e,dragHandleProps:t.dragHandleProps},a))))))));a(163);const{useGlobalFlyout:Je}=D.f,Ye={icons:{view:B.i18n.translate("xpack.idxMgmt.componentTemplatesSelector.viewItemIconLabel",{defaultMessage:"View"}),select:B.i18n.translate("xpack.idxMgmt.componentTemplatesSelector.selectItemIconLabel",{defaultMessage:"Select"}),remove:B.i18n.translate("xpack.idxMgmt.componentTemplatesSelector.removeItemIconLabel",{defaultMessage:"Remove"})}},Ke=({onChange:e,defaultValue:t,onComponentsLoaded:a,docUri:s,emptyPrompt:{text:l,showCreateButton:o}={}})=>{const{data:r,isLoading:c,error:d}=Object(L.b)().useLoadComponentTemplates(),{addContent:u,removeContent:p}=Je(),[m,x]=Object(i.useState)(null),[b,f]=Object(i.useState)([]),j=Object(i.useRef)(!1),h=Object.keys(b).length>0,O=!!(r&&r.length>0),M=()=>{x(null)};Object(i.useEffect)((()=>{if(r)if(t&&t.length>0&&0===b.length&&!1===j.current){const a=t.map((e=>r.find((t=>t.name===e)))).filter(Boolean);f(a),e(a.map((({name:e})=>e))),j.current=!0}else e(b.map((({name:e})=>e)))}),[t,r,b,e]),Object(i.useEffect)((()=>{c||d||a(null!=r?r:[])}),[c,d,r,a]),Object(i.useEffect)((()=>{m&&u({id:"componentTemplateDetails",Component:X,props:{onClose:M,componentTemplateName:m},flyoutProps:{...K,onClose:M},cleanUpFunc:()=>{x(null)}})}),[m,u]),Object(i.useEffect)((()=>{m||p("componentTemplateDetails")}),[m,p]);if(c)return Object(g.jsx)(D.m,null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesSelector.loadingComponentsDescription",defaultMessage:"Loading component templates…"}));if(d)return Object(g.jsx)(D.l,{title:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesSelector.loadingComponentsErrorMessage",defaultMessage:"Error loading components"}),error:d});if(O)return Object(g.jsx)(_.EuiFlexGroup,{className:"componentTemplatesSelector"},Object(g.jsx)(_.EuiFlexItem,{className:Be()("componentTemplatesSelector__selection",{"componentTemplatesSelector__selection--is-empty":!h}),"data-test-subj":"componentTemplatesSelection"},h?Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)("div",{className:"componentTemplatesSelector__selection__header"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesSelector.selectionHeader.componentsSelectedLabel",defaultMessage:"Components selected: {count}",values:{count:Object(g.jsx)("span",{className:"componentTemplatesSelector__selection__header__count"},b.length)}})),Object(g.jsx)("div",{className:"eui-yScrollWithShadows componentTemplatesSelector__selection__content"},Object(g.jsx)(He,{components:b,onReorder:e=>{f(e)},listItemProps:{onViewDetail:e=>{x(e.name)},actions:[{label:Ye.icons.remove,icon:"minusInCircle",handler:e=>{f((t=>t.filter((({name:t})=>e.name!==t))))}}]}}))):Object(g.jsx)(_.EuiText,{textAlign:"center","data-test-subj":"emptyPrompt"},Object(g.jsx)("p",null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesSelector.noComponentSelectedLabel-1",defaultMessage:"Add component template building blocks to this template."}),Object(g.jsx)("br",null),Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesSelector.noComponentSelectedLabel-2",defaultMessage:"Component templates are applied in the order specified."})))),Object(g.jsx)(_.EuiFlexItem,null,Object(g.jsx)($e,{isLoading:c,components:null!=r?r:[],listItemProps:{onViewDetail:e=>{x(e.name)},actions:[{label:Ye.icons.select,icon:"plusInCircle",handler:e=>{f((t=>[...t,e]))}}],isSelected:e=>void 0!==b.find((({name:t})=>e.name===t))}})));const y=Object(g.jsx)(_.EuiText,{color:"subdued"},Object(g.jsx)("p",null,null!=l?l:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesSelector.emptyPromptDescription",defaultMessage:"Components templates let you save index settings, mappings and aliases and inherit from them in index templates."}),Object(g.jsx)("br",null),Object(g.jsx)(_.EuiLink,{href:s,target:"_blank",external:!0},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesSelector.emptyPromptLearnMoreLinkText",defaultMessage:"Learn more."}))));return Object(g.jsx)(_.EuiEmptyPrompt,{iconType:"managementApp",title:Object(g.jsx)("h2",null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesSelector.emptyPromptTitle",defaultMessage:"You don’t have any components yet"})),body:y,actions:o?Object(g.jsx)(Re,{anchorPosition:"downCenter"}):void 0,"data-test-subj":"emptyPrompt"})};var Xe=a(64);const Qe={[F.b]:B.i18n.translate("xpack.idxMgmt.indexStatusLabels.clearingCacheStatusLabel",{defaultMessage:"clearing cache..."}),[F.c]:B.i18n.translate("xpack.idxMgmt.indexStatusLabels.closedStatusLabel",{defaultMessage:"closed"}),[F.d]:B.i18n.translate("xpack.idxMgmt.indexStatusLabels.closingStatusLabel",{defaultMessage:"closing..."}),[F.g]:B.i18n.translate("xpack.idxMgmt.indexStatusLabels.mergingStatusLabel",{defaultMessage:"merging..."}),[F.i]:B.i18n.translate("xpack.idxMgmt.indexStatusLabels.openingStatusLabel",{defaultMessage:"opening..."}),[F.j]:B.i18n.translate("xpack.idxMgmt.indexStatusLabels.refreshingStatusLabel",{defaultMessage:"refreshing..."}),[F.e]:B.i18n.translate("xpack.idxMgmt.indexStatusLabels.flushingStatusLabel",{defaultMessage:"flushing..."}),[F.f]:B.i18n.translate("xpack.idxMgmt.indexStatusLabels.forcingMergeStatusLabel",{defaultMessage:"forcing merge..."})};var Ze=a(77),et=a(26);const tt=e=>e.indices.byId,at=e=>e.indices.loading,it=e=>e.indices.error,nt=e=>Object.values(e.indices.byId),st=(e,t)=>{const a=tt(e);return t.map((e=>a[e]))},lt=e=>e.tableState,ot=["name"],rt=Object(Xe.createSelector)(tt,(e=>e.indices.allIds),lt,((e,t,a)=>{let i=t.map((t=>e[t]));i=((e,t)=>{const a=et.a.toggles.reduce(((e,t)=>({...e,[t.name]:t})),{}),i=Object.keys(a);return i.length?e.filter((e=>i.every((i=>!a[i].matchIndex(e)||!0===t[i])))):e})(i,a.toggleNameToVisibleMap);const n=a.filter||_.EuiSearchBar.Query.MATCH_ALL;return _.EuiSearchBar.Query.execute(n,i,{defaultFields:ot})})),ct=Object(Xe.createSelector)(rt,(e=>Object.keys(e).length)),dt=Object(Xe.createSelector)(lt,ct,(({currentPage:e,pageSize:t},a)=>new _.Pager(a,t,e))),ut=Object(Xe.createSelector)(rt,lt,(e=>e.rowStatus),dt,((e,t,a,i)=>{const n=Object(Ze.p)(e,t.sortField,t.isSortAscending,et.a),{firstItemIndex:s,lastItemIndex:l}=i;return n.slice(s,l+1).map((e=>{if(e.status){const t=Qe[a[e.name]]||a[e.name]||Qe[e.status]||e.status;return{...e,status:t}}return e}))})),pt=Object(Xe.createSelector)(lt,(({filter:e})=>e)),mt=Object(Xe.createSelector)(lt,(({isSortAscending:e})=>e)),gt=Object(Xe.createSelector)(lt,(({sortField:e})=>e));var xt=a(82),bt=a(79);const ft=Object(xt.createAction)("INDEX_MANAGEMENT_CLEAR_CACHE_INDICES_START"),jt=Object(xt.createAction)("INDEX_MANAGEMENT_CLEAR_ROW_STATUS"),ht=Object(xt.createAction)("INDEX_MANAGEMENT_CLOSE_INDICES_START"),Ot=Object(xt.createAction)("INDEX_MANAGEMENT_DELETE_INDICES_SUCCESS"),Mt=Object(xt.createAction)("INDEX_MANAGEMENT_FLUSH_INDICES_START"),yt=Object(xt.createAction)("INDEX_MANAGEMENT_FORCEMERGE_INDICES_START"),vt=Object(xt.createAction)("INDEX_MANAGEMENT_LOAD_INDICES_START"),Et=Object(xt.createAction)("INDEX_MANAGEMENT_LOAD_INDICES_SUCCESS"),kt=Object(xt.createAction)("INDEX_MANAGEMENT_LOAD_INDICES_ERROR"),Tt=()=>async e=>{let t;e(vt());try{t=await Object(Ze.k)()}catch(t){return e(kt(t))}e(Et({indices:t}))},Ft=Object(xt.createAction)("INDEX_MANAGEMENT_OPEN_INDICES_START"),St=Object(xt.createAction)("INDEX_MANAGEMENT_REFRESH_INDICES_START"),_t=Object(xt.createAction)("INDEX_MANAGEMENT_UNFREEZE_INDICES_START"),Ct=Object(xt.createAction)("INDEX_MANAGEMENT_RELOAD_INDICES_SUCCESS"),Lt=(e,t)=>async a=>{let i;try{i=await Object(Ze.n)(e,t)}catch(e){return 404===e.status||403===e.status?a(Tt()):bt.a.showDangerToast(e.body.message)}return i&&i.length>0?a(Ct({indices:i})):bt.a.showWarningToast(B.i18n.translate("xpack.idxMgmt.reloadIndicesAction.indicesPageRefreshFailureMessage",{defaultMessage:"Failed to refresh current page of indices."}))},wt=(Object(xt.createAction)("INDEX_MANAGEMENT_APPLY_FILTERS"),Object(xt.createAction)("INDEX_MANAGEMENT_FILTERS_APPLIED"),Object(xt.createAction)("INDEX_MANAGEMENT_FILTER_CHANGED")),It=Object(xt.createAction)("INDEX_MANAGEMENT_PAGE_CHANGED"),Dt=Object(xt.createAction)("INDEX_MANAGEMENT_PAGE_SIZE_CHANGED"),Pt=Object(xt.createAction)("INDEX_MANAGEMENT_SORT_CHANGED"),Nt=Object(xt.createAction)("INDEX_MANAGEMENT_TOGGLE_CHANGED");var At=a(85),Bt=a(16);const Rt=B.i18n.translate("xpack.rollupJobs.rollupDeprecationLabel",{defaultMessage:"Rollup (deprecated)"}),zt=({children:e})=>Object(g.jsx)(_.EuiToolTip,{title:B.i18n.translate("xpack.rollupJobs.rollupDeprecationTooltipTitle",{defaultMessage:"Rollups are deprecated in 8.11.0"}),content:B.i18n.translate("xpack.rollupJobs.rollupDeprecationTooltipContent",{defaultMessage:"Rollups are deprecated and will be removed in a future version. Use downsampling instead."}),children:e}),Vt=(e,t,a)=>{const n=[];return t.badges.forEach((t=>{const{matchIndex:s,label:l,color:o,filterExpression:r}=t;if(s(e)){const e=()=>{a&&r&&a(_.Query.parse(r))},s=B.i18n.translate("xpack.idxMgmt.badgeAriaLabel",{defaultMessage:"{label}. Select to filter on this.",values:{label:l}}),c=a&&r?Object(g.jsx)(_.EuiBadge,{color:o,onClick:e,onClickAriaLabel:s},l):Object(g.jsx)(_.EuiBadge,{color:o},l),d=t.label===Rt?Object(g.jsx)(zt,null,c):c;n.push(Object(g.jsx)(i.Fragment,{key:l}," ",d))}})),Object(g.jsx)(i.Fragment,null,n)},Ut=({title:e,error:t,...a})=>{const{cause:n,message:s,statusText:l,attributes:{cause:o}={}}=t,r=null!=o?o:n;return Object(g.jsx)(_.EuiCallOut,h()({title:e,color:"danger",iconType:"warning"},a),Object(g.jsx)("div",null,s||l),r&&Object(g.jsx)(i.Fragment,null,Object(g.jsx)(_.EuiSpacer,{size:"m"}),Object(g.jsx)("ul",null,r.map(((e,t)=>Object(g.jsx)("li",{key:t},e))))))};function qt(e){const t=encodeURI(e).split(/%(?:u[0-9A-F]{2})?[0-9A-F]{2}|./).length-1,a=new RegExp('[\\\\/:*?"<>|\\s,#]+');return!(t>255||e!==e.toLowerCase()||null!==e.match(/^[-_+.]/)||null!==e.match(a)||0===e.length)}const Wt=B.i18n.translate("xpack.idxMgmt.createIndex.modal.invalidName.error",{defaultMessage:"Index name is not valid"}),Gt=({closeModal:e,loadIndices:t})=>{const[a,s]=Object(i.useState)(""),[l,o]=Object(i.useState)(),[r,c]=Object(i.useState)(!1),[d,u]=Object(i.useState)(),p=Object(i.useCallback)((async()=>{c(!0);try{const{error:i}=await Object(Ze.d)(a);if(c(!1),!i)return bt.a.showSuccessToast(B.i18n.translate("xpack.idxMgmt.createIndex.successfullyCreatedIndexMessage",{defaultMessage:"Successfully created index: {indexName}",values:{indexName:a}})),e(),void t();u(i.message)}catch(e){c(!1),u(e.message)}}),[e,a,t]);return Object(g.jsx)(_.EuiModal,{onClose:e,initialFocus:"[name=indexName]"},Object(g.jsx)(_.EuiModalHeader,null,Object(g.jsx)(_.EuiModalHeaderTitle,null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.createIndex.modal.title",defaultMessage:"Create index"}))),Object(g.jsx)(_.EuiModalBody,null,d&&Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiCallOut,{color:"danger",iconType:"error",title:B.i18n.translate("xpack.idxMgmt.createIndex.modal.error.title",{defaultMessage:"Error creating index"})},Object(g.jsx)(_.EuiText,null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.createIndex.modal.error.description",defaultMessage:"Error creating index: {errorMessage}",values:{errorMessage:d}}))),Object(g.jsx)(_.EuiSpacer,null)),Object(g.jsx)(_.EuiForm,{id:"createIndexModalForm",component:"form"},Object(g.jsx)(_.EuiFormRow,{fullWidth:!0,label:B.i18n.translate("xpack.idxMgmt.createIndex.modal.indexName.label",{defaultMessage:"Index name"}),isDisabled:r,isInvalid:void 0!==l,error:l},Object(g.jsx)(_.EuiFieldText,{fullWidth:!0,name:"indexName",value:a,onChange:e=>{return t=e.target.value,s(t),void(qt(t)?l&&o(void 0):o(Wt));var t},"data-test-subj":"createIndexNameFieldText"})))),Object(g.jsx)(_.EuiModalFooter,null,Object(g.jsx)(_.EuiButtonEmpty,{onClick:e,disabled:r,"data-test-subj":"createIndexCancelButton","data-telemetry-id":"idxMgmt-indexList-createIndex-cancelButton"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.createIndex.modal.cancelButton",defaultMessage:"Cancel"})),Object(g.jsx)(_.EuiButton,{fill:!0,disabled:void 0!==l,isLoading:r,type:"submit",onClick:()=>{qt(a)&&p()},form:"createIndexModalForm","data-test-subj":"createIndexSaveButton","data-telemetry-id":"idxMgmt-indexList-createIndex-saveButton"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.createIndex.modal.saveButton",defaultMessage:"Create"}))))},$t=({loadIndices:e})=>{const[t,a]=Object(i.useState)(!1);return Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiButton,{fill:!0,iconType:"plusInCircleFilled",onClick:()=>a(!0),key:"createIndexButton","data-test-subj":"createIndexButton","data-telemetry-id":"idxMgmt-indexList-createIndexButton"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.indexTable.createIndexButton",defaultMessage:"Create index"})),t&&Object(g.jsx)(Gt,{closeModal:()=>a(!1),loadIndices:e}))},Ht=({loadIndices:e,filter:t,resetFilter:a,extensionsService:i})=>t?Object(g.jsx)(_.EuiEmptyPrompt,{"data-test-subj":"noIndicesMessage",title:Object(g.jsx)("h3",null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.noMatch.noIndicesTitle",defaultMessage:"No indices found"})),body:Object(g.jsx)("p",null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.noMatch.noIndicesDescription",defaultMessage:"Start a new search or try using different filters."})),actions:Object(g.jsx)(_.EuiButton,{onClick:a,fill:!0,color:"primary",iconType:"cross","data-test-subj":"clearIndicesSearch"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.noMatch.clearSearchButton",defaultMessage:"Clear search"}))}):i.emptyListContent?i.emptyListContent.renderContent({createIndexButton:Object(g.jsx)($t,{loadIndices:e})}):Object(g.jsx)(_.EuiEmptyPrompt,{"data-test-subj":"createIndexMessage",title:Object(g.jsx)("h3",null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.noMatch.createIndexTitle",defaultMessage:"No indices"})),body:Object(g.jsx)("p",null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.noMatch.createIndexDescription",defaultMessage:"You don't have any indices yet."})),actions:Object(g.jsx)($t,{loadIndices:e})});var Jt=a(71);const Yt=({templatesToDelete:e,callback:t})=>{const[a,n]=Object(i.useState)(!1),s=e.length,l=Boolean(e.find((({name:e})=>e.startsWith("."))));return Object(g.jsx)(_.EuiConfirmModal,{buttonColor:"danger","data-test-subj":"deleteTemplatesConfirmation",title:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.deleteTemplatesModal.modalTitleText",defaultMessage:"Delete {numTemplatesToDelete, plural, one {template} other {# templates}}",values:{numTemplatesToDelete:s}}),onCancel:()=>{n(!1),t()},onConfirm:()=>{Object(Jt.h)(e).then((({data:{templatesDeleted:a,errors:i},error:n})=>{const s=a&&a.length;if(s){const i=1===a.length?B.i18n.translate("xpack.idxMgmt.deleteTemplatesModal.successDeleteSingleNotificationMessageText",{defaultMessage:"Deleted template ''{templateName}''",values:{templateName:e[0].name}}):B.i18n.translate("xpack.idxMgmt.deleteTemplatesModal.successDeleteMultipleNotificationMessageText",{defaultMessage:"Deleted {numSuccesses, plural, one {# template} other {# templates}}",values:{numSuccesses:a.length}});t({hasDeletedTemplates:s}),bt.a.showSuccessToast(i)}if(n||i&&i.length){const t=i&&i.length>1||n&&e.length>1?B.i18n.translate("xpack.idxMgmt.deleteTemplatesModal.multipleErrorsNotificationMessageText",{defaultMessage:"Error deleting {count} templates",values:{count:i&&i.length||e.length}}):B.i18n.translate("xpack.idxMgmt.deleteTemplatesModal.errorNotificationMessageText",{defaultMessage:"Error deleting template ''{name}''",values:{name:i&&i[0].name||e[0]}});bt.a.showDangerToast(t)}}))},cancelButtonText:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.deleteTemplatesModal.cancelButtonLabel",defaultMessage:"Cancel"}),confirmButtonText:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.deleteTemplatesModal.confirmButtonLabel",defaultMessage:"Delete {numTemplatesToDelete, plural, one {template} other {templates} }",values:{numTemplatesToDelete:s}}),confirmButtonDisabled:!!l&&!a},Object(g.jsx)(i.Fragment,null,Object(g.jsx)("p",null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.deleteTemplatesModal.deleteDescription",defaultMessage:"You are about to delete {numTemplatesToDelete, plural, one {this template} other {these templates} }:",values:{numTemplatesToDelete:s}})),Object(g.jsx)("ul",null,e.map((({name:e})=>Object(g.jsx)("li",{key:e},e,e.startsWith(".")?Object(g.jsx)(i.Fragment,null," ",Object(g.jsx)(_.EuiBadge,{iconType:"warning",color:"hollow"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.deleteTemplatesModal.systemTemplateLabel",defaultMessage:"System template"}))):null)))),l&&Object(g.jsx)(_.EuiCallOut,{title:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.deleteTemplatesModal.proceedWithCautionCallOutTitle",defaultMessage:"Deleting a system template can break Kibana"}),color:"danger",iconType:"warning","data-test-subj":"deleteSystemTemplateCallOut"},Object(g.jsx)("p",null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.deleteTemplatesModal.proceedWithCautionCallOutDescription",defaultMessage:"System templates are critical for internal operations. If you delete this template, you can’t recover it."})),Object(g.jsx)(_.EuiCheckbox,{id:"confirmDeleteTemplatesCheckbox",label:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.deleteTemplatesModal.confirmDeleteCheckboxLabel",defaultMessage:"I understand the consequences of deleting a system template"}),checked:a,onChange:e=>n(e.target.checked)}))))};var Kt=a(6),Xt=a(7),Qt=a(10);const{stripEmptyFields:Zt}=c.H,ea=n.a.memo((({template:e,filters:t})=>{const[a,n]=Object(i.useState)("{}"),s=Object(i.useCallback)((async()=>{var a;if(!e||0===Object.keys(e).length)return;const i=Object(Qt.b)(Zt(e,{types:["string"]})),{data:s,error:l}=await Object(Ze.o)(i);let o=s;s&&(delete s.overlapping,s.template&&void 0===s.template.mappings&&(s.template.mappings={}),t&&(o=Object.entries(t).reduce(((e,[t,a])=>(a||delete e[t],e)),{...s.template}))),n(JSON.stringify(null!==(a=o)&&void 0!==a?a:l,null,2))}),[e,t]);Object(i.useEffect)((()=>{s()}),[s]);const l="{}"===a,o=Boolean(t);return l&&o?Object(g.jsx)(_.EuiCallOut,{title:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.simulateTemplate.noFilterSelected",defaultMessage:"Select at least one option to preview."}),iconType:"pin",size:"s"}):l?null:Object(g.jsx)(_.EuiCodeBlock,{language:"json",isCopyable:!0,"data-test-subj":"simulateTemplatePreview"},a)})),ta=Object(Kt.getUseField)({component:Xt.CheckBoxField}),aa={"data-test-subj":"simulateTemplateFlyout","aria-labelledby":"simulateTemplateFlyoutTitle"},ia={filters:{label:B.i18n.translate("xpack.idxMgmt.simulateTemplate.filters.label",{defaultMessage:"Include:"}),mappings:B.i18n.translate("xpack.idxMgmt.simulateTemplate.filters.mappings",{defaultMessage:"Mappings"}),indexSettings:B.i18n.translate("xpack.idxMgmt.simulateTemplate.filters.indexSettings",{defaultMessage:"Index settings"}),aliases:B.i18n.translate("xpack.idxMgmt.simulateTemplate.filters.aliases",{defaultMessage:"Aliases"})}},na=({onClose:e,getTemplate:t,filters:a,onFiltersChange:s})=>{const l=Object(i.useRef)(!1),[o,r]=Object(i.useState)({}),{form:c}=Object(Kt.useForm)({defaultValue:a}),{subscribe:d}=c;Object(i.useEffect)((()=>{d((e=>{s(e.data.format())}))}),[d,s]);const u=Object(i.useCallback)((async()=>{const e=await t();r(e)}),[t]);return Object(i.useEffect)((()=>{!1===l.current&&u(),l.current=!0}),[u]),Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiFlyoutHeader,null,Object(g.jsx)(_.EuiTitle,{size:"m"},Object(g.jsx)("h2",{id:"componentTemplatesFlyoutTitle","data-test-subj":"title"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.simulateTemplate.title",defaultMessage:"Preview index template"}))),Object(g.jsx)(_.EuiSpacer,{size:"xs"}),Object(g.jsx)(_.EuiTextColor,{color:"subdued"},Object(g.jsx)(_.EuiText,{size:"s"},Object(g.jsx)("p",null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.simulateTemplate.descriptionText",defaultMessage:"This is the final template that will be applied to matching indices based on the component templates you have selected and any overrides you've added."}))))),Object(g.jsx)(_.EuiFlyoutBody,{"data-test-subj":"content"},Object(g.jsx)(Kt.Form,{form:c},Object(g.jsx)(_.EuiFlexGroup,{alignItems:"center"},Object(g.jsx)(_.EuiFlexItem,{grow:!1},ia.filters.label),Object(g.jsx)(_.EuiFlexItem,{grow:!1},Object(g.jsx)(ta,{path:"mappings",config:{label:ia.filters.mappings}})),Object(g.jsx)(_.EuiFlexItem,{grow:!1},Object(g.jsx)(ta,{path:"settings",config:{label:ia.filters.indexSettings}})),Object(g.jsx)(_.EuiFlexItem,{grow:!1},Object(g.jsx)(ta,{path:"aliases",config:{label:ia.filters.aliases}}))),Object(g.jsx)(_.EuiSpacer,null),Object(g.jsx)(Kt.FormDataProvider,null,(e=>Object(g.jsx)(ea,{template:o,filters:e}))))),Object(g.jsx)(_.EuiFlyoutFooter,null,Object(g.jsx)(_.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},Object(g.jsx)(_.EuiFlexItem,{grow:!1},Object(g.jsx)(_.EuiButtonEmpty,{iconType:"cross",flush:"left",onClick:e,"data-test-subj":"closeDetailsButton"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.simulateTemplate.closeButtonLabel",defaultMessage:"Close"}))),Object(g.jsx)(_.EuiFlexItem,{grow:!1},Object(g.jsx)(_.EuiButton,{iconType:"refresh",onClick:u,"data-test-subj":"updateSimulationButton",fill:!0},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.simulateTemplate.updateButtonLabel",defaultMessage:"Update"}))))))},sa=({history:e,showCta:t})=>Object(g.jsx)(_.EuiCallOut,{title:B.i18n.translate("xpack.idxMgmt.legacyIndexTemplatesDeprecation.title",{defaultMessage:"Legacy index templates are deprecated in favor of composable index templates"}),color:"warning",iconType:"warning","data-test-subj":"legacyIndexTemplateDeprecationWarning"},t&&e&&Object(g.jsx)("p",null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.legacyIndexTemplatesDeprecation.description",defaultMessage:"{createTemplateButton} or {learnMoreLink}",values:{createTemplateButton:Object(g.jsx)(_.EuiLink,h()({"data-test-subj":"createTemplateButton"},Object(c.F)(e,"/create_template")),Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.legacyIndexTemplatesDeprecation.createTemplatesButtonLabel",defaultMessage:"Create composable template"})),learnMoreLink:Object(g.jsx)(_.EuiLink,{href:C.a.getTemplatesDocumentationLink(),target:"_blank",external:!0},B.i18n.translate("xpack.idxMgmt.home.legacyIndexTemplatesDeprecation.ctaLearnMoreLinkText",{defaultMessage:"learn more."}))}})),!t&&Object(g.jsx)(_.EuiLink,{href:C.a.getTemplatesDocumentationLink(),target:"_blank",external:!0},B.i18n.translate("xpack.idxMgmt.home.legacyIndexTemplatesDeprecation.learnMoreLinkText",{defaultMessage:"Learn more."}))),{emptyField:la,containsCharsField:oa,startsWithField:ra,indexPatternField:ca,lowerCaseStringField:da,isJsonField:ua}=c.A,{toInt:pa}=c.z,ma=F.l.join(" "),ga={type:c.d.TEXT,label:B.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.fieldNameLabel",{defaultMessage:"Name"}),validations:[{validator:la(B.i18n.translate("xpack.idxMgmt.templateValidation.templateNameRequiredError",{defaultMessage:"A template name is required."}))},{validator:oa({chars:" ",message:B.i18n.translate("xpack.idxMgmt.templateValidation.templateNameSpacesError",{defaultMessage:"Spaces are not allowed in a template name."})})},{validator:ra({char:"_",message:B.i18n.translate("xpack.idxMgmt.templateValidation.templateNameUnderscoreError",{defaultMessage:"A template name must not start with an underscore."})})},{validator:ra({char:".",message:B.i18n.translate("xpack.idxMgmt.templateValidation.templateNamePeriodError",{defaultMessage:"A template name must not start with a period."})})},{validator:oa({chars:F.m,message:({charsFound:e})=>B.i18n.translate("xpack.idxMgmt.templateValidation.templateNameInvalidaCharacterError",{defaultMessage:'A template name must not contain the character "{invalidChar}"',values:{invalidChar:e[0]}})})},{validator:da(B.i18n.translate("xpack.idxMgmt.templateValidation.templateNameLowerCaseRequiredError",{defaultMessage:"The template name must be in lowercase."}))}]},xa={...ga,validations:[]},ba={logistics:{name:ga,indexPatterns:{type:c.d.COMBO_BOX,defaultValue:[],label:B.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.fieldIndexPatternsLabel",{defaultMessage:"Index patterns"}),helpText:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepLogistics.fieldIndexPatternsHelpText",defaultMessage:"Spaces and the characters {invalidCharactersList} are not allowed.",values:{invalidCharactersList:Object(g.jsx)("strong",null,ma)}}),validations:[{validator:la(B.i18n.translate("xpack.idxMgmt.templateValidation.indexPatternsRequiredError",{defaultMessage:"At least one index pattern is required."}))},{validator:ca(B.i18n),type:c.u.ARRAY_ITEM,isBlocking:!1}]},doCreateDataStream:{type:c.d.TOGGLE,label:B.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.datastreamLabel",{defaultMessage:"Create data stream"}),defaultValue:!1},order:{type:c.d.NUMBER,label:B.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.fieldOrderLabel",{defaultMessage:"Order (optional)"}),formatters:[pa]},priority:{type:c.d.NUMBER,label:B.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.fieldPriorityLabel",{defaultMessage:"Priority (optional)"}),formatters:[pa]},version:{type:c.d.NUMBER,label:B.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.fieldVersionLabel",{defaultMessage:"Version (optional)"}),formatters:[pa]},"lifecycle.enabled":{type:c.d.TOGGLE,label:B.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.enableDataRetentionLabel",{defaultMessage:"Enable data retention"}),defaultValue:!1},"lifecycle.infiniteDataRetention":{type:c.d.TOGGLE,label:B.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.infiniteDataRetentionLabel",{defaultMessage:"Keep data indefinitely"}),defaultValue:!1},"lifecycle.value":{type:c.d.TEXT,label:B.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.fieldDataRetentionValueLabel",{defaultMessage:"Data Retention"}),formatters:[pa],validations:[{validator:({value:e,formData:t})=>{if(!t["lifecycle.infiniteDataRetention"])return e?e<=0?{message:B.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.dataRetentionFieldNonNegativeError",{defaultMessage:"A positive value is required."})}:e%1!=0?{message:B.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.dataRetentionFieldDecimalError",{defaultMessage:"The value should be an integer number."})}:void 0:{message:B.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.dataRetentionFieldRequiredError",{defaultMessage:"A data retention value is required."})}}}]},"lifecycle.unit":{type:c.d.TEXT,label:B.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.fieldDataRetentionUnitLabel",{defaultMessage:"Time unit"}),defaultValue:"d"},allowAutoCreate:{type:c.d.RADIO_GROUP,label:B.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.fieldAllowAutoCreateLabel",{defaultMessage:"Allow auto create"}),defaultValue:F.W.NO_OVERWRITE_RADIO_OPTION},_meta:{label:B.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.metaFieldEditorLabel",{defaultMessage:"_meta field data (optional)"}),helpText:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepLogistics.metaFieldEditorHelpText",defaultMessage:"Use JSON format: {code}",values:{code:Object(g.jsx)(_.EuiCode,null,JSON.stringify({arbitrary_data:"anything_goes"}))}}),validations:[{validator:ua(B.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.metaFieldEditorJsonError",{defaultMessage:"The _meta field JSON is not valid."}),{allowEmptyString:!0})}],deserializer:e=>""===e?e:JSON.stringify(e,null,2),serializer:e=>{try{return JSON.parse(e)}catch(t){return e}}},addMeta:{type:c.d.TOGGLE,label:B.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.addMetadataLabel",{defaultMessage:"Add metadata"})}}},fa=Object(c.D)({component:c.e}),ja=Object(c.C)({titleTag:"h3"});function ha(e){return{...e,addMeta:Boolean(e._meta&&Object.keys(e._meta).length),doCreateDataStream:Boolean(e.dataStream)}}function Oa(e={}){return t=>{var a;const{addMeta:i,doCreateDataStream:n,...s}=t;return{...s,dataStream:n?null!==(a=e.dataStream)&&void 0!==a?a:{}:void 0}}}const Ma=n.a.memo((({defaultValue:e,isEditing:t=!1,onChange:a,isLegacy:s=!1})=>{const{form:l}=Object(c.K)({schema:ba.logistics,defaultValue:e,options:{stripEmptyFields:!1},serializer:Oa(e),deserializer:ha}),{submit:o,isSubmitted:r,isValid:d,getErrors:u,getFormData:p}=l,[{addMeta:m,doCreateDataStream:x,lifecycle:b}]=Object(c.L)({form:l,watch:["addMeta","lifecycle.enabled","lifecycle.infiniteDataRetention","doCreateDataStream"]}),f=Object(i.useCallback)((async()=>(await o()).isValid),[o]);Object(i.useEffect)((()=>{a({isValid:d,getData:p,validate:f})}),[a,d,f,p]);const{name:j,indexPatterns:h,createDataStream:O,order:M,priority:y,version:v,dataRetention:E,allowAutoCreate:k}=(C.a.getEsDocsBase(),{name:{title:B.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.nameTitle",{defaultMessage:"Name"}),description:B.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.nameDescription",{defaultMessage:"A unique identifier for this template."}),testSubject:"nameField"},indexPatterns:{title:B.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.indexPatternsTitle",{defaultMessage:"Index patterns"}),description:B.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.indexPatternsDescription",{defaultMessage:"The index patterns to apply to the template."}),testSubject:"indexPatternsField"},createDataStream:{title:B.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.dataStreamTitle",{defaultMessage:"Data stream"}),description:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepLogistics.dataStreamDescription",defaultMessage:"The template creates data streams instead of indices. {docsLink}",values:{docsLink:Object(g.jsx)(_.EuiLink,{href:C.a.getDataStreamsDocumentationLink(),target:"_blank",external:!0},B.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.dataStreamDocumentionLink",{defaultMessage:"Learn more."}))}}),testSubject:"dataStreamField"},order:{title:B.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.orderTitle",{defaultMessage:"Merge order"}),description:B.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.orderDescription",{defaultMessage:"The merge order when multiple templates match an index."}),testSubject:"orderField"},priority:{title:B.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.priorityTitle",{defaultMessage:"Priority"}),description:B.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.priorityDescription",{defaultMessage:"Only the highest priority template will be applied."}),testSubject:"priorityField"},version:{title:B.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.versionTitle",{defaultMessage:"Version"}),description:B.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.versionDescription",{defaultMessage:"A number that identifies the template to external management systems."}),testSubject:"versionField"},dataRetention:{title:B.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.dataRetentionTitle",{defaultMessage:"Data retention"}),description:B.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.dataRetentionDescription",{defaultMessage:"Data will be kept at least this long before being automatically deleted."}),unitTestSubject:"unitDataRetentionField"},allowAutoCreate:{title:B.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.allowAutoCreateTitle",{defaultMessage:"Allow auto create"}),description:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepLogistics.allowAutoCreateDescription",defaultMessage:"This setting overwrites the value of the {settingName} cluster setting. If set to {true} in a template, then indices can be automatically created using that template.",values:{settingName:Object(g.jsx)(_.EuiCode,null,"action.auto_create_index"),true:Object(g.jsx)(_.EuiCode,null,"true")}}),testSubject:"allowAutoCreateField"}});return Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(g.jsx)(_.EuiFlexItem,{grow:!1},Object(g.jsx)(_.EuiTitle,null,Object(g.jsx)("h2",{"data-test-subj":"stepTitle"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepLogistics.stepTitle",defaultMessage:"Logistics"})))),Object(g.jsx)(_.EuiFlexItem,{grow:!1},Object(g.jsx)(_.EuiButtonEmpty,{size:"s",flush:"right",href:C.a.getTemplatesDocumentationLink(s),target:"_blank",iconType:"help"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepLogistics.docsButtonLabel",defaultMessage:"Index Templates docs"})))),Object(g.jsx)(_.EuiSpacer,{size:"l"}),Object(g.jsx)(c.f,{form:l,isInvalid:r&&!d,error:u(),"data-test-subj":"stepLogistics"},Object(g.jsx)(ja,{title:j.title,description:j.description},Object(g.jsx)(fa,{path:"name",componentProps:{"data-test-subj":j.testSubject,euiFieldProps:{disabled:t}},config:t?xa:ga})),Object(g.jsx)(ja,{title:h.title,description:h.description},Object(g.jsx)(fa,{path:"indexPatterns",componentProps:{"data-test-subj":h.testSubject}})),!0!==s&&Object(g.jsx)(ja,{title:O.title,description:O.description},Object(g.jsx)(fa,{path:"doCreateDataStream",componentProps:{"data-test-subj":O.testSubject}})),x&&Object(g.jsx)(ja,{title:E.title,description:Object(g.jsx)(n.a.Fragment,null,E.description,Object(g.jsx)(_.EuiSpacer,{size:"m"}),Object(g.jsx)(fa,{path:"lifecycle.enabled",componentProps:{"data-test-subj":"dataRetentionToggle"}}))},(null==b?void 0:b.enabled)&&Object(g.jsx)(fa,{path:"lifecycle.value",component:c.l,labelAppend:Object(g.jsx)(fa,{path:"lifecycle.infiniteDataRetention","data-test-subj":"infiniteDataRetentionToggle",componentProps:{euiFieldProps:{compressed:!0}}}),componentProps:{euiFieldProps:{disabled:null==b?void 0:b.infiniteDataRetention,"data-test-subj":"valueDataRetentionField",min:1,append:Object(g.jsx)(ce.h,{path:"lifecycle.unit",options:ce.i,disabled:null==b?void 0:b.infiniteDataRetention,euiFieldProps:{"data-test-subj":"unitDataRetentionField"}})}}})),s&&Object(g.jsx)(ja,{title:M.title,description:M.description},Object(g.jsx)(fa,{path:"order",componentProps:{"data-test-subj":M.testSubject}})),!1===s&&Object(g.jsx)(ja,{title:y.title,description:y.description},Object(g.jsx)(fa,{path:"priority",componentProps:{"data-test-subj":y.testSubject}})),Object(g.jsx)(ja,{title:v.title,description:v.description},Object(g.jsx)(fa,{path:"version",componentProps:{"data-test-subj":v.testSubject}})),!1===s&&Object(g.jsx)(ja,{title:k.title,description:k.description},Object(g.jsx)(fa,{path:"allowAutoCreate",component:c.o,componentProps:{"data-test-subj":k.testSubject,euiFieldProps:{options:F.Y,name:"allowAutoCreate radio group"}}})),!1===s&&Object(g.jsx)(ja,{title:B.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.metaFieldTitle",{defaultMessage:"_meta field"}),description:Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepLogistics.metaFieldDescription",defaultMessage:"Use the _meta field to store any metadata you want."}),Object(g.jsx)(_.EuiSpacer,{size:"m"}),Object(g.jsx)(fa,{path:"addMeta","data-test-subj":"metaToggle"}))},m&&Object(g.jsx)(fa,{path:"_meta",component:c.i,componentProps:{codeEditorProps:{height:"280px","aria-label":B.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.metaFieldEditorAriaLabel",{defaultMessage:"_meta field data editor"}),"data-test-subj":"metaField"}}}))))})),ya=({isEditing:e,isLegacy:t})=>{const{defaultValue:a,updateContent:i}=c.g.useContent("logistics");return Object(g.jsx)(Ma,{defaultValue:a,onChange:i,isEditing:e,isLegacy:t})};var va=a(68);const Ea={title:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepComponents.stepTitle",defaultMessage:"Component templates (optional)"}),description:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepComponents.componentsDescription",defaultMessage:"Component templates let you save index settings, mappings and aliases and inherit from them in index templates."})},ka=({defaultValue:e,onChange:t,esDocsBase:a})=>{const[s,l]=Object(i.useState)({isLoadingComponents:!0,components:[]}),o=Object(i.useCallback)((e=>{l({isLoadingComponents:!1,components:e})}),[]),r=Object(i.useCallback)((e=>{t({isValid:!0,validate:async()=>!0,getData:()=>e.length>0?e:void 0})}),[t]),c=!0===s.isLoadingComponents||s.components.length>0,d=va.v.getIndicesComponentTemplate();return Object(g.jsx)("div",{"data-test-subj":"stepComponents"},c?Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(g.jsx)(_.EuiFlexItem,{grow:!1},Object(g.jsx)(_.EuiTitle,null,Object(g.jsx)("h2",{"data-test-subj":"stepTitle"},Ea.title)),Object(g.jsx)(_.EuiSpacer,{size:"s"}),Object(g.jsx)(_.EuiText,null,Object(g.jsx)("p",null,Ea.description))),Object(g.jsx)(_.EuiFlexItem,{grow:!1},Object(g.jsx)(_.EuiButtonEmpty,{size:"s",flush:"right",href:d,target:"_blank",iconType:"help"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepComponents.docsButtonLabel",defaultMessage:"Component templates docs"})))),Object(g.jsx)(_.EuiSpacer,{size:"l"})):null,Object(g.jsx)(Ke,{defaultValue:e,onChange:r,onComponentsLoaded:o,docUri:d,emptyPrompt:{text:Ea.description,showCreateButton:!1}}))},Ta=()=>{const{defaultValue:e,updateContent:t}=c.g.useContent("components");return Object(g.jsx)(ka,{defaultValue:e,onChange:t,esDocsBase:C.a.getEsDocsBase()})};var Fa=a(17);const{stripEmptyFields:Sa}=c.H,_a=()=>Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.noneDescriptionText",defaultMessage:"None"}),Ca=e=>("boolean"==typeof e?e:e&&Object.entries(e).length>0)?Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.yesDescriptionText",defaultMessage:"Yes"}):Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.noDescriptionText",defaultMessage:"No"}),La=({template:e})=>Object(g.jsx)("div",{"data-test-subj":"previewTab"},Object(g.jsx)(_.EuiSpacer,{size:"m"}),Object(g.jsx)(_.EuiText,null,Object(g.jsx)("p",null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.previewTab.descriptionText",defaultMessage:"This is the final template that will be applied to matching indices. Component templates are applied in the order specified. Explicit mappings, settings, and aliases override the component templates."}))),Object(g.jsx)(_.EuiSpacer,{size:"m"}),Object(g.jsx)(ea,{template:e})),wa=n.a.memo((({template:e,navigateToStep:t})=>{const{name:a,indexPatterns:s,version:l,order:o,template:c,priority:d,allowAutoCreate:u,composedOf:p,_meta:m,_kbnMeta:{isLegacy:x}}=e,b=x?Object(Fa.e)(Sa(e,{types:["string"]})):Object(Fa.f)(Sa(e,{types:["string"]})),f=Object(r.c)(b,"mappings"),j=Object(r.c)(b,"settings"),h=Object(r.c)(b,"aliases"),O=null==c?void 0:c.lifecycle,M=s.length,y=Boolean(s.find((e=>"*"===e))),v=[{id:"summary",name:B.i18n.translate("xpack.idxMgmt.templateForm.stepReview.summaryTabTitle",{defaultMessage:"Summary"}),content:Object(g.jsx)((()=>Object(g.jsx)("div",{"data-test-subj":"summaryTab"},Object(g.jsx)(_.EuiSpacer,{size:"m"}),Object(g.jsx)(_.EuiFlexGroup,null,Object(g.jsx)(_.EuiFlexItem,null,Object(g.jsx)(_.EuiDescriptionList,{textStyle:"reverse"},Object(g.jsx)(_.EuiDescriptionListTitle,null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.indexPatternsLabel",defaultMessage:"Index {numIndexPatterns, plural, one {pattern} other {patterns}}",values:{numIndexPatterns:M}})),Object(g.jsx)(_.EuiDescriptionListDescription,null,M>1?Object(g.jsx)(_.EuiText,null,Object(g.jsx)("ul",null,s.map(((e,t)=>Object(g.jsx)("li",{key:`${e}-${t}`},Object(g.jsx)(_.EuiTitle,{size:"xs"},Object(g.jsx)("span",null,e))))))):s.toString()),x?Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiDescriptionListTitle,null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.orderLabel",defaultMessage:"Order"})),Object(g.jsx)(_.EuiDescriptionListDescription,null,o||Object(g.jsx)(_a,null))):Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiDescriptionListTitle,null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.priorityLabel",defaultMessage:"Priority"})),Object(g.jsx)(_.EuiDescriptionListDescription,null,d||Object(g.jsx)(_a,null))),Object(g.jsx)(_.EuiDescriptionListTitle,null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.versionLabel",defaultMessage:"Version"})),Object(g.jsx)(_.EuiDescriptionListDescription,null,l||Object(g.jsx)(_a,null)),!0!==x&&u!==F.W.NO_OVERWRITE_RADIO_OPTION&&Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiDescriptionListTitle,null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.allowAutoCreateLabel",defaultMessage:"Allow auto create"})),Object(g.jsx)(_.EuiDescriptionListDescription,null,u===F.W.TRUE_RADIO_OPTION?Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.yesDescriptionText",defaultMessage:"Yes"}):Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.noDescriptionText",defaultMessage:"No"}))),!0!==x&&Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiDescriptionListTitle,null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.componentsLabel",defaultMessage:"Component templates"})),Object(g.jsx)(_.EuiDescriptionListDescription,null,p&&p.length>0?p.length>1?Object(g.jsx)(_.EuiText,null,Object(g.jsx)("ul",null,p.map(((e,t)=>Object(g.jsx)("li",{key:`${e}-${t}`},Object(g.jsx)(_.EuiTitle,{size:"xs"},Object(g.jsx)("span",null,e))))))):p.toString():Object(g.jsx)(_a,null))))),Object(g.jsx)(_.EuiFlexItem,null,Object(g.jsx)(_.EuiDescriptionList,{textStyle:"reverse"},Object(g.jsx)(_.EuiDescriptionListTitle,null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.settingsLabel",defaultMessage:"Index settings"})),Object(g.jsx)(_.EuiDescriptionListDescription,null,Ca(j)),Object(g.jsx)(_.EuiDescriptionListTitle,null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.mappingLabel",defaultMessage:"Mappings"})),Object(g.jsx)(_.EuiDescriptionListDescription,null,Ca(f)),Object(g.jsx)(_.EuiDescriptionListTitle,null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.aliasesLabel",defaultMessage:"Aliases"})),Object(g.jsx)(_.EuiDescriptionListDescription,null,Ca(h)),!0!==x&&(null==O?void 0:O.enabled)&&Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiDescriptionListTitle,{"data-test-subj":"lifecycleTitle"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.lifecycleLabel",defaultMessage:"Data retention"})),Object(g.jsx)(_.EuiDescriptionListDescription,{"data-test-subj":"lifecycleValue"},q(O,!0))),!0!==x&&m&&Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiDescriptionListTitle,{"data-test-subj":"metaTitle"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.metaLabel",defaultMessage:"Metadata"})),Object(g.jsx)(_.EuiDescriptionListDescription,null,Object(g.jsx)(_.EuiCodeBlock,{language:"json"},JSON.stringify(m,null,2))))))))),null)},{id:"request",name:B.i18n.translate("xpack.idxMgmt.templateForm.stepReview.requestTabTitle",{defaultMessage:"Request"}),content:Object(g.jsx)((()=>{const e=`PUT ${x?"_template":"_index_template"}/${a||"<templateName>"}\n${JSON.stringify(b,null,2)}`,t=e.length<6e4?"json":void 0;return Object(g.jsx)("div",{"data-test-subj":"requestTab"},Object(g.jsx)(_.EuiSpacer,{size:"m"}),Object(g.jsx)(_.EuiText,null,Object(g.jsx)("p",null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.requestTab.descriptionText",defaultMessage:"This request will create the following index template."}))),Object(g.jsx)(_.EuiSpacer,{size:"m"}),Object(g.jsx)(_.EuiCodeBlock,{language:t,isCopyable:!0},e))}),null)}];return x||v.splice(1,0,{id:"preview",name:B.i18n.translate("xpack.idxMgmt.templateForm.stepReview.previewTabTitle",{defaultMessage:"Preview"}),content:Object(g.jsx)(La,{template:e})}),Object(g.jsx)("div",{"data-test-subj":"stepSummary"},Object(g.jsx)(_.EuiTitle,null,Object(g.jsx)("h2",{"data-test-subj":"stepTitle"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.stepTitle",defaultMessage:"Review details for ''{templateName}''",values:{templateName:a}}))),Object(g.jsx)(_.EuiSpacer,{size:"l"}),y?Object(g.jsx)(i.Fragment,null,Object(g.jsx)(_.EuiCallOut,{title:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.indexPatternsWarningTitle",defaultMessage:"This template uses a wildcard (*) as an index pattern."}),color:"warning",iconType:"help","data-test-subj":"indexPatternsWarning"},Object(g.jsx)("p",{"data-test-subj":"indexPatternsWarningDescription"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.indexPatternsWarningDescription",defaultMessage:"All new indices that you create will use this template."})," ",Object(g.jsx)(_.EuiLink,{onClick:t.bind(null,"logistics")},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.indexPatternsWarningLinkText",defaultMessage:"Edit index patterns."})))),Object(g.jsx)(_.EuiSpacer,{size:"m"})):null,Object(g.jsx)(_.EuiTabbedContent,{"data-test-subj":"summaryTabContent",tabs:v}))})),Ia=n.a.memo((({getTemplateData:e})=>{const{navigateToStep:t}=c.g.useFormWizardContext(),{getData:a}=c.g.useMultiContentContext(),i=e(a());return Object(g.jsx)(wa,{template:i,navigateToStep:t})})),{stripEmptyFields:Da}=c.H,{FormWizard:Pa,FormWizardStep:Na}=c.g,{useGlobalFlyout:Aa}=c.h,Ba={logistics:{id:"logistics",label:B.i18n.translate("xpack.idxMgmt.templateForm.steps.logisticsStepName",{defaultMessage:"Logistics"})},components:{id:"components",label:B.i18n.translate("xpack.idxMgmt.templateForm.steps.componentsStepName",{defaultMessage:"Component templates"})},settings:{id:"settings",label:B.i18n.translate("xpack.idxMgmt.templateForm.steps.settingsStepName",{defaultMessage:"Index settings"})},mappings:{id:"mappings",label:B.i18n.translate("xpack.idxMgmt.templateForm.steps.mappingsStepName",{defaultMessage:"Mappings"})},aliases:{id:"aliases",label:B.i18n.translate("xpack.idxMgmt.templateForm.steps.aliasesStepName",{defaultMessage:"Aliases"})},review:{id:"review",label:B.i18n.translate("xpack.idxMgmt.templateForm.steps.summaryStepName",{defaultMessage:"Review template"})}},Ra=({title:e,defaultValue:t,isEditing:a,isSaving:s,isLegacy:l=!1,saveError:o,clearSaveError:r,onSave:c,history:d})=>{const[u,p]=Object(i.useState)(null),{addContent:m,closeFlyout:x}=Aa(),b=Object(i.useRef)({mappings:!0,settings:!0,aliases:!0}),f=null!=t?t:{name:"",indexPatterns:[],dataStream:{},template:{},_kbnMeta:{type:"default",hasDatastream:!1,isLegacy:l},allowAutoCreate:F.W.NO_OVERWRITE_RADIO_OPTION},{template:{settings:j,mappings:h,aliases:O}={},composedOf:M,_kbnMeta:y,...v}=f,E={logistics:v,settings:j,mappings:h,aliases:O,components:f.composedOf},k={save:a?Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateForm.saveButtonLabel",defaultMessage:"Save template"}):Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateForm.createButtonLabel",defaultMessage:"Create template"})},T=o?Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(Ut,{title:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateForm.saveTemplateError",defaultMessage:"Unable to create template"}),error:o,"data-test-subj":"saveTemplateError"}),Object(g.jsx)(_.EuiSpacer,{size:"m"})):null,L=Object(i.useCallback)((e=>t=>(e=>{const t={...e};return t.template&&(void 0===t.template.settings&&delete t.template.settings,void 0===t.template.mappings&&delete t.template.mappings,void 0===t.template.aliases&&delete t.template.aliases,0===Object.keys(t.template).length&&delete t.template,t.lifecycle&&delete t.lifecycle),t})({...t.logistics,_kbnMeta:e._kbnMeta,deprecated:e.deprecated,composedOf:t.components,template:{settings:t.settings,mappings:t.mappings,aliases:t.aliases,lifecycle:t.logistics.lifecycle?Object(re.b)(t.logistics.lifecycle):void 0}})),[]),w=Object(i.useCallback)((e=>{p(e)}),[]),I=Object(i.useCallback)((async e=>{const t=L(f)(e);c(Da(t,{types:["string"]})),r()}),[f,L,c,r]),D=Object(i.useCallback)((async()=>{if(!u)return;if(!await u.validate())return;const e=u.getData();return L(f)(e)}),[L,f,u]),P=Object(i.useCallback)((e=>{b.current=e}),[]),N=()=>{m({id:"simulateTemplate",Component:na,props:{getTemplate:D,onClose:x,filters:b.current,onFiltersChange:P},flyoutProps:aa})},A=!0===f._kbnMeta.isLegacy;return Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiPageHeader,{pageTitle:Object(g.jsx)("span",{"data-test-subj":"pageTitle"},e),bottomBorder:!0}),Object(g.jsx)(_.EuiSpacer,{size:"m"}),A&&Object(g.jsx)(sa,{history:d,showCta:!0}),Object(g.jsx)(_.EuiSpacer,{size:"s"}),Object(g.jsx)(Pa,{defaultValue:E,onSave:I,isEditing:a,isSaving:s,apiError:T,texts:k,onChange:w,rightContentNav:e=>l||"logistics"===e||"review"===e?null:Object(g.jsx)(_.EuiButton,{size:"s",onClick:N,"data-test-subj":"previewIndexTemplate"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateForm.previewIndexTemplateButtonLabel",defaultMessage:"Preview index template"}))},Object(g.jsx)(Na,{id:Ba.logistics.id,label:Ba.logistics.label,isRequired:!0},Object(g.jsx)(ya,{isEditing:a,isLegacy:f._kbnMeta.isLegacy})),!A&&Object(g.jsx)(Na,{id:Ba.components.id,label:Ba.components.label},Object(g.jsx)(Ta,null)),Object(g.jsx)(Na,{id:Ba.settings.id,label:Ba.settings.label},Object(g.jsx)(ce.c,{esDocsBase:C.a.getEsDocsBase()})),Object(g.jsx)(Na,{id:Ba.mappings.id,label:Ba.mappings.label},Object(g.jsx)(ce.b,{esDocsBase:C.a.getEsDocsBase()})),Object(g.jsx)(Na,{id:Ba.aliases.id,label:Ba.aliases.label},Object(g.jsx)(ce.a,{esDocsBase:C.a.getEsDocsBase()})),Object(g.jsx)(Na,{id:Ba.review.id,label:Ba.review.label},Object(g.jsx)(Ia,{getTemplateData:L(f)}))))},za=e=>{switch(e){case"green":return"success";case"yellow":return"warning";case"red":return"danger"}},Va=({health:e})=>Object(g.jsx)(_.EuiHealth,{color:za(e)},e);var Ua=a(106);const qa=(e,t=[])=>(t.push(e),e.items&&e.items.forEach((e=>{e.panel&&(qa(e.panel,t),e.panel=e.panel.id)})),t);class index_actions_context_menu_IndexActionsContextMenu extends i.Component{constructor(e){super(e),Le()(this,"closeConfirmModal",(()=>{this.setState({renderConfirmModal:null}),this.props.resetSelection&&this.props.resetSelection()})),Le()(this,"confirmAction",(e=>{this.setState({isActionConfirmed:e})})),Le()(this,"onButtonClick",(()=>{this.setState((e=>({isPopoverOpen:!e.isPopoverOpen})))})),Le()(this,"closePopoverAndExecute",(e=>{this.setState({isPopoverOpen:!1,renderConfirmModal:!1}),e(),this.props.resetSelection&&this.props.resetSelection()})),Le()(this,"closePopover",(()=>{this.setState({isPopoverOpen:!1})})),Le()(this,"forcemergeSegmentsError",(()=>{const{forcemergeSegments:e}=this.state;return!e||e.match(/^([1-9][0-9]*)?$/)?void 0:B.i18n.translate("xpack.idxMgmt.indexActionsMenu.segmentsNumberErrorMessage",{defaultMessage:"The number of segments must be greater than zero."})})),Le()(this,"renderForcemergeSegmentsModal",(()=>{const{forcemergeIndices:e,indexNames:t}=this.props,a=B.i18n.translate("xpack.idxMgmt.indexActionsMenu.forceMerge.forceMergeSegmentsHelpText",{defaultMessage:"Merge the segments in an index until the number is reduced to this or fewer segments. The default is 1."}),i=t.length;return Object(g.jsx)(_.EuiConfirmModal,{title:B.i18n.translate("xpack.idxMgmt.indexActionsMenu.forceMerge.confirmModal.modalTitle",{defaultMessage:"Force merge"}),onCancel:this.closeConfirmModal,onConfirm:()=>{this.forcemergeSegmentsError()||this.closePopoverAndExecute((()=>{e(this.state.forcemergeSegments),this.setState({forcemergeSegments:null,showForcemergeSegmentsModal:null})}))},cancelButtonText:B.i18n.translate("xpack.idxMgmt.indexActionsMenu.forceMerge.confirmModal.cancelButtonText",{defaultMessage:"Cancel"}),confirmButtonText:B.i18n.translate("xpack.idxMgmt.indexActionsMenu.forceMerge.confirmModal.confirmButtonText",{defaultMessage:"Force merge"})},Object(g.jsx)("p",null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.forceMerge.forceMergeDescription",defaultMessage:"You are about to force merge {selectedIndexCount, plural, one {this index} other {these indices} }:",values:{selectedIndexCount:i}})),Object(g.jsx)("ul",null,t.map((e=>Object(g.jsx)("li",{key:e},e)))),Object(g.jsx)(_.EuiCallOut,{title:B.i18n.translate("xpack.idxMgmt.indexActionsMenu.forceMerge.proceedWithCautionCallOutTitle",{defaultMessage:"Proceed with caution!"}),color:"warning",iconType:"help"},Object(g.jsx)("p",null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.forceMerge.forceMergeWarningDescription",defaultMessage:" Don't force-merge indices to which you're still writing, or to which you'll write again in the future. Instead, rely on the automatic background merge process to perform merges as needed to keep the index running smoothly. If you write to a force-merged index then its performance may become much worse. "}))),Object(g.jsx)(_.EuiSpacer,{size:"m"}),Object(g.jsx)(_.EuiForm,{isInvalid:!!this.forcemergeSegmentsError(),error:this.forcemergeSegmentsError()},Object(g.jsx)(_.EuiFormRow,{label:B.i18n.translate("xpack.idxMgmt.indexActionsMenu.forceMerge.maximumNumberOfSegmentsFormRowLabel",{defaultMessage:"Maximum number of segments per shard"}),helpText:a},Object(g.jsx)(_.EuiFieldNumber,{"data-test-subj":"indexActionsForcemergeNumSegments",onChange:e=>{this.setState({forcemergeSegments:e.target.value})},min:1,name:"maxNumberSegments"}))))})),Le()(this,"renderConfirmDeleteModal",(()=>{const{deleteIndices:e,indexNames:t}=this.props,a=t.length,n=Object(g.jsx)(i.Fragment,null,Object(g.jsx)("p",null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.deleteIndex.deleteDescription",defaultMessage:"You are about to delete {selectedIndexCount, plural, one {this index} other {these indices} }:",values:{selectedIndexCount:a}})),Object(g.jsx)("ul",null,t.map((e=>Object(g.jsx)("li",{key:e},e)))),Object(g.jsx)("p",null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.deleteIndex.deleteWarningDescription",defaultMessage:"You can't recover a deleted index. Make sure you have appropriate backups."})));return Object(g.jsx)(_.EuiConfirmModal,{title:B.i18n.translate("xpack.idxMgmt.indexActionsMenu.deleteIndex.confirmModal.modalTitle",{defaultMessage:"Delete {selectedIndexCount, plural, one {index} other {# indices} }",values:{selectedIndexCount:a}}),onCancel:()=>{this.confirmAction(!1),this.closeConfirmModal()},onConfirm:()=>this.closePopoverAndExecute(e),buttonColor:"danger",confirmButtonDisabled:!1,cancelButtonText:B.i18n.translate("xpack.idxMgmt.indexActionsMenu.deleteIndex.confirmModal.cancelButtonText",{defaultMessage:"Cancel"}),confirmButtonText:B.i18n.translate("xpack.idxMgmt.indexActionsMenu.deleteIndex.confirmModal.confirmButtonText",{defaultMessage:"Delete {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:a}})},n)})),this.state={isPopoverOpen:!1,renderConfirmModal:null,isActionConfirmed:!1}}panels(){const{services:{extensionsService:e},core:{getUrlForApp:t},history:a,config:{enableIndexActions:i}}=this.context,{closeIndices:n,openIndices:s,flushIndices:l,refreshIndices:o,clearCacheIndices:r,isOnListView:c,indexNames:d,indexStatusByName:u,performExtensionAction:p,indices:m,reloadIndices:g,unfreezeIndices:x,indicesListURLParams:f}=this.props,j=Object(b.every)(d,(e=>u[e]===F.h)),h=Object(b.every)(m,(e=>e.isFrozen)),O=d.length,M=[];c&&1===O&&(M.push({"data-test-subj":"showOverviewIndexMenuButton",name:B.i18n.translate("xpack.idxMgmt.indexActionsMenu.showIndexOverviewLabel",{defaultMessage:"Show index overview"}),onClick:()=>{a.push(Object(Bt.c)(d[0],f,F.n.Overview))}}),M.push({"data-test-subj":"showSettingsIndexMenuButton",name:B.i18n.translate("xpack.idxMgmt.indexActionsMenu.showIndexSettingsLabel",{defaultMessage:"Show index settings"}),onClick:()=>{a.push(Object(Bt.c)(d[0],f,F.n.Settings))}}),M.push({"data-test-subj":"showMappingsIndexMenuButton",name:B.i18n.translate("xpack.idxMgmt.indexActionsMenu.showIndexMappingLabel",{defaultMessage:"Show index mapping"}),onClick:()=>{a.push(Object(Bt.c)(d[0],f,F.n.Mappings))}}),j&&i&&M.push({"data-test-subj":"showStatsIndexMenuButton",name:B.i18n.translate("xpack.idxMgmt.indexActionsMenu.showIndexStatsLabel",{defaultMessage:"Show index stats"}),onClick:()=>{a.push(Object(Bt.c)(d[0],f,F.n.Stats))}})),j&&i?(M.push({"data-test-subj":"closeIndexMenuButton",name:B.i18n.translate("xpack.idxMgmt.indexActionsMenu.closeIndexLabel",{defaultMessage:"Close {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:O}}),onClick:()=>{this.closePopoverAndExecute(n)}}),M.push({"data-test-subj":"forcemergeIndexMenuButton",name:B.i18n.translate("xpack.idxMgmt.indexActionsMenu.forceMergeIndexLabel",{defaultMessage:"Force merge {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:O}}),onClick:()=>{this.closePopover(),this.setState({renderConfirmModal:this.renderForcemergeSegmentsModal})}}),M.push({"data-test-subj":"refreshIndexMenuButton",name:B.i18n.translate("xpack.idxMgmt.indexActionsMenu.refreshIndexLabel",{defaultMessage:"Refresh {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:O}}),onClick:()=>{this.closePopoverAndExecute(o)}}),M.push({"data-test-subj":"clearCacheIndexMenuButton",name:B.i18n.translate("xpack.idxMgmt.indexActionsMenu.clearIndexCacheLabel",{defaultMessage:"Clear {selectedIndexCount, plural, one {index} other {indices} } cache",values:{selectedIndexCount:O}}),onClick:()=>{this.closePopoverAndExecute(r)}}),M.push({"data-test-subj":"flushIndexMenuButton",name:B.i18n.translate("xpack.idxMgmt.indexActionsMenu.flushIndexLabel",{defaultMessage:"Flush {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:O}}),onClick:()=>{this.closePopoverAndExecute(l)}}),h&&M.push({"data-test-subj":"unfreezeIndexMenuButton",name:B.i18n.translate("xpack.idxMgmt.indexActionsMenu.unfreezeIndexLabel",{defaultMessage:"Unfreeze {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:O}}),onClick:()=>{this.closePopoverAndExecute(x)}})):!j&&i&&M.push({"data-test-subj":"openIndexMenuButton",name:B.i18n.translate("xpack.idxMgmt.indexActionsMenu.openIndexLabel",{defaultMessage:"Open {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:O}}),onClick:()=>{this.closePopoverAndExecute(s)}}),M.push({"data-test-subj":"deleteIndexMenuButton",name:B.i18n.translate("xpack.idxMgmt.indexActionsMenu.deleteIndexLabel",{defaultMessage:"Delete {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:O}}),onClick:()=>{this.closePopover(),this.setState({renderConfirmModal:this.renderConfirmDeleteModal})}}),e.actions.forEach((e=>{const a=e({indices:m,reloadIndices:g,getUrlForApp:t});if(a){const{buttonLabel:e,requestMethod:t,successMessage:i,renderConfirmModal:n}=a;t?M.push({name:e,onClick:()=>{this.closePopoverAndExecute((async()=>{await p(t,i)}))}}):M.push({name:e,onClick:()=>{this.closePopover(),this.setState({renderConfirmModal:n})}})}}));const y={id:0,title:B.i18n.translate("xpack.idxMgmt.indexActionsMenu.panelTitle",{defaultMessage:"{selectedIndexCount, plural, one {Index} other {Indices} } options",values:{selectedIndexCount:O}}),items:M};return qa(y)}render(){const{indexNames:e}=this.props,t=e.length,{iconSide:a="right",anchorPosition:i="rightUp",label:n=B.i18n.translate("xpack.idxMgmt.indexActionsMenu.manageButtonLabel",{defaultMessage:"Manage {selectedIndexCount, plural, one {index} other {{selectedIndexCount} indices}}",values:{selectedIndexCount:t}}),iconType:s="arrowDown",fill:l=!0,isLoading:o=!1}=this.props,r=this.panels(),c=Object(g.jsx)(_.EuiButton,{"data-test-subj":"indexActionsContextMenuButton",iconSide:a,"aria-label":B.i18n.translate("xpack.idxMgmt.indexActionsMenu.manageButtonAriaLabel",{defaultMessage:"{selectedIndexCount, plural, one {index} other {indices} } options",values:{selectedIndexCount:t}}),onClick:this.onButtonClick,iconType:s,fill:l,isLoading:o},n);return Object(g.jsx)("div",null,this.state.renderConfirmModal?this.state.renderConfirmModal(this.closeConfirmModal):null,Object(g.jsx)(_.EuiPopover,{id:"contextMenuIndices",button:c,isOpen:this.state.isPopoverOpen,closePopover:this.closePopover,panelPaddingSize:"none",anchorPosition:i,repositionOnScroll:!0},Object(g.jsx)(_.EuiContextMenu,{"data-test-subj":"indexContextMenu",initialPanelId:0,panels:r})))}}Le()(index_actions_context_menu_IndexActionsContextMenu,"contextType",d.a);const Wa=Object(s.connect)(((e,t)=>{const a={},{indexNames:i}=t;return i.forEach((t=>{a[t]=((e,t)=>{const a=tt(e),{status:i}=a[t]||{};return i})(e,t)})),{indexStatusByName:a,indices:st(e,i)}}),((e,{indexNames:t})=>({clearCacheIndices:()=>{e((({indexNames:e})=>async t=>{t(ft({indexNames:e}));try{await Object(Ze.b)(e)}catch(a){return bt.a.showDangerToast(a.body.message),t(jt({indexNames:e}))}t(Lt(e)),bt.a.showSuccessToast(B.i18n.translate("xpack.idxMgmt.clearCacheIndicesAction.successMessage",{defaultMessage:"Successfully cleared cache for {count, plural, one {# index} other {# indices} }",values:{count:e.length}}))})({indexNames:t}))},closeIndices:()=>{e((({indexNames:e})=>async t=>{t(ht({indexNames:e}));try{await Object(Ze.c)(e)}catch(a){return bt.a.showDangerToast(a.body.message),t(jt({indexNames:e}))}t(Lt(e)),bt.a.showSuccessToast(B.i18n.translate("xpack.idxMgmt.closeIndicesAction.successfullyClosedIndicesMessage",{defaultMessage:"Successfully closed {count, plural, one {# index} other {# indices} }",values:{count:e.length}}))})({indexNames:t}))},flushIndices:()=>{e((({indexNames:e})=>async t=>{t(Mt({indexNames:e}));try{await Object(Ze.g)(e)}catch(a){return bt.a.showDangerToast(a.body.message),t(jt({indexNames:e}))}t(Lt(e)),bt.a.showSuccessToast(B.i18n.translate("xpack.idxMgmt.flushIndicesAction.successfullyFlushedIndicesMessage",{defaultMessage:"Successfully flushed {count, plural, one {# index} other {# indices} }",values:{count:e.length}}))})({indexNames:t}))},openIndices:()=>{e((({indexNames:e})=>async t=>{t(Ft({indexNames:e}));try{await Object(Ze.l)(e)}catch(a){return bt.a.showDangerToast(a.body.message),t(jt({indexNames:e}))}t(Lt(e)),bt.a.showSuccessToast(B.i18n.translate("xpack.idxMgmt.openIndicesAction.successfullyOpenedIndicesMessage",{defaultMessage:"Successfully opened {count, plural, one {# index} other {# indices} }",values:{count:e.length}}))})({indexNames:t}))},refreshIndices:()=>{e((({indexNames:e})=>async t=>{t(St({indexNames:e}));try{await Object(Ze.m)(e)}catch(a){return bt.a.showDangerToast(a.body.message),t(jt({indexNames:e}))}t(Lt(e)),bt.a.showSuccessToast(B.i18n.translate("xpack.idxMgmt.refreshIndicesAction.successfullyRefreshedIndicesMessage",{defaultMessage:"Successfully refreshed {count, plural, one {# index} other {# indices} }",values:{count:e.length}}))})({indexNames:t}))},unfreezeIndices:()=>{e((({indexNames:e})=>async t=>{t(_t({indexNames:e}));try{await Object(Ze.q)(e)}catch(a){return bt.a.showDangerToast(a.body.message),t(jt({indexNames:e}))}t(Lt(e)),bt.a.showSuccessToast(B.i18n.translate("xpack.idxMgmt.unfreezeIndicesAction.successfullyUnfrozeIndicesMessage",{defaultMessage:"Successfully unfroze: [{indexNames}]",values:{indexNames:e.join(", ")}}))})({indexNames:t}))},forcemergeIndices:a=>{e((({indexNames:e,maxNumSegments:t})=>async a=>{a(yt({indexNames:e}));try{await Object(Ze.h)(e,t)}catch(t){return bt.a.showDangerToast(t.body.message),a(jt({indexNames:e}))}a(Lt(e)),bt.a.showSuccessToast(B.i18n.translate("xpack.idxMgmt.forceMergeIndicesAction.successfullyForceMergedIndicesMessage",{defaultMessage:"Successfully force merged {count, plural, one {# index} other {# indices} }",values:{count:e.length}}))})({indexNames:t,maxNumSegments:a}))},deleteIndices:()=>{e((({indexNames:e})=>async t=>{try{await Object(Ze.e)(e)}catch(a){return bt.a.showDangerToast(a.body.message),t(jt({indexNames:e}))}bt.a.showSuccessToast(B.i18n.translate("xpack.idxMgmt.deleteIndicesAction.successfullyDeletedIndicesMessage",{defaultMessage:"Successfully deleted {count, plural, one {# index} other {# indices} }",values:{count:e.length}})),t(Ot({indexNames:e}))})({indexNames:t}))},reloadIndices:()=>{e(Lt(t))},performExtensionAction:(a,i)=>{e((({requestMethod:e,indexNames:t,successMessage:a})=>async i=>{try{await e(t,At.a.httpClient)}catch(e){return void bt.a.showDangerToast(e.body.message)}i(Lt(t)),bt.a.showSuccessToast(a)})({requestMethod:a,successMessage:i,indexNames:t}))}})))(index_actions_context_menu_IndexActionsContextMenu),Ga=[10,50,100];class index_table_IndexTable extends i.Component{static getDerivedStateFromProps(e,t){const{selectedIndicesMap:a}=t,i=e.indices.map((e=>e.name)),n=Object.keys(a).filter((e=>!i.includes(e)));if(n.length){const e={...a};return n.forEach((t=>delete e[t])),{selectedIndicesMap:e}}return null}constructor(e){super(e),Le()(this,"onSort",(e=>{const{sortField:t,isSortAscending:a,sortChanged:i}=this.props;i(e,t!==e||!a)})),Le()(this,"onFilterChanged",(({query:e,error:t})=>{t?this.setState({filterError:t}):(this.setURLParam("filter",encodeURIComponent(e.text)),this.props.filterChanged(e),this.setState({filterError:null}))})),Le()(this,"getFilters",(e=>{const{allIndices:t}=this.props;return e.filters.reduce(((e,a)=>[...e,...a(t)]),[])})),Le()(this,"toggleAll",(()=>{if(this.areAllItemsSelected())return this.setState({selectedIndicesMap:{}});const{indices:e}=this.props,t={};e.forEach((({name:e})=>{t[e]=!0})),this.setState({selectedIndicesMap:t})})),Le()(this,"toggleItem",(e=>{this.setState((({selectedIndicesMap:t})=>{const a={...t};return a[e]?delete a[e]:a[e]=!0,{selectedIndicesMap:a}}))})),Le()(this,"isItemSelected",(e=>!!this.state.selectedIndicesMap[e])),Le()(this,"areAllItemsSelected",(()=>{const{indices:e}=this.props;return!(e.length<=0)&&-1===e.findIndex((e=>!this.isItemSelected(e.name)))})),Le()(this,"onItemSelectionChanged",(e=>{this.setState({selectedIndices:e})})),this.state={selectedIndicesMap:{}}}componentDidMount(){this.props.loadIndices();const{filterChanged:e,pageSizeChanged:t,pageChanged:a,toggleNameToVisibleMap:i,toggleChanged:n}=this.props,{filter:s,pageSize:l,pageIndex:o,...r}=this.readURLParams();if(s)try{e(_.EuiSearchBar.Query.parse(s))}catch(e){this.setState({filterError:e})}l&&Ga.includes(l)&&t(l),o&&o>-1&&a(o);const c=Object.keys(r),d=Object.keys(i);for(const e of c)d.includes(e)&&n(e,"true"===r[e])}componentWillUnmount(){this.props.filterChanged("")}readURLParams(){const{location:e}=this.props,{filter:t,pageSize:a,pageIndex:i,...n}=I.a.parse(e&&e.search||"");return{filter:t?Object(c.w)(String(t)):void 0,pageSize:a?Number(String(a)):void 0,pageIndex:i?Number(String(i)):void 0,...n}}setURLParam(e,t){const{location:a,history:i}=this.props,{pathname:n,search:s}=a,l=I.a.parse(s);t?l[e]=t:delete l[e],i.push(n+"?"+I.a.stringify(l))}renderFilterError(){const{filterError:e}=this.state;if(e)return Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiSpacer,null),Object(g.jsx)(_.EuiCallOut,{iconType:"faceSad",color:"danger",title:B.i18n.translate("xpack.idxMgmt.indexTable.invalidSearchErrorMessage",{defaultMessage:"Invalid search: {errorMessage}",values:{errorMessage:e.message}})}),Object(g.jsx)(_.EuiSpacer,null))}buildHeader(e){const{sortField:t,isSortAscending:a}=this.props;return e.map((({fieldName:i,label:n})=>{const s=t===i,l="name"===i&&e.length>2?"indTable__header__width":"";return Object(g.jsx)(_.EuiTableHeaderCell,{key:i,onSort:()=>this.onSort(i),isSorted:s,isSortAscending:a,className:l,"data-test-subj":`indexTableHeaderCell-${i}`},n)}))}buildRowCell(e,t){return t.render?t.render(e):Object(b.get)(e,t.fieldName)}buildRowCells(e,t){return t.map((t=>{const{name:a}=e,{fieldName:i}=t;return Object(g.jsx)(_.EuiTableRowCell,{key:`${i}-${a}`,truncateText:!1,setScopeRow:"name"===i,"data-test-subj":`indexTableCell-${i}`,className:"indTable__cell--"+i,header:i},this.buildRowCell(e,t))}))}renderBanners(e){const{allIndices:t=[],filterChanged:a}=this.props;return e.banners.map(((e,n)=>{const s=e(t);if(!s)return null;const{type:l,title:o,message:r,filter:c,filterLabel:d}=s;return Object(g.jsx)(i.Fragment,{key:`bannerExtension${n}`},Object(g.jsx)(_.EuiCallOut,{color:l,size:"m",title:o},Object(g.jsx)(_.EuiText,null,r,c?Object(g.jsx)(_.EuiLink,{onClick:()=>a(c)},d):null)),Object(g.jsx)(_.EuiSpacer,{size:"m"}))}))}buildRows(e){const{indices:t=[]}=this.props;return t.map((t=>{const{name:a}=t;return Object(g.jsx)(_.EuiTableRow,{"data-test-subj":"indexTableRow",isSelected:this.isItemSelected(a),isSelectable:!0,hasSelection:!0,key:`${a}-row`},Object(g.jsx)(_.EuiTableRowCellCheckbox,{key:`checkbox-${a}`},Object(g.jsx)(_.EuiCheckbox,{id:`checkboxSelectIndex-${a}`,checked:this.isItemSelected(a),onChange:()=>{this.toggleItem(a)},"data-test-subj":"indexTableRowCheckbox","aria-label":B.i18n.translate("xpack.idxMgmt.indexTable.selectIndexAriaLabel",{defaultMessage:"Select this row"})})),this.buildRowCells(t,e))}))}renderPager(){const{pager:e,pageChanged:t,pageSizeChanged:a}=this.props;return Object(g.jsx)(_.EuiTablePagination,{activePage:e.getCurrentPageIndex(),itemsPerPage:e.itemsPerPage,itemsPerPageOptions:Ga,pageCount:e.getTotalPages(),onChangeItemsPerPage:e=>{this.setURLParam("pageSize",e),a(e)},onChangePage:e=>{this.setURLParam("pageIndex",e),t(e)}})}renderToggleControl({name:e,label:t}){const{toggleNameToVisibleMap:a,toggleChanged:i}=this.props;return Object(g.jsx)(_.EuiFlexItem,{key:e,grow:!1},Object(g.jsx)(_.EuiSwitch,{id:`checkboxToggles-${e}`,"data-test-subj":`checkboxToggles-${e}`,checked:a[e],onChange:t=>{this.setURLParam(e,t.target.checked),i(e,t.target.checked)},label:t}))}render(){const{filter:e,filterChanged:t,indices:a,loadIndices:i,indicesLoading:s,indicesError:l,allIndices:o,pager:r,history:u,location:p}=this.props;if(s||l){if(s)return Object(g.jsx)(c.n,null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.indexTable.loadingIndicesDescription",defaultMessage:"Loading indices…"}));if(l)return 403===l.status?Object(g.jsx)(c.m,{title:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.pageErrorForbidden.title",defaultMessage:"You do not have permissions to use Index Management"})}):Object(g.jsx)(c.m,{title:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.indexTable.serverErrorTitle",defaultMessage:"Error loading indices"}),error:l.body})}const{selectedIndicesMap:m}=this.state,x=Object.keys(m).length>0;return Object(g.jsx)(d.b,null,(({services:d,config:b})=>{const{extensionsService:f}=d,j=(({showIndexStats:e,history:t,filterChanged:a,extensionsService:i,location:s})=>{const l=[{fieldName:"name",label:B.i18n.translate("xpack.idxMgmt.indexTable.headers.nameHeader",{defaultMessage:"Name"}),order:10,render:e=>Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiLink,{"data-test-subj":"indexTableIndexNameLink",onClick:()=>t.push(Object(Bt.c)(e.name,s.search||""))},e.name),Vt(e,i,a))},{fieldName:"data_stream",label:B.i18n.translate("xpack.idxMgmt.indexTable.headers.dataStreamHeader",{defaultMessage:"Data stream"}),order:80,render:e=>{if(e.data_stream)return Object(g.jsx)(_.EuiLink,h()({"data-test-subj":"dataStreamLink"},Object(c.F)(t,{pathname:Object(Bt.b)(e.data_stream),search:"?isDeepLink=true"})),e.data_stream)}}];return e&&l.push({fieldName:"health",label:B.i18n.translate("xpack.idxMgmt.indexTable.headers.healthHeader",{defaultMessage:"Health"}),order:20,render:e=>Object(g.jsx)(Va,{health:e.health})},{fieldName:"status",label:B.i18n.translate("xpack.idxMgmt.indexTable.headers.statusHeader",{defaultMessage:"Status"}),order:30},{fieldName:"primary",label:B.i18n.translate("xpack.idxMgmt.indexTable.headers.primaryHeader",{defaultMessage:"Primaries"}),order:40},{fieldName:"replica",label:B.i18n.translate("xpack.idxMgmt.indexTable.headers.replicaHeader",{defaultMessage:"Replicas"}),order:50},{fieldName:"documents",label:B.i18n.translate("xpack.idxMgmt.indexTable.headers.documentsHeader",{defaultMessage:"Docs count"}),order:60,render:e=>{if(e.documents)return Number(e.documents).toLocaleString()}},{fieldName:"size",label:B.i18n.translate("xpack.idxMgmt.indexTable.headers.storageSizeHeader",{defaultMessage:"Storage size"}),order:70}),l.push(...i.columns),l.sort((({order:e},{order:t})=>e-t))})({showIndexStats:b.enableIndexStats,extensionsService:f,filterChanged:t,history:u,location:p}),O=j.length+1;return Object(g.jsx)(_.EuiPageSection,{paddingSize:"none"},Object(g.jsx)(_.EuiFlexGroup,{alignItems:"center"},Object(g.jsx)(_.EuiFlexItem,{grow:!0},Object(g.jsx)(_.EuiText,{color:"subdued"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.home.idxMgmtDescription",defaultMessage:"Update your Elasticsearch indices individually or in bulk. {learnMoreLink}",values:{learnMoreLink:Object(g.jsx)(_.EuiLink,{href:C.a.getIdxMgmtDocumentationLink(),target:"_blank",external:!0},B.i18n.translate("xpack.idxMgmt.indexTableDescription.learnMoreLinkText",{defaultMessage:"Learn more."}))}}))),Object(g.jsx)(_.EuiFlexItem,{grow:!1},s&&0===o.length||l?null:Object(g.jsx)(_.EuiFlexGroup,null,f.toggles.map((e=>this.renderToggleControl(e)))))),Object(g.jsx)(_.EuiSpacer,{size:"l"}),this.renderBanners(f),Object(g.jsx)(_.EuiFlexGroup,{gutterSize:"l",alignItems:"center"},x?Object(g.jsx)(_.EuiFlexItem,{grow:!1},Object(g.jsx)(E,{key:"menu",render:()=>Object(g.jsx)(Wa,{indexNames:Object.keys(m),isOnListView:!0,indicesListURLParams:p.search||"",resetSelection:()=>{this.setState({selectedIndicesMap:{}})}})})):null,s&&0===o.length||l?null:Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiFlexItem,null,Object(g.jsx)(_.EuiSearchBar,{filters:this.getFilters(f).length>0?this.getFilters(f):null,defaultQuery:e,query:e,box:{incremental:!0,placeholder:B.i18n.translate("xpack.idxMgmt.indexTable.systemIndicesSearchInputPlaceholder",{defaultMessage:"Search"}),"data-test-subj":"indicesSearch"},"aria-label":B.i18n.translate("xpack.idxMgmt.indexTable.systemIndicesSearchIndicesAriaLabel",{defaultMessage:"Search indices"}),"data-test-subj":"indexTableFilterInput",onChange:this.onFilterChanged})),Object(g.jsx)(_.EuiFlexItem,{grow:!1},Object(g.jsx)(_.EuiButton,{isLoading:s,color:"success",onClick:i,iconType:"refresh","data-test-subj":"reloadIndicesButton"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.indexTable.reloadIndicesButton",defaultMessage:"Reload indices"})))),Object(g.jsx)(_.EuiFlexItem,{grow:!1},Object(g.jsx)($t,{loadIndices:i}))),this.renderFilterError(),Object(g.jsx)(_.EuiSpacer,{size:"m"}),Object(g.jsx)("div",{style:{maxWidth:"100%",overflow:"auto"}},Object(g.jsx)(_.EuiTable,{className:"indTable","data-test-subj":"indexTable"},Object(g.jsx)(_.EuiScreenReaderOnly,null,Object(g.jsx)("caption",{role:"status","aria-relevant":"text","aria-live":"polite"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.indexTable.captionText",defaultMessage:"Below is the indices table containing {count, plural, one {# row} other {# rows}} out of {total}.",values:{count:a.length,total:r.totalItems}}))),Object(g.jsx)(_.EuiTableHeader,null,Object(g.jsx)(_.EuiTableHeaderCellCheckbox,null,Object(g.jsx)(_.EuiCheckbox,{id:"selectAllIndexes",checked:this.areAllItemsSelected(),onChange:this.toggleAll,"aria-label":B.i18n.translate("xpack.idxMgmt.indexTable.selectAllIndicesAriaLabel",{defaultMessage:"Select all rows"})})),this.buildHeader(j)),Object(g.jsx)(_.EuiTableBody,null,a.length>0?this.buildRows(j):Object(g.jsx)(_.EuiTableRow,null,Object(g.jsx)(_.EuiTableRowCell,{align:"center",colSpan:O},Object(g.jsx)(Ht,{loadIndices:i,filter:e,resetFilter:()=>t(""),extensionsService:f})))))),Object(g.jsx)(_.EuiSpacer,{size:"m"}),a.length>0?this.renderPager():null)}))}}const $a=Object(p.withRouter)(Object(s.connect)(((e,t)=>({allIndices:nt(e),indices:ut(e,t),pager:dt(e,t),filter:pt(e),sortField:gt(e),isSortAscending:mt(e),indicesLoading:at(e),indicesError:it(e),toggleNameToVisibleMap:lt(e).toggleNameToVisibleMap})),(e=>({filterChanged:t=>{e(wt({filter:t}))},pageChanged:t=>{e(It({pageNumber:t}))},pageSizeChanged:t=>{e(Dt({pageSize:t}))},sortChanged:(t,a)=>{e(Pt({sortField:t,isSortAscending:a}))},toggleChanged:(t,a)=>{e(Nt({toggleName:t,toggleValue:a}))},loadIndices:()=>{e(Tt())}})))(index_table_IndexTable)),Ha=({history:e})=>{const{core:{executionContext:t}}=Object(d.d)();return Object(c.J)(t,{type:"application",page:"indexManagementIndicesTab"}),Object(i.useEffect)((()=>{R.b.setBreadcrumbs(R.a.indices)}),[]),Object(g.jsx)("div",{className:`${c.a} im-snapshotTestSubject`,"data-test-subj":"indicesList"},Object(g.jsx)($a,{history:e}))},Ja="policy_edit",Ya=["manage_enrich"],Ka=({children:e})=>{const{apiError:t}=Object(c.I)();return t?Object(g.jsx)(c.m,{title:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.home.enrichPolicies.checkingPrivilegesErrorMessage",defaultMessage:"Error fetching user privileges from the server."}),error:t}):Object(g.jsx)(c.v,{privileges:Ya.map((e=>`cluster.${e}`))},(({isLoading:t,hasPrivileges:a,privilegesMissing:i})=>t?Object(g.jsx)(c.n,null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.home.enrichPolicies.checkingPrivilegesDescription",defaultMessage:"Checking privileges…"})):a?Object(g.jsx)(n.a.Fragment,null,e):Object(g.jsx)(c.k,{dataTestSubj:"enrichPoliciesInsuficientPrivileges",title:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.home.enrichPolicies.deniedPrivilegeTitle",defaultMessage:"Manage enrich privileges required"}),message:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.home.enrichPolicies.deniedPrivilegeDescription",defaultMessage:"To use Enrich Policies, you must have the following cluster privileges: {missingPrivileges}.",values:{missingPrivileges:i.cluster.join(", ")}})})))},Xa=({children:e})=>{const{services:{httpService:{httpClient:t}}}=Object(d.d)();return Object(g.jsx)(c.b,{privilegesEndpoint:`${r.b}/enrich_policies/privileges`,httpClient:t},e)};var Qa=a(12);const Za={initialPageSize:50,pageSizeOptions:[25,50,100]},ei=({policies:e,onReloadClick:t,onDeletePolicyClick:a,onExecutePolicyClick:i})=>{const{history:n}=Object(d.d)(),s={toolsRight:[Object(g.jsx)(_.EuiButton,{key:"reloadPolicies","data-test-subj":"reloadPoliciesButton",iconType:"refresh",color:"success",onClick:t},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicies.table.reloadButton",defaultMessage:"Reload"})),Object(g.jsx)(_.EuiButton,h()({key:"createPolicy",fill:!0,iconType:"plusInCircle"},Object(Qa.reactRouterNavigate)(n,"/enrich_policies/create")),Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicies.table.createPolicyButton",defaultMessage:"Create enrich policy"}))],box:{incremental:!0}},l=[{field:"name",name:B.i18n.translate("xpack.idxMgmt.enrichPolicies.table.nameField",{defaultMessage:"Name"}),sortable:!0,truncateText:!0,render:e=>Object(g.jsx)(_.EuiLink,h()({"data-test-subj":"enrichPolicyDetailsLink"},Object(Qa.reactRouterNavigate)(n,{pathname:"/enrich_policies",search:`policy=${encodeURIComponent(e)}`})),e)},{field:"type",name:B.i18n.translate("xpack.idxMgmt.enrichPolicies.table.typeField",{defaultMessage:"Type"}),sortable:!0},{field:"sourceIndices",name:B.i18n.translate("xpack.idxMgmt.enrichPolicies.table.sourceIndicesField",{defaultMessage:"Source indices"}),truncateText:!0,render:e=>Object(g.jsx)("span",{className:"eui-textTruncate"},e.join(", "))},{field:"matchField",name:B.i18n.translate("xpack.idxMgmt.enrichPolicies.table.matchFieldField",{defaultMessage:"Match field"}),truncateText:!0},{field:"enrichFields",name:B.i18n.translate("xpack.idxMgmt.enrichPolicies.table.enrichFieldsField",{defaultMessage:"Enrich fields"}),truncateText:!0,render:e=>Object(g.jsx)("span",{className:"eui-textTruncate"},e.join(", "))},{name:B.i18n.translate("xpack.idxMgmt.enrichPolicies.table.actionsField",{defaultMessage:"Actions"}),actions:[{isPrimary:!0,name:B.i18n.translate("xpack.idxMgmt.enrichPolicies.table.executeAction",{defaultMessage:"Execute"}),description:B.i18n.translate("xpack.idxMgmt.enrichPolicies.table.executeDescription",{defaultMessage:"Execute this enrich policy"}),type:"icon",icon:"play","data-test-subj":"executePolicyButton",onClick:({name:e})=>i(e)},{isPrimary:!0,name:B.i18n.translate("xpack.idxMgmt.enrichPolicies.table.deleteAction",{defaultMessage:"Delete"}),description:B.i18n.translate("xpack.idxMgmt.enrichPolicies.table.deleteDescription",{defaultMessage:"Delete this enrich policy"}),type:"icon",icon:"trash",color:"danger","data-test-subj":"deletePolicyButton",onClick:({name:e})=>a(e)}]}];return Object(g.jsx)(_.EuiInMemoryTable,{"data-test-subj":"enrichPoliciesTable",items:e,itemId:"name",columns:l,search:s,pagination:Za,sorting:!0})},ti=({policyToDelete:e,callback:t})=>{const a=Object(i.useRef)(!1),{services:{notificationService:n}}=Object(d.d)(),[s,l]=Object(i.useState)(!1);return Object(i.useEffect)((()=>(a.current=!0,()=>{a.current=!1})),[]),Object(g.jsx)(_.EuiConfirmModal,{buttonColor:"danger","data-test-subj":"deletePolicyModal",title:B.i18n.translate("xpack.idxMgmt.enrichPolicies.deleteModal.confirmTitle",{defaultMessage:"Delete enrich policy"}),onCancel:()=>{t()},onConfirm:()=>{l(!0),Object(Jt.f)(e).then((({data:a,error:i})=>{if(a){const a=B.i18n.translate("xpack.idxMgmt.enrichPolicies.deleteModal.successDeleteNotificationMessage",{defaultMessage:"Deleted {policyToDelete}",values:{policyToDelete:e}});return n.showSuccessToast(a),t({hasDeletedPolicy:!0})}if(i){const e=B.i18n.translate("xpack.idxMgmt.enrichPolicies.deleteModal.errorDeleteNotificationMessage",{defaultMessage:"Error deleting enrich policy: ''{error}''",values:{error:i.message}});n.showDangerToast(e)}t()})).finally((()=>{a.current&&l(!1)}))},cancelButtonText:B.i18n.translate("xpack.idxMgmt.enrichPolicies.deleteModal.cancelButton",{defaultMessage:"Cancel"}),confirmButtonText:B.i18n.translate("xpack.idxMgmt.enrichPolicies.deleteModal.deleteButton",{defaultMessage:"Delete"}),confirmButtonDisabled:s},Object(g.jsx)("p",null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicies.deleteModal.bodyCopy",defaultMessage:"You are about to delete the enrich policy {policy}. This action is irreversible.",values:{policy:Object(g.jsx)("strong",null,e)}})))},ai=({policyToExecute:e,callback:t})=>{const a=Object(i.useRef)(!1),{services:{notificationService:n}}=Object(d.d)(),[s,l]=Object(i.useState)(!1);return Object(i.useEffect)((()=>(a.current=!0,()=>{a.current=!1})),[]),Object(g.jsx)(_.EuiConfirmModal,{"data-test-subj":"executePolicyModal",title:B.i18n.translate("xpack.idxMgmt.enrichPolicies.executeModal.confirmTitle",{defaultMessage:"Execute enrich policy"}),onCancel:()=>{t()},onConfirm:()=>{l(!0),Object(Jt.i)(e).then((({data:a,error:i})=>{if(a){const a=B.i18n.translate("xpack.idxMgmt.enrichPolicies.executeModal.successExecuteNotificationMessage",{defaultMessage:"Executed {policyToExecute}",values:{policyToExecute:e}});return n.showSuccessToast(a),t({hasExecutedPolicy:!0})}if(i){const e=B.i18n.translate("xpack.idxMgmt.enrichPolicies.executeModal.errorExecuteNotificationMessage",{defaultMessage:"Error executing enrich policy: ''{error}''",values:{error:i.message}});n.showDangerToast(e)}t()})).finally((()=>{a.current&&l(!1)}))},cancelButtonText:B.i18n.translate("xpack.idxMgmt.enrichPolicies.executeModal.cancelButton",{defaultMessage:"Cancel"}),confirmButtonText:B.i18n.translate("xpack.idxMgmt.enrichPolicies.executeModal.executeButton",{defaultMessage:"Execute"}),confirmButtonDisabled:s},Object(g.jsx)("p",null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicies.executeModal.bodyCopy",defaultMessage:"You are about to execute the enrich policy {policy}.",values:{policy:Object(g.jsx)("strong",null,e)}})))},ii=({error:e,resendRequest:t})=>Object(g.jsx)(_.EuiPageTemplate.EmptyPrompt,{color:"danger",iconType:"error","data-test-subj":"sectionError",title:Object(g.jsx)("h2",null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicies.list.errorTitle",defaultMessage:"Unable to load enrich policies"})),body:Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiText,{color:"subdued"},Object(g.jsx)("p",{className:"eui-textBreakWord"},(null==e?void 0:e.message)||(null==e?void 0:e.error))),Object(g.jsx)(_.EuiSpacer,null),Object(g.jsx)(_.EuiButton,{iconSide:"right",onClick:t,iconType:"refresh",color:"danger"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicies.list.errorReloadButton",defaultMessage:"Reload"})))});a(207),a(190);const ni=e=>{const{className:t,size:a,...i}=e,n={};return(e=>void 0===e.iconType)(e)&&(n.iconType=`logo${e.name.replace(/\s+/g,"")}`),Object(g.jsx)(_.EuiAvatar,h()({className:Be()("kbnSolutionAvatar",{[`kbnSolutionAvatar--${a}`]:a},t),size:"xxl"===a?"xl":a,iconSize:a,color:"plain"},i,n))};a(212);const si=B.i18n.translate("sharedUXPackages.solutionNav.collapsibleLabel",{defaultMessage:"Collapse side navigation"}),li=B.i18n.translate("sharedUXPackages.solutionNav.openLabel",{defaultMessage:"Open side navigation"}),oi=({className:e,isCollapsed:t,...a})=>{const i=Be()("kbnSolutionNavCollapseButton",{"kbnSolutionNavCollapseButton-isCollapsed":t},e);return Object(g.jsx)(_.EuiButtonIcon,h()({className:i,size:"s",color:"text",iconType:t?"menuRight":"menuLeft","aria-label":t?li:si,title:t?li:si},a))},ri="248px",ci=(e,t)=>e.map((e=>(e.tabIndex=t?-1:void 0,e.items=e.items&&ci(e.items,t),e))),di=Object(_.htmlIdGenerator)("SolutionNav"),ui=({children:e,headingProps:t,icon:a,isOpenOnDesktop:s=!1,items:l,mobileBreakpoints:o=["xs","s"],closeFlyoutButtonPosition:r="outside",name:c,onCollapse:d,canBeCollapsed:u=!0,...p})=>{const m=Object(_.useIsWithinBreakpoints)(o),x=Object(_.useIsWithinBreakpoints)(["m"]),b=Object(_.useIsWithinMinBreakpoint)("l"),[f,j]=Object(i.useState)(!1),O=b&&!s&&u,M=!!e,y=Be()("kbnSolutionNav",{"kbnSolutionNav--hidden":O}),v=(null==t?void 0:t.id)||di("heading"),E=(null==t?void 0:t.element)||"h2",k=Object(g.jsx)(_.EuiTitle,{size:"xs",id:v,"data-test-subj":null==t?void 0:t["data-test-subj"],className:"kbnSolutionNav__title"},Object(g.jsx)(E,null,a&&Object(g.jsx)(ni,{className:"kbnSolutionNav__titleAvatar",iconType:a,name:c}),Object(g.jsx)("strong",null,Object(g.jsx)(S.FormattedMessage,{id:"sharedUXPackages.solutionNav.mobileTitleText",defaultMessage:"{solutionName} {menuText}",values:{solutionName:c||"Navigation",menuText:m?B.i18n.translate("sharedUXPackages.solutionNav.menuText",{defaultMessage:"menu"}):""}})))),T=Object(i.useMemo)((()=>M?e:l?Object(g.jsx)(_.EuiSideNav,h()({"aria-labelledby":v,"aria-hidden":O,items:ci(l,O),mobileBreakpoints:[]},p)):null),[e,v,M,O,l,p]),{euiTheme:F}=Object(_.useEuiTheme)(),C=Object(i.useMemo)((()=>b?s?ri:F.size.xxl:x?f||!u?ri:F.size.xxl:"0"),[F,s,f,u,x,b]),{setGlobalCSSVariables:L}=Object(_.useEuiThemeCSSVariables)();return Object(i.useEffect)((()=>{L({"--kbnSolutionNavOffset":C})}),[C,L]),Object(g.jsx)(n.a.Fragment,null,m&&Object(g.jsx)(_.EuiCollapsibleNavGroup,{className:y,paddingSize:"none",background:"none",title:k,titleElement:"span",isCollapsible:u,initialIsOpen:!1},Object(g.jsx)(_.EuiPanel,{color:"transparent",paddingSize:"s"},T)),x&&Object(g.jsx)(n.a.Fragment,null,(f||!u)&&Object(g.jsx)(_.EuiFlyout,{ownFocus:!1,outsideClickCloses:!0,onClose:()=>j(!1),side:"left",size:248,closeButtonPosition:r,className:"kbnSolutionNav__flyout",hideCloseButton:!u},Object(g.jsx)(_.EuiPageSidebar,{className:y,hasEmbellish:!0},k,Object(g.jsx)(_.EuiSpacer,{size:"l"}),T)),u&&Object(g.jsx)(oi,{isCollapsed:!0,onClick:()=>{j(!f)}})),b&&Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)("div",{className:y},k,Object(g.jsx)(_.EuiSpacer,{size:"l"}),T),u&&Object(g.jsx)(oi,{isCollapsed:!s,onClick:d})))};var pi=a(196);const mi="solutionNavIsCollapsed",gi=e=>{const t=t=>{var a;const n=Object(_.useIsWithinBreakpoints)(["m"]),s=Object(_.useIsWithinMinBreakpoint)("l"),[l,o]=Object(i.useState)(!JSON.parse(String(localStorage.getItem(mi)))),{solutionNav:r,children:c,...d}=t,{euiTheme:u}=Object(_.useEuiTheme)(),{canBeCollapsed:p=!0}=r,m=n||p&&s&&!l,x=(e=>Object(pi.css)("flex:0 1 0;overflow:hidden;",_.euiCanAnimate,"{transition:min-width ",e.animation.fast," ",e.animation.resistance,";}",""))(u),b=Be()("kbnSolutionNav__sidebar",{"kbnSolutionNav__sidebar--shrink":m},null===(a=t.pageSideBarProps)||void 0===a?void 0:a.className,x),f=Object(g.jsx)(ui,h()({isOpenOnDesktop:l,onCollapse:()=>{o(!l),localStorage.setItem(mi,JSON.stringify(l))}},r)),j={paddingSize:"none",...t.pageSideBarProps,minWidth:m?u.size.xxl:void 0,className:b,hasEmbellish:!m};return Object(g.jsx)(e,h()({},d,{pageSideBar:f,pageSideBarProps:j}),c)};var a;return t.displayName=`WithSolutionNavBar(${a=e,a.displayName||a.name||"UnnamedComponent"})`,t};a(31);const xi=n.a.createContext(null),bi={name:"h42ud6",styles:"display:inherit;height:inherit;width:inherit;flex:1;flex-flow:column nowrap"},fi=({children:e,navigateToUrl:t,currentAppId:a,...n})=>{const s=Object(i.useRef)(null),l=Object(i.useCallback)((e=>(({event:e,container:t,navigateToUrl:a,currentAppId:i})=>{if(!t||!i)return;const n=((e,t)=>{let a=e;do{var i,n;if("a"===(null===(i=a)||void 0===i?void 0:i.tagName.toLowerCase()))return a;const e=null===(n=a)||void 0===n?void 0:n.parentElement;if(!e||e===document.body||e===t)break;a=e}while(parent||parent!==document.body||parent!==t)})(e.target,t);if(!n)return;const s=n.href,l=""===n.target||"_self"===n.target,o=0===e.button;s&&l&&o&&!e.defaultPrevented&&!(e=>e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)(e)&&(e.preventDefault(),a(n.href))})({event:e,currentAppId:a,navigateToUrl:t,container:s.current})),[a,t]);return Object(g.jsx)("div",h()({onClick:l,ref:s,css:bi,"data-test-subj":"kbnRedirectAppLink"},n),e)},ji=({children:e,...t})=>Object(g.jsx)(fi,h()({},function(){const e=Object(i.useContext)(xi);if(!e)throw new Error("RedirectAppLinksContext is missing.  Ensure your component or React root is wrapped with RedirectAppLinksProvider.");return e}(),t),e);var hi=a(195),Oi=a.n(hi);const Mi=B.i18n.translate("sharedUXPackages.card.noData.noPermission.title",{defaultMessage:"Contact your administrator"}),yi=B.i18n.translate("sharedUXPackages.card.noData.noPermission.description",{defaultMessage:"This integration is not yet enabled. Your administrator has the required permissions to turn it on."}),vi=B.i18n.translate("sharedUXPackages.card.noData.title",{defaultMessage:"Add Elastic Agent"}),Ei=B.i18n.translate("sharedUXPackages.card.noData.description",{defaultMessage:"Use Elastic Agent for a simple, unified way to collect data from your machines."}),ki=()=>Object(g.jsx)(_.EuiImage,{size:"fullWidth",style:{width:"max(100%, 360px)",height:240,objectFit:"cover",background:"aliceblue"},url:Oi.a,alt:""}),Ti=({title:e,description:t,canAccessFleet:a,button:i,href:n,...s})=>Object(g.jsx)(_.EuiCard,h()({css:{maxWidth:400,marginInline:"auto"},paddingSize:"l",title:a?Object(g.jsx)(_.EuiScreenReaderOnly,null,Object(g.jsx)("span",null,e||vi)):Object(g.jsx)(_.EuiTextColor,{color:"default"},Mi),description:a?t||Ei:Object(g.jsx)(_.EuiTextColor,{color:"default"},yi),footer:(()=>{if(a)return i&&"string"!=typeof i?i:Object(g.jsx)(_.EuiButton,{fill:!0,href:n,"data-test-subj":"noDataDefaultFooterAction"},i||e||vi)})(),isDisabled:!a,href:n,image:Object(g.jsx)(ki,null)},s)),Fi=n.a.createContext(null),Si=({href:e,category:t,description:a,...n})=>{var s;const{canAccessFleet:l,addBasePath:o}=function(){const e=Object(i.useContext)(Fi);if(!e)throw new Error("NoDataCard Context is missing.  Ensure your component or React root is wrapped with NoDataCardContext.");return e}(),r=Object(i.useMemo)((()=>{if(e)return e;const a="/app/integrations/browse";return o(t?`${a}/${t}`:a)}),[o,e,t]);return Object(g.jsx)(ji,null,Object(g.jsx)(Ti,h()({},n,{href:r,canAccessFleet:null!==(s=n.canAccessFleet)&&void 0!==s?s:l,description:a})))},_i=({action:e})=>{const t=Object.keys(e);if(1!==t.length)return null;const a=t[0],i="elasticAgent"===a?"empty-page-agent-action":`empty-page-${a}-action`;return Object(g.jsx)(Si,h()({key:i},e[a]))},Ci=({solution:e,logo:t,action:a,docsLink:i,pageTitle:n,pageDescription:s,className:l})=>{const o=n||B.i18n.translate("sharedUXPackages.noDataPage.welcomeTitle",{defaultMessage:"Welcome to Elastic {solution}!",values:{solution:e}}),r=i?Object(g.jsx)(_.EuiLink,{href:i,target:"_blank"},Object(g.jsx)(S.FormattedMessage,{id:"sharedUXPackages.noDataPage.intro.link",defaultMessage:"learn more"})):null,c=null!=s?s:r?Object(g.jsx)(S.FormattedMessage,{id:"sharedUXPackages.noDataPage.intro",defaultMessage:"Add your data to get started, or {link} about {solution}.",values:{solution:e,link:r}}):Object(g.jsx)(S.FormattedMessage,{id:"sharedUXPackages.noDataPage.introNoDocLink",defaultMessage:"Add your data to get started."});return Object(g.jsx)(_.EuiPageTemplate.Section,{alignment:"center",grow:!0,className:Be()("kbnNoDataPageContents",l),"data-test-subj":"kbnNoDataPage"},Object(g.jsx)(_.EuiText,{textAlign:"center"},Object(g.jsx)(ni,{name:e,iconType:t||`logo${e}`,size:"xxl"}),Object(g.jsx)(_.EuiSpacer,{size:"l"}),Object(g.jsx)("h1",null,o),Object(g.jsx)(_.EuiTextColor,{color:"subdued"},Object(g.jsx)("p",null,c))),Object(g.jsx)(_.EuiSpacer,{size:"xxl"}),Object(g.jsx)(_i,{action:a}))},Li=e=>{const{className:t,noDataConfig:a,pageSideBar:i,pageSideBarProps:n,...s}=e;if(!a)return null;let l;i&&(l=Object(g.jsx)(_.EuiPageTemplate.Sidebar,n,i));const o=((e,t)=>Be()("kbnPageTemplate","",t||""))(0,t);return Object(g.jsx)(_.EuiPageTemplate,h()({className:o,restrictWidth:950,panelled:!1,offset:0,minHeight:0},s),l,Object(g.jsx)(Ci,a))},wi=gi(Li),Ii=({className:e,pageHeader:t,children:a,isEmptyState:i,pageSideBar:n,pageSideBarProps:s,emptyPageBody:l,...o})=>{let r,c;if(i&&t&&!a){const{iconType:e,pageTitle:i,description:n,rightSideItems:s}=t,l=i?Object(g.jsx)("h1",null,i):void 0,o=n?Object(g.jsx)("p",null,n):void 0;a=Object(g.jsx)(_.EuiPageTemplate.EmptyPrompt,{iconType:e,iconColor:"",title:l,body:o,actions:s})}else t&&(r=Object(g.jsx)(_.EuiPageTemplate.Header,t));if(i&&l&&(a=l),n){const e={...s};e.sticky=!0,c=Object(g.jsx)(_.EuiPageTemplate.Sidebar,e,n)}const d=((e,t)=>Be()("kbnPageTemplate","",t||""))(0,e);return Object(g.jsx)(_.EuiPageTemplate,h()({className:d,offset:0,minHeight:r?"calc(100vh - var(--kbnAppHeadersOffset, var(--euiFixedHeadersOffset, 0)))":0,grow:!r&&void 0},o),c,r,a)},Di=gi(Ii),Pi=Object.assign((({className:e,children:t,solutionNav:a,noDataConfig:i,...n})=>i&&a?Object(g.jsx)(wi,{"data-test-subj":n["data-test-subj"],className:e,noDataConfig:i,solutionNav:a}):i?Object(g.jsx)(Li,{"data-test-subj":n["data-test-subj"],className:e,noDataConfig:i}):a?Object(g.jsx)(Di,h()({className:e,solutionNav:a,children:t},n)):Object(g.jsx)(Ii,h()({className:e,children:t},n))),{Sidebar:_.EuiPageTemplate.Sidebar,Header:_.EuiPageTemplate.Header,Section:_.EuiPageTemplate.Section,BottomBar:_.EuiPageTemplate.BottomBar,EmptyPrompt:_.EuiPageTemplate.EmptyPrompt}),Ni=()=>Object(g.jsx)(Pi.EmptyPrompt,{title:Object(g.jsx)(_.EuiLoadingSpinner,{size:"xl"}),body:Object(g.jsx)(_.EuiText,{color:"subdued"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicies.list.loadingStateLabel",defaultMessage:"Loading enrich policies…"})),"data-test-subj":"sectionLoading"}),Ai=()=>{var e;const{history:t,plugins:{share:a}}=Object(d.d)();return Object(g.jsx)(Pi.EmptyPrompt,{iconType:"managementApp","data-test-subj":"sectionEmpty",title:Object(g.jsx)("h2",null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicies.list.emptyPromptTitle",defaultMessage:"Add your first enrich policy"})),body:Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)("p",null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicies.list.emptyPromptDescription",defaultMessage:"Use an enrich policy as a lookup reference, to add fields to incoming documents during ingest with {ingestPipelinesLink} or to use the ENRICH command in ES|QL",values:{ingestPipelinesLink:Object(g.jsx)(_.EuiLink,{href:null===(e=a.url.locators.get("INGEST_PIPELINES_APP_LOCATOR"))||void 0===e?void 0:e.useUrl({})},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicies.list.emptyPromptIngestPipelinesLink",defaultMessage:"ingest pipelines"}))}})),Object(g.jsx)(_.EuiLink,{href:Ze.f.getEnrichIngestDataLink(),target:"_blank"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicies.list.emptyPromptLearnMoreLink",defaultMessage:"Learn more about enriching your data"}))),actions:Object(g.jsx)(_.EuiButton,h()({fill:!0,iconType:"plusInCircle","data-test-subj":"enrichPoliciesEmptyPromptCreateButton"},Object(Qa.reactRouterNavigate)(t,"/enrich_policies/create")),Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicies.list.emptyPromptButtonLabel",defaultMessage:"Add an enrich policy"}))})};var Bi=a(55);const Ri=({policy:e,onClose:t})=>Object(g.jsx)(_.EuiFlyout,{onClose:t,"data-test-subj":"policyDetailsFlyout",size:"m",maxWidth:550},Object(g.jsx)(_.EuiFlyoutHeader,null,Object(g.jsx)(_.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},Object(g.jsx)(_.EuiFlexItem,{grow:!1},Object(g.jsx)(_.EuiTitle,{id:"policyDetailsFlyoutTitle","data-test-subj":"title"},Object(g.jsx)("h2",null,e.name))))),Object(g.jsx)(_.EuiFlyoutBody,null,Object(g.jsx)(_.EuiDescriptionList,null,e.type&&Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiDescriptionListTitle,null,B.i18n.translate("xpack.idxMgmt.enrichPolicies.detailsFlyout.typeTitle",{defaultMessage:"Type"})),Object(g.jsx)(_.EuiDescriptionListDescription,{"data-test-subj":"policyTypeValue"},e.type)),e.sourceIndices&&Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiDescriptionListTitle,null,B.i18n.translate("xpack.idxMgmt.enrichPolicies.detailsFlyout.sourceIndicesTitle",{defaultMessage:"Source indices"})),Object(g.jsx)(_.EuiDescriptionListDescription,{"data-test-subj":"policyIndicesValue"},Object(g.jsx)("span",{className:"eui-textBreakWord"},e.sourceIndices.join(", ")))),e.matchField&&Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiDescriptionListTitle,null,B.i18n.translate("xpack.idxMgmt.enrichPolicies.detailsFlyout.matchFieldTitle",{defaultMessage:"Match field"})),Object(g.jsx)(_.EuiDescriptionListDescription,{"data-test-subj":"policyMatchFieldValue"},e.matchField)),e.enrichFields&&Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiDescriptionListTitle,null,B.i18n.translate("xpack.idxMgmt.enrichPolicies.detailsFlyout.enrichFieldsTitle",{defaultMessage:"Enrich fields"})),Object(g.jsx)(_.EuiDescriptionListDescription,{"data-test-subj":"policyEnrichFieldsValue"},Object(g.jsx)("span",{className:"eui-textBreakWord"},e.enrichFields.join(", ")))),e.query&&Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiDescriptionListTitle,null,B.i18n.translate("xpack.idxMgmt.enrichPolicies.detailsFlyout.queryTitle",{defaultMessage:"Query"})),Object(g.jsx)(_.EuiDescriptionListDescription,null,Object(g.jsx)(Bi.CodeEditor,{languageId:"json",isCopyable:!0,allowFullScreen:!0,value:JSON.stringify(e.query,null,2),"data-test-subj":"queryEditor",height:250,options:{lineNumbers:"off",tabSize:2,automaticLayout:!0},"aria-label":B.i18n.translate("xpack.idxMgmt.enrichPolicies.detailsFlyout.queryAriaLabel",{defaultMessage:"Enrich policy query editor"})}))))),Object(g.jsx)(_.EuiFlyoutFooter,null,Object(g.jsx)(_.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(g.jsx)(_.EuiFlexItem,{grow:!1},Object(g.jsx)(_.EuiButtonEmpty,{iconType:"cross",onClick:t,flush:"left","data-test-subj":"closeFlyoutButton"},B.i18n.translate("xpack.idxMgmt.enrichPolicies.detailsFlyout.closeButton",{defaultMessage:"Close"})))))),zi=({history:e,location:t})=>{const{core:{executionContext:a}}=Object(d.d)(),n=ne(e);Object(i.useEffect)((()=>{R.b.setBreadcrumbs(R.a.enrichPolicies)}),[]),Object(c.J)(a,{type:"application",page:"indexManagementEnrichPoliciesTab"});const s=(e=>{const{policy:t}=Object(w.parse)(e.search.substring(1));return t})(t),[l,o]=Object(i.useState)(),[r,u]=Object(i.useState)(),[p,m]=Object(i.useState)(),{error:x,isLoading:b,data:f,resendRequest:j}=Object(Jt.E)();return Object(i.useEffect)((()=>{if(s&&null!=f&&f.length){const e=f.find((e=>e.name===s));o(e)}}),[s,f]),b?Object(g.jsx)(Ni,null):x?Object(g.jsx)(ii,{error:x,resendRequest:j}):0===(null==f?void 0:f.length)?Object(g.jsx)(Ai,null):Object(g.jsx)("div",{className:c.a,"data-test-subj":"enrichPoliciesList"},Object(g.jsx)(_.EuiText,{color:"subdued"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicies.list.descriptionTitle",defaultMessage:"Use an enrich policy to automatically enhance your incoming documents with data from your existing indices. {learnMoreLink}",values:{learnMoreLink:Object(g.jsx)(_.EuiLink,{href:C.a.getEnrichApisLink(),target:"_blank",external:!0,"data-test-subj":"enrichPoliciesLearnMoreLink"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicies.list.docsLink",defaultMessage:"Learn more"}))}})),Object(g.jsx)(_.EuiSpacer,{size:"l"}),Object(g.jsx)(ei,{policies:f,onReloadClick:j,onDeletePolicyClick:u,onExecutePolicyClick:m}),r&&Object(g.jsx)(ti,{policyToDelete:r,callback:e=>{null!=e&&e.hasDeletedPolicy&&j(),u(void 0)}}),p&&Object(g.jsx)(ai,{policyToExecute:p,callback:e=>{null!=e&&e.hasExecutedPolicy&&j(),m(void 0)}}),l&&Object(g.jsx)(Ri,{policy:l,onClose:()=>{o(void 0),n("/enrich_policies")}}))},Vi=e=>Object(g.jsx)(Xa,null,Object(g.jsx)(Ka,null,Object(g.jsx)(zi,e)));var Ui=a(4);const qi=e=>{const t=I.a.parse(e);return delete t.indexName,delete t.tab,I.a.stringify(t)},Wi=({indexName:e,resendRequest:t,navigateToIndicesList:a})=>Object(g.jsx)(_.EuiPageTemplate.EmptyPrompt,{"data-test-subj":"indexDetailsErrorLoadingDetails",color:"danger",iconType:"warning",title:Object(g.jsx)("h2",null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.errorTitle",defaultMessage:"Unable to load index details"})),body:Object(g.jsx)(_.EuiText,{color:"subdued"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.errorDescription",defaultMessage:"We encountered an error loading data for index {indexName}. Make sure that the index name in the URL is correct and try again.",values:{indexName:e}})),actions:Object(g.jsx)(_.EuiFlexGroup,{justifyContent:"spaceAround"},Object(g.jsx)(_.EuiFlexItem,{grow:!1},Object(g.jsx)(_.EuiButtonEmpty,{color:"danger",iconType:"arrowLeft",onClick:a},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.backToIndicesButtonLabel",defaultMessage:"Back to indices"}))),Object(g.jsx)(_.EuiFlexItem,{grow:!1},Object(g.jsx)(_.EuiButton,{iconSide:"right",onClick:t,iconType:"refresh",color:"danger","data-test-subj":"indexDetailsReloadDetailsButton"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.reloadButtonLabel",defaultMessage:"Reload"}))))});var Gi=a(69),$i=a(73),Hi=a(100);var Ji={name:"96moj5",styles:"margin:0 0.3em"};const Yi=({indexName:e,asButton:t=!1})=>{const{url:a}=Object(d.d)(),i=null==a?void 0:a.locators.get("DISCOVER_APP_LOCATOR");if(!i)return null;const n=async()=>{await i.navigate({dataViewSpec:{title:e}})};let s=Object(g.jsx)(_.EuiButtonIcon,{onClick:n,display:"empty",size:"xs",iconType:"discoverApp","aria-label":"Discover","data-test-subj":"discoverIconLink",css:Ji});return t&&(s=Object(g.jsx)(_.EuiButton,{fill:!0,onClick:n,iconType:"discoverApp","data-test-subj":"discoverButtonLink"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.goToDiscover.discoverIndexButtonLabel",defaultMessage:"Discover index"}))),Object(g.jsx)(_.EuiToolTip,{content:B.i18n.translate("xpack.idxMgmt.goToDiscover.showIndexToolTip",{defaultMessage:"Show {indexName} in Discover",values:{indexName:e}})},s)},Ki=({index:e,reloadIndexDetails:t,navigateToIndicesList:a})=>{const[n,s]=Object(i.useState)(!1),l=Object(i.useMemo)((()=>[e.name]),[e]),o=Object(i.useCallback)((async()=>{s(!0),await t(),s(!1)}),[t]),r=[e],c=((e,t)=>{const a={};return e.forEach((e=>{var i;const{status:n}=null!==(i=t.find((t=>t.name===e)))&&void 0!==i?i:{};a[e]=n})),a})(l,r),d=Object(i.useCallback)((async()=>{s(!0);try{await Object(Ze.c)(l),await o(),s(!1),bt.a.showSuccessToast(B.i18n.translate("xpack.idxMgmt.closeIndicesAction.indexClosedMessage",{defaultMessage:"The index {indexNames} was closed.",values:{indexNames:l.join(", ")}}))}catch(e){s(!1),bt.a.showDangerToast(e.body.message)}}),[o,l]),u=Object(i.useCallback)((async()=>{s(!0);try{await Object(Ze.l)(l),await o(),s(!1),bt.a.showSuccessToast(B.i18n.translate("xpack.idxMgmt.openIndicesAction.indexOpenedMessage",{defaultMessage:"The index {indexNames} was opened.",values:{indexNames:l.join(", ")}}))}catch(e){s(!1),bt.a.showDangerToast(e.body.message)}}),[o,l]),p=Object(i.useCallback)((async()=>{s(!0);try{await Object(Ze.g)(l),await o(),s(!1),bt.a.showSuccessToast(B.i18n.translate("xpack.idxMgmt.flushIndicesAction.indexFlushedMessage",{defaultMessage:"The index {indexNames} was flushed.",values:{indexNames:l.join(", ")}}))}catch(e){s(!1),bt.a.showDangerToast(e.body.message)}}),[o,l]),m=Object(i.useCallback)((async()=>{s(!0);try{await Object(Ze.m)(l),await o(),s(!1),bt.a.showSuccessToast(B.i18n.translate("xpack.idxMgmt.refreshIndicesAction.indexRefreshedMessage",{defaultMessage:"The index {indexNames} was refreshed.",values:{indexNames:l.join(", ")}}))}catch(e){s(!1),bt.a.showDangerToast(e.body.message)}}),[o,l]),x=Object(i.useCallback)((async()=>{s(!0);try{await Object(Ze.b)(l),await o(),s(!1),bt.a.showSuccessToast(B.i18n.translate("xpack.idxMgmt.clearCacheIndicesAction.indexCacheClearedMessage",{defaultMessage:"The cache of the index {indexNames} was cleared.",values:{indexNames:l.join(", ")}}))}catch(e){s(!1),bt.a.showDangerToast(e.body.message)}}),[o,l]),b=Object(i.useCallback)((async()=>{s(!0);try{await Object(Ze.q)(l),await o(),s(!1),bt.a.showSuccessToast(B.i18n.translate("xpack.idxMgmt.unfreezeIndicesAction.indexUnfrozenMessage",{defaultMessage:"The index {indexNames} was unfrozen.",values:{indexNames:l.join(", ")}}))}catch(e){s(!1),bt.a.showDangerToast(e.body.message)}}),[o,l]),f=Object(i.useCallback)((async e=>{s(!0);try{await Object(Ze.h)(l,e),await o(),s(!1),bt.a.showSuccessToast(B.i18n.translate("xpack.idxMgmt.forceMergeIndicesAction.indexForcemergedMessage",{defaultMessage:"The index {indexNames} was force merged.",values:{indexNames:l.join(", ")}}))}catch(e){s(!1),bt.a.showDangerToast(e.body.message)}}),[o,l]),j=Object(i.useCallback)((async()=>{s(!0);try{await Object(Ze.e)(l),s(!1),bt.a.showSuccessToast(B.i18n.translate("xpack.idxMgmt.deleteIndicesAction.indexDeletedMessage",{defaultMessage:"The index {indexNames} was deleted.",values:{indexNames:l.join(", ")}})),a()}catch(e){s(!1),bt.a.showDangerToast(e.body.message)}}),[a,l]),h=Object(i.useCallback)((async(e,t)=>{s(!0);try{await e(l,At.a.httpClient),await o(),s(!1),bt.a.showSuccessToast(t)}catch(e){s(!1),bt.a.showDangerToast(e.body.message)}}),[o,l]);return Object(g.jsx)(index_actions_context_menu_IndexActionsContextMenu,{indexNames:l,indices:r,indexStatusByName:c,fill:!1,isLoading:n,closeIndices:d,openIndices:u,flushIndices:p,refreshIndices:m,clearCacheIndices:x,unfreezeIndices:b,forcemergeIndices:f,deleteIndices:j,performExtensionAction:h,reloadIndices:o})};B.i18n.translate("searchApiPanels.welcomeBanner.panels.learnMore",{defaultMessage:"Learn more"});var Xi=a(217);const Qi=B.i18n.translate("tryInConsole.button",{defaultMessage:"Try in Console"}),Zi=({request:e,application:t,consolePlugin:a,sharePlugin:i,content:n,showIcon:s=!0,link:l=!1})=>{var o,r,c;const d=null==i?void 0:i.url;if(null==t||null===(o=t.capabilities)||void 0===o||null===(r=o.dev_tools)||void 0===r||!r.show||!d)return null;const u=e?Object(Xi.compressToEncodedURIComponent)(e):null,p=null===(c=d.locators.get("CONSOLE_APP_LOCATOR"))||void 0===c?void 0:c.useUrl(u?{loadFrom:`data:text/plain,${u}`}:{},void 0,[e]);if(!p)return null;const m=()=>{var t,i;null!==(t=void 0!==(null==a?void 0:a.openEmbeddedConsole)&&(null==a||null===(i=a.isEmbeddedConsoleAvailable)||void 0===i?void 0:i.call(a)))&&void 0!==t&&t?a.openEmbeddedConsole(e):window.open(p,"_blank","noreferrer")};return l?Object(g.jsx)(_.EuiLink,{"data-test-subj":"tryInConsoleLink",onClick:m},null!=n?n:Qi):Object(g.jsx)(_.EuiButtonEmpty,{"data-test-subj":"tryInConsoleButton",onClick:m,iconType:s?"popout":void 0,size:"s"},null!=n?n:Qi)};a(218);const en=({application:e,codeSnippet:t,consolePlugin:a,languageType:s,languages:l,assetBasePath:o,selectedLanguage:r,setSelectedLanguage:c,sharePlugin:d,consoleRequest:u,showTopBar:p=!0})=>{const[m,x]=Object(i.useState)(!1),b=l?l.map((e=>Object(g.jsx)(_.EuiContextMenuItem,{key:e.id,icon:`${o}/${e.iconType}`,onClick:()=>{c&&(c(e),x(!1))}},e.name))):[],f=r?Object(g.jsx)(_.EuiThemeProvider,{colorMode:"dark"},Object(g.jsx)(_.EuiButtonEmpty,{"aria-label":B.i18n.translate("searchApiPanels.welcomeBanner.codeBox.selectAriaLabel",{defaultMessage:"Select a programming language"}),color:"text",iconType:"arrowDown",iconSide:"left",onClick:()=>x(!m)},r.name)):null;return Object(g.jsx)(_.EuiThemeProvider,{colorMode:"dark"},Object(g.jsx)(_.EuiPanel,{paddingSize:"xs",className:"codeBoxPanel","data-test-subj":"codeBlockControlsPanel"},p&&Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiFlexGroup,{alignItems:"center",responsive:!1,gutterSize:"s",justifyContent:l&&0!==l.length?"spaceBetween":"flexEnd"},l&&f&&Object(g.jsx)(_.EuiFlexItem,null,Object(g.jsx)(_.EuiThemeProvider,{colorMode:"light"},Object(g.jsx)(_.EuiPopover,{button:f,isOpen:m,closePopover:()=>x(!1),panelPaddingSize:"none",anchorPosition:"downLeft"},Object(g.jsx)(_.EuiContextMenuPanel,{items:b,size:"s"})))),Object(g.jsx)(_.EuiFlexItem,{grow:!1},Object(g.jsx)(_.EuiCopy,{textToCopy:t},(e=>Object(g.jsx)(_.EuiButtonEmpty,{color:"text",iconType:"copyClipboard",size:"s",onClick:e},B.i18n.translate("searchApiPanels.welcomeBanner.codeBox.copyButtonLabel",{defaultMessage:"Copy"}))))),void 0!==u&&d&&Object(g.jsx)(_.EuiFlexItem,{grow:!1},Object(g.jsx)(Zi,{request:u,application:e,consolePlugin:a,sharePlugin:d}))),Object(g.jsx)(_.EuiHorizontalRule,{margin:"none"})),Object(g.jsx)(_.EuiCodeBlock,{isCopyable:!p,transparentBackground:!0,fontSize:"m",language:s||(null==r?void 0:r.languageStyling)||(null==r?void 0:r.id),overflowHeight:500,className:"codeBoxCodeBlock"},t)))};a(127);var tn=a(54);let an=function(e){return e.JAVA="java",e.JAVASCRIPT="javascript",e.RUBY="ruby",e.GO="go",e.DOTNET="dotnet",e.PHP="php",e.PERL="perl",e.PYTHON="python",e.RUST="rust",e.CURL="curl",e}({});const nn={buildSearchQuery:'POST /books/_search?pretty\n{\n  "query": {\n    "query_string": {\n      "query": "snow"\n    }\n  }\n}',ingestData:({ingestPipeline:e})=>`POST _bulk?pretty${e?`&pipeline=${e}`:""}\n{ "index" : { "_index" : "books" } }\n{"name": "Snow Crash", "author": "Neal Stephenson", "release_date": "1992-06-01", "page_count": 470}\n{ "index" : { "_index" : "books" } }\n{"name": "Revelation Space", "author": "Alastair Reynolds", "release_date": "2000-03-15", "page_count": 585}\n{ "index" : { "_index" : "books" } }\n{"name": "1984", "author": "George Orwell", "release_date": "1985-06-01", "page_count": 328}\n{ "index" : { "_index" : "books" } }\n{"name": "Fahrenheit 451", "author": "Ray Bradbury", "release_date": "1953-10-15", "page_count": 227}\n{ "index" : { "_index" : "books" } }\n{"name": "Brave New World", "author": "Aldous Huxley", "release_date": "1932-06-01", "page_count": 268}\n{ "index" : { "_index" : "books" } }\n{"name": "The Handmaid's Tale", "author": "Margaret Atwood", "release_date": "1985-06-01", "page_count": 311}`,ingestDataIndex:({indexName:e})=>`POST _bulk?pretty\n{ "index" : { "_index" : "${null!=e?e:"index_name"}" } }\n{"name": "foo", "title": "bar"}\n`},sn=(e,t,a)=>{const i=e[t];if(void 0===i)return"";switch(typeof i){case"string":return i;case"function":return i(a);default:return""}},ln=(e,t)=>{if(e in nn){const a=nn[e];switch(typeof a){case"string":return a;case"function":return t?a(t):void 0;default:return}}},on=({title:e,content:{left:t,right:a},footer:{left:i,right:n}={},"data-test-subj":s})=>Object(g.jsx)(_.EuiFlexItem,null,Object(g.jsx)(_.EuiSplitPanel.Outer,{grow:!0,hasBorder:!0,"data-test-subj":s},Object(g.jsx)(_.EuiSplitPanel.Inner,null,Object(g.jsx)(_.EuiTitle,{size:"xxxs"},Object(g.jsx)("h4",null,e)),Object(g.jsx)(_.EuiSpacer,{size:"s"}),Object(g.jsx)(_.EuiFlexGroup,{gutterSize:"none",justifyContent:"spaceBetween",wrap:!0,alignItems:"center",css:Object(g.css)("min-height:",tn.euiThemeVars.euiButtonHeightSmall,";","")},Object(g.jsx)(_.EuiFlexItem,{grow:!1},t),Object(g.jsx)(_.EuiFlexItem,{grow:!1},a))),Object(g.jsx)(_.EuiSplitPanel.Inner,{grow:!1,color:"subdued"},Object(g.jsx)(_.EuiFlexGroup,{gutterSize:"none",justifyContent:"spaceBetween",alignItems:"center",wrap:!0},i&&Object(g.jsx)(_.EuiFlexItem,{grow:!1},i),n&&Object(g.jsx)(_.EuiFlexItem,{grow:!1},n))))),rn={green:{color:"success",label:B.i18n.translate("xpack.idxMgmt.indexDetails.overviewTab.health.greenLabel",{defaultMessage:"Healthy"})},yellow:{color:"warning",label:B.i18n.translate("xpack.idxMgmt.indexDetails.overviewTab.health.yellowLabel",{defaultMessage:"Warning"})},red:{color:"danger",label:B.i18n.translate("xpack.idxMgmt.indexDetails.overviewTab.health.redLabel",{defaultMessage:"Critical"})}};var cn={name:"3s4lj9",styles:"max-width:100px"};const dn=({documents:e,documentsDeleted:t,status:a,health:i})=>{const{config:n}=Object(d.d)();if(!n.enableIndexStats||!i)return null;const s=rn[i.toLowerCase()],l=Object(g.jsx)(_.EuiBadge,{color:s.color},s.label);return Object(g.jsx)(on,{"data-test-subj":"indexDetailsStatus",title:B.i18n.translate("xpack.idxMgmt.indexDetails.overviewTab.status.cardTitle",{defaultMessage:"Status"}),content:{left:Object(g.jsx)(_.EuiText,{color:"close"===a?"danger":"success",css:Object(g.css)("font-size:",tn.euiThemeVars.euiFontSizeL,";","")},"close"===a?B.i18n.translate("xpack.idxMgmt.indexDetails.overviewTab.status.closedLabel",{defaultMessage:"Closed"}):B.i18n.translate("xpack.idxMgmt.indexDetails.overviewTab.status.openLabel",{defaultMessage:"Open"})),right:Object(g.jsx)("div",{css:cn},l)},footer:{left:Object(g.jsx)(_.EuiFlexGroup,{gutterSize:"xs"},Object(g.jsx)(_.EuiFlexItem,{grow:!1},Object(g.jsx)(_.EuiIcon,{type:"documents",color:"subdued"})),Object(g.jsx)(_.EuiFlexItem,null,Object(g.jsx)(_.EuiTextColor,{color:"subdued"},B.i18n.translate("xpack.idxMgmt.indexDetails.overviewTab.status.documentsLabel",{defaultMessage:"{documents, plural, one {# Document} other {# Documents}} / {documentsDeleted} Deleted",values:{documents:e,documentsDeleted:t}}))))}})},un="index_name",pn={id:an.CURL,name:B.i18n.translate("xpack.idxMgmt.indexDetails.languages.cURL",{defaultMessage:"cURL"}),iconType:"curl.svg",languageStyling:"shell",ingestDataIndex:({apiKey:e,indexName:t,url:a})=>`curl -X POST ${a}/_bulk?pretty \\\n  -H "Authorization: ApiKey ${e}" \\\n  -H "Content-Type: application/json" \\\n  -d'\n{ "index" : { "_index" : "${null!=t?t:un}" } }\n{"name": "foo", "title": "bar" }\n'\n`},mn={id:an.JAVASCRIPT,name:B.i18n.translate("xpack.idxMgmt.indexDetails.languages.javascript",{defaultMessage:"JavaScript"}),iconType:"javascript.svg",ingestDataIndex:({apiKey:e,url:t,indexName:a})=>`const { Client } = require('@elastic/elasticsearch');\nconst client = new Client({\n  node: '${t}',\n  auth: {\n      apiKey: '${e}'\n  }\n});\nconst dataset = [\n  {'name': 'foo', 'title': 'bar'},\n];\n\n// Index with the bulk helper\nconst result = await client.helpers.bulk({\n  datasource: dataset,\n  onDocument (doc) {\n    return { index: { _index: '${null!=a?a:"index_name"}' }};\n  }\n});\nconsole.log(result);\n`},gn={id:an.GO,name:B.i18n.translate("xpack.idxMgmt.indexDetails.languages.go",{defaultMessage:"Go"}),iconType:"go.svg",ingestDataIndex:({apiKey:e,url:t,indexName:a})=>`import (\n  "context"\n  "fmt"\n  "log"\n  "strings"\n\n  "github.com/elastic/elasticsearch-serverless-go"\n)\n\nfunc main() {\n  cfg := elasticsearch.Config{\n    Address: "${t}",\n    APIKey: "${e}",\n  }\n  es, err := elasticsearch.NewClient(cfg)\n  if err != nil {\n    log.Fatalf("Error creating the client: %s", err)\n  }\n  res, err := es.Bulk().\n    Index("${a}").\n    Raw(strings.NewReader(\`\n{ "index": { "_id": "1"}}\n{"name": "foo", "title": "bar"}\n\`)).\n    Do(context.Background())\n\n  fmt.Println(res, err)\n}`},xn={id:an.PYTHON,name:B.i18n.translate("xpack.idxMgmt.indexDetails.languages.python",{defaultMessage:"Python"}),iconType:"python.svg",ingestDataIndex:({apiKey:e,url:t,indexName:a})=>`from elasticsearch import Elasticsearch\n\nclient = Elasticsearch(\n  "${t}",\n  api_key="${e}"\n)\n\ndocuments = [\n  {"index": {"_index": "${null!=a?a:un}"}},\n  {"name": "foo", "title": "bar"},\n]\n\nclient.bulk(operations=documents)\n`},bn={id:an.PHP,name:B.i18n.translate("xpack.idxMgmt.indexDetails.languages.php",{defaultMessage:"PHP"}),iconType:"php.svg",ingestDataIndex:({apiKey:e,url:t,indexName:a})=>`$client = ClientBuilder::create()\n  ->setHosts(['${t}'])\n  ->setApiKey('${e}')\n  ->build();\n\n$params = [\n'body' => [\n[\n'index' => [\n'_index' => '${null!=a?a:un}',\n'_id' => '1',\n],\n],\n[\n'name' => 'foo',\n'title' => 'bar',\n],\n],\n];\n\n$response = $client->bulk($params);\necho $response->getStatusCode();\necho (string) $response->getBody();\n`},fn={id:an.RUBY,name:B.i18n.translate("xpack.idxMgmt.indexDetails.languages.ruby",{defaultMessage:"Ruby"}),iconType:"ruby.svg",ingestDataIndex:({apiKey:e,url:t,indexName:a})=>`client = ElasticsearchServerless::Client.new(\n  api_key: '${e}',\n  url: '${t}'\n)\n\ndocuments = [\n  { index: { _index: '${null!=a?a:un}', data: {name: "foo", "title": "bar"} } },\n]\nclient.bulk(body: documents)\n`},jn={[an.CURL]:pn,[an.PYTHON]:xn,[an.JAVASCRIPT]:mn,[an.PHP]:bn,[an.GO]:gn,[an.RUBY]:fn},hn=Object.values(jn);var On=a(65),Mn=a.n(On);const yn=e=>Mn()(e).format("MMMM Do, YYYY h:mm:ss A"),vn=({dataStreamName:e})=>{var t,a;const{error:i,data:n,isLoading:s,resendRequest:l}=Object(Jt.C)(e),{core:{getUrlForApp:o}}=Object(d.d)(),r=!s&&(i||!n);let c=Object(g.jsx)(_.EuiFlexGroup,{gutterSize:"xs",alignItems:"baseline"},Object(g.jsx)(_.EuiFlexItem,{grow:!1},Object(g.jsx)(_.EuiText,{css:Object(g.css)("font-size:",tn.euiThemeVars.euiFontSizeL,";","")},null==n?void 0:n.generation)),Object(g.jsx)(_.EuiFlexItem,null,Object(g.jsx)(_.EuiTextColor,{color:"subdued"},B.i18n.translate("xpack.idxMgmt.indexDetails.overviewTab.dataStream.generationLabel",{defaultMessage:"{generations, plural, one {Generation} other {Generations}}",values:{generations:null==n?void 0:n.generation}})))),u=Object(g.jsx)(_.EuiFlexGroup,null,Object(g.jsx)(_.EuiFlexItem,null,Object(g.jsx)(_.EuiButton,{size:"s",target:"_blank",href:o("management",{path:`data/index_management${Object(Bt.b)(null!==(t=null==n?void 0:n.name)&&void 0!==t?t:"")}`})},B.i18n.translate("xpack.idxMgmt.indexDetails.overviewTab.dataStream.dataStreamLinkLabel",{defaultMessage:"See details"}))),Object(g.jsx)(_.EuiFlexItem,null,Object(g.jsx)(_.EuiButton,{size:"s",target:"_blank",href:o("management",{path:`data/index_management${Object(Bt.f)(null!==(a=null==n?void 0:n.indexTemplateName)&&void 0!==a?a:"")}`})},B.i18n.translate("xpack.idxMgmt.indexDetails.overviewTab.dataStream.templateLinkLabel",{defaultMessage:"Related template"}))));return s&&(c=Object(g.jsx)(Ui.SectionLoading,{inline:!0},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.overviewTab.dataStream.loadingDescription",defaultMessage:"Loading data stream details…"})),u=null),r&&(c=Object(g.jsx)(_.EuiText,{grow:!1},Object(g.jsx)(_.EuiTextColor,{color:"warning"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.overviewTab.dataStream.errorDescription",defaultMessage:"Unable to load data stream details"}))),u=Object(g.jsx)(_.EuiButton,{color:"warning",onClick:l,"data-test-subj":"indexDetailsDataStreamReload"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.overviewTab.dataStream.reloadButtonLabel",defaultMessage:"Reload"}))),Object(g.jsx)(on,{"data-test-subj":"indexDetailsDataStream",title:B.i18n.translate("xpack.idxMgmt.indexDetails.overviewTab.dataStream.cardTitle",{defaultMessage:"Data stream"}),content:{left:c,right:u},footer:{left:Object(g.jsx)(_.EuiFlexGroup,{gutterSize:"xs"},Object(g.jsx)(_.EuiFlexItem,{grow:!1},Object(g.jsx)(_.EuiIcon,{type:"calendar"})),Object(g.jsx)(_.EuiFlexItem,{grow:!1},B.i18n.translate("xpack.idxMgmt.indexDetails.overviewTab.dataStream.lastUpdateLabel",{defaultMessage:"Last update"})),!s&&!r&&Object(g.jsx)(_.EuiFlexItem,null,Object(g.jsx)(_.EuiTextColor,{color:"subdued"},null!=n&&n.maxTimeStamp?yn(n.maxTimeStamp):B.i18n.translate("xpack.idxMgmt.indexDetails.overviewTab.dataStream.maxTimeStampNoneMessage",{defaultMessage:"Never"}))))}})},En=({primarySize:e,size:t,primary:a,replica:i})=>{const{config:n}=Object(d.d)();return n.enableIndexStats?Object(g.jsx)(on,{"data-test-subj":"indexDetailsStorage",title:B.i18n.translate("xpack.idxMgmt.indexDetails.overviewTab.storage.cardTitle",{defaultMessage:"Storage"}),content:{left:Object(g.jsx)(_.EuiFlexGroup,{gutterSize:"xs",alignItems:"baseline"},Object(g.jsx)(_.EuiFlexItem,{grow:!1},Object(g.jsx)(_.EuiText,{css:Object(g.css)("font-size:",tn.euiThemeVars.euiFontSizeL,";","")},e)),Object(g.jsx)(_.EuiFlexItem,null,Object(g.jsx)(_.EuiTextColor,{color:"subdued"},B.i18n.translate("xpack.idxMgmt.indexDetails.overviewTab.storage.primarySizeLabel",{defaultMessage:"Primary"})))),right:Object(g.jsx)(_.EuiFlexGroup,{gutterSize:"xs",alignItems:"baseline"},Object(g.jsx)(_.EuiFlexItem,{grow:!1},Object(g.jsx)(_.EuiText,{css:Object(g.css)("font-size:",tn.euiThemeVars.euiFontSizeL,";","")},t)),Object(g.jsx)(_.EuiFlexItem,null,Object(g.jsx)(_.EuiTextColor,{color:"subdued"},B.i18n.translate("xpack.idxMgmt.indexDetails.overviewTab.storage.totalSizeLabel",{defaultMessage:"Total"}))))},footer:{left:Object(g.jsx)(_.EuiFlexGroup,{gutterSize:"xs"},Object(g.jsx)(_.EuiFlexItem,{grow:!1},Object(g.jsx)(_.EuiIcon,{type:"shard",color:"subdued"})),Object(g.jsx)(_.EuiFlexItem,null,Object(g.jsx)(_.EuiTextColor,{color:"subdued"},B.i18n.translate("xpack.idxMgmt.indexDetails.overviewTab.storage.shardsLabel",{defaultMessage:"Shards"})))),right:Object(g.jsx)(_.EuiTextColor,{color:"subdued"},B.i18n.translate("xpack.idxMgmt.indexDetails.overviewTab.storage.primariesReplicasLabel",{defaultMessage:"{primary, plural, one {# Primary} other {# Primaries}} / {replica, plural, one {# Replica} other {# Replicas}} ",values:{primary:a,replica:i}}))}}):null};var kn={name:"1lsto0t",styles:"max-width:250px"};const Tn=({aliases:e})=>{const[t,a]=Object(i.useState)(!1);if(!Array.isArray(e))return null;const s=e.slice(0,3).map((e=>Object(g.jsx)(_.EuiBadge,{key:e,css:kn},e)));return Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(on,{"data-test-subj":"indexDetailsAliases",title:B.i18n.translate("xpack.idxMgmt.indexDetails.overviewTab.aliases.cardTitle",{defaultMessage:"Aliases"}),content:{left:Object(g.jsx)(_.EuiFlexGroup,{gutterSize:"xs",alignItems:"baseline"},Object(g.jsx)(_.EuiFlexItem,{grow:!1},Object(g.jsx)(_.EuiText,{css:Object(g.css)("font-size:",tn.euiThemeVars.euiFontSizeL,";","")},e.length)),Object(g.jsx)(_.EuiFlexItem,null,Object(g.jsx)(_.EuiTextColor,{color:"subdued"},B.i18n.translate("xpack.idxMgmt.indexDetails.overviewTab.aliases.aliasesCountLabel",{defaultMessage:"{aliases, plural, one {Alias} other {Aliases}}",values:{aliases:e.length}})))),right:Object(g.jsx)(_.EuiButton,{size:"s",onClick:()=>{a(!0)}},"View all aliases")},footer:{left:Object(g.jsx)(_.EuiBadgeGroup,{gutterSize:"s"},s,e.length>3&&Object(g.jsx)(_.EuiBadge,{color:"hollow"},"+",e.length-3))}}),t&&Object(g.jsx)(_.EuiFlyout,{ownFocus:!0,onClose:()=>a(!1)},Object(g.jsx)(_.EuiFlyoutHeader,{hasBorder:!0},Object(g.jsx)(_.EuiTitle,{size:"m"},Object(g.jsx)("h2",null,B.i18n.translate("xpack.idxMgmt.indexDetails.overviewTab.aliases.cardTitle",{defaultMessage:"Aliases"})))),Object(g.jsx)(_.EuiFlyoutBody,null,Object(g.jsx)(_.EuiListGroup,{maxWidth:!1},e.map((e=>Object(g.jsx)(_.EuiListGroupItem,{wrapText:!0,key:e,label:e})))))))},Fn=({indexDetails:e})=>{const{name:t,status:a,health:s,documents:l,documents_deleted:o,primary:r,replica:c,aliases:u,data_stream:p,size:m,primary_size:x}=e,{core:b,plugins:f,services:{extensionsService:j}}=Object(d.d)(),[h,O]=Object(i.useState)(pn),M={url:Object(i.useMemo)((()=>{var e,t;return null!==(e=null===(t=f.cloud)||void 0===t?void 0:t.elasticsearchUrl)&&void 0!==e?e:"https://your_deployment_url"}),[f.cloud]),apiKey:"your_api_key",indexName:t},y=Object(_.useIsWithinBreakpoints)(["xl"]);return Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiFlexGrid,{columns:y?3:1},Object(g.jsx)(En,{size:m,primarySize:x,primary:r,replica:c}),Object(g.jsx)(dn,{documents:l,documentsDeleted:o,status:a,health:s}),Object(g.jsx)(Tn,{aliases:u}),p&&Object(g.jsx)(vn,{dataStreamName:p})),Object(g.jsx)(_.EuiSpacer,null),j.indexOverviewContent?j.indexOverviewContent.renderContent({index:e,getUrlForApp:b.getUrlForApp}):Object(g.jsx)(_.EuiFlexGroup,{direction:"column"},Object(g.jsx)(_.EuiFlexItem,null,Object(g.jsx)(_.EuiTitle,{size:"s"},Object(g.jsx)("h2",null,B.i18n.translate("xpack.idxMgmt.indexDetails.overviewTab.addMoreDataTitle",{defaultMessage:"Add data to this index"}))),Object(g.jsx)(_.EuiSpacer,{size:"s"}),Object(g.jsx)(_.EuiTextColor,{color:"subdued"},Object(g.jsx)(_.EuiText,{size:"s"},Object(g.jsx)("p",null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.overviewTab.addMoreDataDescription",defaultMessage:"Use the bulk API to add data to your index. {docsLink}",values:{docsLink:Object(g.jsx)(_.EuiLink,{href:Ze.f.getBulkApi(),target:"_blank",external:!0},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.overviewTab.addDocsLink",defaultMessage:"Learn more."}))}}))))),Object(g.jsx)(_.EuiFlexItem,null,Object(g.jsx)(en,{languages:hn,codeSnippet:sn(h,"ingestDataIndex",M),selectedLanguage:h,setSelectedLanguage:O,assetBasePath:b.http.basePath.prepend("/plugins/indexManagement/assets"),sharePlugin:f.share,application:b.application,consoleRequest:ln("ingestDataIndex",M)}))))};var Sn=a(129),_n=a(66);const Cn=e=>{const t=[],a={};return function e(i){f.a.keys(i).forEach((function(n){t.push(n),Array.isArray(i[n])?a[t.join(".")]=i[n]:f.a.isObject(i[n])?e(i[n]):a[t.join(".")]=i[n],t.pop()}))}(e),a},Ln=["index.creation_date","index.number_of_shards","index.provided_name","index.uuid","index.version.created","index.compound_format","index.data_path","index.format","index.number_of_routing_shards","index.sort.field","index.sort.missing","index.sort.mode","index.sort.order","index.routing_partition_size","index.store.type"],wn=["index.blocks.write","index.blocks.read","index.blocks.read_only","index.codec","index.default_pipeline","index.lifecycle.origination_date","index.final_pipeline","index.query.default_field","index.refresh_interval","index.query_string.lenient","index.mapping.ignore_malformed","index.mapping.coerce","index.mapping.total_fields.limit","index.merge.policy.deletes_pct_allowed","index.merge.policy.max_merge_at_once","index.merge.policy.expunge_deletes_allowed","index.merge.policy.floor_segment"],In=["index.number_of_replicas","index.blocks.read_only_allow_delete","index.codec","index.priority","index.query.default_field","index.refresh_interval","index.write.wait_for_active_shards"];var Dn={name:"13udsys",styles:"height:100%"},Pn={name:"o84bs6",styles:"min-width:600px"},Nn={name:"1mhs1aw",styles:"min-width:400px"},An={name:"13udsys",styles:"height:100%"};const Bn=({data:e,indexName:t,reloadIndexSettings:a})=>{const[s,l]=Object(i.useState)(!1),{config:{editableIndexSettings:o}}=Object(d.d)(),{originalSettings:r,settingsString:c}=(({data:e,editableIndexSettings:t})=>{const{defaults:a,settings:i}=e,n=Cn(i),s=Cn(a);let l={...f.a.pick(s,In),...n};"limited"===t?l=f.a.pick(l,wn):Ln.forEach((e=>delete l[e]));const o=JSON.stringify(l,null,2);return{originalSettings:l,settingsString:o}})({data:e,editableIndexSettings:o}),[u,p]=Object(i.useState)(c),[m,x]=Object(i.useState)(!1),[b,j]=Object(i.useState)(null),h=Object(i.useCallback)((()=>{j(null),p(c)}),[c]),O=Object(i.useCallback)((async()=>{j(null),x(!0);try{const e=JSON.parse(u);if(Object.keys(r).forEach((t=>{f.a.isEqual(r[t],e[t])&&delete e[t]})),0!==Object.keys(e).length){const{error:i}=await Object(Ze.r)(t,e);i?(x(!1),j(i)):(x(!1),l(!1),bt.a.showSuccessToast(B.i18n.translate("xpack.idxMgmt.indexDetails.settings.updateSuccessMessage",{defaultMessage:"Successfully updated settings for index {indexName}",values:{indexName:t}})),a())}else x(!1),l(!1),bt.a.showWarningToast(B.i18n.translate("xpack.idxMgmt.indexDetails.settings.noChangeWarning",{defaultMessage:"No settings changed"}))}catch(e){x(!1),j({error:B.i18n.translate("xpack.idxMgmt.indexDetails.settings.updateError",{defaultMessage:"Unable to update settings"})})}}),[r,u,t,a]),M={};return Object.keys(r).forEach((e=>M[e]={type:["null","boolean","object","array","number","string"]})),Object(g.jsx)(_.EuiFlexGroup,{wrap:!0,direction:"rowReverse",css:An},Object(g.jsx)(_.EuiFlexItem,{grow:1,css:Nn},Object(g.jsx)(_.EuiPanel,{grow:!1,paddingSize:"l"},Object(g.jsx)(_.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},Object(g.jsx)(_.EuiFlexItem,{grow:!1},Object(g.jsx)(_.EuiIcon,{type:"pencil"})),Object(g.jsx)(_.EuiFlexItem,null,Object(g.jsx)(_.EuiText,null,Object(g.jsx)("b",null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.settings.docsCardTitle",defaultMessage:"Edit index settings"}))))),Object(g.jsx)(_.EuiSpacer,{size:"m"}),Object(g.jsx)(_.EuiSwitch,{"data-test-subj":"indexDetailsSettingsEditModeSwitch",label:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.settings.editModeSwitchLabel",defaultMessage:"Edit mode"}),checked:s,onChange:e=>{j(null),l(e.target.checked)}}),Object(g.jsx)(_.EuiSpacer,{size:"m"}),Object(g.jsx)(_.EuiFlexGroup,null,Object(g.jsx)(_.EuiFlexItem,{grow:1},Object(g.jsx)(_.EuiButton,{"data-test-subj":"indexDetailsSettingsSave",fill:!0,isDisabled:!s||!u||c===u,isLoading:m,onClick:O},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.settings.saveButtonLabel",defaultMessage:"Save changes"}))),Object(g.jsx)(_.EuiFlexItem,{grow:1},Object(g.jsx)(_.EuiButton,{"data-test-subj":"indexDetailsSettingsResetChanges",isDisabled:!s||m||c===u,onClick:h},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.settings.resetChangesButtonLabel",defaultMessage:"Reset changes"})))),b&&Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiSpacer,{size:"m"}),Object(g.jsx)(_.EuiCallOut,{title:B.i18n.translate("xpack.idxMgmt.indexDetails.settings.saveSettingsErrorMessage",{defaultMessage:"Unable to save settings"}),color:"danger",iconType:"error"},b.message&&Object(g.jsx)("p",null,b.message))),Object(g.jsx)(_.EuiSpacer,{size:"m"}),Object(g.jsx)(_.EuiLink,{"data-test-subj":"indexDetailsSettingsDocsLink",href:Ze.f.getSettingsDocumentationLink(),target:"_blank",external:!0},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.settings.docsCardLink",defaultMessage:"Learn more about settings"})))),Object(g.jsx)(_.EuiFlexItem,{grow:3,css:Pn},Object(g.jsx)(_.EuiPanel,null,s?Object(g.jsx)(Bi.CodeEditor,{languageId:"json",editorDidMount:e=>{var t,a;_n.monaco.languages.json.jsonDefaults.setDiagnosticsOptions({validate:!0,schemas:[{uri:null!==(t=null===(a=e.getModel())||void 0===a?void 0:a.uri.toString())&&void 0!==t?t:"",fileMatch:["*"],schema:{type:"object",properties:M}}]})},value:u,"data-test-subj":"indexDetailsSettingsEditor",options:{lineNumbers:"off",tabSize:2,automaticLayout:!0},"aria-label":B.i18n.translate("xpack.idxMgmt.formWizard.stepSettings.fieldIndexSettingsAriaLabel",{defaultMessage:"Index settings editor"}),onChange:p}):Object(g.jsx)(_.EuiCodeBlock,{language:"json",isCopyable:!0,"data-test-subj":"indexDetailsSettingsCodeBlock",css:Dn},JSON.stringify(e,null,2)))))},Rn=({indexName:e})=>{const{isLoading:t,data:a,error:i,resendRequest:s}=Object(Ze.t)(e);return t?Object(g.jsx)(Ui.SectionLoading,null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.settings.loadingDescription",defaultMessage:"Loading index settings…"})):i||!a?Object(g.jsx)(_.EuiPageTemplate.EmptyPrompt,{"data-test-subj":"indexDetailsSettingsError",color:"danger",iconType:"warning",title:Object(g.jsx)("h2",null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.settings.errorTitle",defaultMessage:"Unable to load index settings"})),body:Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiText,{color:"subdued"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.settings.errorDescription",defaultMessage:"We encountered an error loading settings for index {indexName}. Make sure that the index name in the URL is correct and try again.",values:{indexName:e}})),Object(g.jsx)(_.EuiSpacer,null),Object(g.jsx)(_.EuiButton,{iconSide:"right",onClick:s,iconType:"refresh",color:"danger","data-test-subj":"indexDetailsSettingsReloadButton"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.settings.reloadButtonLabel",defaultMessage:"Reload"})))}):Object(g.jsx)(Bn,{data:a,indexName:e,reloadIndexSettings:s})};var zn={name:"13udsys",styles:"height:100%"},Vn={name:"o84bs6",styles:"min-width:600px"},Un={name:"1mhs1aw",styles:"min-width:400px"},qn={name:"13udsys",styles:"height:100%"};const Wn=({indexName:e,isIndexOpen:t})=>{const[a,s]=Object(i.useState)(!1),[l,o]=Object(i.useState)(),[r,d]=Object(i.useState)(),u=Object(i.useCallback)((async()=>{s(!0);try{const{data:t,error:a}=await Object(Ze.j)(e);s(!1),o(a),d(t)}catch(e){s(!1),o(e)}}),[e]);return Object(i.useEffect)((()=>{t&&u()}),[u,t]),!1===t?Object(g.jsx)(_.EuiPageTemplate.EmptyPrompt,{"data-test-subj":"indexStatsNotAvailableWarning",iconType:"warning",color:"warning",title:Object(g.jsx)("h2",null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.stats.statsNotAvailableTitle",defaultMessage:"Index statistics not available"})),body:Object(g.jsx)("p",null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.stats.statsNotAvailableDescription",defaultMessage:"To view index statistics, verify your index is open."}))}):a?Object(g.jsx)(c.p,null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.stats.loadingIndexStats",defaultMessage:"Loading index statistics…"})):l?Object(g.jsx)(_.EuiPageTemplate.EmptyPrompt,{"data-test-subj":"indexDetailsStatsError",color:"danger",iconType:"warning",title:Object(g.jsx)("h2",null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.stats.errorTitle",defaultMessage:"Unable to load index statistics"})),body:Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiText,{color:"subdued"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.stats.errorDescription",defaultMessage:"We encountered an error loading statistics for index {indexName}. Make sure that the index name in the URL is correct and try again.",values:{indexName:e}})),Object(g.jsx)(_.EuiSpacer,null),Object(g.jsx)(_.EuiButton,{iconSide:"right",onClick:u,iconType:"refresh",color:"danger","data-test-subj":"reloadIndexStatsButton"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.stats.reloadButtonLabel",defaultMessage:"Reload"})))}):r?Object(g.jsx)(_.EuiFlexGroup,{wrap:!0,direction:"rowReverse",css:qn,"data-test-subj":"statsTabContent"},Object(g.jsx)(_.EuiFlexItem,{grow:1,css:Un},Object(g.jsx)(_.EuiPanel,{grow:!1,paddingSize:"l"},Object(g.jsx)(_.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},Object(g.jsx)(_.EuiFlexItem,{grow:!1},Object(g.jsx)(_.EuiIcon,{type:"iInCircle"})),Object(g.jsx)(_.EuiFlexItem,{grow:!1},Object(g.jsx)(_.EuiTitle,{size:"xs"},Object(g.jsx)("h2",null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.stats.indexStatsTitle",defaultMessage:"About index statistics"}))))),Object(g.jsx)(_.EuiSpacer,{size:"s"}),Object(g.jsx)(_.EuiText,null,Object(g.jsx)("p",null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.stats.indexStatsDescription",defaultMessage:"Index stats contain high-level aggregation and statistics for an index. The {primariesField} field represents the values for only primary shards, and the {totalField} field contains the accumulated values for both primary and replica shards.",values:{primariesField:Object(g.jsx)(_.EuiCode,null,"primaries"),totalField:Object(g.jsx)(_.EuiCode,null,"total")}}))),Object(g.jsx)(_.EuiSpacer,{size:"m"}),Object(g.jsx)(_.EuiLink,{"data-test-subj":"indexDetailsStatsDocsLink",href:Ze.f.getIndexStats(),target:"_blank",external:!0},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.stats.learnMoreLink",defaultMessage:"Learn more about statistics"})))),Object(g.jsx)(_.EuiFlexItem,{grow:3,css:Vn},Object(g.jsx)(_.EuiPanel,null,Object(g.jsx)(_.EuiCodeBlock,{"data-test-subj":"indexDetailsStatsCodeBlock",isCopyable:!0,language:"json",paddingSize:"m",css:zn},JSON.stringify(r,null,2))))):null},Gn=({tabs:e,tab:t,index:a})=>{const n=e.find((e=>e.id===t)),{core:{getUrlForApp:s}}=Object(d.d)();return Object(i.useEffect)((()=>{var e;const t=null!==(e=null==n?void 0:n.breadcrumb)&&void 0!==e?e:{text:null==n?void 0:n.name};R.b.setBreadcrumbs(R.a.indexDetails,t)}),[n]),n?n.renderTabContent({index:a,getUrlForApp:s}):Object(g.jsx)(Fn,{indexDetails:a})},$n=({errors:e})=>{const[t,a]=Object(i.useState)(!1);return Object(g.jsx)(_.EuiCallOut,{"data-test-subj":"indexErrorCallout",color:"danger",iconType:"error",title:B.i18n.translate("xpack.idxMgmt.indexOverview.indexErrors.title",{defaultMessage:"Index has errors"})},t&&Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)("p",null,B.i18n.translate("xpack.idxMgmt.indexOverview.indexErrors.body",{defaultMessage:"Found errors in the following fields:"}),e.map((({field:e,error:t})=>Object(g.jsx)("li",{key:e.path.join(".")},Object(g.jsx)("strong",null,e.path.join(".")),": ",t)))),Object(g.jsx)(_.EuiButton,{color:"danger",onClick:()=>a(!1)},B.i18n.translate("xpack.idxMgmt.indexOverview.indexErrors.hideErrorsLabel",{defaultMessage:"Hide full error"}))),!t&&Object(g.jsx)(_.EuiButton,{color:"danger",onClick:()=>a(!0)},B.i18n.translate("xpack.idxMgmt.indexOverview.indexErrors.showErrorsLabel",{defaultMessage:"Show full error"})))},Hn=[{id:F.n.Overview,name:B.i18n.translate("xpack.idxMgmt.indexDetails.overviewTitle",{defaultMessage:"Overview"}),renderTabContent:({index:e})=>Object(g.jsx)(Fn,{indexDetails:e}),order:10},{id:F.n.Mappings,name:B.i18n.translate("xpack.idxMgmt.indexDetails.mappingsTitle",{defaultMessage:"Mappings"}),renderTabContent:({index:e})=>Object(g.jsx)(Sn.a,{index:e}),order:20},{id:F.n.Settings,name:B.i18n.translate("xpack.idxMgmt.indexDetails.settingsTitle",{defaultMessage:"Settings"}),renderTabContent:({index:e})=>Object(g.jsx)(Rn,{indexName:e.name}),order:30}],Jn={id:F.n.Stats,name:B.i18n.translate("xpack.idxMgmt.indexDetails.statsTitle",{defaultMessage:"Statistics"}),renderTabContent:({index:e})=>Object(g.jsx)(Wn,{indexName:e.name,isIndexOpen:e.status===F.h}),order:40};var Yn={name:"13udsys",styles:"height:100%"};const Kn=({index:e,tab:t,history:a,search:s,fetchIndexDetails:l,navigateToIndicesList:o})=>{var r;const{core:{application:{capabilities:c}},config:{enableIndexStats:u},plugins:{console:p,ml:m},services:{extensionsService:x}}=Object(d.d)(),b=!(null==c||null===(r=c.ml)||void 0===r||!r.canGetTrainedModels),f=((e,t,a)=>{var n;const{data:s}=Object(Ze.s)(e.name),{data:l}=Object(Ze.u)(),[o,r]=Object(i.useState)([]);return Object(i.useEffect)((()=>{var e;const i=s;if(!(i&&a&&l&&t))return;const n=Object(Hi.a)(i),o=Object(Gi.t)(null===(e=n.parsedDefaultValue)||void 0===e?void 0:e.fields),c=Object.values(o.byId).filter((e=>"semantic_text"===e.source.type));c.length&&(async()=>{var e;const a=await(null===(e=t.mlApi)||void 0===e?void 0:e.trainedModels.getTrainedModelStats()),i=c.map((e=>{const t=l.find((t=>t.inference_id===e.source.inference_id));if(!t)return{field:e,error:B.i18n.translate("xpack.idxMgmt.indexOverview.indexErrors.missingModelError",{defaultMessage:"Model not found for inference endpoint {inferenceId}",values:{inferenceId:e.source.inference_id}})};if(Object($i.t)(t)){var i;const n=t.service_settings.model_id,s=null==a?void 0:a.trained_model_stats.find((e=>e.model_id===n));if(!s||"started"!==(null===(i=s.deployment_stats)||void 0===i?void 0:i.state))return{field:e,error:B.i18n.translate("xpack.idxMgmt.indexOverview.indexErrors.modelNotStartedError",{defaultMessage:"Model {modelId} for inference endpoint {inferenceId} in field {fieldName} has not been started",values:{inferenceId:e.source.inference_id,fieldName:e.path.join("."),modelId:n}})}}return{field:e,error:""}})).filter((e=>!!e.error));r(i)})()}),[s,a,l,t,null==t||null===(n=t.mlApi)||void 0===n?void 0:n.trainedModels]),o})(e,m,b),j=Object(i.useMemo)((()=>{const t=[...Hn];return u&&t.push(Jn),x.indexDetailsTabs.forEach((a=>{a.shouldRenderTab&&!a.shouldRenderTab({index:e})||t.push(a)})),t.sort(((e,t)=>e.order-t.order)),t}),[u,x.indexDetailsTabs,e]),h=Object(i.useCallback)((t=>a.push(Object(Bt.c)(e.name,qi(s),t))),[a,e.name,s]),O=Object(i.useMemo)((()=>j.map((e=>({onClick:()=>h(e.id),isSelected:e.id===t,key:e.id,"data-test-subj":`indexDetailsTab-${e.id}`,label:e.name})))),[j,t,h]),M=Object(g.jsx)(n.a.Fragment,null,e.name,Vt(e,x));return Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiPageSection,{paddingSize:"none"},Object(g.jsx)(_.EuiButton,{"data-test-subj":"indexDetailsBackToIndicesButton",color:"text",iconType:"arrowLeft",onClick:o},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.backToIndicesButtonLabel",defaultMessage:"Back to indices"}))),Object(g.jsx)(_.EuiSpacer,{size:"l"}),Object(g.jsx)(_.EuiPageHeader,{"data-test-subj":"indexDetailsHeader",pageTitle:M,bottomBorder:!0,rightSideItems:[Object(g.jsx)(Yi,{indexName:e.name,asButton:!0}),Object(g.jsx)(Ki,{index:e,reloadIndexDetails:l,navigateToIndicesList:o})],rightSideGroupProps:{wrap:!1},responsive:"reverse",tabs:O},f.length>0?Object(g.jsx)($n,{errors:f}):null),Object(g.jsx)(_.EuiSpacer,{size:"l"}),Object(g.jsx)("div",{"data-test-subj":"indexDetailsContent",css:Yn},Object(g.jsx)(Gn,{tabs:j,tab:t,index:e})),null!=p&&p.EmbeddableConsole?Object(g.jsx)(p.EmbeddableConsole,null):null)},Xn=({location:{search:e},history:t})=>{var a,n;const s=Object(i.useMemo)((()=>new URLSearchParams(e)),[e]),l=null!==(a=s.get("indexName"))&&void 0!==a?a:"",o=null!==(n=s.get("tab"))&&void 0!==n?n:F.n.Overview,[r,c]=Object(i.useState)(!1),[d,u]=Object(i.useState)(null),[p,m]=Object(i.useState)(),x=Object(i.useCallback)((()=>{const a=qi(e);t.push(`/${F.p.Indices}${a?"?":""}${a}`)}),[t,e]),b=Object(i.useCallback)((async()=>{if(l){c(!0);try{const{data:e,error:t}=await Object(Ze.i)(l);c(!1),u(t),m(e)}catch(e){c(!1),u(e)}}}),[l]);return Object(i.useEffect)((()=>{b()}),[b]),l?r&&!p?Object(g.jsx)(Ui.SectionLoading,null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.loadingDescription",defaultMessage:"Loading index details…"})):d||!p?Object(g.jsx)(Wi,{indexName:l,resendRequest:b,navigateToIndicesList:x}):Object(g.jsx)(Kn,{index:p,tab:o,fetchIndexDetails:b,history:t,search:e,navigateToIndicesList:x}):Object(g.jsx)(_.EuiPageTemplate.EmptyPrompt,{"data-test-subj":"indexDetailsNoIndexNameError",color:"danger",iconType:"warning",title:Object(g.jsx)("h2",null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.noIndexNameErrorTitle",defaultMessage:"Unable to load index details"})),body:Object(g.jsx)(_.EuiText,{color:"subdued"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.noIndexNameErrorDescription",defaultMessage:"An index name is required for this page. Add a query parameter {queryParam} followed by an index name to the url.",values:{queryParam:Object(g.jsx)(_.EuiCode,null,"indexName")}}))})},Qn=({dataStreams:e,onClose:t})=>{const[a,n]=Object(i.useState)(!1),s=e.length;return Object(g.jsx)(_.EuiConfirmModal,{buttonColor:"danger","data-test-subj":"deleteDataStreamsConfirmation",title:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.deleteDataStreamsConfirmationModal.modalTitleText",defaultMessage:"Delete {dataStreamsCount, plural, one {data stream} other {# data streams}}",values:{dataStreamsCount:s}}),onCancel:()=>t(),onConfirm:()=>{n(!0),Object(Jt.e)(e).then((({data:{dataStreamsDeleted:a,errors:i},error:n})=>{const s=a&&a.length;if(s){const i=1===a.length?B.i18n.translate("xpack.idxMgmt.deleteDataStreamsConfirmationModal.successDeleteSingleNotificationMessageText",{defaultMessage:"Deleted data stream ''{dataStreamName}''",values:{dataStreamName:e[0]}}):B.i18n.translate("xpack.idxMgmt.deleteDataStreamsConfirmationModal.successDeleteMultipleNotificationMessageText",{defaultMessage:"Deleted {numSuccesses, plural, one {# data stream} other {# data streams}}",values:{numSuccesses:a.length}});t({hasDeletedDataStreams:s}),bt.a.showSuccessToast(i)}if(n||i&&i.length){const t=i&&i.length>1||n&&e.length>1?B.i18n.translate("xpack.idxMgmt.deleteDataStreamsConfirmationModal.multipleErrorsNotificationMessageText",{defaultMessage:"Error deleting {count} data streams",values:{count:i&&i.length||e.length}}):B.i18n.translate("xpack.idxMgmt.deleteDataStreamsConfirmationModal.errorNotificationMessageText",{defaultMessage:"Error deleting data stream ''{name}''",values:{name:i&&i[0].name||e[0]}});bt.a.showDangerToast(t)}})).finally((()=>n(!1)))},cancelButtonText:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.deleteDataStreamsConfirmationModal.cancelButtonLabel",defaultMessage:"Cancel"}),confirmButtonText:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.deleteDataStreamsConfirmationModal.confirmButtonLabel",defaultMessage:"Delete {dataStreamsCount, plural, one {data stream} other {data streams} }",values:{dataStreamsCount:s}}),isLoading:a},Object(g.jsx)(i.Fragment,null,Object(g.jsx)(_.EuiCallOut,{title:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.deleteDataStreamsConfirmationModal.warningTitle",defaultMessage:"Deleting data streams also deletes indices"}),color:"danger",iconType:"warning"},Object(g.jsx)("p",null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.deleteDataStreamsConfirmationModal.warningMessage",defaultMessage:"Data streams are collections of time series indices. Deleting a data stream will also delete its indices."}))),Object(g.jsx)(_.EuiSpacer,null),Object(g.jsx)("p",null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.deleteDataStreamsConfirmationModal.deleteDescription",defaultMessage:"You are about to delete {dataStreamsCount, plural, one {this data stream} other {these data streams} }:",values:{dataStreamsCount:s}})),Object(g.jsx)("ul",null,e.map((e=>Object(g.jsx)("li",{key:e},e))))))},Zn=({dataStream:e})=>{const t=[];return U(e)&&t.push(Object(g.jsx)(_.EuiBadge,{color:"hollow",key:"managed"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.table.managedDataStreamBadge",defaultMessage:"Managed"}))),e.hidden&&t.push(Object(g.jsx)(_.EuiBadge,{color:"hollow",key:"hidden"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.table.hiddenDataStreamBadge",defaultMessage:"Hidden"}))),t.length>0?Object(g.jsx)(n.a.Fragment,null," ",Object(g.jsx)(_.EuiBadgeGroup,null,t)):null},es={dataRetention:{type:c.d.TEXT,label:B.i18n.translate("xpack.idxMgmt.dataStreamsDetailsPanel.editDataRetentionModal.dataRetentionField",{defaultMessage:"Data retention"}),formatters:[c.z.toInt],validations:[{validator:({value:e,formData:t})=>{if(!t.infiniteRetentionPeriod)return e?e<=0?{message:B.i18n.translate("xpack.idxMgmt.dataStreamsDetailsPanel.editDataRetentionModal.dataRetentionFieldNonNegativeError",{defaultMessage:"A positive value is required."})}:void 0:{message:B.i18n.translate("xpack.idxMgmt.dataStreamsDetailsPanel.editDataRetentionModal.dataRetentionFieldRequiredError",{defaultMessage:"A data retention value is required."})}}}]},timeUnit:{type:c.d.TEXT,label:B.i18n.translate("xpack.idxMgmt.dataStreamsDetailsPanel.editDataRetentionModal.timeUnitField",{defaultMessage:"Time unit"})},infiniteRetentionPeriod:{type:c.d.TOGGLE,defaultValue:!1,label:B.i18n.translate("xpack.idxMgmt.dataStreamsDetailsPanel.editDataRetentionModal.infiniteRetentionPeriodField",{defaultMessage:"Keep data indefinitely"})},dataRetentionEnabled:{type:c.d.TOGGLE,defaultValue:!1,label:B.i18n.translate("xpack.idxMgmt.dataStreamsDetailsPanel.editDataRetentionModal.dataRetentionEnabledField",{defaultMessage:"Enable data retention"})}},ts=({ilmPolicyLink:e,ilmPolicyName:t,dataStreamName:a,history:i})=>Object(g.jsx)(_.EuiCallOut,{title:B.i18n.translate("xpack.idxMgmt.dataStreamsDetailsPanel.editDataRetentionModal.someManagedByILMTitle",{defaultMessage:"Some indices are managed by ILM"}),color:"warning",iconType:"warning","data-test-subj":"someIndicesAreManagedByILMCallout"},Object(g.jsx)("p",null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.dataStreamsDetailsPanel.editDataRetentionModal.someManagedByILMBody",defaultMessage:"One or more indices are managed by an ILM policy ({viewAllIndicesLink}). Updating data retention for this data stream won't affect these indices. Instead you will have to update the {ilmPolicyLink} policy.",values:{ilmPolicyLink:Object(g.jsx)(_.EuiLink,{"data-test-subj":"viewIlmPolicyLink",href:e},t),viewAllIndicesLink:Object(g.jsx)(_.EuiLink,h()({},Object(c.F)(i,Object(Bt.d)(`data_stream="${a}"`,!0)),{"data-test-subj":"viewAllIndicesLink"}),Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.dataStreamsDetailsPanel.editDataRetentionModal.viewAllIndices",defaultMessage:"view indices"}))}}))),as=({dataStream:e,ilmPolicyName:t,ilmPolicyLink:a,onClose:i})=>{const s=null==e?void 0:e.lifecycle,l=null==e?void 0:e.name,{history:o}=Object(d.d)(),u=(e=>{var t;if("data stream lifecycle"===(null==e||null===(t=e.nextGenerationManagedBy)||void 0===t?void 0:t.toLowerCase())){var a,i;const t=null==e||null===(a=e.indices)||void 0===a?void 0:a.filter((e=>"index lifecycle management"===e.managedBy.toLowerCase())),n=null==e||null===(i=e.indices)||void 0===i?void 0:i.filter((e=>"data stream lifecycle"===e.managedBy.toLowerCase()));if(null==t||!t.length)return;return{ilmIndices:t,dslIndices:n}}})(e),{size:p,unit:m}=Object(r.d)(null==s?void 0:s.data_retention),{services:{notificationService:x},config:{enableTogglingDataRetention:f}}=Object(d.d)(),{form:j}=Object(c.K)({defaultValue:{dataRetention:p,timeUnit:m||"d",dataRetentionEnabled:null==s?void 0:s.enabled,infiniteRetentionPeriod:(null==s?void 0:s.enabled)&&!(null!=s&&s.data_retention)},schema:es,id:"editDataRetentionForm"}),[h]=Object(c.L)({form:j}),O=Object(c.M)({form:j});return Object(g.jsx)(_.EuiModal,{onClose:()=>i(),"data-test-subj":"editDataRetentionModal"},Object(g.jsx)(c.f,{form:j,"data-test-subj":"editDataRetentionForm"},Object(g.jsx)(_.EuiModalHeader,null,Object(g.jsx)(_.EuiModalHeaderTitle,null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.dataStreamsDetailsPanel.editDataRetentionModal.modalTitleText",defaultMessage:"Edit data retention"}))),Object(g.jsx)(_.EuiModalBody,null,u&&Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(ts,{history:o,ilmPolicyLink:a,ilmPolicyName:t,dataStreamName:l}),Object(g.jsx)(_.EuiSpacer,null)),f&&Object(g.jsx)(c.t,{path:"dataRetentionEnabled",component:c.s,"data-test-subj":"dataRetentionEnabledField"}),Object(g.jsx)(c.t,{path:"dataRetention",component:c.l,labelAppend:Object(g.jsx)(_.EuiText,{size:"xs"},Object(g.jsx)(_.EuiLink,{href:C.a.getUpdateExistingDS(),target:"_blank",external:!0},B.i18n.translate("xpack.idxMgmt.dataStreamsDetailsPanel.editDataRetentionModal.learnMoreLinkText",{defaultMessage:"How does it work?"}))),componentProps:{fullWidth:!1,euiFieldProps:{disabled:h.infiniteRetentionPeriod||!h.dataRetentionEnabled&&f,"data-test-subj":"dataRetentionValue",min:1,append:Object(g.jsx)(ce.h,{path:"timeUnit",options:V.b,disabled:h.infiniteRetentionPeriod||!h.dataRetentionEnabled&&f,euiFieldProps:{"data-test-subj":"timeUnit","aria-label":B.i18n.translate("xpack.idxMgmt.dataStreamsDetailsPanel.editDataRetentionModal.unitsAriaLabel",{defaultMessage:"Time unit"})}})}}}),Object(g.jsx)(c.t,{path:"infiniteRetentionPeriod",component:c.s,"data-test-subj":"infiniteRetentionPeriod",componentProps:{euiFieldProps:{disabled:!h.dataRetentionEnabled&&f}}}),Object(g.jsx)(_.EuiSpacer,null)),Object(g.jsx)(_.EuiModalFooter,null,Object(g.jsx)(_.EuiButtonEmpty,{"data-test-subj":"cancelButton",onClick:()=>i()},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.dataStreamsDetailsPanel.editDataRetentionModal.cancelButtonLabel",defaultMessage:"Cancel"})),Object(g.jsx)(_.EuiButton,{fill:!0,type:"submit",isLoading:!1,disabled:j.isSubmitted&&!1===j.isValid||!O,"data-test-subj":"saveButton",onClick:async()=>{const{isValid:e,data:t}=await j.submit();if(e)return Object(b.has)(t,"dataRetentionEnabled")||(t.dataRetentionEnabled=!0),Object(Jt.y)(l,t).then((({data:e,error:a})=>{if(e){if(e.warning)return x.showWarningToast(e.warning),i({hasUpdatedDataRetention:!0});const a=B.i18n.translate("xpack.idxMgmt.dataStreamsDetailsPanel.editDataRetentionModal.successDataRetentionNotification",{defaultMessage:"Data retention {disabledDataRetention, plural, one { disabled } other { updated } }",values:{disabledDataRetention:t.dataRetentionEnabled?0:1}});return x.showSuccessToast(a),i({hasUpdatedDataRetention:!0})}if(a){const e=B.i18n.translate("xpack.idxMgmt.dataStreamsDetailsPanel.editDataRetentionModal.errorDataRetentionNotification",{defaultMessage:"Error updating data retention: ''{error}''",values:{error:a.message}});x.showDangerToast(e)}i()}))}},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.dataStreamsDetailsPanel.editDataRetentionModal.saveButtonLabel",defaultMessage:"Save"})))))};var is=a(67);const ns=(e,t)=>{const a=Object(d.d)(),i=void 0===t?null:a.url.locators.get("ILM_LOCATOR_ID");return Object(is.useLocatorUrl)(i,{page:e,policyName:t},{},[e,t])},ss=({details:e})=>{const t=e.map(((e,t)=>{const{name:a,toolTip:n,content:s,dataTestSubj:l}=e;return Object(g.jsx)(i.Fragment,{key:`${a}-${t}`},Object(g.jsx)(_.EuiDescriptionListTitle,null,Object(g.jsx)(_.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},Object(g.jsx)(_.EuiFlexItem,{grow:!1},a),Object(g.jsx)(_.EuiFlexItem,{grow:!1},n&&Object(g.jsx)(_.EuiIconTip,{content:n,position:"top"})))),Object(g.jsx)(_.EuiDescriptionListDescription,{"data-test-subj":l},s))})),a=Math.ceil(t.length/2),n=t.slice(0,a),s=t.slice(a,t.length);return Object(g.jsx)(_.EuiFlexGroup,null,Object(g.jsx)(_.EuiFlexItem,null,Object(g.jsx)(_.EuiDescriptionList,{textStyle:"reverse"},n)),Object(g.jsx)(_.EuiFlexItem,null,Object(g.jsx)(_.EuiDescriptionList,{textStyle:"reverse"},s)))},ls=({condition:e,wrap:t,children:a})=>e?t(a):a,os=({dataStreamName:e,onClose:t})=>{var a,s,l;const[o,r]=Object(i.useState)(!1),[u,p]=Object(i.useState)(!1),[m,x]=Object(i.useState)(!1),{error:f,data:j,isLoading:O}=Object(Jt.C)(e),M=ns(Ja,null==j?void 0:j.ilmPolicyName),{history:y,config:v}=Object(d.d)();let E,k;if(O)k=Object(g.jsx)(c.p,null,B.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.loadingDataStreamDescription",{defaultMessage:"Loading data stream"}));else if(f)k=Object(g.jsx)(Ut,{title:B.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.loadingDataStreamErrorMessage",{defaultMessage:"Error loading data stream"}),error:f,"data-test-subj":"sectionError"});else if(j){const{health:t,indices:a,timeStampField:i,generation:s,indexTemplateName:l,ilmPolicyName:o,storageSize:r,maxTimeStamp:d,lifecycle:u}=j,p=()=>{const e=[];return o&&e.push({name:B.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.ilmPolicyTitle",{defaultMessage:"Index lifecycle policy"}),toolTip:B.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.ilmPolicyToolTip",{defaultMessage:"The index lifecycle policy that manages the data in the data stream. "}),content:G(j)?Object(g.jsx)(_.EuiToolTip,{position:"top",content:B.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.ilmPolicyToolTipWarning",{defaultMessage:"This data stream is not currently being managed by the ILM policy."})},Object(g.jsx)(n.a.Fragment,null,M?Object(g.jsx)(_.EuiLink,{"data-test-subj":"ilmPolicyLink",href:M},Object(g.jsx)(_.EuiTextColor,{color:"subdued"},o)):o)):Object(g.jsx)(n.a.Fragment,null,M?Object(g.jsx)(_.EuiLink,{"data-test-subj":"ilmPolicyLink",href:M},o):o),dataTestSubj:"ilmPolicyDetail"}),e};E=Object(g.jsx)(_.EuiLink,Object(c.F)(y,Object(Bt.d)(`data_stream="${e}"`,!0)),a.length);const m=[{name:B.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.healthTitle",{defaultMessage:"Health"}),toolTip:B.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.healthToolTip",{defaultMessage:"The health of the data stream's current backing indices."}),content:Object(g.jsx)(Va,{health:t}),dataTestSubj:"healthDetail"},{name:B.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.maxTimeStampTitle",{defaultMessage:"Last updated"}),toolTip:B.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.maxTimeStampToolTip",{defaultMessage:"The most recent document to be added to the data stream."}),content:d?yn(d):Object(g.jsx)("em",null,B.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.maxTimeStampNoneMessage",{defaultMessage:"Never"})),dataTestSubj:"lastUpdatedDetail"},{name:B.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.storageSizeTitle",{defaultMessage:"Storage size"}),toolTip:B.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.storageSizeToolTip",{defaultMessage:"The total size of all shards in the data stream’s backing indices."}),content:r,dataTestSubj:"storageSizeDetail"},{name:B.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.indicesTitle",{defaultMessage:"Indices"}),toolTip:B.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.indicesToolTip",{defaultMessage:"The data stream's current backing indices."}),content:E,dataTestSubj:"indicesDetail"},{name:B.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.timestampFieldTitle",{defaultMessage:"Timestamp field"}),toolTip:B.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.timestampFieldToolTip",{defaultMessage:"The timestamp field shared by all documents in the data stream."}),content:i.name,dataTestSubj:"timestampDetail"},{name:B.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.generationTitle",{defaultMessage:"Generation"}),toolTip:B.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.generationToolTip",{defaultMessage:"The number of backing indices generated for the data stream."}),content:s,dataTestSubj:"generationDetail"},{name:B.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.indexTemplateTitle",{defaultMessage:"Index template"}),toolTip:B.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.indexTemplateToolTip",{defaultMessage:"The index template that configured the data stream and configures its backing indices."}),content:Object(g.jsx)(_.EuiLink,h()({"data-test-subj":"indexTemplateLink"},Object(c.F)(y,Object(Bt.f)(l))),l),dataTestSubj:"indexTemplateDetail"},{name:B.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.dataRetentionTitle",{defaultMessage:"Effective data retention"}),toolTip:B.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.dataRetentionToolTip",{defaultMessage:"Data is kept at least this long before being automatically deleted. The data retention value only applies to the data managed directly by the data stream. {canEnableDataRetention, plural, one {If some data is subject to an index lifecycle management policy, then the data retention value set for the data stream doesn't apply to that data.} other {}}",values:{canEnableDataRetention:v.enableTogglingDataRetention?1:0}}),content:Object(g.jsx)(ls,{condition:W(j),wrap:e=>Object(g.jsx)(_.EuiTextColor,{color:"subdued"},e)},Object(g.jsx)(n.a.Fragment,null,q(u))),dataTestSubj:"dataRetentionDetail"}];null!=u&&u.effective_retention&&null!=u&&u.data_retention&&m.push({name:B.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.customerDefinedDataRetentionTitle",{defaultMessage:"Data retention"}),toolTip:B.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.customerDefinedDataRetentionTooltip",{defaultMessage:"This is the data retention that you defined. Because of other system constraints or settings, the data retention that is effectively applied may be different from the value you set. You can find the value retained and applied by the system under 'Effective data retention'."}),content:Object(g.jsx)(ls,{condition:W(j),wrap:e=>Object(g.jsx)(_.EuiTextColor,{color:"subdued"},e)},Object(g.jsx)(n.a.Fragment,null,q(Object(b.omit)(u,["effective_retention"])))),dataTestSubj:"dataRetentionDetail"});const x=p(),f=[...m,...x];k=Object(g.jsx)(n.a.Fragment,null,W(j)&&Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiCallOut,{title:B.i18n.translate("xpack.idxMgmt.dataStreamsDetailsPanel.editDataRetentionModal.fullyManagedByILMTitle",{defaultMessage:"This data stream and its associated indices are managed by ILM"}),iconType:"pin","data-test-subj":"dsIsFullyManagedByILM"},Object(g.jsx)("p",null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.dataStreamsDetailsPanel.editDataRetentionModal.fullyManagedByILMDescription",defaultMessage:"To edit data retention for this data stream, you must edit its associated {link}.",values:{link:Object(g.jsx)(_.EuiLink,{href:M},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.dataStreamsDetailsPanel.editDataRetentionModal.fullyManagedByILMButtonLabel",defaultMessage:"ILM policy"}))}}))),Object(g.jsx)(_.EuiSpacer,null)),Object(g.jsx)(ss,{details:f}))}const T=()=>{r(!1)},F=Object(g.jsx)(_.EuiButton,{fill:!0,iconType:"arrowDown",iconSide:"right","data-test-subj":"manageDataStreamButton",onClick:()=>r(!o)},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.dataStreamsDetailsPanel.manageButtonLabel",defaultMessage:"Manage"})),C=[{id:0,title:B.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.managePanelTitle",{defaultMessage:"Data stream options"}),items:[...!W(j)&&null!=j&&null!==(a=j.privileges)&&void 0!==a&&a.manage_data_stream_lifecycle?[{key:"editDataRetention",name:B.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.managePanelEditDataRetention",{defaultMessage:"Edit data retention"}),"data-test-subj":"editDataRetentionButton",icon:Object(g.jsx)(_.EuiIcon,{type:"pencil",size:"m"}),onClick:()=>{T(),x(!0)}}]:[],...null!=j&&null!==(s=j.privileges)&&void 0!==s&&s.delete_index?[{key:"deleteDataStream",name:B.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.managePanelDelete",{defaultMessage:"Delete"}),"data-test-subj":"deleteDataStreamButton",icon:Object(g.jsx)(_.EuiIcon,{type:"trash",size:"m",color:"danger"}),onClick:()=>{T(),p(!0)}}]:[]]}];return Object(g.jsx)(n.a.Fragment,null,u&&Object(g.jsx)(Qn,{onClose:e=>{e&&e.hasDeletedDataStreams?t(!0):p(!1)},dataStreams:[e]}),m&&j&&Object(g.jsx)(as,{onClose:e=>{e&&null!=e&&e.hasUpdatedDataRetention?t(!0):x(!1)},ilmPolicyName:null==j?void 0:j.ilmPolicyName,ilmPolicyLink:M,dataStream:j}),Object(g.jsx)(_.EuiFlyout,{onClose:()=>t(),"data-test-subj":"dataStreamDetailPanel","aria-labelledby":"dataStreamDetailPanelTitle",size:"m",maxWidth:500},Object(g.jsx)(_.EuiFlyoutHeader,null,Object(g.jsx)(_.EuiTitle,{size:"m"},Object(g.jsx)("h2",{id:"dataStreamDetailPanelTitle","data-test-subj":"dataStreamDetailPanelTitle"},e,Object(g.jsx)(Yi,{indexName:e}),j&&Object(g.jsx)(Zn,{dataStream:j})))),Object(g.jsx)(_.EuiFlyoutBody,{"data-test-subj":"content"},k),Object(g.jsx)(_.EuiFlyoutFooter,null,Object(g.jsx)(_.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},Object(g.jsx)(_.EuiFlexItem,{grow:!1},Object(g.jsx)(_.EuiButtonEmpty,{iconType:"cross",flush:"left",onClick:()=>t(),"data-test-subj":"closeDetailsButton"},B.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.closeButtonLabel",{defaultMessage:"Close"}))),!O&&!f&&(null===(l=C[0].items)||void 0===l?void 0:l.length)&&Object(g.jsx)(_.EuiFlexItem,{grow:!1},Object(g.jsx)(_.EuiPopover,{button:F,isOpen:o,closePopover:T,panelPaddingSize:"none",anchorPosition:"downLeft"},Object(g.jsx)(_.EuiContextMenu,{initialPanelId:0,panels:C})))))))},rs=({dataStreams:e,reload:t,history:a,filters:s,includeStats:l})=>{const[o,r]=Object(i.useState)([]),[u,p]=Object(i.useState)([]),{config:m}=Object(d.d)(),x=Object(i.useMemo)((()=>(e||[]).map((e=>({...e,isDataStreamFullyManagedByILM:W(e)})))),[e]),b=[];b.push({field:"name",name:B.i18n.translate("xpack.idxMgmt.dataStreamList.table.nameColumnTitle",{defaultMessage:"Name"}),truncateText:!0,sortable:!0,render:(e,t)=>Object(g.jsx)(i.Fragment,null,Object(g.jsx)(_.EuiLink,h()({"data-test-subj":"nameLink"},Object(c.F)(a,Object(Bt.b)(e))),e),Object(g.jsx)(Zn,{dataStream:t}))}),b.push({field:"health",name:B.i18n.translate("xpack.idxMgmt.dataStreamList.table.healthColumnTitle",{defaultMessage:"Health"}),truncateText:!0,sortable:!0,render:e=>Object(g.jsx)(Va,{health:e})}),l&&(b.push({field:"maxTimeStamp",name:B.i18n.translate("xpack.idxMgmt.dataStreamList.table.maxTimeStampColumnTitle",{defaultMessage:"Last updated"}),truncateText:!0,sortable:!0,render:e=>e?yn(e):B.i18n.translate("xpack.idxMgmt.dataStreamList.table.maxTimeStampColumnNoneMessage",{defaultMessage:"Never"})}),b.push({field:"storageSizeBytes",name:B.i18n.translate("xpack.idxMgmt.dataStreamList.table.storageSizeColumnTitle",{defaultMessage:"Storage size"}),truncateText:!0,sortable:!0,render:(e,t)=>t.storageSize})),b.push({field:"indices",name:B.i18n.translate("xpack.idxMgmt.dataStreamList.table.indicesColumnTitle",{defaultMessage:"Indices"}),truncateText:!0,sortable:!0,render:(e,t)=>Object(g.jsx)(_.EuiLink,h()({"data-test-subj":"indicesLink"},Object(c.F)(a,Object(Bt.d)(`data_stream="${t.name}"`,!0))),e.length)}),b.push({field:"lifecycle",name:Object(g.jsx)(_.EuiToolTip,{content:B.i18n.translate("xpack.idxMgmt.dataStreamList.table.dataRetentionColumnTooltip",{defaultMessage:"Data is kept at least this long before being automatically deleted. The data retention value only applies to the data managed directly by the data stream. {canDisableDataRetention, plural, one {If some data is subject to an index lifecycle management policy, then the data retention value set for the data stream doesn't apply to that data.} other {}}",values:{canDisableDataRetention:m.enableTogglingDataRetention?1:0}})},Object(g.jsx)("span",null,B.i18n.translate("xpack.idxMgmt.dataStreamList.table.dataRetentionColumnTitle",{defaultMessage:"Data retention"})," ",Object(g.jsx)(_.EuiIcon,{size:"s",color:"subdued",type:"questionInCircle"}))),truncateText:!0,sortable:!0,render:(e,t)=>Object(g.jsx)(ls,{condition:t.isDataStreamFullyManagedByILM,wrap:e=>Object(g.jsx)(_.EuiTextColor,{color:"subdued"},e)},Object(g.jsx)(n.a.Fragment,null,q(e,!0),(null==e?void 0:e.retention_determined_by)===F.o&&Object(g.jsx)(n.a.Fragment,null," ",Object(g.jsx)(_.EuiToolTip,{content:B.i18n.translate("xpack.idxMgmt.dataStreamList.table.usingEffectiveRetentionTooltip",{defaultMessage:"This data stream is using the maximum allowed data retention: [{effectiveRetention}].",values:{effectiveRetention:null==e?void 0:e.effective_retention}})},Object(g.jsx)(_.EuiIcon,{size:"s",color:"subdued",type:"iInCircle","data-test-subj":"usingMaxRetention"})))))}),b.push({name:B.i18n.translate("xpack.idxMgmt.dataStreamList.table.actionColumnTitle",{defaultMessage:"Actions"}),actions:[{name:B.i18n.translate("xpack.idxMgmt.dataStreamList.table.actionDeleteText",{defaultMessage:"Delete"}),description:B.i18n.translate("xpack.idxMgmt.dataStreamList.table.actionDeleteDescription",{defaultMessage:"Delete this data stream"}),icon:"trash",color:"danger",type:"icon",onClick:({name:e})=>{p([e])},isPrimary:!0,"data-test-subj":"deleteDataStream",available:({privileges:{delete_index:e}})=>e}]});const f={onSelectionChange:r},j={query:s,box:{incremental:!0},toolsLeft:o.length>0&&o.every((e=>e.privileges.delete_index))?Object(g.jsx)(_.EuiButton,{"data-test-subj":"deleteDataStreamsButton",onClick:()=>p(o.map((({name:e})=>e))),color:"danger"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.table.deleteDataStreamsButtonLabel",defaultMessage:"Delete {count, plural, one {data stream} other {data streams} }",values:{count:o.length}})):void 0,toolsRight:[Object(g.jsx)(_.EuiButton,{color:"success",iconType:"refresh",onClick:t,"data-test-subj":"reloadButton",key:"reloadButton"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.reloadDataStreamsButtonLabel",defaultMessage:"Reload"}))]};return Object(g.jsx)(n.a.Fragment,null,u&&u.length>0?Object(g.jsx)(Qn,{onClose:e=>{e&&e.hasDeletedDataStreams?t():p([])},dataStreams:u}):null,Object(g.jsx)(_.EuiInMemoryTable,{items:x,itemId:"name",columns:b,search:j,sorting:{sort:{field:"name",direction:"asc"}},selection:f,pagination:{initialPageSize:20,pageSizeOptions:[10,20,50]},rowProps:()=>({"data-test-subj":"row"}),cellProps:()=>({"data-test-subj":"cell"}),"data-test-subj":"dataStreamTable",message:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.table.noDataStreamsMessage",defaultMessage:"No data streams found"}),tableLayout:"auto"}))};function cs({onChange:e,filters:t}){const{euiTheme:a}=Object(_.useEuiTheme)(),[n,s]=Object(i.useState)(!1),l=Object.values(t).filter((e=>"on"===e.checked)),o=Object(g.jsx)(_.EuiFilterButton,{iconType:"arrowDown",onClick:()=>{s(!n)},isSelected:n,numFilters:Object.keys(t).length,hasActiveFilters:l.length>0,numActiveFilters:l.length,"data-test-subj":"viewButton"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.indexTemplatesList.viewButtonLabel",defaultMessage:"View"}));return Object(g.jsx)(_.EuiFilterGroup,null,Object(g.jsx)(_.EuiPopover,{ownFocus:!0,button:o,isOpen:n,closePopover:()=>{s(!1)},panelPaddingSize:"none","data-test-subj":"filterList"},Object(g.jsx)("div",{className:"eui-yScroll",css:Object(g.css)({maxHeight:30*a.base},"","")},Object.entries(t).map((([a,i],n)=>Object(g.jsx)(_.EuiFilterSelectItem,{checked:i.checked,key:n,onClick:()=>(a=>{const i=t[a].checked;e({...t,[a]:{...t[a],checked:"on"===i?"off":"on"}})})(a),"data-test-subj":"filterItem"},i.name))))))}const ds=({match:{params:{dataStreamName:e}},location:{search:t},history:a})=>{const{isDeepLink:n,includeHidden:s}=Object(c.y)(t),l=Object(c.w)(e),{core:{getUrlForApp:o,executionContext:r},plugins:{isFleetEnabled:u},config:p}=Object(d.d)(),{enableDataStreamStats:m}=p;Object(c.J)(r,{type:"application",page:"indexManagementDataStreamsTab"}),Object(i.useEffect)((()=>{R.b.setBreadcrumbs(R.a.dataStreams)}),[]);const[x,b]=Object(i.useState)(!1),{error:f,isLoading:j,data:O,resendRequest:M}=Object(Jt.D)({includeStats:x}),[y,v]=Object(i.useState)({managed:{name:B.i18n.translate("xpack.idxMgmt.dataStreamList.viewManagedLabel",{defaultMessage:"Managed data streams"}),checked:"on"},hidden:{name:B.i18n.translate("xpack.idxMgmt.dataStreamList.viewHiddenLabel",{defaultMessage:"Hidden data streams"}),checked:s?"on":"off"}}),E=Object(i.useMemo)((()=>{if(!O)return[];const e=Object.entries(y).filter((([e,t])=>"on"===t.checked)).map((([e])=>e));return((e,t)=>e.filter((e=>!e.hidden&&!U(e)||!(!e.hidden||!t.includes("hidden"))||U(e)&&t.includes("managed"))))(O,e)}),[O,y]);let k;var T;return j?k=Object(g.jsx)(c.n,null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.loadingDataStreamsDescription",defaultMessage:"Loading data streams…"})):f?k=Object(g.jsx)(c.m,{title:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.loadingDataStreamsErrorMessage",defaultMessage:"Error loading data streams"}),error:f}):Array.isArray(O)&&0===O.length?k=Object(g.jsx)(_.EuiEmptyPrompt,{iconType:"managementApp",title:Object(g.jsx)("h1",{"data-test-subj":"title"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.emptyPrompt.noDataStreamsTitle",defaultMessage:"You don't have any data streams yet"})),body:Object(g.jsx)("p",null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.emptyPrompt.noDataStreamsDescription",defaultMessage:"Data streams store time-series data across multiple indices."})," ",u?Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.emptyPrompt.noDataStreamsCtaFleetMessage",defaultMessage:"Get started with data streams in {link}.",values:{link:Object(g.jsx)(_.EuiLink,{"data-test-subj":"dataStreamsEmptyPromptTemplateLink",href:o("fleet")},B.i18n.translate("xpack.idxMgmt.dataStreamList.emptyPrompt.noDataStreamsCtaFleetLink",{defaultMessage:"Fleet"}))}}):Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.emptyPrompt.noDataStreamsCtaIndexTemplateMessage",defaultMessage:"Get started with data streams by creating a {link}.",values:{link:Object(g.jsx)(_.EuiLink,h()({"data-test-subj":"dataStreamsEmptyPromptTemplateLink"},Object(c.F)(a,{pathname:"/templates"})),B.i18n.translate("xpack.idxMgmt.dataStreamList.emptyPrompt.noDataStreamsCtaIndexTemplateLink",{defaultMessage:"composable index template"}))}})),"data-test-subj":"emptyPrompt"}):(T=((e,t)=>{var a;return!!t&&!(null===(a=e.find((e=>e.name===t)))||void 0===a||!a.hidden)})(O,l),T&&"off"===y.hidden.checked&&v({...y,hidden:{...y.hidden,checked:"on"}}),k=Object(g.jsx)(_.EuiPageSection,{paddingSize:"none","data-test-subj":"dataStreamList"},Object(g.jsx)(_.EuiFlexGroup,{alignItems:"center",justifyContent:"spaceBetween"},Object(g.jsx)(_.EuiFlexItem,null,Object(g.jsx)(_.EuiText,{color:"subdued"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.dataStreamsDescription",defaultMessage:"Data streams store time-series data across multiple indices and can be created from index templates. {learnMoreLink}",values:{learnMoreLink:Object(g.jsx)(_.EuiLink,{href:C.a.getDataStreamsDocumentationLink(),target:"_blank",external:!0},B.i18n.translate("xpack.idxMgmt.dataStreamListDescription.learnMoreLinkText",{defaultMessage:"Learn more."}))}}))),m&&Object(g.jsx)(_.EuiFlexItem,{grow:!1},Object(g.jsx)(_.EuiFlexGroup,{gutterSize:"s"},Object(g.jsx)(_.EuiFlexItem,{grow:!1},Object(g.jsx)(_.EuiSwitch,{label:B.i18n.translate("xpack.idxMgmt.dataStreamListControls.includeStatsSwitchLabel",{defaultMessage:"Include stats"}),checked:x,onChange:e=>b(e.target.checked),"data-test-subj":"includeStatsSwitch"})),Object(g.jsx)(_.EuiFlexItem,{grow:!1},Object(g.jsx)(_.EuiIconTip,{content:B.i18n.translate("xpack.idxMgmt.dataStreamListControls.includeStatsSwitchToolTip",{defaultMessage:"Including stats can increase reload times"}),position:"top"})))),Object(g.jsx)(_.EuiFlexItem,{grow:!1},Object(g.jsx)(cs,{filters:y,onChange:v}))),Object(g.jsx)(_.EuiSpacer,{size:"l"}),Object(g.jsx)(rs,{filters:n&&void 0!==l?`name="${l}"`:"",dataStreams:E,reload:M,history:a,includeStats:x}))),Object(g.jsx)("div",{className:c.a},k,l&&Object(g.jsx)(os,{dataStreamName:l,onClose:e=>{a.push(`/${F.p.DataStreams}`),e&&M()}}))},us=e=>{const{legacy:t}=Object(w.parse)(e.search.substring(1));return!(!Boolean(t)||"string"!=typeof t)&&"true"===t},ps={managed:B.i18n.translate("xpack.idxMgmt.templateBadgeType.managed",{defaultMessage:"Managed"}),cloudManaged:B.i18n.translate("xpack.idxMgmt.templateBadgeType.cloudManaged",{defaultMessage:"Cloud-managed"}),system:B.i18n.translate("xpack.idxMgmt.templateBadgeType.system",{defaultMessage:"System"})},ms=({templateType:e})=>"default"===e?null:Object(g.jsx)(_.EuiBadge,{color:"hollow","data-test-subj":"templateTypeBadge"},ps[e]),gs=()=>Object(g.jsx)(_.EuiToolTip,{content:B.i18n.translate("xpack.idxMgmt.templateList.table.deprecatedTemplateBadgeTooltip",{defaultMessage:"This index template is no longer supported and might be removed in a future release. Instead, use one of the other index templates available or create a new one."})},Object(g.jsx)(_.EuiBadge,{color:"warning","data-test-subj":"deprecatedTemplateBadge"},B.i18n.translate("xpack.idxMgmt.templateList.table.deprecatedTemplateBadgeText",{defaultMessage:"Deprecated"}))),xs=({templates:e,reload:t,editTemplate:a,cloneTemplate:s,history:l})=>{const{uiMetricService:o}=Object(d.e)(),[r,p]=Object(i.useState)([]),[m,x]=Object(i.useState)([]),b=[{field:"name",name:B.i18n.translate("xpack.idxMgmt.templateList.table.nameColumnTitle",{defaultMessage:"Name"}),sortable:!0,width:"30%",render:(e,t)=>Object(g.jsx)("span",null,Object(g.jsx)(_.EuiLink,h()({},Object(c.F)(l,Object(Bt.f)(e),(()=>o.trackMetric(u.METRIC_TYPE.CLICK,F.S))),{"data-test-subj":"templateDetailsLink"}),e)," ",t.deprecated&&Object(g.jsx)(n.a.Fragment,null," ",Object(g.jsx)(gs,null))," ",Object(g.jsx)(ms,{templateType:t._kbnMeta.type}))},{field:"indexPatterns",name:B.i18n.translate("xpack.idxMgmt.templateList.table.indexPatternsColumnTitle",{defaultMessage:"Index patterns"}),sortable:!0,width:"20%",render:e=>Object(g.jsx)("strong",null,e.join(", "))},{field:"composedOf",name:B.i18n.translate("xpack.idxMgmt.templateList.table.componentsColumnTitle",{defaultMessage:"Component templates"}),width:"100px",truncateText:!0,sortable:e=>{var t;return null===(t=e.composedOf)||void 0===t?void 0:t.length},render:(e=[],t)=>0===e.length?Object(g.jsx)("span",null,"0"):Object(g.jsx)(_.EuiLink,h()({"data-test-subj":"componentTemplatesLink"},Object(c.F)(l,Object(Bt.a)(t.name))),e.length)},{name:B.i18n.translate("xpack.idxMgmt.templateList.table.dataStreamColumnTitle",{defaultMessage:"Data stream"}),width:"90px",align:"center",truncateText:!0,render:e=>e._kbnMeta.hasDatastream?Object(g.jsx)(_.EuiIcon,{type:"check"}):null},{name:B.i18n.translate("xpack.idxMgmt.templateList.table.contentColumnTitle",{defaultMessage:"Content"}),width:"120px",render:e=>Object(g.jsx)(ce.g,{mappings:e.hasMappings,settings:e.hasSettings,aliases:e.hasAliases,contentWhenEmpty:Object(g.jsx)("em",null,B.i18n.translate("xpack.idxMgmt.templateList.table.noneDescriptionText",{defaultMessage:"None"}))})},{name:B.i18n.translate("xpack.idxMgmt.templateList.table.actionColumnTitle",{defaultMessage:"Actions"}),width:"120px",actions:[{name:B.i18n.translate("xpack.idxMgmt.templateList.table.actionEditText",{defaultMessage:"Edit"}),isPrimary:!0,description:B.i18n.translate("xpack.idxMgmt.templateList.table.actionEditDecription",{defaultMessage:"Edit this template"}),icon:"pencil",type:"icon",onClick:({name:e})=>{a(e)},enabled:({_kbnMeta:{type:e}})=>"cloudManaged"!==e},{type:"icon",name:B.i18n.translate("xpack.idxMgmt.templateList.table.actionCloneTitle",{defaultMessage:"Clone"}),description:B.i18n.translate("xpack.idxMgmt.templateList.table.actionCloneDescription",{defaultMessage:"Clone this template"}),icon:"copy",onClick:({name:e})=>{s(e)}},{name:B.i18n.translate("xpack.idxMgmt.templateList.table.actionDeleteText",{defaultMessage:"Delete"}),description:B.i18n.translate("xpack.idxMgmt.templateList.table.actionDeleteDecription",{defaultMessage:"Delete this template"}),icon:"trash",color:"danger",type:"icon",onClick:({name:e,_kbnMeta:{isLegacy:t}})=>{x([{name:e,isLegacy:t}])},isPrimary:!0,enabled:({_kbnMeta:{type:e}})=>"cloudManaged"!==e}]}],f={onSelectionChange:p,selectable:({_kbnMeta:{type:e}})=>"cloudManaged"!==e,selectableMessage:e=>e?"":B.i18n.translate("xpack.idxMgmt.templateList.table.deleteCloudManagedTemplateTooltip",{defaultMessage:"You cannot delete a cloud-managed template."})},j={box:{incremental:!0},toolsLeft:r.length>0?Object(g.jsx)(_.EuiButton,{"data-test-subj":"deleteTemplatesButton",onClick:()=>x(r.map((({name:e,_kbnMeta:{isLegacy:t}})=>({name:e,isLegacy:t})))),color:"danger"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateList.table.deleteTemplatesButtonLabel",defaultMessage:"Delete {count, plural, one {template} other {templates} }",values:{count:r.length}})):void 0,toolsRight:[Object(g.jsx)(_.EuiButton,h()({iconType:"plusInCircle","data-test-subj":"createTemplateButton",key:"createTemplateButton",fill:!0},Object(c.F)(l,"/create_template")),Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateList.table.createTemplatesButtonLabel",defaultMessage:"Create template"}))]};return Object(g.jsx)(i.Fragment,null,m&&m.length>0?Object(g.jsx)(Yt,{callback:e=>{e&&e.hasDeletedTemplates&&(t(),l.push("templates")),x([])},templatesToDelete:m}):null,Object(g.jsx)(_.EuiInMemoryTable,{items:e||[],itemId:"name",columns:b,search:j,sorting:{sort:{field:"name",direction:"asc"}},selection:f,pagination:{initialPageSize:20,pageSizeOptions:[10,20,50]},rowProps:()=>({"data-test-subj":"row"}),cellProps:()=>({"data-test-subj":"cell"}),"data-test-subj":"templateTable",message:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateList.table.noIndexTemplatesMessage",defaultMessage:"No index templates found"})}))},bs={yes:B.i18n.translate("xpack.idxMgmt.templateDetails.summaryTab.yesDescriptionText",{defaultMessage:"Yes"}),no:B.i18n.translate("xpack.idxMgmt.templateDetails.summaryTab.noDescriptionText",{defaultMessage:"No"}),none:B.i18n.translate("xpack.idxMgmt.templateDetails.summaryTab.noneDescriptionText",{defaultMessage:"None"})},fs=({templateDetails:e})=>{const{version:t,priority:a,composedOf:i,order:s,indexPatterns:l=[],ilmPolicy:o,_meta:r,_kbnMeta:{isLegacy:c,hasDatastream:d},allowAutoCreate:u}=e,p=l.length,m=ns(Ja,null==o?void 0:o.name);return Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiFlexGroup,{"data-test-subj":"summaryTab"},Object(g.jsx)(_.EuiFlexItem,null,Object(g.jsx)(_.EuiDescriptionList,{textStyle:"reverse"},Object(g.jsx)(_.EuiDescriptionListTitle,null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.summaryTab.indexPatternsDescriptionListTitle",defaultMessage:"Index {numIndexPatterns, plural, one {pattern} other {patterns}}",values:{numIndexPatterns:p}})),Object(g.jsx)(_.EuiDescriptionListDescription,null,p>1?Object(g.jsx)(_.EuiText,null,Object(g.jsx)("ul",null,l.map(((e,t)=>Object(g.jsx)("li",{key:`${e}-${t}`},Object(g.jsx)(_.EuiTitle,{size:"xs"},Object(g.jsx)("span",null,e))))))):l.toString()),!0!==c?Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiDescriptionListTitle,null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.summaryTab.priorityDescriptionListTitle",defaultMessage:"Priority"})),Object(g.jsx)(_.EuiDescriptionListDescription,null,a||0===a?a:bs.none)):Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiDescriptionListTitle,null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.summaryTab.orderDescriptionListTitle",defaultMessage:"Order"})),Object(g.jsx)(_.EuiDescriptionListDescription,null,s||0===s?s:bs.none)),!0!==c&&Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiDescriptionListTitle,{"data-test-subj":"componentsTitle"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.summaryTab.componentsDescriptionListTitle",defaultMessage:"Component templates"})),Object(g.jsx)(_.EuiDescriptionListDescription,null,i&&i.length>0?Object(g.jsx)("ul",null,i.map((e=>Object(g.jsx)("li",{key:e},Object(g.jsx)(_.EuiTitle,{size:"xs"},Object(g.jsx)("span",null,e)))))):bs.none)))),Object(g.jsx)(_.EuiFlexItem,null,Object(g.jsx)(_.EuiDescriptionList,{textStyle:"reverse"},c&&Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiDescriptionListTitle,null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.summaryTab.ilmPolicyDescriptionListTitle",defaultMessage:"ILM policy"})),Object(g.jsx)(_.EuiDescriptionListDescription,null,null!=o&&o.name&&m?Object(g.jsx)(_.EuiLink,{href:m},o.name):(null==o?void 0:o.name)||bs.none)),!0!==c&&Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiDescriptionListTitle,null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.summaryTab.dataStreamDescriptionListTitle",defaultMessage:"Data stream"})),Object(g.jsx)(_.EuiDescriptionListDescription,null,d?bs.yes:bs.no)),Object(g.jsx)(_.EuiDescriptionListTitle,null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.summaryTab.versionDescriptionListTitle",defaultMessage:"Version"})),Object(g.jsx)(_.EuiDescriptionListDescription,null,t||0===t?t:bs.none),d&&(null==e?void 0:e.lifecycle)&&Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiDescriptionListTitle,null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.summaryTab.lifecycleDescriptionListTitle",defaultMessage:"Data retention"})),Object(g.jsx)(_.EuiDescriptionListDescription,null,q(Object(re.b)(e.lifecycle),!0))),!0!==c&&u!==F.W.NO_OVERWRITE_RADIO_OPTION&&Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiDescriptionListTitle,null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.summaryTab.allowAutoCreateDescriptionListTitle",defaultMessage:"Allow auto create"})),Object(g.jsx)(_.EuiDescriptionListDescription,null,u===F.W.TRUE_RADIO_OPTION?bs.yes:bs.no))))),Object(g.jsx)(_.EuiSpacer,{size:"m"}),Object(g.jsx)(_.EuiDescriptionList,{textStyle:"reverse"},!0!==c&&r&&Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiDescriptionListTitle,{"data-test-subj":"metaTitle"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.summaryTab.metaDescriptionListTitle",defaultMessage:"Metadata"})),Object(g.jsx)(_.EuiDescriptionListDescription,null,Object(g.jsx)(_.EuiCodeBlock,{language:"json"},JSON.stringify(r,null,2))))))},js=({templateDetails:e})=>Object(g.jsx)("div",{"data-test-subj":"previewTabContent"},Object(g.jsx)(_.EuiText,null,Object(g.jsx)("p",null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.previewTab.descriptionText",defaultMessage:"This is the final template that will be applied to matching indices."}))),Object(g.jsx)(_.EuiSpacer,{size:"m"}),Object(g.jsx)(ea,{template:e})),hs="summary",Os="mappings",Ms="aliases",ys="settings",vs="preview",Es=[{id:hs,name:B.i18n.translate("xpack.idxMgmt.templateDetails.summaryTabTitle",{defaultMessage:"Summary"})},{id:ys,name:B.i18n.translate("xpack.idxMgmt.templateDetails.settingsTabTitle",{defaultMessage:"Settings"})},{id:Os,name:B.i18n.translate("xpack.idxMgmt.templateDetails.mappingsTabTitle",{defaultMessage:"Mappings"})},{id:Ms,name:B.i18n.translate("xpack.idxMgmt.templateDetails.aliasesTabTitle",{defaultMessage:"Aliases"})},{id:vs,name:B.i18n.translate("xpack.idxMgmt.templateDetails.previewTabTitle",{defaultMessage:"Preview"})}],ks={[hs]:F.Q,[ys]:F.P,[Os]:F.N,[Ms]:F.M,[vs]:F.O},Ts=({template:{name:e,isLegacy:t},onClose:a,editTemplate:s,cloneTemplate:l,reload:o})=>{const{uiMetricService:r}=Object(d.e)(),{error:p,data:m,isLoading:x}=Object(Jt.H)(e,t),b="cloudManaged"===(null==m?void 0:m._kbnMeta.type),[f,j]=Object(i.useState)([]),[h,O]=Object(i.useState)(hs),[M,y]=Object(i.useState)(!1);return Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiFlyoutHeader,null,Object(g.jsx)(_.EuiTitle,{size:"m"},Object(g.jsx)("h2",{id:"templateDetailsFlyoutTitle","data-test-subj":"title"},e,m&&Object(g.jsx)(n.a.Fragment,null,m.deprecated&&Object(g.jsx)(n.a.Fragment,null," ",Object(g.jsx)(gs,null))," ",Object(g.jsx)(ms,{templateType:m._kbnMeta.type}))))),Object(g.jsx)(_.EuiFlyoutBody,{"data-test-subj":"content"},(()=>{if(x)return Object(g.jsx)(c.p,null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.loadingIndexTemplateDescription",defaultMessage:"Loading template…"}));if(p)return Object(g.jsx)(Ut,{title:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.loadingIndexTemplateErrorMessage",defaultMessage:"Error loading template"}),error:p,"data-test-subj":"sectionError"});if(m){const{template:{settings:e,mappings:a,aliases:i}={}}=m,s={[hs]:Object(g.jsx)(fs,{templateDetails:m}),[ys]:Object(g.jsx)(ce.f,{settings:e}),[Os]:Object(g.jsx)(ce.e,{mappings:a}),[Ms]:Object(g.jsx)(ce.d,{aliases:i}),[vs]:Object(g.jsx)(js,{templateDetails:m})}[h],l=b&&Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiCallOut,{title:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.cloudManagedTemplateInfoTitle",defaultMessage:"Editing a cloud-managed template is not permitted."}),color:"primary",size:"s"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.cloudManagedTemplateInfoDescription",defaultMessage:"Cloud-managed templates are critical for internal operations."})),Object(g.jsx)(_.EuiSpacer,{size:"m"}));return Object(g.jsx)(n.a.Fragment,null,l,Object(g.jsx)(_.EuiTabs,null,Es.filter((e=>!t||e.id!==vs)).map((e=>Object(g.jsx)(_.EuiTab,{onClick:()=>{r.trackMetric(u.METRIC_TYPE.CLICK,ks[e.id]),O(e.id)},isSelected:e.id===h,key:e.id,"data-test-subj":"tab"},e.name)))),Object(g.jsx)(_.EuiSpacer,{size:"l"}),s)}})()),Object(g.jsx)(_.EuiFlyoutFooter,null,Object(g.jsx)(_.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},Object(g.jsx)(_.EuiFlexItem,{grow:!1},Object(g.jsx)(_.EuiButtonEmpty,{iconType:"cross",flush:"left",onClick:a,"data-test-subj":"closeDetailsButton"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.closeButtonLabel",defaultMessage:"Close"}))),m&&Object(g.jsx)(_.EuiFlexItem,{grow:!1},Object(g.jsx)(_.EuiPopover,{id:"manageTemplatePanel",button:Object(g.jsx)(_.EuiButton,{fill:!0,"data-test-subj":"manageTemplateButton",iconType:"arrowDown",iconSide:"right",onClick:()=>y((e=>!e))},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.manageButtonLabel",defaultMessage:"Manage"})),isOpen:M,closePopover:()=>y(!1),panelPaddingSize:"none",anchorPosition:"rightUp",repositionOnScroll:!0},Object(g.jsx)(_.EuiContextMenu,{initialPanelId:0,panels:[{id:0,title:B.i18n.translate("xpack.idxMgmt.templateDetails.manageContextMenuPanelTitle",{defaultMessage:"Template options"}),items:[{name:B.i18n.translate("xpack.idxMgmt.templateDetails.editButtonLabel",{defaultMessage:"Edit"}),icon:"pencil",onClick:()=>s(e,t),disabled:b},{name:B.i18n.translate("xpack.idxMgmt.templateDetails.cloneButtonLabel",{defaultMessage:"Clone"}),icon:"copy",onClick:()=>l(e,t)},{name:B.i18n.translate("xpack.idxMgmt.templateDetails.deleteButtonLabel",{defaultMessage:"Delete"}),icon:"trash",onClick:()=>j([{name:e,isLegacy:t}]),disabled:b}]}]}))))),f&&f.length>0?Object(g.jsx)(Yt,{callback:e=>{e&&e.hasDeletedTemplates?o():j([]),a()},templatesToDelete:f}):null)},Fs=e=>Object(g.jsx)(_.EuiFlyout,{onClose:e.onClose,"data-test-subj":"templateDetails","aria-labelledby":"templateDetailsFlyoutTitle"},Object(g.jsx)(Ts,e)),Ss=({templates:e,reload:t,editTemplate:a,cloneTemplate:s,history:l})=>{const{uiMetricService:o}=Object(d.e)(),[r,p]=Object(i.useState)([]),[m,x]=Object(i.useState)([]),b=[{field:"name",name:B.i18n.translate("xpack.idxMgmt.templateList.legacyTable.nameColumnTitle",{defaultMessage:"Name"}),truncateText:!0,sortable:!0,render:(e,t)=>Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiLink,h()({},Object(c.F)(l,Object(Bt.f)(e,Boolean(t._kbnMeta.isLegacy)),(()=>o.trackMetric(u.METRIC_TYPE.CLICK,F.S))),{"data-test-subj":"templateDetailsLink"}),e)," ",Object(g.jsx)(ms,{templateType:t._kbnMeta.type}))},{field:"indexPatterns",name:B.i18n.translate("xpack.idxMgmt.templateList.legacyTable.indexPatternsColumnTitle",{defaultMessage:"Index patterns"}),truncateText:!0,sortable:!0,render:e=>Object(g.jsx)("strong",null,e.join(", "))},{field:"ilmPolicy",name:B.i18n.translate("xpack.idxMgmt.templateList.legacyTable.ilmPolicyColumnTitle",{defaultMessage:"ILM policy"}),truncateText:!0,sortable:!0,render:e=>e&&e.name?Object(g.jsx)("span",{title:B.i18n.translate("xpack.idxMgmt.templateList.legacyTable.ilmPolicyColumnDescription",{defaultMessage:"''{policyName}'' index lifecycle policy",values:{policyName:e.name}})},e.name):null},{name:B.i18n.translate("xpack.idxMgmt.templateList.legacyTable.contentColumnTitle",{defaultMessage:"Content"}),width:"120px",render:e=>Object(g.jsx)(ce.g,{mappings:e.hasMappings,settings:e.hasSettings,aliases:e.hasAliases,contentWhenEmpty:Object(g.jsx)("em",null,B.i18n.translate("xpack.idxMgmt.templateList.table.noneDescriptionText",{defaultMessage:"None"}))})},{name:B.i18n.translate("xpack.idxMgmt.templateList.legacyTable.actionColumnTitle",{defaultMessage:"Actions"}),width:"120px",actions:[{name:B.i18n.translate("xpack.idxMgmt.templateList.legacyTable.actionEditText",{defaultMessage:"Edit"}),isPrimary:!0,description:B.i18n.translate("xpack.idxMgmt.templateList.legacyTable.actionEditDecription",{defaultMessage:"Edit this template"}),icon:"pencil",type:"icon",onClick:({name:e})=>{a(e,!0)},enabled:({_kbnMeta:{type:e}})=>"cloudManaged"!==e},{type:"icon",name:B.i18n.translate("xpack.idxMgmt.templateList.legacyTable.actionCloneTitle",{defaultMessage:"Clone"}),description:B.i18n.translate("xpack.idxMgmt.templateList.legacyTable.actionCloneDescription",{defaultMessage:"Clone this template"}),icon:"copy",onClick:({name:e})=>{s(e,!0)}},{name:B.i18n.translate("xpack.idxMgmt.templateList.legacyTable.actionDeleteText",{defaultMessage:"Delete"}),description:B.i18n.translate("xpack.idxMgmt.templateList.legacyTable.actionDeleteDecription",{defaultMessage:"Delete this template"}),icon:"trash",color:"danger",type:"icon",onClick:({name:e,_kbnMeta:{isLegacy:t}})=>{x([{name:e,isLegacy:t}])},isPrimary:!0,enabled:({_kbnMeta:{type:e}})=>"cloudManaged"!==e}]}],f={onSelectionChange:p,selectable:({_kbnMeta:{type:e}})=>"cloudManaged"!==e,selectableMessage:e=>e?"":B.i18n.translate("xpack.idxMgmt.templateList.legacyTable.deleteCloudManagedTemplateTooltip",{defaultMessage:"You cannot delete a cloud-managed template."})},j={box:{incremental:!0},toolsLeft:r.length>0?Object(g.jsx)(_.EuiButton,{"data-test-subj":"deleteTemplatesButton",onClick:()=>x(r.map((({name:e,_kbnMeta:{isLegacy:t}})=>({name:e,isLegacy:t})))),color:"danger"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateList.legacyTable.deleteTemplatesButtonLabel",defaultMessage:"Delete {count, plural, one {template} other {templates} }",values:{count:r.length}})):void 0,toolsRight:[Object(g.jsx)(_.EuiButton,h()({iconType:"plusInCircle","data-test-subj":"createLegacyTemplateButton",key:"createTemplateButton"},Object(c.F)(l,{pathname:"/create_template",search:"legacy=true"})),Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateList.legacyTable.createLegacyTemplatesButtonLabel",defaultMessage:"Create legacy template"}))]};return Object(g.jsx)(i.Fragment,null,m&&m.length>0?Object(g.jsx)(Yt,{callback:e=>{e&&e.hasDeletedTemplates&&(t(),l.push("templates")),x([])},templatesToDelete:m}):null,Object(g.jsx)(_.EuiInMemoryTable,{items:e||[],itemId:"name",columns:b,search:j,sorting:{sort:{field:"name",direction:"asc"}},selection:f,pagination:{initialPageSize:20,pageSizeOptions:[10,20,50]},rowProps:()=>({"data-test-subj":"row"}),cellProps:()=>({"data-test-subj":"cell"}),"data-test-subj":"legacyTemplateTable",message:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateList.legacyTable.noLegacyIndexTemplatesMessage",defaultMessage:"No legacy index templates found"})}))};function _s(e,t){return e.filter((e=>!(e.deprecated&&!t.includes("deprecated"))&&("default"===e._kbnMeta.type||t.includes(e._kbnMeta.type))))}const Cs=({match:{params:{templateName:e}},location:t,history:a})=>{const{uiMetricService:s}=Object(d.e)(),{core:{executionContext:l}}=Object(d.d)(),{error:o,isLoading:r,data:p,resendRequest:m}=Object(Jt.I)();Object(c.J)(l,{type:"application",page:"indexManagementIndexTemplatesTab"}),Object(i.useEffect)((()=>{R.b.setBreadcrumbs(R.a.templates)}),[]);const[x,b]=Object(i.useState)({managed:{name:B.i18n.translate("xpack.idxMgmt.indexTemplatesList.viewManagedTemplateLabel",{defaultMessage:"Managed templates"}),checked:"on"},deprecated:{name:B.i18n.translate("xpack.idxMgmt.indexTemplatesList.viewDeprecatedTemplateLabel",{defaultMessage:"Deprecated templates"}),checked:"off"},cloudManaged:{name:B.i18n.translate("xpack.idxMgmt.indexTemplatesList.viewCloudManagedTemplateLabel",{defaultMessage:"Cloud-managed templates"}),checked:"off"},system:{name:B.i18n.translate("xpack.idxMgmt.indexTemplatesList.viewSystemTemplateLabel",{defaultMessage:"System templates"}),checked:"off"}}),f=Object(i.useMemo)((()=>{if(!p)return{templates:[],legacyTemplates:[]};const e=Object.entries(x).filter((([e,t])=>"on"===t.checked)).map((([e])=>e));return{templates:_s(p.templates,e),legacyTemplates:_s(p.legacyTemplates,e)}}),[p,x]),j=Boolean(e)?{name:Object(c.w)(e),isLegacy:us(t)}:null,O=null!==j,M=p&&(p.legacyTemplates.length>0||p.templates.length>0),y=(e,t)=>{a.push(Object(Bt.g)(e,t))},v=(e,t)=>{a.push(Object(Bt.e)(e,t))};let E;return Object(i.useEffect)((()=>{s.trackMetric(u.METRIC_TYPE.LOADED,F.R)}),[s]),E=r?Object(g.jsx)(c.n,null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.indexTemplatesList.loadingIndexTemplatesDescription",defaultMessage:"Loading templates…"})):o?Object(g.jsx)(c.m,{title:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.indexTemplatesList.loadingIndexTemplatesErrorMessage",defaultMessage:"Error loading templates"}),error:o}):M?Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiFlexGroup,{alignItems:"center",gutterSize:"s",style:{flexGrow:0}},Object(g.jsx)(_.EuiFlexItem,{grow:!0},Object(g.jsx)(_.EuiText,{color:"subdued"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.home.indexTemplatesDescription",defaultMessage:"Use composable index templates to automatically apply settings, mappings, and aliases to indices. {learnMoreLink}",values:{learnMoreLink:Object(g.jsx)(_.EuiLink,{href:C.a.getTemplatesDocumentationLink(),target:"_blank",external:!0},B.i18n.translate("xpack.idxMgmt.home.indexTemplatesDescription.learnMoreLinkText",{defaultMessage:"Learn more."}))}}))),Object(g.jsx)(_.EuiFlexItem,{grow:!1},Object(g.jsx)(cs,{filters:x,onChange:b})),Object(g.jsx)(_.EuiFlexItem,{grow:!1},Object(g.jsx)(_.EuiButton,{color:"success",iconType:"refresh",onClick:m,"data-test-subj":"reloadButton",key:"reloadButton"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateList.table.reloadTemplatesButtonLabel",defaultMessage:"Reload"})))),Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiSpacer,{size:"l"}),Object(g.jsx)(xs,{templates:f.templates,reload:m,editTemplate:y,cloneTemplate:v,history:a})),f.legacyTemplates.length>0&&Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiSpacer,{size:"xl"}),Object(g.jsx)(_.EuiTitle,{size:"s"},Object(g.jsx)("h1",null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.home.legacyIndexTemplatesTitle",defaultMessage:"Legacy index templates"}))),Object(g.jsx)(_.EuiSpacer,{size:"s"}),Object(g.jsx)(sa,null),Object(g.jsx)(_.EuiSpacer,{size:"m"}),Object(g.jsx)(Ss,{templates:f.legacyTemplates,reload:m,editTemplate:y,cloneTemplate:v,history:a})),O&&Object(g.jsx)(Fs,{template:j,onClose:()=>{a.push(Object(Bt.h)())},editTemplate:y,cloneTemplate:v,reload:m})):Object(g.jsx)(_.EuiEmptyPrompt,{iconType:"managementApp",title:Object(g.jsx)("h1",{"data-test-subj":"title"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.indexTemplatesList.emptyPrompt.noIndexTemplatesTitle",defaultMessage:"Create your first index template"})),body:Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)("p",null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.indexTemplatesList.emptyPrompt.noIndexTemplatesDescription",defaultMessage:"An index template automatically applies settings, mappings, and aliases to new indices."}))),actions:Object(g.jsx)(_.EuiButton,h()({},Object(c.F)(a,"/create_template"),{fill:!0,iconType:"plusInCircle"}),Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.indexTemplatesList.emptyPrompt.createTemplatesButtonLabel",defaultMessage:"Create template"})),"data-test-subj":"emptyPrompt"}),Object(g.jsx)("div",{"data-test-subj":"templateList",className:c.a},E)},Ls=[F.p.Indices,F.p.DataStreams,F.p.IndexTemplates,F.p.ComponentTemplates,F.p.EnrichPolicies],ws=({match:{params:{section:e}},history:t})=>{const{plugins:{console:a}}=Object(d.d)(),i=[{id:F.p.Indices,name:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.home.indicesTabTitle",defaultMessage:"Indices"})},{id:F.p.DataStreams,name:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.home.dataStreamsTabTitle",defaultMessage:"Data Streams"})},{id:F.p.IndexTemplates,name:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.home.indexTemplatesTabTitle",defaultMessage:"Index Templates"})},{id:F.p.ComponentTemplates,name:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplatesTabTitle",defaultMessage:"Component Templates"})},{id:F.p.EnrichPolicies,name:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.home.enrichPoliciesTabTitle",defaultMessage:"Enrich Policies"})}],s=Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiPageHeader,{"data-test-subj":"indexManagementHeaderContent",pageTitle:Object(g.jsx)("span",{"data-test-subj":"appTitle"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.home.appTitle",defaultMessage:"Index Management"})),bottomBorder:!0,rightSideItems:[Object(g.jsx)(_.EuiButtonEmpty,{href:C.a.getIdxMgmtDocumentationLink(),target:"_blank",iconType:"help","data-test-subj":"documentationLink"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.home.idxMgmtDocsLinkText",defaultMessage:"Index Management docs"}))],tabs:i.map((a=>({onClick:()=>{return e=a.id,void t.push(`/${e}`);var e},isSelected:a.id===e,key:a.id,"data-test-subj":`${a.id}Tab`,label:a.name})))}),Object(g.jsx)(_.EuiSpacer,{size:"l"}),Object(g.jsx)(T,null,Object(g.jsx)(E,{exact:!0,path:[`/${F.p.DataStreams}`,`/${F.p.DataStreams}/:dataStreamName?`],component:ds}),Object(g.jsx)(E,{exact:!0,path:`/${F.p.Indices}`,component:Ha}),Object(g.jsx)(E,{exact:!0,path:[`/${F.p.IndexTemplates}`,`/${F.p.IndexTemplates}/:templateName?`],component:Cs}),Object(g.jsx)(E,{exact:!0,path:[`/${F.p.ComponentTemplates}`,`/${F.p.ComponentTemplates}/:componentTemplateName?`],component:oe}),Object(g.jsx)(E,{exact:!0,path:`/${F.p.EnrichPolicies}`,component:Vi})),null!=a&&a.EmbeddableConsole?Object(g.jsx)(a.EmbeddableConsole,null):null);return Object(g.jsx)(T,null,Object(g.jsx)(E,{path:`/${F.p.Indices}/index_details`,component:Xn}),Object(g.jsx)(E,{render:()=>s}))},Is=({history:e})=>{const[t,a]=Object(i.useState)(!1),[n,s]=Object(i.useState)(null),{config:{enableLegacyTemplates:l}}=Object(d.d)(),o=Object(w.parse)(Object(p.useLocation)().search.substring(1)),r=l&&Boolean(o.legacy);return Object(i.useEffect)((()=>{R.b.setBreadcrumbs(R.a.templateCreate)}),[]),Object(g.jsx)(_.EuiPageSection,{restrictWidth:!0,style:{width:"100%"}},Object(g.jsx)(Ra,{title:r?Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.createTemplate.createLegacyTemplatePageTitle",defaultMessage:"Create legacy template"}):Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.createTemplate.createTemplatePageTitle",defaultMessage:"Create template"}),onSave:async t=>{const{name:i}=t;a(!0),s(null);const{error:n}=await Object(Jt.u)(t);a(!1),n?s(n):e.push(Object(Bt.f)(i,t._kbnMeta.isLegacy))},isSaving:t,saveError:n,clearSaveError:()=>{s(null)},isLegacy:r,history:e}))},Ds=({match:{params:{name:e}},location:t,history:a})=>{const n=Object(c.w)(e),{config:{enableLegacyTemplates:s}}=Object(d.d)(),l=s&&us(t),[o,r]=Object(i.useState)(!1),[u,p]=Object(i.useState)(null),{error:m,data:x,isLoading:b}=Object(Jt.H)(n,l);if(Object(i.useEffect)((()=>{R.b.setBreadcrumbs(R.a.templateClone)}),[]),b)return Object(g.jsx)(c.n,null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateCreate.loadingTemplateToCloneDescription",defaultMessage:"Loading template to clone…"}));if(m)return Object(g.jsx)(c.m,{title:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateCreate.loadingTemplateToCloneErrorMessage",defaultMessage:"Error loading template to clone"}),error:m,"data-test-subj":"sectionError"});const f={...x,name:`${n}-copy`};return Object(g.jsx)(_.EuiPageSection,{restrictWidth:!0,style:{width:"100%"}},Object(g.jsx)(Ra,{title:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.createTemplate.cloneTemplatePageTitle",defaultMessage:"Clone template ''{name}''",values:{name:n}}),defaultValue:f,onSave:async e=>{r(!0),p(null);const{error:t}=await Object(Jt.u)(e,!0),{name:i}=e;r(!1),t?p(t):a.push(Object(Bt.f)(i,e._kbnMeta.isLegacy))},isSaving:o,saveError:u,clearSaveError:()=>{p(null)},isLegacy:l,history:a}))},Ps=({match:{params:{name:e}},location:t,history:a})=>{const s=Object(c.w)(e),{config:{enableLegacyTemplates:l}}=Object(d.d)(),o=l&&us(t),[r,u]=Object(i.useState)(!1),[p,m]=Object(i.useState)(null),{error:x,data:b,isLoading:f}=Object(Jt.H)(s,o);let j,h;if(Object(i.useEffect)((()=>{R.b.setBreadcrumbs(R.a.templateEdit)}),[]),f)return Object(g.jsx)(c.n,null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateEdit.loadingIndexTemplateDescription",defaultMessage:"Loading template…"}));if(x)return Object(g.jsx)(c.m,{title:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateEdit.loadingIndexTemplateErrorMessage",defaultMessage:"Error loading template"}),error:x,"data-test-subj":"sectionError"});if(b){const{name:e,_kbnMeta:{type:t}}=b;if(j=e&&e.startsWith("."),h=null==b?void 0:b.deprecated,"cloudManaged"===t)return Object(g.jsx)(c.m,{title:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateEdit.managedTemplateWarningTitle",defaultMessage:"Editing a managed template is not permitted"}),error:{message:B.i18n.translate("xpack.idxMgmt.templateEdit.managedTemplateWarningDescription",{defaultMessage:"Managed templates are critical for internal operations."})},"data-test-subj":"systemTemplateEditCallout"})}return Object(g.jsx)(_.EuiPageSection,{restrictWidth:!0,style:{width:"100%"}},j&&Object(g.jsx)(i.Fragment,null,Object(g.jsx)(_.EuiCallOut,{title:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateEdit.systemTemplateWarningTitle",defaultMessage:"Editing a system template can break Kibana"}),color:"danger",iconType:"warning","data-test-subj":"systemTemplateEditCallout"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateEdit.systemTemplateWarningDescription",defaultMessage:"System templates are critical for internal operations."})),Object(g.jsx)(_.EuiSpacer,{size:"l"})),h&&Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiCallOut,{title:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateEdit.deprecatedTemplateWarningTitle",defaultMessage:"This index template is deprecated"}),iconType:"warning",color:"warning","data-test-subj":"deprecatedIndexTemplateCallout"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.templateEdit.deprecatedTemplateWarningDescription",defaultMessage:"This index template is no longer supported and might be removed in a future release. Instead, use one of the other index templates available or create a new one."})),Object(g.jsx)(_.EuiSpacer,{size:"l"})),Object(g.jsx)(Ra,{title:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.editTemplate.editTemplatePageTitle",defaultMessage:"Edit template ''{name}''",values:{name:s}}),defaultValue:b,onSave:async e=>{u(!0),m(null);const{error:t}=await Object(Jt.B)(e);u(!1),t?m(t):a.push(Object(Bt.f)(s,e._kbnMeta.isLegacy))},isSaving:r,saveError:p,clearSaveError:()=>{m(null)},isEditing:!0,isLegacy:o,history:a}))},Ns=({field:e,euiFieldProps:t,...a})=>{const{isInvalid:n,errorMessage:s}=Object(c.B)(e),[l,o]=Object(i.useState)([]),[r,d]=Object(i.useState)(!1),u=Object(i.useCallback)((async e=>{const t=Object(b.isEmpty)(e)?"*":e;d(!0),o(await(async e=>{const t=[];if(!e)return t;const{data:a}=await Object(Jt.n)(e),i=a.indices;if(i.length){const e=Object(b.uniq)([...i]);t.push({label:B.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.indicesSelector.optionsLabel",{defaultMessage:"Based on your indices"}),options:e.map((e=>({label:e,value:e}))).sort(((e,t)=>String(e.label).localeCompare(t.label)))})}else t.push({label:B.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.indicesSelector.noMatchingOption",{defaultMessage:"No indices match your search criteria."}),options:[]});return t})(t)),d(!1)}),[d,o]);return Object(i.useEffect)((()=>{Object(b.isEmpty)(e.value)&&u("*")}),[e.value,u]),Object(g.jsx)(_.EuiFormRow,h()({label:e.label,labelAppend:e.labelAppend,helpText:"function"==typeof e.helpText?e.helpText():e.helpText,error:s,isInvalid:n,fullWidth:!0},a),Object(g.jsx)(_.EuiComboBox,h()({async:!0,isLoading:r,options:l,noSuggestions:!l.length,selectedOptions:(e.value||[]).map((e=>({label:e,value:e}))),onChange:async t=>{e.setValue(t.map((e=>e.value)))},onSearchChange:u,onBlur:()=>{e.value||e.setValue([])},"data-test-subj":"comboBox"},t)))},As=Object(i.createContext)({}),Bs=({children:e})=>{const[t,a]=Object(i.useState)({}),[n,s]=Object(i.useState)({configurationStep:!1,fieldsSelectionStep:!1}),l={draft:t,updateDraft:a,completionState:n,updateCompletionState:s};return Object(g.jsx)(As.Provider,{value:l},e)},Rs=()=>{const e=Object(i.useContext)(As);if(!e)throw new Error("Cannot use outside of create policy context");return e},zs=['"'," ","\\","/",",","|",">","?","*","<"],Vs={name:{type:c.d.TEXT,label:B.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.configurationStep.policyNameField",{defaultMessage:"Policy name"}),validations:[{validator:c.A.emptyField(B.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.configurationStep.policyNameRequiredError",{defaultMessage:"A policy name value is required."}))},{validator:c.A.containsCharsField({message:B.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.configurationStep.invalidCharactersInNameError",{defaultMessage:"Should not contain any of the following characters: {notAllowedChars}",values:{notAllowedChars:zs.join(", ")}}),chars:zs})}]},type:{type:c.d.SELECT,label:B.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.configurationStep.policyTypeLabel",{defaultMessage:"Policy type"}),validations:[{validator:c.A.emptyField(B.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.configurationStep.typeRequiredError",{defaultMessage:"A policy type value is required."}))}]},sourceIndices:{label:B.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.configurationStep.sourceIndicesLabel",{defaultMessage:"Source indices"}),validations:[{validator:c.A.emptyField(B.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.configurationStep.sourceIndicesRequiredError",{defaultMessage:"At least one source index is required."}))}]},query:{type:c.d.JSON,label:B.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.configurationStep.queryLabel",{defaultMessage:"Query (optional)"}),serializer:e=>{let t;try{t=JSON.parse(e)}catch{t={}}return t},deserializer:e=>e&&"object"==typeof e?JSON.stringify(e,null,2):"{\n\n}",validations:[{validator:c.A.isJsonField(B.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.configurationStep.queryInvalidError",{defaultMessage:"The query is not valid JSON."}),{allowEmptyString:!0})}]}},Us=({onNext:e})=>{const{core:{application:{getUrlForApp:t}}}=Object(d.d)(),[a,n]=Object(i.useState)(!1),{draft:s,updateDraft:l,updateCompletionState:o}=Rs(),{form:r}=Object(c.K)({defaultValue:s,schema:Vs,id:"configurationForm"});return Object(g.jsx)(c.f,{form:r,"data-test-subj":"configurationForm"},Object(g.jsx)(c.t,{path:"name",component:c.r,componentProps:{fullWidth:!1},"data-test-subj":"policyNameField"}),Object(g.jsx)(c.t,{path:"type",component:c.q,labelAppend:Object(g.jsx)(_.EuiPopover,{button:Object(g.jsx)(_.EuiLink,{"data-test-subj":"typePopoverIcon",onClick:()=>n((e=>!e))},Object(g.jsx)(_.EuiIcon,{type:"questionInCircle"})),isOpen:a,closePopover:()=>n(!1)},Object(g.jsx)(_.EuiText,{size:"s"},Object(g.jsx)("p",null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicyCreate.configurationStep.typeTitlePopOver",defaultMessage:"Determines how to match the data to incoming documents."})),Object(g.jsx)("ul",null,Object(g.jsx)("li",null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicyCreate.configurationStep.matchTypePopOver",defaultMessage:"{type} matches an exact value.",values:{type:Object(g.jsx)(_.EuiCode,{transparentBackground:!0},"Match")}})),Object(g.jsx)("li",null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicyCreate.configurationStep.geoMatchTypePopOver",defaultMessage:"{type} matches a geographic location.",values:{type:Object(g.jsx)(_.EuiCode,{transparentBackground:!0},"Geo match")}})),Object(g.jsx)("li",null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicyCreate.configurationStep.rangeTypePopOver",defaultMessage:"{type} matches a number, date, or IP address range.",values:{type:Object(g.jsx)(_.EuiCode,{transparentBackground:!0},"Range")}}))))),componentProps:{fullWidth:!1,euiFieldProps:{"data-test-subj":"policyTypeField",options:[{value:"match",text:B.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.configurationStep.matchOption",{defaultMessage:"Match"})},{value:"geo_match",text:B.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.configurationStep.geoMatchOption",{defaultMessage:"Geo match"})},{value:"range",text:B.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.configurationStep.rangeOption",{defaultMessage:"Range"})}]}}}),Object(g.jsx)(c.t,{path:"sourceIndices",component:Ns,labelAppend:Object(g.jsx)(_.EuiText,{size:"xs"},Object(g.jsx)(_.EuiLink,{target:"_blank","data-test-subj":"uploadFileLink",href:t("home",{path:"#/tutorial_directory/fileDataViz"})},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicyCreate.configurationStep.uploadFileLink",defaultMessage:"Upload a file"}))),componentProps:{euiFieldProps:{"data-test-subj":"policySourceIndicesField"},fullWidth:!1}}),Object(g.jsx)(c.t,{path:"query",component:c.i,componentProps:{fullWidth:!1,helpText:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicyCreate.configurationStep.queryHelpText",defaultMessage:"Defaults to: {code} query.",values:{code:Object(g.jsx)(_.EuiLink,{external:!0,target:"_blank","data-test-subj":"matchAllQueryLink",href:C.a.getMatchAllQueryLink()},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicyCreate.configurationStep.matchAllLink",defaultMessage:"match_all"}))}}),codeEditorProps:{height:"300px",allowFullScreen:!0,"aria-label":B.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.configurationStep.ariaLabelQuery",{defaultMessage:"Query field data editor"}),options:{lineNumbers:"off",tabSize:2,automaticLayout:!0}}}}),Object(g.jsx)(_.EuiSpacer,null),Object(g.jsx)(_.EuiFlexGroup,{"data-test-subj":"configureStep",justifyContent:"spaceBetween",style:{maxWidth:400}},Object(g.jsx)(_.EuiFlexItem,{grow:!1}),Object(g.jsx)(_.EuiFlexItem,{grow:!1},Object(g.jsx)(_.EuiButton,{fill:!0,color:"primary",iconSide:"right",iconType:"arrowRight",disabled:!1===r.isValid,"data-test-subj":"nextButton",onClick:async()=>{const{isValid:t,data:a}=await r.submit();t&&(o((e=>({...e,configurationStep:!0}))),l((e=>({...e,...Object(b.isEmpty)(a.query)?Object(b.omit)(a,"query"):a}))),e())}},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicyCreate.configurationStep.nextButtonLabel",defaultMessage:"Next"})))))},qs={iconType:"questionInCircle",color:"gray"},Ws={binary:{iconType:"tokenBinary"},boolean:{iconType:"tokenBoolean"},conflict:{iconType:"warning",color:"euiColorVis9",shape:"square"},date:{iconType:"tokenDate"},date_range:{iconType:"tokenDate"},dense_vector:{iconType:"tokenVectorDense"},geo_point:{iconType:"tokenGeo"},geo_shape:{iconType:"tokenGeo"},ip:{iconType:"tokenIP"},ip_range:{iconType:"tokenIP"},flattened:{iconType:"tokenFlattened"},match_only_text:{iconType:"tokenString"},murmur3:{iconType:"tokenSearchType"},number:{iconType:"tokenNumber"},number_range:{iconType:"tokenNumber"},rank_feature:{iconType:"tokenRankFeature"},rank_features:{iconType:"tokenRankFeatures"},histogram:{iconType:"tokenHistogram"},_source:{iconType:"editorCodeBlock",color:"gray"},point:{iconType:"tokenShape"},shape:{iconType:"tokenShape"},sparse_vector:{iconType:"tokenVectorSparse"},string:{iconType:"tokenString"},text:{iconType:"tokenString"},keyword:{iconType:"tokenKeyword"},gauge:{iconType:"tokenMetricGauge"},counter:{iconType:"tokenMetricCounter"},nested:{iconType:"tokenNested"},version:{iconType:"tokenTag"}};function Gs({type:e,label:t,size:a="s",scripted:i,className:n,...s}){const l=Ws[e]||qs;return Object(g.jsx)(_.EuiToken,h()({},l,{className:Be()("kbnFieldIcon",n),"aria-label":t||e,title:t||e,size:a,fill:i?"dark":void 0},s))}const $s={matchField:{defaultValue:"",type:c.d.COMBO_BOX,serializer:e=>e.join(", "),deserializer:e=>0===e.length?[]:e.split(", "),label:B.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.fieldSelectionStep.matchFieldField",{defaultMessage:"Match field"}),validations:[{validator:c.A.emptyField(B.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.fieldSelectionStep.matchFieldRequired",{defaultMessage:"A match field is required."}))}]},enrichFields:{defaultValue:[],type:c.d.COMBO_BOX,label:B.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.fieldSelectionStep.enrichFieldsField",{defaultMessage:"Enrich fields"}),validations:[{validator:c.A.emptyField(B.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.fieldSelectionStep.enrichFieldsRequired",{defaultMessage:"At least one enrich field is required."}))}]}},Hs=e=>({label:e.name,prepend:Object(g.jsx)(Gs,{type:e.normalizedType})}),Js=({onBack:e,onNext:t})=>{var a,s;const[l,o]=Object(i.useState)(!1),[r,d]=Object(i.useState)([]),[u,p]=Object(i.useState)([]),{draft:m,updateDraft:x,updateCompletionState:b}=Rs();Object(i.useEffect)((()=>{(async()=>{var e,t,a;o(!0);const{data:i}=await Object(Jt.l)(m.sourceIndices);o(!1),null!=i&&null!==(e=i.commonFields)&&void 0!==e&&e.length?p(i.commonFields.map(Hs)):1===(null==i||null===(t=i.indices)||void 0===t?void 0:t.length)&&p(i.indices[0].fields.map(Hs)),null!=i&&null!==(a=i.indices)&&void 0!==a&&a.length&&d(i.indices.map((e=>({label:e.index,options:e.fields.map(Hs)}))))})()}),[m.sourceIndices]);const{form:f}=Object(c.K)({defaultValue:m,schema:$s,id:"fieldSelectionForm"}),j=(null!==(a=null===(s=m.sourceIndices)||void 0===s?void 0:s.length)&&void 0!==a?a:0)>1;return Object(g.jsx)(c.f,{form:f,"data-test-subj":"fieldSelectionForm"},!l&&j&&0===u.length&&Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiCallOut,{title:B.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.noCommonFieldsFoundError",{defaultMessage:"No common fields"}),color:"danger",iconType:"error","data-test-subj":"noCommonFieldsError"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicyCreate.fieldSelectionStep.matchFieldError",defaultMessage:"The selected indices don't have any fields in common."})),Object(g.jsx)(_.EuiSpacer,null)),Object(g.jsx)(c.t,{path:"matchField",component:c.c,labelAppend:Object(g.jsx)(_.EuiIconTip,{"data-test-subj":"matchFieldPopover",content:B.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.fieldSelectionStep.matchFieldPopover",{defaultMessage:"The field in your source indices to match with the incoming documents."})}),componentProps:{fullWidth:!1,helpText:j?B.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.fieldSelectionStep.matchFieldHelpText",{defaultMessage:"The match field must be the same across all selected source indices."}):void 0,euiFieldProps:{"data-test-subj":"matchField",placeholder:B.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.fieldSelectionStep.matchFieldPlaceholder",{defaultMessage:"Select a field"}),noSuggestions:!1,singleSelection:{asPlainText:!0},options:u}}}),Object(g.jsx)(c.t,{path:"enrichFields",component:c.c,labelAppend:Object(g.jsx)(_.EuiIconTip,{"data-test-subj":"enrichFieldsPopover",content:B.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.fieldSelectionStep.EnrichFieldsFieldPopover",{defaultMessage:"The fields to add to your incoming documents."})}),componentProps:{fullWidth:!1,euiFieldProps:{"data-test-subj":"enrichFields",placeholder:B.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.fieldSelectionStep.enrichFieldsPlaceholder",{defaultMessage:"Select fields to enrich"}),noSuggestions:!1,options:r}}}),Object(g.jsx)(_.EuiSpacer,null),Object(g.jsx)(_.EuiFlexGroup,{"data-test-subj":"fieldSelectionStep",justifyContent:"spaceBetween",style:{maxWidth:400}},Object(g.jsx)(_.EuiFlexItem,{grow:!1},Object(g.jsx)(_.EuiButton,{color:"primary",iconSide:"left",iconType:"arrowLeft","data-test-subj":"backButton",onClick:e},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicyCreate.fieldSelectionStep.backButtonLabel",defaultMessage:"Back"}))),Object(g.jsx)(_.EuiFlexItem,{grow:!1},Object(g.jsx)(_.EuiButton,{fill:!0,color:"primary",iconSide:"right",iconType:"arrowRight",disabled:!1===f.isValid,"data-test-subj":"nextButton",onClick:async()=>{const{isValid:e,data:a}=await f.submit();e&&(b((e=>({...e,fieldsSelectionStep:!0}))),x((e=>({...e,...a}))),t())}},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicyCreate.fieldSelectionStep.nextButtonLabel",defaultMessage:"Next"})))))},Ys=e=>e.length<6e4?"json":void 0,Ks=({policy:e})=>{const t=e.query?JSON.stringify(e.query,null,2):"",a=Ys(t);return Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiSpacer,{size:"m"}),Object(g.jsx)(_.EuiDescriptionList,{"data-test-subj":"enrichPolicySummaryList"},e.name&&Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiDescriptionListTitle,null,B.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.createStep.nameLabel",{defaultMessage:"Name"})),Object(g.jsx)(_.EuiDescriptionListDescription,{"data-test-subj":"policyNameValue"},e.name)),e.type&&Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiDescriptionListTitle,null,B.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.createStep.typeLabel",{defaultMessage:"Type"})),Object(g.jsx)(_.EuiDescriptionListDescription,{"data-test-subj":"policyTypeValue"},e.type)),e.sourceIndices&&Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiDescriptionListTitle,null,B.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.createStep.sourceIndicesLabel",{defaultMessage:"Source indices"})),Object(g.jsx)(_.EuiDescriptionListDescription,{"data-test-subj":"policyIndicesValue"},Object(g.jsx)(_.EuiText,{size:"s"},Object(g.jsx)("ul",null,e.sourceIndices.map((e=>Object(g.jsx)("li",{key:e,className:"eui-textBreakWord"},e))))))),e.matchField&&Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiDescriptionListTitle,null,B.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.createStep.matchFieldLabel",{defaultMessage:"Match field"})),Object(g.jsx)(_.EuiDescriptionListDescription,{"data-test-subj":"policyMatchFieldValue"},e.matchField)),e.enrichFields&&Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiDescriptionListTitle,null,B.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.createStep.enrichFieldsLabel",{defaultMessage:"Enrich fields"})),Object(g.jsx)(_.EuiDescriptionListDescription,{"data-test-subj":"policyEnrichFieldsValue"},Object(g.jsx)(_.EuiText,{size:"s"},Object(g.jsx)("ul",null,e.enrichFields.map((e=>Object(g.jsx)("li",{key:e,className:"eui-textBreakWord"},e))))))),e.query&&Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiDescriptionListTitle,null,B.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.createStep.queryLabel",{defaultMessage:"Query"})),Object(g.jsx)(_.EuiDescriptionListDescription,null,Object(g.jsx)(_.EuiCodeBlock,{language:a,isCopyable:!0},t)))))},Xs=({policy:e})=>{const t=JSON.stringify(Object(Fa.c)(e),null,2),a=Ys(t);return Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiSpacer,{size:"m"}),Object(g.jsx)(_.EuiText,null,Object(g.jsx)("p",null,Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicyCreate.createStep.descriptionText",defaultMessage:"This request will create the following enrich policy."}))),Object(g.jsx)(_.EuiSpacer,{size:"m"}),Object(g.jsx)(_.EuiCodeBlock,{language:a,isCopyable:!0,"data-test-subj":"requestBody"},Object(Fa.a)(e.name),"\n",t))},Qs=({onBack:e,onSubmit:t,isLoading:a})=>{const{draft:i}=Rs(),s=[{id:"summary",name:B.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.createStep.summaryTabLabel",{defaultMessage:"Summary"}),"data-test-subj":"summaryTab",content:Object(g.jsx)(Ks,{policy:i})},{id:"request",name:B.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.createStep.requestTabLabel",{defaultMessage:"Request"}),"data-test-subj":"requestTab",content:Object(g.jsx)(Xs,{policy:i})}];return Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiTabbedContent,{tabs:s}),Object(g.jsx)(_.EuiSpacer,null),Object(g.jsx)(_.EuiSpacer,{size:"l"}),Object(g.jsx)(_.EuiFlexGroup,{"data-test-subj":"creationStep",justifyContent:"spaceBetween",style:{maxWidth:400}},Object(g.jsx)(_.EuiFlexItem,{grow:!1},Object(g.jsx)(_.EuiButton,{minWidth:!1,color:"primary",iconSide:"left",iconType:"arrowLeft","data-test-subj":"backButton",onClick:e},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicyCreate.createStep.backButtonLabel",defaultMessage:"Back"}))),Object(g.jsx)(_.EuiFlexGroup,{justifyContent:"flexEnd",gutterSize:"s"},Object(g.jsx)(_.EuiFlexItem,{grow:!1},Object(g.jsx)(_.EuiButton,{color:"primary",onClick:()=>t(),isDisabled:a,"data-test-subj":"createButton"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicyCreate.createStep.createButtonLabel",defaultMessage:"Create"}))),Object(g.jsx)(_.EuiFlexItem,{grow:!1},Object(g.jsx)(_.EuiButton,{fill:!0,color:"primary",onClick:()=>t(!0),isDisabled:a,"data-test-subj":"createAndExecuteButton"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicyCreate.createStep.createAndExecuteButtonLabel",defaultMessage:"Create and execute"}))))))},Zs=()=>{const{history:e,services:{notificationService:t}}=Object(d.d)(),{draft:a,completionState:s}=Rs(),[l,o]=Object(i.useState)(1),[r,c]=Object(i.useState)(!1),[u,p]=Object(i.useState)(null),m=Object(i.useCallback)((e=>l===e?"current":"incomplete"),[l]),x=Object(i.useCallback)((async i=>{c(!0);const{error:n,data:s}=await Object(Jt.c)(a,i);if(c(!1),s){const e=i?B.i18n.translate("xpack.idxMgmt.enrichPoliciesCreate.createAndExecuteNotificationMessage",{defaultMessage:"Created and executed policy: {policyName}",values:{policyName:a.name}}):B.i18n.translate("xpack.idxMgmt.enrichPoliciesCreate.createNotificationMessage",{defaultMessage:"Created policy: {policyName}",values:{policyName:a.name}});t.showSuccessToast(e)}n?p(n):e.push("/enrich_policies")}),[a,e,c,p,t]),b=Object(i.useCallback)((e=>{o(e),p(null)}),[o,p]),f=Object(i.useMemo)((()=>[{step:1,title:B.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.configurationStepLabel",{defaultMessage:"Configuration"}),status:s.configurationStep?"complete":m(1),children:1===l&&Object(g.jsx)(Us,{onNext:()=>b(2)})},{step:2,title:B.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.fieldSelectionStepLabel",{defaultMessage:"Field selection"}),status:s.fieldsSelectionStep?"complete":m(2),children:2===l&&Object(g.jsx)(Js,{onNext:()=>b(3),onBack:()=>b(1)})},{step:3,title:B.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.createStepLabel",{defaultMessage:"Create"}),status:3===l?"current":"incomplete",children:3===l&&Object(g.jsx)(Qs,{onSubmit:x,isLoading:r,onBack:()=>b(2)})}]),[l,b,s,m,r,x]);return Object(g.jsx)(n.a.Fragment,null,u&&Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(_.EuiCallOut,{title:B.i18n.translate("xpack.idxMgmt.enrichPolicyCreate.errorTitle",{defaultMessage:"Unable to create your policy"}),color:"danger",iconType:"error","data-test-subj":"errorWhenCreatingCallout"},Object(g.jsx)("p",{className:"eui-textBreakWord"},(null==u?void 0:u.message)||(null==u?void 0:u.error))),Object(g.jsx)(_.EuiSpacer,{size:"xl"})),Object(g.jsx)(_.EuiSteps,{steps:f}))},el=()=>(Object(i.useEffect)((()=>{R.b.setBreadcrumbs(R.a.enrichPoliciesCreate)}),[]),Object(g.jsx)(Bs,null,Object(g.jsx)(_.EuiPageHeader,{"data-test-subj":"createEnrichPolicyHeaderContent",pageTitle:Object(g.jsx)("span",{"data-test-subj":"appTitle"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicyCreate.appTitle",defaultMessage:"Create enrich policy"})),description:Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicyCreate.appDescription",defaultMessage:"Specify how to retrieve and enrich your incoming data."}),bottomBorder:!0,rightSideItems:[Object(g.jsx)(_.EuiButtonEmpty,{href:C.a.getCreateEnrichPolicyLink(),target:"_blank",iconType:"help","data-test-subj":"createEnrichPolicyDocumentationLink"},Object(g.jsx)(S.FormattedMessage,{id:"xpack.idxMgmt.enrichPolicyCreate.titleDocsLinkText",defaultMessage:"Documentation"}))]}),Object(g.jsx)(_.EuiSpacer,{size:"l"}),Object(g.jsx)(Zs,null))),tl=e=>Object(g.jsx)(Xa,null,Object(g.jsx)(Ka,null,Object(g.jsx)(el,e))),al=({history:e})=>{const{services:t}=Object(d.d)();return Object(i.useEffect)((()=>t.uiMetricService.trackMetric(u.METRIC_TYPE.LOADED,F.q)),[t.uiMetricService]),Object(g.jsx)(x,{history:e},Object(g.jsx)(il,null))},il=()=>Object(g.jsx)(T,null,Object(g.jsx)(E,{exact:!0,path:"/create_template",component:Is}),Object(g.jsx)(E,{exact:!0,path:"/clone_template/:name*",component:Ds}),Object(g.jsx)(E,{exact:!0,path:"/edit_template/:name*",component:Ps}),Object(g.jsx)(E,{exact:!0,path:"/create_component_template",component:De}),Object(g.jsx)(E,{exact:!0,path:"/create_component_template/:sourceComponentTemplateName",component:Ne}),Object(g.jsx)(E,{exact:!0,path:"/edit_component_template/:name*",component:Pe}),Object(g.jsx)(E,{exact:!0,path:"/enrich_policies/create",component:tl}),Object(g.jsx)(E,{path:`/:section(${Ls.join("|")})`,component:ws}),Object(g.jsx)(p.Redirect,{from:"/",to:`/${F.p.Indices}`}));var nl=a(58),sl=a(228),ll=a.n(sl);const ol={filter:"",pageSize:10,currentPage:0,sortField:"index.name",isSortAscending:!0,toggleNameToVisibleMap:{}},rl=Object(xt.handleActions)({[wt](e,t){const{filter:a}=t.payload;return{...e,filter:a,currentPage:0}},[Nt](e,t){const{toggleName:a,toggleValue:i}=t.payload,n={...e.toggleNameToVisibleMap};return n[a]=i,{...e,toggleNameToVisibleMap:n}},[Pt](e,t){const{sortField:a,isSortAscending:i}=t.payload;return{...e,sortField:a,isSortAscending:i}},[It](e,t){const{pageNumber:a}=t.payload;return{...e,currentPage:a}},[Dt](e,t){const{pageSize:a}=t.payload;return{...e,pageSize:a}}},ol),cl=Object(xt.handleActions)({[Ot](e,t){const{indexNames:a}=t.payload,i={};return Object.values(e).forEach((e=>{a.includes(e.name)||(i[e.name]=e)})),i},[Et](e,t){const{indices:a}=t.payload,i={};return a.forEach((e=>{i[e.name]=e})),i},[Ct](e,t){const{indices:a}=t.payload,i={};return a.forEach((e=>{i[e.name]=e})),{...e,...i}}},{}),dl=Object(xt.handleActions)({[Ot](e,t){const{indexNames:a}=t.payload,i=[];return e.forEach((e=>{a.includes(e)||i.push(e)})),i},[Et](e,t){const{indices:a}=t.payload;return a.map((e=>e.name))},[Ct]:e=>e},[]),ul=Object(xt.handleActions)({[vt]:()=>!0,[Et]:()=>!1,[kt]:()=>!1},!0),pl=Object(xt.handleActions)({[kt]:(e,t)=>({...t.payload})},!1),ml=Object(nl.combineReducers)({loading:ul,error:pl,byId:cl,allIds:dl}),gl=Object(xt.handleActions)({[jt](e,t){const{indexNames:a}=t.payload,i={...e};return a.forEach((e=>{delete i[e]})),i},[ht](e,t){const{indexNames:a}=t.payload,i={};return a.forEach((e=>{i[e]=F.d})),{...e,...i}},[Ft](e,t){const{indexNames:a}=t.payload,i={};return a.forEach((e=>{i[e]=F.i})),{...e,...i}},[St](e,t){const{indexNames:a}=t.payload,i={};return a.forEach((e=>{i[e]=F.j})),{...e,...i}},[Mt](e,t){const{indexNames:a}=t.payload,i={};return a.forEach((e=>{i[e]=F.e})),{...e,...i}},[yt](e,t){const{indexNames:a}=t.payload,i={};return a.forEach((e=>{i[e]=F.f})),{...e,...i}},[ft](e,t){const{indexNames:a}=t.payload,i={};return a.forEach((e=>{i[e]=F.b})),{...e,...i}},[Ct](e,t){const{indices:a}=t.payload,i=a.reduce(((e,t)=>(e[t.name]=t,e)),{}),n={...e};for(const t in e)e[t]===F.d&&i[t].status===F.c&&delete n[t],e[t]===F.i&&i[t].status===F.h&&delete n[t],e[t]===F.j&&i[t].status===F.h&&delete n[t],e[t]===F.j&&i[t].status===F.c&&delete n[t],e[t]===F.e&&i[t].status===F.h&&delete n[t],e[t]===F.e&&i[t].status===F.c&&delete n[t],e[t]===F.f&&i[t].status===F.h&&delete n[t],e[t]===F.f&&i[t].status===F.c&&delete n[t],e[t]===F.b&&i[t].status===F.h&&delete n[t],e[t]===F.b&&i[t].status===F.c&&delete n[t];return n}},{});function xl(e){const t={};e.extensionsService.toggles.forEach((e=>{t[e.name]=!1}));const a={tableState:{...ol,toggleNameToVisibleMap:t}},i=[Object(nl.applyMiddleware)(ll.a)];return window.__REDUX_DEVTOOLS_EXTENSION__&&i.push(window.__REDUX_DEVTOOLS_EXTENSION__()),Object(nl.createStore)(Object(nl.combineReducers)({indices:ml,rowStatus:gl,tableState:rl}),a,Object(nl.compose)(...i))}const{GlobalFlyoutProvider:bl}=c.h,fl=({children:e,core:t,dependencies:a})=>{const{docLinks:i,notifications:n,application:l,executionContext:o,overlays:u,analytics:p,i18n:m,theme:x}=t,b={analytics:p,i18n:m,overlays:u,theme:x},{services:f,setBreadcrumbs:j,uiSettings:h,settings:O,kibanaVersion:M}=a,{Provider:y}=Object(c.x)({application:l,uiSettings:h,settings:O,kibanaVersion:{get:()=>M},theme:x}),v={httpClient:f.httpService.httpClient,overlays:u,apiBasePath:r.a,trackMetric:f.uiMetricService.trackMetric.bind(f.uiMetricService),docLinks:i,toasts:n.toasts,setBreadcrumbs:j,getUrlForApp:l.getUrlForApp,executionContext:o,startServices:b};return Object(g.jsx)(c.j,t,Object(g.jsx)(y,null,Object(g.jsx)(s.Provider,{store:xl(f)},Object(g.jsx)(d.c,{value:{...a,overlays:u}},Object(g.jsx)(Ua.c,null,Object(g.jsx)(L.a,{value:v},Object(g.jsx)(bl,null,e)))))))},jl=(e,{core:t,dependencies:a})=>{if(!e)return()=>{};const{history:i}=a;return Object(l.render)(Object(g.jsx)(fl,{core:t,dependencies:a},Object(g.jsx)(al,{history:i})),e),()=>{Object(l.unmountComponentAtNode)(e)}},hl=()=>Object(c.N)()},function(e,t,a){"use strict";a.d(t,"c",(function(){return ee})),a.d(t,"a",(function(){return J})),a.d(t,"b",(function(){return te.c})),a.d(t,"d",(function(){return te.e}));var i=a(5),n=a.n(i),s=a(78),l=a(51),o=a.n(l),r=a(9),c=a(8),d=a(69),u=a(74),p=a(73),m=a(68),g=a(75),x=a(2);const b=()=>{const{fields:e,mappingViewFields:t}=Object(s.c)(),a={byId:{...t.byId,...e.byId},rootLevelFields:[],aliases:{},maxNestedDepth:0},i=Object.values(a.byId).filter((e=>"text"===e.source.type&&!e.isMultiField)).map((e=>({value:e.path.join("."),inputDisplay:e.path.join("."),"data-test-subj":`select-reference-field-${e.path.join(".")}}`}))),n=Object(d.m)("reference_field");return Object(x.jsx)(m.t,{path:"reference_field",config:n},(e=>Object(x.jsx)(m.o,{field:e,euiFieldProps:{options:i},"data-test-subj":"referenceFieldSelect"})))};var f=a(144),j=a(49),h=a(88);const O=({supportedNlpModels:e,nlpImportModel:t})=>Object(x.jsx)(n.a.Fragment,null,Object(x.jsx)(r.EuiSpacer,{size:"m"}),Object(x.jsx)(r.EuiSteps,{steps:[{title:c.i18n.translate("xpack.ml.addInferenceEndpoint.elandPythonClient.step1Title",{defaultMessage:"Install the Eland Python Client"}),children:Object(x.jsx)(r.EuiText,null,Object(x.jsx)(r.EuiText,{size:"s",color:"subdued"},Object(x.jsx)(j.FormattedMessage,{id:"xpack.ml.addInferenceEndpoint.elandPythonClient.pipInstallLabel",defaultMessage:"Eland can be installed with {pipLink} from {pypiLink}:",values:{pipLink:Object(x.jsx)(r.EuiLink,{href:"https://pypi.org/project/pip/",target:"_blank",external:!0},"pip"),pypiLink:Object(x.jsx)(r.EuiLink,{href:"https://pypi.org/",target:"_blank",external:!0},"PyPI")}})),Object(x.jsx)(r.EuiCodeBlock,{isCopyable:!0,language:"shell",fontSize:"m","data-test-subj":"mlElandPipInstallCodeBlock"},Object(x.jsx)("p",null,"$ python -m pip install eland")),Object(x.jsx)(r.EuiText,{size:"s",color:"subdued"},Object(x.jsx)(j.FormattedMessage,{id:"xpack.ml.addInferenceEndpoint.elandPythonClient.condaInstallLabel",defaultMessage:"or it can also be installed with {condaLink} from {condaForgeLink}:",values:{condaLink:Object(x.jsx)(r.EuiLink,{href:"https://docs.conda.io/",target:"_blank",external:!0},"Conda"),condaForgeLink:Object(x.jsx)(r.EuiLink,{href:"https://conda-forge.org/",target:"_blank",external:!0},"Conda Forge")}})),Object(x.jsx)(r.EuiCodeBlock,{isCopyable:!0,language:"shell",fontSize:"m","data-test-subj":"mlElandCondaInstallCodeBlock"},Object(x.jsx)("p",null," $ conda install -c conda-forge eland")))},{title:c.i18n.translate("xpack.ml.addInferenceEndpoint.elandPythonClient.step2Title",{defaultMessage:"Importing your third-party model"}),children:Object(x.jsx)(r.EuiText,null,Object(x.jsx)("p",null,Object(x.jsx)(r.EuiText,{size:"s",color:"subdued"},Object(x.jsx)(j.FormattedMessage,{id:"xpack.ml.addInferenceEndpoint.elandPythonClient.step2Body",defaultMessage:"Follow the instructions on importing compatible third-party models"}))),Object(x.jsx)("p",null,Object(x.jsx)("b",null,Object(x.jsx)(j.FormattedMessage,{id:"xpack.ml.addInferenceEndpoint.elandPythonClient.step2ExampleTitle",defaultMessage:"Example import"})),Object(x.jsx)(r.EuiCodeBlock,{isCopyable:!0,language:"shell",fontSize:"m","data-test-subj":"mlElandExampleImportCodeBlock"},"eland_import_hub_model ",Object(x.jsx)("br",null),"--cloud-id <cloud-id> \\ ",Object(x.jsx)("br",null),"-u <username> -p <password> \\ ",Object(x.jsx)("br",null),"--hub-model-id <model-id> \\ ",Object(x.jsx)("br",null),"--task-type ner \\")),Object(x.jsx)(r.EuiFlexGroup,{gutterSize:"s"},Object(x.jsx)(r.EuiFlexItem,{grow:!1},Object(x.jsx)(r.EuiButtonEmpty,{href:t,target:"_blank",iconType:"help"},Object(x.jsx)(j.FormattedMessage,{id:"xpack.ml.addInferenceEndpoint.elandPythonClient.importModelButtonLabel",defaultMessage:"Import models with Eland"}))),Object(x.jsx)(r.EuiFlexItem,{grow:!1},Object(x.jsx)(r.EuiButtonEmpty,{href:e,target:"_blank",iconType:"help"},Object(x.jsx)(j.FormattedMessage,{id:"xpack.ml.addInferenceEndpoint.elandPythonClient.compatibleModelsButtonLabel",defaultMessage:"Compatible NLP models"})))))},{title:c.i18n.translate("xpack.ml.addInferenceEndpoint.elandPythonClient.step4Title",{defaultMessage:"Deploy your model"}),children:Object(x.jsx)(n.a.Fragment,null,Object(x.jsx)(r.EuiText,{size:"s",color:"subdued"},Object(x.jsx)("p",null,Object(x.jsx)(j.FormattedMessage,{id:"xpack.ml.addInferenceEndpoint.elandPythonClient.step4Body",defaultMessage:"Click “Start deployment” in the table row containing your new model to deploy and use it."}))),Object(x.jsx)(r.EuiSpacer,{size:"m"}),Object(x.jsx)(r.EuiText,{size:"s",color:"subdued"},Object(x.jsx)("p",null,Object(x.jsx)(j.FormattedMessage,{id:"xpack.ml.addInferenceEndpoint.elandPythonClient.step3Body",defaultMessage:"Note: The trained model list automatically refreshes with the most current imported models in your cluster. If the list is not updated, click the 'Refresh' button in the top right corner. Otherwise, revisit the instructions above to troubleshoot."}))))}]})),M=[{value:h.a.elser,inputDisplay:h.a.elser,"data-test-subj":`serviceType-${h.a.elser}`},{value:h.a.e5,inputDisplay:h.a.e5,"data-test-subj":`serviceType-${h.a.e5}`}],y=[{value:h.b.huggingFace,inputDisplay:"HuggingFace","data-test-subj":"serviceType-huggingFace"},{value:h.b.cohere,inputDisplay:"Cohere","data-test-subj":"serviceType-cohere"},{value:h.b.openai,inputDisplay:"Open AI","data-test-subj":"serviceType-openai"}],v={elasticsearch_models:{description:c.i18n.translate("xpack.ml.inferenceFlyoutWrapper.addInferenceEndpoint.elasticsearchModels.FlyoutHeaderdescription",{defaultMessage:"Connect to Elastic preferred models and models hosted on your elasticsearch nodes."})},connect_to_api:{description:c.i18n.translate("xpack.ml.inferenceFlyoutWrapper.addInferenceEndpoint.connect_to_api.FlyoutHeaderdescription",{defaultMessage:"Connect to your preferred model service endpoints."})},eland_python_client:{description:c.i18n.translate("xpack.ml.inferenceFlyoutWrapper.addInferenceEndpoint.eland_python_client.FlyoutHeaderdescription",{defaultMessage:"Import custom models through the Elastic python client."})}},E={[h.b.cohere]:"text_embedding",[h.b.huggingFace]:"text_embedding",[h.b.openai]:"text_embedding",[h.b.elasticsearch]:"text_embedding",[h.b.elser]:"sparse_embedding"},k=(e,t)=>({service:e,service_settings:t}),T=e=>""===e.trim(),F=({inferenceId:e,taskType:t,modelConfig:a,onSaveInferenceEndpoint:i,isSaveButtonDisabled:n,isCreateInferenceApiLoading:s})=>Object(x.jsx)(r.EuiButton,{isDisabled:n,fill:!0,isLoading:s,onClick:()=>i(e,t,a),type:"submit"},c.i18n.translate("xpack.ml.addInferenceEndpoint.saveInference",{defaultMessage:"Save Inference Endpoint"})),S=({inferenceComponent:e,description:t,modelConfig:a,onSaveInferenceEndpoint:s,areRequiredFieldsEmpty:l=!1,service:o,isCreateInferenceApiLoading:d,onInferenceEndpointChange:u,inferenceEndpointError:p})=>{const[m,g]=Object(i.useState)(""),b=Object(i.useMemo)((()=>void 0!==p&&!T(p)),[p]),f=Object(i.useCallback)((e=>{g(e),u(e)}),[g,u]),h=Object(i.useMemo)((()=>T(m)||l||void 0!==p&&!T(p)),[m,l,p]);return Object(x.jsx)(r.EuiFlexGroup,{direction:"column",justifyContent:"spaceEvenly"},Object(x.jsx)(r.EuiFlexItem,{grow:!1},Object(x.jsx)(r.EuiTitle,{size:"s"},Object(x.jsx)(n.a.Fragment,null,t))),Object(x.jsx)(r.EuiFlexItem,null,e),Object(x.jsx)(r.EuiFlexItem,null,Object(x.jsx)(r.EuiForm,{component:"form",fullWidth:!0},Object(x.jsx)(r.EuiFormRow,{label:c.i18n.translate("xpack.ml.addInferenceEndpoint.elasticsearchModels.inferenceEndpointIdForm.label",{defaultMessage:"Inference Endpoint ID:"}),hasChildLabel:!1,labelAppend:Object(x.jsx)(r.EuiLink,{href:"TODO",external:!0,target:"_blank"},Object(x.jsx)(j.FormattedMessage,{id:"xpack.ml.inferenceFlyoutWrapper.elasticsearchModels.inferenceEndpointIdForm.inferenceEnpointDocumentation",defaultMessage:"What's this?"})),helpText:c.i18n.translate("xpack.ml.addInferenceEndpoint.elasticsearchModels.inferenceEndpointIdForm.helpText",{defaultMessage:"Must be unique. Only letters and underscores are allowed."}),isInvalid:b,error:Object(x.jsx)(j.FormattedMessage,{id:"xpack.ml.addInferenceEndpoint.elasticsearchModels.inferenceEndpointIdForm.error",defaultMessage:"{formError}",values:{formError:p}})},Object(x.jsx)(r.EuiFieldText,{"data-test-subj":"inferenceEndpointId",placeholder:c.i18n.translate("xpack.ml.addInferenceEndpoint.elasticsearchModels.inferenceEndpointIdForm.placeholder",{defaultMessage:"Inference endpoint id"}),isInvalid:b,value:m,onChange:e=>f(e.target.value)})))),Object(x.jsx)(r.EuiFlexGroup,{justifyContent:"flexEnd"},Object(x.jsx)(r.EuiFlexItem,{grow:!1},Object(x.jsx)(F,{isSaveButtonDisabled:h,inferenceId:m,taskType:E[o],modelConfig:a,onSaveInferenceEndpoint:s,isCreateInferenceApiLoading:d}))))},_=({modelId:e,setModelId:t,apiKey:a,setApiKey:i})=>Object(x.jsx)(r.EuiForm,{component:"form",fullWidth:!0},Object(x.jsx)(r.EuiSpacer,null),Object(x.jsx)(r.EuiFormRow,{label:c.i18n.translate("xpack.ml.addInferenceEndpoint.connectToApi.cohereModelID.label",{defaultMessage:"Model ID"}),hasChildLabel:!1},Object(x.jsx)(r.EuiFieldText,{"data-test-subj":"cohereModelId",value:e,onChange:e=>t(e.target.value)})),Object(x.jsx)(r.EuiSpacer,null),Object(x.jsx)(r.EuiFormRow,{label:c.i18n.translate("xpack.ml.addInferenceEndpoint.connectToApi.cohereApiKey.label",{defaultMessage:"Api Key"})},Object(x.jsx)(r.EuiFieldPassword,{type:"dual","data-test-subj":"cohereApiKey",value:a,onChange:e=>i(e.target.value)}))),C=({apiKey:e,url:t,setApiKey:a,setUrl:i})=>Object(x.jsx)(r.EuiForm,{component:"form",fullWidth:!0},Object(x.jsx)(r.EuiSpacer,null),Object(x.jsx)(r.EuiFormRow,{label:c.i18n.translate("xpack.ml.addInferenceEndpoint.connectToApi.huggingFaceModelUrl.label",{defaultMessage:"HuggingFace Model URL"}),hasChildLabel:!1},Object(x.jsx)(r.EuiFieldText,{"data-test-subj":"huggingFaceUrl",value:t,onChange:e=>i(e.target.value)})),Object(x.jsx)(r.EuiSpacer,null),Object(x.jsx)(r.EuiFormRow,{label:c.i18n.translate("xpack.ml.addInferenceEndpoint.connectToApi.huggingFaceModelApiKey.label",{defaultMessage:"API Key"})},Object(x.jsx)(r.EuiFieldPassword,{type:"dual","data-test-subj":"huggingFaceUrlApiKey",value:e,onChange:e=>a(e.target.value)}))),L=({organizationId:e,setOrganizationId:t,apiKey:a,setApiKey:i,endpointUrl:n,setEndpointUrl:s,modelId:l,setModelId:o})=>Object(x.jsx)(r.EuiForm,{component:"form",fullWidth:!0},Object(x.jsx)(r.EuiSpacer,null),Object(x.jsx)(r.EuiFormRow,{label:c.i18n.translate("xpack.ml.addInferenceEndpoint.connectToApi.openaiOrganizationID.label",{defaultMessage:"Organization ID"}),hasChildLabel:!1},Object(x.jsx)(r.EuiFieldText,{"data-test-subj":"openaiOrganizationId",value:e,onChange:e=>t(e.target.value)})),Object(x.jsx)(r.EuiSpacer,null),Object(x.jsx)(r.EuiFormRow,{label:c.i18n.translate("xpack.ml.addInferenceEndpoint.connectToApi.openaiApiKey.label",{defaultMessage:"API Key"})},Object(x.jsx)(r.EuiFieldPassword,{type:"dual","data-test-subj":"openaiApiKey",value:a,onChange:e=>i(e.target.value)})),Object(x.jsx)(r.EuiFormRow,{label:c.i18n.translate("xpack.ml.addInferenceEndpoint.connectToApi.openaiEndpointUrl.label",{defaultMessage:"Endpoint URL"})},Object(x.jsx)(r.EuiFieldText,{"data-test-subj":"openaiModelEndpointUrl",value:n,onChange:e=>s(e.target.value)})),Object(x.jsx)(r.EuiSpacer,null),Object(x.jsx)(r.EuiFormRow,{label:c.i18n.translate("xpack.ml.addInferenceEndpoint.connectToApi.openaiModel.label",{defaultMessage:"Model"})},Object(x.jsx)(r.EuiFieldText,{"data-test-subj":"openaiModel",value:l,onChange:e=>o(e.target.value)}))),w=({description:e,onSaveInferenceEndpoint:t,isCreateInferenceApiLoading:a,onInferenceEndpointChange:s,inferenceEndpointError:l})=>{const o="https://api.openai.com/v1/embeddings",c="embed-english-v2.0",[d,u]=Object(i.useState)(y[0].value),[p,m]=Object(i.useState)(""),[g,b]=Object(i.useState)(""),[f,j]=Object(i.useState)(""),[O,M]=Object(i.useState)(c),[v,E]=Object(i.useState)(""),[F,w]=Object(i.useState)(o),[I,D]=Object(i.useState)(""),[P,N]=Object(i.useState)(""),A=Object(i.useMemo)((()=>d===h.b.huggingFace?T(g)||T(p):d===h.b.cohere?T(f):T(v)||T(P)),[d,g,p,f,v,P]),B=Object(i.useMemo)((()=>d===h.b.huggingFace?k(h.b.huggingFace,{api_key:p,url:g}):d===h.b.cohere?k(h.b.cohere,{api_key:f,model_id:T(O)?c:O}):k(h.b.openai,{api_key:v,model_id:P,organization_id:T(I)?void 0:I,url:T(F)?o:F})),[d,p,g,f,O,v,P,I,F]),R=Object(x.jsx)(n.a.Fragment,null,Object(x.jsx)(r.EuiSuperSelect,{fullWidth:!0,"data-test-subj":"modelTypeSelect",options:y,valueOfSelected:d,onChange:e=>(e=>{switch(d){case h.b.huggingFace:m(""),b("");break;case h.b.cohere:j(""),M(c);break;case h.b.openai:E(""),w(o),D(""),N("")}u(e)})(e)}),d===h.b.huggingFace?Object(x.jsx)(C,{apiKey:p,setApiKey:m,url:g,setUrl:b}):d===h.b.cohere?Object(x.jsx)(_,{apiKey:f,setApiKey:j,modelId:O,setModelId:M}):Object(x.jsx)(L,{apiKey:v,setApiKey:E,endpointUrl:F,setEndpointUrl:w,organizationId:I,setOrganizationId:D,modelId:P,setModelId:N}));return Object(x.jsx)(n.a.Fragment,null,Object(x.jsx)(S,{description:e,onSaveInferenceEndpoint:t,inferenceComponent:R,service:d,modelConfig:B,areRequiredFieldsEmpty:A,isCreateInferenceApiLoading:a,onInferenceEndpointChange:s,inferenceEndpointError:l}))},I=({id:e,setNumberOfAllocations:t,numberOfAllocations:a,setNumberOfThreads:i,numberOfThreads:n})=>Object(x.jsx)(r.EuiAccordion,{id:e,initialIsOpen:!0,"data-test-subj":"serviceOptions","aria-label":c.i18n.translate("xpack.ml.addInferenceEndpoint.elasticsearchModels.serviceOptions.accordion.ariaLabel",{defaultMessage:"Service Options"}),buttonContent:Object(x.jsx)(r.EuiTitle,{size:"xxs"},Object(x.jsx)("h6",null,c.i18n.translate("xpack.ml.addInferenceEndpoint.elasticsearchModels.serviceOptions.accordion.title",{defaultMessage:"Service Options"})))},Object(x.jsx)(r.EuiSpacer,{size:"m"}),Object(x.jsx)(r.EuiDescribedFormGroup,{title:Object(x.jsx)(r.EuiTitle,{size:"xxxs"},Object(x.jsx)("h6",null,c.i18n.translate("xpack.ml.addInferenceEndpoint.elasticsearchModels.serviceOptions.allocationTitle",{defaultMessage:"Allocations:"}))),description:Object(x.jsx)(r.EuiText,{color:"subdued",size:"s"},Object(x.jsx)(j.FormattedMessage,{id:"xpack.ml.addInferenceEndpoint.elasticsearchModels.serviceOptions.allocationDescription",defaultMessage:"The number of model allocations to create."})),fullWidth:!0},Object(x.jsx)(r.EuiFormRow,null,Object(x.jsx)(r.EuiFieldNumber,{value:a,min:1,onChange:e=>t(e.target.valueAsNumber),"aria-label":c.i18n.translate("xpack.ml.addInferenceEndpoint.elasticsearchModels.serviceOptions.allocationNumberField.ariaLabel",{defaultMessage:"Number of allocation"})}))),Object(x.jsx)(r.EuiSpacer,{size:"m"}),Object(x.jsx)(r.EuiDescribedFormGroup,{title:Object(x.jsx)(r.EuiTitle,{size:"xxxs"},Object(x.jsx)("h6",null,c.i18n.translate("xpack.ml.addInferenceEndpoint.elasticsearchModels.serviceOptions.threadsTitle",{defaultMessage:"Threads:"}))),description:Object(x.jsx)(r.EuiText,{color:"subdued",size:"s"},Object(x.jsx)(j.FormattedMessage,{id:"xpack.ml.addInferenceEndpoint.elasticsearchModels.serviceOptions.threadsDescription",defaultMessage:"The number of threads to use by each model allocation."})),fullWidth:!0},Object(x.jsx)(r.EuiFormRow,null,Object(x.jsx)(r.EuiFieldNumber,{value:n,min:1,max:32,onChange:e=>i(e.target.valueAsNumber),"aria-label":c.i18n.translate("xpack.ml.addInferenceEndpoint.elasticsearchModels.serviceOptions.threadsNumberField.ariaLabel",{defaultMessage:"Number of Threads"})})))),D=({description:e,elserv2documentationUrl:t="",e5documentationUrl:a="",onSaveInferenceEndpoint:s,trainedModels:l,isCreateInferenceApiLoading:o,onInferenceEndpointChange:d,inferenceEndpointError:u})=>{const[p,m]=Object(i.useState)(M),[g,b]=Object(i.useState)(M[0].value),[f,O]=Object(i.useState)(1),[y,v]=Object(i.useState)(1),E=Object(i.useMemo)((()=>g===h.a.elser?h.b.elser:h.b.elasticsearch),[g]),T=Object(i.useMemo)((()=>{const e={num_allocations:f,num_threads:y};return E===h.b.elser?k(E,{...e}):k(E,{...e,model_id:h.a.e5})}),[f,y,E]),F={[h.a.elser]:{description:c.i18n.translate("xpack.ml.addInferenceEndpoint.elasticsearchModels.elser.description",{defaultMessage:"ELSER is Elastic's NLP model for English semantic search, utilizing sparse vectors. It prioritizes intent and contextual meaning over literal term matching, optimized specifically for English documents and queries on the Elastic platform."}),documentation:t,title:c.i18n.translate("xpack.ml.addInferenceEndpoint.elasticsearchModels.elser.title",{defaultMessage:"Elastic Learned Sparse Encoder v2"})},[h.a.e5]:{description:c.i18n.translate("xpack.ml.addInferenceEndpoint.elasticsearchModels.e5Model.description",{defaultMessage:"E5 is a third party NLP model that enables you to perform multi-lingual semantic search by using dense vector representations. This model performs best for non-English language documents and queries."}),documentation:a,title:c.i18n.translate("xpack.ml.addInferenceEndpoint.e5Model.title",{defaultMessage:"Multilingual E5 (Embeddings from bidirectional encoder representations)"})}};Object(i.useEffect)((()=>{const e=[],t=Object.values(h.a);l.map((a=>{t.includes(a)||e.push({value:a,inputDisplay:a,"data-test-subj":`serviceType-${a}`})}));const a=M.concat(e);m(a),b(a[0].value)}),[l]);const _=Object(r.useGeneratedHtmlId)({prefix:"serviceOptions"}),C=Object(x.jsx)(n.a.Fragment,null,Object(x.jsx)(r.EuiFlexItem,{grow:!1},Object(x.jsx)(r.EuiSuperSelect,{fullWidth:!0,options:p,valueOfSelected:g,onChange:e=>b(e)})),Object(x.jsx)(r.EuiSpacer,null),Object.keys(F).includes(g)?Object(x.jsx)(n.a.Fragment,null,Object(x.jsx)(r.EuiFlexItem,{grow:!1},Object(x.jsx)(r.EuiTitle,{size:"xs"},Object(x.jsx)("h6",null,Object(x.jsx)(j.FormattedMessage,{id:"xpack.ml.addInferenceEndpoint.elasticsearchModels.modelTitle",defaultMessage:"{title}",values:{title:F[g].title}})))),Object(x.jsx)(r.EuiSpacer,null),Object(x.jsx)(r.EuiFlexItem,null,Object(x.jsx)(r.EuiText,{color:"subdued"},Object(x.jsx)(j.FormattedMessage,{id:"xpack.ml.addInferenceEndpoint.elasticsearchModels.modelDescription",defaultMessage:"{description}",values:{description:F[g].description}}))),Object(x.jsx)(r.EuiSpacer,null),Object(x.jsx)(r.EuiFlexItem,null,Object(x.jsx)("p",null,Object(x.jsx)(r.EuiLink,{href:F[g].documentation,external:!0,target:"_blank"},Object(x.jsx)(j.FormattedMessage,{id:"xpack.ml.addInferenceEndpoint.elasticsearchModels.modelDocumentation",defaultMessage:"View documentation"})))),Object(x.jsx)(r.EuiSpacer,null),Object(x.jsx)(r.EuiFlexItem,null,Object(x.jsx)(I,{id:_,numberOfAllocations:f,setNumberOfAllocations:O,setNumberOfThreads:v,numberOfThreads:y}))):Object(x.jsx)(r.EuiHorizontalRule,{margin:"none"}));return Object(x.jsx)(n.a.Fragment,null,Object(x.jsx)(S,{description:e,service:E,onSaveInferenceEndpoint:s,inferenceComponent:C,modelConfig:T,areRequiredFieldsEmpty:!1,isCreateInferenceApiLoading:o,onInferenceEndpointChange:d,inferenceEndpointError:u}))},P=[{id:h.c.elasticsearch_models,name:c.i18n.translate("xpack.ml.inferenceFlyoutWrapper.elasticsearchModelsTabTitle",{defaultMessage:"Elasticsearch models"})},{id:h.c.connect_to_api,name:c.i18n.translate("xpack.ml.inferenceFlyoutWrapper.connectToAPITabTitle",{defaultMessage:"Connect to API"})},{id:h.c.eland_python_client,name:c.i18n.translate("xpack.ml.inferenceFlyoutWrapper.elandPythonClientTabTitle",{defaultMessage:"Eland Python Client"})}],N=n.a.memo((({setActiveTab:e,activeTab:t,setInferenceEndpointError:a})=>Object(x.jsx)(r.EuiTabs,null,P.map((i=>Object(x.jsx)(r.EuiTab,{onClick:()=>{e(i.id),a(void 0)},isSelected:i.id===t,key:i.id,"data-test-subj":`${i.id}Tab`},i.name)))))),A=({onSaveInferenceEndpoint:e,onFlyoutClose:t,isInferenceFlyoutVisible:a,e5documentationUrl:s="",elserv2documentationUrl:l="",supportedNlpModels:o="",nlpImportModel:d="",errorCallout:u,trainedModels:p=[],isCreateInferenceApiLoading:m,onInferenceEndpointChange:g,inferenceEndpointError:b,setInferenceEndpointError:f})=>{const[M,y]=Object(i.useState)(h.c.elasticsearch_models),E={elasticsearch_models:Object(x.jsx)(D,{description:v[M].description,e5documentationUrl:s,elserv2documentationUrl:l,onSaveInferenceEndpoint:e,isCreateInferenceApiLoading:m,trainedModels:p,onInferenceEndpointChange:g,inferenceEndpointError:b}),connect_to_api:Object(x.jsx)(w,{description:v[M].description,onSaveInferenceEndpoint:e,isCreateInferenceApiLoading:m,onInferenceEndpointChange:g,inferenceEndpointError:b}),eland_python_client:Object(x.jsx)(O,{supportedNlpModels:o,nlpImportModel:d})}[M],k=Object(x.jsx)(n.a.Fragment,null,u,Object(x.jsx)(N,{activeTab:M,setActiveTab:y,setInferenceEndpointError:f}),Object(x.jsx)(r.EuiSpacer,{size:"l"}),E);return Object(x.jsx)(r.EuiFlyout,{onClose:()=>t(!a),"data-test-subj":"addInferenceEndpoint",ownFocus:!0},Object(x.jsx)(r.EuiFlyoutHeader,null,Object(x.jsx)(r.EuiTitle,{size:"m","data-test-subj":"addInferenceEndpointTitle"},Object(x.jsx)("h2",null,Object(x.jsx)(j.FormattedMessage,{id:"xpack.ml.addInferenceEndpoint.header.title",defaultMessage:"Add inference endpoint"})))),Object(x.jsx)(r.EuiFlyoutBody,{"data-test-subj":"inference_endpoint_content"},k),Object(x.jsx)(r.EuiFlyoutFooter,null,Object(x.jsx)(r.EuiButtonEmpty,{onClick:()=>t(!a),"data-test-subj":"closeInferenceFlyout"},c.i18n.translate("xpack.ml.addInferenceEndpoint.footer.cancel",{defaultMessage:"Cancel"}))))};var B=a(72),R=a(71),z=a(107);const V=[{inference_id:"elser_model_2"},{inference_id:"e5"}],U=({createInferenceEndpoint:e,"data-test-subj":t})=>{const a=Object(d.m)("inference_id");return Object(x.jsx)(m.t,{path:"inference_id",fieldConfig:a},(a=>Object(x.jsx)(q,{createInferenceEndpoint:e,"data-test-subj":t,value:a.value,setValue:a.setValue})))},q=({createInferenceEndpoint:e,"data-test-subj":t,setValue:a,value:s})=>{var l;const{core:{application:o,http:u},docLinks:p,plugins:{ml:m}}=Object(B.d)(),g=Object(d.m)("inference_id"),b=`${u.basePath.get()}/app/enterprise_search/relevance/inference_endpoints`,[j,h]=Object(i.useState)(!1),[O,M]=Object(i.useState)([]),y=Object(i.useCallback)((()=>{h(!j)}),[j]);Object(i.useEffect)((()=>{(async()=>{var e,t,a;M(null!==(e=await(null==m||null===(t=m.mlApi)||void 0===t||null===(a=t.trainedModels)||void 0===a?void 0:a.getTrainedModels()))&&void 0!==e?e:[])})()}),[m]);const v=Object(i.useMemo)((()=>O.filter((e=>e.model_type===f.f.PYTORCH&&(null!=e&&e.inference_config?Object.keys(e.inference_config).includes(f.e.TEXT_EMBEDDING):{}))).map((e=>e.model_id))),[O]),[E,k]=Object(i.useState)(!1),{isLoading:T,data:F,resendRequest:S}=Object(R.J)(),_=Object(i.useMemo)((()=>{const e=null==F?void 0:F.filter((e=>"text_embedding"===e.task_type||"sparse_embedding"===e.task_type)),t=V.filter((t=>!(e||[]).find((e=>e.inference_id===t.inference_id)))),a=[...e||[],...t].map((e=>({label:e.inference_id,"data-test-subj":`custom-inference_${e.inference_id}`,checked:s===e.inference_id?"on":void 0})));if(s&&!a.find((e=>e.label===s))){const e={label:s,checked:"on","data-test-subj":`custom-inference_${s}`};return[...a,e]}return a}),[F,s]),{showErrorToasts:C}=Object(z.a)(),L=Object(i.useCallback)((async(t,i,n)=>{try{const s=n.service_settings.model_id||"",l={taskType:i,modelConfig:n};k(!0),await e(s,t,l),S(),a(t),h(!j),k(!1)}catch(e){C(e),k(!1)}}),[e,a,j,C,S]),[w,I]=Object(i.useState)(!1),[D,P]=Object(i.useState)(void 0),N=Object(i.useCallback)((async e=>{const t=_.some((t=>t.label===e));P(t?c.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.inferenceId.popover.defaultLabel",{defaultMessage:"Inference endpoint {inferenceId} already exists",values:{inferenceId:e}}):void 0)}),[_]),U=null===(l=_.find((e=>e.checked)))||void 0===l?void 0:l.label;return Object(x.jsx)(n.a.Fragment,null,Object(x.jsx)(r.EuiSpacer,null),Object(x.jsx)(r.EuiFlexGroup,{"data-test-subj":"selectInferenceId"},Object(x.jsx)(r.EuiFlexItem,{grow:!1},Object(x.jsx)(r.EuiPopover,{button:Object(x.jsx)(n.a.Fragment,null,Object(x.jsx)(r.EuiText,{size:"xs"},Object(x.jsx)("p",null,Object(x.jsx)("strong",null,g.label))),Object(x.jsx)(r.EuiSpacer,{size:"xs"}),Object(x.jsx)(r.EuiButton,{iconType:"arrowDown",iconSide:"right",color:"text","data-test-subj":"inferenceIdButton",onClick:()=>{I(!w)}},U||c.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.inferenceId.popover.alreadyExistsLabel",{defaultMessage:"No inference endpoint selected"}))),isOpen:w,panelPaddingSize:"m",closePopover:()=>I(!w)},Object(x.jsx)(r.EuiContextMenuPanel,null,Object(x.jsx)(r.EuiContextMenuItem,{key:"manageInferenceEndpointButton",icon:"gear",size:"s","data-test-subj":"manageInferenceEndpointButton",onClick:async()=>{o.navigateToUrl(b)}},c.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.inferenceId.popover.manageInferenceEndpointButton",{defaultMessage:"Manage Inference Endpoints"}))),Object(x.jsx)(r.EuiHorizontalRule,{margin:"none"}),Object(x.jsx)(r.EuiPanel,{color:"transparent",paddingSize:"s"},Object(x.jsx)(r.EuiTitle,{size:"xxxs"},Object(x.jsx)("h3",null,c.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.inferenceId.popover.selectable.Label",{defaultMessage:"Existing endpoints"}))),Object(x.jsx)(r.EuiSpacer,{size:"xs"}),Object(x.jsx)(r.EuiSelectable,{"aria-label":c.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.inferenceId.popover.selectable.ariaLabel",{defaultMessage:"Existing endpoints"}),"data-test-subj":t,searchable:!0,isLoading:T,singleSelection:"always",searchProps:{compressed:!0,placeholder:c.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.inferenceId.popover.selectable.placeholder",{defaultMessage:"Search"})},options:_,onChange:e=>{var t;a((null===(t=e.find((e=>e.checked)))||void 0===t?void 0:t.label)||"")}},((e,t)=>Object(x.jsx)(n.a.Fragment,null,t,e)))),Object(x.jsx)(r.EuiHorizontalRule,{margin:"none"}),Object(x.jsx)(r.EuiContextMenuItem,{icon:Object(x.jsx)(r.EuiIcon,{type:"help",color:"primary"}),size:"s"},Object(x.jsx)(r.EuiLink,{href:p.links.enterpriseSearch.inferenceApiCreate,target:"_blank","data-test-subj":"learn-how-to-create-inference-endpoints"},c.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.learnHowToCreateInferenceEndpoints",{defaultMessage:"Learn how to create inference endpoints"})))),j&&Object(x.jsx)(A,{elserv2documentationUrl:p.links.ml.nlpElser,e5documentationUrl:p.links.ml.nlpE5,onInferenceEndpointChange:N,inferenceEndpointError:D,trainedModels:v,onSaveInferenceEndpoint:L,onFlyoutClose:y,isInferenceFlyoutVisible:j,supportedNlpModels:p.links.enterpriseSearch.supportedNlpModels,nlpImportModel:p.links.ml.nlpImportModel,setInferenceEndpointError:P,isCreateInferenceApiLoading:E})),Object(x.jsx)(r.EuiFlexItem,{grow:!0},Object(x.jsx)(r.EuiCallOut,{size:"s",color:"warning",title:c.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.noReferenceModelStartWarningMessage",{defaultMessage:"The referenced model for this inference endpoint will be started when adding this field."})}))))};var W=a(110);const G={alias:({allFields:e})=>Object(x.jsx)(g.A,{allFields:e}),token_count:()=>Object(x.jsx)(m.g,{title:Object(x.jsx)("h3",null,c.i18n.translate("xpack.idxMgmt.mappingsEditor.tokenCount.analyzerFieldTitle",{defaultMessage:"Analyzer"})),description:c.i18n.translate("xpack.idxMgmt.mappingsEditor.tokenCount.analyzerFieldDescription",{defaultMessage:"The analyzer which should be used to analyze the string value. For best performance, use an analyzer without token filters."})},Object(x.jsx)(g.a,{path:"analyzer",label:c.i18n.translate("xpack.idxMgmt.mappingsEditor.tokenCountRequired.analyzerFieldLabel",{defaultMessage:"Index analyzer"}),defaultValue:u.m,allowsIndexDefaultOption:!1})),scaled_float:()=>Object(x.jsx)(m.g,{title:Object(x.jsx)("h3",null,u.k.scaling_factor.title),description:u.k.scaling_factor.description},Object(x.jsx)(m.t,{path:"scaling_factor",config:Object(d.m)("scaling_factor"),component:m.d})),dense_vector:()=>{const{label:e}=Object(d.m)("dims");return Object(x.jsx)(m.g,{title:Object(x.jsx)("h3",null,e),description:c.i18n.translate("xpack.idxMgmt.mappingsEditor.denseVector.dimsFieldDescription",{defaultMessage:"Each document’s dense vector is encoded as a binary doc value. Its size in bytes is equal to 4 * dimensions + 4."})},Object(x.jsx)(m.t,{path:"dims",config:Object(d.m)("dims"),component:m.d}))}};var $=a(130);const H=e=>Object(x.jsx)("form",e),J=n.a.memo((function({allFields:e,isRootLevelField:t,isMultiField:a,paddingLeft:l,isCancelable:j,maxNestedDepth:h,onCancelAddingNewFields:O,isAddingFields:M,semanticTextInfo:y}){const{isSemanticTextEnabled:v,ml:E,setErrorsInTrainedModelDeployment:k}=null!=y?y:{},T=Object(s.b)(),{form:F}=Object(m.z)({serializer:d.g,options:{stripEmptyFields:!1},id:"create-field"});Object(m.B)({form:F});const{subscribe:S}=F;Object(i.useEffect)((()=>S((e=>{T({type:"fieldForm.update",value:e})})).unsubscribe),[T,S]);const _=()=>{M&&O?O():T({type:"documentField.changeStatus",value:"idle"})},{createInferenceEndpoint:C,handleSemanticText:L}=function(e){var t,a;const{form:n,setErrorsInTrainedModelDeployment:l,ml:o}=e,{fields:r,mappingViewFields:d}=Object(s.c)(),{fetchInferenceToModelIdMap:u}=Object($.a)(),m=Object(s.b)(),{showSuccessToasts:g,showErrorToasts:x,showSuccessfullyDeployedToast:b}=Object(z.a)(),j=null===(t=n.getFormData())||void 0===t?void 0:t.type;Object(i.useEffect)((()=>{if("semantic_text"===j){var e;const t={byId:{...r.byId,...d.byId},rootLevelFields:[],aliases:{},maxNestedDepth:0},a=Object(p.j)(t,"semantic_text")?"":"semantic_text",i=(null===(e=Object.values(t.byId).find((e=>"text"===e.source.type&&!e.isMultiField)))||void 0===e?void 0:e.path.join("."))||"";n.getFormData().name||n.setFieldValue("name",a),n.getFormData().reference_field||n.setFieldValue("reference_field",i),n.getFormData().inference_id||n.setFieldValue("inference_id","elser_model_2")}}),[j]);const h=Object(i.useCallback)((async(e,t,a)=>{var i,n,s;const l=f.a.includes(e),r={service:l?"elser":"elasticsearch",taskType:l?"sparse_embedding":"text_embedding"},c=a?a.modelConfig:{service:r.service,service_settings:{num_allocations:1,num_threads:1,model_id:e}},d=null!==(i=null==a?void 0:a.taskType)&&void 0!==i?i:r.taskType;await(null==o||null===(n=o.mlApi)||void 0===n||null===(s=n.inferenceModels)||void 0===s?void 0:s.createInferenceEndpoint(t,d,c))}),[null==o||null===(a=o.mlApi)||void 0===a?void 0:a.inferenceModels]);return{createInferenceEndpoint:h,handleSemanticText:async(e,t)=>{var a;const i=await u(),n=e.inference_id,s=null==i?void 0:i[n];if(!s)throw new Error(c.i18n.translate("xpack.idxMgmt.mappingsEditor.semanticText.inferenceError",{defaultMessage:"No inference model found for inference ID {inferenceId}"}));const{trainedModelId:o}=s;if(m({type:"field.add",value:e}),!(null===(a=(await Object(R.m)()).data)||void 0===a?void 0:a.some((e=>e.inference_id===n))))try{o&&s.isDeployable&&!s.isDeployed&&g(o),await h(o,e.inference_id,t),o&&(null==l||l((e=>({...e,[o]:void 0})))),b(o)}catch(e){o&&(null==l||l((t=>({...t,[o]:e})))),x(e)}}}}({form:F,setErrorsInTrainedModelDeployment:k,ml:E}),w="semantic_text"===F.getFormData().type,I=async(e,t=!1,a=!1)=>{e&&e.preventDefault();const{isValid:i,data:n}=await F.submit();i&&!a&&(Object(p.u)(n)?L(n):T({type:"field.add",value:n}),t&&_(),F.reset())};return Object(x.jsx)(n.a.Fragment,null,Object(x.jsx)(r.EuiOutsideClickDetector,{onOutsideClick:()=>{""===F.getFields().name.value.trim()?!1!==j&&_():I(void 0,!0,!0)}},Object(x.jsx)(m.e,{form:F,FormWrapper:H,onSubmit:I,"data-test-subj":"createFieldForm"},Object(x.jsx)("div",{className:o()("mappingsEditor__createFieldWrapper",{"mappingsEditor__createFieldWrapper--toggle":Boolean(h)&&h>0,"mappingsEditor__createFieldWrapper--multiField":a}),style:{paddingLeft:`${a?l-1.5*u.d:l}px`}},Object(x.jsx)("div",{className:"mappingsEditor__createFieldContent"},Object(x.jsx)(r.EuiFlexGroup,{gutterSize:"s"},Object(x.jsx)(r.EuiFlexItem,{grow:!1},Object(x.jsx)(g.I,{isRootLevelField:t,isMultiField:a,showDocLink:!0,isSemanticTextEnabled:v})),Object(x.jsx)(m.f,{pathsToWatch:"type"},(({type:e})=>{if(void 0===e)return null;const[i]=e;return Object(x.jsx)(g.F,{key:null==i?void 0:i.value,type:null==i?void 0:i.value,isMultiField:null!=a&&a,isRootLevelField:t})})),w&&Object(x.jsx)(r.EuiFlexItem,{grow:!1},Object(x.jsx)(b,null)),Object(x.jsx)(r.EuiFlexItem,null,Object(x.jsx)(g.t,{isSemanticText:w}))),Object(x.jsx)(m.f,{pathsToWatch:["type","subType"]},(({type:t,subType:a})=>{var i,s;const l=((e,t)=>G[t]||G[e])(null==t||null===(i=t[0])||void 0===i?void 0:i.value,null==a||null===(s=a[0])||void 0===s?void 0:s.value);if(!l)return null;const o=u.o[null==t?void 0:t[0].value];return Object(x.jsx)("div",{className:"mappingsEditor__createFieldRequiredProps"},o.isBeta?Object(x.jsx)(n.a.Fragment,null,Object(x.jsx)(W.a,null),Object(x.jsx)(r.EuiSpacer,{size:"m"})):null,Object(x.jsx)(l,{key:null!=a?a:t,allFields:e}))})),w&&Object(x.jsx)(U,{createInferenceEndpoint:C}),Object(x.jsx)(r.EuiFlexGroup,{gutterSize:"s",justifyContent:"flexEnd"},(!1!==j||M)&&Object(x.jsx)(r.EuiFlexItem,{grow:!1},Object(x.jsx)(r.EuiButtonEmpty,{onClick:_,"data-test-subj":"cancelButton"},c.i18n.translate("xpack.idxMgmt.mappingsEditor.createField.cancelButtonLabel",{defaultMessage:"Cancel"}))),Object(x.jsx)(r.EuiFlexItem,{grow:!1},Object(x.jsx)(r.EuiButton,{color:"primary",fill:!0,onClick:I,type:"submit","data-test-subj":"addButton",isDisabled:F.getErrors().length>0},a?c.i18n.translate("xpack.idxMgmt.mappingsEditor.createField.addMultiFieldButtonLabel",{defaultMessage:"Add multi-field"}):c.i18n.translate("xpack.idxMgmt.mappingsEditor.createField.addFieldButtonLabel",{defaultMessage:"Add field"})))))))))}));var Y=a(94);const K={addMultiFieldButtonLabel:c.i18n.translate("xpack.idxMgmt.mappingsEditor.addMultiFieldTooltipLabel",{defaultMessage:"Add a multi-field to index the same field in different ways."}),addPropertyButtonLabel:c.i18n.translate("xpack.idxMgmt.mappingsEditor.addPropertyButtonLabel",{defaultMessage:"Add property"}),editButtonLabel:c.i18n.translate("xpack.idxMgmt.mappingsEditor.editFieldButtonLabel",{defaultMessage:"Edit"}),deleteButtonLabel:c.i18n.translate("xpack.idxMgmt.mappingsEditor.removeFieldButtonLabel",{defaultMessage:"Remove"}),fieldIsShadowedLabel:c.i18n.translate("xpack.idxMgmt.mappingsEditor.fieldIsShadowedLabel",{defaultMessage:"Field shadowed by a runtime field with the same name."})};function X({field:e,allFields:t,isHighlighted:a,isDimmed:i,isCreateFieldFormVisible:n,areActionButtonsVisible:s,isLastItem:l,isShadowed:p=!1,childFieldsArray:m,maxNestedDepth:g,addField:b,editField:f,toggleExpand:j,treeDepth:h,state:O,isAddingFields:M,setPreviousState:y},v){const{source:E,isMultiField:k,canHaveChildFields:T,hasChildFields:F,canHaveMultiFields:S,hasMultiFields:_,isExpanded:C,path:L}=e,w=0===g?.5*u.c:0,I=h*u.c-w,D="semantic_text"===E.type,P=(h+1)*u.c+u.g-w,N=k?!l:S&&C,A=`${L.join("")}Field`;return Object(x.jsx)("li",{className:o()("mappingsEditor__fieldsListItem",{"mappingsEditor__fieldsListItem--dottedLine":N}),"data-test-subj":`fieldsListItem ${A}`,ref:v},Object(x.jsx)("div",{style:{paddingLeft:`${I}px`},className:o()("mappingsEditor__fieldsListItem__field",{"mappingsEditor__fieldsListItem__field--enabled":s,"mappingsEditor__fieldsListItem__field--highlighted":a,"mappingsEditor__fieldsListItem__field--dim":i})},Object(x.jsx)("div",{className:o()("mappingsEditor__fieldsListItem__wrapper",{"mappingsEditor__fieldsListItem__wrapper--indent":0===h&&0===g})},Object(x.jsx)(r.EuiFlexGroup,{gutterSize:"s",alignItems:"center",className:o()("mappingsEditor__fieldsListItem__content",{"mappingsEditor__fieldsListItem__content--toggle":F||_,"mappingsEditor__fieldsListItem__content--multiField":k,"mappingsEditor__fieldsListItem__content--indent":!F&&!_&&g>h})},(F||_)&&Object(x.jsx)(r.EuiFlexItem,{grow:!1,className:"mappingsEditor__fieldsListItem__toggle"},Object(x.jsx)(r.EuiButtonIcon,{color:"text",onClick:j,iconType:C?"arrowDown":"arrowRight","data-test-subj":"toggleExpandButton","aria-label":C?c.i18n.translate("xpack.idxMgmt.mappingsEditor.collapseFieldButtonLabel",{defaultMessage:"Collapse field {name}",values:{name:E.name}}):c.i18n.translate("xpack.idxMgmt.mappingsEditor.expandFieldButtonLabel",{defaultMessage:"Expand field {name}",values:{name:E.name}})})),k&&Object(x.jsx)(r.EuiFlexItem,{grow:!1,className:"mappingsEditor__fieldsListItem__icon"},Object(x.jsx)(r.EuiIcon,{color:"subdued",type:"documents"})),Object(x.jsx)(r.EuiFlexItem,{grow:!1,className:"mappingsEditor__fieldsListItem__name","data-test-subj":`fieldName ${A}-fieldName`},E.name),Object(x.jsx)(r.EuiFlexItem,{grow:!1},Object(x.jsx)(r.EuiBadge,{color:"hollow","data-test-subj":`${A}-datatype`,"data-type-value":E.type},k?c.i18n.translate("xpack.idxMgmt.mappingsEditor.multiFieldBadgeLabel",{defaultMessage:"{dataType} multi-field",values:{dataType:Object(d.r)(E)}}):Object(d.r)(E))),D&&Object(x.jsx)(r.EuiFlexItem,{grow:!1},Object(x.jsx)(r.EuiBadge,{color:"hollow"},E.inference_id)),p&&Object(x.jsx)(r.EuiFlexItem,{grow:!1},Object(x.jsx)(r.EuiToolTip,{content:K.fieldIsShadowedLabel},Object(x.jsx)(r.EuiBadge,{color:"warning","data-test-subj":"isShadowedIndicator"},c.i18n.translate("xpack.idxMgmt.mappingsEditor.shadowedBadgeLabel",{defaultMessage:"Shadowed"})))),Object(x.jsx)(r.EuiFlexItem,{grow:!1},(()=>{if(!s)return null;const{addMultiFieldButtonLabel:t,addPropertyButtonLabel:a,editButtonLabel:i,deleteButtonLabel:n}=K;return Object(x.jsx)(r.EuiFlexGroup,{gutterSize:"s",className:"mappingsEditor__fieldsListItem__actions"},S&&Object(x.jsx)(r.EuiFlexItem,{grow:!1},Object(x.jsx)(r.EuiToolTip,{content:t},Object(x.jsx)(r.EuiButtonIcon,{iconType:"documents",onClick:b,"data-test-subj":"addMultiFieldButton","aria-label":t}))),T&&Object(x.jsx)(r.EuiFlexItem,{grow:!1},Object(x.jsx)(r.EuiToolTip,{content:a},Object(x.jsx)(r.EuiButtonIcon,{iconType:"plusInCircle",onClick:b,"data-test-subj":"addPropertyButton","aria-label":a}))),Object(x.jsx)(r.EuiFlexItem,{grow:!1},Object(x.jsx)(r.EuiToolTip,{content:i},Object(x.jsx)(r.EuiButtonIcon,{iconType:"pencil",onClick:f,"data-test-subj":"editFieldButton","aria-label":i}))),Object(x.jsx)(r.EuiFlexItem,{grow:!1},Object(x.jsx)(Y.a,null,(t=>Object(x.jsx)(r.EuiToolTip,{content:n},Object(x.jsx)(r.EuiButtonIcon,{iconType:"trash",color:"danger",onClick:()=>t(e),"data-test-subj":"removeFieldButton","aria-label":n}))))))})())))),Boolean(m.length)&&C&&Object(x.jsx)(ee,{fields:m,treeDepth:h+1,state:O,isAddingFields:M,setPreviousState:y}),n?Object(x.jsx)(J,{allFields:t,isRootLevelField:!1,isMultiField:S,paddingLeft:P,maxNestedDepth:g,isAddingFields:M}):null)}const Q=n.a.memo(Object(i.forwardRef)(X)),Z=({fieldId:e,treeDepth:t,isLastItem:a,state:n,setPreviousState:l,isAddingFields:o})=>{const r=Object(s.b)(),c=Object(i.useRef)(null),{documentFields:{status:d,fieldToAddFieldTo:u,fieldToEdit:p},fields:{byId:m,maxNestedDepth:g,rootLevelFields:b},runtimeFields:f}=n,j=Object(i.useCallback)((e=>m[e]),[m]),h=Object.values(f).map((e=>e.source.name)),O=j(e),{childFields:M}=O,y=p===e,v="editingField"===d&&p!==e,E="creatingField"===d&&u===e,k="idle"===d,T=Object(i.useMemo)((()=>void 0!==M?M.map(j):[]),[M,j]),F=b.includes(e)&&h.includes(O.source.name),S=Object(i.useCallback)((()=>{r({type:"documentField.createField",value:e})}),[e,r]),_=Object(i.useCallback)((()=>{r({type:"documentField.editField",value:e})}),[e,r]),C=Object(i.useCallback)((()=>{if(o&&void 0!==l){const t=n.fields.byId[e],a={...t,isExpanded:!t.isExpanded};l({...n,fields:{...n.fields,byId:{...n.fields.byId,[e]:a}}})}else r({type:"field.toggleExpand",value:{fieldId:e}})}),[e,r,o,l,n]);return Object(x.jsx)(Q,{ref:c,field:O,allFields:m,treeDepth:t,isHighlighted:y,isDimmed:v,isShadowed:F,isCreateFieldFormVisible:E,areActionButtonsVisible:k,isLastItem:a,childFieldsArray:T,maxNestedDepth:g,addField:S,editField:_,setPreviousState:l,toggleExpand:C,state:n,isAddingFields:o})},ee=n.a.memo((function({fields:e,treeDepth:t,state:a,setPreviousState:i,isAddingFields:n}){return void 0===e?null:Object(x.jsx)("ul",{className:"mappingsEditor__fieldsList","data-test-subj":"fieldsList"},e.map(((s,l)=>Object(x.jsx)(Z,{key:s.id,fieldId:s.id,treeDepth:void 0===t?0:t,isLastItem:l===e.length-1,state:a,setPreviousState:i,isAddingFields:n}))))}));var te=a(76)},function(e,t,a){"use strict";a.d(t,"b",(function(){return j})),a.d(t,"a",(function(){return y})),a.d(t,"c",(function(){return v}));var i=a(5),n=a.n(i),s=a(8),l=a(9),o=a(128),r=a(78),c=a(112),d=a(92),u=a(49),p=a(70),m=a(113),g=a(2);const x=n.a.memo((({searchValue:e,onSearchChange:t})=>Object(g.jsx)(l.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(g.jsx)(l.EuiFlexItem,null,Object(g.jsx)(l.EuiText,{size:"s",color:"subdued"},Object(g.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.documentFieldsDescription",defaultMessage:"Define the fields for your indexed documents. {docsLink}",values:{docsLink:Object(g.jsx)(l.EuiLink,{href:p.a.getMappingTypesLink(),target:"_blank",external:!0},s.i18n.translate("xpack.idxMgmt.mappingsEditor.documentFieldsDocumentationLink",{defaultMessage:"Learn more."}))}}))),Object(g.jsx)(m.a,{searchValue:e,onSearchChange:t}))));var b=a(132),f=a(100);const j=n.a.memo((({onChange:e,value:t,docLinks:a,indexSettings:u,esNodesPlugins:p})=>{const{parsedDefaultValue:m,multipleMappingsDeclared:j}=Object(i.useMemo)((()=>Object(f.a)(t)),[t]);Object(c.a)({onChange:e,value:m});const{update:h}=Object(d.b)(),O=Object(r.c)(),[M,y]=Object(i.useState)("fields");Object(i.useEffect)((()=>{j&&e({getData:()=>t,validate:()=>Promise.resolve(!0),isValid:!0})}),[j,e,t]),Object(i.useEffect)((()=>{h({docLinks:a,indexSettings:null!=u?u:{}})}),[h,a,u]);const v=async e=>{if("advanced"===M){const{isValid:e}=await O.configuration.submitForm();if(!e)return}else if("templates"===M){const{isValid:e}=await O.templates.submitForm();if(!e)return}y(e)},E=Object(r.b)(),k=Object(i.useCallback)((e=>{E({type:"search:update",value:e})}),[E]),T={fields:Object(g.jsx)(o.b,{searchComponent:Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(x,{searchValue:O.search.term,onSearchChange:k}),Object(g.jsx)(l.EuiSpacer,{size:"m"})),searchResultComponent:""!==O.search.term.trim()?Object(g.jsx)(b.a,{result:O.search.result,documentFieldsState:O.documentFields}):void 0}),runtimeFields:Object(g.jsx)(o.d,null),templates:Object(g.jsx)(o.e,{value:O.templates.defaultValue}),advanced:Object(g.jsx)(o.a,{value:O.configuration.defaultValue,esNodesPlugins:p})};return Object(g.jsx)("div",{"data-test-subj":"mappingsEditor"},j?Object(g.jsx)(o.c,null):Object(g.jsx)("div",{className:"mappingsEditor"},Object(g.jsx)(l.EuiTabs,null,Object(g.jsx)(l.EuiTab,{onClick:()=>v("fields"),isSelected:"fields"===M,"data-test-subj":"formTab"},s.i18n.translate("xpack.idxMgmt.mappingsEditor.fieldsTabLabel",{defaultMessage:"Mapped fields"})),Object(g.jsx)(l.EuiTab,{onClick:()=>v("runtimeFields"),isSelected:"runtimeFields"===M,"data-test-subj":"formTab"},s.i18n.translate("xpack.idxMgmt.mappingsEditor.runtimeFieldsTabLabel",{defaultMessage:"Runtime fields"})),Object(g.jsx)(l.EuiTab,{onClick:()=>v("templates"),isSelected:"templates"===M,"data-test-subj":"formTab"},s.i18n.translate("xpack.idxMgmt.mappingsEditor.templatesTabLabel",{defaultMessage:"Dynamic templates"})),Object(g.jsx)(l.EuiTab,{onClick:()=>v("advanced"),isSelected:"advanced"===M,"data-test-subj":"formTab"},s.i18n.translate("xpack.idxMgmt.mappingsEditor.advancedTabLabel",{defaultMessage:"Advanced options"}))),Object(g.jsx)(l.EuiSpacer,{size:"l"}),T[M]))}));var h=a(68),O=a(69);const M=({onJson:e,esNodesPlugins:t,children:a})=>{var o,r;const[c,d]=Object(i.useState)({isModalOpen:!1}),[p,m]=Object(i.useState)(1),x=Object(i.useRef)(),b=void 0!==c.json&&void 0!==c.errors?"validationResult":"json",f=((e,t=0)=>({modalTitle:s.i18n.translate("xpack.idxMgmt.mappingsEditor.loadJsonModalTitle",{defaultMessage:"Load JSON"}),buttons:{confirm:"json"===e?s.i18n.translate("xpack.idxMgmt.mappingsEditor.loadJsonModal.loadButtonLabel",{defaultMessage:"Load and overwrite"}):s.i18n.translate("xpack.idxMgmt.mappingsEditor.loadJsonModal.acceptWarningLabel",{defaultMessage:"Continue loading"}),cancel:"json"===e?s.i18n.translate("xpack.idxMgmt.mappingsEditor.loadJsonModal.cancelButtonLabel",{defaultMessage:"Cancel"}):s.i18n.translate("xpack.idxMgmt.mappingsEditor.loadJsonModal.goBackButtonLabel",{defaultMessage:"Go back"})},editor:{label:s.i18n.translate("xpack.idxMgmt.mappingsEditor.loadJsonModal.jsonEditorLabel",{defaultMessage:"Mappings object"})},validationErrors:{title:Object(g.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.loadJsonModal.validationErrorTitle",defaultMessage:"{totalErrors} {totalErrors, plural, one {invalid option} other {invalid options}} detected in {mappings} object",values:{totalErrors:t,mappings:Object(g.jsx)("code",null,"mappings")}}),description:s.i18n.translate("xpack.idxMgmt.mappingsEditor.loadJsonModal.validationErrorDescription",{defaultMessage:"If you continue loading the object, only valid options will be accepted."})}}))(b,null===(o=c.errors)||void 0===o?void 0:o.length),j=Object(i.useCallback)((e=>{x.current=e}),[]),M=()=>{d({isModalOpen:!1})};return Object(g.jsx)(n.a.Fragment,null,a((()=>{d({isModalOpen:!0})})),c.isModalOpen&&Object(g.jsx)(l.EuiConfirmModal,{title:f.modalTitle,onCancel:()=>{"json"===b?M():d({isModalOpen:!0,json:c.json})},onConfirm:()=>{"json"===b?(()=>{if(void 0===x.current)return e({}),void M();if(x.current.validate()){const a=x.current.data.format(),{value:i,errors:n}=Object(O.z)(a,t);if(n)return void d({isModalOpen:!0,json:{unparsed:a,parsed:i},errors:n});e(i),M()}})():(e(c.json.parsed),M())},cancelButtonText:f.buttons.cancel,confirmButtonText:f.buttons.confirm,maxWidth:600},"json"===b?Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(l.EuiText,{color:"subdued"},Object(g.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.loadJsonModal.jsonEditorHelpText",defaultMessage:"Provide a mappings object, for example, the object assigned to an index {mappings} property. This will overwrite existing mappings, dynamic templates, and options.",values:{mappings:Object(g.jsx)("code",null,"mappings")}})),Object(g.jsx)(l.EuiSpacer,{size:"m"}),Object(g.jsx)(h.i,{label:f.editor.label,onUpdate:j,defaultValue:null===(r=c.json)||void 0===r?void 0:r.unparsed,codeEditorProps:{height:"450px"}})):Object(g.jsx)(n.a.Fragment,null,Object(g.jsx)(l.EuiCallOut,{title:f.validationErrors.title,iconType:"warning",color:"warning"},Object(g.jsx)(l.EuiText,null,Object(g.jsx)("p",null,f.validationErrors.description)),Object(g.jsx)(l.EuiSpacer,null),Object(g.jsx)("ol",null,c.errors.slice(0,p).map(((e,t)=>Object(g.jsx)("li",{key:t},(e=>{switch(e.code){case"ERR_CONFIG":return Object(g.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.loadJsonModal.validationError.configurationMessage",defaultMessage:"The {configName} configuration is invalid.",values:{configName:Object(g.jsx)("code",null,e.configName)}});case"ERR_FIELD":return Object(g.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.loadJsonModal.validationError.fieldMessage",defaultMessage:"The {fieldPath} field is invalid.",values:{fieldPath:Object(g.jsx)("code",null,e.fieldPath)}});case"ERR_PARAMETER":return Object(g.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.loadJsonModal.validationError.parameterMessage",defaultMessage:"The {paramName} parameter on field {fieldPath} is invalid.",values:{paramName:Object(g.jsx)("code",null,e.paramName),fieldPath:Object(g.jsx)("code",null,e.fieldPath)}})}})(e))))),c.errors.length>1&&(()=>{const e=p>1;return Object(g.jsx)(l.EuiButtonEmpty,{onClick:()=>m(e?1:c.errors.length),iconType:e?"arrowUp":"arrowDown"},e?s.i18n.translate("xpack.idxMgmt.mappingsEditor.hideErrorsButtonLabel",{defaultMessage:"Hide errors"}):s.i18n.translate("xpack.idxMgmt.mappingsEditor.showAllErrorsButtonLabel",{defaultMessage:"Show {numErrors} more errors",values:{numErrors:c.errors.length-1}}))})()))))},y=({onJson:e,esNodesPlugins:t})=>Object(g.jsx)(M,{onJson:e,esNodesPlugins:t},(e=>Object(g.jsx)(l.EuiButtonEmpty,{onClick:e,size:"s"},s.i18n.translate("xpack.idxMgmt.mappingsEditor.loadFromJsonButtonLabel",{defaultMessage:"Load JSON"})))),v=({children:e})=>Object(g.jsx)(r.a,null,Object(g.jsx)(d.a,null,e))},function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var i=a(8);const n=e=>{var t;if(function(e){var t;return e&&void 0!==(null===(t=e.error)||void 0===t?void 0:t.reason)}(e))return{message:null!==(t=e.error.reason)&&void 0!==t?t:"",statusCode:e.status,fullError:e};if(function(e){return"string"==typeof e}(e))return{message:e};if(function(e){return!0===(null==e?void 0:e.isBoom)}(e))return{message:e.output.payload.message,statusCode:e.output.payload.statusCode};if(void 0===(null==e?void 0:e.body)&&(null==e||!e.message))return{message:""};if("string"==typeof e.body)return{message:e.body};if(function(e){return"object"==typeof e.body&&"message"in e.body}(e)){var a,i;if("object"==typeof e.body.attributes&&"string"==typeof(null===(a=e.body.attributes.body)||void 0===a||null===(i=a.error)||void 0===i?void 0:i.reason)){var n,s,l;const t={message:e.body.attributes.body.error.reason,statusCode:e.body.statusCode,fullError:e.body.attributes.body};var o,r,c;return"object"!=typeof e.body.attributes.body.error.caused_by||"string"!=typeof(null===(n=e.body.attributes.body.error.caused_by)||void 0===n?void 0:n.reason)&&"string"!=typeof(null===(s=e.body.attributes.body.error.caused_by)||void 0===s||null===(l=s.caused_by)||void 0===l?void 0:l.reason)||(t.causedBy=(null===(o=e.body.attributes.body.error.caused_by)||void 0===o||null===(r=o.caused_by)||void 0===r?void 0:r.reason)||(null===(c=e.body.attributes.body.error.caused_by)||void 0===c?void 0:c.reason)),Array.isArray(e.body.attributes.body.error.root_cause)&&"object"==typeof e.body.attributes.body.error.root_cause[0]&&((e,t=[])=>"object"==typeof e&&null!==e&&Object.keys(e).length>0&&(0===t.length||t.every((t=>({}.hasOwnProperty.call(e,t))))))(e.body.attributes.body.error.root_cause[0],["script"])&&(t.causedBy=e.body.attributes.body.error.root_cause[0].script,t.message+=`: '${e.body.attributes.body.error.root_cause[0].script}'`),t}return{message:e.body.message,statusCode:e.body.statusCode}}return function(e){return e&&void 0!==e.message&&"string"==typeof e.message}(e)?{message:e.message}:{message:""}};class MLRequestFailure extends Error{constructor(e,t){if(super(e.message),Object.setPrototypeOf(this,new.target.prototype),"string"!=typeof t&&void 0!==t)if("body"in t)this.stack=JSON.stringify(t.body,null,2);else try{this.stack=JSON.stringify(t,null,2)}catch(e){}}}var s=a(80);function l(){const{toasts:e}=Object(s.c)();return{showSuccessToasts:t=>e.addSuccess({title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.createField.modelDeploymentStartedNotification",{defaultMessage:"Model deployment started"}),text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.createField.modelDeploymentNotification",{defaultMessage:"Model {modelName} is being deployed on your machine learning node.",values:{modelName:t}})}),showErrorToasts:t=>{const a=n(t);return e.addError(new MLRequestFailure(a,t),{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.createField.modelDeploymentErrorTitle",{defaultMessage:"Model deployment failed"})})},showSuccessfullyDeployedToast:t=>e.addSuccess({title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.createField.modelDeploymentStartedNotification",{defaultMessage:"Model deployment started"}),text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.createField.modelDeployedNotification",{defaultMessage:"Model {modelName} has been deployed on your machine learning node.",values:{modelName:t}})})}}},,function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a(5);var i=a(9),n=a(2);const s=({children:e,padding:t="normal"})=>Object(n.jsx)(i.EuiCodeBlock,{paddingSize:"normal"===t?"l":"s"},e)},function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a(5);var i=a(9),n=a(8),s=a(2);const l=()=>{const e=n.i18n.translate("xpack.idxMgmt.mappingsEditor.fieldBetaBadgeLabel",{defaultMessage:"Beta"}),t=n.i18n.translate("xpack.idxMgmt.mappingsEditor.fieldBetaBadgeTooltip",{defaultMessage:"This field type is not GA. Please help us by reporting any bugs."});return Object(s.jsx)(i.EuiBetaBadge,{label:e,tooltipContent:t})}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.apS=t.apSW=t.bind=t.bindW=t.bindTo=t.exists=t.elem=t.toError=t.either=t.getValidationMonoid=t.MonadThrow=t.ChainRec=t.Extend=t.Alt=t.Bifunctor=t.Traversable=t.Foldable=t.Monad=t.Applicative=t.Functor=t.getValidationSemigroup=t.getValidation=t.getAltValidation=t.getApplicativeValidation=t.getWitherable=t.getFilterable=t.getApplyMonoid=t.getApplySemigroup=t.getSemigroup=t.getEq=t.getShow=t.URI=t.throwError=t.sequence=t.traverse=t.reduceRight=t.foldMap=t.reduce=t.duplicate=t.extend=t.alt=t.flatten=t.chainFirst=t.chainFirstW=t.chain=t.chainW=t.of=t.apSecond=t.apFirst=t.ap=t.apW=t.mapLeft=t.bimap=t.map=t.filterOrElse=t.orElse=t.swap=t.getOrElse=t.getOrElseW=t.fold=t.fromPredicate=t.fromOption=t.stringifyJSON=t.parseJSON=t.tryCatch=t.fromNullable=t.right=t.left=t.isRight=t.isLeft=void 0;var i=a(138),n=a(93);function s(e,a){try{return t.right(e())}catch(e){return t.left(a(e))}}t.isLeft=function(e){return"Left"===e._tag},t.isRight=function(e){return"Right"===e._tag},t.left=function(e){return{_tag:"Left",left:e}},t.right=function(e){return{_tag:"Right",right:e}},t.fromNullable=function(e){return function(a){return null==a?t.left(e):t.right(a)}},t.tryCatch=s,t.parseJSON=function(e,t){return s((function(){return JSON.parse(e)}),t)},t.stringifyJSON=function(e,t){return s((function(){return JSON.stringify(e)}),t)},t.fromOption=function(e){return function(a){return"None"===a._tag?t.left(e()):t.right(a.value)}},t.fromPredicate=function(e,a){return function(i){return e(i)?t.right(i):t.left(a(i))}},t.fold=function(e,a){return function(i){return t.isLeft(i)?e(i.left):a(i.right)}},t.getOrElseW=function(e){return function(a){return t.isLeft(a)?e(a.left):a.right}},t.getOrElse=t.getOrElseW,t.swap=function(e){return t.isLeft(e)?t.right(e.left):t.left(e.right)},t.orElse=function(e){return function(a){return t.isLeft(a)?e(a.left):a}},t.filterOrElse=function(e,a){return t.chain((function(i){return e(i)?t.right(i):t.left(a(i))}))};var l=function(e,a){return n.pipe(e,t.map(a))},o=function(e,a){return n.pipe(e,t.ap(a))},r=function(e,a){return n.pipe(e,t.chain(a))},c=function(e,a,i){return n.pipe(e,t.reduce(a,i))},d=function(e){return function(a,i){var s=t.foldMap(e);return n.pipe(a,s(i))}},u=function(e,a,i){return n.pipe(e,t.reduceRight(a,i))},p=function(e){var a=t.traverse(e);return function(e,t){return n.pipe(e,a(t))}},m=function(e,a,i){return n.pipe(e,t.bimap(a,i))},g=function(e,a){return n.pipe(e,t.mapLeft(a))},x=function(e,a){return n.pipe(e,t.alt(a))},b=function(e,a){return n.pipe(e,t.extend(a))},f=function(e,a){return i.tailRec(a(e),(function(e){return t.isLeft(e)?t.right(t.left(e.left)):t.isLeft(e.right)?t.left(a(e.right.left)):t.right(t.right(e.right.right))}))};function j(e){return{concat:function(a,i){return t.isLeft(a)?a:t.isLeft(i)?i:t.right(e.concat(a.right,i.right))}}}function h(e){var a=t.left(e.empty);return{URI:t.URI,_E:void 0,map:l,compact:function(e){return t.isLeft(e)?e:"None"===e.right._tag?a:t.right(e.right.value)},separate:function(e){return t.isLeft(e)?{left:e,right:e}:t.isLeft(e.right)?{left:t.right(e.right.left),right:a}:{left:a,right:t.right(e.right.right)}},filter:function(e,i){return t.isLeft(e)||i(e.right)?e:a},filterMap:function(e,i){if(t.isLeft(e))return e;var n=i(e.right);return"None"===n._tag?a:t.right(n.value)},partition:function(e,i){return t.isLeft(e)?{left:e,right:e}:i(e.right)?{left:a,right:t.right(e.right)}:{left:t.right(e.right),right:a}},partitionMap:function(e,i){if(t.isLeft(e))return{left:e,right:e};var n=i(e.right);return t.isLeft(n)?{left:t.right(n.left),right:a}:{left:a,right:t.right(n.right)}}}}function O(e){return{URI:t.URI,_E:void 0,map:l,ap:function(a,i){return t.isLeft(a)?t.isLeft(i)?t.left(e.concat(a.left,i.left)):a:t.isLeft(i)?i:t.right(a.right(i.right))},of:t.of}}function M(e){return{URI:t.URI,_E:void 0,map:l,alt:function(a,i){if(t.isRight(a))return a;var n=i();return t.isLeft(n)?t.left(e.concat(a.left,n.left)):n}}}function y(e,a){return{concat:function(i,n){return t.isLeft(i)?t.isLeft(n)?t.left(e.concat(i.left,n.left)):i:t.isLeft(n)?n:t.right(a.concat(i.right,n.right))}}}t.map=function(e){return function(a){return t.isLeft(a)?a:t.right(e(a.right))}},t.bimap=function(e,a){return function(i){return t.isLeft(i)?t.left(e(i.left)):t.right(a(i.right))}},t.mapLeft=function(e){return function(a){return t.isLeft(a)?t.left(e(a.left)):a}},t.apW=function(e){return function(a){return t.isLeft(a)?a:t.isLeft(e)?e:t.right(a.right(e.right))}},t.ap=t.apW,t.apFirst=function(e){return n.flow(t.map((function(e){return function(){return e}})),t.ap(e))},t.apSecond=function(e){return n.flow(t.map((function(){return function(e){return e}})),t.ap(e))},t.of=t.right,t.chainW=function(e){return function(a){return t.isLeft(a)?a:e(a.right)}},t.chain=t.chainW,t.chainFirstW=function(e){return function(a){return n.pipe(a,t.chainW((function(a){return n.pipe(e(a),t.map((function(){return a})))})))}},t.chainFirst=t.chainFirstW,t.flatten=t.chain(n.identity),t.alt=function(e){return function(a){return t.isLeft(a)?e():a}},t.extend=function(e){return function(a){return t.isLeft(a)?a:t.right(e(a))}},t.duplicate=t.extend(n.identity),t.reduce=function(e,a){return function(i){return t.isLeft(i)?e:a(e,i.right)}},t.foldMap=function(e){return function(a){return function(i){return t.isLeft(i)?e.empty:a(i.right)}}},t.reduceRight=function(e,a){return function(i){return t.isLeft(i)?e:a(i.right,e)}},t.traverse=function(e){return function(a){return function(i){return t.isLeft(i)?e.of(t.left(i.left)):e.map(a(i.right),t.right)}}},t.sequence=function(e){return function(a){return t.isLeft(a)?e.of(t.left(a.left)):e.map(a.right,t.right)}},t.throwError=t.left,t.URI="Either",t.getShow=function(e,a){return{show:function(i){return t.isLeft(i)?"left("+e.show(i.left)+")":"right("+a.show(i.right)+")"}}},t.getEq=function(e,a){return{equals:function(i,n){return i===n||(t.isLeft(i)?t.isLeft(n)&&e.equals(i.left,n.left):t.isRight(n)&&a.equals(i.right,n.right))}}},t.getSemigroup=function(e){return{concat:function(a,i){return t.isLeft(i)?a:t.isLeft(a)?i:t.right(e.concat(a.right,i.right))}}},t.getApplySemigroup=j,t.getApplyMonoid=function(e){return{concat:j(e).concat,empty:t.right(e.empty)}},t.getFilterable=h,t.getWitherable=function(e){var a=h(e);return{URI:t.URI,_E:void 0,map:l,compact:a.compact,separate:a.separate,filter:a.filter,filterMap:a.filterMap,partition:a.partition,partitionMap:a.partitionMap,traverse:p,sequence:t.sequence,reduce:c,foldMap:d,reduceRight:u,wither:function(e){var t=p(e);return function(i,n){return e.map(t(i,n),a.compact)}},wilt:function(e){var t=p(e);return function(i,n){return e.map(t(i,n),a.separate)}}}},t.getApplicativeValidation=O,t.getAltValidation=M,t.getValidation=function(e){var a=O(e),i=M(e);return{URI:t.URI,_E:void 0,map:l,of:t.of,chain:r,bimap:m,mapLeft:g,reduce:c,foldMap:d,reduceRight:u,extend:b,traverse:p,sequence:t.sequence,chainRec:f,throwError:t.throwError,ap:a.ap,alt:i.alt}},t.getValidationSemigroup=y,t.Functor={URI:t.URI,map:l},t.Applicative={URI:t.URI,map:l,ap:o,of:t.of},t.Monad={URI:t.URI,map:l,ap:o,of:t.of,chain:r},t.Foldable={URI:t.URI,reduce:c,foldMap:d,reduceRight:u},t.Traversable={URI:t.URI,map:l,reduce:c,foldMap:d,reduceRight:u,traverse:p,sequence:t.sequence},t.Bifunctor={URI:t.URI,bimap:m,mapLeft:g},t.Alt={URI:t.URI,map:l,alt:x},t.Extend={URI:t.URI,map:l,extend:b},t.ChainRec={URI:t.URI,map:l,ap:o,chain:r,chainRec:f},t.MonadThrow={URI:t.URI,map:l,ap:o,of:t.of,chain:r,throwError:t.throwError},t.getValidationMonoid=function(e,a){return{concat:y(e,a).concat,empty:t.right(a.empty)}},t.either={URI:t.URI,map:l,of:t.of,ap:o,chain:r,reduce:c,foldMap:d,reduceRight:u,traverse:p,sequence:t.sequence,bimap:m,mapLeft:g,alt:x,extend:b,chainRec:f,throwError:t.throwError},t.toError=function(e){return e instanceof Error?e:new Error(String(e))},t.elem=function(e){return function(a,i){return!t.isLeft(i)&&e.equals(a,i.right)}},t.exists=function(e){return function(a){return!t.isLeft(a)&&e(a.right)}},t.bindTo=function(e){return t.map(n.bindTo_(e))},t.bindW=function(e,a){return t.chainW((function(i){return n.pipe(a(i),t.map((function(t){return n.bind_(i,e,t)})))}))},t.bind=t.bindW,t.apSW=function(e,a){return n.flow(t.map((function(t){return function(a){return n.bind_(t,e,a)}})),t.apW(a))},t.apS=t.apSW},function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var i=a(5),n=a(50),s=a(69),l=a(78),o=a(74);const r=({onChange:e,value:t,status:a})=>{const r=Object(l.c)(),c=Object(l.b)(),{fields:d,runtime:u}=null!=t?t:{},p=Object(i.useMemo)((()=>Object(s.t)(d)),[d]),m=Object(i.useMemo)((()=>Object(s.u)(u)),[u]),g=Object(i.useMemo)((()=>Object(s.l)(Object(s.c)(Object(s.t)(d))).map((e=>({checked:void 0,label:o.o[e].label,"data-test-subj":`indexDetailsMappingsSelectFilter-${e}`})))),[d]);Object(i.useEffect)((()=>{const t=void 0!==r.fieldForm&&(void 0===r.fieldForm.data.internal.name||""===r.fieldForm.data.internal.name.trim()),a="creatingField"===r.documentFields.status&&t;e&&e({getData:()=>{const e="json"===r.documentFields.editor?r.fieldsJsonEditor.format():Object(s.c)(r.fields),t=Object(s.d)(r.runtimeFields),a=r.configuration.data.format(),i=r.templates.data.format(),n={...Object(s.x)({...a,...i})};return e&&Object.keys(e).length>0&&(n.properties=e),t&&Object.keys(t).length>0&&(n.runtime=t),Object.keys(n).length>0?n:void 0},validate:async()=>{const e=[void 0!==r.configuration.submitForm?new Promise((async(e,t)=>{try{const{isValid:t}=await r.configuration.submitForm();e(t)}catch(e){t(e)}})):Promise.resolve(!0),void 0!==r.templates.submitForm?new Promise((async(e,t)=>{try{const{isValid:t}=await r.templates.submitForm();e(t)}catch(e){t(e)}})):Promise.resolve(!0)];return void 0===r.fieldForm||a||e.push(r.fieldForm.validate()),Promise.all(e).then((e=>{const t=e.every(Boolean)&&r.fieldsJsonEditor.isValid;return c({type:"validity:update",value:t}),t}))},isValid:r.isValid})}),[r,e,c]),Object(i.useEffect)((()=>{var e,i;void 0!==t&&(c({type:"editor.replaceMappings",value:{configuration:t.configuration,templates:t.templates,fields:p,documentFields:{status:(e=a,i=p.rootLevelFields,e||(0===i.length?"creatingField":"idle")),editor:"default"},runtimeFields:m,filter:{selectedOptions:g,filteredFields:Object(s.o)(p),selectedDataTypes:[]}}}),c({type:"editor.replaceViewMappings",value:{fields:Object(n.cloneDeep)(p)}}))}),[t,p,c,a,m,g])}},function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var i=a(5),n=a.n(i),s=a(9),l=a(8),o=a(2);const r=n.a.memo((({searchValue:e,onSearchChange:t,disabled:a=!1})=>Object(o.jsx)(s.EuiFlexItem,{grow:!1},Object(o.jsx)(s.EuiFieldSearch,{disabled:a,fullWidth:!0,placeholder:l.i18n.translate("xpack.idxMgmt.mappingsEditor.documentFields.searchFieldsPlaceholder",{defaultMessage:"Search fields"}),value:e,onChange:e=>{t("string"==typeof e?e:e.target.value)},"aria-label":l.i18n.translate("xpack.idxMgmt.mappingsEditor.documentFields.searchFieldsAriaLabel",{defaultMessage:"Search mapped fields"}),"data-test-subj":"indexDetailsMappingsFieldSearch"}))))},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return 0===e.length}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return e.toString()}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return"string"==typeof e}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return null==e}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var i,n=(i=a(174))&&i.__esModule?i:{default:i};t.default=function(e){return-1===e.indexOf("/")?(0,n.default)(e):e.split("/").map(n.default).join("/")}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var i=a(90),n=l(a(103)),s=l(a(120));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return function t(a,l,o,r){var c=void 0===l?{}:l,d=c.namespace,u=void 0===d?i.DEFAULT_NAMESPACE:d,p=c.prefix;return void 0===o&&(o={}),void 0===r&&(r=""),(0,n.default)(a).forEach((function(n){var l=function(e){return r||!p||p&&new RegExp("^"+p+u).test(e)?e:""+p+u+e}(function(e){var t;if(!r)return e;var a=e.toString().split(i.ACTION_TYPE_DELIMITER),n=r.split(i.ACTION_TYPE_DELIMITER);return(t=[]).concat.apply(t,n.map((function(e){return a.map((function(t){return""+e+u+t}))}))).join(i.ACTION_TYPE_DELIMITER)}(n)),c=(0,s.default)(n,a);e(c)?t(c,{namespace:u,prefix:p},o,l):o[l]=c})),o}}},function(e,t,a){"use strict";t.__esModule=!0,t.default=function(e,t){return(0,n.default)(t)?t.get(e):t[e]};var i,n=(i=a(97))&&i.__esModule?i:{default:i}},function(e,t,a){"use strict";t.__esModule=!0,t.default=function(e,t,a){void 0===t&&(t=l.default);var u=(0,c.default)(e).split(d.ACTION_TYPE_DELIMITER);(0,i.default)(!(0,r.default)(a),"defaultState for reducer handling "+u.join(", ")+" should be defined"),(0,i.default)((0,n.default)(t)||(0,s.default)(t),"Expected reducer to be a function or object with next and throw reducers");var p=(0,n.default)(t)?[t,t]:[t.next,t.throw].map((function(e){return(0,o.default)(e)?l.default:e})),m=p[0],g=p[1];return function(e,t){void 0===e&&(e=a);var i=t.type;return i&&-1!==u.indexOf((0,c.default)(i))?(!0===t.error?g:m)(e,t):e}};var i=u(a(89)),n=u(a(96)),s=u(a(91)),l=u(a(102)),o=u(a(117)),r=u(a(182)),c=u(a(115)),d=a(90);function u(e){return e&&e.__esModule?e:{default:e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDeepEqual=t.off=t.on=t.isClient=void 0;var i=a(35).__importDefault(a(188));t.isClient="object"==typeof window,t.on=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return e.addEventListener.apply(e,t)},t.off=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return e.removeEventListener.apply(e,t)},t.isDeepEqual=i.default},function(e,t,a){"use strict";e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},function(e,t,a){e.exports=a.p+"1cbd62546f764080f7071e03889e9de3.svg"},function(e,t,a){"use strict";e.exports=a(199)},function(e,t,a){"use strict";e.exports=a(206)},function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(223);case"v8light":return a(225)}},function(e,t,a){"use strict";a.d(t,"a",(function(){return T})),a.d(t,"b",(function(){return w})),a.d(t,"d",(function(){return U})),a.d(t,"e",(function(){return H})),a.d(t,"c",(function(){return J.a}));var i=a(5),n=a.n(i),s=a(9),l=a(72),o=a(68),r=a(74),c=a(78),d=a(8),u=a(49),p=a(70),m=a(2);const g=Object(o.y)({component:o.d}),x=()=>Object(m.jsx)(o.g,{title:d.i18n.translate("xpack.idxMgmt.mappingsEditor.dynamicMappingTitle",{defaultMessage:"Dynamic mapping"}),description:Object(m.jsx)(n.a.Fragment,null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dynamicMappingDescription",defaultMessage:"Dynamic mapping allows an index template to interpret unmapped fields. {docsLink}",values:{docsLink:Object(m.jsx)(s.EuiLink,{href:p.a.getDynamicMappingLink(),target:"_blank"},d.i18n.translate("xpack.idxMgmt.mappingsEditor.dynamicMappingDocumentionLink",{defaultMessage:"Learn more."}))}}),Object(m.jsx)(s.EuiSpacer,{size:"m"}),Object(m.jsx)(g,{path:"dynamicMapping.enabled",component:o.r,componentProps:{"data-test-subj":"dynamicMappingsToggle"}}))},Object(m.jsx)(o.f,{pathsToWatch:["dynamicMapping.enabled","dynamicMapping.date_detection"]},(e=>{const{dynamicMapping:{enabled:t,date_detection:a}}=e;return void 0===t?null:t?Object(m.jsx)(n.a.Fragment,null,Object(m.jsx)(g,{key:"numericDetectionToggle",path:"dynamicMapping.numeric_detection",componentProps:{"data-test-subj":"numericDetection"}}),Object(m.jsx)(g,{path:"dynamicMapping.date_detection"}),a&&Object(m.jsx)(g,{path:"dynamicMapping.dynamic_date_formats",componentProps:{euiFieldProps:{options:r.b,noSuggestions:!1}}})):Object(m.jsx)(g,{key:"throwErrorsCheckBox",path:"dynamicMapping.throwErrorsForUnmappedFields",component:o.a})}))),b=()=>Object(m.jsx)(o.g,{title:d.i18n.translate("xpack.idxMgmt.mappingsEditor.sourceFieldTitle",{defaultMessage:"_source field"}),description:Object(m.jsx)(n.a.Fragment,null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.sourceFieldDescription",defaultMessage:"The _source field contains the original JSON document body that was provided at index time. Individual fields can be pruned by defining which ones to include or exclude from the _source field. {docsLink}",values:{docsLink:Object(m.jsx)(s.EuiLink,{href:p.a.getMappingSourceFieldLink(),target:"_blank"},d.i18n.translate("xpack.idxMgmt.mappingsEditor.sourceFieldDocumentionLink",{defaultMessage:"Learn more."}))}}),Object(m.jsx)(s.EuiSpacer,{size:"m"}),Object(m.jsx)(o.t,{path:"sourceField.enabled",component:o.r}))},Object(m.jsx)(o.f,{pathsToWatch:["sourceField.enabled"]},(e=>{const{sourceField:{enabled:t}}=e;return void 0===t?null:t?Object(m.jsx)("div",{"data-test-subj":"sourceField"},Object(m.jsx)(o.t,{path:"sourceField.includes"},(({label:e,helpText:t,value:a,setValue:i})=>Object(m.jsx)(s.EuiFormRow,{label:e,helpText:t,fullWidth:!0},Object(m.jsx)(s.EuiComboBox,{noSuggestions:!0,placeholder:d.i18n.translate("xpack.idxMgmt.mappingsEditor.sourceIncludeField.placeholderLabel",{defaultMessage:"path.to.field.*"}),selectedOptions:a,onChange:e=>{i(e)},onCreateOption:e=>{const t={label:e};i([...a,t])},fullWidth:!0,"data-test-subj":"includesField"})))),Object(m.jsx)(s.EuiSpacer,{size:"m"}),Object(m.jsx)(o.t,{path:"sourceField.excludes"},(({label:e,helpText:t,value:a,setValue:i})=>Object(m.jsx)(s.EuiFormRow,{label:e,helpText:t,fullWidth:!0},Object(m.jsx)(s.EuiComboBox,{noSuggestions:!0,placeholder:d.i18n.translate("xpack.idxMgmt.mappingsEditor.sourceExcludeField.placeholderLabel",{defaultMessage:"path.to.field.*"}),selectedOptions:a,onChange:e=>{i(e)},onCreateOption:e=>{const t={label:e};i([...a,t])},fullWidth:!0,"data-test-subj":"excludesField"}))))):Object(m.jsx)(s.EuiCallOut,{title:d.i18n.translate("xpack.idxMgmt.mappingsEditor.disabledSourceFieldCallOutTitle",{defaultMessage:"Use caution when disabling the _source field"}),iconType:"warning",color:"warning"},Object(m.jsx)("p",null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.disabledSourceFieldCallOutDescription1",defaultMessage:"Disabling {source} lowers storage overhead within the index, but this comes at a cost. It also disables important features, such as the ability to reindex or debug queries by viewing the original document.",values:{source:Object(m.jsx)("code",null,d.i18n.translate("xpack.idxMgmt.mappingsEditor.disabledSourceFieldCallOutDescription1.sourceText",{defaultMessage:"_source"}))}})),Object(m.jsx)("p",null,Object(m.jsx)("a",{href:p.a.getDisablingMappingSourceFieldLink(),target:"_blank",rel:"noopener noreferrer"},Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.disabledSourceFieldCallOutDescription2",defaultMessage:"Learn more about alternatives to disabling the {source} field.",values:{source:Object(m.jsx)("code",null,d.i18n.translate("xpack.idxMgmt.mappingsEditor.disabledSourceFieldCallOutDescription2.sourceText",{defaultMessage:"_source"}))}}))))}))),f=Object(o.y)({component:o.d}),j=()=>Object(m.jsx)(o.g,{title:d.i18n.translate("xpack.idxMgmt.mappingsEditor.metaFieldTitle",{defaultMessage:"_meta field"}),description:Object(m.jsx)(n.a.Fragment,null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.metaFieldDescription",defaultMessage:"Use the _meta field to store any metadata you want. {docsLink}",values:{docsLink:Object(m.jsx)(s.EuiLink,{href:p.a.getMetaFieldLink(),target:"_blank"},d.i18n.translate("xpack.idxMgmt.mappingsEditor.metaFieldDocumentionLink",{defaultMessage:"Learn more."}))}}))},Object(m.jsx)(f,{path:"metaField",component:o.j,componentProps:{codeEditorProps:{height:"400px","aria-label":d.i18n.translate("xpack.idxMgmt.mappingsEditor.metaFieldEditorAriaLabel",{defaultMessage:"_meta field data editor"}),"data-test-subj":"metaField"}}})),h=()=>Object(m.jsx)(o.g,{title:d.i18n.translate("xpack.idxMgmt.mappingsEditor.routingTitle",{defaultMessage:"_routing"}),description:Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.routingDescription",defaultMessage:"A document can be routed to a particular shard in an index. When using custom routing, it is important to provide the routing value whenever indexing a document as otherwise this could lead to a document being indexed on more than one shard. {docsLink}",values:{docsLink:Object(m.jsx)(s.EuiLink,{href:p.a.getRoutingLink(),target:"_blank"},d.i18n.translate("xpack.idxMgmt.mappingsEditor.routingDocumentionLink",{defaultMessage:"Learn more."}))}})},Object(m.jsx)(o.t,{path:"_routing.required",component:o.r,componentProps:{"data-test-subj":"routingRequiredToggle"}})),O=()=>Object(m.jsx)(o.g,{title:d.i18n.translate("xpack.idxMgmt.mappingsEditor.sizeTitle",{defaultMessage:"_size"}),description:Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.sizeDescription",defaultMessage:"The Mapper Size plugin can index the size of the original {_source} field. {docsLink}",values:{docsLink:Object(m.jsx)(s.EuiLink,{href:p.a.docLinks.plugins.mapperSize,target:"_blank"},d.i18n.translate("xpack.idxMgmt.mappingsEditor.sizeDocumentionLink",{defaultMessage:"Learn more."})),_source:Object(m.jsx)(s.EuiCode,null,"_source")}})},Object(m.jsx)(o.t,{path:"_size.enabled",component:o.r,componentProps:{"data-test-subj":"sizeEnabledToggle"}})),M=()=>Object(m.jsx)(o.g,{title:d.i18n.translate("xpack.idxMgmt.mappingsEditor.subobjectsTitle",{defaultMessage:"subobjects"}),description:Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.subobjectsDescription",defaultMessage:"The {subobjectsParameter} setting, when set to {false}, disables the ability for an object to hold further subobjects and makes it possible to store documents where field names contain dots and share common prefixes. {docsLink}",values:{subobjectsParameter:Object(m.jsx)(s.EuiCode,null,d.i18n.translate("xpack.idxMgmt.mappingsEditor.subobjectsParameterName",{defaultMessage:"subobjects"})),false:Object(m.jsx)(s.EuiCode,null,d.i18n.translate("xpack.idxMgmt.mappingsEditor.subobjectsParameterFalseValue",{defaultMessage:"false"})),docsLink:Object(m.jsx)(s.EuiLink,{href:p.a.getSubobjectsLink(),target:"_blank"},d.i18n.translate("xpack.idxMgmt.mappingsEditor.subobjectsDocumentionLink",{defaultMessage:"Learn more."}))}})},Object(m.jsx)(o.t,{path:"subobjects",component:o.r,componentProps:{"data-test-subj":"subobjectsToggle"}})),{isJsonField:y}=o.x,v={helpText:d.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.sourceFieldPathComboBoxHelpText",{defaultMessage:"Accepts a path to the field, including wildcards."}),type:o.c.COMBO_BOX,defaultValue:[],serializer:e=>e.map((({label:e})=>e)),deserializer:e=>e.map((e=>({label:e})))},E={metaField:{label:d.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.metaFieldEditorLabel",{defaultMessage:"_meta field data"}),helpText:Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.configuration.metaFieldEditorHelpText",defaultMessage:"Use JSON format: {code}",values:{code:Object(m.jsx)(s.EuiCode,null,JSON.stringify({arbitrary_data:"anything_goes"}))}}),validations:[{validator:y(d.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.metaFieldEditorJsonError",{defaultMessage:"The _meta field JSON is not valid."}),{allowEmptyString:!0})}],deserializer:e=>""===e?e:JSON.stringify(e,null,2),serializer:e=>{try{const t=JSON.parse(e);if(!Object.keys(t).length)return;return t}catch(t){return e}}},sourceField:{enabled:{label:d.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.sourceFieldLabel",{defaultMessage:"Enable _source field"}),type:o.c.TOGGLE,defaultValue:!0},includes:{label:d.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.includeSourceFieldsLabel",{defaultMessage:"Include fields"}),...v},excludes:{label:d.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.excludeSourceFieldsLabel",{defaultMessage:"Exclude fields"}),...v}},dynamicMapping:{enabled:{label:d.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.enableDynamicMappingsLabel",{defaultMessage:"Enable dynamic mapping"}),type:o.c.TOGGLE,defaultValue:!0},throwErrorsForUnmappedFields:{label:d.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.throwErrorsForUnmappedFieldsLabel",{defaultMessage:"Throw an exception when a document contains an unmapped field"}),helpText:d.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.dynamicMappingStrictHelpText",{defaultMessage:"By default, unmapped fields will be silently ignored when dynamic mapping is disabled. Optionally, you can choose to throw an exception when a document contains an unmapped field."}),type:o.c.CHECKBOX,defaultValue:!1},numeric_detection:{label:d.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.numericFieldLabel",{defaultMessage:"Map numeric strings as numbers"}),helpText:d.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.numericFieldDescription",{defaultMessage:'For example, "1.0" would be mapped as a float and "1" would be mapped as an integer.'}),type:o.c.TOGGLE,defaultValue:!1},date_detection:{label:d.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.dateDetectionFieldLabel",{defaultMessage:"Map date strings as dates"}),type:o.c.TOGGLE,defaultValue:!0},dynamic_date_formats:{label:d.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.dynamicDatesFieldLabel",{defaultMessage:"Date formats"}),helpText:()=>Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.configuration.dynamicDatesFieldHelpText",defaultMessage:"Strings in these formats will be mapped as dates. You can use built-in formats or custom formats. {docsLink}",values:{docsLink:Object(m.jsx)(s.EuiLink,{href:p.a.getDateFormatLink(),target:"_blank"},d.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.dynamicDatesFieldDocumentionLink",{defaultMessage:"Learn more."}))}}),type:o.c.COMBO_BOX,defaultValue:["strict_date_optional_time","yyyy/MM/dd HH:mm:ss Z||yyyy/MM/dd Z"]}},_routing:{required:{label:d.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.routingLabel",{defaultMessage:"Require _routing value for CRUD operations"}),defaultValue:!1}},_size:{enabled:{label:d.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.sizeLabel",{defaultMessage:"Index the _source field size in bytes"}),defaultValue:!1}},subobjects:{label:d.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.subobjectsLabel",{defaultMessage:"Allow objects to hold further subobjects"}),defaultValue:!0}},k=e=>{const{dynamic:t,numeric_detection:a,date_detection:i,dynamic_date_formats:n,_source:{enabled:s,includes:l,excludes:o}={},_meta:r,_routing:c,_size:d,subobjects:u}=e;return{dynamicMapping:{enabled:!0===t||void 0===t,throwErrorsForUnmappedFields:"strict"===t,numeric_detection:a,date_detection:i,dynamic_date_formats:n},sourceField:{enabled:!0===s||void 0===s,includes:l,excludes:o},metaField:null!=r?r:{},_routing:c,_size:d,subobjects:u}},T=n.a.memo((({value:e,esNodesPlugins:t})=>{var a,d;const{config:{enableMappingsSourceFieldSection:u}}=Object(l.d)(),p=Object(i.useRef)(!1),g=Object(i.useCallback)((t=>{var a;return((e,t)=>{const{dynamicMapping:{enabled:a,throwErrorsForUnmappedFields:i,numeric_detection:n,date_detection:s,dynamic_date_formats:l},sourceField:o,metaField:r,_routing:c,_size:d,subobjects:u}=e;return{dynamic:!!a||!!i&&"strict",numeric_detection:n,date_detection:s,dynamic_date_formats:l,_source:t?{mode:t}:o,_meta:r,_routing:c,_size:d,subobjects:u}})(t,null==e||null===(a=e._source)||void 0===a?void 0:a.mode)}),[null==e||null===(a=e._source)||void 0===a?void 0:a.mode]),{form:f}=Object(o.z)({schema:E,serializer:g,deserializer:k,defaultValue:e,id:"configurationForm"}),y=Object(c.b)(),{subscribe:v,submit:T,reset:F,getFormData:S}=f,_=void 0!==(null==e?void 0:e._size)||t.includes(r.j);return Object(i.useEffect)((()=>v((({data:e,isValid:t,validate:a})=>{y({type:"configuration.update",value:{data:e,isValid:t,validate:a,submitForm:T}})})).unsubscribe),[y,v,T]),Object(i.useEffect)((()=>{p.current&&F({resetValues:!0,defaultValue:e})}),[e,F]),Object(i.useEffect)((()=>(p.current=!0,()=>{p.current=!1;const e=S();y({type:"configuration.save",value:e})})),[S,y]),Object(m.jsx)(o.e,{form:f,isInvalid:f.isSubmitted&&!f.isValid,error:f.getErrors(),"data-test-subj":"advancedConfiguration"},Object(m.jsx)(x,null),Object(m.jsx)(s.EuiSpacer,{size:"xl"}),Object(m.jsx)(j,null),Object(m.jsx)(s.EuiSpacer,{size:"xl"}),u&&!(null!=e&&null!==(d=e._source)&&void 0!==d&&d.mode)&&Object(m.jsx)(n.a.Fragment,null,Object(m.jsx)(b,null)," ",Object(m.jsx)(s.EuiSpacer,{size:"xl"})),Object(m.jsx)(h,null),_&&Object(m.jsx)(O,null),Object(m.jsx)(s.EuiSpacer,{size:"xl"}),Object(m.jsx)(M,null))}));var F=a(69),S=a(105);const _=({defaultValue:e})=>{const t=Object(c.b)(),a=Object(i.useRef)(e),n=Object(i.useCallback)((({data:e,isValid:a})=>t({type:"fieldsJsonEditor.update",value:{json:e.format(),isValid:a}})),[t]);return Object(m.jsx)(o.i,{onUpdate:n,defaultValue:a.current})},C=({onCancelAddingNewFields:e,isAddingFields:t,semanticTextInfo:a})=>{const l=Object(c.b)(),{fields:{byId:o,rootLevelFields:r},documentFields:{status:u,fieldToAddFieldTo:p}}=Object(c.c)(),g=Object(i.useCallback)((e=>o[e]),[o]),x=Object(i.useMemo)((()=>r.map(g)),[r,g]),b=Object(i.useCallback)((()=>{l({type:"documentField.createField"})}),[l]);return Object(m.jsx)(n.a.Fragment,null,Object(m.jsx)(S.c,{fields:x,state:Object(c.c)(),isAddingFields:t}),"creatingField"===u&&void 0===p?Object(m.jsx)(S.a,{isCancelable:x.length>0,allFields:o,isRootLevelField:!0,onCancelAddingNewFields:e,isAddingFields:t,semanticTextInfo:a}):null,(()=>{const e="idle"!==u;return Object(m.jsx)(n.a.Fragment,null,Object(m.jsx)(s.EuiSpacer,null),Object(m.jsx)(s.EuiButtonEmpty,{disabled:e,onClick:b,iconType:"plusInCircleFilled","data-test-subj":"addFieldButton"},d.i18n.translate("xpack.idxMgmt.mappingsEditor.addFieldButtonLabel",{defaultMessage:"Add field"})))})())},{useGlobalFlyout:L}=o.h,w=n.a.memo((({searchComponent:e,searchResultComponent:t,onCancelAddingNewFields:a,isAddingFields:n,semanticTextInfo:s})=>{const{fields:l,documentFields:o}=Object(c.c)(),r=Object(c.b)(),{addContent:d,removeContent:u}=L(),{editor:p}=o,g="editingField"===o.status,x=Object(i.useMemo)((()=>{if("json"===p)return Object(F.c)(l)}),[p,l]),b="json"===p?Object(m.jsx)(_,{defaultValue:x}):Object(m.jsx)(C,{onCancelAddingNewFields:a,isAddingFields:n,semanticTextInfo:s}),f=Object(i.useCallback)((()=>{r({type:"documentField.changeStatus",value:"idle"})}),[r]);return Object(i.useEffect)((()=>{g&&d({id:"mappingsEditField",Component:S.b,props:{exitEdit:f},flyoutProps:{...S.d,onClose:f},cleanUpFunc:f})}),[g,d,l.byId,f]),Object(i.useEffect)((()=>{g||u("mappingsEditField")}),[g,u]),Object(i.useEffect)((()=>()=>{g&&f()}),[g,f]),Object(m.jsx)("div",{"data-test-subj":"documentFields"},e,t||b)}));var I=a(92);const D=({createField:e,runtimeFieldsDocsUri:t})=>Object(m.jsx)(s.EuiEmptyPrompt,{iconType:"managementApp","data-test-subj":"emptyList",title:Object(m.jsx)("h2",{"data-test-subj":"title"},d.i18n.translate("xpack.idxMgmt.mappingsEditor.runtimeFields.emptyPromptTitle",{defaultMessage:"Start by creating a runtime field"})),body:Object(m.jsx)("p",null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.runtimeFields.emptyPromptDescription",defaultMessage:"Define a field in the mapping and evaluate it at search time."}),Object(m.jsx)("br",null),Object(m.jsx)(s.EuiLink,{href:t,target:"_blank","data-test-subj":"learnMoreLink",external:!0},d.i18n.translate("xpack.idxMgmt.mappingsEditor.runtimeFields.emptyPromptDocumentionLink",{defaultMessage:"Learn more."}))),actions:Object(m.jsx)(s.EuiButton,{onClick:()=>e(),iconType:"plusInCircle","data-test-subj":"createRuntimeFieldButton",fill:!0},d.i18n.translate("xpack.idxMgmt.mappingsEditor.runtimeFields.emptyPromptButtonLabel",{defaultMessage:"Create runtime field"}))});var P=a(51),N=a.n(P);const A=({children:e})=>{const[t,a]=Object(i.useState)({isModalOpen:!1}),l=Object(c.b)(),o=d.i18n.translate("xpack.idxMgmt.mappingsEditor.deleteRuntimeField.confirmationModal.removeButtonLabel",{defaultMessage:"Remove"});let r;if(t.field){const{source:e}=t.field;r=d.i18n.translate("xpack.idxMgmt.mappingsEditor.deleteRuntimeField.confirmationModal.title",{defaultMessage:"Remove runtime field ''{fieldName}''?",values:{fieldName:e.name}})}const u=()=>{a({isModalOpen:!1})};return Object(m.jsx)(n.a.Fragment,null,e((e=>{a({isModalOpen:!0,field:e})})),t.isModalOpen&&Object(m.jsx)(s.EuiConfirmModal,{title:r,"data-test-subj":"runtimeFieldDeleteConfirmModal",onCancel:u,onConfirm:()=>{l({type:"runtimeField.remove",value:t.field.id}),u()},cancelButtonText:d.i18n.translate("xpack.idxMgmt.mappingsEditor.deleteRuntimeField.confirmationModal.cancelButtonLabel",{defaultMessage:"Cancel"}),buttonColor:"danger",confirmButtonText:o}))};function B({field:e,areActionButtonsVisible:t,isHighlighted:a,isDimmed:i,editField:n},l){const{source:o}=e;return Object(m.jsx)("li",{className:"mappingsEditor__fieldsListItem","data-test-subj":"runtimeFieldsListItem"},Object(m.jsx)("div",{className:N()("mappingsEditor__fieldsListItem__field",{"mappingsEditor__fieldsListItem__field--enabled":t,"mappingsEditor__fieldsListItem__field--highlighted":a,"mappingsEditor__fieldsListItem__field--dim":i})},Object(m.jsx)("div",{className:"mappingsEditor__fieldsListItem__wrapper mappingsEditor__fieldsListItem__wrapper--indent"},Object(m.jsx)(s.EuiFlexGroup,{gutterSize:"s",alignItems:"center",className:"mappingsEditor__fieldsListItem__content"},Object(m.jsx)(s.EuiFlexItem,{grow:!1,className:"mappingsEditor__fieldsListItem__name","data-test-subj":"fieldName"},o.name),Object(m.jsx)(s.EuiFlexItem,{grow:!1},Object(m.jsx)(s.EuiBadge,{color:"hollow","data-test-subj":"fieldType","data-type-value":o.type},Object(F.r)(o))),Object(m.jsx)(s.EuiFlexItem,{grow:!1},(()=>{if(!t)return null;const a=d.i18n.translate("xpack.idxMgmt.mappingsEditor.editRuntimeFieldButtonLabel",{defaultMessage:"Edit"}),i=d.i18n.translate("xpack.idxMgmt.mappingsEditor.removeRuntimeFieldButtonLabel",{defaultMessage:"Remove"});return Object(m.jsx)(s.EuiFlexGroup,{gutterSize:"s",className:"mappingsEditor__fieldsListItem__actions"},Object(m.jsx)(s.EuiFlexItem,{grow:!1},Object(m.jsx)(s.EuiToolTip,{content:a},Object(m.jsx)(s.EuiButtonIcon,{iconType:"pencil",onClick:n,"data-test-subj":"editFieldButton","aria-label":a}))),Object(m.jsx)(s.EuiFlexItem,{grow:!1},Object(m.jsx)(A,null,(t=>Object(m.jsx)(s.EuiToolTip,{content:i},Object(m.jsx)(s.EuiButtonIcon,{iconType:"trash",color:"danger",onClick:()=>t(e),"data-test-subj":"removeFieldButton","aria-label":i}))))))})())))))}const R=n.a.memo(B),z=({fieldId:e})=>{const t=Object(c.b)(),{runtimeFieldsList:{status:a,fieldToEdit:n},runtimeFields:s}=Object(c.c)(),l=Object(i.useCallback)((e=>s[e]),[s])(e),o=n===e,r="editingField"===a&&n!==e,d="idle"===a,u=Object(i.useCallback)((()=>{t({type:"runtimeFieldsList.editField",value:e})}),[e,t]);return Object(m.jsx)(R,{field:l,isHighlighted:o,isDimmed:r,areActionButtonsVisible:d,editField:u})},{useGlobalFlyout:V}=o.h,U=()=>{const e=o.v.getRuntimeFields(),{runtimeFields:t,runtimeFieldsList:{status:a,fieldToEdit:l},fields:r}=Object(c.c)(),p=Object(c.b)(),{addContent:g,removeContent:x}=V(),{value:{docLinks:b}}=Object(I.b)(),f=Object(i.useCallback)((()=>{p({type:"runtimeFieldsList.createField"})}),[p]),j=Object(i.useCallback)((()=>{p({type:"runtimeFieldsList.closeRuntimeFieldEditor"})}),[p]),h=Object(i.useCallback)((e=>{p(l?{type:"runtimeField.edit",value:{id:l,source:e}}:{type:"runtimeField.add",value:e})}),[p,l]);Object(i.useEffect)((()=>{var e;"creatingField"===a||"editingField"===a?g({id:"runtimeFieldEditor",Component:o.m,props:{onSave:h,onCancel:j,defaultValue:l?null===(e=t[l])||void 0===e?void 0:e.source:void 0,docLinks:b,ctx:{namesNotAllowed:Object.values(t).map((e=>e.source.name)),existingConcreteFields:Object.values(r.byId).map((e=>({name:e.source.name,type:e.source.type})))}},flyoutProps:{"data-test-subj":"runtimeFieldEditor","aria-labelledby":"runtimeFieldEditorEditTitle",maxWidth:720,onClose:j},cleanUpFunc:j}):"idle"===a&&x("runtimeFieldEditor")}),[a,l,t,r,b,g,x,h,j]);const O=Object.entries(t),M=0===O.length,y="idle"!==a;return M?Object(m.jsx)(D,{createField:f,runtimeFieldsDocsUri:e}):Object(m.jsx)(n.a.Fragment,null,Object(m.jsx)(s.EuiText,{size:"s",color:"subdued"},Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.runtimeFieldsDescription",defaultMessage:"Define the runtime fields accessible at search time. {docsLink}",values:{docsLink:Object(m.jsx)(s.EuiLink,{href:e,target:"_blank",external:!0},d.i18n.translate("xpack.idxMgmt.mappingsEditor.runtimeFieldsDocumentationLink",{defaultMessage:"Learn more."}))}})),Object(m.jsx)(s.EuiSpacer,null),Object(m.jsx)("ul",null,O.map((([e])=>Object(m.jsx)(z,{key:e,fieldId:e})))),Object(m.jsx)(s.EuiSpacer,null),Object(m.jsx)(s.EuiButtonEmpty,{disabled:y,onClick:f,iconType:"plusInCircleFilled","data-test-subj":"createRuntimeFieldButton"},d.i18n.translate("xpack.idxMgmt.mappingsEditor.addRuntimeFieldButtonLabel",{defaultMessage:"Add field"})))},{isJsonField:q}=o.x,W={dynamicTemplates:{label:d.i18n.translate("xpack.idxMgmt.mappingsEditor.templates.dynamicTemplatesEditorLabel",{defaultMessage:"Dynamic templates data"}),validations:[{validator:q(d.i18n.translate("xpack.idxMgmt.mappingsEditor.templates.dynamicTemplatesEditorJsonError",{defaultMessage:"The dynamic templates JSON is not valid."}))}]}},G=e=>{const{dynamicTemplates:t}=e;let a;try{a=JSON.parse(t),Array.isArray(a)||(a=[a])}catch{}return{dynamic_templates:Array.isArray(a)&&a.length>0?a:[]}},$=e=>{const{dynamic_templates:t}=e;return{dynamicTemplates:(a=t,Array.isArray(a)?JSON.stringify(a,null,2):"[\n\n]")};var a},H=n.a.memo((({value:e})=>{const t=Object(i.useRef)(!1),{form:a}=Object(o.z)({schema:W,serializer:G,deserializer:$,defaultValue:e}),{subscribe:n,getFormData:l,submit:r,reset:g}=a,x=Object(c.b)();return Object(i.useEffect)((()=>n((({data:e,isValid:t,validate:a})=>{x({type:"templates.update",value:{data:e,isValid:t,validate:a,submitForm:r}})})).unsubscribe),[n,x,r]),Object(i.useEffect)((()=>{t.current&&g({resetValues:!0,defaultValue:e})}),[e,g]),Object(i.useEffect)((()=>(t.current=!0,()=>{t.current=!1;const e=l();x({type:"templates.save",value:e})})),[l,x]),Object(m.jsx)("div",{"data-test-subj":"dynamicTemplates"},Object(m.jsx)(s.EuiText,{size:"s",color:"subdued"},Object(m.jsx)(u.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dynamicTemplatesDescription",defaultMessage:"Use dynamic templates to define custom mappings that can be applied to dynamically added fields. {docsLink}",values:{docsLink:Object(m.jsx)(s.EuiLink,{href:p.a.getDynamicTemplatesLink(),target:"_blank"},d.i18n.translate("xpack.idxMgmt.mappingsEditor.dynamicTemplatesDocumentationLink",{defaultMessage:"Learn more."}))}})),Object(m.jsx)(s.EuiSpacer,{size:"m"}),Object(m.jsx)(o.e,{form:a,isInvalid:a.isSubmitted&&!a.isValid,error:a.getErrors()},Object(m.jsx)(o.t,{path:"dynamicTemplates",component:o.j,componentProps:{codeEditorProps:{"data-test-subj":"dynamicTemplatesEditor",height:"600px","aria-label":d.i18n.translate("xpack.idxMgmt.mappingsEditor.dynamicTemplatesEditorAriaLabel",{defaultMessage:"Dynamic templates editor"})}}})))}));var J=a(99)},function(e,t,a){"use strict";a.d(t,"a",(function(){return U}));var i=a(5),n=a.n(i),s=a(9),l=a(49),o=a(4),r=a(2),c=a(8);const d=c.i18n.translate("unsavedChangesPrompt.defaultModalText",{defaultMessage:"The data will be lost if you leave this page without saving the changes."}),u=c.i18n.translate("unsavedChangesPrompt.defaultModalTitle",{defaultMessage:"Discard unsaved changes?"}),p=c.i18n.translate("unsavedChangesPrompt.defaultModalCancel",{defaultMessage:"Keep editing"}),m=c.i18n.translate("unsavedChangesPrompt.defaultModalConfirm",{defaultMessage:"Leave page"});var g=a(73),x=a(130),b=a(72),f=a(128),j=a(113),h=a(105),O=a(132),M=a(99),y=a(69),v=a(78);const E=({isAddingFields:e,isJSONVisible:t,previousState:a,setPreviousState:n,state:l})=>{const[o,d]=Object(i.useState)(!1),u=Object(v.b)(),p=Object(i.useCallback)((e=>{u({type:"filter:update",value:{selectedOptions:e}}),u({type:"search:update",value:l.search.term})}),[u,l.search.term]),m=Object(i.useCallback)((e=>{const t=e.filter((e=>"on"===e.checked)).map((e=>e.label));n({...a,filter:{filteredFields:Object(y.o)(a.fields,t.length>0?t:void 0),selectedOptions:e,selectedDataTypes:t},search:{term:a.search.term,result:Object(y.v)(a.search.term,t.length>0?Object(y.p)(a,t):a.fields.byId)}})}),[a,n]),g=Object(r.jsx)(s.EuiFilterButton,{iconType:"arrowDown",iconSide:"right",isDisabled:t,onClick:()=>d(!o),numFilters:e?a.filter.selectedOptions.length:l.filter.selectedOptions.length,hasActiveFilters:e?a.filter.selectedDataTypes.length>0:l.filter.selectedDataTypes.length>0,numActiveFilters:e?a.filter.selectedDataTypes.length:l.filter.selectedDataTypes.length,isSelected:o,"data-test-subj":"indexDetailsMappingsFilterByFieldTypeButton"},c.i18n.translate("xpack.idxMgmt.indexDetails.mappings.filterByFieldType.button",{defaultMessage:"Field types"}));return Object(r.jsx)(s.EuiFilterGroup,null,Object(r.jsx)(s.EuiPopover,{button:g,isOpen:o,closePopover:()=>d(!o),anchorPosition:"downCenter","data-test-subj":"indexDetailsMappingsFilter"},Object(r.jsx)(s.EuiSelectable,{searchable:!0,"data-test-subj":"filterItem",searchProps:{placeholder:c.i18n.translate("xpack.idxMgmt.indexDetails.mappings.filterByFieldType.searchPlaceholder",{defaultMessage:"Filter list "})},options:e?a.filter.selectedOptions:l.filter.selectedOptions,onChange:t=>{e?m(t):p(t)}},((e,t)=>Object(r.jsx)("div",{style:{width:200}},Object(r.jsx)(s.EuiPopoverTitle,{paddingSize:"s","data-test-subj":"indexDetailsMappingsFilterByFieldTypeSearch"},t),e)))))};var k=a(112),T=a(77),F=a(71),S=a(79),_=a(227),C=a.n(_);const L=Object(r.jsx)(l.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.mappings.semanticTextBanner.descriptionForPlatinumLicense",defaultMessage:"{label} Upgrade your license to add semantic_text field types to your indices.'",values:{label:Object(r.jsx)("strong",null,Object(r.jsx)(l.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.mappings.semanticTextBanner.semanticTextFieldAvailableForPlatinumLicense",defaultMessage:"Semantic text now available for platinum license."}))}}),w=Object(r.jsx)(l.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.mappings.semanticTextBanner.description",defaultMessage:"{label} Add a field to your mapping and choose 'semantic_text' to get started.'",values:{label:Object(r.jsx)("strong",null,Object(r.jsx)(l.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.mappings.semanticTextBanner.semanticTextFieldAvailable",defaultMessage:"semantic_text field type now available!"}))}});function I({isSemanticTextEnabled:e,isPlatinumLicense:t=!1}){const[a,i]=C()("semantic-text-banner-display",!0);return a&&e?Object(r.jsx)(n.a.Fragment,null,Object(r.jsx)(s.EuiPanel,{color:"success","data-test-subj":"indexDetailsMappingsSemanticTextBanner"},Object(r.jsx)(s.EuiFlexGroup,null,Object(r.jsx)(s.EuiFlexItem,null,Object(r.jsx)(s.EuiText,{size:"m",color:"success"},t?w:L)),Object(r.jsx)(s.EuiFlexItem,{grow:!1},Object(r.jsx)(s.EuiButtonEmpty,{size:"s",onClick:()=>i(!1),"data-test-subj":"SemanticTextBannerDismissButton"},Object(r.jsx)(l.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.mappings.semanticTextBanner.dismiss",defaultMessage:"Dismiss"})))))):null}var D=a(107);function P({errorsInTrainedModelDeployment:e={},forceSaveMappings:t,saveMappings:a,saveMappingsLoading:n,setErrorsInTrainedModelDeployment:l}){const o=Object(s.useGeneratedHtmlId)(),{fields:d,inferenceToModelIdMap:u}=Object(v.c)(),{plugins:{ml:p},url:m}=Object(b.d)(),[x,f]=Object(i.useState)(!1),j=()=>f(!1),[h,O]=Object(i.useState)(""),[M,E]=Object(i.useState)(!1),{showErrorToasts:k}=Object(D.a)();Object(i.useEffect)((()=>{const e=null==m?void 0:m.locators.get("ML_APP_LOCATOR");(async()=>{if(e){const t=await e.getUrl({page:"trained_models"});O(t)}})()}),[m]);const T=Object(i.useMemo)((()=>Object.values(Object(y.c)(d)).filter(g.u).map((e=>e.inference_id))),[d]),[F,S]=Object(i.useState)([]),_=async e=>{try{var t;await(null==p||null===(t=p.mlApi)||void 0===t?void 0:t.trainedModels.startModelAllocation(e))}catch(t){l((a=>({...a,[e]:t.message}))),k(t),f(!0)}};Object(i.useEffect)((()=>{const e=T.map((e=>null==u?void 0:u[e]));for(const t of e)null!=t&&t.trainedModelId&&t.isDeployable&&!t.isDownloading&&!t.isDeployed&&_(t.trainedModelId);const t=e.map((e=>null==e||!e.trainedModelId||null!=e&&e.isDeployed?"":null==e?void 0:e.trainedModelId)).filter((e=>!!e)),a=t.filter(((e,a)=>t.indexOf(e)===a));S(a)}),[T,u]);const C=F.filter((t=>e[t]));return Object(i.useEffect)((()=>{(C.length>0||F.length>0)&&f(!0)}),[C.length,F.length]),x?Object(r.jsx)(s.EuiModal,{style:{width:600},"aria-labelledby":o,onClose:j,"data-test-subj":"trainedModelsDeploymentModal",initialFocus:"[data-test-subj=tryAgainModalButton]"},Object(r.jsx)(s.EuiModalHeader,null,Object(r.jsx)(s.EuiModalHeaderTitle,{title:o},C.length>0?c.i18n.translate("xpack.idxMgmt.indexDetails.trainedModelsDeploymentModal.deploymentErrorTitle",{defaultMessage:"Models could not be deployed"}):c.i18n.translate("xpack.idxMgmt.indexDetails.trainedModelsDeploymentModal.titleLabel",{defaultMessage:"Models still deploying"}))),Object(r.jsx)(s.EuiModalBody,null,Object(r.jsx)("p",{"data-test-subj":"trainedModelsDeploymentModalText"},C.length>0?c.i18n.translate("xpack.idxMgmt.indexDetails.trainedModelsDeploymentModal.deploymentErrorText",{defaultMessage:"There was an error when trying to deploy the following models."}):c.i18n.translate("xpack.idxMgmt.indexDetails.trainedModelsDeploymentModal.textAboutDeploymentsNotCompleted",{defaultMessage:"Some fields are referencing models that have not yet completed deployment. Deployment may take a few minutes to complete."})),Object(r.jsx)(s.EuiSpacer,{size:"s"}),Object(r.jsx)(s.EuiLink,{href:h,target:"_blank"},c.i18n.translate("xpack.idxMgmt.indexDetails.trainedModelsDeploymentModal.textTrainedModelManagementLink",{defaultMessage:"Go to Trained Model Management"})),Object(r.jsx)(s.EuiSpacer,null),Object(r.jsx)("ul",{style:{listStyleType:"none"}},(C.length>0?C:F).map((e=>Object(r.jsx)("li",{key:e},Object(r.jsx)(s.EuiBadge,{color:"hollow"},Object(r.jsx)(s.EuiHealth,{color:"danger"},e)))))),Object(r.jsx)(s.EuiSpacer,null),Object(r.jsx)(s.EuiCallOut,{iconType:"warning",color:"warning",title:c.i18n.translate("xpack.idxMgmt.indexDetails.trainedModelsDeploymentModal.forceSaveMappingsConfirmLabel",{defaultMessage:"Saving mappings without a deployed model may cause errors"})},c.i18n.translate("xpack.idxMgmt.indexDetails.trainedModelsDeploymentModal.forceSaveMappingsDescription",{defaultMessage:"Saving a semantic text field referencing a model that is not running will break ingesting documents and searching over documents using or referencing that field."}),Object(r.jsx)(s.EuiSpacer,{size:"s"}),Object(r.jsx)(s.EuiCheckbox,{"data-test-subj":"allowForceSaveMappingsCheckbox",id:"allowForceSaveMappings",checked:M,onChange:()=>E(!M),label:c.i18n.translate("xpack.idxMgmt.indexDetails.trainedModelsDeploymentModal.allowForceSaveMappingsLabel",{defaultMessage:"Allow semantic text mapping updates without a deployed model"})}))),Object(r.jsx)(s.EuiModalFooter,null,Object(r.jsx)(s.EuiFlexGroup,{alignItems:"center",justifyContent:"flexEnd"},Object(r.jsx)(s.EuiFlexItem,{grow:!1},Object(r.jsx)(s.EuiButtonEmpty,{onClick:j},c.i18n.translate("xpack.idxMgmt.indexDetails.trainedModelsDeploymentModal.cancelButtonLabel",{defaultMessage:"Cancel"}))),Object(r.jsx)(s.EuiFlexItem,{grow:!1},Object(r.jsx)(s.EuiButton,{onClick:a,"data-test-subj":"tryAgainModalButton",isLoading:n},c.i18n.translate("xpack.idxMgmt.indexDetails.trainedModelsDeploymentModal.tryAgainButtonLabel",{defaultMessage:"Try again"}))),Object(r.jsx)(s.EuiFlexItem,{grow:!1},Object(r.jsx)(s.EuiButton,{fill:!0,onClick:t,disabled:!M,isLoading:n,"data-test-subj":"forceSaveMappingsButton"},c.i18n.translate("xpack.idxMgmt.indexDetails.trainedModelsDeploymentModal.forceSaveMappingsLabel",{defaultMessage:"Force save mappings"})))))):null}var N=a(100),A={name:"xer7sp",styles:"min-width:600px;height:100%"},B={name:"1mhs1aw",styles:"min-width:400px"},R={name:"13udsys",styles:"height:100%"},z={name:"13udsys",styles:"height:100%"};const V=({index:e,data:t,jsonData:a,refetchMapping:o,showAboutMappings:_})=>{var C;const{services:{extensionsService:L},core:{getUrlForApp:w,application:{capabilities:D,navigateToUrl:V},http:U},plugins:{ml:q,licensing:W},config:G,overlays:$,history:H}=Object(b.d)(),[J,Y]=Object(i.useState)(!1);Object(i.useEffect)((()=>{const e=null==W?void 0:W.license$.subscribe((e=>{Y(e.isActive&&e.hasAtLeast("platinum"))}));return()=>null==e?void 0:e.unsubscribe()}),[W]);const{enableSemanticText:K}=G,[X,Q]=Object(i.useState)({}),Z=!(null==D||null===(C=D.ml)||void 0===C||!C.canGetTrainedModels),ee={isSemanticTextEnabled:K&&Z&&J,indexName:e.name,ml:q,setErrorsInTrainedModelDeployment:Q},te=Object(v.c)(),ae=Object(v.b)(),ie=e.name,ne=Object(s.useGeneratedHtmlId)({prefix:"pendingFieldListId"}),[se,le]=Object(i.useState)(!1);(({hasUnsavedChanges:e,openConfirm:t,history:a,http:n,navigateToUrl:s,messageText:l=d,titleText:o=u,confirmButtonText:r=m,cancelButtonText:c=p})=>{Object(i.useEffect)((()=>{if(e){const e=e=>{e.preventDefault(),e.returnValue=""};return window.addEventListener("beforeunload",e),()=>window.removeEventListener("beforeunload",e)}}),[e]),Object(i.useEffect)((()=>{if(!e)return;const i=a.block((e=>(async function(){if(await t(l,{title:o,cancelButtonText:c,confirmButtonText:r,"data-test-subj":"navigationBlockConfirmModal"})){const t=n.basePath.prepend(e.pathname)+e.hash+e.search;i(),s(t,{state:e.state})}}(),!1)));return i}),[a,e,t,s,n.basePath,o,c,r,l])})({titleText:c.i18n.translate("xpack.idxMgmt.indexDetails.mappings.unsavedChangesPromptTitle",{defaultMessage:"Exit without saving changes?"}),messageText:c.i18n.translate("xpack.idxMgmt.indexDetails.mappings.unsavedChangesPromptMessage",{defaultMessage:"Your changes will be lost if you leave this page without saving the mapping."}),hasUnsavedChanges:se,openConfirm:$.openConfirm,history:H,http:U,navigateToUrl:V});const oe=Object(i.useMemo)((()=>Object.keys(te.fields.byId).length),[te.fields.byId]),[re,ce]=Object(i.useState)(te),de=Object(i.useMemo)((()=>re.filter.selectedOptions.filter((e=>"on"===e.checked)).map((e=>e.label))),[re.filter.selectedOptions]),[ue,pe]=Object(i.useState)(void 0),[me,ge]=Object(i.useState)(!1),{parsedDefaultValue:xe,multipleMappingsDeclared:be}=Object(i.useMemo)((()=>Object(N.a)(a)),[a]),[fe,je]=Object(i.useState)(!1),[he,Oe]=Object(i.useState)(!1);Object(k.a)({value:xe,status:"disabled"});const{fetchInferenceToModelIdMap:Me}=Object(x.a)(),ye=Object(i.useCallback)((()=>{le(!se),ae({type:"editor.replaceMappings",value:{...re,documentFields:{status:"disabled",editor:"default"}}})}),[se,ae,re]),ve=Object(i.useCallback)((()=>{le(!se),ce(te),ae({type:"editor.replaceMappings",value:{...te,fields:{...te.fields,byId:{},rootLevelFields:[]},filter:{filteredFields:[],selectedOptions:[],selectedDataTypes:[]},documentFields:{status:"creatingField",editor:"default"}}})}),[ae,se,te]);Object(i.useEffect)((()=>{K&&Z&&(async()=>{await Me()})()}),[K,Z]);const Ee=Object(i.useCallback)((async e=>{const t=(a=te.fields,Object.values(a.byId).some((e=>"semantic_text"===e.source.type)));var a;Oe(!0);try{K&&Z&&t&&!e&&await Me();const a=t?Object(g.p)(te).fields:te.fields,i=Object(y.c)(a),n=e?[]:Object.values(i).filter(g.u).map((e=>e.inference_id)).filter((e=>{var t,a;return(null===(t=te.inferenceToModelIdMap)||void 0===t?void 0:t[e].trainedModelId)&&!(null!==(a=te.inferenceToModelIdMap)&&void 0!==a&&a[e].isDeployed)}));if(je(!0),0===n.length){const{error:e}=await Object(F.z)(ie,i);e?pe(e.message):(S.a.showSuccessToast(c.i18n.translate("xpack.idxMgmt.indexDetails.mappings.successfullyUpdatedIndexMappings",{defaultMessage:"Updated index mapping"})),o(),je(!1))}}catch(e){pe(e.message)}Oe(!1)}),[te.fields]),ke=Object(i.useCallback)((e=>{se?ce({...re,search:{term:e,result:Object(y.v)(e,de.length>0?Object(y.p)(re,de):re.fields.byId)}}):ae({type:"search:update",value:e})}),[ae,re,se,de]),Te=Object(i.useCallback)((()=>{ce({...re,search:{term:"",result:Object(y.v)("",re.filter.selectedDataTypes.length>0?Object(y.p)(re,re.filter.selectedDataTypes):re.fields.byId)}})}),[re]),Fe=se?re.search.term.trim():te.search.term.trim(),Se=Object(r.jsx)(s.EuiCodeBlock,{language:"json",isCopyable:!0,"data-test-subj":"indexDetailsMappingsCodeBlock",css:z},t),_e=se?Object(r.jsx)(O.a,{result:re.search.result,documentFieldsState:re.documentFields,onClearSearch:Te}):Object(r.jsx)(O.a,{result:te.search.result,documentFieldsState:te.documentFields}),Ce=se?Object(r.jsx)(h.c,{fields:de.length>0?re.filter.filteredFields:Object(y.o)(re.fields),state:re,setPreviousState:ce,isAddingFields:se}):Object(r.jsx)(h.c,{fields:te.filter.selectedDataTypes.length>0?te.filter.filteredFields:Object(y.o)(te.fields),state:te,isAddingFields:se}),Le=se?Object(r.jsx)(j.a,{searchValue:re.search.term,onSearchChange:ke,disabled:me}):Object(r.jsx)(j.a,{searchValue:te.search.term,onSearchChange:ke,disabled:me}),we=Object(r.jsx)(n.a.Fragment,null,be?Object(r.jsx)(M.a,null):""!==Fe?_e:Ce),Ie=ue&&Object(r.jsx)(s.EuiFlexItem,{grow:!1},Object(r.jsx)(s.EuiCallOut,{color:"danger","data-test-subj":"indexDetailsSaveMappingsError",iconType:"error",title:c.i18n.translate("xpack.idxMgmt.indexDetails.mappings.error.title",{defaultMessage:"Error saving mapping"})},Object(r.jsx)(s.EuiText,null,Object(r.jsx)(l.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.mappings.error.description",defaultMessage:"Error saving mapping: {errorMessage}",values:{errorMessage:ue}}))),Object(r.jsx)(s.EuiSpacer,null));return Object(r.jsx)(n.a.Fragment,null,Object(r.jsx)(s.EuiFlexGroup,{wrap:!0,direction:"rowReverse",css:R},_&&Object(r.jsx)(s.EuiFlexItem,{grow:1,css:B},Object(r.jsx)(s.EuiPanel,{grow:!1,paddingSize:"l"},Object(r.jsx)(s.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},Object(r.jsx)(s.EuiFlexItem,{grow:!1},Object(r.jsx)(s.EuiIcon,{type:"iInCircle"})),Object(r.jsx)(s.EuiFlexItem,null,Object(r.jsx)(s.EuiTitle,{size:"xs"},Object(r.jsx)("h2",null,Object(r.jsx)(l.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.mappings.docsCardTitle",defaultMessage:"About index mappings"}))))),Object(r.jsx)(s.EuiSpacer,{size:"s"}),Object(r.jsx)(s.EuiText,null,Object(r.jsx)("p",null,Object(r.jsx)(l.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.mappings.docsCardDescription",defaultMessage:"Your documents are made up of a set of fields. Index mappings give each field a type (such as keyword, number, or date) and additional subfields. These index mappings determine the functions available in your relevance tuning and search experience."}))),Object(r.jsx)(s.EuiSpacer,{size:"m"}),Object(r.jsx)(s.EuiLink,{"data-test-subj":"indexDetailsMappingsDocsLink",href:T.f.getMappingDocumentationLink(),target:"_blank",external:!0},Object(r.jsx)(l.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.mappings.docsCardLink",defaultMessage:"Learn more about mappings"}))),L.indexMappingsContent&&Object(r.jsx)(n.a.Fragment,null,Object(r.jsx)(s.EuiSpacer,null),L.indexMappingsContent.renderContent({index:e,getUrlForApp:w}))),Object(r.jsx)(s.EuiFlexGroup,{direction:"column"},Object(r.jsx)(s.EuiFlexGroup,{gutterSize:"s",justifyContent:"spaceBetween"},Object(r.jsx)(s.EuiFlexItem,{grow:!1},Object(r.jsx)(E,{isAddingFields:se,isJSONVisible:me,previousState:re,setPreviousState:ce,state:te})),Object(r.jsx)(s.EuiFlexItem,null,Le),!e.hidden&&Object(r.jsx)(s.EuiFlexItem,{grow:!1},se?Object(r.jsx)(s.EuiButton,{onClick:()=>Ee(),color:"success",fill:!0,disabled:0===oe,"data-test-subj":"indexDetailsMappingsSaveMappings"},Object(r.jsx)(l.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.mappings.saveMappings",defaultMessage:"Save mapping"})):Object(r.jsx)(s.EuiButton,{onClick:ve,iconType:"plusInCircle",color:"text",size:"m","data-test-subj":"indexDetailsMappingsAddField"},Object(r.jsx)(l.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.mappings.addNewField",defaultMessage:"Add field"}))),Object(r.jsx)(s.EuiFlexItem,{grow:!1},Object(r.jsx)(s.EuiFilterGroup,{"data-test-subj":"indexDetailsMappingsToggleViewButton","aria-label":c.i18n.translate("xpack.idxMgmt.indexDetails.mappings.mappingsViewButtonGroupAriaLabel",{defaultMessage:"Mappings View Button Group"}),onClick:()=>{ge(!me)}},Object(r.jsx)(s.EuiFilterButton,{hasActiveFilters:!me,withNext:!0},Object(r.jsx)(l.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.mappings.tableView",defaultMessage:"List"})),Object(r.jsx)(s.EuiFilterButton,{hasActiveFilters:me},Object(r.jsx)(l.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.mappings.json",defaultMessage:"JSON"}))))),Object(r.jsx)(s.EuiFlexItem,{grow:!0},Z&&Object(r.jsx)(I,{isSemanticTextEnabled:K,isPlatinumLicense:J})),Ie,se&&Object(r.jsx)(s.EuiFlexItem,{grow:!1},Object(r.jsx)(s.EuiPanel,{hasBorder:!0,paddingSize:"s"},Object(r.jsx)(s.EuiAccordion,{id:ne,initialIsOpen:!0,buttonContent:Object(r.jsx)(s.EuiPanel,{paddingSize:"s",hasShadow:!1},Object(r.jsx)(s.EuiFlexGroup,{gutterSize:"s",alignItems:"baseline","data-test-subj":"indexDetailsMappingsPendingBlock"},Object(r.jsx)(s.EuiFlexItem,{grow:6},Object(r.jsx)(s.EuiText,{size:"m"},Object(r.jsx)(l.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.mappings.addMappingPendingBlock",defaultMessage:"Pending fields"}))),Object(r.jsx)(s.EuiFlexItem,null,Object(r.jsx)(s.EuiNotificationBadge,{color:oe>0?"accent":"subdued",size:"m"},oe))))},Object(r.jsx)(s.EuiPanel,{hasShadow:!1,paddingSize:"s"},oe<=0?Object(r.jsx)(f.b,{onCancelAddingNewFields:ye,isAddingFields:se,semanticTextInfo:ee}):Object(r.jsx)(f.b,{isAddingFields:se,semanticTextInfo:ee}))))),Object(r.jsx)(s.EuiFlexItem,{grow:!1,css:A},Object(r.jsx)(s.EuiPanel,{hasShadow:!1,paddingSize:"none"},me?Se:we)))),K&&se&&fe&&Object(r.jsx)(P,{errorsInTrainedModelDeployment:X,forceSaveMappings:()=>Ee(!0),saveMappings:()=>Ee(),saveMappingsLoading:he,setErrorsInTrainedModelDeployment:Q}))},U=({index:e,showAboutMappings:t=!0})=>{const{isLoading:a,data:c,error:d,resendRequest:u}=Object(T.s)((null==e?void 0:e.name)||""),[p,m]=Object(i.useState)(!1),g=Object(i.useMemo)((()=>{if(c)try{return m(!1),JSON.stringify(c,null,2)}catch(e){m(!0)}}),[c]);return a?Object(r.jsx)(o.SectionLoading,null,Object(r.jsx)(l.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.mappings.loadingDescription",defaultMessage:"Loading index mappings…"})):d||p||!g||null==e||!e.name?Object(r.jsx)(s.EuiPageTemplate.EmptyPrompt,{"data-test-subj":"indexDetailsMappingsError",color:"danger",iconType:"warning",title:Object(r.jsx)("h2",null,Object(r.jsx)(l.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.mappings.errorTitle",defaultMessage:"Unable to load index mappings"})),body:Object(r.jsx)(n.a.Fragment,null,Object(r.jsx)(s.EuiText,{color:"subdued"},Object(r.jsx)(l.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.mappings.errorDescription",defaultMessage:"We encountered an error loading mappings for index {indexName}. Make sure that the index name in the URL is correct and try again.",values:{indexName:(null==e?void 0:e.name)||void 0}})),Object(r.jsx)(s.EuiSpacer,null),Object(r.jsx)(s.EuiButton,{iconSide:"right",onClick:u,iconType:"refresh",color:"danger","data-test-subj":"indexDetailsMappingsReloadButton"},Object(r.jsx)(l.FormattedMessage,{id:"xpack.idxMgmt.indexDetails.mappings.reloadButtonLabel",defaultMessage:"Reload"})))}):Object(r.jsx)(V,{index:e,data:g,jsonData:c,showAboutMappings:t,refetchMapping:u})}},function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var i=a(88),n=a(144),s=a(5),l=a(72),o=a(73),r=a(78);let c=function(e){return e.elser_model_2="elser_model_2",e.e5="e5",e}({});var d=a(71);async function u(e,t,a){if(null!=e&&e.mlApi)try{return(await e.mlApi.trainedModels.getCuratedModelConfig(t,a?{version:a}:void 0)).model_id}catch(e){}return"elser"===t?n.c:n.b}const p=()=>{const{plugins:{ml:e}}=Object(l.d)(),t=Object(r.b)();return{fetchInferenceToModelIdMap:Object(s.useCallback)((async()=>{var a,s;const l=await Object(d.m)(),r=await(null==e||null===(a=e.mlApi)||void 0===a?void 0:a.trainedModels.getTrainedModelStats()),p=await(null==e||null===(s=e.mlApi)||void 0===s?void 0:s.trainedModels.getModelsDownloadStatus()),m=await u(e,"elser",n.d),g=await u(e,"e5"),x=(null==r?void 0:r.trained_model_stats.reduce(((e,{model_id:t,deployment_stats:a})=>(t&&a&&(e[t]=a),e)),{}))||{},b=((e,t,a,n,s)=>{var l,r;const d=e.reduce(((e,n)=>{var s;const l=Object(o.t)(n)?{trainedModelId:n.service_settings.model_id,isDeployable:n.service===i.b.elser||n.service===i.b.elasticsearch,isDeployed:"started"===(null===(s=t[n.service_settings.model_id])||void 0===s?void 0:s.state),isDownloading:Boolean(a[n.service_settings.model_id]),modelStats:t[n.service_settings.model_id]}:{trainedModelId:"",isDeployable:!1,isDeployed:!1,isDownloading:!1,modelStats:void 0};return e[n.inference_id]=l,e}),{});return{[c.elser_model_2]:{trainedModelId:n,isDeployable:!0,isDeployed:"started"===(null===(l=t[n])||void 0===l?void 0:l.state),isDownloading:Boolean(a[n]),modelStats:t[n]},[c.e5]:{trainedModelId:s,isDeployable:!0,isDeployed:"started"===(null===(r=t[s])||void 0===r?void 0:r.state),isDownloading:Boolean(a[s]),modelStats:t[s]},...d}})(l.data||[],x,p||{},m,g);return t({type:"inferenceToModelIdMap.update",value:{inferenceToModelIdMap:b}}),b}),[t,e])}}},function(e,t,a){"use strict";a.d(t,"a",(function(){return g}));var i=a(5),n=a.n(i),s=a(9),l=a(8),o=a(69),r=a(109),c=a(2);const d=({treeItem:e})=>Object(c.jsx)("li",{className:"esUiTreeItem"},Object(c.jsx)("div",{className:"esUiTreeItem__label"},e.label),e.children&&Object(c.jsx)(u,{tree:e.children})),u=({tree:e})=>Object(c.jsx)("ul",{className:"esUiTree"},e.map(((e,t)=>Object(c.jsx)(d,{key:t,treeItem:e})))),p=({fields:e})=>Object(c.jsx)(r.a,null,Object(c.jsx)(u,{tree:e}));var m=a(74);const g=({title:e,childFields:t,aliases:a,byId:i,confirmButtonText:r,onCancel:d,onConfirm:u})=>{const g=t&&t.length?Object(o.a)(t,i,(e=>Object(c.jsx)(n.a.Fragment,null,e.source.name,e.isMultiField&&Object(c.jsx)(n.a.Fragment,null," ",Object(c.jsx)(s.EuiBadge,{color:"hollow"},l.i18n.translate("xpack.idxMgmt.mappingsEditor.deleteField.confirmationModal.multiFieldBadgeLabel",{defaultMessage:"{dataType} multi-field",values:{dataType:m.o[e.source.type].label}})))))):null;return Object(c.jsx)(s.EuiConfirmModal,{title:e,onCancel:d,onConfirm:u,cancelButtonText:l.i18n.translate("xpack.idxMgmt.mappingsEditor.deleteField.confirmationModal.cancelButtonLabel",{defaultMessage:"Cancel"}),buttonColor:"danger",confirmButtonText:r},Object(c.jsx)(n.a.Fragment,null,g&&Object(c.jsx)(n.a.Fragment,null,Object(c.jsx)("p",null,l.i18n.translate("xpack.idxMgmt.mappingsEditor.confirmationModal.deleteFieldsDescription",{defaultMessage:"This will also delete the following fields."})),Object(c.jsx)(p,{fields:g})),a&&Object(c.jsx)(n.a.Fragment,null,Object(c.jsx)("p",null,l.i18n.translate("xpack.idxMgmt.mappingsEditor.confirmationModal.deleteAliasesDescription",{defaultMessage:"The following aliases will also be deleted."})),Object(c.jsx)("ul",null,a.map((e=>Object(c.jsx)("li",{key:e},Object(c.jsx)(s.EuiCode,null,e))))))))}},function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var i=a(5),n=a.n(i),s=a(145),l=a(9),o=a(49),r=a(78),c=a(51),d=a.n(c),u=a(8),p=a(74),m=a(69),g=a(94),x=a(2);const b=n.a.memo((function({item:{display:e,field:t},areActionButtonsVisible:a,isHighlighted:i,isDimmed:n}){var s,o;const c=Object(r.b)(),{source:b,isMultiField:f,hasChildFields:j,hasMultiFields:h}=t,O=()=>{c({type:"documentField.editField",value:t.id})};return Object(x.jsx)("div",{className:d()("mappingsEditor__fieldsListItem"),"data-test-subj":"fieldsListItem"},Object(x.jsx)("div",{className:d()("mappingsEditor__fieldsListItem__field",{"mappingsEditor__fieldsListItem__field--enabled":a,"mappingsEditor__fieldsListItem__field--selected":i,"mappingsEditor__fieldsListItem__field--dim":n})},Object(x.jsx)("div",{className:d()("mappingsEditor__fieldsListItem__wrapper")},Object(x.jsx)(l.EuiFlexGroup,{gutterSize:"s",alignItems:"center",className:d()("mappingsEditor__fieldsListItem__content",{"mappingsEditor__fieldsListItem__content--toggle":j||h,"mappingsEditor__fieldsListItem__content--multiField":f})},Object(x.jsx)(l.EuiFlexItem,{grow:!1,className:"mappingsEditor__fieldsListItem__name","data-test-subj":"fieldName"},e),Object(x.jsx)(l.EuiFlexItem,{grow:!1,"data-test-subj":"fieldType"},Object(x.jsx)(l.EuiBadge,{color:"hollow"},f?u.i18n.translate("xpack.idxMgmt.mappingsEditor.multiFieldBadgeLabel",{defaultMessage:"{dataType} multi-field",values:{dataType:null!==(s=null===(o=p.o[b.type])||void 0===o?void 0:o.label)&&void 0!==s?s:b.type}}):Object(m.r)(b))),Object(x.jsx)(l.EuiFlexItem,null,(()=>{if(!a)return null;const e=u.i18n.translate("xpack.idxMgmt.mappingsEditor.editFieldButtonLabel",{defaultMessage:"Edit"}),i=u.i18n.translate("xpack.idxMgmt.mappingsEditor.removeFieldButtonLabel",{defaultMessage:"Remove"});return Object(x.jsx)(l.EuiFlexGroup,{gutterSize:"s",className:"mappingsEditor__fieldsListItem__actions","data-test-subj":"fieldActions"},Object(x.jsx)(l.EuiFlexItem,{grow:!1},Object(x.jsx)(l.EuiToolTip,{content:e},Object(x.jsx)(l.EuiButtonIcon,{iconType:"pencil",onClick:O,"data-test-subj":"editFieldButton","aria-label":e}))),Object(x.jsx)(l.EuiFlexItem,{grow:!1},Object(x.jsx)(g.a,null,(e=>Object(x.jsx)(l.EuiToolTip,{content:i},Object(x.jsx)(l.EuiButtonIcon,{iconType:"trash",color:"danger",onClick:()=>e(t),"data-test-subj":"removeFieldButton","aria-label":i}))))))})())))))}));b.displayName="SearchResultItem";const f=n.a.memo((({data:e,index:t,style:a})=>{const{fieldToEdit:i,result:n,status:s}=e,l=n[t];return Object(x.jsx)("div",{key:l.field.id,style:a},Object(x.jsx)(b,{item:l,areActionButtonsVisible:"idle"===s,isDimmed:"editingField"===s&&i!==l.field.id,isHighlighted:"editingField"===s&&i===l.field.id}))}),s.areEqual),j=n.a.memo((({result:e,documentFieldsState:{status:t,fieldToEdit:a},style:n,onClearSearch:c})=>{const d=Object(r.b)(),u=Math.min(64*e.length,600),p=Object(i.useMemo)((()=>({result:e,status:t,fieldToEdit:a})),[a,e,t]);return 0===e.length?Object(x.jsx)(l.EuiEmptyPrompt,{"data-test-subj":"mappingsEditorSearchResultEmptyPrompt",iconType:"search",title:Object(x.jsx)("h3",null,Object(x.jsx)(o.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.searchResult.emptyPromptTitle",defaultMessage:"No fields match your search"})),actions:Object(x.jsx)(l.EuiButton,{onClick:()=>{void 0!==c?c():d({type:"search:update",value:""})}},Object(x.jsx)(o.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.searchResult.emptyPrompt.clearSearchButtonLabel",defaultMessage:"Clear search"}))}):Object(x.jsx)(s.FixedSizeList,{"data-test-subj":"mappingsEditorSearchResult",style:{overflowX:"hidden",...n},width:"100%",height:u,itemData:p,itemCount:e.length,itemSize:64},f)}));j.displayName="SearchResult"},,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tailRec=void 0,t.tailRec=function(e,t){for(var a=t(e);"Left"===a._tag;)a=t(a.left);return a.right}},function(e,t,a){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,a,i){void 0===i&&(i=a),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,i){void 0===i&&(i=a),e[i]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&i(t,e,a);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.filterMap=t.separate=t.compact=t.fromArray=t.toggle=t.remove=t.insert=t.singleton=t.foldMap=t.reduce=t.getIntersectionSemigroup=t.getUnionMonoid=t.difference=t.partitionMap=t.intersection=t.union=t.elem=t.partition=t.filter=t.subset=t.chain=t.every=t.map=t.some=t.getEq=t.toArray=t.empty=t.getShow=void 0;var l=s(a(140));t.getShow=l.getShow,t.empty=new Set,t.toArray=l.toReadonlyArray,t.getEq=l.getEq,t.some=l.some,t.map=l.map,t.every=l.every,t.chain=l.chain,t.subset=l.isSubset,t.filter=function(e){return l.filter(e)},t.partition=function(e){return l.partition(e)},t.elem=l.elem,t.union=l.union,t.intersection=l.intersection,t.partitionMap=l.partitionMap,t.difference=l.difference,t.getUnionMonoid=l.getUnionMonoid,t.getIntersectionSemigroup=l.getIntersectionSemigroup,t.reduce=l.reduce,t.foldMap=l.foldMap,t.singleton=l.singleton,t.insert=l.insert,t.remove=l.remove,t.toggle=function(e){var a=t.elem(e),i=t.remove(e),n=t.insert(e);return function(e){return function(t){return(a(e,t)?i:n)(e)(t)}}},t.fromArray=l.fromArray,t.compact=l.compact,t.separate=l.separate,t.filterMap=l.filterMap},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filterMap=t.separate=t.compact=t.fromArray=t.remove=t.insert=t.singleton=t.foldMap=t.reduce=t.getIntersectionSemigroup=t.getUnionMonoid=t.difference=t.partitionMap=t.intersection=t.union=t.elem=t.partition=t.filter=t.isSubset=t.chain=t.every=t.map=t.some=t.getEq=t.toReadonlyArray=t.empty=t.getShow=t.toSet=t.fromSet=void 0;var i=a(141),n=a(93);function s(e){return function(t){var a=[];return t.forEach((function(e){return a.push(e)})),a.sort(e.compare)}}function l(e){return function(t){for(var a,i=t.values(),n=!1;!n&&!(a=i.next()).done;)n=e(a.value);return n}}function o(e){return n.not(l(n.not(e)))}function r(e){var t=d(e);return function(a,i){if(void 0===i){var n=r(e);return function(e){return n(e,a)}}return o((function(e){return t(e,i)}))(a)}}function c(e){return function(t){for(var a,i=t.values(),n=new Set;!(a=i.next()).done;){var s=a.value;e(s)&&n.add(s)}return n}}function d(e){return function(t,a){if(void 0===a){var i=d(e);return function(e){return i(t,e)}}for(var n,s=a.values(),l=!1;!l&&!(n=s.next()).done;)l=e.equals(t,n.value);return l}}function u(e){var a=d(e);return function(i,n){if(void 0===n){var s=u(e);return function(e){return s(i,e)}}if(i===t.empty)return n;if(n===t.empty)return i;var l=new Set(i);return n.forEach((function(e){a(e,l)||l.add(e)})),l}}function p(e){var a=d(e);return function(i,n){if(void 0===n){var s=p(e);return function(e){return s(e,i)}}if(i===t.empty||n===t.empty)return t.empty;var l=new Set;return i.forEach((function(e){a(e,n)&&l.add(e)})),l}}function m(e){var t=d(e);return function(e){return function(a){var i=new Set;return a.forEach((function(a){var n=e(a);"Some"!==n._tag||t(n.value,i)||i.add(n.value)})),i}}}t.fromSet=function(e){return new Set(e)},t.toSet=function(e){return new Set(e)},t.getShow=function(e){return{show:function(t){var a="";return t.forEach((function(t){a+=e.show(t)+", "})),""!==a&&(a=a.substring(0,a.length-2)),"new Set(["+a+"])"}}},t.empty=new Set,t.toReadonlyArray=s,t.getEq=function(e){var t=r(e);return i.fromEquals((function(e,a){return t(e,a)&&t(a,e)}))},t.some=l,t.map=function(e){var t=d(e);return function(e){return function(a){var i=new Set;return a.forEach((function(a){var n=e(a);t(n,i)||i.add(n)})),i}}},t.every=o,t.chain=function(e){var t=d(e);return function(e){return function(a){var i=new Set;return a.forEach((function(a){e(a).forEach((function(e){t(e,i)||i.add(e)}))})),i}}},t.isSubset=r,t.filter=c,t.partition=function(e){return function(t){for(var a,i=t.values(),n=new Set,s=new Set;!(a=i.next()).done;){var l=a.value;e(l)?n.add(l):s.add(l)}return{left:s,right:n}}},t.elem=d,t.union=u,t.intersection=p,t.partitionMap=function(e,t){return function(a){return function(i){for(var n,s=i.values(),l=new Set,o=new Set,r=d(e),c=d(t);!(n=s.next()).done;){var u=a(n.value);switch(u._tag){case"Left":r(u.left,l)||l.add(u.left);break;case"Right":c(u.right,o)||o.add(u.right)}}return{left:l,right:o}}}},t.difference=function e(t){var a=d(t);return function(i,n){if(void 0===n){var s=e(t);return function(e){return s(e,i)}}return c((function(e){return!a(e,n)}))(i)}},t.getUnionMonoid=function(e){return{concat:u(e),empty:t.empty}},t.getIntersectionSemigroup=function(e){return{concat:p(e)}},t.reduce=function(e){var t=s(e);return function(e,a){return function(i){return t(i).reduce(a,e)}}},t.foldMap=function(e,t){var a=s(e);return function(e){return function(i){return a(i).reduce((function(a,i){return t.concat(a,e(i))}),t.empty)}}},t.singleton=function(e){return new Set([e])},t.insert=function(e){var t=d(e);return function(e){return function(a){if(t(e)(a))return a;var i=new Set(a);return i.add(e),i}}},t.remove=function(e){return function(t){return function(a){return c((function(a){return!e.equals(t,a)}))(a)}}},t.fromArray=function(e){return function(t){for(var a=t.length,i=new Set,n=d(e),s=0;s<a;s++){var l=t[s];n(l,i)||i.add(l)}return i}},t.compact=function(e){return m(e)(n.identity)},t.separate=function(e,t){return function(a){var i=d(e),n=d(t),s=new Set,l=new Set;return a.forEach((function(e){switch(e._tag){case"Left":i(e.left,s)||s.add(e.left);break;case"Right":n(e.right,l)||l.add(e.right)}})),{left:s,right:l}}},t.filterMap=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.eq=t.Contravariant=t.getMonoid=t.eqDate=t.getTupleEq=t.getStructEq=t.eqBoolean=t.eqNumber=t.eqString=t.strictEqual=t.eqStrict=t.URI=t.contramap=t.fromEquals=void 0;var i=a(93);function n(e){return{equals:function(t,a){return t===a||e(t,a)}}}function s(e,t){return e===t}t.fromEquals=n,t.contramap=function(e){return function(t){return n((function(a,i){return t.equals(e(a),e(i))}))}},t.URI="Eq",t.eqStrict={equals:s},t.strictEqual=s,t.eqString=t.eqStrict,t.eqNumber=t.eqStrict,t.eqBoolean=t.eqStrict,t.getStructEq=function(e){return n((function(t,a){for(var i in e)if(!e[i].equals(t[i],a[i]))return!1;return!0}))},t.getTupleEq=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n((function(t,a){return e.every((function(e,i){return e.equals(t[i],a[i])}))}))},t.eqDate={equals:function(e,t){return e.valueOf()===t.valueOf()}};var l={equals:function(){return!0}};t.getMonoid=function(){return{concat:function(e,t){return n((function(a,i){return e.equals(a,i)&&t.equals(a,i)}))},empty:l}},t.Contravariant={URI:t.URI,contramap:function(e,a){return i.pipe(e,t.contramap(a))}},t.eq=t.Contravariant},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ord=t.Contravariant=t.ordDate=t.URI=t.contramap=t.getDualOrd=t.getTupleOrd=t.getMonoid=t.getSemigroup=t.fromCompare=t.between=t.clamp=t.max=t.min=t.geq=t.leq=t.gt=t.lt=t.ordBoolean=t.ordNumber=t.ordString=void 0;var i=a(143),n=a(93);function s(e,t){return e<t?-1:e>t?1:0}function l(e,t){return e===t}function o(e){return function(t,a){return-1===e.compare(t,a)}}function r(e){return function(t,a){return 1===e.compare(t,a)}}function c(e){return function(t,a){return 1===e.compare(t,a)?a:t}}function d(e){return function(t,a){return-1===e.compare(t,a)?a:t}}function u(e){var t=function(t,a){return t===a?0:e(t,a)};return{equals:function(e,a){return 0===t(e,a)},compare:t}}function p(){return{concat:function(e,t){return u((function(a,n){return i.monoidOrdering.concat(e.compare(a,n),t.compare(a,n))}))}}}t.ordString={equals:l,compare:s},t.ordNumber={equals:l,compare:s},t.ordBoolean={equals:l,compare:s},t.lt=o,t.gt=r,t.leq=function(e){return function(t,a){return 1!==e.compare(t,a)}},t.geq=function(e){return function(t,a){return-1!==e.compare(t,a)}},t.min=c,t.max=d,t.clamp=function(e){var t=c(e),a=d(e);return function(e,i){return function(n){return a(t(n,i),e)}}},t.between=function(e){var t=o(e),a=r(e);return function(e,i){return function(n){return!t(n,e)&&!a(n,i)}}},t.fromCompare=u,t.getSemigroup=p,t.getMonoid=function(){return{concat:p().concat,empty:u((function(){return 0}))}},t.getTupleOrd=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var a=e.length;return u((function(t,i){for(var n=0;n<a-1;n++){var s=e[n].compare(t[n],i[n]);if(0!==s)return s}return e[n].compare(t[n],i[n])}))},t.getDualOrd=function(e){return u((function(t,a){return e.compare(a,t)}))},t.contramap=function(e){return function(t){return u((function(a,i){return t.compare(e(a),e(i))}))}},t.URI="Ord",t.ordDate=n.pipe(t.ordNumber,t.contramap((function(e){return e.valueOf()}))),t.Contravariant={URI:t.URI,contramap:function(e,a){return n.pipe(e,t.contramap(a))}},t.ord=t.Contravariant},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.invert=t.monoidOrdering=t.semigroupOrdering=t.eqOrdering=t.sign=void 0,t.sign=function(e){return e<=-1?-1:e>=1?1:0},t.eqOrdering={equals:function(e,t){return e===t}},t.semigroupOrdering={concat:function(e,t){return 0!==e?e:t}},t.monoidOrdering={concat:t.semigroupOrdering.concat,empty:0},t.invert=function(e){switch(e){case-1:return 1;case 1:return-1;default:return 0}}},function(e,t,a){"use strict";a.d(t,"d",(function(){return c})),a.d(t,"c",(function(){return d})),a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return p})),a.d(t,"f",(function(){return m})),a.d(t,"e",(function(){return g}));var i=a(8);const n=".elser_model_2",s=".elser_model_2_linux-x86_64",l=".multilingual-e5-small",o=".multilingual-e5-small_linux-x86_64",r=".elser_model_1",c=2,d=s,u=o,p=[n,s,r],m={PYTORCH:"pytorch",TREE_ENSEMBLE:"tree_ensemble",LANG_IDENT:"lang_ident"},g={NER:"ner",QUESTION_ANSWERING:"question_answering",ZERO_SHOT_CLASSIFICATION:"zero_shot_classification",TEXT_CLASSIFICATION:"text_classification",TEXT_EMBEDDING:"text_embedding",FILL_MASK:"fill_mask",TEXT_EXPANSION:"text_expansion"};i.i18n.translate("xpack.ml.trainedModels.modelsList.builtInModelLabel",{defaultMessage:"built-in"}),Object.freeze({[r]:{modelName:"elser",hidden:!0,version:1,config:{input:{field_names:["text_field"]}},description:i.i18n.translate("xpack.ml.trainedModels.modelsList.elserDescription",{defaultMessage:"Elastic Learned Sparse EncodeR v1 (Tech Preview)"}),type:["elastic","pytorch","text_expansion"]},[n]:{modelName:"elser",version:2,default:!0,config:{input:{field_names:["text_field"]}},description:i.i18n.translate("xpack.ml.trainedModels.modelsList.elserV2Description",{defaultMessage:"Elastic Learned Sparse EncodeR v2"}),type:["elastic","pytorch","text_expansion"]},[s]:{modelName:"elser",version:2,os:"Linux",arch:"amd64",config:{input:{field_names:["text_field"]}},description:i.i18n.translate("xpack.ml.trainedModels.modelsList.elserV2x86Description",{defaultMessage:"Elastic Learned Sparse EncodeR v2, optimized for linux-x86_64"}),type:["elastic","pytorch","text_expansion"]},[l]:{modelName:"e5",version:1,default:!0,config:{input:{field_names:["text_field"]}},description:i.i18n.translate("xpack.ml.trainedModels.modelsList.e5v1Description",{defaultMessage:"E5 (EmbEddings from bidirEctional Encoder rEpresentations)"}),license:"MIT",licenseUrl:"https://huggingface.co/elastic/multilingual-e5-small",type:["pytorch","text_embedding"]},[o]:{modelName:"e5",version:1,os:"Linux",arch:"amd64",config:{input:{field_names:["text_field"]}},description:i.i18n.translate("xpack.ml.trainedModels.modelsList.e5v1x86Description",{defaultMessage:"E5 (EmbEddings from bidirEctional Encoder rEpresentations), optimized for linux-x86_64"}),license:"MIT",licenseUrl:"https://huggingface.co/elastic/multilingual-e5-small_linux-x86_64",type:["pytorch","text_embedding"]}})},function(e,t,a){"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(21)),s=i(a(146)),l=i(a(147)),o=i(a(148)),r=a(5),c=i(a(149)),d="object"==typeof performance&&"function"==typeof performance.now?function(){return performance.now()}:function(){return Date.now()};function u(e){cancelAnimationFrame(e.id)}function p(e,t){var a=d(),i={id:requestAnimationFrame((function n(){d()-a>=t?e.call(null):i.id=requestAnimationFrame(n)}))};return i}var m=-1;function g(e){if(void 0===e&&(e=!1),-1===m||e){var t=document.createElement("div"),a=t.style;a.width="50px",a.height="50px",a.overflow="scroll",document.body.appendChild(t),m=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return m}var x=null;function b(e){if(void 0===e&&(e=!1),null===x||e){var t=document.createElement("div"),a=t.style;a.width="50px",a.height="50px",a.overflow="scroll",a.direction="rtl";var i=document.createElement("div"),n=i.style;return n.width="100px",n.height="100px",t.appendChild(i),document.body.appendChild(t),t.scrollLeft>0?x="positive-descending":(t.scrollLeft=1,x=0===t.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(t),x}return x}var f=function(e){var t=e.columnIndex;return e.data,e.rowIndex+":"+t};function j(e){var t,a=e.getColumnOffset,i=e.getColumnStartIndexForOffset,c=e.getColumnStopIndexForStartIndex,d=e.getColumnWidth,m=e.getEstimatedTotalHeight,x=e.getEstimatedTotalWidth,j=e.getOffsetForColumnAndAlignment,O=e.getOffsetForRowAndAlignment,M=e.getRowHeight,y=e.getRowOffset,v=e.getRowStartIndexForOffset,E=e.getRowStopIndexForStartIndex,k=e.initInstanceProps,T=e.shouldResetStyleCacheOnItemSizeChange,F=e.validateProps;return(t=function(e){function t(t){var i;return(i=e.call(this,t)||this)._instanceProps=k(i.props,s(i)),i._resetIsScrollingTimeoutId=null,i._outerRef=void 0,i.state={instance:s(i),isScrolling:!1,horizontalScrollDirection:"forward",scrollLeft:"number"==typeof i.props.initialScrollLeft?i.props.initialScrollLeft:0,scrollTop:"number"==typeof i.props.initialScrollTop?i.props.initialScrollTop:0,scrollUpdateWasRequested:!1,verticalScrollDirection:"forward"},i._callOnItemsRendered=void 0,i._callOnItemsRendered=o((function(e,t,a,n,s,l,o,r){return i.props.onItemsRendered({overscanColumnStartIndex:e,overscanColumnStopIndex:t,overscanRowStartIndex:a,overscanRowStopIndex:n,visibleColumnStartIndex:s,visibleColumnStopIndex:l,visibleRowStartIndex:o,visibleRowStopIndex:r})})),i._callOnScroll=void 0,i._callOnScroll=o((function(e,t,a,n,s){return i.props.onScroll({horizontalScrollDirection:a,scrollLeft:e,scrollTop:t,verticalScrollDirection:n,scrollUpdateWasRequested:s})})),i._getItemStyle=void 0,i._getItemStyle=function(e,t){var n,s=i.props,l=s.columnWidth,o=s.direction,r=s.rowHeight,c=i._getItemStyleCache(T&&l,T&&o,T&&r),u=e+":"+t;if(c.hasOwnProperty(u))n=c[u];else{var p=a(i.props,t,i._instanceProps),m="rtl"===o;c[u]=n={position:"absolute",left:m?void 0:p,right:m?p:void 0,top:y(i.props,e,i._instanceProps),height:M(i.props,e,i._instanceProps),width:d(i.props,t,i._instanceProps)}}return n},i._getItemStyleCache=void 0,i._getItemStyleCache=o((function(e,t,a){return{}})),i._onScroll=function(e){var t=e.currentTarget,a=t.clientHeight,n=t.clientWidth,s=t.scrollLeft,l=t.scrollTop,o=t.scrollHeight,r=t.scrollWidth;i.setState((function(e){if(e.scrollLeft===s&&e.scrollTop===l)return null;var t=i.props.direction,c=s;if("rtl"===t)switch(b()){case"negative":c=-s;break;case"positive-descending":c=r-n-s}c=Math.max(0,Math.min(c,r-n));var d=Math.max(0,Math.min(l,o-a));return{isScrolling:!0,horizontalScrollDirection:e.scrollLeft<s?"forward":"backward",scrollLeft:c,scrollTop:d,verticalScrollDirection:e.scrollTop<l?"forward":"backward",scrollUpdateWasRequested:!1}}),i._resetIsScrollingDebounced)},i._outerRefSetter=function(e){var t=i.props.outerRef;i._outerRef=e,"function"==typeof t?t(e):null!=t&&"object"==typeof t&&t.hasOwnProperty("current")&&(t.current=e)},i._resetIsScrollingDebounced=function(){null!==i._resetIsScrollingTimeoutId&&u(i._resetIsScrollingTimeoutId),i._resetIsScrollingTimeoutId=p(i._resetIsScrolling,150)},i._resetIsScrolling=function(){i._resetIsScrollingTimeoutId=null,i.setState({isScrolling:!1},(function(){i._getItemStyleCache(-1)}))},i}l(t,e),t.getDerivedStateFromProps=function(e,t){return h(e,t),F(e),null};var S=t.prototype;return S.scrollTo=function(e){var t=e.scrollLeft,a=e.scrollTop;void 0!==t&&(t=Math.max(0,t)),void 0!==a&&(a=Math.max(0,a)),this.setState((function(e){return void 0===t&&(t=e.scrollLeft),void 0===a&&(a=e.scrollTop),e.scrollLeft===t&&e.scrollTop===a?null:{horizontalScrollDirection:e.scrollLeft<t?"forward":"backward",scrollLeft:t,scrollTop:a,scrollUpdateWasRequested:!0,verticalScrollDirection:e.scrollTop<a?"forward":"backward"}}),this._resetIsScrollingDebounced)},S.scrollToItem=function(e){var t=e.align,a=void 0===t?"auto":t,i=e.columnIndex,n=e.rowIndex,s=this.props,l=s.columnCount,o=s.height,r=s.rowCount,c=s.width,d=this.state,u=d.scrollLeft,p=d.scrollTop,b=g();void 0!==i&&(i=Math.max(0,Math.min(i,l-1))),void 0!==n&&(n=Math.max(0,Math.min(n,r-1)));var f=m(this.props,this._instanceProps),h=x(this.props,this._instanceProps)>c?b:0,M=f>o?b:0;this.scrollTo({scrollLeft:void 0!==i?j(this.props,i,a,u,this._instanceProps,M):u,scrollTop:void 0!==n?O(this.props,n,a,p,this._instanceProps,h):p})},S.componentDidMount=function(){var e=this.props,t=e.initialScrollLeft,a=e.initialScrollTop;if(null!=this._outerRef){var i=this._outerRef;"number"==typeof t&&(i.scrollLeft=t),"number"==typeof a&&(i.scrollTop=a)}this._callPropsCallbacks()},S.componentDidUpdate=function(){var e=this.props.direction,t=this.state,a=t.scrollLeft,i=t.scrollTop;if(t.scrollUpdateWasRequested&&null!=this._outerRef){var n=this._outerRef;if("rtl"===e)switch(b()){case"negative":n.scrollLeft=-a;break;case"positive-ascending":n.scrollLeft=a;break;default:var s=n.clientWidth,l=n.scrollWidth;n.scrollLeft=l-s-a}else n.scrollLeft=Math.max(0,a);n.scrollTop=Math.max(0,i)}this._callPropsCallbacks()},S.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&u(this._resetIsScrollingTimeoutId)},S.render=function(){var e=this.props,t=e.children,a=e.className,i=e.columnCount,s=e.direction,l=e.height,o=e.innerRef,c=e.innerElementType,d=e.innerTagName,u=e.itemData,p=e.itemKey,g=void 0===p?f:p,b=e.outerElementType,j=e.outerTagName,h=e.rowCount,O=e.style,M=e.useIsScrolling,y=e.width,v=this.state.isScrolling,E=this._getHorizontalRangeToRender(),k=E[0],T=E[1],F=this._getVerticalRangeToRender(),S=F[0],_=F[1],C=[];if(i>0&&h)for(var L=S;L<=_;L++)for(var w=k;w<=T;w++)C.push(r.createElement(t,{columnIndex:w,data:u,isScrolling:M?v:void 0,key:g({columnIndex:w,data:u,rowIndex:L}),rowIndex:L,style:this._getItemStyle(L,w)}));var I=m(this.props,this._instanceProps),D=x(this.props,this._instanceProps);return r.createElement(b||j||"div",{className:a,onScroll:this._onScroll,ref:this._outerRefSetter,style:n({position:"relative",height:l,width:y,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:s},O)},r.createElement(c||d||"div",{children:C,ref:o,style:{height:I,pointerEvents:v?"none":void 0,width:D}}))},S._callPropsCallbacks=function(){var e=this.props,t=e.columnCount,a=e.onItemsRendered,i=e.onScroll,n=e.rowCount;if("function"==typeof a&&t>0&&n>0){var s=this._getHorizontalRangeToRender(),l=s[0],o=s[1],r=s[2],c=s[3],d=this._getVerticalRangeToRender(),u=d[0],p=d[1],m=d[2],g=d[3];this._callOnItemsRendered(l,o,u,p,r,c,m,g)}if("function"==typeof i){var x=this.state,b=x.horizontalScrollDirection,f=x.scrollLeft,j=x.scrollTop,h=x.scrollUpdateWasRequested,O=x.verticalScrollDirection;this._callOnScroll(f,j,b,O,h)}},S._getHorizontalRangeToRender=function(){var e=this.props,t=e.columnCount,a=e.overscanColumnCount,n=e.overscanColumnsCount,s=e.overscanCount,l=e.rowCount,o=this.state,r=o.horizontalScrollDirection,d=o.isScrolling,u=o.scrollLeft,p=a||n||s||1;if(0===t||0===l)return[0,0,0,0];var m=i(this.props,u,this._instanceProps),g=c(this.props,m,u,this._instanceProps),x=d&&"backward"!==r?1:Math.max(1,p),b=d&&"forward"!==r?1:Math.max(1,p);return[Math.max(0,m-x),Math.max(0,Math.min(t-1,g+b)),m,g]},S._getVerticalRangeToRender=function(){var e=this.props,t=e.columnCount,a=e.overscanCount,i=e.overscanRowCount,n=e.overscanRowsCount,s=e.rowCount,l=this.state,o=l.isScrolling,r=l.verticalScrollDirection,c=l.scrollTop,d=i||n||a||1;if(0===t||0===s)return[0,0,0,0];var u=v(this.props,c,this._instanceProps),p=E(this.props,u,c,this._instanceProps),m=o&&"backward"!==r?1:Math.max(1,d),g=o&&"forward"!==r?1:Math.max(1,d);return[Math.max(0,u-m),Math.max(0,Math.min(s-1,p+g)),u,p]},t}(r.PureComponent)).defaultProps={direction:"ltr",itemData:void 0,useIsScrolling:!1},t}var h=function(e,t){e.children,e.direction,e.height,e.innerTagName,e.outerTagName,e.overscanColumnsCount,e.overscanCount,e.overscanRowsCount,e.width,t.instance},O=function(e,t){var a=e.rowCount,i=t.rowMetadataMap,n=t.estimatedRowHeight,s=t.lastMeasuredRowIndex,l=0;if(s>=a&&(s=a-1),s>=0){var o=i[s];l=o.offset+o.size}return l+(a-s-1)*n},M=function(e,t){var a=e.columnCount,i=t.columnMetadataMap,n=t.estimatedColumnWidth,s=t.lastMeasuredColumnIndex,l=0;if(s>=a&&(s=a-1),s>=0){var o=i[s];l=o.offset+o.size}return l+(a-s-1)*n},y=function(e,t,a,i){var n,s,l;if("column"===e?(n=i.columnMetadataMap,s=t.columnWidth,l=i.lastMeasuredColumnIndex):(n=i.rowMetadataMap,s=t.rowHeight,l=i.lastMeasuredRowIndex),a>l){var o=0;if(l>=0){var r=n[l];o=r.offset+r.size}for(var c=l+1;c<=a;c++){var d=s(c);n[c]={offset:o,size:d},o+=d}"column"===e?i.lastMeasuredColumnIndex=a:i.lastMeasuredRowIndex=a}return n[a]},v=function(e,t,a,i){var n,s;return"column"===e?(n=a.columnMetadataMap,s=a.lastMeasuredColumnIndex):(n=a.rowMetadataMap,s=a.lastMeasuredRowIndex),(s>0?n[s].offset:0)>=i?E(e,t,a,s,0,i):k(e,t,a,Math.max(0,s),i)},E=function(e,t,a,i,n,s){for(;n<=i;){var l=n+Math.floor((i-n)/2),o=y(e,t,l,a).offset;if(o===s)return l;o<s?n=l+1:o>s&&(i=l-1)}return n>0?n-1:0},k=function(e,t,a,i,n){for(var s="column"===e?t.columnCount:t.rowCount,l=1;i<s&&y(e,t,i,a).offset<n;)i+=l,l*=2;return E(e,t,a,Math.min(i,s-1),Math.floor(i/2),n)},T=function(e,t,a,i,n,s,l){var o="column"===e?t.width:t.height,r=y(e,t,a,s),c="column"===e?M(t,s):O(t,s),d=Math.max(0,Math.min(c-o,r.offset)),u=Math.max(0,r.offset-o+l+r.size);switch("smart"===i&&(i=n>=u-o&&n<=d+o?"auto":"center"),i){case"start":return d;case"end":return u;case"center":return Math.round(u+(d-u)/2);default:return n>=u&&n<=d?n:u>d||n<u?u:d}},F=j({getColumnOffset:function(e,t,a){return y("column",e,t,a).offset},getColumnStartIndexForOffset:function(e,t,a){return v("column",e,a,t)},getColumnStopIndexForStartIndex:function(e,t,a,i){for(var n=e.columnCount,s=e.width,l=y("column",e,t,i),o=a+s,r=l.offset+l.size,c=t;c<n-1&&r<o;)c++,r+=y("column",e,c,i).size;return c},getColumnWidth:function(e,t,a){return a.columnMetadataMap[t].size},getEstimatedTotalHeight:O,getEstimatedTotalWidth:M,getOffsetForColumnAndAlignment:function(e,t,a,i,n,s){return T("column",e,t,a,i,n,s)},getOffsetForRowAndAlignment:function(e,t,a,i,n,s){return T("row",e,t,a,i,n,s)},getRowOffset:function(e,t,a){return y("row",e,t,a).offset},getRowHeight:function(e,t,a){return a.rowMetadataMap[t].size},getRowStartIndexForOffset:function(e,t,a){return v("row",e,a,t)},getRowStopIndexForStartIndex:function(e,t,a,i){for(var n=e.rowCount,s=e.height,l=y("row",e,t,i),o=a+s,r=l.offset+l.size,c=t;c<n-1&&r<o;)c++,r+=y("row",e,c,i).size;return c},initInstanceProps:function(e,t){var a=e,i={columnMetadataMap:{},estimatedColumnWidth:a.estimatedColumnWidth||50,estimatedRowHeight:a.estimatedRowHeight||50,lastMeasuredColumnIndex:-1,lastMeasuredRowIndex:-1,rowMetadataMap:{}};return t.resetAfterColumnIndex=function(e,a){void 0===a&&(a=!0),t.resetAfterIndices({columnIndex:e,shouldForceUpdate:a})},t.resetAfterRowIndex=function(e,a){void 0===a&&(a=!0),t.resetAfterIndices({rowIndex:e,shouldForceUpdate:a})},t.resetAfterIndices=function(e){var a=e.columnIndex,n=e.rowIndex,s=e.shouldForceUpdate,l=void 0===s||s;"number"==typeof a&&(i.lastMeasuredColumnIndex=Math.min(i.lastMeasuredColumnIndex,a-1)),"number"==typeof n&&(i.lastMeasuredRowIndex=Math.min(i.lastMeasuredRowIndex,n-1)),t._getItemStyleCache(-1),l&&t.forceUpdate()},i},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){e.columnWidth,e.rowHeight}}),S=function(e,t){return e};function _(e){var t,a=e.getItemOffset,i=e.getEstimatedTotalSize,c=e.getItemSize,d=e.getOffsetForIndexAndAlignment,m=e.getStartIndexForOffset,x=e.getStopIndexForStartIndex,f=e.initInstanceProps,j=e.shouldResetStyleCacheOnItemSizeChange,h=e.validateProps;return t=function(e){function t(t){var i;return(i=e.call(this,t)||this)._instanceProps=f(i.props,s(i)),i._outerRef=void 0,i._resetIsScrollingTimeoutId=null,i.state={instance:s(i),isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"==typeof i.props.initialScrollOffset?i.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},i._callOnItemsRendered=void 0,i._callOnItemsRendered=o((function(e,t,a,n){return i.props.onItemsRendered({overscanStartIndex:e,overscanStopIndex:t,visibleStartIndex:a,visibleStopIndex:n})})),i._callOnScroll=void 0,i._callOnScroll=o((function(e,t,a){return i.props.onScroll({scrollDirection:e,scrollOffset:t,scrollUpdateWasRequested:a})})),i._getItemStyle=void 0,i._getItemStyle=function(e){var t,n=i.props,s=n.direction,l=n.itemSize,o=n.layout,r=i._getItemStyleCache(j&&l,j&&o,j&&s);if(r.hasOwnProperty(e))t=r[e];else{var d=a(i.props,e,i._instanceProps),u=c(i.props,e,i._instanceProps),p="horizontal"===s||"horizontal"===o,m="rtl"===s,g=p?d:0;r[e]=t={position:"absolute",left:m?void 0:g,right:m?g:void 0,top:p?0:d,height:p?"100%":u,width:p?u:"100%"}}return t},i._getItemStyleCache=void 0,i._getItemStyleCache=o((function(e,t,a){return{}})),i._onScrollHorizontal=function(e){var t=e.currentTarget,a=t.clientWidth,n=t.scrollLeft,s=t.scrollWidth;i.setState((function(e){if(e.scrollOffset===n)return null;var t=i.props.direction,l=n;if("rtl"===t)switch(b()){case"negative":l=-n;break;case"positive-descending":l=s-a-n}return l=Math.max(0,Math.min(l,s-a)),{isScrolling:!0,scrollDirection:e.scrollOffset<l?"forward":"backward",scrollOffset:l,scrollUpdateWasRequested:!1}}),i._resetIsScrollingDebounced)},i._onScrollVertical=function(e){var t=e.currentTarget,a=t.clientHeight,n=t.scrollHeight,s=t.scrollTop;i.setState((function(e){if(e.scrollOffset===s)return null;var t=Math.max(0,Math.min(s,n-a));return{isScrolling:!0,scrollDirection:e.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!1}}),i._resetIsScrollingDebounced)},i._outerRefSetter=function(e){var t=i.props.outerRef;i._outerRef=e,"function"==typeof t?t(e):null!=t&&"object"==typeof t&&t.hasOwnProperty("current")&&(t.current=e)},i._resetIsScrollingDebounced=function(){null!==i._resetIsScrollingTimeoutId&&u(i._resetIsScrollingTimeoutId),i._resetIsScrollingTimeoutId=p(i._resetIsScrolling,150)},i._resetIsScrolling=function(){i._resetIsScrollingTimeoutId=null,i.setState({isScrolling:!1},(function(){i._getItemStyleCache(-1,null)}))},i}l(t,e),t.getDerivedStateFromProps=function(e,t){return C(e,t),h(e),null};var O=t.prototype;return O.scrollTo=function(e){e=Math.max(0,e),this.setState((function(t){return t.scrollOffset===e?null:{scrollDirection:t.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0}}),this._resetIsScrollingDebounced)},O.scrollToItem=function(e,t){void 0===t&&(t="auto");var a=this.props,i=a.itemCount,n=a.layout,s=this.state.scrollOffset;e=Math.max(0,Math.min(e,i-1));var l=0;if(this._outerRef){var o=this._outerRef;l="vertical"===n?o.scrollWidth>o.clientWidth?g():0:o.scrollHeight>o.clientHeight?g():0}this.scrollTo(d(this.props,e,t,s,this._instanceProps,l))},O.componentDidMount=function(){var e=this.props,t=e.direction,a=e.initialScrollOffset,i=e.layout;if("number"==typeof a&&null!=this._outerRef){var n=this._outerRef;"horizontal"===t||"horizontal"===i?n.scrollLeft=a:n.scrollTop=a}this._callPropsCallbacks()},O.componentDidUpdate=function(){var e=this.props,t=e.direction,a=e.layout,i=this.state,n=i.scrollOffset;if(i.scrollUpdateWasRequested&&null!=this._outerRef){var s=this._outerRef;if("horizontal"===t||"horizontal"===a)if("rtl"===t)switch(b()){case"negative":s.scrollLeft=-n;break;case"positive-ascending":s.scrollLeft=n;break;default:var l=s.clientWidth,o=s.scrollWidth;s.scrollLeft=o-l-n}else s.scrollLeft=n;else s.scrollTop=n}this._callPropsCallbacks()},O.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&u(this._resetIsScrollingTimeoutId)},O.render=function(){var e=this.props,t=e.children,a=e.className,s=e.direction,l=e.height,o=e.innerRef,c=e.innerElementType,d=e.innerTagName,u=e.itemCount,p=e.itemData,m=e.itemKey,g=void 0===m?S:m,x=e.layout,b=e.outerElementType,f=e.outerTagName,j=e.style,h=e.useIsScrolling,O=e.width,M=this.state.isScrolling,y="horizontal"===s||"horizontal"===x,v=y?this._onScrollHorizontal:this._onScrollVertical,E=this._getRangeToRender(),k=E[0],T=E[1],F=[];if(u>0)for(var _=k;_<=T;_++)F.push(r.createElement(t,{data:p,key:g(_,p),index:_,isScrolling:h?M:void 0,style:this._getItemStyle(_)}));var C=i(this.props,this._instanceProps);return r.createElement(b||f||"div",{className:a,onScroll:v,ref:this._outerRefSetter,style:n({position:"relative",height:l,width:O,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:s},j)},r.createElement(c||d||"div",{children:F,ref:o,style:{height:y?"100%":C,pointerEvents:M?"none":void 0,width:y?C:"100%"}}))},O._callPropsCallbacks=function(){if("function"==typeof this.props.onItemsRendered&&this.props.itemCount>0){var e=this._getRangeToRender(),t=e[0],a=e[1],i=e[2],n=e[3];this._callOnItemsRendered(t,a,i,n)}if("function"==typeof this.props.onScroll){var s=this.state,l=s.scrollDirection,o=s.scrollOffset,r=s.scrollUpdateWasRequested;this._callOnScroll(l,o,r)}},O._getRangeToRender=function(){var e=this.props,t=e.itemCount,a=e.overscanCount,i=this.state,n=i.isScrolling,s=i.scrollDirection,l=i.scrollOffset;if(0===t)return[0,0,0,0];var o=m(this.props,l,this._instanceProps),r=x(this.props,o,l,this._instanceProps),c=n&&"backward"!==s?1:Math.max(1,a),d=n&&"forward"!==s?1:Math.max(1,a);return[Math.max(0,o-c),Math.max(0,Math.min(t-1,r+d)),o,r]},t}(r.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var C=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},L=function(e,t,a){var i=e.itemSize,n=a.itemMetadataMap,s=a.lastMeasuredIndex;if(t>s){var l=0;if(s>=0){var o=n[s];l=o.offset+o.size}for(var r=s+1;r<=t;r++){var c=i(r);n[r]={offset:l,size:c},l+=c}a.lastMeasuredIndex=t}return n[t]},w=function(e,t,a,i,n){for(;i<=a;){var s=i+Math.floor((a-i)/2),l=L(e,s,t).offset;if(l===n)return s;l<n?i=s+1:l>n&&(a=s-1)}return i>0?i-1:0},I=function(e,t){var a=e.itemCount,i=t.itemMetadataMap,n=t.estimatedItemSize,s=t.lastMeasuredIndex,l=0;if(s>=a&&(s=a-1),s>=0){var o=i[s];l=o.offset+o.size}return l+(a-s-1)*n},D=_({getItemOffset:function(e,t,a){return L(e,t,a).offset},getItemSize:function(e,t,a){return a.itemMetadataMap[t].size},getEstimatedTotalSize:I,getOffsetForIndexAndAlignment:function(e,t,a,i,n,s){var l=e.direction,o=e.height,r=e.layout,c=e.width,d="horizontal"===l||"horizontal"===r?c:o,u=L(e,t,n),p=I(e,n),m=Math.max(0,Math.min(p-d,u.offset)),g=Math.max(0,u.offset-d+u.size+s);switch("smart"===a&&(a=i>=g-d&&i<=m+d?"auto":"center"),a){case"start":return m;case"end":return g;case"center":return Math.round(g+(m-g)/2);default:return i>=g&&i<=m?i:i<g?g:m}},getStartIndexForOffset:function(e,t,a){return function(e,t,a){var i=t.itemMetadataMap,n=t.lastMeasuredIndex;return(n>0?i[n].offset:0)>=a?w(e,t,n,0,a):function(e,t,a,i){for(var n=e.itemCount,s=1;a<n&&L(e,a,t).offset<i;)a+=s,s*=2;return w(e,t,Math.min(a,n-1),Math.floor(a/2),i)}(e,t,Math.max(0,n),a)}(e,a,t)},getStopIndexForStartIndex:function(e,t,a,i){for(var n=e.direction,s=e.height,l=e.itemCount,o=e.layout,r=e.width,c="horizontal"===n||"horizontal"===o?r:s,d=L(e,t,i),u=a+c,p=d.offset+d.size,m=t;m<l-1&&p<u;)m++,p+=L(e,m,i).size;return m},initInstanceProps:function(e,t){var a={itemMetadataMap:{},estimatedItemSize:e.estimatedItemSize||50,lastMeasuredIndex:-1};return t.resetAfterIndex=function(e,i){void 0===i&&(i=!0),a.lastMeasuredIndex=Math.min(a.lastMeasuredIndex,e-1),t._getItemStyleCache(-1),i&&t.forceUpdate()},a},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){e.itemSize}}),P=j({getColumnOffset:function(e,t){return t*e.columnWidth},getColumnWidth:function(e,t){return e.columnWidth},getRowOffset:function(e,t){return t*e.rowHeight},getRowHeight:function(e,t){return e.rowHeight},getEstimatedTotalHeight:function(e){var t=e.rowCount;return e.rowHeight*t},getEstimatedTotalWidth:function(e){var t=e.columnCount;return e.columnWidth*t},getOffsetForColumnAndAlignment:function(e,t,a,i,n,s){var l=e.columnCount,o=e.columnWidth,r=e.width,c=Math.max(0,l*o-r),d=Math.min(c,t*o),u=Math.max(0,t*o-r+s+o);switch("smart"===a&&(a=i>=u-r&&i<=d+r?"auto":"center"),a){case"start":return d;case"end":return u;case"center":var p=Math.round(u+(d-u)/2);return p<Math.ceil(r/2)?0:p>c+Math.floor(r/2)?c:p;default:return i>=u&&i<=d?i:u>d||i<u?u:d}},getOffsetForRowAndAlignment:function(e,t,a,i,n,s){var l=e.rowHeight,o=e.height,r=e.rowCount,c=Math.max(0,r*l-o),d=Math.min(c,t*l),u=Math.max(0,t*l-o+s+l);switch("smart"===a&&(a=i>=u-o&&i<=d+o?"auto":"center"),a){case"start":return d;case"end":return u;case"center":var p=Math.round(u+(d-u)/2);return p<Math.ceil(o/2)?0:p>c+Math.floor(o/2)?c:p;default:return i>=u&&i<=d?i:u>d||i<u?u:d}},getColumnStartIndexForOffset:function(e,t){var a=e.columnWidth,i=e.columnCount;return Math.max(0,Math.min(i-1,Math.floor(t/a)))},getColumnStopIndexForStartIndex:function(e,t,a){var i=e.columnWidth,n=e.columnCount,s=e.width,l=t*i,o=Math.ceil((s+a-l)/i);return Math.max(0,Math.min(n-1,t+o-1))},getRowStartIndexForOffset:function(e,t){var a=e.rowHeight,i=e.rowCount;return Math.max(0,Math.min(i-1,Math.floor(t/a)))},getRowStopIndexForStartIndex:function(e,t,a){var i=e.rowHeight,n=e.rowCount,s=e.height,l=t*i,o=Math.ceil((s+a-l)/i);return Math.max(0,Math.min(n-1,t+o-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.columnWidth,e.rowHeight}}),N=_({getItemOffset:function(e,t){return t*e.itemSize},getItemSize:function(e,t){return e.itemSize},getEstimatedTotalSize:function(e){var t=e.itemCount;return e.itemSize*t},getOffsetForIndexAndAlignment:function(e,t,a,i,n,s){var l=e.direction,o=e.height,r=e.itemCount,c=e.itemSize,d=e.layout,u=e.width,p="horizontal"===l||"horizontal"===d?u:o,m=Math.max(0,r*c-p),g=Math.min(m,t*c),x=Math.max(0,t*c-p+c+s);switch("smart"===a&&(a=i>=x-p&&i<=g+p?"auto":"center"),a){case"start":return g;case"end":return x;case"center":var b=Math.round(x+(g-x)/2);return b<Math.ceil(p/2)?0:b>m+Math.floor(p/2)?m:b;default:return i>=x&&i<=g?i:i<x?x:g}},getStartIndexForOffset:function(e,t){var a=e.itemCount,i=e.itemSize;return Math.max(0,Math.min(a-1,Math.floor(t/i)))},getStopIndexForStartIndex:function(e,t,a){var i=e.direction,n=e.height,s=e.itemCount,l=e.itemSize,o=e.layout,r=e.width,c=t*l,d="horizontal"===i||"horizontal"===o?r:n,u=Math.ceil((d+a-c)/l);return Math.max(0,Math.min(s-1,t+u-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.itemSize}});function A(e,t){for(var a in e)if(!(a in t))return!0;for(var i in t)if(e[i]!==t[i])return!0;return!1}var B=["style"],R=["style"];function z(e,t){var a=e.style,i=c(e,B),n=t.style,s=c(t,R);return!A(a,n)&&!A(i,s)}t.FixedSizeGrid=P,t.FixedSizeList=N,t.VariableSizeGrid=F,t.VariableSizeList=D,t.areEqual=z,t.shouldComponentUpdate=function(e,t){return!z(this.props,e)||A(this.state,t)}},function(e,t,a){e.exports=a(18)(1453)},function(e,t,a){e.exports=a(18)(3099)},function(e,t,a){"use strict";function i(e,t){if(e.length!==t.length)return!1;for(var a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}e.exports=function(e,t){var a;void 0===t&&(t=i);var n,s=[],l=!1;return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return l&&a===this&&t(i,s)||(n=e.apply(this,i),l=!0,a=this,s=i),n}}},function(e,t,a){e.exports=a(18)(3433)},function(e,t,a){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},function(e,t,a){"use strict";var i="%[a-f0-9]{2}",n=new RegExp("("+i+")|([^%]+?)","gi"),s=new RegExp("("+i+")+","gi");function l(e,t){try{return[decodeURIComponent(e.join(""))]}catch(e){}if(1===e.length)return e;t=t||1;var a=e.slice(0,t),i=e.slice(t);return Array.prototype.concat.call([],l(a),l(i))}function o(e){try{return decodeURIComponent(e)}catch(i){for(var t=e.match(n)||[],a=1;a<t.length;a++)t=(e=l(t,a).join("")).match(n)||[];return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},a=s.exec(e);a;){try{t[a[0]]=decodeURIComponent(a[0])}catch(e){var i=o(a[0]);i!==a[0]&&(t[a[0]]=i)}a=s.exec(e)}t["%C2"]="�";for(var n=Object.keys(t),l=0;l<n.length;l++){var r=n[l];e=e.replace(new RegExp(r,"g"),t[r])}return e}(e)}}},function(e,t,a){"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const a=e.indexOf(t);return-1===a?[e]:[e.slice(0,a),e.slice(a+t.length)]}},function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(154);case"v8light":return a(156)}},function(e,t,a){var i=a(22),n=a(155);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);i(n,{insert:"head",singleton:!1}),e.exports=n.locals||{}},function(e,t,a){(t=a(23)(!1)).push([e.i,'.componentTemplatesListItem{background-color:#141519;border-bottom:1px solid #343741;height:48px;padding:12px;position:relative}.componentTemplatesListItem--selected:before{background-color:#1d1e24b3;content:"";height:100%;left:0;position:absolute;top:0;width:100%;z-index:1}.componentTemplatesListItem__contentIndicator{flex-direction:row}.componentTemplatesListItem__checkIcon{position:absolute;right:16px;top:16px;z-index:2}',""]),e.exports=t},function(e,t,a){var i=a(22),n=a(157);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);i(n,{insert:"head",singleton:!1}),e.exports=n.locals||{}},function(e,t,a){(t=a(23)(!1)).push([e.i,'.componentTemplatesListItem{background-color:#fafbfd;border-bottom:1px solid #d3dae6;height:48px;padding:12px;position:relative}.componentTemplatesListItem--selected:before{background-color:#ffffffb3;content:"";height:100%;left:0;position:absolute;top:0;width:100%;z-index:1}.componentTemplatesListItem__contentIndicator{flex-direction:row}.componentTemplatesListItem__checkIcon{position:absolute;right:16px;top:16px;z-index:2}',""]),e.exports=t},function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(159);case"v8light":return a(161)}},function(e,t,a){var i=a(22),n=a(160);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);i(n,{insert:"head",singleton:!1}),e.exports=n.locals||{}},function(e,t,a){(t=a(23)(!1)).push([e.i,".componentTemplates{border:1px solid #343741;border-radius:6px;border-top:none;height:100%}.componentTemplates__header{height:48px}.componentTemplates__header .euiFormControlLayout{max-width:none}.componentTemplates__searchBox{border-bottom:1px solid #343741;border-bottom-right-radius:0;border-top:1px solid #343741;border-top-right-radius:0;box-shadow:none;max-width:none}.componentTemplates__filterListButton{border-bottom:1px solid #343741;border-left:1px solid #343741;border-top:1px solid #343741;box-shadow:none;height:40px}.componentTemplates__filterListButton,.componentTemplates__filterListButton>:first-child .euiFilterButton{border-bottom-left-radius:0;border-top-left-radius:0}.componentTemplates__listWrapper{height:calc(100% - 48px)}.componentTemplates__listWrapper--is-empty{display:flex}",""]),e.exports=t},function(e,t,a){var i=a(22),n=a(162);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);i(n,{insert:"head",singleton:!1}),e.exports=n.locals||{}},function(e,t,a){(t=a(23)(!1)).push([e.i,".componentTemplates{border:1px solid #d3dae6;border-radius:6px;border-top:none;height:100%}.componentTemplates__header{height:48px}.componentTemplates__header .euiFormControlLayout{max-width:none}.componentTemplates__searchBox{border-bottom:1px solid #d3dae6;border-bottom-right-radius:0;border-top:1px solid #d3dae6;border-top-right-radius:0;box-shadow:none;max-width:none}.componentTemplates__filterListButton{border-bottom:1px solid #d3dae6;border-left:1px solid #d3dae6;border-top:1px solid #d3dae6;box-shadow:none;height:40px}.componentTemplates__filterListButton,.componentTemplates__filterListButton>:first-child .euiFilterButton{border-bottom-left-radius:0;border-top-left-radius:0}.componentTemplates__listWrapper{height:calc(100% - 48px)}.componentTemplates__listWrapper--is-empty{display:flex}",""]),e.exports=t},function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(164);case"v8light":return a(166)}},function(e,t,a){var i=a(22),n=a(165);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);i(n,{insert:"head",singleton:!1}),e.exports=n.locals||{}},function(e,t,a){(t=a(23)(!1)).push([e.i,".componentTemplatesSelector{height:480px}.componentTemplatesSelector__selection{border:1px solid #343741;border-radius:6px;color:#98a2b3;padding:0 16px 16px}.componentTemplatesSelector__selection--is-empty{align-items:center;justify-content:center}.componentTemplatesSelector__selection__header{background-color:#25262e;border-bottom:1px solid #343741;color:#fff;font-size:12px;height:40px;line-height:40px;margin-bottom:8px;margin-left:-16px;margin-right:-16px;padding-left:16px}.componentTemplatesSelector__selection__header__count{font-weight:600}.componentTemplatesSelector__selection__content{-webkit-mask-image:none;mask-image:none}",""]),e.exports=t},function(e,t,a){var i=a(22),n=a(167);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);i(n,{insert:"head",singleton:!1}),e.exports=n.locals||{}},function(e,t,a){(t=a(23)(!1)).push([e.i,".componentTemplatesSelector{height:480px}.componentTemplatesSelector__selection{border:1px solid #d3dae6;border-radius:6px;color:#69707d;padding:0 16px 16px}.componentTemplatesSelector__selection--is-empty{align-items:center;justify-content:center}.componentTemplatesSelector__selection__header{background-color:#f5f7fa;border-bottom:1px solid #d3dae6;color:#000;font-size:12px;height:40px;line-height:40px;margin-bottom:8px;margin-left:-16px;margin-right:-16px;padding-left:16px}.componentTemplatesSelector__selection__header__count{font-weight:600}.componentTemplatesSelector__selection__content{-webkit-mask-image:none;mask-image:none}",""]),e.exports=t},function(e,t,a){"use strict";t.__esModule=!0,t.default=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var n;(0,i.default)((n=t,!(0,l.default)(n)&&n.every(u)),"Expected action types to be strings, symbols, or action creators");var s=t.map(o.default).join(c.ACTION_TYPE_DELIMITER);return{toString:function(){return s}}};var i=d(a(89)),n=d(a(96)),s=d(a(169)),l=d(a(114)),o=d(a(115)),r=d(a(116)),c=a(90);function d(e){return e&&e.__esModule?e:{default:e}}function u(e){return(0,r.default)(e)||(0,n.default)(e)||(0,s.default)(e)}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return"symbol"==typeof e||"object"==typeof e&&"[object Symbol]"===Object.prototype.toString.call(e)}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return null===e}},function(e,t,a){"use strict";t.__esModule=!0,t.default=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),s=1;s<t;s++)a[s-1]=arguments[s];var l=(0,n.default)((0,d.default)(a))?a.pop():{};return(0,i.default)(a.every(r.default)&&((0,r.default)(e)||(0,n.default)(e)),"Expected optional object followed by string action types"),(0,r.default)(e)?M([e].concat(a),l):j({},function(e,t){var a=O((0,m.default)(e,t));return(0,g.default)(a,t)}(e,l),M(a,l))};var i=f(a(89)),n=f(a(91)),s=f(a(96)),l=f(a(102)),o=f(a(172)),r=f(a(116)),c=f(a(117)),d=f(a(173)),u=f(a(118)),p=f(a(177)),m=f(a(178)),g=f(a(179)),x=f(a(101)),b=a(90);function f(e){return e&&e.__esModule?e:{default:e}}function j(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},i=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),i.forEach((function(t){h(e,t,a[t])}))}return e}function h(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function O(e,t){var a=void 0===t?{}:t,n=a.prefix,r=a.namespace,d=void 0===r?b.DEFAULT_NAMESPACE:r;return(0,p.default)(Object.keys(e),(function(t,a){var r,u=e[a];(0,i.default)(function(e){if((0,s.default)(e)||(0,c.default)(e))return!0;if((0,o.default)(e)){var t=e[0],a=void 0===t?l.default:t,i=e[1];return(0,s.default)(a)&&(0,s.default)(i)}return!1}(u),"Expected function, undefined, null, or array with payload and meta functions for "+a);var p=n?""+n+d+a:a,m=(0,o.default)(u)?x.default.apply(void 0,[p].concat(u)):(0,x.default)(p,u);return j({},t,((r={})[a]=m,r))}))}function M(e,t){var a=O((0,p.default)(e,(function(e,t){var a;return j({},e,((a={})[t]=l.default,a))})),t);return(0,p.default)(Object.keys(a),(function(e,t){var i;return j({},e,((i={})[(0,u.default)(t)]=a[t],i))}))}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return Array.isArray(e)}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return e[e.length-1]}},function(e,t,a){var i=a(175);e.exports=function(e){return i(e).replace(/\s(\w)/g,(function(e,t){return t.toUpperCase()}))}},function(e,t,a){var i=a(176);e.exports=function(e){return i(e).replace(/[\W_]+(.|$)/g,(function(e,t){return t?" "+t:""})).trim()}},function(e,t){e.exports=function(e){return a.test(e)?e.toLowerCase():i.test(e)?(function(e){return e.replace(s,(function(e,t){return t?" "+t:""}))}(e)||e).toLowerCase():n.test(e)?function(e){return e.replace(l,(function(e,t,a){return t+" "+a.toLowerCase().split("").join(" ")}))}(e).toLowerCase():e.toLowerCase()};var a=/\s/,i=/(_|-|\.|:)/,n=/([a-z][A-Z]|[A-Z][a-z])/,s=/[\W_]+(.|$)/g,l=/(.)([A-Z]+)/g},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e,t){return e.reduce((function(e,a){return t(e,a)}),{})}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var i=n(a(91));function n(e){return e&&e.__esModule?e:{default:e}}var s=(0,n(a(119)).default)(i.default);t.default=s},function(e,t,a){"use strict";t.__esModule=!0,t.default=function(e,t){var a=void 0===t?{}:t,l=a.namespace,o=void 0===l?i.DEFAULT_NAMESPACE:l,r=a.prefix;function c(t,a,i){var l=(0,s.default)(i.shift());(0,n.default)(i)?a[l]=e[t]:(a[l]||(a[l]={}),c(t,a[l],i))}var d={};return Object.getOwnPropertyNames(e).forEach((function(e){var t=r?e.replace(""+r+o,""):e;return c(e,d,t.split(o))})),d};var i=a(90),n=l(a(114)),s=l(a(118));function l(e){return e&&e.__esModule?e:{default:e}}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var i=s(a(181)),n=s(a(101));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){return(0,i.default)((0,n.default)(e,t),t.length)}},function(e,t){e.exports=function(e,t){return function a(){null==t&&(t=e.length);var i=[].slice.call(arguments);return i.length>=t?e.apply(this,i):function(){return a.apply(this,i.concat([].slice.call(arguments)))}}}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return void 0===e}},function(e,t,a){"use strict";t.__esModule=!0,t.default=function(e,t,a){void 0===a&&(a={}),(0,n.default)((0,s.default)(e)||(0,l.default)(e),"Expected handlers to be a plain object.");var u=(0,r.default)(e,a),p=(0,o.default)(u).map((function(e){return(0,c.default)(e,(0,d.default)(e,u),t)})),m=i.default.apply(void 0,p.concat([t]));return function(e,a){return void 0===e&&(e=t),m(e,a)}};var i=u(a(184)),n=u(a(89)),s=u(a(91)),l=u(a(97)),o=u(a(103)),r=u(a(185)),c=u(a(121)),d=u(a(120));function u(e){return e&&e.__esModule?e:{default:e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];var i="function"!=typeof t[t.length-1]&&t.pop(),n=t;if(void 0===i)throw new TypeError("The initial state may not be undefined. If you do not want to set a value for this reducer, you can use null instead of undefined.");return function(e,t){for(var a=arguments.length,s=Array(a>2?a-2:0),l=2;l<a;l++)s[l-2]=arguments[l];var o=void 0===e,r=void 0===t;return o&&r&&i?i:n.reduce((function(e,a){return a.apply(void 0,[e,t].concat(s))}),o&&!r&&i?i:e)}},e.exports=t.default},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var i=l(a(91)),n=l(a(97)),s=l(a(186));function l(e){return e&&e.__esModule?e:{default:e}}var o=(0,l(a(119)).default)((function(e){return((0,i.default)(e)||(0,n.default)(e))&&!(0,s.default)(e)}));t.default=o},function(e,t,a){"use strict";t.__esModule=!0,t.default=function(e){var t=(0,n.default)(e),a=t.every((function(e){return"next"===e||"throw"===e}));return t.length&&t.length<=2&&a};var i,n=(i=a(103))&&i.__esModule?i:{default:i}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(35),n=a(122),s=i.__importDefault(a(189));t.default=function(e,t){s.default(e,t,n.isDeepEqual)}},function(e,t,a){"use strict";e.exports=function e(t,a){if(t===a)return!0;if(t&&a&&"object"==typeof t&&"object"==typeof a){if(t.constructor!==a.constructor)return!1;var i,n,s;if(Array.isArray(t)){if((i=t.length)!=a.length)return!1;for(n=i;0!=n--;)if(!e(t[n],a[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===a.source&&t.flags===a.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===a.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===a.toString();if((i=(s=Object.keys(t)).length)!==Object.keys(a).length)return!1;for(n=i;0!=n--;)if(!Object.prototype.hasOwnProperty.call(a,s[n]))return!1;for(n=i;0!=n--;){var l=s[n];if(!("_owner"===l&&t.$$typeof||e(t[l],a[l])))return!1}return!0}return t!=t&&a!=a}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(5);t.default=function(e,t,a){var n=i.useRef(void 0);n.current&&a(t,n.current)||(n.current=t),i.useEffect(e,n.current)}},function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(191);case"v8light":return a(193)}},function(e,t,a){var i=a(22),n=a(192);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);i(n,{insert:"head",singleton:!1}),e.exports=n.locals||{}},function(e,t,a){var i=a(23),n=a(123),s=a(124);t=i(!1);var l=n(s);t.push([e.i,".kbnSolutionAvatar{box-shadow:0 .7px 1.4px rgba(0,0,0,.175),0 1.9px 4px rgba(0,0,0,.125),0 4.5px 10px rgba(0,0,0,.125)}.kbnSolutionAvatar--xxl{background:#1d1e24 url("+l+") no-repeat;background-size:cover,125%;border-radius:100px;box-shadow:0 .9px 4px -1px #0003,0 2.6px 8px -1px #00000026,0 5.7px 12px -1px rgba(0,0,0,.125),0 15px 15px -1px #0000001a;display:inline-block;height:100px;line-height:100px;text-align:center;width:100px}",""]),e.exports=t},function(e,t,a){var i=a(22),n=a(194);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);i(n,{insert:"head",singleton:!1}),e.exports=n.locals||{}},function(e,t,a){var i=a(23),n=a(123),s=a(124);t=i(!1);var l=n(s);t.push([e.i,".kbnSolutionAvatar{box-shadow:0 .7px 1.4px #00000012,0 1.9px 4px #0000000d,0 4.5px 10px #0000000d}.kbnSolutionAvatar--xxl{background:#fff url("+l+") no-repeat;background-size:cover,125%;border-radius:100px;box-shadow:0 .9px 4px -1px #00000014,0 2.6px 8px -1px #0000000f,0 5.7px 12px -1px #0000000d,0 15px 15px -1px #0000000a;display:inline-block;height:100px;line-height:100px;text-align:center;width:100px}",""]),e.exports=t},function(e,t,a){e.exports=a.p+"baad30acfe492601d08a0e839c9bb3f5.svg"},function(e,t,a){"use strict";e.exports=a(197)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(198);a(15),a(125),a(126);var n=i.default({key:"css"}),s=n.flush,l=n.hydrate,o=n.cx,r=n.merge,c=n.getRegisteredStyles,d=n.injectGlobal,u=n.keyframes,p=n.css,m=n.sheet,g=n.cache;t.cache=g,t.css=p,t.cx=o,t.flush=s,t.getRegisteredStyles=c,t.hydrate=l,t.injectGlobal=d,t.keyframes=u,t.merge=r,t.sheet=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(15),n=a(125),s=a(126);function l(e){return e&&e.__esModule?e:{default:e}}var o=l(i);function r(e,t){if(void 0===e.inserted[t.name])return e.insert("",t,e.sheet,!0)}function c(e,t,a){var i=[],n=s.getRegisteredStyles(e,i,a);return i.length<2?a:n+t(i)}var d=function e(t){for(var a="",i=0;i<t.length;i++){var n=t[i];if(null!=n){var s=void 0;switch(typeof n){case"boolean":break;case"object":if(Array.isArray(n))s=e(n);else for(var l in s="",n)n[l]&&l&&(s&&(s+=" "),s+=l);break;default:s=n}s&&(a&&(a+=" "),a+=s)}}return a};t.default=function(e){var t=o.default(e);t.sheet.speedy=function(e){this.isSpeedy=e},t.compat=!0;var a=function(){for(var e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];var l=n.serializeStyles(a,t.registered,void 0);return s.insertStyles(t,l,!1),t.key+"-"+l.name};return{css:a,cx:function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return c(t.registered,a,d(i))},injectGlobal:function(){for(var e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];var s=n.serializeStyles(a,t.registered);r(t,s)},keyframes:function(){for(var e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];var s=n.serializeStyles(a,t.registered),l="animation-"+s.name;return r(t,{name:s.name,styles:"@keyframes "+l+"{"+s.styles+"}"}),l},hydrate:function(e){e.forEach((function(e){t.inserted[e]=!0}))},flush:function(){t.registered={},t.inserted={},t.sheet.flush()},sheet:t.sheet,cache:t,getRegisteredStyles:s.getRegisteredStyles.bind(null,t.registered),merge:c.bind(null,t.registered,a)}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(200),n=a(202),s=a(204);function l(e){return e&&e.__esModule?e:{default:e}}var o=l(i),r=l(n),c=/[A-Z]|^ms/g,d=/_EMO_([^_]+?)_([^]*?)_EMO_/g,u=function(e){return 45===e.charCodeAt(1)},p=function(e){return null!=e&&"boolean"!=typeof e},m=l(s).default((function(e){return u(e)?e:e.replace(c,"-$&").toLowerCase()})),g=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(d,(function(e,t,a){return b={name:t,styles:a,next:b},t}))}return 1===r.default[e]||u(e)||"number"!=typeof t||0===t?t:t+"px"};function x(e,t,a){if(null==a)return"";if(void 0!==a.__emotion_styles)return a;switch(typeof a){case"boolean":return"";case"object":if(1===a.anim)return b={name:a.name,styles:a.styles,next:b},a.name;if(void 0!==a.styles){var i=a.next;if(void 0!==i)for(;void 0!==i;)b={name:i.name,styles:i.styles,next:b},i=i.next;return a.styles+";"}return function(e,t,a){var i="";if(Array.isArray(a))for(var n=0;n<a.length;n++)i+=x(e,t,a[n])+";";else for(var s in a){var l=a[s];if("object"!=typeof l)null!=t&&void 0!==t[l]?i+=s+"{"+t[l]+"}":p(l)&&(i+=m(s)+":"+g(s,l)+";");else if(!Array.isArray(l)||"string"!=typeof l[0]||null!=t&&void 0!==t[l[0]]){var o=x(e,t,l);switch(s){case"animation":case"animationName":i+=m(s)+":"+o+";";break;default:i+=s+"{"+o+"}"}}else for(var r=0;r<l.length;r++)p(l[r])&&(i+=m(s)+":"+g(s,l[r])+";")}return i}(e,t,a);case"function":if(void 0!==e){var n=b,s=a(e);return b=n,x(e,t,s)}}if(null==t)return a;var l=t[a];return void 0!==l?l:a}var b,f=/label:\s*([^\s;\n{]+)\s*(;|$)/g;t.serializeStyles=function(e,t,a){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i=!0,n="";b=void 0;var s=e[0];null==s||void 0===s.raw?(i=!1,n+=x(a,t,s)):n+=s[0];for(var l=1;l<e.length;l++)n+=x(a,t,e[l]),i&&(n+=s[l]);f.lastIndex=0;for(var r,c="";null!==(r=f.exec(n));)c+="-"+r[1];return{name:o.default(n)+c,styles:n,next:b}}},function(e,t,a){"use strict";e.exports=a(201)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t,a=0,i=0,n=e.length;n>=4;++i,n-=4)t=1540483477*(65535&(t=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+(59797*(t>>>16)<<16),a=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&a)+(59797*(a>>>16)<<16);switch(n){case 3:a^=(255&e.charCodeAt(i+2))<<16;case 2:a^=(255&e.charCodeAt(i+1))<<8;case 1:a=1540483477*(65535&(a^=255&e.charCodeAt(i)))+(59797*(a>>>16)<<16)}return(((a=1540483477*(65535&(a^=a>>>13))+(59797*(a>>>16)<<16))^a>>>15)>>>0).toString(36)}},function(e,t,a){"use strict";e.exports=a(203)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(e,t,a){"use strict";e.exports=a(205)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=Object.create(null);return function(a){return void 0===t[a]&&(t[a]=e(a)),t[a]}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="undefined"!=typeof document,n=function(e,t,a){var n=e.key+"-"+t.name;(!1===a||!1===i&&void 0!==e.compat)&&void 0===e.registered[n]&&(e.registered[n]=t.styles)};t.getRegisteredStyles=function(e,t,a){var i="";return a.split(" ").forEach((function(a){void 0!==e[a]?t.push(e[a]+";"):i+=a+" "})),i},t.insertStyles=function(e,t,a){n(e,t,a);var s=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var l="",o=t;do{var r=e.insert(t===o?"."+s:"",o,e.sheet,!0);i||void 0===r||(l+=r),o=o.next}while(void 0!==o);if(!i&&0!==l.length)return l}},t.registerStyles=n},function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(208);case"v8light":return a(210)}},function(e,t,a){var i=a(22),n=a(209);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);i(n,{insert:"head",singleton:!1}),e.exports=n.locals||{}},function(e,t,a){(t=a(23)(!1)).push([e.i,'.kbnSolutionNav__flyout{background-color:#141519}.kbnSolutionNav__flyout .kbnSolutionNav{flex:auto}.kbnSolutionNav{display:flex;flex-direction:column;height:100%;overflow-x:hidden;overflow-y:auto;scrollbar-color:#98a2b380 #0000;scrollbar-width:thin}.kbnSolutionNav::-webkit-scrollbar{height:16px;width:16px}.kbnSolutionNav::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#98a2b380;border:6px solid #0000;border-radius:16px}.kbnSolutionNav::-webkit-scrollbar-corner,.kbnSolutionNav::-webkit-scrollbar-track{background-color:#0000}.kbnSolutionNav:focus{outline:none}.kbnSolutionNav[tabindex="0"]:focus:focus-visible{outline-style:auto}@media only screen and (min-width:768px)and (max-width:991px){.kbnSolutionNav{padding:24px;width:248px}}@media only screen and (min-width:992px)and (max-width:1199px){.kbnSolutionNav{padding:24px;width:248px}}@media only screen and (min-width:1200px){.kbnSolutionNav{padding:24px;width:248px}}.kbnSolutionNav__title{align-items:center;display:inline-flex}.kbnSolutionNav__titleAvatar{align-self:flex-start;margin-right:12px}.kbnSolutionNav--hidden{opacity:0;pointer-events:none}@media screen and (prefers-reduced-motion:no-preference){.kbnSolutionNav--hidden{transition:opacity .15s cubic-bezier(.694,.0482,.335,1)}}',""]),e.exports=t},function(e,t,a){var i=a(22),n=a(211);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);i(n,{insert:"head",singleton:!1}),e.exports=n.locals||{}},function(e,t,a){(t=a(23)(!1)).push([e.i,'.kbnSolutionNav__flyout{background-color:#fafbfd}.kbnSolutionNav__flyout .kbnSolutionNav{flex:auto}.kbnSolutionNav{display:flex;flex-direction:column;height:100%;overflow-x:hidden;overflow-y:auto;scrollbar-color:#69707d80 #0000;scrollbar-width:thin}.kbnSolutionNav::-webkit-scrollbar{height:16px;width:16px}.kbnSolutionNav::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#69707d80;border:6px solid #0000;border-radius:16px}.kbnSolutionNav::-webkit-scrollbar-corner,.kbnSolutionNav::-webkit-scrollbar-track{background-color:#0000}.kbnSolutionNav:focus{outline:none}.kbnSolutionNav[tabindex="0"]:focus:focus-visible{outline-style:auto}@media only screen and (min-width:768px)and (max-width:991px){.kbnSolutionNav{padding:24px;width:248px}}@media only screen and (min-width:992px)and (max-width:1199px){.kbnSolutionNav{padding:24px;width:248px}}@media only screen and (min-width:1200px){.kbnSolutionNav{padding:24px;width:248px}}.kbnSolutionNav__title{align-items:center;display:inline-flex}.kbnSolutionNav__titleAvatar{align-self:flex-start;margin-right:12px}.kbnSolutionNav--hidden{opacity:0;pointer-events:none}@media screen and (prefers-reduced-motion:no-preference){.kbnSolutionNav--hidden{transition:opacity .15s cubic-bezier(.694,.0482,.335,1)}}',""]),e.exports=t},function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(213);case"v8light":return a(215)}},function(e,t,a){var i=a(22),n=a(214);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);i(n,{insert:"head",singleton:!1}),e.exports=n.locals||{}},function(e,t,a){(t=a(23)(!1)).push([e.i,".kbnSolutionNavCollapseButton{left:232px;opacity:0;position:absolute;top:24px;z-index:2}@media screen and (prefers-reduced-motion:no-preference){.kbnSolutionNavCollapseButton{transition:opacity .15s,left .15s,background .15s}}.kbnSolutionNavCollapseButton:focus,.kbnSolutionNavCollapseButton:hover{transition-delay:0s!important}.kbnSolutionNavCollapseButton:focus,.kbnSolutionNavCollapseButton:hover,.kbnSolutionNav__sidebar:hover .kbnSolutionNavCollapseButton{left:224px;opacity:1}.kbnSolutionNav__sidebar:hover .kbnSolutionNavCollapseButton{transition-delay:.7s}.kbnSolutionNavCollapseButton:not(.kbnSolutionNavCollapseButton-isCollapsed){background-color:#1d1e24!important}.kbnSolutionNavCollapseButton-isCollapsed{align-items:flex-start;border-radius:0;bottom:0;height:100%;left:0!important;opacity:1!important;padding-top:32px;right:auto;top:0;transition-delay:0s!important;width:40px}",""]),e.exports=t},function(e,t,a){var i=a(22),n=a(216);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);i(n,{insert:"head",singleton:!1}),e.exports=n.locals||{}},function(e,t,a){(t=a(23)(!1)).push([e.i,".kbnSolutionNavCollapseButton{left:232px;opacity:0;position:absolute;top:24px;z-index:2}@media screen and (prefers-reduced-motion:no-preference){.kbnSolutionNavCollapseButton{transition:opacity .15s,left .15s,background .15s}}.kbnSolutionNavCollapseButton:focus,.kbnSolutionNavCollapseButton:hover{transition-delay:0s!important}.kbnSolutionNavCollapseButton:focus,.kbnSolutionNavCollapseButton:hover,.kbnSolutionNav__sidebar:hover .kbnSolutionNavCollapseButton{left:224px;opacity:1}.kbnSolutionNav__sidebar:hover .kbnSolutionNavCollapseButton{transition-delay:.7s}.kbnSolutionNavCollapseButton:not(.kbnSolutionNavCollapseButton-isCollapsed){background-color:#fff!important}.kbnSolutionNavCollapseButton-isCollapsed{align-items:flex-start;border-radius:0;bottom:0;height:100%;left:0!important;opacity:1!important;padding-top:32px;right:auto;top:0;transition-delay:0s!important;width:40px}",""]),e.exports=t},function(e,t,a){var i,n=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",i={};function n(e,t){if(!i[e]){i[e]={};for(var a=0;a<e.length;a++)i[e][e.charAt(a)]=a}return i[e][t]}var s={compressToBase64:function(e){if(null==e)return"";var a=s._compress(e,6,(function(e){return t.charAt(e)}));switch(a.length%4){default:case 0:return a;case 1:return a+"===";case 2:return a+"==";case 3:return a+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:s._decompress(e.length,32,(function(a){return n(t,e.charAt(a))}))},compressToUTF16:function(t){return null==t?"":s._compress(t,15,(function(t){return e(t+32)}))+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:s._decompress(e.length,16384,(function(t){return e.charCodeAt(t)-32}))},compressToUint8Array:function(e){for(var t=s.compress(e),a=new Uint8Array(2*t.length),i=0,n=t.length;i<n;i++){var l=t.charCodeAt(i);a[2*i]=l>>>8,a[2*i+1]=l%256}return a},decompressFromUint8Array:function(t){if(null==t)return s.decompress(t);for(var a=new Array(t.length/2),i=0,n=a.length;i<n;i++)a[i]=256*t[2*i]+t[2*i+1];var l=[];return a.forEach((function(t){l.push(e(t))})),s.decompress(l.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":s._compress(e,6,(function(e){return a.charAt(e)}))},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),s._decompress(e.length,32,(function(t){return n(a,e.charAt(t))})))},compress:function(t){return s._compress(t,16,(function(t){return e(t)}))},_compress:function(e,t,a){if(null==e)return"";var i,n,s,l={},o={},r="",c="",d="",u=2,p=3,m=2,g=[],x=0,b=0;for(s=0;s<e.length;s+=1)if(r=e.charAt(s),Object.prototype.hasOwnProperty.call(l,r)||(l[r]=p++,o[r]=!0),c=d+r,Object.prototype.hasOwnProperty.call(l,c))d=c;else{if(Object.prototype.hasOwnProperty.call(o,d)){if(d.charCodeAt(0)<256){for(i=0;i<m;i++)x<<=1,b==t-1?(b=0,g.push(a(x)),x=0):b++;for(n=d.charCodeAt(0),i=0;i<8;i++)x=x<<1|1&n,b==t-1?(b=0,g.push(a(x)),x=0):b++,n>>=1}else{for(n=1,i=0;i<m;i++)x=x<<1|n,b==t-1?(b=0,g.push(a(x)),x=0):b++,n=0;for(n=d.charCodeAt(0),i=0;i<16;i++)x=x<<1|1&n,b==t-1?(b=0,g.push(a(x)),x=0):b++,n>>=1}0==--u&&(u=Math.pow(2,m),m++),delete o[d]}else for(n=l[d],i=0;i<m;i++)x=x<<1|1&n,b==t-1?(b=0,g.push(a(x)),x=0):b++,n>>=1;0==--u&&(u=Math.pow(2,m),m++),l[c]=p++,d=String(r)}if(""!==d){if(Object.prototype.hasOwnProperty.call(o,d)){if(d.charCodeAt(0)<256){for(i=0;i<m;i++)x<<=1,b==t-1?(b=0,g.push(a(x)),x=0):b++;for(n=d.charCodeAt(0),i=0;i<8;i++)x=x<<1|1&n,b==t-1?(b=0,g.push(a(x)),x=0):b++,n>>=1}else{for(n=1,i=0;i<m;i++)x=x<<1|n,b==t-1?(b=0,g.push(a(x)),x=0):b++,n=0;for(n=d.charCodeAt(0),i=0;i<16;i++)x=x<<1|1&n,b==t-1?(b=0,g.push(a(x)),x=0):b++,n>>=1}0==--u&&(u=Math.pow(2,m),m++),delete o[d]}else for(n=l[d],i=0;i<m;i++)x=x<<1|1&n,b==t-1?(b=0,g.push(a(x)),x=0):b++,n>>=1;0==--u&&(u=Math.pow(2,m),m++)}for(n=2,i=0;i<m;i++)x=x<<1|1&n,b==t-1?(b=0,g.push(a(x)),x=0):b++,n>>=1;for(;;){if(x<<=1,b==t-1){g.push(a(x));break}b++}return g.join("")},decompress:function(e){return null==e?"":""==e?null:s._decompress(e.length,32768,(function(t){return e.charCodeAt(t)}))},_decompress:function(t,a,i){var n,s,l,o,r,c,d,u=[],p=4,m=4,g=3,x="",b=[],f={val:i(0),position:a,index:1};for(n=0;n<3;n+=1)u[n]=n;for(l=0,r=Math.pow(2,2),c=1;c!=r;)o=f.val&f.position,f.position>>=1,0==f.position&&(f.position=a,f.val=i(f.index++)),l|=(o>0?1:0)*c,c<<=1;switch(l){case 0:for(l=0,r=Math.pow(2,8),c=1;c!=r;)o=f.val&f.position,f.position>>=1,0==f.position&&(f.position=a,f.val=i(f.index++)),l|=(o>0?1:0)*c,c<<=1;d=e(l);break;case 1:for(l=0,r=Math.pow(2,16),c=1;c!=r;)o=f.val&f.position,f.position>>=1,0==f.position&&(f.position=a,f.val=i(f.index++)),l|=(o>0?1:0)*c,c<<=1;d=e(l);break;case 2:return""}for(u[3]=d,s=d,b.push(d);;){if(f.index>t)return"";for(l=0,r=Math.pow(2,g),c=1;c!=r;)o=f.val&f.position,f.position>>=1,0==f.position&&(f.position=a,f.val=i(f.index++)),l|=(o>0?1:0)*c,c<<=1;switch(d=l){case 0:for(l=0,r=Math.pow(2,8),c=1;c!=r;)o=f.val&f.position,f.position>>=1,0==f.position&&(f.position=a,f.val=i(f.index++)),l|=(o>0?1:0)*c,c<<=1;u[m++]=e(l),d=m-1,p--;break;case 1:for(l=0,r=Math.pow(2,16),c=1;c!=r;)o=f.val&f.position,f.position>>=1,0==f.position&&(f.position=a,f.val=i(f.index++)),l|=(o>0?1:0)*c,c<<=1;u[m++]=e(l),d=m-1,p--;break;case 2:return b.join("")}if(0==p&&(p=Math.pow(2,g),g++),u[d])x=u[d];else{if(d!==m)return null;x=s+s.charAt(0)}b.push(x),u[m++]=s+x.charAt(0),s=x,0==--p&&(p=Math.pow(2,g),g++)}}};return s}();void 0===(i=function(){return n}.call(t,a,t,e))||(e.exports=i)},function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(219);case"v8light":return a(221)}},function(e,t,a){var i=a(22),n=a(220);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);i(n,{insert:"head",singleton:!1}),e.exports=n.locals||{}},function(e,t,a){(t=a(23)(!1)).push([e.i,".codeBoxPanel{border-top:1px solid #343741}.codeBoxCodeBlock{word-break:break-all}",""]),e.exports=t},function(e,t,a){var i=a(22),n=a(222);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);i(n,{insert:"head",singleton:!1}),e.exports=n.locals||{}},function(e,t,a){(t=a(23)(!1)).push([e.i,".codeBoxPanel{border-top:1px solid #d3dae6}.codeBoxCodeBlock{word-break:break-all}",""]),e.exports=t},function(e,t,a){var i=a(22),n=a(224);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);i(n,{insert:"head",singleton:!1}),e.exports=n.locals||{}},function(e,t,a){(t=a(23)(!1)).push([e.i,".serverlessSearchSelectClientPanelSelectedBorder{border:1px solid #36a2ef}.serverlessSearchSelectClientPanelBorder{border:1px solid #343741}",""]),e.exports=t},function(e,t,a){var i=a(22),n=a(226);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);i(n,{insert:"head",singleton:!1}),e.exports=n.locals||{}},function(e,t,a){(t=a(23)(!1)).push([e.i,".serverlessSearchSelectClientPanelSelectedBorder{border:1px solid #07c}.serverlessSearchSelectClientPanelBorder{border:1px solid #d3dae6}",""]),e.exports=t},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(5),n=a(122),s=function(){};t.default=function(e,t,a){if(!n.isClient)return[t,s,s];if(!e)throw new Error("useLocalStorage key may not be falsy");var l=a?a.raw?function(e){return e}:a.deserializer:JSON.parse,o=i.useState((function(){try{var i=a?a.raw?String:a.serializer:JSON.stringify,n=localStorage.getItem(e);return null!==n?l(n):(t&&localStorage.setItem(e,i(t)),t)}catch(e){return t}})),r=o[0],c=o[1],d=i.useCallback((function(t){try{var i="function"==typeof t?t(r):t;if(void 0===i)return;var n;n=a?a.raw?"string"==typeof i?i:JSON.stringify(i):a.serializer?a.serializer(i):JSON.stringify(i):JSON.stringify(i),localStorage.setItem(e,n),c(l(n))}catch(e){}}),[e,c]),u=i.useCallback((function(){try{localStorage.removeItem(e),c(void 0)}catch(e){}}),[e,c]);return[r,d,u]}},function(e,t,a){"use strict";function i(e){return function(t){var a=t.dispatch,i=t.getState;return function(t){return function(n){return"function"==typeof n?n(a,i,e):t(n)}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i();n.withExtraArgument=i;var s=n;t.default=s}])]);