/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.triggersActionsUi_bundle_jsonpfunction=window.triggersActionsUi_bundle_jsonpfunction||[]).push([[39],{158:function(e,t,i){"use strict";i.d(t,"a",(function(){return l})),i(1);var o=i(2),n=i(3),s=i(0);const l=({children:e,onClose:t})=>Object(s.jsx)(n.EuiPopoverTitle,null,Object(s.jsx)(n.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},Object(s.jsx)(n.EuiFlexItem,null,e),Object(s.jsx)(n.EuiFlexItem,{grow:!1},Object(s.jsx)(n.EuiButtonIcon,{iconType:"cross",color:"danger","aria-label":o.i18n.translate("xpack.triggersActionsUI.common.expressionItems.components.closablePopoverTitle.closeLabel",{defaultMessage:"Close"}),onClick:()=>t()}))))},328:function(e,t,i){switch(window.__kbnThemeTag__){case"v8dark":return i(329);case"v8light":return i(331)}},329:function(e,t,i){var o=i(54),n=i(330);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);o(n,{insert:"head",singleton:!1}),e.exports=n.locals||{}},330:function(e,t,i){(t=i(55)(!1)).push([e.i,".actOf__aggFieldContainer{width:464px}",""]),e.exports=t},331:function(e,t,i){var o=i(54),n=i(332);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);o(n,{insert:"head",singleton:!1}),e.exports=n.locals||{}},332:function(e,t,i){(t=i(55)(!1)).push([e.i,".actOf__aggFieldContainer{width:464px}",""]),e.exports=t},373:function(e,t,i){"use strict";i.r(t),i.d(t,"OfExpression",(function(){return u})),i.d(t,"default",(function(){return u}));var o=i(1),n=i(2),s=i(24),l=i(3),a=i(14),r=i(158),c=(i(328),i(0));const u=({aggType:e,aggField:t,errors:i,onChangeSelectedAggField:u,fields:d,display:g="inline",customAggTypesOptions:p,popupPosition:x,helpText:f})=>{const[b,j]=Object(o.useState)(!1),m={text:n.i18n.translate("xpack.triggersActionsUI.common.expressionItems.of.selectTimeFieldOptionLabel",{defaultMessage:"Select a field"}),value:""},h=null!=p?p:a.builtInAggregationTypes,v=d.reduce(((t,i)=>(h[e].validNormalizedTypes.includes(i.normalizedType)&&t.push({label:i.name}),t)),[]);return Object(o.useEffect)((()=>{t&&d.length>0&&!d.find((e=>e.name===t))&&u(void 0)}),[t,d,u]),Object(c.jsx)(l.EuiPopover,{id:"aggFieldPopover",button:Object(c.jsx)(l.EuiExpression,{description:n.i18n.translate("xpack.triggersActionsUI.common.expressionItems.of.buttonLabel",{defaultMessage:"of"}),"data-test-subj":"ofExpressionPopover",display:"inline"===g?"inline":"columns",value:t||m.text,isActive:b||!t,onClick:()=>{j(!0)},isInvalid:!t}),isOpen:b,closePopover:()=>{j(!1)},display:"fullWidth"===g?"block":"inline-block",anchorPosition:null!=x?x:"downRight",zIndex:8e3,repositionOnScroll:!0},Object(c.jsx)("div",null,Object(c.jsx)(r.a,{onClose:()=>j(!1)},Object(c.jsx)(s.FormattedMessage,{id:"xpack.triggersActionsUI.common.expressionItems.of.popoverTitle",defaultMessage:"of"})),Object(c.jsx)(l.EuiFlexGroup,null,Object(c.jsx)(l.EuiFlexItem,{grow:!1,className:"actOf__aggFieldContainer"},Object(c.jsx)(l.EuiFormRow,{id:"ofField",fullWidth:!0,isInvalid:i.aggField.length>0&&void 0!==t,error:i.aggField,"data-test-subj":"availablefieldsOptionsFormRow",helpText:f},Object(c.jsx)(l.EuiComboBox,{fullWidth:!0,singleSelection:{asPlainText:!0},"data-test-subj":"availablefieldsOptionsComboBox",isInvalid:i.aggField.length>0&&void 0!==t,placeholder:m.text,options:v,noSuggestions:!v.length,selectedOptions:t?[{label:t}]:[],onChange:e=>{u(1===e.length?e[0].label:void 0),e.length>0&&j(!1)}}))))))}}}]);