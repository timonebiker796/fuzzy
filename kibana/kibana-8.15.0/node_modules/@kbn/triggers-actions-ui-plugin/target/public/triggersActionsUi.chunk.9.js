/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.triggersActionsUi_bundle_jsonpfunction=window.triggersActionsUi_bundle_jsonpfunction||[]).push([[9],{242:function(e,t,s){"use strict";s.d(t,"a",(function(){return n})),s(1);var a=s(24),i=s(3),o=s(29),l=s(0);const n=()=>{const{docLinks:e}=Object(o.b)().services;return Object(l.jsx)(i.EuiButtonEmpty,{href:e.links.alerting.guide,target:"_blank",iconType:"help","data-test-subj":"documentationLink"},Object(l.jsx)(a.FormattedMessage,{id:"xpack.triggersActionsUI.home.docsLinkText",defaultMessage:"Documentation"}))}},244:function(e,t,s){"use strict";s.d(t,"a",(function(){return W}));var a=s(1),i=s.n(a),o=s(2),l=s(24),n=s(3),r=s(29),c=s(6),u=s(204),d=s(56),g=s(58),j=s.n(g),b=s(241),p=s(136),x=s(0);const m=e=>{var t;return e.includes("now")&&(null===(t=j.a.parse(e))||void 0===t?void 0:t.format())||e},O=o.i18n.translate("xpack.triggersActionsUI.sections.ruleDetails.errorLogColumn.apiError",{defaultMessage:"Failed to fetch error log"}),S=o.i18n.translate("xpack.triggersActionsUI.sections.ruleDetails.errorLogColumn.searchPlaceholder",{defaultMessage:"Search error log message"}),h={iconOnly:!0,fill:!1},v=1e3,E=Object(p.a)((e=>{const{ruleId:t,runId:s,loadActionErrorLog:i,refreshToken:l,spaceId:c,logFromDifferentSpace:d}=e,{uiSettings:g,notifications:j}=Object(r.b)().services,[p,E]=Object(a.useState)([]),[f,A]=Object(a.useState)({pageIndex:0,pageSize:10,totalItemCount:0}),[I,L]=Object(a.useState)({field:"timestamp",direction:"desc"}),[k,y]=Object(a.useState)(""),[w,_]=Object(a.useState)(""),[C,F]=Object(a.useState)(!1),[T,M]=Object(a.useState)("now-24h"),[D,U]=Object(a.useState)("now"),[z]=Object(a.useState)((()=>null==g?void 0:g.get("dateFormat"))),[R]=Object(a.useState)((()=>{var e;return(null==g||null===(e=g.get("timepicker:quickRanges"))||void 0===e?void 0:e.map((({from:e,to:t,display:s})=>({start:e,end:t,label:s}))))||[]})),[P,K]=Object(a.useState)(0),B=Object(a.useRef)(!1),W=Object(a.useMemo)((()=>{const{pageIndex:e,pageSize:t}=f;return(e+1)*t>=v}),[f]),G=Object(a.useMemo)((()=>{if(!I)return;const{field:e,direction:t}=I;return[{[e]:{order:t}}]}),[I]),H=async()=>{F(!0);try{const e=await i({id:t,runId:s,message:k,dateStart:m(T),dateEnd:m(D),page:f.pageIndex,perPage:f.pageSize,sort:G,namespace:c,withAuth:d});E(e.errors),A({...f,totalItemCount:Math.min(e.totalErrors,v)}),K(e.totalErrors)}catch(e){j.toasts.addDanger({title:O,text:e.body.message})}F(!1)},N=Object(a.useCallback)((({start:e,end:t,isInvalid:s})=>{s||(M(e),U(t))}),[M,U]),V=Object(a.useCallback)((e=>{""===e.target.value&&y(""),_(e.target.value)}),[y,_]),q=Object(a.useCallback)((e=>{"Enter"===e.key&&y(w)}),[w,y]),J=Object(a.useMemo)((()=>[{field:"timestamp",name:o.i18n.translate("xpack.triggersActionsUI.sections.ruleDetails.errorLogColumn.timestamp",{defaultMessage:"Timestamp"}),render:e=>Object(x.jsx)(u.c,{columnId:"timestamp",value:e,dateFormat:z}),sortable:!0,width:"250px"},{field:"type",name:o.i18n.translate("xpack.triggersActionsUI.sections.ruleDetails.errorLogColumn.type",{defaultMessage:"Type"}),sortable:!1,width:"100px"},{field:"message",name:o.i18n.translate("xpack.triggersActionsUI.sections.ruleDetails.errorLogColumn.message",{defaultMessage:"Message"}),sortable:!1}]),[z]);return Object(a.useEffect)((()=>{H()}),[T,D,G,f.pageIndex,f.pageSize,k,s]),Object(a.useEffect)((()=>{B.current&&H(),B.current=!0}),[l]),Object(x.jsx)("div",null,Object(x.jsx)(n.EuiSpacer,null),Object(x.jsx)(n.EuiFlexGroup,null,s&&Object(x.jsx)(n.EuiFlexItem,{grow:!1},Object(x.jsx)(n.EuiFieldSearch,{fullWidth:!0,isClearable:!0,value:w,onChange:V,onKeyUp:q,placeholder:S})),Object(x.jsx)(n.EuiFlexItem,{grow:!1},Object(x.jsx)(n.EuiSuperDatePicker,{"data-test-subj":"ruleEventLogListDatePicker",width:"auto",isLoading:C,start:T,end:D,onTimeChange:N,onRefresh:()=>{H()},dateFormat:z,commonlyUsedRanges:R,updateButtonProps:h}))),Object(x.jsx)(n.EuiSpacer,null),C&&Object(x.jsx)(n.EuiProgress,{size:"xs",color:"accent","data-test-subj":"ruleEventLogListProgressBar"}),Object(x.jsx)(n.EuiBasicTable,{"data-test-subj":"RuleErrorLog",loading:C,items:null!=p?p:[],columns:J,sorting:{sort:I},pagination:f,onChange:({page:e,sort:t})=>{e&&A((t=>t.pageIndex!==e.index||t.pageSize!==e.size?{...t,pageIndex:e.index,pageSize:e.size}:t)),t&&L((e=>(null==e?void 0:e.direction)!==t.direction?t:e))}}),W&&Object(x.jsx)(b.a,{documentSize:P,visibleDocumentSize:v,backToTopAnchor:"rule_error_log_list"}))}));var f=s(254);const A=e=>{const{runLog:t,refreshToken:s,onClose:i,activeSpaceId:o}=e,{euiTheme:r}=Object(n.useEuiTheme)(),{id:c,rule_id:u,message:d,num_errored_actions:g,space_ids:j=[]}=t,b=Object(n.useIsWithinBreakpoints)(["xl"]),p=Object(a.useMemo)((()=>Boolean(o&&!(null!=j&&j.includes(o)))),[o,j]);return Object(x.jsx)(n.EuiFlyout,{type:b?"push":"overlay",onClose:i,size:b?"m":"l","data-test-subj":"ruleActionErrorLogFlyout"},Object(x.jsx)(n.EuiFlyoutHeader,{hasBorder:!0},Object(x.jsx)(n.EuiTitle,{size:"m"},Object(x.jsx)("h2",null,Object(x.jsx)(l.FormattedMessage,{id:"xpack.triggersActionsUI.sections.ruleDetails.ruleActionErrorLogFlyout.actionErrors",defaultMessage:"Errored Actions"})))),Object(x.jsx)(n.EuiFlyoutBody,null,Object(x.jsx)(n.EuiText,{size:"xs",style:{fontWeight:r.font.weight.bold}},Object(x.jsx)(l.FormattedMessage,{id:"xpack.triggersActionsUI.sections.ruleDetails.ruleActionErrorLogFlyout.message",defaultMessage:"Message"})),Object(x.jsx)(n.EuiSpacer,{size:"xs"}),Object(x.jsx)(n.EuiText,{"data-test-subj":"ruleActionErrorLogFlyoutMessageText"},d),Object(x.jsx)(n.EuiHorizontalRule,{size:"full"}),Object(x.jsx)("div",null,Object(x.jsx)(f.a,{totalErrors:g}),"Â ",Object(x.jsx)(l.FormattedMessage,{id:"xpack.triggersActionsUI.sections.ruleDetails.ruleActionErrorLogFlyout.actionErrorsPlural",defaultMessage:"{value, plural, one {errored action} other {errored actions}}",values:{value:g}})),Object(x.jsx)(E,{ruleId:u,runId:c,spaceId:j[0],logFromDifferentSpace:p,refreshToken:s}),Object(x.jsx)(n.EuiSpacer,null)),Object(x.jsx)(n.EuiFlyoutFooter,null,Object(x.jsx)(n.EuiButton,{"data-test-subj":"ruleActionErrorLogFlyoutCloseButton",onClick:i},Object(x.jsx)(l.FormattedMessage,{id:"xpack.triggersActionsUI.sections.ruleDetails.ruleActionErrorLogFlyout.close",defaultMessage:"Close"}))))};var I=s(242),L=s(34);const k=e=>{var t;return e.includes("now")&&(null===(t=j.a.parse(e))||void 0===t?void 0:t.format())||e},y=o.i18n.translate("xpack.triggersActionsUI.sections.ruleDetails.ruleEventLogListKpi.apiError",{defaultMessage:"Failed to fetch event log KPI."}),w=o.i18n.translate("xpack.triggersActionsUI.sections.ruleDetails.ruleEventLogListKpi.responseTooltip",{defaultMessage:"The responses for up to 10,000 most recent rule runs."}),_=o.i18n.translate("xpack.triggersActionsUI.sections.ruleDetails.ruleEventLogListKpi.alertsTooltip",{defaultMessage:"The alert statuses for up to 10,000 most recent rule runs."}),C=o.i18n.translate("xpack.triggersActionsUI.sections.ruleDetails.ruleEventLogListKpi.actionsTooltip",{defaultMessage:"The action statuses for up to 10,000 most recent rule runs."}),F=Object(p.a)((e=>{var t,s,i,o,l,c,d,g;const{ruleId:j,dateStart:b,dateEnd:p,outcomeFilter:m,message:O,refreshToken:S,namespaces:h,filteredRuleTypes:v,loadExecutionKPIAggregations:E,loadGlobalExecutionKPIAggregations:f}=e,{notifications:{toasts:A}}=Object(r.b)().services,I=Object(a.useRef)(!1),F=Object(L.a)("ruleUseExecutionStatus"),[T,M]=Object(a.useState)(!1),[D,U]=Object(a.useState)(),z=Object(a.useMemo)((()=>"*"===j?f:E),[j,E,f]),R=async()=>{M(!0);try{const e=await z({id:j,dateStart:k(b),dateEnd:k(p),outcomeFilter:m,message:O,...h?{namespaces:h}:{},ruleTypeIds:v});U(e)}catch(s){var e,t;if(413===s.body.statusCode)return;A.addDanger({title:y,text:null!==(e=null===(t=s.body)||void 0===t?void 0:t.message)&&void 0!==e?e:s})}M(!1)};Object(a.useEffect)((()=>{R()}),[j,b,p,m,O,h]),Object(a.useEffect)((()=>{I.current&&R(),I.current=!0}),[S]);const P=Object(a.useMemo)((()=>T||!D),[T,D]),K=e=>Object(x.jsx)("span",{style:{paddingBottom:"8px",display:"flex"}},e);return Object(x.jsx)(n.EuiFlexGroup,null,Object(x.jsx)(n.EuiFlexItem,{grow:4},Object(x.jsx)(u.g,{title:"Responses",tooltip:w},Object(x.jsx)(n.EuiFlexGroup,null,Object(x.jsx)(n.EuiFlexItem,null,Object(x.jsx)(n.EuiStat,{"data-test-subj":"ruleEventLogKpi-successOutcome",description:K(Object(x.jsx)(u.d,{status:"success",useExecutionStatus:F})),titleSize:"s",title:null!==(t=null==D?void 0:D.success)&&void 0!==t?t:0,isLoading:P})),Object(x.jsx)(n.EuiFlexItem,null,Object(x.jsx)(n.EuiStat,{"data-test-subj":"ruleEventLogKpi-warningOutcome",description:K(Object(x.jsx)(u.d,{status:"warning",useExecutionStatus:F})),titleSize:"s",title:null!==(s=null==D?void 0:D.warning)&&void 0!==s?s:0,isLoading:P})),Object(x.jsx)(n.EuiFlexItem,null,Object(x.jsx)(n.EuiStat,{"data-test-subj":"ruleEventLogKpi-failureOutcome",description:K(Object(x.jsx)(u.d,{status:"failure",useExecutionStatus:F})),titleSize:"s",title:null!==(i=null==D?void 0:D.failure)&&void 0!==i?i:0,isLoading:P}))))),Object(x.jsx)(n.EuiFlexItem,{grow:4},Object(x.jsx)(u.g,{title:"Alerts",tooltip:_},Object(x.jsx)(n.EuiFlexGroup,null,Object(x.jsx)(n.EuiFlexItem,null,Object(x.jsx)(n.EuiStat,{"data-test-subj":"ruleEventLogKpi-activeAlerts",description:K("Active"),titleSize:"s",title:null!==(o=null==D?void 0:D.activeAlerts)&&void 0!==o?o:0,isLoading:P})),Object(x.jsx)(n.EuiFlexItem,null,Object(x.jsx)(n.EuiStat,{"data-test-subj":"ruleEventLogKpi-newAlerts",description:K("New"),titleSize:"s",title:null!==(l=null==D?void 0:D.newAlerts)&&void 0!==l?l:0,isLoading:P})),Object(x.jsx)(n.EuiFlexItem,null,Object(x.jsx)(n.EuiStat,{"data-test-subj":"ruleEventLogKpi-recoveredAlerts",description:K("Recovered"),titleSize:"s",title:null!==(c=null==D?void 0:D.recoveredAlerts)&&void 0!==c?c:0,isLoading:P}))))),Object(x.jsx)(n.EuiFlexItem,{grow:2},Object(x.jsx)(u.g,{title:"Actions",tooltip:C},Object(x.jsx)(n.EuiFlexGroup,null,Object(x.jsx)(n.EuiFlexItem,null,Object(x.jsx)(n.EuiStat,{"data-test-subj":"ruleEventLogKpi-erroredActions",description:K("Errored"),titleSize:"s",title:null!==(d=null==D?void 0:D.erroredActions)&&void 0!==d?d:0,isLoading:P})),Object(x.jsx)(n.EuiFlexItem,null,Object(x.jsx)(n.EuiStat,{"data-test-subj":"ruleEventLogKpi-triggeredActions",description:K("Triggered"),titleSize:"s",title:null!==(g=null==D?void 0:D.triggeredActions)&&void 0!==g?g:0,isLoading:P}))))))}));var T=s(255),M=s(189),D=s(260);const U=o.i18n.translate("xpack.triggersActionsUI.sections.ruleDetails.eventLogColumn.apiError",{defaultMessage:"Failed to fetch execution history"}),z=o.i18n.translate("xpack.triggersActionsUI.sections.ruleDetails.eventLogColumn.searchPlaceholder",{defaultMessage:"Search event log message"}),R="xpack.triggersActionsUI.ruleEventLogList.initialColumns",P=o.i18n.translate("xpack.triggersActionsUI.ruleEventLogList.showAllSpacesToggle",{defaultMessage:"Show rules from all spaces"}),K={iconOnly:!0,fill:!1},B=1e3,W=e=>{const{ruleId:t,localStorageKey:s=R,refreshToken:g,initialPageSize:j=10,hasRuleNames:p=!1,hasAllSpaceSwitch:m=!1,setHeaderActions:O,filteredRuleTypes:S,getRuleDetailsRoute:h}=e,{uiSettings:v,notifications:E}=Object(r.b)().services,[f,L]=Object(a.useState)(""),[k,y]=Object(a.useState)(""),[w,_]=Object(a.useState)(!1),[C,W]=Object(a.useState)(),[G,H]=Object(a.useState)(g),[N,V]=Object(a.useState)(!1),[q,J]=Object(a.useState)(),[Q,X]=Object(a.useState)((()=>{var e;return(e=>{const t=e.filter((e=>!c.n.includes(e)));return[...c.n,...t]})(JSON.parse(null!==(e=localStorage.getItem(s))&&void 0!==e?e:"null")||p?c.k:c.p)})),[Y,Z]=Object(a.useState)([]),[$,ee]=Object(a.useState)([]),[te,se]=Object(a.useState)(0),[ae,ie]=Object(a.useState)({pageIndex:0,pageSize:j,totalItemCount:0}),[oe,le]=Object(a.useState)("now-15m"),[ne,re]=Object(a.useState)("now"),[ce]=Object(a.useState)((()=>null==v?void 0:v.get("dateFormat"))),[ue]=Object(a.useState)((()=>{var e;return(null==v||null===(e=v.get("timepicker:quickRanges"))||void 0===e?void 0:e.map((({from:e,to:t,display:s})=>({start:e,end:t,label:s}))))||[]})),{onShowAllSpacesChange:de,canAccessMultipleSpaces:ge,namespaces:je,activeSpace:be}=Object(T.a)({setShowFromAllSpaces:V,showFromAllSpaces:N,visibleColumns:Q,setVisibleColumns:X}),pe=Object(a.useRef)(!1),xe=Object(a.useMemo)((()=>{const{pageIndex:e,pageSize:t}=ae;return(e+1)*t>=B}),[ae]),me=Object(a.useMemo)((()=>Y.map((({id:e,direction:t})=>({[e]:{order:t}})))),[Y]);Object(a.useEffect)((()=>(null==O||O([Object(x.jsx)(D.RulesSettingsLink,null),Object(x.jsx)(I.a,null)]),()=>null==O?void 0:O())),[]);const Oe=Object(a.useCallback)((e=>{var t,s;413!==e.body.statusCode&&E.toasts.addDanger({title:U,text:null!==(t=null===(s=e.body)||void 0===s?void 0:s.message)&&void 0!==t?t:e})}),[E]),{data:Se,isLoading:he,hasExceedLogs:ve,loadEventLogs:Ee}=Object(M.a)({id:t,sort:me,outcomeFilter:$,message:f,dateStart:oe,dateEnd:ne,page:ae.pageIndex,perPage:ae.pageSize,namespaces:je,ruleTypeIds:S,onError:Oe});Object(a.useEffect)((()=>{Se&&(ie((e=>({...e,totalItemCount:Math.min(Se.total,B)}))),J(Se.data),se(Se.total))}),[Se]);const fe=Object(a.useCallback)((e=>{const{pageIndex:t,pageSize:s}=ae;return e-t*s}),[ae]),Ae=Object(a.useCallback)((e=>{ie((t=>({...t,pageIndex:0,pageSize:e})))}),[ie]),Ie=Object(a.useCallback)((e=>{ie((t=>({...t,pageIndex:e})))}),[ie]),Le=Object(a.useCallback)((({start:e,end:t,isInvalid:s})=>{s||(le(e),re(t))}),[le,re]),ke=Object(a.useCallback)((e=>{ie((e=>({...e,pageIndex:0}))),ee(e)}),[ie,ee]),ye=Object(a.useCallback)((e=>{_(!0),W(e)}),[]),we=Object(a.useCallback)((()=>{_(!1),W(void 0)}),[]),_e=Object(a.useCallback)((e=>{""===e.target.value&&L(""),y(e.target.value)}),[L,y]),Ce=Object(a.useCallback)((e=>{"Enter"===e.key&&L(k)}),[k,L]),Fe=Object(a.useMemo)((()=>[...p?[{id:"rule_id",displayAsText:o.i18n.translate("xpack.triggersActionsUI.sections.ruleDetails.eventLogColumn.ruleId",{defaultMessage:"Rule Id"}),isSortable:Object(u.h)("rule_id"),actions:{showSortAsc:!1,showSortDesc:!1}},{id:"rule_name",displayAsText:o.i18n.translate("xpack.triggersActionsUI.sections.ruleDetails.eventLogColumn.ruleName",{defaultMessage:"Rule"}),isSortable:Object(u.h)("rule_name"),actions:{showSortAsc:!1,showSortDesc:!1,showHide:!1}}]:[],...N?[{id:"space_ids",displayAsText:o.i18n.translate("xpack.triggersActionsUI.sections.ruleDetails.eventLogColumn.spaceIds",{defaultMessage:"Space"}),isSortable:Object(u.h)("space_ids"),actions:{showSortAsc:!1,showSortDesc:!1,showHide:!1}}]:[],{id:"id",displayAsText:o.i18n.translate("xpack.triggersActionsUI.sections.ruleDetails.eventLogColumn.id",{defaultMessage:"Id"}),isSortable:Object(u.h)("id")},{id:"timestamp",displayAsText:o.i18n.translate("xpack.triggersActionsUI.sections.ruleDetails.eventLogColumn.timestamp",{defaultMessage:"Timestamp"}),isSortable:Object(u.h)("timestamp"),isResizable:!1,actions:{showHide:!1},initialWidth:250},{id:"execution_duration",displayAsText:o.i18n.translate("xpack.triggersActionsUI.sections.ruleDetails.eventLogColumn.duration",{defaultMessage:"Duration"}),isSortable:Object(u.h)("execution_duration"),isResizable:!1,actions:{showHide:!1},initialWidth:100},{id:"status",displayAsText:o.i18n.translate("xpack.triggersActionsUI.sections.ruleDetails.eventLogColumn.response",{defaultMessage:"Response"}),actions:{showHide:!1,showSortAsc:!1,showSortDesc:!1,additional:[{iconType:"annotation",label:o.i18n.translate("xpack.triggersActionsUI.sections.ruleDetails.eventLogColumn.showOnlyFailures",{defaultMessage:"Show only failures"}),onClick:()=>ke(["failure"]),size:"xs"},{iconType:"annotation",label:o.i18n.translate("xpack.triggersActionsUI.sections.ruleDetails.eventLogColumn.showAll",{defaultMessage:"Show all"}),onClick:()=>ke([]),size:"xs"}]},isSortable:Object(u.h)("status"),isResizable:!1,initialWidth:150},{id:"message",actions:{showSortAsc:!1,showSortDesc:!1},displayAsText:o.i18n.translate("xpack.triggersActionsUI.sections.ruleDetails.eventLogColumn.message",{defaultMessage:"Message"}),isSortable:Object(u.h)("message"),cellActions:[({rowIndex:e,Component:t})=>{const s=fe(e),a=(q||[])[s];return(null==a?void 0:a.num_errored_actions)?Object(x.jsx)(t,{onClick:()=>ye(a),iconType:"warning"},Object(x.jsx)(l.FormattedMessage,{id:"xpack.triggersActionsUI.sections.ruleDetails.eventLogColumn.viewActionErrors",defaultMessage:"View action errors"})):null}]},{id:"num_active_alerts",displayAsText:o.i18n.translate("xpack.triggersActionsUI.sections.ruleDetails.eventLogColumn.activeAlerts",{defaultMessage:"Active alerts"}),initialWidth:140,isSortable:Object(u.h)("num_active_alerts")},{id:"num_new_alerts",displayAsText:o.i18n.translate("xpack.triggersActionsUI.sections.ruleDetails.eventLogColumn.newAlerts",{defaultMessage:"New alerts"}),initialWidth:140,isSortable:Object(u.h)("num_new_alerts")},{id:"num_recovered_alerts",displayAsText:o.i18n.translate("xpack.triggersActionsUI.sections.ruleDetails.eventLogColumn.recoveredAlerts",{defaultMessage:"Recovered alerts"}),isSortable:Object(u.h)("num_recovered_alerts")},{id:"num_triggered_actions",displayAsText:u.l,display:Object(x.jsx)(u.a,{id:"num_triggered_actions"}),isSortable:Object(u.h)("num_triggered_actions")},{id:"num_generated_actions",displayAsText:u.j,display:Object(x.jsx)(u.a,{id:"num_generated_actions"}),isSortable:Object(u.h)("num_generated_actions")},{id:"num_succeeded_actions",displayAsText:u.k,display:Object(x.jsx)(u.a,{id:"num_succeeded_actions"}),isSortable:Object(u.h)("num_succeeded_actions")},{id:"num_errored_actions",actions:{showSortAsc:!1,showSortDesc:!1},displayAsText:u.i,display:Object(x.jsx)(u.a,{id:"num_errored_actions"}),isSortable:Object(u.h)("num_errored_actions")},{id:"total_search_duration",displayAsText:o.i18n.translate("xpack.triggersActionsUI.sections.ruleDetails.eventLogColumn.totalSearchDuration",{defaultMessage:"Total search duration"}),isSortable:Object(u.h)("total_search_duration")},{id:"es_search_duration",displayAsText:o.i18n.translate("xpack.triggersActionsUI.sections.ruleDetails.eventLogColumn.esSearchDuration",{defaultMessage:"ES search duration"}),isSortable:Object(u.h)("es_search_duration")},{id:"schedule_delay",displayAsText:o.i18n.translate("xpack.triggersActionsUI.sections.ruleDetails.eventLogColumn.scheduleDelay",{defaultMessage:"Schedule delay"}),isSortable:Object(u.h)("schedule_delay")},{id:"timed_out",displayAsText:o.i18n.translate("xpack.triggersActionsUI.sections.ruleDetails.eventLogColumn.timedOut",{defaultMessage:"Timed out"}),isSortable:Object(u.h)("timed_out")},{id:"maintenance_window_ids",displayAsText:o.i18n.translate("xpack.triggersActionsUI.sections.ruleDetails.eventLogColumn.maintenanceWindowIds",{defaultMessage:"Maintenance windows"}),actions:{showSortAsc:!1,showSortDesc:!1},isSortable:Object(u.h)("maintenance_window_ids")}]),[fe,ye,ke,p,N,q]);return Object(a.useEffect)((()=>{Ee()}),[Y,oe,ne,$,ae.pageIndex,ae.pageSize,f,N]),Object(a.useEffect)((()=>{pe.current&&Ee(),pe.current=!0}),[g]),Object(a.useEffect)((()=>{localStorage.setItem(s,JSON.stringify(Q))}),[s,Q]),Object(a.useEffect)((()=>{H(g)}),[g]),Object(x.jsx)(n.EuiFlexGroup,{gutterSize:"none",direction:"column","data-test-subj":"ruleEventLogListTable"},Object(x.jsx)(n.EuiFlexItem,{grow:!1},Object(x.jsx)(n.EuiFlexGroup,{alignItems:"center"},Object(x.jsx)(n.EuiFlexItem,null,Object(x.jsx)(n.EuiFieldSearch,{fullWidth:!0,isClearable:!0,value:k,onChange:_e,onKeyUp:Ce,placeholder:z})),Object(x.jsx)(n.EuiFlexItem,{grow:!1},Object(x.jsx)(u.e,{selectedOptions:$,onChange:ke})),Object(x.jsx)(n.EuiFlexItem,{grow:!1},Object(x.jsx)(n.EuiSuperDatePicker,{"data-test-subj":"ruleEventLogListDatePicker",width:"auto",isLoading:he,start:oe,end:ne,onTimeChange:Le,onRefresh:()=>{H({resolve:()=>{},reject:()=>{}}),Ee()},dateFormat:ce,commonlyUsedRanges:ue,updateButtonProps:K})),m&&ge&&Object(x.jsx)(n.EuiFlexItem,{"data-test-subj":"showAllSpacesSwitch"},Object(x.jsx)(n.EuiSwitch,{label:P,checked:N,onChange:de}))),Object(x.jsx)(n.EuiSpacer,null)),Object(x.jsx)(n.EuiFlexItem,{grow:!1},Object(x.jsx)(F,{ruleId:t,dateStart:oe,dateEnd:ne,outcomeFilter:$,message:f,refreshToken:G,namespaces:je,filteredRuleTypes:S}),Object(x.jsx)(n.EuiSpacer,null)),Object(x.jsx)(n.EuiFlexItem,null,ve&&Object(x.jsx)(n.EuiCallOut,{title:Object(x.jsx)(l.FormattedMessage,{id:"xpack.triggersActionsUI.sections.exceedLog.refineSearch.prompt",defaultMessage:"Results are limited to 10,000 documents, refine your search to see others."}),"data-test-subj":"exceedLimitLogsCallout",size:"m"}),!ve&&(q?Object(x.jsx)(i.a.Fragment,null,he&&Object(x.jsx)(n.EuiProgress,{size:"xs",color:"accent","data-test-subj":"ruleEventLogListProgressBar"}),Object(x.jsx)(u.b,{columns:Fe,logs:q,pagination:ae,sortingColumns:Y,visibleColumns:Q,dateFormat:ce,selectedRunLog:C,onChangeItemsPerPage:Ae,onChangePage:Ie,onFlyoutOpen:ye,setVisibleColumns:X,setSortingColumns:Z,getRuleDetailsRoute:h})):Object(x.jsx)(d.a,null)),xe&&Object(x.jsx)(b.a,{documentSize:te,visibleDocumentSize:B,backToTopAnchor:"rule_event_log_list"})),w&&C&&Object(x.jsx)(A,{runLog:C,refreshToken:g,onClose:we,activeSpaceId:null==be?void 0:be.id}))}}}]);