/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.triggersActionsUi_bundle_jsonpfunction=window.triggersActionsUi_bundle_jsonpfunction||[]).push([[58],{375:function(e,t,s){"use strict";s.r(t);var l=s(3),n=s(39),i=s.n(n),o=s(1),c=s.n(o),a=s(31),u=s(71),r=s(19),d=s(235),b=s(36),j=s(0);const p={display:"inline-block",position:"relative"},f=(e,t)=>Array.from(t.keys()).map((t=>{var s,l,n;const i=e[t];return{_id:i._id,_index:i._index,data:[{field:u.r,value:i[u.r]},{field:u.y,value:i[u.y]},{field:u.b,value:null!==(s=i[u.b])&&void 0!==s?s:[]},{field:u.H,value:null!==(l=i[u.H])&&void 0!==l?l:[]},{field:u.F,value:null!==(n=i[u.F])&&void 0!==n?n:[]}],ecs:{_id:i._id,_index:i._index}}})),m=({totalItems:e,panels:t,alerts:s,setIsBulkActionsLoading:n,clearSelection:c,refresh:u})=>{const{bulkActions:[{rowSelection:m,isAllSelected:O},k]}=Object(o.useContext)(b.a),[v,A]=Object(o.useState)(!1),[S]=Object(a.useUiSetting$)("format:number:defaultPattern"),[x,y]=Object(o.useState)(!1);Object(o.useEffect)((()=>{y(O)}),[O]);const C=m.size,_=Object(o.useMemo)((()=>i()(e).format(S)),[S,e]),g=Object(o.useMemo)((()=>i()(C).format(S)),[S,C]),h=Object(o.useCallback)((()=>{A((e=>!e))}),[A]),w=Object(o.useCallback)((()=>{A(!1)}),[A]),B=((e,t,s,l,n,i)=>{const{bulkActions:[{isAllSelected:c,rowSelection:a}]}=Object(o.useContext)(b.a);return Object(o.useMemo)((()=>{const o=[];for(const u of e){const e=f(n,a);if(u.items){const n=u.items.map((n=>{const o=c&&n.disableOnQuery;return{key:n.key,"data-test-subj":n["data-test-subj"],disabled:o,onClick:n.onClick?()=>{var o;i(),null===(o=n.onClick)||void 0===o||o.call(n,e,c,t,s,l)}:void 0,name:o&&n.disabledLabel?n.disabledLabel:n.label,panel:n.panel}}));o.push({...u,items:n})}else{const n=u.renderContent({alertItems:e,isAllSelected:c,setIsBulkActionsLoading:t,clearSelection:s,refresh:l,closePopoverMenu:i});o.push({...u,content:n})}}return o}),[n,s,c,e,l,a,t,i])})(t,n,c,u,s,Object(o.useCallback)((()=>{v&&A(!1)}),[v])),E=Object(o.useCallback)((()=>{k(x?{action:r.f.clear}:{action:r.f.selectAll})}),[x,k]),M=Object(o.useMemo)((()=>x?d.c(_,e):d.c(g,C)),[x,_,g,e,C]),P=Object(o.useMemo)((()=>x?d.a:d.d(_,e)),[x,_,e]);return Object(j.jsx)("div",{style:p,"data-test-subj":"bulk-actions-button-container","aria-hidden":!0},Object(j.jsx)(l.EuiPopover,{isOpen:v,anchorPosition:"upCenter",panelPaddingSize:"none",button:Object(j.jsx)(l.EuiButtonEmpty,{"aria-label":"selectedShowBulkActions","data-test-subj":"selectedShowBulkActionsButton",size:"xs",iconType:"arrowDown",iconSide:"right",color:"primary",onClick:h},M),closePopover:w},Object(j.jsx)(l.EuiContextMenu,{size:"s",initialPanelId:0,panels:B})),Object(j.jsx)(l.EuiButtonEmpty,{size:"xs","aria-label":"selectAllAlerts","data-test-subj":"selectAllAlertsButton",iconType:x?"cross":"pagesSelect",onClick:E},P))};t.default=c.a.memo(m)}}]);