/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.triggersActionsUi_bundle_jsonpfunction=window.triggersActionsUi_bundle_jsonpfunction||[]).push([[52],{158:function(e,t,o){"use strict";o.d(t,"a",(function(){return r})),o(1);var s=o(2),l=o(3),n=o(0);const r=({children:e,onClose:t})=>Object(n.jsx)(l.EuiPopoverTitle,null,Object(n.jsx)(l.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},Object(n.jsx)(l.EuiFlexItem,null,e),Object(n.jsx)(l.EuiFlexItem,{grow:!1},Object(n.jsx)(l.EuiButtonIcon,{iconType:"cross",color:"danger","aria-label":s.i18n.translate("xpack.triggersActionsUI.common.expressionItems.components.closablePopoverTitle.closeLabel",{defaultMessage:"Close"}),onClick:()=>t()}))))},374:function(e,t,o){"use strict";o.r(t),o.d(t,"ThresholdExpression",(function(){return d})),o.d(t,"default",(function(){return d}));var s=o(1),l=o.n(s),n=o(2),r=o(3),i=o(10),a=o(14),u=o(158),c=o(0);const d=({thresholdComparator:e,errors:t,onChangeSelectedThresholdComparator:o,onChangeSelectedThreshold:d,customComparators:h,display:j="inline",threshold:b=[],popupPosition:p,unit:x=""})=>{const g=null!=h?h:a.builtInComparators,[m,v]=Object(s.useState)(!1),[O,E]=Object(s.useState)(e),[I,f]=Object(s.useState)(g[e].requiredValues),C=n.i18n.translate("xpack.triggersActionsUI.common.expressionItems.threshold.andLabel",{defaultMessage:"AND"});return Object(s.useEffect)((()=>{if(g[O].requiredValues!==I){const e=b.slice(0,g[O].requiredValues);d(e),f(g[O].requiredValues)}}),[O]),Object(c.jsx)(r.EuiPopover,{button:Object(c.jsx)(r.EuiExpression,{"data-test-subj":"thresholdPopover",description:g[O].text,value:(b||[]).slice(0,I).join(` ${C} `)+x,isActive:Boolean(m||t.threshold0&&t.threshold0.length||t.threshold1&&t.threshold1.length),onClick:()=>{v(!0)},display:"inline"===j?"inline":"columns",isInvalid:!!(t.threshold0&&t.threshold0.length||(t.threshold1&&t.threshold1.length)>0)}),isOpen:m,closePopover:()=>{v(!1)},ownFocus:!0,display:"fullWidth"===j?"block":"inline-block",anchorPosition:null!=p?p:"downLeft",repositionOnScroll:!0},Object(c.jsx)("div",null,Object(c.jsx)(u.a,{onClose:()=>v(!1)},Object(c.jsx)(l.a.Fragment,null,g[O].text)),Object(c.jsx)(r.EuiFlexGroup,null,Object(c.jsx)(r.EuiFlexItem,{grow:!1},Object(c.jsx)(r.EuiSelect,{"data-test-subj":"comparatorOptionsComboBox",value:O,onChange:e=>{E(e.target.value),o(e.target.value)},options:Object.values(g).map((({text:e,value:t})=>({text:e,value:t})))})),Array.from(Array(I)).map(((e,o)=>{var l,n;return Object(c.jsx)(s.Fragment,{key:`threshold${o}`},o>0?Object(c.jsx)(r.EuiFlexItem,{grow:!1,className:"watcherThresholdWatchInBetweenComparatorText"},Object(c.jsx)(r.EuiText,null,C)):null,Object(c.jsx)(r.EuiFlexItem,{grow:!1},Object(c.jsx)(r.EuiFormRow,{isInvalid:(null===(l=t[`threshold${o}`])||void 0===l?void 0:l.length)>0||Object(i.isNil)(b[o]),error:t[`threshold${o}`]},Object(c.jsx)(r.EuiFieldNumber,{"data-test-subj":"alertThresholdInput",min:0,value:b&&void 0!==b[o]?b[o]:"",isInvalid:(null===(n=t[`threshold${o}`])||void 0===n?void 0:n.length)>0||Object(i.isNil)(b[o]),onChange:e=>{const{value:t}=e.target,s=""!==t?parseFloat(t):void 0,l=[...b];void 0!==s?l[o]=s:delete l[o],d(l)}}))))})))))}}}]);