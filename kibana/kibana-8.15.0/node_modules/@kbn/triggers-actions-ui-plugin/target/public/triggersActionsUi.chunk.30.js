/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.triggersActionsUi_bundle_jsonpfunction=window.triggersActionsUi_bundle_jsonpfunction||[]).push([[30,20,55],{132:function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));const n=({message:e,outcomeFilter:t,runId:s,ruleTypeIds:n})=>{const a=[];if(e){const t=e.replace(/([\)\(\<\>\}\{\"\:\\])/gm,"\\$&");a.push(`(message: "${t}" OR error.message: "${t}")`)}if(t&&t.length){const e=function(e){const t={failure:"event.outcome: failure",warning:"kibana.alerting.outcome: warning",success:"kibana.alerting.outcome:success OR (event.outcome: success AND NOT kibana.alerting.outcome:*)",unknown:"event.outcome: unknown"};return`${e.map((e=>t[e])).join(" OR ")}`}(t);e&&a.push(`(${e})`)}return s&&a.push(`kibana.alert.rule.execution.uuid: ${s}`),null!=n&&n.length&&a.push(`kibana.alert.rule.rule_type_id:(${n.join(" or ")})`),a}},133:function(e,t,s){"use strict";s.d(t,"a",(function(){return o})),s.d(t,"b",(function(){return l})),s.d(t,"i",(function(){return d})),s.d(t,"k",(function(){return g})),s.d(t,"g",(function(){return p})),s.d(t,"L",(function(){return b})),s.d(t,"K",(function(){return m})),s.d(t,"J",(function(){return L})),s.d(t,"M",(function(){return T})),s.d(t,"t",(function(){return M})),s.d(t,"v",(function(){return w})),s.d(t,"x",(function(){return U})),s.d(t,"s",(function(){return C})),s.d(t,"u",(function(){return _})),s.d(t,"e",(function(){return F})),s.d(t,"m",(function(){return R})),s.d(t,"n",(function(){return P})),s.d(t,"r",(function(){return N})),s.d(t,"o",(function(){return D})),s.d(t,"p",(function(){return z})),s.d(t,"q",(function(){return H})),s.d(t,"j",(function(){return K})),s.d(t,"l",(function(){return $})),s.d(t,"h",(function(){return W})),s.d(t,"w",(function(){return B})),s.d(t,"f",(function(){return G})),s.d(t,"c",(function(){return J})),s.d(t,"d",(function(){return q})),s.d(t,"z",(function(){return Y})),s.d(t,"y",(function(){return Q})),s.d(t,"G",(function(){return V})),s.d(t,"I",(function(){return X})),s.d(t,"H",(function(){return Z})),s.d(t,"A",(function(){return ee})),s.d(t,"C",(function(){return te})),s.d(t,"B",(function(){return se})),s.d(t,"D",(function(){return ne})),s.d(t,"F",(function(){return ae})),s.d(t,"E",(function(){return ie}));var n=s(2);const a=n.i18n.translate("xpack.triggersActionsUI.sections.rulesList.ruleStatusOk",{defaultMessage:"Ok"}),i=n.i18n.translate("xpack.triggersActionsUI.sections.rulesList.ruleStatusActive",{defaultMessage:"Active"}),r=n.i18n.translate("xpack.triggersActionsUI.sections.rulesList.ruleStatusError",{defaultMessage:"Error"}),o=n.i18n.translate("xpack.triggersActionsUI.sections.rulesList.ruleStatusLicenseError",{defaultMessage:"License Error"}),c=n.i18n.translate("xpack.triggersActionsUI.sections.rulesList.ruleStatusPending",{defaultMessage:"Pending"}),l=n.i18n.translate("xpack.triggersActionsUI.sections.rulesList.ruleStatusUnknown",{defaultMessage:"Unknown"}),u=n.i18n.translate("xpack.triggersActionsUI.sections.rulesList.ruleStatusWarning",{defaultMessage:"Warning"}),d=n.i18n.translate("xpack.triggersActionsUI.sections.rulesList.ruleLastRunOutcomeSucceeded",{defaultMessage:"Succeeded"}),g=n.i18n.translate("xpack.triggersActionsUI.sections.rulesList.ruleLastRunOutcomeWarning",{defaultMessage:"Warning"}),p=n.i18n.translate("xpack.triggersActionsUI.sections.rulesList.ruleLastRunOutcomeFailed",{defaultMessage:"Failed"}),b={ok:a,active:i,error:r,pending:c,unknown:l,warning:u},m={succeeded:d,warning:g,failed:p},f=n.i18n.translate("xpack.triggersActionsUI.sections.rulesList.ruleErrorReasonUnknown",{defaultMessage:"An error occurred for unknown reasons."}),x=n.i18n.translate("xpack.triggersActionsUI.sections.rulesList.ruleErrorReasonReading",{defaultMessage:"An error occurred when reading the rule."}),h=n.i18n.translate("xpack.triggersActionsUI.sections.rulesList.ruleErrorReasonDecrypting",{defaultMessage:"An error occurred when decrypting the rule."}),j=n.i18n.translate("xpack.triggersActionsUI.sections.rulesList.ruleErrorReasonRunning",{defaultMessage:"An error occurred when running the rule."}),k=n.i18n.translate("xpack.triggersActionsUI.sections.rulesList.ruleErrorReasonLicense",{defaultMessage:"Cannot run rule"}),O=n.i18n.translate("xpack.triggersActionsUI.sections.rulesList.ruleErrorReasonTimeout",{defaultMessage:"Rule execution cancelled due to timeout."}),S=n.i18n.translate("xpack.triggersActionsUI.sections.rulesList.ruleErrorReasonDisabled",{defaultMessage:"Rule failed to execute because rule ran after it was disabled."}),A=n.i18n.translate("xpack.triggersActionsUI.sections.rulesList.ruleErrorReasonValidate",{defaultMessage:"An error occurred when validating the rule parameters."}),E=n.i18n.translate("xpack.triggersActionsUI.sections.rulesList.ruleWarningReasonMaxExecutableActions",{defaultMessage:"Action limit exceeded"}),v=n.i18n.translate("xpack.triggersActionsUI.sections.rulesList.ruleWarningReasonMaxQueuedActions",{defaultMessage:"Queued action limit exceeded."}),y=n.i18n.translate("xpack.triggersActionsUI.sections.rulesList.ruleWarningReasonMaxAlerts",{defaultMessage:"Alert limit exceeded"}),I=n.i18n.translate("xpack.triggersActionsUI.sections.rulesList.ruleWarningReasonUnknown",{defaultMessage:"Unknown reason"}),L={read:x,decrypt:h,execute:j,unknown:f,license:k,timeout:O,disabled:S,validate:A},T={maxExecutableActions:E,maxAlerts:y,maxQueuedActions:v,unknown:I},M=n.i18n.translate("xpack.triggersActionsUI.sections.rulesList.rulesListTable.columns.selectAllAriaLabel",{defaultMessage:"Toggle select all rules"}),w=n.i18n.translate("xpack.triggersActionsUI.sections.rulesList.rulesListTable.columns.selectShowBulkActionsAriaLabel",{defaultMessage:"Show bulk actions"}),U=(e,t)=>n.i18n.translate("xpack.triggersActionsUI.sections.rulesList.totalRulesLabel",{values:{formattedTotalRules:e,totalRules:t},defaultMessage:"{formattedTotalRules} {totalRules, plural, =1 {rule} other {rules}}"}),C=(e,t)=>n.i18n.translate("xpack.triggersActionsUI.sections.rulesList.selectedRulesButton",{values:{formattedSelectedRules:e,selectedRules:t},defaultMessage:"Selected {formattedSelectedRules} {selectedRules, plural, =1 {rule} other {rules}}"}),_=(e,t)=>n.i18n.translate("xpack.triggersActionsUI.sections.rulesList.selectAllRulesButton",{values:{formattedTotalRules:e,totalRules:t},defaultMessage:"Select all {formattedTotalRules} {totalRules, plural, =1 {rule} other {rules}}"}),F=n.i18n.translate("xpack.triggersActionsUI.sections.rulesList.clearAllSelectionButton",{defaultMessage:"Clear selection"}),R=e=>n.i18n.translate("xpack.triggersActionsUI.sections.rulesList.totalStatusesActiveDescription",{defaultMessage:"Active: {totalStatusesActive}",values:{totalStatusesActive:e}}),P=e=>n.i18n.translate("xpack.triggersActionsUI.sections.rulesList.totalStatusesErrorDescription",{defaultMessage:"Error: {totalStatusesError}",values:{totalStatusesError:e}}),N=e=>n.i18n.translate("xpack.triggersActionsUI.sections.rulesList.totalStatusesWarningDescription",{defaultMessage:"Warning: {totalStatusesWarning}",values:{totalStatusesWarning:e}}),D=e=>n.i18n.translate("xpack.triggersActionsUI.sections.rulesList.totalStatusesOkDescription",{defaultMessage:"Ok: {totalStatusesOk}",values:{totalStatusesOk:e}}),z=e=>n.i18n.translate("xpack.triggersActionsUI.sections.rulesList.totalStatusesPendingDescription",{defaultMessage:"Pending: {totalStatusesPending}",values:{totalStatusesPending:e}}),H=e=>n.i18n.translate("xpack.triggersActionsUI.sections.rulesList.totalStatusesUnknownDescription",{defaultMessage:"Unknown: {totalStatusesUnknown}",values:{totalStatusesUnknown:e}}),K=e=>n.i18n.translate("xpack.triggersActionsUI.sections.rulesList.lastRunOutcomeSucceededDescription",{defaultMessage:"Succeeded: {total}",values:{total:e}}),$=e=>n.i18n.translate("xpack.triggersActionsUI.sections.rulesList.lastRunOutcomeWarningDescription",{defaultMessage:"Warning: {total}",values:{total:e}}),W=e=>n.i18n.translate("xpack.triggersActionsUI.sections.rulesList.lastRunOutcomeFailedDescription",{defaultMessage:"Failed: {total}",values:{total:e}}),B=n.i18n.translate("xpack.triggersActionsUI.sections.rulesList.singleTitle",{defaultMessage:"rule"}),G=n.i18n.translate("xpack.triggersActionsUI.sections.rulesList.multipleTitle",{defaultMessage:"rules"}),J=n.i18n.translate("xpack.triggersActionsUI.deleteSelectedIdsConfirmModal.cancelButtonLabel",{defaultMessage:"Cancel"}),q=e=>n.i18n.translate("xpack.triggersActionsUI.sections.rulesList.clearFilterLink",{values:{numberOfFilters:e},defaultMessage:"Clear {numberOfFilters, plural, =1 {filter} other {filters}}"}),Y=(e,t,s)=>n.i18n.translate("xpack.triggersActionsUI.deleteSelectedIdsConfirmModal.descriptionText",{defaultMessage:"You won't be able to recover {numIdsToDelete, plural, one {a deleted {singleTitle}} other {deleted {multipleTitle}}}.",values:{numIdsToDelete:e,singleTitle:t,multipleTitle:s}}),Q=(e,t,s)=>n.i18n.translate("xpack.triggersActionsUI.deleteSelectedIdsConfirmModal.deleteButtonLabel",{defaultMessage:"Delete {numIdsToDelete, plural, one {{singleTitle}} other {# {multipleTitle}}} ",values:{numIdsToDelete:e,singleTitle:t,multipleTitle:s}}),V=(e,t,s)=>n.i18n.translate("xpack.triggersActionsUI.components.deleteSelectedIdsSuccessNotification.descriptionText",{defaultMessage:"Deleted {numSuccesses, number} {numSuccesses, plural, one {{singleTitle}} other {{multipleTitle}}}",values:{numSuccesses:e,singleTitle:t,multipleTitle:s}}),X=(e,t,s)=>n.i18n.translate("xpack.triggersActionsUI.components.enableSelectedIdsSuccessNotification.descriptionText",{defaultMessage:"Enabled {numSuccesses, number} {numSuccesses, plural, one {{singleTitle}} other {{multipleTitle}}}",values:{numSuccesses:e,singleTitle:t,multipleTitle:s}}),Z=(e,t,s)=>n.i18n.translate("xpack.triggersActionsUI.components.disableSelectedIdsSuccessNotification.descriptionText",{defaultMessage:"Disabled {numSuccesses, number} {numSuccesses, plural, one {{singleTitle}} other {{multipleTitle}}}",values:{numSuccesses:e,singleTitle:t,multipleTitle:s}}),ee=(e,t,s)=>n.i18n.translate("xpack.triggersActionsUI.components.deleteSelectedIdsErrorNotification.descriptionText",{defaultMessage:"Failed to delete {numErrors, number} {numErrors, plural, one {{singleTitle}} other {{multipleTitle}}}",values:{numErrors:e,singleTitle:t,multipleTitle:s}}),te=(e,t,s)=>n.i18n.translate("xpack.triggersActionsUI.components.enableSelectedIdsErrorNotification.descriptionText",{defaultMessage:"Failed to enable {numErrors, number} {numErrors, plural, one {{singleTitle}} other {{multipleTitle}}}",values:{numErrors:e,singleTitle:t,multipleTitle:s}}),se=(e,t,s)=>n.i18n.translate("xpack.triggersActionsUI.components.disableSelectedIdsErrorNotification.descriptionText",{defaultMessage:"Failed to disable {numErrors, number} {numErrors, plural, one {{singleTitle}} other {{multipleTitle}}}",values:{numErrors:e,singleTitle:t,multipleTitle:s}}),ne=(e,t,s,a)=>n.i18n.translate("xpack.triggersActionsUI.components.deleteSelectedIdsPartialSuccessNotification.descriptionText",{defaultMessage:"Deleted {numberOfSuccess, number} {numberOfSuccess, plural, one {{singleTitle}} other {{multipleTitle}}}, {numberOfErrors, number} {numberOfErrors, plural, one {{singleTitle}} other {{multipleTitle}}} encountered errors",values:{numberOfSuccess:e,numberOfErrors:t,singleTitle:s,multipleTitle:a}}),ae=(e,t,s,a)=>n.i18n.translate("xpack.triggersActionsUI.components.enableSelectedIdsPartialSuccessNotification.descriptionText",{defaultMessage:"Enabled {numberOfSuccess, number} {numberOfSuccess, plural, one {{singleTitle}} other {{multipleTitle}}}, {numberOfErrors, number} {numberOfErrors, plural, one {{singleTitle}} other {{multipleTitle}}} encountered errors",values:{numberOfSuccess:e,numberOfErrors:t,singleTitle:s,multipleTitle:a}}),ie=(e,t,s,a)=>n.i18n.translate("xpack.triggersActionsUI.components.disableSelectedIdsPartialSuccessNotification.descriptionText",{defaultMessage:"Disabled {numberOfSuccess, number} {numberOfSuccess, plural, one {{singleTitle}} other {{multipleTitle}}}, {numberOfErrors, number} {numberOfErrors, plural, one {{singleTitle}} other {{multipleTitle}}} encountered errors",values:{numberOfSuccess:e,numberOfErrors:t,singleTitle:s,multipleTitle:a}})},138:function(e,t,s){"use strict";s.d(t,"a",(function(){return a})),s.d(t,"c",(function(){return i})),s.d(t,"b",(function(){return r}));var n=s(25);async function a({http:e}){const t=await e.get(`${n.b}/_health`),s=i(t.alerting_framework_health);return{...r(t),alertingFrameworkHealth:s}}const i=({decryption_health:e,execution_health:t,read_health:s,...n})=>({decryptionHealth:e,executionHealth:t,readHealth:s,...n}),r=({is_sufficiently_secure:e,has_permanent_encryption_key:t,alerting_framework_health:s,...n})=>({isSufficientlySecure:e,hasPermanentEncryptionKey:t,alertingFrameworkHealth:s,...n})},143:function(e,t,s){"use strict";s.d(t,"a",(function(){return o})),s.d(t,"b",(function(){return c}));var n=s(1),a=s(0);const i={loadingHealthCheck:!1,setLoadingHealthCheck:e=>{throw new Error("setLoadingHealthCheck was not initialized, set it when you invoke the context")}},r=Object(n.createContext)(i),o=({children:e})=>{const[t,s]=Object(n.useState)(!1),i=Object(n.useCallback)((e=>{s(e)}),[]),o=Object(n.useMemo)((()=>({loadingHealthCheck:t,setLoadingHealthCheck:i})),[t,i]);return Object(a.jsx)(r.Provider,{value:o},e)},c=()=>{const e=Object(n.useContext)(r);if(!e)throw new Error("HealthContext has not been set.");return e}},172:function(e,t,s){"use strict";s.d(t,"a",(function(){return f}));var n=s(1),a=s.n(n),i=s(159),r=s(146),o=s(24),c=s(3),l=s(2),u=(s(198),s(178)),d=s(138),g=s(143),p=s(29),b=s(56),m=s(0);const f=({children:e,waitForCheck:t,inFlyout:s=!1})=>{const{http:n,docLinks:o}=Object(p.b)().services,{setLoadingHealthCheck:l}=Object(g.b)(),[f,O]=a.a.useState(i.none);a.a.useEffect((()=>{!async function(){l(!0);const e={...await Object(u.a)({http:n}),isSufficientlySecure:!1,hasPermanentEncryptionKey:!1};if(e.isRulesAvailable){const t=await async function(e){try{return Object(i.some)(await Object(d.a)({http:e}))}catch(e){return i.none}}(n);Object(i.isSome)(t)?(e.isSufficientlySecure=t.value.isSufficientlySecure,e.hasPermanentEncryptionKey=t.value.hasPermanentEncryptionKey):(e.isSufficientlySecure=!0,e.hasPermanentEncryptionKey=!0),O(Object(i.some)(e))}l(!1)}()}),[n,l]);const S=s?"alertingFlyoutHealthCheck":"alertingHealthCheck";return Object(r.pipe)(f,Object(i.fold)((()=>t?Object(m.jsx)(a.a.Fragment,null,Object(m.jsx)(c.EuiSpacer,{size:"m"}),Object(m.jsx)(b.a,null)):Object(m.jsx)(a.a.Fragment,null,e)),(t=>null!=t&&t.isSufficientlySecure&&null!=t&&t.hasPermanentEncryptionKey?Object(m.jsx)(a.a.Fragment,null,e):t.isRulesAvailable?t.isSufficientlySecure||t.hasPermanentEncryptionKey?t.hasPermanentEncryptionKey?Object(m.jsx)(h,{docLinks:o,className:S}):Object(m.jsx)(x,{docLinks:o,className:S}):Object(m.jsx)(k,{docLinks:o,className:S}):Object(m.jsx)(j,{docLinks:o,className:S}))))},x=({docLinks:e,className:t})=>Object(m.jsx)(c.EuiEmptyPrompt,{iconType:"watchesApp","data-test-subj":"actionNeededEmptyPrompt",className:t,titleSize:"xs",title:Object(m.jsx)("h2",null,Object(m.jsx)(o.FormattedMessage,{id:"xpack.triggersActionsUI.components.healthCheck.encryptionErrorTitle",defaultMessage:"Additional setup required"})),body:Object(m.jsx)("div",{className:`${t}__body`},Object(m.jsx)("p",{role:"banner"},l.i18n.translate("xpack.triggersActionsUI.components.healthCheck.encryptionErrorBeforeKey",{defaultMessage:"You must configure an encryption key to use Alerting. "}),Object(m.jsx)(c.EuiLink,{href:e.links.alerting.generalSettings,external:!0,target:"_blank"},l.i18n.translate("xpack.triggersActionsUI.components.healthCheck.encryptionErrorAction",{defaultMessage:"Learn more."}))))}),h=({docLinks:e,className:t})=>Object(m.jsx)(c.EuiEmptyPrompt,{iconType:"watchesApp","data-test-subj":"actionNeededEmptyPrompt",className:t,titleSize:"xs",title:Object(m.jsx)("h2",null,Object(m.jsx)(o.FormattedMessage,{id:"xpack.triggersActionsUI.components.healthCheck.apiKeysDisabledErrorTitle",defaultMessage:"Additional setup required"})),body:Object(m.jsx)("div",{className:`${t}__body`},Object(m.jsx)("p",{role:"banner"},l.i18n.translate("xpack.triggersActionsUI.components.healthCheck.apiKeysDisabledError",{defaultMessage:"You must enable API keys to use Alerting. "}),Object(m.jsx)(c.EuiLink,{href:e.links.security.elasticsearchEnableApiKeys,external:!0,target:"_blank"},l.i18n.translate("xpack.triggersActionsUI.components.healthCheck.apiKeysDisabledErrorAction",{defaultMessage:"Learn more."}))))}),j=({docLinks:e,className:t})=>Object(m.jsx)(c.EuiEmptyPrompt,{iconType:"watchesApp","data-test-subj":"alertsNeededEmptyPrompt",className:t,titleSize:"xs",title:Object(m.jsx)("h2",null,Object(m.jsx)(o.FormattedMessage,{id:"xpack.triggersActionsUI.components.healthCheck.alertsErrorTitle",defaultMessage:"You must enable Alerting and Actions"})),body:Object(m.jsx)("div",{className:`${t}__body`},Object(m.jsx)("p",{role:"banner"},l.i18n.translate("xpack.triggersActionsUI.components.healthCheck.alertsError",{defaultMessage:"To create a rule, you must enable the alerting and actions plugins. "}),Object(m.jsx)(c.EuiLink,{href:e.links.alerting.generalSettings,external:!0,target:"_blank"},l.i18n.translate("xpack.triggersActionsUI.components.healthCheck.alertsErrorAction",{defaultMessage:"Learn how."}))))}),k=({docLinks:e,className:t})=>Object(m.jsx)(c.EuiEmptyPrompt,{iconType:"watchesApp","data-test-subj":"actionNeededEmptyPrompt",className:t,titleSize:"xs",title:Object(m.jsx)("h2",null,Object(m.jsx)(o.FormattedMessage,{id:"xpack.triggersActionsUI.components.healthCheck.apiKeysAndEncryptionErrorTitle",defaultMessage:"Additional setup required"})),body:Object(m.jsx)("div",{className:`${t}__body`},Object(m.jsx)("p",{role:"banner"},l.i18n.translate("xpack.triggersActionsUI.components.healthCheck.apiKeysAndEncryptionError",{defaultMessage:"You must enable API keys and configure an encryption key to use Alerting. "}),Object(m.jsx)(c.EuiLink,{href:e.links.alerting.setupPrerequisites,external:!0,target:"_blank"},l.i18n.translate("xpack.triggersActionsUI.components.healthCheck.apiKeysAndEncryptionErrorAction",{defaultMessage:"Learn more."}))))})},176:function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));var n=s(2),a=s(6);const i=(e,t=!1)=>{switch(e){case"logs":return{text:n.i18n.translate("xpack.triggersActionsUI.logs.breadcrumbTitle",{defaultMessage:"Logs"}),...t?{href:`${a.z}`}:{}};case"connectors":return{text:n.i18n.translate("xpack.triggersActionsUI.connectors.breadcrumbTitle",{defaultMessage:"Connectors"}),...t?{href:`${a.x}`}:{}};case"rules":return{text:n.i18n.translate("xpack.triggersActionsUI.rules.breadcrumbTitle",{defaultMessage:"Rules"}),...t?{href:`${a.A}`}:{}};case"alerts":return{text:n.i18n.translate("xpack.triggersActionsUI.alerts.breadcrumbTitle",{defaultMessage:"Alerts"}),...t?{href:`${a.t}`}:{}};default:return{text:n.i18n.translate("xpack.triggersActionsUI.home.breadcrumbTitle",{defaultMessage:"Rules"}),...t?{href:`${a.y}`}:{}}}}},177:function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var n=s(2);const a=e=>{let t;switch(e){case"logs":t=n.i18n.translate("xpack.triggersActionsUI.logs.breadcrumbTitle",{defaultMessage:"Logs"});break;case"connectors":t=n.i18n.translate("xpack.triggersActionsUI.connectors.breadcrumbTitle",{defaultMessage:"Connectors"});break;case"rules":t=n.i18n.translate("xpack.triggersActionsUI.rules.breadcrumbTitle",{defaultMessage:"Rules"});break;case"alerts":t=n.i18n.translate("xpack.triggersActionsUI.alerts.breadcrumbTitle",{defaultMessage:"Alerts"});break;default:t=n.i18n.translate("xpack.triggersActionsUI.home.breadcrumbTitle",{defaultMessage:"Rules"})}return t}},178:function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var n=s(25);const a=async({http:e})=>{const t=await e.get(`${n.d}/_health`);return t?{isRulesAvailable:t.isAlertsAvailable}:t}},198:function(e,t,s){switch(window.__kbnThemeTag__){case"v8dark":return s(199);case"v8light":return s(201)}},199:function(e,t,s){var n=s(54),a=s(200);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);n(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},200:function(e,t,s){(t=s(55)(!1)).push([e.i,".alertingFlyoutHealthCheck__body,.alertingHealthCheck__body{padding-left:32px;padding-right:32px}.alertingFlyoutHealthCheck__body{margin-top:16px}",""]),e.exports=t},201:function(e,t,s){var n=s(54),a=s(202);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);n(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},202:function(e,t,s){(t=s(55)(!1)).push([e.i,".alertingFlyoutHealthCheck__body,.alertingHealthCheck__body{padding-left:32px;padding-right:32px}.alertingFlyoutHealthCheck__body{margin-top:16px}",""]),e.exports=t},224:function(e,t,s){"use strict";s.d(t,"a",(function(){return p}));var n=s(12),a=s.n(n),i=(s(1),s(21)),r=s(6),o=s(132);const c=({http:e,outcomeFilter:t,message:s,dateStart:n,dateEnd:a,namespaces:i})=>{const c=Object(o.a)({outcomeFilter:t,message:s});return e.post(`${r.l}/_global_connector_execution_kpi`,{body:JSON.stringify({filter:c.length?c.join(" and "):void 0,date_start:n,date_end:a,namespaces:i?JSON.stringify(i):i})})};var l=s(15);const u=async({http:e,dateStart:t,dateEnd:s,outcomeFilter:n,message:a,perPage:i=10,page:r=0,sort:c=[],namespaces:u})=>{const d=c,g=Object(o.a)({outcomeFilter:n,message:a});return(({data:e,...t})=>({data:e.map((e=>(e=>{const{duration_ms:t,schedule_delay_ms:s,...n}=e;return{execution_duration:e.duration_ms,schedule_delay:e.schedule_delay_ms,...n}})(e))),...t}))(await e.post(`${l.INTERNAL_BASE_ACTION_API_PATH}/_global_connector_execution_logs`,{body:JSON.stringify({date_start:t,date_end:s,filter:g.length?g.join(" and "):void 0,per_page:i,page:r+1,sort:d.length?JSON.stringify(d):void 0,namespaces:u?JSON.stringify(u):void 0})}))};var d=s(29),g=s(0);function p(e){return t=>{const{http:s}=Object(d.b)().services;return Object(g.jsx)(e,a()({},t,{loadActionTypes:async()=>Object(i.d)({http:s,includeSystemActions:!0}),loadGlobalConnectorExecutionLogAggregations:async e=>u({...e,http:s}),loadGlobalConnectorExecutionKPIAggregations:async e=>c({...e,http:s})}))}}},363:function(e,t,s){"use strict";s.r(t),s.d(t,"ActionsConnectorsHome",(function(){return H})),s.d(t,"default",(function(){return H}));var n=s(1),a=s.n(n),i=s(249),r=s(207),o=s(24),c=s(2),l=s(3),u=s(6),d=s(176),g=s(177),p=s(5),b=s(143),m=s(172),f=s(29),x=s(58),h=s.n(x),j=s(56),k=s(224),O=s(241),S=s(34),A=s(204),E=s(0);const v=e=>{var t;return e.includes("now")&&(null===(t=h.a.parse(e))||void 0===t?void 0:t.format())||e},y=c.i18n.translate("xpack.triggersActionsUI.sections.connectorEventLogListKpi.apiError",{defaultMessage:"Failed to fetch event log KPI."}),I=c.i18n.translate("xpack.triggersActionsUI.sections.connectorEventLogListKpi.responseTooltip",{defaultMessage:"The responses for up to 10,000 most recent actions triggered."}),L=Object(k.a)((e=>{var t,s,i,r;const{dateStart:o,dateEnd:c,outcomeFilter:u,message:d,refreshToken:g,namespaces:p,loadGlobalConnectorExecutionKPIAggregations:b}=e,{notifications:{toasts:m}}=Object(f.b)().services,x=Object(n.useRef)(!1),h=Object(S.a)("ruleUseExecutionStatus"),[j,k]=Object(n.useState)(!1),[O,L]=Object(n.useState)(),T=Object(n.useMemo)((()=>b),[b]),M=async()=>{k(!0);try{const e=await T({dateStart:v(o),dateEnd:v(c),outcomeFilter:u,message:d,...p?{namespaces:p}:{}});L(e)}catch(s){var e,t;m.addDanger({title:y,text:null!==(e=null===(t=s.body)||void 0===t?void 0:t.message)&&void 0!==e?e:s})}k(!1)};Object(n.useEffect)((()=>{M()}),[o,c,u,d,p]),Object(n.useEffect)((()=>{x.current&&M(),x.current=!0}),[g]);const w=Object(n.useMemo)((()=>j||!O),[j,O]),U=e=>Object(E.jsx)(a.a.Fragment,null,e,Object(E.jsx)(l.EuiSpacer,{size:"s"}));return Object(E.jsx)(l.EuiFlexGroup,null,Object(E.jsx)(l.EuiFlexItem,{grow:4},Object(E.jsx)(A.g,{title:"Responses",tooltip:I},Object(E.jsx)(l.EuiFlexGroup,null,Object(E.jsx)(l.EuiFlexItem,null,Object(E.jsx)(l.EuiStat,{"data-test-subj":"connectorEventLogKpi-successOutcome",description:U(Object(E.jsx)(A.d,{status:"success",useExecutionStatus:h})),titleSize:"s",title:null!==(t=null==O?void 0:O.success)&&void 0!==t?t:0,isLoading:w})),Object(E.jsx)(l.EuiFlexItem,null,Object(E.jsx)(l.EuiStat,{"data-test-subj":"connectorEventLogKpi-warningOutcome",description:U(Object(E.jsx)(A.d,{status:"warning",useExecutionStatus:h})),titleSize:"s",title:null!==(s=null==O?void 0:O.warning)&&void 0!==s?s:0,isLoading:w})),Object(E.jsx)(l.EuiFlexItem,null,Object(E.jsx)(l.EuiStat,{"data-test-subj":"connectorEventLogKpi-failureOutcome",description:U(Object(E.jsx)(A.d,{status:"failure",useExecutionStatus:h})),titleSize:"s",title:null!==(i=null==O?void 0:O.failure)&&void 0!==i?i:0,isLoading:w})),Object(E.jsx)(l.EuiFlexItem,null,Object(E.jsx)(l.EuiStat,{"data-test-subj":"connectorEventLogKpi-unknownOutcome",description:U(Object(E.jsx)(A.d,{status:"unknown",useExecutionStatus:h})),titleSize:"s",title:null!==(r=null==O?void 0:O.unknown)&&void 0!==r?r:0,isLoading:w}))))))}));var T=s(255);const M=({children:e})=>Object(E.jsx)(a.a.Fragment,null,e),w=e=>{var t;return e.includes("now")&&(null===(t=h.a.parse(e))||void 0===t?void 0:t.format())||e},U=c.i18n.translate("xpack.triggersActionsUI.sections.connectorEventLogList.eventLogColumn.apiError",{defaultMessage:"Failed to fetch execution history"}),C=c.i18n.translate("xpack.triggersActionsUI.sections.connectorEventLogList.eventLogColumn.searchPlaceholder",{defaultMessage:"Search event log message"}),_="xpack.triggersActionsUI.connectorEventLogList.initialColumns",F=c.i18n.translate("xpack.triggersActionsUI.connectorEventLogList.showAllSpacesToggle",{defaultMessage:"Show connectors from all spaces"}),R={iconOnly:!0,fill:!1},P=1e3,N=e=>{const{localStorageKey:t=_,refreshToken:s,loadGlobalConnectorExecutionLogAggregations:i,initialPageSize:r=10,hasConnectorNames:o=!1,hasAllSpaceSwitch:d=!1}=e,{uiSettings:g,notifications:p}=Object(f.b)().services,[b,m]=Object(n.useState)(""),[x,h]=Object(n.useState)(""),[k,S]=Object(n.useState)(s),[v,y]=Object(n.useState)(!1),[I,M]=Object(n.useState)(),[N,D]=Object(n.useState)((()=>(e=>{const t=e.filter((e=>!u.e.includes(e)));return[...u.e,...t]})(u.j))),[z,H]=Object(n.useState)([]),[K,$]=Object(n.useState)([]),[W,B]=Object(n.useState)(0),[G,J]=Object(n.useState)({pageIndex:0,pageSize:r,totalItemCount:0}),[q,Y]=Object(n.useState)(!1),[Q,V]=Object(n.useState)("now-24h"),[X,Z]=Object(n.useState)("now"),[ee]=Object(n.useState)((()=>null==g?void 0:g.get("dateFormat"))),[te]=Object(n.useState)((()=>{var e;return(null==g||null===(e=g.get("timepicker:quickRanges"))||void 0===e?void 0:e.map((({from:e,to:t,display:s})=>({start:e,end:t,label:s}))))||[]})),{onShowAllSpacesChange:se,canAccessMultipleSpaces:ne,namespaces:ae}=Object(T.a)({setShowFromAllSpaces:y,showFromAllSpaces:v,visibleColumns:N,setVisibleColumns:D}),ie=Object(n.useRef)(!1),re=Object(n.useMemo)((()=>{const{pageIndex:e,pageSize:t}=G;return(e+1)*t>=P}),[G]),oe=Object(n.useMemo)((()=>z.map((({id:e,direction:t})=>({[e]:{order:t}})))),[z]),ce=async()=>{if(i){Y(!0);try{const e=await i({sort:oe,outcomeFilter:K,message:b,dateStart:w(Q),dateEnd:w(X),page:G.pageIndex,perPage:G.pageSize,namespaces:ae});M(e.data),J({...G,totalItemCount:Math.min(e.total,P)}),B(e.total)}catch(s){var e,t;p.toasts.addDanger({title:U,text:null!==(e=null===(t=s.body)||void 0===t?void 0:t.message)&&void 0!==e?e:s})}Y(!1)}},le=Object(n.useCallback)((e=>{J((t=>({...t,pageIndex:0,pageSize:e})))}),[J]),ue=Object(n.useCallback)((e=>{J((t=>({...t,pageIndex:e})))}),[J]),de=Object(n.useCallback)((({start:e,end:t,isInvalid:s})=>{s||(V(e),Z(t))}),[V,Z]),ge=Object(n.useCallback)((e=>{J((e=>({...e,pageIndex:0}))),$(e)}),[J,$]),pe=Object(n.useCallback)((e=>{""===e.target.value&&m(""),h(e.target.value)}),[m,h]),be=Object(n.useCallback)((e=>{"Enter"===e.key&&m(x)}),[x,m]),me=Object(n.useMemo)((()=>[{id:"connector_id",displayAsText:c.i18n.translate("xpack.triggersActionsUI.sections.connectorEventLogList.eventLogColumn.connectorId",{defaultMessage:"Connector Id"}),isSortable:Object(A.h)("connector_id")},{id:"id",displayAsText:c.i18n.translate("xpack.triggersActionsUI.sections.connectorEventLogList.eventLogColumn.id",{defaultMessage:"Execution Id"}),isSortable:Object(A.h)("id")},{id:"timestamp",displayAsText:c.i18n.translate("xpack.triggersActionsUI.sections.connectorEventLogList.eventLogColumn.timestamp",{defaultMessage:"Timestamp"}),isSortable:Object(A.h)("timestamp"),isResizable:!1,actions:{showHide:!1},initialWidth:250},{id:"status",displayAsText:c.i18n.translate("xpack.triggersActionsUI.sections.connectorEventLogList.eventLogColumn.response",{defaultMessage:"Response"}),actions:{showHide:!1,showSortAsc:!1,showSortDesc:!1,additional:[{iconType:"annotation",label:c.i18n.translate("xpack.triggersActionsUI.sections.connectorEventLogList.eventLogColumn.showOnlyFailures",{defaultMessage:"Show only failures"}),onClick:()=>ge(["failure"]),size:"xs"},{iconType:"annotation",label:c.i18n.translate("xpack.triggersActionsUI.sections.connectorEventLogList.eventLogColumn.showAll",{defaultMessage:"Show all"}),onClick:()=>ge([]),size:"xs"}]},isSortable:Object(A.h)("status"),isResizable:!1,initialWidth:150},...o?[{id:"connector_name",displayAsText:c.i18n.translate("xpack.triggersActionsUI.sections.connectorEventLogList.eventLogColumn.connectorName",{defaultMessage:"Connector"}),isSortable:Object(A.h)("connector_name"),actions:{showSortAsc:!1,showSortDesc:!1,showHide:!1}}]:[],{id:"source",actions:{showSortAsc:!1,showSortDesc:!1},displayAsText:c.i18n.translate("xpack.triggersActionsUI.sections.connectorEventLogList.eventLogColumn.source",{defaultMessage:"Source"}),isSortable:Object(A.h)("source"),cellActions:[]},{id:"message",actions:{showSortAsc:!1,showSortDesc:!1},displayAsText:c.i18n.translate("xpack.triggersActionsUI.sections.connectorEventLogList.eventLogColumn.message",{defaultMessage:"Message"}),isSortable:Object(A.h)("message"),cellActions:[]},{id:"execution_duration",displayAsText:c.i18n.translate("xpack.triggersActionsUI.sections.connectorEventLogList.eventLogColumn.duration",{defaultMessage:"Duration"}),isSortable:Object(A.h)("execution_duration"),isResizable:!1,actions:{showHide:!1},initialWidth:100},{id:"schedule_delay",displayAsText:c.i18n.translate("xpack.triggersActionsUI.sections.connectorEventLogList.eventLogColumn.scheduleDelay",{defaultMessage:"Schedule delay"}),isSortable:Object(A.h)("schedule_delay")},{id:"timed_out",displayAsText:c.i18n.translate("xpack.triggersActionsUI.sections.connectorEventLogList.eventLogColumn.timedOut",{defaultMessage:"Timed out"}),isSortable:Object(A.h)("timed_out")},...v?[{id:"space_ids",displayAsText:c.i18n.translate("xpack.triggersActionsUI.sections.connectorEventLogList.eventLogColumn.spaceIds",{defaultMessage:"Space"}),isSortable:Object(A.h)("space_ids"),actions:{showSortAsc:!1,showSortDesc:!1,showHide:!1}}]:[]]),[ge,o,v]);return Object(n.useEffect)((()=>{ce()}),[z,Q,X,K,G.pageIndex,G.pageSize,b,v]),Object(n.useEffect)((()=>{ie.current&&ce(),ie.current=!0}),[s]),Object(n.useEffect)((()=>{localStorage.setItem(t,JSON.stringify(N))}),[t,N]),Object(n.useEffect)((()=>{S(s)}),[s]),Object(E.jsx)(l.EuiFlexGroup,{gutterSize:"none",direction:"column"},Object(E.jsx)(l.EuiFlexItem,{grow:!1},Object(E.jsx)(l.EuiFlexGroup,{alignItems:"center"},Object(E.jsx)(l.EuiFlexItem,{grow:!1},Object(E.jsx)(l.EuiFieldSearch,{fullWidth:!0,isClearable:!0,value:x,onChange:pe,onKeyUp:be,placeholder:C})),Object(E.jsx)(l.EuiFlexItem,{grow:!1},Object(E.jsx)(A.e,{selectedOptions:K,onChange:ge})),Object(E.jsx)(l.EuiFlexItem,{grow:!1},Object(E.jsx)(l.EuiSuperDatePicker,{"data-test-subj":"connectorEventLogListDatePicker",width:"auto",isLoading:q,start:Q,end:X,onTimeChange:de,onRefresh:()=>{S(Date.now()),ce()},dateFormat:ee,commonlyUsedRanges:te,updateButtonProps:R})),d&&ne&&Object(E.jsx)(l.EuiFlexItem,{"data-test-subj":"showAllSpacesSwitch"},Object(E.jsx)(l.EuiSwitch,{label:F,checked:v,onChange:se}))),Object(E.jsx)(l.EuiSpacer,null)),Object(E.jsx)(l.EuiFlexItem,{grow:!1},Object(E.jsx)(L,{"data-test-subj":"connectorEventLogListKpi",dateStart:Q,dateEnd:X,outcomeFilter:K,message:b,refreshToken:k,namespaces:ae}),Object(E.jsx)(l.EuiSpacer,null)),Object(E.jsx)(l.EuiFlexItem,null,I?Object(E.jsx)(a.a.Fragment,null,q&&Object(E.jsx)(l.EuiProgress,{size:"xs",color:"accent","data-test-subj":"connectorEventLogListProgressBar"}),Object(E.jsx)(A.b,{columns:me,logs:I,pagination:G,sortingColumns:z,visibleColumns:N,dateFormat:ee,onChangeItemsPerPage:le,onChangePage:ue,setVisibleColumns:D,setSortingColumns:H})):Object(E.jsx)(j.a,null),re&&Object(E.jsx)(O.a,{documentSize:W,visibleDocumentSize:P,backToTopAnchor:"logs"})))},D=Object(k.a)((e=>{const{spaces:t}=Object(f.b)().services,s=Object(n.useCallback)(t?t.ui.components.getSpacesContextProvider:M,[t]);return Object(E.jsx)(s,{feature:"triggersActions"},Object(E.jsx)(N,e))})),z=Object(n.lazy)((()=>Promise.all([s.e(12),s.e(11),s.e(35)]).then(s.bind(null,380)))),H=({match:{params:{section:e}},history:t})=>{const{chrome:s,setBreadcrumbs:x,docLinks:h}=Object(f.b)().services,j=[];j.push({id:"connectors",name:Object(E.jsx)(o.FormattedMessage,{id:"xpack.triggersActionsUI.connectors.home.connectorsTabTitle",defaultMessage:"Connectors"})}),j.push({id:"logs",name:Object(E.jsx)(o.FormattedMessage,{id:"xpack.triggersActionsUI.connectors.home.logsTabTitle",defaultMessage:"Logs"})}),Object(n.useEffect)((()=>{x([Object(d.a)(e||"connectors")]),s.docTitle.change(Object(g.a)(e||"connectors"))}),[e,s,x]);const k=Object(n.useCallback)((()=>Object(E.jsx)(l.EuiPageTemplate.Section,{grow:!1,paddingSize:"none"},Object(p.a)(D,"xl")({refreshToken:0,initialPageSize:50,hasConnectorNames:!0,hasAllSpaceSwitch:!0}))),[]);return Object(E.jsx)(a.a.Fragment,null,Object(E.jsx)(l.EuiPageHeader,{bottomBorder:!0,paddingSize:"none",pageTitle:c.i18n.translate("xpack.triggersActionsUI.connectors.home.appTitle",{defaultMessage:"Connectors"}),description:c.i18n.translate("xpack.triggersActionsUI.connectors.home.description",{defaultMessage:"Connect third-party software with your alerting data."}),rightSideItems:[Object(E.jsx)(l.EuiButtonEmpty,{"data-test-subj":"documentationButton",key:"documentation-button",target:"_blank",href:h.links.alerting.actionTypes,iconType:"help"},Object(E.jsx)(o.FormattedMessage,{id:"xpack.triggersActionsUI.connectors.home.documentationButtonLabel",defaultMessage:"Documentation"}))],tabs:j.map((s=>({label:s.name,onClick:()=>{return e=s.id,void t.push(`/${e}`);var e},isSelected:s.id===e,key:s.id,"data-test-subj":`${s.id}Tab`})))}),Object(E.jsx)(l.EuiSpacer,{size:"l"}),Object(E.jsx)(b.a,null,Object(E.jsx)(m.a,{waitForCheck:!0},Object(E.jsx)(i.a,null,Object(E.jsx)(r.b,{exact:!0,path:u.z,component:k}),Object(E.jsx)(r.b,{exact:!0,path:[u.x,u.w],component:Object(p.a)(z,"xl")})))))}}}]);