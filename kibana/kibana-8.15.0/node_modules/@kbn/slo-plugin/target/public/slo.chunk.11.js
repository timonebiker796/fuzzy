/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.slo_bundle_jsonpfunction=window.slo_bundle_jsonpfunction||[]).push([[11],{103:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var l=a(0),s=a(10),n=a(84),r=a.n(n),i=a(74);const o=()=>{var e;const{licensing:t}=Object(i.a)().services,a=r()(null!==(e=null==t?void 0:t.license$)&&void 0!==e?e:new s.Observable,null);return{getLicense:()=>a,hasAtLeast:Object(l.useCallback)((e=>{if(a)return!!a&&a.isAvailable&&a.isActive&&a.hasAtLeast(e)}),[a])}}},109:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return n}));var l=a(0);const s=Object(l.createContext)(void 0);function n(){const e=Object(l.useContext)(s);if(!e)throw new Error("Missing Performance API in context");return e}},110:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));const l={startPageChange:"start::pageChange",endPageReady:"end::pageReady"}},111:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var l=a(7),s=a(15),n=a(74);const r=()=>{const{http:e}=Object(n.a)().services,{isLoading:t,data:a}=Object(l.useQuery)({queryKey:["getSloSettings"],queryFn:async({signal:t})=>{try{return e.get("/internal/slo/settings",{signal:t})}catch(e){return i}},keepPreviousData:!0,refetchOnWindowFocus:!1});return{isLoading:t,data:a}},i={useAllRemoteClusters:!1,selectedRemoteClusters:[],staleThresholdInHours:s.e}},122:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDeepEqual=t.off=t.on=t.isClient=void 0;var l=a(36).__importDefault(a(123));t.isClient="object"==typeof window,t.on=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return e.addEventListener.apply(e,t)},t.off=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return e.removeEventListener.apply(e,t)},t.isDeepEqual=l.default},123:function(e,t,a){"use strict";e.exports=function e(t,a){if(t===a)return!0;if(t&&a&&"object"==typeof t&&"object"==typeof a){if(t.constructor!==a.constructor)return!1;var l,s,n;if(Array.isArray(t)){if((l=t.length)!=a.length)return!1;for(s=l;0!=s--;)if(!e(t[s],a[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===a.source&&t.flags===a.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===a.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===a.toString();if((l=(n=Object.keys(t)).length)!==Object.keys(a).length)return!1;for(s=l;0!=s--;)if(!Object.prototype.hasOwnProperty.call(a,n[s]))return!1;for(s=l;0!=s--;){var r=n[s];if(!("_owner"===r&&t.$$typeof||e(t[r],a[r])))return!1}return!0}return t!=t&&a!=a}},127:function(e,t,a){"use strict";a.d(t,"c",(function(){return r.b})),a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return u}));var l=a(0),s=a.n(l),n=a(28),r=a(109);a(110);const i=function(e){const t=s.a.lazy(e);return s.a.forwardRef(((e,a)=>Object(n.jsx)(l.Suspense,{fallback:null},s.a.createElement(t,{...e,ref:a}))))}((()=>a.e(8).then(a.bind(null,353)))),o="performance_metric";function u(e,t){e.reportEvent(o,t)}},129:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var l=a(7),s=a(74),n=a(79);function r({name:e="",includeOutdatedOnly:t=!1,page:a=1,perPage:r=100}){const{http:i}=Object(s.a)().services,o=e.endsWith("*")?e:`${e}*`,{isLoading:u,isError:c,isSuccess:d,data:m,refetch:p}=Object(l.useQuery)({queryKey:n.a.definitions(o,a,r,t),queryFn:async({signal:e})=>{try{return await i.get("/api/observability/slos/_definitions",{query:{search:o,includeOutdatedOnly:t,page:a,perPage:r},signal:e})}catch(e){throw new Error(`Something went wrong. Error: ${e}`)}},retry:!1,refetchOnWindowFocus:!1});return{isLoading:u,isError:c,isSuccess:d,data:m,refetch:p}}},174:function(e,t,a){"use strict";e.exports=function(e){var t=void 0;t="string"==typeof e?[e]:e.raw;for(var a="",l=0;l<t.length;l++)a+=t[l].replace(/\\\n[ \t]*/g,"").replace(/\\`/g,"`"),l<(arguments.length<=1?0:arguments.length-1)&&(a+=arguments.length<=l+1?void 0:arguments[l+1]);var s=a.split("\n"),n=null;return s.forEach((function(e){var t=e.match(/^(\s+)\S+/);if(t){var a=t[1].length;n=n?Math.min(n,a):a}})),null!==n&&(a=s.map((function(e){return" "===e[0]?e.slice(n):e})).join("\n")),(a=a.trim()).replace(/\\n/g,"\n")}},228:function(e,t,a){e.exports=a.p+"059c3a548a47cf1b7b7288eacf4ddaa9.svg"},243:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(36),s=a(122),n=l.__importDefault(a(244));t.default=function(e,t){n.default(e,t,s.isDeepEqual)}},244:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(0);t.default=function(e,t,a){var s=l.useRef(void 0);s.current&&a(t,s.current)||(s.current=t),l.useEffect(e,s.current)}},358:function(e,t,a){"use strict";a.r(t),a.d(t,"renderApp",(function(){return Bt}));var l=a(22),s=a(127),n=a(1),r=a(48),i=a(17),o=a(3),u=a(94),c=a(76),d=a.n(c),m=a(0),p=a.n(m),g=a(84),b=a.n(g),f=a(6),E=a(43),h=a(90),v=a(92),O=a(88),y=a(28);const S=({theme:{theme$:e},euiTheme:t,children:a,...l})=>{const s=b()(e,O.a),n=Object(m.useMemo)((()=>Object(O.b)(s)),[s]);return Object(y.jsx)(f.EuiThemeProvider,d()({colorMode:n,theme:t},l),a)},x=({theme:e,children:t,...a})=>Object(E.useIsNestedEuiProvider)()?Object(y.jsx)(S,d()({theme:e},a),t):(Object(h.emitEuiProviderWarning)("KibanaThemeProvider requires a parent KibanaRenderContextProvider.  Check your React tree and ensure that they are wrapped in a KibanaRenderContextProvider."),Object(y.jsx)(v.a,{theme:e,globalStyles:!1},t));var k=a(365),j=a(30),C=a(16),L=a(55);const w={services:{}},M=Object(m.createContext)(w);var P=a(243),R=a.n(P);const F=({children:e,component:t,render:a,...l})=>{const s=Object(m.useMemo)((()=>{if(t)return e=>Object(y.jsx)(p.a.Fragment,null,Object(y.jsx)(I,null),Object(y.jsx)(t,e))}),[t]);if(s)return Object(y.jsx)(C.Route,d()({},l,{component:s}));if(a||"function"==typeof e){const t="function"==typeof e?e:a;return Object(y.jsx)(C.Route,d()({},l,{render:e=>Object(y.jsx)(p.a.Fragment,null,Object(y.jsx)(I,null),t(e))}))}return Object(y.jsx)(C.Route,l,Object(y.jsx)(I,null),e)},I=()=>{const{executionContext:e}=Object(m.useContext)(M).services,t=Object(C.useRouteMatch)();return function(e,t){R()((()=>(null==e||e.set(t),()=>{null==e||e.clear()})),[t])}(e,{type:"application",page:t.path,id:Object.keys(t.params).length>0?JSON.stringify(t.params):void 0}),null},T=({legacySwitch:e=!0,children:t})=>{const a=Object(C.useRouteMatch)();return e?Object(y.jsx)(C.Switch,null,t):Object(y.jsx)(L.Routes,null,m.Children.map(t,(e=>{if(p.a.isValidElement(e)&&e.type===F){var l;const s=Object(j.replace)(null==e?void 0:e.props.path,a.url+"/",""),n="function"==typeof(null==e?void 0:e.props.children)?null==e?void 0:e.props.children:null==e?void 0:e.props.render;return Object(y.jsx)(L.Route,{path:s,element:Object(y.jsx)(p.a.Fragment,null,Object(y.jsx)(I,null),(null==e||null===(l=e.props)||void 0===l?void 0:l.component)&&Object(y.jsx)(e.props.component,null)||n&&n()||t)})}return e})))};var B=a(245),A=a(7),D=a(37),_=a.n(D),q=a(19),z=a(86),H=a(34),N=a(15),$=a(38),V=a(5),G=a(47),W=a.n(G),Q=a(74);const U=()=>{const{basePath:e}=Object(Q.a)().services.http;return t=>`${e.prepend(V.observabilityPaths.alerts)}?_a=${W.a.encode({kuery:'kibana.alert.rule.rule_type_id:("slo.rules.burnRate")',rangeFrom:"now-24h",rangeTo:"now",status:t})}`};var K=a(32),Y=a.n(K),J=a(12);function X({title:e,description:t,titleColor:a,isLoading:l,query:s,tooltip:n,onClick:r}){const{onStateChange:i}=Object(J.c)();return p.a.createElement(f.EuiFlexItem,{grow:!1},p.a.createElement(f.EuiToolTip,{content:n},p.a.createElement(Z,{title:e,description:t,titleColor:a,reverse:!0,isLoading:l,onClick:()=>{r?r():i({kqlQuery:s})}})))}var Z=Y()(f.EuiStat).withConfig({displayName:"_StyledEuiStat",componentId:"sc-1s63fgn-0"})({cursor:"pointer"});function ee({data:e,isLoading:t}){const{application:a,share:{url:{locators:l}}}=Object(Q.a)().services,s=l.get($.rulesLocatorID),r=U();return p.a.createElement(f.EuiPanel,{hasShadow:!1,hasBorder:!0},p.a.createElement(f.EuiFlexGroup,{alignItems:"center",gutterSize:"m"},p.a.createElement(f.EuiFlexItem,{grow:!1},p.a.createElement(f.EuiTitle,{size:"xs"},p.a.createElement("h3",null,n.i18n.translate("xpack.slo.sLOsOverview.h3.burnRateLabel",{defaultMessage:"Burn rate"})))),p.a.createElement(f.EuiFlexItem,null,p.a.createElement(f.EuiText,{color:"subdued",size:"s"},n.i18n.translate("xpack.slo.sLOsOverview.lastTextLabel",{defaultMessage:"Last 24h"})))),p.a.createElement(f.EuiSpacer,{size:"xs"}),p.a.createElement(f.EuiFlexGroup,{justifyContent:"spaceBetween"},p.a.createElement(X,{title:null==e?void 0:e.burnRateActiveAlerts,description:n.i18n.translate("xpack.slo.sLOsOverview.euiStat.burnRateActiveAlerts",{defaultMessage:"Active alerts"}),titleColor:"danger",isLoading:t,onClick:()=>{a.navigateToUrl(r("active"))}}),p.a.createElement(X,{title:null==e?void 0:e.burnRateRecoveredAlerts,description:n.i18n.translate("xpack.slo.sLOsOverview.euiStat.burnRateRecoveredAlerts",{defaultMessage:"Recovered alerts"}),titleColor:"success",isLoading:t,onClick:()=>{a.navigateToUrl(r("recovered"))}}),p.a.createElement(X,{title:null==e?void 0:e.burnRateRules,description:n.i18n.translate("xpack.slo.sLOsOverview.euiStat.burnRateRules",{defaultMessage:"Rules"}),titleColor:"default",isLoading:t,onClick:()=>{null==s||s.navigate({type:["slo.rules.burnRate"]})}})))}var te=a(111),ae=a(33),le=a(79),se=a(81);function ne(){var e,t;const{state:a}=Object(J.c)(),{kqlQuery:l,filters:s,tagsFilter:r,statusFilter:i,lastRefresh:o}=a,{data:u,isLoading:c}=function({kqlQuery:e="",tagsFilter:t,statusFilter:a,filters:l=[],lastRefresh:s}={}){const{http:r,notifications:{toasts:i}}=Object(Q.a)().services,{dataView:o}=Object(se.a)({indexPatternString:N.n}),u=Object(m.useMemo)((()=>{try{return JSON.stringify(Object(ae.buildQueryFromFilters)([...l,...t?[t]:[],...a?[a]:[]],o,{ignoreFilterIfFieldNotInIndex:!0}))}catch(e){return""}}),[l,t,a,o]),{data:c,isLoading:d,isSuccess:p,isError:g,isRefetching:b}=Object(A.useQuery)({queryKey:le.a.overview({kqlQuery:e,filters:u,lastRefresh:s}),queryFn:async({signal:t})=>await r.get("/internal/observability/slos/overview",{query:{...e&&{kqlQuery:e},...u&&{filters:u}},signal:t}),cacheTime:0,refetchOnWindowFocus:!1,retry:(e,t)=>"Error: Forbidden"!==String(t)&&e<4,onError:e=>{i.addError(e,{title:n.i18n.translate("xpack.slo.overview.list.errorNotification",{defaultMessage:"Something went wrong while fetching SLOs overview"})})}});return{data:c,isLoading:d,isSuccess:p,isError:g,isRefetching:b}}({kqlQuery:l,filters:s,tagsFilter:r,statusFilter:i,lastRefresh:o}),d=Object(f.useEuiTheme)().euiTheme,{data:g}=Object(te.a)();return p.a.createElement(f.EuiFlexGroup,null,p.a.createElement(f.EuiFlexItem,{grow:2},p.a.createElement(f.EuiPanel,{hasShadow:!1,hasBorder:!0},p.a.createElement(f.EuiTitle,{size:"xs"},p.a.createElement("h3",null,n.i18n.translate("xpack.slo.sLOsOverview.h3.overviewLabel",{defaultMessage:"Overview"}))),p.a.createElement(f.EuiSpacer,{size:"xs"}),p.a.createElement(f.EuiFlexGroup,{gutterSize:"xl",justifyContent:"spaceBetween"},p.a.createElement(X,{title:null==u?void 0:u.healthy,description:n.i18n.translate("xpack.slo.sLOsOverview.euiStat.healthyLabel",{defaultMessage:"Healthy"}),titleColor:"success",isLoading:c,query:"status : HEALTHY",tooltip:n.i18n.translate("xpack.slo.sLOsOverview.euiStat.healthyLabel.tooltip",{defaultMessage:"Click to filter SLOs by Healthy status."})}),p.a.createElement(X,{title:null==u?void 0:u.violated,description:n.i18n.translate("xpack.slo.sLOsOverview.euiStat.violatedLabel",{defaultMessage:"Violated"}),titleColor:"danger",query:"status : VIOLATED",isLoading:c,tooltip:n.i18n.translate("xpack.slo.sLOsOverview.euiStat.violatedLabel.tooltip",{defaultMessage:"Click to filter SLOs by Violated status."})}),p.a.createElement(X,{title:null==u?void 0:u.noData,description:n.i18n.translate("xpack.slo.sLOsOverview.euiStat.noDataLabel",{defaultMessage:"No data"}),titleColor:"subdued",query:"status : NO_DATA",isLoading:c,tooltip:n.i18n.translate("xpack.slo.sLOsOverview.euiStat.noDataLabel.tooltip",{defaultMessage:"Click to filter SLOs by no data status."})}),p.a.createElement(X,{title:null==u?void 0:u.degrading,description:n.i18n.translate("xpack.slo.sLOsOverview.euiStat.degradingLabel",{defaultMessage:"Degrading"}),query:"status : DEGRADING",isLoading:c,tooltip:n.i18n.translate("xpack.slo.sLOsOverview.euiStat.degradingLabel.tooltip",{defaultMessage:"Click to filter SLOs by Degrading status."}),titleColor:d.colors.warningText}),p.a.createElement(X,{title:null==u?void 0:u.stale,description:n.i18n.translate("xpack.slo.sLOsOverview.euiStat.staleLabel",{defaultMessage:"Stale"}),titleColor:"subdued",isLoading:c,query:`summaryUpdatedAt < "now-${null!==(e=null==g?void 0:g.staleThresholdInHours)&&void 0!==e?e:N.e}h"`,tooltip:n.i18n.translate("xpack.slo.sLOsOverview.euiStat.staleLabel.tooltip",{defaultMessage:"Click to filter SLOs which have not been updated in last {value} hour. They are filtered out by default from the list. Threshold can be changed in SLO settings.",values:{value:null!==(t=null==g?void 0:g.staleThresholdInHours)&&void 0!==t?t:N.e}})})))),p.a.createElement(f.EuiFlexItem,{grow:1},p.a.createElement(ee,{data:u,isLoading:c})))}var re=a(4);function ie(){const{http:e,theme:t}=Object(Q.a)().services,{appMountParameters:a,isServerless:l}=Object(z.a)();return p.a.createElement(H.HeaderMenuPortal,{setHeaderActionMenu:null==a?void 0:a.setHeaderActionMenu,theme$:t.theme$},p.a.createElement(f.EuiFlexGroup,{responsive:!1,gutterSize:"s"},p.a.createElement(f.EuiFlexItem,null,p.a.createElement(f.EuiHeaderLinks,null,p.a.createElement(f.EuiHeaderLink,{color:"primary",href:e.basePath.prepend("/app/integrations/browse"),iconType:"indexOpen"},n.i18n.translate("xpack.slo.headerMenu.addData",{defaultMessage:"Add integrations"})),!l&&p.a.createElement(f.EuiHeaderLink,{color:"primary",href:e.basePath.prepend(`${re.a}${re.h}`),iconType:"gear"},n.i18n.translate("xpack.slo.headerMenu.settings",{defaultMessage:"Settings"}))))))}var oe=a(29),ue=a(129);function ce(){const{application:{navigateToUrl:e},http:{basePath:t}}=Object(Q.a)().services,{isLoading:a,data:l}=Object(ue.a)({includeOutdatedOnly:!0});return!a&&l&&l.total>0?p.a.createElement(p.a.Fragment,null,p.a.createElement(f.EuiCallOut,{color:"warning",iconType:"warning",title:n.i18n.translate("xpack.slo.outdatedSloCallout.title",{defaultMessage:"{total} Outdated SLOs Detected",values:{total:l.total}})},p.a.createElement("p",null,p.a.createElement(oe.FormattedMessage,{id:"xpack.slo.outdatedSloCallout.message",defaultMessage:"We've noticed that you have {total} outdated SLO definitions, these SLOs will not be running or alerting until you've reset them. Please click the button below to review the SLO definitions; you can choose to either reset the SLO definition or remove it.",values:{total:l.total}})),p.a.createElement("p",null,p.a.createElement(f.EuiButton,{color:"warning","data-test-subj":"o11ySloOutdatedCalloutViewOutdatedSloDefinitionsButton",fill:!0,onClick:()=>{e(t.prepend(re.i.slosOutdatedDefinitions))}},p.a.createElement(oe.FormattedMessage,{id:"xpack.slo.outdatedSloCallout.buttonLabel",defaultMessage:"Review Outdated SLO Definitions"})))),p.a.createElement(f.EuiSpacer,{size:"m"})):null}var de=a(85),me=a(103),pe=a(93);function ge(){const{application:{navigateToUrl:e},http:{basePath:t}}=Object(Q.a)().services,{data:a}=Object(pe.a)();return p.a.createElement(f.EuiButton,{color:"primary","data-test-subj":"slosPageCreateNewSloButton",disabled:!(null!=a&&a.hasAllWriteRequested),fill:!0,onClick:()=>{e(t.prepend(re.i.sloCreate))}},n.i18n.translate("xpack.slo.sloList.pageHeader.create",{defaultMessage:"Create SLO"}))}const be="https://ela.st/slo-feedback";function fe({disabled:e}){return p.a.createElement(f.EuiButton,{"data-test-subj":"sloFeedbackButton",isDisabled:e,href:be,target:"_blank",color:"warning",iconType:"editorComment"},n.i18n.translate("xpack.slo.feedbackButtonLabel",{defaultMessage:"Tell us what you think!"}))}var Ee=a(174),he=a.n(Ee),ve=a(210);function Oe({id:e,isPopoverOpen:t,label:a,items:l,selected:s,setIsPopoverOpen:n,loading:r}){const i=Object(f.useGeneratedHtmlId)({prefix:"singleContextMenuPopover"}),o=p.a.createElement(f.EuiButtonEmpty,{"data-test-subj":`${e}GroupMenuButton`,size:"xs",iconType:"arrowDown",iconSide:"right",onClick:()=>{n(!t)},isLoading:r},s);return p.a.createElement(f.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},p.a.createElement(f.EuiFlexItem,{grow:!1},p.a.createElement(f.EuiFlexGroup,{responsive:!1,gutterSize:"none",alignItems:"center"},p.a.createElement(f.EuiFlexItem,{grow:!1},p.a.createElement(f.EuiTitle,{size:"xxxs"},p.a.createElement("span",null,a))),p.a.createElement(f.EuiFlexItem,{grow:!1,"data-test-subj":"sloOverviewGroupButton"},p.a.createElement(f.EuiPopover,{id:i,button:o,isOpen:t,closePopover:()=>n(!1),panelPaddingSize:"none",anchorPosition:"downLeft","aria-label":a},p.a.createElement(f.EuiContextMenuPanel,{size:"s",items:l,style:{minWidth:160}}))))))}function ye({option:e,onClosePopover:t}){return p.a.createElement(f.EuiContextMenuItem,{size:"s","aria-label":e.label,key:e.value,icon:(a=e.checked,a?"check":"empty"),onClick:()=>{t(),e.onClick()}},e.label);var a}function Se({state:e,onStateChange:t,loading:a}){var l;const[s,r]=Object(m.useState)(!1),i=e.sort.by,o=({value:a,label:l})=>{t({page:0,sort:{by:a,direction:e.sort.direction}})},u=[{label:n.i18n.translate("xpack.slo.list.sortBy.sliValue",{defaultMessage:"SLI value"}),checked:"sli_value"===i,value:"sli_value",onClick:()=>{o({value:"sli_value",label:n.i18n.translate("xpack.slo.list.sortBy.sliValue",{defaultMessage:"SLI value"})})}},{label:n.i18n.translate("xpack.slo.list.sortBy.sloStatus",{defaultMessage:"SLO status"}),checked:"status"===i,value:"status",onClick:()=>{o({value:"status",label:n.i18n.translate("xpack.slo.list.sortBy.sloStatus",{defaultMessage:"SLO status"})})}},{label:n.i18n.translate("xpack.slo.list.sortBy.errorBudgetConsumed",{defaultMessage:"Error budget consumed"}),checked:"error_budget_consumed"===i,value:"error_budget_consumed",onClick:()=>{o({value:"error_budget_consumed",label:n.i18n.translate("xpack.slo.list.sortBy.errorBudgetConsumed",{defaultMessage:"Error budget consumed"})})}},{label:n.i18n.translate("xpack.slo.list.sortBy.errorBudgetRemaining",{defaultMessage:"Error budget remaining"}),checked:"error_budget_remaining"===i,value:"error_budget_remaining",onClick:()=>{o({value:"error_budget_remaining",label:n.i18n.translate("xpack.slo.list.sortBy.errorBudgetRemaining",{defaultMessage:"Error budget remaining"})})}},{label:n.i18n.translate("xpack.slo.list.sortBy.fiveMinuteBurnRate",{defaultMessage:"5m burn rate"}),checked:"burn_rate_5m"===i,value:"burn_rate_5m",onClick:()=>{o({value:"burn_rate_5m",label:n.i18n.translate("xpack.slo.list.sortBy.fiveMinuteBurnRate",{defaultMessage:"5m burn rate"})})}},{label:n.i18n.translate("xpack.slo.list.sortBy.oneHourBurnRate",{defaultMessage:"1h burn rate"}),checked:"burn_rate_1h"===i,value:"burn_rate_1h",onClick:()=>{o({value:"burn_rate_1h",label:n.i18n.translate("xpack.slo.list.sortBy.oneHourBurnRate",{defaultMessage:"1h burn rate"})})}},{label:n.i18n.translate("xpack.slo.list.sortBy.oneDayBurnRate",{defaultMessage:"1d burn rate"}),checked:"burn_rate_1d"===i,value:"burn_rate_1d",onClick:()=>{o({value:"burn_rate_1d",label:n.i18n.translate("xpack.slo.list.sortBy.oneDayBurnRate",{defaultMessage:"1d burn rate"})})}}],c=(null===(l=u.find((e=>e.value===i)))||void 0===l?void 0:l.label)||"Default",d=[p.a.createElement(f.EuiPanel,{paddingSize:"s",hasShadow:!1,key:"group_title_panel"},p.a.createElement(f.EuiText,{size:"xs"},p.a.createElement("h4",null,xe))),...u.map((e=>p.a.createElement(ye,{option:e,onClosePopover:()=>r(!1),key:e.value})))];return p.a.createElement(Oe,{items:d,id:"SortBy",selected:c,isPopoverOpen:s,setIsPopoverOpen:r,label:xe,loading:a})}const xe=n.i18n.translate("xpack.slo.list.sortByTypeLabel",{defaultMessage:"Sort by"});function ke({onStateChange:e,state:t,loading:a}){var l;const[s,r]=Object(m.useState)(!1),i=t.groupBy,{data:o}=Object(te.a)(),u=o&&(o.useAllRemoteClusters||o.selectedRemoteClusters.length>0),c=t=>{e({page:0,groupBy:t})},d=[{label:je,checked:"ungrouped"===i,value:"ungrouped",onClick:()=>{c("ungrouped")}},{label:n.i18n.translate("xpack.slo.list.groupBy.tags",{defaultMessage:"Tags"}),checked:"slo.tags"===i,value:"slo.tags",onClick:()=>{c("slo.tags")}},{label:n.i18n.translate("xpack.slo.list.groupBy.status",{defaultMessage:"Status"}),checked:"status"===i,value:"status",onClick:()=>{c("status")}},{label:n.i18n.translate("xpack.slo.list.groupBy.sliType",{defaultMessage:"SLI type"}),checked:"slo.indicator.type"===i,value:"slo.indicator.type",onClick:()=>{c("slo.indicator.type")}},{label:n.i18n.translate("xpack.slo.list.groupBy.sloInstanceId",{defaultMessage:"SLO instance id"}),checked:"slo.instanceId"===i,value:"slo.instanceId",onClick:()=>{c("slo.instanceId")}}];u&&d.push({label:n.i18n.translate("xpack.slo.list.groupBy.remoteCluster",{defaultMessage:"Remote cluster"}),checked:"_index"===i,value:"_index",onClick:()=>{c("_index")}});const g=[p.a.createElement(f.EuiPanel,{paddingSize:"s",hasShadow:!1,key:"group_title_panel"},p.a.createElement(f.EuiText,{size:"xs"},p.a.createElement("h4",null,Ce))),...d.map((e=>p.a.createElement(ye,{option:e,onClosePopover:()=>r(!1),key:e.value})))];return p.a.createElement(Oe,{items:g,id:"groupBy",selected:(null===(l=d.find((e=>e.value===i)))||void 0===l?void 0:l.label)||je,isPopoverOpen:s,setIsPopoverOpen:r,label:Ce,loading:a})}const je=n.i18n.translate("xpack.slo.list.groupBy.sliIndicator",{defaultMessage:"None"}),Ce=n.i18n.translate("xpack.slo.groupPopover.group.title",{defaultMessage:"Group by"}),Le=[{id:"cardView",label:"Card View",iconType:"apps","data-test-subj":"sloCardViewButton"},{id:"listView",label:"List View",iconType:"list","data-test-subj":"sloListViewButton"},{iconType:"tableDensityCompact",id:"compactView",label:n.i18n.translate("xpack.slo.listView.compactViewLabel",{defaultMessage:"Compact view"})}];function we({view:e,onChangeView:t,onStateChange:a,sloList:l,state:s,loading:r}){var i,o,u;const c=null!==(i=null==l?void 0:l.total)&&void 0!==i?i:0,d=null!==(o=null==l?void 0:l.perPage)&&void 0!==o?o:0,m=null!==(u=null==l?void 0:l.page)&&void 0!==u?u:1,g=0===c?0:d*(m-1)+1,b=Math.min(c,d*(m-1)+d);return p.a.createElement(f.EuiFlexGroup,{alignItems:"center"},p.a.createElement(f.EuiFlexItem,{grow:!0},(!s.groupBy||"ungrouped"===s.groupBy)&&p.a.createElement(f.EuiText,{size:"s"},p.a.createElement(oe.FormattedMessage,{id:"xpack.slo.overview.pagination.description",defaultMessage:"Showing {currentCount} of {total} {slos}",values:{currentCount:p.a.createElement("strong",null,`${g}-${b}`),total:c,slos:p.a.createElement("strong",null,p.a.createElement(oe.FormattedMessage,{id:"xpack.slo.overview.slos.label",defaultMessage:"SLOs"}))}}))),p.a.createElement(f.EuiFlexItem,{grow:!1},p.a.createElement(Se,{state:s,onStateChange:a,loading:r})),p.a.createElement(f.EuiFlexItem,{grow:!1},p.a.createElement(ke,{state:s,onStateChange:a,loading:r})),p.a.createElement(f.EuiFlexItem,{grow:!1},p.a.createElement(f.EuiButtonGroup,{buttonSize:"compressed",legend:n.i18n.translate("xpack.slo.toggleSLOView.euiButtonGroup.sloView",{defaultMessage:"SLO View"}),options:Le,idSelected:e,onChange:e=>t(e),isIconOnly:!0,isDisabled:r})))}var Me=a(209);function Pe({sloList:e,loading:t,error:a,view:l}){const{state:s,onStateChange:n}=Object(J.c)(),{page:r,perPage:i}=s,{results:o=[],total:u=0}=null!=e?e:{};return p.a.createElement(p.a.Fragment,null,p.a.createElement(Me.a,{sloList:o,loading:t,error:a,view:l}),u>0&&u>i?p.a.createElement(f.EuiFlexItem,null,p.a.createElement(f.EuiTablePagination,{pageCount:Math.ceil(u/i),activePage:r,onChangePage:e=>{n({page:e})},itemsPerPage:i,itemsPerPageOptions:[10,25,50,100],onChangeItemsPerPage:e=>{n({perPage:e,page:0})}})):null)}function Re(){const{onPageReady:e}=Object(s.c)(),{observabilityAIAssistant:t}=Object(Q.a)().services,{state:a,onStateChange:l}=Object(J.c)(),{view:n,page:r,perPage:i,kqlQuery:o,filters:u,tagsFilter:c,statusFilter:d,groupBy:g}=a,{isLoading:b,isRefetching:E,isError:h,data:v}=Object(de.a)({tagsFilter:c,statusFilter:d,perPage:i,filters:u,page:r+1,kqlQuery:o,sortBy:a.sort.by,sortDirection:a.sort.direction,lastRefresh:a.lastRefresh}),O=Boolean(Object(A.useIsMutating)(["deleteSlo"]));return Object(m.useEffect)((()=>{if(!v||!t)return;const e=Object(j.mapValues)(Object(j.groupBy)(v.results,(e=>e.summary.status)),(e=>e.map((e=>`- ${e.name}`)).join("\n")));return t.service.setScreenContext({screenDescription:he()(`The user is looking at a list of SLOs.\n\n      ${v.total>=1?`There are ${v.total} SLOs. Out of those, ${v.results.length} are visible.\n\n          Violating SLOs:\n          ${e.VIOLATED}\n\n          Degrading SLOs:\n          ${e.DEGRADING}\n\n          Healthy SLOs:\n          ${e.HEALTHY}\n\n          SLOs without data:\n          ${e.NO_DATA}\n\n          `:""}\n      `)})}),[v,t]),Object(m.useEffect)((()=>{b||void 0===v||e()}),[b,v,e]),p.a.createElement(f.EuiFlexGroup,{direction:"column",gutterSize:"m","data-test-subj":"sloList"},p.a.createElement(f.EuiFlexItem,{grow:!1},p.a.createElement(we,{sloList:v,view:n,onChangeView:e=>l({view:e}),onStateChange:l,state:a,loading:b||O})),"ungrouped"===g&&p.a.createElement(Pe,{sloList:v,loading:b||E,error:h,view:n}),"ungrouped"!==g&&p.a.createElement(ve.a,{view:n,groupBy:g,kqlQuery:o,sort:a.sort.by,direction:a.sort.direction,filters:u}))}const Fe=()=>{const e=Boolean(Object(A.useIsMutating)(["creatingSlo"])),t=Boolean(Object(A.useIsMutating)(["updatingSlo"])),a=Boolean(Object(A.useIsMutating)(["deleteSlo"]));return e||t||a},Ie=()=>{const{http:e}=Object(Q.a)().services,[t,a]=Object(m.useState)(),{isLoading:l,data:s}=Object(te.a)(),{loading:n,data:r}=Object(H.useFetcher)((()=>null==e?void 0:e.get("/api/remote_clusters")),[e]);Object(m.useEffect)((()=>{if(s&&r){const e=((e,t)=>{const{useAllRemoteClusters:a,selectedRemoteClusters:l}=e;if(!a&&0===l.length)return N.n;const s=[N.n];return t.forEach((({name:e,isConnected:t})=>{t&&(a||l.includes(e))&&s.push(`${e}:${N.n}`)})),s.join(",")})(s,r);a(e)}}),[s,r]);const{loading:i,dataView:o}=Object(se.a)({indexPatternString:t});return{isLoading:l||n||i,data:o}};var Te=a(65),Be=a(66);function Ae({dataView:e,initialState:{tagsFilter:t,statusFilter:a},onStateChange:l}){const[s,n]=Object(m.useState)();return Object(m.useEffect)((()=>{if(!s)return;const e=s.onFiltersPublished$.subscribe((e=>{var t,a;0===e.length?l({tagsFilter:void 0,statusFilter:void 0}):l({tagsFilter:null===(t=e.filter((e=>"slo.tags"===e.meta.key)))||void 0===t?void 0:t[0],statusFilter:null===(a=e.filter((e=>"status"===e.meta.key)))||void 0===a?void 0:a[0]})}));return()=>{e.unsubscribe()}}),[s,l]),e?p.a.createElement(_e,null,p.a.createElement(Te.ControlGroupRenderer,{getCreationOptions:async(l,s)=>{var n,r,i,o,u,c;return await s.addOptionsListControl(l,{dataViewId:e.id,fieldName:"status",width:"small",grow:!0,title:ze,controlId:"slo-status-filter",exclude:null==a||null===(n=a.meta)||void 0===n?void 0:n.negate,selectedOptions:De(a),existsSelected:Boolean("status"===(null==a||null===(r=a.query)||void 0===r||null===(i=r.exists)||void 0===i?void 0:i.field)),placeholder:He}),await s.addOptionsListControl(l,{dataViewId:e.id,title:qe,fieldName:"slo.tags",width:"small",grow:!1,controlId:"slo-tags-filter",selectedOptions:De(t),exclude:null==a||null===(o=a.meta)||void 0===o?void 0:o.negate,existsSelected:Boolean("slo.tags"===(null==t||null===(u=t.query)||void 0===u||null===(c=u.exists)||void 0===c?void 0:c.field)),placeholder:He}),{initialInput:{...l,viewMode:Be.ViewMode.VIEW}}},ref:n,timeRange:{from:"now-24h",to:"now"}})):null}const De=e=>{var t,a,l,s,n,r;return Object(j.isEmpty)(e)?[]:null!=e&&null!==(t=e.meta)&&void 0!==t&&t.params&&Array.isArray(null==e?void 0:e.meta.params)?null==e?void 0:e.meta.params:null!=e&&null!==(a=e.query)&&void 0!==a&&null!==(l=a.match_phrase)&&void 0!==l&&l.status?[e.query.match_phrase.status]:null!=e&&null!==(s=e.query)&&void 0!==s&&null!==(n=s.match_phrase)&&void 0!==n&&n["slo.tags"]?[null==e||null===(r=e.query.match_phrase)||void 0===r?void 0:r["slo.tags"]]:[]},_e=Y.a.div.withConfig({displayName:"Container",componentId:"sc-6r003g-0"})([".controlsWrapper{align-items:flex-start;min-height:initial;}.controlGroup{min-height:initial;}"]),qe=n.i18n.translate("xpack.slo.list.tags",{defaultMessage:"Tags"}),ze=n.i18n.translate("xpack.slo.list.status",{defaultMessage:"Status"}),He=n.i18n.translate("xpack.slo.list.all",{defaultMessage:"All"});function Ne(){const{data:{query:e},unifiedSearch:{ui:{SearchBar:t}}}=Object(Q.a)().services,{state:a,onStateChange:l}=Object(J.c)(),s=Fe(),{isLoading:n,data:r}=Ie();return Object(m.useEffect)((()=>{const t=e.state$.subscribe((()=>{const t=e.getState();l({kqlQuery:String(t.query.query),filters:t.filters})}));return()=>t.unsubscribe()}),[l,e]),p.a.createElement($e,null,p.a.createElement(t,{appName:$.observabilityAppId,placeholder:Ve,indexPatterns:r?[r]:[],isDisabled:s,renderQueryInputAppend:()=>p.a.createElement(Ae,{dataView:r,initialState:a,loading:s||n,onStateChange:l}),filters:a.filters,onFiltersUpdated:e=>{l({filters:e})},onQuerySubmit:({query:e})=>{l({kqlQuery:String(null==e?void 0:e.query),lastRefresh:Date.now()})},query:{query:String(a.kqlQuery),language:"kuery"},showSubmitButton:!0,showDatePicker:!1,showQueryInput:!0,disableQueryLanguageSwitcher:!0,saveQueryMenuVisibility:"globally_managed",onClearSavedQuery:()=>{},onSavedQueryUpdated:e=>{l({filters:e.attributes.filters,kqlQuery:String(e.attributes.query.query)})}}))}const $e=Y.a.div.withConfig({displayName:"Container",componentId:"sc-1nkh4km-0"})([".uniSearchBar{padding:0;}"]),Ve=n.i18n.translate("xpack.slo.list.search",{defaultMessage:"Search your SLOs ..."});function Ge(){const{application:{navigateToUrl:e},http:{basePath:t}}=Object(Q.a)().services,{ObservabilityPageTemplate:a}=Object(z.a)(),{hasAtLeast:l}=Object(me.a)(),{data:s}=Object(pe.a)(),{isLoading:r,isError:i,data:o}=Object(de.a)({perPage:0}),{total:u}=null!=o?o:{total:0};return Object(H.useBreadcrumbs)([{href:t.prepend(re.i.slos),text:n.i18n.translate("xpack.slo.breadcrumbs.slosLinkText",{defaultMessage:"SLOs"}),deepLinkId:"slo"}]),Object(m.useEffect)((()=>{(!r&&0===u||!1===l("platinum")||i)&&e(t.prepend(re.i.slosWelcome)),!1===(null==s?void 0:s.hasAllReadRequested)&&e(t.prepend(re.i.slosWelcome))}),[t,l,i,r,e,u,s]),p.a.createElement(a,{"data-test-subj":"slosPage",pageHeader:{pageTitle:n.i18n.translate("xpack.slo.slosPage.",{defaultMessage:"SLOs"}),rightSideItems:[p.a.createElement(ge,null),p.a.createElement(fe,null)]},topSearchBar:p.a.createElement(Ne,null)},p.a.createElement(ie,null),p.a.createElement(ce,null),p.a.createElement(ne,null),p.a.createElement(f.EuiSpacer,{size:"m"}),p.a.createElement(Re,null))}function We(){const{data:e,isLoading:t}=Object(pe.a)();return t||null!=e&&e.hasAllReadRequested||null!=e&&e.hasAllWriteRequested?null:p.a.createElement(p.a.Fragment,null,p.a.createElement(f.EuiCallOut,{color:"warning",iconType:"warning",title:n.i18n.translate("xpack.slo.permissionsCallout.title",{defaultMessage:"Insufficient Permissions"})},p.a.createElement(f.EuiFlexGroup,{gutterSize:"m",direction:"column"},p.a.createElement(oe.FormattedMessage,{id:"xpack.slo.permissionsCallout.message",defaultMessage:"You do not have sufficient permissions to view or edit SLO definitions."}),p.a.createElement(f.EuiFlexItem,null,p.a.createElement(oe.FormattedMessage,{id:"xpack.slo.permissionsCallout.minimumReadPermissionsRequired",defaultMessage:"In order to view SLO dashboards and details, you need at least the following permissions on your user's role:"}),p.a.createElement("ul",null,p.a.createElement("li",null,p.a.createElement(oe.FormattedMessage,{id:"xpack.slo.permissionsCallout.readSloPermission",defaultMessage:"'read' permission on index pattern: .slo-*"})))),p.a.createElement(f.EuiFlexItem,null,p.a.createElement(oe.FormattedMessage,{id:"xpack.slo.permissionsCallout.minimumManagePermissionsRequired",defaultMessage:"In order to create and manage SLO definitions, you need at least the following permissions on your user's role:"}),p.a.createElement("ul",null,p.a.createElement("li",null,p.a.createElement(oe.FormattedMessage,{id:"xpack.slo.permissionsCallout.writeSloPermission",defaultMessage:"'all' permission on index pattern: .slo-*"})),p.a.createElement("li",null,p.a.createElement(oe.FormattedMessage,{id:"xpack.slo.permissionsCallout.writeClusterPermission",defaultMessage:"'manage_transform' and 'manage_ingest_pipelines' cluster permissions"})),p.a.createElement("li",null,p.a.createElement(oe.FormattedMessage,{id:"xpack.slo.permissionsCallout.readIndexPermission",defaultMessage:"'read' and 'view_index_metadata' index permissions on any index patterns you want to use for creating SLOs"})))),p.a.createElement(f.EuiLink,{"data-test-subj":"sloSloPermissionsCalloutReadTheDocumentationLink",href:"https://www.elastic.co/guide/en/observability/current/slo-privileges.html",target:"_blank"},n.i18n.translate("xpack.slo.permissionsCallout.readDocumentation",{defaultMessage:"Read the documentation for more details"})))),p.a.createElement(f.EuiSpacer,{size:"m"}))}var Qe=a(228),Ue=a.n(Qe);function Ke(){const{application:{navigateToUrl:e},http:{basePath:t}}=Object(Q.a)().services,{ObservabilityPageTemplate:a}=Object(z.a)(),{data:l}=Object(pe.a)(),{hasAtLeast:s}=Object(me.a)(),r=s("platinum"),{data:i}=Object(de.a)(),{total:o}=null!=i?i:{total:0},u=o>0&&r&&!0===(null==l?void 0:l.hasAllReadRequested);return Object(m.useEffect)((()=>{u&&e(t.prepend(re.i.slos))}),[t,e,u]),p.a.createElement(a,{"data-test-subj":"slosPageWelcomePrompt"},p.a.createElement(ie,null),p.a.createElement(ce,null),p.a.createElement(We,null),p.a.createElement(f.EuiPageTemplate.EmptyPrompt,{title:p.a.createElement(f.EuiTitle,{size:"l"},p.a.createElement("h1",null,n.i18n.translate("xpack.slo.sloList.welcomePrompt.title",{defaultMessage:"Track and deliver on your SLOs"}))),icon:p.a.createElement(f.EuiImage,{size:"fullWidth",src:Ue.a,alt:""}),color:"transparent",layout:"horizontal",hasBorder:!1,body:p.a.createElement(p.a.Fragment,null,p.a.createElement("p",null,n.i18n.translate("xpack.slo.sloList.welcomePrompt.messageParagraph1",{defaultMessage:"Measure key metrics important to the business, such as service-level indicators and service-level objectives (SLIs/SLOs) to deliver on SLAs."})),p.a.createElement("p",null,n.i18n.translate("xpack.slo.sloList.welcomePrompt.messageParagraph2",{defaultMessage:"Easily report the uptime and reliability of your services to stakeholders with real-time insights."})),p.a.createElement(f.EuiSpacer,{size:"s"})),actions:p.a.createElement(p.a.Fragment,null,r?p.a.createElement(f.EuiFlexGroup,{direction:"column"},p.a.createElement(f.EuiFlexItem,null,p.a.createElement(f.EuiTitle,{size:"xxs"},p.a.createElement("span",null,n.i18n.translate("xpack.slo.sloList.welcomePrompt.getStartedMessage",{defaultMessage:"To get started, create your first SLO."})))),p.a.createElement(f.EuiFlexItem,null,p.a.createElement("span",null,p.a.createElement(f.EuiButton,{"data-test-subj":"o11ySloListWelcomePromptCreateSloButton",fill:!0,color:"primary",onClick:()=>{e(t.prepend(re.i.sloCreate))},disabled:!(null!=l&&l.hasAllWriteRequested)},n.i18n.translate("xpack.slo.sloList.welcomePrompt.buttonLabel",{defaultMessage:"Create SLO"}))))):p.a.createElement(f.EuiFlexGroup,{direction:"column"},p.a.createElement(f.EuiFlexItem,null,p.a.createElement(f.EuiTitle,{size:"xxs"},p.a.createElement("span",null,n.i18n.translate("xpack.slo.sloList.welcomePrompt.needLicenseMessage",{defaultMessage:"You need an Elastic Cloud subscription or Platinum license to use SLOs."})))),p.a.createElement(f.EuiFlexItem,null,p.a.createElement(f.EuiFlexGroup,{direction:"row"},p.a.createElement(f.EuiFlexItem,null,p.a.createElement(f.EuiButton,{fill:!0,href:"https://www.elastic.co/cloud/elasticsearch-service/signup",target:"_blank","data-test-subj":"slosPageWelcomePromptSignupForCloudButton"},n.i18n.translate("xpack.slo.sloList.welcomePrompt.signupForCloud",{defaultMessage:"Sign up for Elastic Cloud"}))),p.a.createElement(f.EuiFlexItem,null,p.a.createElement(f.EuiButton,{href:"https://www.elastic.co/subscriptions",target:"_blank","data-test-subj":"slosPageWelcomePromptSignupForLicenseButton"},n.i18n.translate("xpack.slo.sloList.welcomePrompt.signupForLicense",{defaultMessage:"Sign up for license"}))))))),footer:p.a.createElement(p.a.Fragment,null,p.a.createElement(f.EuiTitle,{size:"xxs"},p.a.createElement("span",null,n.i18n.translate("xpack.slo.sloList.welcomePrompt.learnMore",{defaultMessage:"Want to learn more?"}))),"Â ",p.a.createElement(f.EuiLink,{"data-test-subj":"o11ySloListWelcomePromptReadTheDocsLink",href:"https://www.elastic.co/guide/en/observability/current/slo.html",target:"_blank"},n.i18n.translate("xpack.slo.sloList.welcomePrompt.learnMoreLink",{defaultMessage:"Read the docs"})))}))}function Ye({disabled:e,isAutoRefreshing:t,onClick:a}){return t?p.a.createElement(f.EuiButtonEmpty,{"data-test-subj":"autoRefreshButton",disabled:e,iconSide:"left",iconType:"pause",onClick:a},n.i18n.translate("xpack.slo.slosPage.stopRefreshingButtonLabel",{defaultMessage:"Stop refreshing"})):p.a.createElement(f.EuiButtonEmpty,{"data-test-subj":"autoRefreshButton",disabled:e,iconSide:"left",iconType:"play",onClick:a},n.i18n.translate("xpack.slo.slosPage.autoRefreshButtonLabel",{defaultMessage:"Auto-refresh"}))}const Je="slo.auto_refresh";var Xe=a(100),Ze=function(){const{ObservabilityPageTemplate:e}=Object(z.a)();return p.a.createElement(e,{"data-test-subj":"pageNotFound"},p.a.createElement(f.EuiCallOut,{color:"warning",iconType:"iInCircle",title:p.a.createElement(oe.FormattedMessage,{id:"xpack.slo.notFoundPage.title",defaultMessage:"Page Not Found"}),"data-test-subj":"observabilityPageNotFoundBanner"},p.a.createElement("p",{"data-test-subj":"observabilityPageNotFoundBannerText"},p.a.createElement(oe.FormattedMessage,{id:"xpack.slo.notFoundPage.bannerText",defaultMessage:"The Observability application doesn't recognize this route"}))))},et=a(73),tt=a(128),at=a(116),lt=a(145),st=a(106),nt=a(117),rt=a(149),it=a(75);const ot=e=>it.b.is(e)||it.c.is(e);var ut=a(144);const ct="instanceId",dt="remoteName",mt="delete",pt="reset";function gt(){const{search:e,pathname:t}=Object(C.useLocation)(),a=Object(C.useHistory)(),l=new URLSearchParams(e),s=l.get(ct),n=l.get(dt),r=l.get(mt),i=l.get(pt),o=Object(m.useCallback)((()=>{const l=new URLSearchParams(e);"true"===r&&(l.delete(mt),a.replace({pathname:t,search:l.toString()}))}),[r,a,t,e]),u=Object(m.useCallback)((()=>{const l=new URLSearchParams(e);"true"===i&&(l.delete(pt),a.replace({pathname:t,search:l.toString()}))}),[i,a,t,e]);return{instanceId:s&&s!==it.a?s:void 0,remoteName:n,isDeletingSlo:"true"===r,removeDeleteQueryParam:o,isResettingSlo:"true"===i,removeResetQueryParam:u}}var bt=a(181);function ft({isLoading:e,slo:t}){var a,l;const{application:{navigateToUrl:s,capabilities:r},http:{basePath:i},triggersActionsUi:{getAddRuleFlyout:o}}=Object(Q.a)().services,u=r.apm.show,{data:c}=Object(pe.a)(),{isDeletingSlo:d,isResettingSlo:g,removeDeleteQueryParam:b,removeResetQueryParam:E}=gt(),[h,v]=Object(m.useState)(!1),[O,y]=Object(m.useState)(!1),[S,x]=Object(m.useState)(!1),[k,j]=Object(m.useState)(!1),[C,L]=Object(m.useState)(!1),{mutateAsync:w,isLoading:M}=Object(nt.a)(),{data:P,refetchRules:R}=Object(st.a)({sloIds:t?[t.id]:void 0}),F=t&&null!==(a=null==P?void 0:P[null==t?void 0:t.id])&&void 0!==a?a:[],I=()=>v(!1);Object(m.useEffect)((()=>{d&&j(!0),g&&L(!0)}),[d,g]);const{handleNavigateToRules:T,sloEditUrl:B,remoteDeleteUrl:A,remoteResetUrl:D}=Object(bt.a)({slo:t,rules:F,setIsEditRuleFlyoutOpen:x,setIsActionsPopoverOpen:v}),_=Object(lt.a)(),q=Object(m.useCallback)((e=>setTimeout((()=>s(e)))),[s]),z=!(null==t||!t.remote),H=!(null==t||!t.remote)&&""===(null==t||null===(l=t.remote)||void 0===l?void 0:l.kibanaUrl),N=z?p.a.createElement(vt,{type:"popout",size:"s"}):null;return p.a.createElement(p.a.Fragment,null,p.a.createElement(f.EuiPopover,{"data-test-subj":"sloDetailsHeaderControlPopover",button:p.a.createElement(f.EuiButton,{"data-test-subj":"o11yHeaderControlActionsButton",fill:!0,iconSide:"right",iconType:"arrowDown",iconSize:"s",onClick:()=>v((e=>!e)),isLoading:e,disabled:e},n.i18n.translate("xpack.slo.sloDetails.headerControl.actions",{defaultMessage:"Actions"})),isOpen:h,closePopover:I},p.a.createElement(f.EuiContextMenuPanel,{size:"m",items:[p.a.createElement(f.EuiContextMenuItem,{key:"edit",disabled:!(null!=c&&c.hasAllWriteRequested)||H,icon:"pencil",href:B,target:z?"_blank":void 0,toolTipContent:H?ht:"","data-test-subj":"sloDetailsHeaderControlPopoverEdit"},n.i18n.translate("xpack.slo.sloDetails.headerControl.edit",{defaultMessage:"Edit"}),N),p.a.createElement(f.EuiContextMenuItem,{key:"createBurnRateRule",disabled:!(null!=c&&c.hasAllWriteRequested)||z,icon:"bell",onClick:()=>{I(),y(!0)},"data-test-subj":"sloDetailsHeaderControlPopoverCreateRule",toolTipContent:z?Et:""},n.i18n.translate("xpack.slo.sloDetails.headerControl.createBurnRateRule",{defaultMessage:"Create new alert rule"})),p.a.createElement(f.EuiContextMenuItem,{key:"manageRules",disabled:!(null!=c&&c.hasAllWriteRequested)||H,icon:"gear",onClick:T,"data-test-subj":"sloDetailsHeaderControlPopoverManageRules",toolTipContent:H?ht:""},n.i18n.translate("xpack.slo.sloDetails.headerControl.manageRules",{defaultMessage:"Manage burn rate {count, plural, one {rule} other {rules}}",values:{count:F.length}}),N)].concat(t&&ot(t.indicator)?p.a.createElement(f.EuiContextMenuItem,{key:"exploreInApm",icon:"bullseye",disabled:!u||z,onClick:()=>{if(!t)return;const e=Object(rt.a)(t);e&&s(i.prepend(e))},"data-test-subj":"sloDetailsHeaderControlPopoverExploreInApm",toolTipContent:z?Et:""},n.i18n.translate("xpack.slo.sloDetails.headerControl.exploreInApm",{defaultMessage:"Service details"})):[]).concat(p.a.createElement(f.EuiContextMenuItem,{key:"clone",disabled:!(null!=c&&c.hasAllWriteRequested)||H,icon:"copy",onClick:async()=>{t&&(v(!1),_(t))},"data-test-subj":"sloDetailsHeaderControlPopoverClone",toolTipContent:H?ht:""},n.i18n.translate("xpack.slo.slo.item.actions.clone",{defaultMessage:"Clone"}),N),p.a.createElement(f.EuiContextMenuItem,{key:"delete",icon:"trash",disabled:!(null!=c&&c.hasAllWriteRequested)||H,onClick:()=>{A?window.open(A,"_blank"):(j(!0),v(!1))},"data-test-subj":"sloDetailsHeaderControlPopoverDelete",toolTipContent:H?ht:""},n.i18n.translate("xpack.slo.slo.item.actions.delete",{defaultMessage:"Delete"}),N),p.a.createElement(f.EuiContextMenuItem,{key:"reset",icon:"refresh",disabled:!(null!=c&&c.hasAllWriteRequested)||H,onClick:()=>{D?window.open(D,"_blank"):L(!0)},"data-test-subj":"sloDetailsHeaderControlPopoverReset",toolTipContent:H?ht:""},n.i18n.translate("xpack.slo.slo.item.actions.reset",{defaultMessage:"Reset"}),N))})),p.a.createElement(ut.a,{rule:null==F?void 0:F[0],isEditRuleFlyoutOpen:S,setIsEditRuleFlyoutOpen:x,refetchRules:R}),t&&O?p.a.createElement(o,{consumer:V.sloFeatureId,ruleTypeId:et.a,canChangeTrigger:!1,onClose:()=>{y(!1)},initialValues:{name:`${t.name} burn rate`,params:{sloId:t.id}},useRuleProducer:!0}):null,t&&k?p.a.createElement(tt.a,{slo:t,onCancel:()=>{b(),j(!1)},onSuccess:async()=>{b(),j(!1),q(i.prepend(re.i.slos))}}):null,t&&C?p.a.createElement(at.a,{slo:t,onCancel:()=>{E(),L(!1)},onConfirm:async()=>{t&&(await w({id:t.id,name:t.name}),E(),L(!1))},isLoading:M}):null)}const Et=n.i18n.translate("xpack.slo.item.actions.notAvailable",{defaultMessage:"This action is not available for remote SLOs"}),ht=n.i18n.translate("xpack.slo.item.actions.remoteKibanaUrlUndefined",{defaultMessage:"This action is not available for remote SLOs with undefined kibanaUrl"});var vt=Y()(f.EuiIcon).withConfig({displayName:"_StyledEuiIcon",componentId:"sc-1ydzg5m-0"})({marginLeft:"10px"}),Ot=a(152),yt=a(126),St=a(155);function xt(){var e;const{onPageReady:t}=Object(s.c)(),{application:{navigateToUrl:a},http:{basePath:l},observabilityAIAssistant:r}=Object(Q.a)().services,{ObservabilityPageTemplate:i}=Object(z.a)(),{hasAtLeast:o}=Object(me.a)(),u=o("platinum"),{data:c}=Object(pe.a)(),{sloId:d}=Object(C.useParams)(),{instanceId:g,remoteName:b}=gt(),{storeAutoRefreshState:E,getAutoRefreshState:h}=localStorage?{storeAutoRefreshState:e=>{localStorage.setItem(Je,JSON.stringify(e))},getAutoRefreshState:()=>{const e=localStorage.getItem(Je);return null===e||Boolean(JSON.parse(e))}}:{storeAutoRefreshState:()=>{},getAutoRefreshState:()=>!0},[v,O]=Object(m.useState)(h()),{isLoading:y,data:S}=Object(Xe.a)({sloId:d,remoteName:b,instanceId:g,shouldRefetch:v}),x=Boolean(Object(A.useIsMutating)(["deleteSlo"])),{selectedTabId:k}=(()=>{const{tabId:e}=Object(C.useParams)(),[t,a]=Object(m.useState)((()=>e&&[yt.c,yt.a,yt.b].includes(e)?e:yt.c));return Object(m.useEffect)((()=>{e!==t&&a(e)}),[t,e]),{selectedTabId:t||yt.c,setSelectedTabId:a}})(),{tabs:j}=Object(St.a)({slo:S,isAutoRefreshing:v,selectedTabId:k});if(Object(m.useEffect)((()=>{if(S&&r)return r.service.setScreenContext({screenDescription:he()(`\n        The user is looking at the detail page for the following SLO\n\n        Name: ${S.name}.\n        Id: ${S.id}\n        Instance Id: ${S.instanceId}\n        Description: ${S.description}\n        Observed value: ${S.summary.sliValue}\n        Error budget remaining: ${S.summary.errorBudget.remaining}\n        Status: ${S.summary.status}\n      `),data:[{name:"slo",description:"The SLO and its metadata",value:S}]})}),[r,S]),Object(m.useEffect)((()=>{!1!==u&&!1!==(null==c?void 0:c.hasAllReadRequested)||a(l.prepend(re.i.slosWelcome))}),[u,c,a,l]),Object(m.useEffect)((()=>{y||void 0===S||t()}),[t,S,y]),Object(H.useBreadcrumbs)(function(e,t){var a;return[{href:e.prepend(re.i.slos),text:n.i18n.translate("xpack.slo.breadcrumbs.slosLinkText",{defaultMessage:"SLOs"}),deepLinkId:"slo"},{text:null!==(a=null==t?void 0:t.name)&&void 0!==a?a:n.i18n.translate("xpack.slo.breadcrumbs.sloDetailsLinkText",{defaultMessage:"Details"})}]}(l,S)),!y&&void 0===S)return p.a.createElement(Ze,null);const L=y||x;return p.a.createElement(i,{pageHeader:{pageTitle:null!==(e=null==S?void 0:S.name)&&void 0!==e?e:p.a.createElement(f.EuiSkeletonText,{lines:1}),children:p.a.createElement(Ot.a,{isLoading:L,slo:S}),rightSideItems:[p.a.createElement(ft,{isLoading:L,slo:S}),p.a.createElement(Ye,{disabled:L,isAutoRefreshing:v,onClick:()=>{O(!v),E(!v)}})],tabs:j},"data-test-subj":"sloDetailsPage"},p.a.createElement(ie,null),y&&p.a.createElement(f.EuiLoadingSpinner,{"data-test-subj":"sloDetailsLoading"}),!y&&p.a.createElement(yt.d,{slo:S,isAutoRefreshing:v,selectedTabId:k}))}var kt=a(208);function jt(){const{application:{navigateToUrl:e},http:{basePath:t}}=Object(Q.a)().services,{sloId:a}=Object(C.useParams)(),{data:l}=Object(pe.a)(),{ObservabilityPageTemplate:s}=Object(z.a)(),{hasAtLeast:r}=Object(me.a)(),i=r("platinum"),{data:o}=Object(Xe.a)({sloId:a});return Object(H.useBreadcrumbs)([{href:t.prepend(re.i.slos),text:n.i18n.translate("xpack.slo.breadcrumbs.sloLabel",{defaultMessage:"SLOs"}),deepLinkId:"slo"},...o?[{href:t.prepend(re.i.sloDetails(o.id)),text:o.name}]:[],{text:o?n.i18n.translate("xpack.slo.breadcrumbs.sloEditLabel",{defaultMessage:"Edit"}):n.i18n.translate("xpack.slo.breadcrumbs.sloCreateLabel",{defaultMessage:"Create"})}]),Object(m.useEffect)((()=>{!1!==i&&!1!==(null==l?void 0:l.hasAllReadRequested)||e(t.prepend(re.i.slosWelcome)),!1===(null==l?void 0:l.hasAllWriteRequested)&&e(t.prepend(re.i.slos))}),[i,l,e,t]),p.a.createElement(s,{pageHeader:{pageTitle:o?n.i18n.translate("xpack.slo.sloEditPageTitle",{defaultMessage:"Edit SLO"}):n.i18n.translate("xpack.slo.sloCreatePageTitle",{defaultMessage:"Create new SLO"}),bottomBorder:!1},"data-test-subj":"slosEditPage"},p.a.createElement(ie,null),p.a.createElement(kt.a,{slo:o}))}var Ct=a(132),Lt=a(183),wt=a(151);function Mt({slo:e,onReset:t,onDelete:a}){const{mutateAsync:l,isLoading:s}=Object(nt.a)(),[n,r]=Object(m.useState)(!1),[i,o]=Object(m.useState)(!1);return p.a.createElement(f.EuiPanel,{hasBorder:!0,hasShadow:!1},p.a.createElement(f.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},p.a.createElement(f.EuiFlexItem,null,p.a.createElement(f.EuiFlexGroup,{direction:"column",gutterSize:"s"},p.a.createElement(f.EuiFlexItem,null,p.a.createElement(f.EuiText,null,p.a.createElement("span",null,e.name))),p.a.createElement(f.EuiFlexGroup,{direction:"row",responsive:!1,gutterSize:"s",alignItems:"center",wrap:!0},p.a.createElement(Lt.a,{slo:e}),p.a.createElement(wt.a,{slo:e})))),p.a.createElement(f.EuiFlexItem,{grow:0},p.a.createElement(f.EuiButton,{"data-test-subj":"o11ySlosOutdatedDefinitionsResetButton",color:"primary",fill:!0,isLoading:s,onClick:()=>{o(!0)}},p.a.createElement(oe.FormattedMessage,{id:"xpack.slo.slosOutdatedDefinitions.resetButtonLabel",defaultMessage:"Reset"}))),p.a.createElement(f.EuiFlexItem,{grow:0},p.a.createElement(f.EuiButton,{"data-test-subj":"o11ySlosOutdatedDefinitionsDeleteButton",color:"danger",fill:!0,onClick:()=>{r(!0)}},p.a.createElement(oe.FormattedMessage,{id:"xpack.slo.slosOutdatedDefinitions.deleteButtonLabel",defaultMessage:"Delete"})))),n?p.a.createElement(tt.a,{slo:e,onCancel:()=>{r(!1)},onSuccess:async()=>{r(!1),a()}}):null,i?p.a.createElement(at.a,{slo:e,onCancel:()=>{o(!1)},onConfirm:async()=>{o(!1),await l({id:e.id,name:e.name}),t()}}):null)}function Pt({onSearch:e,onRefresh:t,initialSearch:a=""}){const[l,s]=Object(m.useState)(a),[r,i]=Object(m.useState)(a),o=()=>{l!==r?(i(l),e(l)):t()};return p.a.createElement(f.EuiFlexGroup,{gutterSize:"s"},p.a.createElement(f.EuiFlexItem,null,p.a.createElement(f.EuiFieldSearch,{"data-test-subj":"o11ySlosOutdatedDefinitionsFieldSearch",fullWidth:!0,value:l,onChange:e=>s(e.target.value),onKeyDown:e=>{"Enter"===e.key&&o()}})),p.a.createElement(f.EuiFlexItem,{grow:0},r===l&&p.a.createElement(f.EuiButton,{"data-test-subj":"o11ySlosOutdatedDefinitionsRefreshButton",iconType:"refresh",onClick:o},n.i18n.translate("xpack.slo.slosOutdatedDefinitions.refreshButtonLabel",{defaultMessage:"Refresh"})),r!==l&&p.a.createElement(f.EuiButton,{"data-test-subj":"o11ySlosOutdatedDefinitionsUpdateButton",iconType:"kqlFunction",color:"success",fill:!0,onClick:o},n.i18n.translate("xpack.slo.slosOutdatedDefinitions.updateButtonLabel",{defaultMessage:"Update"}))))}function Rt(){const{http:{basePath:e}}=Object(Q.a)().services,{data:t}=Object(pe.a)(),{ObservabilityPageTemplate:a}=Object(z.a)(),{hasAtLeast:l}=Object(me.a)();Object(H.useBreadcrumbs)([{href:e.prepend(re.i.slos),text:n.i18n.translate("xpack.slo.breadcrumbs.slosLinkText",{defaultMessage:"SLOs"}),deepLinkId:"slo"},{text:n.i18n.translate("xpack.slo.breadcrumbs.slosOutdatedDefinitions",{defaultMessage:"Outdated SLO Definitions"})}]);const[s,r]=Object(m.useState)(""),[i,o]=Object(m.useState)(0),[u,c]=Object(m.useState)(10),{isLoading:d,data:g,refetch:b}=Object(ue.a)({name:s,includeOutdatedOnly:!0,page:i+1,perPage:u}),{total:E}=null!=g?g:{total:0},h=!0===(null==t?void 0:t.hasAllWriteRequested),v=!0===l("platinum"),O=h?v?null:p.a.createElement(f.EuiText,null,n.i18n.translate("xpack.slo.slosOutdatedDefinitions.licenseError",{defaultMessage:"You must have atleast a platinum license to access this page"})):p.a.createElement(f.EuiText,null,n.i18n.translate("xpack.slo.slosOutdatedDefinitions.sloPermissionsError",{defaultMessage:"You must have write permissions for SLOs to access this page"}));return p.a.createElement(a,{"data-test-subj":"slosOutdatedDefinitions",pageHeader:{pageTitle:n.i18n.translate("xpack.slo.slosOutdatedDefinitions.pageTitle",{defaultMessage:"Outdated SLO Definitions"})}},p.a.createElement(ie,null),O||p.a.createElement(p.a.Fragment,null,p.a.createElement("p",null,n.i18n.translate("xpack.slo.slosOutdatedDefinitions.description",{defaultMessage:"The following SLOs are from a previous version and need to either be reset to upgrade to the latest version OR deleted and removed from the system. When you reset the SLO, the transform will be updated to the latest version and the historical data will be regenerated from the source data."})),p.a.createElement(f.EuiSpacer,{size:"l"}),p.a.createElement(f.EuiFlexGroup,{direction:"column",gutterSize:"s"},p.a.createElement(f.EuiFlexItem,null,p.a.createElement(Pt,{initialSearch:s,onRefresh:b,onSearch:r})),!d&&0===E&&p.a.createElement(Ct.a,null),!d&&E>0&&g&&g.results.map((e=>p.a.createElement(Mt,{slo:e,onDelete:b,onReset:b})))),p.a.createElement(f.EuiSpacer,{size:"m"}),!d&&g&&p.a.createElement(f.EuiTablePagination,{activePage:i,pageCount:Math.ceil(E/u),itemsPerPage:u,onChangePage:o,onChangeItemsPerPage:e=>{c(e),o(0)},itemsPerPageOptions:[10,20,50,100]})))}function Ft(){const[e,t]=Object(m.useState)(!1),[a,l]=Object(m.useState)([]),[s,r]=Object(m.useState)(N.e),{http:o}=Object(i.useKibana)().services,{data:u}=Object(te.a)(),{mutateAsync:c,isLoading:d}=function(){const{application:{navigateToUrl:e},http:t,notifications:{toasts:a}}=Object(Q.a)().services;return Object(A.useMutation)(["putSloSettings"],(({settings:e})=>{const a=JSON.stringify(e);return t.put("/internal/slo/settings",{body:a})}),{onSuccess:(l,{settings:s})=>{a.addSuccess({title:n.i18n.translate("xpack.slo.settings.successNotification",{defaultMessage:"Success updated slo settings"})}),e(t.basePath.prepend(re.i.slos))},onError:(e,{settings:t},l)=>{var s,r;a.addError(new Error(null!==(s=null===(r=e.body)||void 0===r?void 0:r.message)&&void 0!==s?s:e.message),{title:n.i18n.translate("xpack.slo.settings.errorNotification",{defaultMessage:"Something went wrong while updating settings"})})}})}(),{data:g,loading:b}=Object(H.useFetcher)((()=>null==o?void 0:o.get("/api/remote_clusters")),[o]);return Object(m.useEffect)((()=>{u&&(t(u.useAllRemoteClusters),l(u.selectedRemoteClusters),r(u.staleThresholdInHours))}),[u]),p.a.createElement(f.EuiForm,{component:"form"},p.a.createElement(f.EuiDescribedFormGroup,{title:p.a.createElement("h3",null,n.i18n.translate("xpack.slo.settingsForm.h3.sourceSettingsLabel",{defaultMessage:"Source settings"})),description:p.a.createElement("p",null,n.i18n.translate("xpack.slo.settingsForm.p.fetchSlosFromAllLabel",{defaultMessage:"Fetch SLOs from all remote clusters."}))},p.a.createElement(f.EuiFormRow,{label:n.i18n.translate("xpack.slo.settingsForm.euiFormRow.useAllRemoteClustersLabel",{defaultMessage:"Use all remote clusters"})},p.a.createElement(f.EuiSwitch,{label:"",checked:e,onChange:e=>t(e.target.checked)}))),p.a.createElement(f.EuiDescribedFormGroup,{title:p.a.createElement("h3",null,n.i18n.translate("xpack.slo.settingsForm.h3.remoteSettingsLabel",{defaultMessage:"Remote clusters"})),description:p.a.createElement("p",null,n.i18n.translate("xpack.slo.settingsForm.select.fetchSlosFromAllLabel",{defaultMessage:"Select remote clusters to fetch SLOs from."}))},p.a.createElement(f.EuiFormRow,{label:n.i18n.translate("xpack.slo.settingsForm.euiFormRow.select.selectRemoteClustersLabel",{defaultMessage:"Select remote clusters"})},p.a.createElement(f.EuiComboBox,{options:(null==g?void 0:g.map((e=>({label:e.name,value:e.name}))))||[],selectedOptions:a.map((e=>({label:e,value:e}))),onChange:e=>{l(e.map((e=>e.value)))},isDisabled:e})),p.a.createElement(f.EuiSpacer,{size:"m"})),p.a.createElement(f.EuiDescribedFormGroup,{title:p.a.createElement("h3",null,n.i18n.translate("xpack.slo.settingsForm.h3.staleThresholdLabel",{defaultMessage:"Stale SLOs threshold"})),description:p.a.createElement("p",null,n.i18n.translate("xpack.slo.settingsForm.select.staleThresholdLabel",{defaultMessage:"SLOs not updated within the defined stale threshold will be hidden by default from the overview list."}))},p.a.createElement(f.EuiFormRow,{label:n.i18n.translate("xpack.slo.settingsForm.euiFormRow.select.selectThresholdLabel",{defaultMessage:"Select threshold"})},p.a.createElement(f.EuiFieldNumber,{"data-test-subj":"sloSettingsFormFieldNumber",value:s,onChange:e=>{r(Number(e.target.value))},append:n.i18n.translate("xpack.slo.settingsForm.euiFormRow.select.hours",{defaultMessage:"Hours"})})),p.a.createElement(f.EuiSpacer,{size:"m"}),p.a.createElement(f.EuiFlexGroup,{justifyContent:"flexEnd"},p.a.createElement(f.EuiFlexItem,{grow:!1},p.a.createElement(f.EuiButtonEmpty,{isLoading:b||d,"data-test-subj":"o11ySettingsFormCancelButton",onClick:()=>{var e;t((null==u?void 0:u.useAllRemoteClusters)||!1),l((null==u?void 0:u.selectedRemoteClusters)||[]),r(null!==(e=null==u?void 0:u.staleThresholdInHours)&&void 0!==e?e:N.e)},isDisabled:Object(j.isEqual)(u,{useAllRemoteClusters:e,selectedRemoteClusters:a,staleThresholdInHours:s})},n.i18n.translate("xpack.slo.settingsForm.euiButtonEmpty.cancelLabel",{defaultMessage:"Cancel"}))),p.a.createElement(f.EuiFlexItem,{grow:!1},p.a.createElement(f.EuiButton,{isLoading:b||d,"data-test-subj":"o11ySettingsFormSaveButton",color:"primary",fill:!0,onClick:()=>(async()=>{c({settings:{useAllRemoteClusters:e,selectedRemoteClusters:a,staleThresholdInHours:s}})})(),isDisabled:Object(j.isEqual)(u,{useAllRemoteClusters:e,selectedRemoteClusters:a,staleThresholdInHours:s})},n.i18n.translate("xpack.slo.settingsForm.applyButtonEmptyLabel",{defaultMessage:"Apply"}))))))}function It(){const{http:{basePath:e}}=Object(Q.a)().services,{ObservabilityPageTemplate:t}=Object(z.a)();return Object(H.useBreadcrumbs)([{href:e.prepend(re.i.slosSettings),text:n.i18n.translate("xpack.slo.breadcrumbs.slosSettingsText",{defaultMessage:"SLOs Settings"})}]),p.a.createElement(t,{"data-test-subj":"slosSettingsPage",pageHeader:{pageTitle:n.i18n.translate("xpack.slo.pageHeader.title.",{defaultMessage:"SLOs Settings"}),rightSideItems:[]}},p.a.createElement(ie,null),p.a.createElement(Ft,null))}function Tt(){const{isServerless:e}=Object(z.a)(),t=(e=>({[re.c]:{handler:()=>p.a.createElement(Ge,null),params:{},exact:!0},[re.e]:{handler:()=>p.a.createElement(jt,null),params:{},exact:!0},[re.d]:{handler:()=>p.a.createElement(Ke,null),params:{},exact:!0},[re.b]:{handler:()=>p.a.createElement(Rt,null),params:{},exact:!0},[re.g]:{handler:()=>p.a.createElement(jt,null),params:{},exact:!0},...e?{}:{[re.h]:{handler:()=>p.a.createElement(It,null),params:{},exact:!0}},[re.f]:{handler:()=>p.a.createElement(xt,null),params:{},exact:!0}}))(e);return p.a.createElement(p.a.Fragment,null,p.a.createElement(T,null,Object.keys(t).map((e=>{const{handler:a,exact:l}=t[e];return p.a.createElement(F,{key:e,path:e,exact:l,component:()=>a()})}))))}const Bt=({core:e,plugins:t,appMountParameters:a,ObservabilityPageTemplate:c,usageCollection:d,isDev:m,kibanaVersion:g,isServerless:b,observabilityRuleTypeRegistry:f,experimentalFeatures:E})=>{var h,v,O,y,S,j;const{element:C,history:L,theme$:w}=a,M=e.theme.getTheme().darkMode;C.classList.add(l.APP_WRAPPER_CLASS);const P=new A.QueryClient,R=null!==(h=null==d?void 0:d.components.ApplicationUsageTrackingProvider)&&void 0!==h?h:p.a.Fragment,F=null!==(v=null===(O=t.cloud)||void 0===O?void 0:O.CloudContextProvider)&&void 0!==v?v:p.a.Fragment,I=null!==(y=null===(S=t.presentationUtil)||void 0===S?void 0:S.ContextProvider)&&void 0!==y?y:p.a.Fragment,T=null===(j=t.observabilityAIAssistant)||void 0===j?void 0:j.service.setScreenContext({starterPrompts:[{title:n.i18n.translate("xpack.slo.starterPrompts.whatAreSlos.title",{defaultMessage:"Getting started"}),prompt:n.i18n.translate("xpack.slo.starterPrompts.whatAreSlos.prompt",{defaultMessage:"What are SLOs?"}),icon:"bullseye"},{title:n.i18n.translate("xpack.slo.starterPrompts.canYouCreateAnSlo.title",{defaultMessage:"Getting started"}),prompt:n.i18n.translate("xpack.slo.starterPrompts.canYouCreateAnSlo.prompt",{defaultMessage:"Can you create an SLO?"}),icon:"questionInCircle"}]});return _.a.render(p.a.createElement(u.a,e,p.a.createElement(I,null,p.a.createElement(R,null,p.a.createElement(x,{theme:{theme$:w}},p.a.createElement(F,null,p.a.createElement(i.KibanaContextProvider,{services:{...e,...t,storage:new o.Storage(localStorage),isDev:m,kibanaVersion:g,isServerless:b}},p.a.createElement(q.a.Provider,{value:{isDev:m,isServerless:b,appMountParameters:a,ObservabilityPageTemplate:c,observabilityRuleTypeRegistry:f,experimentalFeatures:E}},p.a.createElement(B.a,{history:L},p.a.createElement(r.EuiThemeProvider,{darkMode:M},p.a.createElement(k.a,{coreStart:e,"data-test-subj":"observabilityMainContainer"},p.a.createElement(s.a,null,p.a.createElement(A.QueryClientProvider,{client:P},p.a.createElement(Tt,null))))))))))))),C),()=>{t.data.search.session.clear(),null==T||T(),_.a.unmountComponentAtNode(C)}}}}]);