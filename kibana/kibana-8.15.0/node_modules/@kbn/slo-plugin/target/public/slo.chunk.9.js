/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.slo_bundle_jsonpfunction=window.slo_bundle_jsonpfunction||[]).push([[9],{109:function(e,t,i){"use strict";i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return l}));var n=i(0);const o=Object(n.createContext)(void 0);function l(){const e=Object(n.useContext)(o);if(!e)throw new Error("Missing Performance API in context");return e}},110:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));const n={startPageChange:"start::pageChange",endPageReady:"end::pageReady"}},125:function(e,t,i){"use strict";function n(e,t){return t?a(e):e.aggregatable&&o(e,t)||(!e.aggregatable||"geo_point"===e.type||"geo_shape"===e.type)&&d(e,t)}function o(e,t){return!t&&!("document"===e.type||e.type.includes("range")||"geo_point"===e.type||"geo_shape"===e.type||"murmur3"===e.type||"attachment"===e.type)}function l(e,t){return!t&&"counter"===e.timeSeriesMetric}function d(e,t){return t?"string"===e.type&&!s(e)||["geo_point","geo_shape"].includes(e.type):"_score"!==e.name&&["string","text","keyword","version","ip","number","geo_point","geo_shape"].includes(e.type)}function s(e){var t;if("_id"===e.name)return!1;const i=null===(t=e.esTypes)||void 0===t?void 0:t[0];return Boolean("string"===e.type&&i&&["keyword","version"].includes(i))||["keyword","version","ip","number","boolean"].includes(e.type)}function a(e){return s(e)||d(e,!0)}i.d(t,"d",(function(){return n})),i.d(t,"a",(function(){return o})),i.d(t,"c",(function(){return l})),i.d(t,"b",(function(){return d})),i.d(t,"f",(function(){return s})),i.d(t,"e",(function(){return a}))},127:function(e,t,i){"use strict";i.d(t,"c",(function(){return d.b})),i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return r}));var n=i(0),o=i.n(n),l=i(28),d=i(109);i(110);const s=function(e){const t=o.a.lazy(e);return o.a.forwardRef(((e,i)=>Object(l.jsx)(n.Suspense,{fallback:null},o.a.createElement(t,{...e,ref:i}))))}((()=>i.e(8).then(i.bind(null,353)))),a="performance_metric";function r(e,t){e.reportEvent(a,t)}},137:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return o}));let n=function(e){return e.failed="failed",e.succeeded="succeeded",e.unknown="unknown",e}({}),o=function(e){return e.SpecialFields="SpecialFields",e.SelectedFields="SelectedFields",e.PopularFields="PopularFields",e.AvailableFields="AvailableFields",e.EmptyFields="EmptyFields",e.MetaFields="MetaFields",e.UnmappedFields="UnmappedFields",e.SmartFields="SmartFields",e}({})},206:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));const n={META_FIELDS:"metaFields",DOC_HIGHLIGHT:"doc_table:highlight",QUERY_STRING_OPTIONS:"query:queryString:options",QUERY_ALLOW_LEADING_WILDCARDS:"query:allowLeadingWildcards",SEARCH_QUERY_LANGUAGE:"search:queryLanguage",SORT_OPTIONS:"sort:options",COURIER_IGNORE_FILTER_IF_FIELD_NOT_IN_INDEX:"courier:ignoreFilterIfFieldNotInIndex",COURIER_SET_REQUEST_PREFERENCE:"courier:setRequestPreference",COURIER_CUSTOM_REQUEST_PREFERENCE:"courier:customRequestPreference",COURIER_MAX_CONCURRENT_SHARD_REQUESTS:"courier:maxConcurrentShardRequests",SEARCH_INCLUDE_FROZEN:"search:includeFrozen",SEARCH_TIMEOUT:"search:timeout",HISTOGRAM_BAR_TARGET:"histogram:barTarget",HISTOGRAM_MAX_BARS:"histogram:maxBars",HISTORY_LIMIT:"history:limit",TIMEPICKER_REFRESH_INTERVAL_DEFAULTS:"timepicker:refreshIntervalDefaults",TIMEPICKER_QUICK_RANGES:"timepicker:quickRanges",TIMEPICKER_TIME_DEFAULTS:"timepicker:timeDefaults",FILTERS_PINNED_BY_DEFAULT:"filters:pinnedByDefault",FILTERS_EDITOR_SUGGEST_VALUES:"filterEditor:suggestValues",AUTOCOMPLETE_USE_TIMERANGE:"autocomplete:useTimeRange",AUTOCOMPLETE_VALUE_SUGGESTION_METHOD:"autocomplete:valueSuggestionMethod",DATE_FORMAT:"dateFormat",DATEFORMAT_TZ:"dateFormat:tz"}},286:function(e,t,i){switch(window.__kbnThemeTag__){case"v8dark":return i(287);case"v8light":return i(289)}},287:function(e,t,i){var n=i(82),o=i(288);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);n(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},288:function(e,t,i){(t=i(83)(!1)).push([e.i,".unifiedFieldListSidebar{flex-grow:1;height:100%;margin:0!important;overflow:hidden;padding:0}.unifiedFieldListSidebar--collapsed{padding:8px 8px 0;width:auto}.unifiedFieldListSidebar.unifiedFieldListSidebar--fullWidth{min-width:0!important}.unifiedFieldListSidebar:not(.unifiedFieldListSidebar--fullWidth){width:304px}@media only screen and (max-width:574px){.unifiedFieldListSidebar{background-color:#141519;padding:16px;width:100%}}@media only screen and (min-width:575px)and (max-width:767px){.unifiedFieldListSidebar{background-color:#141519;padding:16px;width:100%}}.unifiedFieldListSidebar__list{padding:8px 4px 0}.unifiedFieldListSidebar__list .euiAccordion__children,.unifiedFieldListSidebar__list .euiAccordion__triggerWrapper,.unifiedFieldListSidebar__list .unifiedFieldListItemButton,.unifiedFieldListSidebar__list>*{padding-left:4px;padding-right:4px}.unifiedFieldListSidebar__list .unifiedFieldListSidebar__accordionContainer{padding-left:0;padding-right:0}@media only screen and (max-width:574px){.unifiedFieldListSidebar__list{padding:8px 0 0}.unifiedFieldListSidebar__list .euiAccordion__triggerWrapper,.unifiedFieldListSidebar__list .unifiedFieldListItemButton,.unifiedFieldListSidebar__list .unifiedFieldListSidebar__accordionContainer,.unifiedFieldListSidebar__list>*{padding-left:0;padding-right:0}}@media only screen and (min-width:575px)and (max-width:767px){.unifiedFieldListSidebar__list{padding:8px 0 0}.unifiedFieldListSidebar__list .euiAccordion__triggerWrapper,.unifiedFieldListSidebar__list .unifiedFieldListItemButton,.unifiedFieldListSidebar__list .unifiedFieldListSidebar__accordionContainer,.unifiedFieldListSidebar__list>*{padding-left:0;padding-right:0}}.unifiedFieldListSidebar__group{height:100%}.unifiedFieldListSidebar__mobile{padding:8px 8px 0;width:100%}.unifiedFieldListSidebar__mobile .unifiedFieldListSidebar__mobileBadge{margin-left:8px;vertical-align:text-bottom}.unifiedFieldListSidebar__flyoutHeader{align-items:center}.unifiedFieldListSidebar .unifiedFieldListItemButton.kbnFieldButton{background:none;box-shadow:none;margin-bottom:2px}.unifiedFieldListItemButton__dragging{background:#1d1e24}",""]),e.exports=t},289:function(e,t,i){var n=i(82),o=i(290);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);n(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},290:function(e,t,i){(t=i(83)(!1)).push([e.i,".unifiedFieldListSidebar{flex-grow:1;height:100%;margin:0!important;overflow:hidden;padding:0}.unifiedFieldListSidebar--collapsed{padding:8px 8px 0;width:auto}.unifiedFieldListSidebar.unifiedFieldListSidebar--fullWidth{min-width:0!important}.unifiedFieldListSidebar:not(.unifiedFieldListSidebar--fullWidth){width:304px}@media only screen and (max-width:574px){.unifiedFieldListSidebar{background-color:#fafbfd;padding:16px;width:100%}}@media only screen and (min-width:575px)and (max-width:767px){.unifiedFieldListSidebar{background-color:#fafbfd;padding:16px;width:100%}}.unifiedFieldListSidebar__list{padding:8px 4px 0}.unifiedFieldListSidebar__list .euiAccordion__children,.unifiedFieldListSidebar__list .euiAccordion__triggerWrapper,.unifiedFieldListSidebar__list .unifiedFieldListItemButton,.unifiedFieldListSidebar__list>*{padding-left:4px;padding-right:4px}.unifiedFieldListSidebar__list .unifiedFieldListSidebar__accordionContainer{padding-left:0;padding-right:0}@media only screen and (max-width:574px){.unifiedFieldListSidebar__list{padding:8px 0 0}.unifiedFieldListSidebar__list .euiAccordion__triggerWrapper,.unifiedFieldListSidebar__list .unifiedFieldListItemButton,.unifiedFieldListSidebar__list .unifiedFieldListSidebar__accordionContainer,.unifiedFieldListSidebar__list>*{padding-left:0;padding-right:0}}@media only screen and (min-width:575px)and (max-width:767px){.unifiedFieldListSidebar__list{padding:8px 0 0}.unifiedFieldListSidebar__list .euiAccordion__triggerWrapper,.unifiedFieldListSidebar__list .unifiedFieldListItemButton,.unifiedFieldListSidebar__list .unifiedFieldListSidebar__accordionContainer,.unifiedFieldListSidebar__list>*{padding-left:0;padding-right:0}}.unifiedFieldListSidebar__group{height:100%}.unifiedFieldListSidebar__mobile{padding:8px 8px 0;width:100%}.unifiedFieldListSidebar__mobile .unifiedFieldListSidebar__mobileBadge{margin-left:8px;vertical-align:text-bottom}.unifiedFieldListSidebar__flyoutHeader{align-items:center}.unifiedFieldListSidebar .unifiedFieldListItemButton.kbnFieldButton{background:none;box-shadow:none;margin-bottom:2px}.unifiedFieldListItemButton__dragging{background:#fff}",""]),e.exports=t},291:function(e,t,i){switch(window.__kbnThemeTag__){case"v8dark":return i(292);case"v8light":return i(294)}},292:function(e,t,i){var n=i(82),o=i(293);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);n(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},293:function(e,t,i){(t=i(83)(!1)).push([e.i,".unifiedFieldListItemButton__action{opacity:0}.unifiedFieldListItemButton__action--always,.unifiedFieldListItemButton__action:focus{opacity:1}.unifiedFieldListItemButton{background:#1d1e24;border-radius:6px;box-shadow:0 .8px .8px #0000001a,0 2.3px 2px rgba(0,0,0,.075);width:100%}.unifiedFieldListItemButton.kbnFieldButton-isActive,.unifiedFieldListItemButton.kbnFieldButton:focus-within{outline:none}.unifiedFieldListItemButton.kbnFieldButton-isActive:focus-visible,.unifiedFieldListItemButton.kbnFieldButton:focus-within:focus-visible{outline-style:none}.unifiedFieldListItemButton .kbnFieldButton__button:focus{outline:none}.unifiedFieldListItemButton .kbnFieldButton__button:focus:focus-visible{outline-style:none}.unifiedFieldListItemButton .kbnFieldButton__button:focus .kbnFieldButton__nameInner{outline:2px solid currentColor}.unifiedFieldListItemButton .kbnFieldButton__button:focus:focus-visible .kbnFieldButton__nameInner{outline-style:auto}.unifiedFieldListItemButton .kbnFieldButton__button:focus:not(:focus-visible) .kbnFieldButton__nameInner{outline:none}.unifiedFieldListItemButton button .kbnFieldButton__nameInner:hover{text-decoration:underline}.unifiedFieldListItemButton:hover .unifiedFieldListItemButton__action,.unifiedFieldListItemButton[class*=-isActive] .unifiedFieldListItemButton__action{opacity:1}.unifiedFieldList__fieldPopover__fieldPopoverPanel .unifiedFieldListItemButton{background:none;box-shadow:none}.unifiedFieldListItemButton--missing{background:#1d1e24;color:#98a2b3}.unifiedFieldListItemButton__fieldIconContainer{position:relative}.unifiedFieldListItemButton__fieldIcon{transition:opacity .25s ease-in-out}.unifiedFieldListItemButton__fieldIconDrag{left:0;position:absolute;top:0;transition:opacity .25s ease-in-out;visibility:hidden}.unifiedFieldListItemButton--withDragIcon .unifiedFieldListItemButton__fieldIconDrag{opacity:0;visibility:visible}.domDraggable__keyboardHandler:focus+.unifiedFieldListItemButton--withDragIcon .unifiedFieldListItemButton__fieldIcon,.unifiedFieldListItemButton--withDragIcon:hover .unifiedFieldListItemButton__fieldIcon,.unifiedFieldListItemButton--withDragIcon[class*=-isActive] .unifiedFieldListItemButton__fieldIcon{opacity:0}.domDraggable__keyboardHandler:focus+.unifiedFieldListItemButton--withDragIcon .unifiedFieldListItemButton__fieldIconDrag,.unifiedFieldListItemButton--withDragIcon:hover .unifiedFieldListItemButton__fieldIconDrag,.unifiedFieldListItemButton--withDragIcon[class*=-isActive] .unifiedFieldListItemButton__fieldIconDrag{opacity:1}",""]),e.exports=t},294:function(e,t,i){var n=i(82),o=i(295);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);n(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},295:function(e,t,i){(t=i(83)(!1)).push([e.i,".unifiedFieldListItemButton__action{opacity:0}.unifiedFieldListItemButton__action--always,.unifiedFieldListItemButton__action:focus{opacity:1}.unifiedFieldListItemButton{background:#fff;border-radius:6px;box-shadow:0 .8px .8px #0000000a,0 2.3px 2px #00000008;width:100%}.unifiedFieldListItemButton.kbnFieldButton-isActive,.unifiedFieldListItemButton.kbnFieldButton:focus-within{outline:none}.unifiedFieldListItemButton.kbnFieldButton-isActive:focus-visible,.unifiedFieldListItemButton.kbnFieldButton:focus-within:focus-visible{outline-style:none}.unifiedFieldListItemButton .kbnFieldButton__button:focus{outline:none}.unifiedFieldListItemButton .kbnFieldButton__button:focus:focus-visible{outline-style:none}.unifiedFieldListItemButton .kbnFieldButton__button:focus .kbnFieldButton__nameInner{outline:2px solid currentColor}.unifiedFieldListItemButton .kbnFieldButton__button:focus:focus-visible .kbnFieldButton__nameInner{outline-style:auto}.unifiedFieldListItemButton .kbnFieldButton__button:focus:not(:focus-visible) .kbnFieldButton__nameInner{outline:none}.unifiedFieldListItemButton button .kbnFieldButton__nameInner:hover{text-decoration:underline}.unifiedFieldListItemButton:hover .unifiedFieldListItemButton__action,.unifiedFieldListItemButton[class*=-isActive] .unifiedFieldListItemButton__action{opacity:1}.unifiedFieldList__fieldPopover__fieldPopoverPanel .unifiedFieldListItemButton{background:none;box-shadow:none}.unifiedFieldListItemButton--missing{background:#98a2b31a;color:#69707d}.unifiedFieldListItemButton__fieldIconContainer{position:relative}.unifiedFieldListItemButton__fieldIcon{transition:opacity .25s ease-in-out}.unifiedFieldListItemButton__fieldIconDrag{left:0;position:absolute;top:0;transition:opacity .25s ease-in-out;visibility:hidden}.unifiedFieldListItemButton--withDragIcon .unifiedFieldListItemButton__fieldIconDrag{opacity:0;visibility:visible}.domDraggable__keyboardHandler:focus+.unifiedFieldListItemButton--withDragIcon .unifiedFieldListItemButton__fieldIcon,.unifiedFieldListItemButton--withDragIcon:hover .unifiedFieldListItemButton__fieldIcon,.unifiedFieldListItemButton--withDragIcon[class*=-isActive] .unifiedFieldListItemButton__fieldIcon{opacity:0}.domDraggable__keyboardHandler:focus+.unifiedFieldListItemButton--withDragIcon .unifiedFieldListItemButton__fieldIconDrag,.unifiedFieldListItemButton--withDragIcon:hover .unifiedFieldListItemButton__fieldIconDrag,.unifiedFieldListItemButton--withDragIcon[class*=-isActive] .unifiedFieldListItemButton__fieldIconDrag{opacity:1}",""]),e.exports=t},296:function(e,t,i){switch(window.__kbnThemeTag__){case"v8dark":return i(297);case"v8light":return i(299)}},297:function(e,t,i){var n=i(82),o=i(298);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);n(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},298:function(e,t,i){(t=i(83)(!1)).push([e.i,".kbnFieldButton{align-items:flex-start;border-radius:6px;display:flex;font-size:14px;font-size:1rem;line-height:1.7142857143rem;margin-bottom:4px;padding:0 8px;transition:box-shadow .15s cubic-bezier(.694,.0482,.335,1),background-color .15s cubic-bezier(.694,.0482,.335,1)}.kbnFieldButton-isActive,.kbnFieldButton:focus-within{outline:2px solid currentColor}.kbnFieldButton-isActive:focus-visible,.kbnFieldButton:focus-within:focus-visible{outline-style:auto}.kbnFieldButton-isActive:not(:focus-visible),.kbnFieldButton:focus-within:not(:focus-visible){outline:none}.kbnFieldButton__button{align-items:flex-start;display:flex;flex-grow:1;line-height:normal;padding:8px 0;text-align:left}.kbnFieldButton__fieldIcon{flex-shrink:0;line-height:0}.kbnFieldButton__name{flex-grow:1;padding:0 8px}.kbnFieldButton__infoIcon{align-items:center;display:flex;flex-shrink:0;justify-content:center;line-height:0;min-height:16px}.kbnFieldButton__fieldAction{margin-left:8px}.kbnFieldButton__dragHandle{margin-right:8px}.kbnFieldButton__dragHandle,.kbnFieldButton__fieldAction{line-height:32px}.kbnFieldButton--xs{font-size:12px}.kbnFieldButton--xs .kbnFieldButton__button{padding:4px 0}.kbnFieldButton--xs .kbnFieldButton__fieldAction{margin-left:4px}.kbnFieldButton--xs .kbnFieldButton__dragHandle,.kbnFieldButton--xs .kbnFieldButton__fieldAction{line-height:24px}.kbnFieldButton--flushBoth{padding-left:0;padding-right:0}",""]),e.exports=t},299:function(e,t,i){var n=i(82),o=i(300);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);n(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},300:function(e,t,i){(t=i(83)(!1)).push([e.i,".kbnFieldButton{align-items:flex-start;border-radius:6px;display:flex;font-size:14px;font-size:1rem;line-height:1.7142857143rem;margin-bottom:4px;padding:0 8px;transition:box-shadow .15s cubic-bezier(.694,.0482,.335,1),background-color .15s cubic-bezier(.694,.0482,.335,1)}.kbnFieldButton-isActive,.kbnFieldButton:focus-within{outline:2px solid currentColor}.kbnFieldButton-isActive:focus-visible,.kbnFieldButton:focus-within:focus-visible{outline-style:auto}.kbnFieldButton-isActive:not(:focus-visible),.kbnFieldButton:focus-within:not(:focus-visible){outline:none}.kbnFieldButton__button{align-items:flex-start;display:flex;flex-grow:1;line-height:normal;padding:8px 0;text-align:left}.kbnFieldButton__fieldIcon{flex-shrink:0;line-height:0}.kbnFieldButton__name{flex-grow:1;padding:0 8px}.kbnFieldButton__infoIcon{align-items:center;display:flex;flex-shrink:0;justify-content:center;line-height:0;min-height:16px}.kbnFieldButton__fieldAction{margin-left:8px}.kbnFieldButton__dragHandle{margin-right:8px}.kbnFieldButton__dragHandle,.kbnFieldButton__fieldAction{line-height:32px}.kbnFieldButton--xs{font-size:12px}.kbnFieldButton--xs .kbnFieldButton__button{padding:4px 0}.kbnFieldButton--xs .kbnFieldButton__fieldAction{margin-left:4px}.kbnFieldButton--xs .kbnFieldButton__dragHandle,.kbnFieldButton--xs .kbnFieldButton__fieldAction{line-height:24px}.kbnFieldButton--flushBoth{padding-left:0;padding-right:0}",""]),e.exports=t},301:function(e,t,i){switch(window.__kbnThemeTag__){case"v8dark":return i(302);case"v8light":return i(304)}},302:function(e,t,i){var n=i(82),o=i(303);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);n(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},303:function(e,t,i){(t=i(83)(!1)).push([e.i,".unifiedFieldList__fieldPopover__fieldPopoverPanel{max-width:400px!important;min-width:260px!important}",""]),e.exports=t},304:function(e,t,i){var n=i(82),o=i(305);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);n(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},305:function(e,t,i){(t=i(83)(!1)).push([e.i,".unifiedFieldList__fieldPopover__fieldPopoverPanel{max-width:400px!important;min-width:260px!important}",""]),e.exports=t},306:function(e,t,i){switch(window.__kbnThemeTag__){case"v8dark":return i(307);case"v8light":return i(309)}},307:function(e,t,i){var n=i(82),o=i(308);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);n(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},308:function(e,t,i){(t=i(83)(!1)).push([e.i,".domDraggable{border-radius:6px;cursor:grab;transition:.15s ease-in-out;transition-property:background-color,border-color,opacity;z-index:1}.domDraggable:hover{transform:translateX(4px);transition:transform .35s ease-out}.domDraggable .euiLink,.domDraggable .kbnFieldButton__button{cursor:grab}.domDraggable:focus{outline:2px solid currentColor}.domDraggable:focus:focus-visible{outline-style:auto}.domDraggable:focus:not(:focus-visible){outline:none}.domDraggable--reorderable{position:relative;transform:translateY(0);transition:transform .15s ease-in-out;z-index:1}.domDraggable__keyboardHandler{border-radius:6px;height:100%;position:absolute;top:0;width:100%}.domDraggable__keyboardHandler:focus,.domDraggable__keyboardHandler:focus-within{outline:2px solid currentColor;pointer-events:none;z-index:2}.domDraggable__keyboardHandler:focus-within:focus-visible,.domDraggable__keyboardHandler:focus:focus-visible{outline-style:auto}.domDraggable__keyboardHandler:focus-within:not(:focus-visible),.domDraggable__keyboardHandler:focus:not(:focus-visible){outline:none}.domDraggable_active--move,.domDraggable_dragover_keyboard--move{opacity:0}",""]),e.exports=t},309:function(e,t,i){var n=i(82),o=i(310);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);n(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},310:function(e,t,i){(t=i(83)(!1)).push([e.i,".domDraggable{border-radius:6px;cursor:grab;transition:.15s ease-in-out;transition-property:background-color,border-color,opacity;z-index:1}.domDraggable:hover{transform:translateX(4px);transition:transform .35s ease-out}.domDraggable .euiLink,.domDraggable .kbnFieldButton__button{cursor:grab}.domDraggable:focus{outline:2px solid currentColor}.domDraggable:focus:focus-visible{outline-style:auto}.domDraggable:focus:not(:focus-visible){outline:none}.domDraggable--reorderable{position:relative;transform:translateY(0);transition:transform .15s ease-in-out;z-index:1}.domDraggable__keyboardHandler{border-radius:6px;height:100%;position:absolute;top:0;width:100%}.domDraggable__keyboardHandler:focus,.domDraggable__keyboardHandler:focus-within{outline:2px solid currentColor;pointer-events:none;z-index:2}.domDraggable__keyboardHandler:focus-within:focus-visible,.domDraggable__keyboardHandler:focus:focus-visible{outline-style:auto}.domDraggable__keyboardHandler:focus-within:not(:focus-visible),.domDraggable__keyboardHandler:focus:not(:focus-visible){outline:none}.domDraggable_active--move,.domDraggable_dragover_keyboard--move{opacity:0}",""]),e.exports=t},354:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i(206);function o(e){return{allowLeadingWildcards:e.get(n.a.QUERY_ALLOW_LEADING_WILDCARDS),queryStringOptions:e.get(n.a.QUERY_STRING_OPTIONS),ignoreFilterIfFieldNotInIndex:e.get(n.a.COURIER_IGNORE_FILTER_IF_FIELD_NOT_IN_INDEX),dateFormatTZ:e.get("dateFormat:tz")}}},355:function(e,t,i){"use strict";i.d(t,"a",(function(){return ErrorBoundary}));var n=i(0),o=i.n(n);class ErrorBoundary extends o.a.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}render(){return this.state.hasError?null:this.props.children}}},359:function(e,t,i){"use strict";i.r(t);var n=i(76),o=i.n(n),l=i(0),d=i.n(l),s=i(1),a=i(29),r=i(84),u=i.n(r),c=i(6),f=i(10),b=i(354),p=i(127),g=i(137);const m=Object(c.htmlIdGenerator)(),F=[],_={fetchStatus:g.a.unknown,existingFieldsByFieldNameMap:{},numberOfFetches:0},h=new f.BehaviorSubject({});let y="";async function j(e,t,n,o){const l=await(async()=>(await Promise.resolve().then(i.t.bind(null,33,7))).buildEsQuery)();try{return l(e,t,n,o)}catch(e){return{bool:{must_not:{match_all:{}}}}}}var x=i(33);const v=e=>{const{from:t,to:i}=e.getTime(),{min:n,max:o}=e.calculateBounds({from:t,to:i});return{fromDate:(null==n?void 0:n.toISOString())||t,toDate:(null==o?void 0:o.toISOString())||i}},O=({data:e,timeRangeUpdatesType:t="search-session"})=>{const i=e.query.timefilter.timefilter,[n,o]=Object(l.useState)((()=>{const t=e.query.getState(),n=v(i);return{query:null==t?void 0:t.query,filters:null==t?void 0:t.filters,fromDate:n.fromDate,toDate:n.toDate,searchMode:I(null==t?void 0:t.query)}}));return Object(l.useEffect)((()=>{if("search-session"!==t)return;const n=e.search.session.state$.subscribe((e=>{const t=v(i);o((e=>({...e,fromDate:t.fromDate,toDate:t.toDate})))}));return()=>n.unsubscribe()}),[o,i,e.search.session.state$,t]),Object(l.useEffect)((()=>{if("timefilter"!==t)return;const e=i.getTimeUpdate$().subscribe((()=>{const e=v(i);o((t=>({...t,fromDate:e.fromDate,toDate:e.toDate})))}));return()=>e.unsubscribe()}),[o,i,t]),Object(l.useEffect)((()=>{const t=e.query.state$.subscribe((({state:e,changes:t})=>{(t.query||t.filters)&&o((t=>({...t,query:e.query,filters:e.filters,searchMode:I(e.query)})))}));return()=>t.unsubscribe()}),[o,e.query.state$]),n};function I(e){if(e)return Object(x.isOfAggregateQueryType)(e)?"text-based":"documents"}i(286);var S=i(28),L=i(39),B=i.n(L);const w=e=>({bold:e.font.weight.bold,normal:e.font.weight.regular}),k=(e,{type:t,isDisabled:i,groupPosition:n})=>{const o=(({euiTheme:e})=>({default:{borderStyle:"solid",border:e.border.thin,borderColor:e.border.color},emptyButton:{backgroundColor:e.colors.emptyShade,border:`${e.border.thin}`,color:`${e.colors.text}`},buttonPositions:{left:{borderTopRightRadius:0,borderBottomRightRadius:0},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,borderLeft:"none"},center:{borderRadius:0,borderLeft:"none"}}}))(e),l=n&&"none"!==n?o.buttonPositions[n]:{},d={...o.default,...l};return i?d:{...d,..."primary"===t?{}:o.emptyButton}},D=({hasArrow:e=!0,fontWeight:t="normal",type:i,label:n,iconSide:l,iconType:d,fullWidth:s,isDisabled:a,groupPosition:r,...u})=>{const f=Object(c.useEuiTheme)(),b={...k(f,{type:i,isDisabled:a,groupPosition:r}),fontWeight:w(f.euiTheme)[t]},p=a?{}:"primary"===i?{color:"primary",fill:!0}:{color:"text"},g=null!=d?d:e?"arrowDown":"";return Object(S.jsx)(c.EuiButton,o()({size:u.size,isDisabled:a,css:b,iconType:g,iconSide:d?l:"right",fullWidth:s,contentProps:s?{style:{justifyContent:"space-between"}}:{}},p,u),n)},E=({size:e,type:t,label:i,isDisabled:n,groupPosition:l,...d})=>{const s=Object(c.useEuiTheme)(),a=k(s,{type:t,isDisabled:n,groupPosition:l});return Object(S.jsx)(c.EuiButtonIcon,o()({},d,{disabled:n,"aria-label":null!=i?i:d["aria-label"],size:e,iconSize:e,css:a,display:"primary"===t?"fill":"base",color:"primary"===t?"primary":"text"}))};function T(e){const{type:t="empty",size:i="m"}=e;return(e=>"iconButton"===e.as)(e)?Object(S.jsx)(E,o()({},e,{size:i,type:t})):Object(S.jsx)(D,o()({},e,{size:i,type:t}))}var A=i(70);i(72);const M={name:"zxsb69",styles:"position:relative;width:100%;height:100%"},C=({"data-test-subj":e="fieldList",isProcessing:t,prepend:i,append:n,className:o,children:l})=>Object(S.jsx)(c.EuiFlexGroup,{gutterSize:"none",direction:"column",responsive:!1,"data-test-subj":e,css:M,className:o},t&&Object(S.jsx)(c.EuiProgress,{size:"xs",color:"accent",position:"absolute","data-test-subj":`${e}Loading`}),!!i&&Object(S.jsx)(c.EuiFlexItem,{grow:!1},i),Object(S.jsx)(c.EuiFlexItem,{className:"unifiedFieldListSidebar__accordionContainer",grow:!0},l),!!n&&Object(S.jsx)(c.EuiFlexItem,{grow:!1},n)),P=()=>Object(S.jsx)(l.Fragment,null),N=d.a.lazy((()=>i.e(24).then(i.bind(null,369)))),R=function(e){return Object(S.jsx)(d.a.Suspense,{fallback:Object(S.jsx)(P,null)},Object(S.jsx)(N,e))},z=()=>Object(S.jsx)(l.Fragment,null),G=d.a.lazy((()=>i.e(10).then(i.bind(null,370)))),H=function(e){return Object(S.jsx)(d.a.Suspense,{fallback:Object(S.jsx)(z,null)},Object(S.jsx)(G,e))};var V=i(30);const W=Object(V.memoize)((function(e){const t=e.trim();let i=t.split(/[* ]+/).map(V.escapeRegExp).join(".*");return t.includes(" ")&&(i=".*"+i+".*"),new RegExp(i.includes("*")?`^${i}$`:i,"i")})),$=(e,t)=>{if(null==t||!t.trim())return!1;const i=W(t);return!!e.displayName&&i.test(e.displayName)||i.test(e.name)};function U(e,t){const i=(t||"").trim();return(i.includes("*")||i.includes(" "))&&$({name:e},i)?e:i}var q=i(213);const K=Object(c.htmlIdGenerator)("fieldList");const Y=new Intl.Collator(void 0,{sensitivity:"base"});function Q(e,t){return Y.compare(e.displayName||e.name,t.displayName||t.name)}function X(){return!0}s.i18n.translate("domDragDrop.announce.duplicate.short",{defaultMessage:" Hold alt or option to duplicate."}),s.i18n.translate("domDragDrop.announce.swap.short",{defaultMessage:" Hold shift to swap."}),s.i18n.translate("domDragDrop.announce.combine.short",{defaultMessage:" Hold control to combine"});const Z={dragging:void 0,hoveredDropTarget:void 0,keyboardMode:!1,dropTargetsByOrder:{},dataTestSubjPrefix:"domDragDrop"},J=d.a.createContext([Z,()=>{}]);function ee(e,t,i,n=(()=>!0),o=!1){if(!e)return;const l=[...Object.entries(e).filter((([e,t])=>t&&e!==i[0]&&n(t))).reduce(((e,t)=>{const[,i]=t;return i?e.find((([,e])=>(null==e?void 0:e.id)===i.id))?e:[...e,t]:e}),[]),i].sort((([e],[t])=>{const i=e.split(",").map((e=>Number(e))),n=t.split(",").map((e=>Number(e))),o=i.findIndex(((e,t)=>i[t]!==n[t]));return i[o]-n[o]}));let d=l.findIndex((([,e])=>"object"==typeof e&&(null==e?void 0:e.id)===(null==t?void 0:t.id)));-1===d&&(d=l.findIndex((([e])=>e===i[0])));const s=(l.length+d-1)%l.length,a=(d+1)%l.length;return l[o?s:a][1]}const te=d.a.createContext([{reorderedItems:[],direction:"-",draggingHeight:32,isReorderOn:!1},()=>()=>{}]);i(306);const ie=({reorderableGroup:e,...t})=>{const[{dragging:i,dropTargetsByOrder:n,hoveredDropTarget:l,keyboardMode:s,dataTestSubjPrefix:a},r]=function(){const e=d.a.useContext(J);if(void 0===e)throw new Error("useDragDropContext must be used within a <RootDragDropProvider/> or <ChildDragDropProvider/>");return e}();if(t.isDisabled)return t.children;const u=t.value.id===(null==i?void 0:i.id),c={...t,draggedItemProps:u?{keyboardMode:s,hoveredDropTarget:l,dropTargetsByOrder:n}:void 0,dataTestSubjPrefix:a,dndDispatch:r};return e&&e.length>1?Object(S.jsx)(le,o()({},c,{reorderableGroup:e})):Object(S.jsx)(oe,c)},ne=()=>{const e=window.getSelection();e&&e.removeAllRanges()},oe=Object(l.memo)((function({dataTestSubj:e,className:t,dragClassName:i,value:n,children:o,dndDispatch:d,order:s,draggedItemProps:a,dataTestSubjPrefix:r,dragType:u,onDragStart:f,onDragEnd:b,extraKeyboardHandler:p,ariaDescribedBy:g}){const{keyboardMode:m,hoveredDropTarget:F,dropTargetsByOrder:_}=a||{},h=Object(l.useCallback)((e=>{d(e?{type:"selectDropTarget",payload:{dropTarget:e,dragging:n}}:{type:"leaveDropTarget"})}),[d,n]),y=Object(l.useCallback)(((e,t)=>{const i=_&&Object.values(_).filter((t=>(null==t?void 0:t.id)===e));h(null==i?void 0:i[t])}),[_,h]),j=Object(l.useMemo)((()=>({onKeyDown:e=>{if(e.preventDefault(),"Alt"===e.key&&null!=F&&F.id)y(F.id,1);else if("Shift"===e.key&&null!=F&&F.id)y(F.id,2);else if("Control"===e.key&&null!=F&&F.id){const e=Number(F.humanData.canSwap)+Number(F.humanData.canDuplicate);y(F.id,e+1)}},onKeyUp:e=>{if(e.preventDefault(),null!=F&&F.id&&["Shift","Alt","Control"].includes(e.key))if(e.altKey)y(F.id,1);else if(e.shiftKey)y(F.id,2);else if(e.ctrlKey){const e=Number(F.humanData.canSwap)+Number(F.humanData.canDuplicate);y(F.id,e+1)}else y(F.id,0)}})),[F,y]),x=Object(l.useCallback)(((e,t)=>{if(e&&"dataTransfer"in e&&e.dataTransfer.getData("text"))return;e&&"dataTransfer"in e&&e.dataTransfer.setData("text",n.humanData.label);const l=null==e?void 0:e.currentTarget;null==f||f(null==e?void 0:e.currentTarget);const s=e.currentTarget;i&&!s.classList.contains(i)&&(s.classList.add(i),requestAnimationFrame((()=>{s.classList.remove(i)}))),setTimeout((()=>{d({type:"startDragging",payload:{...t?{keyboardMode:!0}:{},dragging:{...n,ghost:t?{children:o,className:B()(i),style:{width:l.offsetWidth,minHeight:null==l?void 0:l.offsetHeight,zIndex:1e3}}:void 0}}})}))}),[d,n,f]),v=Object(l.useCallback)((e=>{null==e||e.stopPropagation(),d({type:"endDragging",payload:{dragging:n}}),null==b||b()}),[d,n,b]),O="move"===u&&m&&F&&"reorder"!==F.dropType;return Object(S.jsx)("div",{className:B()(t,"domDraggable",{"domDraggable_active--move":a&&"move"===u&&!m,"domDraggable_dragover_keyboard--move":O,"domDraggable_active--copy":a&&"copy"===u&&!m,"domDraggable_dragover_keyboard--copy":m&&a&&F}),"data-test-subj":e||`${r}_domDraggable_${n.humanData.label}`,draggable:!0,onDragEnd:v,onDragStart:x,onMouseDown:ne},Object(S.jsx)(c.EuiScreenReaderOnly,{showOnFocus:!0},Object(S.jsx)("button",{"aria-label":n.humanData.label,"aria-describedby":g||`${r}-keyboardInstructions`,className:"domDraggable__keyboardHandler","data-test-subj":`${r}-keyboardHandler`,onBlur:e=>{a&&v()},onKeyDown:e=>{const{key:t}=e;t===c.keys.ENTER||t===c.keys.SPACE?(F&&(()=>{if(F){const{dropType:e,onDrop:t}=F;setTimeout((()=>{d({type:"dropToTarget",payload:{dragging:n,dropTarget:F}})})),t(n,e)}})(),a?v():x(e,!0)):t===c.keys.ESCAPE&&a&&(e.stopPropagation(),e.preventDefault(),v()),p&&p(e),m&&(c.keys.ARROW_LEFT!==t&&c.keys.ARROW_RIGHT!==t||((e,t=!1)=>{const i=ee(_,F,[s.join(",")],(e=>"reorder"!==(null==e?void 0:e.dropType)),t);"string"==typeof i||void 0===i?h(void 0):e.altKey?y(i.id,1):e.shiftKey?y(i.id,2):e.ctrlKey?y(i.id,3):h(i)})(e,!(c.keys.ARROW_LEFT!==t)),j.onKeyDown(e))},onKeyUp:j.onKeyUp})),o)})),le=Object(l.memo)((function(e){const[{isReorderOn:t,reorderedItems:i,direction:n},d]=Object(l.useContext)(te),{value:s,draggedItemProps:a,reorderableGroup:r,dndDispatch:u,dataTestSubjPrefix:f}=e,{keyboardMode:b,hoveredDropTarget:p,dropTargetsByOrder:g}=a||{},m=!!a,F=b?m&&(!p||r.some((e=>e.id===(null==p?void 0:p.id)))):m;Object(l.useEffect)((()=>()=>d({type:"dragEnd"})),[d]),Object(l.useEffect)((()=>{d({type:"setIsReorderOn",payload:F})}),[d,F]);const _=e=>{if(!e)return d({type:"reset"}),void u({type:"leaveDropTarget"});const t=r.findIndex((t=>t.id===e.id)),i=r.findIndex((e=>e.id===(null==s?void 0:s.id)));-1!==i&&(u({type:"selectDropTarget",payload:{dropTarget:e,dragging:s}}),d({type:"setReorderedItems",payload:{draggingIndex:i,droppingIndex:t,items:r}}))},h=b&&m&&i.length;return Object(S.jsx)("div",{"data-test-subj":`${f}-reorderableDrag`,className:B()({"domDraggable--reorderable":m,"domDraggable_active_keyboard--reorderable":b&&m}),style:h?{transform:`translateY(${"+"===n?"-":"+"}${i.reduce(((e,t)=>{var i;return e+(null!==(i=t.height)&&void 0!==i?i:0)+8}),0)}px)`}:void 0},Object(S.jsx)(oe,o()({},e,{ariaDescribedBy:`${f}-keyboardInstructionsWithReorder`,extraKeyboardHandler:i=>{if(t&&b){i.stopPropagation(),i.preventDefault();let t=r.findIndex((e=>e.id===s.id));if(p){const e=r.findIndex((e=>e.id===(null==p?void 0:p.id)));-1!==e&&(t=e)}if(i.key===c.keys.ARROW_LEFT||i.key===c.keys.ARROW_RIGHT)d({type:"reset"});else if(c.keys.ARROW_DOWN===i.key){if(t<r.length-1){const t=ee(g,p,[e.order.join(",")],(e=>"reorder"===(null==e?void 0:e.dropType)));_(t)}}else if(c.keys.ARROW_UP===i.key&&t>0){const t=ee(g,p,[e.order.join(",")],(e=>"reorder"===(null==e?void 0:e.dropType)),!0);_(t)}}},onDragStart:e=>{e&&setTimeout((()=>{d({type:"registerDraggingItemHeight",payload:e.clientHeight+8})}))},onDragEnd:()=>{d({type:"dragEnd"})}})))}));i(296);const de={xs:"kbnFieldButton--xs",s:"kbnFieldButton--s"};function se({size:e,isActive:t=!1,fieldIcon:i,fieldName:n,fieldInfoIcon:l,fieldAction:s,flush:a,className:r,dragHandle:u,onClick:c,dataTestSubj:f,buttonProps:b,...p}){const g=B()("kbnFieldButton",e?de[e]:null,{"kbnFieldButton-isActive":t,"kbnFieldButton--flushBoth":"both"===a},r),m=B()("kbn-resetFocusState","kbnFieldButton__button"),F=Object(S.jsx)(d.a.Fragment,null,i&&Object(S.jsx)("span",{className:"kbnFieldButton__fieldIcon"},i),n&&Object(S.jsx)("span",{className:"kbnFieldButton__name eui-textBreakAll"},Object(S.jsx)("span",{className:"kbnFieldButton__nameInner"},n)),l&&Object(S.jsx)("div",{className:"kbnFieldButton__infoIcon"},l));return Object(S.jsx)("div",o()({className:g},p),u&&Object(S.jsx)("div",{className:"kbnFieldButton__dragHandle"},u),c?Object(S.jsx)("button",o()({onClick:e=>{"click"===e.type&&e.currentTarget.focus(),c()},"data-test-subj":f,className:m},b),F):Object(S.jsx)("div",{className:m,"data-test-subj":f},F),s&&Object(S.jsx)("div",{className:"kbnFieldButton__fieldAction"},s))}Object.keys(de);var ae=i(190),re=i(351);i(291);const ue=Object(S.jsx)(c.EuiIcon,{type:"grabOmnidirectional",size:"m"});function ce({field:e,fieldSearchHighlight:t,isSelected:i,isActive:n,isEmpty:l,infoIcon:d,className:a,getCustomFieldType:r,dataTestSubj:u,size:f,withDragIcon:b,onClick:p,shouldAlwaysShowAction:g,buttonAddFieldToWorkspaceProps:m,buttonRemoveFieldFromWorkspaceProps:F,onAddFieldToWorkspace:_,onRemoveFieldFromWorkspace:h,...y}){var j,x;const v=e.displayName||e.name,O=v!==e.name&&"___records___"!==e.name?s.i18n.translate("unifiedFieldList.fieldItemButton.fieldTitle",{defaultMessage:"{fieldDisplayName} ({fieldName})",values:{fieldName:e.name,fieldDisplayName:v}}):v,I=r?{type:r(e)}:Object(ae.a)(e),L=I.type,w=B()("unifiedFieldListItemButton",{[`unifiedFieldListItemButton--${L}`]:L,"unifiedFieldListItemButton--exists":!l,"unifiedFieldListItemButton--missing":l,"unifiedFieldListItemButton--withDragIcon":Boolean(b)},a),k=null!==(j=null==m?void 0:m["aria-label"])&&void 0!==j?j:s.i18n.translate("unifiedFieldList.fieldItemButton.addFieldToWorkspaceLabel",{defaultMessage:'Add "{field}" field',values:{field:e.displayName}}),D=null!==(x=null==F?void 0:F["aria-label"])&&void 0!==x?x:s.i18n.translate("unifiedFieldList.fieldItemButton.removeFieldToWorkspaceLabel",{defaultMessage:'Remove "{field}" field',values:{field:e.displayName}}),E=B()("unifiedFieldListItemButton__action",{"unifiedFieldListItemButton__action--always":g}),T=i?h&&Object(S.jsx)(c.EuiToolTip,{key:`selected-to-remove-${e.name}-${D}`,content:D},Object(S.jsx)(c.EuiButtonIcon,o()({"data-test-subj":`fieldToggle-${e.name}`,"aria-label":D},F||{},{className:B()(E,null==F?void 0:F.className),color:"danger",iconType:"cross",onClick:t=>{t.preventDefault(),t.stopPropagation(),h(e)}}))):_&&Object(S.jsx)(c.EuiToolTip,{key:`deselected-to-add-${e.name}-${k}`,content:k},Object(S.jsx)(c.EuiButtonIcon,o()({"data-test-subj":`fieldToggle-${e.name}`,"aria-label":k},m||{},{className:B()(E,null==m?void 0:m.className),color:"text",iconType:"plusInCircle",onClick:t=>{t.preventDefault(),t.stopPropagation(),_(e)}}))),A="conflict"===e.type?Object(S.jsx)(fe,{conflictDescriptions:e.conflictDescriptions}):null;return Object(S.jsx)(se,o()({key:`field-item-button-${e.name}`,dataTestSubj:u||`field-${e.name}-showDetails`,size:f||"s",className:w,isActive:n,buttonProps:{"aria-label":s.i18n.translate("unifiedFieldList.fieldItemButton.ariaLabel",{defaultMessage:"Preview {fieldDisplayName}: {fieldType}",values:{fieldDisplayName:v,fieldType:r?r(e):e.type}})},fieldIcon:Object(S.jsx)("div",{className:"unifiedFieldListItemButton__fieldIconContainer"},Object(S.jsx)("div",{className:"unifiedFieldListItemButton__fieldIcon"},Object(S.jsx)(re.a,I)),b&&Object(S.jsx)("div",{className:"unifiedFieldListItemButton__fieldIconDrag"},ue)),fieldName:Object(S.jsx)(c.EuiHighlight,{search:U(v,t),title:O,"data-test-subj":`field-${e.name}`},v),fieldAction:T,fieldInfoIcon:A||d,onClick:p},y))}function fe({conflictDescriptions:e}){const t=e?Object.keys(e):[];return Object(S.jsx)(c.EuiToolTip,{position:"bottom",title:s.i18n.translate("unifiedFieldList.fieldItemButton.mappingConflictTitle",{defaultMessage:"Mapping Conflict"}),content:t.length?s.i18n.translate("unifiedFieldList.fieldItemButton.mappingConflictWithTypesDescription",{defaultMessage:"This field is defined as several types ({types}) across the indices that match this pattern. You may still be able to use this conflicting field, but it will be unavailable for functions that require Kibana to know their type. Correcting this issue will require reindexing your data.",values:{types:t.join(", ")}}):s.i18n.translate("unifiedFieldList.fieldItemButton.mappingConflictDescription",{defaultMessage:"This field is defined as several types (string, integer, etc) across the indices that match this pattern.You may still be able to use this conflicting field, but it will be unavailable for functions that require Kibana to know their type. Correcting this issue will require reindexing your data."})},Object(S.jsx)(c.EuiIcon,{tabIndex:0,type:"warning",size:"s"}))}var be=i(71);const pe=({field:e,visualizeInfo:t,handleVisualizeLinkClick:i,buttonProps:n})=>Object(S.jsx)(d.a.Fragment,null,Object(S.jsx)(c.EuiButton,o()({fullWidth:!0,size:"s","data-test-subj":`fieldVisualize-${e.name}`},n||{},{href:t.href,onClick:i}),Object(S.jsx)(a.FormattedMessage,{id:"unifiedFieldList.fieldVisualizeButton.label",defaultMessage:"Visualize"}))),ge=(s.i18n.translate("uiActions.triggers.rowClickTitle",{defaultMessage:"Table row click"}),s.i18n.translate("uiActions.triggers.rowClickkDescription",{defaultMessage:"A click on a table row"}),"VISUALIZE_FIELD_TRIGGER"),me={id:ge,title:"Visualize field",description:"Triggered when user wants to visualize a field."},Fe="VISUALIZE_GEO_FIELD_TRIGGER",_e={id:Fe,title:"Visualize Geo field",description:"Triggered when user wants to visualize a geo field."};s.i18n.translate("uiActions.triggers.dashboard.addPanelMenu.title",{defaultMessage:"Add panel menu"}),s.i18n.translate("uiActions.triggers.dashboard.addPanelMenu.description",{defaultMessage:"A new action will appear to the dashboard's add panel menu"});var he=i(97);function ye(e){return e===he.b.GEO_POINT||e===he.b.GEO_SHAPE?Fe:ge}async function je(e,t,i,n=[],o){return await e.getTriggerCompatibleActions(o,{dataViewSpec:i.toSpec(!1),fieldName:t,contextualFields:n})}const xe=d.a.memo((({field:e,dataView:t,contextualFields:i,trackUiMetric:n,multiFields:o,originatingApp:l,uiActions:d,buttonProps:s,visualizeInfo:a})=>a?Object(S.jsx)(pe,{field:e,visualizeInfo:a,handleVisualizeLinkClick:async e=>{var o;e.preventDefault(),o=t,null==n||n(be.METRIC_TYPE.CLICK,"visualize_link_click"),function(e,t,i=[],n,o){if(!o)return;const l=ye(t.type),d={dataViewSpec:o.toSpec(!1),fieldName:t.name,contextualFields:i,originatingApp:n};e.getTrigger(l).exec(d)}(d,a.field,i,l,o)},buttonProps:s}):null));var ve=i(355);const Oe=e=>{const[t,i]=Object(l.useState)(null);return Object(l.useEffect)((()=>{(async function(e){const t=await async function(e,t,i,n=[],o=[]){var l;if("_id"!==t.name&&null!=i&&i.id)for(const a of[t,...o]){if(!a.visualizable)continue;const t=await je(e,a.name,i,n,ye(a.type));if(t.length>0){var d,s;const e={dataViewSpec:null==i?void 0:i.toSpec(!1),fieldName:a.name,contextualFields:n,trigger:(l=a.type,l===he.b.GEO_POINT||l===he.b.GEO_SHAPE?_e:me)};return{field:a,href:await(null===(d=(s=t[0]).getHref)||void 0===d?void 0:d.call(s,e))}}}}(e.uiActions,e.field,e.dataView,e.contextualFields,e.multiFields);return t?Object(S.jsx)(xe,o()({},e,{visualizeInfo:t})):null})(e).then(i).catch((e=>{console.error(e)}))}),[e]),t?Object(S.jsx)(c.EuiPopoverFooter,null,t):null},Ie=e=>Object(S.jsx)(ve.a,null,Object(S.jsx)(Oe,e));i(301);const Se=({isOpen:e,closePopover:t,renderHeader:i,renderContent:n,...l})=>{let s=null,a=null;if(e){try{s=(null==i?void 0:i())||null}catch(e){console.error(e)}try{a=(null==n?void 0:n())||null}catch(e){console.error(e)}}return Object(S.jsx)(c.EuiPopover,o()({ownFocus:!0,isOpen:e,closePopover:t,display:"block",anchorPosition:"rightUp","data-test-subj":"fieldPopover",panelClassName:"unifiedFieldList__fieldPopover__fieldPopoverPanel"},l),e&&Object(S.jsx)(d.a.Fragment,null,a&&s?Object(S.jsx)(c.EuiPopoverTitle,null,s):s,a))},Le=({field:e,color:t,truncate:i=!0})=>{const{euiTheme:n}=Object(c.useEuiTheme)(),o=((null==e?void 0:e.customDescription)||"").trim(),a=Boolean(i&&o.length>110),[r,u]=Object(l.useState)(a);return o?Object(S.jsx)("div",{"data-test-subj":`fieldDescription-${e.name}`},r?Object(S.jsx)(c.EuiText,{color:t,size:"xs",className:"eui-textBreakWord eui-textLeft"},Object(S.jsx)("button",{"data-test-subj":`toggleFieldDescription-${e.name}`,title:s.i18n.translate("fieldUtils.fieldDescription.viewMoreButton",{defaultMessage:"View full field description"}),className:"eui-textBreakWord eui-textLeft",onClick:()=>u(!1),css:Object(S.css)("padding:0;margin:0;color:","subdued"===t?n.colors.subduedText:n.colors.text,";line-height:inherit;font-size:inherit;&:hover,&:active,&:focus{color:",n.colors.link,";}","")},Object(S.jsx)(c.EuiTextBlockTruncate,{lines:2},o))):Object(S.jsx)(d.a.Fragment,null,Object(S.jsx)(c.EuiText,{color:t,size:"xs",className:"eui-textBreakWord eui-textLeft"},o),a&&Object(S.jsx)(c.EuiButtonEmpty,{size:"xs",flush:"both","data-test-subj":`toggleFieldDescription-${e.name}`,onClick:()=>u(!0)},s.i18n.translate("fieldUtils.fieldDescription.viewLessButton",{defaultMessage:"View less"})))):null},Be=({field:e,closePopover:t,buttonAddFieldToWorkspaceProps:i,buttonAddFilterProps:n,buttonEditFieldProps:l,buttonDeleteFieldProps:a,onAddFieldToWorkspace:r,onAddFilter:u,onEditField:f,onDeleteField:b})=>{var p,g,m,F;if(!e)return null;const _=s.i18n.translate("unifiedFieldList.fieldPopover.addFieldToWorkspaceLabel",{defaultMessage:'Add "{field}" field',values:{field:e.displayName}}),h=s.i18n.translate("unifiedFieldList.fieldPopover.addExistsFilterLabel",{defaultMessage:"Filter for field present"}),y=s.i18n.translate("unifiedFieldList.fieldPopover.editFieldLabel",{defaultMessage:"Edit data view field"}),j=s.i18n.translate("unifiedFieldList.fieldPopover.deleteFieldLabel",{defaultMessage:"Delete data view field"});return Object(S.jsx)(d.a.Fragment,null,Object(S.jsx)(c.EuiFlexGroup,{alignItems:"center",gutterSize:"s",responsive:!1},Object(S.jsx)(c.EuiFlexItem,{grow:!0},Object(S.jsx)(c.EuiTitle,{size:"xxs","data-test-subj":"fieldPopoverHeader_fieldDisplayName"},Object(S.jsx)("h5",{className:"eui-textBreakWord"},e.displayName))),r&&Object(S.jsx)(c.EuiFlexItem,{grow:!1,"data-test-subj":"fieldPopoverHeader_addField"},Object(S.jsx)(c.EuiToolTip,{content:null!==(p=null==i?void 0:i["aria-label"])&&void 0!==p?p:_},Object(S.jsx)(c.EuiButtonIcon,o()({"data-test-subj":`fieldPopoverHeader_addField-${e.name}`,"aria-label":_},i||{},{iconType:"plusInCircle",onClick:()=>{t(),r(e)}})))),u&&e.filterable&&!e.scripted&&Object(S.jsx)(c.EuiFlexItem,{grow:!1,"data-test-subj":"fieldPopoverHeader_addExistsFilter"},Object(S.jsx)(c.EuiToolTip,{content:null!==(g=null==n?void 0:n["aria-label"])&&void 0!==g?g:h},Object(S.jsx)(c.EuiButtonIcon,o()({"data-test-subj":`fieldPopoverHeader_addExistsFilter-${e.name}`,"aria-label":h},n||{},{iconType:"filter",onClick:()=>{t(),u("_exists_",e.name,"+")}})))),f&&(e.isRuntimeField||!["unknown","unknown_selected"].includes(e.type))&&Object(S.jsx)(c.EuiFlexItem,{grow:!1,"data-test-subj":"fieldPopoverHeader_editField"},Object(S.jsx)(c.EuiToolTip,{content:null!==(m=null==l?void 0:l["aria-label"])&&void 0!==m?m:y},Object(S.jsx)(c.EuiButtonIcon,o()({"data-test-subj":`fieldPopoverHeader_editField-${e.name}`,"aria-label":y},l||{},{iconType:"pencil",onClick:()=>{t(),f(e.name)}})))),b&&e.isRuntimeField&&Object(S.jsx)(c.EuiFlexItem,{grow:!1,"data-test-subj":"fieldPopoverHeader_deleteField"},Object(S.jsx)(c.EuiToolTip,{content:null!==(F=null==a?void 0:a["aria-label"])&&void 0!==F?F:j},Object(S.jsx)(c.EuiButtonIcon,o()({"data-test-subj":`fieldPopoverHeader_deleteField-${e.name}`,"aria-label":j},a||{},{color:"danger",iconType:"trash",onClick:()=>{t(),b(e.name)}}))))),e.customDescription?Object(S.jsx)(d.a.Fragment,null,Object(S.jsx)(c.EuiSpacer,{size:"xs"}),Object(S.jsx)(Le,{field:e})):null)},we=()=>Object(S.jsx)(l.Fragment,null),ke=d.a.lazy((()=>Promise.all([i.e(6),i.e(23)]).then(i.bind(null,363)))),De=e=>Object(S.jsx)(d.a.Suspense,{fallback:Object(S.jsx)(we,null)},Object(S.jsx)(ke,e)),Ee=d.a.memo((({stateService:e,services:t,field:i,dataView:n,multiFields:o,onAddFilter:d})=>{var s;const a=O({data:t.data,timeRangeUpdatesType:e.creationOptions.timeRangeUpdatesType}),r=Object(l.useMemo)((()=>{var e;return(null==o?void 0:o.length)&&(null===(e=o.find((e=>e.field.aggregatable)))||void 0===e?void 0:e.field)||i}),[i,o]),u=Object(l.useMemo)((()=>({data:t.data,dataViews:t.dataViews,fieldFormats:t.fieldFormats,charts:t.charts,uiSettings:t.core.uiSettings})),[t]);return c=a,Boolean(c.query&&c.filters&&c.fromDate&&c.toDate&&c.searchMode)?Object(S.jsx)(De,{services:u,query:a.query,filters:a.filters,fromDate:a.fromDate,toDate:a.toDate,dataViewOrDataViewId:n,field:r,"data-test-subj":null===(s=e.creationOptions.dataTestSubj)||void 0===s?void 0:s.fieldListItemStatsDataTestSubj,onAddFilter:d}):null;var c}));var Te=i(125);function Ae({stateService:e,field:t,size:i,isSelected:n,toggleDisplay:o}){const l="_source"===t.name?void 0:e=>o(e,n);return{field:t,size:i,isSelected:n,buttonAddFieldToWorkspaceProps:e.creationOptions.buttonAddFieldToWorkspaceProps,buttonRemoveFieldFromWorkspaceProps:e.creationOptions.buttonRemoveFieldFromWorkspaceProps,onAddFieldToWorkspace:l,onRemoveFieldFromWorkspace:l}}const Me=Object(l.memo)((({stateService:e,multiFields:t,toggleDisplay:i,alwaysShowActionButton:n,size:l})=>Object(S.jsx)(d.a.Fragment,null,Object(S.jsx)(c.EuiTitle,{size:"xxxs"},Object(S.jsx)("h5",null,s.i18n.translate("unifiedFieldList.fieldListItem.multiFields",{defaultMessage:"Multi fields"}))),Object(S.jsx)(c.EuiSpacer,{size:"xs"}),t.map((t=>Object(S.jsx)(ce,o()({key:t.field.name,flush:"both",isEmpty:!1,isActive:!1,shouldAlwaysShowAction:n,onClick:void 0},Ae({stateService:e,field:t.field,isSelected:t.isSelected,toggleDisplay:i,size:l}))))))));function Ce({stateService:e,services:t,searchMode:i,alwaysShowActionButton:n=!1,field:s,highlight:a,dataView:r,onAddFieldToWorkspace:u,onRemoveFieldFromWorkspace:f,onAddFilter:b,isEmpty:p,isSelected:g,trackUiMetric:m,multiFields:F,onEditField:_,onDeleteField:h,workspaceSelectedFieldNames:y,groupIndex:j,itemIndex:x,size:v}){var O,I,L;const[B,w]=Object(l.useState)(!1),k=Object(l.useMemo)((()=>b?(...e)=>{w(!1),null==b||b(...e)}:void 0),[w,b]),D=Object(l.useCallback)((()=>{w((e=>!e))}),[w]),E=Object(l.useCallback)((()=>{w(!1)}),[w]),T=Object(l.useCallback)(((e,t)=>{E(),t?f(e):u(e)}),[u,f,E]),A=Object(l.useMemo)((()=>null==F?void 0:F.map((e=>e.field))),[F]),M=Object(l.useMemo)((()=>{var t;const i=null===(t=e.creationOptions.dataTestSubj)||void 0===t?void 0:t.fieldListItemPopoverHeaderDataTestSubjPrefix;return{buttonAddFieldToWorkspaceProps:e.creationOptions.buttonAddFieldToWorkspaceProps,...i&&{buttonAddFilterProps:{"data-test-subj":`${i}AddExistFilter-${s.name}`},buttonEditFieldProps:{"data-test-subj":`${i}Edit-${s.name}`},buttonDeleteFieldProps:{"data-test-subj":`${i}Delete-${s.name}`}}}}),[s.name,e.creationOptions]),C=Object(l.useMemo)((()=>({id:s.name,humanData:{label:s.displayName,position:x+1}})),[s,x]),P=Object(l.useMemo)((()=>[0,j,x]),[j,x]),N=n||e.creationOptions.disableFieldListItemDragAndDrop;return Object(S.jsx)(Se,{isOpen:B,button:Object(S.jsx)(ie,{dragType:"copy",dragClassName:"unifiedFieldListItemButton__dragging",order:P,value:C,onDragStart:E,isDisabled:N,dataTestSubj:`${null!==(O=null===(I=e.creationOptions.dataTestSubj)||void 0===I?void 0:I.fieldListItemDndDataTestSubjPrefix)&&void 0!==O?O:"unifiedFieldListItemDnD"}-${s.name}`},Object(S.jsx)(ce,o()({fieldSearchHighlight:a,isEmpty:p,isActive:B,withDragIcon:!N,flush:n?"both":void 0,shouldAlwaysShowAction:n,onClick:"_source"!==s.type?D:void 0},Ae({stateService:e,field:s,isSelected:g,toggleDisplay:T,size:v})))),closePopover:E,"data-test-subj":null===(L=e.creationOptions.dataTestSubj)||void 0===L?void 0:L.fieldListItemPopoverDataTestSubj,renderHeader:()=>Object(S.jsx)(Be,o()({field:s,closePopover:E,onAddFieldToWorkspace:g?void 0:T,onAddFilter:b,onEditField:_,onDeleteField:h},M)),renderContent:"text-based"===i&&Object(Te.e)(s)||"documents"===i?()=>Object(S.jsx)(d.a.Fragment,null,Object(S.jsx)(Ee,{stateService:e,services:t,field:s,multiFields:F,dataView:r,onAddFilter:k}),"documents"===i&&F&&Object(S.jsx)(d.a.Fragment,null,Object(S.jsx)(c.EuiSpacer,{size:"m"}),Object(S.jsx)(Me,{stateService:e,multiFields:F,alwaysShowActionButton:n,toggleDisplay:T,size:v})),"documents"===i&&!!t.uiActions&&Object(S.jsx)(Ie,{field:s,dataView:r,multiFields:A,trackUiMetric:m,contextualFields:y,originatingApp:e.creationOptions.originatingApp,uiActions:t.uiActions})):void 0})}const Pe=Object(l.memo)(Ce),Ne=({buttons:e,legend:t,buttonSize:i="m","data-test-subj":n})=>{const o=(({euiTheme:e})=>({button:{"&.euiButtonGroupButton":{backgroundColor:e.colors.emptyShade,border:`${e.border.thin} !important`,borderRight:"none !important","&:first-of-type":{borderTopLeftRadius:`${e.border.radius.medium} !important`,borderBottomLeftRadius:`${e.border.radius.medium} !important`},"&:last-of-type":{borderRight:`${e.border.thin} !important`,borderTopRightRadius:`${e.border.radius.medium} !important`,borderBottomRightRadius:`${e.border.radius.medium} !important`},":not(:first-child):not(.euiButtonGroupButton-isSelected):not(:disabled)":{boxShadow:"unset"}}},buttonGroup:{".euiButtonGroup__buttons":{borderRadius:`${e.border.radius.medium}`}}}))(Object(c.useEuiTheme)()),l=e.map(((e,t)=>{const{label:i,title:n=i,...l}=e;return{...l,"aria-label":null!=n?n:i,id:`${Object(c.htmlIdGenerator)()()}${t}`,label:i,title:n,css:[o.button]}}));return Object(S.jsx)(c.EuiButtonGroup,{"data-test-subj":n,buttonSize:i,legend:t,options:l,onChange:e=>{var t;null===(t=l.find((t=>t.id===e)))||void 0===t||t.onClick()},type:"multi",isIconOnly:!0,css:o.buttonGroup})},Re=({"data-test-subj":e="unifiedFieldListSidebar__toggle",isSidebarCollapsed:t,panelId:i,buttonSize:n,onChange:o})=>Object(S.jsx)("div",{"data-test-subj":e},Object(S.jsx)(Ne,{legend:s.i18n.translate("unifiedFieldList.fieldListSidebar.toggleSidebarLegend",{defaultMessage:"Toggle sidebar"}),buttonSize:n,buttons:[...t?[{label:s.i18n.translate("unifiedFieldList.fieldListSidebar.expandSidebarButton",{defaultMessage:"Show sidebar"}),iconType:"transitionLeftIn","data-test-subj":`${e}-expand`,"aria-expanded":!1,"aria-controls":i,onClick:()=>o(!1)}]:[{label:s.i18n.translate("unifiedFieldList.fieldListSidebar.collapseSidebarButton",{defaultMessage:"Hide sidebar"}),iconType:"transitionLeftOut","data-test-subj":`${e}-collapse`,"aria-expanded":!0,"aria-controls":i,onClick:()=>o(!0)}]]}));var ze=i(62);const Ge={selectedFields:[],selectedFieldsMap:{}},He=({stateService:e,searchMode:t,services:i,workspaceSelectedFieldNames:n,isProcessing:d,alwaysShowActionButton:a,buttonAddFieldVariant:r,isSidebarCollapsed:u,allFields:f,dataView:b,trackUiMetric:p,showFieldList:m=!0,compressed:y=!0,fullWidth:j,isAffectedByGlobalFilter:x,prepend:v,onAddFieldToWorkspace:O,onRemoveFieldFromWorkspace:I,onAddFilter:L,onSelectedFieldFilter:w,onEditField:k,onDeleteField:D,onToggleSidebar:E,additionalFieldGroups:A})=>{var M,P,N,z,G,W,U;const{dataViews:Y,core:Z}=i,J=Object(l.useMemo)((()=>!Z.uiSettings.get("discover:searchFieldsFromSource")),[Z.uiSettings]),[ee,te]=Object(l.useState)(Ge),[ie,ne]=Object(l.useState)(void 0);Object(l.useEffect)((()=>{const e=function({dataView:e,workspaceSelectedFieldNames:t,allFields:i,searchMode:n}){const o={selectedFields:[],selectedFieldsMap:{}};if(!(t&&Array.isArray(t)&&t.length&&i))return Ge;for(const d of t){var l;const t="documents"===n&&(null==e||null===(l=e.getFieldByName)||void 0===l?void 0:l.call(e,d))||i.find((e=>e.name===d))||{name:d,displayName:d,type:"unknown_selected"};o.selectedFields.push(t),o.selectedFieldsMap[t.name]=!0}return o.selectedFields=Object(V.uniqBy)(o.selectedFields,"name"),1===o.selectedFields.length&&"_source"===o.selectedFields[0].name?Ge:o}({dataView:b,workspaceSelectedFieldNames:w?[]:n,allFields:f,searchMode:t});te(e)}),[b,n,te,f,t,w]);const oe=Object(l.useMemo)((()=>Z.uiSettings.get("fields:popularLimit")),[Z.uiSettings]),le=Object(l.useCallback)((i=>function(e,t,i){return!(null==e||!e.type||"_source"===e.type||"text-based"!==t&&!i&&Object(ze.getFieldSubtypeMulti)(null==e?void 0:e.spec))}(i,t,e.creationOptions.disableMultiFieldsGroupingByParent)),[t,e.creationOptions.disableMultiFieldsGroupingByParent]),{fieldListFiltersProps:de,fieldListGroupedProps:se,allFieldsModified:ae}=function({dataViewId:e,allFields:t,services:i,isAffectedByGlobalFilter:n=!1,popularFieldsLimit:o,sortedSelectedFields:d,getCustomFieldType:a,onOverrideFieldGroupDetails:r,onSupportedFieldFilter:u,onSelectedFieldFilter:c,getNewFieldsBySpec:f,additionalFieldGroups:b}){const p=(()=>{const e=Object(l.useRef)(!0),[t,i]=Object(l.useState)(h.getValue());Object(l.useEffect)((()=>{const t=h.subscribe((t=>{e.current&&Object.keys(t).length>0&&i((e=>({...e,...t})))}));return()=>{t.unsubscribe()}}),[i,e]);const n=Object(l.useCallback)(((e,i)=>{const n=t[e];return(null==n?void 0:n.fetchStatus)!==g.a.succeeded||(null==n?void 0:n.hasDataViewRestrictions)||Boolean(null==n?void 0:n.existingFieldsByFieldNameMap[i])}),[t]),o=Object(l.useCallback)((e=>{const i=t[e];var n;return(null==i?void 0:i.fetchStatus)===g.a.succeeded&&null!==(n=null==i?void 0:i.newFields)&&void 0!==n?n:F}),[t]),d=Object(l.useCallback)((e=>e?t[e]:_),[t]),s=Object(l.useCallback)((e=>{var t;return(null===(t=d(e))||void 0===t?void 0:t.fetchStatus)||g.a.unknown}),[d]),a=Object(l.useCallback)((e=>{const t=d(e);return Boolean((null==t?void 0:t.fetchStatus)===g.a.failed||(null==t?void 0:t.hasDataViewRestrictions))}),[d]);return Object(l.useEffect)((()=>()=>{e.current=!1}),[e]),Object(l.useMemo)((()=>({hasFieldData:n,getFieldsExistenceStatus:s,isFieldsExistenceInfoUnavailable:a,getNewFields:o})),[n,s,a,o])})(),m=function({allFields:e,getCustomFieldType:t,onSupportedFieldFilter:i,services:n}){const[o,d]=Object(l.useState)([]),[s,a]=Object(l.useState)(""),r=Object(l.useMemo)((()=>K()),[]),u=n.core.docLinks;return Object(l.useMemo)((()=>{const n=s.trim().toLowerCase();return{fieldSearchHighlight:n,fieldListFiltersProps:{docLinks:u,selectedFieldTypes:o,allFields:e,getCustomFieldType:t,onSupportedFieldFilter:i,onChangeFieldTypes:d,nameFilter:s,onChangeNameFilter:a,screenReaderDescriptionId:r},onFilterField:null!=n&&n.length||o.length>0?e=>!(n&&!$(e,n))&&(!(o.length>0)||o.includes(Object(q.a)(e,t))):void 0}}),[u,o,e,t,i,d,s,a,r])}({allFields:t,services:i,getCustomFieldType:a,onSupportedFieldFilter:u}),y=m.onFilterField,[j,x]=Object(l.useState)(null),v=Boolean(null==j?void 0:j.timeFieldName),O=!e||p.isFieldsExistenceInfoUnavailable(e),I=e?p.hasFieldData:X;Object(l.useEffect)((()=>{(async()=>{if(e){let t=null;try{t=await i.dataViews.get(e,!1)}catch(e){}x(t||null)}else x(null)})()}),[e,i.dataViews,x,I]);const{allFieldsModified:S,hasNewFields:L}=function({dataView:e,allFields:t,getNewFieldsBySpec:i,fieldsExistenceReader:n}){const o=null==e?void 0:e.id,d=Object(l.useMemo)((()=>{const o=t&&null!=e&&e.id&&i?i(n.getNewFields(null==e?void 0:e.id),e):null;return null!=o&&o.length?o:null}),[t,e,n,i]),s=Boolean(t&&d&&d.length>0);return{allFieldsModified:Object(l.useMemo)((()=>t&&null!=d&&d.length&&o?[...t.filter((e=>!d.some((t=>t.name===e.name)))),...d]:t),[d,t,o]),hasNewFields:s}}({dataView:j,allFields:t,getNewFieldsBySpec:f,fieldsExistenceReader:p});Object(l.useEffect)((()=>{j&&!e&&x(null)}),[j,x,e]);const B=Object(l.useMemo)((()=>Date.now()),[e,y]),w=Object(l.useMemo)((()=>{const t=d||[],i=[...S||[]].sort(Q),l={specialFields:[],availableFields:[],emptyFields:[],metaFields:[],unmappedFields:[],skippedFields:[],...Object(V.groupBy)(i,(i=>{var n;return!d&&c&&c(i)&&t.push(i),u&&!u(i)?"skippedFields":"document"===i.type?"specialFields":null!=j&&null!==(n=j.metaFields)&&void 0!==n&&n.includes(i.name)?"metaFields":"nested"===i.type?"availableFields":null!=i&&i.isNull?"emptyFields":null!=j&&j.getFieldByName&&!j.getFieldByName(i.name)?"unmappedFields":(t=>!e||I(e,t.name))(i)||O?"availableFields":"emptyFields"}))},a=o?i.filter((e=>e.count&&"_source"!==e.type&&(!u||u(e)))).sort(((e,t)=>(t.count||0)-(e.count||0))).slice(0,o):[],f=(null==b?void 0:b.smartFields)||[];let p={SpecialFields:{fields:l.specialFields,fieldCount:l.specialFields.length,isAffectedByGlobalFilter:!1,isAffectedByTimeFilter:!1,isInitiallyOpen:!1,showInAccordion:!1,title:"",hideDetails:!0},SelectedFields:{fields:t,fieldCount:t.length,isInitiallyOpen:!0,showInAccordion:!0,title:s.i18n.translate("unifiedFieldList.useGroupedFields.selectedFieldsLabel",{defaultMessage:"Selected fields"}),isAffectedByGlobalFilter:n,isAffectedByTimeFilter:v,hideDetails:!1,hideIfEmpty:!0},PopularFields:{fields:a,fieldCount:a.length,isInitiallyOpen:!0,showInAccordion:!0,title:s.i18n.translate("unifiedFieldList.useGroupedFields.popularFieldsLabel",{defaultMessage:"Popular fields"}),helpText:s.i18n.translate("unifiedFieldList.useGroupedFields.popularFieldsLabelHelp",{defaultMessage:"Fields that your organization frequently uses, from most to least popular."}),isAffectedByGlobalFilter:n,isAffectedByTimeFilter:v,hideDetails:!1,hideIfEmpty:!0},AvailableFields:{fields:l.availableFields,fieldCount:l.availableFields.length,isInitiallyOpen:!0,showInAccordion:!0,title:e&&O?s.i18n.translate("unifiedFieldList.useGroupedFields.allFieldsLabel",{defaultMessage:"All fields"}):s.i18n.translate("unifiedFieldList.useGroupedFields.availableFieldsLabel",{defaultMessage:"Available fields"}),isAffectedByGlobalFilter:n,isAffectedByTimeFilter:v,hideDetails:O,defaultNoFieldsMessage:s.i18n.translate("unifiedFieldList.useGroupedFields.noAvailableDataLabel",{defaultMessage:"There are no available fields that contain data."})},UnmappedFields:{fields:l.unmappedFields,fieldCount:l.unmappedFields.length,isAffectedByGlobalFilter:n,isAffectedByTimeFilter:v,isInitiallyOpen:!1,showInAccordion:!0,hideDetails:!1,hideIfEmpty:!0,title:s.i18n.translate("unifiedFieldList.useGroupedFields.unmappedFieldsLabel",{defaultMessage:"Unmapped fields"}),helpText:s.i18n.translate("unifiedFieldList.useGroupedFields.unmappedFieldsLabelHelp",{defaultMessage:"Fields that aren't explicitly mapped to a field data type."})},EmptyFields:{fields:l.emptyFields,fieldCount:l.emptyFields.length,isAffectedByGlobalFilter:!1,isAffectedByTimeFilter:!1,isInitiallyOpen:!1,showInAccordion:!0,hideDetails:!1,hideIfEmpty:!0,title:s.i18n.translate("unifiedFieldList.useGroupedFields.emptyFieldsLabel",{defaultMessage:"Empty fields"}),helpText:s.i18n.translate("unifiedFieldList.useGroupedFields.emptyFieldsLabelHelp",{defaultMessage:"Fields that don't have any values based on your filters."}),defaultNoFieldsMessage:s.i18n.translate("unifiedFieldList.useGroupedFields.noEmptyDataLabel",{defaultMessage:"There are no empty fields."})},MetaFields:{fields:l.metaFields,fieldCount:l.metaFields.length,isAffectedByGlobalFilter:!1,isAffectedByTimeFilter:!1,isInitiallyOpen:!1,showInAccordion:!0,hideDetails:!1,hideIfEmpty:!e,title:s.i18n.translate("unifiedFieldList.useGroupedFields.metaFieldsLabel",{defaultMessage:"Meta fields"}),defaultNoFieldsMessage:s.i18n.translate("unifiedFieldList.useGroupedFields.noMetaDataLabel",{defaultMessage:"There are no meta fields."})},SmartFields:{fields:f,fieldCount:f.length,isAffectedByGlobalFilter:!1,isAffectedByTimeFilter:!1,isInitiallyOpen:!0,showInAccordion:!0,hideDetails:!1,hideIfEmpty:!0,title:s.i18n.translate("unifiedFieldList.useGroupedFields.smartFieldsLabel",{defaultMessage:"Smart fields"})}};const g=e&&O,m=!e&&!l.emptyFields.length;return(g||m)&&delete p.EmptyFields,r&&(p=Object.keys(p).reduce(((e,t)=>{const i=t,n=p[i];return n&&(e[i]={...n,...r(i)||{}}),e}),{})),p}),[S,u,c,r,j,e,I,O,n,v,o,d,b]),k=Object(l.useMemo)((()=>y?Object.fromEntries(Object.entries(w).map((([e,t])=>[e,{...t,fieldSearchHighlight:m.fieldSearchHighlight,fields:t.fields.filter(y)}]))):w),[w,y,m.fieldSearchHighlight]),D=Boolean(t),E=null==t?void 0:t.length,T=Object(l.useMemo)((()=>!e||Boolean(E)),[e,E]),A=Object(l.useMemo)((()=>D?e&&p?p.getFieldsExistenceStatus(e):g.a.succeeded:g.a.unknown),[e,D,p]),M=m.fieldListFiltersProps.screenReaderDescriptionId;return{fieldListGroupedProps:Object(l.useMemo)((()=>({fieldGroups:k,scrollToTopResetCounter:B,fieldsExistInIndex:T,fieldsExistenceStatus:A,screenReaderDescriptionId:M})),[k,B,T,A,M]),fieldListFiltersProps:m.fieldListFiltersProps,allFieldsModified:S,hasNewFields:L}}({dataViewId:"documents"===t&&(null==b?void 0:b.id)||null,allFields:f,popularFieldsLimit:"documents"!==t||e.creationOptions.disablePopularFields?0:oe,isAffectedByGlobalFilter:x,services:{dataViews:Y,core:Z},sortedSelectedFields:w?void 0:ee.selectedFields,onSelectedFieldFilter:w,onSupportedFieldFilter:null!==(M=e.creationOptions.onSupportedFieldFilter)&&void 0!==M?M:le,onOverrideFieldGroupDetails:e.creationOptions.onOverrideFieldGroupDetails,getNewFieldsBySpec:We,additionalFieldGroups:A});Object(l.useEffect)((()=>{"documents"!==t||!J||e.creationOptions.disableMultiFieldsGroupingByParent?ne(void 0):ne(function(e,t){if(!e)return;const i=new Map;return e.forEach((e=>{var n;const o=function(e){return function(e){var t;const i=null==e?void 0:e.subType;return!(null==i||null===(t=i.multi)||void 0===t||!t.parent)}(e)?e.subType:void 0}(e),l=null==o?void 0:o.multi.parent;if(!l)return;const d={field:e,isSelected:Boolean(null==t?void 0:t[e.name])},s=null!==(n=i.get(l))&&void 0!==n?n:[];s.push(d),i.set(l,s)})),i}(ae,ee.selectedFieldsMap))}),[e.creationOptions.disableMultiFieldsGroupingByParent,ee.selectedFieldsMap,ae,J,ne,t]);const re=Object(l.useCallback)((({field:o,groupName:l,groupIndex:d,itemIndex:s,fieldSearchHighlight:r})=>Object(S.jsx)("li",{key:`field${o.name}`,"data-attr-field":o.name},Object(S.jsx)(Pe,{stateService:e,searchMode:t,services:i,alwaysShowActionButton:a,field:o,size:y?"xs":"s",highlight:r,dataView:b,onAddFieldToWorkspace:O,onRemoveFieldFromWorkspace:I,onAddFilter:L,trackUiMetric:p,multiFields:null==ie?void 0:ie.get(o.name),onEditField:k,onDeleteField:D,workspaceSelectedFieldNames:n,groupIndex:d,itemIndex:s,isEmpty:l===g.b.EmptyFields,isSelected:l===g.b.SelectedFields||Boolean(ee.selectedFieldsMap[o.name])}))),[e,t,i,a,y,b,O,I,L,p,ie,k,D,n,ee.selectedFieldsMap]),{euiTheme:ue}=Object(c.useEuiTheme)();if(!b)return null;const ce={className:B()("unifiedFieldListSidebar",{"unifiedFieldListSidebar--collapsed":u,"unifiedFieldListSidebar--fullWidth":j}),"aria-label":s.i18n.translate("unifiedFieldList.fieldListSidebar.fieldsSidebarAriaLabel",{defaultMessage:"Fields"}),id:null!==(P=null===(N=e.creationOptions.dataTestSubj)||void 0===N?void 0:N.fieldListSidebarDataTestSubj)&&void 0!==P?P:"unifiedFieldListSidebarId","data-test-subj":null!==(z=null===(G=e.creationOptions.dataTestSubj)||void 0===G?void 0:G.fieldListSidebarDataTestSubj)&&void 0!==z?z:"unifiedFieldListSidebarId"},fe="boolean"==typeof u&&E?Object(S.jsx)(Re,{buttonSize:y?"s":"m",isSidebarCollapsed:u,panelId:ce.id,onChange:E}):null;if(u&&fe)return Object(S.jsx)(c.EuiHideFor,{sizes:["xs","s"]},Object(S.jsx)("div",ce,fe));const be="toolbar"===r,pe={size:"s",iconType:"indexOpen","data-test-subj":null!==(W=null===(U=e.creationOptions.dataTestSubj)||void 0===U?void 0:U.fieldListAddFieldButtonTestSubj)&&void 0!==W?W:"unifiedFieldListAddField",className:"unifiedFieldListSidebar__addBtn"},ge=s.i18n.translate("unifiedFieldList.fieldListSidebar.addFieldButtonLabel",{defaultMessage:"Add a field"});return Object(S.jsx)(c.EuiPageSidebar,ce,Object(S.jsx)(c.EuiFlexGroup,{className:"unifiedFieldListSidebar__group",direction:"column",alignItems:"stretch",gutterSize:"none",responsive:!1},Boolean(v)&&Object(S.jsx)(c.EuiFlexItem,{grow:!1,css:Object(S.css)("margin-bottom:",ue.size.s,";","")},v),Object(S.jsx)(c.EuiFlexItem,null,Object(S.jsx)(C,{isProcessing:d,prepend:Object(S.jsx)(c.EuiFlexGroup,{direction:"row",gutterSize:"s",responsive:!1},fe&&Object(S.jsx)(c.EuiFlexItem,{grow:!1},fe),Object(S.jsx)(c.EuiFlexItem,null,Object(S.jsx)(R,o()({},de,{compressed:y})))),className:"unifiedFieldListSidebar__list"},m?Object(S.jsx)(H,o()({},se,{renderFieldItem:re,localStorageKeyPrefix:e.creationOptions.localStorageKeyPrefix})):Object(S.jsx)(c.EuiFlexItem,{grow:!0}))),!!k&&Object(S.jsx)(c.EuiFlexItem,{grow:!1,css:be?Object(S.css)("padding:",ue.size.s,";border-top:",ue.border.thin,";",""):void 0},be?Object(S.jsx)(T,o()({},pe,{label:ge,onClick:()=>k()})):Object(S.jsx)(c.EuiButton,o()({},pe,{onClick:()=>k()}),ge))))},Ve=Object(l.memo)(He);function We(e){return e.map((e=>new A.DataViewField(e)))}const $e=Object(l.memo)(Object(l.forwardRef)((function(e,t){var n,r,F;const{getCreationOptions:x,services:v,dataView:I,workspaceSelectedFieldNames:L,prependInFlyout:B,variant:w="responsive",onFieldEdited:k}=e,[D]=Object(l.useState)((({options:e})=>({creationOptions:e}))({options:x()})),{data:E,dataViewFieldEditor:T}=v,[A,M]=Object(l.useState)(!1),[C]=Object(l.useState)((()=>(({localStorageKey:e})=>{const t=new f.BehaviorSubject(!!e&&function(e){let t=!1;try{var i;t="true"===(null===(i=localStorage)||void 0===i?void 0:i.getItem(e))}catch{}return t}(e));return{isCollapsed$:t,toggle:i=>{t.next(i),e&&function(e,t){try{var i;null===(i=localStorage)||void 0===i||i.setItem(e,String(t))}catch{}}(e,i)}}})({localStorageKey:D.creationOptions.localStorageKeyPrefix?`${D.creationOptions.localStorageKeyPrefix}:sidebarClosed`:void 0}))),P=u()(C.isCollapsed$,!1),N=Boolean(null==T?void 0:T.userPermissions.editIndexPattern())||Boolean(I&&!I.isPersisted()),R=Object(l.useRef)(),z=Object(l.useCallback)((e=>{R.current=e}),[]),G=Object(l.useCallback)((()=>{M(!1)}),[]),H=O({data:E,timeRangeUpdatesType:D.creationOptions.timeRangeUpdatesType}),V=H.searchMode,W=Boolean(null===(n=H.filters)||void 0===n?void 0:n.length),{isProcessing:$,refetchFieldsExistenceInfo:U}=(e=>{const t=Object(l.useRef)(!0),[n,o]=Object(l.useState)(0),d=n>0,s=Object(l.useCallback)((async({dataViewId:e,query:n,filters:l,fromDate:d,toDate:s,services:{dataViews:a,data:r,core:u},onNoData:c,fetchId:f})=>{var p,m,F,x,v;if(!(e&&n&&d&&s))return;const O=null===(p=h.getValue())||void 0===p?void 0:p[e];if(!t.current)return;const I=(null!==(m=null==O?void 0:O.numberOfFetches)&&void 0!==m?m:0)+1;let S=null;try{S=await a.get(e,!1)}catch(e){}if(null===(F=S)||void 0===F||!F.title)return;o((e=>e+1));const L=Boolean(null===(x=(v=S).getAggregationRestrictions)||void 0===x?void 0:x.call(v)),B={..._,numberOfFetches:I};if(L)B.fetchStatus=g.a.succeeded,B.hasDataViewRestrictions=!0;else try{const t=await(async e=>{const{loadFieldExisting:t}=await i.e(27).then(i.bind(null,373));return await t(e)})({dslQuery:await j(S,n,l||[],Object(b.a)(u.uiSettings)),fromDate:d,toDate:s,timeFieldName:S.timeFieldName,data:r,uiSettingsClient:u.uiSettings,dataViewsService:a,dataView:S}),o=(null==t?void 0:t.existingFieldNames)||[];c&&1===I&&!o.filter((e=>{var t,i;return!(null!==(t=S)&&void 0!==t&&null!==(i=t.metaFields)&&void 0!==i&&i.includes(e))})).length&&c(e),B.existingFieldsByFieldNameMap=o.reduce(((e,t)=>(e[t]=!0,e)),{}),B.newFields=t.newFields,B.fetchStatus=g.a.succeeded}catch(e){B.fetchStatus=g.a.failed}t.current&&f===y&&h.next({...h.getValue(),[e]:B}),o((e=>e-1))}),[t,o]),a=e.dataViews.map((e=>{var t,i;return`${e.id}:${e.title}:${e.timeFieldName||"no-timefield"}:${null!==(t=null===(i=e.fields)||void 0===i?void 0:i.length)&&void 0!==t?t:0}`})).join(","),r=Object(l.useCallback)((async t=>{const i=window.performance.now(),n="fetchFieldsExistenceInfo",o=m();y=o;const l={fetchId:o,dataViewId:t,...e};if(t)return await s({...l,dataViewId:t}),void Object(p.b)(e.services.core.analytics,{eventName:n,duration:window.performance.now()-i,meta:{dataViewsCount:1}});await Promise.all(e.dataViews.map((e=>s({...l,dataViewId:e.id})))),Object(p.b)(e.services.core.analytics,{eventName:n,duration:window.performance.now()-i,meta:{dataViewsCount:e.dataViews.length}})}),[s,a,e.query,e.filters,e.fromDate,e.toDate,e.services.core]);return Object(l.useEffect)((()=>{e.disableAutoFetching||r()}),[r,e.disableAutoFetching]),Object(l.useEffect)((()=>()=>{t.current=!1,h.next({})}),[t]),Object(l.useMemo)((()=>({refetchFieldsExistenceInfo:r,isProcessing:d})),[r,d])})({disableAutoFetching:D.creationOptions.disableFieldsExistenceAutoFetching,dataViews:"documents"===V&&I?[I]:[],query:H.query,filters:H.filters,fromDate:H.fromDate,toDate:H.toDate,services:v}),q=Object(l.useMemo)((()=>I&&T&&"documents"===V&&N?async e=>{const t=await T.openEditor({ctx:{dataView:I},fieldName:e,onSave:async()=>{k&&await k({editedFieldName:e})}});z(t),G()}:void 0),[V,N,T,I,z,G,k]),K=Object(l.useMemo)((()=>I&&T&&q?e=>{const t=T.openDeleteModal({ctx:{dataView:I},fieldName:e,onDelete:async()=>{k&&await k({removedFieldName:e})}});z(t),G()}:void 0),[I,z,q,G,T,k]);if(Object(l.useEffect)((()=>()=>{null!=R&&R.current&&(null==R||R.current())}),[]),Object(l.useImperativeHandle)(t,(()=>({sidebarVisibility:C,refetchFieldsExistenceInfo:U,closeFieldListFlyout:G,createField:q,editField:q,deleteField:K})),[C,U,G,q,K]),!I)return null;const Y={...e,searchMode:V,stateService:D,isProcessing:$,isAffectedByGlobalFilter:W,onEditField:q,onDeleteField:K,compressed:null!==(r=D.creationOptions.compressed)&&void 0!==r&&r,buttonAddFieldVariant:null!==(F=D.creationOptions.buttonAddFieldVariant)&&void 0!==F?F:"primary"};D.creationOptions.showSidebarToggleButton&&(Y.isSidebarCollapsed=P,Y.onToggleSidebar=C.toggle);const Q=D.creationOptions.buttonPropsToTriggerFlyout,X=()=>Object(S.jsx)(Ve,Y),Z=()=>Object(S.jsx)(d.a.Fragment,null,Object(S.jsx)("div",{className:"unifiedFieldListSidebar__mobile"},Object(S.jsx)(c.EuiButton,o()({},Q,{contentProps:{...null==Q?void 0:Q.contentProps,className:"unifiedFieldListSidebar__mobileButton"},fullWidth:!0,onClick:()=>M(!0)}),Object(S.jsx)(a.FormattedMessage,{id:"unifiedFieldList.fieldListSidebar.fieldsMobileButtonLabel",defaultMessage:"Fields"}),Object(S.jsx)(c.EuiBadge,{className:"unifiedFieldListSidebar__mobileBadge",color:"_source"===(null==L?void 0:L[0])?"default":"accent"},null!=L&&L.length&&"_source"!==L[0]?L.length:0))),A&&Object(S.jsx)(c.EuiPortal,null,Object(S.jsx)(c.EuiFlyout,{size:"s",onClose:()=>M(!1),"aria-labelledby":"flyoutTitle",ownFocus:!0},Object(S.jsx)(c.EuiFlyoutHeader,{hasBorder:!0},Object(S.jsx)(c.EuiTitle,{size:"s"},Object(S.jsx)("h2",{id:"flyoutTitle"},Object(S.jsx)(c.EuiLink,{color:"text",onClick:()=>M(!1)},Object(S.jsx)(c.EuiIcon,{className:"eui-alignBaseline","aria-label":s.i18n.translate("unifiedFieldList.fieldListSidebar.flyoutBackIcon",{defaultMessage:"Back"}),type:"arrowLeft"})," ",Object(S.jsx)("strong",null,s.i18n.translate("unifiedFieldList.fieldListSidebar.flyoutHeading",{defaultMessage:"Field list"})))))),Object(S.jsx)(Ve,o()({},Y,{alwaysShowActionButton:!0,buttonAddFieldVariant:"primary",isSidebarCollapsed:void 0,prepend:null==B?void 0:B()})))));return"button-and-flyout-always"===w?Z():"list-always"===w?X():Object(S.jsx)(d.a.Fragment,null,Object(S.jsx)(c.EuiHideFor,{sizes:["xs","s"]},X()),Object(S.jsx)(c.EuiShowFor,{sizes:["xs","s"]},Z()))})));t.default=$e}}]);