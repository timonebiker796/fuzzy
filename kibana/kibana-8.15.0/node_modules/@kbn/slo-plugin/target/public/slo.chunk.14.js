/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.slo_bundle_jsonpfunction=window.slo_bundle_jsonpfunction||[]).push([[14],{122:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDeepEqual=t.off=t.on=t.isClient=void 0;var o=n(36).__importDefault(n(123));t.isClient="object"==typeof window,t.on=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e.addEventListener.apply(e,t)},t.off=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e.removeEventListener.apply(e,t)},t.isDeepEqual=o.default},123:function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var o,i,a;if(Array.isArray(t)){if((o=t.length)!=n.length)return!1;for(i=o;0!=i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((o=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=o;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=o;0!=i--;){var s=a[i];if(!("_owner"===s&&t.$$typeof||e(t[s],n[s])))return!1}return!0}return t!=t&&n!=n}},165:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(122),a=function(){};t.default=function(e,t,n){if(!i.isClient)return[t,a,a];if(!e)throw new Error("useLocalStorage key may not be falsy");var s=n?n.raw?function(e){return e}:n.deserializer:JSON.parse,r=o.useState((function(){try{var o=n?n.raw?String:n.serializer:JSON.stringify,i=localStorage.getItem(e);return null!==i?s(i):(t&&localStorage.setItem(e,o(t)),t)}catch(e){return t}})),l=r[0],d=r[1],u=o.useCallback((function(t){try{var o="function"==typeof t?t(l):t;if(void 0===o)return;var i;i=n?n.raw?"string"==typeof o?o:JSON.stringify(o):n.serializer?n.serializer(o):JSON.stringify(o):JSON.stringify(o),localStorage.setItem(e,i),d(s(i))}catch(e){}}),[e,d]),c=o.useCallback((function(){try{localStorage.removeItem(e),d(void 0)}catch(e){}}),[e,d]);return[l,u,c]}},312:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n(76),i=n.n(o),a=(n(0),n(39)),s=n.n(a),r=n(6),l=n(28);const d={iconType:"questionInCircle",color:"gray"},u={binary:{iconType:"tokenBinary"},boolean:{iconType:"tokenBoolean"},conflict:{iconType:"warning",color:"euiColorVis9",shape:"square"},date:{iconType:"tokenDate"},date_range:{iconType:"tokenDate"},dense_vector:{iconType:"tokenVectorDense"},geo_point:{iconType:"tokenGeo"},geo_shape:{iconType:"tokenGeo"},ip:{iconType:"tokenIP"},ip_range:{iconType:"tokenIP"},flattened:{iconType:"tokenFlattened"},match_only_text:{iconType:"tokenString"},murmur3:{iconType:"tokenSearchType"},number:{iconType:"tokenNumber"},number_range:{iconType:"tokenNumber"},rank_feature:{iconType:"tokenRankFeature"},rank_features:{iconType:"tokenRankFeatures"},histogram:{iconType:"tokenHistogram"},_source:{iconType:"editorCodeBlock",color:"gray"},point:{iconType:"tokenShape"},shape:{iconType:"tokenShape"},sparse_vector:{iconType:"tokenVectorSparse"},string:{iconType:"tokenString"},text:{iconType:"tokenString"},keyword:{iconType:"tokenKeyword"},gauge:{iconType:"tokenMetricGauge"},counter:{iconType:"tokenMetricCounter"},nested:{iconType:"tokenNested"},version:{iconType:"tokenTag"}};function c({type:e,label:t,size:n="s",scripted:o,className:a,...c}){const f=u[e]||d;return Object(l.jsx)(r.EuiToken,i()({},f,{className:s()("kbnFieldIcon",a),"aria-label":t||e,title:t||e,size:n,fill:o?"dark":void 0},c))}},313:function(e,t,n){switch(window.__kbnThemeTag__){case"v8dark":return n(314);case"v8light":return n(316)}},314:function(e,t,n){var o=n(82),i=n(315);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);o(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},315:function(e,t,n){(t=n(83)(!1)).push([e.i,".unifiedDataTableToolbar{padding:8px 8px 4px}.unifiedDataTableToolbarControlButton .euiDataGridToolbarControl{block-size:32px;border:1px solid #343741;border-radius:4px;transition:transform .25s ease-in-out}.unifiedDataTableToolbarControlButton .euiDataGridToolbarControl svg{block-size:16px;inline-size:16px}.unifiedDataTableToolbarControlButton .euiDataGridToolbarControl:active,.unifiedDataTableToolbarControlButton .euiDataGridToolbarControl:focus{background:#0000}.unifiedDataTableToolbarControlButton .euiDataGridToolbarControl:hover{transform:translateY(-1px)}.unifiedDataTableToolbarControlButton .euiDataGridToolbarControl:active{transform:translateY(0)}.unifiedDataTableToolbarControlGroup{align-items:stretch;border-radius:4px;box-shadow:inset 0 0 0 1px #343741;display:inline-flex;flex-direction:row}.unifiedDataTableToolbarControlIconButton .euiButtonIcon{block-size:32px;inline-size:32px}.unifiedDataTableToolbarControlIconButton .euiButtonIcon:active,.unifiedDataTableToolbarControlIconButton .euiButtonIcon:focus,.unifiedDataTableToolbarControlIconButton .euiButtonIcon:hover{animation:none!important;background:#0000;transform:none!important}.unifiedDataTableToolbarControlIconButton+.unifiedDataTableToolbarControlIconButton .euiButtonIcon{border-inline-start:1px solid #343741;border-radius:0}.unifiedDataTableToolbarBottom{position:relative}",""]),e.exports=t},316:function(e,t,n){var o=n(82),i=n(317);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);o(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},317:function(e,t,n){(t=n(83)(!1)).push([e.i,".unifiedDataTableToolbar{padding:8px 8px 4px}.unifiedDataTableToolbarControlButton .euiDataGridToolbarControl{block-size:32px;border:1px solid #d3dae6;border-radius:4px;transition:transform .25s ease-in-out}.unifiedDataTableToolbarControlButton .euiDataGridToolbarControl svg{block-size:16px;inline-size:16px}.unifiedDataTableToolbarControlButton .euiDataGridToolbarControl:active,.unifiedDataTableToolbarControlButton .euiDataGridToolbarControl:focus{background:#0000}.unifiedDataTableToolbarControlButton .euiDataGridToolbarControl:hover{transform:translateY(-1px)}.unifiedDataTableToolbarControlButton .euiDataGridToolbarControl:active{transform:translateY(0)}.unifiedDataTableToolbarControlGroup{align-items:stretch;border-radius:4px;box-shadow:inset 0 0 0 1px #d3dae6;display:inline-flex;flex-direction:row}.unifiedDataTableToolbarControlIconButton .euiButtonIcon{block-size:32px;inline-size:32px}.unifiedDataTableToolbarControlIconButton .euiButtonIcon:active,.unifiedDataTableToolbarControlIconButton .euiButtonIcon:focus,.unifiedDataTableToolbarControlIconButton .euiButtonIcon:hover{animation:none!important;background:#0000;transform:none!important}.unifiedDataTableToolbarControlIconButton+.unifiedDataTableToolbarControlIconButton .euiButtonIcon{border-inline-start:1px solid #d3dae6;border-radius:0}.unifiedDataTableToolbarBottom{position:relative}",""]),e.exports=t},318:function(e,t,n){
/*!

 diff v5.1.0

Software License Agreement (BSD License)

Copyright (c) 2009-2015, Kevin Decker <kpdecker@gmail.com>

All rights reserved.

Redistribution and use of this software in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

* Redistributions of source code must retain the above
  copyright notice, this list of conditions and the
  following disclaimer.

* Redistributions in binary form must reproduce the above
  copyright notice, this list of conditions and the
  following disclaimer in the documentation and/or other
  materials provided with the distribution.

* Neither the name of Kevin Decker nor the names of its
  contributors may be used to endorse or promote products
  derived from this software without specific prior
  written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR
IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER
IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
@license
*/
!function(e){"use strict";function t(){}function n(e,t,n,o,i){for(var a=0,s=t.length,r=0,l=0;a<s;a++){var d=t[a];if(d.removed){if(d.value=e.join(o.slice(l,l+d.count)),l+=d.count,a&&t[a-1].added){var u=t[a-1];t[a-1]=t[a],t[a]=u}}else{if(!d.added&&i){var c=n.slice(r,r+d.count);c=c.map((function(e,t){var n=o[l+t];return n.length>e.length?n:e})),d.value=e.join(c)}else d.value=e.join(n.slice(r,r+d.count));r+=d.count,d.added||(l+=d.count)}}var f=t[s-1];return s>1&&"string"==typeof f.value&&(f.added||f.removed)&&e.equals("",f.value)&&(t[s-2].value+=f.value,t.pop()),t}t.prototype={diff:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=o.callback;"function"==typeof o&&(i=o,o={}),this.options=o;var a=this;function s(e){return i?(setTimeout((function(){i(void 0,e)}),0),!0):e}e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e));var r=(t=this.removeEmpty(this.tokenize(t))).length,l=e.length,d=1,u=r+l;o.maxEditLength&&(u=Math.min(u,o.maxEditLength));var c=[{newPos:-1,components:[]}],f=this.extractCommon(c[0],t,e,0);if(c[0].newPos+1>=r&&f+1>=l)return s([{value:this.join(t),count:t.length}]);function p(){for(var o=-1*d;o<=d;o+=2){var i=void 0,u=c[o-1],f=c[o+1],p=(f?f.newPos:0)-o;u&&(c[o-1]=void 0);var b=u&&u.newPos+1<r,m=f&&0<=p&&p<l;if(b||m){if(!b||m&&u.newPos<f.newPos?(i={newPos:(h=f).newPos,components:h.components.slice(0)},a.pushComponent(i.components,void 0,!0)):((i=u).newPos++,a.pushComponent(i.components,!0,void 0)),p=a.extractCommon(i,t,e,o),i.newPos+1>=r&&p+1>=l)return s(n(a,i.components,t,e,a.useLongestToken));c[o]=i}else c[o]=void 0}var h;d++}if(i)!function e(){setTimeout((function(){if(d>u)return i();p()||e()}),0)}();else for(;d<=u;){var b=p();if(b)return b}},pushComponent:function(e,t,n){var o=e[e.length-1];o&&o.added===t&&o.removed===n?e[e.length-1]={count:o.count+1,added:t,removed:n}:e.push({count:1,added:t,removed:n})},extractCommon:function(e,t,n,o){for(var i=t.length,a=n.length,s=e.newPos,r=s-o,l=0;s+1<i&&r+1<a&&this.equals(t[s+1],n[r+1]);)s++,r++,l++;return l&&e.components.push({count:l}),e.newPos=s,r},equals:function(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty:function(e){for(var t=[],n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t},castInput:function(e){return e},tokenize:function(e){return e.split("")},join:function(e){return e.join("")}};var o=new t;function i(e,t){if("function"==typeof e)t.callback=e;else if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var a=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,s=/\S/,r=new t;r.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!s.test(e)&&!s.test(t)},r.tokenize=function(e){for(var t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),n=0;n<t.length-1;n++)!t[n+1]&&t[n+2]&&a.test(t[n])&&a.test(t[n+2])&&(t[n]+=t[n+2],t.splice(n+1,2),n--);return t};var l=new t;function d(e,t,n){return l.diff(e,t,n)}l.tokenize=function(e){var t=[],n=e.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var o=0;o<n.length;o++){var i=n[o];o%2&&!this.options.newlineIsToken?t[t.length-1]+=i:(this.options.ignoreWhitespace&&(i=i.trim()),t.push(i))}return t};var u=new t;u.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var c=new t;function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}c.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};var m=Object.prototype.toString,h=new t;function g(e,t,n,o,i){var a,s;for(t=t||[],n=n||[],o&&(e=o(i,e)),a=0;a<t.length;a+=1)if(t[a]===e)return n[a];if("[object Array]"===m.call(e)){for(t.push(e),s=new Array(e.length),n.push(s),a=0;a<e.length;a+=1)s[a]=g(e[a],t,n,o,i);return t.pop(),n.pop(),s}if(e&&e.toJSON&&(e=e.toJSON()),"object"===f(e)&&null!==e){t.push(e),s={},n.push(s);var r,l=[];for(r in e)e.hasOwnProperty(r)&&l.push(r);for(l.sort(),a=0;a<l.length;a+=1)s[r=l[a]]=g(e[r],t,n,o,r);t.pop(),n.pop()}else s=e;return s}h.useLongestToken=!0,h.tokenize=l.tokenize,h.castInput=function(e){var t=this.options,n=t.undefinedReplacement,o=t.stringifyReplacer,i=void 0===o?function(e,t){return void 0===t?n:t}:o;return"string"==typeof e?e:JSON.stringify(g(e,null,null,i),i,"  ")},h.equals=function(e,n){return t.prototype.equals.call(h,e.replace(/,([\r\n])/g,"$1"),n.replace(/,([\r\n])/g,"$1"))};var v=new t;function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.split(/\r\n|[\n\v\f\r\x85]/),o=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],i=[],a=0;function s(){var e={};for(i.push(e);a<n.length;){var o=n[a];if(/^(\-\-\-|\+\+\+|@@)\s/.test(o))break;var s=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(o);s&&(e.index=s[1]),a++}for(r(e),r(e),e.hunks=[];a<n.length;){var d=n[a];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(d))break;if(/^@@/.test(d))e.hunks.push(l());else{if(d&&t.strict)throw new Error("Unknown line "+(a+1)+" "+JSON.stringify(d));a++}}}function r(e){var t=/^(---|\+\+\+)\s+(.*)$/.exec(n[a]);if(t){var o="---"===t[1]?"old":"new",i=t[2].split("\t",2),s=i[0].replace(/\\\\/g,"\\");/^".*"$/.test(s)&&(s=s.substr(1,s.length-2)),e[o+"FileName"]=s,e[o+"Header"]=(i[1]||"").trim(),a++}}function l(){var e=a,i=n[a++].split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),s={oldStart:+i[1],oldLines:void 0===i[2]?1:+i[2],newStart:+i[3],newLines:void 0===i[4]?1:+i[4],lines:[],linedelimiters:[]};0===s.oldLines&&(s.oldStart+=1),0===s.newLines&&(s.newStart+=1);for(var r=0,l=0;a<n.length&&!(0===n[a].indexOf("--- ")&&a+2<n.length&&0===n[a+1].indexOf("+++ ")&&0===n[a+2].indexOf("@@"));a++){var d=0==n[a].length&&a!=n.length-1?" ":n[a][0];if("+"!==d&&"-"!==d&&" "!==d&&"\\"!==d)break;s.lines.push(n[a]),s.linedelimiters.push(o[a]||"\n"),"+"===d?r++:"-"===d?l++:" "===d&&(r++,l++)}if(r||1!==s.newLines||(s.newLines=0),l||1!==s.oldLines||(s.oldLines=0),t.strict){if(r!==s.newLines)throw new Error("Added line count did not match for hunk at line "+(e+1));if(l!==s.oldLines)throw new Error("Removed line count did not match for hunk at line "+(e+1))}return s}for(;a<n.length;)s();return i}function x(e,t,n){var o=!0,i=!1,a=!1,s=1;return function r(){if(o&&!a){if(i?s++:o=!1,e+s<=n)return s;a=!0}if(!i)return a||(o=!0),t<=e-s?-s++:(i=!0,r())}}function w(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof t&&(t=j(t)),Array.isArray(t)){if(t.length>1)throw new Error("applyPatch only works with a single input.");t=t[0]}var o,i,a=e.split(/\r\n|[\n\v\f\r\x85]/),s=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],r=t.hunks,l=n.compareLine||function(e,t,n,o){return t===o},d=0,u=n.fuzzFactor||0,c=0,f=0;function p(e,t){for(var n=0;n<e.lines.length;n++){var o=e.lines[n],i=o.length>0?o[0]:" ",s=o.length>0?o.substr(1):o;if(" "===i||"-"===i){if(!l(t+1,a[t],i,s)&&++d>u)return!1;t++}}return!0}for(var b=0;b<r.length;b++){for(var m=r[b],h=a.length-m.oldLines,g=0,v=f+m.oldStart-1,w=x(v,c,h);void 0!==g;g=w())if(p(m,v+g)){m.offset=f+=g;break}if(void 0===g)return!1;c=m.offset+m.oldStart+m.oldLines}for(var T=0,D=0;D<r.length;D++){var y=r[D],O=y.oldStart+y.offset+T-1;T+=y.newLines-y.oldLines;for(var C=0;C<y.lines.length;C++){var F=y.lines[C],S=F.length>0?F[0]:" ",M=F.length>0?F.substr(1):F,k=y.linedelimiters[C];if(" "===S)O++;else if("-"===S)a.splice(O,1),s.splice(O,1);else if("+"===S)a.splice(O,0,M),s.splice(O,0,k),O++;else if("\\"===S){var I=y.lines[C-1]?y.lines[C-1][0]:null;"+"===I?o=!0:"-"===I&&(i=!0)}}}if(o)for(;!a[a.length-1];)a.pop(),s.pop();else i&&(a.push(""),s.push("\n"));for(var N=0;N<a.length-1;N++)a[N]=a[N]+s[N];return a.join("")}function T(e,t,n,o,i,a,s){s||(s={}),void 0===s.context&&(s.context=4);var r=d(n,o,s);if(r){r.push({value:"",lines:[]});for(var l=[],u=0,c=0,f=[],b=1,m=1,h=function(e){var t=r[e],i=t.lines||t.value.replace(/\n$/,"").split("\n");if(t.lines=i,t.added||t.removed){var a;if(!u){var d=r[e-1];u=b,c=m,d&&(f=s.context>0?v(d.lines.slice(-s.context)):[],u-=f.length,c-=f.length)}(a=f).push.apply(a,p(i.map((function(e){return(t.added?"+":"-")+e})))),t.added?m+=i.length:b+=i.length}else{if(u)if(i.length<=2*s.context&&e<r.length-2){var h;(h=f).push.apply(h,p(v(i)))}else{var g,j=Math.min(i.length,s.context);(g=f).push.apply(g,p(v(i.slice(0,j))));var x={oldStart:u,oldLines:b-u+j,newStart:c,newLines:m-c+j,lines:f};if(e>=r.length-2&&i.length<=s.context){var w=/\n$/.test(n),T=/\n$/.test(o),D=0==i.length&&f.length>x.oldLines;!w&&D&&n.length>0&&f.splice(x.oldLines,0,"\\ No newline at end of file"),(w||D)&&T||f.push("\\ No newline at end of file")}l.push(x),u=0,c=0,f=[]}b+=i.length,m+=i.length}},g=0;g<r.length;g++)h(g);return{oldFileName:e,newFileName:t,oldHeader:i,newHeader:a,hunks:l}}function v(e){return e.map((function(e){return" "+e}))}}function D(e,t,n,o,i,a,s){return function(e){var t=[];e.oldFileName==e.newFileName&&t.push("Index: "+e.oldFileName),t.push("==================================================================="),t.push("--- "+e.oldFileName+(void 0===e.oldHeader?"":"\t"+e.oldHeader)),t.push("+++ "+e.newFileName+(void 0===e.newHeader?"":"\t"+e.newHeader));for(var n=0;n<e.hunks.length;n++){var o=e.hunks[n];0===o.oldLines&&(o.oldStart-=1),0===o.newLines&&(o.newStart-=1),t.push("@@ -"+o.oldStart+","+o.oldLines+" +"+o.newStart+","+o.newLines+" @@"),t.push.apply(t,o.lines)}return t.join("\n")+"\n"}(T(e,t,n,o,i,a,s))}function y(e,t){if(t.length>e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function O(e){var t=G(e.lines),n=t.oldLines,o=t.newLines;void 0!==n?e.oldLines=n:delete e.oldLines,void 0!==o?e.newLines=o:delete e.newLines}function C(e,t){if("string"==typeof e){if(/^@@/m.test(e)||/^Index:/m.test(e))return j(e)[0];if(!t)throw new Error("Must provide a base reference or pass in a patch");return T(void 0,void 0,t,e)}return e}function F(e){return e.newFileName&&e.newFileName!==e.oldFileName}function S(e,t,n){return t===n?t:(e.conflict=!0,{mine:t,theirs:n})}function M(e,t){return e.oldStart<t.oldStart&&e.oldStart+e.oldLines<t.oldStart}function k(e,t){return{oldStart:e.oldStart,oldLines:e.oldLines,newStart:e.newStart+t,newLines:e.newLines,lines:e.lines}}function I(e,t,n,o,i){var a={offset:t,lines:n,index:0},s={offset:o,lines:i,index:0};for(L(e,a,s),L(e,s,a);a.index<a.lines.length&&s.index<s.lines.length;){var r=a.lines[a.index],l=s.lines[s.index];if("-"!==r[0]&&"+"!==r[0]||"-"!==l[0]&&"+"!==l[0])if("+"===r[0]&&" "===l[0]){var d;(d=e.lines).push.apply(d,p(_(a)))}else if("+"===l[0]&&" "===r[0]){var u;(u=e.lines).push.apply(u,p(_(s)))}else"-"===r[0]&&" "===l[0]?E(e,a,s):"-"===l[0]&&" "===r[0]?E(e,s,a,!0):r===l?(e.lines.push(r),a.index++,s.index++):B(e,_(a),_(s));else N(e,a,s)}z(e,a),z(e,s),O(e)}function N(e,t,n){var o,i,a=_(t),s=_(n);if(P(a)&&P(s)){var r,l;if(y(a,s)&&A(n,a,a.length-s.length))return void(r=e.lines).push.apply(r,p(a));if(y(s,a)&&A(t,s,s.length-a.length))return void(l=e.lines).push.apply(l,p(s))}else if(i=s,(o=a).length===i.length&&y(o,i)){var d;return void(d=e.lines).push.apply(d,p(a))}B(e,a,s)}function E(e,t,n,o){var i,a=_(t),s=function(e,t){for(var n=[],o=[],i=0,a=!1,s=!1;i<t.length&&e.index<e.lines.length;){var r=e.lines[e.index],l=t[i];if("+"===l[0])break;if(a=a||" "!==r[0],o.push(l),i++,"+"===r[0])for(s=!0;"+"===r[0];)n.push(r),r=e.lines[++e.index];l.substr(1)===r.substr(1)?(n.push(r),e.index++):s=!0}if("+"===(t[i]||"")[0]&&a&&(s=!0),s)return n;for(;i<t.length;)o.push(t[i++]);return{merged:o,changes:n}}(n,a);s.merged?(i=e.lines).push.apply(i,p(s.merged)):B(e,o?s:a,o?a:s)}function B(e,t,n){e.conflict=!0,e.lines.push({conflict:!0,mine:t,theirs:n})}function L(e,t,n){for(;t.offset<n.offset&&t.index<t.lines.length;){var o=t.lines[t.index++];e.lines.push(o),t.offset++}}function z(e,t){for(;t.index<t.lines.length;){var n=t.lines[t.index++];e.lines.push(n)}}function _(e){for(var t=[],n=e.lines[e.index][0];e.index<e.lines.length;){var o=e.lines[e.index];if("-"===n&&"+"===o[0]&&(n="+"),n!==o[0])break;t.push(o),e.index++}return t}function P(e){return e.reduce((function(e,t){return e&&"-"===t[0]}),!0)}function A(e,t,n){for(var o=0;o<n;o++){var i=t[t.length-n+o].substr(1);if(e.lines[e.index+o]!==" "+i)return!1}return e.index+=n,!0}function G(e){var t=0,n=0;return e.forEach((function(e){if("string"!=typeof e){var o=G(e.mine),i=G(e.theirs);void 0!==t&&(o.oldLines===i.oldLines?t+=o.oldLines:t=void 0),void 0!==n&&(o.newLines===i.newLines?n+=o.newLines:n=void 0)}else void 0===n||"+"!==e[0]&&" "!==e[0]||n++,void 0===t||"-"!==e[0]&&" "!==e[0]||t++})),{oldLines:t,newLines:n}}v.tokenize=function(e){return e.slice()},v.join=v.removeEmpty=function(e){return e},e.Diff=t,e.applyPatch=w,e.applyPatches=function(e,t){"string"==typeof e&&(e=j(e));var n=0;!function o(){var i=e[n++];if(!i)return t.complete();t.loadFile(i,(function(e,n){if(e)return t.complete(e);var a=w(n,i,t);t.patched(i,a,(function(e){if(e)return t.complete(e);o()}))}))}()},e.canonicalize=g,e.convertChangesToDMP=function(e){for(var t,n,o=[],i=0;i<e.length;i++)n=(t=e[i]).added?1:t.removed?-1:0,o.push([n,t.value]);return o},e.convertChangesToXML=function(e){for(var t=[],n=0;n<e.length;n++){var o=e[n];o.added?t.push("<ins>"):o.removed&&t.push("<del>"),t.push((i=o.value,i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"))),o.added?t.push("</ins>"):o.removed&&t.push("</del>")}var i;return t.join("")},e.createPatch=function(e,t,n,o,i,a){return D(e,e,t,n,o,i,a)},e.createTwoFilesPatch=D,e.diffArrays=function(e,t,n){return v.diff(e,t,n)},e.diffChars=function(e,t,n){return o.diff(e,t,n)},e.diffCss=function(e,t,n){return c.diff(e,t,n)},e.diffJson=function(e,t,n){return h.diff(e,t,n)},e.diffLines=d,e.diffSentences=function(e,t,n){return u.diff(e,t,n)},e.diffTrimmedLines=function(e,t,n){var o=i(n,{ignoreWhitespace:!0});return l.diff(e,t,o)},e.diffWords=function(e,t,n){return n=i(n,{ignoreWhitespace:!0}),r.diff(e,t,n)},e.diffWordsWithSpace=function(e,t,n){return r.diff(e,t,n)},e.merge=function(e,t,n){e=C(e,n),t=C(t,n);var o={};(e.index||t.index)&&(o.index=e.index||t.index),(e.newFileName||t.newFileName)&&(F(e)?F(t)?(o.oldFileName=S(o,e.oldFileName,t.oldFileName),o.newFileName=S(o,e.newFileName,t.newFileName),o.oldHeader=S(o,e.oldHeader,t.oldHeader),o.newHeader=S(o,e.newHeader,t.newHeader)):(o.oldFileName=e.oldFileName,o.newFileName=e.newFileName,o.oldHeader=e.oldHeader,o.newHeader=e.newHeader):(o.oldFileName=t.oldFileName||e.oldFileName,o.newFileName=t.newFileName||e.newFileName,o.oldHeader=t.oldHeader||e.oldHeader,o.newHeader=t.newHeader||e.newHeader)),o.hunks=[];for(var i=0,a=0,s=0,r=0;i<e.hunks.length||a<t.hunks.length;){var l=e.hunks[i]||{oldStart:1/0},d=t.hunks[a]||{oldStart:1/0};if(M(l,d))o.hunks.push(k(l,s)),i++,r+=l.newLines-l.oldLines;else if(M(d,l))o.hunks.push(k(d,r)),a++,s+=d.newLines-d.oldLines;else{var u={oldStart:Math.min(l.oldStart,d.oldStart),oldLines:0,newStart:Math.min(l.newStart+s,d.oldStart+r),newLines:0,lines:[]};I(u,l.oldStart,l.lines,d.oldStart,d.lines),a++,i++,o.hunks.push(u)}}return o},e.parsePatch=j,e.structuredPatch=T,Object.defineProperty(e,"__esModule",{value:!0})}(t)},362:function(e,t,n){"use strict";n.r(t);var o=n(6),i=n(30),a=n(0),s=n.n(a),r=n(165),l=n.n(r),d=n(96),u=n(28),c=n(1),f=n(29);const p=({isPlainRecord:e,selectedDocs:t,showDiff:n,diffMode:i,showDiffDecorations:a,showMatchingValues:s,showAllFields:r,forceShowAllFields:l,setIsCompareActive:d,setShowDiff:c,setDiffMode:p,setShowDiffDecorations:b,setShowMatchingValues:m,setShowAllFields:g})=>{const{euiTheme:v}=Object(o.useEuiTheme)();return Object(u.jsx)(o.EuiFlexGroup,{responsive:!1,wrap:!0,gutterSize:"s",alignItems:"center"},Object(u.jsx)(o.EuiFlexItem,{grow:!1,css:Object(u.css)({marginRight:v.size.s},"","")},Object(u.jsx)(o.EuiText,{size:"s"},Object(u.jsx)("strong",{"data-test-subj":"unifiedDataTableComparisonDisplay"},e?Object(u.jsx)(f.FormattedMessage,{id:"unifiedDataTable.comparingResults",defaultMessage:"Comparing {documentCount} results",values:{documentCount:t.length}}):Object(u.jsx)(f.FormattedMessage,{id:"unifiedDataTable.comparingDocuments",defaultMessage:"Comparing {documentCount} documents",values:{documentCount:t.length}})))),Object(u.jsx)(o.EuiFlexItem,{grow:!1},Object(u.jsx)(h,{showDiff:n,diffMode:i,showDiffDecorations:a,showMatchingValues:s,showAllFields:r,forceShowAllFields:l,setShowDiff:c,setDiffMode:p,setShowDiffDecorations:b,setShowMatchingValues:m,setShowAllFields:g})),Object(u.jsx)(o.EuiFlexItem,{grow:!1},Object(u.jsx)("div",{className:"unifiedDataTableToolbarControlButton"},Object(u.jsx)(o.EuiDataGridToolbarControl,{iconType:"exit",onClick:()=>{d(!1)},"data-test-subj":"unifiedDataTableExitDocumentComparison"},Object(u.jsx)(f.FormattedMessage,{id:"unifiedDataTable.exitDocumentComparison",defaultMessage:"Exit comparison mode"})))))},b=c.i18n.translate("unifiedDataTable.showDiff",{defaultMessage:"Show diff"});var m={name:"1w34neu",styles:".euiContextMenuItem__text{overflow:visible;}"};const h=({showDiff:e,diffMode:t,showDiffDecorations:n,showMatchingValues:i,showAllFields:s,forceShowAllFields:r,setShowDiff:l,setDiffMode:d,setShowDiffDecorations:p,setShowMatchingValues:h,setShowAllFields:g})=>{const[j,w]=Object(a.useState)(!1);return Object(u.jsx)(o.EuiPopover,{button:Object(u.jsx)("div",{className:"unifiedDataTableToolbarControlButton"},Object(u.jsx)(o.EuiDataGridToolbarControl,{iconType:"gear",onClick:()=>{w(!j)},"data-test-subj":"unifiedDataTableComparisonSettings"},Object(u.jsx)(f.FormattedMessage,{id:"unifiedDataTable.comparisonSettings",defaultMessage:"Comparison settings"}))),isOpen:j,closePopover:()=>{w(!1)},panelPaddingSize:"none",anchorPosition:"downCenter"},Object(u.jsx)(o.EuiContextMenuPanel,{size:"s","data-test-subj":"unifiedDataTableComparisonSettingsMenu",css:m},Object(u.jsx)(v,{title:b,append:Object(u.jsx)(o.EuiSwitch,{label:b,showLabel:!1,checked:Boolean(e),compressed:!0,onChange:e=>{l(e.target.checked)},"data-test-subj":"unifiedDataTableShowDiffSwitch"})}),Object(u.jsx)(v,{title:Object(u.jsx)(f.FormattedMessage,{id:"unifiedDataTable.diffModesBasic",defaultMessage:"Basic"}),type:"subsection"}),Object(u.jsx)(x,{entryDiffMode:"basic",diffMode:t,setDiffMode:d,disabled:!e},Object(u.jsx)(f.FormattedMessage,{id:"unifiedDataTable.diffModeFullValue",defaultMessage:"Full value"})),Object(u.jsx)(v,{title:Object(u.jsx)(f.FormattedMessage,{id:"unifiedDataTable.diffModesAdvanced",defaultMessage:"Advanced"}),description:Object(u.jsx)(f.FormattedMessage,{id:"unifiedDataTable.advancedDiffModesTooltip",defaultMessage:"Advanced modes offer enhanced diffing capabilities, but operate on raw documents and therefore do not support field formatting."}),type:"subsection",noPadding:!0}),Object(u.jsx)(x,{entryDiffMode:"chars",diffMode:t,setDiffMode:d,disabled:!e},Object(u.jsx)(f.FormattedMessage,{id:"unifiedDataTable.diffModeChars",defaultMessage:"By character"})),Object(u.jsx)(x,{entryDiffMode:"words",diffMode:t,setDiffMode:d,disabled:!e},Object(u.jsx)(f.FormattedMessage,{id:"unifiedDataTable.diffModeWords",defaultMessage:"By word"})),Object(u.jsx)(x,{entryDiffMode:"lines",diffMode:t,setDiffMode:d,disabled:!e},Object(u.jsx)(f.FormattedMessage,{id:"unifiedDataTable.diffModeLines",defaultMessage:"By line"})),Object(u.jsx)(o.EuiHorizontalRule,{margin:"none"}),Object(u.jsx)(v,{title:Object(u.jsx)(f.FormattedMessage,{id:"unifiedDataTable.diffOptions",defaultMessage:"Options"})}),!r&&Object(u.jsx)(T,{label:c.i18n.translate("unifiedDataTable.showAllFields",{defaultMessage:"Show full field list"}),description:c.i18n.translate("unifiedDataTable.showAllFieldsDescription",{defaultMessage:"Show all available fields if enabled, otherwise only fields with columns in the main table."}),checked:null!=s&&s,onChange:e=>{g(e.target.checked)},"data-test-subj":"showAllFields",itemCss:{paddingBottom:0}}),Object(u.jsx)(T,{label:c.i18n.translate("unifiedDataTable.showMatchingValues",{defaultMessage:"Show matching fields"}),description:c.i18n.translate("unifiedDataTable.showMatchingValuesDescription",{defaultMessage:"Show fields where all values are equal if enabled, otherwise only fields with differences."}),checked:null==i||i,onChange:e=>{h(e.target.checked)},"data-test-subj":"showMatchingValues",itemCss:{paddingBottom:0}}),Object(u.jsx)(T,{label:c.i18n.translate("unifiedDataTable.showDiffDecorations",{defaultMessage:"Show diff decorations"}),description:c.i18n.translate("unifiedDataTable.showDiffDecorationsDescription",{defaultMessage:"Show text decorations in diffs if enabled, otherwise only use highlighting."}),checked:null==n||n,disabled:!e,"data-test-subj":"showDiffDecorations",onChange:e=>{p(e.target.checked)}})))};var g={name:"1amee4m",styles:"line-height:0"};const v=({title:e,description:t,type:n="section",noPadding:i,append:a})=>{const{euiTheme:s}=Object(o.useEuiTheme)(),r="section"===n?"xxs":"xxxs",l="section"===n?"h3":"h4";return Object(u.jsx)(o.EuiContextMenuItem,{size:"s",css:[i&&{paddingTop:0},"padding-bottom:0;","subsection"===n&&{paddingLeft:`calc(${s.size.m} + ${s.size.xxs})`},"",""]},Object(u.jsx)(o.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center",responsive:!1},Object(u.jsx)(o.EuiFlexGroup,{gutterSize:"xs",alignItems:"center",responsive:!1},Object(u.jsx)(o.EuiFlexItem,{grow:!1},Object(u.jsx)(o.EuiTitle,{size:r},Object(u.jsx)(l,null,e))),t&&Object(u.jsx)(o.EuiFlexItem,{grow:!1,css:g},Object(u.jsx)(o.EuiIconTip,{type:"questionInCircle",position:"right",content:t}))),a&&Object(u.jsx)(o.EuiFlexItem,{grow:!1},a)))},j=c.i18n.translate("unifiedDataTable.enableShowDiff",{defaultMessage:"You need to enable Show diff"}),x=({children:e,entryDiffMode:t,diffMode:n,disabled:i,setDiffMode:a})=>{const{euiTheme:s}=Object(o.useEuiTheme)();return Object(u.jsx)(o.EuiContextMenuItem,{key:t,icon:n===t?"check":"empty",size:"s","aria-current":n===t,disabled:i,toolTipContent:i?j:void 0,onClick:()=>{a(t)},"data-test-subj":`unifiedDataTableDiffMode-${t}`,css:Object(u.css)({paddingLeft:`calc(${s.size.m} + ${s.size.xxs})`},"","")},e)};var w={name:"1amee4m",styles:"line-height:0"};const T=({label:e,description:t,checked:n,disabled:i,onChange:a,"data-test-subj":s,itemCss:r})=>Object(u.jsx)(o.EuiContextMenuItem,{size:"s",disabled:i,toolTipContent:i?j:void 0,css:r},Object(u.jsx)(o.EuiFlexGroup,{gutterSize:"xs",alignItems:"center",responsive:!1},Object(u.jsx)(o.EuiFlexItem,{grow:!1},Object(u.jsx)(o.EuiSwitch,{label:e,checked:n,compressed:!0,disabled:i,onChange:a,"data-test-subj":`unifiedDataTableDiffOptionSwitch-${s}`})),t&&Object(u.jsx)(o.EuiFlexItem,{grow:!1,css:w},Object(u.jsx)(o.EuiIconTip,{type:"questionInCircle",position:"right",content:t,iconProps:i?{tabIndex:-1}:void 0}))));n(313);var D=n(76),y=n.n(D),O=n(238),C=n(190),F=n(312),S=n(175);const M=({fields:e,additionalFieldGroups:t})=>null!=t&&t.smartFields?{fields:e.flatMap((e=>{var n,o;return t.smartFields.find((t=>t.name===e))?null!==(n=null===(o=t.fallbackFields)||void 0===o?void 0:o[e])&&void 0!==n?n:[]:[e]})),additionalFieldGroups:t}:{fields:e,additionalFieldGroups:t},k=function(e,t={}){const n=s.a.lazy(e);return s.a.forwardRef(((e,o)=>{var i;return Object(u.jsx)(a.Suspense,{fallback:null!==(i=t.fallback)&&void 0!==i?i:null},s.a.createElement(n,{...e,ref:o}))}))}((()=>n.e(26).then(n.bind(null,357))));var I=n(39),N=n.n(I),E=n(166),B=n(318);const L=({diffMode:e,baseValue:t,comparisonValue:n})=>{const o=null!=t&&null!=n&&(_(t)&&!_(n)||!_(t)&&_(n)),{value:i,isJson:a}=z(t,o),{value:s,isJson:r}=z(n,o);return"chars"===e?Object(B.diffChars)(i,s):"words"===e?Object(B.diffWords)(i,s,{ignoreWhitespace:!1}):a&&r?Object(B.diffJson)(i,s,{ignoreWhitespace:!1}):Object(B.diffLines)(i,s,{ignoreWhitespace:!1})},z=(e,t)=>{const n=!t&&_(e)?e[0]:e;return null==e||!t&&"object"!=typeof n?{value:String(null!=n?n:""),isJson:!1}:{value:JSON.stringify(n,null,2),isJson:!0}},_=e=>Array.isArray(e)&&1===e.length,P="unifiedDataTable__comparisonFieldName",A="unifiedDataTable__comparisonBaseDocCell",G="unifiedDataTable__comparisonMatchCell",V="unifiedDataTable__comparisonDiffCell",H="unifiedDataTable__comparisonSegment",R="unifiedDataTable__comparisonAddedSegment",$="unifiedDataTable__comparisonRemovedSegment",q=e=>{const{dataView:t,comparisonFields:n,fieldColumnId:o,rowIndex:i,columnId:s,getDocById:r,additionalFieldGroups:l}=e,d=n[i],c=Object(a.useMemo)((()=>t.fields.getByName(d)),[t.fields,d]),f=Object(a.useMemo)((()=>r(s)),[s,r]),p=Object(a.useMemo)((()=>(e=>{var t;return Object.entries(null!==(t=null==e?void 0:e.fallbackFields)&&void 0!==t?t:{}).flatMap((([e,t])=>t))})(l)),[l]);return s===o?Object(u.jsx)(J,{field:c,fieldName:d,additionalFieldGroups:l,allFallbackFields:p}):f?Object(u.jsx)(W,y()({},e,{field:c,fieldName:d,comparisonDoc:f})):Object(u.jsx)("span",{className:E.a},"-")},J=({field:e,fieldName:t,additionalFieldGroups:n,allFallbackFields:i})=>{var r;const l=i.includes(t),d=Object(a.useMemo)((()=>l?((e,t,n=", ")=>((e,t)=>{var n;return Object.entries(null!==(n=null==t?void 0:t.fallbackFields)&&void 0!==n?n:{}).reduce(((t,[n,o])=>(o.includes(e)&&t.push(n),t)),[])})(e,t).join(n))(t,n):""),[l,t,n]);return Object(u.jsx)(o.EuiFlexGroup,{responsive:!1,gutterSize:"s"},e&&Object(u.jsx)(o.EuiFlexItem,{grow:!1},Object(u.jsx)(F.a,Object(C.a)(e))),Object(u.jsx)(o.EuiFlexItem,null,Object(u.jsx)(o.EuiText,{size:"relative",className:P,"data-test-subj":"unifiedDataTableComparisonFieldName"},null!==(r=null==e?void 0:e.displayName)&&void 0!==r?r:t,l?Object(u.jsx)(s.a.Fragment,null," ",Object(u.jsx)(k,{associatedSmartFields:d})):null)))},W=({dataView:e,field:t,fieldName:n,baseDocId:o,baseDoc:s,comparisonDoc:r,diffMode:l,columnId:d,fieldFormats:c,setCellProps:f})=>{const p=null==s?void 0:s[n],b=null==r?void 0:r.flattened[n],m=d===o,h=Object(a.useMemo)((()=>m?z(p,!1).value:void 0),[p,m]);return Object(a.useEffect)((()=>{m?f({className:A}):"basic"!==l?f({className:void 0}):Object(i.isEqual)(p,b)?f({className:G}):f({className:V})}),[p,d,b,o,l,f,m]),l&&"basic"!==l?h?Object(u.jsx)("span",{className:E.a},h||"-"):Object(u.jsx)(Y,{baseValue:p,comparisonValue:b,diffMode:l}):Object(u.jsx)("span",{className:E.a,dangerouslySetInnerHTML:{__html:Object(O.a)(b,r.raw,c,e,t)}})},Y=({diffMode:e,...t})=>{const n=X({diffMode:e,...t}),o="lines"===e?"div":"span";return Object(u.jsx)("span",{className:E.a},n.map(((e,t)=>Object(u.jsx)(o,{key:`segment-${t}`,className:N()(H,{[R]:e.added,[$]:e.removed})},e.value||"-"))))},U=Object(a.createContext)(L),K=U.Provider,X=e=>Object(a.useContext)(U)(e),Z=c.i18n.translate("unifiedDataTable.fieldColumnTitle",{defaultMessage:"Field"}),Q={defaultHeight:"auto"},ee={level:"sorting"},te={...d.b,stripes:void 0},ne=(e,t)=>`${e}:dataGridComparison${t}`;t.default=({id:e,wrapper:t,consumer:n,ariaDescribedBy:r,ariaLabelledBy:d,dataView:f,isPlainRecord:b,selectedFieldNames:m,additionalFieldGroups:h,selectedDocs:g,schemaDetectors:v,forceShowAllFields:j,showFullScreenButton:x,fieldFormats:w,getDocById:T,setSelectedDocs:D,setIsCompareActive:O})=>{const[C]=Object(a.useState)((()=>Object(i.memoize)(T))),[F,k]=l()(ne(n,"ShowDiff"),!0),[I,N]=l()(ne(n,"DiffMode"),"basic"),[B,z]=l()(ne(n,"ShowDiffDecorations"),!0),[_,J]=l()(ne(n,"ShowAllFields"),!1),[W,Y]=l()(ne(n,"ShowMatchingValues"),!0),U=Object(o.useGeneratedHtmlId)({prefix:"fields"}),{comparisonFields:X,totalFields:oe}=(({dataView:e,selectedFieldNames:t,selectedDocs:n,showAllFields:o,showMatchingValues:s,getDocById:r,additionalFieldGroups:l})=>{const{baseDoc:d,comparisonDocs:u}=Object(a.useMemo)((()=>{const[e,...t]=n;return{baseDoc:r(e),comparisonDocs:t.map((e=>r(e))).filter((e=>Boolean(e)))}}),[r,n]);return Object(a.useMemo)((()=>{let n=(e=>{const t=Object(S.pipe)(e,M);return Object(i.uniq)(t.fields)})({fields:t,additionalFieldGroups:l});if(o){const t=e.fields.filter((t=>t.name!==e.timeFieldName&&(null!=(null==d?void 0:d.flattened[t.name])||u.some((e=>null!=e.flattened[t.name]))))).sort(((e,t)=>e.displayName.localeCompare(t.displayName))).map((e=>e.name));n=e.isTimeBased()?[e.timeFieldName,...t]:t}d&&!s&&(n=n.filter((e=>u.some((t=>!Object(i.isEqual)(t.flattened[e],d.flattened[e]))))));const a=n.length;return a>250&&(n=n.slice(0,250)),{comparisonFields:n,totalFields:a}}),[l,d,u,e,t,o,s])})({dataView:f,selectedFieldNames:m,additionalFieldGroups:h,selectedDocs:g,showAllFields:Boolean(j||_),showMatchingValues:Boolean(W),getDocById:C}),ie=(({wrapper:e,isPlainRecord:t,fieldColumnId:n,selectedDocs:i,getDocById:s,setSelectedDocs:r})=>Object(a.useMemo)((()=>{var a;const l=[{id:n,displayAsText:Z,initialWidth:200,isSortable:!1,isExpandable:!1,actions:!1}],d=null!==(a=null==e?void 0:e.offsetWidth)&&void 0!==a?a:0,f=300*i.length+200>d?300:void 0;return i.forEach(((e,n)=>{const a=s(e);if(!a)return;const d=[];0!==n&&d.push({iconType:"pin",label:c.i18n.translate("unifiedDataTable.pinForComparison",{defaultMessage:"Pin for comparison"}),size:"xs",onClick:()=>{const t=[...i],n=t.indexOf(e),[o]=t;t[0]=e,t[n]=o,r(t)}}),i.length>2&&d.push({iconType:"cross",label:c.i18n.translate("unifiedDataTable.removeFromComparison",{defaultMessage:"Remove from comparison"}),size:"xs",onClick:()=>{r(i.filter((t=>t!==e)))}});const p=t?Number(e||0)+1:void 0,b=t?c.i18n.translate("unifiedDataTable.comparisonColumnResultDisplay",{defaultMessage:"Result {resultNumber}",values:{resultNumber:p}}):a.raw._id,m=0===n?Object(u.jsx)(o.EuiFlexGroup,{gutterSize:"xs",alignItems:"center",responsive:!1},Object(u.jsx)(o.EuiFlexItem,{grow:!1},Object(u.jsx)(o.EuiIcon,{type:"pinFilled"})),Object(u.jsx)(o.EuiFlexItem,{grow:!1},b)):b,h=0===n?t?c.i18n.translate("unifiedDataTable.comparisonColumnResultPinnedTooltip",{defaultMessage:"Pinned result: {resultNumber}",values:{resultNumber:p}}):c.i18n.translate("unifiedDataTable.comparisonColumnPinnedTooltip",{defaultMessage:"Pinned document: {documentId}",values:{documentId:a.raw._id}}):t?c.i18n.translate("unifiedDataTable.comparisonColumnResultTooltip",{defaultMessage:"Comparison result: {resultNumber}",values:{resultNumber:p}}):c.i18n.translate("unifiedDataTable.comparisonColumnTooltip",{defaultMessage:"Comparison document: {documentId}",values:{documentId:a.raw._id}});l.push({id:e,display:m,displayAsText:h,initialWidth:f,isSortable:!1,isExpandable:!1,actions:{showHide:!1,showMoveLeft:n>1,showMoveRight:n>0&&n<i.length-1,showSortAsc:!1,showSortDesc:!1,additional:d}})})),l}),[n,s,t,i,r,null==e?void 0:e.offsetWidth]))({wrapper:t,isPlainRecord:b,fieldColumnId:U,selectedDocs:g,getDocById:C,setSelectedDocs:D}),ae=Object(a.useMemo)((()=>({visibleColumns:ie.map((({id:e})=>e)),setVisibleColumns:e=>{const[t,...n]=e;D(n)}})),[ie,D]),se=Object(a.useMemo)((()=>Object(u.jsx)(p,{isPlainRecord:b,selectedDocs:g,showDiff:F,diffMode:I,showDiffDecorations:B,showMatchingValues:W,showAllFields:_,forceShowAllFields:j,setIsCompareActive:O,setShowDiff:k,setDiffMode:N,setShowDiffDecorations:z,setShowMatchingValues:Y,setShowAllFields:J})),[I,j,b,g,N,O,J,k,z,Y,_,F,B,W]),re=Object(a.useMemo)((()=>({showColumnSelector:!1,showDisplaySelector:!1,showFullScreenSelector:x})),[x]),le=Object(a.useMemo)((()=>(({additionalControls:e,comparisonFields:t,totalFields:n})=>i=>(e=>{const{leftSide:t,bottomSection:n,toolbarProps:{hasRoomForGridControls:i,columnControl:a,columnSortingControl:r,fullScreenControl:l,keyboardShortcutsControl:d,displayControl:c},gridProps:{additionalControls:f}}=e,p=i?Object(u.jsx)(s.a.Fragment,null,t&&f&&Object(u.jsx)(o.EuiFlexItem,{grow:!1},Object(u.jsx)("div",{className:"unifiedDataTableToolbarControlButton"},f)),a&&Object(u.jsx)(o.EuiFlexItem,{grow:!1},Object(u.jsx)("div",{className:"unifiedDataTableToolbarControlButton"},a)),r&&Object(u.jsx)(o.EuiFlexItem,{grow:!1},Object(u.jsx)("div",{className:"unifiedDataTableToolbarControlButton"},r)),!t&&f&&Object(u.jsx)(o.EuiFlexItem,{grow:!1},Object(u.jsx)("div",{className:"unifiedDataTableToolbarControlButton"},f))):null;return Object(u.jsx)(s.a.Fragment,null,Object(u.jsx)(o.EuiFlexGroup,{responsive:!1,gutterSize:"s",justifyContent:"spaceBetween",alignItems:"center",className:"unifiedDataTableToolbar","data-test-subj":"unifiedDataTableToolbar",wrap:!0},Object(u.jsx)(o.EuiFlexItem,{grow:!1},t||Object(u.jsx)(o.EuiFlexGroup,{responsive:!1,gutterSize:"s",alignItems:"center"},p)),Object(u.jsx)(o.EuiFlexItem,{grow:!1},Object(u.jsx)(o.EuiFlexGroup,{responsive:!1,gutterSize:"s",alignItems:"center"},Boolean(t)&&p,(d||c||l)&&Object(u.jsx)(o.EuiFlexItem,{grow:!1},Object(u.jsx)("div",{className:"unifiedDataTableToolbarControlGroup"},d&&Object(u.jsx)("div",{className:"unifiedDataTableToolbarControlIconButton"},d),c&&Object(u.jsx)("div",{className:"unifiedDataTableToolbarControlIconButton"},c),l&&Object(u.jsx)("div",{className:"unifiedDataTableToolbarControlIconButton"},l)))))),n?Object(u.jsx)("div",{className:"unifiedDataTableToolbarBottom","data-test-subj":"unifiedDataTableToolbarBottom"},n):null)})({leftSide:e,toolbarProps:i,gridProps:{},bottomSection:n>t.length?Object(u.jsx)(o.EuiCallOut,{size:"s",iconType:"iInCircle",title:c.i18n.translate("unifiedDataTable.comparisonMaxFieldsCallout",{defaultMessage:"Comparison is limited to {comparisonFields} of {totalFields} fields.",values:{comparisonFields:t.length,totalFields:n}})}):void 0}))({additionalControls:se,comparisonFields:X,totalFields:oe})),[se,X,oe]),de=(({dataView:e,comparisonFields:t,fieldColumnId:n,selectedDocs:o,diffMode:s,fieldFormats:r,getDocById:l,additionalFieldGroups:d})=>{const c=o[0],f=Object(a.useMemo)((()=>{var e;return null===(e=l(c))||void 0===e?void 0:e.flattened}),[c,l]),[p]=Object(a.useState)((()=>(()=>{const e=Object(i.memoize)((e=>Object(i.memoize)((t=>Object(i.memoize)((n=>L({diffMode:e,baseValue:t,comparisonValue:n})))))));return({diffMode:t,baseValue:n,comparisonValue:o})=>e(t)(n)(o)})()));return Object(a.useCallback)((o=>Object(u.jsx)(K,{value:p},Object(u.jsx)(q,y()({dataView:e,comparisonFields:t,fieldColumnId:n,baseDocId:c,baseDoc:f,diffMode:s,fieldFormats:r,getDocById:l,additionalFieldGroups:d},o)))),[d,f,c,p,t,e,s,n,r,l])})({dataView:f,comparisonFields:X,fieldColumnId:U,selectedDocs:g,diffMode:F?I:void 0,fieldFormats:w,getDocById:C,additionalFieldGroups:h}),ue=(({diffMode:e,showDiffDecorations:t})=>{const{euiTheme:n}=Object(o.useEuiTheme)(),i=Object(o.useEuiBackgroundColor)("subdued",{method:"transparent"}),a=Object(o.useEuiBackgroundColor)("success"),s=Object(o.useEuiBackgroundColor)("danger"),r=Object(u.css)("position:absolute;width:",n.size.s,";height:100%;margin-left:calc(-",n.size.s," - calc(",n.size.xs," / 2));text-align:center;line-height:",n.font.scale.m,";font-weight:",n.font.weight.medium,";","");return Object(u.css)(".",E.a,"{white-space:pre-wrap;}.",P,"{font-weight:",n.font.weight.semiBold,";}.",A,"{background-color:",i,";}","basic"===e&&Object(u.css)(".",G,"{.",E.a,"{&,& *{color:",n.colors.successText,"!important;}}}.",V,"{.",E.a,"{&,& *{color:",n.colors.dangerText,"!important;}}}","")," .",H,"{position:relative;}.",R,"{background-color:",a,";color:",n.colors.successText,";}.",$,"{background-color:",s,";color:",n.colors.dangerText,";}",("chars"===e||"words"===e)&&t&&Object(u.css)(".",R,"{text-decoration:underline;}.",$,"{text-decoration:line-through;}","")," ","lines"===e&&Object(u.css)(".",H,"{padding-left:calc(",n.size.xs," / 2);}",t&&Object(u.css)(".",R,":before{content:'+';",r," background-color:",n.colors.success,";color:",n.colors.lightestShade,";}.",$,":before{content:'-';",r," background-color:",Object(o.tint)(n.colors.danger,.25),";color:",n.colors.lightestShade,";}",""),";",""),";","")})({diffMode:F?I:void 0,showDiffDecorations:B});return Object(u.jsx)(o.EuiDataGrid,{id:e,"aria-describedby":r,"aria-labelledby":d,gridStyle:te,toolbarVisibility:re,columns:ie,columnVisibility:ae,rowCount:X.length,rowHeightsOptions:Q,inMemory:ee,schemaDetectors:v,renderCellValue:de,renderCustomToolbar:le,"data-test-subj":"unifiedDataTableCompareDocuments",css:ue})}}}]);