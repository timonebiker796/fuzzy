/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.slo_bundle_jsonpfunction=window.slo_bundle_jsonpfunction||[]).push([[4],{116:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(6),l=a(1),s=a(0),o=a.n(s);function i({slo:e,onCancel:t,onConfirm:a,isLoading:s}){const{name:i}=e;return o.a.createElement(n.EuiConfirmModal,{buttonColor:"danger","data-test-subj":"sloResetConfirmationModal",title:l.i18n.translate("xpack.slo.resetConfirmationModal.title",{defaultMessage:"Reset {name}?",values:{name:i}}),cancelButtonText:l.i18n.translate("xpack.slo.resetConfirmationModal.cancelButtonLabel",{defaultMessage:"Cancel"}),confirmButtonText:l.i18n.translate("xpack.slo.resetConfirmationModal.resetButtonLabel",{defaultMessage:"Reset"}),onCancel:t,onConfirm:a,isLoading:s},l.i18n.translate("xpack.slo.resetConfirmationModal.descriptionText",{defaultMessage:"Resetting this SLO will also regenerate the historical data."}))}},117:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(1),l=a(7),s=a(74),o=a(79);function i(){const{http:e,notifications:{toasts:t}}=Object(s.a)().services,a=Object(l.useQueryClient)();return Object(l.useMutation)(["resetSlo"],(({id:t,name:a})=>{try{return e.post(`/api/observability/slos/${t}/_reset`)}catch(e){return Promise.reject(n.i18n.translate("xpack.slo.slo.reset.errorMessage",{defaultMessage:"Failed to reset {name} (id: {id}), something went wrong: {error}",values:{error:String(e),name:a,id:t}}))}}),{onError:(e,{name:a,id:l})=>{var s,o;t.addError(new Error(null!==(s=null===(o=e.body)||void 0===o?void 0:o.message)&&void 0!==s?s:e.message),{title:n.i18n.translate("xpack.slo.slo.reset.errorNotification",{defaultMessage:"Failed to reset {name} (id: {id})",values:{name:a,id:l}})})},onSuccess:(e,{name:l,id:s})=>{a.invalidateQueries({queryKey:o.a.lists(),exact:!1}),a.invalidateQueries({queryKey:o.a.historicalSummaries(),exact:!1}),a.invalidateQueries({queryKey:o.a.details(),exact:!1}),t.addSuccess(n.i18n.translate("xpack.slo.slo.reset.successNotification",{defaultMessage:"{name} reset successfully",values:{name:l}}))}})}},128:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(6),l=a(1),s=a(29),o=a(75),i=a(0),r=a.n(i),c=a(7),u=a(74),d=a(79);function m({slo:e,onCancel:t,onSuccess:a}){const{name:m,groupBy:p}=e,g="instanceId"in e&&e.instanceId!==o.a?e.instanceId:void 0,E=[p].flat().some((e=>e!==o.a)),f=Object(n.useGeneratedHtmlId)(),{mutateAsync:b,isLoading:v}=function(){const{http:e,notifications:{toasts:t}}=Object(u.a)().services,a=Object(c.useQueryClient)();return Object(c.useMutation)(["deleteSloInstance"],(({slo:t,excludeRollup:a})=>{try{return e.post("/api/observability/slos/_delete_instances",{body:JSON.stringify({list:[{sloId:t.id,instanceId:t.instanceId,excludeRollup:a}]})})}catch(e){return Promise.reject(`Something went wrong: ${String(e)}`)}}),{onError:(e,{slo:a})=>{var n,s;t.addError(new Error(null!==(n=null===(s=e.body)||void 0===s?void 0:s.message)&&void 0!==n?n:e.message),{title:l.i18n.translate("xpack.slo.deleteInstance.errorNotification",{defaultMessage:"Failed to delete {name} [instance: {instanceId}]",values:{name:a.name,instanceId:a.instanceId}})})},onSuccess:(e,{slo:n})=>{a.invalidateQueries({queryKey:d.a.lists(),exact:!1}),t.addSuccess(l.i18n.translate("xpack.slo.slo.deleteInstance.successNotification",{defaultMessage:"Deleted {name} [instance: {instanceId}]",values:{name:n.name,instanceId:n.instanceId}}))}})}(),{mutateAsync:y,isLoading:h}=function(){const{http:e,notifications:{toasts:t}}=Object(u.a)().services,a=Object(c.useQueryClient)();return Object(c.useMutation)(["deleteSlo"],(({id:t})=>{try{return e.delete(`/api/observability/slos/${t}`)}catch(e){return Promise.reject(`Something went wrong: ${String(e)}`)}}),{onError:(e,{name:a})=>{var n,s;t.addError(new Error(null!==(n=null===(s=e.body)||void 0===s?void 0:s.message)&&void 0!==n?n:e.message),{title:l.i18n.translate("xpack.slo.slo.delete.errorNotification",{defaultMessage:"Failed to delete {name}",values:{name:a}})})},onSuccess:(e,{name:n})=>{a.invalidateQueries({queryKey:d.a.lists(),exact:!1}),t.addSuccess(l.i18n.translate("xpack.slo.slo.delete.successNotification",{defaultMessage:"Deleted {name}",values:{name:n}}))}})}(),[x,O]=Object(i.useState)(!1);return r.a.createElement(n.EuiModal,{"aria-labelledby":f,onClose:t},r.a.createElement(n.EuiModalHeader,null,r.a.createElement(n.EuiModalHeaderTitle,{id:f},E&&g?function(e,t){return l.i18n.translate("xpack.slo.deleteConfirmationModal.instanceTitle",{defaultMessage:"Delete {name} [{instanceId}]?",values:{name:e,instanceId:t}})}(m,g):function(e){return l.i18n.translate("xpack.slo.deleteConfirmationModal.title",{defaultMessage:"Delete {name}?",values:{name:e}})}(m))),r.a.createElement(n.EuiModalBody,null,E&&g?r.a.createElement(n.EuiForm,{component:"form"},r.a.createElement(n.EuiFlexItem,{grow:!0,style:{marginBottom:"2rem"}},r.a.createElement(s.FormattedMessage,{id:"xpack.slo.deleteConfirmationModal.groupByDisclaimerText",defaultMessage:"This SLO is an instance of many SLO instances."})),r.a.createElement(n.EuiFormRow,null,r.a.createElement(n.EuiSwitch,{name:"popswitch",label:l.i18n.translate("xpack.slo.deleteConfirmationModal.switchDeleteRollupData",{defaultMessage:"Delete rollup data for this instance"}),checked:x,onChange:()=>O(!x)}))):r.a.createElement(s.FormattedMessage,{id:"xpack.slo.deleteConfirmationModal.descriptionText",defaultMessage:"You can't recover this SLO after deleting it."})),r.a.createElement(n.EuiModalFooter,null,r.a.createElement(n.EuiButtonEmpty,{"data-test-subj":"observabilitySolutionSloDeleteModalCancelButton",onClick:t,disabled:h||v},r.a.createElement(s.FormattedMessage,{id:"xpack.slo.deleteConfirmationModal.cancelButtonLabel",defaultMessage:"Cancel"})),E&&g&&r.a.createElement(n.EuiButton,{"data-test-subj":"observabilitySolutionSloDeleteModalConfirmButton",type:"submit",color:"danger",onClick:async()=>{await b({slo:e,excludeRollup:!1===x}),a()},disabled:h||v,fill:!0},r.a.createElement(s.FormattedMessage,{id:"xpack.slo.deleteConfirmationModal.deleteInstanceButtonLabel",defaultMessage:"Delete {instanceId}",values:{instanceId:g}})),r.a.createElement(n.EuiButton,{"data-test-subj":"observabilitySolutionSloDeleteModalConfirmButton",type:"submit",color:"danger",onClick:async()=>{await y({id:e.id,name:e.name}),a()},disabled:h||v,fill:!0},E&&g?r.a.createElement(s.FormattedMessage,{id:"xpack.slo.deleteConfirmationModal.deleteAllButtonLabel",defaultMessage:"Delete SLO and all Instances"}):r.a.createElement(s.FormattedMessage,{id:"xpack.slo.deleteConfirmationModal.deleteButtonLabel",defaultMessage:"Delete"}))))}},132:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(0),l=a.n(n),s=a(6),o=a(1),i=a(12);function r(){const{onStateChange:e}=Object(i.c)();return l.a.createElement(s.EuiCallOut,{title:o.i18n.translate("xpack.slo.list.emptyTitle",{defaultMessage:"No results"}),color:"warning",iconType:"warning"},o.i18n.translate("xpack.slo.list.emptyMessage",{defaultMessage:"There are no results for your criteria."}),l.a.createElement(s.EuiButtonEmpty,{"data-test-subj":"sloSloListEmptyLinkButtonButton",onClick:()=>{e({kqlQuery:"",filters:[],tagsFilter:void 0,statusFilter:void 0})},color:"primary"},o.i18n.translate("xpack.slo.sloListEmpty.clearFiltersButtonLabel",{defaultMessage:"Clear filters"})))}},142:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(7),l=a(1),s=a(33),o=a(0),i=a(74),r=a(81),c=a(79),u=a(15);function d({page:e=1,perPage:t=u.c,groupBy:a="ungrouped",groupsFilter:d=[],kqlQuery:m="",tagsFilter:p,statusFilter:g,filters:E=[],lastRefresh:f}={}){const{http:b,notifications:{toasts:v}}=Object(i.a)().services,{dataView:y}=Object(r.a)({indexPatternString:u.n}),h=Object(o.useMemo)((()=>{try{return JSON.stringify(Object(s.buildQueryFromFilters)([...E,...p?[p]:[],...g?[g]:[]],y,{ignoreFilterIfFieldNotInIndex:!0}))}catch(e){return""}}),[E,p,g,y]),{data:x,isLoading:O,isSuccess:I,isError:C,isRefetching:k,refetch:j}=Object(n.useQuery)({queryKey:c.a.group({page:e,perPage:t,groupBy:a,groupsFilter:d,kqlQuery:m,filters:h,lastRefresh:f}),queryFn:async({signal:n})=>await b.get("/internal/api/observability/slos/_groups",{query:{...e&&{page:e},...t&&{perPage:t},...a&&{groupBy:a},...d&&{groupsFilter:d},...m&&{kqlQuery:m},...h&&{filters:h}},signal:n}),cacheTime:0,refetchOnWindowFocus:!1,retry:(e,t)=>"Error: Forbidden"!==String(t)&&e<4,onError:e=>{v.addError(e,{title:l.i18n.translate("xpack.slo.groups.list.errorNotification",{defaultMessage:"Something went wrong while fetching SLO Groups"})})}});return{data:x,isLoading:O,isSuccess:I,isError:C,isRefetching:k,refetch:j}}},144:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(0),l=a.n(n),s=a(74);function o({refetchRules:e,rule:t,isEditRuleFlyoutOpen:a,setIsEditRuleFlyoutOpen:n}){const{triggersActionsUi:{getEditRuleFlyout:o}}=Object(s.a)().services;return a&&t?l.a.createElement(o,{initialRule:t,onSave:async()=>{e(),n(!1)},onClose:async()=>{n(!1)}}):null}},145:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(47),l=a(0),s=a(4),o=a(74),i=a(118),r=a(119);function c(){const{http:{basePath:e},application:{navigateToUrl:t}}=Object(o.a)().services,a=Object(r.a)();return Object(l.useCallback)((l=>{if(l.remote)window.open(Object(i.a)(l,a),"_blank");else{const a=s.i.sloCreateWithEncodedForm(Object(n.encode)({...l,name:`[Copy] ${l.name}`,id:void 0}));t(e.prepend(a))}}),[t,e,a])}},147:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(32),l=a.n(n),s=a(6),o=a(1),i=a(0),r=a.n(i),c=a(5),u=a(74);function d({slo:e,activeAlerts:t,viewMode:a="default"}){const{application:{navigateToUrl:n},http:{basePath:l}}=Object(u.a)().services;return t?r.a.createElement(s.EuiFlexItem,{grow:!1},r.a.createElement(s.EuiToolTip,{position:"top",content:o.i18n.translate("xpack.slo.slo.activeAlertsBadge.tooltip",{defaultMessage:"{count, plural, one {# burn rate alert} other {# burn rate alerts}}, click to view.",values:{count:t}}),display:"block"},r.a.createElement(m,{iconType:"warning",color:"danger",onClick:()=>{if(t){const t=encodeURIComponent(`'slo.id:"${e.id}" and slo.instanceId:"${e.instanceId}"'`);n(`${l.prepend(c.observabilityPaths.alerts)}?_a=(kuery:${t},rangeFrom:now-15m,rangeTo:now,status:active)`)}},onClickAriaLabel:o.i18n.translate("xpack.slo.slo.activeAlertsBadge.ariaLabel",{defaultMessage:"active alerts badge"}),"data-test-subj":"o11ySloActiveAlertsBadge",onMouseDown:e=>{e.stopPropagation()}},"default"!==a?t:o.i18n.translate("xpack.slo.slo.activeAlertsBadge.label",{defaultMessage:"{count, plural, one {# alert} other {# alerts}}",values:{count:t}})))):null}var m=l()(s.EuiBadge).withConfig({displayName:"_StyledEuiBadge",componentId:"sc-1i756wf-0"})({cursor:"pointer"})},148:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(76),l=a.n(n),s=a(0),o=a.n(s),i=a(34),r=a(12);function c(e){const{onStateChange:t}=Object(r.c)(),a=Object(s.useCallback)((e=>{t({kqlQuery:`slo.tags: "${e}"`})}),[t]);return o.a.createElement(i.TagsList,l()({},e,{onClick:a}))}},150:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(32),l=a.n(n),s=a(0),o=a.n(s),i=a(6),r=a(1);function c({rules:e,onClick:t,isRemote:a}){return a||void 0===e||e.length>0?null:o.a.createElement(i.EuiToolTip,{position:"top",content:r.i18n.translate("xpack.slo.slo.rulesBadge.popover",{defaultMessage:"There are no rules configured for this SLO yet. You will not receive alerts when SLO is breached. Click to create a rule."}),display:"block"},o.a.createElement("span",{onClick:t,onKeyDown:t},o.a.createElement(u,{color:"text",iconType:"alert",onMouseDown:e=>{e.stopPropagation()}})))}var u=l()(i.EuiBadge).withConfig({displayName:"_StyledEuiBadge",componentId:"sc-1xzdflw-0"})({cursor:"pointer"})},151:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var n=a(6),l=a(1),s=a(75),o=a(42),i=a(9),r=a.n(i),c=a(0),u=a.n(c),d=a(16),m=a(4),p=a(11),g=a(91),E=a(12);function f({slo:e,color:t}){var a,i;const{onStateChange:f}=Object(E.c)(),b=null!==(a=null===(i=Object(d.useRouteMatch)(m.c))||void 0===i?void 0:i.isExact)&&void 0!==a&&a,v=Object(c.useCallback)((()=>{b&&f({kqlQuery:`slo.timeWindow.duration: "${e.timeWindow.duration}"`})}),[b,f,e.timeWindow.duration]),y=e.timeWindow.duration.slice(-1);if(s.k.is(e.timeWindow.type))return u.a.createElement(n.EuiFlexItem,{grow:!1},u.a.createElement(n.EuiBadge,{onClick:v,onClickAriaLabel:l.i18n.translate("xpack.slo.timeWindowBadge.clickToFilter",{defaultMessage:"Click to filter by {timeWindow} SLOs",values:{timeWindow:Object(g.k)(e.timeWindow.duration)}}),color:null!=t?t:o.euiLightVars.euiColorDisabled,iconType:"editorItemAlignRight",iconSide:"left",onMouseDown:e=>{b&&e.stopPropagation()}},Object(g.k)(e.timeWindow.duration)));const h=Object(p.b)(y),x=r.a.utc(),O=x.clone().startOf(h),I=x.clone().endOf(h).diff(O,"days")+1,C=x.diff(O,"days")+1;return u.a.createElement(n.EuiFlexItem,{grow:!1},u.a.createElement(n.EuiBadge,{color:null!=t?t:o.euiLightVars.euiColorDisabled,iconType:"calendar",iconSide:"left"},l.i18n.translate("xpack.slo.slo.timeWindow.calendar",{defaultMessage:"{elapsed}/{total} days",values:{elapsed:Math.min(C,I),total:I}})))}},169:function(e,t,a){"use strict";a.d(t,"d",(function(){return T})),a.d(t,"c",(function(){return A})),a.d(t,"b",(function(){return R})),a.d(t,"a",(function(){return B}));var n=a(32),l=a.n(n),s=a(40),o=a(6),i=(a(28),a(1)),r=a(29),c=a(57),u=a(75),d=a(9),m=a.n(d),p=a(0),g=a.n(p),E=a(128),f=a(116),b=a(117),v=a(74),y=a(107),h=a(177),x=a(104),O=a(178),I=a(144),C=a(76),k=a.n(C),j=a(179);const w=l.a.div.withConfig({displayName:"Container",componentId:"sc-adaqm3-0"})([""," border-radius:",";",""],(({position:e})=>"relative"===e?"\n  display: inline-block;\n  position: relative;\n  bottom: 42px;\n  left: 12px;\n  z-index: 1;\n":""),(({theme:e})=>e.eui.euiBorderRadius),(({boxShadow:e,position:t})=>"relative"===t?e:""));function S(e){const t=Object(o.useEuiShadow)("l");return g.a.createElement(w,{boxShadow:t,position:"relative"},g.a.createElement(j.a,k()({},e,{btnProps:{iconType:"boxesHorizontal",color:"primary",display:"empty"}})))}var M=a(170);const L=Object(c.withSuspense)(c.LazySavedObjectSaveModalDashboard),T=e=>{const t={DEGRADING:Object(o.useEuiBackgroundColor)("warning"),VIOLATED:Object(o.useEuiBackgroundColor)("danger"),HEALTHY:Object(o.useEuiBackgroundColor)("success"),NO_DATA:Object(o.useEuiBackgroundColor)("subdued")};return{cardColor:t[null!=e?e:"NO_DATA"],colors:t}},A=e=>F(e),F=e=>{const t=Object.entries(e.groupings).map((([e,t])=>`${e}: ${t}`))[0];return e.groupBy&&![e.groupBy].flat().includes(u.a)?t:""};function R({slo:e,rules:t,activeAlerts:a,historicalSummary:n,refetchRules:l}){const s=g.a.useRef(null),[o,r]=Object(p.useState)(!1),[c,d]=Object(p.useState)(!1),[v,x]=Object(p.useState)(!1),[C,k]=Object(p.useState)(!1),[j,w]=Object(p.useState)(!1),[T,A]=Object(p.useState)(!1),F=Object(y.a)(n,"sli_value"),{handleCreateRule:R,handleAttachToDashboardSave:P}=Object(h.a)({slo:e,setIsActionsPopoverOpen:r,setIsAddRuleFlyoutOpen:d}),_=()=>{k(!1)},{mutateAsync:N,isLoading:q}=Object(b.a)();return g.a.createElement(g.a.Fragment,null,g.a.createElement(D,{className:"sloCardItem",panelRef:s,paddingSize:"none",title:e.summary.summaryUpdatedAt?i.i18n.translate("xpack.slo.sloCardItem.euiPanel.lastUpdatedLabel",{defaultMessage:"{status}, Last updated: {value}",values:{status:e.summary.status,value:m()(e.summary.summaryUpdatedAt).fromNow()}}):e.summary.status},g.a.createElement(B,{slo:e,historicalSliData:F,badges:g.a.createElement(M.a,{slo:e,rules:t,activeAlerts:a,handleCreateRule:R,hasGroupBy:Boolean(e.groupBy&&e.groupBy!==u.a)})}),g.a.createElement("div",{className:o?"":"sloCardItemActions_hover"},g.a.createElement(S,{slo:e,rules:t,isActionsPopoverOpen:o,setIsActionsPopoverOpen:r,setIsAddRuleFlyoutOpen:d,setDeleteConfirmationModalOpen:k,setIsEditRuleFlyoutOpen:x,setDashboardAttachmentReady:A,setResetConfirmationModalOpen:w}))),g.a.createElement(O.a,{slo:e,isAddRuleFlyoutOpen:c,setIsAddRuleFlyoutOpen:d}),g.a.createElement(I.a,{rule:null==t?void 0:t[0],isEditRuleFlyoutOpen:v,setIsEditRuleFlyoutOpen:x,refetchRules:l}),C?g.a.createElement(E.a,{slo:e,onCancel:_,onSuccess:_}):null,j?g.a.createElement(f.a,{slo:e,onCancel:()=>{w(!1)},onConfirm:async()=>{await N({id:e.id,name:e.name}),w(!1)},isLoading:q}):null,T?g.a.createElement(L,{objectType:i.i18n.translate("xpack.slo.item.actions.addToDashboard.objectTypeLabel",{defaultMessage:"SLO Overview"}),documentInfo:{title:i.i18n.translate("xpack.slo.item.actions.addToDashboard.attachmentTitle",{defaultMessage:"SLO Overview"})},canSaveByReference:!1,onClose:()=>{A(!1)},onSave:P}):null)}function B({slo:e,badges:t,onClick:a,historicalSliData:n}){const{application:{navigateToUrl:l}}=Object(v.a)().services,{cardColor:c}=T(e.summary.status),u=A(e),{sliValue:d,sloTarget:m,sloDetailsUrl:p}=Object(x.c)(e);return g.a.createElement(s.Chart,null,g.a.createElement(s.Settings,{baseTheme:s.LEGACY_DARK_THEME,onElementClick:([e])=>{a?a():Object(s.isMetricElementEvent)(e)&&l(p)},locale:i.i18n.getLocale()}),g.a.createElement(s.Metric,{id:`${e.id}-${e.instanceId}`,data:[[{title:e.name,subtitle:u,value:d,trendA11yTitle:i.i18n.translate("xpack.slo.slo.sLOGridItem.trendA11yLabel",{defaultMessage:'The "{title}" trend',values:{title:e.name}}),trendShape:s.MetricTrendShape.Area,trend:null==n?void 0:n.map((e=>({x:e.key,y:e.value}))),extra:g.a.createElement(r.FormattedMessage,{id:"xpack.slo.sLOGridItem.targetFlexItemLabel",defaultMessage:"Target {target}",values:{target:m}}),icon:()=>g.a.createElement(o.EuiIcon,{type:"visGauge",size:"l"}),color:c,body:t}]]}))}var D=l()(o.EuiPanel).withConfig({displayName:"_StyledEuiPanel",componentId:"sc-1hcbbka-0"})(["height:182px;overflow:hidden;position:relative;& .sloCardItemActions_hover{pointer-events:none;opacity:0;&:focus-within{pointer-events:auto;opacity:1;}}&:hover .sloCardItemActions_hover{pointer-events:auto;opacity:1;}"])},170:function(e,t,a){"use strict";a.d(t,"a",(function(){return y}));var n=a(6),l=a(0),s=a.n(l),o=a(32),i=a.n(o),r=a(147),c=a(12),u=a(182),d=a(131),m=a(150),p=a(151),g=a(148),E=a(1),f=a(120);function b({slo:e}){const[t,a]=Object(l.useState)(!1),o=Object.entries(e.groupings);return o.length>1?s.a.createElement(n.EuiFlexItem,{grow:!1},s.a.createElement(n.EuiPopover,{isOpen:t,button:s.a.createElement(n.EuiBadge,{onClick:()=>{a(!t)},onClickAriaLabel:E.i18n.translate("xpack.slo.instances.seeAllBadge",{defaultMessage:"see all instance ids"}),"data-test-subj":"o11ySlosSeeAllInstanceIdsBadge"},`${E.i18n.translate("xpack.slo.extraInstanceIds.badge",{defaultMessage:"+{count, plural, one {# more instance} other {# more instances}}",values:{count:o.length-1}})}`)},s.a.createElement(f.a,{slo:e,direction:"column",truncate:!1}))):null}const v=i.a.div.withConfig({displayName:"Container",componentId:"sc-15mtfkt-0"})(["display:inline-block;margin-top:5px;"]);function y({slo:e,activeAlerts:t,rules:a,handleCreateRule:o}){const{onStateChange:i}=Object(c.c)(),E=Object(l.useCallback)((e=>{i({kqlQuery:`slo.tags: "${e}"`})}),[i]);return s.a.createElement(v,{onClick:e=>{e.stopPropagation()}},s.a.createElement(n.EuiFlexGroup,{direction:"row",responsive:!1,gutterSize:"xs",alignItems:"center",wrap:!0},e.summary?s.a.createElement(s.a.Fragment,null,s.a.createElement(r.a,{slo:e,activeAlerts:t,viewMode:"compact"}),s.a.createElement(b,{slo:e}),s.a.createElement(m.a,{rules:a,onClick:o,isRemote:!!e.remote}),s.a.createElement(p.a,{slo:e,color:"default"}),s.a.createElement(d.a,{slo:e}),s.a.createElement(g.a,{tags:e.tags,numberOfTagsToDisplay:1,color:"default",ignoreEmpty:!0,onClick:E})):s.a.createElement(u.a,null)))}},177:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(0),l=a(74),s=a(13);function o({slo:e,setIsAddRuleFlyoutOpen:t,setIsActionsPopoverOpen:a}){var o;const{embeddable:i}=Object(l.a)().services;return{handleCreateRule:()=>{a(!1),t(!0)},handleAttachToDashboardSave:Object(n.useCallback)((({dashboardId:t,newTitle:a,newDescription:n})=>{var l;const o=i.getStateTransfer(),r={input:{title:a,description:n,sloId:e.id,sloInstanceId:e.instanceId,remoteName:null===(l=e.remote)||void 0===l?void 0:l.remoteName},type:s.b},c="new"===t?"#/create":`#/view/${t}`;o.navigateToWithEmbeddablePackage("dashboards",{state:r,path:c})}),[i,e.id,e.instanceId,null===(o=e.remote)||void 0===o?void 0:o.remoteName])}}},178:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(0),l=a.n(n),s=a(7),o=a(73),i=a(5),r=a(212),c=a(74),u=a(4),d=a(79);function m({slo:e,isAddRuleFlyoutOpen:t,canChangeTrigger:a,setIsAddRuleFlyoutOpen:n}){const{application:{navigateToUrl:m},http:{basePath:p},triggersActionsUi:{getAddRuleFlyout:g}}=Object(c.a)().services,E=Object(r.a)(),f=Object(s.useQueryClient)();return t&&e?l.a.createElement(g,{canChangeTrigger:a,consumer:i.sloFeatureId,filteredRuleTypes:E,ruleTypeId:o.a,initialValues:{name:`${e.name} Burn Rate rule`,params:{sloId:e.id}},onSave:async()=>{n?f.invalidateQueries({queryKey:d.a.rules(),exact:!1}):m(p.prepend(u.i.slos))},onClose:async()=>{n?n(!1):m(p.prepend(u.i.slos))},useRuleProducer:!0}):null}},179:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(76),l=a.n(n),s=a(32),o=a.n(s),i=a(6),r=a(1),c=a(0),u=a.n(c),d=a(93),m=a(145),p=a(74),g=a(181);const E=o()(i.EuiPanel).withConfig({displayName:"CustomShadowPanel",componentId:"sc-x6n2jn-0"})(["",""],(e=>e.shadow));function f({children:e,hasPanel:t}){const a=Object(i.useEuiShadow)("s");return t?u.a.createElement(E,{color:"plain",element:"button",grow:!1,paddingSize:"none",hasShadow:!1,shadow:a},e):e}function b({slo:e,rules:t,isActionsPopoverOpen:a,setIsActionsPopoverOpen:n,setIsAddRuleFlyoutOpen:s,setIsEditRuleFlyoutOpen:o,setDeleteConfirmationModalOpen:c,setResetConfirmationModalOpen:E,setDashboardAttachmentReady:b,btnProps:x}){var O;const{application:{navigateToUrl:I},executionContext:C}=Object(p.a)().services,k="dashboards"===C.get().name,{data:j}=Object(d.a)(),w=Object(m.a)(),{handleNavigateToRules:S,sloEditUrl:M,remoteDeleteUrl:L,remoteResetUrl:T,sloDetailsUrl:A}=Object(g.a)({slo:e,rules:t,setIsEditRuleFlyoutOpen:o,setIsActionsPopoverOpen:n}),F=()=>{n(!a)},R=u.a.createElement(i.EuiButtonIcon,l()({"data-test-subj":"o11ySloListItemButton","aria-label":r.i18n.translate("xpack.slo.item.actions.button",{defaultMessage:"Actions"}),color:"text",disabled:!e.summary,display:"empty",iconType:"boxesVertical",size:"s",onClick:F},x)),B=!!e.remote,D=!!e.remote&&""===e.remote.kibanaUrl,P=B?u.a.createElement(h,{type:"popout",size:"s"}):null;return u.a.createElement(i.EuiPopover,{anchorPosition:"downLeft",button:x?u.a.createElement(f,{hasPanel:!0},R):R,panelPaddingSize:"m",closePopover:F,isOpen:a},u.a.createElement(i.EuiContextMenuPanel,{size:"m",items:[u.a.createElement(i.EuiContextMenuItem,{key:"view",icon:"inspect",onClick:()=>{I(A)},"data-test-subj":"sloActionsView"},r.i18n.translate("xpack.slo.item.actions.details",{defaultMessage:"Details"})),u.a.createElement(i.EuiContextMenuItem,{key:"edit",icon:"pencil",disabled:!(null!=j&&j.hasAllWriteRequested)||D,href:M,target:B?"_blank":void 0,toolTipContent:D?y:"","data-test-subj":"sloActionsEdit"},r.i18n.translate("xpack.slo.item.actions.edit",{defaultMessage:"Edit"}),P),u.a.createElement(i.EuiContextMenuItem,{key:"createRule",icon:"bell",disabled:!(null!=j&&j.hasAllWriteRequested)||B,onClick:()=>{n(!1),s(!0)},"data-test-subj":"sloActionsCreateRule",toolTipContent:B?v:""},r.i18n.translate("xpack.slo.item.actions.createRule",{defaultMessage:"Create new alert rule"})),u.a.createElement(i.EuiContextMenuItem,{key:"manageRules",icon:"gear",disabled:!(null!=j&&j.hasAllWriteRequested)||D,onClick:S,"data-test-subj":"sloActionsManageRules",toolTipContent:D?y:""},r.i18n.translate("xpack.slo.item.actions.manageBurnRateRules",{defaultMessage:"Manage burn rate {count, plural, one {rule} other {rules}}",values:{count:null!==(O=null==t?void 0:t.length)&&void 0!==O?O:0}}),P),u.a.createElement(i.EuiContextMenuItem,{key:"clone",disabled:!(null!=j&&j.hasAllWriteRequested)||D,icon:"copy",onClick:()=>{w(e)},"data-test-subj":"sloActionsClone",toolTipContent:D?y:""},r.i18n.translate("xpack.slo.item.actions.clone",{defaultMessage:"Clone"}),P),u.a.createElement(i.EuiContextMenuItem,{key:"delete",icon:"trash",disabled:!(null!=j&&j.hasAllWriteRequested)||D,onClick:()=>{L?window.open(L,"_blank"):(c(!0),n(!1))},toolTipContent:D?y:"","data-test-subj":"sloActionsDelete"},r.i18n.translate("xpack.slo.item.actions.delete",{defaultMessage:"Delete"}),P),,u.a.createElement(i.EuiContextMenuItem,{key:"reset",icon:"refresh",disabled:!(null!=j&&j.hasAllWriteRequested)||D,onClick:()=>{T?window.open(T,"_blank"):(E(!0),n(!1))},toolTipContent:D?y:"","data-test-subj":"sloActionsReset"},r.i18n.translate("xpack.slo.item.actions.reset",{defaultMessage:"Reset"}),P)].concat(k?[]:u.a.createElement(i.EuiContextMenuItem,{icon:"dashboardApp",key:"addToDashboard",onClick:()=>{n(!1),b&&b(!0)},"data-test-subj":"sloActionsAddToDashboard"},r.i18n.translate("xpack.slo.item.actions.addToDashboard",{defaultMessage:"Add to Dashboard"})))}))}const v=r.i18n.translate("xpack.slo.item.actions.notAvailable",{defaultMessage:"This action is not available for remote SLOs"}),y=r.i18n.translate("xpack.slo.item.actions.remoteKibanaUrlUndefined",{defaultMessage:"This action is not available for remote SLOs with undefined kibanaUrl"});var h=o()(i.EuiIcon).withConfig({displayName:"_StyledEuiIcon",componentId:"sc-x6n2jn-1"})({marginLeft:"10px"})},181:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(38),l=a(75),s=a(180),o=a.n(s),i=a(4),r=a(119),c=a(74),u=a(118);const d=({slo:e,rules:t,setIsEditRuleFlyoutOpen:a,setIsActionsPopoverOpen:s})=>{var d;const{share:{url:{locators:m}},http:p}=Object(c.a)().services,g=Object(r.a)();if(!e)return{sloEditUrl:"",handleNavigateToRules:()=>{},remoteDeleteUrl:void 0,remoteResetUrl:void 0,sloDetailsUrl:""};const E=i.i.sloDetails(e.id,![e.groupBy].flat().includes(l.a)&&e.instanceId?e.instanceId:void 0,null===(d=e.remote)||void 0===d?void 0:d.remoteName),f=Object(u.b)(e,g),b=Object(u.e)(e,g);return{sloEditUrl:e.remote?Object(u.d)(e,g):p.basePath.prepend(i.i.sloEdit(e.id)),handleNavigateToRules:async()=>{if(1===(null==t?void 0:t.length))a(!0),s(!1);else{const t=m.get(n.rulesLocatorID);if(!t)return;if(e.remote&&""!==e.remote.kibanaUrl){const a=p.basePath.get(),n=await t.getUrl({params:{sloId:e.id}}),l=null==n?void 0:n.replace(a,""),s="default"!==g?`/s/${g}`:"",i=new URL(o.a.join(s,l),e.remote.kibanaUrl);window.open(i,"_blank")}else t.navigate({params:{sloId:e.id}},{replace:!1})}},remoteDeleteUrl:f,remoteResetUrl:b,sloDetailsUrl:p.basePath.prepend(E)}}},182:function(e,t,a){"use strict";a.d(t,"b",(function(){return p})),a.d(t,"a",(function(){return g}));var n=a(6),l=a(0),s=a.n(l),o=a(171),i=a(147),r=a(148),c=a(183),u=a(131),d=a(150),m=a(151);function p({activeAlerts:e,isLoading:t,rules:a,slo:l,onClickRuleBadge:p}){return s.a.createElement(n.EuiFlexGroup,{direction:"row",responsive:!1,gutterSize:"s",alignItems:"center",wrap:!0},t?s.a.createElement(g,null):s.a.createElement(s.a.Fragment,null,s.a.createElement(o.a,{slo:l}),s.a.createElement(i.a,{slo:l,activeAlerts:e}),s.a.createElement(c.a,{slo:l}),s.a.createElement(m.a,{slo:l}),s.a.createElement(u.a,{slo:l}),s.a.createElement(d.a,{rules:a,onClick:p,isRemote:!!l.remote}),s.a.createElement(r.a,{tags:l.tags,numberOfTagsToDisplay:1,color:"default",ignoreEmpty:!0})))}function g(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(n.EuiSkeletonRectangle,{isLoading:!0,contentAriaLabel:"Loading",width:"54.16px",height:"20px",borderRadius:"s"}),s.a.createElement(n.EuiSkeletonRectangle,{isLoading:!0,contentAriaLabel:"Loading",width:"54.16px",height:"20px",borderRadius:"s"}),s.a.createElement(n.EuiSkeletonRectangle,{isLoading:!0,contentAriaLabel:"Loading",width:"54.16px",height:"20px",borderRadius:"s"}))}},183:function(e,t,a){"use strict";a.d(t,"a",(function(){return E}));var n=a(6),l=a(1),s=a(75),o=a(42),i=a(0),r=a.n(i),c=a(16),u=a(4),d=a(74),m=a(149),p=a(91),g=a(12);function E({slo:e,color:t}){var a,i;const{application:{navigateToUrl:E},http:{basePath:f}}=Object(d.a)().services,b=null!==(a=null===(i=Object(c.useRouteMatch)(u.c))||void 0===i?void 0:i.isExact)&&void 0!==a&&a,{onStateChange:v}=Object(g.c)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(n.EuiFlexItem,{grow:!1},r.a.createElement(n.EuiBadge,{color:null!=t?t:o.euiLightVars.euiColorDisabled,onClick:t=>{b&&v({kqlQuery:`slo.indicator.type: ${e.indicator.type}`})},onMouseDown:e=>{b&&e.stopPropagation()},onClickAriaLabel:l.i18n.translate("xpack.slo.sloIndicatorTypeBadge.clickToFilter",{defaultMessage:"Click to filter by {indicatorType} SLOs",values:{indicatorType:Object(p.l)(e.indicator.type)}})},Object(p.l)(e.indicator.type))),(s.b.is(e.indicator)||s.c.is(e.indicator))&&""!==e.indicator.params.service&&r.a.createElement(n.EuiFlexItem,{grow:!1,style:{maxWidth:100}},r.a.createElement(n.EuiToolTip,{position:"top",content:l.i18n.translate("xpack.slo.sloIndicatorTypeBadge.exploreInApm",{defaultMessage:"View {service} details",values:{service:e.indicator.params.service}})},r.a.createElement(n.EuiBadge,{color:null!=t?t:o.euiLightVars.euiColorDisabled,onClick:()=>{const t=Object(m.a)(e);t&&E(f.prepend(t))},onMouseDown:e=>{e.stopPropagation()},onClickAriaLabel:l.i18n.translate("xpack.slo.indicatorTypeBadge.exploreInApm",{defaultMessage:"View {service} details",values:{service:e.indicator.params.service}})},e.indicator.params.service))))}},209:function(e,t,a){"use strict";a.d(t,"a",(function(){return ce}));var n=a(6),l=a(0),s=a.n(l),o=a(75),i=a(114),r=a(105),c=a(106),u=a(169);const d=()=>{const e=Object(n.useIsWithinBreakpoints)(["xs","s"]),t=Object(n.useIsWithinBreakpoints)(["m"]),a=Object(n.useIsWithinBreakpoints)(["xl"]);switch(!0){case e:return 1;case t:return 3;case a:return 4;default:return 3}};function m({sloList:e,loading:t,error:a}){const l=e.map((e=>{var t;return[e.id,null!==(t=e.instanceId)&&void 0!==t?t:o.a]})),{data:m}=Object(i.a)({sloIdsAndInstanceIds:l}),{data:g,refetchRules:E}=Object(c.a)({sloIds:l.map((e=>e[0]))}),{isLoading:f,data:b=[]}=Object(r.a)({sloList:e}),v=d();return t&&0===e.length?s.a.createElement(p,{gridSize:v}):s.a.createElement(n.EuiFlexGrid,{columns:v,gutterSize:"m"},e.filter((e=>e.summary)).map((e=>{var l,i;return s.a.createElement(n.EuiFlexItem,{key:`${e.id}-${null!==(l=e.instanceId)&&void 0!==l?l:"ALL_VALUE"}`},s.a.createElement(u.b,{slo:e,loading:t,error:a,activeAlerts:m.get(e),rules:null==g?void 0:g[e.id],historicalSummary:null===(i=b.find((t=>{var a;return t.sloId===e.id&&t.instanceId===(null!==(a=e.instanceId)&&void 0!==a?a:o.a)})))||void 0===i?void 0:i.data,historicalSummaryLoading:f,refetchRules:E}))})))}function p({gridSize:e}){const t=e,a=Array(4*t).fill(null);return s.a.createElement(s.a.Fragment,null,s.a.createElement(n.EuiFlexGrid,{gutterSize:"m",columns:t},a.map(((e,t)=>s.a.createElement(n.EuiFlexItem,{key:t},s.a.createElement(n.EuiPanel,{style:{height:"200px"},hasBorder:!0},s.a.createElement(n.EuiSkeletonText,{lines:2}))," ")))))}var g=a(32),E=a.n(g),f=a(35),b=a.n(f),v=a(1),y=a(5),h=a(73),x=a(7),O=a(176),I=a(4),C=a(128),k=a(116),j=a(171),w=a(147),S=a(79),M=a(145),L=a(212),T=a(93),A=a(117),F=a(119),R=a(74),B=a(107),D=a(118),P=a(131),_=a(150),N=a(120),q=a(148),z=a(132);function G(){return s.a.createElement(n.EuiEmptyPrompt,{iconType:"warning",color:"danger",title:s.a.createElement("h2",null,v.i18n.translate("xpack.slo.list.errorTitle",{defaultMessage:"Unable to load SLOs"})),body:s.a.createElement("p",null,v.i18n.translate("xpack.slo.list.errorMessage",{defaultMessage:"There was an error loading the SLOs. Contact your administrator for help."}))})}var U=a(40);function W({chart:e,data:t,id:a,isLoading:l,size:o,state:i}){const r=Object(R.a)().services.charts,c=r.theme.useChartsBaseTheme(),u=r.theme.useSparklineOverrides(),{euiTheme:d}=Object(n.useEuiTheme)(),m="error"===i?d.colors.danger:d.colors.success,p="area"===e?U.AreaSeries:U.LineSeries;if(l)return s.a.createElement(n.EuiLoadingChart,{style:{minWidth:60,justifyContent:"center"},size:"m",mono:!0});const g="compact"===o?14:28,E="compact"===o?40:60;return s.a.createElement(U.Chart,{size:{height:g,width:E}},s.a.createElement(U.Settings,{baseTheme:c,showLegend:!1,theme:u,locale:v.i18n.getLocale()}),s.a.createElement(U.Tooltip,{type:U.TooltipType.None}),s.a.createElement(U.Axis,{id:"axis",hide:!0,domain:{min:NaN,max:NaN,fit:!0},gridLine:{visible:!1}}),s.a.createElement(p,{color:m,data:t,fit:U.Fit.Nearest,id:a,lineSeriesStyle:{point:{visible:!1}},xAccessor:"key",xScaleType:U.ScaleType.Time,yAccessors:["value"],yScaleType:U.ScaleType.Linear}))}function $({sloList:e,loading:t,error:a}){const{application:{navigateToUrl:u},http:{basePath:d},uiSettings:m,share:{url:{locators:p}},triggersActionsUi:{getAddRuleFlyout:g}}=Object(R.a)().services,E=Object(F.a)(),f=m.get("format:percent:defaultPattern"),U=e.map((e=>{var t;return[e.id,null!==(t=e.instanceId)&&void 0!==t?t:o.a]})),{data:$}=Object(T.a)(),K=Object(L.a)(),Y=Object(x.useQueryClient)(),{mutateAsync:J,isLoading:X}=Object(A.a)(),[Z,ee]=Object(l.useState)(void 0),[te,ae]=Object(l.useState)(void 0),[ne,le]=Object(l.useState)(void 0),{data:se}=Object(i.a)({sloIdsAndInstanceIds:U}),{data:oe}=Object(c.a)({sloIds:U.map((e=>e[0]))}),{isLoading:ie,data:re=[]}=Object(r.a)({sloList:e}),ce=Object(M.a)(),ue=e=>!!e.remote,de=e=>!!e.remote&&""!==e.remote.kibanaUrl,me=e=>t=>ue(t)?s.a.createElement(s.a.Fragment,null,e,s.a.createElement(H,{type:"popout",size:"s"})):e,pe=[{field:"status",name:"Status",render:(e,t)=>s.a.createElement(n.EuiFlexGroup,{direction:"row",gutterSize:"s"},s.a.createElement(j.a,{slo:t}),s.a.createElement(P.a,{slo:t}))},{field:"alerts",name:"Alerts",truncateText:!0,width:"5%",render:(e,t)=>s.a.createElement(s.a.Fragment,null,s.a.createElement(_.a,{rules:null==oe?void 0:oe[t.id],onClick:()=>ee(t),isRemote:!!t.remote}),s.a.createElement(w.a,{slo:t,activeAlerts:se.get(t),viewMode:"compact"}))},{field:"name",name:"Name",width:"15%",truncateText:{lines:2},"data-test-subj":"sloItem",render:(e,t)=>{var a;const l=d.prepend(I.i.sloDetails(t.id,![t.groupBy].flat().includes(o.a)&&t.instanceId?t.instanceId:void 0,null===(a=t.remote)||void 0===a?void 0:a.remoteName));return s.a.createElement(n.EuiToolTip,{position:"top",content:t.name,display:"block"},s.a.createElement(n.EuiText,{size:"s"},s.a.createElement("a",{"data-test-subj":"o11ySloListItemLink",href:l},t.name)))}},{field:"tags",name:"Tags",render:e=>s.a.createElement(q.a,{tags:e,color:"default"})},{field:"instance",name:"Instance",render:(e,t)=>[t.groupBy].flat().includes(o.a)?s.a.createElement("span",null,O.a):s.a.createElement(N.a,{slo:t,direction:"column",gutterSize:"none"})},{field:"objective",name:"Objective",render:(e,t)=>b()(t.objective.target).format("0.00%")},{field:"sli",name:"SLI value",truncateText:!0,render:(e,t)=>"NO_DATA"===t.summary.status?O.a:b()(t.summary.sliValue).format(f)},{field:"historicalSli",name:"Historical SLI",render:(e,t)=>{var a;const n=["VIOLATED","DEGRADING"].includes(t.summary.status),l=Object(B.a)(null===(a=re.find((e=>{var a;return e.sloId===t.id&&e.instanceId===(null!==(a=t.instanceId)&&void 0!==a?a:o.a)})))||void 0===a?void 0:a.data,"sli_value");return s.a.createElement(W,{chart:"line",id:"sli_history",size:"compact",state:n?"error":"success",data:l,isLoading:ie})}},{field:"errorBudgetRemaining",name:"Budget remaining",truncateText:!0,render:(e,t)=>"NO_DATA"===t.summary.status?O.a:b()(t.summary.errorBudget.remaining).format(f)},{field:"historicalErrorBudgetRemaining",name:"Historical budget remaining",render:(e,t)=>{var a;const n=["VIOLATED","DEGRADING"].includes(t.summary.status),l=Object(B.a)(null===(a=re.find((e=>{var a;return e.sloId===t.id&&e.instanceId===(null!==(a=t.instanceId)&&void 0!==a?a:o.a)})))||void 0===a?void 0:a.data,"error_budget_remaining");return s.a.createElement(W,{chart:"area",id:"error_budget_burn_down",state:n?"error":"success",size:"compact",data:l,isLoading:ie})}},{name:"Actions",actions:[{type:"icon",icon:"inspect",name:v.i18n.translate("xpack.slo.item.actions.details",{defaultMessage:"Details"}),description:v.i18n.translate("xpack.slo.item.actions.details",{defaultMessage:"Details"}),onClick:e=>{var t;const a=d.prepend(I.i.sloDetails(e.id,![e.groupBy].flat().includes(o.a)&&e.instanceId?e.instanceId:void 0,null===(t=e.remote)||void 0===t?void 0:t.remoteName));u(a)}},{type:"icon",icon:"pencil",name:me(v.i18n.translate("xpack.slo.item.actions.edit",{defaultMessage:"Edit"})),description:v.i18n.translate("xpack.slo.item.actions.edit",{defaultMessage:"Edit"}),"data-test-subj":"sloActionsEdit",enabled:e=>(null==$?void 0:$.hasAllWriteRequested)&&!ue(e)||de(e),onClick:e=>{const t=Object(D.d)(e,E);t?window.open(t,"_blank"):u(d.prepend(I.i.sloEdit(e.id)))}},{type:"icon",icon:"bell",name:v.i18n.translate("xpack.slo.item.actions.createRule",{defaultMessage:"Create new alert rule"}),description:v.i18n.translate("xpack.slo.item.actions.createRule",{defaultMessage:"Create new alert rule"}),"data-test-subj":"sloActionsCreateRule",enabled:e=>!(null==$||!$.hasAllWriteRequested||ue(e)),onClick:e=>{ee(e)}},{type:"icon",icon:"gear",name:v.i18n.translate("xpack.slo.item.actions.manageRules",{defaultMessage:"Manage rules"}),description:v.i18n.translate("xpack.slo.item.actions.manageRules",{defaultMessage:"Manage rules"}),"data-test-subj":"sloActionsManageRules",enabled:e=>!(null==$||!$.hasAllWriteRequested||ue(e)),onClick:e=>{const t=p.get(y.rulesLocatorID);null==t||t.navigate({params:{sloId:e.id}},{replace:!1})}},{type:"icon",icon:"copy",name:me(v.i18n.translate("xpack.slo.item.actions.clone",{defaultMessage:"Clone"})),description:v.i18n.translate("xpack.slo.item.actions.clone",{defaultMessage:"Clone"}),"data-test-subj":"sloActionsClone",enabled:e=>(null==$?void 0:$.hasAllWriteRequested)&&!ue(e)||de(e),onClick:e=>{ce(e)}},{type:"icon",icon:"trash",name:me(v.i18n.translate("xpack.slo.item.actions.delete",{defaultMessage:"Delete"})),description:v.i18n.translate("xpack.slo.item.actions.delete",{defaultMessage:"Delete"}),"data-test-subj":"sloActionsDelete",enabled:e=>(null==$?void 0:$.hasAllWriteRequested)&&!ue(e)||de(e),onClick:e=>{const t=Object(D.b)(e,E);t?window.open(t,"_blank"):ae(e)}},{type:"icon",icon:"refresh",name:me(v.i18n.translate("xpack.slo.item.actions.reset",{defaultMessage:"Reset"})),description:v.i18n.translate("xpack.slo.item.actions.reset",{defaultMessage:"Reset"}),"data-test-subj":"sloActionsReset",enabled:e=>(null==$?void 0:$.hasAllWriteRequested)&&!ue(e)||de(e),onClick:e=>{const t=Object(D.e)(e,E);t?window.open(t,"_blank"):le(e)}}],width:"5%"}];return t||a||0!==e.length?!t&&a?s.a.createElement(G,null):s.a.createElement(s.a.Fragment,null,s.a.createElement(n.EuiBasicTable,{items:e,columns:pe,loading:t,noItemsMessage:t?V:Q,tableLayout:"auto"}),Z?s.a.createElement(g,{consumer:y.sloFeatureId,filteredRuleTypes:K,ruleTypeId:h.a,initialValues:{name:`${Z.name} burn rate rule`,params:{sloId:Z.id}},onSave:async()=>{Y.invalidateQueries({queryKey:S.a.rules(),exact:!1})},onClose:()=>{ee(void 0)},useRuleProducer:!0}):null,te?s.a.createElement(C.a,{slo:te,onCancel:()=>{ae(void 0)},onSuccess:()=>{ae(void 0)}}):null,ne?s.a.createElement(k.a,{slo:ne,onCancel:()=>{le(void 0)},onConfirm:async()=>{ne&&(await J({id:ne.id,name:ne.name}),le(void 0))},isLoading:X}):null):s.a.createElement(z.a,null)}const V=v.i18n.translate("xpack.slo.loadingSlosLabel",{defaultMessage:"Loading SLOs ..."}),Q=v.i18n.translate("xpack.slo.noSlosFound",{defaultMessage:"No SLOs found"});var H=E()(n.EuiIcon).withConfig({displayName:"_StyledEuiIcon",componentId:"sc-1vgbcrt-0"})({marginLeft:"10px"}),K=a(29),Y=a(15),J=a(184);const X="slo_health_callout_hidden";function Z({sloList:e}){const{http:t}=Object(R.a)().services,{isLoading:a,isError:o,data:i}=Object(J.a)({list:e}),[r,c]=Object(l.useState)(!sessionStorage.getItem(X)),[u,d]=Object(l.useState)(!1);if(!r)return null;if(a||o||void 0===i||0===(null==i?void 0:i.length))return null;if(0===i.filter((e=>"unhealthy"===e.health.overall)).length)return null;const m=i.filter((e=>"unhealthy"===e.health.rollup)),p=i.filter((e=>"unhealthy"===e.health.summary));return s.a.createElement(n.EuiCallOut,{color:"danger",iconType:u?"arrowDown":"arrowRight",size:"s",onClick:e=>{d(!u)},title:s.a.createElement(K.FormattedMessage,{id:"xpack.slo.sloList.healthCallout.title",defaultMessage:"Transform error detected"})},u&&s.a.createElement(n.EuiFlexGroup,{direction:"column",alignItems:"flexStart",onClick:e=>{e.stopPropagation()}},s.a.createElement(n.EuiFlexItem,null,s.a.createElement(K.FormattedMessage,{id:"xpack.slo.sloList.healthCallout.description",defaultMessage:"The following {count, plural, one {transform is} other {transforms are} } in an unhealthy state:",values:{count:m.length+p.length}}),s.a.createElement("ul",null,m.map((e=>s.a.createElement("li",null,Object(Y.r)(e.sloId,e.sloRevision),s.a.createElement(n.EuiCopy,{textToCopy:Object(Y.r)(e.sloId,e.sloRevision)},(e=>s.a.createElement(n.EuiButtonIcon,{"data-test-subj":"sloHealthCalloutCopyButton","aria-label":v.i18n.translate("xpack.slo.sloList.healthCallout.copyToClipboard",{defaultMessage:"Copy to clipboard"}),color:"text",iconType:"copy",onClick:e})))))),p.map((e=>s.a.createElement("li",null,Object(Y.q)(e.sloId,e.sloRevision),s.a.createElement(n.EuiCopy,{textToCopy:Object(Y.q)(e.sloId,e.sloRevision)},(e=>s.a.createElement(n.EuiButtonIcon,{"data-test-subj":"sloHealthCalloutCopyButton","aria-label":v.i18n.translate("xpack.slo.sloList.healthCallout.copyToClipboard",{defaultMessage:"Copy to clipboard"}),color:"text",iconType:"copy",onClick:e})))))))),s.a.createElement(n.EuiFlexGroup,{direction:"row"},s.a.createElement(n.EuiFlexItem,{grow:!1},s.a.createElement(n.EuiButton,{"data-test-subj":"sloHealthCalloutInspectTransformButton",color:"danger",size:"s",fill:!0,href:null==t?void 0:t.basePath.prepend("/app/management/data/transform")},s.a.createElement(K.FormattedMessage,{id:"xpack.slo.sloList.healthCallout.buttonTransformLabel",defaultMessage:"Inspect transform"}))),s.a.createElement(n.EuiFlexItem,{grow:!1},s.a.createElement(n.EuiButtonEmpty,{"data-test-subj":"sloHealthCalloutDimissButton",color:"text",size:"s",onClick:()=>{c(!1),sessionStorage.setItem("slo_health_callout_hidden","true")}},s.a.createElement(K.FormattedMessage,{id:"xpack.slo.sloList.healthCallout.buttonDimissLabel",defaultMessage:"Dismiss"}))))))}var ee=a(177),te=a(104),ae=a(182),ne=a(178),le=a(144),se=a(179);function oe({slo:e,historicalSummary:t=[],historicalSummaryLoading:a}){const{sliValue:l,sloTarget:o,errorBudgetRemaining:i}=Object(te.c)(e),r="VIOLATED"===e.summary.status||"DEGRADING"===e.summary.status,c=r?"danger":"",u=Object(B.a)(t,"error_budget_remaining"),d=Object(B.a)(t,"sli_value");return s.a.createElement(n.EuiFlexGroup,{direction:"row",justifyContent:"spaceBetween",gutterSize:"l",responsive:!1},s.a.createElement(n.EuiFlexItem,{grow:!1,style:{maxWidth:200}},s.a.createElement(n.EuiFlexGroup,{direction:"row",responsive:!1,gutterSize:"s",alignItems:"center",justifyContent:"flexEnd"},s.a.createElement(n.EuiFlexItem,{grow:!1},s.a.createElement(n.EuiStat,{description:v.i18n.translate("xpack.slo.stats.objective",{defaultMessage:"{objective} target",values:{objective:o}}),title:l,textAlign:"right",titleColor:c,titleSize:"m",reverse:!0})),s.a.createElement(n.EuiFlexItem,{grow:!1},s.a.createElement(W,{chart:"line",id:"sli_history",state:r?"error":"success",data:d,isLoading:a})))),s.a.createElement(n.EuiFlexItem,{grow:!1,style:{maxWidth:200}},s.a.createElement(n.EuiFlexGroup,{direction:"row",responsive:!1,gutterSize:"s",alignItems:"center",justifyContent:"flexEnd"},s.a.createElement(n.EuiFlexItem,{grow:!1},s.a.createElement(n.EuiStat,{description:v.i18n.translate("xpack.slo.stats.budgetRemaining",{defaultMessage:"Budget remaining"}),textAlign:"right",title:i,titleColor:c,titleSize:"m",reverse:!0})),s.a.createElement(n.EuiFlexItem,{grow:!1},s.a.createElement(W,{chart:"area",id:"error_budget_burn_down",state:r?"error":"success",data:u,isLoading:a})))))}function ie({slo:e,rules:t,refetchRules:a,historicalSummary:o=[],historicalSummaryLoading:i,activeAlerts:r}){const[c,u]=Object(l.useState)(!1),[d,m]=Object(l.useState)(!1),[p,g]=Object(l.useState)(!1),[E,f]=Object(l.useState)(!1),[b,v]=Object(l.useState)(!1),{mutateAsync:y,isLoading:h}=Object(A.a)(),{sloDetailsUrl:x}=Object(te.c)(e),{handleCreateRule:O}=Object(ee.a)({slo:e,setIsActionsPopoverOpen:u,setIsAddRuleFlyoutOpen:m}),I=()=>{f(!1)};return s.a.createElement(n.EuiPanel,{"data-test-subj":"sloItem",hasBorder:!0,hasShadow:!1},s.a.createElement(n.EuiFlexGroup,{responsive:!1,alignItems:"center"},s.a.createElement(n.EuiFlexItem,{grow:!0},s.a.createElement(n.EuiFlexGroup,null,s.a.createElement(n.EuiFlexItem,{grow:!0},s.a.createElement(n.EuiFlexGroup,{direction:"column",gutterSize:"s"},s.a.createElement(n.EuiFlexItem,null,s.a.createElement(n.EuiText,{size:"s"},s.a.createElement(s.a.Fragment,null,s.a.createElement("a",{"data-test-subj":"o11ySloListItemLink",href:x},e.name),s.a.createElement(N.a,{slo:e})))),s.a.createElement(ae.b,{activeAlerts:r,isLoading:!e.summary,rules:t,slo:e,onClickRuleBadge:O}))),s.a.createElement(n.EuiFlexItem,{grow:!1},s.a.createElement(oe,{slo:e,historicalSummary:o,historicalSummaryLoading:i})))),s.a.createElement(n.EuiFlexItem,{grow:!1},s.a.createElement(se.a,{slo:e,rules:t,isActionsPopoverOpen:c,setIsAddRuleFlyoutOpen:m,setIsEditRuleFlyoutOpen:g,setIsActionsPopoverOpen:u,setDeleteConfirmationModalOpen:f,setResetConfirmationModalOpen:v}))),s.a.createElement(ne.a,{slo:e,isAddRuleFlyoutOpen:d,setIsAddRuleFlyoutOpen:m}),s.a.createElement(le.a,{rule:null==t?void 0:t[0],isEditRuleFlyoutOpen:p,setIsEditRuleFlyoutOpen:g,refetchRules:a}),E?s.a.createElement(C.a,{slo:e,onCancel:I,onSuccess:I}):null,b?s.a.createElement(k.a,{slo:e,onCancel:()=>{v(!1)},onConfirm:async()=>{await y({id:e.id,name:e.name}),v(!1)},isLoading:h}):null)}function re({sloList:e,loading:t,error:a}){const l=e.map((e=>{var t;return[e.id,null!==(t=e.instanceId)&&void 0!==t?t:o.a]})),{data:u}=Object(i.a)({sloIdsAndInstanceIds:l}),{data:d,refetchRules:m}=Object(c.a)({sloIds:l.map((e=>e[0]))}),{isLoading:p,data:g=[]}=Object(r.a)({sloList:e});return t||a||0!==e.length?!t&&a?s.a.createElement(G,null):s.a.createElement(n.EuiFlexGroup,{direction:"column",gutterSize:"s"},e.map((e=>{var t,a;return s.a.createElement(n.EuiFlexItem,{key:`${e.id}-${null!==(t=e.instanceId)&&void 0!==t?t:o.a}`},s.a.createElement(ie,{activeAlerts:u.get(e),rules:null==d?void 0:d[e.id],historicalSummary:null===(a=g.find((t=>{var a;return t.sloId===e.id&&t.instanceId===(null!==(a=e.instanceId)&&void 0!==a?a:o.a)})))||void 0===a?void 0:a.data,historicalSummaryLoading:p,slo:e,refetchRules:m}))}))):s.a.createElement(z.a,null)}function ce({sloList:e,loading:t,error:a,view:l}){return t||a||0!==e.length?!t&&a?s.a.createElement(G,null):"cardView"===l?s.a.createElement(n.EuiFlexGroup,{direction:"column"},s.a.createElement(n.EuiFlexItem,null,s.a.createElement(Z,{sloList:e})),s.a.createElement(n.EuiFlexItem,null,s.a.createElement(m,{sloList:e,loading:t,error:a}))):"compactView"===l?s.a.createElement(n.EuiFlexGroup,{direction:"column"},s.a.createElement(n.EuiFlexItem,null,s.a.createElement(Z,{sloList:e})),s.a.createElement(n.EuiFlexItem,null,s.a.createElement($,{sloList:e,loading:t,error:a}))):s.a.createElement(n.EuiFlexGroup,{direction:"column"},s.a.createElement(n.EuiFlexItem,null,s.a.createElement(Z,{sloList:e})),s.a.createElement(n.EuiFlexItem,null,s.a.createElement(re,{sloList:e,loading:t,error:a}))):s.a.createElement(z.a,null)}},210:function(e,t,a){"use strict";a.d(t,"a",(function(){return I}));var n=a(6),l=a(0),s=a.n(l),o=a(142),i=a(12),r=a(1);function c(){return s.a.createElement(n.EuiCallOut,{"data-test-subj":"sloGroupListEmpty",title:r.i18n.translate("xpack.slo.groupList.emptyTitle",{defaultMessage:"No SLO group results"}),color:"warning",iconType:"warning"},r.i18n.translate("xpack.slo.groupList.emptyMessage",{defaultMessage:"There are no results for your criteria."}))}function u(){return s.a.createElement(n.EuiEmptyPrompt,{"data-test-subj":"sloGroupListError",iconType:"warning",color:"danger",title:s.a.createElement("h2",null,r.i18n.translate("xpack.slo.groupList.errorTitle",{defaultMessage:"Unable to load SLO groups"})),body:s.a.createElement("p",null,r.i18n.translate("xpack.slo.groupList.errorMessage",{defaultMessage:"There was an error loading the SLO groups. Contact your administrator for help."}))})}var d=a(4),m=a(85),p=a(74),g=a(104),E=a(209),f=a(75),b=a(18),v=a(87);function y(e,t,a){var n,l;const s=t.toLowerCase();switch(e){case"ungrouped":case"slo.tags":case"status":return s;case"slo.instanceId":if(s===f.a||!a)return r.i18n.translate("xpack.slo.group.ungroupedInstanceId",{defaultMessage:"Ungrouped"});const o=h(a.worst.slo.groupings);return Object.entries(o).map((([e,t])=>`${e}: ${t}`)).join(", ");case"slo.indicator.type":return null!==(n=null===(l=v.k.find((e=>e.value===t)))||void 0===l?void 0:l.text)&&void 0!==n?n:s;case"_index":if(s.includes(":.")){const[e]=s.split(":.");return r.i18n.translate("xpack.slo.group.remoteCluster",{defaultMessage:"Remote Cluster: {remoteClusterName}",values:{remoteClusterName:e}})}return r.i18n.translate("xpack.slo.group.remoteCluster.localKibana",{defaultMessage:"Local Kibana"});default:Object(b.assertNever)(e)}}function h(e,t="",a={}){for(const n in e)if(e.hasOwnProperty(n)){const l=t?`${t}.${n}`:n;"object"==typeof e[n]&&null!==e[n]?h(e[n],l,a):a[l]=e[n]}return a}function x({group:e,kqlQuery:t,view:a,sort:o,direction:i,groupBy:c,summary:u,filters:f}){var b,v,h,x;const I=`"${c}": "${e}"`,C=t?`${I} and ${t}`:I,k=y(c,e,u),[j,w]=Object(l.useState)(0),[S,M]=Object(l.useState)("closed"),L="open"===S,{http:{basePath:T}}=Object(p.a)().services,[A,F]=Object(l.useState)(10),{isLoading:R,isRefetching:B,isError:D,data:P}=Object(m.a)({kqlQuery:C,sortBy:o,sortDirection:i,perPage:A,page:j+1,filters:f,disabled:!L}),{results:_=[],total:N=0}=null!=P?P:{},q=Object(g.b)(null==u?void 0:u.worst.sliValue);return s.a.createElement(s.a.Fragment,null,s.a.createElement(n.EuiFlexGroup,{"data-test-subj":"sloGroupViewPanel"},s.a.createElement(n.EuiFlexItem,null,s.a.createElement(O,{forceState:S,onToggle:e=>{M(e?"open":"closed")},buttonContent:s.a.createElement(n.EuiFlexGroup,{alignItems:"center",responsive:!1,gutterSize:"xs"},s.a.createElement(n.EuiFlexItem,{grow:!1},s.a.createElement(n.EuiTitle,{size:"xs"},s.a.createElement("h3",null,k))),s.a.createElement(n.EuiFlexItem,{grow:!1},s.a.createElement(n.EuiText,{color:"subdued"},"(",null==u?void 0:u.total,")"))),extraAction:s.a.createElement(n.EuiFlexGroup,{responsive:!1,alignItems:"center"},u.violated>0&&s.a.createElement(n.EuiFlexItem,{grow:!1},s.a.createElement(n.EuiBadge,{color:"danger"},r.i18n.translate("xpack.slo.group.totalViolated",{defaultMessage:"{total} Violated",values:{total:null==u?void 0:u.violated}}))),s.a.createElement(n.EuiFlexItem,{grow:!1},s.a.createElement(n.EuiBadge,{color:"success"},r.i18n.translate("xpack.slo.group.totalHealthy",{defaultMessage:"{total} Healthy",values:{total:null==u?void 0:u.healthy}}))),s.a.createElement(n.EuiFlexItem,null,"NO_DATA"===e?s.a.createElement("span",null,r.i18n.translate("xpack.slo.group.worstPerforming",{defaultMessage:"Worst performing: "}),s.a.createElement("strong",null,r.i18n.translate("xpack.slo.group.worstPerforming.notAvailable",{defaultMessage:"N/A"}))):s.a.createElement(n.EuiToolTip,{content:s.a.createElement(s.a.Fragment,null,s.a.createElement(n.EuiText,{size:"s"},r.i18n.translate("xpack.slo.group.totalSloViolatedTooltip",{defaultMessage:"SLO: {name}",values:{name:null==u||null===(b=u.worst.slo)||void 0===b?void 0:b.name}})),s.a.createElement(n.EuiText,{size:"s"},r.i18n.translate("xpack.slo.group.totalSloViolatedTooltip.instance",{defaultMessage:"Instance: {instance}",values:{instance:null==u||null===(v=u.worst.slo)||void 0===v?void 0:v.instanceId}})))},s.a.createElement(n.EuiLink,{"data-test-subj":"o11yGroupListViewLink",href:T.prepend(d.i.sloDetails(null===(h=u.worst.slo)||void 0===h?void 0:h.id,null===(x=u.worst.slo)||void 0===x?void 0:x.instanceId))},r.i18n.translate("xpack.slo.group.worstPerforming",{defaultMessage:"Worst performing: "}),s.a.createElement(n.EuiTextColor,{color:"HEALTHY"!==(null==u?void 0:u.worst.status)?"danger":void 0},s.a.createElement("strong",null,q)))))),id:e,initialIsOpen:!1},L&&s.a.createElement(s.a.Fragment,null,s.a.createElement(n.EuiSpacer,{size:"m"}),s.a.createElement(E.a,{sloList:_,loading:R||B,error:D,view:a}),s.a.createElement(n.EuiSpacer,{size:"m"}),N>0&&N>A?s.a.createElement(n.EuiTablePagination,{pageCount:Math.ceil(N/A),activePage:j,onChangePage:e=>{w(e)},itemsPerPage:A,onChangeItemsPerPage:e=>{w(0),F(e)}}):null)))),s.a.createElement(n.EuiHorizontalRule,{margin:"xs"}))}const O=Object(l.memo)(n.EuiAccordion);function I({kqlQuery:e,view:t,sort:a,direction:r,groupBy:d,groupsFilter:m,filters:p,lastRefreshTime:g}){const{state:E,onStateChange:f}=Object(i.c)(),{tagsFilter:b,statusFilter:v,page:y,perPage:h,lastRefresh:O}=E,{data:I,isLoading:C,isError:k,isRefetching:j,refetch:w}=Object(o.a)({perPage:h,page:y+1,groupBy:d,kqlQuery:e,tagsFilter:b,statusFilter:v,filters:p,lastRefresh:O,groupsFilter:m});Object(l.useEffect)((()=>{w()}),[g,w]);const{results:S=[],total:M=0}=null!=I?I:{};return C||j?s.a.createElement(n.EuiEmptyPrompt,{"data-test-subj":"sloGroupListLoading",title:s.a.createElement(n.EuiLoadingSpinner,{size:"xl"})}):C||k||0!==S.length?!C&&k?s.a.createElement(u,null):s.a.createElement(n.EuiFlexItem,{"data-test-subj":"sloGroupView"},S&&S.map((n=>s.a.createElement(x,{groupBy:n.groupBy,key:n.group,view:t,group:n.group,kqlQuery:e,sort:a,direction:r,summary:n.summary,filters:p}))),M>0&&M>h?s.a.createElement(n.EuiFlexItem,null,s.a.createElement(n.EuiTablePagination,{"data-test-subj":"sloGroupListPagination",pageCount:Math.ceil(M/h),activePage:y,onChangePage:e=>{f({page:e})},itemsPerPage:h,itemsPerPageOptions:[10,25,50,100],onChangeItemsPerPage:e=>{f({perPage:e,page:0})}})):null):s.a.createElement(c,null)}},212:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(0);const l=".es-query",s="xpack.ml.anomaly_detection_alert";var o=a(86);function i(){const{observabilityRuleTypeRegistry:e}=Object(o.a)();return Object(n.useMemo)((()=>[l,s,...e.list()]),[e])}},93:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(5),l=a(74),s=a(1),o=a(7),i=a(79);function r(){var e,t,a,r;const{application:{capabilities:c}}=Object(l.a)().services,{data:u,isLoading:d}=function(){const{http:e,notifications:{toasts:t}}=Object(l.a)().services,{isLoading:a,data:n}=Object(o.useQuery)({queryKey:i.a.globalDiagnosis(),queryFn:async({signal:t})=>{try{return await e.get("/internal/observability/slos/_diagnosis",{query:{},signal:t})}catch(e){throw function(e){return{...e,message:Object(e).body.message}}(e)}},keepPreviousData:!0,refetchOnWindowFocus:!1,retry:!1,onError:e=>{t.addError(e,{title:s.i18n.translate("xpack.slo.globalDiagnosis.errorNotification",{defaultMessage:"You do not have the right permissions to use this feature."})})}});return{data:n,isLoading:a}}(),m=null!==(e=!!c[n.sloFeatureId].read)&&void 0!==e&&e,p=null!==(t=!!c[n.sloFeatureId].write)&&void 0!==t&&t,g=null!==(a=!(null==u||!u.userPrivileges.read.has_all_requested))&&void 0!==a&&a,E=null!==(r=!(null==u||!u.userPrivileges.write.has_all_requested))&&void 0!==r&&r;return{isLoading:d,data:d?void 0:{capabilities:{read:m,write:p},privileges:{read:g,write:E},hasAllReadRequested:m&&g,hasAllWriteRequested:p&&E}}}}}]);