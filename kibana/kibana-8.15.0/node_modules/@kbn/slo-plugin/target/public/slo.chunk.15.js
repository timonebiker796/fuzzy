/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.slo_bundle_jsonpfunction=window.slo_bundle_jsonpfunction||[]).push([[15],{108:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var o=n(0),a=n.n(o),l=n(6),i=n(1),r=n(30),s=n(75),u=n(85);const c=i.i18n.translate("xpack.slo.sloEmbeddable.config.errors.sloRequired",{defaultMessage:"SLO is required."});function d({initialSlos:e,onSelected:t,hasError:n,singleSelection:d}){const f=e=>{var t;return null!==(t=null==e?void 0:e.map((e=>({label:e.instanceId!==s.a?`${e.name} (${e.instanceId})`:e.name,value:`${e.id}-${e.instanceId}`}))))&&void 0!==t?t:[]},[b,m]=Object(o.useState)([]),[v,E]=Object(o.useState)(f(e)),[g,y]=Object(o.useState)(""),p=`${g}*`,{isLoading:h,data:S}=Object(u.a)({kqlQuery:`slo.name: (${p}) or slo.instanceId.text: (${p})`,perPage:100});Object(o.useEffect)((()=>{const e=h||void 0===(null==S?void 0:S.results)?[]:f(null==S?void 0:S.results);m(e)}),[h,S]);const j=Object(o.useMemo)((()=>Object(r.debounce)((e=>{y(e)}),300)),[]);return a.a.createElement(l.EuiFormRow,{fullWidth:!0,isInvalid:n,error:n?c:void 0,label:i.i18n.translate("xpack.slo.embeddable.sloSelectorLabel",{defaultMessage:"SLO"})},a.a.createElement(l.EuiComboBox,{"aria-label":i.i18n.translate("xpack.slo.sloEmbeddable.config.sloSelector.ariaLabel",{defaultMessage:"SLO"}),placeholder:i.i18n.translate("xpack.slo.sloEmbeddable.config.sloSelector.placeholder",{defaultMessage:"Select a SLO"}),"data-test-subj":"sloSelector",options:b,selectedOptions:v,async:!0,isLoading:h,onChange:e=>{var n;E(e);const o=e.length>=1?null===(n=S.results)||void 0===n?void 0:n.filter((t=>e.find((e=>e.value===`${t.id}-${t.instanceId}`)))):void 0;t(d?null==o?void 0:o[0]:o)},fullWidth:!0,onSearchChange:j,isInvalid:n,singleSelection:d?{asPlainText:!0}:void 0}))}},335:function(e,t,n){"use strict";n.r(t),n.d(t,"openSloConfiguration",(function(){return g}));var o=n(0),a=n.n(o),l=n(7),i=n(98),r=n(17),s=n(32),u=n.n(s),c=n(6),d=n(29),f=n(1),b=n(75),m=n(108);function v({initialInput:e,onCreate:t,onCancel:n}){var l,i;const[r,s]=Object(o.useState)(null!==(l=null==e?void 0:e.showAllGroupByInstances)&&void 0!==l&&l),[u,v]=Object(o.useState)(null!==(i=null==e?void 0:e.slos)&&void 0!==i?i:[]),[g,y]=Object(o.useState)(!1),p=null==u?void 0:u.some((e=>e.instanceId!==b.a));return a.a.createElement(E,{onClose:n},a.a.createElement(c.EuiFlyoutHeader,null,a.a.createElement(c.EuiTitle,null,a.a.createElement("h2",null,f.i18n.translate("xpack.slo.sloEmbeddable.config.sloSelector.headerTitle",{defaultMessage:"Alerts configuration"})))),a.a.createElement(c.EuiFlyoutBody,null,a.a.createElement(c.EuiFlexGroup,null,a.a.createElement(c.EuiFlexItem,{grow:!0},a.a.createElement(m.a,{initialSlos:u,hasError:g,singleSelection:!1,onSelected:e=>{y(void 0===e),Array.isArray(e)&&v(null==e?void 0:e.map((e=>({id:null==e?void 0:e.id,instanceId:null==e?void 0:e.instanceId,name:null==e?void 0:e.name,groupBy:null==e?void 0:e.groupBy}))))}}))),p&&a.a.createElement(a.a.Fragment,null,a.a.createElement(c.EuiSpacer,null),a.a.createElement(c.EuiSwitch,{label:f.i18n.translate("xpack.slo.sloConfiguration.euiSwitch.showAllGroupByLabel",{defaultMessage:"Show all related group-by instances"}),checked:r,onChange:e=>{s(e.target.checked)}}))),a.a.createElement(c.EuiFlyoutFooter,null,a.a.createElement(c.EuiFlexGroup,{justifyContent:"spaceBetween"},a.a.createElement(c.EuiButtonEmpty,{onClick:n,"data-test-subj":"sloCancelButton"},a.a.createElement(d.FormattedMessage,{id:"xpack.slo.Embeddable.config.cancelButtonLabel",defaultMessage:"Cancel"})),a.a.createElement(c.EuiButton,{"data-test-subj":"sloConfirmButton",isDisabled:!u||0===u.length||g,onClick:()=>t({slos:u,showAllGroupByInstances:r}),fill:!0},a.a.createElement(d.FormattedMessage,{id:"xpack.slo.embeddableSlo.config.confirmButtonLabel",defaultMessage:"Confirm configurations"})))))}var E=u()(c.EuiFlyout).withConfig({displayName:"_StyledEuiFlyout",componentId:"sc-1rdwff9-0"})(["min-width:550px;"]);async function g(e,t,n){const{overlays:o}=e,s=new l.QueryClient;return new Promise((async(u,c)=>{try{const d=o.openFlyout(Object(i.a)(a.a.createElement(r.KibanaContextProvider,{services:{...e,...t}},a.a.createElement(l.QueryClientProvider,{client:s},a.a.createElement(v,{initialInput:n,onCreate:e=>{d.close(),u(e)},onCancel:()=>{d.close(),c()}}))),e))}catch(e){c(e)}}))}},76:function(e,t,n){e.exports=n(24)(4)},84:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(36),a=n(0),l=o.__importDefault(n(89));t.default=function(e,t){var n=a.useState(t),o=n[0],i=n[1];return l.default((function(){var t=e.subscribe(i);return function(){return t.unsubscribe()}}),[e]),o}},88:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return l}));var o=n(6);const a=e=>e.darkMode?o.COLOR_MODES_STANDARD.dark:o.COLOR_MODES_STANDARD.light,l={darkMode:!1}},89:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a="undefined"!=typeof window?o.useLayoutEffect:o.useEffect;t.default=a},90:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setEuiDevProviderWarning=t.getEuiDevProviderWarning=t.emitEuiProviderWarning=void 0;var o=void 0;t.setEuiDevProviderWarning=function(e){return o=e},t.getEuiDevProviderWarning=function(){return o},t.emitEuiProviderWarning=function(e){if("function"==typeof o)return o(e);switch(o){case"log":console.log(e);break;case"warn":console.warn(e);break;case"error":throw new Error(e)}}},92:function(e,t,n){"use strict";n.d(t,"b",(function(){return S})),n.d(t,"a",(function(){return h}));var o=n(0),a=n(43),l=n(90),i=n(84),r=n.n(i),s=n(46),u=n.n(s),c=n(6);const d="eui-global",f="eui-utilities";var b=n(88),m=n(28);const v=[c.euiStylisPrefixer],E=u()({key:"css",stylisPlugins:v,container:document.querySelector('meta[name="emotion"]')}),g=u()({key:d,stylisPlugins:v,container:document.querySelector(`meta[name="${d}"]`)}),y=u()({key:f,stylisPlugins:v,container:document.querySelector(`meta[name="${f}"]`)});E.compat=!0,g.compat=!0,y.compat=!0;const p={default:E,global:g,utility:y},h=({theme:{theme$:e},globalStyles:t,colorMode:n,modify:a,children:l})=>{const i=r()(e,b.a),s=Object(o.useMemo)((()=>Object(b.b)(i)),[i]),u=n||s,d=!1!==t&&void 0;return Object(m.jsx)(c.EuiProvider,{cache:p,modify:a,colorMode:u,globalStyles:d,utilityClasses:d},l)},S=({children:e,i18n:t,...n})=>Object(a.useIsNestedEuiProvider)()?(Object(l.emitEuiProviderWarning)("KibanaRootContextProvider has likely been nested in this React tree, either by direct reference or by KibanaRenderContextProvider.  The result of this nesting is a nesting of EuiProvider, which has negative effects.  Check your React tree for nested Kibana context providers."),Object(m.jsx)(t.Context,null,e)):Object(m.jsx)(h,n,Object(m.jsx)(t.Context,null,e))},94:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n(76),a=n.n(o),l=(n(0),n(92)),i=n(44),r=n(28);const s=({children:e,...t})=>Object(r.jsx)(l.b,a()({globalStyles:!1},t),Object(r.jsx)(i.KibanaErrorBoundaryProvider,{analytics:t.analytics},Object(r.jsx)(i.KibanaErrorBoundary,null,e)))},98:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n(0),a=n(37),l=n.n(a),i=n(94),r=n(28);const s=(e,t)=>n=>(l.a.render(Object(r.jsx)(i.a,t,e),n),()=>l.a.unmountComponentAtNode(n));n(2),n(1),o.Component}}]);