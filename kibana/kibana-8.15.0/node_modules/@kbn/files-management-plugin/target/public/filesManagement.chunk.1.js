(window.filesManagement_bundle_jsonpfunction=window.filesManagement_bundle_jsonpfunction||[]).push([[1],Array(22).concat([function(e,t,n){e.exports=n(15)(4)},function(e,t,n){"use strict";var a,i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),s=[];function o(e){for(var t=-1,n=0;n<s.length;n++)if(s[n].identifier===e){t=n;break}return t}function r(e,t){for(var n={},a=[],i=0;i<e.length;i++){var r=e[i],l=t.base?r[0]+t.base:r[0],c=n[l]||0,u="".concat(l," ").concat(c);n[l]=c+1;var d=o(u),b={css:r[1],media:r[2],sourceMap:r[3]};-1!==d?(s[d].references++,s[d].updater(b)):s.push({identifier:u,updater:p(b,t),references:1}),a.push(u)}return a}function l(e){var t=document.createElement("style"),a=e.attributes||{};if(void 0===a.nonce){var s=n.nc;s&&(a.nonce=s)}if(Object.keys(a).forEach((function(e){t.setAttribute(e,a[e])})),"function"==typeof e.insert)e.insert(t);else{var o=i(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var c,u=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function d(e,t,n,a){var i=n?"":a.media?"@media ".concat(a.media," {").concat(a.css,"}"):a.css;if(e.styleSheet)e.styleSheet.cssText=u(t,i);else{var s=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(s,o[t]):e.appendChild(s)}}function b(e,t,n){var a=n.css,i=n.media,s=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),s&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}var g=null,m=0;function p(e,t){var n,a,i;if(t.singleton){var s=m++;n=g||(g=l(t)),a=d.bind(null,n,s,!1),i=d.bind(null,n,s,!0)}else n=l(t),a=b.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===a&&(a=Boolean(window&&document&&document.all&&!window.atob)),a));var n=r(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var a=0;a<n.length;a++){var i=o(n[a]);s[i].references--}for(var l=r(e,t),c=0;c<n.length;c++){var u=o(n[c]);0===s[u].references&&(s[u].updater(),s.splice(u,1))}n=l}}}},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,a,i,s=e[1]||"",o=e[3];if(!o)return s;if(t&&"function"==typeof btoa){var r=(n=o,a=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(i," */")),l=o.sources.map((function(e){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(e," */")}));return[s].concat(l).concat([r]).join("\n")}return[s].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,a){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(a)for(var s=0;s<this.length;s++){var o=this[s][0];null!=o&&(i[o]=!0)}for(var r=0;r<e.length;r++){var l=[].concat(e[r]);a&&i[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},function(e,t,n){"use strict";n.d(t,"d",(function(){return S})),n.d(t,"c",(function(){return E})),n.d(t,"b",(function(){return C})),n.d(t,"a",(function(){return F})),n.d(t,"g",(function(){return y})),n.d(t,"h",(function(){return O})),n.d(t,"e",(function(){return h})),n.d(t,"f",(function(){return j})),n.d(t,"i",(function(){return x}));var a=n(4),i=n.n(a),s=n(22),o=n.n(s),r=n(27),l=n(6),c=n(28),u=n(5);const d=({user:e,avatar:t,...n})=>{const a=Object(c.e)(e);return Object(u.jsx)(l.EuiToolTip,o()({content:Object(u.jsx)(l.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},Object(u.jsx)(l.EuiFlexItem,{grow:!1},Object(u.jsx)(r.a,{user:e,avatar:t,size:"l"})),Object(u.jsx)(l.EuiFlexItem,{grow:!0,style:{minWidth:0}},Object(u.jsx)("div",null,a),e.email&&e.email!==a?Object(u.jsx)(l.EuiText,{size:"xs"},e.email):void 0))},n))},b=({user:e,avatar:t,...n})=>e?Object(u.jsx)(d,{user:e,avatar:t,position:"top",delay:"regular"},Object(u.jsx)(r.a,o()({user:e,avatar:t},n))):Object(u.jsx)(r.a,n);var g=n(10);const m=()=>{let e,t;const n=new Promise(((n,a)=>{e=n,t=a}));return{resolve:e,reject:t,value:n}},p=new g.QueryClient({defaultOptions:{queries:{retry:!1,staleTime:18e5}}}),f=i.a.createContext(null),j=({children:e,...t})=>Object(u.jsx)(g.QueryClientProvider,{client:p},Object(u.jsx)(f.Provider,{value:t},e)),h=({children:e,core:t})=>{const n=Object(a.useCallback)((async e=>0===e.length?[]:t.userProfile.bulkGet({uids:new Set(e),dataPath:"avatar"})),[t.userProfile]),i=Object(a.useMemo)((()=>(e=>{const t={batch:new Set,currentRequest:m(),timer:void 0,start:null,latest:null};return{fetch:n=>(t.start||(t.start=Date.now()),t.latest=Date.now(),t.batch.add(n),clearTimeout(t.timer),t.timer=setTimeout((()=>{const n=e.fetcher([...t.batch]),a=t.currentRequest;return t.batch=new Set,t.currentRequest=m(),t.timer=void 0,t.start=null,t.latest=null,n.then((e=>{a.resolve(e)})).catch((e=>{a.reject(e)})),n}),50-(t.latest-t.start)),t.currentRequest.value.then((t=>e.resolver(t,n))))}})({fetcher:n,resolver:(e,t)=>e.find((e=>e.uid===t))}).fetch),[n]);return Object(u.jsx)(j,{getUserProfile:i,bulkGetUserProfiles:n},e)};function x(){const e=Object(a.useContext)(f);if(!e)throw new Error("UserProfilesContext is missing. Ensure your component or React root is wrapped with <UserProfilesProvider />");return e}const v=e=>["user-profile",{uids:e}],y=e=>{const{getUserProfile:t}=x();return Object(g.useQuery)((e=>["user-profile",e])(e),(async()=>t(e)),{staleTime:1/0})},O=(e,t)=>{var n;const{bulkGetUserProfiles:a}=x();return Object(g.useQuery)({queryKey:v(e),queryFn:()=>a(e),enabled:null===(n=null==t?void 0:t.enabled)||void 0===n||n})};function S(e){const t=y(e.uid);return t.data?Object(u.jsx)(b,{user:t.data.user,avatar:t.data.data.avatar,size:"s","data-test-subj":`userAvatarTip-${t.data.user.username}`}):null}var M=n(7);const C=e=>Object(u.jsx)(w,o()({content:Object(u.jsx)(M.FormattedMessage,{id:"contentManagement.userProfiles.noCreatorTip",defaultMessage:"Creators are assigned when objects are created (after version 8.14)"})},e)),E=e=>Object(u.jsx)(w,o()({content:Object(u.jsx)(M.FormattedMessage,{id:"contentManagement.userProfiles.noUpdaterTip",defaultMessage:"Updated by is set when objects are updated (after version 8.14)"})},e));var k={name:"xnsfkl",styles:"text-wrap:balance"};const w=({iconType:e="questionInCircle",...t})=>Object(u.jsx)(l.EuiIconTip,o()({"aria-label":"Additional information",position:"top",color:"inherit",iconProps:{style:{verticalAlign:"text-bottom",marginLeft:2}},css:k,type:e},t));var T=n(0);function F({entityName:e=T.i18n.translate("contentManagement.userProfiles.managedAvatarTip.defaultEntityName",{defaultMessage:"object"})}){return Object(u.jsx)(l.EuiToolTip,{content:T.i18n.translate("contentManagement.userProfiles.managedAvatarTip.avatarTooltip",{defaultMessage:"This {entityName} is created and managed by Elastic. Clone it to make changes.",values:{entityName:e}})},Object(u.jsx)(l.EuiAvatar,{name:T.i18n.translate("contentManagement.userProfiles.managedAvatarTip.avatarLabel",{defaultMessage:"Managed"}),iconType:"logoElastic",iconSize:"l",color:"subdued",size:"s","data-test-subj":"managedAvatarTip"}))}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(22),i=n.n(a),s=n(6),o=(n(4),n(28)),r=n(5);const l=({user:e,avatar:t,...n})=>{const{euiTheme:a}=Object(s.useEuiTheme)();if(!e)return Object(r.jsx)(s.EuiAvatar,i()({name:"",color:a.colors.lightestShade,initials:"?"},n));const l=Object(o.d)(e);return null!=t&&t.imageUrl?Object(r.jsx)(s.EuiAvatar,i()({name:l,imageUrl:t.imageUrl,color:"plain"},n)):Object(r.jsx)(s.EuiAvatar,i()({name:l,initials:Object(o.c)(e,t),initialsLength:o.a,color:Object(o.b)(e,t)},n))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return c}));var a=n(6);const i=97,s=2;function o(e,t){if(t&&t.color)return t.color;const n=l(e).codePointAt(0)||i;return a.VISUALIZATION_COLORS[n%a.VISUALIZATION_COLORS.length]}function r(e,t){if(t&&t.initials)return t.initials;const n=l(e).split(" "),a=Math.min(s,n.length);return n.splice(a,n.length),n.map((e=>e.substring(0,1))).join("")}function l(e){return e.full_name||e.email||e.username}function c(e){const t=l(e);return e.email&&e.email!==t?`${t} (${e.email})`:t}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),i=n(4),s=a.__importDefault(n(39));t.default=function(e,t){var n=i.useState(t),a=n[0],o=n[1];return s.default((function(){var t=e.subscribe(o);return function(){return t.unsubscribe()}}),[e]),a}},function(e,t,n){"use strict";e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},function(e,t,n){e.exports=n.p+"1cbd62546f764080f7071e03889e9de3.svg"},function(e,t,n){"use strict";e.exports=n(57)},function(e,t,n){"use strict";e.exports=n(64)},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),i="undefined"!=typeof window?a.useLayoutEffect:a.useEffect;t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setEuiDevProviderWarning=t.getEuiDevProviderWarning=t.emitEuiProviderWarning=void 0;var a=void 0;t.setEuiDevProviderWarning=function(e){return a=e},t.getEuiDevProviderWarning=function(){return a},t.emitEuiProviderWarning=function(e){if("function"==typeof a)return a(e);switch(a){case"log":console.log(e);break;case"warn":console.warn(e);break;case"error":throw new Error(e)}}},function(e,t,n){e.exports=n(15)(2)},function(e,t,n){"use strict";const a=n(43),i=n(44),s=n(45);function o(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function r(e,t){return t.encode?t.strict?a(e):encodeURIComponent(e):e}function l(e,t){return t.decode?i(e):e}function c(e){return Array.isArray(e)?e.sort():"object"==typeof e?c(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function u(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function d(e){const t=(e=u(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function b(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function g(e,t){o((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const n=function(e){let t;switch(e.arrayFormat){case"index":return(e,n,a)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===a[e]&&(a[e]={}),a[e][t[1]]=n):a[e]=n};case"bracket":return(e,n,a)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==a[e]?a[e]=[].concat(a[e],n):a[e]=[n]:a[e]=n};case"comma":case"separator":return(t,n,a)=>{const i="string"==typeof n&&n.split("").indexOf(e.arrayFormatSeparator)>-1?n.split(e.arrayFormatSeparator).map((t=>l(t,e))):null===n?n:l(n,e);a[t]=i};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),a=Object.create(null);if("string"!=typeof e)return a;if(!(e=e.trim().replace(/^[?#&]/,"")))return a;for(const i of e.split("&")){let[e,o]=s(t.decode?i.replace(/\+/g," "):i,"=");o=void 0===o?null:["comma","separator"].includes(t.arrayFormat)?o:l(o,t),n(l(e,t),o,a)}for(const e of Object.keys(a)){const n=a[e];if("object"==typeof n&&null!==n)for(const e of Object.keys(n))n[e]=b(n[e],t);else a[e]=b(n,t)}return!1===t.sort?a:(!0===t.sort?Object.keys(a).sort():Object.keys(a).sort(t.sort)).reduce(((e,t)=>{const n=a[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=c(n):e[t]=n,e}),Object.create(null))}t.extract=d,t.parse=g,t.stringify=(e,t)=>{if(!e)return"";o((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const n=n=>t.skipNull&&null==e[n]||t.skipEmptyString&&""===e[n],a=function(e){switch(e.arrayFormat){case"index":return t=>(n,a)=>{const i=n.length;return void 0===a||e.skipNull&&null===a||e.skipEmptyString&&""===a?n:null===a?[...n,[r(t,e),"[",i,"]"].join("")]:[...n,[r(t,e),"[",r(i,e),"]=",r(a,e)].join("")]};case"bracket":return t=>(n,a)=>void 0===a||e.skipNull&&null===a||e.skipEmptyString&&""===a?n:null===a?[...n,[r(t,e),"[]"].join("")]:[...n,[r(t,e),"[]=",r(a,e)].join("")];case"comma":case"separator":return t=>(n,a)=>null==a||0===a.length?n:0===n.length?[[r(t,e),"=",r(a,e)].join("")]:[[n,r(a,e)].join(e.arrayFormatSeparator)];default:return t=>(n,a)=>void 0===a||e.skipNull&&null===a||e.skipEmptyString&&""===a?n:null===a?[...n,r(t,e)]:[...n,[r(t,e),"=",r(a,e)].join("")]}}(t),i={};for(const t of Object.keys(e))n(t)||(i[t]=e[t]);const s=Object.keys(i);return!1!==t.sort&&s.sort(t.sort),s.map((n=>{const i=e[n];return void 0===i?"":null===i?r(n,t):Array.isArray(i)?i.reduce(a(n),[]).join("&"):r(n,t)+"="+r(i,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[n,a]=s(e,"#");return Object.assign({url:n.split("?")[0]||"",query:g(d(e),t)},t&&t.parseFragmentIdentifier&&a?{fragmentIdentifier:l(a,t)}:{})},t.stringifyUrl=(e,n)=>{n=Object.assign({encode:!0,strict:!0},n);const a=u(e.url).split("?")[0]||"",i=t.extract(e.url),s=t.parse(i,{sort:!1}),o=Object.assign(s,e.query);let l=t.stringify(o,n);l&&(l=`?${l}`);let c=function(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(e.url);return e.fragmentIdentifier&&(c=`#${r(e.fragmentIdentifier,n)}`),`${a}${l}${c}`}},function(e,t,n){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},function(e,t,n){"use strict";var a="%[a-f0-9]{2}",i=new RegExp("("+a+")|([^%]+?)","gi"),s=new RegExp("("+a+")+","gi");function o(e,t){try{return[decodeURIComponent(e.join(""))]}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),a=e.slice(t);return Array.prototype.concat.call([],o(n),o(a))}function r(e){try{return decodeURIComponent(e)}catch(a){for(var t=e.match(i)||[],n=1;n<t.length;n++)t=(e=o(t,n).join("")).match(i)||[];return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=s.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var a=r(n[0]);a!==n[0]&&(t[n[0]]=a)}n=s.exec(e)}t["%C2"]="�";for(var i=Object.keys(t),o=0;o<i.length;o++){var l=i[o];e=e.replace(new RegExp(l,"g"),t[l])}return e}(e)}}},function(e,t,n){"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),i=n(4),s=a.__importDefault(n(47));t.default=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=[]);var a=s.default(e,t),o=a[0],r=a[1],l=a[2];return i.useEffect(l,n),[o,r]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(4);t.default=function(e,t){void 0===t&&(t=0);var n=a.useRef(!1),i=a.useRef(),s=a.useRef(e),o=a.useCallback((function(){return n.current}),[]),r=a.useCallback((function(){n.current=!1,i.current&&clearTimeout(i.current),i.current=setTimeout((function(){n.current=!0,s.current()}),t)}),[t]),l=a.useCallback((function(){n.current=null,i.current&&clearTimeout(i.current)}),[]);return a.useEffect((function(){s.current=e}),[e]),a.useEffect((function(){return r(),l}),[t]),[o,l,r]}},function(e,t,n){switch(window.__kbnThemeTag__){case"v8dark":return n(49);case"v8light":return n(51)}},function(e,t,n){var a=n(23),i=n(50);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);a(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){var a=n(24),i=n(31),s=n(32);t=a(!1);var o=i(s);t.push([e.i,".kbnSolutionAvatar{box-shadow:0 .7px 1.4px rgba(0,0,0,.175),0 1.9px 4px rgba(0,0,0,.125),0 4.5px 10px rgba(0,0,0,.125)}.kbnSolutionAvatar--xxl{background:#1d1e24 url("+o+") no-repeat;background-size:cover,125%;border-radius:100px;box-shadow:0 .9px 4px -1px #0003,0 2.6px 8px -1px #00000026,0 5.7px 12px -1px rgba(0,0,0,.125),0 15px 15px -1px #0000001a;display:inline-block;height:100px;line-height:100px;text-align:center;width:100px}",""]),e.exports=t},function(e,t,n){var a=n(23),i=n(52);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);a(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){var a=n(24),i=n(31),s=n(32);t=a(!1);var o=i(s);t.push([e.i,".kbnSolutionAvatar{box-shadow:0 .7px 1.4px #00000012,0 1.9px 4px #0000000d,0 4.5px 10px #0000000d}.kbnSolutionAvatar--xxl{background:#fff url("+o+") no-repeat;background-size:cover,125%;border-radius:100px;box-shadow:0 .9px 4px -1px #00000014,0 2.6px 8px -1px #0000000f,0 5.7px 12px -1px #0000000d,0 15px 15px -1px #0000000a;display:inline-block;height:100px;line-height:100px;text-align:center;width:100px}",""]),e.exports=t},function(e,t,n){e.exports=n.p+"baad30acfe492601d08a0e839c9bb3f5.svg"},function(e,t,n){"use strict";e.exports=n(55)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(56);n(12),n(33),n(34);var i=a.default({key:"css"}),s=i.flush,o=i.hydrate,r=i.cx,l=i.merge,c=i.getRegisteredStyles,u=i.injectGlobal,d=i.keyframes,b=i.css,g=i.sheet,m=i.cache;t.cache=m,t.css=b,t.cx=r,t.flush=s,t.getRegisteredStyles=c,t.hydrate=o,t.injectGlobal=u,t.keyframes=d,t.merge=l,t.sheet=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(12),i=n(33),s=n(34);function o(e){return e&&e.__esModule?e:{default:e}}var r=o(a);function l(e,t){if(void 0===e.inserted[t.name])return e.insert("",t,e.sheet,!0)}function c(e,t,n){var a=[],i=s.getRegisteredStyles(e,a,n);return a.length<2?n:i+t(a)}var u=function e(t){for(var n="",a=0;a<t.length;a++){var i=t[a];if(null!=i){var s=void 0;switch(typeof i){case"boolean":break;case"object":if(Array.isArray(i))s=e(i);else for(var o in s="",i)i[o]&&o&&(s&&(s+=" "),s+=o);break;default:s=i}s&&(n&&(n+=" "),n+=s)}}return n};t.default=function(e){var t=r.default(e);t.sheet.speedy=function(e){this.isSpeedy=e},t.compat=!0;var n=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];var o=i.serializeStyles(n,t.registered,void 0);return s.insertStyles(t,o,!1),t.key+"-"+o.name};return{css:n,cx:function(){for(var e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return c(t.registered,n,u(a))},injectGlobal:function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];var s=i.serializeStyles(n,t.registered);l(t,s)},keyframes:function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];var s=i.serializeStyles(n,t.registered),o="animation-"+s.name;return l(t,{name:s.name,styles:"@keyframes "+o+"{"+s.styles+"}"}),o},hydrate:function(e){e.forEach((function(e){t.inserted[e]=!0}))},flush:function(){t.registered={},t.inserted={},t.sheet.flush()},sheet:t.sheet,cache:t,getRegisteredStyles:s.getRegisteredStyles.bind(null,t.registered),merge:c.bind(null,t.registered,n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(58),i=n(60),s=n(62);function o(e){return e&&e.__esModule?e:{default:e}}var r=o(a),l=o(i),c=/[A-Z]|^ms/g,u=/_EMO_([^_]+?)_([^]*?)_EMO_/g,d=function(e){return 45===e.charCodeAt(1)},b=function(e){return null!=e&&"boolean"!=typeof e},g=o(s).default((function(e){return d(e)?e:e.replace(c,"-$&").toLowerCase()})),m=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(u,(function(e,t,n){return f={name:t,styles:n,next:f},t}))}return 1===l.default[e]||d(e)||"number"!=typeof t||0===t?t:t+"px"};function p(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return f={name:n.name,styles:n.styles,next:f},n.name;if(void 0!==n.styles){var a=n.next;if(void 0!==a)for(;void 0!==a;)f={name:a.name,styles:a.styles,next:f},a=a.next;return n.styles+";"}return function(e,t,n){var a="";if(Array.isArray(n))for(var i=0;i<n.length;i++)a+=p(e,t,n[i])+";";else for(var s in n){var o=n[s];if("object"!=typeof o)null!=t&&void 0!==t[o]?a+=s+"{"+t[o]+"}":b(o)&&(a+=g(s)+":"+m(s,o)+";");else if(!Array.isArray(o)||"string"!=typeof o[0]||null!=t&&void 0!==t[o[0]]){var r=p(e,t,o);switch(s){case"animation":case"animationName":a+=g(s)+":"+r+";";break;default:a+=s+"{"+r+"}"}}else for(var l=0;l<o.length;l++)b(o[l])&&(a+=g(s)+":"+m(s,o[l])+";")}return a}(e,t,n);case"function":if(void 0!==e){var i=f,s=n(e);return f=i,p(e,t,s)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var f,j=/label:\s*([^\s;\n{]+)\s*(;|$)/g;t.serializeStyles=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var a=!0,i="";f=void 0;var s=e[0];null==s||void 0===s.raw?(a=!1,i+=p(n,t,s)):i+=s[0];for(var o=1;o<e.length;o++)i+=p(n,t,e[o]),a&&(i+=s[o]);j.lastIndex=0;for(var l,c="";null!==(l=j.exec(i));)c+="-"+l[1];return{name:r.default(i)+c,styles:i,next:f}}},function(e,t,n){"use strict";e.exports=n(59)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t,n=0,a=0,i=e.length;i>=4;++a,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(a)|(255&e.charCodeAt(++a))<<8|(255&e.charCodeAt(++a))<<16|(255&e.charCodeAt(++a))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(a+2))<<16;case 2:n^=(255&e.charCodeAt(a+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(a)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}},function(e,t,n){"use strict";e.exports=n(61)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(e,t,n){"use strict";e.exports=n(63)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="undefined"!=typeof document,i=function(e,t,n){var i=e.key+"-"+t.name;(!1===n||!1===a&&void 0!==e.compat)&&void 0===e.registered[i]&&(e.registered[i]=t.styles)};t.getRegisteredStyles=function(e,t,n){var a="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):a+=n+" "})),a},t.insertStyles=function(e,t,n){i(e,t,n);var s=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var o="",r=t;do{var l=e.insert(t===r?"."+s:"",r,e.sheet,!0);a||void 0===l||(o+=l),r=r.next}while(void 0!==r);if(!a&&0!==o.length)return o}},t.registerStyles=i},function(e,t,n){switch(window.__kbnThemeTag__){case"v8dark":return n(66);case"v8light":return n(68)}},function(e,t,n){var a=n(23),i=n(67);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);a(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(24)(!1)).push([e.i,'.kbnSolutionNav__flyout{background-color:#141519}.kbnSolutionNav__flyout .kbnSolutionNav{flex:auto}.kbnSolutionNav{display:flex;flex-direction:column;height:100%;overflow-x:hidden;overflow-y:auto;scrollbar-color:#98a2b380 #0000;scrollbar-width:thin}.kbnSolutionNav::-webkit-scrollbar{height:16px;width:16px}.kbnSolutionNav::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#98a2b380;border:6px solid #0000;border-radius:16px}.kbnSolutionNav::-webkit-scrollbar-corner,.kbnSolutionNav::-webkit-scrollbar-track{background-color:#0000}.kbnSolutionNav:focus{outline:none}.kbnSolutionNav[tabindex="0"]:focus:focus-visible{outline-style:auto}@media only screen and (min-width:768px)and (max-width:991px){.kbnSolutionNav{padding:24px;width:248px}}@media only screen and (min-width:992px)and (max-width:1199px){.kbnSolutionNav{padding:24px;width:248px}}@media only screen and (min-width:1200px){.kbnSolutionNav{padding:24px;width:248px}}.kbnSolutionNav__title{align-items:center;display:inline-flex}.kbnSolutionNav__titleAvatar{align-self:flex-start;margin-right:12px}.kbnSolutionNav--hidden{opacity:0;pointer-events:none}@media screen and (prefers-reduced-motion:no-preference){.kbnSolutionNav--hidden{transition:opacity .15s cubic-bezier(.694,.0482,.335,1)}}',""]),e.exports=t},function(e,t,n){var a=n(23),i=n(69);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);a(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(24)(!1)).push([e.i,'.kbnSolutionNav__flyout{background-color:#fafbfd}.kbnSolutionNav__flyout .kbnSolutionNav{flex:auto}.kbnSolutionNav{display:flex;flex-direction:column;height:100%;overflow-x:hidden;overflow-y:auto;scrollbar-color:#69707d80 #0000;scrollbar-width:thin}.kbnSolutionNav::-webkit-scrollbar{height:16px;width:16px}.kbnSolutionNav::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#69707d80;border:6px solid #0000;border-radius:16px}.kbnSolutionNav::-webkit-scrollbar-corner,.kbnSolutionNav::-webkit-scrollbar-track{background-color:#0000}.kbnSolutionNav:focus{outline:none}.kbnSolutionNav[tabindex="0"]:focus:focus-visible{outline-style:auto}@media only screen and (min-width:768px)and (max-width:991px){.kbnSolutionNav{padding:24px;width:248px}}@media only screen and (min-width:992px)and (max-width:1199px){.kbnSolutionNav{padding:24px;width:248px}}@media only screen and (min-width:1200px){.kbnSolutionNav{padding:24px;width:248px}}.kbnSolutionNav__title{align-items:center;display:inline-flex}.kbnSolutionNav__titleAvatar{align-self:flex-start;margin-right:12px}.kbnSolutionNav--hidden{opacity:0;pointer-events:none}@media screen and (prefers-reduced-motion:no-preference){.kbnSolutionNav--hidden{transition:opacity .15s cubic-bezier(.694,.0482,.335,1)}}',""]),e.exports=t},function(e,t,n){switch(window.__kbnThemeTag__){case"v8dark":return n(71);case"v8light":return n(73)}},function(e,t,n){var a=n(23),i=n(72);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);a(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(24)(!1)).push([e.i,".kbnSolutionNavCollapseButton{left:232px;opacity:0;position:absolute;top:24px;z-index:2}@media screen and (prefers-reduced-motion:no-preference){.kbnSolutionNavCollapseButton{transition:opacity .15s,left .15s,background .15s}}.kbnSolutionNavCollapseButton:focus,.kbnSolutionNavCollapseButton:hover{transition-delay:0s!important}.kbnSolutionNavCollapseButton:focus,.kbnSolutionNavCollapseButton:hover,.kbnSolutionNav__sidebar:hover .kbnSolutionNavCollapseButton{left:224px;opacity:1}.kbnSolutionNav__sidebar:hover .kbnSolutionNavCollapseButton{transition-delay:.7s}.kbnSolutionNavCollapseButton:not(.kbnSolutionNavCollapseButton-isCollapsed){background-color:#1d1e24!important}.kbnSolutionNavCollapseButton-isCollapsed{align-items:flex-start;border-radius:0;bottom:0;height:100%;left:0!important;opacity:1!important;padding-top:32px;right:auto;top:0;transition-delay:0s!important;width:40px}",""]),e.exports=t},function(e,t,n){var a=n(23),i=n(74);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);a(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(24)(!1)).push([e.i,".kbnSolutionNavCollapseButton{left:232px;opacity:0;position:absolute;top:24px;z-index:2}@media screen and (prefers-reduced-motion:no-preference){.kbnSolutionNavCollapseButton{transition:opacity .15s,left .15s,background .15s}}.kbnSolutionNavCollapseButton:focus,.kbnSolutionNavCollapseButton:hover{transition-delay:0s!important}.kbnSolutionNavCollapseButton:focus,.kbnSolutionNavCollapseButton:hover,.kbnSolutionNav__sidebar:hover .kbnSolutionNavCollapseButton{left:224px;opacity:1}.kbnSolutionNav__sidebar:hover .kbnSolutionNavCollapseButton{transition-delay:.7s}.kbnSolutionNavCollapseButton:not(.kbnSolutionNavCollapseButton-isCollapsed){background-color:#fff!important}.kbnSolutionNavCollapseButton-isCollapsed{align-items:flex-start;border-radius:0;bottom:0;height:100%;left:0!important;opacity:1!important;padding-top:32px;right:auto;top:0;transition-delay:0s!important;width:40px}",""]),e.exports=t},function(e,t,n){var a,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,r=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(l,{ValidationError:()=>p,decode:()=>v,encode:()=>O,isBlurhashValid:()=>j}),e.exports=(a=l,((e,t,n,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of o(t))!r.call(e,n)&&undefined!==n&&i(e,n,{get:()=>t[n],enumerable:!(a=s(t,n))||a.enumerable});return e})(i({},"__esModule",{value:!0}),a));var c=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","#","$","%","*","+",",","-",".",":",";","=","?","@","[","]","^","_","{","|","}","~"],u=e=>{let t=0;for(let n=0;n<e.length;n++){let a=e[n];t=83*t+c.indexOf(a)}return t},d=(e,t)=>{var n="";for(let a=1;a<=t;a++){let i=Math.floor(e)/Math.pow(83,t-a)%83;n+=c[Math.floor(i)]}return n},b=e=>{let t=e/255;return t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)},g=e=>{let t=Math.max(0,Math.min(1,e));return t<=.0031308?Math.trunc(12.92*t*255+.5):Math.trunc(255*(1.055*Math.pow(t,.4166666666666667)-.055)+.5)},m=(e,t)=>(e=>e<0?-1:1)(e)*Math.pow(Math.abs(e),t),p=class extends Error{constructor(e){super(e),this.name="ValidationError",this.message=e}},f=e=>{if(!e||e.length<6)throw new p("The blurhash string must be at least 6 characters");let t=u(e[0]),n=Math.floor(t/9)+1,a=t%9+1;if(e.length!==4+2*a*n)throw new p(`blurhash length mismatch: length is ${e.length} but it should be ${4+2*a*n}`)},j=e=>{try{f(e)}catch(e){return{result:!1,errorReason:e.message}}return{result:!0}},h=e=>{let t=e>>8&255,n=255&e;return[b(e>>16),b(t),b(n)]},x=(e,t)=>{let n=Math.floor(e/361),a=Math.floor(e/19)%19,i=e%19;return[m((n-9)/9,2)*t,m((a-9)/9,2)*t,m((i-9)/9,2)*t]},v=(e,t,n,a)=>{f(e),a|=1;let i=u(e[0]),s=Math.floor(i/9)+1,o=i%9+1,r=(u(e[1])+1)/166,l=new Array(o*s);for(let t=0;t<l.length;t++)if(0===t){let n=u(e.substring(2,6));l[t]=h(n)}else{let n=u(e.substring(4+2*t,6+2*t));l[t]=x(n,r*a)}let c=4*t,d=new Uint8ClampedArray(c*n);for(let e=0;e<n;e++)for(let a=0;a<t;a++){let i=0,r=0,u=0;for(let c=0;c<s;c++)for(let s=0;s<o;s++){let d=Math.cos(Math.PI*a*s/t)*Math.cos(Math.PI*e*c/n),b=l[s+c*o];i+=b[0]*d,r+=b[1]*d,u+=b[2]*d}let b=g(i),m=g(r),p=g(u);d[4*a+0+e*c]=b,d[4*a+1+e*c]=m,d[4*a+2+e*c]=p,d[4*a+3+e*c]=255}return d},y=(e,t,n,a)=>{let i=0,s=0,o=0,r=4*t;for(let l=0;l<t;l++){let t=4*l;for(let c=0;c<n;c++){let n=t+c*r,u=a(l,c);i+=u*b(e[n]),s+=u*b(e[n+1]),o+=u*b(e[n+2])}}let l=1/(t*n);return[i*l,s*l,o*l]},O=(e,t,n,a,i)=>{if(a<1||a>9||i<1||i>9)throw new p("BlurHash must have between 1 and 9 components");if(t*n*4!==e.length)throw new p("Width and height must match the pixels array");let s=[];for(let o=0;o<i;o++)for(let i=0;i<a;i++){let a=0==i&&0==o?1:2,r=y(e,t,n,((e,s)=>a*Math.cos(Math.PI*i*e/t)*Math.cos(Math.PI*o*s/n)));s.push(r)}let o,r=s[0],l=s.slice(1),c="";if(c+=d(a-1+9*(i-1),1),l.length>0){let e=Math.max(...l.map((e=>Math.max(...e)))),t=Math.floor(Math.max(0,Math.min(82,Math.floor(166*e-.5))));o=(t+1)/166,c+=d(t,1)}else o=1,c+=d(0,1);return c+=d((e=>(g(e[0])<<16)+(g(e[1])<<8)+g(e[2]))(r),4),l.forEach((e=>{c+=d(((e,t)=>19*Math.floor(Math.max(0,Math.min(18,Math.floor(9*m(e[0]/t,.5)+9.5))))*19+19*Math.floor(Math.max(0,Math.min(18,Math.floor(9*m(e[1]/t,.5)+9.5))))+Math.floor(Math.max(0,Math.min(18,Math.floor(9*m(e[2]/t,.5)+9.5)))))(e,o),2)})),c}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),i=n(77),s=a.__importDefault(n(79));t.default=function(e,t){s.default(e,t,i.isDeepEqual)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDeepEqual=t.off=t.on=t.isClient=void 0;var a=n(9).__importDefault(n(78));t.isClient="object"==typeof window,t.on=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e.addEventListener.apply(e,t)},t.off=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e.removeEventListener.apply(e,t)},t.isDeepEqual=a.default},function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var a,i,s;if(Array.isArray(t)){if((a=t.length)!=n.length)return!1;for(i=a;0!=i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((a=(s=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=a;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=a;0!=i--;){var o=s[i];if(!("_owner"===o&&t.$$typeof||e(t[o],n[o])))return!1}return!0}return t!=t&&n!=n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(4);t.default=function(e,t,n){var i=a.useRef(void 0);i.current&&n(t,i.current)||(i.current=t),a.useEffect(e,i.current)}},,,,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"mountManagementSection",(function(){return Wt}));var a=n(4),i=n.n(a),s=n(11),o=n.n(s),r=n(13),l=n(21),c=n(5);const u=({children:e,...t})=>Object(c.jsx)(r.Router,t,Object(c.jsx)(l.CompatRouter,null,e));var d=n(22),b=n.n(d);const g={services:{}},m=Object(a.createContext)(g);var p=n(76),f=n.n(p);const j=({children:e,component:t,render:n,...s})=>{const o=Object(a.useMemo)((()=>{if(t)return e=>Object(c.jsx)(i.a.Fragment,null,Object(c.jsx)(h,null),Object(c.jsx)(t,e))}),[t]);if(o)return Object(c.jsx)(r.Route,b()({},s,{component:o}));if(n||"function"==typeof e){const t="function"==typeof e?e:n;return Object(c.jsx)(r.Route,b()({},s,{render:e=>Object(c.jsx)(i.a.Fragment,null,Object(c.jsx)(h,null),t(e))}))}return Object(c.jsx)(r.Route,s,Object(c.jsx)(h,null),e)},h=()=>{const{executionContext:e}=Object(a.useContext)(m).services,t=Object(r.useRouteMatch)();return function(e,t){f()((()=>(null==e||e.set(t),()=>{null==e||e.clear()})),[t])}(e,{type:"application",page:t.path,id:Object.keys(t.params).length>0?JSON.stringify(t.params):void 0}),null};var x=n(16),v=n(40),y=n(30),O=n.n(y),S=n(12),M=n.n(S),C=n(6);const E="eui-global",k="eui-utilities",w={darkMode:!1},T=[C.euiStylisPrefixer],F=M()({key:"css",stylisPlugins:T,container:document.querySelector('meta[name="emotion"]')}),P=M()({key:E,stylisPlugins:T,container:document.querySelector(`meta[name="${E}"]`)}),N=M()({key:k,stylisPlugins:T,container:document.querySelector(`meta[name="${k}"]`)});F.compat=!0,P.compat=!0,N.compat=!0;const L={default:F,global:P,utility:N},I=({theme:{theme$:e},globalStyles:t,colorMode:n,modify:i,children:s})=>{const o=O()(e,w),r=Object(a.useMemo)((()=>(e=>e.darkMode?C.COLOR_MODES_STANDARD.dark:C.COLOR_MODES_STANDARD.light)(o)),[o]),l=n||r,u=!1!==t&&void 0;return Object(c.jsx)(C.EuiProvider,{cache:L,modify:i,colorMode:l,globalStyles:u,utilityClasses:u},s)},A=({children:e,i18n:t,...n})=>Object(x.useIsNestedEuiProvider)()?(Object(v.emitEuiProviderWarning)("KibanaRootContextProvider has likely been nested in this React tree, either by direct reference or by KibanaRenderContextProvider.  The result of this nesting is a nesting of EuiProvider, which has negative effects.  Check your React tree for nested Kibana context providers."),Object(c.jsx)(t.Context,null,e)):Object(c.jsx)(I,n,Object(c.jsx)(t.Context,null,e));var B=n(17);const D=({children:e,...t})=>Object(c.jsx)(A,b()({globalStyles:!1},t),Object(c.jsx)(B.KibanaErrorBoundaryProvider,{analytics:t.analytics},Object(c.jsx)(B.KibanaErrorBoundary,null,e)));var _=n(7),R=n(46),U=n.n(R),z=n(18),$=n(0),q=n(8),H=n.n(q);n(65),n(48);const G=e=>{const{className:t,size:n,...a}=e,i={};return(e=>void 0===e.iconType)(e)&&(i.iconType=`logo${e.name.replace(/\s+/g,"")}`),Object(c.jsx)(C.EuiAvatar,b()({className:H()("kbnSolutionAvatar",{[`kbnSolutionAvatar--${n}`]:n},t),size:"xxl"===n?"xl":n,iconSize:n,color:"plain"},a,i))};n(70);const W=$.i18n.translate("sharedUXPackages.solutionNav.collapsibleLabel",{defaultMessage:"Collapse side navigation"}),K=$.i18n.translate("sharedUXPackages.solutionNav.openLabel",{defaultMessage:"Open side navigation"}),Q=({className:e,isCollapsed:t,...n})=>{const a=H()("kbnSolutionNavCollapseButton",{"kbnSolutionNavCollapseButton-isCollapsed":t},e);return Object(c.jsx)(C.EuiButtonIcon,b()({className:a,size:"s",color:"text",iconType:t?"menuRight":"menuLeft","aria-label":t?K:W,title:t?K:W},n))},V="248px",X=(e,t)=>e.map((e=>(e.tabIndex=t?-1:void 0,e.items=e.items&&X(e.items,t),e))),Y=Object(C.htmlIdGenerator)("SolutionNav"),J=({children:e,headingProps:t,icon:n,isOpenOnDesktop:s=!1,items:o,mobileBreakpoints:r=["xs","s"],closeFlyoutButtonPosition:l="outside",name:u,onCollapse:d,canBeCollapsed:g=!0,...m})=>{const p=Object(C.useIsWithinBreakpoints)(r),f=Object(C.useIsWithinBreakpoints)(["m"]),j=Object(C.useIsWithinMinBreakpoint)("l"),[h,x]=Object(a.useState)(!1),v=j&&!s&&g,y=!!e,O=H()("kbnSolutionNav",{"kbnSolutionNav--hidden":v}),S=(null==t?void 0:t.id)||Y("heading"),M=(null==t?void 0:t.element)||"h2",E=Object(c.jsx)(C.EuiTitle,{size:"xs",id:S,"data-test-subj":null==t?void 0:t["data-test-subj"],className:"kbnSolutionNav__title"},Object(c.jsx)(M,null,n&&Object(c.jsx)(G,{className:"kbnSolutionNav__titleAvatar",iconType:n,name:u}),Object(c.jsx)("strong",null,Object(c.jsx)(_.FormattedMessage,{id:"sharedUXPackages.solutionNav.mobileTitleText",defaultMessage:"{solutionName} {menuText}",values:{solutionName:u||"Navigation",menuText:p?$.i18n.translate("sharedUXPackages.solutionNav.menuText",{defaultMessage:"menu"}):""}})))),k=Object(a.useMemo)((()=>y?e:o?Object(c.jsx)(C.EuiSideNav,b()({"aria-labelledby":S,"aria-hidden":v,items:X(o,v),mobileBreakpoints:[]},m)):null),[e,S,y,v,o,m]),{euiTheme:w}=Object(C.useEuiTheme)(),T=Object(a.useMemo)((()=>j?s?V:w.size.xxl:f?h||!g?V:w.size.xxl:"0"),[w,s,h,g,f,j]),{setGlobalCSSVariables:F}=Object(C.useEuiThemeCSSVariables)();return Object(a.useEffect)((()=>{F({"--kbnSolutionNavOffset":T})}),[T,F]),Object(c.jsx)(i.a.Fragment,null,p&&Object(c.jsx)(C.EuiCollapsibleNavGroup,{className:O,paddingSize:"none",background:"none",title:E,titleElement:"span",isCollapsible:g,initialIsOpen:!1},Object(c.jsx)(C.EuiPanel,{color:"transparent",paddingSize:"s"},k)),f&&Object(c.jsx)(i.a.Fragment,null,(h||!g)&&Object(c.jsx)(C.EuiFlyout,{ownFocus:!1,outsideClickCloses:!0,onClose:()=>x(!1),side:"left",size:248,closeButtonPosition:l,className:"kbnSolutionNav__flyout",hideCloseButton:!g},Object(c.jsx)(C.EuiPageSidebar,{className:O,hasEmbellish:!0},E,Object(c.jsx)(C.EuiSpacer,{size:"l"}),k)),g&&Object(c.jsx)(Q,{isCollapsed:!0,onClick:()=>{x(!h)}})),j&&Object(c.jsx)(i.a.Fragment,null,Object(c.jsx)("div",{className:O},E,Object(c.jsx)(C.EuiSpacer,{size:"l"}),k),g&&Object(c.jsx)(Q,{isCollapsed:!s,onClick:d})))};var Z=n(54);const ee="solutionNavIsCollapsed",te=e=>{const t=t=>{var n;const i=Object(C.useIsWithinBreakpoints)(["m"]),s=Object(C.useIsWithinMinBreakpoint)("l"),[o,r]=Object(a.useState)(!JSON.parse(String(localStorage.getItem(ee)))),{solutionNav:l,children:u,...d}=t,{euiTheme:g}=Object(C.useEuiTheme)(),{canBeCollapsed:m=!0}=l,p=i||m&&s&&!o,f=(e=>Object(Z.css)("flex:0 1 0;overflow:hidden;",C.euiCanAnimate,"{transition:min-width ",e.animation.fast," ",e.animation.resistance,";}",""))(g),j=H()("kbnSolutionNav__sidebar",{"kbnSolutionNav__sidebar--shrink":p},null===(n=t.pageSideBarProps)||void 0===n?void 0:n.className,f),h=Object(c.jsx)(J,b()({isOpenOnDesktop:o,onCollapse:()=>{r(!o),localStorage.setItem(ee,JSON.stringify(o))}},l)),x={paddingSize:"none",...t.pageSideBarProps,minWidth:p?g.size.xxl:void 0,className:j,hasEmbellish:!p};return Object(c.jsx)(e,b()({},d,{pageSideBar:h,pageSideBarProps:x}),u)};var n;return t.displayName=`WithSolutionNavBar(${n=e,n.displayName||n.name||"UnnamedComponent"})`,t},ne=i.a.createContext(null),ae=({children:e,...t})=>{const{navigateToUrl:n,currentAppId:a}=t;return Object(c.jsx)(ne.Provider,{value:{navigateToUrl:n,currentAppId:a}},e)},ie=({children:e,coreStart:t})=>{const{navigateToUrl:n,currentAppId$:a}=t.application,i=O()(a,void 0);return Object(c.jsx)(ne.Provider,{value:{navigateToUrl:n,currentAppId:i}},e)},se={name:"h42ud6",styles:"display:inherit;height:inherit;width:inherit;flex:1;flex-flow:column nowrap"},oe=({children:e,navigateToUrl:t,currentAppId:n,...i})=>{const s=Object(a.useRef)(null),o=Object(a.useCallback)((e=>(({event:e,container:t,navigateToUrl:n,currentAppId:a})=>{if(!t||!a)return;const i=((e,t)=>{let n=e;do{var a,i;if("a"===(null===(a=n)||void 0===a?void 0:a.tagName.toLowerCase()))return n;const e=null===(i=n)||void 0===i?void 0:i.parentElement;if(!e||e===document.body||e===t)break;n=e}while(parent||parent!==document.body||parent!==t)})(e.target,t);if(!i)return;const s=i.href,o=""===i.target||"_self"===i.target,r=0===e.button;s&&o&&r&&!e.defaultPrevented&&!(e=>e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)(e)&&(e.preventDefault(),n(i.href))})({event:e,currentAppId:n,navigateToUrl:t,container:s.current})),[n,t]);return Object(c.jsx)("div",b()({onClick:o,ref:s,css:se,"data-test-subj":"kbnRedirectAppLink"},i),e)},re=({children:e,...t})=>Object(c.jsx)(oe,b()({},function(){const e=Object(a.useContext)(ne);if(!e)throw new Error("RedirectAppLinksContext is missing.  Ensure your component or React root is wrapped with RedirectAppLinksProvider.");return e}(),t),e);var le=n(53),ce=n.n(le);const ue=$.i18n.translate("sharedUXPackages.card.noData.noPermission.title",{defaultMessage:"Contact your administrator"}),de=$.i18n.translate("sharedUXPackages.card.noData.noPermission.description",{defaultMessage:"This integration is not yet enabled. Your administrator has the required permissions to turn it on."}),be=$.i18n.translate("sharedUXPackages.card.noData.title",{defaultMessage:"Add Elastic Agent"}),ge=$.i18n.translate("sharedUXPackages.card.noData.description",{defaultMessage:"Use Elastic Agent for a simple, unified way to collect data from your machines."}),me=()=>Object(c.jsx)(C.EuiImage,{size:"fullWidth",style:{width:"max(100%, 360px)",height:240,objectFit:"cover",background:"aliceblue"},url:ce.a,alt:""}),pe=({title:e,description:t,canAccessFleet:n,button:a,href:i,...s})=>Object(c.jsx)(C.EuiCard,b()({css:{maxWidth:400,marginInline:"auto"},paddingSize:"l",title:n?Object(c.jsx)(C.EuiScreenReaderOnly,null,Object(c.jsx)("span",null,e||be)):Object(c.jsx)(C.EuiTextColor,{color:"default"},ue),description:n?t||ge:Object(c.jsx)(C.EuiTextColor,{color:"default"},de),footer:(()=>{if(n)return a&&"string"!=typeof a?a:Object(c.jsx)(C.EuiButton,{fill:!0,href:i,"data-test-subj":"noDataDefaultFooterAction"},a||e||be)})(),isDisabled:!n,href:i,image:Object(c.jsx)(me,null)},s)),fe=i.a.createContext(null),je=({href:e,category:t,description:n,...i})=>{var s;const{canAccessFleet:o,addBasePath:r}=function(){const e=Object(a.useContext)(fe);if(!e)throw new Error("NoDataCard Context is missing.  Ensure your component or React root is wrapped with NoDataCardContext.");return e}(),l=Object(a.useMemo)((()=>{if(e)return e;const n="/app/integrations/browse";return r(t?`${n}/${t}`:n)}),[r,e,t]);return Object(c.jsx)(re,null,Object(c.jsx)(pe,b()({},i,{href:l,canAccessFleet:null!==(s=i.canAccessFleet)&&void 0!==s?s:o,description:n})))},he=({action:e})=>{const t=Object.keys(e);if(1!==t.length)return null;const n=t[0],a="elasticAgent"===n?"empty-page-agent-action":`empty-page-${n}-action`;return Object(c.jsx)(je,b()({key:a},e[n]))},xe=({solution:e,logo:t,action:n,docsLink:a,pageTitle:i,pageDescription:s,className:o})=>{const r=i||$.i18n.translate("sharedUXPackages.noDataPage.welcomeTitle",{defaultMessage:"Welcome to Elastic {solution}!",values:{solution:e}}),l=a?Object(c.jsx)(C.EuiLink,{href:a,target:"_blank"},Object(c.jsx)(_.FormattedMessage,{id:"sharedUXPackages.noDataPage.intro.link",defaultMessage:"learn more"})):null,u=null!=s?s:l?Object(c.jsx)(_.FormattedMessage,{id:"sharedUXPackages.noDataPage.intro",defaultMessage:"Add your data to get started, or {link} about {solution}.",values:{solution:e,link:l}}):Object(c.jsx)(_.FormattedMessage,{id:"sharedUXPackages.noDataPage.introNoDocLink",defaultMessage:"Add your data to get started."});return Object(c.jsx)(C.EuiPageTemplate.Section,{alignment:"center",grow:!0,className:H()("kbnNoDataPageContents",o),"data-test-subj":"kbnNoDataPage"},Object(c.jsx)(C.EuiText,{textAlign:"center"},Object(c.jsx)(G,{name:e,iconType:t||`logo${e}`,size:"xxl"}),Object(c.jsx)(C.EuiSpacer,{size:"l"}),Object(c.jsx)("h1",null,r),Object(c.jsx)(C.EuiTextColor,{color:"subdued"},Object(c.jsx)("p",null,u))),Object(c.jsx)(C.EuiSpacer,{size:"xxl"}),Object(c.jsx)(he,{action:n}))},ve=e=>{const{className:t,noDataConfig:n,pageSideBar:a,pageSideBarProps:i,...s}=e;if(!n)return null;let o;a&&(o=Object(c.jsx)(C.EuiPageTemplate.Sidebar,i,a));const r=((e,t)=>H()("kbnPageTemplate","",t||""))(0,t);return Object(c.jsx)(C.EuiPageTemplate,b()({className:r,restrictWidth:950,panelled:!1,offset:0,minHeight:0},s),o,Object(c.jsx)(xe,n))},ye=te(ve),Oe=({className:e,pageHeader:t,children:n,isEmptyState:a,pageSideBar:i,pageSideBarProps:s,emptyPageBody:o,...r})=>{let l,u;if(a&&t&&!n){const{iconType:e,pageTitle:a,description:i,rightSideItems:s}=t,o=a?Object(c.jsx)("h1",null,a):void 0,r=i?Object(c.jsx)("p",null,i):void 0;n=Object(c.jsx)(C.EuiPageTemplate.EmptyPrompt,{iconType:e,iconColor:"",title:o,body:r,actions:s})}else t&&(l=Object(c.jsx)(C.EuiPageTemplate.Header,t));if(a&&o&&(n=o),i){const e={...s};e.sticky=!0,u=Object(c.jsx)(C.EuiPageTemplate.Sidebar,e,i)}const d=((e,t)=>H()("kbnPageTemplate","",t||""))(0,e);return Object(c.jsx)(C.EuiPageTemplate,b()({className:d,offset:0,minHeight:l?"calc(100vh - var(--kbnAppHeadersOffset, var(--euiFixedHeadersOffset, 0)))":0,grow:!l&&void 0},r),u,l,n)},Se=te(Oe),Me=Object.assign((({className:e,children:t,solutionNav:n,noDataConfig:a,...i})=>a&&n?Object(c.jsx)(ye,{"data-test-subj":i["data-test-subj"],className:e,noDataConfig:a,solutionNav:n}):a?Object(c.jsx)(ve,{"data-test-subj":i["data-test-subj"],className:e,noDataConfig:a}):n?Object(c.jsx)(Se,b()({className:e,solutionNav:n,children:t},i)):Object(c.jsx)(Oe,b()({className:e,children:t},i))),{Sidebar:C.EuiPageTemplate.Sidebar,Header:C.EuiPageTemplate.Header,Section:C.EuiPageTemplate.Section,BottomBar:C.EuiPageTemplate.BottomBar,EmptyPrompt:C.EuiPageTemplate.EmptyPrompt});var Ce=n(25);const Ee=(e,t)=>n=>(o.a.render(Object(c.jsx)(D,t,e),n),()=>o.a.unmountComponentAtNode(n));n(41),a.Component;const ke=i.a.createContext(null),we=({children:e,...t})=>Object(c.jsx)(ke.Provider,{value:t},e),Te=({children:e,...t})=>{const{core:n,savedObjectsTagging:i}=t,{overlays:s,notifications:o,...r}=n,{openFlyout:l}=s,u=Object(a.useMemo)((()=>({references:e})=>{if(null==i||!i.ui.components.TagList)return null;const t=i.ui.components.TagList;return Object(c.jsx)(t,{object:{references:e}})}),[null==i?void 0:i.ui.components.TagList]),d=Object(Ce.i)(),b=Object(a.useCallback)(((e,t)=>l(Ee(Object(c.jsx)(Ce.f,d,e),r),t)),[l,r,d]);return Object(c.jsx)(we,{openFlyout:b,notifyError:(e,t)=>{o.toasts.addDanger({title:Ee(e,r),text:t})},TagList:u,TagSelector:null==i?void 0:i.ui.components.SavedObjectSaveModalTagSelector},e)},Fe=e=>{const[t,s]=Object(a.useState)(null),o=Object(a.useCallback)((async()=>{const{ContentEditorFlyoutContentContainer:e}=await n.e(2).then(n.bind(null,87));s((()=>e))}),[]);return Object(a.useEffect)((()=>{o()}),[o]),t?Object(c.jsx)(t,e):Object(c.jsx)(i.a.Fragment,null,Object(c.jsx)(C.EuiFlyoutHeader,null),Object(c.jsx)(C.EuiFlyoutBody,null),Object(c.jsx)(C.EuiFlyoutFooter,null))};const Pe=i.a.createContext(null),Ne=({children:e,...t})=>Object(c.jsx)(Pe.Provider,{value:t},e),Le=({children:e,...t})=>{var n;const{core:i,savedObjectsTagging:s,FormattedRelative:o}=t,{application:r,http:l,notifications:u,...d}=i,b=Object(a.useMemo)((()=>{if(s)return async e=>{const t=await s.ui.parseSearchQuery(e,{useName:!0});return{searchQuery:t.searchTerm,references:t.tagReferences,referencesToExclude:t.tagReferencesToExclude}}}),[s]),g=Object(a.useMemo)((()=>({references:e,onClick:t,tagRender:n})=>{if(null==s||!s.ui.components.TagList)return null;const a=s.ui.components.TagList;return Object(c.jsx)(a,{object:{references:e},onClick:t,tagRender:n})}),[null==s?void 0:s.ui.components.TagList]),m=Object(a.useCallback)((e=>null!=s&&s.ui.getTagIdsFromReferences?s.ui.getTagIdsFromReferences(e):[]),[null==s?void 0:s.ui]),p=Object(a.useCallback)((()=>null!=s&&s.ui.getTagList?s.ui.getTagList():[]),[null==s?void 0:s.ui]),f=Object(a.useCallback)((e=>m(e).length>0),[m]);return Object(c.jsx)(ie,{coreStart:i},Object(c.jsx)(Ce.e,{core:i},Object(c.jsx)(Te,{core:i,savedObjectsTagging:s},Object(c.jsx)(Ne,{canEditAdvancedSettings:Boolean(null===(n=r.capabilities.advancedSettings)||void 0===n?void 0:n.save),getListingLimitSettingsUrl:()=>r.getUrlForApp("management",{path:"/kibana/settings?query=savedObjects:listingLimit"}),notifyError:(e,t)=>{u.toasts.addDanger({title:Ee(e,d),text:t})},searchQueryParser:b,DateFormatterComp:e=>Object(c.jsx)(o,e),currentAppId$:r.currentAppId$,navigateToUrl:r.navigateToUrl,isTaggingEnabled:()=>Boolean(s),getTagList:p,TagList:g,itemHasTags:f,getTagIdsFromReferences:m,getTagManagementUrl:()=>i.http.basePath.prepend("/app/management/kibana/tags")},e))))};function Ie(){const e=Object(a.useContext)(Pe);if(!e)throw new Error("TableListViewContext is missing. Ensure your component or React root is wrapped with <TableListViewProvider /> or <TableListViewKibanaProvider />.");return e}const Ae={nameAscSort:$.i18n.translate("contentManagement.tableList.listing.tableSortSelect.nameAscLabel",{defaultMessage:"Name A-Z"}),nameDescSort:$.i18n.translate("contentManagement.tableList.listing.tableSortSelect.nameDescLabel",{defaultMessage:"Name Z-A"}),updatedAtAscSort:$.i18n.translate("contentManagement.tableList.listing.tableSortSelect.updatedAtAscLabel",{defaultMessage:"Least recently updated"}),updatedAtDescSort:$.i18n.translate("contentManagement.tableList.listing.tableSortSelect.updatedAtDescLabel",{defaultMessage:"Recently updated"}),headerSort:$.i18n.translate("contentManagement.tableList.listing.tableSortSelect.headerLabel",{defaultMessage:"Sort by"})};function Be({tableSort:e,hasUpdatedAtMetadata:t,onChange:n}){var s,o;const{euiTheme:r}=Object(C.useEuiTheme)(),[l,u]=Object(a.useState)(!1),[d,b]=Object(a.useState)((()=>{let e=[{label:Ae.nameAscSort,column:"attributes.title",direction:"asc",append:Object(c.jsx)(C.EuiIcon,{type:"sortUp"})},{label:Ae.nameDescSort,column:"attributes.title",direction:"desc",append:Object(c.jsx)(C.EuiIcon,{type:"sortDown"})}];return t&&(e=e.concat([{label:Ae.updatedAtDescSort,column:"updatedAt",direction:"desc",append:Object(c.jsx)(C.EuiIcon,{type:"sortDown"})},{label:Ae.updatedAtAscSort,column:"updatedAt",direction:"asc",append:Object(c.jsx)(C.EuiIcon,{type:"sortUp"})}])),e})),g=null!==(s=null===(o=d.find((({checked:e})=>"on"===e)))||void 0===o?void 0:o.label)&&void 0!==s?s:"",m=Object(c.css)("border-bottom:",r.border.thin,";font-weight:",600,";padding:",r.size.s,";",""),p=Object(c.jsx)(C.EuiFilterButton,{iconType:"arrowDown",iconSide:"right",onClick:()=>{u((e=>!e))},"data-test-subj":"tableSortSelectBtn",grow:!0},g);return Object(a.useEffect)((()=>{b((t=>t.map((t=>{const n=t.column===e.field&&t.direction===e.direction?"on":void 0;return{...t,checked:n}}))))}),[e]),Object(c.jsx)(C.EuiPopover,{button:p,isOpen:l,closePopover:()=>{u(!1)},panelPaddingSize:"none",anchorPosition:"downCenter",panelProps:{css:{width:18*r.base}}},Object(c.jsx)(i.a.Fragment,null,Object(c.jsx)(C.EuiText,{css:m},Ae.headerSort),Object(c.jsx)(C.EuiSelectable,{singleSelection:!0,"aria-label":"some aria label",options:d,onChange:e=>{b(e);const t=e.find((({checked:e})=>"on"===e));t&&n&&n(t.column,t.direction)},"data-test-subj":"sortSelect"},(e=>e))))}const De=e=>`tableSort:${e}`;function _e(e,t){try{localStorage.setItem(De(e),JSON.stringify(t))}catch(e){}}const Re=({children:e,...t})=>{if(void 0!==t.coreStart){const{coreStart:n,...a}=t,i=Object(c.jsx)(re,a,e);return Object(c.jsx)(ie,{coreStart:n},i)}const{navigateToUrl:n,currentAppId:a,...i}=t,s=Object(c.jsx)(re,i,e);return Object(c.jsx)(ae,{currentAppId:a,navigateToUrl:n},s)},Ue=navigator.platform.toLowerCase().indexOf("mac")>=0?"⌘":"^",ze={name:"pit38s",styles:"height:auto"},$e={name:"1d3w5wq",styles:"width:100%"},qe=({isPopoverOpen:e,isInUse:t,options:n,totalActiveFilters:a,onFilterButtonClick:s,onSelectChange:o,closePopover:r,clearTagSelection:l})=>{const{euiTheme:u}=Object(C.useEuiTheme)(),{navigateToUrl:d,currentAppId$:g,getTagManagementUrl:m}=Ie(),p=n.length>10,f=Object(c.css)("padding:",u.size.s,";border-bottom:",u.border.thin,";",""),j=Object(c.css)("height:",u.size.xxxl,";","");let h={searchable:!1};return p&&(h={searchable:!0,searchProps:{compressed:!0}}),Object(c.jsx)(i.a.Fragment,null,Object(c.jsx)(C.EuiPopover,{button:Object(c.jsx)(C.EuiFilterButton,{iconType:"arrowDown",iconSide:"right",onClick:s,"data-test-subj":"tagFilterPopoverButton",hasActiveFilters:a>0,numActiveFilters:a,grow:!0},"Tags"),isOpen:e,closePopover:r,panelPaddingSize:"none",anchorPosition:"downCenter",panelProps:{css:{width:18*u.base}},panelStyle:t?{transition:"none"}:void 0},Object(c.jsx)(C.EuiPopoverTitle,{paddingSize:"m",css:j},Object(c.jsx)(C.EuiFlexGroup,null,Object(c.jsx)(C.EuiFlexItem,null,"Tags"),Object(c.jsx)(C.EuiFlexItem,{grow:!1},a>0&&Object(c.jsx)(C.EuiButtonEmpty,{flush:"both",onClick:l,css:ze},$.i18n.translate("contentManagement.tableList.tagFilterPanel.clearSelectionButtonLabelLabel",{defaultMessage:"Clear selection"}))))),Object(c.jsx)(C.EuiSelectable,b()({singleSelection:!1,"aria-label":"some aria label",options:n,renderOption:e=>e.view,emptyMessage:"There aren't any tags",noMatchesMessage:"No tag matches the search",onChange:o,"data-test-subj":"tagSelectableList"},h),((e,t)=>Object(c.jsx)(i.a.Fragment,null,p?Object(c.jsx)("div",{css:f},t):Object(c.jsx)(C.EuiSpacer,{size:"s"}),e))),Object(c.jsx)(C.EuiPopoverFooter,{paddingSize:"m"},Object(c.jsx)(C.EuiFlexGroup,{direction:"column",alignItems:"center",gutterSize:"s"},Object(c.jsx)(C.EuiFlexItem,null,Object(c.jsx)(C.EuiText,{size:"xs"},Object(c.jsx)(C.EuiTextColor,{color:"dimgrey"},$.i18n.translate("contentManagement.tableList.tagFilterPanel.modifierKeyHelpText",{defaultMessage:"{modifierKeyPrefix} + click exclude",values:{modifierKeyPrefix:Ue}})))),Object(c.jsx)(C.EuiFlexItem,{css:$e},Object(c.jsx)(C.EuiButton,{onClick:r},$.i18n.translate("contentManagement.tableList.tagFilterPanel.doneButtonLabel",{defaultMessage:"Done"}))),Object(c.jsx)(C.EuiFlexItem,null,Object(c.jsx)(Re,{coreStart:{application:{navigateToUrl:d,currentAppId$:g}}},Object(c.jsx)(C.EuiLink,{href:m(),"data-test-subj":"manageAllTagsLink",external:!0},$.i18n.translate("contentManagement.tableList.tagFilterPanel.manageAllTagsLinkLabel",{defaultMessage:"Manage tags"}))))))))},He=navigator.platform.toLowerCase().indexOf("mac")>=0,Ge=e=>Array.isArray(e)?e:[e],We=e=>e.replace(" ","_"),Ke=({query:e,tagsToTableItemMap:t,getTagList:n,addOrRemoveExcludeTagFilter:i,addOrRemoveIncludeTagFilter:s})=>{const[o,r]=Object(a.useState)(!1),[l,u]=Object(a.useState)(!1),[d,b]=Object(a.useState)([]),[g,m]=Object(a.useState)({}),p=Object.keys(g).length,f=Object(a.useCallback)((e=>{const t=e.find(((e,t)=>e.checked!==d[t].checked));t&&s(t.tag)}),[d,s]),j=Object(a.useCallback)((e=>t=>{He&&t.metaKey||!He&&t.ctrlKey?i(e):s(e)}),[s,i]),h=Object(a.useCallback)((()=>{const e=n().map((e=>{var n,a;const{name:i,id:s,color:o}=e;let r;return g[i]&&(r="include"===g[i]?"on":"off"),{name:i,label:i,value:null!=s?s:"",tag:e,checked:r,view:Object(c.jsx)(C.EuiFlexGroup,{gutterSize:"xs",justifyContent:"spaceBetween"},Object(c.jsx)(C.EuiFlexItem,null,Object(c.jsx)(C.EuiHealth,{color:o,"data-test-subj":`tag-searchbar-option-${We(i)}`,onClick:j(e)},Object(c.jsx)(C.EuiText,null,i))),Object(c.jsx)(C.EuiFlexItem,{grow:!1},Object(c.jsx)(C.EuiBadge,{color:void 0!==r?"accent":void 0},null!==(n=null===(a=t[null!=s?s:""])||void 0===a?void 0:a.length)&&void 0!==n?n:0)))}}));b(e)}),[n,t,g,j]),x=Object(a.useCallback)((()=>{r((e=>!e))}),[]),v=Object(a.useCallback)((()=>{r(!1)}),[]);return Object(a.useEffect)((()=>{if(e){const t=e.ast.getOrFieldClause("tag",void 0,!0,"eq"),n=e.ast.getOrFieldClause("tag",void 0,!1,"eq"),a={};t&&Ge(t.value).forEach((e=>{a[e]="include"})),n&&Ge(n.value).forEach((e=>{a[e]="exclude"})),m(a)}}),[e]),Object(a.useEffect)((()=>{o?(h(),setTimeout((()=>{u(!0)}),250)):u(!1)}),[o,h]),{isPopoverOpen:o,isInUse:l,options:d,totalActiveFilters:p,onFilterButtonClick:x,onSelectChange:f,closePopover:v}};var Qe=n(28),Ve=n(27);const Xe="null",Ye=({selectedOptions:e,defaultOptions:t,options:n,onChange:s,onSearchChange:o,isLoading:r=!1,singleSelection:l=!1,limit:u,height:d,loadingMessage:b,noMatchesMessage:g,emptyMessage:m,errorMessage:p,searchPlaceholder:f,searchInputId:j,selectedStatusMessage:h,limitReachedMessage:x,nullOptionLabel:v,nullOptionProps:y,defaultOptionsLabel:O,clearButtonLabel:S,...M})=>{const[E,k]=Object(a.useState)([]),[w,T]=Object(a.useState)(""),F=e?e.length:0,P=!!u&&F>=u,N=()=>{n||k((n=>{const a=[...n],i=e?e.filter((e=>!a.find((t=>Ze(t,e))))).map((e=>Je(e,v,y))):[],s=t?t.filter((e=>!a.find((t=>Ze(t,e)))&&!i.find((t=>Ze(t,e))))).map((e=>Je(e,v,y))):[];if(s.length){const e=(e=>{let t=e.findIndex((e=>e.isGroupLabel));return-1===t&&(t=e.push({label:null!=O?O:$.i18n.translate("userProfileComponents.userProfilesSelectable.defaultOptionsLabel",{defaultMessage:"Suggested"}),isGroupLabel:!0})-1),t})(a);a.splice(e,0,...i),a.push(...s)}else a.push(...i);return a}))};return Object(a.useEffect)((()=>{n?k(n.map((e=>Je(e,v,y)))):(k([]),N())}),[n]),Object(a.useEffect)(N,[t,e]),Object(a.useEffect)((()=>{k((t=>t.map((t=>{if(e){var n;const a=void 0===e.find((e=>Ze(t,e)))?void 0:"on",i=!a&&P;return{...t,checked:a,disabled:i,prepend:t.data?Object(c.jsx)(Ve.a,{user:t.data.user,avatar:null===(n=t.data.data)||void 0===n?void 0:n.avatar,size:"s",isDisabled:i}):void 0}}return{...t,checked:void 0,disabled:void 0}}))))}),[n,t,e]),Object(c.jsx)(C.EuiSelectable,{"data-test-subj":M["data-test-subj"],options:E,onChange:t=>{if(!s)return;const n=t.filter((t=>!(t.isGroupLabel||"on"!==t.checked||e&&void 0!==e.find((e=>Ze(t,e)))))).map((e=>e.key===Xe?null:e.data));e&&!l&&e.forEach((e=>{const a=t.find((t=>Ze(t,e)));void 0!==a&&"on"!==a.checked||(a&&a.key===Xe?n.unshift(e):n.push(e))})),s(n)},style:{maxHeight:d},singleSelection:l,searchable:!0,searchProps:{placeholder:null!=f?f:$.i18n.translate("userProfileComponents.userProfilesSelectable.searchPlaceholder",{defaultMessage:"Search"}),value:w,onChange:e=>{T(e),null==o||o(e)},isLoading:r,isClearable:!r,id:j},isPreFiltered:!0,listProps:{onFocusBadge:!1,rowHeight:48},loadingMessage:b,noMatchesMessage:g,emptyMessage:m,errorMessage:p,renderOption:(e,t)=>{if(e.user){const n=Object(Qe.e)(e.user);return Object(c.jsx)(i.a.Fragment,null,Object(c.jsx)("div",{className:"eui-textTruncate"},Object(c.jsx)(C.EuiHighlight,{search:t},n)),e.user.email&&e.user.email!==n?Object(c.jsx)(C.EuiText,{size:"xs",color:e.disabled?"disabled":"subdued",className:"eui-textTruncate"},t?Object(c.jsx)(C.EuiHighlight,{search:t},e.user.email):e.user.email):void 0)}return Object(c.jsx)(C.EuiHighlight,{search:t},e.label)}},((e,t)=>Object(c.jsx)(i.a.Fragment,null,Object(c.jsx)(C.EuiPanel,{hasShadow:!1,paddingSize:"s"},t,l?void 0:Object(c.jsx)(i.a.Fragment,null,Object(c.jsx)(C.EuiSpacer,{size:"s"}),Object(c.jsx)(C.EuiFlexGroup,{alignItems:"center",justifyContent:"spaceBetween",gutterSize:"s",responsive:!1},Object(c.jsx)(C.EuiFlexItem,{grow:!1},Object(c.jsx)(C.EuiText,{size:"xs",color:"subdued"},h?h(F):Object(c.jsx)(_.FormattedMessage,{id:"userProfileComponents.userProfilesSelectable.selectedStatusMessage",defaultMessage:"{count, plural, one {# user selected} other {# users selected}}",values:{count:F}}))),Object(c.jsx)(C.EuiFlexItem,{grow:!1},F?Object(c.jsx)(C.EuiButtonEmpty,{size:"xs",flush:"right",onClick:()=>null==s?void 0:s([]),style:{height:"1rem"}},null!=S?S:Object(c.jsx)(_.FormattedMessage,{id:"userProfileComponents.userProfilesSelectable.clearButtonLabel",defaultMessage:"Remove all users"})):void 0)))),u&&F>=u?Object(c.jsx)(i.a.Fragment,null,Object(c.jsx)(C.EuiHorizontalRule,{margin:"none"}),Object(c.jsx)(C.EuiCallOut,{title:x?x(u):Object(c.jsx)(_.FormattedMessage,{id:"userProfileComponents.userProfilesSelectable.limitReachedMessage",defaultMessage:"You've selected the maximum of {count, plural, one {# user} other {# users}}",values:{count:u}}),color:"warning",size:"s"})):void 0,Object(c.jsx)(C.EuiHorizontalRule,{margin:"none"}),e)))};function Je(e,t,n){return e?{key:e.uid,label:Object(Qe.d)(e.user),data:e,"data-test-subj":`userProfileSelectableOption-${e.user.username}`}:{key:Xe,label:null!=t?t:$.i18n.translate("userProfileComponents.userProfilesSelectable.nullOptionLabel",{defaultMessage:"No users"}),"data-test-subj":"userProfileSelectableOption-null",...n}}function Ze(e,t){return e.key===(t?t.uid:Xe)}const et=({title:e,selectableProps:t,...n})=>{const a=Object(C.useGeneratedHtmlId)({prefix:"searchInput",conditionalId:t.searchInputId});return Object(c.jsx)(C.EuiPopover,b()({panelPaddingSize:"none",initialFocus:`#${a}`},n),Object(c.jsx)(C.EuiContextMenuPanel,{title:e},Object(c.jsx)(Ye,b()({},t,{searchInputId:a}))))},tt=i.a.createContext(null),nt=({children:e,...t})=>t.enabled?Object(c.jsx)(tt.Provider,{value:t},e):Object(c.jsx)(i.a.Fragment,null,e),at="no-user",it=()=>{const{euiTheme:e}=Object(C.useEuiTheme)(),t=i.a.useContext(tt);if(!t)throw new Error("UserFilterPanel must be used within a UserFilterContextProvider");const{onSelectedUsersChange:n,selectedUsers:a,showNoUserOption:s}=t,[o,r]=i.a.useState(!1),[l,u]=i.a.useState(""),d=Object(Ce.h)(t.allUsers,{enabled:o}),b=i.a.useMemo((()=>d.data?d.data.reduce(((e,t)=>(e[t.uid]=t,e)),{}):{}),[d.data]),g=i.a.useMemo((()=>{if(!d.data||0===d.data.length)return[];const e=s||a.includes(at)?[...d.data,null]:d.data;return l?e.filter((e=>{var t,n;return e?!!a.includes(e.uid)||(e.uid+e.user.username+(null!==(t=e.user.email)&&void 0!==t?t:"")+(null!==(n=e.user.full_name)&&void 0!==n?n:"")).toLowerCase().includes(l.toLowerCase()):a.includes(at)})):e}),[d.data,l,a,s]);return Object(c.jsx)(i.a.Fragment,null,Object(c.jsx)(et,{button:Object(c.jsx)(C.EuiFilterButton,{iconType:"arrowDown",iconSide:"right","data-test-subj":"userFilterPopoverButton",onClick:()=>r(!o),hasActiveFilters:a.length>0,numActiveFilters:a.length,grow:!0},Object(c.jsx)(_.FormattedMessage,{id:"contentManagement.tableList.listing.userFilter.filterLabel",defaultMessage:"Created by"})),isOpen:o,closePopover:()=>r(!1),selectableProps:{"data-test-subj":"userSelectableList",isLoading:d.isLoading,options:g,errorMessage:d.error?Object(c.jsx)(_.FormattedMessage,{id:"contentManagement.tableList.listing.userFilter.errorMessage",defaultMessage:"Failed to load users"}):void 0,emptyMessage:Object(c.jsx)("p",{"data-test-subj":"userFilterEmptyMessage"},Object(c.jsx)(_.FormattedMessage,{id:"contentManagement.tableList.listing.userFilter.emptyMessage",defaultMessage:"None of the dashboards have creators"}),Object(c.jsx)(Ce.b,null)),nullOptionLabel:$.i18n.translate("contentManagement.tableList.listing.userFilter.noCreators",{defaultMessage:"No creators"}),nullOptionProps:{append:Object(c.jsx)(Ce.b,null)},clearButtonLabel:Object(c.jsx)(_.FormattedMessage,{id:"contentManagement.tableList.listing.userFilter.clearFilterButtonLabel",defaultMessage:"Clear filter"}),selectedOptions:a.map((e=>{var t;return e===at?null:null!==(t=b[e])&&void 0!==t?t:{uid:e,user:{username:e}}})),onChange:e=>{n(e.map((e=>e?e.uid:at)))},onSearchChange:u},panelProps:{css:{minWidth:22*e.base}}}))};function st({dispatch:e,items:t,isFetchingItems:n,searchQuery:s,selectedIds:o,pagination:r,tableColumns:l,tableSort:u,tableFilter:d,hasUpdatedAtMetadata:b,entityName:g,entityNamePlural:m,tagsToTableItemMap:p,tableItemsRowActions:f,deleteItems:j,renderCreateButton:h,tableCaption:x,onTableChange:v,onTableSearchChange:y,onSortChange:O,onFilterChange:S,addOrRemoveExcludeTagFilter:M,addOrRemoveIncludeTagFilter:E,clearTagSelection:k,createdByEnabled:w}){const{getTagList:T,isTaggingEnabled:F}=Ie(),P=Object(a.useCallback)((()=>{if(j&&0!==o.length)return Object(c.jsx)(C.EuiButton,{color:"danger",iconType:"trash",onClick:()=>e({type:"showConfirmDeleteItemsModal"}),"data-test-subj":"deleteSelectedItems"},Object(c.jsx)(_.FormattedMessage,{id:"contentManagement.tableList.listing.deleteButtonMessage",defaultMessage:"Delete {itemCount} {entityName}",values:{itemCount:o.length,entityName:1===o.length?g:m}}))}),[j,e,g,m,o.length]),N=Object(a.useMemo)((()=>{if(j)return{onSelectionChange:t=>{e({type:"onSelectionChange",data:t})},selectable:e=>{var t;const n=f[e.id];return!1!==(null==n||null===(t=n.delete)||void 0===t?void 0:t.enabled)},selectableMessage:(e,t)=>{if(!e){var n,a;const e=f[t.id];return null!==(n=null==e||null===(a=e.delete)||void 0===a?void 0:a.reason)&&void 0!==n?n:$.i18n.translate("contentManagement.tableList.actionsDisabledLabel",{defaultMessage:"Actions disabled for this item"})}return""},initialSelected:[]}}),[j,e,f]),{isPopoverOpen:L,isInUse:I,closePopover:A,onFilterButtonClick:B,onSelectChange:D,options:R,totalActiveFilters:U}=Ke({query:s.query,getTagList:T,tagsToTableItemMap:p,addOrRemoveExcludeTagFilter:M,addOrRemoveIncludeTagFilter:E}),z=Object(a.useMemo)((()=>({type:"custom_component",component:()=>Object(c.jsx)(Be,{tableSort:u,hasUpdatedAtMetadata:b,onChange:O})})),[b,O,u]),q=Object(a.useMemo)((()=>F()?{type:"custom_component",component:()=>Object(c.jsx)(qe,{isPopoverOpen:L,isInUse:I,closePopover:A,options:R,totalActiveFilters:U,onFilterButtonClick:B,onSelectChange:D,clearTagSelection:k})}:null),[L,I,F,A,R,U,B,D,k]),H=Object(a.useMemo)((()=>w?{type:"custom_component",component:it}:null),[w]),G=Object(a.useMemo)((()=>[z,q,H].filter((e=>Boolean(e)))),[z,q,H]),W=Object(a.useMemo)((()=>{var e;return{onChange:y,toolsLeft:P(),toolsRight:h(),query:null!==(e=s.query)&&void 0!==e?e:void 0,box:{incremental:!0,"data-test-subj":"tableListSearchBox"},filters:G}}),[y,h,P,G,s.query]),K=Object(c.jsx)(_.FormattedMessage,{id:"contentManagement.tableList.listing.noMatchedItemsMessage",defaultMessage:"No {entityNamePlural} matched your search.",values:{entityNamePlural:m}}),Q=i.a.useMemo((()=>{var e;return(null==d||null===(e=d.createdBy)||void 0===e?void 0:e.length)>0?t.filter((e=>e.createdBy?d.createdBy.includes(e.createdBy):!e.managed&&d.createdBy.includes(at))):t}),[t,d]),{allUsers:V,showNoUserOption:X}=Object(a.useMemo)((()=>{if(!w)return{allUsers:[],showNoUserOption:!1};let e=!1;const n=new Set;return t.forEach((t=>{t.createdBy?n.add(t.createdBy):t.managed||(e=!0)})),{allUsers:Array.from(n),showNoUserOption:e}}),[w,t]);return Object(c.jsx)(nt,{enabled:w,allUsers:V,onSelectedUsersChange:e=>{S({createdBy:e})},selectedUsers:d.createdBy,showNoUserOption:X},Object(c.jsx)(C.EuiInMemoryTable,{itemId:"id",items:Q,columns:l,pagination:r,loading:n,message:K,selection:N,search:W,executeQueryOptions:{enabled:!1},sorting:u?{sort:u}:void 0,onChange:v,"data-test-subj":"itemsInMemTable",rowHeader:"attributes.title",tableCaption:x}))}var ot=n(19),rt=n.n(ot);const lt=({value:e,children:t})=>t(new Date(e).toDateString()),ct=({dateTime:e,DateFormatterComp:t=lt})=>{if(!e)return Object(c.jsx)(C.EuiToolTip,{content:$.i18n.translate("contentManagement.tableList.updatedDateUnknownLabel",{defaultMessage:"Last updated unknown"})},Object(c.jsx)("span",null,"-"));const n=rt()(e);return n.diff(rt()(),"days")>-7?Object(c.jsx)(t,{value:new Date(e).getTime()},(e=>Object(c.jsx)(C.EuiToolTip,{content:n.format("LL LT")},Object(c.jsx)("span",null,e)))):Object(c.jsx)(C.EuiToolTip,{content:n.format("LL LT")},Object(c.jsx)("span",null,n.format("LL")))};function ut({isDeletingItems:e,items:t,entityName:n,entityNamePlural:i,onCancel:s,onConfirm:o}){const{deleteBtnLabel:r,deletingBtnLabel:l,title:u,description:d,cancelBtnLabel:b}=Object(a.useMemo)((()=>function(e,t,n){return{deleteBtnLabel:$.i18n.translate("contentManagement.tableList.listing.deleteSelectedItemsConfirmModal.confirmButtonLabel",{defaultMessage:"Delete"}),deletingBtnLabel:$.i18n.translate("contentManagement.tableList.listing.deleteSelectedItemsConfirmModal.confirmButtonLabelDeleting",{defaultMessage:"Deleting"}),title:$.i18n.translate("contentManagement.tableList.listing.deleteSelectedConfirmModal.title",{defaultMessage:"Delete {itemCount} {entityName}?",values:{itemCount:e.length,entityName:1===e.length?t:n}}),description:$.i18n.translate("contentManagement.tableList.listing.deleteConfirmModalDescription",{defaultMessage:"You can't recover deleted {entityNamePlural}.",values:{entityNamePlural:n}}),cancelBtnLabel:$.i18n.translate("contentManagement.tableList.listing.deleteSelectedItemsConfirmModal.cancelButtonLabel",{defaultMessage:"Cancel"})}}(t,n,i)),[n,i,t]);return Object(c.jsx)(C.EuiConfirmModal,{title:u,buttonColor:"danger",onCancel:s,onConfirm:o,cancelButtonText:b,confirmButtonText:e?l:r,defaultFocusedButton:"cancel"},Object(c.jsx)("p",null,d))}function dt({entityNamePlural:e,totalItems:t,listingLimit:n,canEditAdvancedSettings:a,advancedSettingsLink:s}){return Object(c.jsx)(i.a.Fragment,null,Object(c.jsx)(C.EuiCallOut,{title:Object(c.jsx)(_.FormattedMessage,{id:"contentManagement.tableList.listing.listingLimitExceededTitle",defaultMessage:"Listing limit exceeded"}),color:"warning",iconType:"help"},Object(c.jsx)("p",null,Object(c.jsx)(_.FormattedMessage,{id:"contentManagement.tableList.listing.listingLimitExceededDescription",defaultMessage:"You have {totalItems} {entityNamePlural}, but your {listingLimitText} setting prevents the table below from displaying more than {listingLimitValue}.",values:{entityNamePlural:e,totalItems:t,listingLimitValue:n,listingLimitText:Object(c.jsx)("strong",null,"listingLimit")}})," ",a?Object(c.jsx)(_.FormattedMessage,{id:"contentManagement.tableList.listing.listingLimitExceededDescriptionPermissions",defaultMessage:"You can change this setting under {advancedSettingsLink}.",values:{advancedSettingsLink:Object(c.jsx)(C.EuiLink,{href:s},Object(c.jsx)(_.FormattedMessage,{id:"contentManagement.tableList.listing.listingLimitExceeded.advancedSettingsLinkText",defaultMessage:"Advanced Settings"}))}}):Object(c.jsx)(_.FormattedMessage,{id:"contentManagement.tableList.listing.listingLimitExceededDescriptionNoPermissions",defaultMessage:"Contact your system administrator to change this setting."}))),Object(c.jsx)(C.EuiSpacer,{size:"m"}))}const bt=navigator.platform.toLowerCase().indexOf("mac")>=0,gt=({tag:e,onClick:t})=>Object(c.jsx)(C.EuiBadge,{color:e.color,title:e.description,"data-test-subj":`tag-${e.id}`,onClick:n=>{const a=bt&&n.metaKey||!bt&&n.ctrlKey;t(e,a)},onClickAriaLabel:$.i18n.translate("contentManagement.tableList.tagBadge.buttonLabel",{defaultMessage:"{tagName} tag button.",values:{tagName:e.name}})},e.name),mt=e=>e.replace(/[-\[\]{}()*+?.,\\^$|#\s]/g,"\\$&");function pt({id:e,item:t,searchTerm:n="",getDetailViewLink:s,getOnClickTitle:o,onClickTag:r}){const{references:l,attributes:{title:u,description:d}}=t,{navigateToUrl:b,currentAppId$:g,TagList:m,itemHasTags:p}=Ie(),f=Object(a.useMemo)((()=>({application:{navigateToUrl:b,currentAppId$:g}})),[g,b]),j=Object(a.useMemo)((()=>{const e=null==o?void 0:o(t);if(e&&(null==s||!s(t)))return t=>{t.preventDefault(),e()}}),[o,t,s]),h=Object(a.useCallback)((()=>(s?s(t):void 0)||null!=o&&o(t)?Object(c.jsx)(Re,{coreStart:f},Object(c.jsx)(C.EuiLink,{href:null==s?void 0:s(t),onClick:j,"data-test-subj":`${e}ListingTitleLink-${t.attributes.title.split(" ").join("-")}`},Object(c.jsx)(C.EuiHighlight,{highlightAll:!0,search:mt(n)},u))):Object(c.jsx)("span",null,u)),[s,o,e,t,j,f,n,u]),x=p(l);return Object(c.jsx)("div",null,Object(c.jsx)(C.EuiText,{size:"s"},h()),Boolean(d)&&Object(c.jsx)(C.EuiText,{size:"s",color:"subdued"},Object(c.jsx)("p",null,Object(c.jsx)(C.EuiHighlight,{highlightAll:!0,search:mt(n)},d))),x&&Object(c.jsx)(i.a.Fragment,null,Object(c.jsx)(C.EuiSpacer,{size:"s"}),Object(c.jsx)(m,{references:l,tagRender:e=>Object(c.jsx)(gt,{key:e.name,tag:e,onClick:r})})))}var ft=n(42),jt=n.n(ft);const ht=e=>{var t;const n={},a={...e};if(["s","title","sort","sortdir"].forEach((e=>{Array.isArray(a[e])&&(a[e]=a[e][0])})),n.s=null!==(t=a.s)&&void 0!==t?t:a.title,"title"===a.sort||"updatedAt"===a.sort){const e="title"===a.sort?"attributes.title":"updatedAt";n.sort={field:e,direction:"asc"},"desc"!==a.sortdir&&"asc"!==a.sortdir||(n.sort.direction=a.sortdir)}return a.created_by?n.filter={createdBy:Array.isArray(a.created_by)?a.created_by:[a.created_by]}:n.filter={createdBy:[]},n},xt=e=>{var t;const n={};return e.sort&&(n.sort=e.sort.field,n.sortdir=e.sort.direction),void 0!==e.s&&(n.s=e.s,n.title=void 0),"string"==typeof n.s&&""===n.s.trim()&&(n.s=void 0,n.title=void 0),null!==(t=e.filter)&&void 0!==t&&t.createdBy&&(n.created_by=e.filter.createdBy),n},vt="attributes.title",yt="Name, description, tags",Ot="updatedAt",St="Last updated",Mt="createdBy";function Ct({tableCaption:e,entityName:t,entityNamePlural:n,initialFilter:s,headingId:o,initialPageSize:l,listingLimit:u,urlStateEnabled:d=!0,customTableColumn:g,emptyPrompt:m,rowItemActions:p,findItems:f,createItem:j,editItem:h,deleteItems:x,getDetailViewLink:v,getOnClickTitle:y,id:O="userContent",contentEditor:S={enabled:!1},titleColumnName:M,withoutPageTemplateWrapper:E,onFetchSuccess:k,refreshListBouncer:w,setPageDataTestSubject:T,createdByEnabled:F=!1}){if(Object(a.useEffect)((()=>{T(`${t}LandingPage`)}),[t,T]),!v&&!y)throw new Error('[TableListView] One o["getDetailViewLink" or "getOnClickTitle"] prop must be provided.');if(!1===S.isReadonly&&void 0===S.onSave)throw new Error("[TableListView] A value for [contentEditor.onSave()] must be provided when [contentEditor.isReadonly] is false.");const P=Object(a.useRef)(!1),N=Object(a.useRef)(0),L=Object(a.useRef)(0),I=Object(a.useRef)(!1),{canEditAdvancedSettings:A,getListingLimitSettingsUrl:B,getTagIdsFromReferences:D,searchQueryParser:R,notifyError:q,DateFormatterComp:H,getTagList:G}=Ie(),W=function(){const e=function(){const e=Object(a.useContext)(ke);if(!e)throw new Error("ContentEditorContext is missing. Ensure your component or React root is wrapped with <ContentEditorProvider /> or <ContentEditorKibanaProvider />.");return e}(),{openFlyout:t}=e,n=Object(a.useRef)(null);return Object(a.useCallback)((a=>{if(!1===a.isReadonly&&void 0===a.onSave)throw new Error("A value for [onSave()] must be provided when [isReadonly] is false.");const i=()=>{var e;null===(e=n.current)||void 0===e||e.close()};return n.current=t(Object(c.jsx)(Fe,b()({},a,{onCancel:i,services:e})),{maxWidth:600,size:"m",ownFocus:!0,hideCloseButton:!0}),i}),[t,e])}();if(!function(){try{return Object(r.useLocation)(),!0}catch(e){return!1}}())throw new Error("<TableListView/> requires a React Router context. Ensure your component or React root is being rendered in the context of a <Router>.");const[K,Q]=function({queryParamsDeserializer:e,queryParamsSerializer:t}){const n=Object(r.useHistory)(),i=function(){const{search:e}=Object(r.useLocation)();return Object(a.useMemo)((()=>jt.a.parse(e)),[e])}(),[s,o]=Object(a.useState)({}),l=Object(a.useCallback)((e=>{const a=t(e),s={...i,...a};n.replace({search:`?${jt.a.stringify(s,{encode:!1})}`})}),[n,i,t]);return Object(a.useEffect)((()=>{const t=e(i);o(t)}),[i,e]),[s,l]}({queryParamsDeserializer:ht,queryParamsSerializer:xt}),V=Object(a.useMemo)((()=>(e,t)=>{switch(t.type){case"onFetchItems":return{...e,isFetchingItems:!0};case"onFetchItemsSuccess":{var n;const a=t.data.response.hits;let i,s=e.hasUpdatedAtMetadata,o=e.hasCreatedByMetadata;e.hasInitialFetchReturned||(s=Boolean(a.find((e=>Boolean(e.updatedAt)))),o=Boolean(a.find((e=>Boolean(e.createdBy)))),s&&!e.sortColumnChanged&&(i={field:"updatedAt",direction:"desc"}));let r=e.hasNoItems;return r=""!==e.searchQuery.text?void 0:0===a.length,{...e,hasInitialFetchReturned:!0,isFetchingItems:!1,items:a,hasNoItems:r,totalItems:t.data.response.total,hasUpdatedAtMetadata:s,hasCreatedByMetadata:o,tableSort:null!==(n=i)&&void 0!==n?n:e.tableSort,pagination:{...e.pagination,totalItemCount:a.length}}}case"onFetchItemsError":return{...e,isFetchingItems:!1,items:[],totalItems:0,fetchError:t.data};case"onSearchQueryChange":return t.data.text===e.searchQuery.text?e:{...e,searchQuery:t.data,isFetchingItems:!0};case"onTableChange":{var a,i,s,o,r;const n=null!==(a=t.data.sort)&&void 0!==a?a:e.tableSort,l=null!==(i=null===(s=t.data.page)||void 0===s?void 0:s.pageIndex)&&void 0!==i?i:e.pagination.pageIndex,c=null!==(o=null===(r=t.data.page)||void 0===r?void 0:r.pageSize)&&void 0!==o?o:e.pagination.pageSize,u=t.data.filter?{...e.tableFilter,...t.data.filter}:e.tableFilter;return{...e,pagination:{...e.pagination,pageIndex:l,pageSize:c},tableSort:n,tableFilter:u,sortColumnChanged:e.sortColumnChanged||Boolean(t.data.sort)}}case"showConfirmDeleteItemsModal":return{...e,showDeleteModal:!0};case"onDeleteItems":return{...e,isDeletingItems:!0};case"onCancelDeleteItems":return{...e,showDeleteModal:!1};case"onItemsDeleted":return{...e,isDeletingItems:!1,selectedIds:[],showDeleteModal:!1};case"onSelectionChange":return{...e,selectedIds:t.data.map((e=>null==e?void 0:e.id)).filter((e=>Boolean(e)))}}}),[]),X=Object(a.useMemo)((()=>{const e=function(e){try{const t=localStorage.getItem(De(e));if(t)return{isDefault:!1,tableSort:JSON.parse(t)}}catch(e){}return{isDefault:!0,tableSort:{field:"attributes.title",direction:"asc"}}}(t);return{items:[],hasNoItems:void 0,totalItems:0,hasInitialFetchReturned:!1,isFetchingItems:!0,isDeletingItems:!1,showDeleteModal:!1,hasUpdatedAtMetadata:!1,hasCreatedByMetadata:!1,selectedIds:[],searchQuery:{text:"",query:new C.Query(C.Ast.create([]),void 0,"")},pagination:{pageIndex:0,totalItemCount:0,pageSize:l,pageSizeOptions:Object(z.uniq)([10,20,50,l]).sort()},tableSort:e.tableSort,sortColumnChanged:!e.isDefault,tableFilter:{createdBy:[]}}}),[l,t]),[Y,J]=Object(a.useReducer)(V,X),{searchQuery:Z,hasInitialFetchReturned:ee,isFetchingItems:te,items:ne,hasNoItems:ae,fetchError:ie,showDeleteModal:se,isDeletingItems:oe,selectedIds:re,totalItems:le,hasUpdatedAtMetadata:ce,hasCreatedByMetadata:ue,pagination:de,tableSort:be,tableFilter:ge}=Y,me=Boolean(ie),pe=!me&&le>u,fe=Object(a.useCallback)((async()=>{J({type:"onFetchItems"});try{const e=++N.current,{searchQuery:t,references:n,referencesToExclude:a}=R?await R(Z.text):{searchQuery:Z.text,references:void 0,referencesToExclude:void 0},i=await f(t,{references:n,referencesToExclude:a});if(!P.current)return;e===N.current&&(J({type:"onFetchItemsSuccess",data:{response:i}}),k())}catch(e){J({type:"onFetchItemsError",data:e})}}),[R,Z.text,f,k]),je=Object(a.useCallback)((e=>{d?Q({s:e.text}):J({type:"onSearchQueryChange",data:{query:e,text:e.text}})}),[d,Q]),{addOrRemoveIncludeTagFilter:he,addOrRemoveExcludeTagFilter:xe,clearTagSelection:ve,tagsToTableItemMap:ye}=function({query:e,updateQuery:t,items:n}){const i=Object(a.useMemo)((()=>n.reduce(((e,t)=>{const n=t.references.filter((e=>"tag"===e.type));return n.length>0&&n.forEach((n=>{e[n.id]||(e[n.id]=[]),e[n.id].push(t.id)})),e}),{})),[n]),s=Object(a.useCallback)((n=>(a,i=e,s=!0)=>{const o=n(i,a);return s&&t(o),o}),[e,t]),o=Object(a.useCallback)((t=>(n,a)=>{const i=Boolean(a)?a:e;if(i.ast.getFieldClauses("tag")){var s;const e=null===(s=i.ast.getFieldClauses("tag").find((({match:e})=>e===t)))||void 0===s?void 0:s.value;if(e&&e.includes(n.name))return!0}return!1}),[e]),r=Object(a.useMemo)((()=>s(((e,t)=>e.addOrFieldValue("tag",t.name,!0,"eq")))),[s]),l=Object(a.useMemo)((()=>s(((e,t)=>e.removeOrFieldValue("tag",t.name)))),[s]),c=Object(a.useMemo)((()=>s(((e,t)=>e.addOrFieldValue("tag",t.name,!1,"eq")))),[s]),u=Object(a.useMemo)((()=>s(((e,t)=>e.removeOrFieldValue("tag",t.name)))),[s]),d=Object(a.useMemo)((()=>o("must")),[o]),b=Object(a.useMemo)((()=>o("must_not")),[o]);return{addOrRemoveIncludeTagFilter:Object(a.useCallback)((e=>{let t;if(b(e))t=u(e,void 0,!1);else if(d(e,t))return void l(e,t);r(e,t)}),[b,d,u,r,l]),addOrRemoveExcludeTagFilter:Object(a.useCallback)((e=>{let t;d(e)&&(t=l(e,void 0,!1)),b(e,t)?u(e,t):c(e,t)}),[d,b,l,c,u]),clearTagSelection:Object(a.useCallback)((()=>{const n=e.removeOrFieldClauses("tag");return t(n),t}),[e,t]),tagsToTableItemMap:i}}({query:Z.query,updateQuery:je,items:ne}),Oe=Object(a.useMemo)((()=>ne.reduce(((e,t)=>{const n={...e,[t.id]:p?p(t):void 0};return t.managed&&(n[t.id]={edit:{enabled:!1,reason:$.i18n.translate("contentManagement.tableList.managedItemNoEdit",{defaultMessage:"Elastic manages this item. Clone it to make changes."})},...n[t.id]}),n}),{})),[ne,p]),Se=Object(a.useCallback)((e=>{var n,a,i,s;const o=D(e.references).map((t=>e.references.find((({id:e})=>e===t)))),r=W({item:{id:e.id,title:e.attributes.title,description:e.attributes.description,tags:o,createdAt:e.createdAt,createdBy:e.createdBy,updatedAt:e.updatedAt,updatedBy:e.updatedBy,managed:e.managed},entityName:t,...S,isReadonly:S.isReadonly||!1===(null===(n=Oe[e.id])||void 0===n||null===(a=n.edit)||void 0===a?void 0:a.enabled),readonlyReason:null===(i=Oe[e.id])||void 0===i||null===(s=i.edit)||void 0===s?void 0:s.reason,onSave:S.onSave&&(async e=>{await S.onSave(e),await fe(),r()})})}),[D,W,t,S,Oe,fe]),Ee=Object(a.useMemo)((()=>{const e=[{field:vt,name:null!=M?M:$.i18n.translate("contentManagement.tableList.mainColumnName",{defaultMessage:"Name, description, tags"}),sortable:!0,render:(e,t)=>Object(c.jsx)(pt,{id:O,item:t,getDetailViewLink:v,getOnClickTitle:y,onClickTag:(e,t)=>{t?xe(e):he(e)},searchTerm:Z.text})}];if(g&&e.push(g),ue&&F&&e.push({field:Mt,name:Object(c.jsx)(i.a.Fragment,null,$.i18n.translate("contentManagement.tableList.createdByColumnTitle",{defaultMessage:"Creator"})),render:(e,n)=>n.createdBy?Object(c.jsx)(Ce.d,{uid:n.createdBy}):n.managed?Object(c.jsx)(Ce.a,{entityName:t}):Object(c.jsx)(Ce.b,{iconType:"minus"}),sortable:!1,width:"100px",align:"center"}),ce&&e.push({field:Ot,name:$.i18n.translate("contentManagement.tableList.lastUpdatedColumnTitle",{defaultMessage:"Last updated"}),render:(e,t)=>Object(c.jsx)(ct,{dateTime:t.updatedAt,DateFormatterComp:H}),sortable:!0,width:"130px"}),h||!1!==S.enabled){const t=[];h&&t.push({name:e=>$.i18n.translate("contentManagement.tableList.listing.table.editActionName",{defaultMessage:"Edit {itemDescription}",values:{itemDescription:Object(z.get)(e,"attributes.title")}}),description:$.i18n.translate("contentManagement.tableList.listing.table.editActionDescription",{defaultMessage:"Edit"}),icon:"pencil",type:"icon",available:e=>{var t,n;return Boolean(null===(t=Oe[e.id])||void 0===t||null===(n=t.edit)||void 0===n?void 0:n.enabled)},enabled:e=>!(null!=e&&e.error),onClick:h,"data-test-subj":"edit-action"}),!1!==S.enabled&&t.push({name:e=>$.i18n.translate("contentManagement.tableList.listing.table.viewDetailsActionName",{defaultMessage:"View {itemTitle} details",values:{itemTitle:Object(z.get)(e,"attributes.title")}}),description:$.i18n.translate("contentManagement.tableList.listing.table.viewDetailsActionDescription",{defaultMessage:"View details"}),icon:"iInCircle",type:"icon",onClick:Se,"data-test-subj":"inspect-action"}),e.push({name:$.i18n.translate("contentManagement.tableList.listing.table.actionTitle",{defaultMessage:"Actions"}),width:32*t.length+"px",actions:t})}return e}),[M,g,ce,ue,F,h,S.enabled,O,v,y,Z.text,xe,he,H,Oe,Se,t]),we=Object(a.useMemo)((()=>Object(z.keyBy)(ne,"id")),[ne]),Te=Object(a.useMemo)((()=>re.map((e=>we[e]))),[re,we]),Pe=Object(a.useCallback)((async e=>{let t=C.Ast.create([]),n=e;if(R){const{references:a,referencesToExclude:i,searchQuery:s}=await R(e);if(n=s,null!=a&&a.length||null!=i&&i.length){const e=G();null!=a&&a.length&&a.forEach((({id:n})=>{const a=e.find((({id:e})=>e===n));a&&(t=t.addOrFieldValue("tag",a.name,!0,"eq"))})),null!=i&&i.length&&i.forEach((({id:n})=>{const a=e.find((({id:e})=>e===n));a&&(t=t.addOrFieldValue("tag",a.name,!1,"eq"))}))}}return""!==n.trim()&&(t=t.addClause({type:"term",value:n,match:"must"})),new C.Query(t,void 0,e)}),[G,R]),Ne=Object(a.useCallback)((e=>{if(e.query)je(e.query);else{const t=L.current+1;Pe(e.queryText).then((e=>{t===L.current&&je(e)}))}}),[je,Pe]),Le=Object(a.useCallback)((e=>{e.sort&&d&&Q({sort:{field:"attributes.title"===e.sort.field?"title":e.sort.field,direction:e.sort.direction}}),e.filter&&d&&Q({filter:e.filter}),!e.page&&d||J({type:"onTableChange",data:e})}),[Q,d]),Ae=Object(a.useCallback)(((e,n)=>{const a={field:e,direction:n};_e(t,a),Le({sort:a})}),[t,Le]),Be=Object(a.useCallback)((e=>{Le({filter:e})}),[Le]),Re=Object(a.useCallback)((e=>{const n={};if(e.sort){let a=e.sort.field;a===yt?a=vt:a===St&&(a=Ot),n.sort={field:a,direction:e.sort.direction},_e(t,n.sort)}n.page={pageIndex:e.page.index,pageSize:e.page.size},Le(n)}),[Le,t]),Ue=Object(a.useCallback)((async()=>{if(!oe){J({type:"onDeleteItems"});try{await x(Te)}catch(e){q(Object(c.jsx)(_.FormattedMessage,{id:"contentManagement.tableList.listing.unableToDeleteDangerMessage",defaultMessage:"Unable to delete {entityName}(s)",values:{entityName:t}}),e)}fe(),J({type:"onItemsDeleted"})}}),[x,t,fe,oe,q,Te]),ze=Object(a.useCallback)((()=>{if(j)return Object(c.jsx)(C.EuiButton,{onClick:j,"data-test-subj":"newItemButton",iconType:"plusInCircleFilled",fill:!0},Object(c.jsx)(_.FormattedMessage,{id:"contentManagement.tableList.listing.createNewItemButtonLabel",defaultMessage:"Create {entityName}",values:{entityName:t}}))}),[j,t]),$e=Object(a.useCallback)((()=>m||Object(c.jsx)(C.EuiEmptyPrompt,{title:Object(c.jsx)("h1",null,Object(c.jsx)(_.FormattedMessage,{id:"contentManagement.tableList.listing.noAvailableItemsMessage",defaultMessage:"No {entityNamePlural} available.",values:{entityNamePlural:n}})),actions:ze()})),[m,n,ze]),qe=Object(a.useCallback)((()=>{var e;return Object(c.jsx)(i.a.Fragment,null,Object(c.jsx)(C.EuiCallOut,{title:Object(c.jsx)(_.FormattedMessage,{id:"contentManagement.tableList.listing.fetchErrorTitle",defaultMessage:"Fetching listing failed"}),color:"danger",iconType:"warning"},Object(c.jsx)("p",null,Object(c.jsx)(_.FormattedMessage,{id:"contentManagement.tableList.listing.fetchErrorDescription",defaultMessage:"The {entityName} listing could not be fetched: {message}.",values:{entityName:t,message:(null===(e=ie.body)||void 0===e?void 0:e.message)||ie.message}}))),Object(c.jsx)(C.EuiSpacer,{size:"m"}))}),[t,ie]);U()(fe,300,[fe,w]),Object(a.useEffect)((()=>{var e,t,n;d&&((async(e="")=>{const t=await Pe(e);J({type:"onSearchQueryChange",data:{query:t,text:e}})})(K.s),(e=K.sort)&&J({type:"onTableChange",data:{sort:{field:e.field,direction:e.direction}}}),(t=K.filter)&&J({type:"onTableChange",data:{filter:{createdBy:null!==(n=t.createdBy)&&void 0!==n?n:[]}}}))}),[K,Pe,d]),Object(a.useEffect)((()=>(P.current=!0,()=>{P.current=!1})),[]),Object(a.useEffect)((()=>{s&&!I.current&&(I.current=!0,Pe(s).then(je))}),[s,Pe,je]);const He=Object(a.useMemo)((()=>E?({children:e,"data-test-subj":t})=>Object(c.jsx)("div",{"data-test-subj":t},e):Me),[E]);if(!ee)return null;if(!me&&ae)return Object(c.jsx)(He,{isEmptyState:!0},Object(c.jsx)(Me.Section,{"aria-labelledby":ee?o:void 0},$e()));const Ge=oe?"table-is-deleting":ee&&!te?"table-is-ready":"table-is-loading";return Object(c.jsx)(i.a.Fragment,null,pe&&Object(c.jsx)(dt,{canEditAdvancedSettings:A,advancedSettingsLink:B(),entityNamePlural:n,totalItems:le,listingLimit:u}),me&&qe(),Object(c.jsx)("div",{"data-test-subj":Ge},Object(c.jsx)(st,{dispatch:J,items:ne,renderCreateButton:ze,isFetchingItems:te,searchQuery:Z,tableColumns:Ee,hasUpdatedAtMetadata:ce,tableSort:be,tableFilter:ge,tableItemsRowActions:Oe,pagination:de,selectedIds:re,entityName:t,entityNamePlural:n,tagsToTableItemMap:ye,deleteItems:x,tableCaption:e,onTableChange:Re,onTableSearchChange:Ne,onSortChange:Ae,onFilterChange:Be,addOrRemoveIncludeTagFilter:he,addOrRemoveExcludeTagFilter:xe,clearTagSelection:ve,createdByEnabled:F}),se&&Object(c.jsx)(ut,{isDeletingItems:oe,entityName:t,entityNamePlural:n,items:Te,onConfirm:Ue,onCancel:()=>J({type:"onCancelDeleteItems"})})))}const Et=i.a.memo(Ct);var kt=n(10);const wt=({title:e,description:t,entityName:n,entityNamePlural:s,initialFilter:o,headingId:r,initialPageSize:l,listingLimit:u,urlStateEnabled:d=!0,customTableColumn:b,emptyPrompt:g,findItems:m,createItem:p,editItem:f,deleteItems:j,getDetailViewLink:h,getOnClickTitle:x,rowItemActions:v,id:y,contentEditor:O,children:S,titleColumnName:M,additionalRightSideActions:C,withoutPageTemplateWrapper:E,createdByEnabled:k})=>{const w=E?i.a.Fragment:Me,[T,F]=Object(a.useState)(!1),[P,N]=Object(a.useState)(),L=Object(a.useCallback)((()=>{F(!0)}),[]);return Object(c.jsx)(w,{panelled:!0,"data-test-subj":P},Object(c.jsx)(Me.Header,{pageTitle:Object(c.jsx)("span",{id:r},e),description:t,rightSideItems:null==C?void 0:C.slice(0,2),"data-test-subj":"top-nav"}),Object(c.jsx)(Me.Section,{"aria-labelledby":T?r:void 0},S,Object(c.jsx)(Et,{tableCaption:e,entityName:n,entityNamePlural:s,initialFilter:o,headingId:r,initialPageSize:l,listingLimit:u,urlStateEnabled:d,customTableColumn:b,emptyPrompt:g,findItems:m,createItem:p,editItem:f,deleteItems:j,rowItemActions:v,getDetailViewLink:h,getOnClickTitle:x,id:y,contentEditor:O,titleColumnName:M,withoutPageTemplateWrapper:E,onFetchSuccess:L,setPageDataTestSubject:N,createdByEnabled:k})))};var Tt=n(14),Ft=n.n(Tt);const Pt=Object(a.createContext)(null),Nt=({children:e,filesClient:t,getFileKindDefinition:n,getAllFindKindDefinitions:a})=>Object(c.jsx)(Pt.Provider,{value:{filesClient:t,getFileKindDefinition:n,getAllFindKindDefinitions:a}},e),Lt=()=>{const e=Object(a.useContext)(Pt);if(!e)throw new Error("useFilesManagementContext must be used within a FilesManagementAppContextProvider");return e},It={tableListTitle:$.i18n.translate("filesManagement.table.title",{defaultMessage:"Files"}),tableListDescription:$.i18n.translate("filesManagement.table.description",{defaultMessage:"Manage files stored in Kibana."}),titleColumnName:$.i18n.translate("filesManagement.table.titleColumnName",{defaultMessage:"Name"}),entityName:$.i18n.translate("filesManagement.entityName.title",{defaultMessage:"file"}),retry:$.i18n.translate("filesManagement.button.retry",{defaultMessage:"Retry"}),entityNamePlural:$.i18n.translate("filesManagement.entityNamePlural.title",{defaultMessage:"files"}),emptyPromptTitle:$.i18n.translate("filesManagement.emptyPrompt.title",{defaultMessage:"No files found"}),emptyPromptDescription:$.i18n.translate("filesManagement.emptyPrompt.description",{defaultMessage:"Any files created in Kibana will be listed here."}),size:$.i18n.translate("filesManagement.table.sizeColumnName",{defaultMessage:"Size"}),diagnosticsFlyoutTitle:$.i18n.translate("filesManagement.diagnostics.flyoutTitle",{defaultMessage:"Statistics"}),diagnosticsFlyoutSummarySectionTitle:$.i18n.translate("filesManagement.diagnostics.summarySectionTitle",{defaultMessage:"Summary"}),failedToFetchDiagnostics:$.i18n.translate("filesManagement.diagnostics.errorMessage",{defaultMessage:"Could not fetch statistics"}),diagnosticsSpaceUsed:$.i18n.translate("filesManagement.diagnostics.spaceUsedLabel",{defaultMessage:"Disk space used"}),diagnosticsTotalCount:$.i18n.translate("filesManagement.diagnostics.totalCountLabel",{defaultMessage:"Number of files"}),diagnosticsBreakdownsStatus:$.i18n.translate("filesManagement.diagnostics.breakdownStatusTitle",{defaultMessage:"Count by status"}),diagnosticsBreakdownsExtension:$.i18n.translate("filesManagement.diagnostics.breakdownExtensionTitle",{defaultMessage:"Count by extension"}),filesFlyoutSize:$.i18n.translate("filesManagement.filesFlyout.sizeLabel",{defaultMessage:"Size"}),filesFlyoutExtension:$.i18n.translate("filesManagement.filesFlyout.extensionLabel",{defaultMessage:"Extension"}),filesFlyoutMimeType:$.i18n.translate("filesManagement.filesFlyout.mimeTypeLabel",{defaultMessage:"MIME type"}),filesFlyoutStatus:$.i18n.translate("filesManagement.filesFlyout.statusLabel",{defaultMessage:"Status"}),filesFlyoutCreated:$.i18n.translate("filesManagement.filesFlyout.createdLabel",{defaultMessage:"Created"}),filesFlyoutUpdated:$.i18n.translate("filesManagement.filesFlyout.updatedLabel",{defaultMessage:"Updated"}),filesFlyoutDownload:$.i18n.translate("filesManagement.filesFlyout.downloadButtonLabel",{defaultMessage:"Download"}),filesFlyoutPreview:$.i18n.translate("filesManagement.filesFlyout.previewSectionTitle",{defaultMessage:"Preview"}),filesStatus:{AWAITING_UPLOAD:$.i18n.translate("filesManagement.filesFlyout.status.awaitingUpload",{defaultMessage:"Awaiting upload"}),DELETED:$.i18n.translate("filesManagement.filesFlyout.status.deleted",{defaultMessage:"Deleted"}),READY:$.i18n.translate("filesManagement.filesFlyout.status.ready",{defaultMessage:"Ready to download"}),UPLOADING:$.i18n.translate("filesManagement.filesFlyout.status.uploading",{defaultMessage:"Uploading"}),UPLOAD_ERROR:$.i18n.translate("filesManagement.filesFlyout.status.uploadError",{defaultMessage:"Upload error"})},rowCheckboxDisabled:$.i18n.translate("filesManagement.table.checkBoxDisabledLabel",{defaultMessage:"This file cannot be deleted."})},At=()=>Object(c.jsx)(C.EuiEmptyPrompt,{title:Object(c.jsx)("h3",null,It.emptyPromptTitle),body:It.emptyPromptDescription});var Bt=n(20);const Dt=({onClose:e})=>{var t;const{filesClient:n}=Lt(),{status:a,refetch:s,data:o,isLoading:r,error:l}=Object(kt.useQuery)(["filesDiagnostics"],(async()=>n.getMetrics()));return Object(c.jsx)(C.EuiFlyout,{ownFocus:!0,onClose:e,size:"s"},Object(c.jsx)(C.EuiFlyoutHeader,{hasBorder:!0},Object(c.jsx)(C.EuiTitle,{size:"m"},Object(c.jsx)("h2",null,It.diagnosticsFlyoutTitle))),Object(c.jsx)(C.EuiFlyoutBody,null,"error"===a?Object(c.jsx)(C.EuiEmptyPrompt,{titleSize:"xs",title:Object(c.jsx)("h3",null,It.failedToFetchDiagnostics),body:null!==(t=null==l?void 0:l.message)&&void 0!==t?t:"",color:"danger",actions:[Object(c.jsx)(C.EuiButton,{isLoading:r,color:"danger",onClick:()=>s()},It.retry)]}):"loading"===a?Object(c.jsx)(C.EuiLoadingSpinner,{size:"xl"}):Object(c.jsx)(i.a.Fragment,null,Object(c.jsx)(C.EuiPanel,{hasBorder:!0,hasShadow:!1},Object(c.jsx)(C.EuiTitle,{size:"xs"},Object(c.jsx)("h3",null,It.diagnosticsFlyoutSummarySectionTitle)),Object(c.jsx)(C.EuiSpacer,{size:"s"}),Object(c.jsx)(C.EuiFlexGroup,{gutterSize:"none"},Object(c.jsx)(C.EuiFlexItem,{grow:1},Object(c.jsx)(C.EuiStat,{title:Ft()(o.storage.esFixedSizeIndex.used).format("0[.]0 b"),description:It.diagnosticsSpaceUsed,titleSize:"s"})),Object(c.jsx)(C.EuiFlexItem,{grow:1},Object(c.jsx)(C.EuiStat,{title:Object.values(o.countByStatus).reduce(((e,t)=>e+t),0),description:It.diagnosticsTotalCount,titleSize:"s"})))),Object(c.jsx)(C.EuiSpacer,null),Object(c.jsx)(C.EuiPanel,{hasBorder:!0,hasShadow:!1},Object(c.jsx)(C.EuiTitle,{size:"xs"},Object(c.jsx)("h3",null,It.diagnosticsBreakdownsStatus)),Object(c.jsx)(Bt.Chart,{size:{height:200,width:"100%"}},Object(c.jsx)(Bt.Settings,{baseTheme:Bt.LEGACY_LIGHT_THEME}),Object(c.jsx)(Bt.Axis,{id:"y",position:Bt.Position.Left,showOverlappingTicks:!0}),Object(c.jsx)(Bt.Axis,{id:"x",position:Bt.Position.Bottom,showOverlappingTicks:!0}),Object(c.jsx)(Bt.HistogramBarSeries,{data:Object.entries(o.countByStatus).map((([e,t])=>({key:e,count:t}))),id:"Status",xAccessor:"key",yAccessors:["count"],xScaleType:Bt.ScaleType.Time,yScaleType:Bt.ScaleType.Linear,timeZone:"local"}))),Object(c.jsx)(C.EuiSpacer,null),Object(c.jsx)(C.EuiPanel,{hasBorder:!0,hasShadow:!1},Object(c.jsx)(C.EuiTitle,{size:"xs"},Object(c.jsx)("h3",null,It.diagnosticsBreakdownsExtension)),Object(c.jsx)(Bt.Chart,{size:{height:200,width:"100%"}},Object(c.jsx)(Bt.Axis,{id:"y",position:Bt.Position.Left,showOverlappingTicks:!0}),Object(c.jsx)(Bt.Axis,{id:"x",position:Bt.Position.Bottom,showOverlappingTicks:!0}),Object(c.jsx)(Bt.HistogramBarSeries,{data:Object.entries(o.countByExtension).map((([e,t])=>({key:e,count:t}))),id:"Extension",xAccessor:"key",yAccessors:["count"],xScaleType:Bt.ScaleType.Time,yScaleType:Bt.ScaleType.Linear,timeZone:"local"}))))))};var _t=n(75);const Rt=120,Ut=120;var zt={name:"eqfpam",styles:"&.blurhash{animation-name:imageBlurhashFadeIn;animation-duration:1s;@keyframes imageBlurhashFadeIn{0%{opacity:0;}90%{opacity:0;}100%{opacity:1;}}}"};const $t=({src:e,url:t,alt:n,onLoad:s,onError:o,meta:r,...l})=>{const u=e||t,[d,g]=Object(a.useState)(!1),{blurhash:m,width:p,height:f}=null!=r?r:{},j=i.a.useMemo((()=>{if(!(m&&p&&f))return null;try{return function({width:e,height:t,hash:n}){const a=document.createElement("canvas"),{width:i,height:s}=function(e,t){const n=Math.abs(Math.min(Math.min(Rt/e,Ut/t),1)-1);return{width:Math.floor(e-n*e),height:Math.floor(t-n*t)}}(e,t);a.width=i,a.height=s;const o=a.getContext("2d"),r=o.createImageData(i,s);r.data.set(_t.decode(n,i,s)),o.putImageData(r,0,0);const l=document.createElement("canvas");return l.width=e,l.height=t,l.getContext("2d").drawImage(a,0,0,e,t),l.toDataURL()}({hash:m,width:p,height:f})}catch(e){return console.warn("Failed to generate image src from blurhash",e),null}}),[m,p,f]),h=d||!j?u:j;return Object(c.jsx)(C.EuiImage,b()({alt:null!=n?n:"",loading:"lazy"},l,{className:H()(l.className,{blurhash:h===j}),css:zt,src:h,onLoad:e=>{var t;h===u?null==s||s(e):null!==(t=window)&&void 0!==t&&t.__image_stories_simulate_slow_load?setTimeout((()=>{g(!0)}),3e3):g(!0)},onError:e=>{h===u?null==o||o(e):(console.warn("Failed to load blurhash src"),g(!0))}}))},qt=({onClose:e,file:t})=>{var n,a,s,o,r;const{filesClient:l}=Lt();return Object(c.jsx)(C.EuiFlyout,{ownFocus:!0,onClose:e,size:"m"},Object(c.jsx)(C.EuiFlyoutHeader,{hasBorder:!0},Object(c.jsx)(C.EuiTitle,{size:"s"},Object(c.jsx)("h2",null,t.name))),Object(c.jsx)(C.EuiFlyoutBody,null,Object(c.jsx)(C.EuiFlexGroup,null,Object(c.jsx)(C.EuiFlexItem,null,Object(c.jsx)(C.EuiDescriptionList,{type:"column",listItems:[{title:It.filesFlyoutStatus,description:Object(c.jsx)(C.EuiHealth,{color:"READY"===t.status?"success":"AWAITING_UPLOAD"===t.status||"UPLOADING"===t.status?"primary":"warning"},It.filesStatus[t.status])},{title:It.filesFlyoutSize,description:Ft()(t.size).format("0[.]0 b")},{title:It.filesFlyoutExtension,description:null!==(n=null===(a=t.extension)||void 0===a?void 0:a.toUpperCase())&&void 0!==n?n:""}]})),Object(c.jsx)(C.EuiFlexItem,null,Object(c.jsx)(C.EuiDescriptionList,{type:"column",listItems:[{title:It.filesFlyoutMimeType,description:null!==(s=t.mimeType)&&void 0!==s?s:""},{title:It.filesFlyoutCreated,description:t.created},{title:It.filesFlyoutUpdated,description:t.updated}]}))),(null===(o=t.mimeType)||void 0===o?void 0:o.startsWith("image/"))&&Object(c.jsx)(i.a.Fragment,null,Object(c.jsx)(C.EuiSpacer,{size:"l"}),Object(c.jsx)(C.EuiHorizontalRule,null),Object(c.jsx)(C.EuiTitle,{size:"s"},Object(c.jsx)("h3",null,It.filesFlyoutPreview)),Object(c.jsx)(C.EuiSpacer,{size:"s"}),Object(c.jsx)(C.EuiFlexGroup,{justifyContent:"center",gutterSize:"none"},Object(c.jsx)($t,{size:"xl",alt:null!==(r=t.alt)&&void 0!==r?r:"",src:l.getDownloadHref(t)})))),Object(c.jsx)(C.EuiFlyoutFooter,null,Object(c.jsx)(C.EuiFlexGroup,{justifyContent:"flexEnd"},Object(c.jsx)(C.EuiButtonEmpty,{href:l.getDownloadHref(t),iconType:"download"},It.filesFlyoutDownload))))},Ht=()=>{const{filesClient:e,getFileKindDefinition:t,getAllFindKindDefinitions:n}=Lt(),[i,s]=Object(a.useState)(!1),[o,r]=Object(a.useState)(void 0),l=n().filter((({managementUiActions:e})=>{var t;return!1===(null==e||null===(t=e.list)||void 0===t?void 0:t.enabled)})).map((({id:e})=>e));return Object(c.jsx)("div",{"data-test-subj":"filesManagementApp"},Object(c.jsx)(wt,{title:It.tableListTitle,description:It.tableListDescription,titleColumnName:It.titleColumnName,emptyPrompt:Object(c.jsx)(At,null),entityName:It.entityName,entityNamePlural:It.entityNamePlural,findItems:t=>{return e.find({name:t?(n=t,n.includes("*")?n:`*${n}*`):void 0,kindToExclude:l}).then((({files:e,total:t})=>({hits:e.map((e=>({id:e.id,updatedAt:e.updated,references:[],type:"file",attributes:{title:e.name+(e.extension?`.${e.extension}`:""),...e}}))),total:t})));var n},customTableColumn:{name:It.size,field:"attributes.size",render:e=>e&&Ft()(e).format("0[.]0 b"),sortable:!0},initialFilter:"",initialPageSize:50,listingLimit:1e3,getOnClickTitle:({attributes:e})=>()=>r(e),deleteItems:async t=>{await e.bulkDelete({ids:t.map((({id:e})=>e))})},withoutPageTemplateWrapper:!0,additionalRightSideActions:[Object(c.jsx)(C.EuiButtonEmpty,{onClick:()=>s(!0)},It.diagnosticsFlyoutTitle)],rowItemActions:({attributes:e})=>{var n;const a=t(e.fileKind);return{delete:null==a||null===(n=a.managementUiActions)||void 0===n?void 0:n.delete}}}),i&&Object(c.jsx)(Dt,{onClose:()=>s(!1)}),Boolean(o)&&Object(c.jsx)(qt,{file:o,onClose:()=>r(void 0)}))},Gt=new kt.QueryClient,Wt=(e,t,{element:n,history:a})=>{const{files:{filesClientFactory:i,getAllFindKindDefinitions:s,getFileKindDefinition:r}}=t;return o.a.render(Object(c.jsx)(D,e,Object(c.jsx)(kt.QueryClientProvider,{client:Gt},Object(c.jsx)(Le,{core:e,FormattedRelative:_.FormattedRelative},Object(c.jsx)(Nt,{filesClient:i.asUnscoped(),getFileKindDefinition:r,getAllFindKindDefinitions:s},Object(c.jsx)(u,{history:a},Object(c.jsx)(j,{path:"/",component:Ht})))))),n),()=>{o.a.unmountComponentAtNode(n)}}}])]);