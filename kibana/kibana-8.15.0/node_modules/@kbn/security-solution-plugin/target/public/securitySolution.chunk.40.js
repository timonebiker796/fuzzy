/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.securitySolution_bundle_jsonpfunction=window.securitySolution_bundle_jsonpfunction||[]).push([[40],{1420:function(e,i,t){"use strict";function n(e,i){return i?a(e):e.aggregatable&&l(e,i)||(!e.aggregatable||"geo_point"===e.type||"geo_shape"===e.type)&&s(e,i)}function l(e,i){return!i&&!("document"===e.type||e.type.includes("range")||"geo_point"===e.type||"geo_shape"===e.type||"murmur3"===e.type||"attachment"===e.type)}function o(e,i){return!i&&"counter"===e.timeSeriesMetric}function s(e,i){return i?"string"===e.type&&!d(e)||["geo_point","geo_shape"].includes(e.type):"_score"!==e.name&&["string","text","keyword","version","ip","number","geo_point","geo_shape"].includes(e.type)}function d(e){var i;if("_id"===e.name)return!1;const t=null===(i=e.esTypes)||void 0===i?void 0:i[0];return Boolean("string"===e.type&&t&&["keyword","version"].includes(t))||["keyword","version","ip","number","boolean"].includes(e.type)}function a(e){return d(e)||s(e,!0)}t.d(i,"d",(function(){return n})),t.d(i,"a",(function(){return l})),t.d(i,"c",(function(){return o})),t.d(i,"b",(function(){return s})),t.d(i,"f",(function(){return d})),t.d(i,"e",(function(){return a}))},1603:function(e,i,t){"use strict";t.d(i,"a",(function(){return l}));var n=t(2);const l=Object(n.createContext)(void 0)},1604:function(e,i,t){"use strict";t.d(i,"a",(function(){return n}));const n={startPageChange:"start::pageChange",endPageReady:"end::pageReady"}},1725:function(e,i,t){"use strict";t.d(i,"a",(function(){return n}));const n={META_FIELDS:"metaFields",DOC_HIGHLIGHT:"doc_table:highlight",QUERY_STRING_OPTIONS:"query:queryString:options",QUERY_ALLOW_LEADING_WILDCARDS:"query:allowLeadingWildcards",SEARCH_QUERY_LANGUAGE:"search:queryLanguage",SORT_OPTIONS:"sort:options",COURIER_IGNORE_FILTER_IF_FIELD_NOT_IN_INDEX:"courier:ignoreFilterIfFieldNotInIndex",COURIER_SET_REQUEST_PREFERENCE:"courier:setRequestPreference",COURIER_CUSTOM_REQUEST_PREFERENCE:"courier:customRequestPreference",COURIER_MAX_CONCURRENT_SHARD_REQUESTS:"courier:maxConcurrentShardRequests",SEARCH_INCLUDE_FROZEN:"search:includeFrozen",SEARCH_TIMEOUT:"search:timeout",HISTOGRAM_BAR_TARGET:"histogram:barTarget",HISTOGRAM_MAX_BARS:"histogram:maxBars",HISTORY_LIMIT:"history:limit",TIMEPICKER_REFRESH_INTERVAL_DEFAULTS:"timepicker:refreshIntervalDefaults",TIMEPICKER_QUICK_RANGES:"timepicker:quickRanges",TIMEPICKER_TIME_DEFAULTS:"timepicker:timeDefaults",FILTERS_PINNED_BY_DEFAULT:"filters:pinnedByDefault",FILTERS_EDITOR_SUGGEST_VALUES:"filterEditor:suggestValues",AUTOCOMPLETE_USE_TIMERANGE:"autocomplete:useTimeRange",AUTOCOMPLETE_VALUE_SUGGESTION_METHOD:"autocomplete:valueSuggestionMethod",DATE_FORMAT:"dateFormat",DATEFORMAT_TZ:"dateFormat:tz"}},2016:function(e,i,t){switch(window.__kbnThemeTag__){case"v8dark":return t(2017);case"v8light":return t(2019)}},2017:function(e,i,t){var n=t(185),l=t(2018);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);n(l,{insert:"head",singleton:!1}),e.exports=l.locals||{}},2018:function(e,i,t){(i=t(186)(!1)).push([e.i,".unifiedFieldListSidebar{flex-grow:1;height:100%;margin:0!important;overflow:hidden;padding:0}.unifiedFieldListSidebar--collapsed{padding:8px 8px 0;width:auto}.unifiedFieldListSidebar.unifiedFieldListSidebar--fullWidth{min-width:0!important}.unifiedFieldListSidebar:not(.unifiedFieldListSidebar--fullWidth){width:304px}@media only screen and (max-width:574px){.unifiedFieldListSidebar{background-color:#141519;padding:16px;width:100%}}@media only screen and (min-width:575px)and (max-width:767px){.unifiedFieldListSidebar{background-color:#141519;padding:16px;width:100%}}.unifiedFieldListSidebar__list{padding:8px 4px 0}.unifiedFieldListSidebar__list .euiAccordion__children,.unifiedFieldListSidebar__list .euiAccordion__triggerWrapper,.unifiedFieldListSidebar__list .unifiedFieldListItemButton,.unifiedFieldListSidebar__list>*{padding-left:4px;padding-right:4px}.unifiedFieldListSidebar__list .unifiedFieldListSidebar__accordionContainer{padding-left:0;padding-right:0}@media only screen and (max-width:574px){.unifiedFieldListSidebar__list{padding:8px 0 0}.unifiedFieldListSidebar__list .euiAccordion__triggerWrapper,.unifiedFieldListSidebar__list .unifiedFieldListItemButton,.unifiedFieldListSidebar__list .unifiedFieldListSidebar__accordionContainer,.unifiedFieldListSidebar__list>*{padding-left:0;padding-right:0}}@media only screen and (min-width:575px)and (max-width:767px){.unifiedFieldListSidebar__list{padding:8px 0 0}.unifiedFieldListSidebar__list .euiAccordion__triggerWrapper,.unifiedFieldListSidebar__list .unifiedFieldListItemButton,.unifiedFieldListSidebar__list .unifiedFieldListSidebar__accordionContainer,.unifiedFieldListSidebar__list>*{padding-left:0;padding-right:0}}.unifiedFieldListSidebar__group{height:100%}.unifiedFieldListSidebar__mobile{padding:8px 8px 0;width:100%}.unifiedFieldListSidebar__mobile .unifiedFieldListSidebar__mobileBadge{margin-left:8px;vertical-align:text-bottom}.unifiedFieldListSidebar__flyoutHeader{align-items:center}.unifiedFieldListSidebar .unifiedFieldListItemButton.kbnFieldButton{background:none;box-shadow:none;margin-bottom:2px}.unifiedFieldListItemButton__dragging{background:#1d1e24}",""]),e.exports=i},2019:function(e,i,t){var n=t(185),l=t(2020);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);n(l,{insert:"head",singleton:!1}),e.exports=l.locals||{}},2020:function(e,i,t){(i=t(186)(!1)).push([e.i,".unifiedFieldListSidebar{flex-grow:1;height:100%;margin:0!important;overflow:hidden;padding:0}.unifiedFieldListSidebar--collapsed{padding:8px 8px 0;width:auto}.unifiedFieldListSidebar.unifiedFieldListSidebar--fullWidth{min-width:0!important}.unifiedFieldListSidebar:not(.unifiedFieldListSidebar--fullWidth){width:304px}@media only screen and (max-width:574px){.unifiedFieldListSidebar{background-color:#fafbfd;padding:16px;width:100%}}@media only screen and (min-width:575px)and (max-width:767px){.unifiedFieldListSidebar{background-color:#fafbfd;padding:16px;width:100%}}.unifiedFieldListSidebar__list{padding:8px 4px 0}.unifiedFieldListSidebar__list .euiAccordion__children,.unifiedFieldListSidebar__list .euiAccordion__triggerWrapper,.unifiedFieldListSidebar__list .unifiedFieldListItemButton,.unifiedFieldListSidebar__list>*{padding-left:4px;padding-right:4px}.unifiedFieldListSidebar__list .unifiedFieldListSidebar__accordionContainer{padding-left:0;padding-right:0}@media only screen and (max-width:574px){.unifiedFieldListSidebar__list{padding:8px 0 0}.unifiedFieldListSidebar__list .euiAccordion__triggerWrapper,.unifiedFieldListSidebar__list .unifiedFieldListItemButton,.unifiedFieldListSidebar__list .unifiedFieldListSidebar__accordionContainer,.unifiedFieldListSidebar__list>*{padding-left:0;padding-right:0}}@media only screen and (min-width:575px)and (max-width:767px){.unifiedFieldListSidebar__list{padding:8px 0 0}.unifiedFieldListSidebar__list .euiAccordion__triggerWrapper,.unifiedFieldListSidebar__list .unifiedFieldListItemButton,.unifiedFieldListSidebar__list .unifiedFieldListSidebar__accordionContainer,.unifiedFieldListSidebar__list>*{padding-left:0;padding-right:0}}.unifiedFieldListSidebar__group{height:100%}.unifiedFieldListSidebar__mobile{padding:8px 8px 0;width:100%}.unifiedFieldListSidebar__mobile .unifiedFieldListSidebar__mobileBadge{margin-left:8px;vertical-align:text-bottom}.unifiedFieldListSidebar__flyoutHeader{align-items:center}.unifiedFieldListSidebar .unifiedFieldListItemButton.kbnFieldButton{background:none;box-shadow:none;margin-bottom:2px}.unifiedFieldListItemButton__dragging{background:#fff}",""]),e.exports=i},2021:function(e,i,t){switch(window.__kbnThemeTag__){case"v8dark":return t(2022);case"v8light":return t(2024)}},2022:function(e,i,t){var n=t(185),l=t(2023);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);n(l,{insert:"head",singleton:!1}),e.exports=l.locals||{}},2023:function(e,i,t){(i=t(186)(!1)).push([e.i,".unifiedFieldListItemButton__action{opacity:0}.unifiedFieldListItemButton__action--always,.unifiedFieldListItemButton__action:focus{opacity:1}.unifiedFieldListItemButton{background:#1d1e24;border-radius:6px;box-shadow:0 .8px .8px #0000001a,0 2.3px 2px rgba(0,0,0,.075);width:100%}.unifiedFieldListItemButton.kbnFieldButton-isActive,.unifiedFieldListItemButton.kbnFieldButton:focus-within{outline:none}.unifiedFieldListItemButton.kbnFieldButton-isActive:focus-visible,.unifiedFieldListItemButton.kbnFieldButton:focus-within:focus-visible{outline-style:none}.unifiedFieldListItemButton .kbnFieldButton__button:focus{outline:none}.unifiedFieldListItemButton .kbnFieldButton__button:focus:focus-visible{outline-style:none}.unifiedFieldListItemButton .kbnFieldButton__button:focus .kbnFieldButton__nameInner{outline:2px solid currentColor}.unifiedFieldListItemButton .kbnFieldButton__button:focus:focus-visible .kbnFieldButton__nameInner{outline-style:auto}.unifiedFieldListItemButton .kbnFieldButton__button:focus:not(:focus-visible) .kbnFieldButton__nameInner{outline:none}.unifiedFieldListItemButton button .kbnFieldButton__nameInner:hover{text-decoration:underline}.unifiedFieldListItemButton:hover .unifiedFieldListItemButton__action,.unifiedFieldListItemButton[class*=-isActive] .unifiedFieldListItemButton__action{opacity:1}.unifiedFieldList__fieldPopover__fieldPopoverPanel .unifiedFieldListItemButton{background:none;box-shadow:none}.unifiedFieldListItemButton--missing{background:#1d1e24;color:#98a2b3}.unifiedFieldListItemButton__fieldIconContainer{position:relative}.unifiedFieldListItemButton__fieldIcon{transition:opacity .25s ease-in-out}.unifiedFieldListItemButton__fieldIconDrag{left:0;position:absolute;top:0;transition:opacity .25s ease-in-out;visibility:hidden}.unifiedFieldListItemButton--withDragIcon .unifiedFieldListItemButton__fieldIconDrag{opacity:0;visibility:visible}.domDraggable__keyboardHandler:focus+.unifiedFieldListItemButton--withDragIcon .unifiedFieldListItemButton__fieldIcon,.unifiedFieldListItemButton--withDragIcon:hover .unifiedFieldListItemButton__fieldIcon,.unifiedFieldListItemButton--withDragIcon[class*=-isActive] .unifiedFieldListItemButton__fieldIcon{opacity:0}.domDraggable__keyboardHandler:focus+.unifiedFieldListItemButton--withDragIcon .unifiedFieldListItemButton__fieldIconDrag,.unifiedFieldListItemButton--withDragIcon:hover .unifiedFieldListItemButton__fieldIconDrag,.unifiedFieldListItemButton--withDragIcon[class*=-isActive] .unifiedFieldListItemButton__fieldIconDrag{opacity:1}",""]),e.exports=i},2024:function(e,i,t){var n=t(185),l=t(2025);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);n(l,{insert:"head",singleton:!1}),e.exports=l.locals||{}},2025:function(e,i,t){(i=t(186)(!1)).push([e.i,".unifiedFieldListItemButton__action{opacity:0}.unifiedFieldListItemButton__action--always,.unifiedFieldListItemButton__action:focus{opacity:1}.unifiedFieldListItemButton{background:#fff;border-radius:6px;box-shadow:0 .8px .8px #0000000a,0 2.3px 2px #00000008;width:100%}.unifiedFieldListItemButton.kbnFieldButton-isActive,.unifiedFieldListItemButton.kbnFieldButton:focus-within{outline:none}.unifiedFieldListItemButton.kbnFieldButton-isActive:focus-visible,.unifiedFieldListItemButton.kbnFieldButton:focus-within:focus-visible{outline-style:none}.unifiedFieldListItemButton .kbnFieldButton__button:focus{outline:none}.unifiedFieldListItemButton .kbnFieldButton__button:focus:focus-visible{outline-style:none}.unifiedFieldListItemButton .kbnFieldButton__button:focus .kbnFieldButton__nameInner{outline:2px solid currentColor}.unifiedFieldListItemButton .kbnFieldButton__button:focus:focus-visible .kbnFieldButton__nameInner{outline-style:auto}.unifiedFieldListItemButton .kbnFieldButton__button:focus:not(:focus-visible) .kbnFieldButton__nameInner{outline:none}.unifiedFieldListItemButton button .kbnFieldButton__nameInner:hover{text-decoration:underline}.unifiedFieldListItemButton:hover .unifiedFieldListItemButton__action,.unifiedFieldListItemButton[class*=-isActive] .unifiedFieldListItemButton__action{opacity:1}.unifiedFieldList__fieldPopover__fieldPopoverPanel .unifiedFieldListItemButton{background:none;box-shadow:none}.unifiedFieldListItemButton--missing{background:#98a2b31a;color:#69707d}.unifiedFieldListItemButton__fieldIconContainer{position:relative}.unifiedFieldListItemButton__fieldIcon{transition:opacity .25s ease-in-out}.unifiedFieldListItemButton__fieldIconDrag{left:0;position:absolute;top:0;transition:opacity .25s ease-in-out;visibility:hidden}.unifiedFieldListItemButton--withDragIcon .unifiedFieldListItemButton__fieldIconDrag{opacity:0;visibility:visible}.domDraggable__keyboardHandler:focus+.unifiedFieldListItemButton--withDragIcon .unifiedFieldListItemButton__fieldIcon,.unifiedFieldListItemButton--withDragIcon:hover .unifiedFieldListItemButton__fieldIcon,.unifiedFieldListItemButton--withDragIcon[class*=-isActive] .unifiedFieldListItemButton__fieldIcon{opacity:0}.domDraggable__keyboardHandler:focus+.unifiedFieldListItemButton--withDragIcon .unifiedFieldListItemButton__fieldIconDrag,.unifiedFieldListItemButton--withDragIcon:hover .unifiedFieldListItemButton__fieldIconDrag,.unifiedFieldListItemButton--withDragIcon[class*=-isActive] .unifiedFieldListItemButton__fieldIconDrag{opacity:1}",""]),e.exports=i},2026:function(e,i,t){switch(window.__kbnThemeTag__){case"v8dark":return t(2027);case"v8light":return t(2029)}},2027:function(e,i,t){var n=t(185),l=t(2028);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);n(l,{insert:"head",singleton:!1}),e.exports=l.locals||{}},2028:function(e,i,t){(i=t(186)(!1)).push([e.i,".kbnFieldButton{align-items:flex-start;border-radius:6px;display:flex;font-size:14px;font-size:1rem;line-height:1.7142857143rem;margin-bottom:4px;padding:0 8px;transition:box-shadow .15s cubic-bezier(.694,.0482,.335,1),background-color .15s cubic-bezier(.694,.0482,.335,1)}.kbnFieldButton-isActive,.kbnFieldButton:focus-within{outline:2px solid currentColor}.kbnFieldButton-isActive:focus-visible,.kbnFieldButton:focus-within:focus-visible{outline-style:auto}.kbnFieldButton-isActive:not(:focus-visible),.kbnFieldButton:focus-within:not(:focus-visible){outline:none}.kbnFieldButton__button{align-items:flex-start;display:flex;flex-grow:1;line-height:normal;padding:8px 0;text-align:left}.kbnFieldButton__fieldIcon{flex-shrink:0;line-height:0}.kbnFieldButton__name{flex-grow:1;padding:0 8px}.kbnFieldButton__infoIcon{align-items:center;display:flex;flex-shrink:0;justify-content:center;line-height:0;min-height:16px}.kbnFieldButton__fieldAction{margin-left:8px}.kbnFieldButton__dragHandle{margin-right:8px}.kbnFieldButton__dragHandle,.kbnFieldButton__fieldAction{line-height:32px}.kbnFieldButton--xs{font-size:12px}.kbnFieldButton--xs .kbnFieldButton__button{padding:4px 0}.kbnFieldButton--xs .kbnFieldButton__fieldAction{margin-left:4px}.kbnFieldButton--xs .kbnFieldButton__dragHandle,.kbnFieldButton--xs .kbnFieldButton__fieldAction{line-height:24px}.kbnFieldButton--flushBoth{padding-left:0;padding-right:0}",""]),e.exports=i},2029:function(e,i,t){var n=t(185),l=t(2030);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);n(l,{insert:"head",singleton:!1}),e.exports=l.locals||{}},2030:function(e,i,t){(i=t(186)(!1)).push([e.i,".kbnFieldButton{align-items:flex-start;border-radius:6px;display:flex;font-size:14px;font-size:1rem;line-height:1.7142857143rem;margin-bottom:4px;padding:0 8px;transition:box-shadow .15s cubic-bezier(.694,.0482,.335,1),background-color .15s cubic-bezier(.694,.0482,.335,1)}.kbnFieldButton-isActive,.kbnFieldButton:focus-within{outline:2px solid currentColor}.kbnFieldButton-isActive:focus-visible,.kbnFieldButton:focus-within:focus-visible{outline-style:auto}.kbnFieldButton-isActive:not(:focus-visible),.kbnFieldButton:focus-within:not(:focus-visible){outline:none}.kbnFieldButton__button{align-items:flex-start;display:flex;flex-grow:1;line-height:normal;padding:8px 0;text-align:left}.kbnFieldButton__fieldIcon{flex-shrink:0;line-height:0}.kbnFieldButton__name{flex-grow:1;padding:0 8px}.kbnFieldButton__infoIcon{align-items:center;display:flex;flex-shrink:0;justify-content:center;line-height:0;min-height:16px}.kbnFieldButton__fieldAction{margin-left:8px}.kbnFieldButton__dragHandle{margin-right:8px}.kbnFieldButton__dragHandle,.kbnFieldButton__fieldAction{line-height:32px}.kbnFieldButton--xs{font-size:12px}.kbnFieldButton--xs .kbnFieldButton__button{padding:4px 0}.kbnFieldButton--xs .kbnFieldButton__fieldAction{margin-left:4px}.kbnFieldButton--xs .kbnFieldButton__dragHandle,.kbnFieldButton--xs .kbnFieldButton__fieldAction{line-height:24px}.kbnFieldButton--flushBoth{padding-left:0;padding-right:0}",""]),e.exports=i},2031:function(e,i,t){switch(window.__kbnThemeTag__){case"v8dark":return t(2032);case"v8light":return t(2034)}},2032:function(e,i,t){var n=t(185),l=t(2033);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);n(l,{insert:"head",singleton:!1}),e.exports=l.locals||{}},2033:function(e,i,t){(i=t(186)(!1)).push([e.i,".unifiedFieldList__fieldPopover__fieldPopoverPanel{max-width:400px!important;min-width:260px!important}",""]),e.exports=i},2034:function(e,i,t){var n=t(185),l=t(2035);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);n(l,{insert:"head",singleton:!1}),e.exports=l.locals||{}},2035:function(e,i,t){(i=t(186)(!1)).push([e.i,".unifiedFieldList__fieldPopover__fieldPopoverPanel{max-width:400px!important;min-width:260px!important}",""]),e.exports=i},2036:function(e,i,t){switch(window.__kbnThemeTag__){case"v8dark":return t(2037);case"v8light":return t(2039)}},2037:function(e,i,t){var n=t(185),l=t(2038);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);n(l,{insert:"head",singleton:!1}),e.exports=l.locals||{}},2038:function(e,i,t){(i=t(186)(!1)).push([e.i,".domDraggable{border-radius:6px;cursor:grab;transition:.15s ease-in-out;transition-property:background-color,border-color,opacity;z-index:1}.domDraggable:hover{transform:translateX(4px);transition:transform .35s ease-out}.domDraggable .euiLink,.domDraggable .kbnFieldButton__button{cursor:grab}.domDraggable:focus{outline:2px solid currentColor}.domDraggable:focus:focus-visible{outline-style:auto}.domDraggable:focus:not(:focus-visible){outline:none}.domDraggable--reorderable{position:relative;transform:translateY(0);transition:transform .15s ease-in-out;z-index:1}.domDraggable__keyboardHandler{border-radius:6px;height:100%;position:absolute;top:0;width:100%}.domDraggable__keyboardHandler:focus,.domDraggable__keyboardHandler:focus-within{outline:2px solid currentColor;pointer-events:none;z-index:2}.domDraggable__keyboardHandler:focus-within:focus-visible,.domDraggable__keyboardHandler:focus:focus-visible{outline-style:auto}.domDraggable__keyboardHandler:focus-within:not(:focus-visible),.domDraggable__keyboardHandler:focus:not(:focus-visible){outline:none}.domDraggable_active--move,.domDraggable_dragover_keyboard--move{opacity:0}",""]),e.exports=i},2039:function(e,i,t){var n=t(185),l=t(2040);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);n(l,{insert:"head",singleton:!1}),e.exports=l.locals||{}},2040:function(e,i,t){(i=t(186)(!1)).push([e.i,".domDraggable{border-radius:6px;cursor:grab;transition:.15s ease-in-out;transition-property:background-color,border-color,opacity;z-index:1}.domDraggable:hover{transform:translateX(4px);transition:transform .35s ease-out}.domDraggable .euiLink,.domDraggable .kbnFieldButton__button{cursor:grab}.domDraggable:focus{outline:2px solid currentColor}.domDraggable:focus:focus-visible{outline-style:auto}.domDraggable:focus:not(:focus-visible){outline:none}.domDraggable--reorderable{position:relative;transform:translateY(0);transition:transform .15s ease-in-out;z-index:1}.domDraggable__keyboardHandler{border-radius:6px;height:100%;position:absolute;top:0;width:100%}.domDraggable__keyboardHandler:focus,.domDraggable__keyboardHandler:focus-within{outline:2px solid currentColor;pointer-events:none;z-index:2}.domDraggable__keyboardHandler:focus-within:focus-visible,.domDraggable__keyboardHandler:focus:focus-visible{outline-style:auto}.domDraggable__keyboardHandler:focus-within:not(:focus-visible),.domDraggable__keyboardHandler:focus:not(:focus-visible){outline:none}.domDraggable_active--move,.domDraggable_dragover_keyboard--move{opacity:0}",""]),e.exports=i},2103:function(e,i,t){"use strict";t.d(i,"a",(function(){return l}));var n=t(1725);function l(e){return{allowLeadingWildcards:e.get(n.a.QUERY_ALLOW_LEADING_WILDCARDS),queryStringOptions:e.get(n.a.QUERY_STRING_OPTIONS),ignoreFilterIfFieldNotInIndex:e.get(n.a.COURIER_IGNORE_FILTER_IF_FIELD_NOT_IN_INDEX),dateFormatTZ:e.get("dateFormat:tz")}}},2104:function(e,i,t){"use strict";t.d(i,"a",(function(){return ErrorBoundary}));var n=t(2),l=t.n(n);class ErrorBoundary extends l.a.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}render(){return this.state.hasError?null:this.props.children}}},2110:function(e,i,t){"use strict";t.r(i);var n=t(119),l=t.n(n),o=t(2),s=t.n(o),d=t(4),a=t(42),r=t(8),u=t.n(r),c=t(19),f=t(3),b=t(2103),p=t(43);t(1603),t(1604);function m(e,i){e.reportEvent("performance_metric",i)}var g=t(1359);const F=Object(c.htmlIdGenerator)(),_=[],h={fetchStatus:g.a.unknown,existingFieldsByFieldNameMap:{},numberOfFetches:0},y=new f.BehaviorSubject({});let j="";async function v(e,i,n,l){const o=await(async()=>(await Promise.resolve().then(t.t.bind(null,53,7))).buildEsQuery)();try{return o(e,i,n,l)}catch(e){return{bool:{must_not:{match_all:{}}}}}}var x=t(53);const O=e=>{const{from:i,to:t}=e.getTime(),{min:n,max:l}=e.calculateBounds({from:i,to:t});return{fromDate:(null==n?void 0:n.toISOString())||i,toDate:(null==l?void 0:l.toISOString())||t}},I=({data:e,timeRangeUpdatesType:i="search-session"})=>{const t=e.query.timefilter.timefilter,[n,l]=Object(o.useState)((()=>{const i=e.query.getState(),n=O(t);return{query:null==i?void 0:i.query,filters:null==i?void 0:i.filters,fromDate:n.fromDate,toDate:n.toDate,searchMode:L(null==i?void 0:i.query)}}));return Object(o.useEffect)((()=>{if("search-session"!==i)return;const n=e.search.session.state$.subscribe((e=>{const i=O(t);l((e=>({...e,fromDate:i.fromDate,toDate:i.toDate})))}));return()=>n.unsubscribe()}),[l,t,e.search.session.state$,i]),Object(o.useEffect)((()=>{if("timefilter"!==i)return;const e=t.getTimeUpdate$().subscribe((()=>{const e=O(t);l((i=>({...i,fromDate:e.fromDate,toDate:e.toDate})))}));return()=>e.unsubscribe()}),[l,t,i]),Object(o.useEffect)((()=>{const i=e.query.state$.subscribe((({state:e,changes:i})=>{(i.query||i.filters)&&l((i=>({...i,query:e.query,filters:e.filters,searchMode:L(e.query)})))}));return()=>i.unsubscribe()}),[l,e.query.state$]),n};function L(e){if(e)return Object(x.isOfAggregateQueryType)(e)?"text-based":"documents"}t(2016);var S=t(52),B=t.n(S);const k=e=>({bold:e.font.weight.bold,normal:e.font.weight.regular}),w=(e,{type:i,isDisabled:t,groupPosition:n})=>{const l=(({euiTheme:e})=>({default:{borderStyle:"solid",border:e.border.thin,borderColor:e.border.color},emptyButton:{backgroundColor:e.colors.emptyShade,border:`${e.border.thin}`,color:`${e.colors.text}`},buttonPositions:{left:{borderTopRightRadius:0,borderBottomRightRadius:0},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,borderLeft:"none"},center:{borderRadius:0,borderLeft:"none"}}}))(e),o=n&&"none"!==n?l.buttonPositions[n]:{},s={...l.default,...o};return t?s:{...s,..."primary"===i?{}:l.emptyButton}},D=({hasArrow:e=!0,fontWeight:i="normal",type:t,label:n,iconSide:o,iconType:s,fullWidth:d,isDisabled:a,groupPosition:r,...u})=>{const f=Object(c.useEuiTheme)(),b={...w(f,{type:t,isDisabled:a,groupPosition:r}),fontWeight:k(f.euiTheme)[i]},m=a?{}:"primary"===t?{color:"primary",fill:!0}:{color:"text"},g=null!=s?s:e?"arrowDown":"";return Object(p.jsx)(c.EuiButton,l()({size:u.size,isDisabled:a,css:b,iconType:g,iconSide:s?o:"right",fullWidth:d,contentProps:d?{style:{justifyContent:"space-between"}}:{}},m,u),n)},T=({size:e,type:i,label:t,isDisabled:n,groupPosition:o,...s})=>{const d=Object(c.useEuiTheme)(),a=w(d,{type:i,isDisabled:n,groupPosition:o});return Object(p.jsx)(c.EuiButtonIcon,l()({},s,{disabled:n,"aria-label":null!=t?t:s["aria-label"],size:e,iconSize:e,css:a,display:"primary"===i?"fill":"base",color:"primary"===i?"primary":"text"}))};function E(e){const{type:i="empty",size:t="m"}=e;return(e=>"iconButton"===e.as)(e)?Object(p.jsx)(T,l()({},e,{size:t,type:i})):Object(p.jsx)(D,l()({},e,{size:t,type:i}))}var A=t(115);t(73);const M={name:"zxsb69",styles:"position:relative;width:100%;height:100%"},C=({"data-test-subj":e="fieldList",isProcessing:i,prepend:t,append:n,className:l,children:o})=>Object(p.jsx)(c.EuiFlexGroup,{gutterSize:"none",direction:"column",responsive:!1,"data-test-subj":e,css:M,className:l},i&&Object(p.jsx)(c.EuiProgress,{size:"xs",color:"accent",position:"absolute","data-test-subj":`${e}Loading`}),!!t&&Object(p.jsx)(c.EuiFlexItem,{grow:!1},t),Object(p.jsx)(c.EuiFlexItem,{className:"unifiedFieldListSidebar__accordionContainer",grow:!0},o),!!n&&Object(p.jsx)(c.EuiFlexItem,{grow:!1},n)),P=()=>Object(p.jsx)(o.Fragment,null),N=s.a.lazy((()=>t.e(65).then(t.bind(null,2127)))),R=function(e){return Object(p.jsx)(s.a.Suspense,{fallback:Object(p.jsx)(P,null)},Object(p.jsx)(N,e))},z=()=>Object(p.jsx)(o.Fragment,null),G=s.a.lazy((()=>t.e(46).then(t.bind(null,2133)))),H=function(e){return Object(p.jsx)(s.a.Suspense,{fallback:Object(p.jsx)(z,null)},Object(p.jsx)(G,e))};var V=t(7);const W=Object(V.memoize)((function(e){const i=e.trim();let t=i.split(/[* ]+/).map(V.escapeRegExp).join(".*");return i.includes(" ")&&(t=".*"+t+".*"),new RegExp(t.includes("*")?`^${t}$`:t,"i")})),$=(e,i)=>{if(null==i||!i.trim())return!1;const t=W(i);return!!e.displayName&&t.test(e.displayName)||t.test(e.name)};function U(e,i){const t=(i||"").trim();return(t.includes("*")||t.includes(" "))&&$({name:e},t)?e:t}var q=t(701);const K=Object(c.htmlIdGenerator)("fieldList");const Y=new Intl.Collator(void 0,{sensitivity:"base"});function Q(e,i){return Y.compare(e.displayName||e.name,i.displayName||i.name)}function X(){return!0}var Z=t(1744),J=t(1724),ee=t(1198);t(2036);const ie=ee.c/2,te=({reorderableGroup:e,...i})=>{const[{dragging:t,dropTargetsByOrder:n,hoveredDropTarget:o,keyboardMode:s,dataTestSubjPrefix:d},a]=Object(Z.c)();if(i.isDisabled)return i.children;const r=i.value.id===(null==t?void 0:t.id),u={...i,draggedItemProps:r?{keyboardMode:s,hoveredDropTarget:o,dropTargetsByOrder:n}:void 0,dataTestSubjPrefix:d,dndDispatch:a};return e&&e.length>1?Object(p.jsx)(oe,l()({},u,{reorderableGroup:e})):Object(p.jsx)(le,u)},ne=()=>{const e=window.getSelection();e&&e.removeAllRanges()},le=Object(o.memo)((function({dataTestSubj:e,className:i,dragClassName:t,value:n,children:l,dndDispatch:s,order:d,draggedItemProps:a,dataTestSubjPrefix:r,dragType:u,onDragStart:f,onDragEnd:b,extraKeyboardHandler:m,ariaDescribedBy:g}){const{keyboardMode:F,hoveredDropTarget:_,dropTargetsByOrder:h}=a||{},y=Object(o.useCallback)((e=>{s(e?{type:"selectDropTarget",payload:{dropTarget:e,dragging:n}}:{type:"leaveDropTarget"})}),[s,n]),j=Object(o.useCallback)(((e,i)=>{const t=h&&Object.values(h).filter((i=>(null==i?void 0:i.id)===e));y(null==t?void 0:t[i])}),[h,y]),v=Object(o.useMemo)((()=>({onKeyDown:e=>{if(e.preventDefault(),"Alt"===e.key&&null!=_&&_.id)j(_.id,1);else if("Shift"===e.key&&null!=_&&_.id)j(_.id,2);else if("Control"===e.key&&null!=_&&_.id){const e=Number(_.humanData.canSwap)+Number(_.humanData.canDuplicate);j(_.id,e+1)}},onKeyUp:e=>{if(e.preventDefault(),null!=_&&_.id&&["Shift","Alt","Control"].includes(e.key))if(e.altKey)j(_.id,1);else if(e.shiftKey)j(_.id,2);else if(e.ctrlKey){const e=Number(_.humanData.canSwap)+Number(_.humanData.canDuplicate);j(_.id,e+1)}else j(_.id,0)}})),[_,j]),x=Object(o.useCallback)(((e,i)=>{if(e&&"dataTransfer"in e&&e.dataTransfer.getData("text"))return;e&&"dataTransfer"in e&&e.dataTransfer.setData("text",n.humanData.label);const o=null==e?void 0:e.currentTarget;null==f||f(null==e?void 0:e.currentTarget);const d=e.currentTarget;t&&!d.classList.contains(t)&&(d.classList.add(t),requestAnimationFrame((()=>{d.classList.remove(t)}))),setTimeout((()=>{s({type:"startDragging",payload:{...i?{keyboardMode:!0}:{},dragging:{...n,ghost:i?{children:l,className:B()(t),style:{width:o.offsetWidth,minHeight:null==o?void 0:o.offsetHeight,zIndex:1e3}}:void 0}}})}))}),[s,n,f]),O=Object(o.useCallback)((e=>{null==e||e.stopPropagation(),s({type:"endDragging",payload:{dragging:n}}),null==b||b()}),[s,n,b]),I="move"===u&&F&&_&&"reorder"!==_.dropType;return Object(p.jsx)("div",{className:B()(i,"domDraggable",{"domDraggable_active--move":a&&"move"===u&&!F,"domDraggable_dragover_keyboard--move":I,"domDraggable_active--copy":a&&"copy"===u&&!F,"domDraggable_dragover_keyboard--copy":F&&a&&_}),"data-test-subj":e||`${r}_domDraggable_${n.humanData.label}`,draggable:!0,onDragEnd:O,onDragStart:x,onMouseDown:ne},Object(p.jsx)(c.EuiScreenReaderOnly,{showOnFocus:!0},Object(p.jsx)("button",{"aria-label":n.humanData.label,"aria-describedby":g||`${r}-keyboardInstructions`,className:"domDraggable__keyboardHandler","data-test-subj":`${r}-keyboardHandler`,onBlur:e=>{a&&O()},onKeyDown:e=>{const{key:i}=e;i===c.keys.ENTER||i===c.keys.SPACE?(_&&(()=>{if(_){const{dropType:e,onDrop:i}=_;setTimeout((()=>{s({type:"dropToTarget",payload:{dragging:n,dropTarget:_}})})),i(n,e)}})(),a?O():x(e,!0)):i===c.keys.ESCAPE&&a&&(e.stopPropagation(),e.preventDefault(),O()),m&&m(e),F&&(c.keys.ARROW_LEFT!==i&&c.keys.ARROW_RIGHT!==i||((e,i=!1)=>{const t=Object(Z.b)(h,_,[d.join(",")],(e=>"reorder"!==(null==e?void 0:e.dropType)),i);"string"==typeof t||void 0===t?y(void 0):e.altKey?j(t.id,1):e.shiftKey?j(t.id,2):e.ctrlKey?j(t.id,3):y(t)})(e,!(c.keys.ARROW_LEFT!==i)),v.onKeyDown(e))},onKeyUp:v.onKeyUp})),l)})),oe=Object(o.memo)((function(e){const[{isReorderOn:i,reorderedItems:t,direction:n},s]=Object(o.useContext)(J.a),{value:d,draggedItemProps:a,reorderableGroup:r,dndDispatch:u,dataTestSubjPrefix:f}=e,{keyboardMode:b,hoveredDropTarget:m,dropTargetsByOrder:g}=a||{},F=!!a,_=b?F&&(!m||r.some((e=>e.id===(null==m?void 0:m.id)))):F;Object(o.useEffect)((()=>()=>s({type:"dragEnd"})),[s]),Object(o.useEffect)((()=>{s({type:"setIsReorderOn",payload:_})}),[s,_]);const h=e=>{if(!e)return s({type:"reset"}),void u({type:"leaveDropTarget"});const i=r.findIndex((i=>i.id===e.id)),t=r.findIndex((e=>e.id===(null==d?void 0:d.id)));-1!==t&&(u({type:"selectDropTarget",payload:{dropTarget:e,dragging:d}}),s({type:"setReorderedItems",payload:{draggingIndex:t,droppingIndex:i,items:r}}))},y=b&&F&&t.length;return Object(p.jsx)("div",{"data-test-subj":`${f}-reorderableDrag`,className:B()({"domDraggable--reorderable":F,"domDraggable_active_keyboard--reorderable":b&&F}),style:y?{transform:`translateY(${"+"===n?"-":"+"}${t.reduce(((e,i)=>{var t;return e+(null!==(t=i.height)&&void 0!==t?t:0)+ie}),0)}px)`}:void 0},Object(p.jsx)(le,l()({},e,{ariaDescribedBy:`${f}-keyboardInstructionsWithReorder`,extraKeyboardHandler:t=>{if(i&&b){t.stopPropagation(),t.preventDefault();let i=r.findIndex((e=>e.id===d.id));if(m){const e=r.findIndex((e=>e.id===(null==m?void 0:m.id)));-1!==e&&(i=e)}if(t.key===c.keys.ARROW_LEFT||t.key===c.keys.ARROW_RIGHT)s({type:"reset"});else if(c.keys.ARROW_DOWN===t.key){if(i<r.length-1){const i=Object(Z.b)(g,m,[e.order.join(",")],(e=>"reorder"===(null==e?void 0:e.dropType)));h(i)}}else if(c.keys.ARROW_UP===t.key&&i>0){const i=Object(Z.b)(g,m,[e.order.join(",")],(e=>"reorder"===(null==e?void 0:e.dropType)),!0);h(i)}}},onDragStart:e=>{e&&setTimeout((()=>{s({type:"registerDraggingItemHeight",payload:e.clientHeight+ie})}))},onDragEnd:()=>{s({type:"dragEnd"})}})))}));t(2026);const se={xs:"kbnFieldButton--xs",s:"kbnFieldButton--s"};function de({size:e,isActive:i=!1,fieldIcon:t,fieldName:n,fieldInfoIcon:o,fieldAction:d,flush:a,className:r,dragHandle:u,onClick:c,dataTestSubj:f,buttonProps:b,...m}){const g=B()("kbnFieldButton",e?se[e]:null,{"kbnFieldButton-isActive":i,"kbnFieldButton--flushBoth":"both"===a},r),F=B()("kbn-resetFocusState","kbnFieldButton__button"),_=Object(p.jsx)(s.a.Fragment,null,t&&Object(p.jsx)("span",{className:"kbnFieldButton__fieldIcon"},t),n&&Object(p.jsx)("span",{className:"kbnFieldButton__name eui-textBreakAll"},Object(p.jsx)("span",{className:"kbnFieldButton__nameInner"},n)),o&&Object(p.jsx)("div",{className:"kbnFieldButton__infoIcon"},o));return Object(p.jsx)("div",l()({className:g},m),u&&Object(p.jsx)("div",{className:"kbnFieldButton__dragHandle"},u),c?Object(p.jsx)("button",l()({onClick:e=>{"click"===e.type&&e.currentTarget.focus(),c()},"data-test-subj":f,className:F},b),_):Object(p.jsx)("div",{className:F,"data-test-subj":f},_),d&&Object(p.jsx)("div",{className:"kbnFieldButton__fieldAction"},d))}Object.keys(se);var ae=t(655),re=t(1451);t(2021);const ue=Object(p.jsx)(c.EuiIcon,{type:"grabOmnidirectional",size:"m"});function ce({field:e,fieldSearchHighlight:i,isSelected:t,isActive:n,isEmpty:o,infoIcon:s,className:a,getCustomFieldType:r,dataTestSubj:u,size:f,withDragIcon:b,onClick:m,shouldAlwaysShowAction:g,buttonAddFieldToWorkspaceProps:F,buttonRemoveFieldFromWorkspaceProps:_,onAddFieldToWorkspace:h,onRemoveFieldFromWorkspace:y,...j}){var v,x;const O=e.displayName||e.name,I=O!==e.name&&"___records___"!==e.name?d.i18n.translate("unifiedFieldList.fieldItemButton.fieldTitle",{defaultMessage:"{fieldDisplayName} ({fieldName})",values:{fieldName:e.name,fieldDisplayName:O}}):O,L=r?{type:r(e)}:Object(ae.a)(e),S=L.type,k=B()("unifiedFieldListItemButton",{[`unifiedFieldListItemButton--${S}`]:S,"unifiedFieldListItemButton--exists":!o,"unifiedFieldListItemButton--missing":o,"unifiedFieldListItemButton--withDragIcon":Boolean(b)},a),w=null!==(v=null==F?void 0:F["aria-label"])&&void 0!==v?v:d.i18n.translate("unifiedFieldList.fieldItemButton.addFieldToWorkspaceLabel",{defaultMessage:'Add "{field}" field',values:{field:e.displayName}}),D=null!==(x=null==_?void 0:_["aria-label"])&&void 0!==x?x:d.i18n.translate("unifiedFieldList.fieldItemButton.removeFieldToWorkspaceLabel",{defaultMessage:'Remove "{field}" field',values:{field:e.displayName}}),T=B()("unifiedFieldListItemButton__action",{"unifiedFieldListItemButton__action--always":g}),E=t?y&&Object(p.jsx)(c.EuiToolTip,{key:`selected-to-remove-${e.name}-${D}`,content:D},Object(p.jsx)(c.EuiButtonIcon,l()({"data-test-subj":`fieldToggle-${e.name}`,"aria-label":D},_||{},{className:B()(T,null==_?void 0:_.className),color:"danger",iconType:"cross",onClick:i=>{i.preventDefault(),i.stopPropagation(),y(e)}}))):h&&Object(p.jsx)(c.EuiToolTip,{key:`deselected-to-add-${e.name}-${w}`,content:w},Object(p.jsx)(c.EuiButtonIcon,l()({"data-test-subj":`fieldToggle-${e.name}`,"aria-label":w},F||{},{className:B()(T,null==F?void 0:F.className),color:"text",iconType:"plusInCircle",onClick:i=>{i.preventDefault(),i.stopPropagation(),h(e)}}))),A="conflict"===e.type?Object(p.jsx)(fe,{conflictDescriptions:e.conflictDescriptions}):null;return Object(p.jsx)(de,l()({key:`field-item-button-${e.name}`,dataTestSubj:u||`field-${e.name}-showDetails`,size:f||"s",className:k,isActive:n,buttonProps:{"aria-label":d.i18n.translate("unifiedFieldList.fieldItemButton.ariaLabel",{defaultMessage:"Preview {fieldDisplayName}: {fieldType}",values:{fieldDisplayName:O,fieldType:r?r(e):e.type}})},fieldIcon:Object(p.jsx)("div",{className:"unifiedFieldListItemButton__fieldIconContainer"},Object(p.jsx)("div",{className:"unifiedFieldListItemButton__fieldIcon"},Object(p.jsx)(re.a,L)),b&&Object(p.jsx)("div",{className:"unifiedFieldListItemButton__fieldIconDrag"},ue)),fieldName:Object(p.jsx)(c.EuiHighlight,{search:U(O,i),title:I,"data-test-subj":`field-${e.name}`},O),fieldAction:E,fieldInfoIcon:A||s,onClick:m},j))}function fe({conflictDescriptions:e}){const i=e?Object.keys(e):[];return Object(p.jsx)(c.EuiToolTip,{position:"bottom",title:d.i18n.translate("unifiedFieldList.fieldItemButton.mappingConflictTitle",{defaultMessage:"Mapping Conflict"}),content:i.length?d.i18n.translate("unifiedFieldList.fieldItemButton.mappingConflictWithTypesDescription",{defaultMessage:"This field is defined as several types ({types}) across the indices that match this pattern. You may still be able to use this conflicting field, but it will be unavailable for functions that require Kibana to know their type. Correcting this issue will require reindexing your data.",values:{types:i.join(", ")}}):d.i18n.translate("unifiedFieldList.fieldItemButton.mappingConflictDescription",{defaultMessage:"This field is defined as several types (string, integer, etc) across the indices that match this pattern.You may still be able to use this conflicting field, but it will be unavailable for functions that require Kibana to know their type. Correcting this issue will require reindexing your data."})},Object(p.jsx)(c.EuiIcon,{tabIndex:0,type:"warning",size:"s"}))}var be=t(25);const pe=({field:e,visualizeInfo:i,handleVisualizeLinkClick:t,buttonProps:n})=>Object(p.jsx)(s.a.Fragment,null,Object(p.jsx)(c.EuiButton,l()({fullWidth:!0,size:"s","data-test-subj":`fieldVisualize-${e.name}`},n||{},{href:i.href,onClick:t}),Object(p.jsx)(a.FormattedMessage,{id:"unifiedFieldList.fieldVisualizeButton.label",defaultMessage:"Visualize"}))),me=(d.i18n.translate("uiActions.triggers.rowClickTitle",{defaultMessage:"Table row click"}),d.i18n.translate("uiActions.triggers.rowClickkDescription",{defaultMessage:"A click on a table row"}),"VISUALIZE_FIELD_TRIGGER"),ge={id:me,title:"Visualize field",description:"Triggered when user wants to visualize a field."},Fe="VISUALIZE_GEO_FIELD_TRIGGER",_e={id:Fe,title:"Visualize Geo field",description:"Triggered when user wants to visualize a geo field."};d.i18n.translate("uiActions.triggers.dashboard.addPanelMenu.title",{defaultMessage:"Add panel menu"}),d.i18n.translate("uiActions.triggers.dashboard.addPanelMenu.description",{defaultMessage:"A new action will appear to the dashboard's add panel menu"});var he=t(233);function ye(e){return e===he.b.GEO_POINT||e===he.b.GEO_SHAPE?Fe:me}async function je(e,i,t,n=[],l){return await e.getTriggerCompatibleActions(l,{dataViewSpec:t.toSpec(!1),fieldName:i,contextualFields:n})}const ve=s.a.memo((({field:e,dataView:i,contextualFields:t,trackUiMetric:n,multiFields:l,originatingApp:o,uiActions:s,buttonProps:d,visualizeInfo:a})=>a?Object(p.jsx)(pe,{field:e,visualizeInfo:a,handleVisualizeLinkClick:async e=>{var l;e.preventDefault(),l=i,null==n||n(be.METRIC_TYPE.CLICK,"visualize_link_click"),function(e,i,t=[],n,l){if(!l)return;const o=ye(i.type),s={dataViewSpec:l.toSpec(!1),fieldName:i.name,contextualFields:t,originatingApp:n};e.getTrigger(o).exec(s)}(s,a.field,t,o,l)},buttonProps:d}):null));var xe=t(2104);const Oe=e=>{const[i,t]=Object(o.useState)(null);return Object(o.useEffect)((()=>{(async function(e){const i=await async function(e,i,t,n=[],l=[]){var o;if("_id"!==i.name&&null!=t&&t.id)for(const a of[i,...l]){if(!a.visualizable)continue;const i=await je(e,a.name,t,n,ye(a.type));if(i.length>0){var s,d;const e={dataViewSpec:null==t?void 0:t.toSpec(!1),fieldName:a.name,contextualFields:n,trigger:(o=a.type,o===he.b.GEO_POINT||o===he.b.GEO_SHAPE?_e:ge)};return{field:a,href:await(null===(s=(d=i[0]).getHref)||void 0===s?void 0:s.call(d,e))}}}}(e.uiActions,e.field,e.dataView,e.contextualFields,e.multiFields);return i?Object(p.jsx)(ve,l()({},e,{visualizeInfo:i})):null})(e).then(t).catch((e=>{console.error(e)}))}),[e]),i?Object(p.jsx)(c.EuiPopoverFooter,null,i):null},Ie=e=>Object(p.jsx)(xe.a,null,Object(p.jsx)(Oe,e));t(2031);const Le=({isOpen:e,closePopover:i,renderHeader:t,renderContent:n,...o})=>{let d=null,a=null;if(e){try{d=(null==t?void 0:t())||null}catch(e){console.error(e)}try{a=(null==n?void 0:n())||null}catch(e){console.error(e)}}return Object(p.jsx)(c.EuiPopover,l()({ownFocus:!0,isOpen:e,closePopover:i,display:"block",anchorPosition:"rightUp","data-test-subj":"fieldPopover",panelClassName:"unifiedFieldList__fieldPopover__fieldPopoverPanel"},o),e&&Object(p.jsx)(s.a.Fragment,null,a&&d?Object(p.jsx)(c.EuiPopoverTitle,null,d):d,a))},Se=({field:e,color:i,truncate:t=!0})=>{const{euiTheme:n}=Object(c.useEuiTheme)(),l=((null==e?void 0:e.customDescription)||"").trim(),a=Boolean(t&&l.length>110),[r,u]=Object(o.useState)(a);return l?Object(p.jsx)("div",{"data-test-subj":`fieldDescription-${e.name}`},r?Object(p.jsx)(c.EuiText,{color:i,size:"xs",className:"eui-textBreakWord eui-textLeft"},Object(p.jsx)("button",{"data-test-subj":`toggleFieldDescription-${e.name}`,title:d.i18n.translate("fieldUtils.fieldDescription.viewMoreButton",{defaultMessage:"View full field description"}),className:"eui-textBreakWord eui-textLeft",onClick:()=>u(!1),css:Object(p.css)("padding:0;margin:0;color:","subdued"===i?n.colors.subduedText:n.colors.text,";line-height:inherit;font-size:inherit;&:hover,&:active,&:focus{color:",n.colors.link,";}","")},Object(p.jsx)(c.EuiTextBlockTruncate,{lines:2},l))):Object(p.jsx)(s.a.Fragment,null,Object(p.jsx)(c.EuiText,{color:i,size:"xs",className:"eui-textBreakWord eui-textLeft"},l),a&&Object(p.jsx)(c.EuiButtonEmpty,{size:"xs",flush:"both","data-test-subj":`toggleFieldDescription-${e.name}`,onClick:()=>u(!0)},d.i18n.translate("fieldUtils.fieldDescription.viewLessButton",{defaultMessage:"View less"})))):null},Be=({field:e,closePopover:i,buttonAddFieldToWorkspaceProps:t,buttonAddFilterProps:n,buttonEditFieldProps:o,buttonDeleteFieldProps:a,onAddFieldToWorkspace:r,onAddFilter:u,onEditField:f,onDeleteField:b})=>{var m,g,F,_;if(!e)return null;const h=d.i18n.translate("unifiedFieldList.fieldPopover.addFieldToWorkspaceLabel",{defaultMessage:'Add "{field}" field',values:{field:e.displayName}}),y=d.i18n.translate("unifiedFieldList.fieldPopover.addExistsFilterLabel",{defaultMessage:"Filter for field present"}),j=d.i18n.translate("unifiedFieldList.fieldPopover.editFieldLabel",{defaultMessage:"Edit data view field"}),v=d.i18n.translate("unifiedFieldList.fieldPopover.deleteFieldLabel",{defaultMessage:"Delete data view field"});return Object(p.jsx)(s.a.Fragment,null,Object(p.jsx)(c.EuiFlexGroup,{alignItems:"center",gutterSize:"s",responsive:!1},Object(p.jsx)(c.EuiFlexItem,{grow:!0},Object(p.jsx)(c.EuiTitle,{size:"xxs","data-test-subj":"fieldPopoverHeader_fieldDisplayName"},Object(p.jsx)("h5",{className:"eui-textBreakWord"},e.displayName))),r&&Object(p.jsx)(c.EuiFlexItem,{grow:!1,"data-test-subj":"fieldPopoverHeader_addField"},Object(p.jsx)(c.EuiToolTip,{content:null!==(m=null==t?void 0:t["aria-label"])&&void 0!==m?m:h},Object(p.jsx)(c.EuiButtonIcon,l()({"data-test-subj":`fieldPopoverHeader_addField-${e.name}`,"aria-label":h},t||{},{iconType:"plusInCircle",onClick:()=>{i(),r(e)}})))),u&&e.filterable&&!e.scripted&&Object(p.jsx)(c.EuiFlexItem,{grow:!1,"data-test-subj":"fieldPopoverHeader_addExistsFilter"},Object(p.jsx)(c.EuiToolTip,{content:null!==(g=null==n?void 0:n["aria-label"])&&void 0!==g?g:y},Object(p.jsx)(c.EuiButtonIcon,l()({"data-test-subj":`fieldPopoverHeader_addExistsFilter-${e.name}`,"aria-label":y},n||{},{iconType:"filter",onClick:()=>{i(),u("_exists_",e.name,"+")}})))),f&&(e.isRuntimeField||!["unknown","unknown_selected"].includes(e.type))&&Object(p.jsx)(c.EuiFlexItem,{grow:!1,"data-test-subj":"fieldPopoverHeader_editField"},Object(p.jsx)(c.EuiToolTip,{content:null!==(F=null==o?void 0:o["aria-label"])&&void 0!==F?F:j},Object(p.jsx)(c.EuiButtonIcon,l()({"data-test-subj":`fieldPopoverHeader_editField-${e.name}`,"aria-label":j},o||{},{iconType:"pencil",onClick:()=>{i(),f(e.name)}})))),b&&e.isRuntimeField&&Object(p.jsx)(c.EuiFlexItem,{grow:!1,"data-test-subj":"fieldPopoverHeader_deleteField"},Object(p.jsx)(c.EuiToolTip,{content:null!==(_=null==a?void 0:a["aria-label"])&&void 0!==_?_:v},Object(p.jsx)(c.EuiButtonIcon,l()({"data-test-subj":`fieldPopoverHeader_deleteField-${e.name}`,"aria-label":v},a||{},{color:"danger",iconType:"trash",onClick:()=>{i(),b(e.name)}}))))),e.customDescription?Object(p.jsx)(s.a.Fragment,null,Object(p.jsx)(c.EuiSpacer,{size:"xs"}),Object(p.jsx)(Se,{field:e})):null)},ke=()=>Object(p.jsx)(o.Fragment,null),we=s.a.lazy((()=>Promise.all([t.e(21),t.e(57)]).then(t.bind(null,2117)))),De=e=>Object(p.jsx)(s.a.Suspense,{fallback:Object(p.jsx)(ke,null)},Object(p.jsx)(we,e)),Te=s.a.memo((({stateService:e,services:i,field:t,dataView:n,multiFields:l,onAddFilter:s})=>{var d;const a=I({data:i.data,timeRangeUpdatesType:e.creationOptions.timeRangeUpdatesType}),r=Object(o.useMemo)((()=>{var e;return(null==l?void 0:l.length)&&(null===(e=l.find((e=>e.field.aggregatable)))||void 0===e?void 0:e.field)||t}),[t,l]),u=Object(o.useMemo)((()=>({data:i.data,dataViews:i.dataViews,fieldFormats:i.fieldFormats,charts:i.charts,uiSettings:i.core.uiSettings})),[i]);return c=a,Boolean(c.query&&c.filters&&c.fromDate&&c.toDate&&c.searchMode)?Object(p.jsx)(De,{services:u,query:a.query,filters:a.filters,fromDate:a.fromDate,toDate:a.toDate,dataViewOrDataViewId:n,field:r,"data-test-subj":null===(d=e.creationOptions.dataTestSubj)||void 0===d?void 0:d.fieldListItemStatsDataTestSubj,onAddFilter:s}):null;var c}));var Ee=t(1420);function Ae({stateService:e,field:i,size:t,isSelected:n,toggleDisplay:l}){const o="_source"===i.name?void 0:e=>l(e,n);return{field:i,size:t,isSelected:n,buttonAddFieldToWorkspaceProps:e.creationOptions.buttonAddFieldToWorkspaceProps,buttonRemoveFieldFromWorkspaceProps:e.creationOptions.buttonRemoveFieldFromWorkspaceProps,onAddFieldToWorkspace:o,onRemoveFieldFromWorkspace:o}}const Me=Object(o.memo)((({stateService:e,multiFields:i,toggleDisplay:t,alwaysShowActionButton:n,size:o})=>Object(p.jsx)(s.a.Fragment,null,Object(p.jsx)(c.EuiTitle,{size:"xxxs"},Object(p.jsx)("h5",null,d.i18n.translate("unifiedFieldList.fieldListItem.multiFields",{defaultMessage:"Multi fields"}))),Object(p.jsx)(c.EuiSpacer,{size:"xs"}),i.map((i=>Object(p.jsx)(ce,l()({key:i.field.name,flush:"both",isEmpty:!1,isActive:!1,shouldAlwaysShowAction:n,onClick:void 0},Ae({stateService:e,field:i.field,isSelected:i.isSelected,toggleDisplay:t,size:o}))))))));function Ce({stateService:e,services:i,searchMode:t,alwaysShowActionButton:n=!1,field:d,highlight:a,dataView:r,onAddFieldToWorkspace:u,onRemoveFieldFromWorkspace:f,onAddFilter:b,isEmpty:m,isSelected:g,trackUiMetric:F,multiFields:_,onEditField:h,onDeleteField:y,workspaceSelectedFieldNames:j,groupIndex:v,itemIndex:x,size:O}){var I,L,S;const[B,k]=Object(o.useState)(!1),w=Object(o.useMemo)((()=>b?(...e)=>{k(!1),null==b||b(...e)}:void 0),[k,b]),D=Object(o.useCallback)((()=>{k((e=>!e))}),[k]),T=Object(o.useCallback)((()=>{k(!1)}),[k]),E=Object(o.useCallback)(((e,i)=>{T(),i?f(e):u(e)}),[u,f,T]),A=Object(o.useMemo)((()=>null==_?void 0:_.map((e=>e.field))),[_]),M=Object(o.useMemo)((()=>{var i;const t=null===(i=e.creationOptions.dataTestSubj)||void 0===i?void 0:i.fieldListItemPopoverHeaderDataTestSubjPrefix;return{buttonAddFieldToWorkspaceProps:e.creationOptions.buttonAddFieldToWorkspaceProps,...t&&{buttonAddFilterProps:{"data-test-subj":`${t}AddExistFilter-${d.name}`},buttonEditFieldProps:{"data-test-subj":`${t}Edit-${d.name}`},buttonDeleteFieldProps:{"data-test-subj":`${t}Delete-${d.name}`}}}}),[d.name,e.creationOptions]),C=Object(o.useMemo)((()=>({id:d.name,humanData:{label:d.displayName,position:x+1}})),[d,x]),P=Object(o.useMemo)((()=>[0,v,x]),[v,x]),N=n||e.creationOptions.disableFieldListItemDragAndDrop;return Object(p.jsx)(Le,{isOpen:B,button:Object(p.jsx)(te,{dragType:"copy",dragClassName:"unifiedFieldListItemButton__dragging",order:P,value:C,onDragStart:T,isDisabled:N,dataTestSubj:`${null!==(I=null===(L=e.creationOptions.dataTestSubj)||void 0===L?void 0:L.fieldListItemDndDataTestSubjPrefix)&&void 0!==I?I:"unifiedFieldListItemDnD"}-${d.name}`},Object(p.jsx)(ce,l()({fieldSearchHighlight:a,isEmpty:m,isActive:B,withDragIcon:!N,flush:n?"both":void 0,shouldAlwaysShowAction:n,onClick:"_source"!==d.type?D:void 0},Ae({stateService:e,field:d,isSelected:g,toggleDisplay:E,size:O})))),closePopover:T,"data-test-subj":null===(S=e.creationOptions.dataTestSubj)||void 0===S?void 0:S.fieldListItemPopoverDataTestSubj,renderHeader:()=>Object(p.jsx)(Be,l()({field:d,closePopover:T,onAddFieldToWorkspace:g?void 0:E,onAddFilter:b,onEditField:h,onDeleteField:y},M)),renderContent:"text-based"===t&&Object(Ee.e)(d)||"documents"===t?()=>Object(p.jsx)(s.a.Fragment,null,Object(p.jsx)(Te,{stateService:e,services:i,field:d,multiFields:_,dataView:r,onAddFilter:w}),"documents"===t&&_&&Object(p.jsx)(s.a.Fragment,null,Object(p.jsx)(c.EuiSpacer,{size:"m"}),Object(p.jsx)(Me,{stateService:e,multiFields:_,alwaysShowActionButton:n,toggleDisplay:E,size:O})),"documents"===t&&!!i.uiActions&&Object(p.jsx)(Ie,{field:d,dataView:r,multiFields:A,trackUiMetric:F,contextualFields:j,originatingApp:e.creationOptions.originatingApp,uiActions:i.uiActions})):void 0})}const Pe=Object(o.memo)(Ce),Ne=({buttons:e,legend:i,buttonSize:t="m","data-test-subj":n})=>{const l=(({euiTheme:e})=>({button:{"&.euiButtonGroupButton":{backgroundColor:e.colors.emptyShade,border:`${e.border.thin} !important`,borderRight:"none !important","&:first-of-type":{borderTopLeftRadius:`${e.border.radius.medium} !important`,borderBottomLeftRadius:`${e.border.radius.medium} !important`},"&:last-of-type":{borderRight:`${e.border.thin} !important`,borderTopRightRadius:`${e.border.radius.medium} !important`,borderBottomRightRadius:`${e.border.radius.medium} !important`},":not(:first-child):not(.euiButtonGroupButton-isSelected):not(:disabled)":{boxShadow:"unset"}}},buttonGroup:{".euiButtonGroup__buttons":{borderRadius:`${e.border.radius.medium}`}}}))(Object(c.useEuiTheme)()),o=e.map(((e,i)=>{const{label:t,title:n=t,...o}=e;return{...o,"aria-label":null!=n?n:t,id:`${Object(c.htmlIdGenerator)()()}${i}`,label:t,title:n,css:[l.button]}}));return Object(p.jsx)(c.EuiButtonGroup,{"data-test-subj":n,buttonSize:t,legend:i,options:o,onChange:e=>{var i;null===(i=o.find((i=>i.id===e)))||void 0===i||i.onClick()},type:"multi",isIconOnly:!0,css:l.buttonGroup})},Re=({"data-test-subj":e="unifiedFieldListSidebar__toggle",isSidebarCollapsed:i,panelId:t,buttonSize:n,onChange:l})=>Object(p.jsx)("div",{"data-test-subj":e},Object(p.jsx)(Ne,{legend:d.i18n.translate("unifiedFieldList.fieldListSidebar.toggleSidebarLegend",{defaultMessage:"Toggle sidebar"}),buttonSize:n,buttons:[...i?[{label:d.i18n.translate("unifiedFieldList.fieldListSidebar.expandSidebarButton",{defaultMessage:"Show sidebar"}),iconType:"transitionLeftIn","data-test-subj":`${e}-expand`,"aria-expanded":!1,"aria-controls":t,onClick:()=>l(!1)}]:[{label:d.i18n.translate("unifiedFieldList.fieldListSidebar.collapseSidebarButton",{defaultMessage:"Hide sidebar"}),iconType:"transitionLeftOut","data-test-subj":`${e}-collapse`,"aria-expanded":!0,"aria-controls":t,onClick:()=>l(!0)}]]}));var ze=t(79);const Ge={selectedFields:[],selectedFieldsMap:{}},He=({stateService:e,searchMode:i,services:t,workspaceSelectedFieldNames:n,isProcessing:s,alwaysShowActionButton:a,buttonAddFieldVariant:r,isSidebarCollapsed:u,allFields:f,dataView:b,trackUiMetric:m,showFieldList:F=!0,compressed:j=!0,fullWidth:v,isAffectedByGlobalFilter:x,prepend:O,onAddFieldToWorkspace:I,onRemoveFieldFromWorkspace:L,onAddFilter:S,onSelectedFieldFilter:k,onEditField:w,onDeleteField:D,onToggleSidebar:T,additionalFieldGroups:A})=>{var M,P,N,z,G,W,U;const{dataViews:Y,core:Z}=t,J=Object(o.useMemo)((()=>!Z.uiSettings.get("discover:searchFieldsFromSource")),[Z.uiSettings]),[ee,ie]=Object(o.useState)(Ge),[te,ne]=Object(o.useState)(void 0);Object(o.useEffect)((()=>{const e=function({dataView:e,workspaceSelectedFieldNames:i,allFields:t,searchMode:n}){const l={selectedFields:[],selectedFieldsMap:{}};if(!(i&&Array.isArray(i)&&i.length&&t))return Ge;for(const s of i){var o;const i="documents"===n&&(null==e||null===(o=e.getFieldByName)||void 0===o?void 0:o.call(e,s))||t.find((e=>e.name===s))||{name:s,displayName:s,type:"unknown_selected"};l.selectedFields.push(i),l.selectedFieldsMap[i.name]=!0}return l.selectedFields=Object(V.uniqBy)(l.selectedFields,"name"),1===l.selectedFields.length&&"_source"===l.selectedFields[0].name?Ge:l}({dataView:b,workspaceSelectedFieldNames:k?[]:n,allFields:f,searchMode:i});ie(e)}),[b,n,ie,f,i,k]);const le=Object(o.useMemo)((()=>Z.uiSettings.get("fields:popularLimit")),[Z.uiSettings]),oe=Object(o.useCallback)((t=>function(e,i,t){return!(null==e||!e.type||"_source"===e.type||"text-based"!==i&&!t&&Object(ze.getFieldSubtypeMulti)(null==e?void 0:e.spec))}(t,i,e.creationOptions.disableMultiFieldsGroupingByParent)),[i,e.creationOptions.disableMultiFieldsGroupingByParent]),{fieldListFiltersProps:se,fieldListGroupedProps:de,allFieldsModified:ae}=function({dataViewId:e,allFields:i,services:t,isAffectedByGlobalFilter:n=!1,popularFieldsLimit:l,sortedSelectedFields:s,getCustomFieldType:a,onOverrideFieldGroupDetails:r,onSupportedFieldFilter:u,onSelectedFieldFilter:c,getNewFieldsBySpec:f,additionalFieldGroups:b}){const p=(()=>{const e=Object(o.useRef)(!0),[i,t]=Object(o.useState)(y.getValue());Object(o.useEffect)((()=>{const i=y.subscribe((i=>{e.current&&Object.keys(i).length>0&&t((e=>({...e,...i})))}));return()=>{i.unsubscribe()}}),[t,e]);const n=Object(o.useCallback)(((e,t)=>{const n=i[e];return(null==n?void 0:n.fetchStatus)!==g.a.succeeded||(null==n?void 0:n.hasDataViewRestrictions)||Boolean(null==n?void 0:n.existingFieldsByFieldNameMap[t])}),[i]),l=Object(o.useCallback)((e=>{const t=i[e];var n;return(null==t?void 0:t.fetchStatus)===g.a.succeeded&&null!==(n=null==t?void 0:t.newFields)&&void 0!==n?n:_}),[i]),s=Object(o.useCallback)((e=>e?i[e]:h),[i]),d=Object(o.useCallback)((e=>{var i;return(null===(i=s(e))||void 0===i?void 0:i.fetchStatus)||g.a.unknown}),[s]),a=Object(o.useCallback)((e=>{const i=s(e);return Boolean((null==i?void 0:i.fetchStatus)===g.a.failed||(null==i?void 0:i.hasDataViewRestrictions))}),[s]);return Object(o.useEffect)((()=>()=>{e.current=!1}),[e]),Object(o.useMemo)((()=>({hasFieldData:n,getFieldsExistenceStatus:d,isFieldsExistenceInfoUnavailable:a,getNewFields:l})),[n,d,a,l])})(),m=function({allFields:e,getCustomFieldType:i,onSupportedFieldFilter:t,services:n}){const[l,s]=Object(o.useState)([]),[d,a]=Object(o.useState)(""),r=Object(o.useMemo)((()=>K()),[]),u=n.core.docLinks;return Object(o.useMemo)((()=>{const n=d.trim().toLowerCase();return{fieldSearchHighlight:n,fieldListFiltersProps:{docLinks:u,selectedFieldTypes:l,allFields:e,getCustomFieldType:i,onSupportedFieldFilter:t,onChangeFieldTypes:s,nameFilter:d,onChangeNameFilter:a,screenReaderDescriptionId:r},onFilterField:null!=n&&n.length||l.length>0?e=>!(n&&!$(e,n))&&(!(l.length>0)||l.includes(Object(q.a)(e,i))):void 0}}),[u,l,e,i,t,s,d,a,r])}({allFields:i,services:t,getCustomFieldType:a,onSupportedFieldFilter:u}),F=m.onFilterField,[j,v]=Object(o.useState)(null),x=Boolean(null==j?void 0:j.timeFieldName),O=!e||p.isFieldsExistenceInfoUnavailable(e),I=e?p.hasFieldData:X;Object(o.useEffect)((()=>{(async()=>{if(e){let i=null;try{i=await t.dataViews.get(e,!1)}catch(e){}v(i||null)}else v(null)})()}),[e,t.dataViews,v,I]);const{allFieldsModified:L,hasNewFields:S}=function({dataView:e,allFields:i,getNewFieldsBySpec:t,fieldsExistenceReader:n}){const l=null==e?void 0:e.id,s=Object(o.useMemo)((()=>{const l=i&&null!=e&&e.id&&t?t(n.getNewFields(null==e?void 0:e.id),e):null;return null!=l&&l.length?l:null}),[i,e,n,t]),d=Boolean(i&&s&&s.length>0);return{allFieldsModified:Object(o.useMemo)((()=>i&&null!=s&&s.length&&l?[...i.filter((e=>!s.some((i=>i.name===e.name)))),...s]:i),[s,i,l]),hasNewFields:d}}({dataView:j,allFields:i,getNewFieldsBySpec:f,fieldsExistenceReader:p});Object(o.useEffect)((()=>{j&&!e&&v(null)}),[j,v,e]);const B=Object(o.useMemo)((()=>Date.now()),[e,F]),k=Object(o.useMemo)((()=>{const i=s||[],t=[...L||[]].sort(Q),o={specialFields:[],availableFields:[],emptyFields:[],metaFields:[],unmappedFields:[],skippedFields:[],...Object(V.groupBy)(t,(t=>{var n;return!s&&c&&c(t)&&i.push(t),u&&!u(t)?"skippedFields":"document"===t.type?"specialFields":null!=j&&null!==(n=j.metaFields)&&void 0!==n&&n.includes(t.name)?"metaFields":"nested"===t.type?"availableFields":null!=t&&t.isNull?"emptyFields":null!=j&&j.getFieldByName&&!j.getFieldByName(t.name)?"unmappedFields":(i=>!e||I(e,i.name))(t)||O?"availableFields":"emptyFields"}))},a=l?t.filter((e=>e.count&&"_source"!==e.type&&(!u||u(e)))).sort(((e,i)=>(i.count||0)-(e.count||0))).slice(0,l):[],f=(null==b?void 0:b.smartFields)||[];let p={SpecialFields:{fields:o.specialFields,fieldCount:o.specialFields.length,isAffectedByGlobalFilter:!1,isAffectedByTimeFilter:!1,isInitiallyOpen:!1,showInAccordion:!1,title:"",hideDetails:!0},SelectedFields:{fields:i,fieldCount:i.length,isInitiallyOpen:!0,showInAccordion:!0,title:d.i18n.translate("unifiedFieldList.useGroupedFields.selectedFieldsLabel",{defaultMessage:"Selected fields"}),isAffectedByGlobalFilter:n,isAffectedByTimeFilter:x,hideDetails:!1,hideIfEmpty:!0},PopularFields:{fields:a,fieldCount:a.length,isInitiallyOpen:!0,showInAccordion:!0,title:d.i18n.translate("unifiedFieldList.useGroupedFields.popularFieldsLabel",{defaultMessage:"Popular fields"}),helpText:d.i18n.translate("unifiedFieldList.useGroupedFields.popularFieldsLabelHelp",{defaultMessage:"Fields that your organization frequently uses, from most to least popular."}),isAffectedByGlobalFilter:n,isAffectedByTimeFilter:x,hideDetails:!1,hideIfEmpty:!0},AvailableFields:{fields:o.availableFields,fieldCount:o.availableFields.length,isInitiallyOpen:!0,showInAccordion:!0,title:e&&O?d.i18n.translate("unifiedFieldList.useGroupedFields.allFieldsLabel",{defaultMessage:"All fields"}):d.i18n.translate("unifiedFieldList.useGroupedFields.availableFieldsLabel",{defaultMessage:"Available fields"}),isAffectedByGlobalFilter:n,isAffectedByTimeFilter:x,hideDetails:O,defaultNoFieldsMessage:d.i18n.translate("unifiedFieldList.useGroupedFields.noAvailableDataLabel",{defaultMessage:"There are no available fields that contain data."})},UnmappedFields:{fields:o.unmappedFields,fieldCount:o.unmappedFields.length,isAffectedByGlobalFilter:n,isAffectedByTimeFilter:x,isInitiallyOpen:!1,showInAccordion:!0,hideDetails:!1,hideIfEmpty:!0,title:d.i18n.translate("unifiedFieldList.useGroupedFields.unmappedFieldsLabel",{defaultMessage:"Unmapped fields"}),helpText:d.i18n.translate("unifiedFieldList.useGroupedFields.unmappedFieldsLabelHelp",{defaultMessage:"Fields that aren't explicitly mapped to a field data type."})},EmptyFields:{fields:o.emptyFields,fieldCount:o.emptyFields.length,isAffectedByGlobalFilter:!1,isAffectedByTimeFilter:!1,isInitiallyOpen:!1,showInAccordion:!0,hideDetails:!1,hideIfEmpty:!0,title:d.i18n.translate("unifiedFieldList.useGroupedFields.emptyFieldsLabel",{defaultMessage:"Empty fields"}),helpText:d.i18n.translate("unifiedFieldList.useGroupedFields.emptyFieldsLabelHelp",{defaultMessage:"Fields that don't have any values based on your filters."}),defaultNoFieldsMessage:d.i18n.translate("unifiedFieldList.useGroupedFields.noEmptyDataLabel",{defaultMessage:"There are no empty fields."})},MetaFields:{fields:o.metaFields,fieldCount:o.metaFields.length,isAffectedByGlobalFilter:!1,isAffectedByTimeFilter:!1,isInitiallyOpen:!1,showInAccordion:!0,hideDetails:!1,hideIfEmpty:!e,title:d.i18n.translate("unifiedFieldList.useGroupedFields.metaFieldsLabel",{defaultMessage:"Meta fields"}),defaultNoFieldsMessage:d.i18n.translate("unifiedFieldList.useGroupedFields.noMetaDataLabel",{defaultMessage:"There are no meta fields."})},SmartFields:{fields:f,fieldCount:f.length,isAffectedByGlobalFilter:!1,isAffectedByTimeFilter:!1,isInitiallyOpen:!0,showInAccordion:!0,hideDetails:!1,hideIfEmpty:!0,title:d.i18n.translate("unifiedFieldList.useGroupedFields.smartFieldsLabel",{defaultMessage:"Smart fields"})}};const m=e&&O,g=!e&&!o.emptyFields.length;return(m||g)&&delete p.EmptyFields,r&&(p=Object.keys(p).reduce(((e,i)=>{const t=i,n=p[t];return n&&(e[t]={...n,...r(t)||{}}),e}),{})),p}),[L,u,c,r,j,e,I,O,n,x,l,s,b]),w=Object(o.useMemo)((()=>F?Object.fromEntries(Object.entries(k).map((([e,i])=>[e,{...i,fieldSearchHighlight:m.fieldSearchHighlight,fields:i.fields.filter(F)}]))):k),[k,F,m.fieldSearchHighlight]),D=Boolean(i),T=null==i?void 0:i.length,E=Object(o.useMemo)((()=>!e||Boolean(T)),[e,T]),A=Object(o.useMemo)((()=>D?e&&p?p.getFieldsExistenceStatus(e):g.a.succeeded:g.a.unknown),[e,D,p]),M=m.fieldListFiltersProps.screenReaderDescriptionId;return{fieldListGroupedProps:Object(o.useMemo)((()=>({fieldGroups:w,scrollToTopResetCounter:B,fieldsExistInIndex:E,fieldsExistenceStatus:A,screenReaderDescriptionId:M})),[w,B,E,A,M]),fieldListFiltersProps:m.fieldListFiltersProps,allFieldsModified:L,hasNewFields:S}}({dataViewId:"documents"===i&&(null==b?void 0:b.id)||null,allFields:f,popularFieldsLimit:"documents"!==i||e.creationOptions.disablePopularFields?0:le,isAffectedByGlobalFilter:x,services:{dataViews:Y,core:Z},sortedSelectedFields:k?void 0:ee.selectedFields,onSelectedFieldFilter:k,onSupportedFieldFilter:null!==(M=e.creationOptions.onSupportedFieldFilter)&&void 0!==M?M:oe,onOverrideFieldGroupDetails:e.creationOptions.onOverrideFieldGroupDetails,getNewFieldsBySpec:We,additionalFieldGroups:A});Object(o.useEffect)((()=>{"documents"!==i||!J||e.creationOptions.disableMultiFieldsGroupingByParent?ne(void 0):ne(function(e,i){if(!e)return;const t=new Map;return e.forEach((e=>{var n;const l=function(e){return function(e){var i;const t=null==e?void 0:e.subType;return!(null==t||null===(i=t.multi)||void 0===i||!i.parent)}(e)?e.subType:void 0}(e),o=null==l?void 0:l.multi.parent;if(!o)return;const s={field:e,isSelected:Boolean(null==i?void 0:i[e.name])},d=null!==(n=t.get(o))&&void 0!==n?n:[];d.push(s),t.set(o,d)})),t}(ae,ee.selectedFieldsMap))}),[e.creationOptions.disableMultiFieldsGroupingByParent,ee.selectedFieldsMap,ae,J,ne,i]);const re=Object(o.useCallback)((({field:l,groupName:o,groupIndex:s,itemIndex:d,fieldSearchHighlight:r})=>Object(p.jsx)("li",{key:`field${l.name}`,"data-attr-field":l.name},Object(p.jsx)(Pe,{stateService:e,searchMode:i,services:t,alwaysShowActionButton:a,field:l,size:j?"xs":"s",highlight:r,dataView:b,onAddFieldToWorkspace:I,onRemoveFieldFromWorkspace:L,onAddFilter:S,trackUiMetric:m,multiFields:null==te?void 0:te.get(l.name),onEditField:w,onDeleteField:D,workspaceSelectedFieldNames:n,groupIndex:s,itemIndex:d,isEmpty:o===g.b.EmptyFields,isSelected:o===g.b.SelectedFields||Boolean(ee.selectedFieldsMap[l.name])}))),[e,i,t,a,j,b,I,L,S,m,te,w,D,n,ee.selectedFieldsMap]),{euiTheme:ue}=Object(c.useEuiTheme)();if(!b)return null;const ce={className:B()("unifiedFieldListSidebar",{"unifiedFieldListSidebar--collapsed":u,"unifiedFieldListSidebar--fullWidth":v}),"aria-label":d.i18n.translate("unifiedFieldList.fieldListSidebar.fieldsSidebarAriaLabel",{defaultMessage:"Fields"}),id:null!==(P=null===(N=e.creationOptions.dataTestSubj)||void 0===N?void 0:N.fieldListSidebarDataTestSubj)&&void 0!==P?P:"unifiedFieldListSidebarId","data-test-subj":null!==(z=null===(G=e.creationOptions.dataTestSubj)||void 0===G?void 0:G.fieldListSidebarDataTestSubj)&&void 0!==z?z:"unifiedFieldListSidebarId"},fe="boolean"==typeof u&&T?Object(p.jsx)(Re,{buttonSize:j?"s":"m",isSidebarCollapsed:u,panelId:ce.id,onChange:T}):null;if(u&&fe)return Object(p.jsx)(c.EuiHideFor,{sizes:["xs","s"]},Object(p.jsx)("div",ce,fe));const be="toolbar"===r,pe={size:"s",iconType:"indexOpen","data-test-subj":null!==(W=null===(U=e.creationOptions.dataTestSubj)||void 0===U?void 0:U.fieldListAddFieldButtonTestSubj)&&void 0!==W?W:"unifiedFieldListAddField",className:"unifiedFieldListSidebar__addBtn"},me=d.i18n.translate("unifiedFieldList.fieldListSidebar.addFieldButtonLabel",{defaultMessage:"Add a field"});return Object(p.jsx)(c.EuiPageSidebar,ce,Object(p.jsx)(c.EuiFlexGroup,{className:"unifiedFieldListSidebar__group",direction:"column",alignItems:"stretch",gutterSize:"none",responsive:!1},Boolean(O)&&Object(p.jsx)(c.EuiFlexItem,{grow:!1,css:Object(p.css)("margin-bottom:",ue.size.s,";","")},O),Object(p.jsx)(c.EuiFlexItem,null,Object(p.jsx)(C,{isProcessing:s,prepend:Object(p.jsx)(c.EuiFlexGroup,{direction:"row",gutterSize:"s",responsive:!1},fe&&Object(p.jsx)(c.EuiFlexItem,{grow:!1},fe),Object(p.jsx)(c.EuiFlexItem,null,Object(p.jsx)(R,l()({},se,{compressed:j})))),className:"unifiedFieldListSidebar__list"},F?Object(p.jsx)(H,l()({},de,{renderFieldItem:re,localStorageKeyPrefix:e.creationOptions.localStorageKeyPrefix})):Object(p.jsx)(c.EuiFlexItem,{grow:!0}))),!!w&&Object(p.jsx)(c.EuiFlexItem,{grow:!1,css:be?Object(p.css)("padding:",ue.size.s,";border-top:",ue.border.thin,";",""):void 0},be?Object(p.jsx)(E,l()({},pe,{label:me,onClick:()=>w()})):Object(p.jsx)(c.EuiButton,l()({},pe,{onClick:()=>w()}),me))))},Ve=Object(o.memo)(He);function We(e){return e.map((e=>new A.DataViewField(e)))}const $e=Object(o.memo)(Object(o.forwardRef)((function(e,i){var n,r,_;const{getCreationOptions:x,services:O,dataView:L,workspaceSelectedFieldNames:S,prependInFlyout:B,variant:k="responsive",onFieldEdited:w}=e,[D]=Object(o.useState)((({options:e})=>({creationOptions:e}))({options:x()})),{data:T,dataViewFieldEditor:E}=O,[A,M]=Object(o.useState)(!1),[C]=Object(o.useState)((()=>(({localStorageKey:e})=>{const i=new f.BehaviorSubject(!!e&&function(e){let i=!1;try{var t;i="true"===(null===(t=localStorage)||void 0===t?void 0:t.getItem(e))}catch{}return i}(e));return{isCollapsed$:i,toggle:t=>{i.next(t),e&&function(e,i){try{var t;null===(t=localStorage)||void 0===t||t.setItem(e,String(i))}catch{}}(e,t)}}})({localStorageKey:D.creationOptions.localStorageKeyPrefix?`${D.creationOptions.localStorageKeyPrefix}:sidebarClosed`:void 0}))),P=u()(C.isCollapsed$,!1),N=Boolean(null==E?void 0:E.userPermissions.editIndexPattern())||Boolean(L&&!L.isPersisted()),R=Object(o.useRef)(),z=Object(o.useCallback)((e=>{R.current=e}),[]),G=Object(o.useCallback)((()=>{M(!1)}),[]),H=I({data:T,timeRangeUpdatesType:D.creationOptions.timeRangeUpdatesType}),V=H.searchMode,W=Boolean(null===(n=H.filters)||void 0===n?void 0:n.length),{isProcessing:$,refetchFieldsExistenceInfo:U}=(e=>{const i=Object(o.useRef)(!0),[n,l]=Object(o.useState)(0),s=n>0,d=Object(o.useCallback)((async({dataViewId:e,query:n,filters:o,fromDate:s,toDate:d,services:{dataViews:a,data:r,core:u},onNoData:c,fetchId:f})=>{var p,m,F,_,x;if(!(e&&n&&s&&d))return;const O=null===(p=y.getValue())||void 0===p?void 0:p[e];if(!i.current)return;const I=(null!==(m=null==O?void 0:O.numberOfFetches)&&void 0!==m?m:0)+1;let L=null;try{L=await a.get(e,!1)}catch(e){}if(null===(F=L)||void 0===F||!F.title)return;l((e=>e+1));const S=Boolean(null===(_=(x=L).getAggregationRestrictions)||void 0===_?void 0:_.call(x)),B={...h,numberOfFetches:I};if(S)B.fetchStatus=g.a.succeeded,B.hasDataViewRestrictions=!0;else try{const i=await(async e=>{const{loadFieldExisting:i}=await t.e(71).then(t.bind(null,2141));return await i(e)})({dslQuery:await v(L,n,o||[],Object(b.a)(u.uiSettings)),fromDate:s,toDate:d,timeFieldName:L.timeFieldName,data:r,uiSettingsClient:u.uiSettings,dataViewsService:a,dataView:L}),l=(null==i?void 0:i.existingFieldNames)||[];c&&1===I&&!l.filter((e=>{var i,t;return!(null!==(i=L)&&void 0!==i&&null!==(t=i.metaFields)&&void 0!==t&&t.includes(e))})).length&&c(e),B.existingFieldsByFieldNameMap=l.reduce(((e,i)=>(e[i]=!0,e)),{}),B.newFields=i.newFields,B.fetchStatus=g.a.succeeded}catch(e){B.fetchStatus=g.a.failed}i.current&&f===j&&y.next({...y.getValue(),[e]:B}),l((e=>e-1))}),[i,l]),a=e.dataViews.map((e=>{var i,t;return`${e.id}:${e.title}:${e.timeFieldName||"no-timefield"}:${null!==(i=null===(t=e.fields)||void 0===t?void 0:t.length)&&void 0!==i?i:0}`})).join(","),r=Object(o.useCallback)((async i=>{const t=window.performance.now(),n="fetchFieldsExistenceInfo",l=F();j=l;const o={fetchId:l,dataViewId:i,...e};if(i)return await d({...o,dataViewId:i}),void m(e.services.core.analytics,{eventName:n,duration:window.performance.now()-t,meta:{dataViewsCount:1}});await Promise.all(e.dataViews.map((e=>d({...o,dataViewId:e.id})))),m(e.services.core.analytics,{eventName:n,duration:window.performance.now()-t,meta:{dataViewsCount:e.dataViews.length}})}),[d,a,e.query,e.filters,e.fromDate,e.toDate,e.services.core]);return Object(o.useEffect)((()=>{e.disableAutoFetching||r()}),[r,e.disableAutoFetching]),Object(o.useEffect)((()=>()=>{i.current=!1,y.next({})}),[i]),Object(o.useMemo)((()=>({refetchFieldsExistenceInfo:r,isProcessing:s})),[r,s])})({disableAutoFetching:D.creationOptions.disableFieldsExistenceAutoFetching,dataViews:"documents"===V&&L?[L]:[],query:H.query,filters:H.filters,fromDate:H.fromDate,toDate:H.toDate,services:O}),q=Object(o.useMemo)((()=>L&&E&&"documents"===V&&N?async e=>{const i=await E.openEditor({ctx:{dataView:L},fieldName:e,onSave:async()=>{w&&await w({editedFieldName:e})}});z(i),G()}:void 0),[V,N,E,L,z,G,w]),K=Object(o.useMemo)((()=>L&&E&&q?e=>{const i=E.openDeleteModal({ctx:{dataView:L},fieldName:e,onDelete:async()=>{w&&await w({removedFieldName:e})}});z(i),G()}:void 0),[L,z,q,G,E,w]);if(Object(o.useEffect)((()=>()=>{null!=R&&R.current&&(null==R||R.current())}),[]),Object(o.useImperativeHandle)(i,(()=>({sidebarVisibility:C,refetchFieldsExistenceInfo:U,closeFieldListFlyout:G,createField:q,editField:q,deleteField:K})),[C,U,G,q,K]),!L)return null;const Y={...e,searchMode:V,stateService:D,isProcessing:$,isAffectedByGlobalFilter:W,onEditField:q,onDeleteField:K,compressed:null!==(r=D.creationOptions.compressed)&&void 0!==r&&r,buttonAddFieldVariant:null!==(_=D.creationOptions.buttonAddFieldVariant)&&void 0!==_?_:"primary"};D.creationOptions.showSidebarToggleButton&&(Y.isSidebarCollapsed=P,Y.onToggleSidebar=C.toggle);const Q=D.creationOptions.buttonPropsToTriggerFlyout,X=()=>Object(p.jsx)(Ve,Y),Z=()=>Object(p.jsx)(s.a.Fragment,null,Object(p.jsx)("div",{className:"unifiedFieldListSidebar__mobile"},Object(p.jsx)(c.EuiButton,l()({},Q,{contentProps:{...null==Q?void 0:Q.contentProps,className:"unifiedFieldListSidebar__mobileButton"},fullWidth:!0,onClick:()=>M(!0)}),Object(p.jsx)(a.FormattedMessage,{id:"unifiedFieldList.fieldListSidebar.fieldsMobileButtonLabel",defaultMessage:"Fields"}),Object(p.jsx)(c.EuiBadge,{className:"unifiedFieldListSidebar__mobileBadge",color:"_source"===(null==S?void 0:S[0])?"default":"accent"},null!=S&&S.length&&"_source"!==S[0]?S.length:0))),A&&Object(p.jsx)(c.EuiPortal,null,Object(p.jsx)(c.EuiFlyout,{size:"s",onClose:()=>M(!1),"aria-labelledby":"flyoutTitle",ownFocus:!0},Object(p.jsx)(c.EuiFlyoutHeader,{hasBorder:!0},Object(p.jsx)(c.EuiTitle,{size:"s"},Object(p.jsx)("h2",{id:"flyoutTitle"},Object(p.jsx)(c.EuiLink,{color:"text",onClick:()=>M(!1)},Object(p.jsx)(c.EuiIcon,{className:"eui-alignBaseline","aria-label":d.i18n.translate("unifiedFieldList.fieldListSidebar.flyoutBackIcon",{defaultMessage:"Back"}),type:"arrowLeft"})," ",Object(p.jsx)("strong",null,d.i18n.translate("unifiedFieldList.fieldListSidebar.flyoutHeading",{defaultMessage:"Field list"})))))),Object(p.jsx)(Ve,l()({},Y,{alwaysShowActionButton:!0,buttonAddFieldVariant:"primary",isSidebarCollapsed:void 0,prepend:null==B?void 0:B()})))));return"button-and-flyout-always"===k?Z():"list-always"===k?X():Object(p.jsx)(s.a.Fragment,null,Object(p.jsx)(c.EuiHideFor,{sizes:["xs","s"]},X()),Object(p.jsx)(c.EuiShowFor,{sizes:["xs","s"]},Z()))})));i.default=$e}}]);