/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.securitySolution_bundle_jsonpfunction=window.securitySolution_bundle_jsonpfunction||[]).push([[95],{2140:function(e,t,l){"use strict";l.r(t),l.d(t,"AlertBulkActionsComponent",(function(){return E})),l.d(t,"StatefulAlertBulkActions",(function(){return f})),l.d(t,"default",(function(){return f}));var c=l(60),s=l.n(c),n=l(2),a=l.n(n),o=l(45),i=l(56),u=l(1630),r=l(1799),d=l(5),b=l(19),A=l(41);const m=l.n(A).a.div.withConfig({displayName:"BulkActionsContainer",componentId:"sc-1nn6n3l-0"})(["display:inline-block;position:relative;"]);m.displayName="BulkActionsContainer";const j=({selectText:e,selectClearAllText:t,showClearSelection:l,onSelectAll:c,onClearSelection:s,bulkActionItems:o})=>{const[i,u]=Object(n.useState)(!1),r=Object(n.useCallback)((()=>{u((e=>!e))}),[u]),d=Object(n.useCallback)((()=>{u(!1)}),[u]),A=Object(n.useCallback)((()=>{i&&u(!1)}),[i]),j=Object(n.useCallback)((()=>{l?s():c()}),[s,c,l]),k=Object(n.useMemo)((()=>[{id:0,items:o}]),[o]);return a.a.createElement(m,{onClick:A,"data-test-subj":"bulk-actions-button-container"},a.a.createElement(b.EuiPopover,{isOpen:i,anchorPosition:"upCenter",panelPaddingSize:"none",button:a.a.createElement(b.EuiButtonEmpty,{"aria-label":"selectedShowBulkActions","data-test-subj":"selectedShowBulkActionsButton",size:"xs",iconType:"arrowDown",iconSide:"right",color:"primary",onClick:r},e),closePopover:d},a.a.createElement(b.EuiContextMenu,{size:"s",panels:k,initialPanelId:0})),a.a.createElement(b.EuiButtonEmpty,{size:"xs","aria-label":"selectAllAlerts","data-test-subj":"selectAllAlertsButton",iconType:l?"cross":"pagesSelect",onClick:j},t))},k=a.a.memo(j);var S=l(1225),C=l(148),O=l(124),p=l(333);const E=a.a.memo((({id:e,totalItems:t,filterStatus:l,query:c,selectedEventIds:b,isSelectAllChecked:A,clearSelected:m,showAlertStatusActions:j,onActionSuccess:E,onActionFailure:h,customBulkActions:f,customRefetch:v})=>{const y=Object(o.useDispatch)(),[B,I]=Object(n.useState)(!1),w=Object(n.useMemo)((()=>C.d.globalQuery()),[]),g=Object(O.a)(w),T=Object(n.useCallback)((()=>{g.forEach((e=>e.refetch&&e.refetch()))}),[g]),[D]=Object(i.useUiSetting$)(d.W),M=Object(n.useMemo)((()=>Object.keys(b).length),[b]),x=Object(n.useMemo)((()=>s()(t).format(D)),[D,t]),P=Object(n.useMemo)((()=>s()(M).format(D)),[D,M]),z=Object(n.useMemo)((()=>B?p.t(u.d[e],x,t):p.t(u.d[e],P,M)),[e,B,x,P,t,M]),L=Object(n.useMemo)((()=>B?p.n:p.u(u.d[e],x,t)),[e,B,x,t]);Object(n.useEffect)((()=>{A?y(r.a.setDataTableSelectAll({id:e,selectAll:!1})):I(!1)}),[y,A,e]);const _=Object(n.useCallback)((()=>{y(r.a.setDataTableSelectAll({id:e,selectAll:!0})),I(!0)}),[y,e]),N=Object(n.useCallback)((()=>{m({id:e}),y(r.a.setDataTableSelectAll({id:e,selectAll:!1})),I(!1)}),[m,y,e]),U=Object(n.useCallback)(((e,t,l)=>{v?v():T(),E&&E(e,t,l)}),[v,E,T]),q=Object(n.useCallback)(((e,t)=>{v?v():T(),h&&h(e,t)}),[v,h,T]),F=Object(n.useCallback)((({eventIds:t,isLoading:l})=>{y(r.a.setEventsLoading({id:e,eventIds:t,isLoading:l}))}),[y,e]),Q=Object(n.useCallback)((({eventIds:t,isDeleted:l})=>{y(r.a.setEventsDeleted({id:e,eventIds:t,isDeleted:l}))}),[y,e]),R=Object(S.a)({eventIds:Object.keys(b),currentStatus:l,...B?{query:c}:{},setEventsLoading:F,setEventsDeleted:Q,showAlertStatusActions:j,onUpdateSuccess:U,onUpdateFailure:q,customBulkActions:f});return a.a.createElement(k,{selectText:z,selectClearAllText:L,"data-test-subj":"bulk-actions",showClearSelection:B,onSelectAll:_,onClearSelection:N,bulkActionItems:R})}));E.displayName="AlertBulkActionsComponent";const h={clearSelected:r.a.clearSelected},f=Object(o.connect)((()=>{const e=r.b.getTableByIdSelector();return(t,{id:l})=>{const c=e(t,l),{selectedEventIds:s,isSelectAllChecked:n}=c;return{isSelectAllChecked:n,selectedEventIds:s}}}),h)(E)}}]);