!function(e){function t(t){for(var n,s,r=t[0],a=t[1],o=0,c=[];o<r.length;o++)s=r[o],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&c.push(i[s][0]),i[s]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);for(l&&l(t);c.length;)c.shift()()}var n={},i={0:0};function s(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.e=function(e){var t=[],n=i[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,s){n=i[e]=[t,s]}));t.push(n[2]=r);var a,o=document.createElement("script");o.charset="utf-8",o.timeout=120,s.nc&&o.setAttribute("nonce",s.nc),o.src=function(e){return s.p+"expressionHeatmap.chunk."+e+".js"}(e);var l=new Error;a=function(t){o.onerror=o.onload=null,clearTimeout(c);var n=i[e];if(0!==n){if(n){var s=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+s+": "+r+")",l.name="ChunkLoadError",l.type=s,l.request=r,n[1](l)}i[e]=void 0}};var c=setTimeout((function(){a({type:"timeout",target:o})}),12e4);o.onerror=o.onload=a,document.head.appendChild(o)}return Promise.all(t)},s.m=e,s.c=n,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s.oe=function(e){throw console.error(e),e};var r=window.expressionHeatmap_bundle_jsonpfunction=window.expressionHeatmap_bundle_jsonpfunction||[],a=r.push.bind(r);r.push=t,r=r.slice();for(var o=0;o<r.length;o++)t(r[o]);var l=a;s(s.s=20)}([function(e,t){e.exports=__kbnSharedDeps__.KbnI18n},function(e,t){e.exports=__kbnSharedDeps__.EmotionReact},function(e,t,n){n.r(t);var i=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))},function(e,t,n){"use strict";n.r(t),n.d(t,"PLUGIN_ID",(function(){return g})),n.d(t,"PLUGIN_NAME",(function(){return h})),n.d(t,"heatmapFunction",(function(){return c})),n.d(t,"heatmapLegendConfig",(function(){return d})),n.d(t,"heatmapGridConfig",(function(){return f})),n.d(t,"EXPRESSION_HEATMAP_NAME",(function(){return r}));var i=n(0),s=n(5);const r="heatmap",a="heatmap_legend",o="heatmap_grid",l=(e,t,n,i)=>{const s="string"==typeof t?((e,t)=>{var n,i;const s=e.find((e=>e.id===t));if(s)return{accessor:s,format:{id:null===(n=s.meta.params)||void 0===n?void 0:n.id,params:{...null===(i=s.meta.params)||void 0===i?void 0:i.params}},type:"vis_dimension"}})(e,t):t;s&&n.push([[s],i])},c=()=>({name:r,type:"render",inputTypes:["datatable"],help:i.i18n.translate("expressionHeatmap.function.help",{defaultMessage:"Heatmap visualization"}),args:{percentageMode:{types:["boolean"],default:!1,help:i.i18n.translate("expressionHeatmap.function.percentageMode.help",{defaultMessage:"When is on, tooltip and legends appear as percentages."})},palette:{types:["palette"],help:i.i18n.translate("expressionHeatmap.function.palette.help",{defaultMessage:"Provides colors for the values, based on the bounds."})},legend:{types:[a],help:i.i18n.translate("expressionHeatmap.function.legendConfig.help",{defaultMessage:"Configure the chart legend."}),default:`{${a}}`},gridConfig:{types:[o],help:i.i18n.translate("expressionHeatmap.function.gridConfig.help",{defaultMessage:"Configure the heatmap layout."}),default:`{${o}}`},showTooltip:{types:["boolean"],help:i.i18n.translate("expressionHeatmap.function.args.addTooltipHelpText",{defaultMessage:"Show tooltip on hover"}),default:!0},highlightInHover:{types:["boolean"],help:i.i18n.translate("expressionHeatmap.function.args.highlightInHoverHelpText",{defaultMessage:"When this is enabled, it highlights the ranges of the same color on legend hover"})},lastRangeIsRightOpen:{types:["boolean"],help:i.i18n.translate("expressionHeatmap.function.args.lastRangeIsRightOpen",{defaultMessage:"If is set to true, the last range value will be right open"}),default:!0},xAccessor:{types:["string","vis_dimension"],help:i.i18n.translate("expressionHeatmap.function.args.xAccessorHelpText",{defaultMessage:"The id of the x axis column or the corresponding dimension"})},yAccessor:{types:["string","vis_dimension"],help:i.i18n.translate("expressionHeatmap.function.args.yAccessorHelpText",{defaultMessage:"The id of the y axis column or the corresponding dimension"})},valueAccessor:{types:["string","vis_dimension"],help:i.i18n.translate("expressionHeatmap.function.args.valueAccessorHelpText",{defaultMessage:"The id of the value column or the corresponding dimension"}),required:!0},splitRowAccessor:{types:["string","vis_dimension"],help:i.i18n.translate("expressionHeatmap.function.args.splitRowAccessorHelpText",{defaultMessage:"The id of the split row or the corresponding dimension"})},splitColumnAccessor:{types:["string","vis_dimension"],help:i.i18n.translate("expressionHeatmap.function.args.splitColumnAccessorHelpText",{defaultMessage:"The id of the split column or the corresponding dimension"})},ariaLabel:{types:["string"],help:i.i18n.translate("expressionHeatmap.functions.args.ariaLabelHelpText",{defaultMessage:"Specifies the aria label of the heat map"}),required:!1}},fn(e,t,n){var a,o,c,u,p,d,f,g,h,m,b,v;if(Object(s.validateAccessor)(t.xAccessor,e.columns),Object(s.validateAccessor)(t.yAccessor,e.columns),Object(s.validateAccessor)(t.valueAccessor,e.columns),Object(s.validateAccessor)(t.splitRowAccessor,e.columns),Object(s.validateAccessor)(t.splitColumnAccessor,e.columns),null!=n&&null!==(a=n.inspectorAdapters)&&void 0!==a&&a.tables){n.inspectorAdapters.tables.reset(),n.inspectorAdapters.tables.allowCsvExport=!0;const r=[];t.valueAccessor&&l(e.columns,t.valueAccessor,r,i.i18n.translate("expressionHeatmap.function.dimension.metric",{defaultMessage:"Metric"})),t.yAccessor&&l(e.columns,t.yAccessor,r,i.i18n.translate("expressionHeatmap.function.dimension.yaxis",{defaultMessage:"Y axis"})),t.xAccessor&&l(e.columns,t.xAccessor,r,i.i18n.translate("expressionHeatmap.function.dimension.xaxis",{defaultMessage:"X axis"})),t.splitRowAccessor&&l(e.columns,t.splitRowAccessor,r,i.i18n.translate("expressionHeatmap.function.dimension.splitRow",{defaultMessage:"Split by row"})),t.splitColumnAccessor&&l(e.columns,t.splitColumnAccessor,r,i.i18n.translate("expressionHeatmap.function.dimension.splitColumn",{defaultMessage:"Split by column"}));const a=Object(s.prepareLogTable)(e,r,!0);n.inspectorAdapters.tables.logDatatable("default",a)}return{type:"render",as:r,value:{data:e,args:{...t,ariaLabel:null!==(o=null!==(c=t.ariaLabel)&&void 0!==c?c:null===(u=n.variables)||void 0===u?void 0:u.embeddableTitle)&&void 0!==o?o:null===(p=n.getExecutionContext)||void 0===p||null===(d=p.call(n))||void 0===d?void 0:d.description},syncTooltips:null!==(f=null===(g=n.isSyncTooltipsEnabled)||void 0===g?void 0:g.call(n))&&void 0!==f&&f,syncCursor:null===(h=null===(m=n.isSyncCursorEnabled)||void 0===m?void 0:m.call(n))||void 0===h||h,canNavigateToLens:Boolean(null===(b=n.variables)||void 0===b?void 0:b.canNavigateToLens),overrides:null===(v=n.variables)||void 0===v?void 0:v.overrides}}}});var u=n(7),p=n(6);const d={name:a,aliases:[],type:a,help:"Configure the heatmap chart's legend",inputTypes:["null"],args:{isVisible:{types:["boolean"],help:i.i18n.translate("expressionHeatmap.function.args.legend.isVisible.help",{defaultMessage:"Specifies whether or not the legend is visible."})},position:{types:["string"],default:u.Position.Right,options:[u.Position.Top,u.Position.Right,u.Position.Bottom,u.Position.Left],help:i.i18n.translate("expressionHeatmap.function.args.legend.position.help",{defaultMessage:"Specifies the legend position."}),strict:!0},maxLines:{types:["number"],help:i.i18n.translate("expressionHeatmap.function.args.legend.maxLines.help",{defaultMessage:"Specifies the number of lines per legend item."})},shouldTruncate:{types:["boolean"],default:!0,help:i.i18n.translate("expressionHeatmap.function.args.legend.shouldTruncate.help",{defaultMessage:"Specifies whether or not the legend items should be truncated."})},legendSize:{types:["string"],default:p.DEFAULT_LEGEND_SIZE,help:i.i18n.translate("expressionHeatmap.function.args.legendSize.help",{defaultMessage:"Specifies the legend size."}),options:[p.LegendSize.AUTO,p.LegendSize.SMALL,p.LegendSize.MEDIUM,p.LegendSize.LARGE,p.LegendSize.EXTRA_LARGE],strict:!0}},fn:(e,t)=>({type:a,...t})},f={name:o,aliases:[],type:o,help:"Configure the heatmap layout",inputTypes:["null"],args:{strokeWidth:{types:["number"],help:i.i18n.translate("expressionHeatmap.function.args.grid.strokeWidth.help",{defaultMessage:"Specifies the grid stroke width"}),required:!1},strokeColor:{types:["string"],help:i.i18n.translate("expressionHeatmap.function.args.grid.strokeColor.help",{defaultMessage:"Specifies the grid stroke color"}),required:!1},isCellLabelVisible:{types:["boolean"],help:i.i18n.translate("expressionHeatmap.function.args.grid.isCellLabelVisible.help",{defaultMessage:"Specifies whether or not the cell label is visible."})},isYAxisLabelVisible:{types:["boolean"],help:i.i18n.translate("expressionHeatmap.function.args.grid.isYAxisLabelVisible.help",{defaultMessage:"Specifies whether or not the Y-axis labels are visible."})},isYAxisTitleVisible:{types:["boolean"],help:i.i18n.translate("expressionHeatmap.function.args.grid.isYAxisTitleVisible.help",{defaultMessage:"Specifies whether or not the Y-axis title is visible."})},yTitle:{types:["string"],help:i.i18n.translate("expressionHeatmap.function.args.grid.yTitle.help",{defaultMessage:"Specifies the title of the y axis"}),required:!1},isXAxisLabelVisible:{types:["boolean"],help:i.i18n.translate("expressionHeatmap.function.args.grid.isXAxisLabelVisible.help",{defaultMessage:"Specifies whether or not the X-axis labels are visible."})},isXAxisTitleVisible:{types:["boolean"],help:i.i18n.translate("expressionHeatmap.function.args.grid.isXAxisTitleVisible.help",{defaultMessage:"Specifies whether or not the X-axis title is visible."})},xTitle:{types:["string"],help:i.i18n.translate("expressionHeatmap.function.args.grid.xTitle.help",{defaultMessage:"Specifies the title of the x axis"}),required:!1}},fn:(e,t)=>({type:o,...t})},g="expressionHeatmap",h="expressionHeatmap"},function(e,t){e.exports=__kbnSharedDeps__.React},function(e,t,n){n.r(t);var i=__kbnBundles__.get("plugin/visualizations/common/utils");Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))},function(e,t,n){n.r(t);var i=__kbnBundles__.get("plugin/visualizations/common/constants");Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))},function(e,t){e.exports=__kbnSharedDeps__.ElasticCharts},function(e,t){e.exports=__kbnSharedDeps__.ElasticEui},function(e,t,n){e.exports=n(22)(4)},function(e,t){e.exports=__kbnSharedDeps__.EmotionCache},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return r}));const i=e=>{if(e){var t;const n=e=>e.type?e:e.child?n(e.child):void 0;return null===(t=n(e))||void 0===t?void 0:t.type}},s=e=>{if(e){var t;const n=e=>e.child?n(e.child):e;return null===(t=n(e))||void 0===t?void 0:t.type}};function r(e,t){return e&&e[t]?Object.fromEntries(Object.entries(e[t]).map((([e,t])=>"ignore"===t?[e,void 0]:[e,t]))):{}}n(15)},function(e,t){e.exports=__kbnSharedDeps__.ReactDom},function(e,t){e.exports=__kbnSharedDeps__.KbnSharedUxErrorBoundary},function(e,t){e.exports=__kbnSharedDeps__.Moment},function(e,t,n){n.r(t);var i=__kbnBundles__.get("plugin/data/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))},function(e,t){e.exports=__kbnSharedDeps__.ElasticEuiLibComponentsUseIsNestedEuiProvider},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(23),s=n(4),r=i.__importDefault(n(24));t.default=function(e,t){var n=s.useState(t),i=n[0],a=n[1];return r.default((function(){var t=e.subscribe(a);return function(){return t.unsubscribe()}}),[e]),i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setEuiDevProviderWarning=t.getEuiDevProviderWarning=t.emitEuiProviderWarning=void 0;var i=void 0;t.setEuiDevProviderWarning=function(e){return i=e},t.getEuiDevProviderWarning=function(){return i},t.emitEuiProviderWarning=function(e){if("function"==typeof i)return i(e);switch(i){case"log":console.log(e);break;case"warn":console.warn(e);break;case"error":throw new Error(e)}}},function(e,t){e.exports=__kbnSharedDeps__.KbnAnalytics},function(e,t,n){n(21),__kbnBundles__.define("plugin/expressionHeatmap/public",n,25),__kbnBundles__.define("plugin/expressionHeatmap/common",n,3)},function(e,t,n){n.p=window.__kbnPublicPath__.expressionHeatmap},function(e,t){e.exports=__kbnSharedDeps_npm__},function(e,t){e.exports=__kbnSharedDeps__.TsLib},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),s="undefined"!=typeof window?i.useLayoutEffect:i.useEffect;t.default=s},function(e,t,n){"use strict";n.r(t),n.d(t,"plugin",(function(){return V}));var i=n(2),s=n(3);const[r,a]=Object(i.createGetterSetter)("data.datatableUtilities"),[o,l]=Object(i.createGetterSetter)("fieldFormats"),[c,u]=Object(i.createGetterSetter)("palette"),[p,d]=Object(i.createGetterSetter)("core.uiSettings");var f=n(9),g=n.n(f),h=n(0),m=n(4),b=n(12),v=n(14),_=n.n(v),x=n(16),y=n(18),S=n(17),O=n.n(S),A=n(10),j=n.n(A),M=n(8);const E="eui-global",P="eui-utilities",H={darkMode:!1};var T=n(1);const C=[M.euiStylisPrefixer],w=j()({key:"css",stylisPlugins:C,container:document.querySelector('meta[name="emotion"]')}),k=j()({key:E,stylisPlugins:C,container:document.querySelector(`meta[name="${E}"]`)}),D=j()({key:P,stylisPlugins:C,container:document.querySelector(`meta[name="${P}"]`)});w.compat=!0,k.compat=!0,D.compat=!0;const L={default:w,global:k,utility:D},R=({theme:{theme$:e},globalStyles:t,colorMode:n,modify:i,children:s})=>{const r=O()(e,H),a=Object(m.useMemo)((()=>(e=>e.darkMode?M.COLOR_MODES_STANDARD.dark:M.COLOR_MODES_STANDARD.light)(r)),[r]),o=n||a,l=!1!==t&&void 0;return Object(T.jsx)(M.EuiProvider,{cache:L,modify:i,colorMode:o,globalStyles:l,utilityClasses:l},s)},N=({children:e,i18n:t,...n})=>Object(x.useIsNestedEuiProvider)()?(Object(y.emitEuiProviderWarning)("KibanaRootContextProvider has likely been nested in this React tree, either by direct reference or by KibanaRenderContextProvider.  The result of this nesting is a nesting of EuiProvider, which has negative effects.  Check your React tree for nested Kibana context providers."),Object(T.jsx)(t.Context,null,e)):Object(T.jsx)(R,n,Object(T.jsx)(t.Context,null,e));var I=n(13);const z=({children:e,...t})=>Object(T.jsx)(N,g()({globalStyles:!1},t),Object(T.jsx)(I.KibanaErrorBoundaryProvider,{analytics:t.analytics},Object(T.jsx)(I.KibanaErrorBoundary,null,e)));var B=n(19),U=n(11);class plugin_ExpressionHeatmapPlugin{setup(e,{expressions:t,charts:a}){a.palettes.getPalettes().then((e=>{u(e)})),d(e.uiSettings);const l=Object(i.createStartServicesGetter)(e.getStartServices);t.registerFunction(s.heatmapFunction),t.registerFunction(s.heatmapLegendConfig),t.registerFunction(s.heatmapGridConfig),t.registerRenderer((({getStartDeps:e})=>({name:s.EXPRESSION_HEATMAP_NAME,displayName:h.i18n.translate("expressionHeatmap.visualizationName",{defaultMessage:"Heatmap"}),reuseDomNode:!0,render:async(t,i,a)=>{const{core:l,plugins:u}=e();a.onDestroy((()=>{Object(b.unmountComponentAtNode)(t)})),a.event({name:"chartSize",data:{maxDimensions:{x:{value:100,unit:"percentage"},y:{value:100,unit:"percentage"}}}});const d=(m=p()).isDefault("dateFormat:tz")?_.a.tz.guess()||_()().format("Z"):m.get("dateFormat:tz","Browser"),{HeatmapComponent:f}=await n.e(1).then(n.bind(null,52)),{isInteractive:h}=a;var m;Object(b.render)(Object(T.jsx)(z,l,Object(T.jsx)("div",{className:"heatmap-container","data-test-subj":"heatmapChart"},Object(T.jsx)(f,g()({},i,{onClickValue:e=>{a.event({name:"filter",data:e})},onSelectRange:e=>{a.event({name:"brush",data:e})},timeZone:d,datatableUtilities:r(),formatFactory:o().deserialize,chartsThemeService:u.charts.theme,paletteService:c(),renderComplete:()=>{const e=a.getExecutionContext(),t=Object(U.a)(e),n=Object(U.b)(e);if(t&&n){var r;const e=[`render_${n}_${s.EXPRESSION_HEATMAP_NAME}`,i.canNavigateToLens?`render_${n}_${s.EXPRESSION_HEATMAP_NAME}_convertable`:void 0].filter((e=>Boolean(e)));null===(r=u.usageCollection)||void 0===r||r.reportUiCounter(t,B.METRIC_TYPE.COUNT,e)}a.done()},uiState:a.uiState,interactive:h(),chartsActiveCursorService:u.charts.activeCursor,syncTooltips:i.syncTooltips,syncCursor:i.syncCursor,onClickMultiValue:e=>{a.event({name:"multiFilter",data:e})}})))),t)}}))({getStartDeps:l}))}start(e,{data:t,fieldFormats:n}){l(n),a(t.datatableUtilities)}}function V(){return new plugin_ExpressionHeatmapPlugin}},function(e,t,n){n.r(t);var i=__kbnBundles__.get("plugin/charts/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))},function(e,t,n){n.r(t);var i=__kbnBundles__.get("plugin/data/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))},function(e,t){e.exports=__kbnSharedDeps__.KbnUiTheme}]);