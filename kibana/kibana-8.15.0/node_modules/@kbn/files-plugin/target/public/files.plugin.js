!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return u}));const r="files",i="files",o="file",u="esFixedSizeIndex"},function(e,t,n){"use strict";n.r(t),n.d(t,"id",(function(){return r})),n.d(t,"tag",(function(){return i})),n.d(t,"tags",(function(){return o})),n.d(t,"maxSize",(function(){return u})),n.d(t,"kind",(function(){return s}));const r="defaultImage",i="files:defaultImage",o=[`access:${i}`],u=10485760,s={id:r,allowedMimeTypes:["image/png","image/jpeg","image/webp","image/avif"]}},function(e,t,n){e.exports=n(3)(2)},function(e,t){e.exports=__kbnSharedDeps_npm__},function(e,t,n){"use strict";(function(t){var r=n(9);
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function i(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}function o(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var u=n(10),s=Object.prototype.hasOwnProperty,a=Array.prototype.slice,l="foo"===function(){}.name;function f(e){return Object.prototype.toString.call(e)}function c(e){return!o(e)&&"function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer)))}var d=e.exports=m,p=/\s*function\s+([^\(\s]*)\s*/;function g(e){if(u.isFunction(e)){if(l)return e.name;var t=e.toString().match(p);return t&&t[1]}}function y(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function h(e){if(l||!u.isFunction(e))return u.inspect(e);var t=g(e);return"[Function"+(t?": "+t:"")+"]"}function b(e,t,n,r,i){throw new d.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function m(e,t){e||b(e,!0,t,"==",d.ok)}function E(e,t,n,r){if(e===t)return!0;if(o(e)&&o(t))return 0===i(e,t);if(u.isDate(e)&&u.isDate(t))return e.getTime()===t.getTime();if(u.isRegExp(e)&&u.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(c(e)&&c(t)&&f(e)===f(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===i(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(o(e)!==o(t))return!1;var s=(r=r||{actual:[],expected:[]}).actual.indexOf(e);return-1!==s&&s===r.expected.indexOf(t)||(r.actual.push(e),r.expected.push(t),function(e,t,n,r){if(null==e||null==t)return!1;if(u.isPrimitive(e)||u.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=v(e),o=v(t);if(i&&!o||!i&&o)return!1;if(i)return E(e=a.call(e),t=a.call(t),n);var s,l,f=k(e),c=k(t);if(f.length!==c.length)return!1;for(f.sort(),c.sort(),l=f.length-1;l>=0;l--)if(f[l]!==c[l])return!1;for(l=f.length-1;l>=0;l--)if(!E(e[s=f[l]],t[s],n,r))return!1;return!0}(e,t,n,r))}return n?e===t:e==t}function v(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function _(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function S(e,t,n,r){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=function(e){var t;try{e()}catch(e){t=e}return t}(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&b(i,n,"Missing expected exception"+r);var o="string"==typeof r,s=!e&&i&&!n;if((!e&&u.isError(i)&&o&&_(i,n)||s)&&b(i,n,"Got unwanted exception"+r),e&&i&&n&&!_(i,n)||!e&&i)throw i}d.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=y(h(this.actual),128)+" "+this.operator+" "+y(h(this.expected),128),this.generatedMessage=!0);var t=e.stackStartFunction||b;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,i=g(t),o=r.indexOf("\n"+i);if(o>=0){var u=r.indexOf("\n",o+1);r=r.substring(u+1)}this.stack=r}}},u.inherits(d.AssertionError,Error),d.fail=b,d.ok=m,d.equal=function(e,t,n){e!=t&&b(e,t,n,"==",d.equal)},d.notEqual=function(e,t,n){e==t&&b(e,t,n,"!=",d.notEqual)},d.deepEqual=function(e,t,n){E(e,t,!1)||b(e,t,n,"deepEqual",d.deepEqual)},d.deepStrictEqual=function(e,t,n){E(e,t,!0)||b(e,t,n,"deepStrictEqual",d.deepStrictEqual)},d.notDeepEqual=function(e,t,n){E(e,t,!1)&&b(e,t,n,"notDeepEqual",d.notDeepEqual)},d.notDeepStrictEqual=function e(t,n,r){E(t,n,!0)&&b(t,n,r,"notDeepStrictEqual",e)},d.strictEqual=function(e,t,n){e!==t&&b(e,t,n,"===",d.strictEqual)},d.notStrictEqual=function(e,t,n){e===t&&b(e,t,n,"!==",d.notStrictEqual)},d.throws=function(e,t,n){S(!0,e,t,n)},d.doesNotThrow=function(e,t,n){S(!1,e,t,n)},d.ifError=function(e){if(e)throw e},d.strict=r((function e(t,n){t||b(t,!0,n,"==",e)}),d,{equal:d.strictEqual,deepEqual:d.deepStrictEqual,notEqual:d.notStrictEqual,notDeepEqual:d.notDeepStrictEqual}),d.strict.strict=d.strict;var k=Object.keys||function(e){var t=[];for(var n in e)s.call(e,n)&&t.push(n);return t}}).call(this,n(8))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/kibanaUtils/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n(7),__kbnBundles__.define("plugin/files/public",n,12),__kbnBundles__.define("plugin/files/common",n,11)},function(e,t,n){n.p=window.__kbnPublicPath__.files},function(e,t,n){e.exports=n(3)(188)},function(e,t,n){e.exports=n(3)(1128)},function(e,t,n){e.exports=n(3)(3090)},function(e,t,n){"use strict";n.r(t);var r=n(0);n.d(t,"FILE_SO_TYPE",(function(){return r.b})),n.d(t,"PLUGIN_ID",(function(){return r.c})),n.d(t,"PLUGIN_NAME",(function(){return r.d})),n.d(t,"ES_FIXED_SIZE_INDEX_BLOB_STORE",(function(){return r.a}));var i=n(1);n.d(t,"DefaultFileKind",(function(){return i}))},function(e,t,n){"use strict";n.r(t),n.d(t,"plugin",(function(){return E}));var r=n(2),i=n.n(r),o=n(4),u=n.n(o),s=n(5);class file_kinds_registry_FileKindsRegistryImpl{constructor(e){i()(this,"fileKinds",new Map),this.onRegister=e}register(e){var t;if(this.fileKinds.get(e.id))throw new Error(`File kind "${e.id}" already registered.`);if(e.id!==encodeURIComponent(e.id))throw new Error(`File kind id "${e.id}" is not a valid file kind ID. Choose an ID that does not need to be URI encoded.`);this.fileKinds.set(e.id,e),null===(t=this.onRegister)||void 0===t||t.call(this,e)}get(e){const t=this.fileKinds.get(e);return u()(t,`File kind with id "${e}" not found.`),t}getAll(){return Array.from(this.fileKinds.values())}}const[a,l]=Object(s.createGetterSetter)("fileKindsRegistry"),f=`/api/${n(0).c}`,c=`${f}/files`,d=`${f}/shares`,p=`${f}/public`,g=(e,t,n)=>`${c}/${e}/${t}/blob${n?"/"+n:""}`,y=(e,t)=>`${d}/${e}/${t}`,h={headers:{"content-type":"application/json"}};function b({registry:e,http:t,fileKind:n}){return{bulkDelete:e=>t.delete(`${f}/blobs`,{headers:h,body:JSON.stringify(e)}),create:({kind:e,...r})=>t.post(`${c}/${null!=n?n:e}`,{headers:h,body:JSON.stringify(r)}),delete:({kind:e,...r})=>{return t.delete((i=null!=n?n:e,o=r.id,`${c}/${i}/${o}`));var i,o},download:({kind:e,...r})=>t.get(g(null!=n?n:e,r.id,r.fileName),{headers:{Accept:"*/*"}}),getById:({kind:e,...r})=>{return t.get((i=null!=n?n:e,o=r.id,`${c}/${i}/${o}`));var i,o},list:({kind:e,page:r,perPage:i,abortSignal:o,...u}={kind:""})=>t.post(`${c}/${null!=n?n:e}/list`,{headers:h,query:{page:r,perPage:i},body:JSON.stringify(u),signal:o}),update:({kind:e,id:r,...i})=>t.patch(((e,t)=>`${c}/${e}/${t}`)(null!=n?n:e,r),{headers:h,body:JSON.stringify(i)}),upload:({kind:e,abortSignal:r,contentType:i,selfDestructOnAbort:o,...u})=>{return t.put((s=null!=n?n:e,a=u.id,`${c}/${s}/${a}/blob`),{query:{selfDestructOnAbort:o},headers:{"Content-Type":null!=i?i:"application/octet-stream"},signal:r,body:u.body});var s,a},getDownloadHref:({fileKind:e,id:r})=>`${t.basePath.prepend(g(null!=n?n:e,r))}`,share:({kind:e,fileId:r,name:i,validUntil:o})=>t.post(y(null!=n?n:e,r),{headers:h,body:JSON.stringify({name:i,validUntil:o})}),unshare:({kind:e,id:r})=>t.delete(y(null!=n?n:e,r)),getShare:({kind:e,id:r})=>t.get(y(null!=n?n:e,r)),listShares:({kind:e,forFileId:r,page:i,perPage:o})=>t.get(`${d}/${null!=n?n:e}`,{query:{page:i,perPage:o,forFileId:r}}),find:({page:e,perPage:n,...r})=>t.post(`${f}/find`,{query:{page:e,perPage:n},headers:h,body:JSON.stringify(r)}),getMetrics:()=>t.get(`${f}/metrics`),publicDownload:({token:e,fileName:n})=>t.get((e=>`${p}/blob${e?"/"+e:""}`)(n),{query:{token:e}}),getFileKind:t=>e.get(t)}}var m=n(1);class plugin_FilesPlugin{constructor(){i()(this,"registry",new file_kinds_registry_FileKindsRegistryImpl),i()(this,"filesClientFactory",void 0)}setup(e){return this.registry.register({...m.kind,maxSizeBytes:m.maxSize}),this.filesClientFactory={asScoped:t=>b({registry:this.registry,fileKind:t,http:e.http}),asUnscoped:()=>b({registry:this.registry,http:e.http})},{filesClientFactory:this.filesClientFactory,registerFileKind:e=>{this.registry.register(e)}}}start(e){return{filesClientFactory:this.filesClientFactory,getFileKindDefinition:e=>this.registry.get(e),getAllFindKindDefinitions:()=>this.registry.getAll()}}}function E(){return new plugin_FilesPlugin}}]);