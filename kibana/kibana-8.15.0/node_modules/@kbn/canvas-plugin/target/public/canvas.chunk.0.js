/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.canvas_bundle_jsonpfunction=window.canvas_bundle_jsonpfunction||[]).push([[0],{154:function(r,t){r.exports={pow:function(r,t){if(null==t)throw new Error("Missing exponent");return Array.isArray(r)?r.map((r=>Math.pow(r,t))):Math.pow(r,t)}}},155:function(r,t){r.exports={eq:function(r,t){if(null==t)throw new Error("Missing b value");if(Array.isArray(r)){if(!Array.isArray(t))return r.every((r=>r===t));if(r.length!==t.length)throw new Error("Array length mismatch");return r.every(((r,n)=>r===t[n]))}return r===t}}},213:function(r,t,n){const{get:e}=n(19),a=n(381),{functions:o}=n(382),{parse:i}=n(419),u=a((function(r,t){if(null==r)throw new Error("Missing expression");if("string"!=typeof r)throw new Error("Expression must be a string");try{return i(r,t)}catch(r){throw new Error(`Failed to parse expression. ${r.message}`)}}));function s(r,t,n){const a=Object.assign({},o,n);return function r(n){if("number"==typeof n)return n;if("function"===n.type)return function(t){const{name:n,args:e}=t,o=a[n];if(!o)throw new Error(`No such function: ${n}`);const i=e.map(r);return o.skipNumberValidation||c(i)?o(...i):NaN}(n);if("variable"===n.type){const r=function(r,t){const n=e(r,t);return void 0!==n?n:r[t]}(t,n.value);if(void 0===r)throw new Error(`Unknown variable: ${n.value}`);return r}if("namedArgument"===n.type)throw new Error(`Named arguments are not supported in tinymath itself, at ${n.name}`)}(r)}function c(r){return r.every((r=>Array.isArray(r)?c(r):"number"==typeof r&&!isNaN(r)))}r.exports={parse:u,evaluate:function(r,t={},n={}){return t=t||{},s(u(r),t,n)},interpret:s}},214:function(r,t){r.exports={add:function(...r){return 1===r.length?Array.isArray(r[0])?r[0].reduce(((r,t)=>r+t)):r[0]:r.reduce(((r,t)=>{if(Array.isArray(r)&&Array.isArray(t)){if(t.length!==r.length)throw new Error("Array length mismatch");return r.map(((r,n)=>r+t[n]))}return Array.isArray(r)?r.map((r=>r+t)):Array.isArray(t)?t.map((t=>t+r)):r+t}))}}},215:function(r,t){function n(r){if(Array.isArray(r))return r.length;throw new Error("Must pass an array")}n.skipNumberValidation=!0,r.exports={size:n}},216:function(r,t){const n=(r,t)=>Math.log(r)/Math.log(t);r.exports={log:function(r,t=Math.E){if(t<=0)throw new Error("Base out of range");if(Array.isArray(r))return r.map((r=>{if(r<0)throw new Error("Must be greater than 0");return n(r,t)}));if(r<0)throw new Error("Must be greater than 0");return n(r,t)}}},217:function(r,t){r.exports={max:function(...r){return 1===r.length?Array.isArray(r[0])?r[0].reduce(((r,t)=>Math.max(r,t))):r[0]:r.reduce(((r,t)=>{if(Array.isArray(r)&&Array.isArray(t)){if(t.length!==r.length)throw new Error("Array length mismatch");return r.map(((r,n)=>Math.max(r,t[n])))}return Array.isArray(r)?r.map((r=>Math.max(r,t))):Array.isArray(t)?t.map((t=>Math.max(t,r))):Math.max(r,t)}))}}},218:function(r,t){r.exports={transpose:function(r,t){const n=r[t].length;return r[t].map(((t,e)=>r.map((r=>{if(Array.isArray(r)){if(r.length!==n)throw new Error("Array length mismatch");return r[e]}return r}))))}}},219:function(r,t){r.exports={min:function(...r){return 1===r.length?Array.isArray(r[0])?r[0].reduce(((r,t)=>Math.min(r,t))):r[0]:r.reduce(((r,t)=>{if(Array.isArray(r)&&Array.isArray(t)){if(t.length!==r.length)throw new Error("Array length mismatch");return r.map(((r,n)=>Math.min(r,t[n])))}return Array.isArray(r)?r.map((r=>Math.min(r,t))):Array.isArray(t)?t.map((t=>Math.min(t,r))):Math.min(r,t)}))}}},220:function(r,t){r.exports={subtract:function(r,t){if(Array.isArray(r)&&Array.isArray(t)){if(r.length!==t.length)throw new Error("Array length mismatch");return r.map(((r,n)=>r-t[n]))}return Array.isArray(r)?r.map((r=>r-t)):Array.isArray(t)?t.map((t=>r-t)):r-t}}},221:function(r,t){r.exports={lt:function(r,t){if(null==t)throw new Error("Missing b value");if(Array.isArray(r)){if(!Array.isArray(t))return r.every((r=>r<t));if(r.length!==t.length)throw new Error("Array length mismatch");return r.every(((r,n)=>r<t[n]))}return r<t}}},222:function(r,t){r.exports={gt:function(r,t){if(null==t)throw new Error("Missing b value");if(Array.isArray(r)){if(!Array.isArray(t))return r.every((r=>r>t));if(r.length!==t.length)throw new Error("Array length mismatch");return r.every(((r,n)=>r>t[n]))}return r>t}}},381:function(r,t,n){"use strict";var e=Number.isNaN||function(r){return"number"==typeof r&&r!=r};function a(r,t){if(r.length!==t.length)return!1;for(var n=0;n<r.length;n++)if(!((a=r[n])===(o=t[n])||e(a)&&e(o)))return!1;var a,o;return!0}r.exports=function(r,t){void 0===t&&(t=a);var n=null;function e(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];if(n&&n.lastThis===this&&t(e,n.lastArgs))return n.lastResult;var o=r.apply(this,e);return n={lastResult:o,lastArgs:e,lastThis:this},o}return e.clear=function(){n=null},e}},382:function(r,t,n){const{abs:e}=n(383),{add:a}=n(214),{cbrt:o}=n(384),{ceil:i}=n(385),{clamp:u}=n(386),{cos:s}=n(387),{count:c}=n(388),{cube:f}=n(389),{defaults:l}=n(390),{degtorad:h}=n(391),{divide:A}=n(392),{exp:p}=n(393),{first:y}=n(394),{fix:m}=n(395),{floor:g}=n(396),{last:d}=n(397),{log:x}=n(216),{log10:w}=n(398),{max:v}=n(217),{mean:b}=n(399),{median:M}=n(400),{min:E}=n(219),{mod:C}=n(401),{mode:q}=n(402),{multiply:N}=n(403),{pi:j}=n(404),{pow:k}=n(154),{radtodeg:z}=n(405),{random:F}=n(406),{range:_}=n(407),{round:V}=n(408),{sin:I}=n(409),{size:O}=n(215),{sqrt:P}=n(410),{square:Z}=n(411),{subtract:R}=n(220),{sum:S}=n(412),{tan:U}=n(413),{unique:$}=n(414),{eq:T,lt:Y,gt:B,lte:D,gte:G,ifelse:H}=n(415);r.exports={functions:{abs:e,add:a,cbrt:o,ceil:i,clamp:u,cos:s,count:c,cube:f,degtorad:h,defaults:l,divide:A,exp:p,first:y,fix:m,floor:g,ifelse:H,last:d,log:x,log10:w,max:v,mean:b,median:M,min:E,mod:C,mode:q,multiply:N,pi:j,pow:k,radtodeg:z,random:F,range:_,round:V,sin:I,size:O,sqrt:P,square:Z,subtract:R,sum:S,tan:U,unique:$,eq:T,lt:Y,gt:B,lte:D,gte:G}}},383:function(r,t){r.exports={abs:function(r){return Array.isArray(r)?r.map((r=>Math.abs(r))):Math.abs(r)}}},384:function(r,t){r.exports={cbrt:function(r){return Array.isArray(r)?r.map((r=>Math.cbrt(r))):Math.cbrt(r)}}},385:function(r,t){r.exports={ceil:function(r){return Array.isArray(r)?r.map((r=>Math.ceil(r))):Math.ceil(r)}}},386:function(r,t){const n=(r,t,n)=>{if(t>n)throw new Error("Min must be less than max");return Math.min(Math.max(r,t),n)};r.exports={clamp:function(r,t,e){if(null===e)throw new Error("Missing maximum value. You may want to use the 'min' function instead");if(null===t)throw new Error("Missing minimum value. You may want to use the 'max' function instead");if(Array.isArray(e)){if(Array.isArray(r)&&Array.isArray(t)){if(r.length!==e.length||r.length!==t.length)throw new Error("Array length mismatch");return e.map(((e,a)=>n(r[a],t[a],e)))}if(Array.isArray(r)){if(r.length!==e.length)throw new Error("Array length mismatch");return e.map(((e,a)=>n(r[a],t,e)))}if(Array.isArray(t)){if(t.length!==e.length)throw new Error("Array length mismatch");return e.map(((e,a)=>n(r,t[a],e)))}return e.map((e=>n(r,t,e)))}if(Array.isArray(r)&&Array.isArray(t)){if(r.length!==t.length)throw new Error("Array length mismatch");return r.map(((r,e)=>n(r,t[e])))}return Array.isArray(r)?r.map((r=>n(r,t,e))):Array.isArray(t)?t.map((t=>n(r,t,e))):n(r,t,e)}}},387:function(r,t){r.exports={cos:function(r){return Array.isArray(r)?r.map((r=>Math.cos(r))):Math.cos(r)}}},388:function(r,t,n){const{size:e}=n(215);function a(r){return e(r)}a.skipNumberValidation=!0,r.exports={count:a}},389:function(r,t,n){const{pow:e}=n(154);r.exports={cube:function(r){return e(r,3)}}},390:function(r,t){function n(r,t){return Array.isArray(r)?r.map((r=>null==r?t:r)):null==r?t:r}r.exports={defaults:n},n.skipNumberValidation=!0},391:function(r,t){r.exports={degtorad:function(r){return Array.isArray(r)?r.map((r=>r*Math.PI/180)):r*Math.PI/180}}},392:function(r,t){r.exports={divide:function(r,t){if(Array.isArray(r)&&Array.isArray(t)){if(r.length!==t.length)throw new Error("Array length mismatch");return r.map(((r,n)=>{if(0===t[n])throw new Error("Cannot divide by 0");return r/t[n]}))}if(Array.isArray(t))return t.map((t=>{if(0===t)throw new Error("Cannot divide by 0");return r/t}));if(0===t)throw new Error("Cannot divide by 0");return Array.isArray(r)?r.map((r=>r/t)):r/t}}},393:function(r,t){r.exports={exp:function(r){return Array.isArray(r)?r.map((r=>Math.exp(r))):Math.exp(r)}}},394:function(r,t){function n(r){return Array.isArray(r)?r[0]:r}n.skipNumberValidation=!0,r.exports={first:n}},395:function(r,t){const n=r=>r>0?Math.floor(r):Math.ceil(r);r.exports={fix:function(r){return Array.isArray(r)?r.map((r=>n(r))):n(r)}}},396:function(r,t){r.exports={floor:function(r){return Array.isArray(r)?r.map((r=>Math.floor(r))):Math.floor(r)}}},397:function(r,t){function n(r){return Array.isArray(r)?r[r.length-1]:r}n.skipNumberValidation=!0,r.exports={last:n}},398:function(r,t,n){const{log:e}=n(216);r.exports={log10:function(r){return e(r,10)}}},399:function(r,t,n){const{add:e}=n(214);r.exports={mean:function(...r){if(1===r.length)return Array.isArray(r[0])?e(r[0])/r[0].length:r[0];const t=e(...r);return Array.isArray(t)?t.map((t=>t/r.length)):t/r.length}}},400:function(r,t,n){const{transpose:e}=n(218),a=r=>{const t=r.length,n=Math.floor(t/2);return r.sort(((r,t)=>t-r)),t%2==0?(r[n]+r[n-1])/2:r[n]};r.exports={median:function(...r){if(1===r.length)return Array.isArray(r[0])?a(r[0]):r[0];const t=r.findIndex((r=>Array.isArray(r)));return-1!==t?e(r,t).map((r=>a(r))):a(r)}}},401:function(r,t){r.exports={mod:function(r,t){if(Array.isArray(r)&&Array.isArray(t)){if(r.length!==t.length)throw new Error("Array length mismatch");return r.map(((r,n)=>{if(0===t[n])throw new Error("Cannot divide by 0");return r%t[n]}))}if(Array.isArray(t))return t.map((t=>r%t));if(0===t)throw new Error("Cannot divide by 0");return Array.isArray(r)?r.map((r=>r%t)):r%t}}},402:function(r,t,n){const{transpose:e}=n(218),a=r=>{let t=0;const n={};return r.map((r=>{void 0===n[r]&&(n[r]=0),n[r]+=1,n[r]>t&&(t=n[r])})),Object.keys(n).filter((r=>n[r]===t)).map((r=>parseFloat(r))).sort(((r,t)=>r-t))};r.exports={mode:function(...r){if(1===r.length)return Array.isArray(r[0])?a(r[0]):r[0];const t=r.findIndex((r=>Array.isArray(r)));return-1!==t?e(r,t).map((r=>a(r))):a(r)}}},403:function(r,t){r.exports={multiply:function(...r){return r.reduce(((r,t)=>{if(Array.isArray(r)&&Array.isArray(t)){if(t.length!==r.length)throw new Error("Array length mismatch");return r.map(((r,n)=>r*t[n]))}return Array.isArray(r)?r.map((r=>r*t)):Array.isArray(t)?t.map((t=>t*r)):r*t}))}}},404:function(r,t){r.exports={pi:function(){return Math.PI}}},405:function(r,t){r.exports={radtodeg:function(r){return Array.isArray(r)?r.map((r=>180*r/Math.PI)):180*r/Math.PI}}},406:function(r,t){r.exports={random:function(r,t){if(null==r)return Math.random();if(null==t){if(r<0)throw new Error("Min is greater than max");return Math.random()*r}if(r>t)throw new Error("Min is greater than max");return Math.random()*(t-r)+r}}},407:function(r,t,n){const{max:e}=n(217),{min:a}=n(219),{subtract:o}=n(220);r.exports={range:function(...r){return o(e(...r),a(...r))}}},408:function(r,t){const n=(r,t=0)=>Math.round(r*Math.pow(10,t))/Math.pow(10,t);r.exports={round:function(r,t){return Array.isArray(r)?r.map((r=>n(r,t))):n(r,t)}}},409:function(r,t){r.exports={sin:function(r){return Array.isArray(r)?r.map((r=>Math.sin(r))):Math.sin(r)}}},410:function(r,t){r.exports={sqrt:function(r){if(Array.isArray(r))return r.map((r=>{if(r<0)throw new Error("Unable find the square root of a negative number");return Math.sqrt(r)}));if(r<0)throw new Error("Unable find the square root of a negative number");return Math.sqrt(r)}}},411:function(r,t,n){const{pow:e}=n(154);r.exports={square:function(r){return e(r,2)}}},412:function(r,t){const n=(r,t)=>r+t;r.exports={sum:function(...r){return r.reduce(((r,t)=>Array.isArray(t)?r+t.reduce(n,0):r+t),0)}}},413:function(r,t){r.exports={tan:function(r){return Array.isArray(r)?r.map((r=>Math.tan(r))):Math.tan(r)}}},414:function(r,t){function n(r){return Array.isArray(r)?r.filter(((t,n)=>r.indexOf(t)===n)).length:1}n.skipNumberValidation=!0,r.exports={unique:n}},415:function(r,t,n){const{eq:e}=n(155),{lt:a}=n(221),{gt:o}=n(222),{lte:i}=n(416),{gte:u}=n(417),{ifelse:s}=n(418);r.exports={eq:e,lt:a,gt:o,lte:i,gte:u,ifelse:s}},416:function(r,t,n){const{eq:e}=n(155),{lt:a}=n(221);r.exports={lte:function(r,t){return e(r,t)||a(r,t)}}},417:function(r,t,n){const{eq:e}=n(155),{gt:a}=n(222);r.exports={gte:function(r,t){return e(r,t)||a(r,t)}}},418:function(r,t){function n(r,t,n){if("boolean"!=typeof r)throw Error("Condition clause is of the wrong type");if(null==t)throw new Error("Missing a value");if(null==n)throw new Error("Missing b value");return r?t:n}n.skipNumberValidation=!0,r.exports={ifelse:n}},419:function(r,t,n){"use strict";function e(r,t,n,a){var o=Error.call(this,r);return Object.setPrototypeOf&&Object.setPrototypeOf(o,e.prototype),o.expected=t,o.found=n,o.location=a,o.name="SyntaxError",o}function a(r,t,n){return n=n||" ",r.length>t?r:(t-=r.length,r+(n+=n.repeat(t)).slice(0,t))}function o(r,t){var n,a={},o=(t=void 0!==t?t:{}).grammarSource,i={start:Ur},u=Ur,s='"',c='\\"',f="'",l="\\'",h=">",A="<",p="=",y="+",m="-",g="*",d="/",x="(",w=")",v=",",b=".",M="0",E=/^[ \t\n\r]/,C=/^[0-9A-Za-z._@[\]\-]/,q=/^[^"]/,N=/^[^']/,j=/^[a-zA-Z_]/,k=/^[a-zA-Z_\-]/,z=/^[eE]/,F=/^[1-9]/,_=/^[0-9]/,V=Pr("whitespace"),I=Or([" ","\t","\n","\r"],!1,!1),O=(Or([" "],!1,!1),Or(['"',"'"],!1,!1),Or([["A","Z"],["a","z"],"_","@",".","[","]","-"],!1,!1),Or([["0","9"],["A","Z"],["a","z"],".","_","@","[","]","-"],!1,!1)),P=Pr("literal"),Z=Ir('"',!1),R=Ir('\\"',!1),S=Or(['"'],!0,!1),U=Ir("'",!1),$=Ir("\\'",!1),T=Or(["'"],!0,!1),Y=Ir(">",!1),B=Ir("<",!1),D=Ir("=",!1),G=Ir("+",!1),H=Ir("-",!1),J=Ir("*",!1),K=Ir("/",!1),L=Ir("(",!1),Q=Ir(")",!1),W=Pr("arguments"),X=Ir(",",!1),rr=Or([["a","z"],["A","Z"],"_"],!1,!1),tr=Pr("function"),nr=Or([["a","z"],["A","Z"],"_","-"],!1,!1),er=Pr("number"),ar=Or(["e","E"],!1,!1),or=Pr("exponent"),ir=Ir(".",!1),ur=Ir("0",!1),sr=Or([["1","9"]],!1,!1),cr=Or([["0","9"]],!1,!1),fr=function(r){return r},lr=function(){return'"'},hr=function(r){return{type:"variable",value:r.join(""),location:Lr(Vr()),text:_r()}},Ar=function(){return"'"},pr=function(r){return{type:"variable",value:r.join(""),location:Lr(Vr()),text:_r()}},yr=function(r){return{type:"variable",value:r.join(""),location:Lr(Vr()),text:_r()}},mr=function(r,t,n){return{type:"function",name:Xr(t),args:[r,n],location:Lr(Vr()),text:_r()}},gr=function(r,t){return Wr(r,t)},dr=function(r,t){return Wr(r,t)},xr=function(r){return r},wr=function(r,t){return t},vr=function(r,t){return[r].concat(t)},br=function(r){return r.join("")},Mr=function(r,t){return{type:"namedArgument",name:r.join(""),value:t,location:Lr(Vr()),text:_r()}},Er=function(r,t){return{type:"function",name:r.join(""),args:t||[],location:Lr(Vr()),text:_r()}},Cr=function(){return parseFloat(_r())},qr=0,Nr=0,jr=[{line:1,column:1}],kr=0,zr=[],Fr=0;if("startRule"in t){if(!(t.startRule in i))throw new Error("Can't start parsing from rule \""+t.startRule+'".');u=i[t.startRule]}function _r(){return r.substring(Nr,qr)}function Vr(){return Rr(Nr,qr)}function Ir(r,t){return{type:"literal",text:r,ignoreCase:t}}function Or(r,t,n){return{type:"class",parts:r,inverted:t,ignoreCase:n}}function Pr(r){return{type:"other",description:r}}function Zr(t){var n,e=jr[t];if(e)return e;for(n=t-1;!jr[n];)n--;for(e={line:(e=jr[n]).line,column:e.column};n<t;)10===r.charCodeAt(n)?(e.line++,e.column=1):e.column++,n++;return jr[t]=e,e}function Rr(r,t){var n=Zr(r),e=Zr(t);return{source:o,start:{offset:r,line:n.line,column:n.column},end:{offset:t,line:e.line,column:e.column}}}function Sr(r){qr<kr||(qr>kr&&(kr=qr,zr=[]),zr.push(r))}function Ur(){return Yr()}function $r(){var t,n;for(Fr++,t=[],E.test(r.charAt(qr))?(n=r.charAt(qr),qr++):(n=a,0===Fr&&Sr(I));n!==a;)t.push(n),E.test(r.charAt(qr))?(n=r.charAt(qr),qr++):(n=a,0===Fr&&Sr(I));return Fr--,n=a,0===Fr&&Sr(V),t}function Tr(){var t;return C.test(r.charAt(qr))?(t=r.charAt(qr),qr++):(t=a,0===Fr&&Sr(O)),t}function Yr(){var t;return(t=function(){var t,n,e,o,i;return t=qr,$r(),(n=Br())!==a?(e=qr,62===r.charCodeAt(qr)?(o=h,qr++):(o=a,0===Fr&&Sr(Y)),o===a&&(60===r.charCodeAt(qr)?(o=A,qr++):(o=a,0===Fr&&Sr(B))),o!==a?(61===r.charCodeAt(qr)?(i=p,qr++):(i=a,0===Fr&&Sr(D)),i===a&&(i=null),e=o=[o,i]):(qr=e,e=a),e===a&&(e=qr,61===r.charCodeAt(qr)?(o=p,qr++):(o=a,0===Fr&&Sr(D)),o!==a?(61===r.charCodeAt(qr)?(i=p,qr++):(i=a,0===Fr&&Sr(D)),i!==a?e=o=[o,i]:(qr=e,e=a)):(qr=e,e=a)),e!==a&&(o=Br())!==a?(i=$r(),Nr=t,t=mr(n,e,o)):(qr=t,t=a)):(qr=t,t=a),t}())===a&&(t=Br())===a&&(t=function(){var t,n,e,o;return t=qr,$r(),40===r.charCodeAt(qr)?(n=x,qr++):(n=a,0===Fr&&Sr(L)),n!==a?($r(),(e=Yr())!==a?($r(),41===r.charCodeAt(qr)?(o=w,qr++):(o=a,0===Fr&&Sr(Q)),o!==a?($r(),Nr=t,t=xr(e)):(qr=t,t=a)):(qr=t,t=a)):(qr=t,t=a),t}()),t}function Br(){var t;return(t=function(){var t,n,e,o,i,u;if(t=qr,$r(),(n=Dr())!==a){if(e=[],o=qr,43===r.charCodeAt(qr)?(i=y,qr++):(i=a,0===Fr&&Sr(G)),i===a&&(45===r.charCodeAt(qr)?(i=m,qr++):(i=a,0===Fr&&Sr(H))),i!==a&&(u=Dr())!==a?o=i=[i,u]:(qr=o,o=a),o!==a)for(;o!==a;)e.push(o),o=qr,43===r.charCodeAt(qr)?(i=y,qr++):(i=a,0===Fr&&Sr(G)),i===a&&(45===r.charCodeAt(qr)?(i=m,qr++):(i=a,0===Fr&&Sr(H))),i!==a&&(u=Dr())!==a?o=i=[i,u]:(qr=o,o=a);else e=a;e!==a?(o=$r(),Nr=t,t=gr(n,e)):(qr=t,t=a)}else qr=t,t=a;return t}())===a&&(t=Dr())===a&&(t=Gr()),t}function Dr(){var t,n,e,o,i,u;if(t=qr,$r(),(n=Gr())!==a){for(e=[],o=qr,42===r.charCodeAt(qr)?(i=g,qr++):(i=a,0===Fr&&Sr(J)),i===a&&(47===r.charCodeAt(qr)?(i=d,qr++):(i=a,0===Fr&&Sr(K))),i!==a&&(u=Gr())!==a?o=i=[i,u]:(qr=o,o=a);o!==a;)e.push(o),o=qr,42===r.charCodeAt(qr)?(i=g,qr++):(i=a,0===Fr&&Sr(J)),i===a&&(47===r.charCodeAt(qr)?(i=d,qr++):(i=a,0===Fr&&Sr(K))),i!==a&&(u=Gr())!==a?o=i=[i,u]:(qr=o,o=a);o=$r(),Nr=t,t=dr(n,e)}else qr=t,t=a;return t}function Gr(){var t;return(t=function(){var t,n,e,o;return t=qr,$r(),40===r.charCodeAt(qr)?(n=x,qr++):(n=a,0===Fr&&Sr(L)),n!==a?($r(),(e=Br())!==a?($r(),41===r.charCodeAt(qr)?(o=w,qr++):(o=a,0===Fr&&Sr(Q)),o!==a?($r(),Nr=t,t=xr(e)):(qr=t,t=a)):(qr=t,t=a)):(qr=t,t=a),t}())===a&&(t=function(){var t,n,e,o,i;if(Fr++,t=qr,$r(),n=[],k.test(r.charAt(qr))?(e=r.charAt(qr),qr++):(e=a,0===Fr&&Sr(nr)),e!==a)for(;e!==a;)n.push(e),k.test(r.charAt(qr))?(e=r.charAt(qr),qr++):(e=a,0===Fr&&Sr(nr));else n=a;return n!==a?(40===r.charCodeAt(qr)?(e=x,qr++):(e=a,0===Fr&&Sr(L)),e!==a?($r(),o=function(){var t,n,e,o,i,u,s;if(Fr++,t=qr,(n=Hr())!==a){for(e=[],o=qr,i=$r(),44===r.charCodeAt(qr)?(u=v,qr++):(u=a,0===Fr&&Sr(X)),u!==a?($r(),(s=Hr())!==a?(Nr=o,o=wr(n,s)):(qr=o,o=a)):(qr=o,o=a);o!==a;)e.push(o),o=qr,i=$r(),44===r.charCodeAt(qr)?(u=v,qr++):(u=a,0===Fr&&Sr(X)),u!==a?($r(),(s=Hr())!==a?(Nr=o,o=wr(n,s)):(qr=o,o=a)):(qr=o,o=a);o=$r(),44===r.charCodeAt(qr)?(i=v,qr++):(i=a,0===Fr&&Sr(X)),i===a&&(i=null),Nr=t,t=vr(n,e)}else qr=t,t=a;return Fr--,t===a&&(n=a,0===Fr&&Sr(W)),t}(),o===a&&(o=null),$r(),41===r.charCodeAt(qr)?(i=w,qr++):(i=a,0===Fr&&Sr(Q)),i!==a?($r(),Nr=t,t=Er(n,o)):(qr=t,t=a)):(qr=t,t=a)):(qr=t,t=a),Fr--,t===a&&0===Fr&&Sr(tr),t}())===a&&(t=function(){var t,n;return Fr++,t=qr,$r(),(n=Jr())===a&&(n=function(){var t,n,e,o,i;if(t=qr,$r(),34===r.charCodeAt(qr)?(n=s,qr++):(n=a,0===Fr&&Sr(Z)),n!==a){for(e=[],o=qr,r.substr(qr,2)===c?(i=c,qr+=2):(i=a,0===Fr&&Sr(R)),i!==a&&(Nr=o,i=lr()),(o=i)===a&&(q.test(r.charAt(qr))?(o=r.charAt(qr),qr++):(o=a,0===Fr&&Sr(S)));o!==a;)e.push(o),o=qr,r.substr(qr,2)===c?(i=c,qr+=2):(i=a,0===Fr&&Sr(R)),i!==a&&(Nr=o,i=lr()),(o=i)===a&&(q.test(r.charAt(qr))?(o=r.charAt(qr),qr++):(o=a,0===Fr&&Sr(S)));34===r.charCodeAt(qr)?(o=s,qr++):(o=a,0===Fr&&Sr(Z)),o!==a?(i=$r(),Nr=t,t=hr(e)):(qr=t,t=a)}else qr=t,t=a;if(t===a){if(t=qr,$r(),39===r.charCodeAt(qr)?(n=f,qr++):(n=a,0===Fr&&Sr(U)),n!==a){for(e=[],o=qr,r.substr(qr,2)===l?(i=l,qr+=2):(i=a,0===Fr&&Sr($)),i!==a&&(Nr=o,i=Ar()),(o=i)===a&&(N.test(r.charAt(qr))?(o=r.charAt(qr),qr++):(o=a,0===Fr&&Sr(T)));o!==a;)e.push(o),o=qr,r.substr(qr,2)===l?(i=l,qr+=2):(i=a,0===Fr&&Sr($)),i!==a&&(Nr=o,i=Ar()),(o=i)===a&&(N.test(r.charAt(qr))?(o=r.charAt(qr),qr++):(o=a,0===Fr&&Sr(T)));39===r.charCodeAt(qr)?(o=f,qr++):(o=a,0===Fr&&Sr(U)),o!==a?(i=$r(),Nr=t,t=pr(e)):(qr=t,t=a)}else qr=t,t=a;if(t===a){if(t=qr,$r(),n=[],(e=Tr())!==a)for(;e!==a;)n.push(e),e=Tr();else n=a;n!==a?(e=$r(),Nr=t,t=yr(n)):(qr=t,t=a)}}return t}()),n!==a?($r(),Nr=t,t=fr(n)):(qr=t,t=a),Fr--,t===a&&0===Fr&&Sr(P),t}()),t}function Hr(){var t,n,e,o,i;if(t=qr,n=[],j.test(r.charAt(qr))?(e=r.charAt(qr),qr++):(e=a,0===Fr&&Sr(rr)),e!==a)for(;e!==a;)n.push(e),j.test(r.charAt(qr))?(e=r.charAt(qr),qr++):(e=a,0===Fr&&Sr(rr));else n=a;return n!==a?(e=$r(),61===r.charCodeAt(qr)?(o=p,qr++):(o=a,0===Fr&&Sr(D)),o!==a?($r(),(i=Jr())===a&&(i=function(){var t,n,e,o,i;if(t=qr,34===r.charCodeAt(qr)?(n=s,qr++):(n=a,0===Fr&&Sr(Z)),n!==a){for(e=[],o=qr,r.substr(qr,2)===c?(i=c,qr+=2):(i=a,0===Fr&&Sr(R)),i!==a&&(Nr=o,i=lr()),(o=i)===a&&(q.test(r.charAt(qr))?(o=r.charAt(qr),qr++):(o=a,0===Fr&&Sr(S)));o!==a;)e.push(o),o=qr,r.substr(qr,2)===c?(i=c,qr+=2):(i=a,0===Fr&&Sr(R)),i!==a&&(Nr=o,i=lr()),(o=i)===a&&(q.test(r.charAt(qr))?(o=r.charAt(qr),qr++):(o=a,0===Fr&&Sr(S)));34===r.charCodeAt(qr)?(o=s,qr++):(o=a,0===Fr&&Sr(Z)),o!==a?(Nr=t,t=br(e)):(qr=t,t=a)}else qr=t,t=a;if(t===a){if(t=qr,39===r.charCodeAt(qr)?(n=f,qr++):(n=a,0===Fr&&Sr(U)),n!==a){for(e=[],o=qr,r.substr(qr,2)===l?(i=l,qr+=2):(i=a,0===Fr&&Sr($)),i!==a&&(Nr=o,i=Ar()),(o=i)===a&&(N.test(r.charAt(qr))?(o=r.charAt(qr),qr++):(o=a,0===Fr&&Sr(T)));o!==a;)e.push(o),o=qr,r.substr(qr,2)===l?(i=l,qr+=2):(i=a,0===Fr&&Sr($)),i!==a&&(Nr=o,i=Ar()),(o=i)===a&&(N.test(r.charAt(qr))?(o=r.charAt(qr),qr++):(o=a,0===Fr&&Sr(T)));39===r.charCodeAt(qr)?(o=f,qr++):(o=a,0===Fr&&Sr(U)),o!==a?(Nr=t,t=br(e)):(qr=t,t=a)}else qr=t,t=a;if(t===a){if(t=qr,n=[],(e=Tr())!==a)for(;e!==a;)n.push(e),e=Tr();else n=a;n!==a&&(Nr=t,n=br(n)),t=n}}return t}()),i!==a?($r(),Nr=t,t=Mr(n,i)):(qr=t,t=a)):(qr=t,t=a)):(qr=t,t=a),t===a&&(t=Yr()),t}function Jr(){var t,n,e,o,i;return Fr++,t=qr,45===r.charCodeAt(qr)?(n=m,qr++):(n=a,0===Fr&&Sr(H)),n===a&&(n=null),e=function(){var t,n,e,o;if(48===r.charCodeAt(qr)?(t=M,qr++):(t=a,0===Fr&&Sr(ur)),t===a)if(t=qr,F.test(r.charAt(qr))?(n=r.charAt(qr),qr++):(n=a,0===Fr&&Sr(sr)),n!==a){for(e=[],o=Kr();o!==a;)e.push(o),o=Kr();t=n=[n,e]}else qr=t,t=a;return t}(),e!==a?(o=function(){var t,n,e,o;if(t=qr,46===r.charCodeAt(qr)?(n=b,qr++):(n=a,0===Fr&&Sr(ir)),n!==a){if(e=[],(o=Kr())!==a)for(;o!==a;)e.push(o),o=Kr();else e=a;e!==a?t=n=[n,e]:(qr=t,t=a)}else qr=t,t=a;return t}(),o===a&&(o=null),i=function(){var t,n,e,o,i;if(Fr++,t=qr,n=function(){var t;return z.test(r.charAt(qr))?(t=r.charAt(qr),qr++):(t=a,0===Fr&&Sr(ar)),t}(),n!==a){if(45===r.charCodeAt(qr)?(e=m,qr++):(e=a,0===Fr&&Sr(H)),e===a&&(e=null),o=[],(i=Kr())!==a)for(;i!==a;)o.push(i),i=Kr();else o=a;o!==a?t=n=[n,e,o]:(qr=t,t=a)}else qr=t,t=a;return Fr--,t===a&&(n=a,0===Fr&&Sr(or)),t}(),i===a&&(i=null),Nr=t,t=Cr()):(qr=t,t=a),Fr--,t===a&&(n=a,0===Fr&&Sr(er)),t}function Kr(){var t;return _.test(r.charAt(qr))?(t=r.charAt(qr),qr++):(t=a,0===Fr&&Sr(cr)),t}function Lr(r){return{min:r.start.offset,max:r.end.offset}}const Qr={"+":"add","-":"subtract","*":"multiply","/":"divide","<":"lt",">":"gt","==":"eq","<=":"lte",">=":"gte"};function Wr(r,t){const n=t.reduce(((r,[t,n])=>({type:"function",name:Qr[t],args:[r,n]})),r);return"object"==typeof n&&(n.location=Lr(Vr()),n.text=_r()),n}function Xr([r,t]){return Qr[r+(t||"")]}if((n=u())!==a&&qr===r.length)return n;throw n!==a&&qr<r.length&&Sr({type:"end"}),function(r,t,n){return new e(e.buildMessage(r,t),r,t,n)}(zr,kr<r.length?r.charAt(kr):null,kr<r.length?Rr(kr,kr+1):Rr(kr,kr))}n.r(t),n.d(t,"SyntaxError",(function(){return e})),n.d(t,"parse",(function(){return o})),function(r,t){function n(){this.constructor=r}n.prototype=t.prototype,r.prototype=new n}(e,Error),e.prototype.format=function(r){var t="Error: "+this.message;if(this.location){var n,e=null;for(n=0;n<r.length;n++)if(r[n].source===this.location.source){e=r[n].text.split(/\r\n|\n|\r/g);break}var o=this.location.start,i=this.location.source+":"+o.line+":"+o.column;if(e){var u=this.location.end,s=a("",o.line.toString().length),c=e[o.line-1],f=o.line===u.line?u.column:c.length+1;t+="\n --\x3e "+i+"\n"+s+" |\n"+o.line+" | "+c+"\n"+s+" | "+a("",o.column-1)+a("",f-o.column,"^")}else t+="\n at "+i}return t},e.buildMessage=function(r,t){var n={literal:function(r){return'"'+a(r.text)+'"'},class:function(r){var t=r.parts.map((function(r){return Array.isArray(r)?o(r[0])+"-"+o(r[1]):o(r)}));return"["+(r.inverted?"^":"")+t+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(r){return r.description}};function e(r){return r.charCodeAt(0).toString(16).toUpperCase()}function a(r){return r.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(r){return"\\x0"+e(r)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(r){return"\\x"+e(r)}))}function o(r){return r.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(r){return"\\x0"+e(r)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(r){return"\\x"+e(r)}))}function i(r){return n[r.type](r)}return"Expected "+function(r){var t,n,e=r.map(i);if(e.sort(),e.length>0){for(t=1,n=1;t<e.length;t++)e[t-1]!==e[t]&&(e[n]=e[t],n++);e.length=n}switch(e.length){case 1:return e[0];case 2:return e[0]+" or "+e[1];default:return e.slice(0,-1).join(", ")+", or "+e[e.length-1]}}(r)+" but "+function(r){return r?'"'+a(r)+'"':"end of input"}(t)+" found."}}}]);