!function(e){function t(t){for(var n,i,a=t[0],o=t[1],s=0,u=[];s<a.length;s++)i=a[s],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&u.push(r[i][0]),r[i]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);for(c&&c(t);u.length;)u.shift()()}var n={},r={2:0};function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,i){n=r[e]=[t,i]}));t.push(n[2]=a);var o,s=document.createElement("script");s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=function(e){return i.p+"visTypeVega.chunk."+e+".js"}(e);var c=new Error;o=function(t){s.onerror=s.onload=null,clearTimeout(u);var n=r[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+i+": "+a+")",c.name="ChunkLoadError",c.type=i,c.request=a,n[1](c)}r[e]=void 0}};var u=setTimeout((function(){o({type:"timeout",target:s})}),12e4);s.onerror=s.onload=o,document.head.appendChild(s)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var a=window.visTypeVega_bundle_jsonpfunction=window.visTypeVega_bundle_jsonpfunction||[],o=a.push.bind(a);a.push=t,a=a.slice();for(var s=0;s<a.length;s++)t(a[s]);var c=o;i(i.s=30)}([function(e,t){e.exports=__kbnSharedDeps__.EmotionReact},function(e,t){e.exports=__kbnSharedDeps__.React},function(e,t){e.exports=__kbnSharedDeps__.Rxjs},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"i",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"j",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"n",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"m",(function(){return f})),n.d(t,"l",(function(){return d})),n.d(t,"d",(function(){return g})),n.d(t,"c",(function(){return h})),n.d(t,"k",(function(){return b})),n.d(t,"h",(function(){return m})),n.d(t,"p",(function(){return v})),n.d(t,"g",(function(){return y})),n.d(t,"o",(function(){return _}));var r=n(6);const[i,a]=Object(r.createGetterSetter)("Data"),[o,s]=Object(r.createGetterSetter)("DataViews"),[c,u]=Object(r.createGetterSetter)("Notifications"),[l,f]=Object(r.createGetterSetter)("mapsEms"),[p,d]=Object(r.createGetterSetter)("InjectedVars"),g=()=>p().enableExternalUrls,[h,b]=Object(r.createGetterSetter)("docLinks"),[m,v]=Object(r.createGetterSetter)("UsageCollection"),[y,_]=Object(r.createGetterSetter)("ThemeServiceStart")},function(e,t){e.exports=__kbnSharedDeps__.ElasticEui},function(e,t){e.exports=__kbnSharedDeps__.KbnI18n},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.Lodash},function(e,t,n){e.exports=n(18)(2)},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/visualizations/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){"use strict";
/*!
 * Hjson v3.2.1
 * http://hjson.org
 *
 * Copyright 2014-2017 Christian Zangl, MIT license
 * Details and documentation:
 * https://github.com/hjson/hjson-js
 *
 * This code is based on the the JSON version by Douglas Crockford:
 * https://github.com/douglascrockford/JSON-js (json_parse.js, json2.js)
 */var r=n(11),i=n(33),a=n(34),o=n(35),s=n(36),c=n(14);e.exports={parse:a,stringify:o,endOfLine:function(){return r.EOL},setEndOfLine:function(e){"\n"!==e&&"\r\n"!==e||(r.EOL=e)},version:i,rt:{parse:function(e,t){return(t=t||{}).keepWsc=!0,a(e,t)},stringify:function(e,t){return(t=t||{}).keepWsc=!0,o(e,t)}},comments:s,dsf:c.std}},function(e,t,n){"use strict";var r=n(32);e.exports={EOL:r.EOL||"\n",tryParseNumber:function(e,t){var n,r,i="",a=0,o=!0,s=0;function c(){return r=e.charAt(s),s++,r}for(c(),"-"===r&&(i="-",c());r>="0"&&r<="9";)o&&("0"==r?a++:o=!1),i+=r,c();if(o&&a--,"."===r)for(i+=".";c()&&r>="0"&&r<="9";)i+=r;if("e"===r||"E"===r)for(i+=r,c(),"-"!==r&&"+"!==r||(i+=r,c());r>="0"&&r<="9";)i+=r,c();for(;r&&r<=" ";)c();return t&&(","!==r&&"}"!==r&&"]"!==r&&"#"!==r&&("/"!==r||"/"!==e[s]&&"*"!==e[s])||(r=0)),n=+i,r||a||!isFinite(n)?void 0:n},createComment:function(e,t){return Object.defineProperty&&Object.defineProperty(e,"__COMMENTS__",{enumerable:!1,writable:!0}),e.__COMMENTS__=t||{}},removeComment:function(e){Object.defineProperty(e,"__COMMENTS__",{value:void 0})},getComment:function(e){return e.__COMMENTS__},forceComment:function(e){if(!e)return"";var t,n,r,i,a=e.split("\n");for(r=0;r<a.length;r++)for(i=(t=a[r]).length,n=0;n<i;n++){var o=t[n];if("#"===o)break;if("/"===o&&("/"===t[n+1]||"*"===t[n+1])){"*"===t[n+1]&&(r=a.length);break}if(o>" "){a[r]="# "+t;break}}return a.join("\n")}}},function(e,t){e.exports=__kbnSharedDeps__.KbnI18nReact},function(e,t){e.exports=__kbnSharedDeps__.EmotionCache},function(e,t,n){"use strict";function r(e,t){if(e)for(var n=0;n<e.length;n++){var r=e[n](t);if(void 0!==r)return r}}function i(){}function a(){return{name:"math",parse:function(e){switch(e){case"+inf":case"inf":case"+Inf":case"Inf":return 1/0;case"-inf":case"-Inf":return-1/0;case"nan":case"NaN":return NaN}},stringify:function(e){if("number"==typeof e)return 1/e==-1/0?"-0":e===1/0?"Inf":e===-1/0?"-Inf":isNaN(e)?"NaN":void 0}}}function o(e){var t=e&&e.out;return{name:"hex",parse:function(e){if(/^0x[0-9A-Fa-f]+$/.test(e))return parseInt(e,16)},stringify:function(e){if(t&&Number.isInteger(e))return"0x"+e.toString(16)}}}function s(){return{name:"date",parse:function(e){if(/^\d{4}-\d{2}-\d{2}$/.test(e)||/^\d{4}-\d{2}-\d{2}T\d{2}\:\d{2}\:\d{2}(?:.\d+)(?:Z|[+-]\d{2}:\d{2})$/.test(e)){var t=Date.parse(e);if(!isNaN(t))return new Date(t)}},stringify:function(e){if("[object Date]"===Object.prototype.toString.call(e)){var t=e.toISOString();return-1!==t.indexOf("T00:00:00.000Z",t.length-14)?t.substr(0,10):t}}}}a.description="support for Inf/inf, -Inf/-inf, Nan/naN and -0",o.description="parse hexadecimal numbers prefixed with 0x",s.description="support ISO dates",e.exports={loadDsf:function(e,t){if("[object Array]"!==Object.prototype.toString.apply(e)){if(e)throw new Error("dsf option must contain an array!");return i}if(0===e.length)return i;var n=[];function a(e){return"[object Function]"==={}.toString.call(e)}return e.forEach((function(e){if(!e.name||!a(e.parse)||!a(e.stringify))throw new Error("extension does not match the DSF interface");n.push((function(){try{if("parse"==t)return e.parse.apply(null,arguments);if("stringify"==t){var n=e.stringify.apply(null,arguments);if(void 0!==n&&("string"!=typeof n||0===n.length||'"'===n[0]||[].some.call(n,(function(e){return function(e){return"{"===e||"}"===e||"["===e||"]"===e||","===e}(e)}))))throw new Error("value may not be empty, start with a quote or contain a punctuator character except colon: "+n);return n}throw new Error("Invalid type")}catch(t){throw new Error("DSF-"+e.name+" failed; "+t.message)}}))})),r.bind(null,n)},std:{math:a,hex:o,date:s}}},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/expressions/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.ReactDom},function(e,t){e.exports=__kbnSharedDeps__.KbnSharedUxErrorBoundary},function(e,t){e.exports=__kbnSharedDeps_npm__},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/data/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setEuiDevProviderWarning=t.getEuiDevProviderWarning=t.emitEuiProviderWarning=void 0;var r=void 0;t.setEuiDevProviderWarning=function(e){return r=e},t.getEuiDevProviderWarning=function(){return r},t.emitEuiProviderWarning=function(e){if("function"==typeof r)return r(e);switch(r){case"log":console.log(e);break;case"warn":console.warn(e);break;case"error":throw new Error(e)}}},function(e,t,n){e.exports=n(18)(4)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(7),i=n(3);const a=async e=>{const t=Object(i.b)();let n=[];return Array.isArray(e.data)?n=e.data:e.data&&(n=[e.data]),Object(r.flatten)(await Promise.all(n.reduce(((e,n)=>{var r;return null!==(r=n.url)&&void 0!==r&&r.index&&e.push(t.find(n.url.index,1)),e}),[])))}},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/visDefaultEditor/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/inspector/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.KbnAnalytics},function(e,t){e.exports=__kbnSharedDeps__.ElasticEuiLibComponentsUseIsNestedEuiProvider},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(29),i=n(1),a=r.__importDefault(n(37));t.default=function(e,t){var n=i.useState(t),r=n[0],o=n[1];return a.default((function(){var t=e.subscribe(o);return function(){return t.unsubscribe()}}),[e]),r}},function(e,t){e.exports=__kbnSharedDeps__.TsLib},function(e,t,n){n(31),__kbnBundles__.define("plugin/visTypeVega/public",n,38)},function(e,t,n){n.p=window.__kbnPublicPath__.visTypeVega},function(e,t){t.endianness=function(){return"LE"},t.hostname=function(){return"undefined"!=typeof location?location.hostname:""},t.loadavg=function(){return[]},t.uptime=function(){return 0},t.freemem=function(){return Number.MAX_VALUE},t.totalmem=function(){return Number.MAX_VALUE},t.cpus=function(){return[]},t.type=function(){return"Browser"},t.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},t.networkInterfaces=t.getNetworkInterfaces=function(){return{}},t.arch=function(){return"javascript"},t.platform=function(){return"browser"},t.tmpdir=t.tmpDir=function(){return"/tmp"},t.EOL="\n",t.homedir=function(){return"/"}},function(e,t){e.exports="3.2.1"},function(e,t,n){"use strict";e.exports=function(e,t){var r,i,a,o,s,c=n(11),u=n(14),l={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function f(){i=0,a=" "}function p(e){return"{"===e||"}"===e||"["===e||"]"===e||","===e||":"===e}function d(e){var t,n=0,a=1;for(t=i-1;t>0&&"\n"!==r[t];t--,n++);for(;t>0;t--)"\n"===r[t]&&a++;throw new Error(e+" at line "+a+","+n+" >>>"+r.substr(i-n,20)+" ...")}function g(){return a=r.charAt(i),i++,a}function h(e){return r.charAt(i+e)}function b(e){for(var t="",n=a;g();){if(a===n)return g(),e&&"'"===n&&"'"===a&&0===t.length?(g(),m()):t;if("\\"===a)if(g(),"u"===a){for(var r=0,i=0;i<4;i++){g();var o,s=a.charCodeAt(0);a>="0"&&a<="9"?o=s-48:a>="a"&&a<="f"?o=s-97+10:a>="A"&&a<="F"?o=s-65+10:d("Bad \\u char "+a),r=16*r+o}t+=String.fromCharCode(r)}else{if("string"!=typeof l[a])break;t+=l[a]}else"\n"===a||"\r"===a?d("Bad string containing newline"):t+=a}d("Bad string")}function m(){for(var e="",t=0,n=0;;){var r=h(-n-5);if(!r||"\n"===r)break;n++}function i(){for(var e=n;a&&a<=" "&&"\n"!==a&&e-- >0;)g()}for(;a&&a<=" "&&"\n"!==a;)g();for("\n"===a&&(g(),i());;){if(a){if("'"===a){if(t++,g(),3===t)return"\n"===e.slice(-1)&&(e=e.slice(0,-1)),e;continue}for(;t>0;)e+="'",t--}else d("Bad multiline string");"\n"===a?(e+="\n",g(),i()):("\r"!==a&&(e+=a),g())}}function v(){if('"'===a||"'"===a)return b(!1);for(var e="",t=i,n=-1;;){if(":"===a)return e?n>=0&&n!==e.length&&(i=t+n,d("Found whitespace in your key name (use quotes to include)")):d("Found ':' but no key name (for an empty key name use quotes)"),e;a<=" "?a?n<0&&(n=e.length):d("Found EOF while looking for a key name (check your syntax)"):p(a)?d("Found '"+a+"' where a key name was expected (check your syntax or use quotes if the key name includes {}[],: or whitespace)"):e+=a,g()}}function y(){for(;a;){for(;a&&a<=" ";)g();if("#"===a||"/"===a&&"/"===h(0))for(;a&&"\n"!==a;)g();else{if("/"!==a||"*"!==h(0))break;for(g(),g();a&&("*"!==a||"/"!==h(0));)g();a&&(g(),g())}}}function _(e,t){var n;for(e--,n=i-2;n>e&&r[n]<=" "&&"\n"!==r[n];n--);"\n"===r[n]&&n--,"\r"===r[n]&&n--;var a=r.substr(e,n-e+1);for(n=0;n<a.length;n++)if(a[n]>" "){var o=a.indexOf("\n");if(o>=0){var s=[a.substr(0,o),a.substr(o+1)];return t&&0===s[0].trim().length&&s.shift(),s}return[a]}return[]}function j(e){function t(e,n){var r,i,a,o;switch(typeof e){case"string":e.indexOf(n)>=0&&(o=e);break;case"object":if("[object Array]"===Object.prototype.toString.apply(e))for(r=0,a=e.length;r<a;r++)o=t(e[r],n)||o;else for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(o=t(e[i],n)||o)}return o}function n(n){var r=t(e,n);return r?"found '"+n+"' in a string value, your mistake could be with:\n  > "+r+"\n  (unquoted strings contain everything up to the next line!)":""}return n("}")||n("]")}function O(){var e,t,n,r=[];try{if(o&&(e=c.createComment(r,{a:[]})),g(),t=i,y(),e&&(n=_(t,!0).join("\n")),"]"===a)return g(),e&&(e.e=[n]),r;for(;a;){if(r.push(w()),t=i,y(),","===a&&(g(),t=i,y()),e){var s=_(t);e.a.push([n||"",s[0]||""]),n=s[1]}if("]"===a)return g(),e&&(e.a[e.a.length-1][1]+=n||""),r;y()}d("End of input while parsing an array (missing ']')")}catch(e){throw e.hint=e.hint||j(r),e}}function x(e){var t,n,r,s="",u={};try{if(o&&(t=c.createComment(u,{c:{},o:[]})),e?n=1:(g(),n=i),y(),t&&(r=_(n,!0).join("\n")),"}"===a&&!e)return t&&(t.e=[r]),g(),u;for(;a;){if(s=v(),y(),":"!==a&&d("Expected ':' instead of '"+a+"'"),g(),u[s]=w(),n=i,y(),","===a&&(g(),n=i,y()),t){var l=_(n);t.c[s]=[r||"",l[0]||""],r=l[1],t.o.push(s)}if("}"===a&&!e)return g(),t&&(t.c[s][1]+=r||""),u;y()}if(e)return u;d("End of input while parsing an object (missing '}')")}catch(e){throw e.hint=e.hint||j(u),e}}function w(){switch(y(),a){case"{":return x();case"[":return O();case"'":case'"':return b(!0);default:return function(){var e=a;for(p(a)&&d("Found a punctuator character '"+a+"' when expecting a quoteless string (check your syntax)");;){g();var t="\r"===a||"\n"===a||""===a;if(t||","===a||"}"===a||"]"===a||"#"===a||"/"===a&&("/"===h(0)||"*"===h(0))){var n=e[0];switch(n){case"f":if("false"===e.trim())return!1;break;case"n":if("null"===e.trim())return null;break;case"t":if("true"===e.trim())return!0;break;default:if("-"===n||n>="0"&&n<="9"){var r=c.tryParseNumber(e);if(void 0!==r)return r}}if(t){e=e.trim();var i=s(e);return void 0!==i?i:e}}e+=a}}()}}function k(e,t){var n=i;if(y(),a&&d("Syntax error, found trailing characters"),o){var r=t.join("\n"),s=_(n).join("\n");(s||r)&&(c.createComment(e,c.getComment(e)).r=[r,s])}return e}if("string"!=typeof e)throw new Error("source is not a string");var S=null,E=!0;return t&&"object"==typeof t&&(o=t.keepWsc,S=t.dsf,E=!1!==t.legacyRoot),s=u.loadDsf(S,"parse"),r=e,f(),E?function(){y();var e=o?_(1):null;switch(a){case"{":return k(x(),e);case"[":return k(O(),e)}try{return k(x(!0),e)}catch(t){f();try{return k(w(),e)}catch(e){throw t}}}():function(){y();var e=o?_(1):null;switch(a){case"{":return k(x(),e);case"[":return k(O(),e);default:return k(w(),e)}}()}},function(e,t,n){"use strict";e.exports=function(e,t){var r,i=n(11),a=n(14),o={obj:["{","}"],arr:["[","]"],key:["",""],qkey:['"','"'],col:[":",""],com:[",",""],str:["",""],qstr:['"','"'],mstr:["'''","'''"],num:["",""],lit:["",""],dsf:["",""],esc:["\\",""],uni:["\\u",""],rem:["",""]},s=i.EOL,c="  ",u=!1,l=!1,f=!1,p=!1,d=0,g=1,h="",b=null,m=!1,v=o;if(t&&"object"==typeof t){t.quotes="always"===t.quotes?"strings":t.quotes,"\n"!==t.eol&&"\r\n"!==t.eol||(s=t.eol),u=t.keepWsc,d=t.condense||0,l=t.bracesSameLine,f="all"===t.quotes||"keys"===t.quotes,p="all"===t.quotes||"strings"===t.quotes||!0===t.separator,g=p||"off"==t.multiline?0:"no-tabs"==t.multiline?2:1,h=!0===t.separator?v.com[0]:"",b=t.dsf,m=t.sortProps,"number"==typeof t.space?c=new Array(t.space+1).join(" "):"string"==typeof t.space&&(c=t.space),!0===t.colors&&(v={obj:["[37m{[0m","[37m}[0m"],arr:["[37m[[0m","[37m][0m"],key:["[33m","[0m"],qkey:['[33m"','"[0m'],col:["[37m:[0m",""],com:["[37m,[0m",""],str:["[37;1m","[0m"],qstr:['[37;1m"','"[0m'],mstr:["[37;1m'''","'''[0m"],num:["[36;1m","[0m"],lit:["[36m","[0m"],dsf:["[37m","[0m"],esc:["[31m\\","[0m"],uni:["[31m\\u","[0m"],rem:["[35m","[0m"]});var y,_=Object.keys(o);for(y=_.length-1;y>=0;y--){var j=_[y];v[j].push(o[j][0].length,o[j][1].length)}}var O="-­؀-؄܏឴឵‌-‏\u2028- ⁠-⁯\ufeff￰-￿",x=new RegExp('[\\\\\\"\0-'+O+"]","g"),w=new RegExp("^\\s|^\"|^'|^#|^\\/\\*|^\\/\\/|^\\{|^\\}|^\\[|^\\]|^:|^,|\\s$|[\0-"+O+"]","g"),k=new RegExp("'''|^[\\s]+$|[\0-"+(2===g?"\t":"\b")+"\v\f-"+O+"]","g"),S=new RegExp("^(true|false|null)\\s*((,|\\]|\\}|#|//|/\\*).*)?$"),E={"\b":"b","\t":"t","\n":"n","\f":"f","\r":"r",'"':'"',"\\":"\\"},D=/[,\{\[\}\]\s:#"']|\/\/|\/\*/,P="",C=0;function T(e,t){return C+=e[0].length+e[1].length-e[2]-e[3],e[0]+t+e[1]}function V(e){return e.replace(x,(function(e){var t=E[e];return"string"==typeof t?T(v.esc,t):T(v.uni,("0000"+e.charCodeAt(0).toString(16)).slice(-4))}))}function M(e){return e?f||D.test(e)?(x.lastIndex=0,T(v.qkey,x.test(e)?V(e):e)):T(v.key,e):'""'}r=a.loadDsf(b,"stringify");var A="",I=u?I=(i.getComment(e)||{}).r:null;return I&&I[0]&&(A=I[0]+"\n"),A+=function e(t,n,a,o){function f(e){return e&&"\n"===e["\r"===e[0]?1:0]}function b(e){return e&&!f(e)}function y(e,t,n){if(!e)return"";var r,a=(e=i.forceComment(e)).length;for(r=0;r<a&&e[r]<=" ";r++);return n&&r>0&&(e=e.substr(r)),r<a?t+T(v.rem,e):e}var _=r(t);if(void 0!==_)return T(v.dsf,_);switch(typeof t){case"string":return function(e,t,n,r){return e?(w.lastIndex=0,S.lastIndex=0,p||n||w.test(e)||void 0!==i.tryParseNumber(e,!0)||S.test(e)?(x.lastIndex=0,k.lastIndex=0,x.test(e)?k.test(e)||r||!g?T(v.qstr,V(e)):function(e,t){var n,r=e.replace(/\r/g,"").split("\n");if(t+=c,1===r.length)return T(v.mstr,r[0]);var i=s+t+v.mstr[0];for(n=0;n<r.length;n++)i+=s,r[n]&&(i+=t+r[n]);return i+s+t+v.mstr[1]}(e,t):T(v.qstr,e)):T(v.str,e)):T(v.qstr,"")}(t,P,n,o);case"number":return isFinite(t)?T(v.num,String(t)):T(v.lit,"null");case"boolean":return T(v.lit,String(t));case"object":if(!t)return T(v.lit,"null");var j;u&&(j=i.getComment(t));var O,E,D,A,I,q,N,L,R,B,U="[object Array]"===Object.prototype.toString.apply(t),z=P,F=s+z,K=s+(P+=c),W=a||l?"":F,$=[],G=d?[]:null,H=p,X=g,Y=h?"":v.com[0],Z=0;if(U){for(E=0,D=t.length;E<D;E++){if(O=E<D-1,j?(L=b((N=j.a[E]||[])[1]),$.push(y(N[0],"\n")+K),G&&(N[0]||N[1]||L)&&(G=null)):$.push(K),C=0,I=t[E],$.push(e(I,!!j&&L,!0)+(O?h:"")),G){switch(typeof I){case"string":C=0,p=!0,g=0,G.push(e(I,!1,!0)+(O?v.com[0]:"")),p=H,g=X;break;case"object":if(I){G=null;break}default:G.push($[$.length-1]+(O?Y:""))}O&&(C+=v.com[0].length-v.com[2]),Z+=C}j&&N[1]&&$.push(y(N[1],L?" ":"\n",L))}0===D?j&&j.e&&$.push(y(j.e[0],"\n")+F):$.push(F),0===$.length?R=T(v.arr,""):(R=W+T(v.arr,$.join("")),G&&(B=G.join(" ")).length-Z<=d&&(R=T(v.arr,B)))}else{var J=j?j.o.slice():[],Q=[];for(A in t)Object.prototype.hasOwnProperty.call(t,A)&&J.indexOf(A)<0&&Q.push(A);m&&Q.sort();var ee=J.concat(Q);for(E=0,D=ee.length;E<D;E++)if(O=E<D-1,A=ee[E],j?(L=b((N=j.c[A]||[])[1]),$.push(y(N[0],"\n")+K),G&&(N[0]||N[1]||L)&&(G=null)):$.push(K),C=0,q=e(I=t[A],j&&L),$.push(M(A)+v.col[0]+(f(q)?"":" ")+q+(O?h:"")),j&&N[1]&&$.push(y(N[1],L?" ":"\n",L)),G){switch(typeof I){case"string":C=0,p=!0,g=0,q=e(I,!1),p=H,g=X,G.push(M(A)+v.col[0]+" "+q+(O?v.com[0]:""));break;case"object":if(I){G=null;break}default:G.push($[$.length-1]+(O?Y:""))}C+=v.col[0].length-v.col[2],O&&(C+=v.com[0].length-v.com[2]),Z+=C}0===D?j&&j.e&&$.push(y(j.e[0],"\n")+F):$.push(F),0===$.length?R=T(v.obj,""):(R=W+T(v.obj,$.join("")),G&&(B=G.join(" ")).length-Z<=d&&(R=T(v.obj,B)))}return P=z,R}}(e,null,!0,!0),I&&(A+=I[1]||""),A}},function(e,t,n){"use strict";var r=n(11);function i(e,t,n){var r;return e&&(r={b:e}),t&&((r=r||{}).a=t),n&&((r=r||{}).x=n),r}function a(e,t){if(null!==e&&"object"==typeof e){var n,s,c,u,l=r.getComment(e);if(l&&r.removeComment(e),"[object Array]"===Object.prototype.toString.apply(e)){for(u={a:{}},n=0,s=e.length;n<s;n++)o(u.a,n,l.a[n],a(e[n]))&&(c=!0);!c&&l.e&&(u.e=i(l.e[0],l.e[1]),c=!0)}else{u={s:{}};var f,p=Object.keys(e);for(l&&l.o?(f=[],l.o.concat(p).forEach((function(t){Object.prototype.hasOwnProperty.call(e,t)&&f.indexOf(t)<0&&f.push(t)}))):f=p,u.o=f,n=0,s=f.length;n<s;n++){var d=f[n];o(u.s,d,l.c[d],a(e[d]))&&(c=!0)}!c&&l.e&&(u.e=i(l.e[0],l.e[1]),c=!0)}return t&&l&&l.r&&(u.r=i(l.r[0],l.r[1])),c?u:void 0}}function o(e,t,n,r){var a=i(n?n[0]:void 0,n?n[1]:void 0,r);return a&&(e[t]=a),a}function s(e,t){var n=i(t.b,t.a);return n.path=e,n}function c(e,t,n){if(e){var r,i;if(e.a)for(r=0,i=e.a.length;r<i;r++){var a=n.slice().concat([r]),o=e.a[r];o&&(t.push(s(a,o)),c(o.x,t,a))}else e.o&&e.o.forEach((function(r){var i=n.slice().concat([r]),a=e.s[r];a&&(t.push(s(i,a)),c(a.x,t,i))}));e.e&&t.push(s(n,e.e))}}function u(e,t,n,i){if(e)if(null!==t&&"object"==typeof t){var a,o=r.createComment(t);if(0===i.length&&e.r&&(o.r=[e.r.b,e.r.a]),"[object Array]"===Object.prototype.toString.apply(t)){o.a=[];var l=e.a||{};for(var f in l)if(l.hasOwnProperty(f)){a=parseInt(f);var p=e.a[f];if(p){var d=i.slice().concat([a]);a<t.length?(o.a[a]=[p.b,p.a],u(p.x,t[a],n,d)):(n.push(s(d,p)),c(p.x,n,d))}}0===a&&e.e&&(o.e=[e.e.b,e.e.a])}else o.c={},o.o=[],(e.o||[]).forEach((function(r){var a=i.slice().concat([r]),l=e.s[r];Object.prototype.hasOwnProperty.call(t,r)?(o.o.push(r),l&&(o.c[r]=[l.b,l.a],u(l.x,t[r],n,a))):l&&(n.push(s(a,l)),c(l.x,n,a))})),e.e&&(o.e=[e.e.b,e.e.a])}else c(e,n,i)}function l(e,t,n){var i=r.createComment(e,r.getComment(e));return i.r||(i.r=["",""]),(t||""===t)&&(i.r[n]=r.forceComment(t)),i.r[n]||""}e.exports={extract:function(e){return a(e,!0)},merge:function(e,t){var n=[];if(u(e,t,n,[]),n.length>0){var r=l(t,null,1);r+="\n# Orphaned comments:\n",n.forEach((function(e){r+=("# "+e.path.join("/")+": "+function(){var e="";return[].forEach.call(arguments,(function(t){t&&""!==t.trim()&&(e&&(e+="; "),e+=t.trim())})),e}(e.b,e.a,e.e)).replace("\n","\\n ")+"\n"})),l(t,r,1)}},header:function(e,t){return l(e,t,0)},footer:function(e,t){return l(e,t,1)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i="undefined"!=typeof window?r.useLayoutEffect:r.useEffect;t.default=i},function(e,t,n){"use strict";n.r(t),n.d(t,"plugin",(function(){return se}));var r=n(8),i=n.n(r),a=n(3),o=n(7),s=n(5),c=n(10),u=n(23),l=n(9),f=n(22),p=n(1),d=n.n(p),g=n(4),h=n(24),b=n(25),m=n(2);const v=s.i18n.translate("visTypeVega.inspector.vegaAdapter.signal",{defaultMessage:"Signal"}),y=s.i18n.translate("visTypeVega.inspector.vegaAdapter.value",{defaultMessage:"Value"}),_=e=>{var t;const{data:n,signals:r}=null!==(t=e.view._runtime)&&void 0!==t?t:{};return{data:n,signals:r}},j=(e,t)=>t.reduce(((t,n)=>{try{const r=e[n];t[n]="object"==typeof r?JSON.stringify(r):`${r}`}catch(e){t[n]="(..)"}return t}),{});class vega_adapter_VegaAdapter{constructor(){i()(this,"debugValuesSubject",new m.ReplaySubject(1)),i()(this,"error",new m.BehaviorSubject(void 0))}bindInspectValues(e){this.debugValuesSubject.next(e)}getDataSetsSubscription(){return this.debugValuesSubject.pipe(Object(m.filter)((e=>Boolean(e))),Object(m.map)((e=>{const t=_(e);return Object.keys(t.data||[]).reduce(((e,n)=>{const{value:r}=t.data[n].values;if(r&&r[0]){const t=Object.keys(r[0]);e.push({id:n,columns:t.map((e=>({id:e,schema:"json"}))),data:r.map((e=>j(e,t)))})}return e}),[])})))}getSignalsSetsSubscription(){const e=this.debugValuesSubject.pipe(Object(m.filter)((e=>Boolean(e))),Object(m.switchMap)((e=>{const t=_(e);return Object(m.merge)(...Object.keys(t.signals).map((t=>Object(m.fromEventPattern)((n=>e.view.addSignalListener(t,n)),(n=>e.view.removeSignalListener(t,n)))))).pipe(Object(m.debounce)((e=>Object(m.timer)(350))),Object(m.map)((()=>e)))})));return Object(m.merge)(this.debugValuesSubject,e).pipe(Object(m.filter)((e=>Boolean(e))),Object(m.map)((e=>{const t=_(e);return{columns:[{id:v,schema:"text"},{id:y,schema:"json"}],data:Object.keys(t.signals).map((e=>j({[v]:e,[y]:t.signals[e].value},[v,y])))}})))}getSpecSubscription(){return this.debugValuesSubject.pipe(Object(m.filter)((e=>Boolean(e))),Object(m.map)((e=>JSON.stringify(e.spec,null,2))))}getErrorObservable(){return this.error.asObservable()}setError(e){this.error.next(e)}clearError(){this.error.next(void 0)}}var O=n(0);const x=Object(p.lazy)((()=>n.e(6).then(n.bind(null,257)))),w=s.i18n.translate("visTypeVega.inspector.vegaDebugLabel",{defaultMessage:"Vega debug"}),k=()=>({requests:new b.RequestAdapter,vega:new vega_adapter_VegaAdapter});var S=n(15);const E=e=>{const t=Object(S.buildExpressionFunction)("vega",{spec:e.params.spec});return Object(S.buildExpression)([t]).toAst()};var D=n(12);const P=()=>Object(O.jsx)(g.EuiCallOut,{className:"hide-for-sharing","data-test-subj":"experimentalMapLayerInfo",size:"s",title:Object(O.jsx)(D.FormattedMessage,{id:"visTypeVega.mapView.experimentalMapLayerInfo",defaultMessage:"This functionality is in technical preview and may be changed or removed completely in a future release. Elastic will work to fix any issues, but features in technical preview are are not subject to the support SLA of official GA features. For feedback, please create an issue in {githubLink}.",values:{githubLink:Object(O.jsx)(g.EuiLink,{external:!0,href:"https://github.com/elastic/kibana/issues/new/choose",target:"_blank"},"GitHub")}}),iconType:"beaker"});var C=n(19);const T=()=>Object(O.jsx)(g.EuiCallOut,{className:"hide-for-sharing","data-test-subj":"deprecatedHistogramIntervalInfo",size:"s",title:Object(O.jsx)(D.FormattedMessage,{id:"visTypeVega.deprecatedHistogramIntervalInfo.message",defaultMessage:"Combined 'interval' field has been deprecated in favor of two new, explicit fields: 'calendar_interval' and 'fixed_interval'. {dateHistogramDoc}",values:{dateHistogramDoc:Object(O.jsx)(g.EuiButtonIcon,{iconType:"popout",href:Object(a.c)().links.aggs.date_histogram,target:"_blank"})}}),iconType:"help"}),V=({spec:e})=>{const t=Object(p.useMemo)((()=>(e=>{if(e)try{return Object(c.parse)(e,{legacyRoot:!1,keepWsc:!0})}catch(e){}})(e)),[e]);return t?Object(O.jsx)(d.a.Fragment,null,(e=>{var t,n;return"map"===(null===(t=e.config)||void 0===t||null===(n=t.kibana)||void 0===n?void 0:n.type)})(t)&&Object(O.jsx)(P,null),(e=>(Array.isArray(e.data)?null==e?void 0:e.data:[e.data]).some(((e={})=>{var t,n,r;const i=null!==(t=null===(n=e.url)||void 0===n||null===(r=n.body)||void 0===r?void 0:r.aggs)&&void 0!==t?t:{};return Object.keys(i).some((e=>{var t;const n=(null===(t=i[e])||void 0===t?void 0:t[C.BUCKET_TYPES.DATE_HISTOGRAM])||{};return"interval"in n&&"object"!=typeof n.interval}))})))(t)&&Object(O.jsx)(T,null)):null},M=e=>Object(O.jsx)(V,{spec:e.params.spec}),A=Object(p.lazy)((()=>n.e(5).then(n.bind(null,259)))),I=e=>Object(O.jsx)(A,e);var q=n(16),N=n(26),L=n(21),R=n.n(L),B=n(27),U=n(20),z=n(28),F=n.n(z),K=n(13),W=n.n(K);const $="eui-global",G="eui-utilities",H={darkMode:!1},X=[g.euiStylisPrefixer],Y=W()({key:"css",stylisPlugins:X,container:document.querySelector('meta[name="emotion"]')}),Z=W()({key:$,stylisPlugins:X,container:document.querySelector(`meta[name="${$}"]`)}),J=W()({key:G,stylisPlugins:X,container:document.querySelector(`meta[name="${G}"]`)});Y.compat=!0,Z.compat=!0,J.compat=!0;const Q={default:Y,global:Z,utility:J},ee=({theme:{theme$:e},globalStyles:t,colorMode:n,modify:r,children:i})=>{const a=F()(e,H),o=Object(p.useMemo)((()=>(e=>e.darkMode?g.COLOR_MODES_STANDARD.dark:g.COLOR_MODES_STANDARD.light)(a)),[a]),s=n||o,c=!1!==t&&void 0;return Object(O.jsx)(g.EuiProvider,{cache:Q,modify:r,colorMode:s,globalStyles:c,utilityClasses:c},i)},te=({children:e,i18n:t,...n})=>Object(B.useIsNestedEuiProvider)()?(Object(U.emitEuiProviderWarning)("KibanaRootContextProvider has likely been nested in this React tree, either by direct reference or by KibanaRenderContextProvider.  The result of this nesting is a nesting of EuiProvider, which has negative effects.  Check your React tree for nested Kibana context providers."),Object(O.jsx)(t.Context,null,e)):Object(O.jsx)(ee,n,Object(O.jsx)(t.Context,null,e));var ne=n(17);const re=({children:e,...t})=>Object(O.jsx)(te,R()({globalStyles:!1},t),Object(O.jsx)(ne.KibanaErrorBoundaryProvider,{analytics:t.analytics},Object(O.jsx)(ne.KibanaErrorBoundary,null,e))),ie=Object(p.lazy)((()=>n.e(1).then(n.bind(null,255)).then((({VegaVisComponent:e})=>({default:e})))));let ae;async function oe(){return ae||(ae=await new Promise((async(e,t)=>{try{try{const{getServiceSettings:t}=await n.e(3).then(n.bind(null,260));e(t)}catch(e){t(e)}}catch(e){t(e)}}))),await ae()}class plugin_VegaPlugin{constructor(e){i()(this,"initializerContext",void 0),this.initializerContext=e}setup(e,{inspector:t,data:r,expressions:i,visualizations:d}){Object(a.l)({enableExternalUrls:this.initializerContext.config.get().enableExternalUrls});const b={core:e,plugins:{data:r},getServiceSettings:oe};var m,v;t.registerView((m={uiSettings:e.uiSettings},{title:w,shouldShow:e=>Boolean(e.vega),component:e=>Object(O.jsx)(h.KibanaContextProvider,{services:m},Object(O.jsx)(p.Suspense,{fallback:Object(O.jsx)(g.EuiLoadingSpinner,null)},Object(O.jsx)(x,e)))})),i.registerFunction((()=>(e=>({name:"vega",type:"render",inputTypes:["kibana_context","null"],help:s.i18n.translate("visTypeVega.function.help",{defaultMessage:"Vega visualization"}),args:{spec:{types:["string"],default:"",help:""}},async fn(t,r,i){const{createVegaRequestHandler:a}=await n.e(1).then(n.bind(null,255)),s=a(e,i);return{type:"render",as:"vega_vis",value:{visData:await s({timeRange:Object(o.get)(t,"timeRange"),query:Object(o.get)(t,"query"),filters:Object(o.get)(t,"filters"),visParams:{spec:r.spec},searchSessionId:i.getSearchSessionId(),executionContext:i.getExecutionContext()}),visType:"vega",visConfig:{spec:r.spec}}}}}))(b))),i.registerRenderer((v=b,{name:"vega_vis",reuseDomNode:!0,render:async(e,{visData:t},n)=>{n.onDestroy((()=>{Object(q.unmountComponentAtNode)(e)}));const[r]=await v.core.getStartServices();Object(q.render)(Object(O.jsx)(re,r,Object(O.jsx)(l.VisualizationContainer,{handlers:n},Object(O.jsx)(ie,{deps:v,fireEvent:n.event,renderComplete:()=>{const e=Object(a.h)(),r=(e=>{if(e){var t;const n=e=>e.type?e:e.child?n(e.child):void 0;return null===(t=n(e))||void 0===t?void 0:t.type}})(n.getExecutionContext()),i="vega";if(e&&r){const n=[`render_${i}`,t.useMap?`render_${i}_map`:void 0,`render_${i}_${t.isVegaLite?"lite":"normal"}`].filter(Boolean);e.reportUiCounter(r,N.METRIC_TYPE.COUNT,n)}n.done()},renderMode:n.getRenderMode(),visData:t}))),e)}})),d.createBaseVisualization({name:"vega",title:"Vega",getInfoMessage:M,description:s.i18n.translate("visTypeVega.type.vegaDescription",{defaultMessage:"Use Vega to create new types of visualizations.",description:"Vega and Vega-Lite are product names and should not be translated"}),note:s.i18n.translate("visTypeVega.type.vegaNote",{defaultMessage:"Requires knowledge of Vega syntax."}),icon:"visVega",group:l.VisGroups.PROMOTED,titleInWizard:s.i18n.translate("visTypeVega.type.vegaTitleInWizard",{defaultMessage:"Custom visualization"}),visConfig:{defaults:{spec:'{\n/*\n\nWelcome to Vega visualizations.  Here you can design your own dataviz from scratch using a declarative language called Vega, or its simpler form Vega-Lite.  In Vega, you have the full control of what data is loaded, even from multiple sources, how that data is transformed, and what visual elements are used to show it.  Use help icon to view Vega examples, tutorials, and other docs.  Use the wrench icon to reformat this text, or to remove comments.\n\nThis example graph shows the document count in all indexes in the current time range.  You might need to adjust the time filter in the upper right corner.\n*/\n\n  $schema: https://vega.github.io/schema/vega-lite/v5.json\n  title: Event counts from all indexes\n\n  // Define the data source\n  data: {\n    url: {\n/*\nAn object instead of a string for the "url" param is treated as an Elasticsearch query. Anything inside this object is not part of the Vega language, but only understood by Kibana and Elasticsearch server. This query counts the number of documents per time interval, assuming you have a @timestamp field in your data.\n\nKibana has a special handling for the fields surrounded by "%".  They are processed before the the query is sent to Elasticsearch. This way the query becomes context aware, and can use the time range and the dashboard filters.\n*/\n\n      // Apply dashboard context filters when set\n      %context%: true\n      // Filter the time picker (upper right corner) with this field\n      %timefield%: @timestamp\n\n/*\nSee .search() documentation for :  https://www.elastic.co/guide/en/elasticsearch/client/javascript-api/current/api-reference.html#api-search\n*/\n\n      // Which index to search\n      index: _all\n      // Aggregate data by the time field into time buckets, counting the number of documents in each bucket.\n      body: {\n        aggs: {\n          time_buckets: {\n            date_histogram: {\n              // Use date histogram aggregation on @timestamp field\n              field: @timestamp\n              // The interval value will depend on the daterange picker (true), or use an integer to set an approximate bucket count\n              interval: {%autointerval%: true}\n              // Make sure we get an entire range, even if it has no data\n              extended_bounds: {\n                // Use the current time range\'s start and end\n                min: {%timefilter%: "min"}\n                max: {%timefilter%: "max"}\n              }\n              // Use this for linear (e.g. line, area) graphs.  Without it, empty buckets will not show up\n              min_doc_count: 0\n            }\n          }\n        }\n        // Speed up the response by only including aggregation results\n        size: 0\n      }\n    }\n/*\nElasticsearch will return results in this format:\n\naggregations: {\n  time_buckets: {\n    buckets: [\n      {\n        key_as_string: 2015-11-30T22:00:00.000Z\n        key: 1448920800000\n        doc_count: 0\n      },\n      {\n        key_as_string: 2015-11-30T23:00:00.000Z\n        key: 1448924400000\n        doc_count: 0\n      }\n      ...\n    ]\n  }\n}\n\nFor our graph, we only need the list of bucket values.  Use the format.property to discard everything else.\n*/\n    format: {property: "aggregations.time_buckets.buckets"}\n  }\n\n  // "mark" is the graphics element used to show our data.  Other mark values are: area, bar, circle, line, point, rect, rule, square, text, and tick.  See https://vega.github.io/vega-lite/docs/mark.html\n  mark: line\n\n  // "encoding" tells the "mark" what data to use and in what way.  See https://vega.github.io/vega-lite/docs/encoding.html\n  encoding: {\n    x: {\n      // The "key" value is the timestamp in milliseconds.  Use it for X axis.\n      field: key\n      type: temporal\n      axis: {title: false} // Customize X axis format\n    }\n    y: {\n      // The "doc_count" is the count per bucket.  Use it for Y axis.\n      field: doc_count\n      type: quantitative\n      axis: {title: "Document count"}\n    }\n  }\n}\n'}},editorConfig:{optionsTemplate:I,enableAutoApply:!0,defaultSize:u.DefaultEditorSize.MEDIUM},toExpressionAst:E,options:{showIndexSelection:!1,showFilterBar:!0},getSupportedTriggers:()=>[l.VIS_EVENT_TO_TRIGGER.applyFilter],getUsedIndexPattern:async e=>{try{const t=Object(c.parse)(e.spec,{legacyRoot:!1,keepWsc:!0});return Object(f.a)(t)}catch(e){}return[]},inspectorAdapters:k,requiresSearch:!0})}start(e,{data:t,mapsEms:n,dataViews:r,usageCollection:i}){Object(a.n)(e.notifications),Object(a.i)(t),Object(a.j)(r),Object(a.k)(e.docLinks),Object(a.m)(n),Object(a.o)(e.theme),Object(a.p)(i)}}function se(e){return new plugin_VegaPlugin(e)}},function(e,t){e.exports=__kbnSharedDeps__.Moment},function(e,t){e.exports=__kbnSharedDeps__.KbnEsQuery},function(e,t){e.exports=__kbnSharedDeps__.KbnMonaco},function(e,t){e.exports=__kbnSharedDeps__.KbnCodeEditor},function(e,t){e.exports=__kbnSharedDeps__.Uuid},function(e,t){e.exports=__kbnSharedDeps__.ElasticNumeral},function(e,t){e.exports=__kbnSharedDeps__.KbnUiTheme},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/data/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.KbnDatemath},function(e,t){e.exports=__kbnSharedDeps__.KbnStd}]);