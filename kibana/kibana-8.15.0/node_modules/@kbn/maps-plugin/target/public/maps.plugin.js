/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */!function(e){function t(t){for(var n,i,a=t[0],o=t[1],s=0,u=[];s<a.length;s++)i=a[s],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&u.push(r[i][0]),r[i]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);for(c&&c(t);u.length;)u.shift()()}var n={},r={11:0};function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,i){n=r[e]=[t,i]}));t.push(n[2]=a);var o,s=document.createElement("script");s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=function(e){return i.p+"maps.chunk."+e+".js"}(e);var c=new Error;o=function(t){s.onerror=s.onload=null,clearTimeout(u);var n=r[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+i+": "+a+")",c.name="ChunkLoadError",c.type=i,c.request=a,n[1](c)}r[e]=void 0}};var u=setTimeout((function(){o({type:"timeout",target:s})}),12e4);s.onerror=s.onload=o,document.head.appendChild(s)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var a=window.maps_bundle_jsonpfunction=window.maps_bundle_jsonpfunction||[],o=a.push.bind(a);a.push=t,a=a.slice();for(var s=0;s<a.length;s++)t(a[s]);var c=o;i(i.s=49)}([function(e,t,n){"use strict";n.d(t,"fb",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"db",(function(){return u})),n.d(t,"R",(function(){return l})),n.d(t,"eb",(function(){return p})),n.d(t,"P",(function(){return _})),n.d(t,"E",(function(){return b})),n.d(t,"Q",(function(){return E})),n.d(t,"O",(function(){return O})),n.d(t,"K",(function(){return g})),n.d(t,"i",(function(){return m})),n.d(t,"pb",(function(){return T})),n.d(t,"ob",(function(){return y})),n.d(t,"rb",(function(){return v})),n.d(t,"U",(function(){return S})),n.d(t,"H",(function(){return A})),n.d(t,"Nb",(function(){return h})),n.d(t,"Mb",(function(){return L})),n.d(t,"Z",(function(){return I})),n.d(t,"Cb",(function(){return R})),n.d(t,"D",(function(){return N})),n.d(t,"T",(function(){return M})),n.d(t,"kb",(function(){return P})),n.d(t,"F",(function(){return j})),n.d(t,"zb",(function(){return C})),n.d(t,"Bb",(function(){return D})),n.d(t,"Ab",(function(){return w})),n.d(t,"yb",(function(){return x})),n.d(t,"mb",(function(){return k})),n.d(t,"hb",(function(){return B})),n.d(t,"o",(function(){return G})),n.d(t,"Kb",(function(){return U})),n.d(t,"u",(function(){return F})),n.d(t,"t",(function(){return V})),n.d(t,"s",(function(){return $})),n.d(t,"C",(function(){return H})),n.d(t,"jb",(function(){return Y})),n.d(t,"A",(function(){return K})),n.d(t,"B",(function(){return z})),n.d(t,"J",(function(){return W})),n.d(t,"tb",(function(){return q})),n.d(t,"bb",(function(){return Z})),n.d(t,"X",(function(){return J})),n.d(t,"z",(function(){return X})),n.d(t,"x",(function(){return Q})),n.d(t,"y",(function(){return ee})),n.d(t,"a",(function(){return te})),n.d(t,"b",(function(){return ne})),n.d(t,"ub",(function(){return re})),n.d(t,"L",(function(){return ie})),n.d(t,"I",(function(){return ae})),n.d(t,"G",(function(){return oe})),n.d(t,"Gb",(function(){return se})),n.d(t,"v",(function(){return ce})),n.d(t,"k",(function(){return ue})),n.d(t,"Eb",(function(){return le})),n.d(t,"Y",(function(){return de})),n.d(t,"j",(function(){return pe})),n.d(t,"h",(function(){return fe})),n.d(t,"sb",(function(){return _e})),n.d(t,"Fb",(function(){return be})),n.d(t,"V",(function(){return Ee})),n.d(t,"W",(function(){return Oe})),n.d(t,"r",(function(){return ge})),n.d(t,"p",(function(){return me})),n.d(t,"q",(function(){return Te})),n.d(t,"m",(function(){return ye})),n.d(t,"l",(function(){return ve})),n.d(t,"cb",(function(){return Se})),n.d(t,"M",(function(){return Ae})),n.d(t,"N",(function(){return he})),n.d(t,"Ib",(function(){return Le})),n.d(t,"wb",(function(){return Ie})),n.d(t,"nb",(function(){return Re})),n.d(t,"Db",(function(){return Ne})),n.d(t,"S",(function(){return Me})),n.d(t,"ab",(function(){return Pe})),n.d(t,"Hb",(function(){return je})),n.d(t,"ib",(function(){return Ce})),n.d(t,"n",(function(){return De})),n.d(t,"w",(function(){return we})),n.d(t,"qb",(function(){return xe})),n.d(t,"g",(function(){return ke})),n.d(t,"Lb",(function(){return Be})),n.d(t,"Jb",(function(){return Ge})),n.d(t,"gb",(function(){return Ue})),n.d(t,"vb",(function(){return Fe})),n.d(t,"lb",(function(){return Ve})),n.d(t,"xb",(function(){return $e}));var r=n(3);const i="map",a="maps",o="gisApp",s="logoKibana",c=r.i18n.translate("xpack.maps.visTypeAlias.title",{defaultMessage:"Maps"}),u=r.i18n.translate("xpack.maps.embeddableDisplayName",{defaultMessage:"map"}),l="initialLayers",d=`app/${a}`,p="map",f=`internal/${a}`,_=`/${f}/indexSettings`,b=`/${f}/fonts`,E=`/${f}/docSource`,O=`/${f}/feature`,g=`/${f}/getMatchingIndexes`,m=`/${f}/checkIsDrawingIndex`,T=`/${f}/mvt/getTile`,y=`/${f}/mvt/getGridTile`,v="openLayerWizard",S="__kbn_is_centroid_feature__",A="__kbn__feature_id__";function h(e){return`/${d}${L(e)}`}function L(e){return e?`/${p}/${e}`:`/${p}`}let I=function(e){return e.RASTER_TILE="RASTER_TILE",e.GEOJSON_VECTOR="GEOJSON_VECTOR",e.EMS_VECTOR_TILE="EMS_VECTOR_TILE",e.HEATMAP="HEATMAP",e.BLENDED_VECTOR="BLENDED_VECTOR",e.MVT_VECTOR="MVT_VECTOR",e.LAYER_GROUP="LAYER_GROUP",e}({}),R=function(e){return e.EMS_TMS="EMS_TMS",e.EMS_FILE="EMS_FILE",e.ES_GEO_GRID="ES_GEO_GRID",e.ES_GEO_LINE="ES_GEO_LINE",e.ES_SEARCH="ES_SEARCH",e.ES_PEW_PEW="ES_PEW_PEW",e.ES_ML_ANOMALIES="ML_ANOMALIES",e.ESQL="ESQL",e.EMS_XYZ="EMS_XYZ",e.WMS="WMS",e.KIBANA_TILEMAP="KIBANA_TILEMAP",e.GEOJSON_FILE="GEOJSON_FILE",e.MVT_SINGLE_LAYER="MVT_SINGLE_LAYER",e.ES_DISTANCE_SOURCE="ES_DISTANCE_SOURCE",e.ES_TERM_SOURCE="ES_TERM_SOURCE",e.TABLE_SOURCE="TABLE_SOURCE",e}({}),N=function(e){return e.SOURCE="source",e.JOIN="join",e}({});const M="__kbnjoin__",P="meta",j="formatters",C="source",D=`${C}_${P}`,w=`${C}_${j}`,x=`${C}_bounds`,k=0,B=24,G=5,U=2,F=1e4,V=100,$=65535,H="__kbn_isvisibleduetojoin__",Y="_";let K=function(e){return e.GEO_POINT="geo_point",e.GEO_SHAPE="geo_shape",e}({});const z=["geo_point","geo_shape"];let W=function(e){return e.POINT="Point",e.MULTI_POINT="MultiPoint",e.LINE_STRING="LineString",e.MULTI_LINE_STRING="MultiLineString",e.POLYGON="Polygon",e.MULTI_POLYGON="MultiPolygon",e.GEOMETRY_COLLECTION="GeometryCollection",e}({});const q=0,Z=0,J=1,X={type:"FeatureCollection",features:[]};let Q=function(e){return e.DRAW_SHAPES="DRAW_SHAPES",e.DRAW_POINTS="DRAW_POINTS",e.DRAW_FILTERS="DRAW_FILTERS",e.NONE="NONE",e}({}),ee=function(e){return e.BOUNDS="BOUNDS",e.DISTANCE="DISTANCE",e.POLYGON="POLYGON",e.POINT="POINT",e.LINE="LINE",e.SIMPLE_SELECT="SIMPLE_SELECT",e.DELETE="DELETE",e.WAIT="WAIT",e}({});const te="_of_";let ne=function(e){return e.AVG="avg",e.COUNT="count",e.MAX="max",e.MIN="min",e.SUM="sum",e.TERMS="terms",e.PERCENTILE="percentile",e.UNIQUE_COUNT="cardinality",e}({}),re=function(e){return e.HEATMAP="heatmap",e.POINT="point",e.GRID="grid",e.HEX="hex",e}({}),ie=function(e){return e.COARSE="COARSE",e.FINE="FINE",e.MOST_FINE="MOST_FINE",e.SUPER_FINE="SUPER_FINE",e}({});const ae="gridSplit",oe="gridCentroid",se="__percentage",ce=50,ue="doc_count";let le=function(e){return e.STATIC="STATIC",e.DYNAMIC="DYNAMIC",e}({}),de=function(e){return e.VECTOR="VECTOR",e.HEATMAP="HEATMAP",e.TILE="TILE",e.EMS_VECTOR_TILE="EMS_VECTOR_TILE",e}({}),pe=function(e){return e.CATEGORICAL="CATEGORICAL",e.ORDINAL="ORDINAL",e}({});const fe=["string","ip","boolean"],_e=["number","date"];let be=function(e){return e.CIRCLE="circle",e.ICON="icon",e}({}),Ee=function(e){return e.NONE="NONE",e.SMALL="SMALL",e.MEDIUM="MEDIUM",e.LARGE="LARGE",e}({}),Oe=function(e){return e.BOTTOM="BOTTOM",e.CENTER="CENTER",e.TOP="TOP",e}({});const ge="marker",me=.25,Te=.25,ye=64,ve="__kbn__custom_icon_sdf__",Se=16,Ae=Se/2;let he=function(e){return e.CUSTOM="CUSTOM",e.MAKI="MAKI",e}({}),Le=function(e){return e.SYMBOLIZE_AS="symbolizeAs",e.FILL_COLOR="fillColor",e.LINE_COLOR="lineColor",e.LINE_WIDTH="lineWidth",e.ICON="icon",e.ICON_SIZE="iconSize",e.ICON_ORIENTATION="iconOrientation",e.LABEL_TEXT="labelText",e.LABEL_ZOOM_RANGE="labelZoomRange",e.LABEL_COLOR="labelColor",e.LABEL_SIZE="labelSize",e.LABEL_BORDER_COLOR="labelBorderColor",e.LABEL_BORDER_SIZE="labelBorderSize",e.LABEL_POSITION="labelPosition",e}({}),Ie=function(e){return e.LIMIT="LIMIT",e.CLUSTERS="CLUSTERS",e.TOP_HITS="TOP_HITS",e.MVT="MVT",e}({}),Re=function(e){return e.STRING="String",e.NUMBER="Number",e}({});const Ne="SPATIAL_FILTERS_LAYER_ID";let Me=function(e){return e.LAST_SAVED_LOCATION="LAST_SAVED_LOCATION",e.FIXED_LOCATION="FIXED_LOCATION",e.BROWSER_LOCATION="BROWSER_LOCATION",e.AUTO_FIT_TO_BOUNDS="AUTO_FIT_TO_BOUNDS",e}({}),Pe=function(e){return e.ELASTICSEARCH="ELASTICSEARCH",e.REFERENCE="REFERENCE",e.SOLUTIONS="SOLUTIONS",e}({}),je=function(e){return e.POINT="POINT",e.LINE="LINE",e.POLYGON="POLYGON",e}({}),Ce=function(e){return e.GET="get",e.FEATURE_STATE="feature-state",e}({}),De=function(e){return e.INTERPOLATE="INTERPOLATE",e.PERCENTILES="PERCENTILES",e}({});const we=[50,75,90,95,99],xe="none",ke="autoselect",Be="world_countries";let Ge=function(e){return e.CHOROPLETH="choropleth",e.GEO_FILE="uploadGeoFile",e.LAYER_GROUP="layerGroup",e.NEW_VECTOR="newVectorLayer",e.OBSERVABILITY="observabilityLayer",e.SECURITY="securityLayer",e.EMS_BOUNDARIES="emsBoundaries",e.EMS_BASEMAP="emsBaseMap",e.CLUSTERS="clusters",e.HEATMAP="heatmap",e.GEO_LINE="geoLine",e.POINT_2_POINT="point2Point",e.ES_DOCUMENT="esDocument",e.ES_TOP_HITS="esTopHits",e.ESQL="ESQL",e.KIBANA_BASEMAP="kibanaBasemap",e.MVT_VECTOR="mvtVector",e.WMS_LAYER="wmsLayer",e.TMS_LAYER="tmsLayer",e.SPATIAL_JOIN="spatialJoin",e}({}),Ue=function(e){return e.ABOVE="ABOVE",e.BELOW="BELOW",e}({});const Fe=1e3,Ve={truncation:"middle"},$e={asPlainText:!0}},function(e,t){e.exports=__kbnSharedDeps__.Rxjs},function(e,t){e.exports=__kbnSharedDeps__.React},function(e,t){e.exports=__kbnSharedDeps__.KbnI18n},function(e,t){e.exports=__kbnSharedDeps__.EmotionReact},function(e,t,n){"use strict";n.d(t,"bb",(function(){return i})),n.d(t,"ab",(function(){return l})),n.d(t,"X",(function(){return p})),n.d(t,"y",(function(){return f})),n.d(t,"N",(function(){return b})),n.d(t,"Z",(function(){return E})),n.d(t,"u",(function(){return O})),n.d(t,"s",(function(){return g})),n.d(t,"w",(function(){return m})),n.d(t,"c",(function(){return T})),n.d(t,"x",(function(){return y})),n.d(t,"r",(function(){return v})),n.d(t,"T",(function(){return S})),n.d(t,"z",(function(){return A})),n.d(t,"v",(function(){return h})),n.d(t,"I",(function(){return L})),n.d(t,"t",(function(){return I})),n.d(t,"q",(function(){return R})),n.d(t,"Q",(function(){return N})),n.d(t,"R",(function(){return M})),n.d(t,"g",(function(){return P})),n.d(t,"k",(function(){return j})),n.d(t,"A",(function(){return C})),n.d(t,"V",(function(){return D})),n.d(t,"l",(function(){return w})),n.d(t,"i",(function(){return x})),n.d(t,"d",(function(){return k})),n.d(t,"j",(function(){return B})),n.d(t,"S",(function(){return G})),n.d(t,"f",(function(){return U})),n.d(t,"E",(function(){return F})),n.d(t,"h",(function(){return V})),n.d(t,"a",(function(){return $})),n.d(t,"J",(function(){return H})),n.d(t,"o",(function(){return Y})),n.d(t,"C",(function(){return K})),n.d(t,"D",(function(){return z})),n.d(t,"H",(function(){return W})),n.d(t,"F",(function(){return q})),n.d(t,"O",(function(){return Z})),n.d(t,"P",(function(){return J})),n.d(t,"b",(function(){return X})),n.d(t,"U",(function(){return Q})),n.d(t,"e",(function(){return ee})),n.d(t,"W",(function(){return te})),n.d(t,"K",(function(){return ne})),n.d(t,"n",(function(){return re})),n.d(t,"Y",(function(){return ae})),n.d(t,"M",(function(){return se})),n.d(t,"G",(function(){return ce})),n.d(t,"B",(function(){return ue})),n.d(t,"m",(function(){return le})),n.d(t,"p",(function(){return de})),n.d(t,"L",(function(){return pe}));const r=new(n(1).BehaviorSubject)(!1),i=()=>r.value?Promise.resolve():new Promise((e=>{const t=r.subscribe((n=>{n&&(t.unsubscribe(),e())}))}));let a,o,s,c,u=!1;function l(e,t){a=e,o=t,s=t.mapsEms,c=s.createEMSSettings(),e.theme.theme$.subscribe((({darkMode:e})=>{u=e})),r.next(!0)}let d=!1;function p(e){d=e}const f=()=>d;let _="default";const b=()=>_,E=e=>{_=e},O=()=>o.fileUpload.IndexNameFormComponent,g=()=>o.fileUpload.FileUploadComponent,m=()=>o.data.dataViews,T=()=>o.unifiedSearch.autocomplete,y=()=>o.inspector,v=()=>o.fileUpload,S=()=>a.uiSettings,A=()=>u,h=()=>o.unifiedSearch.ui.IndexPatternSelect,L=()=>o.unifiedSearch.ui.SearchBar,I=()=>a.http,R=()=>a.executionContext,N=()=>o.data.query.timefilter.timefilter,M=()=>a.notifications.toasts,P=()=>a.chrome,j=()=>a.application.capabilities.dev_tools,C=()=>a.application.capabilities.maps,D=()=>a.application.capabilities.visualize,w=()=>a.docLinks,x=()=>a.overlays,k=()=>o.charts,B=()=>o.data,G=()=>o.uiActions,U=()=>a,F=()=>o.navigation,V=()=>a.i18n,$=()=>a.analytics,H=()=>o.data.search,Y=()=>o.embeddable,K=()=>a.application.navigateToApp,z=()=>a.application.navigateToUrl,W=()=>o.savedObjectsTagging,q=()=>o.presentationUtil.ContextProvider,Z=()=>o.spaces,J=()=>a.theme,X=()=>a.application,Q=()=>o.usageCollection,ee=()=>o.contentManagement,te=()=>!!o.screenshotMode&&o.screenshotMode.isScreenshotMode(),ne=()=>o.serverless,re=()=>o.embeddableEnhanced;let ie;const ae=e=>ie=e,oe=()=>ie,se=()=>oe().showMapsInspectorAdapter,ce=()=>oe().preserveDrawingBuffer,ue=()=>s,le=()=>c,de=()=>s.config.emsTileLayerId,pe=()=>o.share},function(e,t,n){e.exports=n(27)(2)},function(e,t,n){"use strict";n.d(t,"i",(function(){return i})),n.d(t,"g",(function(){return E})),n.d(t,"j",(function(){return m})),n.d(t,"e",(function(){return l})),n.d(t,"m",(function(){return d})),n.d(t,"a",(function(){return T})),n.d(t,"f",(function(){return v})),n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return A})),n.d(t,"d",(function(){return L})),n.d(t,"h",(function(){return h})),n.d(t,"k",(function(){return I})),n.d(t,"l",(function(){return o}));var r=n(1);const i=()=>[new r.BehaviorSubject(null),()=>{},()=>!0];var a=n(2);const o=(...e)=>{const[t,n]=Object(a.useState)((()=>s(e)));return Object(a.useEffect)((()=>{const t=Object(r.combineLatest)(e).pipe(Object(r.skip)(1),Object(r.debounceTime)(0)).subscribe((e=>{n(e)}));return()=>t.unsubscribe()}),[]),t},s=e=>e.map((e=>{var t,n;return null!==(t=null==e||null===(n=e.getValue)||void 0===n?void 0:n.call(e))&&void 0!==t?t:void 0})),c=e=>Boolean(e&&void 0!==(null==e?void 0:e.parentApi)),u=e=>Boolean(e&&void 0!==(null==e?void 0:e.timeRange$)),l=e=>Boolean(e&&u(e)&&(e=>Boolean(e&&void 0!==(null==e?void 0:e.filters$)))(e)&&void 0!==(null==e?void 0:e.query$));function d({filters:e,query:t,timeRange:n}){const i=Object(a.useMemo)((()=>({filters$:new r.BehaviorSubject(e),query$:new r.BehaviorSubject(t),timeRange$:new r.BehaviorSubject(n)})),[]);return Object(a.useEffect)((()=>{i.filters$.next(e)}),[e,i.filters$]),Object(a.useEffect)((()=>{i.query$.next(t)}),[t,i.query$]),Object(a.useEffect)((()=>{i.timeRange$.next(n)}),[n,i.timeRange$]),i}const p=e=>Boolean(e&&void 0!==(null==e?void 0:e.searchSessionId$)),f=e=>Boolean(e&&void 0!==(null==e?void 0:e.reload$));function _(e,t){var n,r,i,a,o,s,c,u,l,d,p,f,_;const b=e;return{isReload:t,filters:null==b||null===(n=b.parentApi)||void 0===n||null===(r=n.filters$)||void 0===r?void 0:r.value,query:null==b||null===(i=b.parentApi)||void 0===i||null===(a=i.query$)||void 0===a?void 0:a.value,searchSessionId:null==b||null===(o=b.parentApi)||void 0===o||null===(s=o.searchSessionId$)||void 0===s?void 0:s.value,timeRange:null!==(c=null==b||null===(u=b.timeRange$)||void 0===u?void 0:u.value)&&void 0!==c?c:null==b||null===(l=b.parentApi)||void 0===l||null===(d=l.timeRange$)||void 0===d?void 0:d.value,timeslice:null!=b&&null!==(p=b.timeRange$)&&void 0!==p&&p.value||null==b||null===(f=b.parentApi)||void 0===f||null===(_=f.timeslice$)||void 0===_?void 0:_.value}}function b(e){return!(!c(e)||!p(e.parentApi))&&"string"==typeof e.parentApi.searchSessionId$.value}function E(e){const t=function(e){const t=[];if(u(e)&&t.push(e.timeRange$.pipe(Object(r.skip)(1))),c(e)&&l(e.parentApi)&&t.push(Object(r.combineLatest)([e.parentApi.filters$,e.parentApi.query$]).pipe(Object(r.skip)(1),Object(r.filter)((()=>!b(e))))),c(e)&&u(e.parentApi)){const n=[e.parentApi.timeRange$];e.parentApi.timeslice$&&n.push(e.parentApi.timeslice$),t.push(Object(r.combineLatest)(n).pipe(Object(r.skip)(1),Object(r.filter)((()=>!b(e)&&!function(e){return!!u(e)&&"object"==typeof e.timeRange$.value}(e)))))}return t}(e),n=function(e){const t=[];return c(e)&&p(e.parentApi)&&t.push(e.parentApi.searchSessionId$.pipe(Object(r.skip)(1))),c(e)&&f(e.parentApi)&&t.push(e.parentApi.reload$.pipe(Object(r.filter)((()=>!b(e))))),t}(e);if(0===n.length)return Object(r.merge)(...t).pipe(Object(r.startWith)(_(e,!1)),Object(r.debounceTime)(0),Object(r.map)((()=>_(e,!1))));const i=new r.Subject,a=Object(r.merge)(...t).pipe(Object(r.switchMap)((t=>Object(r.of)(t).pipe(Object(r.delay)(0),Object(r.takeUntil)(i),Object(r.map)((()=>_(e,!1))))))),o=Object(r.merge)(...n).pipe(Object(r.tap)((()=>i.next())),Object(r.map)((()=>_(e,!0))));return Object(r.merge)(o,a).pipe(Object(r.startWith)(_(e,!1)))}var O=n(40),g=n.n(O);const m=e=>{const t=new r.BehaviorSubject(e.timeRange);function n(e){t.next(e)}return{serialize:()=>({timeRange:t.value}),comparators:{timeRange:[t,n,g.a]},api:{timeRange$:t,setTimeRange:n}}},T=e=>void 0!==e.getAppContext&&"function"==typeof e.getAppContext,y=e=>Boolean(e&&"boolean"==typeof e.disableTriggers);function v(e){function t(e){return!!y(e)&&e.disableTriggers}return t(e)||t(c(e)?e.parentApi:void 0)}const S=e=>Boolean(e&&e.type),A=(e,t)=>Boolean(e&&e.type)&&e.type===t;function h(e){var t,n,r;return null!==(t=null===(n=e.panelTitle)||void 0===n?void 0:n.value)&&void 0!==t?t:null===(r=e.defaultPanelTitle)||void 0===r?void 0:r.value}const L=e=>Boolean(e&&void 0!==(null==e?void 0:e.panelTitle)&&void 0!==(null==e?void 0:e.hidePanelTitle)),I=e=>{const t=new r.BehaviorSubject(e.title),n=new r.BehaviorSubject(e.description),i=new r.BehaviorSubject(e.hidePanelTitles),a=e=>t.next(e),o=e=>i.next(e),s=e=>n.next(e);return{serializeTitles:()=>({title:t.value,hidePanelTitles:i.value,description:n.value}),titleComparators:{title:[t,a],description:[n,s],hidePanelTitles:[i,o,(e,t)=>Boolean(e)===Boolean(t)]},titlesApi:{panelTitle:t,hidePanelTitle:i,setPanelTitle:a,setHidePanelTitle:o,panelDescription:n,setPanelDescription:s}}}},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/uiActions/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.ReactDom},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));const r=1,i="map"},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a}));const r="tile_map_vis",i="tile_map";let a=function(e){return e.ScaledCircleMarkers="Scaled Circle Markers",e.Heatmap="Heatmap",e}({})},,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));const r="region_map_vis",i="region_map"},function(e,t){e.exports=__kbnSharedDeps__.ElasticEui},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(18),i=n.n(r),a=n(2),o=n(44),s=n(31),c=n(32),u=n.n(c),l=n(20),d=n.n(l),p=n(14);const f="eui-global",_="eui-utilities",b={darkMode:!1};var E=n(4);const O=[p.euiStylisPrefixer],g=d()({key:"css",stylisPlugins:O,container:document.querySelector('meta[name="emotion"]')}),m=d()({key:f,stylisPlugins:O,container:document.querySelector(`meta[name="${f}"]`)}),T=d()({key:_,stylisPlugins:O,container:document.querySelector(`meta[name="${_}"]`)});g.compat=!0,m.compat=!0,T.compat=!0;const y={default:g,global:m,utility:T},v=({theme:{theme$:e},globalStyles:t,colorMode:n,modify:r,children:i})=>{const o=u()(e,b),s=Object(a.useMemo)((()=>(e=>e.darkMode?p.COLOR_MODES_STANDARD.dark:p.COLOR_MODES_STANDARD.light)(o)),[o]),c=n||s,l=!1!==t&&void 0;return Object(E.jsx)(p.EuiProvider,{cache:y,modify:r,colorMode:c,globalStyles:l,utilityClasses:l},i)},S=({children:e,i18n:t,...n})=>Object(o.useIsNestedEuiProvider)()?(Object(s.emitEuiProviderWarning)("KibanaRootContextProvider has likely been nested in this React tree, either by direct reference or by KibanaRenderContextProvider.  The result of this nesting is a nesting of EuiProvider, which has negative effects.  Check your React tree for nested Kibana context providers."),Object(E.jsx)(t.Context,null,e)):Object(E.jsx)(v,n,Object(E.jsx)(t.Context,null,e));var A=n(26);const h=({children:e,...t})=>Object(E.jsx)(S,i()({globalStyles:!1},t),Object(E.jsx)(A.KibanaErrorBoundaryProvider,{analytics:t.analytics},Object(E.jsx)(A.KibanaErrorBoundary,null,e)))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/expressions/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n(43),i=n(37);const a="geohash_grid",o=()=>new i.BucketAggType({name:a,expressionName:"",title:a,makeLabel:()=>a,params:[{name:"field",type:"field",filterFieldTypes:r.a.GEO_POINT}],getRequestAggs:e=>[]})},function(e,t,n){e.exports=n(27)(4)},function(e,t){e.exports=__kbnSharedDeps__.KbnAnalytics},function(e,t){e.exports=__kbnSharedDeps__.EmotionCache},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return MapsAppLocatorDefinition}));var r=n(6),i=n.n(r);const a="MAPS_APP_LOCATOR";class MapsAppLocatorDefinition{constructor(e){i()(this,"id",a),i()(this,"getLocation",(async e=>{const{getLocation:t}=await n.e(30).then(n.bind(null,87));return t(e,this.deps)})),this.deps=e}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l})),n(2);var r=n(3),i=n(46),a=n(16),o=n(38),s=n(11),c=n(4);const u=r.i18n.translate("xpack.maps.tileMap.vis.title",{defaultMessage:"Coordinate Map"}),l={name:s.c,title:u,icon:"visMapCoordinate",description:r.i18n.translate("xpack.maps.tileMap.vis.description",{defaultMessage:"Plot latitude and longitude coordinates on a map"}),editorConfig:{optionTabs:[{name:"",title:"",editor:function(e){const t=Object(i.a)((async()=>{const{TileMapEditor:e}=await n.e(21).then(n.bind(null,635));return{default:e}}));return Object(c.jsx)(t,e)}}]},visConfig:{defaults:{colorSchema:"Yellow to Red",mapType:s.a.ScaledCircleMarkers,mapZoom:2,mapCenter:[0,0]}},toExpressionAst:e=>{const t=Object(a.buildExpressionFunction)("tilemap",{visConfig:JSON.stringify({...e.params,mapCenter:e.uiState.get("mapCenter",[0,0]),mapZoom:parseInt(e.uiState.get("mapZoom",2),10),layerDescriptorParams:Object(o.a)(e)})});return Object(a.buildExpression)([t]).toAst()},requiresSearch:!0,disableCreate:!0}},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l})),n(2);var r=n(3),i=n(46),a=n(16),o=n(39),s=n(13),c=n(4);const u=r.i18n.translate("xpack.maps.regionMapMap.vis.title",{defaultMessage:"Region Map"}),l={name:s.b,title:u,icon:"visMapRegion",description:r.i18n.translate("xpack.maps.regionMap.vis.description",{defaultMessage:"Show metrics on a thematic map."}),editorConfig:{optionTabs:[{name:"",title:"",editor:function(e){const t=Object(i.a)((async()=>{const{RegionMapEditor:e}=await n.e(20).then(n.bind(null,637));return{default:e}}));return Object(c.jsx)(t,e)}}]},visConfig:{defaults:{colorSchema:"Yellow to Red",mapZoom:2,mapCenter:[0,0]}},toExpressionAst:e=>{const t=Object(a.buildExpressionFunction)("regionmap",{visConfig:JSON.stringify({...e.params,mapCenter:e.uiState.get("mapCenter",[0,0]),mapZoom:parseInt(e.uiState.get("mapZoom",2),10),layerDescriptorParams:Object(o.a)(e)})});return Object(a.buildExpression)([t]).toAst()},requiresSearch:!0,disableCreate:!0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"g",(function(){return f})),n.d(t,"f",(function(){return _})),n.d(t,"e",(function(){return E})),n.d(t,"d",(function(){return O}));var r=n(0);let i=function(e){return e.GEO_LINE_AGG="GEO_LINE_AGG",e.GEO_SHAPE_AGGS_GEO_TILE="GEO_SHAPE_AGGS_GEO_TILE",e.ON_PREM_EMS="ON_PREM_EMS",e}({});const a={[i.GEO_LINE_AGG]:{name:"geo_line aggregation",license:"gold"},[i.GEO_SHAPE_AGGS_GEO_TILE]:{name:"geo_tile aggregation on geo_shape field-type",license:"gold"},[i.ON_PREM_EMS]:{name:"layer from local Elastic Maps Server",license:"enterprise"}};let o,s=!1;const c=()=>o,u=()=>s;let l,d;const p=new Promise((e=>{d=e})),f=async()=>{await p};async function _(e){b(await e.refresh()),l=e,l.license$.subscribe(b),d(void 0)}function b(e){const t=e.check(r.e,"gold");s="valid"===t.state,o=e.uid}function E(e){for(const t of Object.values(i))e.featureUsage.register(a[t].name,a[t].license)}function O(e){l?l.featureUsage.notifyUsage(a[i[e]].name):console.error("May not call notifyLicensedFeatureUsage before plugin start")}},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/embeddable/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.KbnSharedUxErrorBoundary},function(e,t){e.exports=__kbnSharedDeps_npm__},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/data/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var r=n(10),i=n(5);function a(e=Object(i.e)()){return{get:async t=>e.client.get({contentTypeId:r.a,id:t}),create:async({data:t,options:n})=>await e.client.create({contentTypeId:r.a,data:t,options:n}),update:async({id:t,data:n,options:i})=>await e.client.update({contentTypeId:r.a,id:t,data:n,options:i}),delete:async t=>await e.client.delete({contentTypeId:r.a,id:t}),search:async(t={},n)=>e.client.search({contentTypeId:r.a,query:t,options:n})}}const o=n(3).i18n.translate("xpack.maps.saveDuplicateRejectedDescription",{defaultMessage:"Save with duplicate title confirmation was rejected"}),s=async({id:e,title:t,lastSavedTitle:n,copyOnSave:r,isTitleDuplicateConfirmed:i,getDisplayName:s,onTitleDuplicate:c},{overlays:u})=>{if(i)return!0;if(t===n&&!r)return!0;const{hits:l}=await a().search({text:`"${t}"`,limit:10},{onlyTitle:!0}),d=l.find((e=>e.attributes.title.toLowerCase()===t.toLowerCase()));return!d||d.id===e||(c(),Promise.reject(new Error(o)))}},function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));const r=[];function i(e){r.push({checkVisibility:async()=>!0,getIsDisabled:async()=>!1,isBeta:!1,...e})}function a(e){if(e.order<100)throw new Error("layerWizard.order should be greater than or equal to '100'");i(e)}async function o(){const e=r.map((async e=>({...e,isVisible:await e.checkVisibility(),isDisabled:await e.getIsDisabled()})));return(await Promise.all(e)).filter((({isVisible:e})=>e)).sort(((e,t)=>e.order-t.order))}function s(e){return r.find((t=>t.id===e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setEuiDevProviderWarning=t.getEuiDevProviderWarning=t.emitEuiProviderWarning=void 0;var r=void 0;t.setEuiDevProviderWarning=function(e){return r=e},t.getEuiDevProviderWarning=function(){return r},t.emitEuiProviderWarning=function(e){if("function"==typeof r)return r(e);switch(r){case"log":console.log(e);break;case"warn":console.warn(e);break;case"error":throw new Error(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(48),i=n(2),a=r.__importDefault(n(51));t.default=function(e,t){var n=i.useState(t),r=n[0],o=n[1];return a.default((function(){var t=e.subscribe(o);return function(){return t.unsubscribe()}}),[e]),r}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));const r=[];function i(e){if(r.some((({type:t})=>e.type===t)))throw new Error(`Unable to register source type ${e.type}. ${e.type} has already been registered`);r.push(e)}function a(e){return r.find((t=>t.type===e))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n(2);var r=n(3),i=n(46),a=n(4);const o={title:r.i18n.translate("xpack.maps.inspector.mapDetailsViewTitle",{defaultMessage:"Map details"}),order:30,help:r.i18n.translate("xpack.maps.inspector.mapDetailsViewHelpText",{defaultMessage:"View the map state"}),shouldShow:e=>Boolean(e.map),component:e=>{const t=Object(i.a)((async()=>{const{MapViewComponent:e}=await n.e(29).then(n.bind(null,88));return{default:e}}));return Object(a.jsx)(t,e)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n(2);var r=n(3),i=n(46),a=n(4);const o={title:r.i18n.translate("xpack.maps.inspector.vectorTileViewTitle",{defaultMessage:"Vector tiles"}),order:10,help:r.i18n.translate("xpack.maps.inspector.vectorTileViewHelpText",{defaultMessage:"View the vector tile search requests used to collect the data"}),shouldShow(e){var t;return Boolean(null===(t=e.vectorTiles)||void 0===t?void 0:t.hasLayers())},component:e=>{const t=Object(i.a)((async()=>{const{VectorTileInspector:e}=await n.e(0).then(n.bind(null,73));return{default:e}}));return Object(a.jsx)(t,e)}}},function(e,t,n){n.r(t);var r=__kbnBundles__.get("entry/core/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/data/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(28),i=n(22),a=n(17);function o(e){var t,n,o,s,c;const u={label:e.title?e.title:i.b,mapType:e.params.mapType,colorSchema:e.params.colorSchema,indexPatternId:null===(t=e.data.indexPattern)||void 0===t?void 0:t.id,metricAgg:"count"},l=null===(n=e.data)||void 0===n||null===(o=n.aggs)||void 0===o?void 0:o.byType("buckets");var d;if(null!=l&&l.length&&l[0].type.dslName===a.a)u.geoFieldName=null===(d=l[0].getField())||void 0===d?void 0:d.name;else if(e.data.indexPattern){const t=e.data.indexPattern.fields.find((e=>!r.indexPatterns.isNestedField(e)&&e.aggregatable&&"geo_point"===e.type));t&&(u.geoFieldName=t.name)}const p=null===(s=e.data)||void 0===s||null===(c=s.aggs)||void 0===c?void 0:c.byType("metrics");var f;return null!=p&&p.length&&(u.metricAgg=p[0].type.dslName,u.metricFieldName=null===(f=p[0].getField())||void 0===f?void 0:f.name),u}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(23);function i(e,t){if("string"==typeof e)return e;const n=t.split(".");return 2===n.length?n[1]:void 0}function a(e){var t,n,a,o,s;const c={label:e.title?e.title:r.b,emsLayerId:e.params.selectedLayer.isEMS?i(e.params.selectedLayer.id,e.params.selectedLayer.layerId):void 0,leftFieldName:e.params.selectedLayer.isEMS?e.params.selectedJoinField.name:void 0,colorSchema:e.params.colorSchema,indexPatternId:null===(t=e.data.indexPattern)||void 0===t?void 0:t.id,metricAgg:"count"},u=null===(n=e.data)||void 0===n||null===(a=n.aggs)||void 0===a?void 0:a.byType("buckets");var l;null!=u&&u.length&&"terms"===u[0].type.dslName&&(c.termsFieldName=null===(l=u[0].getField())||void 0===l?void 0:l.name,c.termsSize=u[0].getParam("size"));const d=null===(o=e.data)||void 0===o||null===(s=o.aggs)||void 0===s?void 0:s.byType("metrics");var p;return null!=d&&d.length&&(c.metricAgg=d[0].type.dslName,c.metricFieldName=null===(p=d[0].getField())||void 0===p?void 0:p.name),c}},function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!=i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;0!=i--;){var o=a[i];if(!e(t[o],n[o]))return!1}return!0}return t!=t&&n!=n}},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/visualizations/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){"use strict";function r(e){var t;return["region_map","tile_map"].includes(null===(t=e.getVis().type)||void 0===t?void 0:t.name)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return o}));var r=n(6),i=n.n(r);let a=function(e){return e._ID="_id",e._INDEX="_index",e._SOURCE="_source",e._TYPE="_type",e.STRING="string",e.TEXT="text",e.MATCH_ONLY_TEXT="match_only_text",e.KEYWORD="keyword",e.VERSION="version",e.BOOLEAN="boolean",e.OBJECT="object",e.DATE="date",e.DATE_NANOS="date_nanos",e.DATE_RANGE="date_range",e.GEO_POINT="geo_point",e.GEO_SHAPE="geo_shape",e.FLOAT="float",e.HALF_FLOAT="half_float",e.SCALED_FLOAT="scaled_float",e.DOUBLE="double",e.INTEGER="integer",e.LONG="long",e.SHORT="short",e.UNSIGNED_LONG="unsigned_long",e.AGGREGATE_METRIC_DOUBLE="aggregate_metric_double",e.FLOAT_RANGE="float_range",e.DOUBLE_RANGE="double_range",e.INTEGER_RANGE="integer_range",e.LONG_RANGE="long_range",e.NESTED="nested",e.BYTE="byte",e.IP="ip",e.IP_RANGE="ip_range",e.ATTACHMENT="attachment",e.TOKEN_COUNT="token_count",e.MURMUR3="murmur3",e.HISTOGRAM="histogram",e}({}),o=function(e){return e._SOURCE="_source",e.ATTACHMENT="attachment",e.BOOLEAN="boolean",e.DATE="date",e.DATE_RANGE="date_range",e.GEO_POINT="geo_point",e.GEO_SHAPE="geo_shape",e.IP="ip",e.IP_RANGE="ip_range",e.MURMUR3="murmur3",e.NUMBER="number",e.NUMBER_RANGE="number_range",e.STRING="string",e.UNKNOWN="unknown",e.CONFLICT="conflict",e.OBJECT="object",e.NESTED="nested",e.HISTOGRAM="histogram",e.MISSING="missing",e}({});class kbn_field_type_KbnFieldType{constructor(e={}){i()(this,"name",void 0),i()(this,"sortable",void 0),i()(this,"filterable",void 0),i()(this,"esTypes",void 0),this.name=e.name||o.UNKNOWN,this.sortable=e.sortable||!1,this.filterable=e.filterable||!1,this.esTypes=Object.freeze((e.esTypes||[]).slice())}}const s=new kbn_field_type_KbnFieldType({name:o.UNKNOWN}),c=[new kbn_field_type_KbnFieldType({name:o.STRING,sortable:!0,filterable:!0,esTypes:[a.STRING,a.TEXT,a.MATCH_ONLY_TEXT,a.KEYWORD,a.VERSION,a._TYPE,a._ID]}),new kbn_field_type_KbnFieldType({name:o.NUMBER,sortable:!0,filterable:!0,esTypes:[a.FLOAT,a.HALF_FLOAT,a.SCALED_FLOAT,a.DOUBLE,a.INTEGER,a.LONG,a.UNSIGNED_LONG,a.SHORT,a.BYTE,a.TOKEN_COUNT,a.AGGREGATE_METRIC_DOUBLE]}),new kbn_field_type_KbnFieldType({name:o.NUMBER_RANGE,sortable:!0,filterable:!0,esTypes:[a.FLOAT_RANGE,a.DOUBLE_RANGE,a.INTEGER_RANGE,a.LONG_RANGE]}),new kbn_field_type_KbnFieldType({name:o.DATE,sortable:!0,filterable:!0,esTypes:[a.DATE,a.DATE_NANOS]}),new kbn_field_type_KbnFieldType({name:o.DATE_RANGE,sortable:!0,filterable:!0,esTypes:[a.DATE_RANGE]}),new kbn_field_type_KbnFieldType({name:o.IP,sortable:!0,filterable:!0,esTypes:[a.IP]}),new kbn_field_type_KbnFieldType({name:o.IP_RANGE,sortable:!0,filterable:!0,esTypes:[a.IP_RANGE]}),new kbn_field_type_KbnFieldType({name:o.BOOLEAN,sortable:!0,filterable:!0,esTypes:[a.BOOLEAN]}),new kbn_field_type_KbnFieldType({name:o.OBJECT,esTypes:[a.OBJECT]}),new kbn_field_type_KbnFieldType({name:o.NESTED,esTypes:[a.NESTED]}),new kbn_field_type_KbnFieldType({name:o.GEO_POINT,esTypes:[a.GEO_POINT]}),new kbn_field_type_KbnFieldType({name:o.GEO_SHAPE,esTypes:[a.GEO_SHAPE]}),new kbn_field_type_KbnFieldType({name:o.ATTACHMENT,esTypes:[a.ATTACHMENT]}),new kbn_field_type_KbnFieldType({name:o.MURMUR3,esTypes:[a.MURMUR3]}),new kbn_field_type_KbnFieldType({name:o._SOURCE,esTypes:[a._SOURCE]}),new kbn_field_type_KbnFieldType({name:o.HISTOGRAM,filterable:!0,esTypes:[a.HISTOGRAM]}),new kbn_field_type_KbnFieldType({name:o.CONFLICT}),s],u=e=>{const t=c.find((t=>t.esTypes.includes(e)));return t&&t.name?t.name:o.UNKNOWN};function l(e){switch(e){case a._INDEX:return o.STRING;case"_version":return o.NUMBER;case"datetime":return o.DATE;default:return u(e)}}},function(e,t){e.exports=__kbnSharedDeps__.ElasticEuiLibComponentsUseIsNestedEuiProvider},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/visualizations/common/utils");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(2),i=n.n(r),a=n(4);function o(e,t={}){const n=i.a.lazy(e);return i.a.forwardRef(((e,o)=>{var s;return Object(a.jsx)(r.Suspense,{fallback:null!==(s=t.fallback)&&void 0!==s?s:null},i.a.createElement(n,{...e,ref:o}))}))}},function(e,t,n){"use strict";n.r(t);var r=n(0);n.d(t,"AGG_TYPE",(function(){return r.b})),n.d(t,"APP_ID",(function(){return r.e})),n.d(t,"COLOR_MAP_TYPE",(function(){return r.j})),n.d(t,"DECIMAL_DEGREES_PRECISION",(function(){return r.o})),n.d(t,"ES_GEO_FIELD_TYPE",(function(){return r.A})),n.d(t,"FIELD_ORIGIN",(function(){return r.D})),n.d(t,"INITIAL_LOCATION",(function(){return r.S})),n.d(t,"LABEL_BORDER_SIZES",(function(){return r.V})),n.d(t,"LABEL_POSITIONS",(function(){return r.W})),n.d(t,"LAYER_TYPE",(function(){return r.Z})),n.d(t,"MAP_SAVED_OBJECT_TYPE",(function(){return r.fb})),n.d(t,"SCALING_TYPES",(function(){return r.wb})),n.d(t,"SOURCE_TYPES",(function(){return r.Cb})),n.d(t,"STYLE_TYPE",(function(){return r.Eb})),n.d(t,"SYMBOLIZE_AS_TYPES",(function(){return r.Fb})),n.d(t,"LAYER_WIZARD_CATEGORY",(function(){return r.ab})),n.d(t,"MAX_ZOOM",(function(){return r.hb})),n.d(t,"MIN_ZOOM",(function(){return r.mb})),n.d(t,"VECTOR_SHAPE_TYPE",(function(){return r.Hb})),n.d(t,"VECTOR_STYLES",(function(){return r.Ib}))},function(e,t){e.exports=__kbnSharedDeps__.TsLib},function(e,t,n){n(50),__kbnBundles__.define("plugin/maps/public",n,52),__kbnBundles__.define("plugin/maps/common",n,47)},function(e,t,n){n.p=window.__kbnPublicPath__.maps},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i="undefined"!=typeof window?r.useLayoutEffect:r.useEffect;t.default=i},function(e,t,n){"use strict";n.r(t),n.d(t,"plugin",(function(){return ce})),n.d(t,"GEOJSON_FEATURE_ID_PROPERTY_NAME",(function(){return x.H})),n.d(t,"MAP_SAVED_OBJECT_TYPE",(function(){return x.fb})),n.d(t,"MAPS_APP_LOCATOR",(function(){return R.a})),n.d(t,"isMapApi",(function(){return se}));var r=n(6),i=n.n(r),a=n(2),o=n.n(a),s=n(36),c=n(8),u=n(25),l=n(17),d=n(22),p=n(3),f=n(11);const _=()=>({name:"tilemap",type:"render",help:p.i18n.translate("xpack.maps.tileMap.function.help",{defaultMessage:"Tilemap visualization"}),args:{visConfig:{types:["string"],default:'"{}"',help:""}},async fn(e,t){const n=e.query;return{type:"render",as:f.b,value:{visType:f.c,visConfig:JSON.parse(t.visConfig),filters:e.filters,query:Array.isArray(n)?n[0]:n,timeRange:e.timeRange}}}});var b=n(9),E=n.n(b),O=n(46),g=n(15),m=n(5),T=n(4);const y=Object(O.a)((async()=>{const{TileMapVisualization:e}=await Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(7),n.e(22)]).then(n.bind(null,636));return{default:e}})),v={name:f.b,reuseDomNode:!0,render:async(e,{filters:t,query:n,timeRange:r,visConfig:i},a)=>{a.onDestroy((()=>{Object(b.unmountComponentAtNode)(e)}));const o={onInitialRenderComplete:()=>{a.done()},filters:t,query:n,timeRange:r,visConfig:i};Object(b.render)(Object(T.jsx)(g.a,{analytics:Object(m.a)(),i18n:Object(m.h)(),theme:Object(m.P)()},Object(T.jsx)(y,o)),e)}};var S=n(23),A=n(13);const h=()=>({name:"regionmap",type:"render",help:p.i18n.translate("xpack.maps.regionMap.function.help",{defaultMessage:"Regionmap visualization"}),args:{visConfig:{types:["string"],default:'"{}"',help:""}},async fn(e,t){const n=e.query;return{type:"render",as:A.a,value:{visType:A.b,visConfig:JSON.parse(t.visConfig),filters:e.filters,query:Array.isArray(n)?n[0]:n,timeRange:e.timeRange}}}}),L=Object(O.a)((async()=>{const{RegionMapVisualization:e}=await Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(8),n.e(17)]).then(n.bind(null,638));return{default:e}})),I={name:A.a,reuseDomNode:!0,render:async(e,{filters:t,query:n,timeRange:r,visConfig:i},a)=>{a.onDestroy((()=>{Object(b.unmountComponentAtNode)(e)}));const o={onInitialRenderComplete:()=>{a.done()},filters:t,query:n,timeRange:r,visConfig:i};Object(b.render)(Object(T.jsx)(g.a,{analytics:Object(m.a)(),i18n:Object(m.h)(),theme:Object(m.P)()},Object(T.jsx)(L,o)),e)}};var R=n(21);class locator_definition_MapsAppTileMapLocatorDefinition{constructor(e){i()(this,"id","MAPS_APP_TILE_MAP_LOCATOR"),i()(this,"getLocation",(async e=>{const{getLocation:t}=await Promise.all([n.e(0),n.e(1),n.e(2),n.e(7),n.e(31)]).then(n.bind(null,639));return t(e,this.deps)})),this.deps=e}}class locator_definition_MapsAppRegionMapLocatorDefinition{constructor(e){i()(this,"id","MAPS_APP_REGION_MAP_LOCATOR"),i()(this,"getLocation",(async e=>{const{getLocation:t}=await Promise.all([n.e(0),n.e(1),n.e(2),n.e(8),n.e(16)]).then(n.bind(null,640));return t(e,this.deps)})),this.deps=e}}var N=n(24),M=n(33),P=n(30);const j={async createSecurityLayerDescriptors(e,t){const{createSecurityLayerDescriptors:r}=await Promise.all([n.e(0),n.e(1),n.e(2),n.e(4),n.e(6),n.e(15)]).then(n.bind(null,624));return r(e,t)},async createBasemapLayerDescriptor(){const{createBasemapLayerDescriptor:e}=await Promise.all([n.e(0),n.e(1),n.e(3)]).then(n.bind(null,157));return e()},async createESSearchSourceLayerDescriptor(e){const{createLayerDescriptor:t}=await Promise.all([n.e(0),n.e(1),n.e(2),n.e(4)]).then(n.bind(null,131));return t(e)}};async function C(e){const{suggestEMSTermJoinConfig:t}=await n.e(19).then(n.bind(null,194));return await t(e)}var D=n(7),w=n(41),x=n(0),k=n(42);const B="FILTER_BY_MAP_EXTENT",G=e=>Boolean(Object(D.b)(e));function U(e){var t;return G(e)&&"dashboard"===(null===(t=e.parentApi)||void 0===t?void 0:t.type)?p.i18n.translate("xpack.maps.filterByMapExtentMenuItem.dashboardLabel",{defaultMessage:"dashboard"}):p.i18n.translate("xpack.maps.filterByMapExtentMenuItem.pageLabel",{defaultMessage:"page"})}function F(e){return p.i18n.translate("xpack.maps.filterByMapExtentMenuItem.displayName",{defaultMessage:"Filter {containerLabel} by map bounds",values:{containerLabel:U(e)}})}const V=Object(c.createAction)({id:B,type:B,order:20,getDisplayName:({embeddable:e})=>F(e),getDisplayNameTooltip:({embeddable:e})=>p.i18n.translate("xpack.maps.filterByMapExtentMenuItem.displayNameTooltip",{defaultMessage:"As you zoom and pan the map, the {containerLabel} updates to display only the data visible in the map bounds.",values:{containerLabel:U(e)}}),getIconType:()=>"filter",isCompatible:async({embeddable:e})=>!(!G(e)||Object(D.f)(e))&&(Object(D.c)(e,x.fb)||Object(w.apiHasVisualizeConfig)(e)&&Object(k.a)(e)),execute:async({embeddable:e})=>{const{openModal:t}=await n.e(25).then(n.bind(null,641));t(F(e))}}),$="SYNCHRONIZE_MOVEMENT_ACTION",H=Object(c.createAction)({id:$,type:$,order:21,getDisplayName:()=>p.i18n.translate("xpack.maps.synchronizeMovementAction.title",{defaultMessage:"Synchronize map movement"}),getDisplayNameTooltip:()=>p.i18n.translate("xpack.maps.synchronizeMovementAction.tooltipContent",{defaultMessage:"Synchronize maps, so that if you zoom and pan in one map, the movement is reflected in other maps"}),getIconType:()=>"crosshairs",isCompatible:async({embeddable:e})=>{if(t=e,!Boolean(Object(D.b)(t)))return!1;var t;const{isCompatible:r}=await n.e(26).then(n.bind(null,642));return r(e)},execute:async()=>{const{openModal:e}=await n.e(27).then(n.bind(null,643));e()}});var Y=n(19);const K=Object(c.createAction)({id:c.ACTION_VISUALIZE_GEO_FIELD,type:c.ACTION_VISUALIZE_GEO_FIELD,getDisplayName:()=>p.i18n.translate("xpack.maps.discover.visualizeFieldLabel",{defaultMessage:"Visualize in Maps"}),isCompatible:async e=>Boolean(!!Object(m.V)().show&&e.dataViewSpec&&e.fieldName),getHref:async e=>{const{getMapsLink:t}=await n.e(9).then(n.bind(null,644)),{app:r,path:i}=await t(e);return Object(m.f)().application.getUrlForApp(r,{path:i,absolute:!1})},execute:async e=>{const{getMapsLink:t}=await n.e(9).then(n.bind(null,644)),{app:r,path:i,state:a}=await t(e),o=Object(m.U)();null==o||o.reportUiCounter(x.e,Y.METRIC_TYPE.CLICK,`create_maps_vis_${e.originatingApp?e.originatingApp:"unknownOriginatingApp"}`),Object(m.f)().application.navigateToApp(r,{path:i,state:a})}});var z=n(29);const W={id:x.e,title:x.f,subtitle:p.i18n.translate("xpack.maps.featureCatalogue.mapsSubtitle",{defaultMessage:"Plot geographic data."}),description:p.i18n.translate("xpack.maps.feature.appDescription",{defaultMessage:"Explore geospatial data from Elasticsearch and the Elastic Maps Service."}),icon:x.c,path:"/app/maps",showOnHomePage:!1,category:"data",solutionId:"kibana",order:400};var q=n(34),Z=n(35),J=n(45),X=n(18),Q=n.n(X);const ee="lens_choropleth_chart_renderer",te=()=>({name:"lens_choropleth_chart",type:"render",help:"A choropleth chart. Metrics are joined to vector features to compare values across political boundaries",args:{title:{types:["string"],help:""},description:{types:["string"],help:""},layerId:{types:["string"],help:""},emsField:{types:["string"],help:"Elastic Map Service boundaries layer field provides the vector feature join key"},emsLayerId:{types:["string"],help:"Elastic Map Service boundaries layer id that provides vector features"},regionAccessor:{types:["string"],help:"Bucket accessor identifies the region key column"},valueAccessor:{types:["string"],help:"Value accessor identifies the value column"}},inputTypes:["datatable"],fn(e,t,n){var r;if(null!=n&&null!==(r=n.inspectorAdapters)&&void 0!==r&&r.tables){n.inspectorAdapters.tables.reset(),n.inspectorAdapters.tables.allowCsvExport=!0;const r=Object(J.prepareLogTable)(e,[[t.valueAccessor?[t.valueAccessor]:void 0,p.i18n.translate("xpack.maps.logDatatable.value",{defaultMessage:"Value"})],[t.regionAccessor?[t.regionAccessor]:void 0,p.i18n.translate("xpack.maps.logDatatable.region",{defaultMessage:"Region key"})]],!0);n.inspectorAdapters.tables.logDatatable("default",r)}return{type:"render",as:ee,value:{data:e,args:t}}}});const ne=Object(O.a)((async()=>{const{PassiveMap:e}=await Promise.all([n.e(0),n.e(1),n.e(3),n.e(23)]).then(n.bind(null,338));return{default:e}}));function re(e){return Object(T.jsx)(ne,e)}var ie=n(10);const ae=Object(O.a)((async()=>{const{MapRenderer:e}=await Promise.all([n.e(0),n.e(1),n.e(3),n.e(32)]).then(n.bind(null,192));return{default:e}}));function oe(e){return Object(T.jsx)(ae,e)}class plugin_MapsPlugin{constructor(e){i()(this,"_initializerContext",void 0),this._initializerContext=e}setup(e,t){var r,i;Object(N.e)(t.licensing);const a=this._initializerContext.config.get();Object(m.Y)({...a,preserveDrawingBuffer:!(null===(r=t.screenshotMode)||void 0===r||!r.isScreenshotMode())||a.preserveDrawingBuffer});const c=t.share.url.locators.create(new R.b({useHash:e.uiSettings.get("state:storeInSessionStorage")}));var u,f,b,O;return t.share.url.locators.create(new locator_definition_MapsAppTileMapLocatorDefinition({locator:c})),t.share.url.locators.create(new locator_definition_MapsAppRegionMapLocatorDefinition({locator:c})),t.inspector.registerView(Z.a),t.inspector.registerView(q.a),t.home&&t.home.featureCatalogue.register(W),t.visualizations.registerAlias(function(){const e=p.i18n.translate("xpack.maps.visTypeAlias.description",{defaultMessage:"Create and style maps with multiple layers and indices."});return{alias:{app:x.e,path:`/${x.eb}`},name:x.e,title:x.f,description:e,icon:x.c,stage:"production",order:40,appExtensions:{visualizations:{docTypes:[x.fb],searchFields:["title^3"],client:z.b,toListItem(e){const{id:t,type:n,updatedAt:r,attributes:i,managed:a}=e,{title:o,description:s}=i;return{id:t,title:o,description:s,updatedAt:r,managed:a,editor:{editUrl:Object(x.Mb)(t),editApp:x.e},icon:x.c,stage:"production",savedObjectType:n,typeTitle:x.f}}}}}}()),e.application.register({id:x.e,title:x.f,order:4e3,icon:`plugins/${x.e}/icon.svg`,euiIconType:x.d,category:s.DEFAULT_APP_CATEGORIES.kibana,async mount(r){var i,a;const[,s,{renderApp:c}]=await Promise.all([Object(m.bb)(),e.getStartServices(),Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(4),n.e(5),n.e(6),n.e(12)]).then(n.bind(null,648))]),[u,{savedObjectsTagging:l,spaces:d}]=s,p=null!==(i=null===(a=t.usageCollection)||void 0===a?void 0:a.components.ApplicationUsageTrackingProvider)&&void 0!==i?i:o.a.Fragment,f=await(null==d?void 0:d.getActiveSpace());return f&&Object(m.Z)(f.id),c(r,{coreStart:u,AppUsageTracker:p,savedObjectsTagging:l})}}),t.contentManagement.registry.register({id:ie.a,version:{latest:ie.b},name:x.f}),(u=t.embeddable).registerReactEmbeddableFactory(x.fb,(async()=>{const e=Object(m.bb)(),[,{mapEmbeddableFactory:t}]=await Promise.all([e,Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(4),n.e(5),n.e(24)]).then(n.bind(null,649))]);return t})),u.registerReactEmbeddableSavedObject({onAdd:(e,t)=>{e.addNewPanel({panelType:x.fb,initialState:{savedObjectId:t.id}})},embeddableType:x.fb,savedObjectType:x.fb,savedObjectName:p.i18n.translate("xpack.maps.mapSavedObjectLabel",{defaultMessage:"Map"}),getIconForSavedObject:()=>x.c}),f=e,b=t.expressions,O=t.lens,b.registerRenderer((()=>function(e){return{name:ee,displayName:"Choropleth chart",help:"Choropleth chart renderer",validate:()=>{},reuseDomNode:!0,render:async(t,r,i)=>{const[a,o]=await e.getStartServices(),{ChoroplethChart:s}=await Promise.all([n.e(0),n.e(1),n.e(3),n.e(14)]).then(n.bind(null,645)),{getEmsFileLayers:c}=await n.e(10).then(n.bind(null,95));let u=[];try{u=await c()}catch(e){}i.event({name:"chartSize",data:{maxDimensions:{x:{value:100,unit:"percentage"},y:{value:100,unit:"percentage"}}}}),E.a.render(Object(T.jsx)(g.a,{analytics:Object(m.a)(),i18n:Object(m.h)(),theme:Object(m.P)()},Object(T.jsx)(s,Q()({},r,{formatFactory:o.fieldFormats.deserialize,uiSettings:a.uiSettings,emsFileLayers:u,onRenderComplete:()=>{const e=i.getExecutionContext(),t=(e=>{if(e){var t;const n=e=>e.type?e:e.child?n(e.child):void 0;return null===(t=n(e))||void 0===t?void 0:t.type}})(e),n=(e=>{if(e){var t;const n=e=>e.child?n(e.child):e;return null===(t=n(e))||void 0===t?void 0:t.type}})(e);var r;t&&n&&(null===(r=o.usageCollection)||void 0===r||r.reportUiCounter(t,Y.METRIC_TYPE.COUNT,[`render_${n}_regionmap`])),i.done()}}))),t),i.onDestroy((()=>E.a.unmountComponentAtNode(t)))}}}(f))),b.registerFunction(te),O.registerVisualization((async()=>{const[e,t]=await f.getStartServices(),{getEmsFileLayers:r}=await n.e(10).then(n.bind(null,95)),{getVisualization:i}=await n.e(13).then(n.bind(null,651));let a=[];try{a=await r()}catch(t){console.warn(`Lens region map setup is unable to access administrative boundaries from Elastic Maps Service (EMS). To avoid unnecessary EMS requests, set 'map.includeElasticMapsService: false' in 'kibana.yml'. For more details please visit ${e.docLinks.links.maps.connectToEms}`)}return i({theme:e.theme,emsFileLayers:a,paletteService:await t.charts.palettes.getPalettes()})})),t.data.search.aggs.types.registerLegacy(l.a,l.b),t.expressions.registerFunction(h),t.expressions.registerRenderer(I),t.visualizations.createBaseVisualization(S.a),t.expressions.registerFunction(_),t.expressions.registerRenderer(v),t.visualizations.createBaseVisualization(d.a),Object(m.X)(!(null===(i=t.cloud)||void 0===i||!i.isCloudEnabled)),{registerLayerWizard:P.c,registerSource:M.b}}start(e,t){return Object(N.f)(t.licensing),Object(m.ab)(e,t),e.application.capabilities.maps.show&&t.uiActions.addTriggerAction(c.VISUALIZE_GEO_FIELD_TRIGGER,K),t.uiActions.addTriggerAction(u.CONTEXT_MENU_TRIGGER,V),t.uiActions.addTriggerAction(u.CONTEXT_MENU_TRIGGER,H),e.application.capabilities.maps.save||t.visualizations.unRegisterAlias(x.e),{createLayerDescriptors:j,suggestEMSTermJoinConfig:C,Map:oe,PassiveMap:re}}}const se=e=>Boolean(e&&Object(D.c)(e,"map")&&"function"==typeof e.getLayerList&&Object(D.d)(e)&&Object(D.e)(e)),ce=e=>new plugin_MapsPlugin(e)},function(e,t){e.exports=__kbnSharedDeps__.Lodash},function(e,t){e.exports=__kbnSharedDeps__.KbnI18nReact},function(e,t){e.exports=__kbnSharedDeps__.ReactRedux},function(e,t){e.exports=__kbnSharedDeps__.Uuid},function(e,t){e.exports=__kbnSharedDeps__.Classnames},function(e,t){e.exports=__kbnSharedDeps__.KbnEsQuery},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/unifiedSearch/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.ReactRouterDom},function(e,t){e.exports=__kbnSharedDeps__.KbnStd},function(e,t){e.exports=__kbnSharedDeps__.KbnUiTheme},function(e,t){e.exports=__kbnSharedDeps__.KbnRison},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.Moment},function(e,t){e.exports=__kbnSharedDeps__.ReactQuery},function(e,t){e.exports=__kbnSharedDeps__.KbnSearchErrors},function(e,t){e.exports=__kbnSharedDeps__.KbnMonaco},function(e,t){e.exports=__kbnSharedDeps__.KbnCodeEditor},function(e,t){e.exports=__kbnSharedDeps__.ReactRouterDomV5Compat},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/lens/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},,function(e,t){e.exports=__kbnSharedDeps__.Redux},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/inspector/common/adapters/request");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.Reselect},function(e,t){e.exports=__kbnSharedDeps__.ElasticNumeral},function(e,t){e.exports=__kbnSharedDeps__.SaferLodashSet},function(e,t){e.exports=__kbnSharedDeps__.KbnEsqlAst},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/textBasedLanguages/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/mapsEms/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/controls/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/fieldFormats/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/usageCollection/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/savedObjects/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/presentationUtil/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))}]);