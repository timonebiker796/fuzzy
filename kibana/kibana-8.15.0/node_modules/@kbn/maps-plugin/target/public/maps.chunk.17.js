/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.maps_bundle_jsonpfunction=window.maps_bundle_jsonpfunction||[]).push([[17,32],{109:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2);t.default=function(){var e=n.useRef(!1),t=n.useCallback((function(){return e.current}),[]);return n.useEffect((function(){return e.current=!0,function(){e.current=!1}})),t}},192:function(e,t,r){"use strict";r.r(t),r.d(t,"MapRenderer",(function(){return u}));var n=r(2),i=r(25),a=r(7),s=r(157),o=r(0),l=r(4);function c(e){const t=Object(s.createBasemapLayerDescriptor)();return t?[t,...e]:e}function u(e){const t=Object(n.useRef)(void 0),r=Object(n.useRef)(void 0);Object(n.useEffect)((()=>{t.current?t.current.setLayerList(c(e.layerList)):r.current=c(e.layerList)}),[e.layerList]);const s=Object(a.m)({filters:e.filters,query:e.query,timeRange:e.timeRange});return Object(l.jsx)("div",{className:"mapEmbeddableContainer"},Object(l.jsx)(i.ReactEmbeddableRenderer,{type:o.fb,getParentApi:()=>({...s,getSerializedStateForChild:()=>{var t,r;const n={attributes:{title:null!==(t=e.title)&&void 0!==t?t:"",layerListJSON:JSON.stringify(c(e.layerList))},hidePanelTitles:!Boolean(e.title),isLayerTOCOpen:"boolean"==typeof e.isLayerTOCOpen&&e.isLayerTOCOpen,hideFilterActions:"boolean"==typeof e.hideFilterActions&&e.hideFilterActions,mapCenter:e.mapCenter,mapSettings:null!==(r=e.mapSettings)&&void 0!==r?r:{},isSharable:e.isSharable};return e.getTooltipRenderer&&(n.tooltipRenderer=e.getTooltipRenderer()),{rawState:n,references:[]}}}),onApiAvailable:n=>{t.current=n,r.current&&n.setLayerList(r.current),e.onApiAvailable&&e.onApiAvailable(n)},hidePanelChrome:!0}))}},638:function(e,t,r){"use strict";r.r(t),r.d(t,"RegionMapVisualization",(function(){return u}));var n=r(2),i=r(109),a=r.n(i),s=r(1),o=r(192),l=r(337),c=r(4);function u(e){const t=a()(),r=Object(n.useMemo)((()=>({lat:e.visConfig.mapCenter[0],lon:e.visConfig.mapCenter[1],zoom:e.visConfig.mapZoom})),[]),i=Object(n.useMemo)((()=>{const t=Object(l.a)(e.visConfig.layerDescriptorParams);return t?[t]:[]}),[]);return Object(c.jsx)(o.MapRenderer,{title:e.visConfig.layerDescriptorParams.label,filters:e.filters,query:e.query,timeRange:e.timeRange,mapCenter:r,isLayerTOCOpen:!0,layerList:i,onApiAvailable:r=>{r.onRenderComplete$.pipe(Object(s.first)()).subscribe((()=>{t()&&e.onInitialRenderComplete()}))},isSharable:!1})}}}]);