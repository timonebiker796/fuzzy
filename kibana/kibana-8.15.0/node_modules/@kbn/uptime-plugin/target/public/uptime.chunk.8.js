/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.uptime_bundle_jsonpfunction=window.uptime_bundle_jsonpfunction||[]).push([[8],{102:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(94);const i={CRITICAL:"#fe5050",MAJOR:"#fba740",MINOR:"#fdec25",WARNING:"#8bc8fb",LOW:"#d2e9f7",BLANK:"#ffffff"};function r(e){return e>=n.a.CRITICAL?i.CRITICAL:e>=n.a.MAJOR?i.MAJOR:e>=n.a.MINOR?i.MINOR:e>=n.a.WARNING?i.WARNING:e>=n.a.LOW?i.LOW:i.BLANK}},138:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(1);t.default=function(e,t){var a=n.useState(null),i=a[0],r=a[1];return n.useEffect((function(){if(e.current&&"function"==typeof IntersectionObserver){var a=new IntersectionObserver((function(e){r(e[0])}),t);return a.observe(e.current),function(){r(null),a.disconnect()}}return function(){}}),[e.current,t.threshold,t.root,t.rootMargin]),i}},184:function(e,t,a){"use strict";var n=a(185),i=a(186);function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=v,t.resolve=function(e,t){return v(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?v(e,!1,!0).resolveObject(t):t},t.format=function(e){return i.isString(e)&&(e=v(e)),e instanceof r?e.format():r.prototype.format.call(e)},t.Url=r;var l=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(u),d=["%","/","?",";","#"].concat(c),m=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,g=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,h={javascript:!0,"javascript:":!0},f={javascript:!0,"javascript:":!0},b={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},E=a(12);function v(e,t,a){if(e&&i.isObject(e)&&e instanceof r)return e;var n=new r;return n.parse(e,t,a),n}r.prototype.parse=function(e,t,a){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),o=-1!==r&&r<e.indexOf("#")?"?":"#",u=e.split(o);u[0]=u[0].replace(/\\/g,"/");var v=e=u.join(o);if(v=v.trim(),!a&&1===e.split("#").length){var y=s.exec(v);if(y)return this.path=v,this.href=v,this.pathname=y[1],y[2]?(this.search=y[2],this.query=t?E.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var x=l.exec(v);if(x){var k=(x=x[0]).toLowerCase();this.protocol=k,v=v.substr(x.length)}if(a||x||v.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===v.substr(0,2);!S||x&&f[x]||(v=v.substr(2),this.slashes=!0)}if(!f[x]&&(S||x&&!b[x])){for(var w,j,O=-1,M=0;M<m.length;M++)-1!==(C=v.indexOf(m[M]))&&(-1===O||C<O)&&(O=C);for(-1!==(j=-1===O?v.lastIndexOf("@"):v.lastIndexOf("@",O))&&(w=v.slice(0,j),v=v.slice(j+1),this.auth=decodeURIComponent(w)),O=-1,M=0;M<d.length;M++){var C;-1!==(C=v.indexOf(d[M]))&&(-1===O||C<O)&&(O=C)}-1===O&&(O=v.length),this.host=v.slice(0,O),v=v.slice(O),this.parseHost(),this.hostname=this.hostname||"";var I="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!I)for(var T=this.hostname.split(/\./),F=(M=0,T.length);M<F;M++){var L=T[M];if(L&&!L.match(p)){for(var A="",D=0,R=L.length;D<R;D++)L.charCodeAt(D)>127?A+="x":A+=L[D];if(!A.match(p)){var P=T.slice(0,M),z=T.slice(M+1),N=L.match(g);N&&(P.push(N[1]),z.unshift(N[2])),z.length&&(v="/"+z.join(".")+v),this.hostname=P.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),I||(this.hostname=n.toASCII(this.hostname));var B=this.port?":"+this.port:"",_=this.hostname||"";this.host=_+B,this.href+=this.host,I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==v[0]&&(v="/"+v))}if(!h[k])for(M=0,F=c.length;M<F;M++){var $=c[M];if(-1!==v.indexOf($)){var H=encodeURIComponent($);H===$&&(H=escape($)),v=v.split($).join(H)}}var G=v.indexOf("#");-1!==G&&(this.hash=v.substr(G),v=v.slice(0,G));var U=v.indexOf("?");if(-1!==U?(this.search=v.substr(U),this.query=v.substr(U+1),t&&(this.query=E.parse(this.query)),v=v.slice(0,U)):t&&(this.search="",this.query={}),v&&(this.pathname=v),b[k]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){B=this.pathname||"";var W=this.search||"";this.path=B+W}return this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",a=this.pathname||"",n=this.hash||"",r=!1,l="";this.host?r=e+this.host:this.hostname&&(r=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(l=E.stringify(this.query));var o=this.search||l&&"?"+l||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||b[t])&&!1!==r?(r="//"+(r||""),a&&"/"!==a.charAt(0)&&(a="/"+a)):r||(r=""),n&&"#"!==n.charAt(0)&&(n="#"+n),o&&"?"!==o.charAt(0)&&(o="?"+o),t+r+(a=a.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(o=o.replace("#","%23"))+n},r.prototype.resolve=function(e){return this.resolveObject(v(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if(i.isString(e)){var t=new r;t.parse(e,!1,!0),e=t}for(var a=new r,n=Object.keys(this),l=0;l<n.length;l++){var o=n[l];a[o]=this[o]}if(a.hash=e.hash,""===e.href)return a.href=a.format(),a;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),u=0;u<s.length;u++){var c=s[u];"protocol"!==c&&(a[c]=e[c])}return b[a.protocol]&&a.hostname&&!a.pathname&&(a.path=a.pathname="/"),a.href=a.format(),a}if(e.protocol&&e.protocol!==a.protocol){if(!b[e.protocol]){for(var d=Object.keys(e),m=0;m<d.length;m++){var p=d[m];a[p]=e[p]}return a.href=a.format(),a}if(a.protocol=e.protocol,e.host||f[e.protocol])a.pathname=e.pathname;else{for(var g=(e.pathname||"").split("/");g.length&&!(e.host=g.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==g[0]&&g.unshift(""),g.length<2&&g.unshift(""),a.pathname=g.join("/")}if(a.search=e.search,a.query=e.query,a.host=e.host||"",a.auth=e.auth,a.hostname=e.hostname||e.host,a.port=e.port,a.pathname||a.search){var h=a.pathname||"",E=a.search||"";a.path=h+E}return a.slashes=a.slashes||e.slashes,a.href=a.format(),a}var v=a.pathname&&"/"===a.pathname.charAt(0),y=e.host||e.pathname&&"/"===e.pathname.charAt(0),x=y||v||a.host&&e.pathname,k=x,S=a.pathname&&a.pathname.split("/")||[],w=(g=e.pathname&&e.pathname.split("/")||[],a.protocol&&!b[a.protocol]);if(w&&(a.hostname="",a.port=null,a.host&&(""===S[0]?S[0]=a.host:S.unshift(a.host)),a.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===g[0]?g[0]=e.host:g.unshift(e.host)),e.host=null),x=x&&(""===g[0]||""===S[0])),y)a.host=e.host||""===e.host?e.host:a.host,a.hostname=e.hostname||""===e.hostname?e.hostname:a.hostname,a.search=e.search,a.query=e.query,S=g;else if(g.length)S||(S=[]),S.pop(),S=S.concat(g),a.search=e.search,a.query=e.query;else if(!i.isNullOrUndefined(e.search))return w&&(a.hostname=a.host=S.shift(),(I=!!(a.host&&a.host.indexOf("@")>0)&&a.host.split("@"))&&(a.auth=I.shift(),a.host=a.hostname=I.shift())),a.search=e.search,a.query=e.query,i.isNull(a.pathname)&&i.isNull(a.search)||(a.path=(a.pathname?a.pathname:"")+(a.search?a.search:"")),a.href=a.format(),a;if(!S.length)return a.pathname=null,a.search?a.path="/"+a.search:a.path=null,a.href=a.format(),a;for(var j=S.slice(-1)[0],O=(a.host||e.host||S.length>1)&&("."===j||".."===j)||""===j,M=0,C=S.length;C>=0;C--)"."===(j=S[C])?S.splice(C,1):".."===j?(S.splice(C,1),M++):M&&(S.splice(C,1),M--);if(!x&&!k)for(;M--;M)S.unshift("..");!x||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),O&&"/"!==S.join("/").substr(-1)&&S.push("");var I,T=""===S[0]||S[0]&&"/"===S[0].charAt(0);return w&&(a.hostname=a.host=T?"":S.length?S.shift():"",(I=!!(a.host&&a.host.indexOf("@")>0)&&a.host.split("@"))&&(a.auth=I.shift(),a.host=a.hostname=I.shift())),(x=x||a.host&&S.length)&&!T&&S.unshift(""),S.length?a.pathname=S.join("/"):(a.pathname=null,a.path=null),i.isNull(a.pathname)&&i.isNull(a.search)||(a.path=(a.pathname?a.pathname:"")+(a.search?a.search:"")),a.auth=e.auth||a.auth,a.slashes=a.slashes||e.slashes,a.href=a.format(),a},r.prototype.parseHost=function(){var e=this.host,t=o.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},185:function(e,t,a){e.exports=a(14)(3089)},186:function(e,t,a){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},187:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(60),i=a(188),r=a(189),l=a(190),o=a(191);function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u=s(n),c=s(i),d=s(r),m=s(l),p=s(o);function g(){var e;return(e=arguments.length-1)<0||arguments.length<=e?void 0:arguments[e]}var h={symbols:{"!":{postfix:{symbol:"!",f:function e(t){return t%1||!(+t>=0)?NaN:t>170?1/0:0===t?1:t*e(t-1)},notation:"postfix",precedence:6,rightToLeft:0,argCount:1},symbol:"!",regSymbol:"!"},"^":{infix:{symbol:"^",f:function(e,t){return Math.pow(e,t)},notation:"infix",precedence:5,rightToLeft:1,argCount:2},symbol:"^",regSymbol:"\\^"},"*":{infix:{symbol:"*",f:function(e,t){return e*t},notation:"infix",precedence:4,rightToLeft:0,argCount:2},symbol:"*",regSymbol:"\\*"},"/":{infix:{symbol:"/",f:function(e,t){return e/t},notation:"infix",precedence:4,rightToLeft:0,argCount:2},symbol:"/",regSymbol:"/"},"+":{infix:{symbol:"+",f:function(e,t){return e+t},notation:"infix",precedence:2,rightToLeft:0,argCount:2},prefix:{symbol:"+",f:g,notation:"prefix",precedence:3,rightToLeft:0,argCount:1},symbol:"+",regSymbol:"\\+"},"-":{infix:{symbol:"-",f:function(e,t){return e-t},notation:"infix",precedence:2,rightToLeft:0,argCount:2},prefix:{symbol:"-",f:function(e){return-e},notation:"prefix",precedence:3,rightToLeft:0,argCount:1},symbol:"-",regSymbol:"-"},",":{infix:{symbol:",",f:function(){return Array.of.apply(Array,arguments)},notation:"infix",precedence:1,rightToLeft:0,argCount:2},symbol:",",regSymbol:","},"(":{prefix:{symbol:"(",f:g,notation:"prefix",precedence:0,rightToLeft:0,argCount:1},symbol:"(",regSymbol:"\\("},")":{postfix:{symbol:")",f:void 0,notation:"postfix",precedence:0,rightToLeft:0,argCount:1},symbol:")",regSymbol:"\\)"},min:{func:{symbol:"min",f:function(){return Math.min.apply(Math,arguments)},notation:"func",precedence:0,rightToLeft:0,argCount:1},symbol:"min",regSymbol:"min\\b"},max:{func:{symbol:"max",f:function(){return Math.max.apply(Math,arguments)},notation:"func",precedence:0,rightToLeft:0,argCount:1},symbol:"max",regSymbol:"max\\b"},sqrt:{func:{symbol:"sqrt",f:function(e){return Math.sqrt(e)},notation:"func",precedence:0,rightToLeft:0,argCount:1},symbol:"sqrt",regSymbol:"sqrt\\b"}}},f=function(e){function t(t){var a;return a=e.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#"+t+" for more information.")||this,c.default(a)}return d.default(t,e),t}(m.default(Error)),b=/((?!\w)a|na|hc|mc|dg|me[r]?|xe|ni(?![a-zA-Z])|mm|cp|tp|xp|q(?!s)|hv|xamv|nimv|wv|sm|s(?!\D|$)|ged|darg?|nrut)/g;function E(e,t){var a,n=e.pop();return t.push(n.f.apply(n,(a=[]).concat.apply(a,t.splice(-n.argCount)))),n.precedence}function v(e){return e.split("").reverse().join("")}var y=/--[\S]*/g;function x(e){return e.charAt(0).toUpperCase()+e.slice(1)}var k=["Top","Right","Bottom","Left"];function S(e,t){if(!e)return t.toLowerCase();var a=e.split("-");if(a.length>1)return a.splice(1,0,t),a.reduce((function(e,t){return""+e+x(t)}));var n=e.replace(/([a-z])([A-Z])/g,"$1"+t+"$2");return e===n?""+e+t:n}function w(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];var i=a[0],r=a[1],l=void 0===r?i:r,o=a[2],s=void 0===o?i:o,u=a[3];return function(e,t){for(var a={},n=0;n<t.length;n+=1)(t[n]||0===t[n])&&(a[S(e,k[n])]=t[n]);return a}(e,[i,l,s,void 0===u?l:u])}function j(e,t){return e.substr(-t.length)===t}var O=/^([+-]?(?:\d+|\d*\.\d+))([a-z]*|%)$/;function M(e,t){if("string"!=typeof e)return t?[e,void 0]:e;var a=e.match(O);return t?(console.warn("stripUnit's unitReturn functionality has been marked for deprecation in polished 4.0. It's functionality has been been moved to getValueAndUnit."),a?[parseFloat(e),a[2]]:[e,void 0]):a?parseFloat(e):e}var C=function(e){return function(t,a){void 0===a&&(a="16px");var n=t,i=a;if("string"==typeof t){if(!j(t,"px"))throw new f(69,e,t);n=M(t)}if("string"==typeof a){if(!j(a,"px"))throw new f(70,e,a);i=M(a)}if("string"==typeof n)throw new f(71,t,e);if("string"==typeof i)throw new f(72,a,e);return""+n/i+e}},I=C("em"),T=/^([+-]?(?:\d+|\d*\.\d+))([a-z]*|%)$/;function F(e){if("string"!=typeof e)return[e,""];var t=e.match(T);return t?[parseFloat(e),t[2]]:[e,void 0]}var L={minorSecond:1.067,majorSecond:1.125,minorThird:1.2,majorThird:1.25,perfectFourth:1.333,augFourth:1.414,perfectFifth:1.5,minorSixth:1.6,goldenSection:1.618,majorSixth:1.667,minorSeventh:1.778,majorSeventh:1.875,octave:2,majorTenth:2.5,majorEleventh:2.667,majorTwelfth:3,doubleOctave:4},A=C("rem");function D(e,t,a,n){void 0===a&&(a="320px"),void 0===n&&(n="1200px");var i=F(e),r=i[0],l=i[1],o=F(t),s=o[0],u=o[1],c=F(a),d=c[0],m=c[1],p=F(n),g=p[0],h=p[1];if("number"!=typeof d||"number"!=typeof g||!m||!h||m!==h)throw new f(47);if("number"!=typeof r||"number"!=typeof s||l!==u)throw new f(48);if(l!==m||u!==h)throw new f(75);var b=(r-s)/(d-g);return"calc("+(s-b*g).toFixed(2)+(l||"")+" + "+(100*b).toFixed(2)+"vw)"}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var P,z,N=/^\s*data:([a-z]+\/[a-z-]+(;[a-z-]+=[a-z-]+)?)?(;charset=[a-z0-9-]+)?(;base64)?,[a-z0-9!$&',()*+,;=\-._~:@/?%\s]*\s*$/i,B={woff:"woff",woff2:"woff2",ttf:"truetype",otf:"opentype",eot:"embedded-opentype",svg:"svg",svgz:"svg"};function _(e,t){return t?' format("'+B[e]+'")':""}function $(e,t,a,n){var i=[];return t&&i.push(function(e){return e.map((function(e){return'local("'+e+'")'})).join(", ")}(t)),e&&i.push(function(e,t,a){return function(e){return!!e.replace(/\s+/g," ").match(N)}(e)?'url("'+e+'")'+_(t[0],a):t.map((function(t){return'url("'+e+"."+t+'")'+_(t,a)})).join(", ")}(e,a,n)),i.join(", ")}function H(e){return void 0===e&&(e=1.3),"\n    @media only screen and (-webkit-min-device-pixel-ratio: "+e+"),\n    only screen and (min--moz-device-pixel-ratio: "+e+"),\n    only screen and (-o-min-device-pixel-ratio: "+e+"/1),\n    only screen and (min-resolution: "+Math.round(96*e)+"dpi),\n    only screen and (min-resolution: "+e+"dppx)\n  "}function G(e){for(var t="",a=arguments.length,n=new Array(a>1?a-1:0),i=1;i<a;i++)n[i-1]=arguments[i];for(var r=0;r<e.length;r+=1)if(t+=e[r],r===n.length-1&&n[r]){var l=n.filter((function(e){return!!e}));l.length>1?(t=t.slice(0,-1),t+=", "+n[r]):1===l.length&&(t+=""+n[r])}else n[r]&&(t+=n[r]+" ");return t.trim()}var U={easeInBack:"cubic-bezier(0.600, -0.280, 0.735, 0.045)",easeInCirc:"cubic-bezier(0.600,  0.040, 0.980, 0.335)",easeInCubic:"cubic-bezier(0.550,  0.055, 0.675, 0.190)",easeInExpo:"cubic-bezier(0.950,  0.050, 0.795, 0.035)",easeInQuad:"cubic-bezier(0.550,  0.085, 0.680, 0.530)",easeInQuart:"cubic-bezier(0.895,  0.030, 0.685, 0.220)",easeInQuint:"cubic-bezier(0.755,  0.050, 0.855, 0.060)",easeInSine:"cubic-bezier(0.470,  0.000, 0.745, 0.715)",easeOutBack:"cubic-bezier(0.175,  0.885, 0.320, 1.275)",easeOutCubic:"cubic-bezier(0.215,  0.610, 0.355, 1.000)",easeOutCirc:"cubic-bezier(0.075,  0.820, 0.165, 1.000)",easeOutExpo:"cubic-bezier(0.190,  1.000, 0.220, 1.000)",easeOutQuad:"cubic-bezier(0.250,  0.460, 0.450, 0.940)",easeOutQuart:"cubic-bezier(0.165,  0.840, 0.440, 1.000)",easeOutQuint:"cubic-bezier(0.230,  1.000, 0.320, 1.000)",easeOutSine:"cubic-bezier(0.390,  0.575, 0.565, 1.000)",easeInOutBack:"cubic-bezier(0.680, -0.550, 0.265, 1.550)",easeInOutCirc:"cubic-bezier(0.785,  0.135, 0.150, 0.860)",easeInOutCubic:"cubic-bezier(0.645,  0.045, 0.355, 1.000)",easeInOutExpo:"cubic-bezier(1.000,  0.000, 0.000, 1.000)",easeInOutQuad:"cubic-bezier(0.455,  0.030, 0.515, 0.955)",easeInOutQuart:"cubic-bezier(0.770,  0.000, 0.175, 1.000)",easeInOutQuint:"cubic-bezier(0.860,  0.000, 0.070, 1.000)",easeInOutSine:"cubic-bezier(0.445,  0.050, 0.550, 0.950)"},W=function(e,t,a){var n=""+a[0]+(a[1]||""),i=""+a[0]/2+(a[1]||""),r=""+t[0]+(t[1]||""),l=""+t[0]/2+(t[1]||"");switch(e){case"top":return"0 "+i+" "+r+" "+i;case"topLeft":return n+" "+r+" 0 0";case"left":return l+" "+n+" "+l+" 0";case"bottomLeft":return n+" 0 0 "+r;case"bottom":return r+" "+i+" 0 "+i;case"bottomRight":return"0 0 "+n+" "+r;case"right":return l+" 0 "+l+" "+n;default:return"0 "+n+" "+r+" 0"}};function q(e){return Math.round(255*e)}function V(e,t,a){return q(e)+","+q(t)+","+q(a)}function J(e,t,a,n){if(void 0===n&&(n=V),0===t)return n(a,a,a);var i=(e%360+360)%360/60,r=(1-Math.abs(2*a-1))*t,l=r*(1-Math.abs(i%2-1)),o=0,s=0,u=0;i>=0&&i<1?(o=r,s=l):i>=1&&i<2?(o=l,s=r):i>=2&&i<3?(s=r,u=l):i>=3&&i<4?(s=l,u=r):i>=4&&i<5?(o=l,u=r):i>=5&&i<6&&(o=r,u=l);var c=a-r/2;return n(o+c,s+c,u+c)}var K={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Y=/^#[a-fA-F0-9]{6}$/,X=/^#[a-fA-F0-9]{8}$/,Z=/^#[a-fA-F0-9]{3}$/,Q=/^#[a-fA-F0-9]{4}$/,ee=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i,te=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,ae=/^hsl\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,ne=/^hsla\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i;function ie(e){if("string"!=typeof e)throw new f(3);var t=function(e){if("string"!=typeof e)return e;var t=e.toLowerCase();return K[t]?"#"+K[t]:e}(e);if(t.match(Y))return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16)};if(t.match(X)){var a=parseFloat((parseInt(""+t[7]+t[8],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16),alpha:a}}if(t.match(Z))return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16)};if(t.match(Q)){var n=parseFloat((parseInt(""+t[4]+t[4],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16),alpha:n}}var i=ee.exec(t);if(i)return{red:parseInt(""+i[1],10),green:parseInt(""+i[2],10),blue:parseInt(""+i[3],10)};var r=te.exec(t.substring(0,50));if(r)return{red:parseInt(""+r[1],10),green:parseInt(""+r[2],10),blue:parseInt(""+r[3],10),alpha:parseFloat(""+r[4])};var l=ae.exec(t);if(l){var o="rgb("+J(parseInt(""+l[1],10),parseInt(""+l[2],10)/100,parseInt(""+l[3],10)/100)+")",s=ee.exec(o);if(!s)throw new f(4,t,o);return{red:parseInt(""+s[1],10),green:parseInt(""+s[2],10),blue:parseInt(""+s[3],10)}}var u=ne.exec(t.substring(0,50));if(u){var c="rgb("+J(parseInt(""+u[1],10),parseInt(""+u[2],10)/100,parseInt(""+u[3],10)/100)+")",d=ee.exec(c);if(!d)throw new f(4,t,c);return{red:parseInt(""+d[1],10),green:parseInt(""+d[2],10),blue:parseInt(""+d[3],10),alpha:parseFloat(""+u[4])}}throw new f(5)}function re(e){return function(e){var t,a=e.red/255,n=e.green/255,i=e.blue/255,r=Math.max(a,n,i),l=Math.min(a,n,i),o=(r+l)/2;if(r===l)return void 0!==e.alpha?{hue:0,saturation:0,lightness:o,alpha:e.alpha}:{hue:0,saturation:0,lightness:o};var s=r-l,u=o>.5?s/(2-r-l):s/(r+l);switch(r){case a:t=(n-i)/s+(n<i?6:0);break;case n:t=(i-a)/s+2;break;default:t=(a-n)/s+4}return t*=60,void 0!==e.alpha?{hue:t,saturation:u,lightness:o,alpha:e.alpha}:{hue:t,saturation:u,lightness:o}}(ie(e))}var le=function(e){return 7===e.length&&e[1]===e[2]&&e[3]===e[4]&&e[5]===e[6]?"#"+e[1]+e[3]+e[5]:e};function oe(e){var t=e.toString(16);return 1===t.length?"0"+t:t}function se(e){return oe(Math.round(255*e))}function ue(e,t,a){return le("#"+se(e)+se(t)+se(a))}function ce(e,t,a){return J(e,t,a,ue)}function de(e,t,a){if("number"==typeof e&&"number"==typeof t&&"number"==typeof a)return ce(e,t,a);if("object"==typeof e&&void 0===t&&void 0===a)return ce(e.hue,e.saturation,e.lightness);throw new f(1)}function me(e,t,a,n){if("number"==typeof e&&"number"==typeof t&&"number"==typeof a&&"number"==typeof n)return n>=1?ce(e,t,a):"rgba("+J(e,t,a)+","+n+")";if("object"==typeof e&&void 0===t&&void 0===a&&void 0===n)return e.alpha>=1?ce(e.hue,e.saturation,e.lightness):"rgba("+J(e.hue,e.saturation,e.lightness)+","+e.alpha+")";throw new f(2)}function pe(e,t,a){if("number"==typeof e&&"number"==typeof t&&"number"==typeof a)return le("#"+oe(e)+oe(t)+oe(a));if("object"==typeof e&&void 0===t&&void 0===a)return le("#"+oe(e.red)+oe(e.green)+oe(e.blue));throw new f(6)}function ge(e,t,a,n){if("string"==typeof e&&"number"==typeof t){var i=ie(e);return"rgba("+i.red+","+i.green+","+i.blue+","+t+")"}if("number"==typeof e&&"number"==typeof t&&"number"==typeof a&&"number"==typeof n)return n>=1?pe(e,t,a):"rgba("+e+","+t+","+a+","+n+")";if("object"==typeof e&&void 0===t&&void 0===a&&void 0===n)return e.alpha>=1?pe(e.red,e.green,e.blue):"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")";throw new f(7)}var he=function(e){return"number"==typeof e.red&&"number"==typeof e.green&&"number"==typeof e.blue&&("number"!=typeof e.alpha||void 0===e.alpha)},fe=function(e){return"number"==typeof e.red&&"number"==typeof e.green&&"number"==typeof e.blue&&"number"==typeof e.alpha},be=function(e){return"number"==typeof e.hue&&"number"==typeof e.saturation&&"number"==typeof e.lightness&&("number"!=typeof e.alpha||void 0===e.alpha)},Ee=function(e){return"number"==typeof e.hue&&"number"==typeof e.saturation&&"number"==typeof e.lightness&&"number"==typeof e.alpha};function ve(e){if("object"!=typeof e)throw new f(8);if(fe(e))return ge(e);if(he(e))return pe(e);if(Ee(e))return me(e);if(be(e))return de(e);throw new f(8)}function ye(e,t,a){return function(){var n=a.concat(Array.prototype.slice.call(arguments));return n.length>=t?e.apply(this,n):ye(e,t,n)}}function xe(e){return ye(e,e.length,[])}function ke(e,t){if("transparent"===t)return t;var a=re(t);return ve(u.default({},a,{hue:a.hue+parseFloat(e)}))}var Se=xe(ke);function we(e,t,a){return Math.max(e,Math.min(t,a))}function je(e,t){if("transparent"===t)return t;var a=re(t);return ve(u.default({},a,{lightness:we(0,1,a.lightness-parseFloat(e))}))}var Oe=xe(je);function Me(e,t){if("transparent"===t)return t;var a=re(t);return ve(u.default({},a,{saturation:we(0,1,a.saturation-parseFloat(e))}))}var Ce=xe(Me);function Ie(e){if("transparent"===e)return 0;var t=ie(e),a=Object.keys(t).map((function(e){var a=t[e]/255;return a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4)})),n=a[0],i=a[1],r=a[2];return parseFloat((.2126*n+.7152*i+.0722*r).toFixed(3))}function Te(e,t){var a=Ie(e),n=Ie(t);return parseFloat((a>n?(a+.05)/(n+.05):(n+.05)/(a+.05)).toFixed(2))}function Fe(e,t){if("transparent"===t)return t;var a=re(t);return ve(u.default({},a,{lightness:we(0,1,a.lightness+parseFloat(e))}))}var Le=xe(Fe);function Ae(e,t,a){if("transparent"===t)return a;if("transparent"===a)return t;if(0===e)return a;var n=ie(t),i=u.default({},n,{alpha:"number"==typeof n.alpha?n.alpha:1}),r=ie(a),l=u.default({},r,{alpha:"number"==typeof r.alpha?r.alpha:1}),o=i.alpha-l.alpha,s=2*parseFloat(e)-1,c=((s*o==-1?s:s+o)/(1+s*o)+1)/2,d=1-c;return ge({red:Math.floor(i.red*c+l.red*d),green:Math.floor(i.green*c+l.green*d),blue:Math.floor(i.blue*c+l.blue*d),alpha:i.alpha*(parseFloat(e)/1)+l.alpha*(1-parseFloat(e)/1)})}var De=xe(Ae);function Re(e,t){if("transparent"===t)return t;var a=ie(t),n="number"==typeof a.alpha?a.alpha:1;return ge(u.default({},a,{alpha:we(0,1,(100*n+100*parseFloat(e))/100)}))}var Pe=xe(Re),ze="#000",Ne="#fff";function Be(e,t){if("transparent"===t)return t;var a=re(t);return ve(u.default({},a,{saturation:we(0,1,a.saturation+parseFloat(e))}))}var _e=xe(Be);function $e(e,t){return"transparent"===t?t:ve(u.default({},re(t),{hue:parseFloat(e)}))}var He=xe($e);function Ge(e,t){return"transparent"===t?t:ve(u.default({},re(t),{lightness:parseFloat(e)}))}var Ue=xe(Ge);function We(e,t){return"transparent"===t?t:ve(u.default({},re(t),{saturation:parseFloat(e)}))}var qe=xe(We);function Ve(e,t){return"transparent"===t?t:De(parseFloat(e),"rgb(0, 0, 0)",t)}var Je=xe(Ve);function Ke(e,t){return"transparent"===t?t:De(parseFloat(e),"rgb(255, 255, 255)",t)}var Ye=xe(Ke);function Xe(e,t){if("transparent"===t)return t;var a=ie(t),n="number"==typeof a.alpha?a.alpha:1;return ge(u.default({},a,{alpha:we(0,1,+(100*n-100*parseFloat(e)).toFixed(2)/100)}))}var Ze=xe(Xe),Qe=["top","right","bottom","left"];function et(e,t){return e(t?":"+t:"")}function tt(e,t,a){if(!t)throw new f(67);if(0===e.length)return et(t,null);for(var n=[],i=0;i<e.length;i+=1){if(a&&a.indexOf(e[i])<0)throw new f(68);n.push(et(t,e[i]))}return n.join(",")}var at=[void 0,null,"active","focus","hover"];function nt(e){return"button"+e+',\n  input[type="button"]'+e+',\n  input[type="reset"]'+e+',\n  input[type="submit"]'+e}var it=["absolute","fixed","relative","static","sticky"],rt=[void 0,null,"active","focus","hover"];function lt(e){return'input[type="color"]'+e+',\n    input[type="date"]'+e+',\n    input[type="datetime"]'+e+',\n    input[type="datetime-local"]'+e+',\n    input[type="email"]'+e+',\n    input[type="month"]'+e+',\n    input[type="number"]'+e+',\n    input[type="password"]'+e+',\n    input[type="search"]'+e+',\n    input[type="tel"]'+e+',\n    input[type="text"]'+e+',\n    input[type="time"]'+e+',\n    input[type="url"]'+e+',\n    input[type="week"]'+e+",\n    input:not([type])"+e+",\n    textarea"+e}t.adjustHue=Se,t.animation=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var n=Array.isArray(t[0]);if(!n&&t.length>8)throw new f(64);return{animation:t.map((function(e){if(n&&!Array.isArray(e)||!n&&Array.isArray(e))throw new f(65);if(Array.isArray(e)&&e.length>8)throw new f(66);return Array.isArray(e)?e.join(" "):e})).join(", ")}},t.backgroundImages=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return{backgroundImage:t.join(", ")}},t.backgrounds=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return{background:t.join(", ")}},t.between=D,t.border=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];var i;return"string"==typeof e&&Qe.indexOf(e)>=0?((i={})["border"+x(e)+"Width"]=a[0],i["border"+x(e)+"Style"]=a[1],i["border"+x(e)+"Color"]=a[2],i):(a.unshift(e),{borderWidth:a[0],borderStyle:a[1],borderColor:a[2]})},t.borderColor=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return w.apply(void 0,["borderColor"].concat(t))},t.borderRadius=function(e,t){var a,n,i=x(e);if(!t&&0!==t)throw new f(62);if("Top"===i||"Bottom"===i)return(a={})["border"+i+"RightRadius"]=t,a["border"+i+"LeftRadius"]=t,a;if("Left"===i||"Right"===i)return(n={})["borderTop"+i+"Radius"]=t,n["borderBottom"+i+"Radius"]=t,n;throw new f(63)},t.borderStyle=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return w.apply(void 0,["borderStyle"].concat(t))},t.borderWidth=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return w.apply(void 0,["borderWidth"].concat(t))},t.buttons=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return tt(t,nt,at)},t.clearFix=function(e){var t;return void 0===e&&(e="&"),(t={})[e+"::after"]={clear:"both",content:'""',display:"table"},t},t.complement=function(e){if("transparent"===e)return e;var t=re(e);return ve(u.default({},t,{hue:(t.hue+180)%360}))},t.cover=function(e){return void 0===e&&(e=0),{position:"absolute",top:e,right:e,bottom:e,left:e}},t.cssVar=function(e,t){if(!e||!e.match(y)){if(t)return e;throw new f(73)}var a;if("undefined"!=typeof document&&null!==document.documentElement&&(a=getComputedStyle(document.documentElement).getPropertyValue(e)),a)return a.trim();throw new f(74)},t.darken=Oe,t.desaturate=Ce,t.directionalProperty=w,t.ellipsis=function(e){return void 0===e&&(e="100%"),{display:"inline-block",maxWidth:e,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",wordWrap:"normal"}},t.em=I,t.fluidRange=function(e,t,a){if(void 0===t&&(t="320px"),void 0===a&&(a="1200px"),!Array.isArray(e)&&"object"!=typeof e||null===e)throw new f(49);if(Array.isArray(e)){for(var n,i={},r={},l=function(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(a)return(a=a.call(e)).next.bind(a);if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return R(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?R(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e);!(n=l()).done;){var o,s,c=n.value;if(!c.prop||!c.fromSize||!c.toSize)throw new f(50);r[c.prop]=c.fromSize,i["@media (min-width: "+t+")"]=u.default({},i["@media (min-width: "+t+")"],((o={})[c.prop]=D(c.fromSize,c.toSize,t,a),o)),i["@media (min-width: "+a+")"]=u.default({},i["@media (min-width: "+a+")"],((s={})[c.prop]=c.toSize,s))}return u.default({},r,i)}var d,m,p;if(!e.prop||!e.fromSize||!e.toSize)throw new f(51);return(p={})[e.prop]=e.fromSize,p["@media (min-width: "+t+")"]=((d={})[e.prop]=D(e.fromSize,e.toSize,t,a),d),p["@media (min-width: "+a+")"]=((m={})[e.prop]=e.toSize,m),p},t.fontFace=function(e){var t=e.fontFamily,a=e.fontFilePath,n=e.fontStretch,i=e.fontStyle,r=e.fontVariant,l=e.fontWeight,o=e.fileFormats,s=void 0===o?["eot","woff2","woff","ttf","svg"]:o,u=e.formatHint,c=void 0!==u&&u,d=e.localFonts,m=e.unicodeRange,p=e.fontDisplay,g=e.fontVariationSettings,h=e.fontFeatureSettings;if(!t)throw new f(55);if(!a&&!d)throw new f(52);if(d&&!Array.isArray(d))throw new f(53);if(!Array.isArray(s))throw new f(54);var b={"@font-face":{fontFamily:t,src:$(a,d,s,c),unicodeRange:m,fontStretch:n,fontStyle:i,fontVariant:r,fontWeight:l,fontDisplay:p,fontVariationSettings:g,fontFeatureSettings:h}};return JSON.parse(JSON.stringify(b))},t.getContrast=Te,t.getLuminance=Ie,t.getValueAndUnit=F,t.grayscale=function(e){return"transparent"===e?e:ve(u.default({},re(e),{saturation:0}))},t.hiDPI=H,t.hideText=function(){return{textIndent:"101%",overflow:"hidden",whiteSpace:"nowrap"}},t.hideVisually=function(){return{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",whiteSpace:"nowrap",width:"1px"}},t.hsl=de,t.hslToColorString=function(e){if("object"==typeof e&&"number"==typeof e.hue&&"number"==typeof e.saturation&&"number"==typeof e.lightness)return e.alpha&&"number"==typeof e.alpha?me({hue:e.hue,saturation:e.saturation,lightness:e.lightness,alpha:e.alpha}):de({hue:e.hue,saturation:e.saturation,lightness:e.lightness});throw new f(45)},t.hsla=me,t.invert=function(e){if("transparent"===e)return e;var t=ie(e);return ve(u.default({},t,{red:255-t.red,green:255-t.green,blue:255-t.blue}))},t.lighten=Le,t.linearGradient=function(e){var t=e.colorStops,a=e.fallback,n=e.toDirection,i=void 0===n?"":n;if(!t||t.length<2)throw new f(56);return{backgroundColor:a||t[0].replace(/,\s+/g,",").split(" ")[0].replace(/,(?=\S)/g,", "),backgroundImage:G(P||(P=p.default(["linear-gradient(","",")"])),i,t.join(", ").replace(/,(?=\S)/g,", "))}},t.margin=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return w.apply(void 0,["margin"].concat(t))},t.math=function(e,t){var a=v(e),n=a.match(b);if(n&&!n.every((function(e){return e===n[0]})))throw new f(41);return""+function(e,t){var a,n=function(e){var t={};return t.symbols=e?u.default({},h.symbols,e.symbols):u.default({},h.symbols),t}(t),i=[n.symbols["("].prefix],r=[],l=new RegExp("\\d+(?:\\.\\d+)?|"+Object.keys(n.symbols).map((function(e){return n.symbols[e]})).sort((function(e,t){return t.symbol.length-e.symbol.length})).map((function(e){return e.regSymbol})).join("|")+"|(\\S)","g");l.lastIndex=0;var o=!1;do{var s=(a=l.exec(e))||[")",void 0],c=s[0],d=s[1],m=n.symbols[c],p=m&&!m.prefix&&!m.func,g=!m||!m.postfix&&!m.infix;if(d||(o?g:p))throw new f(37,a?a.index:e.length,e);if(o){var b=m.postfix||m.infix;do{var v=i[i.length-1];if((b.precedence-v.precedence||v.rightToLeft)>0)break}while(E(i,r));o="postfix"===b.notation,")"!==b.symbol&&(i.push(b),o&&E(i,r))}else if(m){if(i.push(m.prefix||m.func),m.func&&(!(a=l.exec(e))||"("!==a[0]))throw new f(38,a?a.index:e.length,e)}else r.push(+c),o=!0}while(a&&i.length);if(i.length)throw new f(39,a?a.index:e.length,e);if(a)throw new f(40,a?a.index:e.length,e);return r.pop()}(v(a.replace(b,"")),t)+(n?v(n[0]):"")},t.meetsContrastGuidelines=function(e,t){var a=Te(e,t);return{AA:a>=4.5,AALarge:a>=3,AAA:a>=7,AAALarge:a>=4.5}},t.mix=De,t.modularScale=function(e,t,a){if(void 0===t&&(t="1em"),void 0===a&&(a=1.333),"number"!=typeof e)throw new f(42);if("string"==typeof a&&!L[a])throw new f(43);var n="string"==typeof t?F(t):[t,""],i=n[0],r=n[1],l="string"==typeof a?L[a]:a;if("string"==typeof i)throw new f(44,t);return""+i*Math.pow(l,e)+(r||"")},t.normalize=function(){var e;return[(e={html:{lineHeight:"1.15",textSizeAdjust:"100%"},body:{margin:"0"},main:{display:"block"},h1:{fontSize:"2em",margin:"0.67em 0"},hr:{boxSizing:"content-box",height:"0",overflow:"visible"},pre:{fontFamily:"monospace, monospace",fontSize:"1em"},a:{backgroundColor:"transparent"},"abbr[title]":{borderBottom:"none",textDecoration:"underline"}},e["b,\n    strong"]={fontWeight:"bolder"},e["code,\n    kbd,\n    samp"]={fontFamily:"monospace, monospace",fontSize:"1em"},e.small={fontSize:"80%"},e["sub,\n    sup"]={fontSize:"75%",lineHeight:"0",position:"relative",verticalAlign:"baseline"},e.sub={bottom:"-0.25em"},e.sup={top:"-0.5em"},e.img={borderStyle:"none"},e["button,\n    input,\n    optgroup,\n    select,\n    textarea"]={fontFamily:"inherit",fontSize:"100%",lineHeight:"1.15",margin:"0"},e["button,\n    input"]={overflow:"visible"},e["button,\n    select"]={textTransform:"none"},e['button,\n    html [type="button"],\n    [type="reset"],\n    [type="submit"]']={WebkitAppearance:"button"},e['button::-moz-focus-inner,\n    [type="button"]::-moz-focus-inner,\n    [type="reset"]::-moz-focus-inner,\n    [type="submit"]::-moz-focus-inner']={borderStyle:"none",padding:"0"},e['button:-moz-focusring,\n    [type="button"]:-moz-focusring,\n    [type="reset"]:-moz-focusring,\n    [type="submit"]:-moz-focusring']={outline:"1px dotted ButtonText"},e.fieldset={padding:"0.35em 0.625em 0.75em"},e.legend={boxSizing:"border-box",color:"inherit",display:"table",maxWidth:"100%",padding:"0",whiteSpace:"normal"},e.progress={verticalAlign:"baseline"},e.textarea={overflow:"auto"},e['[type="checkbox"],\n    [type="radio"]']={boxSizing:"border-box",padding:"0"},e['[type="number"]::-webkit-inner-spin-button,\n    [type="number"]::-webkit-outer-spin-button']={height:"auto"},e['[type="search"]']={WebkitAppearance:"textfield",outlineOffset:"-2px"},e['[type="search"]::-webkit-search-decoration']={WebkitAppearance:"none"},e["::-webkit-file-upload-button"]={WebkitAppearance:"button",font:"inherit"},e.details={display:"block"},e.summary={display:"list-item"},e.template={display:"none"},e["[hidden]"]={display:"none"},e),{"abbr[title]":{textDecoration:"underline dotted"}}]},t.opacify=Pe,t.padding=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return w.apply(void 0,["padding"].concat(t))},t.parseToHsl=re,t.parseToRgb=ie,t.position=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return it.indexOf(e)>=0&&e?u.default({},w.apply(void 0,[""].concat(a)),{position:e}):w.apply(void 0,["",e].concat(a))},t.radialGradient=function(e){var t=e.colorStops,a=e.extent,n=void 0===a?"":a,i=e.fallback,r=e.position,l=void 0===r?"":r,o=e.shape,s=void 0===o?"":o;if(!t||t.length<2)throw new f(57);return{backgroundColor:i||t[0].split(" ")[0],backgroundImage:G(z||(z=p.default(["radial-gradient(","","","",")"])),l,s,n,t.join(", "))}},t.readableColor=function(e,t,a,n){void 0===t&&(t=ze),void 0===a&&(a=Ne),void 0===n&&(n=!0);var i=Ie(e)>.179,r=i?t:a;return!n||Te(e,r)>=4.5?r:i?ze:Ne},t.rem=A,t.retinaImage=function(e,t,a,n,i){var r;if(void 0===a&&(a="png"),void 0===i&&(i="_2x"),!e)throw new f(58);var l=a.replace(/^\./,""),o=n?n+"."+l:""+e+i+"."+l;return(r={backgroundImage:"url("+e+"."+l+")"})[H()]=u.default({backgroundImage:"url("+o+")"},t?{backgroundSize:t}:{}),r},t.rgb=pe,t.rgbToColorString=function(e){if("object"==typeof e&&"number"==typeof e.red&&"number"==typeof e.green&&"number"==typeof e.blue)return"number"==typeof e.alpha?ge({red:e.red,green:e.green,blue:e.blue,alpha:e.alpha}):pe({red:e.red,green:e.green,blue:e.blue});throw new f(46)},t.rgba=ge,t.saturate=_e,t.setHue=He,t.setLightness=Ue,t.setSaturation=qe,t.shade=Je,t.size=function(e,t){return void 0===t&&(t=e),{height:e,width:t}},t.stripUnit=M,t.textInputs=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return tt(t,lt,rt)},t.timingFunctions=function(e){return U[e]},t.tint=Ye,t.toColorString=ve,t.transitions=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];if(Array.isArray(t[0])&&2===t.length){var n=t[1];if("string"!=typeof n)throw new f(61);return{transition:t[0].map((function(e){return e+" "+n})).join(", ")}}return{transition:t.join(", ")}},t.transparentize=Ze,t.triangle=function(e){var t=e.pointingDirection,a=e.height,n=e.width,i=e.foregroundColor,r=e.backgroundColor,l=void 0===r?"transparent":r,o=F(n),s=F(a);if(isNaN(s[0])||isNaN(o[0]))throw new f(60);return u.default({width:"0",height:"0",borderColor:l},function(e,t){switch(e){case"top":case"bottomRight":return{borderBottomColor:t};case"right":case"bottomLeft":return{borderLeftColor:t};case"bottom":case"topLeft":return{borderTopColor:t};case"left":case"topRight":return{borderRightColor:t};default:throw new f(59)}}(t,i),{borderStyle:"solid",borderWidth:W(t,s,o)})},t.wordWrap=function(e){return void 0===e&&(e="break-word"),{overflowWrap:e,wordWrap:e,wordBreak:"break-word"===e?"break-all":e}}},188:function(e,t,a){e.exports=a(14)(1453)},189:function(e,t,a){e.exports=a(14)(3099)},190:function(e,t,a){e.exports=a(14)(3101)},191:function(e,t,a){e.exports=a(14)(3100)},192:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(31),i=a(1),r=n.__importDefault(a(193)),l=a(115);t.default=function(e,t){void 0===e&&(e=1/0),void 0===t&&(t=1/0);var a=r.default({width:l.isClient?window.innerWidth:e,height:l.isClient?window.innerHeight:t}),n=a[0],o=a[1];return i.useEffect((function(){if(l.isClient){var e=function(){o({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}}),[]),n}},193:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(31),i=a(1),r=n.__importDefault(a(194));t.default=function(e){var t=i.useRef(0),a=i.useState(e),n=a[0],l=a[1],o=i.useCallback((function(e){cancelAnimationFrame(t.current),t.current=requestAnimationFrame((function(){l(e)}))}),[]);return r.default((function(){cancelAnimationFrame(t.current)})),[n,o]}},194:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(31),i=a(1),r=n.__importDefault(a(195));t.default=function(e){var t=i.useRef(e);t.current=e,r.default((function(){return function(){return t.current()}}))}},195:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(1);t.default=function(e){n.useEffect(e,[])}},197:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(31),i=a(115),r=n.__importDefault(a(198));t.default=function(e,t){r.default(e,t,i.isDeepEqual)}},198:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(1);t.default=function(e,t,a){var i=n.useRef(void 0);i.current&&a(t,i.current)||(i.current=t),n.useEffect(e,i.current)}},207:function(e,t,a){"use strict";a.r(t),a.d(t,"renderApp",(function(){return Vu}));var n=a(1),i=a.n(n),r=a(33),l=a.n(r),o=a(0);const s=(e,t)=>t.reduce(((t,a)=>(t[a]=e[a]&&!0===e[a].show,t)),{});var u=a(53),c=a(21),d=a(26),m=a(40),p=a(29);const g=({children:e,...t})=>Object(p.jsx)(d.Router,t,Object(p.jsx)(m.CompatRouter,null,e));var h=a(8),f=a(24),b=a(146),E=a(60),v=a.n(E),y=a(103),x=a.n(y),k=a(20),S=a(38),w=a(122),j=a(143),O=a(101);const M=({theme:{theme$:e},euiTheme:t,children:a,...i})=>{const r=x()(e,O.a),l=Object(n.useMemo)((()=>Object(O.b)(r)),[r]);return Object(p.jsx)(k.EuiThemeProvider,v()({colorMode:l,theme:t},i),a)},C=({theme:e,children:t,...a})=>Object(S.useIsNestedEuiProvider)()?Object(p.jsx)(M,v()({theme:e},a),t):(Object(w.emitEuiProviderWarning)("KibanaThemeProvider requires a parent KibanaRenderContextProvider.  Check your React tree and ensure that they are wrapped in a KibanaRenderContextProvider."),Object(p.jsx)(j.a,{theme:e,globalStyles:!1},t));var I=a(209),T=a(27),F=a(23),L=a(56),A=a(57),D=a(34);const R={services:{}},P=Object(n.createContext)(R);var z=a(197),N=a.n(z);const B=({children:e,component:t,render:a,...r})=>{const l=Object(n.useMemo)((()=>{if(t)return e=>Object(p.jsx)(i.a.Fragment,null,Object(p.jsx)(_,null),Object(p.jsx)(t,e))}),[t]);if(l)return Object(p.jsx)(d.Route,v()({},r,{component:l}));if(a||"function"==typeof e){const t="function"==typeof e?e:a;return Object(p.jsx)(d.Route,v()({},r,{render:e=>Object(p.jsx)(i.a.Fragment,null,Object(p.jsx)(_,null),t(e))}))}return Object(p.jsx)(d.Route,r,Object(p.jsx)(_,null),e)},_=()=>{const{executionContext:e}=Object(n.useContext)(P).services,t=Object(d.useRouteMatch)();return function(e,t){N()((()=>(null==e||e.set(t),()=>{null==e||e.clear()})),[t])}(e,{type:"application",page:t.path,id:Object.keys(t.params).length>0?JSON.stringify(t.params):void 0}),null},$=({legacySwitch:e=!0,children:t})=>{const a=Object(d.useRouteMatch)();return e?Object(p.jsx)(d.Switch,null,t):Object(p.jsx)(m.Routes,null,n.Children.map(t,(e=>{if(i.a.isValidElement(e)&&e.type===B){var n;const r=Object(D.replace)(null==e?void 0:e.props.path,a.url+"/",""),l="function"==typeof(null==e?void 0:e.props.children)?null==e?void 0:e.props.children:null==e?void 0:e.props.render;return Object(p.jsx)(m.Route,{path:r,element:Object(p.jsx)(i.a.Fragment,null,Object(p.jsx)(_,null),(null==e||null===(n=e.props)||void 0===n?void 0:n.component)&&Object(p.jsx)(e.props.component,null)||l&&l()||t)})}return e})))};var H=a(22),G=a(108);const{FOCUS_CONNECTOR_FIELD:U,DATE_RANGE_START:W,DATE_RANGE_END:q,AUTOREFRESH_INTERVAL:V,AUTOREFRESH_IS_PAUSED:J}=u.e,K=(e,t=!1)=>(t&&(delete e.absoluteDateRangeStart,delete e.absoluteDateRangeEnd,Object.keys(e).forEach((t=>{const a=e[t];null!=a&&""!==a||delete e[t],"dateRangeStart"===t&&a===W&&delete e[t],"dateRangeEnd"===t&&a===q&&delete e[t],"autorefreshIsPaused"===t&&a===J&&delete e[t],"autorefreshInterval"===t&&a===V&&delete e[t],"focusConnectorField"===t&&a===U&&delete e[t]}))),`?${Object(G.stringify)(e,{sort:!1})}`);var Y=a(54),X=a(4);const Z=e=>{var t,a,i,r,l,s;const u=Object(Y.g)()[0](),c=Object(f.useKibana)(),d=null===(t=c.services.chrome)||void 0===t?void 0:t.setBreadcrumbs,m=null!==(a=null===(i=c.services.application)||void 0===i?void 0:i.getUrlForApp(X.a.ID))&&void 0!==a?a:"",p=null!==(r=null===(l=c.services.application)||void 0===l?void 0:l.getUrlForApp("observability-overview"))&&void 0!==r?r:"",g=null===(s=c.services.application)||void 0===s?void 0:s.navigateToUrl;Object(n.useEffect)((()=>{var t,a;d&&d((t=((e,t,a)=>{if(a){const t={...a};delete t.statusFilter;const n=K(t,!0);e+="?"===n?"":n}return[{text:o.i18n.translate("xpack.uptime.breadcrumbs.observabilityText",{defaultMessage:"Observability"}),href:t},{text:o.i18n.translate("xpack.uptime.breadcrumbs.legacyOverviewBreadcrumbText",{defaultMessage:"Uptime"}),href:e}]})(m,p,u).concat(e),a=g,t.map((e=>({...e,...e.href?{onClick:t=>{a&&e.href&&(t.preventDefault(),a(e.href))}}:{}})))))}),[m,p,e,g,u,d])},Q=()=>{Object(F.useTrackPageview)({app:"uptime",path:"mapping-error"}),Object(F.useTrackPageview)({app:"uptime",path:"mapping-error",delay:15e3});const e=Object(f.useKibana)().services.docLinks;return Z([{text:o.i18n.translate("xpack.uptime.mappingErrorRoute.breadcrumb",{defaultMessage:"Mapping error"})}]),i.a.createElement(k.EuiEmptyPrompt,{"data-test-subj":"xpack.synthetics.mappingsErrorPage",iconColor:"danger",iconType:"cross",title:i.a.createElement(k.EuiTitle,null,i.a.createElement("h3",null,i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.public.pages.mappingError.title",defaultMessage:"Heartbeat mappings missing"}))),body:i.a.createElement("div",null,i.a.createElement("p",null,i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.public.pages.mappingError.bodyMessage",defaultMessage:"Incorrect mappings detected! Perhaps you forgot to run the heartbeat {setup} command?",values:{setup:i.a.createElement(k.EuiCode,null,"setup")}})),e&&i.a.createElement("p",null,i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.public.pages.mappingError.bodyDocsLink",defaultMessage:"You can learn how to troubleshoot this issue in the {docsLink}.",values:{docsLink:i.a.createElement(k.EuiLink,{"data-test-subj":"syntheticsMappingErrorPageDocsLink",href:`${e.ELASTIC_WEBSITE_URL}guide/en/observability/${e.DOC_LINK_VERSION}/troubleshoot-uptime-mapping-issues.html`,target:"_blank"},"docs")}})))})};var ee=a(2),te=a(55);const ae=o.i18n.translate("xpack.uptime.ml.enableAnomalyDetectionPanel.jobCreatedNotificationTitle",{defaultMessage:"Job successfully created"}),ne=o.i18n.translate("xpack.uptime.ml.enableAnomalyDetectionPanel.jobCreatedNotificationText",{defaultMessage:"The analysis is now running for response duration chart. It might take a while before results are added to the response times graph."}),ie=o.i18n.translate("xpack.uptime.ml.enableAnomalyDetectionPanel.jobCreatedLazyNotificationText",{defaultMessage:"The analysis is waiting for an ML node to become available. It might take a while before results are added to the response times graph."}),re=o.i18n.translate("xpack.uptime.ml.enableAnomalyDetectionPanel.jobCreationFailedNotificationTitle",{defaultMessage:"Job creation failed"}),le=o.i18n.translate("xpack.uptime.ml.enableAnomalyDetectionPanel.jobCreationFailedNotificationText",{defaultMessage:"Your current license may not allow for creating machine learning jobs, or this job may already exist."}),oe=o.i18n.translate("xpack.uptime.ml.enableAnomalyDetectionPanel.jobDeletionNotificationTitle",{defaultMessage:"Job deleted"}),se=o.i18n.translate("xpack.uptime.ml.enableAnomalyDetectionPanel.jobDeletionSuccessNotificationText",{defaultMessage:"Job is successfully deleted"}),ue=o.i18n.translate("xpack.uptime.ml.enableAnomalyDetectionPanel.jobDeletionConfirmLabel",{defaultMessage:"Delete anomaly detection job?"}),ce=o.i18n.translate("xpack.uptime.ml.enableAnomalyDetectionPanel.jobCreatedNotificationText.viewJobLinkText",{defaultMessage:"View job"}),de=o.i18n.translate("xpack.uptime.ml.durationChart.exploreInMlApp",{defaultMessage:"Explore in ML App"}),me=o.i18n.translate("xpack.uptime.ml.enableAnomalyDetectionPanel.enableAnomalyDetectionTitle",{defaultMessage:"Enable anomaly detection"}),pe=o.i18n.translate("xpack.uptime.ml.enableAnomalyDetectionPanel.anomalyDetectionTitle",{defaultMessage:"Anomaly detection"}),ge=o.i18n.translate("xpack.uptime.ml.enableAnomalyDetectionPanel.disableAnomalyDetectionTitle",{defaultMessage:"Disable anomaly detection"}),he=o.i18n.translate("xpack.uptime.ml.enableAnomalyDetectionPanel.enableAnomalyAlert",{defaultMessage:"Enable anomaly alert"}),fe=o.i18n.translate("xpack.uptime.ml.enableAnomalyDetectionPanel.noPermissionsTooltip",{defaultMessage:"You need read-write access to Uptime to create anomaly alerts."}),be=o.i18n.translate("xpack.uptime.ml.enableAnomalyDetectionPanel.disableAnomalyAlert",{defaultMessage:"Disable anomaly alert"}),Ee=o.i18n.translate("xpack.uptime.ml.enableAnomalyDetectionPanel.manageAnomalyDetectionTitle",{defaultMessage:"Manage anomaly detection"}),ve=o.i18n.translate("xpack.uptime.ml.enableAnomalyDetectionPanel.manageMLJobDescription.mlJobsPageLinkText",{defaultMessage:"Machine Learning jobs management page"}),ye=o.i18n.translate("xpack.uptime.ml.enableAnomalyDetectionPanel.manageMLJobDescription.noteText",{defaultMessage:"Note: It might take a few minutes for the job to begin calculating results."}),xe=o.i18n.translate("xpack.uptime.ml.enableAnomalyDetectionPanel.createNewJobButtonLabel",{defaultMessage:"Create new job"}),ke=o.i18n.translate("xpack.uptime.ml.enableAnomalyDetectionPanel.cancelLabel",{defaultMessage:"Cancel"}),Se=o.i18n.translate("xpack.uptime.ml.enableAnomalyDetectionPanel.createMLJobDescription",{defaultMessage:"Here you can create a machine learning job to calculate anomaly scores on\n    response durations for Uptime Monitor. Once enabled, the monitor duration chart on the details page\n    will show the expected bounds and annotate the graph with anomalies. You can also potentially\n     identify periods of increased latency across geographical regions."}),we=o.i18n.translate("xpack.uptime.ml.enableAnomalyDetectionPanel.startTrial",{defaultMessage:"Start free 14-day trial"}),je=o.i18n.translate("xpack.uptime.ml.enableAnomalyDetectionPanel.startTrialDesc",{defaultMessage:"In order to access duration anomaly detection, you have to be subscribed to an Elastic Platinum license."}),Oe=o.i18n.translate("xpack.uptime.ml.enableAnomalyDetectionPanel.enable_or_manage_job",{defaultMessage:"You can enable anomaly detection job or if job is already there you can manage the job or alert."}),Me=o.i18n.translate("xpack.uptime.ml.enableAnomalyDetectionPanel.add_job_permissions_needed",{defaultMessage:"Permissions needed"});var Ce=a(184),Ie=a.n(Ce),Te=a(48),Fe=a.n(Te),Le=a(100);const Ae=({basePath:e,monitorId:t,dateRange:a})=>{const n={ml:{jobIds:[Object(Le.b)(t)]},refreshInterval:{pause:!0,value:0},time:a},i={mlExplorerFilter:{filterActive:!0,filteredFields:["monitor.id",t]},mlExplorerSwimlane:{viewByFieldName:"observer.geo.name"}};return Ie.a.format({pathname:e+"/app/ml",hash:`/explorer?_g=${Fe.a.encode(n)}`+(t?`&_a=${Fe.a.encode(i)}`:"")})},De=({basePath:e,monitorId:t,dateRange:a,children:n})=>{const r=Ae({basePath:e,monitorId:t,dateRange:a});return i.a.createElement(k.EuiButtonEmpty,{"data-test-subj":"syntheticsMLJobLinkButton",children:n,size:"s",href:r,target:"_blank"})};var Re=a(63);const Pe=({onConfirm:e,onCancel:t})=>i.a.createElement(k.EuiConfirmModal,{title:be,onCancel:t,onConfirm:e,cancelButtonText:"Cancel",confirmButtonText:"Delete",buttonColor:"danger",defaultFocusedButton:"confirm","data-test-subj":"uptimeMLAlertDeleteConfirmModel"},i.a.createElement("p",null,i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.monitorDetails.ml.confirmAlertDeleteMessage",defaultMessage:"Are you sure you want to delete the alert for anomalies?"}))),ze=({alertFlyoutVisible:e,initialAlert:t,setAlertFlyoutVisibility:a})=>{const{triggersActionsUi:r}=Object(f.useKibana)().services,l=Object(n.useMemo)((()=>r.getEditRuleFlyout({initialRule:t,onClose:()=>{a(!1)}})),[t,a,r]);return i.a.createElement(i.a.Fragment,null,e&&l)},Ne=({hasMLJob:e,onEnableJob:t,onJobDelete:a})=>{var r,l,o;const s=Object(f.useKibana)(),[u,d]=Object(n.useState)(!1),[m,p]=Object(n.useState)(!1),{basePath:g}=Object(n.useContext)(L.c),h=Object(c.useSelector)(te.c),b=Object(c.useSelector)(te.j),E=Object(c.useSelector)(Re.m),{loading:v}=Object(c.useSelector)(te.f),{loading:y}=Object(c.useSelector)(te.n),{dateRangeStart:x,dateRangeEnd:S}=Object(Y.d)(),w=Object(Y.e)(),j=Object(c.useDispatch)(),O=(()=>{const{lastRefresh:e}=Object(n.useContext)(L.a),t=Object(c.useDispatch)(),a=Object(Y.e)(),{data:i}=Object(c.useSelector)(Re.c),r=Object(c.useSelector)(te.x);return Object(n.useEffect)((()=>{t(Re.i.get({monitorId:a}))}),[a,e,t,r]),i})(),[M,C]=Object(n.useState)(!1),I=b||v||E||y,T=e?pe:me,F=i.a.createElement(k.EuiButton,{"data-test-subj":e?"uptimeManageMLJobBtn":"uptimeEnableAnomalyBtn",onClick:e?()=>d(!u):t,disabled:e&&!h,isLoading:I,size:"s","aria-label":Oe},I?"":T),D=null!==(r=null===(l=s.services.application)||void 0===l||null===(o=l.capabilities.uptime)||void 0===o?void 0:o.save)&&void 0!==r&&r,R=[{id:0,title:Ee,items:[{name:de,icon:i.a.createElement(k.EuiIcon,{type:"dataVisualizer",size:"m"}),href:Ae({basePath:g,monitorId:w,dateRange:{from:x,to:S}})},...O?[{name:"Anomaly alert",icon:"bell","data-test-subj":"uptimeManageAnomalyAlertBtn",panel:1}]:[{name:he,"data-test-subj":"uptimeEnableAnomalyAlertBtn",icon:"bell",disabled:!D,toolTipContent:D?null:fe,onClick:()=>{j(Object(A.v)(ee.a.DURATION_ANOMALY)),j(Object(A.w)(!0)),d(!1)}}],{name:ge,"data-test-subj":"uptimeDeleteMLJobBtn",icon:i.a.createElement(k.EuiIcon,{type:"trash",size:"m"}),onClick:()=>{d(!1),a()}}]},{id:1,title:"Anomaly alert",items:[{name:"Edit","data-test-subj":"uptimeEditAnomalyAlertBtn",onClick:()=>{p(!0),d(!1)}},{name:"Disable","data-test-subj":"uptimeDisableAnomalyAlertBtn",onClick:()=>{C(!0)}}]}],P=Object(n.useCallback)((()=>{p(!1),j(Re.i.get({monitorId:w}))}),[j,w]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(k.EuiPopover,{button:F,isOpen:u,closePopover:()=>d(!1),panelPaddingSize:"none"},i.a.createElement(k.EuiContextMenu,{initialPanelId:0,panels:R,"data-test-subj":"uptimeManageMLContextMenu"})),M&&i.a.createElement(Pe,{onConfirm:()=>{j(Re.g.get({alertId:null==O?void 0:O.id})),C(!1),d(!1)},onCancel:()=>{C(!1)}}),m&&i.a.createElement(ze,{initialAlert:O,alertFlyoutVisible:m,setAlertFlyoutVisibility:P}))};var Be=a(25),_e=a.n(Be),$e=a(76),He=a(75),Ge=a(91);const Ue=({content:e,dataTestSubj:t,isDisabled:a,isActive:n,value:r,withNext:l})=>{const[o,s]=Object(Y.g)(),{statusFilter:u}=o();return i.a.createElement(k.EuiFilterButton,{"data-test-subj":t,hasActiveFilters:n,isDisabled:a,onClick:()=>{s({statusFilter:u===r?"":r,pagination:""})},withNext:l},e)},We=o.i18n.translate("xpack.uptime.monitorList.table.url.name",{defaultMessage:"Url"}),qe=o.i18n.translate("xpack.uptime.monitorList.table.tags.name",{defaultMessage:"Tags"}),Ve=o.i18n.translate("xpack.uptime.monitorList.table.project.name",{defaultMessage:"Project ID"}),Je=o.i18n.translate("xpack.uptime.monitorList.statusColumn.upLabel",{defaultMessage:"Up"}),Ke=o.i18n.translate("xpack.uptime.monitorList.statusColumn.downLabel",{defaultMessage:"Down"}),Ye=o.i18n.translate("xpack.uptime.monitorList.statusColumn.completeLabel",{defaultMessage:"Complete"}),Xe=o.i18n.translate("xpack.uptime.monitorList.statusColumn.failedLabel",{defaultMessage:"Failed"}),Ze=o.i18n.translate("xpack.uptime.seconds.label",{defaultMessage:"seconds"}),Qe=o.i18n.translate("xpack.uptime.seconds.shortForm.label",{defaultMessage:"sec"}),et=o.i18n.translate("xpack.uptime.millisecond.abbreviation.label",{defaultMessage:"ms"}),tt=()=>{const{statusFilter:e}=Object(Y.d)();return i.a.createElement(k.EuiFilterGroup,null,i.a.createElement(Ue,{content:o.i18n.translate("xpack.uptime.filterBar.filterAllLabel",{defaultMessage:"All"}),dataTestSubj:"xpack.synthetics.filterBar.filterStatusAll",value:"",withNext:!0,isActive:""===e}),i.a.createElement(Ue,{content:Je,dataTestSubj:"xpack.synthetics.filterBar.filterStatusUp",value:"up",withNext:!0,isActive:"up"===e}),i.a.createElement(Ue,{content:Ke,dataTestSubj:"xpack.synthetics.filterBar.filterStatusDown",value:"down",withNext:!1,isActive:"down"===e}))};var at=a(118);const nt=()=>i.a.createElement(k.EuiFlexGroup,null,i.a.createElement(k.EuiFlexItem,{grow:!1},i.a.createElement(k.EuiTitle,{size:"s"},i.a.createElement("h4",null,i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.pingList.checkHistoryTitle",defaultMessage:"History"})))),i.a.createElement(k.EuiFlexItem,{grow:!1},i.a.createElement(tt,null)),i.a.createElement(k.EuiFlexItem,{grow:!1,style:{maxWidth:"135px"}},i.a.createElement(at.a,null)));var it=a(5),rt=a.n(it);const lt=o.i18n.translate("xpack.uptime.pingList.statusColumnLabel",{defaultMessage:"Status"}),ot=o.i18n.translate("xpack.uptime.pingList.responseCodeColumnLabel",{defaultMessage:"Response code"}),st=(o.i18n.translate("xpack.uptime.pingList.errorTypeColumnLabel",{defaultMessage:"Error type"}),o.i18n.translate("xpack.uptime.pingList.errorColumnLabel",{defaultMessage:"Error"})),ut=o.i18n.translate("xpack.uptime.pingList.locationNameColumnLabel",{defaultMessage:"Location"}),ct=o.i18n.translate("xpack.uptime.pingList.timestampColumnLabel",{defaultMessage:"Timestamp"}),dt=({pingStatus:e,item:t})=>{const{colors:{dangerBehindText:a}}=Object(n.useContext)(L.g),r=rt()(t.timestamp);let l="";return l=rt()().diff(r,"d")>1?r.format("ll LTS"):r.format("LTS"),i.a.createElement("div",{"data-test-subj":`xpack.synthetics.pingList.ping-${t.docId}`},i.a.createElement(k.EuiBadge,{className:"eui-textCenter",color:e===u.x.UP?"success":a},(s=e,t.monitor.type===u.r.BROWSER?"up"===s?Ye:Xe:"up"===s?Je:Ke)),i.a.createElement(k.EuiSpacer,{size:"xs"}),i.a.createElement(k.EuiText,{size:"xs",color:"subdued"},o.i18n.translate("xpack.uptime.pingList.recencyMessage",{values:{fromNow:l},defaultMessage:"Checked {fromNow}",description:"A string used to inform our users how long ago Heartbeat pinged the selected host."})));var s},mt=({location:e})=>e?i.a.createElement(k.EuiText,null,e):i.a.createElement(k.EuiLink,{"data-test-subj":"syntheticsLocationNameAddLocationLink",href:"https://www.elastic.co/guide/en/beats/heartbeat/current/configuration-observer-options.html",target:"_blank"},o.i18n.translate("xpack.uptime.locationName.helpLinkAnnotation",{defaultMessage:"Add location",description:"Text that instructs the user to navigate to our docs to add a geographic location to their data"}));var pt=a(138),gt=a.n(pt),ht=a(61);const ft=o.i18n.translate("xpack.uptime.synthetics.prevStepButton.airaLabel",{defaultMessage:"Previous step"}),bt=o.i18n.translate("xpack.uptime.synthetics.nextStepButton.ariaLabel",{defaultMessage:"Next step"}),Et=o.i18n.translate("xpack.uptime.synthetics.imageLoadingSpinner.ariaLabel",{defaultMessage:"An animated spinner indicating the image is loading"}),vt=o.i18n.translate("xpack.uptime.synthetics.thumbnail.fullSize.alt",{defaultMessage:"A larger version of the screenshot for this journey step's thumbnail."}),yt=Object(T.euiStyled)(k.EuiText)`
  display: flex;
  align-items: center;
  width: 120px;
  height: 67.5px;
  justify-content: center;
  text-align: center;
  border: 1px solid ${e=>e.theme.eui.euiColorLightShade};
`,xt=()=>i.a.createElement(yt,{"data-test-subj":"pingTimestampNoImageAvailable"},i.a.createElement("strong",null,i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.synthetics.screenshot.noImageMessage",defaultMessage:"No image available"}))),kt=Object(T.euiStyled)(k.EuiText)`
  display: flex;
  align-items: center;
  width: 120px;
  height: 65.5px;
  justify-content: center;
  text-align: center;
  border: 1px solid ${e=>e.theme.eui.euiColorLightShade};
`,St=()=>i.a.createElement(i.a.Fragment,null,i.a.createElement(k.EuiProgress,{size:"xs"}),i.a.createElement(kt,{"data-test-subj":"pingTimestampSpinner","aria-label":Et},i.a.createElement("strong",null,i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.synthetics.screenshot.loadingImageMessage",defaultMessage:"Loading"})))),wt=({imageCaption:e,isLoading:t})=>i.a.createElement(k.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},i.a.createElement(k.EuiFlexItem,null,t?i.a.createElement(St,null):i.a.createElement(xt,null)),i.a.createElement(k.EuiFlexItem,null,e)),jt=({captionContent:e,imgRef:t,imgSrc:a,maxSteps:r,setStepNumber:l,stepNumber:o,isLoading:s,label:u,onVisible:c})=>{const{euiTheme:d}=Object(k.useEuiTheme)(),m=Object(k.useIsWithinMaxBreakpoint)("m");return Object(n.useEffect)((()=>(c(!0),()=>{c(!1)})),[]),i.a.createElement(Ot,{onClick:e=>{e.stopPropagation()}},i.a.createElement("div",{className:"stepArrowsFullScreen"},(a||t)&&i.a.createElement(k.EuiFlexGroup,{alignItems:"center",justifyContent:"center"},i.a.createElement(k.EuiFlexItem,{grow:!0},i.a.createElement(It,{"data-test-subj":"syntheticsStepImageCaptionButton",disabled:1===o,onClick:e=>{l(o-1),e.preventDefault()},iconType:"arrowLeft","aria-label":ft,isLoading:s,$_css:m?0:"auto"},ft)),i.a.createElement(k.EuiFlexItem,{grow:!1},i.a.createElement(Mt,null,e)),i.a.createElement(k.EuiFlexItem,{grow:!0},i.a.createElement(Tt,{"data-test-subj":"syntheticsStepImageCaptionButton",disabled:o===r,onClick:e=>{l(o+1),e.stopPropagation()},iconType:"arrowRight",iconSide:"right","aria-label":bt,isLoading:s,$_css2:m?0:"auto"},bt))),i.a.createElement(Ct,{className:"eui-textNoWrap",size:"s",$_css3:d.size.xs},u)))},Ot=T.euiStyled.div`
  background-color: ${e=>e.theme.eui.euiColorLightestShade};
  display: inline-block;
  width: 100%;
  text-decoration: none;
`,Mt=Object(T.euiStyled)(k.EuiText)((e=>({color:e.theme.eui.euiTextColor})));var Ct=_e()(Mt).withConfig({displayName:"_StyledSecondaryText",componentId:"sc-1o7inyw-0"})((e=>({padding:e.$_css3}))),It=_e()(k.EuiButtonEmpty)((e=>({marginLeft:e.$_css}))),Tt=_e()(k.EuiButtonEmpty)((e=>({marginRight:e.$_css2}))),Ft=a(119);const Lt=Object(T.euiStyled)(k.EuiImage)`
  &&& .euiImageFullScreenWrapper {
    figcaption {
      display: flex;
    }
  }
`,At=({captionContent:e,imageCaption:t,imageData:a})=>a?i.a.createElement(Lt,{allowFullScreen:!0,alt:e,caption:t,"data-test-subj":"pingTimestampImage",hasShadow:!0,url:a,size:"s",className:"syntheticsStepImage"}):i.a.createElement(St,null),Dt=({captionContent:e,imageCaption:t,imageData:a,imgRef:n,setImageData:r})=>(Object(Ft.a)(n,r,a),i.a.createElement(At,{captionContent:e,imageCaption:t,imageData:a})),Rt=({captionContent:e,imageCaption:t,imageData:a,imgRef:n,imgSrc:r,setImageData:l})=>r?i.a.createElement(At,{captionContent:e,imageCaption:t,imageData:a}):n?i.a.createElement(Dt,{captionContent:e,imageCaption:t,imageData:a,imgRef:n,setImageData:l}):null,Pt=({captionContent:e,imageCaption:t,imgRef:a,imgSrc:n,isImagePopoverOpen:r})=>{const[l,o]=i.a.useState(n||void 0);i.a.useEffect((()=>{n&&n!==l&&o(n)}),[n,l]);const s=i.a.useCallback((e=>o(e)),[o]);return i.a.createElement(k.EuiPopover,{anchorPosition:"leftDown",button:i.a.createElement(Rt,{captionContent:e,imageCaption:t,imgRef:a,imgSrc:n,setImageData:s,imageData:l}),isOpen:r,closePopover:()=>{}},l?i.a.createElement(k.EuiImage,{alt:vt,url:l,style:{height:360,width:640,objectFit:"contain"}}):i.a.createElement(St,null))},zt=T.euiStyled.div`
  figcaption {
    display: none;
  }
`,Nt=({label:e,checkGroup:t,stepStatus:a,allStepsLoaded:r=!0,initialStepNo:l=1})=>{var s,c,m,p;const[g,h]=Object(n.useState)(l),[f,b]=Object(n.useState)(!1),[E,v]=Object(n.useState)([]),y=i.a.useRef(null),{basePath:x}=Object(n.useContext)(L.c),S=`${x}/internal/uptime/journey/screenshot/${t}/${g}`,w=gt()(y,{root:null,rootMargin:"0px",threshold:1}),[j,O]=Object(n.useState)(void 0),M=Boolean(j&&(null==j||null===(s=j.ref)||void 0===s||null===(c=s.screenshotRef)||void 0===c||null===(m=c.synthetics)||void 0===m||null===(p=m.step)||void 0===p?void 0:p.index)===g),{data:C,loading:I}=(({stepStatus:e,hasImage:t,hasIntersected:a,imgPath:i})=>{const r=Object(d.useRouteMatch)(u.o),l=Object(d.useRouteMatch)(u.p),[o,s]=Object(n.useState)(0),c="skipped"===e,{data:m,loading:p}=Object(F.useFetcher)((()=>c?new Promise((e=>e(null))):a&&!t?Object(He.e)(i):void 0),[a,i,c,o]);return Object(n.useEffect)((()=>{p||t||!(null!=r&&r.isExact||null!=l&&l.isExact)||c||setTimeout((()=>{s((e=>e<20?e+1:e))}),5e3)}),[t,p,null==r?void 0:r.isExact,null==l?void 0:l.isExact,c]),{data:m,loading:p}})({hasImage:Boolean(E[g-1])||M,hasIntersected:Boolean(w&&1===w.intersectionRatio),stepStatus:a,imgPath:S});let T;var A;Object(n.useEffect)((()=>{Object(ht.q)(C)?O(C):Object(ht.p)(C)&&v((e=>[...e,null==C?void 0:C.src]))}),[C]),Object(ht.p)(C)&&(T=null!==(A=null==E?void 0:E[g-1])&&void 0!==A?A:C.src);const D=((e,t)=>o.i18n.translate("xpack.uptime.synthetics.pingTimestamp.captionContent",{defaultMessage:"Step: {stepNumber} of {totalSteps}",values:{stepNumber:e,totalSteps:t}}))(g,null==C?void 0:C.maxSteps),[R,P]=Object(n.useState)(0),z=i.a.createElement(jt,{captionContent:D,imgSrc:T,imgRef:j,maxSteps:null==C?void 0:C.maxSteps,setStepNumber:h,stepNumber:g,isLoading:Boolean(I),label:e,onVisible:e=>P((t=>e?t+1:t-1))});return Object(n.useEffect)((()=>{1===R&&g!==l&&h(l)}),[R,l,g]),i.a.createElement(k.EuiFlexGroup,{alignItems:"center"},i.a.createElement(k.EuiFlexItem,{grow:!1},i.a.createElement(zt,{onMouseEnter:()=>b(!0),onMouseLeave:()=>b(!1),ref:y},(T||j)&&i.a.createElement(Pt,{captionContent:D,imageCaption:z,imgSrc:T,imgRef:j,isImagePopoverOpen:f}),!T&&!j&&i.a.createElement(wt,{imageCaption:z,isLoading:I||!r}))),e&&i.a.createElement(k.EuiFlexItem,{grow:!1},i.a.createElement(k.EuiText,{className:"eui-textNoWrap"},e)))},Bt=e=>{let t=Date.parse(e);return isNaN(t)&&(t=parseInt(e,10)),rt()(t)},_t=({status:e,summaryError:t})=>{const{colors:{dangerBehindText:a}}=Object(n.useContext)(L.g);if(e===u.x.UP)return i.a.createElement(k.EuiBadge,{className:"eui-textCenter",color:"success"},Ht(e));const r=null==t?void 0:t.message;return i.a.createElement(k.EuiToolTip,{content:r},i.a.createElement(k.EuiBadge,{className:"eui-textCenter",color:a},Ht(e)))},$t=_e()(k.EuiFlexGroup).withConfig({displayName:"StatusColumnFlexG",componentId:"sc-l5cs42-0"})(["@media (max-width:574px){min-width:230px;}"]),Ht=e=>{switch(e){case u.x.UP:return Je;case u.x.DOWN:return Ke;default:return null}},Gt=(e,t=!1)=>{if(t){var a;const t=null!==(a=rt.a.locale())&&void 0!==a?a:"en";let n;return rt.a.locale(u.w)===u.w||rt.a.defineLocale(u.w,u.v),n="string"==typeof e?Bt(e).fromNow():e.fromNow(),rt.a.locale(t),n}return rt()().diff(e,"d")>=1?e.format("ll LTS"):e.format("LTS")},Ut=({status:e,summaryError:t,summaryPings:a=[],timestamp:n})=>{const r=Bt(n),{statusMessage:l,locTooltip:s}=((e,t)=>{const a=new Set,n=new Set;e.forEach((e=>{var t,i,r;const l=null!==(t=null==e||null===(i=e.observer)||void 0===i||null===(r=i.geo)||void 0===r?void 0:r.name)&&void 0!==t?t:u.A;e.monitor.status===u.x.UP?a.add(l):e.monitor.status===u.x.DOWN&&n.add(l)}));const r=a.size>0?o.i18n.translate("xpack.uptime.monitorList.statusColumn.locStatusMessage.tooltip.up",{defaultMessage:"Up in {locs}",values:{locs:[...a].join(", ")}}):"",l=n.size>0?o.i18n.translate("xpack.uptime.monitorList.statusColumn.locStatusMessage.tooltip.down",{defaultMessage:"Down in {locs}",values:{locs:[...n].join(", ")}}):"",s=new Set([...a].filter((e=>!n.has(e)))),c=s.size+n.size;let d="";return d=t===u.x.DOWN?`${n.size}/${c}`:`${s.size}/${c}`,c>1?{statusMessage:o.i18n.translate("xpack.uptime.monitorList.statusColumn.locStatusMessage.multiple",{defaultMessage:"in {noLoc} locations",values:{noLoc:d}}),locTooltip:i.a.createElement(i.a.Fragment,null,i.a.createElement("span",null,r),i.a.createElement(k.EuiSpacer,{size:"xs"}),i.a.createElement("span",null,l))}:{statusMessage:o.i18n.translate("xpack.uptime.monitorList.statusColumn.locStatusMessage",{defaultMessage:"in {noLoc} location",values:{noLoc:d}}),locTooltip:r+l}})(a,e);return i.a.createElement("div",null,i.a.createElement($t,{alignItems:"center",gutterSize:"xs",wrap:!1,responsive:!1},i.a.createElement(k.EuiFlexItem,{grow:!1,style:{flexBasis:40}},i.a.createElement(_t,{status:e,summaryError:t}))),i.a.createElement(k.EuiSpacer,{size:"xs"}),i.a.createElement(k.EuiText,{size:"xs"},i.a.createElement(k.EuiToolTip,{content:i.a.createElement(k.EuiText,{color:"ghost",size:"xs"},s)},i.a.createElement(qt,{size:"xs",color:"subdued",className:"eui-textNoWrap"},l,",")),i.a.createElement(k.EuiToolTip,{content:i.a.createElement(i.a.Fragment,null,i.a.createElement(k.EuiText,{color:"text",size:"xs"},i.a.createElement("strong",null," ",r.fromNow())),i.a.createElement(k.EuiHorizontalRule,{margin:"xs"}),i.a.createElement(k.EuiText,{color:"ghost",size:"xs"},r.toLocaleString()))},i.a.createElement(k.EuiText,{size:"xs",color:"subdued",className:"eui-textNoWrap"},Wt(r)))))},Wt=e=>o.i18n.translate("xpack.uptime.monitorList.statusColumn.checkedTimestamp",{defaultMessage:"Checked {timestamp}",values:{timestamp:Gt(e)}}),qt=Object(T.euiStyled)(k.EuiText)`
  padding-right: ${e=>e.theme.eui.euiSizeXS};
`,Vt=_e.a.span.withConfig({displayName:"StyledSpan",componentId:"sc-1qn1z9l-0"})(["display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3;overflow:hidden;"]),Jt=({errorType:e,ping:t})=>{var a;return e?i.a.createElement(Vt,null,e,":",null===(a=t.error)||void 0===a?void 0:a.message):i.a.createElement(i.a.Fragment,null,"--")},Kt=({checkGroup:e,failedSteps:t})=>{var a,n,r,l,o;const s=null==t||null===(a=t.steps)||void 0===a?void 0:a.find((t=>!!e&&t.monitor.check_group===e));return s?i.a.createElement("div",null,null===(n=s.synthetics)||void 0===n||null===(r=n.step)||void 0===r?void 0:r.index,". ",null===(l=s.synthetics)||void 0===l||null===(o=l.step)||void 0===o?void 0:o.name):i.a.createElement(i.a.Fragment,null,"--")},Yt=_e.a.span.withConfig({displayName:"SpanWithMargin",componentId:"sc-svojnp-0"})(["margin-right:16px;"]),Xt=({statusCode:e})=>i.a.createElement(Yt,null,e?i.a.createElement(k.EuiBadge,{"data-test-subj":"pingResponseCode"},e):"--"),Zt=()=>{const e=i.a.createElement(k.EuiLink,{"data-test-subj":"syntheticsDocLinkForBodyDocsLink",href:"https://www.elastic.co/guide/en/beats/heartbeat/current/configuration-heartbeat-options.html#monitor-http-response",target:"_blank"},o.i18n.translate("xpack.uptime.pingList.drawer.body.docsLink",{defaultMessage:"docs",description:"Docs link to set response body"}));return i.a.createElement(k.EuiText,null,i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.pingList.expandedRow.response_body.notRecorded",defaultMessage:"Body not recorded. Read our {docsLink} for more information on recording response bodies.",values:{docsLink:e}}))},Qt=_e()(k.EuiListGroup).withConfig({displayName:"ListGroup",componentId:"sc-1tzjztr-0"})(["&&&{a{padding-left:0;}}"]),ea=({monitorStatus:e,showTitle:t})=>{var a,n,r,l;const s=null==e||null===(a=e.url)||void 0===a?void 0:a.full,u=null==e||null===(n=e.http)||void 0===n||null===(r=n.response)||void 0===r?void 0:r.redirects,c=[{label:s,href:s,iconType:"globe",size:"s",target:"_blank",extraAction:{color:"text",iconType:"popout",iconSize:"s",alwaysShow:!0,"aria-label":o.i18n.translate("xpack.uptime.monitorList.redirects.openWindow",{defaultMessage:"Link will open in new window."})}}];(null!=u?u:[]).forEach((e=>{c.push({label:e,href:e,iconType:"sortDown",size:"s",target:"_blank",extraAction:{color:"text",iconType:"popout",iconSize:"s","aria-label":o.i18n.translate("xpack.uptime.monitorList.redirects.openWindow",{defaultMessage:"Link will open in new window."}),alwaysShow:!0}})}));const d=t?k.EuiPanel:"div";return u?i.a.createElement(d,{"data-test-subj":"uptimeMonitorPingListRedirectInfo"},t&&i.a.createElement(k.EuiText,{size:"xs"},i.a.createElement("h3",null,o.i18n.translate("xpack.uptime.monitorList.redirects.title",{defaultMessage:"Redirects"}))),i.a.createElement(k.EuiSpacer,{size:"xs"}),i.a.createElement(k.EuiText,null,o.i18n.translate("xpack.uptime.monitorList.redirects.description",{defaultMessage:"Heartbeat followed {number} redirects while executing ping.",values:{number:null!==(l=null==u?void 0:u.length)&&void 0!==l?l:0}})),i.a.createElement(k.EuiSpacer,{size:"s"}),i.a.createElement(Qt,{gutterSize:"none",listItems:c})):null},ta=({headers:e})=>{const t=Object.keys(e).sort().map((t=>({title:t,description:e[t]})));return i.a.createElement(i.a.Fragment,null,i.a.createElement(k.EuiSpacer,{size:"s"}),i.a.createElement(k.EuiAccordion,{id:"responseHeaderAccord",buttonContent:i.a.createElement(k.EuiText,{size:"s"},i.a.createElement("h3",null,o.i18n.translate("xpack.uptime.pingList.headers.title",{defaultMessage:"Response headers"})))},i.a.createElement(k.EuiSpacer,{size:"s"}),i.a.createElement(k.EuiDescriptionList,{titleProps:{style:{width:"30%",paddingLeft:30}},compressed:!0,type:"responsiveColumn",listItems:t})))},aa=({body:e})=>{const t=e.content_bytes||0,a=e.bytes||0,n=[t>0&&t<a?o.i18n.translate("xpack.uptime.pingList.expandedRow.truncated",{defaultMessage:"Showing first {contentBytes} bytes.",values:{contentBytes:t}}):null,a>0?o.i18n.translate("xpack.uptime.pingList.expandedRow.bodySize",{defaultMessage:"Body size is {bodyBytes}.",values:{bodyBytes:Object(k.formatNumber)(a,"0b")}}):null].filter((e=>e)).join(" ");return i.a.createElement(k.EuiText,null,n)},na=({content:e})=>e?i.a.createElement(k.EuiCodeBlock,{overflowHeight:250},e):null,ia=({ping:e})=>{var t,a,n,r,l,s,u,c;const d=[];if(e.error&&d.push({title:o.i18n.translate("xpack.uptime.pingList.expandedRow.error",{defaultMessage:"Error"}),description:i.a.createElement(k.EuiText,null,e.error.message)}),null!==(t=e.http)&&void 0!==t&&null!==(a=t.response)&&void 0!==a&&a.body){const t=e.http.response.body;d.push({title:o.i18n.translate("xpack.uptime.pingList.expandedRow.response_body",{defaultMessage:"Response Body"}),description:i.a.createElement(i.a.Fragment,null,i.a.createElement(aa,{body:t}),i.a.createElement(k.EuiSpacer,{size:"s"}),t.content?i.a.createElement(na,{content:t.content||""}):i.a.createElement(Zt,null))})}return i.a.createElement(k.EuiFlexGroup,{direction:"column"},(null==e||null===(n=e.http)||void 0===n||null===(r=n.response)||void 0===r?void 0:r.redirects)&&i.a.createElement(k.EuiFlexItem,null,i.a.createElement(ea,{monitorStatus:e,showTitle:!0})),(null==e||null===(l=e.http)||void 0===l||null===(s=l.response)||void 0===s?void 0:s.headers)&&i.a.createElement(k.EuiFlexItem,null,i.a.createElement(ta,{headers:null==e||null===(u=e.http)||void 0===u||null===(c=u.response)||void 0===c?void 0:c.headers})),i.a.createElement(k.EuiFlexItem,null,i.a.createElement(k.EuiCallOut,{color:null!=e&&e.error?"danger":"primary"},i.a.createElement(k.EuiDescriptionList,{listItems:d}))))};function ra(e){var t,a,n,i;const r=!!e.error,l=null!==(t=null===(a=e.http)||void 0===a||null===(n=a.response)||void 0===n||null===(i=n.body)||void 0===i?void 0:i.bytes)&&void 0!==t&&t,o="browser"===e.monitor.type;return r||l||o}const la=({item:e,expandedRows:t,setExpandedRows:a})=>i.a.createElement(k.EuiButtonIcon,{"data-test-subj":"uptimePingListExpandBtn",onClick:()=>((e,t,a)=>{if(t[e.docId])return delete t[e.docId],void a({...t});a({...t,[e.docId]:i.a.createElement(ia,{ping:e})})})(e,t,a),isDisabled:!ra(e),"aria-label":t[e.docId]?o.i18n.translate("xpack.uptime.pingList.collapseRow",{defaultMessage:"Collapse"}):o.i18n.translate("xpack.uptime.pingList.expandRow",{defaultMessage:"Expand"}),iconType:t[e.docId]?"arrowUp":"arrowDown"});var oa=a(74);function sa({loading:e,error:t,pings:a,pagination:r,onChange:l,failedSteps:s}){var m;const p=Object(d.useHistory)(),[g,h]=Object(n.useState)({}),f=JSON.stringify(Object.keys(g).filter((e=>!a.some((({docId:t})=>t===e))))),b=Object(c.useDispatch)(),E=Object(n.useCallback)((e=>b(Object(oa.d)(e))),[b]);Object(n.useEffect)((()=>()=>{b(Object(A.a)())}),[b]),Object(n.useEffect)((()=>{const e=JSON.parse(f);e.length&&(e.forEach((e=>{delete g[e]})),h(g))}),[f,g]);const v=a.filter((e=>Object.keys(g).some((t=>e.docId===t)))).map((({monitor:{check_group:e}})=>e)),y=JSON.stringify(v);Object(n.useEffect)((()=>{E(JSON.parse(y))}),[E,y]);const x=a.reduce(((e,t)=>{var a,n;return e||!(null===(a=t.http)||void 0===a||null===(n=a.response)||void 0===n||!n.status_code)}),!1),S=a.reduce(((e,t)=>{var a;return e||!(null===(a=t.error)||void 0===a||!a.type)}),!1),w=null==a||null===(m=a[0])||void 0===m?void 0:m.monitor.type,j=[{field:"monitor.status",name:lt,render:(e,t)=>i.a.createElement(dt,{pingStatus:e,item:t})},{align:"left",field:"observer.geo.name",name:ut,render:e=>i.a.createElement(mt,{location:e})},...w===u.r.BROWSER?[{align:"left",field:"timestamp",name:ct,render:(e,t)=>i.a.createElement(Nt,{checkGroup:t.monitor.check_group,label:Gt(rt()(e))})}]:[],...w!==u.r.BROWSER?[{align:"right",dataType:"number",field:"monitor.ip",name:o.i18n.translate("xpack.uptime.pingList.ipAddressColumnLabel",{defaultMessage:"IP"})}]:[],{align:"center",field:"monitor.duration.us",name:o.i18n.translate("xpack.uptime.pingList.durationMsColumnLabel",{defaultMessage:"Duration"}),render:e=>e?ca(e):i.a.createElement("span",{"data-test-subj":"ping-list-duration-unavailable-tool-tip"},"--")},...S?[{field:"error.type",name:st,width:"30%",render:(e,t)=>i.a.createElement(Jt,{ping:t,errorType:e})}]:[],...w===u.r.BROWSER?[{field:"monitor.status",align:"left",name:o.i18n.translate("xpack.uptime.pingList.columns.failedStep",{defaultMessage:"Failed step"}),render:(e,t)=>{var a;return i.a.createElement(Kt,{checkGroup:null===(a=t.monitor)||void 0===a?void 0:a.check_group,failedSteps:s})}}]:[],...x?[{field:"http.response.status_code",align:"right",name:i.a.createElement(ua,null,ot),render:e=>i.a.createElement(Xt,{statusCode:e})}]:[],...w!==u.r.BROWSER?[{align:"right",width:"24px",isExpander:!0,render:e=>i.a.createElement(la,{item:e,expandedRows:g,setExpandedRows:h})}]:[]];return i.a.createElement(k.EuiBasicTable,{loading:e,columns:j,error:null==t?void 0:t.message,items:a,itemId:"docId",itemIdToExpandedRowMap:g,pagination:r,noItemsMessage:e?o.i18n.translate("xpack.uptime.pingList.pingsLoadingMesssage",{defaultMessage:"Loading history..."}):o.i18n.translate("xpack.uptime.pingList.pingsUnavailableMessage",{defaultMessage:"No history found"}),tableLayout:"auto",rowProps:e=>{if(w!==u.r.BROWSER)return{};const{monitor:t}=e;return{height:"85px","data-test-subj":`row-${t.check_group}`,onClick:e=>{const a=e.target;"IMG"!==a.tagName&&"path"!==a.tagName&&p.push(`/journey/${t.check_group}/steps`)}}},onChange:l})}const ua=_e.a.span.withConfig({displayName:"SpanWithMargin",componentId:"sc-18blv18-0"})(["margin-right:16px;"]),ca=e=>{if(e<1e6)return o.i18n.translate("xpack.uptime.pingList.durationMsColumnFormatting",{values:{millis:Object($e.a)(e)},defaultMessage:"{millis} ms"});const t=(e/1e6).toFixed(0);return"1"===t?o.i18n.translate("xpack.uptime.pingist.durationSecondsColumnFormatting.singular",{values:{seconds:t},defaultMessage:"{seconds} second"}):o.i18n.translate("xpack.uptime.pingist.durationSecondsColumnFormatting",{values:{seconds:t},defaultMessage:"{seconds} seconds"})},da=()=>{const[e,t]=Object(n.useState)(10),[a,r]=Object(n.useState)(0),{error:l,loading:o,pings:s,total:d,failedSteps:m}=(({pageSize:e,pageIndex:t})=>{const{error:a,loading:i,pingList:{pings:r,total:l}}=Object(c.useSelector)(te.B),{lastRefresh:o}=Object(n.useContext)(L.a),{dateRangeStart:s,dateRangeEnd:d}=Object(n.useContext)(L.c),{statusFilter:m}=Object(Y.d)(),p=Object(Ge.b)(),g=Object(c.useDispatch)(),h=Object(Y.e)(),f=Object(n.useCallback)((e=>g(Object(A.q)(e))),[g]),b=JSON.stringify(p.selectedLocations),E=JSON.stringify(p.excludedLocations);Object(n.useEffect)((()=>{f({monitorId:h,dateRange:{from:s,to:d},excludedLocations:E,locations:b,index:t,size:e,status:"all"!==m?m:""})}),[s,d,f,h,o,t,e,m,b,E]);const{data:v}=Object(F.useFetcher)((()=>{if((null==r?void 0:r.length)>0&&r.find((e=>e.monitor.type===u.r.BROWSER)))return Object(He.b)({checkGroups:r.map((e=>e.monitor.check_group))})}),[r]);return{error:a,loading:i,pings:r,total:l,failedSteps:v}})({pageSize:e,pageIndex:a}),p={initialPageSize:10,pageIndex:a,pageSize:e,pageSizeOptions:[10,25,50,100],totalItemCount:d};return i.a.createElement(k.EuiPanel,{hasBorder:!0},i.a.createElement(nt,null),i.a.createElement(k.EuiSpacer,{size:"s"}),i.a.createElement(sa,{onChange:e=>{t(e.page.size),r(e.page.index)},error:l,pings:s,loading:o,pagination:p,failedSteps:m}))},ma=_e.a.div.withConfig({displayName:"BadgeItem",componentId:"sc-k5peh7-0"})(["white-space:nowrap;display:inline-block;@media (max-width:1042px){display:inline-block;margin-right:16px;}"]),pa=({color:e,label:t,status:a})=>i.a.createElement(ma,null,i.a.createElement(k.EuiBadge,{color:a===u.x.DOWN?"danger":"success"},t)),ga=(o.i18n.translate("xpack.uptime.monitorStatusBar.healthStatusMessageAriaLabel",{defaultMessage:"Monitor status"}),o.i18n.translate("xpack.uptime.monitorStatusBar.type.label",{defaultMessage:"Type"})),ha=o.i18n.translate("xpack.uptime.monitorStatusBar.type.ariaLabel",{defaultMessage:"Monitor type"}),fa=o.i18n.translate("xpack.uptime.monitorStatusBar.monitorUrlLinkAriaLabel",{defaultMessage:"Monitor URL link"}),ba=(o.i18n.translate("xpack.uptime.monitorStatusBar.durationTextAriaLabel",{defaultMessage:"Monitor duration in milliseconds"}),o.i18n.translate("xpack.uptime.monitorStatusBar.timestampFromNowTextAriaLabel",{defaultMessage:"Time since last check"}),o.i18n.translate("xpack.uptime.monitorStatusBar.loadingMessage",{defaultMessage:"Loading…"}),o.i18n.translate("xpack.uptime.monitorStatusBar.monitor.id",{defaultMessage:"Monitor ID"})),Ea=o.i18n.translate("xpack.uptime.monitorStatusBar.monitor.availability",{defaultMessage:"Overall availability"}),va=o.i18n.translate("xpack.uptime.monitorStatusBar.monitor.monitoringFrom",{defaultMessage:"Monitoring from"}),ya=(o.i18n.translate("xpack.uptime.monitorStatusBar.monitor.monitoringFrom.listToMap",{defaultMessage:"Change to map view to check availability by location."}),o.i18n.translate("xpack.uptime.monitorStatusBar.monitor.monitoringFrom.MapToList",{defaultMessage:"Change to list view to check availability by location."}),o.i18n.translate("xpack.uptime.monitorStatusBar.monitor.availabilityReport.location",{defaultMessage:"Location"})),xa=o.i18n.translate("xpack.uptime.monitorStatusBar.monitor.availabilityReport.availability",{defaultMessage:"Availability"}),ka=o.i18n.translate("xpack.uptime..monitorStatusBar.monitor.availabilityReport.lastCheck",{defaultMessage:"Last check"}),Sa=e=>(Math.round(100*e)/100).toFixed(2),wa=({allLocations:e})=>{const[t,a]=Object(n.useState)(0),r=[{field:"label",name:ya,truncateText:!0,render:(e,t)=>i.a.createElement(pa,t)},{field:"availability",name:xa,align:"right",render:e=>i.a.createElement("span",null,i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.availabilityLabelText",defaultMessage:"{value} %",values:{value:Sa(e)},description:"A percentage value, like 23.5%"}))},{name:ka,field:"timestamp",align:"right"}],l={pageIndex:t,pageSize:5,totalItemCount:e.length,showPerPageOptions:!1},o=e.length>5?{pagination:l}:{};return i.a.createElement(i.a.Fragment,null,i.a.createElement(k.EuiSpacer,{size:"s"}),i.a.createElement(k.EuiBasicTable,v()({responsiveBreakpoint:!1,compressed:!0,columns:r,items:e.slice(5*t,5*t+5),onChange:({page:e})=>{var t;a(null!==(t=null==e?void 0:e.index)&&void 0!==t?t:0)}},o)))},ja=_e.a.div.withConfig({displayName:"TagContainer",componentId:"sc-r3sshx-0"})(["max-height:246px;overflow:hidden;"]),Oa=({locations:e})=>{var t;const{colors:{gray:a,danger:r}}=Object(n.useContext)(L.g),l=[],o=null!==(t=rt.a.locale())&&void 0!==t?t:"en";return rt.a.locale(u.w)===u.w||rt.a.defineLocale(u.w,u.v),e.forEach((e=>{l.push({label:e.geo.name,timestamp:Gt(rt()(new Date(e.timestamp).valueOf())),color:0===e.summary.down?a:r,availability:e.up_history/(e.up_history+e.down_history)*100,status:0===e.summary.down?"up":"down"})})),rt.a.locale(o),l.sort(((e,t)=>e.label>t.label?1:t.label>e.label?-1:0)),0===l.length?null:i.a.createElement(i.a.Fragment,null,i.a.createElement(ja,null,i.a.createElement(wa,{allLocations:l})))},Ma=_e()(k.EuiFlexItem).withConfig({displayName:"EuiFlexItemTags",componentId:"sc-gy50ds-0"})(["width:350px;@media (max-width:1042px){width:100%;}"]),Ca=({monitorLocations:e})=>i.a.createElement(k.EuiErrorBoundary,null,i.a.createElement(k.EuiFlexGroup,{responsive:!1,gutterSize:"none",style:{flexGrow:0}},i.a.createElement(k.EuiFlexItem,null,i.a.createElement(k.EuiTitle,{size:"s"},i.a.createElement("h3",null,va)))),i.a.createElement(k.EuiFlexGroup,{wrap:!0,gutterSize:"none",justifyContent:"flexEnd"},i.a.createElement(Ma,{grow:!0},i.a.createElement(Oa,{locations:(null==e?void 0:e.locations)||[]})))),Ia=o.i18n.translate("xpack.uptime.certs.ok",{defaultMessage:"OK"}),Ta=o.i18n.translate("xpack.uptime.certs.expired",{defaultMessage:"Expired"}),Fa=o.i18n.translate("xpack.uptime.certs.expireSoon",{defaultMessage:"Expires soon"}),La=o.i18n.translate("xpack.uptime.certs.expires",{defaultMessage:"Expires"}),Aa=o.i18n.translate("xpack.uptime.certs.searchCerts",{defaultMessage:"Search certificates"}),Da=o.i18n.translate("xpack.uptime.certs.list.status",{defaultMessage:"Status"}),Ra=o.i18n.translate("xpack.uptime.certs.list.status.old",{defaultMessage:"Too old"}),Pa=o.i18n.translate("xpack.uptime.certs.list.commonName",{defaultMessage:"Common name"}),za=o.i18n.translate("xpack.uptime.certs.list.monitors",{defaultMessage:"Monitors"}),Na=o.i18n.translate("xpack.uptime.certs.list.issuedBy",{defaultMessage:"Issued by"}),Ba=o.i18n.translate("xpack.uptime.certs.list.validUntil",{defaultMessage:"Valid until"}),_a=o.i18n.translate("xpack.uptime.certs.list.ageCol",{defaultMessage:"Age"}),$a=o.i18n.translate("xpack.uptime.certs.list.days",{defaultMessage:"days"}),Ha=o.i18n.translate("xpack.uptime.certs.list.expirationDate",{defaultMessage:"Fingerprints"}),Ga=o.i18n.translate("xpack.uptime.certs.list.copyFingerprint",{defaultMessage:"Click to copy fingerprint value"}),Ua=o.i18n.translate("xpack.uptime.certs.list.noCerts",{defaultMessage:"No Certificates found."}),Wa=o.i18n.translate("xpack.uptime.certificates.loading",{defaultMessage:"Loading certificates ..."}),qa=_e.a.span.withConfig({displayName:"Span",componentId:"sc-8a4g06-0"})(["margin-left:5px;vertical-align:middle;"]),Va=_e.a.h4.withConfig({displayName:"H4Text",componentId:"sc-8a4g06-1"})(["&&&{margin:0 0 0 4px;display:inline-block;color:inherit;}"]),Ja=({expiry:e,boldStyle:t=!1})=>{const a=null==e?void 0:e.not_after,n=Object(Y.a)(a),r=rt()(a).fromNow(),l=({color:e,text:n})=>i.a.createElement(k.EuiToolTip,{content:rt()(a).format("L LT")},i.a.createElement(k.EuiText,{size:"s"},i.a.createElement(k.EuiIcon,{color:e,type:"lock",size:"s"}),t?i.a.createElement(Va,null,n," ",r):i.a.createElement(qa,null,n," ",r)));return n===u.c.EXPIRING_SOON?i.a.createElement(l,{color:"warning",text:Fa}):n===u.c.EXPIRED?i.a.createElement(l,{color:"danger",text:Ta}):n?i.a.createElement(l,{color:"success",text:La}):i.a.createElement("span",null,"--")},Ka=({tls:e})=>{var t;let a=null;return null!=e&&null!==(t=e.server)&&void 0!==t&&t.x509?a=e.server.x509:null!=e&&e.certificate_not_valid_after&&null!=e&&e.certificate_not_valid_before&&(a={not_after:e.certificate_not_valid_after,not_before:e.certificate_not_valid_before}),a?i.a.createElement(i.a.Fragment,null,i.a.createElement(k.EuiDescriptionListTitle,null,i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.monitorStatusBar.sslCertificate.title",defaultMessage:"TLS Certificate"})),i.a.createElement(k.EuiDescriptionListDescription,null,i.a.createElement(d.Link,{to:u.b,className:"eui-displayInline"},i.a.createElement(Ja,{expiry:a,boldStyle:!0})))):null},Ya=o.i18n.translate("xpack.uptime.monitorList.enableDownAlert",{defaultMessage:"Enable status alerts"}),Xa=o.i18n.translate("xpack.uptime.monitorList.disableDownAlert",{defaultMessage:"Disable status alerts"}),Za=o.i18n.translate("xpack.uptime.monitorList.tags.expand",{defaultMessage:"Click to view remaining tags"}),Qa=(o.i18n.translate("xpack.uptime.monitorList.locations.expand",{defaultMessage:"Click to view remaining locations"}),e=>!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)),en=({to:e,children:t})=>{const a=Object(d.useHistory)(),n={href:a.createHref({pathname:e}),onClick:t=>{(e=>e.defaultPrevented||Qa(e)||!(e=>0===e.button)(e)||(e=>{const t=e.target.getAttribute("target");return!!t&&"_self"!==t})(e))(t)||(t.preventDefault(),a.push(e))}};return i.a.cloneElement(t,n)},tn=({to:e,...t})=>i.a.createElement(en,{to:e},i.a.createElement(k.EuiLink,v()({"data-test-subj":"syntheticsReactRouterEuiLinkLink"},t))),an=({to:e,...t})=>i.a.createElement(en,{to:e},i.a.createElement(k.EuiButtonEmpty,v()({"data-test-subj":"syntheticsReactRouterEuiButtonEmptyButton"},t))),nn=()=>{const[e,t]=Object(n.useState)(!1);return i.a.createElement(k.EuiPopover,{button:i.a.createElement(i.a.Fragment,null,i.a.createElement(k.EuiFormRow,null,i.a.createElement(k.EuiSwitch,{id:"defineAlertSettingsSwitch",label:Ya,showLabel:!1,"aria-label":Ya,onChange:()=>t((e=>!e)),checked:!1,compressed:!0,"data-test-subj":"uptimeDisplayDefineConnector"}))),isOpen:e,closePopover:()=>t(!1)},i.a.createElement(k.EuiText,{style:{width:"350px"},"data-test-subj":"uptimeSettingsDefineConnector"},i.a.createElement(tn,{to:u.u+"?focusConnectorField=true","data-test-subj":"uptimeSettingsLink"},i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.page_header.defineConnector.popover.defaultLink",defaultMessage:"Define a default connector"}))," ",i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.monitorList.defineConnector.popover.description",defaultMessage:"to receive status alerts."})))},rn=({monitorId:e,selectedMonitor:t})=>{var a,r,l;const[o,s]=Object(n.useState)(!1),{settings:m}=Object(c.useSelector)(te.z),p=Object(d.useRouteMatch)(u.q),g=Object(c.useDispatch)(),{data:h}=Object(c.useSelector)(Re.d),{data:f,loading:b}=Object(c.useSelector)(Re.b),{data:E}=Object(c.useSelector)(Re.l),{data:v,error:y}=Object(c.useSelector)(Re.n),x=null==v?void 0:v.params.search.includes(e);let S=(null!==(a=null==f?void 0:f.data)&&void 0!==a?a:[]).find((t=>t.params.search.includes(e)));x&&(S=v),E===(null===(r=S)||void 0===r?void 0:r.id)&&(S=void 0);const w=(null!=h?h:[]).filter((e=>{var t;return null==m||null===(t=m.defaultConnectors)||void 0===t?void 0:t.includes(e.id)}));Object(n.useEffect)((()=>{s(!1)}),[S,E,y]);const j=(null!==(l=null==m?void 0:m.defaultConnectors)&&void 0!==l?l:[]).length>0,O=o||b&&!f,M=S?Xa:Ya;return j||S?i.a.createElement("div",{className:"eui-displayInlineBlock",style:{marginRight:10}},i.a.createElement(k.EuiToolTip,{content:M},i.a.createElement(i.a.Fragment,null,i.a.createElement(k.EuiSwitch,{id:"enableDisableAlertSwitch",compressed:!p,disabled:O,label:M,showLabel:!1,"aria-label":M,onChange:()=>{S?S&&(g(Re.f.get({alertId:S.id})),s(!0)):(g(Re.e.get({defaultActions:w,monitorId:e,selectedMonitor:t,defaultEmail:null==m?void 0:m.defaultEmail})),s(!0))},checked:!!S,"data-test-subj":S?"uptimeDisableSimpleDownAlert"+e:"uptimeEnableSimpleDownAlert"+e})," ",O&&i.a.createElement(k.EuiLoadingSpinner,{className:"eui-alignMiddle"})))):i.a.createElement(nn,null)},ln=({locations:e})=>{const t=[],a=[];e&&e.forEach((e=>{0===e.summary.down?t.push(e.geo.name):a.push(e.geo.name)}));let n="",r="";return 0===a.length?(n=`${e.length}`,r="Up"):a.length>0&&(r="Down",n=`${a.length}/${e.length}`,a.length===e.length&&(n=`${e.length}`)),i.a.createElement(k.EuiTitle,{size:"s"},i.a.createElement("h2",null,e.length<=1?i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.monitorStatusBar.locations.oneLocStatus",values:{status:r,loc:n},defaultMessage:"{status} in {loc} location"}):i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.monitorStatusBar.locations.upStatus",values:{status:r,loc:n},defaultMessage:"{status} in {loc} locations"})))},on=({monitorStatus:e})=>{var t,a,r;const l=null==e||null===(t=e.http)||void 0===t||null===(a=t.response)||void 0===a?void 0:a.redirects,[s,u]=Object(n.useState)(!1),c=i.a.createElement(k.EuiDescriptionListDescription,null,i.a.createElement(k.EuiButtonEmpty,{className:"euiLink euiLink--primary",onClick:()=>u(!s),"data-test-subj":"uptimeMonitorRedirectInfo",iconType:"arrowDown",iconSide:"right"},o.i18n.translate("xpack.uptime.monitorList.redirects.title.number",{defaultMessage:"{number}",values:{number:null!==(r=null==l?void 0:l.length)&&void 0!==r?r:0}})));return l?i.a.createElement(i.a.Fragment,null,i.a.createElement(k.EuiDescriptionListTitle,null,"Redirects"),i.a.createElement(k.EuiPopover,{button:c,isOpen:s,anchorPosition:"downLeft",closePopover:()=>u(!1)},i.a.createElement(ea,{monitorStatus:e}))):null};var sn=a(88);const un=({children:e,monitorId:t,linkParameters:a})=>i.a.createElement(tn,{"data-test-subj":`monitor-page-link-${t}`,to:a?`/monitor/${btoa(t)}/${a}`:`/monitor/${btoa(t)}`},e),cn=e=>{let t;try{t=new Map(JSON.parse(e))}catch{t=new Map}return t},dn={browser:"Browser",http:"HTTP Ping",tcp:"TCP Ping",icmp:"ICMP Ping"},mn=({summary:e})=>{var t;const a=Object(Y.d)(),r=K(a,!0),l=cn(a.filters),[s,u]=Object(n.useState)(null!==(t=l.get("monitor.type"))&&void 0!==t?t:[]),c=Object(n.useMemo)((()=>{var e;return null!==(e=cn(a.excludedFilters).get("monitor.type"))&&void 0!==e?e:[]}),[a.excludedFilters]);Object(sn.b)("monitor.type",s,c);const d=o.i18n.translate("xpack.uptime.monitorList.monitorType.filter",{defaultMessage:"Filter all monitors with type {type}",values:{type:e.state.monitor.type}});return i.a.createElement("div",null,i.a.createElement(un,{monitorId:e.monitor_id,linkParameters:r},e.state.monitor.name?e.state.monitor.name:`Unnamed - ${e.monitor_id}`),i.a.createElement("div",null,i.a.createElement(k.EuiButtonEmpty,{"data-test-subj":"syntheticsMonitorNameColumnButton",color:"text",title:d,onClick:()=>{u([e.state.monitor.type])},size:"xs",flush:"left",style:{border:"none"}},i.a.createElement(k.EuiText,{size:"xs"},dn[e.state.monitor.type]))))},pn=e=>o.i18n.translate("xpack.uptime.monitorList.tags.filter",{defaultMessage:"Filter all monitors with tag {tag}",values:{tag:e}}),gn=({ping:e,summary:t})=>{var a;const r=Object(d.useHistory)(),{services:{docLinks:l}}=Object(f.useKibana)(),[o,s]=Object(n.useState)(5);let c;c=t?(e=>{let t=new Set;return e.state.summaryPings.forEach((e=>{var a;t=new Set([...t,...null!==(a=null==e?void 0:e.tags)&&void 0!==a?a:[]])})),[...t]})(t):(e=>{var t;return null!==(t=null==e?void 0:e.tags)&&void 0!==t?t:[]})(e);const m=c.slice(0,o),{absoluteDateRangeStart:p,absoluteDateRangeEnd:g,...h}=Object(Y.d)(),b=cn(h.filters),[E,v]=Object(n.useState)(null!==(a=b.get("tags"))&&void 0!==a?a:[]),y=Object(n.useMemo)((()=>{var e;return null!==(e=cn(h.excludedFilters).get("tags"))&&void 0!==e?e:[]}),[h.excludedFilters]);return Object(sn.b)("tags",E,y),0===c.length?t?null:i.a.createElement(k.EuiLink,{"data-test-subj":"syntheticsMonitorTagsSetTagsLink",href:(null==l?void 0:l.links.heartbeat.base)+"/monitor-options.html#monitor-tags",target:"_blank"},"Set tags"):i.a.createElement(k.EuiBadgeGroup,null,m.map((e=>t?i.a.createElement(k.EuiBadge,{key:e,title:pn(e),onClick:()=>{v([e])},onClickAriaLabel:pn(e),color:"hollow",className:"eui-textTruncate",style:{maxWidth:120}},e):i.a.createElement(k.EuiBadge,{key:e,color:"hollow",className:"eui-textTruncate",style:{maxWidth:120},href:r.createHref({pathname:u.s,search:`filters=[["tags",["${e}"]]]`})},e))),c.length>o&&i.a.createElement(k.EuiBadge,{color:"hollow",onClick:()=>{s(c.length)},onClickAriaLabel:Za},"+",c.length-5))},hn=()=>{var e,t,a,r,l,s,u;const{monitorId:d,monitorStatus:m,monitorLocations:p={}}=(()=>{const{lastRefresh:e}=Object(n.useContext)(L.a),{dateRangeStart:t,dateRangeEnd:a}=Object(Y.d)(),i=Object(c.useDispatch)(),r=Object(Y.e)(),l=Object(c.useSelector)(te.t),o=Object(c.useSelector)((e=>Object(te.s)(e,r)));return Object(n.useEffect)((()=>{i(Object(A.m)({dateStart:t,dateEnd:a,monitorId:r}))}),[r,t,a,e,i]),{monitorStatus:l,monitorLocations:o,monitorId:r}})(),{locations:g,up_history:h,down_history:f}=p,b=null!==(e=null==m||null===(t=m.url)||void 0===t?void 0:t.full)&&void 0!==e?e:"",E=0===h&&0===f||!h?0:h/(h+f)*100,v=Object(c.useSelector)(te.t);return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,i.a.createElement(ln,{locations:null!=g?g:[]})),i.a.createElement(k.EuiSpacer,null),i.a.createElement(k.EuiDescriptionList,{type:"column",compressed:!0,textStyle:"reverse",columnWidths:[1,3]},i.a.createElement(k.EuiDescriptionListTitle,null,Ea),i.a.createElement(k.EuiDescriptionListDescription,{"data-test-subj":"uptimeOverallAvailability"},i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.availabilityLabelText",defaultMessage:"{value} %",values:{value:Sa(E)},description:"A percentage value, like 23.5 %"})),i.a.createElement(k.EuiDescriptionListTitle,null,We),i.a.createElement(k.EuiDescriptionListDescription,{"data-test-subj":"monitor-page-url",className:"eui-textBreakAll"},b?i.a.createElement(k.EuiLink,{"data-test-subj":"syntheticsMonitorStatusBarLink","aria-label":fa,href:b,target:"_blank",external:!0},b):"--"),i.a.createElement(k.EuiDescriptionListTitle,null,ba),i.a.createElement(k.EuiDescriptionListDescription,{"data-test-subj":"monitor-page-title"},d),(null==m||null===(a=m.monitor)||void 0===a?void 0:a.type)&&i.a.createElement(i.a.Fragment,null,i.a.createElement(k.EuiDescriptionListTitle,{"aria-label":ha},ga),i.a.createElement(k.EuiDescriptionListDescription,{"data-test-subj":"monitor-page-type"},(e=>{switch(e){case"http":return o.i18n.translate("xpack.uptime.monitorDetails.statusBar.pingType.http",{defaultMessage:"HTTP"});case"tcp":return o.i18n.translate("xpack.uptime.monitorDetails.statusBar.pingType.tcp",{defaultMessage:"TCP"});case"icmp":return o.i18n.translate("xpack.uptime.monitorDetails.statusBar.pingType.icmp",{defaultMessage:"ICMP"});case"browser":return o.i18n.translate("xpack.uptime.monitorDetails.statusBar.pingType.browser",{defaultMessage:"Browser"});default:return""}})(null==m||null===(r=m.monitor)||void 0===r?void 0:r.type))),i.a.createElement(k.EuiDescriptionListTitle,null,qe),i.a.createElement(k.EuiDescriptionListDescription,null,i.a.createElement(gn,{ping:m})),(null==m||null===(l=m.monitor)||void 0===l||null===(s=l.project)||void 0===s?void 0:s.id)&&i.a.createElement(i.a.Fragment,null,i.a.createElement(k.EuiDescriptionListTitle,null,Ve),i.a.createElement(k.EuiDescriptionListDescription,null,null==m||null===(u=m.monitor)||void 0===u?void 0:u.project.id)),i.a.createElement(Ka,{tls:null==m?void 0:m.tls}),i.a.createElement(on,{monitorStatus:m}),i.a.createElement(k.EuiDescriptionListTitle,null,Ya),v&&i.a.createElement(rn,{monitorId:d,selectedMonitor:v})))},fn=_e()(k.EuiFlexItem).withConfig({displayName:"WrapFlexItem",componentId:"sc-1xcblh7-0"})(["&&&{@media (max-width:800px){flex-basis:100%;}}"]),bn=({monitorLocations:e})=>i.a.createElement(k.EuiPanel,{hasBorder:!0},i.a.createElement(k.EuiFlexGroup,{gutterSize:"l",wrap:!0,responsive:!0},i.a.createElement(k.EuiFlexItem,{grow:1},i.a.createElement(hn,null)),i.a.createElement(fn,{grow:1},i.a.createElement(Ca,{monitorLocations:e}))));var En=a(90);const vn=({monitorId:e})=>{const{lastRefresh:t}=Object(n.useContext)(L.a),{dateRangeStart:a,dateRangeEnd:r}=Object(Y.d)(),l=Object(c.useDispatch)(),o=Object(c.useSelector)((t=>Object(te.s)(t,e)));return Object(n.useEffect)((()=>{l(Object(En.b)({dateStart:a,dateEnd:r,monitorId:e}))}),[e,a,r,t,l]),i.a.createElement(bn,{monitorLocations:o})};var yn=a(30);const xn=_e()(k.EuiFlexItem).withConfig({displayName:"EuiFlexItemReducedMargin",componentId:"sc-87gfv4-0"})(["&&{margin-left:0px;margin-right:0px;}"]),kn=_e()(k.EuiFlexItem).withConfig({displayName:"EuiFlexItemAlignRight",componentId:"sc-87gfv4-1"})(["text-align:right;"]),Sn=({color:e,content:t,message:a,"data-test-subj":n})=>i.a.createElement(k.EuiFlexGroup,{gutterSize:"l",responsive:!1},i.a.createElement(xn,{component:"span",grow:!1},i.a.createElement(k.EuiHealth,{color:e})),i.a.createElement(xn,{component:"span",grow:!1,"data-test-subj":`${n}.label`},a),i.a.createElement(kn,{component:"span","data-test-subj":n},t)),wn=_e.a.div.withConfig({displayName:"LegendContainer",componentId:"sc-15goleh-0"})(["max-width:150px;min-width:100px;@media (max-width:767px){min-width:0px;max-width:100px;}"]),jn=({down:e,up:t})=>{const{colors:{gray:a,danger:r}}=Object(n.useContext)(L.g);return i.a.createElement(wn,null,i.a.createElement(Sn,{color:r,content:e,message:Ke,"data-test-subj":"xpack.synthetics.snapshot.donutChart.down"}),i.a.createElement(k.EuiSpacer,{size:"m"}),i.a.createElement(Sn,{color:a,content:t,message:Je,"data-test-subj":"xpack.synthetics.snapshot.donutChart.up"}))},On=_e()(k.EuiIcon).withConfig({displayName:"GreenCheckIcon",componentId:"sc-awzz2w-0"})(["height:42px;width:42px;color:#017d73;top:51px;left:51px;position:absolute;"]),Mn={chartMargins:{top:0,bottom:0,left:0,right:0},partition:{linkLabel:{maximumSection:1/0},idealFontSizeJump:1.1,outerSizeRatio:.9,emptySizeRatio:.4,circlePadding:4}},Cn=({height:e,down:t,up:a})=>{var r;const{colors:{danger:l,gray:s},chartTheme:u}=Object(n.useContext)(L.g);return i.a.createElement(k.EuiFlexGroup,{alignItems:"center",responsive:!1},i.a.createElement(k.EuiFlexItem,{grow:!1,style:{position:"relative"}},i.a.createElement(yn.Chart,{size:e,"aria-label":o.i18n.translate("xpack.uptime.snapshot.donutChart.ariaLabel",{defaultMessage:"Pie chart showing the current status. {down} of {total} monitors are down.",values:{down:t,total:a+t}})},i.a.createElement(yn.Settings,{theme:[Mn,null!==(r=u.theme)&&void 0!==r?r:{}],baseTheme:u.baseTheme,locale:o.i18n.getLocale()}),i.a.createElement(yn.Partition,{id:"spec_1",data:[{value:t,label:"Down"},{value:a,label:"Up"}],layout:yn.PartitionLayout.sunburst,valueAccessor:e=>e.value,layers:[{groupByRollup:e=>e.label,nodeLabel:e=>e,shape:{fillColor:e=>"Down"===e?l:s}}]})),0===t&&i.a.createElement(On,{className:"greenCheckIcon",type:"checkInCircleFilled"})),i.a.createElement(k.EuiFlexItem,null,i.a.createElement(jn,{down:t,up:a})))};function In(e,t){return(e/1e6).toFixed(t||0)}function Tn(e){return(e/1e3).toFixed(0)}const Fn=({monitorType:e,lines:t})=>i.a.createElement(i.a.Fragment,null,t.map((({name:t,line:a})=>i.a.createElement(yn.LineSeries,{curve:yn.CurveType.CURVE_MONOTONE_X,data:a.map((({x:e,y:t})=>[e,t||null])),id:`loc-avg-${t}`,key:`loc-line-${t}`,name:t,xAccessor:0,xScaleType:yn.ScaleType.Time,yAccessors:[1],yScaleType:yn.ScaleType.Linear,fit:yn.Fit.Linear,timeZone:"local",tickFormat:t=>"browser"===e?`${In(t)} ${Qe}`:`${Tn(t)} ${et}`})))),Ln=({loading:e=!1,height:t="100%",children:a,...n})=>{const r=!0===e?.3:1;return i.a.createElement(k.EuiErrorBoundary,null,i.a.createElement("div",v()({style:{height:t,opacity:r,transition:"opacity 0.2s"}},n),a),!0===e&&i.a.createElement(k.EuiFlexGroup,{justifyContent:"spaceAround",alignItems:"center",style:{height:t,marginTop:`-${t}`,marginBottom:0}},i.a.createElement(k.EuiFlexItem,{grow:!1},i.a.createElement(k.EuiLoadingChart,{size:"xl"}))))},An=({title:e,body:t})=>i.a.createElement(k.EuiEmptyPrompt,{title:i.a.createElement(k.EuiTitle,null,i.a.createElement("h5",null,e)),body:i.a.createElement("p",null,t)});var Dn=a(102),Rn=a(93);const Pn=_e.a.div.withConfig({displayName:"Header",componentId:"sc-1rii32n-0"})(["font-weight:bold;padding-left:4px;"]),zn=_e.a.div.withConfig({displayName:"RecordSeverity",componentId:"sc-1rii32n-1"})(["font-weight:bold;border-left:4px solid ",";padding-left:2px;"],(e=>e.color)),Nn=_e.a.div.withConfig({displayName:"TimeDiv",componentId:"sc-1rii32n-2"})(["font-weight:500;border-bottom:1px solid gray;padding-bottom:2px;"]),Bn=({details:e})=>{const t=JSON.parse(e);return i.a.createElement(i.a.Fragment,null,i.a.createElement(Nn,null,rt()(t.time).format("lll")),i.a.createElement(Pn,null,i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.charts.mlAnnotation.header",defaultMessage:"Score: {score}",values:{score:t.score.toFixed(2)}})),i.a.createElement(zn,{color:t.color},i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.charts.mlAnnotation.severity",defaultMessage:"Severity: {severity}",values:{severity:(a=t.severity,a.charAt(0).toUpperCase()+a.slice(1))}})));var a},_n=({anomalies:e,hiddenLegends:t})=>{const a=new Map;Object.keys(Rn.a).forEach((e=>{a.set(e.toLowerCase(),{rect:[],color:""})})),null!=e&&e.anomalies&&e.anomalies.forEach((e=>{var n,i;let r=null!==(n=null===(i=e.source["observer.geo.name"])||void 0===i?void 0:i[0])&&void 0!==n?n:"N/A";if(""===r&&(r="N/A"),t.length&&t.includes(`loc-avg-${r}`))return;const l=(o=e.severity)>=75?Rn.a.CRITICAL:o>=50?Rn.a.MAJOR:o>=25?Rn.a.MINOR:o>=3?Rn.a.WARNING:o>=0?Rn.a.LOW:Rn.a.UNKNOWN;var o;const s={time:e.source.timestamp,score:e.severity,severity:l,color:Object(Dn.a)(e.severity)},u={coordinates:{x0:rt()(e.source.timestamp).valueOf(),x1:rt()(e.source.timestamp).add(e.source.bucket_span,"s").valueOf()},details:JSON.stringify(s)};a.get(l).rect.push(u),a.get(l).color=Object(Dn.a)(e.severity)}));const n=({details:e})=>i.a.createElement(Bn,{details:e||""});return i.a.createElement(i.a.Fragment,null,Array.from(a).map((([e,t])=>{return t.rect.length>0?i.a.createElement(yn.RectAnnotation,{dataValues:t.rect,key:e,id:e,style:(a=t.color,{fill:a,opacity:1,strokeWidth:2,stroke:a}),customTooltipDetails:n}):null;var a})))},$n=({locationDurationLines:e,anomalies:t,loading:a})=>{var r;const l=e.length>0,[s,u]=Object(Y.g)(),{absoluteDateRangeStart:d,absoluteDateRangeEnd:m}=s(),[p,g]=Object(n.useState)([]),{chartTheme:h}=Object(n.useContext)(L.g),f=Object(c.useSelector)(te.t);return i.a.createElement(Ln,{"aria-label":o.i18n.translate("xpack.uptime.monitorCharts.durationChart.wrapper.label",{defaultMessage:"A chart displaying the monitor's ping duration, grouped by location."}),height:ui,loading:a},l&&"string"==typeof(null==f||null===(r=f.monitor)||void 0===r?void 0:r.type)?i.a.createElement(yn.Chart,null,i.a.createElement(yn.Settings,v()({xDomain:{min:d,max:m},showLegend:!0,legendPosition:yn.Position.Right,onBrushEnd:({x:e})=>{if(!e)return;const[t,a]=e;u({dateRangeStart:rt()(t).toISOString(),dateRangeEnd:rt()(a).toISOString()})},onLegendItemClick:([e])=>{e&&g((t=>t.includes(e.specId)?[...t.filter((t=>t!==e.specId))]:[...t,e.specId]))},locale:o.i18n.getLocale()},h)),i.a.createElement(yn.Axis,{id:"bottom",position:yn.Position.Bottom,showOverlappingTicks:!0,tickFormat:Object(yn.timeFormatter)(Object($e.b)(d,m))}),i.a.createElement(yn.Axis,{domain:{min:0,max:NaN,fit:!1},id:"left",position:yn.Position.Left,tickFormat:e=>(e=>{const t=Number(e);return isNaN(t)||null===e?"N/A":t.toFixed()})(e),title:o.i18n.translate("xpack.uptime.monitorCharts.durationChart.leftAxis.title",{defaultMessage:"Duration in {unit}",values:{unit:"browser"===f.monitor.type?Ze:et}}),labelFormat:e=>"browser"===(null==f?void 0:f.monitor.type)?`${In(e)}`:`${Tn(e)}`}),i.a.createElement(Fn,{lines:e,monitorType:f.monitor.type}),i.a.createElement(_n,{anomalies:t,hiddenLegends:p})):i.a.createElement(An,{body:i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.durationChart.emptyPrompt.description",defaultMessage:"This monitor has never been {emphasizedText} during the selected time range.",values:{emphasizedText:i.a.createElement("strong",null,o.i18n.translate("xpack.uptime.durationChartComponent.strong.upLabel",{defaultMessage:"up"}))}}),title:o.i18n.translate("xpack.uptime.durationChart.emptyPrompt.title",{defaultMessage:"No duration data available"})}))},Hn=(e,t)=>{const a=e[0].x;return{dateRangeStart:rt()(a).toISOString(),dateRangeEnd:rt()(a).add(t,"ms").toISOString()}},Gn=({histogramSeries:e,minInterval:t})=>{const{colors:{danger:a},chartTheme:r}=Object(n.useContext)(L.g),[l,s]=Object(Y.g)(),{absoluteDateRangeStart:u,absoluteDateRangeEnd:c}=l();return Object($e.k)(e)?i.a.createElement("div",{style:{height:50,width:"100%",maxWidth:"1200px",marginRight:15}},i.a.createElement(yn.Chart,null,i.a.createElement(yn.Settings,v()({xDomain:{minInterval:t,min:u,max:c},onBrushEnd:({x:e})=>{if(!e)return;const[t,a]=e;s({dateRangeStart:rt()(t).toISOString(),dateRangeEnd:rt()(a).toISOString()})},onElementClick:([e])=>{s(Hn(e,t))},locale:o.i18n.getLocale()},r)),i.a.createElement(yn.Axis,{hide:!0,id:"bottom",position:yn.Position.Bottom,tickFormat:Object(yn.timeFormatter)(Object($e.b)(u,c))}),i.a.createElement(yn.BarSeries,{id:"downSeries",color:a,data:(e||[]).map((({timestamp:e,down:t})=>[e,t])),name:o.i18n.translate("xpack.uptime.monitorList.downLineSeries.downLabel",{defaultMessage:"Down checks"}),timeZone:"local",xAccessor:0,xScaleType:yn.ScaleType.Time,yAccessors:[1],yScaleType:yn.ScaleType.Linear}))):i.a.createElement(k.EuiToolTip,{position:"top",content:i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.monitorList.noDownHistory",defaultMessage:"This monitor has never been {emphasizedText} during the selected time range.",values:{emphasizedText:i.a.createElement("strong",null,"down")}})},i.a.createElement(k.EuiText,{color:"success"},"--"))};var Un=a(49),Wn=a.n(Un);const qn=({absoluteStartDate:e,absoluteEndDate:t,data:a,loading:r=!1,height:l,timeZone:s})=>{var u;const{colors:{danger:c,gray:d},chartTheme:m}=Object(n.useContext)(L.g),[p,g]=Object(Y.g)();let h;if(null!=a&&null!==(u=a.histogram)&&void 0!==u&&u.length||r){const{histogram:n,minInterval:u}=null!=a?a:{},p=({x:e})=>{if(!e)return;const[t,a]=e;g({dateRangeStart:rt()(t).toISOString(),dateRangeEnd:rt()(a).toISOString()})},f=([e])=>{g(Hn(e,u))},b=[];null==n||n.forEach((({x:e,upCount:t,downCount:a})=>{b.push({x:e,y:null!=a?a:0,type:Ke},{x:e,y:null!=t?t:0,type:Je})})),h=i.a.createElement(Ln,{height:l,loading:r,"aria-label":o.i18n.translate("xpack.uptime.snapshotHistogram.description",{defaultMessage:"Bar Chart showing uptime status over time from {startTime} to {endTime}.",values:{startTime:rt()(new Date(e).valueOf()).fromNow(),endTime:rt()(new Date(t).valueOf()).fromNow()}})},i.a.createElement(yn.Chart,null,i.a.createElement(yn.Settings,v()({xDomain:{minInterval:u,min:e,max:t},showLegend:!1,onBrushEnd:p,onElementClick:f,locale:o.i18n.getLocale()},m)),i.a.createElement(yn.Axis,{id:o.i18n.translate("xpack.uptime.snapshotHistogram.xAxisId",{defaultMessage:"Ping X Axis"}),position:yn.Position.Bottom,showOverlappingTicks:!1,tickFormat:Object(yn.timeFormatter)(Object($e.b)(e,t))}),i.a.createElement(yn.Axis,{id:o.i18n.translate("xpack.uptime.snapshotHistogram.yAxisId",{defaultMessage:"Ping Y Axis"}),position:"left",tickFormat:e=>Wn()(e).format("0"),labelFormat:e=>Wn()(e).format("0a"),title:o.i18n.translate("xpack.uptime.snapshotHistogram.yAxis.title",{defaultMessage:"Pings",description:"The label on the y-axis of a chart that displays the number of times Heartbeat has pinged a set of services/websites."})}),i.a.createElement(yn.BarSeries,{color:[c,d],data:b,id:Ke,name:o.i18n.translate("xpack.uptime.snapshotHistogram.series.pings",{defaultMessage:"Monitor Pings"}),stackAccessors:["x"],splitSeriesAccessors:["type"],timeZone:s,xAccessor:"x",xScaleType:yn.ScaleType.Time,yAccessors:["y"],yScaleType:yn.ScaleType.Linear})))}else h=i.a.createElement(An,{title:o.i18n.translate("xpack.uptime.snapshot.noDataTitle",{defaultMessage:"No ping data available"}),body:o.i18n.translate("xpack.uptime.snapshot.noDataDescription",{defaultMessage:"There are no pings in the selected time range."})});return i.a.createElement(i.a.Fragment,null,i.a.createElement(k.EuiFlexGroup,null,i.a.createElement(k.EuiFlexItem,null,i.a.createElement(k.EuiTitle,{size:"s"},i.a.createElement("h2",null,i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.snapshot.pingsOverTimeTitle",defaultMessage:"Pings over time"}))))),h)},Vn=_e.a.div.withConfig({displayName:"ResponsiveWrapper",componentId:"sc-1pqggis-0"})(["margin-left:120px;@media (max-width:950px){margin-left:48px;}@media (max-width:767px){margin-left:12px;margin-top:40px;}"]);var Jn=a(137);function Kn(){const e=Object(c.useSelector)(te.d),{search:t}=Object(d.useLocation)(),a=!!e||!function(e){const t=Object(Jn.a)(e);return!!t.filters||!!t.search}(t);return{pending:!a,filterCheck:Object(n.useCallback)((e=>{a&&e()}),[a])}}const Yn=(Xn=({height:e})=>{const{query:t,absoluteDateRangeStart:a,absoluteDateRangeEnd:r,dateRangeStart:l,dateRangeEnd:o}=Object(Y.d)(),{filterCheck:s,pending:u}=Kn(),d=Object(c.useDispatch)(),m=Object(Y.e)(),{lastRefresh:p}=Object(n.useContext)(L.a),g=Object(c.useSelector)(te.d),{loading:h,pingHistogram:f}=Object(c.useSelector)(te.A),b=Object(F.useTimeZone)();return Object(n.useEffect)((()=>{m?d(A.p.get({monitorId:m,dateStart:l,dateEnd:o,query:t,filters:g,timeZone:b})):s((()=>d(A.p.get({monitorId:m,dateStart:l,dateEnd:o,query:t,filters:g,timeZone:b}))))}),[s,l,o,m,p,g,d,t,b]),i.a.createElement(qn,{data:f,absoluteStartDate:a,absoluteEndDate:r,height:e,loading:h||u,timeZone:b})},({isResponsive:e,...t})=>e?i.a.createElement(Vn,{"data-test-subj":"uptimeWithResponsiveWrapper--wrapper"},i.a.createElement(Xn,t)):i.a.createElement(k.EuiPanel,{paddingSize:"m",hasBorder:!0,"data-test-subj":"uptimeWithResponsiveWrapper--panel"},i.a.createElement(Xn,t)));var Xn,Zn=a(144);const Qn=()=>{const{basePath:e}=Object(n.useContext)(L.c),t=Object(c.useDispatch)();return Object(n.useEffect)((()=>{t(A.f.get())}),[t]),i.a.createElement(i.a.Fragment,null,i.a.createElement(k.EuiCallOut,{"data-test-subj":"uptimeMLLicenseInfo",className:"license-info-trial",title:we,color:"primary",iconType:"help"},i.a.createElement("p",null,je),i.a.createElement(k.EuiButton,{"data-test-subj":"syntheticsShowLicenseInfoButton",color:"primary",href:e+"/app/management/stack/license_management/home"},we)),i.a.createElement(k.EuiSpacer,null))};function ei({isCreatingJob:e,onClickCreate:t,onClose:a,canCreateMLJob:r}){const{basePath:l}=Object(n.useContext)(L.c),o=Object(c.useSelector)(te.e);return i.a.createElement(k.EuiFlyout,{onClose:a,size:"s","data-test-subj":"uptimeMLFlyout"},i.a.createElement(k.EuiFlyoutHeader,null,i.a.createElement(k.EuiTitle,null,i.a.createElement("h2",null,me)),i.a.createElement(k.EuiSpacer,{size:"s"})),i.a.createElement(k.EuiFlyoutBody,null,!o&&i.a.createElement(Qn,null),i.a.createElement(k.EuiText,null,i.a.createElement("p",null,Se),i.a.createElement("p",null,i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.ml.enableAnomalyDetectionPanel.manageMLJobDescription",defaultMessage:"Once a job is created, you can manage it and see more details in the {mlJobsPageLink}.",values:{mlJobsPageLink:i.a.createElement(k.EuiLink,{"data-test-subj":"syntheticsMLFlyoutViewLink",href:l+"/app/ml"},ve)}})),i.a.createElement("p",null,i.a.createElement("em",null,ye))),i.a.createElement(k.EuiSpacer,null),!r&&i.a.createElement(k.EuiCallOut,{title:Me,color:"primary",iconType:"iInCircle"},i.a.createElement("p",null,i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.ml.enableAnomalyDetectionPanel.insufficient_permissions_add_job",defaultMessage:"You must have the Kibana privileges for Machine Learning to use this feature."})))),i.a.createElement(k.EuiFlyoutFooter,null,i.a.createElement(k.EuiFlexGroup,{justifyContent:"spaceBetween"},i.a.createElement(k.EuiFlexItem,{grow:!1},i.a.createElement(k.EuiButtonEmpty,{"data-test-subj":"syntheticsMLFlyoutViewButton",onClick:()=>a(),disabled:e||!1},ke)),i.a.createElement(k.EuiFlexItem,{grow:!1},i.a.createElement(k.EuiButton,{"data-test-subj":"uptimeMLCreateJobBtn",onClick:()=>t(),fill:!0,isLoading:e,disabled:e||!o||!r},xe)))))}var ti=a(67),ai=a(65);const ni=(e,t,a,n,r,l)=>{n?ai.a.toasts.addSuccess({title:Object(Zn.a)(i.a.createElement("p",{"data-test-subj":"uptimeMLJobSuccessfullyCreated"},ae),ai.a.core),text:Object(Zn.a)(i.a.createElement("p",null,r?ie:ne,i.a.createElement(De,{monitorId:e,basePath:t,dateRange:a},ce)),ai.a.core)},{toastLifeTimeMs:1e4}):ai.a.toasts.addError(l,{title:re,toastMessage:le,toastLifeTimeMs:1e4})},ii=({onClose:e})=>{const t=Object(f.useKibana)(),a=Object(c.useDispatch)(),{data:r,error:l}=Object(c.useSelector)(te.g),o=Object(c.useSelector)(te.j),{settings:s}=Object(c.useSelector)(te.z);Object(n.useEffect)((()=>{a(Object(ti.a)({}))}),[a]);const u=(null==s?void 0:s.heartbeatIndices)||"",{basePath:d}=Object(n.useContext)(L.c),{refreshApp:m}=Object(n.useContext)(L.a),p=Object(Y.e)(),g=Object(c.useSelector)(te.b)&&""!==u,h=u?()=>a(A.b.get({monitorId:p,heartbeatIndices:u})):()=>null,{data:b}=Object(c.useSelector)(te.f),E=!(null==b||!b.jobsExist),[v,y]=Object(n.useState)(!1),{dateRangeStart:x,dateRangeEnd:k}=Object(Y.d)();return Object(n.useEffect)((()=>{if(v&&!o){var n,i,s;if(r)ni(p,d,{to:k,from:x},!0,r.awaitingNodeAssignment),a(A.e.get({monitorId:p})),m(),null!==(n=null===(i=t.services.application)||void 0===i||null===(s=i.capabilities.uptime)||void 0===s?void 0:s.save)&&void 0!==n&&n&&(a(Object(A.v)(ee.a.DURATION_ANOMALY)),a(Object(A.w)(!0)));else ni(p,d,{to:k,from:x},!1,!1,l);y(!1),e()}}),[r,e,v,l,o,p,a,d]),Object(n.useEffect)((()=>{E&&!o&&!r&&u&&(y(!0),a(A.b.get({monitorId:p,heartbeatIndices:u})))}),[a,E,u,p,r]),E?null:i.a.createElement(ei,{canCreateMLJob:!!g,isCreatingJob:o,onClickCreate:()=>{y(!0),h()},onClose:e})},ri=({loading:e,onConfirm:t,onCancel:a})=>i.a.createElement(k.EuiConfirmModal,{title:ue,onCancel:a,onConfirm:t,cancelButtonText:"Cancel",confirmButtonText:"Delete",buttonColor:"danger",defaultFocusedButton:"confirm","data-test-subj":"uptimeMLJobDeleteConfirmModel"},e?i.a.createElement("p",null,i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.monitorDetails.ml.deleteMessage",defaultMessage:"Deleting jobs..."}),")"):i.a.createElement("p",null,i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.monitorDetails.ml.confirmDeleteMessage",defaultMessage:"Are you sure you want to delete this job?"})),e?i.a.createElement(k.EuiLoadingSpinner,{size:"xl"}):i.a.createElement("p",null,i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.monitorDetails.ml.deleteJobWarning",defaultMessage:"Deleting a job can be time consuming. It will be deleted in the background and data may not disappear instantly."}))),li=()=>{const[e,t]=Object(n.useState)(!1),[a,r]=Object(n.useState)(!1),{lastRefresh:l,refreshApp:o}=Object(n.useContext)(L.a),{notifications:s}=Object(f.useKibana)(),u=Object(Y.e)(),d=Object(c.useDispatch)(),m=Object(c.useSelector)(te.e),p=Object(c.useSelector)(te.l),{data:g}=Object(c.useSelector)(te.k),{data:h}=Object(c.useSelector)(te.f),b=!(null==h||!h.jobsExist||!h.jobs.find((e=>e.id===Object(Le.b)(u))));return Object(n.useEffect)((()=>{m&&d(A.e.get({monitorId:u}))}),[d,m,u,l]),Object(n.useEffect)((()=>{var e;return a&&null!=g&&null!==(e=g[Object(Le.b)(u)])&&void 0!==e&&e.deleted&&(r(!1),s.toasts.success({title:i.a.createElement("p",{"data-test-subj":"uptimeMLJobSuccessfullyDeleted"},oe),body:i.a.createElement("p",null,se),toastLifeTimeMs:3e3}),d(Object(A.u)()),o()),()=>{d(Object(A.u)())}}),[p,a,g,u,o,s.toasts,d]),i.a.createElement(i.a.Fragment,null,i.a.createElement(Ne,{hasMLJob:b,onEnableJob:()=>{t(!0)},onJobDelete:()=>{r(!0)}}),e&&i.a.createElement(ii,{onClose:()=>{t(!1)}}),a&&i.a.createElement(ri,{onConfirm:()=>d(A.c.get({monitorId:u})),loading:p,onCancel:()=>{r(!1)}}))},oi=({locationDurationLines:e,anomalies:t,loading:a,hasMLJob:n})=>{var r,l;return i.a.createElement(k.EuiPanel,{paddingSize:"m",hasBorder:!0},i.a.createElement(k.EuiFlexGroup,{alignItems:"center",gutterSize:"s",responsive:!1},i.a.createElement(k.EuiFlexItem,null,i.a.createElement(k.EuiTitle,{size:"s"},i.a.createElement("h3",null,n?i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.monitorCharts.monitorDuration.titleLabelWithAnomaly",defaultMessage:"Monitor duration (Anomalies: {noOfAnomalies})",values:{noOfAnomalies:null!==(r=null==t||null===(l=t.anomalies)||void 0===l?void 0:l.length)&&void 0!==r?r:0}}):i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.monitorCharts.monitorDuration.titleLabel",defaultMessage:"Monitor duration"})))),i.a.createElement(k.EuiFlexItem,{grow:!1},i.a.createElement(li,null))),i.a.createElement(k.EuiSpacer,{size:"m"}),i.a.createElement($n,{locationDurationLines:e,loading:a,anomalies:t}))},si=({monitorId:e})=>{var t;const{dateRangeStart:a,dateRangeEnd:r,absoluteDateRangeStart:l,absoluteDateRangeEnd:o}=Object(Y.d)(),{durationLines:s,loading:u}=Object(c.useSelector)(te.y),d=Object(c.useSelector)(te.e),{data:m,loading:p}=Object(c.useSelector)(te.f),g=!(null==m||!m.jobsExist||!m.jobs.find((t=>t.id===Object(Le.b)(e)))),h=Object(c.useSelector)(te.a),f=Object(c.useDispatch)(),{lastRefresh:b}=Object(n.useContext)(L.a);return Object(n.useEffect)((()=>{if(d&&g){const t={listOfMonitorIds:[e],dateStart:l,dateEnd:o};f(A.d.get(t))}}),[a,r,f,b,e,d,g]),Object(n.useEffect)((()=>{const t={monitorId:e,dateStart:a,dateEnd:r};f(Object(A.g)(t))}),[a,r,f,b,e]),Object(n.useEffect)((()=>{f(A.f.get())}),[f]),i.a.createElement(oi,{anomalies:h,hasMLJob:g,loading:u||p,locationDurationLines:null!==(t=null==s?void 0:s.locationDurationLines)&&void 0!==t?t:[]})},ui="248px",ci=({monitorId:e})=>i.a.createElement(k.EuiFlexGroup,{gutterSize:"s"},i.a.createElement(k.EuiFlexItem,null,i.a.createElement(si,{monitorId:e})),i.a.createElement(k.EuiFlexItem,null,i.a.createElement(Yn,{height:ui,isResponsive:!1}))),di=()=>{const e=Object(c.useDispatch)();Object(n.useEffect)((()=>{e(Re.j.get())}),[e])},mi=()=>{const e=Object(c.useDispatch)();di(),Object(n.useEffect)((()=>{e(Object(ti.a)())}),[e]);const t=Object(Y.e)();return Object(n.useEffect)((()=>{e(Object(A.A)(t)),e(Re.k.get())}),[t,e]),Object(F.useTrackPageview)({app:"uptime",path:"monitor"}),Object(F.useTrackPageview)({app:"uptime",path:"monitor",delay:15e3}),i.a.createElement(i.a.Fragment,null,i.a.createElement(vn,{monitorId:t}),i.a.createElement(k.EuiSpacer,{size:"s"}),i.a.createElement(ci,{monitorId:t}),i.a.createElement(k.EuiSpacer,{size:"s"}),i.a.createElement(da,null))},pi=({details:e,activeStep:t,performanceBreakDownView:a=!1})=>{var n,i,r,l,s;const u=null!==(n=null===(i=Object(f.useKibana)().services.application)||void 0===i?void 0:i.getUrlForApp(X.a.ID))&&void 0!==n?n:"";Z([...null!=t&&t.monitor?[{text:(null==t||null===(r=t.monitor)||void 0===r?void 0:r.name)||(null==t?void 0:t.monitor.id),href:`${u}/monitor/${btoa(null==t?void 0:t.monitor.id)}`}]:[],...null!=e&&null!==(l=e.journey)&&void 0!==l&&null!==(s=l.monitor)&&void 0!==s&&s.check_group?[{text:Gt(rt()(null==e?void 0:e.timestamp)),href:`${u}/journey/${e.journey.monitor.check_group}/steps`}]:[],...a?[{text:o.i18n.translate("xpack.uptime.synthetics.performanceBreakDown.label",{defaultMessage:"Performance breakdown"})}]:[]])};var gi=a(113);let hi=function(e){return e.Blocked="blocked",e.Dns="dns",e.Connect="connect",e.Ssl="ssl",e.Send="send",e.Wait="wait",e.Receive="receive",e}({}),fi=function(e){return e.Status="status",e.ResourceSize="resourceSize",e.TransferSize="transferSize",e.CertificateIssuer="certificateIssuer",e.CertificateIssueDate="certificateIssueDate",e.CertificateExpiryDate="certificateExpiryDate",e.CertificateSubject="certificateSubject",e.IP="ip",e.MimeType="mimeType",e.RequestStart="requestStart",e}({});const bi={[hi.Blocked]:o.i18n.translate("xpack.uptime.synthetics.waterfallChart.labels.timings.blocked",{defaultMessage:"Queued / Blocked"}),[hi.Dns]:o.i18n.translate("xpack.uptime.synthetics.waterfallChart.labels.timings.dns",{defaultMessage:"DNS"}),[hi.Connect]:o.i18n.translate("xpack.uptime.synthetics.waterfallChart.labels.timings.connect",{defaultMessage:"Connecting"}),[hi.Ssl]:o.i18n.translate("xpack.uptime.synthetics.waterfallChart.labels.timings.ssl",{defaultMessage:"TLS"}),[hi.Send]:o.i18n.translate("xpack.uptime.synthetics.waterfallChart.labels.timings.send",{defaultMessage:"Sending request"}),[hi.Wait]:o.i18n.translate("xpack.uptime.synthetics.waterfallChart.labels.timings.wait",{defaultMessage:"Waiting (TTFB)"}),[hi.Receive]:o.i18n.translate("xpack.uptime.synthetics.waterfallChart.labels.timings.receive",{defaultMessage:"Content downloading"})},Ei={[fi.Status]:o.i18n.translate("xpack.uptime.synthetics.waterfallChart.labels.metadata.status",{defaultMessage:"Status"}),[fi.MimeType]:o.i18n.translate("xpack.uptime.synthetics.waterfallChart.labels.metadata.contentType",{defaultMessage:"Content type"}),[fi.RequestStart]:o.i18n.translate("xpack.uptime.synthetics.waterfallChart.labels.metadata.requestStart",{defaultMessage:"Request start"}),[fi.ResourceSize]:o.i18n.translate("xpack.uptime.synthetics.waterfallChart.labels.metadata.resourceSize",{defaultMessage:"Resource size"}),[fi.TransferSize]:o.i18n.translate("xpack.uptime.synthetics.waterfallChart.labels.metadata.transferSize",{defaultMessage:"Transfer size"}),[fi.CertificateIssuer]:o.i18n.translate("xpack.uptime.synthetics.waterfallChart.labels.metadata.certificateIssuer",{defaultMessage:"Issuer"}),[fi.CertificateIssueDate]:o.i18n.translate("xpack.uptime.synthetics.waterfallChart.labels.metadata.certificateIssueDate",{defaultMessage:"Valid from"}),[fi.CertificateExpiryDate]:o.i18n.translate("xpack.uptime.synthetics.waterfallChart.labels.metadata.certificateExpiryDate",{defaultMessage:"Valid until"}),[fi.CertificateSubject]:o.i18n.translate("xpack.uptime.synthetics.waterfallChart.labels.metadata.certificateSubject",{defaultMessage:"Common name"}),[fi.IP]:o.i18n.translate("xpack.uptime.synthetics.waterfallChart.labels.metadata.ip",{defaultMessage:"IP"})},vi=[hi.Blocked,hi.Dns,hi.Connect,hi.Ssl,hi.Send,hi.Wait,hi.Receive];fi.MimeType,hi.Dns,hi.Connect,hi.Ssl,hi.Wait,hi.Receive;let yi=function(e){return e.Html="html",e.Script="script",e.Stylesheet="stylesheet",e.Media="media",e.Font="font",e.XHR="xhr",e.Other="other",e}({});const xi={[yi.Html]:o.i18n.translate("xpack.uptime.synthetics.waterfallChart.labels.mimeTypes.html",{defaultMessage:"HTML"}),[yi.Script]:o.i18n.translate("xpack.uptime.synthetics.waterfallChart.labels.mimeTypes.script",{defaultMessage:"JS"}),[yi.Stylesheet]:o.i18n.translate("xpack.uptime.synthetics.waterfallChart.labels.mimeTypes.stylesheet",{defaultMessage:"CSS"}),[yi.Media]:o.i18n.translate("xpack.uptime.synthetics.waterfallChart.labels.mimeTypes.media",{defaultMessage:"Media"}),[yi.Font]:o.i18n.translate("xpack.uptime.synthetics.waterfallChart.labels.mimeTypes.font",{defaultMessage:"Font"}),[yi.XHR]:o.i18n.translate("xpack.uptime.synthetics.waterfallChart.labels.mimeTypes.xhr",{defaultMessage:"XHR"}),[yi.Other]:o.i18n.translate("xpack.uptime.synthetics.waterfallChart.labels.mimeTypes.other",{defaultMessage:"Other"})},ki={"text/html":yi.Html,"application/javascript":yi.Script,"text/javascript":yi.Script,"text/css":yi.Stylesheet,"image/apng":yi.Media,"image/bmp":yi.Media,"image/gif":yi.Media,"image/x-icon":yi.Media,"image/jpeg":yi.Media,"image/png":yi.Media,"image/svg+xml":yi.Media,"image/tiff":yi.Media,"image/webp":yi.Media,"audio/wave":yi.Media,"audio/wav":yi.Media,"audio/x-wav":yi.Media,"audio/x-pn-wav":yi.Media,"audio/webm":yi.Media,"video/webm":yi.Media,"video/mp4":yi.Media,"audio/ogg":yi.Media,"video/ogg":yi.Media,"application/ogg":yi.Media,"font/otf":yi.Font,"font/ttf":yi.Font,"font/woff":yi.Font,"font/woff2":yi.Font,"application/x-font-opentype":yi.Font,"application/font-woff":yi.Font,"application/font-woff2":yi.Font,"application/vnd.ms-fontobject":yi.Font,"application/font-sfnt":yi.Font,"application/json":yi.XHR},Si=(e,t=3)=>Number(e).toFixed(t),wi=({value:e,timing:t,mimeType:a})=>{let n=bi[t];return t===hi.Receive&&a&&(n+=` (${xi[ki[a]]||a})`),`${n}: ${Si(e)}ms`},ji=(e,t,a=[])=>{var n;if(!t&&0===(null==a?void 0:a.length))return!0;const i=!t||(null===(n=e.url)||void 0===n?void 0:n.includes(t)),r=!(a.length>0)||a.includes(ki[e.mimeType]);return!(!i||!r)},Oi=({value:e,postFix:t})=>{if(void 0===e||-1===e)return;let a=Si(e);return t&&(a=`${a} ${t}`),a},Mi=(e,t)=>t&&e&&t>0?e-t:e,Ci=e=>{if(void 0!==e)return Object.keys(e).map((t=>({name:t,value:`${e[t]}`})))},Ii=({item:e,index:t,requestStart:a})=>{const{certificates:n,ip:i,mimeType:r,requestHeaders:l,responseHeaders:o,url:s,resourceSize:u,transferSize:c,status:d}=e,{dns:m,connect:p,ssl:g,wait:h,receive:f,total:b}=e.timings||{},E=f&&f>0?f:b;return{x:t,url:s,requestHeaders:Ci(l),responseHeaders:Ci(o),certificates:n?[{name:Ei[fi.CertificateIssuer],value:n.issuer},{name:Ei[fi.CertificateIssueDate],value:n.validFrom?rt()(n.validFrom).format("L LT"):void 0},{name:Ei[fi.CertificateExpiryDate],value:n.validTo?rt()(n.validTo).format("L LT"):void 0},{name:Ei[fi.CertificateSubject],value:n.subjectName}]:void 0,details:[{name:Ei[fi.Status],value:d?`${d}`:void 0},{name:Ei[fi.MimeType],value:r},{name:Ei[fi.RequestStart],value:Oi({value:a,postFix:"ms"})},{name:bi[hi.Dns],value:Oi({value:m,postFix:"ms"})},{name:bi[hi.Connect],value:Oi({value:Mi(p,g),postFix:"ms"})},{name:bi[hi.Ssl],value:Oi({value:g,postFix:"ms"})},{name:bi[hi.Wait],value:Oi({value:h,postFix:"ms"})},{name:bi[hi.Receive],value:Oi({value:E,postFix:"ms"})},{name:Ei[fi.ResourceSize],value:Oi({value:u?u/1e3:void 0,postFix:"KB"})},{name:Ei[fi.TransferSize],value:Oi({value:c?c/1e3:void 0,postFix:"KB"})},{name:Ei[fi.IP],value:i}]}},Ti=Object(k.euiPaletteColorBlind)({rotations:2}),Fi=Object.values(hi).reduce(((e,t)=>{switch(t){case hi.Blocked:e[t]=Ti[16];break;case hi.Dns:e[t]=Ti[0];break;case hi.Connect:e[t]=Ti[7];break;case hi.Ssl:e[t]=Ti[17];break;case hi.Send:e[t]=Ti[2];break;case hi.Wait:e[t]=Ti[11];break;case hi.Receive:e[t]=Ti[0]}return e}),{}),Li=Object.values(yi).reduce(((e,t)=>{switch(t){case yi.Html:e[t]=Ti[19];break;case yi.Script:e[t]=Ti[3];break;case yi.Stylesheet:e[t]=Ti[4];break;case yi.Media:e[t]=Ti[5];break;case yi.Font:e[t]=Ti[8];break;case yi.XHR:case yi.Other:e[t]=Ti[9]}return e}),{}),Ai={...Fi,...Li},Di=(e,t)=>isNaN(e)?t:`${e}. ${t}`;var Ri=a(192),Pi=a.n(Ri);const zi=Object(n.createContext)({}),Ni=({children:e,data:t,markerItems:a,onElementClick:n,onProjectionClick:r,onSidebarClick:l,showOnlyHighlightedNetworkRequests:o,sidebarItems:s,legendItems:u,metadata:c,renderTooltipItem:d,totalNetworkRequests:m,highlightedNetworkRequests:p,fetchedNetworkRequests:g,activeStep:h})=>i.a.createElement(zi.Provider,{value:{data:t,activeStep:h,markerItems:a,showOnlyHighlightedNetworkRequests:o,sidebarItems:s,legendItems:u,metadata:c,onElementClick:n,onProjectionClick:r,onSidebarClick:l,renderTooltipItem:d,totalNetworkRequests:m,highlightedNetworkRequests:p,fetchedNetworkRequests:g}},e),Bi=()=>Object(n.useContext)(zi);var _i=a(187);const $i=24,Hi=T.euiStyled.div`
  &::-webkit-scrollbar {
    height: ${({theme:e})=>e.eui.euiScrollBar};
    width: ${({theme:e})=>e.eui.euiScrollBar};
  }
  &::-webkit-scrollbar-thumb {
    background-clip: content-box;
    background-color: ${({theme:e})=>Object(_i.rgba)(e.eui.euiColorDarkShade,.5)};
    border: ${({theme:e})=>e.eui.euiScrollBarCorner} solid transparent;
  }
  &::-webkit-scrollbar-corner,
  &::-webkit-scrollbar-track {
    background-color: transparent;
  }
`,Gi=Object(T.euiStyled)(Hi)`
  height: ${e=>e.height?`${e.height}`:"auto"};
  overflow-y: ${e=>e.height?"scroll":"visible"};
  overflow-x: hidden;
`,Ui=Object(T.euiStyled)(Hi)`
  position: sticky;
  top: 0;
  z-index: ${e=>e.theme.eui.euiZLevel4};
  overflow-y: scroll;
  overflow-x: hidden;
`,Wi=Object(T.euiStyled)(k.EuiFlexItem)`
  margin-left: -16px;
`,qi=Object(T.euiStyled)(k.EuiFlexGroup)`
`,Vi=Object(T.euiStyled)(k.EuiPanel)`
  height: 100%;
  border-radius: 0 !important;
  border: none;
`,Ji=T.euiStyled.div`
  && {
    padding: 16px;
    z-index: ${e=>e.theme.eui.euiZLevel5};
    border-bottom: 0.3px solid ${e=>e.theme.eui.euiColorLightShade};
  }
`,Ki=T.euiStyled.div`
  height: ${$i}px;
  z-index: ${e=>e.theme.eui.euiZLevel4};
  height: 100%;
  &&& {
    .echAnnotation__icon {
      top: 8px;
    }
  }
`,Yi=Object(T.euiStyled)(k.EuiFlexItem)`
  z-index: ${e=>e.theme.eui.euiZLevel5};
  min-width: 0;
`,Xi=T.euiStyled.div`
  height: ${e=>`${e.height}px`};
  overflow-y: hidden;
  overflow-x: hidden;
`,Zi=Object(T.euiStyled)(k.EuiPanel)`
  border: 0;
  height: 100%;
`,Qi=Object(T.euiStyled)(k.EuiFlexGroup)`
  height: 100%;
`,er=Object(T.euiStyled)(k.EuiFlexItem)`
  min-width: 0;
  padding-right: ${e=>e.theme.eui.euiSizeS};
  justify-content: space-around;
`,tr=Object(T.euiStyled)(k.EuiFlexItem)`
  opacity: ${e=>e.isHighlighted?1:.4};
  height: 100%;
  .euiButtonEmpty {
    height: ${$i}px;
    font-size:${({theme:e})=>e.eui.euiFontSizeM};
  }
`,ar=T.euiStyled.div`
  width: 100%;
  height: ${e=>`${e.height+$i+4}px`};
  margin-top: -${28}px;
  z-index: ${e=>Math.round(e.theme.eui.euiZLevel3/(e.chartIndex+1))};
`,nr=T.euiStyled.div`
  position: sticky;
  bottom: 0;
  z-index: ${e=>e.theme.eui.euiZLevel4};
  background-color: ${e=>e.theme.eui.euiColorLightestShade};
  padding: ${e=>e.theme.eui.euiSizeXS};
  font-size: ${e=>e.theme.eui.euiFontSizeXS};
  box-shadow: 0px -1px 4px 0px ${e=>e.theme.eui.euiColorLightShade};
`,ir=T.euiStyled.div`
  margin-top: 16px;
  max-width: 90vw;
`,rr=Object(T.euiStyled)(ir)`
  background-color: ${e=>e.theme.eui.euiColorDarkestShade};
  border-radius: ${e=>e.theme.eui.euiBorderRadius};
  color: ${e=>e.theme.eui.euiColorLightestShade};
  padding: ${e=>e.theme.eui.euiSizeS};
  .euiToolTip__arrow {
    background-color: ${e=>e.theme.eui.euiColorDarkestShade};
  }
`,lr=Object(T.euiStyled)(k.EuiText)`
  line-height: 28px;
  padding: 0 ${e=>e.theme.eui.euiSizeM};
  border-bottom: 0.3px solid ${e=>e.theme.eui.euiColorLightShade};
  z-index: ${e=>e.theme.eui.euiZLevel5};
`,or=T.euiStyled.div`
    position: relative;
`,sr=({items:e,render:t})=>{const{onSidebarClick:a}=Bi(),r=Object(n.useMemo)((()=>a),[a]);return i.a.createElement(Yi,{grow:2},i.a.createElement(Xi,{height:e.length*$i,"data-test-subj":"wfSidebarContainer"},i.a.createElement(Zi,{paddingSize:"none",hasBorder:!1,hasShadow:!1},i.a.createElement(Qi,{direction:"column",gutterSize:"none",responsive:!1},e.map(((e,a)=>i.a.createElement(er,{key:a},t(e,a,r))))))))},ur=Object(T.euiStyled)(k.EuiFlexItem)`
  margin-right: ${e=>e.theme.eui.euiSizeM};
  max-width: 7%;
  min-width: 160px;
`,cr=({items:e,render:t})=>i.a.createElement(k.EuiFlexGroup,{gutterSize:"s",wrap:!0},e.map(((e,a)=>i.a.createElement(ur,{key:a},t(e,a))))),dr=()=>{const e=Object(f.useDarkMode)();return Object(n.useMemo)((()=>e?yn.DARK_THEME:yn.LIGHT_THEME),[e])},mr=Object(T.euiStyled)(k.EuiText)`
  font-weight: bold;
`,pr=Object(T.euiStyled)(k.EuiHorizontalRule)`
  background-color: ${e=>e.theme.eui.euiColorDarkShade};
`,gr=({text:e,url:t})=>{const{data:a,renderTooltipItem:n,sidebarItems:r}=Bi(),l=a.filter((e=>{var a;return e.x===(null==r||null===(a=r.find((e=>e.url===t)))||void 0===a?void 0:a.index)&&e.config.tooltipProps&&e.config.showTooltip}));return i.a.createElement(i.a.Fragment,null,i.a.createElement(mr,null,e),i.a.createElement(pr,{margin:"none"}),i.a.createElement(k.EuiFlexGroup,{direction:"column",gutterSize:"none"},l.map(((e,t)=>i.a.createElement(k.EuiFlexItem,{key:t},n(e.config.tooltipProps))))))};var hr=a(36),fr=a(92);const br=e=>{const t=e["@timestamp"],{lt:a,gte:n}=e.monitor.timespan,i=48*rt()(a).diff(rt()(n),"millisecond");return{to:t,from:rt()(t).subtract(i,"millisecond").toISOString()}};function Er({title:e,field:t,step:a}){var n,r,l,o,s,u;const{exploratoryView:d}=Object(fr.c)(),m=null==d?void 0:d.ExploratoryViewEmbeddable,p=Object(c.useSelector)(te.z),g=null===(n=Object(f.useKibana)().services.http)||void 0===n||null===(r=n.basePath)||void 0===r?void 0:r.get(),h=[{name:`${e}(${null===(l=a.synthetics.step)||void 0===l?void 0:l.name})`,selectedMetricField:t,time:br(a),seriesType:"area",dataType:"uptime",reportDefinitions:{"monitor.name":[a.monitor.name],"synthetics.step.name.keyword":[null===(o=a.synthetics.step)||void 0===o?void 0:o.name]},operationType:"last_value"}],b=Object(hr.createExploratoryViewUrl)({reportType:"kpi-over-time",allSeries:h},g);return m?i.a.createElement(yr,null,i.a.createElement(m,{title:e,appendTitle:i.a.createElement(k.EuiButton,{"data-test-subj":"syntheticsStepFieldTrendButton",iconType:"visArea",href:b,target:"_blank",size:"s"},vr),reportType:"kpi-over-time",attributes:h,axisTitlesVisibility:{x:!1,yLeft:!1,yRight:!1},legendIsVisible:!1,dataTypesIndexPatterns:null!==(s=p.settings)&&void 0!==s&&s.heartbeatIndices?{synthetics:null===(u=p.settings)||void 0===u?void 0:u.heartbeatIndices}:void 0,withActions:!1})):null}const vr=o.i18n.translate("xpack.uptime.synthetics.markers.explore",{defaultMessage:"Explore"}),yr=T.euiStyled.div`
  height: 200px;
  width: 400px;
  &&& {
    .expExpressionRenderer__expression {
      padding-bottom: 0 !important;
    }
  }
`;function xr({title:e,field:t}){const{activeStep:a}=Bi();return a?i.a.createElement(Er,{field:t,title:e,step:a}):null}function kr({field:e,label:t}){const[a,r]=Object(n.useState)(!1);return e?i.a.createElement(k.EuiPopover,{isOpen:a,closePopover:()=>r(!1),anchorPosition:"downLeft",panelStyle:{paddingBottom:0,paddingLeft:4},zIndex:100,button:i.a.createElement(k.EuiButtonIcon,{"data-test-subj":"observabilitySolutionWaterfallMarkerIconButton","aria-label":o.i18n.translate("xpack.uptime.synthetics.markers.openEmbeddableButton.label",{defaultMessage:"Use this icon button to show metrics for this annotation marker."}),iconType:"dot",iconSize:"l",color:"text",onClick:()=>r((e=>!e))})},i.a.createElement(xr,{title:t,field:e})):i.a.createElement(k.EuiIcon,{"aria-label":o.i18n.translate("xpack.uptime.synthetics.markers.noFieldIcon.label",{defaultMessage:"An icon indicating that this marker has no field associated with it"}),type:"dot",size:"l"})}const Sr="browser.experience.lcp.us",wr="browser.experience.fcp.us",jr="browser.experience.load.us",Or="browser.experience.dcl.us";function Mr(){const{markerItems:e}=Bi(),t=Object(F.useTheme)(),a=Object(n.useMemo)((()=>(null!=e?e:[]).reduce(((e,t)=>{var a;return e.set(t.offset,[...null!==(a=e.get(t.offset))&&void 0!==a?a:[],t]),e}),new Map)),[e]),r=Object(n.useMemo)((()=>Array.from(a.entries()).map((([e,a])=>{var n,i,r;let l=(null!=a?a:[]).map((({id:e})=>e)).filter(((e,t,a)=>a.indexOf(e)===t));l.length>1&&(l=l.filter((e=>"layoutShift"!==e)));const o=l.map((e=>{var a,n;return null!==(a=null===(n=Cr(e,t))||void 0===n?void 0:n.label)&&void 0!==a?a:e})).join(" / "),s=l[0],u=Cr(s,t);return{id:s,offset:e,label:o,field:null!==(n=null==u?void 0:u.field)&&void 0!==n?n:"",color:null!==(i=null==u?void 0:u.color)&&void 0!==i?i:t.eui.euiColorMediumShade,strokeWidth:null!==(r=null==u?void 0:u.strokeWidth)&&void 0!==r?r:1}}))),[a,t]);return e?i.a.createElement(Ir,null,r.map((({id:e,offset:t,label:a,field:n,color:r,strokeWidth:l})=>{const s=`${e}-${t}`;return i.a.createElement(yn.LineAnnotation,{key:s,id:s,domainType:yn.AnnotationDomainType.YDomain,dataValues:[{dataValue:t,details:a,header:o.i18n.translate("xpack.uptime.synthetics.waterfall.offsetUnit",{defaultMessage:"{offset} ms",values:{offset:t}})}],marker:i.a.createElement(kr,{field:n,label:a}),style:{line:{strokeWidth:l,stroke:r,opacity:1}}})}))):null}function Cr(e,t){switch(e){case"domContentLoaded":return{label:Dr,color:t.eui.euiColorVis0,field:Or,strokeWidth:2};case"firstContentfulPaint":return{label:Tr,color:t.eui.euiColorVis1,field:wr,strokeWidth:2};case"largestContentfulPaint":return{label:Fr,color:t.eui.euiColorVis2,field:Sr,strokeWidth:2};case"layoutShift":return{label:Lr,color:t.eui.euiColorVis6,field:"",strokeWidth:1};case"loadEvent":return{label:Ar,color:t.eui.euiColorVis9,field:jr,strokeWidth:2}}}const Ir=T.euiStyled.span`
  &&& {
    > .echAnnotation__icon {
      top: 8px;
    }
  }
`,Tr=o.i18n.translate("xpack.uptime.synthetics.waterfall.fcpLabel",{defaultMessage:"First contentful paint"}),Fr=o.i18n.translate("xpack.uptime.synthetics.waterfall.lcpLabel",{defaultMessage:"Largest contentful paint"}),Lr=o.i18n.translate("xpack.uptime.synthetics.waterfall.layoutShiftLabel",{defaultMessage:"Layout shift"}),Ar=o.i18n.translate("xpack.uptime.synthetics.waterfall.loadEventLabel",{defaultMessage:"Load event"}),Dr=o.i18n.translate("xpack.uptime.synthetics.waterfall.domContentLabel",{defaultMessage:"DOM Content Loaded"}),Rr=e=>{var t;const{data:a,sidebarItems:r}=Bi();return Object(n.useMemo)((()=>{const t=null==r?void 0:r.find((t=>{var a;return t.index===(null===(a=e.header)||void 0===a?void 0:a.value)}));return a.filter((t=>{var a;return t.x===(null===(a=e.header)||void 0===a?void 0:a.value)&&t.config.showTooltip&&t.config.tooltipProps})).length?i.a.createElement(yn.TooltipContainer,null,i.a.createElement(rr,null,t&&i.a.createElement(gr,{text:Di(t.index+1,t.url),url:t.url}))):null}),[a,r,null===(t=e.header)||void 0===t?void 0:t.value])},Pr=({chartData:e,tickFormat:t,domain:a,barStyleAccessor:r,index:l})=>{var s;const u=dr(),{onElementClick:c,onProjectionClick:d}=Bi(),m=Object(n.useMemo)((()=>c),[c]),p=Object(n.useMemo)((()=>d),[d]),g=Object(n.useCallback)(t,[t]);return i.a.createElement(ar,{height:(h=e,24*new Set(h.map((e=>e.x))).size),chartIndex:l,"data-test-subj":"wfDataOnlyBarChart"},i.a.createElement(yn.Chart,{className:"data-chart"},i.a.createElement(yn.Tooltip,{boundary:null!==(s=document.getElementById("app-fixed-viewport"))&&void 0!==s?s:void 0,customTooltip:Rr}),i.a.createElement(yn.Settings,{showLegend:!1,rotation:90,baseTheme:u,onProjectionClick:p,onElementClick:m,locale:o.i18n.getLocale()}),i.a.createElement(yn.Axis,{"aria-hidden":!0,id:"time",position:yn.Position.Top,tickFormat:g,domain:a,gridLine:{visible:!0},style:{axisLine:{visible:!1}}}),i.a.createElement(yn.BarSeries,{id:"waterfallItems",xScaleType:yn.ScaleType.Ordinal,yScaleType:yn.ScaleType.Linear,xAccessor:"x",yAccessors:["y"],y0Accessors:["y0"],styleAccessor:r,data:e}),i.a.createElement(Mr,null)));var h},zr=({tickFormat:e,domain:t,barStyleAccessor:a})=>{const n=dr();return i.a.createElement(Ki,null,i.a.createElement(yn.Chart,{className:"axis-only-chart","data-test-subj":"axisOnlyChart"},i.a.createElement(yn.Tooltip,{type:yn.TooltipType.None}),i.a.createElement(yn.Settings,{showLegend:!1,rotation:90,baseTheme:n,locale:o.i18n.getLocale()}),i.a.createElement(yn.Axis,{id:"time",position:yn.Position.Top,tickFormat:e,domain:t,gridLine:{visible:!0}}),i.a.createElement(yn.BarSeries,{"aria-hidden":!0,id:"waterfallItems",xScaleType:yn.ScaleType.Ordinal,yScaleType:yn.ScaleType.Linear,xAccessor:"x",yAccessors:["y"],y0Accessors:["y0"],styleAccessor:a,data:[{x:0,y0:0,y1:1}]}),i.a.createElement(Mr,null)))},Nr=({totalNetworkRequests:e,fetchedNetworkRequests:t,highlightedNetworkRequests:a,showHighlightedNetworkRequests:n})=>i.a.createElement(lr,{size:"xs",color:"subdued"},i.a.createElement("strong",null,i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.synthetics.waterfall.requestsTotalMessage",defaultMessage:"{numNetworkRequests} network requests",values:{numNetworkRequests:e>t?i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.synthetics.waterfall.requestsTotalMessage.first",defaultMessage:"First {count}",values:{count:`${t}/${e}`}}):e}})," ",n&&a>=0&&i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.synthetics.waterfall.requestsHighlightedMessage",defaultMessage:"({numHighlightedRequests} match the filter)",values:{numHighlightedRequests:a}})),e>t&&i.a.createElement(k.EuiIconTip,{type:"iInCircle",content:o.i18n.translate("xpack.uptime.synthetics.waterfall.requestsTotalMessage.info",{defaultMessage:"Waterfall view only shows up to 1000 requests"})})),Br=({tickFormat:e,domain:t,barStyleAccessor:a,renderSidebarItem:r,renderLegendItem:l,renderFilter:o,renderFlyout:s,maxHeight:u="800px",fullHeight:c=!1})=>{const{data:d,showOnlyHighlightedNetworkRequests:m,sidebarItems:p,legendItems:g,totalNetworkRequests:h,highlightedNetworkRequests:f,fetchedNetworkRequests:b}=Bi(),{width:E}=Pi()(),v=Object(n.useRef)(null),y=Object(n.useRef)(null),[x,S]=Object(n.useState)(u),w=!(!p||!r),j=!!(g&&g.length>0&&l);Object(n.useEffect)((()=>{if(c&&v.current&&y.current){const e=v.current.getBoundingClientRect().top,t=y.current.getBoundingClientRect().height;S(`calc(100vh - ${e+33+t}px)`)}}),[v,c,y,E]);const O=(({data:e})=>{const[t,a]=Object(n.useState)([]);return Object(n.useEffect)((()=>{const t=[];if((null==e?void 0:e.length)>0){let a=0;const n=new Set;let i;e.forEach((e=>{150===n.size&&e.x>i&&(a++,n.clear()),n.add(e.x),i=e.x,t[a]?t[a].push(e):t.push([e])}))}a(t)}),[e]),t})({data:d});return i.a.createElement(or,null,i.a.createElement(Ui,null,i.a.createElement(qi,{gutterSize:"none",responsive:!1},w&&i.a.createElement(Yi,{grow:2},i.a.createElement(Vi,{paddingSize:"none",hasShadow:!1}),i.a.createElement(Nr,{totalNetworkRequests:h,highlightedNetworkRequests:f,fetchedNetworkRequests:b,showHighlightedNetworkRequests:m}),o&&i.a.createElement(Ji,null,o())),i.a.createElement(Wi,{grow:!w||8,"data-test-subj":"axisOnlyWrapper"},i.a.createElement(zr,{domain:t,barStyleAccessor:a,tickFormat:e})))),i.a.createElement(Gi,{height:x,"data-test-subj":"waterfallOuterContainer",ref:v},i.a.createElement(k.EuiFlexGroup,{gutterSize:"none",responsive:!1},w&&i.a.createElement(sr,{items:p,render:r}),i.a.createElement(Wi,{grow:!w||8,"data-test-subj":"dataOnlyWrapper"},O.map(((n,r)=>i.a.createElement(Pr,{index:r,key:r,chartData:n,domain:t,barStyleAccessor:a,tickFormat:e})))))),j&&i.a.createElement(nr,{ref:y},i.a.createElement(cr,{items:g,render:l})),s&&s())},_r=T.euiStyled.span`
  position: relative;
  display: inline-flex;
  align-items: center;
  .euiToolTipAnchor {
    min-width: 0;
  }
`,$r=T.euiStyled.span`
  overflow: hidden;
  display: flex;
  align-items: center;
`,Hr=Object(T.euiStyled)(k.EuiText)`
  font-family: ${e=>e.theme.eui.euiCodeFontFamily};
  margin-right: ${e=>e.theme.eui.euiSizeXS};
  line-height: ${$i}px;
  text-align: right;
  background-color: ${e=>e.theme.eui.euiColorLightestShade};
`,Gr=T.euiStyled.span`
  text-overflow: ellipsis;
  white-space: nowrap;
  overflow: hidden;
  line-height: ${$i}px;
  text-align: left;
`,Ur=T.euiStyled.span`
  flex-shrink: 0;
  line-height: ${$i}px;
  text-align: left;
`,Wr=Object(T.euiStyled)(k.EuiButtonEmpty)`
  &&& {
    border: none;

    .euiButtonContent {
      display: inline-block;
      padding: 0;
    }
  }
`,qr=Object(T.euiStyled)(k.EuiIcon)`
  margin-right: ${e=>e.theme.eui.euiSizeXS};
`,Vr=({index:e,ariaLabel:t,text:a,onClick:r,setButtonRef:l,url:s,highestIndex:u})=>{const c=a.startsWith("https://"),d=a.replace(/https:\/\/www.|http:\/\/www.|http:\/\/|https:\/\//,""),m=Object(n.useMemo)((()=>((e="")=>{const t=e.split(""),a=t.length-12>0?t.length-12:null,n=a?t.splice(a):[];return{first:t.join(""),last:n.join("")}})(d)),[d]);return i.a.createElement(_r,{"aria-label":t,"data-test-subj":"middleTruncatedTextContainer"},i.a.createElement(k.EuiScreenReaderOnly,null,i.a.createElement("span",{"data-test-subj":"middleTruncatedTextSROnly"},a)),i.a.createElement(rr,{as:k.EuiToolTip,content:i.a.createElement(gr,{text:Di(e,a),url:s}),"data-test-subj":"middleTruncatedTextToolTip",delay:"long",position:"top"},i.a.createElement(i.a.Fragment,null,r?i.a.createElement(Wr,{onClick:r,"data-test-subj":`middleTruncatedTextButton${e}`,buttonRef:l,flush:"left"},i.a.createElement($r,null,i.a.createElement(Hr,{color:"subdued",size:"s",style:{minWidth:String(u).length+1+"ch"}},e+"."),c&&i.a.createElement(qr,{type:"lock",size:"s",color:"success","aria-label":o.i18n.translate("xpack.uptime.waterfallChart.sidebar.url.https",{defaultMessage:"https"})}),i.a.createElement(Gr,null,m.first),i.a.createElement(Ur,null,m.last))):i.a.createElement($r,{"aria-hidden":!0},i.a.createElement(Gr,null,e,". ",m.first),i.a.createElement(Ur,null,m.last)))),i.a.createElement("span",null,i.a.createElement(k.EuiLink,{"data-test-subj":"syntheticsMiddleTruncatedTextLink",href:s,external:!0,target:"_blank"},i.a.createElement(k.EuiScreenReaderOnly,null,i.a.createElement("span",null,i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.synthetics.waterfall.resource.externalLink",defaultMessage:"Open resource in new tab"}))))))};var Jr=a(95),Kr=a.n(Jr);const Yr=o.i18n.translate("xpack.uptime.synthetics.waterfall.searchBox.placeholder",{defaultMessage:"Filter network requests"}),Xr=o.i18n.translate("xpack.uptime.synthetics.waterfall.filterGroup.filterScreenreaderLabel",{defaultMessage:"Filter by"}),Zr=o.i18n.translate("xpack.uptime.synthetics.waterfall.filterGroup.removeFilterScreenReaderLabel",{defaultMessage:"Remove filter by"}),Qr=o.i18n.translate("xpack.uptime.pingList.synthetics.waterfall.filters.popover",{defaultMessage:"Click to open waterfall filters"}),el=o.i18n.translate("xpack.uptime.pingList.synthetics.waterfall.filters.collapseRequestsLabel",{defaultMessage:"Collapse to only show matching requests"}),tl=o.i18n.translate("xpack.uptime.synthetics.waterfall.sidebar.filterMatchesScreenReaderLabel",{defaultMessage:"Resource matches filter"}),al=[{label:xi[yi.XHR],mimeType:yi.XHR},{label:xi[yi.Html],mimeType:yi.Html},{label:xi[yi.Script],mimeType:yi.Script},{label:xi[yi.Stylesheet],mimeType:yi.Stylesheet},{label:xi[yi.Font],mimeType:yi.Font},{label:xi[yi.Media],mimeType:yi.Media}],nl=({query:e,setQuery:t,activeFilters:a,setActiveFilters:r,onlyHighlighted:l,setOnlyHighlighted:o})=>{const[s,u]=Object(n.useState)(e),[c,d]=Object(n.useState)(!1),m=Object(F.useUiTracker)({app:"uptime"});return Kr()((()=>{t(s)}),250,[s]),Object(n.useEffect)((()=>{e||a.length>0||o(!1)}),[a.length,o,e]),Object(n.useEffect)((()=>{e&&m({metric:"waterfall_filter_input_changed",metricType:F.METRIC_TYPE.CLICK})}),[e,m]),Object(n.useEffect)((()=>{l&&m({metric:"waterfall_filter_collapse_checked",metricType:F.METRIC_TYPE.CLICK})}),[l,m]),Object(n.useEffect)((()=>{a.length>0&&m({metric:"waterfall_filters_applied_changed",metricType:F.METRIC_TYPE.CLICK})}),[a,m]),i.a.createElement(k.EuiFlexGroup,{gutterSize:"xs",alignItems:"center"},i.a.createElement(k.EuiFlexItem,null,i.a.createElement(k.EuiFieldSearch,{"data-test-subj":"syntheticsWaterfallFilterFieldSearch",fullWidth:!0,"aria-label":Yr,placeholder:Yr,onChange:e=>{u(e.target.value)},value:s})),i.a.createElement(k.EuiFlexItem,{grow:!1},i.a.createElement(k.EuiPopover,{button:i.a.createElement(k.EuiButtonIcon,{"data-test-subj":"observabilitySolutionWaterfallFilterButton","aria-label":Qr,iconType:"filter",onClick:()=>d((e=>!e)),color:a.length>0?"primary":"text",isSelected:a.length>0}),isOpen:c,closePopover:()=>d(!1),anchorPosition:"rightCenter"},i.a.createElement(k.EuiFilterGroup,null,al.map((({label:e,mimeType:t})=>i.a.createElement(k.EuiFilterButton,{hasActiveFilters:a.includes(t),onClick:()=>{return e=t,void r((t=>t.includes(e)?t.filter((t=>t!==e)):[...t,e]));var e},key:e,withNext:!0,"aria-label":`${a.includes(t)?Zr:Xr} ${e}`},e)))),i.a.createElement(k.EuiSpacer,{size:"xs"}),i.a.createElement(k.EuiCheckbox,{disabled:!(e||a.length>0),id:"onlyHighlighted",label:el,checked:l,onChange:e=>{o(e.target.checked)}}))))},il=_e()(k.EuiText).withConfig({displayName:"StyledText",componentId:"sc-bwjyeg-0"})(["width:100%;"]);class waterfall_flyout_table_TableWithoutHeader extends k.EuiBasicTable{renderTableHead(){return i.a.createElement(i.a.Fragment,null)}}const rl=e=>{const{rows:t,title:a}=e,r=Object(n.useMemo)((()=>[{field:"name",name:"",sortable:!1,render:(e,t)=>i.a.createElement(k.EuiText,{size:"xs"},i.a.createElement("strong",null,t.name))},{field:"value",name:"",sortable:!1,render:(e,t)=>{var a;return i.a.createElement(il,{size:"xs",textAlign:"right"},null!==(a=t.value)&&void 0!==a?a:"--")}}]),[]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(k.EuiText,null,i.a.createElement("h4",null,a)),i.a.createElement(k.EuiSpacer,{size:"s"}),i.a.createElement(waterfall_flyout_table_TableWithoutHeader,{tableLayout:"fixed",compressed:!0,responsiveBreakpoint:!1,columns:r,items:t}))},ll=o.i18n.translate("xpack.uptime.synthetics.waterfall.flyout.details",{defaultMessage:"Details"}),ol=o.i18n.translate("xpack.uptime.synthetics.waterfall.flyout.certificates",{defaultMessage:"Certificate headers"}),sl=o.i18n.translate("xpack.uptime.synthetics.waterfall.flyout.requestHeaders",{defaultMessage:"Request headers"}),ul=o.i18n.translate("xpack.uptime.synthetics.waterfall.flyout.responseHeaders",{defaultMessage:"Response headers"}),cl=_e()(k.EuiFlyout).withConfig({displayName:"FlyoutContainer",componentId:"sc-39oa0d-0"})(["z-index:",";"],(e=>e.theme.eui.euiZLevel5)),dl=({flyoutData:e,isFlyoutVisible:t,onFlyoutClose:a})=>{const r=Object(n.useRef)(null),l=Object(F.useUiTracker)({app:"uptime"});if(Object(n.useEffect)((()=>{var a;t&&e&&r.current&&(null===(a=r.current)||void 0===a||a.focus())}),[e,t,r]),!e||!t)return null;const{x:o,url:s,details:u,certificates:c,requestHeaders:d,responseHeaders:m}=e;return l({metric:"waterfall_flyout",metricType:F.METRIC_TYPE.CLICK}),i.a.createElement("div",{tabIndex:-1,ref:r,"data-test-subj":"waterfallFlyout","aria-labelledby":"flyoutTitle"},i.a.createElement(cl,{size:"s",onClose:a},i.a.createElement(k.EuiFlyoutHeader,{hasBorder:!0},i.a.createElement(k.EuiTitle,{size:"s"},i.a.createElement("h2",{id:"flyoutTitle"},i.a.createElement(k.EuiFlexItem,null,i.a.createElement(Vr,{index:o+1,text:s,url:s,ariaLabel:s,highestIndex:o+1}))))),i.a.createElement(k.EuiFlyoutBody,null,i.a.createElement(rl,{rows:u,title:ll}),!!d&&i.a.createElement(i.a.Fragment,null,i.a.createElement(k.EuiSpacer,{size:"m"}),i.a.createElement(rl,{rows:d,title:sl})),!!m&&i.a.createElement(i.a.Fragment,null,i.a.createElement(k.EuiSpacer,{size:"m"}),i.a.createElement(rl,{rows:m,title:ul})),!!c&&i.a.createElement(i.a.Fragment,null,i.a.createElement(k.EuiSpacer,{size:"m"}),i.a.createElement(rl,{rows:c,title:ol})))))},ml=({item:e,highestIndex:t,renderFilterScreenReaderText:a,onClick:r})=>{const[l,o]=Object(n.useState)(),{status:s,offsetIndex:u,index:c,isHighlighted:d,url:m}=e,p=Object(n.useMemo)((()=>{if(r)return()=>r({buttonRef:l,networkItemIndex:c})}),[l,c,r]),g=Object(n.useCallback)((e=>o(e)),[o]),h=e.url,f=`${d&&a?`${tl} `:""}${h}`;return i.a.createElement(tr,{isHighlighted:d,"data-test-subj":d?"sideBarHighlightedItem":"sideBarDimmedItem"},s&&((b=s)>=400&&b<=499||b>=500&&b<=599||301===b||307===b||308===b)?i.a.createElement(k.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},i.a.createElement(k.EuiFlexItem,{grow:!1,style:{minWidth:0}},i.a.createElement(Vr,{index:u,text:h,url:m,ariaLabel:f,onClick:p,setButtonRef:g,highestIndex:t})),i.a.createElement(k.EuiFlexItem,{component:"span",grow:!1},i.a.createElement(k.EuiBadge,{color:"danger"},s))):i.a.createElement(k.EuiFlexGroup,null,i.a.createElement(k.EuiFlexItem,{grow:!1,style:{minWidth:0}},i.a.createElement(Vr,{index:u,text:h,url:m,ariaLabel:f,onClick:p,setButtonRef:g,highestIndex:t}))));var b},pl=e=>i.a.createElement(k.EuiHealth,{color:e.colour,className:"eui-textNoWrap"},e.name),gl=({data:e,total:t,markerItems:a,activeStep:r})=>{const[l,o]=Object(n.useState)(""),[s,u]=Object(n.useState)([]),[c,d]=Object(n.useState)(!1),[m]=Object(n.useState)(e),p=s.length>0,{series:g,domain:h,metadata:f,totalHighlightedRequests:b}=Object(n.useMemo)((()=>((e,t=!1,a,n)=>{const i=e=>e.requestSentTime;let r=1/0;e.forEach((e=>r=Math.min(r,i(e))));const l=[],o=[];let s=0;e.forEach(((e,t)=>{const u=(e=>{const t=e&&ki[e]?ki[e]:yi.Other;return Ai[t]})(e.mimeType);let c=i(e)-r;o.push(Ii({item:e,index:t,requestStart:c}));const d=ji(e,a,n);if(d&&s++,!e.timings)return void l.push({x:t,y0:0,y:0,config:{isHighlighted:d,showTooltip:!1}});let m=!1;if(vi.forEach((a=>{const n=((e,t)=>{if(e)return t===hi.Connect?Mi(e.connect,e.ssl):e[t]})(e.timings,a);if(n&&n>=0){m=!0;const i=a===hi.Receive?u:Ai[a],r=c+n;l.push({x:t,y0:c,y:r,config:{id:t,colour:i,isHighlighted:d,showTooltip:!0,tooltipProps:{value:wi({value:r-c,timing:a,mimeType:e.mimeType}),colour:i}}}),c=r}})),!m){const a=e.timings.total,n=-1!==a;l.push({x:t,y0:n?c:0,y:n?c+e.timings.total:0,config:{isHighlighted:d,colour:n?u:"",showTooltip:n,tooltipProps:n?{value:wi({value:a,timing:hi.Receive,mimeType:e.mimeType}),colour:u}:void 0}})}}));const u=l.map((e=>e.y)),c={min:0,max:Math.max(...u)};let d=l;return t&&(d=l.filter((e=>e.config.isHighlighted))),{series:d,domain:c,metadata:o,totalHighlightedRequests:s}})(m,c,l,s)),[m,l,s,c]),E=Object(n.useMemo)((()=>((e,t,a,n)=>{const i=e.map(((e,t)=>{const i=ji(e,a,n),r=t+1,{url:l,status:o,method:s}=e;return{url:l,status:o,method:s,isHighlighted:i,offsetIndex:r,index:t}}));return t?i.filter((e=>e.isHighlighted)):i})(m,c,l,s)),[m,l,s,c]),v=Object(n.useMemo)((()=>(()=>{let e=[];Object.values(hi).forEach((t=>{t!==hi.Receive&&(e=[...e,{name:bi[t],colour:Fi[t]}])}));let t=[];return Object.values(yi).forEach((e=>{t=[...t,{name:xi[e],colour:Li[e]}]})),[...e,...t]})()),[]),{flyoutData:y,onBarClick:x,onProjectionClick:S,onSidebarClick:w,isFlyoutVisible:j,onFlyoutClose:O}=(e=>{const[t,a]=Object(n.useState)(!1),[i,r]=Object(n.useState)(void 0),[l,o]=Object(n.useState)(),s=Object(n.useCallback)((e=>{r(e),a(!0)}),[a,r]),u=Object(n.useCallback)((()=>{var e;a(!1),null==l||null===(e=l.current)||void 0===e||e.focus()}),[l,a]);return{flyoutData:i,onBarClick:Object(n.useCallback)((([t])=>{a(!1);const{datum:n}=t[0],i=e[n.config.id];s(i)}),[e,s]),onProjectionClick:Object(n.useCallback)((t=>{a(!1);const{x:n}=t;if("number"==typeof n&&n>=0){const t=e[n];s(t)}}),[e,s]),onSidebarClick:Object(n.useCallback)((({buttonRef:n,networkItemIndex:i})=>{if(t&&n===l)a(!1);else{const t=e[i];o(n),s(t)}}),[l,s,t,e,a]),isFlyoutVisible:t,onFlyoutClose:u}})(f),M=Object(n.useCallback)((()=>i.a.createElement(nl,{query:l,setQuery:o,activeFilters:s,setActiveFilters:u,onlyHighlighted:c,setOnlyHighlighted:d})),[s,u,c,d,l,o]),C=Object(n.useCallback)((()=>i.a.createElement(dl,{flyoutData:y,onFlyoutClose:O,isFlyoutVisible:j})),[y,j,O]),I=Math.max(...g.map((e=>e.x))),T=Object(n.useCallback)((e=>i.a.createElement(ml,{item:e,renderFilterScreenReaderText:p&&!c,onClick:w,highestIndex:I})),[p,c,w,I]);return Object(F.useTrackMetric)({app:"uptime",metric:"waterfall_chart_view",metricType:F.METRIC_TYPE.COUNT}),Object(F.useTrackMetric)({app:"uptime",metric:"waterfall_chart_view",metricType:F.METRIC_TYPE.COUNT,delay:15e3}),i.a.createElement(Ni,{activeStep:r,markerItems:a,totalNetworkRequests:t,fetchedNetworkRequests:m.length,highlightedNetworkRequests:b,data:g,onElementClick:Object(n.useCallback)(x,[x]),onProjectionClick:Object(n.useCallback)(S,[S]),onSidebarClick:w,showOnlyHighlightedNetworkRequests:c,sidebarItems:E,legendItems:v,metadata:f,renderTooltipItem:Object(n.useCallback)((e=>i.a.createElement(k.EuiHealth,{color:String(null==e?void 0:e.colour)},null==e?void 0:e.value)),[])},i.a.createElement(Br,{tickFormat:Object(n.useCallback)((e=>`${Number(e).toFixed(0)} ms`),[]),domain:h,barStyleAccessor:Object(n.useCallback)((({datum:e})=>{var t,a;return null!==(t=e.config)&&void 0!==t&&t.isHighlighted?e.config.colour:{rect:{fill:null===(a=e.config)||void 0===a?void 0:a.colour,opacity:"0.1"}}}),[]),renderSidebarItem:T,renderLegendItem:pl,renderFlyout:C,renderFilter:M,fullHeight:!0}))},hl="browser.relative_trace.type",fl="browser.relative_trace.name",bl="browser.relative_trace.start.us",El="navigationStart",vl=o.i18n.translate("xpack.uptime.synthetics.stepDetail.waterfallNoData",{defaultMessage:"No waterfall data could be found for this step"}),yl=({checkGroup:e,stepIndex:t,activeStep:a})=>{var r,l;const s=Object(c.useDispatch)();Object(n.useEffect)((()=>{e&&t&&s(Object(gi.a)({checkGroup:e,stepIndex:t}))}),[s,t,e]);const u=null===(r=Object(c.useSelector)(te.u)[null!=e?e:""])||void 0===r?void 0:r[t],d=u&&!u.loading,m=null==u?void 0:u.isWaterfallSupported,p=(null==u||null===(l=u.events)||void 0===l?void 0:l.length)>0,{metrics:g}=(({checkGroup:e,hasNavigationRequest:t,stepIndex:a})=>{const{settings:n}=Object(c.useSelector)(te.z),i=(null==n?void 0:n.heartbeatIndices)||"",{data:r,loading:l}=Object(F.useEsSearch)(t?Object(F.createEsParams)({index:i,body:{query:{bool:{filter:[{term:{"synthetics.step.index":a}},{term:{"monitor.check_group":e}},{term:{"synthetics.type":"step/metrics"}}]}},fields:["browser.*"],size:1e3,_source:!1}}):{},[i,e,t],{name:"getWaterfallStepMetrics"});if(!t)return{metrics:[],loading:!1};const o=[];if(r&&t){const e=r.hits.hits;let t=0,a=!1;e.forEach((({fields:e})=>{var n;if("mark"===(null===(n=e[hl])||void 0===n?void 0:n[0])){const{[fl]:n,[bl]:i}=e;(null==n?void 0:n[0])===El&&(t=null==i?void 0:i[0],a=!0)}})),a&&e.forEach((({fields:e})=>{var a;if("mark"===(null===(a=e[hl])||void 0===a?void 0:a[0])){const{[fl]:a,[bl]:n}=e;(null==a?void 0:a[0])!==El&&o.push({id:null==a?void 0:a[0],offset:((null==n?void 0:n[0])-t)/1e3})}}))}return{metrics:o,loading:l}})({checkGroup:e,stepIndex:t,hasNavigationRequest:null==u?void 0:u.hasNavigationRequest});return i.a.createElement(i.a.Fragment,null,!d&&i.a.createElement(k.EuiFlexGroup,{justifyContent:"center"},i.a.createElement(k.EuiFlexItem,{grow:!1},i.a.createElement(k.EuiLoadingChart,{size:"xl","aria-label":o.i18n.translate("xpack.uptime.synthetics.stepDetail.waterfall.loading",{defaultMessage:"Waterfall chart loading"})}))),d&&!p&&i.a.createElement(k.EuiFlexGroup,{justifyContent:"center"},i.a.createElement(k.EuiFlexItem,null,i.a.createElement(k.EuiText,{textAlign:"center"},i.a.createElement("p",null,vl)))),d&&p&&m&&i.a.createElement(gl,{data:(h=u.events,h.sort(((e,t)=>e.requestSentTime-t.requestSentTime))),markerItems:g,total:u.total,activeStep:a}),d&&p&&!m&&i.a.createElement(k.EuiCallOut,{title:i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.synthetics.stepDetail.waterfallUnsupported.title",defaultMessage:"Waterfall chart unavailable"}),color:"warning",iconType:"help"},i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.synthetics.stepDetail.waterfallUnsupported.description",defaultMessage:"The waterfall chart cannot be shown. You may be using an older version of the Synthetic Agent. Please check the version and consider upgrading."})));var h},xl=o.i18n.translate("xpack.uptime.synthetics.stepDetail.noData",{defaultMessage:"No data could be found for this step"}),kl=({checkGroup:e,stepIndex:t})=>{const{activeStep:a,journey:n}=Ml();return pi({details:null==n?void 0:n.details,activeStep:a,performanceBreakDownView:!0}),i.a.createElement(i.a.Fragment,null,(!n||n.loading)&&i.a.createElement(k.EuiFlexGroup,{justifyContent:"center"},i.a.createElement(k.EuiFlexItem,{grow:!1},i.a.createElement(k.EuiLoadingSpinner,{size:"xl"}))),n&&!a&&!n.loading&&i.a.createElement(k.EuiFlexGroup,{justifyContent:"center"},i.a.createElement(k.EuiFlexItem,null,i.a.createElement(k.EuiText,{textAlign:"center"},i.a.createElement("p",null,xl)))),n&&a&&!n.loading&&i.a.createElement(yl,{checkGroup:e,stepIndex:t,activeStep:a}))},Sl=o.i18n.translate("xpack.uptime.synthetics.stepDetail.previousCheckButtonText",{defaultMessage:"Previous check"}),wl=o.i18n.translate("xpack.uptime.synthetics.stepDetail.nextCheckButtonText",{defaultMessage:"Next check"}),jl=({previousCheckGroup:e,dateFormat:t,handleNextRun:a,handlePreviousRun:n,checkTimestamp:r,nextCheckGroup:l})=>{const s=rt()(r).format(t);return i.a.createElement(k.EuiFlexGroup,{alignItems:"center",justifyContent:"flexEnd",responsive:!1},i.a.createElement(k.EuiFlexItem,{grow:!1},i.a.createElement(k.EuiButtonEmpty,{"data-test-subj":"syntheticsStepPageNavigationButton",onClick:n,disabled:!e,iconType:"arrowLeft","aria-label":Sl},Sl)),i.a.createElement(k.EuiFlexItem,{grow:!1},i.a.createElement(k.EuiText,{size:"s","aria-label":(u=s,o.i18n.translate("xpack.uptime.synthetics.stepDetail.currentCheckAriaLabel",{defaultMessage:"Current check: {timestamp}",values:{timestamp:u}}))},s)),i.a.createElement(k.EuiFlexItem,{grow:!1},i.a.createElement(k.EuiButtonEmpty,{"data-test-subj":"syntheticsStepPageNavigationButton",onClick:a,disabled:!l,iconType:"arrowRight",iconSide:"right","aria-label":wl},wl)));var u},Ol=({stepIndex:e,totalSteps:t,handleNextStep:a,handlePreviousStep:n,hasNextStep:r,hasPreviousStep:l})=>i.a.createElement(k.EuiFlexGroup,{alignItems:"center",responsive:!1},i.a.createElement(k.EuiFlexItem,null,i.a.createElement(k.EuiFlexGroup,{alignItems:"center",responsive:!1},i.a.createElement(k.EuiFlexItem,{grow:!1},i.a.createElement(k.EuiButtonEmpty,{"data-test-subj":"syntheticsStepPageTitleContentButton",onClick:n,disabled:!l,iconType:"arrowLeft"})),i.a.createElement(k.EuiFlexItem,{grow:!1},i.a.createElement(k.EuiText,{size:"s"},i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.synthetics.stepDetail.totalSteps",defaultMessage:"Step {stepIndex} of {totalSteps}",values:{stepIndex:e,totalSteps:t}}))),i.a.createElement(k.EuiFlexItem,{grow:!1},i.a.createElement(k.EuiButtonEmpty,{"data-test-subj":"syntheticsStepPageTitleContentButton",onClick:a,disabled:!r,iconType:"arrowRight"}))))),Ml=()=>{var e,t,a,i,r;const l=Object(d.useHistory)(),o=Object(c.useDispatch)(),{checkGroupId:s,stepIndex:u}=Object(d.useParams)();Object(n.useEffect)((()=>{s&&o(Object(oa.a)({checkGroup:s,syntheticEventTypes:["step/end"]}))}),[o,s]);const m=Number(u),p=null!==(e=Object(c.useSelector)(te.m)[s])&&void 0!==e?e:null,g=Object(n.useMemo)((()=>{var e;return{hasPreviousStep:m>1,activeStep:null==p||null===(e=p.steps)||void 0===e?void 0:e.find((e=>{var t,a;return(null===(t=e.synthetics)||void 0===t||null===(a=t.step)||void 0===a?void 0:a.index)===m})),hasNextStep:!!(p&&p.steps&&m<p.steps.length)}}),[p,m]),h=Object(n.useCallback)((()=>{l.push(`/journey/${s}/step/${m+1}`)}),[l,s,m]),f=Object(n.useCallback)((()=>{l.push(`/journey/${s}/step/${m-1}`)}),[l,s,m]),b=Object(n.useCallback)((()=>{var e,t;l.push(`/journey/${null==p||null===(e=p.details)||void 0===e||null===(t=e.next)||void 0===t?void 0:t.checkGroup}/step/1`)}),[l,null==p||null===(t=p.details)||void 0===t||null===(a=t.next)||void 0===a?void 0:a.checkGroup]),E=Object(n.useCallback)((()=>{var e,t;l.push(`/journey/${null==p||null===(e=p.details)||void 0===e||null===(t=e.previous)||void 0===t?void 0:t.checkGroup}/step/1`)}),[l,null==p||null===(i=p.details)||void 0===i||null===(r=i.previous)||void 0===r?void 0:r.checkGroup]);return{checkGroup:s,journey:p,stepIndex:m,...g,handleNextStep:h,handlePreviousStep:f,handleNextRun:b,handlePreviousRun:E}},Cl=()=>{var e,t;const{activeStep:a,journey:n}=Ml();return i.a.createElement(i.a.Fragment,null,n&&a&&(null===(e=a.synthetics)||void 0===e||null===(t=e.step)||void 0===t?void 0:t.name))},Il=()=>{var e,t,a,n,r;const[l]=Object(f.useUiSetting$)("dateFormat"),{journey:o,handleNextRun:s,handlePreviousRun:u}=Ml();return o?i.a.createElement(jl,{dateFormat:l,handleNextRun:s,handlePreviousRun:u,nextCheckGroup:null===(e=o.details)||void 0===e||null===(t=e.next)||void 0===t?void 0:t.checkGroup,previousCheckGroup:null===(a=o.details)||void 0===a||null===(n=a.previous)||void 0===n?void 0:n.checkGroup,checkTimestamp:null===(r=o.details)||void 0===r?void 0:r.timestamp}):null},Tl=()=>{var e,t,a;const{activeStep:n,hasPreviousStep:r,hasNextStep:l,handleNextStep:o,handlePreviousStep:s,journey:u,stepIndex:c}=Ml();return u&&n?i.a.createElement(Ol,{stepName:null!==(e=null===(t=n.synthetics)||void 0===t||null===(a=t.step)||void 0===a?void 0:a.name)&&void 0!==e?e:"",stepIndex:c,totalSteps:u.steps.length,hasPreviousStep:r,hasNextStep:l,handlePreviousStep:s,handleNextStep:o}):null},Fl=()=>{di();const{checkGroupId:e,stepIndex:t}=Object(d.useParams)();Object(F.useTrackPageview)({app:"uptime",path:"stepDetail"}),Object(F.useTrackPageview)({app:"uptime",path:"stepDetail",delay:15e3});const a=Object(c.useDispatch)();return Object(n.useEffect)((()=>{a(Object(ti.a)())}),[a]),i.a.createElement(kl,{checkGroup:e,stepIndex:Number(t)})},Ll=({onChange:e,loading:t,formFields:a,fieldErrors:n,isDisabled:r})=>i.a.createElement(i.a.Fragment,null,i.a.createElement(k.EuiTitle,{size:"s"},i.a.createElement("h3",null,i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.sourceConfiguration.indicesSectionTitle",defaultMessage:"Indices"}))),i.a.createElement(k.EuiSpacer,{size:"m"}),i.a.createElement(k.EuiDescribedFormGroup,{title:i.a.createElement("h4",null,i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.sourceConfiguration.heartbeatIndicesTitle",defaultMessage:"Uptime indices"})),description:i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.sourceConfiguration.heartbeatIndicesDescription",defaultMessage:"Index pattern for matching indices that contain Heartbeat data"})},i.a.createElement(k.EuiFormRow,{describedByIds:["heartbeatIndices"],error:null==n?void 0:n.heartbeatIndices,fullWidth:!0,helpText:i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.sourceConfiguration.heartbeatIndicesDefaultValue",defaultMessage:"The default value is {defaultValue}",values:{defaultValue:i.a.createElement(k.EuiCode,null,u.h.heartbeatIndices)}}),isInvalid:!(null==n||!n.heartbeatIndices),label:i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.sourceConfiguration.heartbeatIndicesLabel",defaultMessage:"Heartbeat indices"})},i.a.createElement(k.EuiFieldText,{"data-test-subj":"heartbeat-indices-input-"+(t?"loading":"loaded"),fullWidth:!0,disabled:r,isLoading:t,value:(null==a?void 0:a.heartbeatIndices)||"",onChange:t=>e({heartbeatIndices:t.currentTarget.value})})))),Al={ageInputAriaLabel:o.i18n.translate("xpack.uptime.sourceConfiguration.ageLimitThresholdInput.ariaLabel",{defaultMessage:"An input that controls the maximum number of days for which a TLS certificate may be valid before Kibana will show a warning."}),expirationInputAriaLabel:o.i18n.translate("xpack.uptime.sourceConfiguration.certificateExpirationThresholdInput.ariaLabel",{defaultMessage:"An input that controls the minimum number of days remaining for TLS certificate expiration before Kibana will show a warning."})},Dl={inputPlaceHolder:o.i18n.translate("xpack.uptime.sourceConfiguration.alertDefaultForm.selectConnector",{defaultMessage:"Select one or more connectors"}),emailPlaceHolder:o.i18n.translate("xpack.uptime.sourceConfiguration.alertDefaultForm.emailConnectorPlaceHolder",{defaultMessage:"To: Email for email connector"})},Rl=({loading:e,onChange:t,formFields:a,fieldErrors:n,isDisabled:r})=>{var l,o;return i.a.createElement(i.a.Fragment,null,i.a.createElement(k.EuiTitle,{size:"s"},i.a.createElement("h3",null,i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.sourceConfiguration.certificationSectionTitle",defaultMessage:"Certificate Expiration"}))),i.a.createElement(k.EuiSpacer,{size:"m"}),i.a.createElement(k.EuiDescribedFormGroup,{title:i.a.createElement("h4",null,i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.sourceConfiguration.expirationThreshold",defaultMessage:"Expiration/Age Thresholds"})),description:i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.sourceConfiguration.certificateThresholdDescription",defaultMessage:"Change the threshold for displaying and alerting on certificate errors. Note: this will affect any configured alerts."})},i.a.createElement(k.EuiFormRow,{describedByIds:["errorState"],error:null==n?void 0:n.expirationThresholdError,fullWidth:!0,helpText:i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.sourceConfiguration.expirationThresholdDefaultValue",defaultMessage:"The default value is {defaultValue}",values:{defaultValue:i.a.createElement(k.EuiCode,null,u.h.certExpirationThreshold)}}),isInvalid:!(null==n||!n.expirationThresholdError),label:i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.sourceConfiguration.errorStateLabel",defaultMessage:"Expiration threshold"})},i.a.createElement(k.EuiFlexGroup,null,i.a.createElement(k.EuiFlexItem,{grow:2},i.a.createElement(k.EuiFieldText,{"aria-label":Al.expirationInputAriaLabel,"data-test-subj":"expiration-threshold-input-"+(e?"loading":"loaded"),fullWidth:!0,disabled:r,isInvalid:!(null==n||!n.expirationThresholdError),isLoading:e,value:null!==(l=null==a?void 0:a.certExpirationThreshold)&&void 0!==l?l:"",onChange:e=>t({certExpirationThreshold:Number(e.target.value)||void 0})})),i.a.createElement(k.EuiFlexItem,{grow:1},i.a.createElement(k.EuiText,null,i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.sourceConfiguration.ageLimit.units.days",defaultMessage:"Days"}))))),i.a.createElement(k.EuiFormRow,{describedByIds:["warningState"],error:null==n?void 0:n.ageThresholdError,fullWidth:!0,helpText:i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.sourceConfiguration.ageThresholdDefaultValue",defaultMessage:"The default value is {defaultValue}",values:{defaultValue:i.a.createElement(k.EuiCode,null,u.h.certAgeThreshold)}}),isInvalid:!(null==n||!n.ageThresholdError),label:i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.sourceConfiguration.warningStateLabel",defaultMessage:"Age limit"})},i.a.createElement(k.EuiFlexGroup,null,i.a.createElement(k.EuiFlexItem,{grow:2},i.a.createElement(k.EuiFieldText,{"aria-label":Al.ageInputAriaLabel,"data-test-subj":"age-threshold-input-"+(e?"loading":"loaded"),fullWidth:!0,disabled:r,isInvalid:!(null==n||!n.ageThresholdError),isLoading:e,value:null!==(o=null==a?void 0:a.certAgeThreshold)&&void 0!==o?o:"",onChange:({target:{value:e}})=>t({certAgeThreshold:Number(e)||void 0})})),i.a.createElement(k.EuiFlexItem,{grow:1},i.a.createElement(k.EuiText,null,i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.sourceConfiguration.ageLimit.units.days",defaultMessage:"Days"})))))))},Pl=o.i18n.translate("xpack.uptime.certificates.refresh",{defaultMessage:"Refresh"}),zl={breadcrumbText:o.i18n.translate("xpack.uptime.settingsBreadcrumbText",{defaultMessage:"Settings"}),editNoticeTitle:o.i18n.translate("xpack.uptime.settings.cannotEditTitle",{defaultMessage:"You do not have permission to edit settings."}),editNoticeText:o.i18n.translate("xpack.uptime.settings.cannotEditText",{defaultMessage:"Your user currently has 'Read' permissions for the Uptime app. Enable a permissions-level of 'All' to edit these settings."}),mustBeNumber:o.i18n.translate("xpack.uptime.settings.blankNumberField.error",{defaultMessage:"Must be a number."})},Nl=o.i18n.translate("xpack.uptime.settings.blank.error",{defaultMessage:"May not be blank."}),Bl=o.i18n.translate("xpack.uptime.settings.noSpace.error",{defaultMessage:"Index names must not contain space"}),_l=o.i18n.translate("xpack.uptime.settings.invalid.error",{defaultMessage:"Value must be greater than 0."}),$l=o.i18n.translate("xpack.uptime.settings.invalid.nanError",{defaultMessage:"Value must be an integer."}),Hl=({focusInput:e,isDisabled:t})=>{const[a,r]=Object(n.useState)(!1),{services:{application:l,triggersActionsUi:{getAddConnectorFlyout:o}}}=Object(f.useKibana)(),s=!(null==l||!l.capabilities.actions.save),u=Object(c.useDispatch)(),d=Object(n.useMemo)((()=>o({onClose:()=>{u(Re.j.get()),r(!1),e()},featureId:"uptime"})),[]);return i.a.createElement(i.a.Fragment,null,a?d:null,i.a.createElement(k.EuiButtonEmpty,{"data-test-subj":"createConnectorButton",onClick:()=>r(!0),size:"s",isDisabled:t||!s},i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.alerts.settings.addConnector",defaultMessage:"Add connector"})))};function Gl({errors:e,value:t,isLoading:a,isDisabled:n,onChange:r,connectors:l}){var o,s,u;const{actionTypeRegistry:d}=Object(f.useKibana)().services.triggersActionsUi,{data:m=[]}=Object(c.useSelector)(Re.d);if(null==m||!m.find((e=>(null==l?void 0:l.includes(e.id))&&".email"===e.actionTypeId)))return null;const p=d.get(".email").actionParamsFields;return i.a.createElement(k.EuiDescribedFormGroup,{title:i.a.createElement("h4",null,i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.sourceConfiguration.alertConnectors.defaultEmail",defaultMessage:"Default email"})),description:i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.sourceConfiguration.defaultConnectors.description.defaultEmail",defaultMessage:"Email settings required for selected email alert connectors."})},i.a.createElement(p,{actionParams:{to:null!==(o=null==t?void 0:t.to)&&void 0!==o?o:[],cc:null!==(s=null==t?void 0:t.cc)&&void 0!==s?s:[],bcc:null!==(u=null==t?void 0:t.bcc)&&void 0!==u?u:[]},errors:null!=e?e:{},editAction:(e,a,n)=>((e,a)=>{r({defaultEmail:{...t,[e]:a}})})(e,a),showEmailSubjectAndMessage:!1,index:1,isLoading:a,isDisabled:n}))}var Ul=a(147);const Wl=_e.a.span.withConfig({displayName:"ConnectorSpan",componentId:"sc-1qbzvx7-0"})([".euiIcon{margin-right:5px;}> img{width:16px;height:20px;}"]),ql=({onChange:e,loading:t,formFields:a,fieldErrors:r,isDisabled:l})=>{const{services:{triggersActionsUi:{actionTypeRegistry:o}}}=Object(f.useKibana)(),{focusConnectorField:s}=Object(Y.d)(),u=Object(Y.g)()[1],d=Object(n.useRef)(null),{data:m}=Object(F.useFetcher)((()=>Object(Ul.c)()),[]);di(),Object(n.useEffect)((()=>{s&&d.current&&!t&&d.current.focus()}),[s,d,t]);const{data:p=[]}=Object(c.useSelector)(Re.d),[g,h]=Object(n.useState)(void 0),b=(null!=p?p:[]).filter((e=>(null!=m?m:[]).find((t=>t.id===e.actionTypeId)))).map((e=>({value:e.id,label:e.name,"data-test-subj":e.name})));return i.a.createElement(i.a.Fragment,null,i.a.createElement(k.EuiTitle,{size:"s"},i.a.createElement("h3",null,i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.sourceConfiguration.alertDefaults",defaultMessage:"Alert defaults"}))),i.a.createElement(k.EuiSpacer,{size:"m"}),i.a.createElement(k.EuiDescribedFormGroup,{title:i.a.createElement("h4",null,i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.sourceConfiguration.alertConnectors",defaultMessage:"Alert Connectors"})),description:i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.sourceConfiguration.defaultConnectors.description",defaultMessage:"Default connectors to be used to send an alert."})},i.a.createElement(Vl,{describedByIds:["defaultConnectors"],error:g,fullWidth:!0,isInvalid:!!g,label:i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.sourceConfiguration.defaultConnectors",defaultMessage:"Default connectors"}),labelAppend:i.a.createElement(Hl,{isDisabled:l,focusInput:Object(n.useCallback)((()=>{d.current&&d.current.focus()}),[])})},i.a.createElement(k.EuiComboBox,{placeholder:Dl.inputPlaceHolder,options:b,selectedOptions:b.filter((e=>{var t;return null==a||null===(t=a.defaultConnectors)||void 0===t?void 0:t.includes(e.value)})),inputRef:e=>{d.current=e},onSearchChange:(e,t)=>{h(0===e.length||t?void 0:`"${e}" is not a valid option`)},onBlur:()=>{if(d.current){const{value:e}=d.current;h(0===e.length?void 0:`"${e}" is not a valid option`)}d.current&&!t&&s&&u({focusConnectorField:void 0})},isLoading:t,isDisabled:l,onChange:t=>{e({defaultConnectors:t.map((e=>(null==p?void 0:p.find((t=>t.id===e.value))).id))})},"data-test-subj":"default-connectors-input-"+(t?"loading":"loaded"),renderOption:e=>{var t;const{label:a,value:n}=e,{actionTypeId:r}=null!==(t=null==p?void 0:p.find((e=>e.id===n)))&&void 0!==t?t:{};return i.a.createElement(Wl,null,i.a.createElement(k.EuiIcon,{type:o.get(r).iconClass}),i.a.createElement("span",null,a))}}))),i.a.createElement(Gl,{value:null==a?void 0:a.defaultEmail,connectors:null==a?void 0:a.defaultConnectors,onChange:e,isLoading:t,isDisabled:l,errors:null==r?void 0:r.invalidEmail}),i.a.createElement(k.EuiSpacer,null))},Vl=_e()(k.EuiFormRow).withConfig({displayName:"RowWrapper",componentId:"sc-1qbzvx7-1"})(["&&& > .euiFormRow__labelWrapper{align-items:baseline;}"]);var Jl,Kl=(Jl=function(e,t){return Jl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])},Jl(e,t)},function(e,t){function a(){this.constructor=e}Jl(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),Yl="html",Xl="svg",Zl=function(e,t){var a,n,i,r={};if(e===Yl)i=document.createElement("div");else{if(e!==Xl)throw new Error('Invalid element type "'+e+'" for createPortalNode: must be "html" or "svg".');i=document.createElementNS("http://www.w3.org/2000/svg","g")}if(t&&"object"==typeof t)for(var l=0,o=Object.entries(t.attributes);l<o.length;l++){var s=o[l],u=s[0],c=s[1];i.setAttribute(u,c)}var d={element:i,elementType:e,setPortalProps:function(e){r=e},getInitialPortalProps:function(){return r},mount:function(t,i){if(i!==n){if(d.unmount(),t!==a&&!function(e,t){if(t===Yl)return e instanceof HTMLElement;if(t===Xl)return e instanceof SVGElement;throw new Error('Unrecognized element type "'+t+'" for validateElementType.')}(t,e))throw new Error('Invalid element type for portal: "'+e+'" portalNodes must be used with '+e+" elements, but OutPortal is within <"+t.tagName+">.");t.replaceChild(d.element,i),a=t,n=i}},unmount:function(e){e&&e!==n||a&&n&&(a.replaceChild(n,d.element),a=void 0,n=void 0)}};return d},Ql=function(e){function t(t){var a=e.call(this,t)||this;return a.addPropsChannel=function(){Object.assign(a.props.node,{setPortalProps:function(e){a.setState({nodeProps:e})}})},a.state={nodeProps:a.props.node.getInitialPortalProps()},a}return Kl(t,e),t.prototype.componentDidMount=function(){this.addPropsChannel()},t.prototype.componentDidUpdate=function(){this.addPropsChannel()},t.prototype.render=function(){var e=this,t=this.props,a=t.children,i=t.node;return r.createPortal(n.Children.map(a,(function(t){return n.isValidElement(t)?n.cloneElement(t,e.state.nodeProps):t})),i.element)},t}(n.PureComponent),eo=function(e){function t(t){var a=e.call(this,t)||this;return a.placeholderNode=n.createRef(),a.passPropsThroughPortal(),a}return Kl(t,e),t.prototype.passPropsThroughPortal=function(){var e=Object.assign({},this.props,{node:void 0});this.props.node.setPortalProps(e)},t.prototype.componentDidMount=function(){var e=this.props.node;this.currentPortalNode=e;var t=this.placeholderNode.current,a=t.parentNode;e.mount(a,t),this.passPropsThroughPortal()},t.prototype.componentDidUpdate=function(){var e=this.props.node;this.currentPortalNode&&e!==this.currentPortalNode&&(this.currentPortalNode.unmount(this.placeholderNode.current),this.currentPortalNode=e);var t=this.placeholderNode.current,a=t.parentNode;e.mount(a,t),this.passPropsThroughPortal()},t.prototype.componentWillUnmount=function(){this.props.node.unmount(this.placeholderNode.current)},t.prototype.render=function(){return n.createElement("div",{ref:this.placeholderNode})},t}(n.PureComponent),to=Zl.bind(null,Yl);Zl.bind(null,Xl);const ao=({isFormDisabled:e,isFormDirty:t,isFormValid:a,onApply:n,onCancel:r,errors:l})=>{const{heartbeatIndices:o,invalidEmail:s,expirationThresholdError:u,ageThresholdError:c}=null!=l?l:{},{to:d,cc:m,bcc:p}=null!=s?s:{};return i.a.createElement(k.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},i.a.createElement(k.EuiFlexItem,null,i.a.createElement(no,null,o||d||m||p||u||c)),i.a.createElement(k.EuiFlexItem,{grow:!1},i.a.createElement(k.EuiButton,{color:"text",size:"s",iconType:"cross","data-test-subj":"discardSettingsButton",isDisabled:!t||e,onClick:()=>{r()}},i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.sourceConfiguration.discardSettingsButtonLabel",defaultMessage:"Cancel"}))),i.a.createElement(k.EuiFlexItem,{grow:!1},i.a.createElement(k.EuiButton,{size:"s","data-test-subj":"apply-settings-button",onClick:n,color:"primary",isDisabled:!t||!a||e,fill:!0},i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.sourceConfiguration.applySettingsButtonLabel",defaultMessage:"Apply changes"}))))},no=Object(T.euiStyled)(k.EuiText)`
    box-shadow: -4px 0 ${e=>e.theme.eui.euiColorWarning};
    padding-left: 8px;
`,io=()=>i.a.createElement("div",null,i.a.createElement(eo,{node:lo})),ro=e=>i.a.createElement(Ql,{node:lo},i.a.createElement(ao,e)),lo=to(),oo=(e,t)=>{if(!e||0===e.length)return;if(!t||!t.to)return{to:so};const a=0===t.to.length?so:uo(t.to),n=uo(t.cc),i=uo(t.bcc);return a||n||i?{to:a,cc:n,bcc:i}:void 0},so=o.i18n.translate("xpack.uptime.sourceConfiguration.alertDefaultForm.requiredEmail",{defaultMessage:"To email is required for email connector"}),uo=e=>{if(!e)return;const t=e.find((e=>!String(e).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)));return t?o.i18n.translate("xpack.uptime.sourceConfiguration.alertDefaultForm.invalidEmail",{defaultMessage:"{val} is not a valid email.",values:{val:t}}):void 0},co=e=>void 0===e||isNaN(e)?zl.mustBeNumber:e<=0?_l:e%1?$l:void 0,mo=()=>{var e,t;const a=Object(c.useSelector)(te.z);Z([{text:zl.breadcrumbText}]);const r=Object(c.useDispatch)();Object(n.useEffect)((()=>{r(Object(ti.a)())}),[r]);const[l,o]=Object(n.useState)(a.settings?{...a.settings}:null);!a.loadError&&null===l&&a.settings&&o(Object.assign({},{...a.settings}));const{errors:s,isFormDirty:u}=(e=>{const t=Object(c.useSelector)(te.z),a=((e,t)=>{return(null==t?void 0:t.certAgeThreshold)!==(null==e?void 0:e.certAgeThreshold)||(null==t?void 0:t.certExpirationThreshold)!==(null==e?void 0:e.certExpirationThreshold)||(null==t?void 0:t.heartbeatIndices)!==(null==e?void 0:e.heartbeatIndices)||(a=null==t?void 0:t.defaultEmail,n=null==e?void 0:e.defaultEmail,!Object(D.isEqual)((null!==(i=null==a?void 0:a.to)&&void 0!==i?i:[]).sort(),(null!==(r=null==n?void 0:n.to)&&void 0!==r?r:[]).sort())||!Object(D.isEqual)((null!==(l=null==a?void 0:a.cc)&&void 0!==l?l:[]).sort(),(null!==(o=null==n?void 0:n.cc)&&void 0!==o?o:[]).sort())||!Object(D.isEqual)((null!==(s=null==a?void 0:a.bcc)&&void 0!==s?s:[]).sort(),(null!==(u=null==n?void 0:n.bcc)&&void 0!==u?u:[]).sort())||void 0)||JSON.stringify(null==t?void 0:t.defaultConnectors)!==JSON.stringify(null==e?void 0:e.defaultConnectors);var a,n,i,r,l,o,s,u})(e,t.settings),{data:n=[]}=Object(c.useSelector)(Re.d),i=null==n?void 0:n.find((t=>{var a;return(null==e||null===(a=e.defaultConnectors)||void 0===a?void 0:a.includes(t.id))&&".email"===t.actionTypeId}));if(e){const{certAgeThreshold:t,certExpirationThreshold:n,heartbeatIndices:r}=e,l=(null!=r&&r.includes(" ")?Bl:"")||(null!=r&&r.match(/^\S+$/)?"":Nl),o=co(t);return{isFormDirty:a,errors:{heartbeatIndices:l,expirationThresholdError:co(n),ageThresholdError:o,invalidEmail:i?oo(e.defaultConnectors,e.defaultEmail):void 0}}}return{isFormDirty:a,errors:null}})(l),d=!(s&&Object.values(s).find((e=>!!e))),m=Object(n.useCallback)((e=>{l&&o({...l,...e})}),[l]),p=!(null===(e=Object(f.useKibana)().services)||void 0===e||null===(t=e.application)||void 0===t||!t.capabilities.uptime.configureSettings)||!1,g=a.loading||!p,h=p?null:i.a.createElement(i.a.Fragment,null,i.a.createElement(k.EuiCallOut,{title:zl.editNoticeTitle},zl.editNoticeText),i.a.createElement(k.EuiSpacer,{size:"s"}));return i.a.createElement(i.a.Fragment,null,i.a.createElement(k.EuiFlexGroup,null,i.a.createElement(k.EuiFlexItem,{grow:!1},h)),i.a.createElement(k.EuiFlexGroup,null,i.a.createElement(k.EuiFlexItem,{grow:!1},i.a.createElement("div",{id:"settings-form"},i.a.createElement(k.EuiForm,null,i.a.createElement(Ll,{loading:a.loading,onChange:m,formFields:l,fieldErrors:s,isDisabled:g}),i.a.createElement(ql,{loading:a.loading,formFields:l,onChange:m,fieldErrors:s,isDisabled:g}),i.a.createElement(Rl,{loading:a.loading,onChange:m,formFields:l,fieldErrors:s,isDisabled:g}))))),i.a.createElement(ro,{onApply:e=>{e.preventDefault(),l&&r(Object(ti.d)(l))},isFormDirty:u,isFormDisabled:g,isFormValid:d,onCancel:()=>o(a.settings?{...a.settings}:null),errors:s}))},po=()=>{const e=Object(d.useHistory)();return i.a.createElement(k.EuiFlexGroup,{justifyContent:"center"},i.a.createElement(k.EuiFlexItem,{grow:!1},i.a.createElement(k.EuiPanel,null,i.a.createElement(k.EuiEmptyPrompt,{iconType:"faceNeutral",iconColor:"subdued",title:i.a.createElement(k.EuiTitle,{size:"m"},i.a.createElement("h3",null,i.a.createElement(H.FormattedMessage,{defaultMessage:"Page not found",id:"xpack.uptime.emptyStateError.notFoundPage"}))),body:i.a.createElement(k.EuiButton,{"data-test-subj":"syntheticsNotFoundPageBackToHomeButton",href:e.createHref({pathname:"/"})},i.a.createElement(H.FormattedMessage,{defaultMessage:"Back to home",id:"xpack.uptime.notFountPage.homeLinkText"}))}))))},go=({monitors:e})=>i.a.createElement("span",null,e.map(((e,t)=>i.a.createElement("span",{key:e.id},t>0&&", ",i.a.createElement(k.EuiToolTip,{content:e.url},i.a.createElement(un,{monitorId:e.id,linkParameters:""},e.name||e.id)))))),ho=_e()("div").withConfig({displayName:"WrapFieldSearch",componentId:"sc-5pediy-0"})(["max-width:700px;"]),fo=({setSearch:e})=>{const[t,a]=Object(n.useState)("");return Kr()((()=>{e(t)}),350,[t]),i.a.createElement(ho,null,i.a.createElement(k.EuiFieldSearch,{"data-test-subj":"uptimeCertSearch",placeholder:Aa,onChange:e=>{a(e.target.value)},isClearable:!0,"aria-label":Aa,fullWidth:!0}))},bo=_e()(k.EuiText).withConfig({displayName:"DateText",componentId:"sc-1mo82es-0"})(["display:inline-block;margin-left:5px;"]),Eo=({cert:e})=>{const t=Object(Y.a)(null==e?void 0:e.not_after,null==e?void 0:e.not_before),a=Object(c.useSelector)(te.z),n=rt()(null==e?void 0:e.not_after).fromNow();if(t===u.c.EXPIRING_SOON)return i.a.createElement(k.EuiHealth,{color:"warning"},i.a.createElement("span",null,Fa,"  ",i.a.createElement(bo,{color:"subdued",size:"xs"},n)));if(t===u.c.EXPIRED)return i.a.createElement(k.EuiHealth,{color:"danger"},i.a.createElement("span",null,Ta,"  ",i.a.createElement(bo,{color:"subdued",size:"xs"},n)));if(t===u.c.TOO_OLD){var r;const t=null===(r=a.settings)||void 0===r?void 0:r.certAgeThreshold,n=rt()(null==e?void 0:e.not_before).add(t,"days").fromNow();return i.a.createElement(k.EuiHealth,{color:"danger"},i.a.createElement("span",null,Ra,i.a.createElement(bo,{color:"subdued",size:"xs"},n)))}const l=rt()(null==e?void 0:e.not_after).fromNow(!0);return i.a.createElement(k.EuiHealth,{color:"success"},i.a.createElement("span",null,Ia,"  ",i.a.createElement(bo,{color:"subdued",size:"xs"},i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.certs.status.ok.label",defaultMessage:" for {okRelativeDate}",description:'Denotes an amount of time for which a cert is valid. Example: "OK for 2 days"',values:{okRelativeDate:l}}))))},vo=_e.a.span.withConfig({displayName:"StyledSpan",componentId:"sc-1wgum4j-0"})(["margin-right:8px;"]),yo=({cert:e})=>{var t,a,n,r;const l=({text:e,val:t})=>i.a.createElement(vo,{"data-test-subj":t,className:"eui-textNoWrap"},i.a.createElement(k.EuiToolTip,{content:t},i.a.createElement(k.EuiButtonEmpty,{"data-test-subj":"observabilitySolutionShaComponentButton",flush:"right"},e," ")),i.a.createElement(k.EuiCopy,{textToCopy:null!=t?t:""},(e=>i.a.createElement(k.EuiButtonIcon,{"data-test-subj":"observabilitySolutionShaComponentButton","aria-label":Ga,onClick:e,iconType:"copy",title:Ga}))));return i.a.createElement("span",null,i.a.createElement(l,{text:"SHA 1",val:null!==(t=null==e||null===(a=e.sha1)||void 0===a?void 0:a.toUpperCase())&&void 0!==t?t:""}),i.a.createElement(l,{text:"SHA 256",val:null!==(n=null==e||null===(r=e.sha256)||void 0===r?void 0:r.toUpperCase())&&void 0!==n?n:""}))},xo=({page:e,certificates:t,sort:a,onChange:n})=>{var r,l;const o={pageIndex:e.index,pageSize:e.size,totalItemCount:null!==(r=null==t?void 0:t.total)&&void 0!==r?r:0,pageSizeOptions:[10,25,50,100],showPerPageOptions:!0},s=[{field:"not_after",name:Da,sortable:!0,render:(e,t)=>i.a.createElement(Eo,{cert:t})},{name:Pa,field:"common_name",sortable:!0},{name:za,field:"monitors",render:e=>i.a.createElement(go,{monitors:e})},{name:Na,field:"issuer",sortable:!0},{name:Ba,field:"not_after",sortable:!0,render:e=>rt()(e).format("L LT")},{name:_a,field:"not_before",sortable:!0,render:e=>rt()().diff(rt()(e),"days")+" "+$a},{name:Ha,field:"sha256",render:(e,t)=>i.a.createElement(yo,{cert:t})}];return i.a.createElement(k.EuiBasicTable,{loading:t.loading,columns:s,items:null!==(l=null==t?void 0:t.certs)&&void 0!==l?l:[],pagination:o,onChange:e=>{n(e.page,e.sort)},sorting:{sort:{field:a.field,direction:a.direction}},noItemsMessage:t.loading?Wa:i.a.createElement("span",{"data-test-subj":"uptimeCertsEmptyMessage"},Ua)})};var ko=a(35),So=a.n(ko),wo=a(85),jo=function(e){return e.issuer="tls.server.x509.issuer.common_name",e.not_after="tls.server.x509.not_after",e.not_before="tls.server.x509.not_before",e.common_name="tls.server.x509.subject.common_name",e}(jo||{});const Oo="not_after",Mo="now-20m";function Co(e){var t,a;return null!==(t=null===(a=So.a.parse(e))||void 0===a?void 0:a.valueOf())&&void 0!==t?t:e}const Io=e=>{var t,a,n,i,r;return{certs:null===(t=e.hits)||void 0===t||null===(a=t.hits)||void 0===a?void 0:a.map((e=>{var t,a,n,i,r,l,o,s,u,c,d,m,p,g;const h=e._source,f=null===(t=h.tls)||void 0===t?void 0:t.server,b=null==f||null===(a=f.x509)||void 0===a?void 0:a.not_after,E=null==f||null===(n=f.x509)||void 0===n?void 0:n.not_before,v=null==f||null===(i=f.x509)||void 0===i||null===(r=i.issuer)||void 0===r?void 0:r.common_name,y=null==f||null===(l=f.x509)||void 0===l||null===(o=l.subject)||void 0===o?void 0:o.common_name,x=null==f||null===(s=f.hash)||void 0===s?void 0:s.sha1,k=null==f||null===(u=f.hash)||void 0===u?void 0:u.sha256;return{monitors:e.inner_hits.monitors.hits.hits.map((e=>{var t;const a=e._source;return{name:null==a?void 0:a.monitor.name,id:null==a?void 0:a.monitor.id,configId:null==a?void 0:a.config_id,url:null==a||null===(t=a.url)||void 0===t?void 0:t.full}})),issuer:v,sha1:x,sha256:k,not_after:b,not_before:E,common_name:y,monitorName:null==h||null===(c=h.monitor)||void 0===c?void 0:c.name,monitorUrl:null==h||null===(d=h.url)||void 0===d?void 0:d.full,monitorType:null==h||null===(m=h.monitor)||void 0===m?void 0:m.type,locationName:null==h||null===(p=h.observer)||void 0===p||null===(g=p.geo)||void 0===g?void 0:g.name}})),total:null!==(n=null===(i=e.aggregations)||void 0===i||null===(r=i.total)||void 0===r?void 0:r.value)&&void 0!==n?n:0}};var To=a(112);const Fo="xpack.uptime.certList.pageSize",Lo=()=>{var e;const t=parseInt(null!==(e=localStorage.getItem(Fo))&&void 0!==e?e:"",10);return isNaN(t)?10:t},Ao=()=>{Object(F.useTrackPageview)({app:"uptime",path:"certificates"}),Object(F.useTrackPageview)({app:"uptime",path:"certificates",delay:15e3}),Z([{text:"Certificates"}]);const[e,t]=Object(n.useState)({index:0,size:Lo()}),[a,r]=Object(n.useState)({field:"not_after",direction:"asc"}),[l,o]=Object(n.useState)(""),s=Object(c.useDispatch)();Object(n.useEffect)((()=>{s(Object(ti.a)())}),[s]);const u=(({pageIndex:e,size:t=20,search:a,sortBy:i=Oo,direction:r="asc"})=>{var l,o;const s=Object(c.useSelector)(te.z),{lastRefresh:u}=Object(n.useContext)(L.a),d=(({monitorIds:e,pageIndex:t,search:a,notValidBefore:n,notValidAfter:i,size:r=20,to:l="now",from:o=Mo,sortBy:s=Oo,direction:u="asc",filters:c})=>{const d=jo[s];return{from:t*r,size:r,sort:[{[d]:{order:u}}],query:{bool:{...a?{minimum_should_match:1,should:[{multi_match:{query:escape(a),type:"phrase_prefix",fields:["monitor.id.text","monitor.name.text","url.full.text","tls.server.x509.subject.common_name.text","tls.server.x509.issuer.common_name.text"]}}]}:{},filter:[wo.c,wo.b,...c?[c]:[],...e&&e.length>0?[{terms:{"monitor.id":e}}]:[],{exists:{field:"tls.server.hash.sha256"}},{range:{"monitor.timespan":{gte:Co(o),lte:Co(l)}}},{bool:{minimum_should_match:1,should:[...n?[{range:{"tls.certificate_not_valid_before":{lte:Co(n)}}}]:[],...i?[{range:{"tls.certificate_not_valid_after":{lte:Co(i)}}}]:[]]}}]}},_source:["monitor.id","monitor.name","monitor.type","url.full","observer.geo.name","tls.server.x509.issuer.common_name","tls.server.x509.subject.common_name","tls.server.hash.sha1","tls.server.hash.sha256","tls.server.x509.not_after","tls.server.x509.not_before"],collapse:{field:"tls.server.hash.sha256",inner_hits:{_source:{includes:["monitor.id","monitor.name","url.full","config_id"]},collapse:{field:"monitor.id"},name:"monitors",sort:[{"monitor.id":"asc"}]}},aggs:{total:{cardinality:{field:"tls.server.hash.sha256"}}}}})({pageIndex:e,size:t,search:a,sortBy:i,direction:r,to:"now",from:Mo}),m=Object(F.createEsParams)({index:null===(l=s.settings)||void 0===l?void 0:l.heartbeatIndices,body:d}),{data:p,loading:g}=Object(F.useEsSearch)(m,[null===(o=s.settings)||void 0===o?void 0:o.heartbeatIndices,t,e,u,a,i,r],{name:"getTLSCertificates"});return p?{...Io(p),loading:g}:{certs:[],total:0,loading:g}})({search:l,size:e.size,pageIndex:e.index,sortBy:a.field,direction:a.direction});return Object(n.useEffect)((()=>{s(Object(To.c)({total:u.total}))}),[u.total,s]),i.a.createElement(i.a.Fragment,null,i.a.createElement(k.EuiSpacer,{size:"m"}),i.a.createElement(fo,{setSearch:o}),i.a.createElement(k.EuiSpacer,{size:"m"}),i.a.createElement(xo,{page:e,onChange:(e,a)=>{t(e),r(a),localStorage.setItem(Fo,e.size.toString())},sort:a,certificates:u}))},Do=_e()(k.EuiButtonIcon).withConfig({displayName:"OverviewPageLinkButtonIcon",componentId:"sc-1fhewei-0"})(["margin-top:12px;"]),Ro=({dataTestSubj:e,direction:t,pagination:a})=>{const[,n]=Object(Y.g)(),r="prev"===t?"arrowLeft":"arrowRight",l="next"===t?o.i18n.translate("xpack.uptime.overviewPageLink.next.ariaLabel",{defaultMessage:"Next page of results"}):o.i18n.translate("xpack.uptime.overviewPageLink.prev.ariaLabel",{defaultMessage:"Prev page of results"}),s=o.i18n.translate("xpack.uptime.overviewPageLink.disabled.ariaLabel",{defaultMessage:"A disabled pagination button indicating that there cannot be any further navigation in the monitors list."});return i.a.createElement(Do,{color:"text",onClick:()=>{n({pagination:a})},"data-test-subj":e,iconType:r,"aria-label":a?l:s,isDisabled:!a})},Po=o.i18n.translate("xpack.uptime.monitorList.statusColumnLabel",{defaultMessage:"Status"}),zo=o.i18n.translate("xpack.uptime.monitorList.nameColumnLabel",{defaultMessage:"Name"}),No=o.i18n.translate("xpack.uptime.monitorList.monitorHistoryColumnLabel",{defaultMessage:"Downtime history"}),Bo=o.i18n.translate("xpack.uptime.monitorList.tlsColumnLabel",{defaultMessage:"TLS Certificate"}),_o=e=>o.i18n.translate("xpack.uptime.monitorList.expandDrawerButton.ariaLabel",{defaultMessage:"Expand row for monitor with ID {id}",description:"The user can click a button on this table and expand further details.",values:{id:e}}),$o=o.i18n.translate("xpack.uptime.monitorList.noItemForSelectedFiltersMessage",{defaultMessage:"No monitors found for selected filter criteria",description:"This message is show if there are no monitors in the table and some filter or search criteria exists"}),Ho=o.i18n.translate("xpack.uptime.monitorList.loading",{defaultMessage:"Loading...",description:"Shown when the monitor list is waiting for a server response"}),Go=o.i18n.translate("xpack.uptime.monitorList.noItemMessage",{defaultMessage:"No uptime monitors found",description:"This message is shown if the monitors table is rendered but has no items."}),Uo=o.i18n.translate("xpack.uptime.monitorList.statusAlert.label",{defaultMessage:"Status alert"}),Wo=({setIsOpen:e,size:t})=>i.a.createElement(k.EuiButtonEmpty,{color:"text","data-test-subj":"xpack.uptime.monitorList.pageSizeSelect.popoverOpen",iconType:"arrowDown",iconSide:"right",onClick:()=>e(!0)},i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.monitorList.pageSizePopoverButtonText",defaultMessage:"Rows per page: {size}",values:{size:t}})),qo=[{"data-test-subj":"xpack.uptime.monitorList.pageSizeSelect.sizeSelectItem10",key:"10 rows",numRows:10},{"data-test-subj":"xpack.uptime.monitorList.pageSizeSelect.sizeSelectItem25",key:"25 rows",numRows:25},{"data-test-subj":"xpack.uptime.monitorList.pageSizeSelect.sizeSelectItem50",key:"50 rows",numRows:50},{"data-test-subj":"xpack.uptime.monitorList.pageSizeSelect.sizeSelectItem100",key:"100 rows",numRows:100}],Vo=({size:e,setSize:t})=>{const[,a]=Object(Y.g)();return Object(n.useEffect)((()=>{localStorage.setItem("xpack.uptime.monitorList.pageSize",e.toString())}),[e]),i.a.createElement(Jo,{size:e,setSize:t,setUrlParams:a})},Jo=({size:e,setSize:t,setUrlParams:a})=>{const[r,l]=Object(n.useState)(!1);return i.a.createElement(k.EuiPopover,{button:i.a.createElement(Wo,{setIsOpen:e=>l(e),size:e}),isOpen:r,closePopover:()=>l(!1),anchorPosition:"upLeft"},i.a.createElement(k.EuiContextMenuPanel,{items:qo.map((({"data-test-subj":n,key:r,numRows:o})=>i.a.createElement(k.EuiContextMenuItem,{"data-test-subj":n,key:r,icon:e===o?"check":"empty",onClick:()=>{t(o),a({pagination:void 0}),l(!1)}},i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.monitorList.pageSizeSelect.numRowsItemMessage",defaultMessage:"{numRows} rows",values:{numRows:o}}))))}))},Ko=({error:e,monitorId:t,timestamp:a})=>{const n=Object(Y.d)();n.statusFilter="down";const r=K(n,!0),l=a?rt()(new Date(a).valueOf()).fromNow():"";return i.a.createElement(k.EuiDescriptionList,null,i.a.createElement(k.EuiDescriptionListTitle,null,o.i18n.translate("xpack.uptime.monitorList.mostRecentError.title",{defaultMessage:"Most recent error ({timestamp})",values:{timestamp:l},description:"Most Recent Error title in Monitor List Expanded row"})),i.a.createElement(k.EuiDescriptionListDescription,null,i.a.createElement(un,{monitorId:t,linkParameters:r},null==e?void 0:e.message)))},Yo=({location:e,textSize:t})=>e?i.a.createElement(k.EuiText,{size:t||"s",grow:!1},e):i.a.createElement(k.EuiLink,{"data-test-subj":"syntheticsLocationLinkAddLocationLink",href:"https://www.elastic.co/guide/en/beats/heartbeat/current/configuration-observer-options.html",target:"_blank"},o.i18n.translate("xpack.uptime.monitorList.geoName.helpLinkAnnotation",{defaultMessage:"Add location",description:"Text that instructs the user to navigate to our docs to add a geographic location to their data"})),Xo=({locationNames:e,status:t})=>{const a=t===u.x.UP?"success":"danger";let n=[...e];e.has(u.A)&&(n=n.filter((e=>e!==u.A)),n.push(u.A));const r=n.join(", ");return i.a.createElement("span",null,i.a.createElement(k.EuiBadge,{color:a},Ht(t)),i.a.createElement(k.EuiSpacer,{size:"xs"}),i.a.createElement("span",{"aria-label":o.i18n.translate("xpack.uptime.monitorList.drawer.statusRowLocationList",{defaultMessage:'A list of locations with "{status}" status when last checked.',values:{status:t}})},r||"--"),i.a.createElement(k.EuiSpacer,{size:"xs"}))},Zo=({summaryPings:e})=>{const t=new Set,a=new Set;e.forEach((e=>{var n,i,r;const l=null!==(n=null===(i=e.observer)||void 0===i||null===(r=i.geo)||void 0===r?void 0:r.name)&&void 0!==n?n:u.A;e.monitor.status===u.x.UP?t.add(l):e.monitor.status===u.x.DOWN&&a.add(l)}));const n=new Set([...t].filter((e=>!a.has(e))));return i.a.createElement(i.a.Fragment,null,i.a.createElement(k.EuiFlexGroup,{style:{maxWidth:1e3}},a.size>0&&i.a.createElement(k.EuiFlexItem,null,i.a.createElement(Xo,{locationNames:a,status:u.x.DOWN})),n.size>0&&i.a.createElement(k.EuiFlexItem,null,i.a.createElement(Xo,{locationNames:n,status:u.x.UP}))),(a.has(u.A)||t.has(u.A))&&i.a.createElement(i.a.Fragment,null,i.a.createElement(k.EuiSpacer,{size:"s"}),i.a.createElement(k.EuiCallOut,{color:"warning"},i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.monitorList.drawer.missingLocation",defaultMessage:"Some heartbeat instances do not have a location defined. {link} to your heartbeat configuration.",values:{link:i.a.createElement(Yo,null)}})),i.a.createElement(k.EuiSpacer,{size:"s"})))},Qo=({ariaLabel:e,href:t,iconType:a,message:n,tooltipContent:r})=>void 0===t?i.a.createElement(k.EuiFlexGroup,{responsive:!1},i.a.createElement(k.EuiFlexItem,{grow:!1},i.a.createElement(k.EuiToolTip,{content:o.i18n.translate("xpack.uptime.integrationLink.missingDataMessage",{defaultMessage:"Required data for this integration was not found."})},i.a.createElement(k.EuiIcon,{type:a}))),i.a.createElement(k.EuiFlexItem,null,i.a.createElement(k.EuiText,{color:"subdued"},n))):i.a.createElement(k.EuiLink,{"data-test-subj":"syntheticsIntegrationLinkLink","aria-label":e,href:t},i.a.createElement(k.EuiFlexGroup,{responsive:!1},i.a.createElement(k.EuiFlexItem,{grow:!1},i.a.createElement(k.EuiToolTip,{content:r,position:"top"},i.a.createElement(k.EuiIcon,{type:a}))),i.a.createElement(k.EuiFlexItem,null,n))),es=({summary:e})=>{const{basePath:t,dateRangeStart:a,dateRangeEnd:r,isApmAvailable:l,isInfraAvailable:s,isLogsAvailable:u}=Object(n.useContext)(L.c),{domain:c,podUid:d,containerId:m,ip:p}=(e=>{var t,a,n,i,r,l,o,s,u;const c=null!==(t=null===(a=e.state.url)||void 0===a?void 0:a.domain)&&void 0!==t?t:"",d=null===(n=e.state.summaryPings)||void 0===n?void 0:n[0];return{domain:c,podUid:null!==(i=null==d||null===(r=d.kubernetes)||void 0===r||null===(l=r.pod)||void 0===l?void 0:l.uid)&&void 0!==i?i:void 0,containerId:null!==(o=null==d||null===(s=d.container)||void 0===s?void 0:s.id)&&void 0!==o?o:void 0,ip:null!==(u=null==d?void 0:d.monitor.ip)&&void 0!==u?u:void 0}})(e);return l||s||u?i.a.createElement(k.EuiFlexGroup,{direction:"column"},l?i.a.createElement(k.EuiFlexItem,null,i.a.createElement(Qo,{ariaLabel:o.i18n.translate("xpack.uptime.apmIntegrationAction.description",{defaultMessage:"Search APM for this monitor",description:"This value is shown to users when they hover over an icon that will take them to the APM app."}),href:Object($e.f)(e,t,a,r),iconType:"apmApp",message:o.i18n.translate("xpack.uptime.apmIntegrationAction.text",{defaultMessage:"Show APM Data",description:"A message explaining that when the user clicks the associated link, it will navigate to the APM app"}),tooltipContent:o.i18n.translate("xpack.uptime.monitorList.observabilityIntegrationsColumn.apmIntegrationLink.tooltip",{defaultMessage:'Click here to check APM for the domain "{domain}" or explicitly defined "service name".',description:"A messsage shown in a tooltip explaining that the nested anchor tag will navigate to the APM app and search for the given URL domain or explicitly defined service name.",values:{domain:c}})})):null,s?i.a.createElement(i.a.Fragment,null,i.a.createElement(k.EuiFlexItem,null,i.a.createElement(Qo,{ariaLabel:o.i18n.translate("xpack.uptime.monitorList.infraIntegrationAction.ip.ariaLabel",{defaultMessage:"Check Infrastructure UI for this montor's ip address",description:"This value is shown as the aria label value for screen readers."}),href:Object($e.d)(e,t),iconType:"metricsApp",message:o.i18n.translate("xpack.uptime.monitorList.infraIntegrationAction.ip.message",{defaultMessage:"Show host metrics",description:"A message explaining that this link will take the user to the Infrastructure UI, filtered for this monitor's IP Address"}),tooltipContent:o.i18n.translate("xpack.uptime.monitorList.infraIntegrationAction.ip.tooltip",{defaultMessage:'Check Infrastructure UI for the IP "{ip}"',values:{ip:Array.isArray(p)?p[0]:p}})})),i.a.createElement(k.EuiFlexItem,null,i.a.createElement(Qo,{ariaLabel:o.i18n.translate("xpack.uptime.monitorList.infraIntegrationAction.kubernetes.description",{defaultMessage:"Check Infrastructure UI for this monitor's pod UID",description:"This value is shown as the aria label value for screen readers."}),href:Object($e.e)(e,t),iconType:"metricsApp",message:o.i18n.translate("xpack.uptime.monitorList.infraIntegrationAction.kubernetes.message",{defaultMessage:"Show pod metrics",description:"A message explaining that this link will take the user to the Infrastructure UI filtered for the monitor Pod UID."}),tooltipContent:o.i18n.translate("xpack.uptime.monitorList.infraIntegrationAction.kubernetes.tooltip",{defaultMessage:'Check Infrastructure UI for pod UID "{podUid}".',values:{podUid:d}})})),i.a.createElement(k.EuiFlexItem,null,i.a.createElement(Qo,{ariaLabel:o.i18n.translate("xpack.uptime.monitorList.infraIntegrationAction.docker.description",{defaultMessage:"Check Infrastructure UI for this monitor's container ID"}),href:Object($e.c)(e,t),iconType:"metricsApp",message:o.i18n.translate("xpack.uptime.monitorList.infraIntegrationAction.container.message",{defaultMessage:"Show container metrics"}),tooltipContent:o.i18n.translate("xpack.uptime.monitorList.infraIntegrationAction.docker.tooltip",{defaultMessage:'Check Infrastructure UI for container ID "{containerId}"',values:{containerId:m}})}))):null,u?i.a.createElement(i.a.Fragment,null,i.a.createElement(k.EuiFlexItem,null,i.a.createElement(Qo,{ariaLabel:o.i18n.translate("xpack.uptime.monitorList.loggingIntegrationAction.ip.description",{defaultMessage:"Check Logging UI for this monitor's ip address",description:"This value is shown as the aria label for screen readers."}),href:Object($e.h)(e,t),iconType:"logsApp",message:o.i18n.translate("xpack.uptime.monitorList.loggingIntegrationAction.ip.message",{defaultMessage:"Show host logs",description:"A message explaining that this link will take the user to the Infrastructure UI filtered for the monitor's IP Address"}),tooltipContent:o.i18n.translate("xpack.uptime.monitorList.loggingIntegrationAction.ip.tooltip",{defaultMessage:'Check Logging UI for the IP "{ip}"',values:{ip:Array.isArray(p)?p[0]:p}})})),i.a.createElement(k.EuiFlexItem,null,i.a.createElement(Qo,{ariaLabel:o.i18n.translate("xpack.uptime.monitorList.loggingIntegrationAction.kubernetes.ariaLabel",{defaultMessage:"Show pod logs"}),href:Object($e.i)(e,t),iconType:"logsApp",message:o.i18n.translate("xpack.uptime.monitorList.loggingIntegrationAction.kubernetes.message",{defaultMessage:"Show pod logs"}),tooltipContent:o.i18n.translate("xpack.uptime.monitorList.loggingIntegrationAction.kubernetes.tooltip",{defaultMessage:'Check for logs for pod UID "{podUid}"',values:{podUid:d}})})),i.a.createElement(k.EuiFlexItem,null,i.a.createElement(Qo,{ariaLabel:o.i18n.translate("xpack.uptime.monitorList.loggingIntegrationAction.container.id",{defaultMessage:"Show container logs"}),href:Object($e.g)(e,t),iconType:"logsApp",message:o.i18n.translate("xpack.uptime.monitorList.loggingIntegrationAction.container.message",{defaultMessage:"Show container logs"}),tooltipContent:o.i18n.translate("xpack.uptime.monitorList.loggingIntegrationAction.container.tooltip",{defaultMessage:'Check Logging UI for container ID "{containerId}"',values:{containerId:m}})}))):null):i.a.createElement(H.FormattedMessage,{defaultMessage:"No integrated applications available",description:"This message is shown when no applications that Uptime links to are enabled in the current space",id:"xpack.uptime.monitorList.integrationGroup.emptyMessage"})},ts=Object(c.connect)((e=>({popoverState:Object(te.i)(e)})),(e=>({togglePopoverIsVisible:t=>e(Object(A.B)(t))})))((({summary:e,popoverState:t,togglePopoverIsVisible:a})=>{var n,r;const l=`${e.monitor_id}_popover`,s=null==e||null===(n=e.state)||void 0===n||null===(r=n.url)||void 0===r?void 0:r.full,u=!!t&&t.open&&t.id===l;return i.a.createElement(k.EuiPopover,{button:i.a.createElement(k.EuiButton,{"aria-label":o.i18n.translate("xpack.uptime.monitorList.observabilityIntegrationsColumn.popoverIconButton.ariaLabel",{defaultMessage:"Opens integrations popover for monitor with url {monitorUrl}",description:"A message explaining that this button opens a popover with links to other apps for a given monitor",values:{monitorUrl:s}}),"data-test-subj":`xpack.uptime.monitorList.actionsPopover.${e.monitor_id}`,onClick:()=>a({id:l,open:!0}),iconType:"arrowDown",iconSide:"right"},o.i18n.translate("xpack.uptime.monitorList.observabilityInvestigateColumn.popoverIconButton.label",{defaultMessage:"Investigate"})),closePopover:()=>a({id:l,open:!1}),id:l,isOpen:u},i.a.createElement(es,{summary:e}))}));var as=a(135);const ns=_e()(k.EuiListGroup).withConfig({displayName:"LinkGroupList",componentId:"sc-19dkml7-0"})(["&&&{a{padding-left:0;padding-top:0;}}"]),is=({monitorAlerts:e,loading:t})=>{const{basePath:a}=Object(n.useContext)(L.c),r=[];return(null!=e?e:[]).forEach(((e,t)=>{r.push({size:"s",label:e.name,href:Object(as.a)(e.id,a),"data-test-subj":"uptimeMonitorListDrawerAlert"+t})})),i.a.createElement(k.EuiDescriptionList,null,i.a.createElement(k.EuiDescriptionListTitle,null,o.i18n.translate("xpack.uptime.monitorList.enabledAlerts.title",{defaultMessage:"Enabled rules",description:"Rules enabled for this monitor"})),i.a.createElement(k.EuiDescriptionListDescription,null,0===r.length&&!t&&i.a.createElement(k.EuiCallOut,{size:"s",title:o.i18n.translate("xpack.uptime.monitorList.enabledAlerts.noAlert",{defaultMessage:"No rules are enabled for this monitor."})}),t?i.a.createElement(k.EuiLoadingSpinner,null):i.a.createElement(ns,{listItems:r,flush:!0})))},rs=({monitorUrl:e})=>i.a.createElement(k.EuiDescriptionList,null,i.a.createElement(k.EuiDescriptionListTitle,null,o.i18n.translate("xpack.uptime.monitorList.drawer.url",{defaultMessage:"Url"})),i.a.createElement(k.EuiDescriptionListDescription,null,i.a.createElement(k.EuiLink,{"data-test-subj":"syntheticsMonitorUrlLink",href:e,target:"_blank",external:!0},e))),ls=({summary:e})=>i.a.createElement(k.EuiDescriptionList,null,i.a.createElement(k.EuiDescriptionListTitle,null,o.i18n.translate("xpack.uptime.monitorList.drawer.mostRecentRun",{defaultMessage:"Most recent test run"})),i.a.createElement(k.EuiDescriptionListDescription,null,i.a.createElement(k.EuiText,{size:"s"},rt()(e.state.timestamp).format("LLL").toString()))),os=_e.a.div.withConfig({displayName:"ContainerDiv",componentId:"sc-15ih87e-0"})(["padding:10px;width:100%;"]);function ss({summary:e,monitorDetails:t,loading:a}){var n,r;const l=(null==e||null===(n=e.state)||void 0===n||null===(r=n.url)||void 0===r?void 0:r.full)||"";return e&&e.state.summaryPings?i.a.createElement(os,null,i.a.createElement(k.EuiFlexGroup,null,i.a.createElement(k.EuiFlexItem,{grow:!0},i.a.createElement(k.EuiFlexGroup,{style:{maxWidth:1e3}},i.a.createElement(k.EuiFlexItem,null,i.a.createElement(rs,{monitorUrl:l})),i.a.createElement(k.EuiFlexItem,null,i.a.createElement(ls,{summary:e})))),i.a.createElement(k.EuiFlexItem,{grow:!1},i.a.createElement(ts,{summary:e}))),i.a.createElement(k.EuiSpacer,{size:"m"}),i.a.createElement(Zo,{summaryPings:e.state.summaryPings}),i.a.createElement(k.EuiSpacer,{size:"s"}),i.a.createElement(is,{loading:a,monitorAlerts:null==t?void 0:t.alerts}),i.a.createElement(k.EuiSpacer,{size:"s"}),t&&t.error&&i.a.createElement(Ko,{error:t.error,monitorId:e.monitor_id,timestamp:t.timestamp})):null}const us=({summary:e})=>{var t;const{lastRefresh:a}=Object(n.useContext)(L.a),r=null==e?void 0:e.monitor_id,{dateRangeStart:l,dateRangeEnd:o}=Object(Y.d)(),s=Object(c.useSelector)((t=>Object(te.p)(t,e))),u=Object(c.useSelector)(te.o),d=Object(c.useDispatch)(),{data:m,loading:p}=Object(c.useSelector)(Re.b),g=(null!==(t=null==m?void 0:m.data)&&void 0!==t?t:[]).find((e=>e.params.search.includes(r)));return Object(n.useEffect)((()=>{d(En.a.get({dateStart:l,dateEnd:o,monitorId:r}))}),[l,o,r,d,g,a]),i.a.createElement(ss,{monitorDetails:s,summary:e,loading:u||p})},cs=_e()(k.EuiFlexGroup).withConfig({displayName:"FlexGroupContainer",componentId:"sc-o7tiyf-0"})(["position:relative;"]),ds=()=>i.a.createElement(cs,{alignItems:"center"},i.a.createElement(k.EuiFlexItem,{grow:!1},i.a.createElement(k.EuiTitle,{size:"xs"},i.a.createElement("h2",null,i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.monitorList.monitoringStatusTitle",defaultMessage:"Monitors"})))),i.a.createElement(k.EuiFlexItem,{grow:!1},i.a.createElement(tt,null))),ms=(e,t={})=>{var a;const n=So.a.parse(e,t);return(null!==(a=null==n?void 0:n.valueOf())&&void 0!==a?a:0)>Date.now()?So.a.parse("now"):n},ps=()=>{var e;const[t,a]=Object(n.useState)(!1),{pingHistogram:r}=Object(c.useSelector)(te.A),l=Object(Y.g)()[1],o=null!==(e=null==r?void 0:r.histogram)&&void 0!==e?e:[],s=null==o?void 0:o[Math.floor(o.length/2)].x,u=null==o?void 0:o[0].x;return i.a.createElement(k.EuiPopover,{button:i.a.createElement(k.EuiButtonEmpty,{"data-test-subj":"syntheticsTroubleshootPopoverButton",onClick:()=>a((e=>!e))},hs),isOpen:t,closePopover:()=>a(!1),anchorPosition:"upCenter"},i.a.createElement(k.EuiPopoverTitle,null,fs),i.a.createElement("div",{style:{width:"300px"}},i.a.createElement(k.EuiText,{size:"s"},i.a.createElement("p",null,i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.monitorList.noMessage.troubleshoot",defaultMessage:"Try using an absolute date range. If monitors appears afterwards, there may be an issue with the system clock where Heartbeat or Kibana is installed."})))),i.a.createElement(k.EuiPopoverFooter,null,i.a.createElement(k.EuiButton,{"data-test-subj":"syntheticsTroubleshootPopoverButton",fullWidth:!0,iconType:"calendar",size:"s",onClick:()=>{s&&u&&l({dateRangeStart:new Date(u).toISOString(),dateRangeEnd:new Date(s).toISOString()})}},gs)))},gs=o.i18n.translate("xpack.uptime.monitorList.troubleshoot.tryDateRange",{defaultMessage:"Apply absolute date range"}),hs=o.i18n.translate("xpack.uptime.monitorList.troubleshoot.whereAreMyMonitors",{defaultMessage:"Where are my monitors?"}),fs=o.i18n.translate("xpack.uptime.monitorList.troubleshoot.systemClockOutOfSync",{defaultMessage:"System clock may be out of sync"}),bs=({loading:e,filters:t})=>{const{statusFilter:a}=Object(Y.d)(),{pingHistogram:n}=Object(c.useSelector)(te.A),r=(null==n?void 0:n.histogram)&&n.histogram.length>0&&!a?i.a.createElement(ps,null):null;return e?i.a.createElement(i.a.Fragment,null," ",Ho):t?i.a.createElement(i.a.Fragment,null,i.a.createElement(k.EuiFlexGroup,{alignItems:"center",gutterSize:"xs"},i.a.createElement(k.EuiFlexItem,{grow:!1},$o),i.a.createElement(k.EuiFlexItem,{grow:!1},r))):i.a.createElement(i.a.Fragment,null,Go,r)},Es=({filters:e,monitorList:{list:t,error:a,loading:r},pageSize:l,setPageSize:s,isPending:u})=>{var d,m,p,g;const[h,f]=Object(n.useState)([]),b=Object(k.useCurrentEuiBreakpoint)(),[E,v]=Object(n.useState)(!1);Kr()((()=>{b&&v(["m","l"].includes(b))}),50,[b]);const y=null!==(d=t.summaries)&&void 0!==d?d:[],{histogramsById:x,minInterval:S}=(({items:e})=>{var t,a;const{dateRangeStart:i,dateRangeEnd:r}=Object(Y.d)(),{lastRefresh:l}=Object(n.useContext)(L.a),{settings:o}=Object(c.useSelector)(te.z),s=(null!=e?e:[]).map((({monitor_id:e})=>e)),{queryParams:u,minInterval:d}=((e,t,a,n)=>{const i=((e,t,a)=>{const n=ms(e),i=ms(t,{roundUp:!0});if(void 0===n)throw Error("Invalid dateRangeStart value");if(void 0===i)throw Error("Invalid dateRangeEnd value");const r=Math.round((i.valueOf()-n.valueOf())/12);return r>0?r:1})(e,t);return{queryParams:{index:n,body:{size:0,query:{bool:{filter:[{range:{"summary.down":{gt:0}}},{terms:{"monitor.id":a}},{range:{"@timestamp":{gte:e,lte:t}}}]}},aggs:{histogram:{date_histogram:{field:"@timestamp",fixed_interval:i+"ms"},aggs:{by_id:{terms:{field:"monitor.id",size:Math.max(a.length,1)},aggs:{totalDown:{sum:{field:"summary.down"}}}}}}}}},minInterval:i}})(i,r,s,(null==o?void 0:o.heartbeatIndices)||""),{data:m,loading:p}=Object(F.useEsSearch)(u,[JSON.stringify(s),l],{name:"getMonitorDownHistory"}),g=(null!==(t=null==m||null===(a=m.aggregations)||void 0===a?void 0:a.histogram.buckets)&&void 0!==t?t:[]).map((e=>{const t={};return e.by_id.buckets.forEach((e=>{t[e.key]=e.totalDown.value})),{byId:t,timestamp:e.key}})),h={};return s.forEach((e=>{const t=[];g.forEach((({byId:a,timestamp:n})=>{t.push({timestamp:n,up:void 0,down:a[e]})})),h[e]={points:t}})),{histogramsById:h,loading:p,minInterval:d}})({items:y}),w=null!==(m=t.nextPagePagination)&&void 0!==m?m:"",j=null!==(p=t.prevPagePagination)&&void 0!==p?p:"",O=e=>{h.includes(e)?f(h.filter((t=>t!==e))):f([...h,e])},M=[{align:"left",field:"state.summary.status",name:Po,mobileOptions:{fullWidth:!0},render:(e,{state:{timestamp:t,summaryPings:a,error:n}})=>i.a.createElement(Ut,{status:e,timestamp:t,summaryPings:null!=a?a:[],summaryError:n})},{align:"left",field:"state.monitor.name",name:zo,mobileOptions:{fullWidth:!0},render:(e,t)=>i.a.createElement(mn,{summary:t}),sortable:!0},{align:"left",field:"state.url.full",name:We,width:"30%",render:e=>i.a.createElement(k.EuiLink,{"data-test-subj":"syntheticsColumnsLink",href:e,target:"_blank",color:"text",external:!0},e)},{align:"left",field:"state.monitor.name",name:qe,width:"12%",render:(e,t)=>i.a.createElement(gn,{summary:t})},{align:"left",field:"state.tls.server.x509",name:Bo,render:e=>i.a.createElement(Ja,{expiry:e})},...E?[]:[{align:"left",field:"monitor_id",name:No,mobileOptions:{show:!1},render:e=>{var t;return i.a.createElement(Gn,{histogramSeries:null==x||null===(t=x[e])||void 0===t?void 0:t.points,minInterval:S})}}],{align:"center",field:"",name:Uo,width:"100px",render:e=>i.a.createElement(rn,{monitorId:e.monitor_id,selectedMonitor:e.state.summaryPings[0]})},...E?[]:[{align:"right",field:"monitor_id",name:"",sortable:!0,isExpander:!0,width:"40px",render:e=>i.a.createElement(k.EuiButtonIcon,{"aria-label":_o(e),"data-test-subj":`xpack.synthetics.monitorList.${e}.expandMonitorDetail`,iconType:h.includes(e)?"arrowUp":"arrowDown",onClick:()=>O(e)})}]];return i.a.createElement(vs,{hasBorder:!0},i.a.createElement(ds,null),i.a.createElement(k.EuiSpacer,{size:"m"}),i.a.createElement(k.EuiBasicTable,{"aria-label":(C=y.length,o.i18n.translate("xpack.uptime.monitorList.table.description",{defaultMessage:"Monitor Status table with columns for Status, Name, URL, IP, Downtime History and Integrations. The table is currently displaying {length} items.",values:{length:C}})),error:(null==a||null===(g=a.body)||void 0===g?void 0:g.message)||(null==a?void 0:a.message),loading:r||u,itemId:"monitor_id",itemIdToExpandedRowMap:h.reduce(((e,t)=>({...e,[t]:i.a.createElement(us,{summary:y.find((({monitor_id:e})=>e===t))})})),{}),items:y,noItemsMessage:i.a.createElement(bs,{loading:Boolean(r||u),filters:e}),columns:M,tableLayout:"auto",rowProps:E?({monitor_id:e})=>({onClick:()=>O(e),"aria-label":_o(e)}):({monitor_id:e})=>({className:void 0})}),i.a.createElement(k.EuiSpacer,{size:"m"}),i.a.createElement(k.EuiFlexGroup,{justifyContent:"spaceBetween",responsive:!1},i.a.createElement(k.EuiFlexItem,{grow:!1},i.a.createElement(Vo,{size:l,setSize:s})),i.a.createElement(k.EuiFlexItem,{grow:!1},i.a.createElement(k.EuiFlexGroup,{responsive:!1},i.a.createElement(k.EuiFlexItem,{grow:!1},i.a.createElement(Ro,{dataTestSubj:"xpack.uptime.monitorList.prevButton",direction:"prev",pagination:j})),i.a.createElement(k.EuiFlexItem,{grow:!1},i.a.createElement(Ro,{dataTestSubj:"xpack.uptime.monitorList.nextButton",direction:"next",pagination:w}))))));var C},vs=Object(T.euiStyled)(k.EuiPanel)`
  &&&  {
  .refresh-row{
    background-color: #f0f4fb;
    -webkit-transition: background-color 3000ms linear;
    -ms-transition: background-color 3000ms linear;
    transition: background-color 3000ms linear;
    }
  }
`;function ys(e,t){return-1!==e.indexOf(t)}const xs=()=>{var e;const t=parseInt(null!==(e=localStorage.getItem("xpack.uptime.monitorList.pageSize"))&&void 0!==e?e:"",10);return isNaN(t)?10:t},ks=e=>{const t=Object(c.useSelector)(te.d),{filterCheck:a,pending:r}=Kn(),[l,o]=Object(n.useState)(xs),s=Object(c.useDispatch)(),[m]=Object(Y.g)(),{dateRangeStart:p,dateRangeEnd:g,pagination:h,statusFilter:f,query:b}=m(),{lastRefresh:E}=Object(n.useContext)(L.a),y=Object(c.useSelector)(te.r);return function(e){const t=Object(d.useHistory)();Object(n.useEffect)((()=>{(function(e){if(!e||!e.body||"Bad Request"!==e.body.error||!e.body.message)return!1;const{message:t}=e.body;return ys(t,"search_phase_execution_exception")||ys(t,"Please use a keyword field instead.")||ys(t,"set fielddata=true")})(e)&&t.push(u.l)}),[e,t])}(y.error),Object(n.useEffect)((()=>{a((()=>s(Object(A.j)({dateRangeStart:p,dateRangeEnd:g,filters:t,pageSize:l,pagination:h,statusFilter:f,query:b}))))}),[s,p,g,t,a,E,l,h,f,b]),Object(n.useEffect)((()=>{s(Re.k.get())}),[s]),Object(n.useEffect)((()=>{s(Re.j.get())}),[s]),i.a.createElement(Es,v()({},e,{monitorList:y,pageSize:l,setPageSize:o,isPending:r}))};var Ss=a(59),ws=a(13);function js({handleDismissDeprecationNotice:e}){var t,a,n;return i.a.createElement(k.EuiCallOut,{title:i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.integration.deprecation.title",defaultMessage:"Migrate your Elastic Synthetics integration monitors"}),color:"warning"},i.a.createElement(k.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},i.a.createElement(k.EuiFlexItem,null,i.a.createElement("span",null,i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.integration.deprecation.content",defaultMessage:"You have at least one monitor configured using the Elastic Synthetics integration. From Elastic 8.8, the integration is deprecated and you can no longer edit these monitors. Please migrate them to Project monitors or add them to the new Synthetics app directly available in Observability. Check our {link} for more details.",values:{link:i.a.createElement(k.EuiLink,{"data-test-subj":"syntheticsIntegrationDeprecationCalloutSyntheticsMigrationDocsLink",target:"_blank",href:null===(t=Object(ws.a)())||void 0===t||null===(a=t.links)||void 0===a||null===(n=a.observability)||void 0===n?void 0:n.syntheticsMigrateFromIntegration,external:!0},i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.integration.deprecation.link",defaultMessage:"Synthetics migration docs"}))}}))),e?i.a.createElement(k.EuiFlexItem,{grow:!1},i.a.createElement(k.EuiButton,{"data-test-subj":"syntheticsIntegrationDeprecationCalloutDismissButton",onClick:e,color:"warning"},i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.integration.deprecation.dismiss",defaultMessage:"Dismiss"}))):null))}const Os="SYNTHETICS_INTEGRATION_DEPRECATION_HAS_BEEN_DISMISSED",Ms=()=>{const e=Object(c.useSelector)(te.r),t="true"===window.sessionStorage.getItem(Os),{data:a,loading:r}=Object(F.useFetcher)((()=>{if(!t&&e.isLoaded)return(async()=>await Ss.a.get(u.a.SYNTHETICS_HAS_INTEGRATION_MONITORS))()}),[e.isLoaded]),l=!r&&a&&a.hasIntegrationMonitors,[o,s]=Object(n.useState)(Boolean(l&&!t));return Object(n.useEffect)((()=>{s(Boolean(l&&!t))}),[l,t]),o?i.a.createElement(i.a.Fragment,null,i.a.createElement(js,{handleDismissDeprecationNotice:()=>{window.sessionStorage.setItem(Os,"true"),s(!1)}}),i.a.createElement(k.EuiSpacer,{size:"s"})):null},Cs=({total:e})=>{const t=1===e?o.i18n.translate("xpack.uptime.snapshot.monitor",{defaultMessage:"Monitor"}):o.i18n.translate("xpack.uptime.snapshot.monitors",{defaultMessage:"Monitors"});return i.a.createElement(k.EuiTitle,{size:"s"},i.a.createElement("h2",null,e," ",t))};var Is=a(64);const Ts=({height:e})=>{const{count:t,loading:a}=(()=>{const{dateRangeStart:e,dateRangeEnd:t,query:a}=Object(Y.d)(),{lastRefresh:i}=Object(n.useContext)(L.a),r=Object(c.useSelector)(te.d),{data:l,loading:o}=Object(F.useFetcher)((()=>Object(Is.i)({query:a,dateRangeStart:e,dateRangeEnd:t,filters:r})),[e,t,r,i,a]);return{count:l||{total:0,up:0,down:0},loading:o}})();return i.a.createElement(Ln,{loading:a,height:e},i.a.createElement(Cs,{total:t.total}),i.a.createElement(k.EuiSpacer,{size:"xs"}),i.a.createElement(Cn,{up:t.up,down:t.down,height:144}))},Fs="160px",Ls=({})=>i.a.createElement(k.EuiPanel,{hasBorder:!0},i.a.createElement(k.EuiFlexGroup,{gutterSize:"l"},i.a.createElement(k.EuiFlexItem,{grow:2},i.a.createElement(Ts,{height:Fs})),i.a.createElement(k.EuiFlexItem,{grow:10},i.a.createElement(Yn,{height:Fs,isResponsive:!0}))));var As=a(145);const Ds=_e()(k.EuiFlexItem).withConfig({displayName:"EuiFlexItemStyled",componentId:"sc-1wykaa8-0"})(["&&{min-width:700px;@media only screen and (max-width:1128px){min-width:500px;}@media only screen and (max-width:630px){min-width:initial;}}"]),Rs=()=>(Object(F.useTrackPageview)({app:"uptime",path:"overview"}),Object(F.useTrackPageview)({app:"uptime",path:"overview",delay:15e3}),Z([{text:ju}]),i.a.createElement(i.a.Fragment,null,i.a.createElement(k.EuiFlexGroup,{direction:"column",gutterSize:"none"},i.a.createElement(k.EuiFlexItem,{grow:!0},i.a.createElement(Ms,null)),i.a.createElement(k.EuiFlexItem,null,i.a.createElement(k.EuiFlexGroup,{gutterSize:"xs",wrap:!0,responsive:!1},i.a.createElement(As.a,null),i.a.createElement(Ds,{grow:!0},i.a.createElement(at.a,null))))),i.a.createElement(k.EuiSpacer,{size:"xs"}),i.a.createElement(Ls,null),i.a.createElement(k.EuiSpacer,{size:"s"}),i.a.createElement(ks,null))),Ps=o.i18n.translate("xpack.uptime.stepList.stepName",{defaultMessage:"Step name"}),zs=o.i18n.translate("xpack.uptime.stepList.collapseRow",{defaultMessage:"Collapse"}),Ns=o.i18n.translate("xpack.uptime.stepList.expandRow",{defaultMessage:"Expand"});function Bs(e,t){switch(t){case"succeeded":return e.success;case"failed":return e.dangerBehindText;default:return"default"}}const _s=({status:e,stepNo:t,isMobile:a})=>{const r=Object(n.useContext)(L.g);return i.a.createElement(k.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},!a&&i.a.createElement(k.EuiFlexItem,{grow:!1},i.a.createElement(k.EuiText,{className:"eui-textNoWrap"},i.a.createElement("strong",null,t,"."))),i.a.createElement(k.EuiFlexItem,{grow:!1},i.a.createElement(k.EuiBadge,{color:Bs(r.colors,e)},function(e){switch(e){case"succeeded":return o.i18n.translate("xpack.uptime.synthetics.statusBadge.succeededMessage",{defaultMessage:"Succeeded"});case"failed":return o.i18n.translate("xpack.uptime.synthetics.statusBadge.failedMessage",{defaultMessage:"Failed"});case"skipped":return o.i18n.translate("xpack.uptime.synthetics.statusBadge.skippedMessage",{defaultMessage:"Skipped"});default:return null}}(e))))},$s=({children:e,checkGroupId:t,stepIndex:a})=>{const n=`/journey/${t}/step/${a}`;return i.a.createElement(an,{"data-test-subj":"step-detail-link",to:n},e)},Hs=o.i18n.translate("xpack.uptime.pingList.synthetics.performanceBreakDown",{defaultMessage:"View performance breakdown"}),Gs=({step:e,compactView:t,allStepsLoaded:a})=>{var n,r,l,o,s;return i.a.createElement(k.EuiFlexGroup,{alignItems:"center",gutterSize:"s",wrap:!0},i.a.createElement(k.EuiFlexItem,{grow:!1},i.a.createElement(Nt,{checkGroup:e.monitor.check_group,initialStepNo:null===(n=e.synthetics)||void 0===n||null===(r=n.step)||void 0===r?void 0:r.index,stepStatus:null===(l=e.synthetics.payload)||void 0===l?void 0:l.status,allStepsLoaded:a})),i.a.createElement(k.EuiFlexItem,{grow:!1,style:{minWidth:80}},i.a.createElement(k.EuiText,{size:t?"s":"m"},null===(o=e.synthetics)||void 0===o||null===(s=o.step)||void 0===s?void 0:s.name)))},Us=({buttonContent:e,children:t,id:a,language:n,overflowHeight:r,initialIsOpen:l=!1})=>t&&a?i.a.createElement(k.EuiAccordion,{id:a,buttonContent:e,initialIsOpen:l},i.a.createElement(k.EuiCodeBlock,{isCopyable:!0,overflowHeight:r,language:n},t)):null,Ws=_e()(k.EuiImage).withConfig({displayName:"StepImage",componentId:"sc-2ifkr6-0"})(["&&&{figcaption{display:none;}objectFit:'cover',objectPosition:'center top',}"]),qs=({stepIndex:e,stepName:t,url:a})=>a?i.a.createElement(Ws,{allowFullScreen:!0,alt:t?o.i18n.translate("xpack.uptime.synthetics.screenshotDisplay.altText",{defaultMessage:'Screenshot for step with name "{stepName}"',values:{stepName:t}}):o.i18n.translate("xpack.uptime.synthetics.screenshotDisplay.altTextWithoutName",{defaultMessage:"Screenshot"}),caption:`Step:${e} ${t}`,hasShadow:!0,url:a}):i.a.createElement(k.EuiLoadingSpinner,{size:"l"}),Vs=({stepIndex:e,stepName:t,url:a,imgRef:n,setUrl:r})=>(Object(Y.b)(n,r,a),a?i.a.createElement(qs,{stepIndex:e,stepName:t,url:a}):i.a.createElement(k.EuiLoadingSpinner,{size:"l"})),Js=({checkGroup:e,isFullScreenshot:t,isScreenshotRef:a,stepIndex:r,stepName:l,lazyLoad:o=!0})=>{var s,u;const c=Object(n.useRef)(null),{colors:{lightestShade:d}}=Object(n.useContext)(L.g),{basePath:m}=Object(n.useContext)(L.c),p=gt()(c,{root:null,rootMargin:"0px",threshold:1}),{lastRefresh:g}=Object(n.useContext)(L.a),[h,f]=Object(n.useState)(!1),b=null==p?void 0:p.isIntersecting;Object(n.useEffect)((()=>{!1===h&&!0===b&&f(!0)}),[h,b,f]);const E=m+`/internal/uptime/journey/screenshot/${e}/${r}`,[v,y]=Object(n.useState)(t?E:void 0),{data:x}=Object(F.useFetcher)((()=>{if(a)return Object(He.e)(E)}),[m,e,E,r,a,g]),S=Object(n.useMemo)((()=>{if(Object(ht.q)(x)){const{height:e,width:t}=x.ref.screenshotRef.screenshot_ref;return{height:e,width:t}}}),[x]),w=h||!o;return i.a.createElement("div",{ref:c,style:{backgroundColor:d,maxWidth:Math.min(640,null!==(s=null==S?void 0:S.width)&&void 0!==s?s:Number.MAX_VALUE),maxHeight:null!==(u=null==S?void 0:S.height)&&void 0!==u?u:void 0}},w&&t&&i.a.createElement(qs,{stepName:l,stepIndex:r,url:v}),w&&a&&Object(ht.q)(x)&&i.a.createElement(Vs,{imgRef:x,stepName:l,stepIndex:r,setUrl:y,url:v}),!t&&!a&&i.a.createElement(k.EuiFlexGroup,{alignItems:"center",direction:"column",style:{paddingTop:"32px"},"data-test-subj":"stepScreenshotImageUnavailable"},i.a.createElement(k.EuiFlexItem,{grow:!1},i.a.createElement(k.EuiIcon,{color:"subdued",size:"xxl",type:"image"})),i.a.createElement(k.EuiFlexItem,{grow:!1},i.a.createElement(k.EuiText,null,i.a.createElement("strong",null,i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.synthetics.screenshot.noImageMessage",defaultMessage:"No image available"}))))))},Ks=T.euiStyled.div`
  margin-bottom: ${e=>e.theme.eui.euiSizeXS};
  font-size: ${({theme:e})=>e.eui.euiFontSizeS};
`,Ys=({lastSuccessfulCheck:e})=>{var t;return i.a.createElement("span",null,i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.synthetics.executedStep.screenshot.successfulLink",defaultMessage:"Screenshot from {link}",values:{link:i.a.createElement(tn,{to:`/journey/${null==e||null===(t=e.monitor)||void 0===t?void 0:t.check_group}/steps`,className:"eui-displayInlineBlock"},i.a.createElement(Ks,null,i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.synthetics.executedStep.screenshot.success",defaultMessage:"last successful check"})))}}))},Xs=T.euiStyled.div`
  margin-bottom: ${e=>e.theme.eui.euiSizeXS};
  font-size: ${({theme:e})=>e.eui.euiFontSizeS};
  color: ${({theme:e})=>e.eui.euiColorDarkShade};
`,Zs=({step:e})=>{var t,a,n,r,l,o,s,u,c,d,m,p,g,h,f,b,E,v;const y="succeeded"===(null===(t=e.synthetics)||void 0===t||null===(a=t.payload)||void 0===a?void 0:a.status),{data:x}=Object(F.useFetcher)((()=>{var t,a,n,i;if(!y)return Object(He.c)({timestamp:e["@timestamp"],monitorId:e.monitor.id,stepIndex:null===(t=e.synthetics)||void 0===t||null===(a=t.step)||void 0===a?void 0:a.index,location:null===(n=e.observer)||void 0===n||null===(i=n.geo)||void 0===i?void 0:i.name})}),[e._id,e["@timestamp"]]),S=x;return i.a.createElement(k.EuiFlexGroup,null,i.a.createElement(k.EuiFlexItem,null,i.a.createElement(Xs,null,"succeeded"!==(null===(n=e.synthetics)||void 0===n||null===(r=n.payload)||void 0===r?void 0:r.status)?i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.synthetics.executedStep.screenshot.notSucceeded",defaultMessage:"Screenshot for {status} check",values:{status:null===(l=e.synthetics)||void 0===l||null===(o=l.payload)||void 0===o?void 0:o.status}}):i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.synthetics.executedStep.screenshot.not",defaultMessage:"Screenshot"})),i.a.createElement(Js,{checkGroup:e.monitor.check_group,isScreenshotRef:Boolean(null===(s=e.synthetics)||void 0===s?void 0:s.isScreenshotRef),isFullScreenshot:Boolean(null===(u=e.synthetics)||void 0===u?void 0:u.isFullScreenshot),stepIndex:null===(c=e.synthetics)||void 0===c||null===(d=c.step)||void 0===d?void 0:d.index,stepName:null===(m=e.synthetics)||void 0===m||null===(p=m.step)||void 0===p?void 0:p.name,lazyLoad:!1}),i.a.createElement(k.EuiSpacer,{size:"xs"}),i.a.createElement(Xs,null,Gt(rt()(e["@timestamp"])))),!y&&(null==S?void 0:S.monitor)&&i.a.createElement(k.EuiFlexItem,null,i.a.createElement(Ys,{lastSuccessfulCheck:S}),i.a.createElement(Js,{checkGroup:S.monitor.check_group,isScreenshotRef:Boolean(null===(g=S.synthetics)||void 0===g?void 0:g.isScreenshotRef),isFullScreenshot:Boolean(null===(h=S.synthetics)||void 0===h?void 0:h.isFullScreenshot),stepIndex:null===(f=e.synthetics)||void 0===f||null===(b=f.step)||void 0===b?void 0:b.index,stepName:null===(E=e.synthetics)||void 0===E||null===(v=E.step)||void 0===v?void 0:v.name,lazyLoad:!1}),i.a.createElement(k.EuiSpacer,{size:"xs"}),i.a.createElement(Xs,null,Gt(rt()(S.timestamp)))))},Qs=T.euiStyled.div`
  margin-bottom: ${e=>e.theme.eui.euiSizeXS};
  font-size: ${({theme:e})=>e.eui.euiFontSizeS};
  color: ${({theme:e})=>e.eui.euiColorDarkShade};
`,eu=T.euiStyled.div`
  font-weight: bold;
  font-size:${({theme:e})=>e.eui.euiFontSizeM};
  margin-bottom: ${e=>e.theme.eui.euiSizeM};
`,tu=T.euiStyled.div`
  padding: '8px';
  max-width: 1000px;
  width: 100%;
`,au=({loading:e,step:t,index:a,browserConsoles:n})=>{var r,l,s,u,c,d,m,p,g,h,f,b,E,v,y,x;const S="succeeded"===(null===(r=t.synthetics)||void 0===r||null===(l=r.payload)||void 0===l?void 0:l.status);return i.a.createElement(tu,null,e?i.a.createElement(k.EuiLoadingSpinner,null):i.a.createElement(i.a.Fragment,null,i.a.createElement(k.EuiSpacer,{size:"s"}),(null===(s=t.synthetics)||void 0===s||null===(u=s.error)||void 0===u?void 0:u.message)&&i.a.createElement(k.EuiText,null,i.a.createElement(Qs,null,o.i18n.translate("xpack.uptime.synthetics.executedStep.errorHeading",{defaultMessage:"Error message"})),i.a.createElement(eu,null,null===(c=t.synthetics)||void 0===c||null===(d=c.error)||void 0===d?void 0:d.message)),i.a.createElement(k.EuiSpacer,null),i.a.createElement(Us,{id:(null===(m=t.synthetics)||void 0===m||null===(p=m.step)||void 0===p?void 0:p.name)+String(a),buttonContent:o.i18n.translate("xpack.uptime.synthetics.executedStep.scriptHeading.label",{defaultMessage:"Script executed at this step"}),overflowHeight:360,language:"javascript",initialIsOpen:!S},null===(g=t.synthetics)||void 0===g||null===(h=g.payload)||void 0===h?void 0:h.source),i.a.createElement(k.EuiSpacer,null),i.a.createElement(Us,{id:(null===(f=t.synthetics)||void 0===f||null===(b=f.step)||void 0===b?void 0:b.name)+String(a),buttonContent:o.i18n.translate("xpack.uptime.synthetics.executedStep.consoleOutput.label",{defaultMessage:"Console output"}),overflowHeight:360,language:"javascript",initialIsOpen:!S},null==n?void 0:n.join("\n")),i.a.createElement(k.EuiSpacer,null),i.a.createElement(Zs,{step:t}),i.a.createElement(k.EuiSpacer,null),i.a.createElement(Us,{id:`${null===(E=t.synthetics)||void 0===E||null===(v=E.step)||void 0===v?void 0:v.name}_stack`,buttonContent:o.i18n.translate("xpack.uptime.synthetics.executedStep.stackTrace",{defaultMessage:"Stack trace"}),language:"html",overflowHeight:360,initialIsOpen:!S},null===(y=t.synthetics)||void 0===y||null===(x=y.error)||void 0===x?void 0:x.stack)))};function nu(e){return t=>{var a,n;return(null===(a=t.synthetics)||void 0===a||null===(n=a.step)||void 0===n?void 0:n.index)===e}}const iu=({step:e,durationPopoverOpenIndex:t,setDurationPopoverOpenIndex:a,showStepDurationTrend:i=!0,compactView:r=!1})=>{var l,s,u;const c=Object(n.useMemo)((()=>{var t;return o.i18n.translate("xpack.uptime.synthetics.step.duration",{defaultMessage:"{value} seconds",values:{value:In(null===(t=e.synthetics.step)||void 0===t?void 0:t.duration.us,1)}})}),[null===(l=e.synthetics.step)||void 0===l?void 0:l.duration.us]),d=Object(n.useMemo)((()=>n.createElement(Er,{step:e,field:"synthetics.step.duration.us",title:ru})),[e]);if("skipped"===(null===(s=e.synthetics.step)||void 0===s?void 0:s.status))return n.createElement("span",null,"--");if(!i)return n.createElement(k.EuiText,null,c);const m=n.createElement(k.EuiButtonEmpty,{"data-test-subj":"syntheticsStepDurationButton",onMouseEnter:()=>{var t,n;return a(null!==(t=null===(n=e.synthetics.step)||void 0===n?void 0:n.index)&&void 0!==t?t:null)},iconType:r?void 0:"visArea"},c);return n.createElement(k.EuiPopover,{onClick:e=>e.stopPropagation(),isOpen:t===(null===(u=e.synthetics.step)||void 0===u?void 0:u.index),button:m,closePopover:()=>a(null),zIndex:100,ownFocus:!1},d)},ru=o.i18n.translate("xpack.uptime.synthetics.step.durationTrend",{defaultMessage:"Step duration trend"});var lu=a(72);function ou(e){var t;return"step/end"===(null===(t=e.synthetics)||void 0===t?void 0:t.type)}function su(e,t){var a,n,i,r;return"succeeded"===(null===(a=t.synthetics)||void 0===a||null===(n=a.payload)||void 0===n?void 0:n.status)?(e.succeeded+=1,e):"skipped"===(null===(i=t.synthetics)||void 0===i||null===(r=i.payload)||void 0===r?void 0:r.status)?(e.skipped+=1,e):(e.failed+=1,e)}const uu=({data:e,error:t,loading:a,allStepsLoaded:r,showStepDurationTrend:l=!0,compactView:s=!1})=>{const u=e.filter(ou),{expandedRows:c,toggleExpand:m}=(({loading:e,steps:t,allSteps:a})=>{const[r,l]=Object(n.useState)({}),{checkGroupId:o}=Object(d.useParams)(),s=Object(n.useCallback)((e=>a.filter((t=>{var a,n,i;return"journey/browserconsole"===(null===(a=t.synthetics)||void 0===a?void 0:a.type)&&(null===(n=t.synthetics)||void 0===n||null===(i=n.step)||void 0===i?void 0:i.index)===e})).map((e=>{var t,a;return null===(t=e.synthetics)||void 0===t||null===(a=t.payload)||void 0===a?void 0:a.text}))),[a]);return Object(n.useEffect)((()=>{const a={};for(const l of Object.keys(r).map((e=>Number(e)))){const r=t.find(nu(l+1));var n,o;r&&(a[l]=i.a.createElement(au,{step:r,browserConsoles:s(l),index:null===(n=r.synthetics)||void 0===n||null===(o=n.step)||void 0===o?void 0:o.index,loading:e}))}l(a)}),[o,e]),{expandedRows:r,toggleExpand:({journeyStep:t})=>{var a,n;const o=(null===(a=t.synthetics)||void 0===a||null===(n=a.step)||void 0===n?void 0:n.index)-1;var u,c;r[o]?(delete r[o],l({...r})):l({...r,[o]:i.a.createElement(au,{step:t,browserConsoles:s(o+1),index:null===(u=t.synthetics)||void 0===u||null===(c=u.step)||void 0===c?void 0:c.index,loading:e})})}}})({steps:u,allSteps:e,loading:a}),[p,g]=Object(n.useState)(null),{basePath:h}=Object(lu.c)(),f=[{field:"synthetics.payload.status",name:lt,render:(e,t)=>{var a,n;return i.a.createElement(_s,{status:e,stepNo:null===(a=t.synthetics)||void 0===a||null===(n=a.step)||void 0===n?void 0:n.index})},mobileOptions:{render:e=>{var t,a,n,r;return i.a.createElement(k.EuiFlexItem,{grow:!1},i.a.createElement(_s,{isMobile:!0,status:null===(t=e.synthetics)||void 0===t||null===(a=t.payload)||void 0===a?void 0:a.status,stepNo:null===(n=e.synthetics)||void 0===n||null===(r=n.step)||void 0===r?void 0:r.index}))},width:"20%",header:lt,enlarge:!1}},{align:"left",field:"timestamp",name:Ps,render:(e,t)=>i.a.createElement(Gs,{step:t,compactView:s,allStepsLoaded:r}),mobileOptions:{render:e=>{var t,a,n,r;return i.a.createElement(k.EuiText,null,i.a.createElement("strong",null,null===(t=e.synthetics)||void 0===t||null===(a=t.step)||void 0===a?void 0:a.index,". ",null===(n=e.synthetics)||void 0===n||null===(r=n.step)||void 0===r?void 0:r.name))},header:"Step",enlarge:!0}},{name:"Step duration",render:e=>i.a.createElement(iu,{step:e,durationPopoverOpenIndex:p,setDurationPopoverOpenIndex:g,showStepDurationTrend:l,compactView:s}),mobileOptions:{header:o.i18n.translate("xpack.uptime.pingList.stepDurationHeader",{defaultMessage:"Step duration"}),show:!0}},{align:"left",field:"timestamp",name:"",mobileOptions:{show:!1},render:(e,t)=>{var a,n,r,l;return s?i.a.createElement(k.EuiButtonIcon,{"data-test-subj":"observabilitySolutionColumnsButton",href:`${h}/app/uptime/journey/${t.monitor.check_group}/step/${null===(a=t.synthetics)||void 0===a||null===(n=a.step)||void 0===n?void 0:n.index}`,target:"_blank",iconType:"visArea"}):i.a.createElement($s,{checkGroupId:t.monitor.check_group,stepIndex:null===(r=t.synthetics)||void 0===r||null===(l=r.step)||void 0===l?void 0:l.index},Hs)}},{width:"40px",align:k.RIGHT_ALIGNMENT,isExpander:!0,render:e=>i.a.createElement(k.EuiButtonIcon,{"data-test-subj":"uptimeStepListExpandBtn",onClick:()=>m({journeyStep:e}),"aria-label":c[e._id]?zs:Ns,iconType:c[e._id]?"arrowUp":"arrowDown"})}];return i.a.createElement(i.a.Fragment,null,!s&&i.a.createElement(k.EuiTitle,{size:"s"},i.a.createElement("h2",null,function(e,t){if(t)return o.i18n.translate("xpack.uptime.synthetics.journey.loadingSteps",{defaultMessage:"Loading steps ..."});const a=e.succeeded+e.failed+e.skipped;return e.failed+e.skipped===a?o.i18n.translate("xpack.uptime.synthetics.journey.allFailedMessage",{defaultMessage:"{total} Steps - all failed or skipped",values:{total:a}}):e.succeeded===a?o.i18n.translate("xpack.uptime.synthetics.journey.allSucceededMessage",{defaultMessage:"{total} Steps - all succeeded",values:{total:a}}):o.i18n.translate("xpack.uptime.synthetics.journey.partialSuccessMessage",{defaultMessage:"{total} Steps - {succeeded} succeeded",values:{succeeded:e.succeeded,total:a}})}(u.reduce(su,{failed:0,skipped:0,succeeded:0}),a))),i.a.createElement(k.EuiBasicTable,{compressed:s,loading:a,columns:f,error:null==t?void 0:t.message,items:u,itemIdToExpandedRowMap:c,noItemsMessage:a?o.i18n.translate("xpack.uptime.pingList.pingsLoadingMesssage",{defaultMessage:"Loading history..."}):o.i18n.translate("xpack.uptime.pingList.pingsUnavailableMessage",{defaultMessage:"No history found"}),tableLayout:"auto",rowProps:e=>{const{monitor:t}=e;return{"data-test-subj":`row-${t.check_group}`,onClick:t=>{const a=t.target;"IMG"===a.tagName||"BUTTON"===a.tagName||"CANVAS"===a.tagName||a.classList.contains("euiButtonEmpty__text")||a.classList.contains("euiIcon")||m({journeyStep:e})}}}}))},cu=()=>{var e,t;const{checkGroupId:a}=Object(d.useParams)(),i=Object(c.useDispatch)();Object(n.useEffect)((()=>{i(Object(oa.a)({checkGroup:a}))}),[a,i]);const r=Object(c.useSelector)((e=>e.journeys[a]));return{checkGroup:a,steps:null!==(e=null==r?void 0:r.steps)&&void 0!==e?e:[],details:null==r?void 0:r.details,loading:null!==(t=null==r?void 0:r.loading)&&void 0!==t&&t,error:null==r?void 0:r.error}},du=({timestamp:e,details:t})=>{const a=Object(d.useHistory)(),n=Object(k.useIsWithinMaxBreakpoint)("s"),r=Gt(rt()(e));return i.a.createElement(k.EuiFlexGroup,{alignItems:"center",responsive:!1,gutterSize:"none"},i.a.createElement(k.EuiFlexItem,{grow:!1},i.a.createElement(k.EuiButtonEmpty,{"data-test-subj":"syntheticsChecksNavigationPreviousCheckButton",size:n?"xs":"m",iconType:"arrowLeft",isDisabled:!(null!=t&&t.previous),onClick:()=>{var e;a.push(`/journey/${null==t||null===(e=t.previous)||void 0===e?void 0:e.checkGroup}/steps`)}},i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.synthetics.stepList.previousCheck",defaultMessage:"Previous check"}))),i.a.createElement(k.EuiFlexItem,{grow:!1},i.a.createElement(k.EuiText,{size:n?"xs":"m",className:"eui-textNoWrap","aria-label":o.i18n.translate("xpack.uptime.synthetics.stepList.currentCheckAriaLabel",{defaultMessage:"Current check: {shortTimestamp}",values:{shortTimestamp:r}})},r)),i.a.createElement(k.EuiFlexItem,{grow:!1},i.a.createElement(k.EuiButtonEmpty,{"data-test-subj":"syntheticsChecksNavigationNextCheckButton",size:n?"xs":"m",iconType:"arrowRight",iconSide:"right",isDisabled:!(null!=t&&t.next),onClick:()=>{var e;a.push(`/journey/${null==t||null===(e=t.next)||void 0===e?void 0:e.checkGroup}/steps`)}},i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.synthetics.stepList.nextCheck",defaultMessage:"Next check"}))))},mu=({checkGroup:e})=>i.a.createElement(k.EuiEmptyPrompt,{iconType:"cross",title:i.a.createElement("h2",null,i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.synthetics.emptyJourney.title",defaultMessage:"There are no steps for this journey"})),body:i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.synthetics.emptyJourney.message.heading",defaultMessage:"This journey did not contain any steps."})),!!e&&i.a.createElement("p",null,i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.synthetics.emptyJourney.message.checkGroupField",defaultMessage:"The journey's check group is {codeBlock}.",values:{codeBlock:i.a.createElement("code",null,e)}})),i.a.createElement("p",null,i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.synthetics.emptyJourney.message.footer",defaultMessage:"There is no further information to display."})))}),pu=()=>{var e,t;const{details:a}=cu();return i.a.createElement(i.a.Fragment,null,(null==a||null===(e=a.journey)||void 0===e?void 0:e.monitor.name)||(null==a||null===(t=a.journey)||void 0===t?void 0:t.monitor.id))},gu=()=>{const{details:e}=cu();return e?i.a.createElement(du,{timestamp:e.timestamp,details:e}):null},hu=()=>{di(),Object(F.useTrackPageview)({app:"uptime",path:"syntheticCheckSteps"}),Object(F.useTrackPageview)({app:"uptime",path:"syntheticCheckSteps",delay:15e3});const{error:e,loading:t,steps:a,details:n,checkGroup:r}=cu();return pi({details:n,activeStep:null==n?void 0:n.journey}),i.a.createElement(i.a.Fragment,null,i.a.createElement(uu,{data:a,loading:t,allStepsLoaded:!t,error:e}),(!a||0===a.length)&&!t&&i.a.createElement(mu,{checkGroup:r}))},fu=()=>{var e;const t=Object(Y.e)(),a=Object(c.useSelector)(te.t),n=(null==a||null===(e=a.monitor)||void 0===e?void 0:e.name)||((e,t)=>{var a;return/^auto-(icmp|http|tcp|browser)-0X[A-F0-9]{16}.*/.test(e)&&(null==t||null===(a=t.url)||void 0===a?void 0:a.full)||e})(t,a);return Z([{text:n}]),i.a.createElement("span",{className:"eui-textNoWrap"},n)},bu=()=>{const[e,t]=Object(Y.g)(),{commonlyUsedRanges:a}=Object(n.useContext)(L.c),{refreshApp:r}=Object(n.useContext)(L.a),{data:l}=Object(n.useContext)(L.e),o=null==l?void 0:l.query.timefilter.timefilter.getTime(),{autorefreshInterval:s,autorefreshIsPaused:c,dateRangeStart:d,dateRangeEnd:m}=e();Object(n.useEffect)((()=>{const{from:e,to:a}=null!=o?o:{};!((e,t)=>{const{DATE_RANGE_START:a,DATE_RANGE_END:n}=u.e;return e===a&&t===n})(d,m)||e===d&&a===m?e===d&&a===m||null==l||l.query.timefilter.timefilter.setTime({from:d,to:m}):t({dateRangeStart:e,dateRangeEnd:a})}),[]);const p=a?a.map((({from:e,to:t,display:a})=>({start:e,end:t,label:a}))):u.e.COMMONLY_USED_DATE_RANGES;return i.a.createElement(k.EuiSuperDatePicker,{start:d,end:m,commonlyUsedRanges:p,isPaused:c,refreshInterval:s,onTimeChange:({start:e,end:a})=>{var n,i;null!=l&&null!==(n=l.query)&&void 0!==n&&null!==(i=n.timefilter)&&void 0!==i&&i.timefilter&&(null==l||l.query.timefilter.timefilter.setTime({from:e,to:a})),t({dateRangeStart:e,dateRangeEnd:a}),r()},onRefresh:r,onRefreshChange:({isPaused:e,refreshInterval:a})=>{t({autorefreshInterval:void 0===a?s:a,autorefreshIsPaused:e})}})},Eu=()=>{const{refreshApp:e}=Object(n.useContext)(L.a);return i.a.createElement(k.EuiFlexItem,{style:{alignItems:"flex-end"},grow:!1,"data-test-subj":"certificatesRefreshButton"},i.a.createElement(k.EuiFlexGroup,{responsive:!1,gutterSize:"s"},i.a.createElement(k.EuiFlexItem,{grow:!1},i.a.createElement(k.EuiHideFor,{sizes:["xs"]},i.a.createElement(k.EuiButton,{fill:!0,iconType:"refresh",onClick:()=>{e()},"data-test-subj":"superDatePickerApplyTimeButton"},Pl)),i.a.createElement(k.EuiShowFor,{sizes:["xs"]},i.a.createElement(k.EuiButtonEmpty,{iconType:"refresh",onClick:()=>{e()},"data-test-subj":"superDatePickerApplyTimeButton"})))))},vu=()=>{const e=Object(c.useSelector)(To.b);return i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.certificates.heading",defaultMessage:"TLS Certificates ({total})",values:{total:i.a.createElement("span",{"data-test-subj":"uptimeCertTotal"},null!=e?e:0)}})},yu=()=>i.a.createElement(k.EuiEmptyPrompt,{body:i.a.createElement(n.Fragment,null,i.a.createElement(k.EuiLoadingSpinner,{size:"xl"}),i.a.createElement(k.EuiSpacer,null),i.a.createElement(k.EuiTitle,{size:"l"},i.a.createElement("h2",null,o.i18n.translate("xpack.uptime.emptyState.loadingMessage",{defaultMessage:"Loading…"}))))}),xu=({errors:e})=>{const t=e.find((e=>{var t;return e.message&&e.message.includes("unauthorized")||(null===(t=e.body)||void 0===t?void 0:t.message)&&e.body.message.includes("unauthorized")}));return i.a.createElement(k.EuiFlexGroup,{justifyContent:"center"},i.a.createElement(k.EuiFlexItem,{grow:!1},i.a.createElement(k.EuiPanel,{hasBorder:!0},i.a.createElement(k.EuiEmptyPrompt,{iconType:"securityApp",iconColor:"subdued",title:i.a.createElement(k.EuiTitle,{size:"m"},t?i.a.createElement("h3",null,o.i18n.translate("xpack.uptime.emptyStateError.notAuthorized",{defaultMessage:"You are not authorized to view Uptime data, please contact your system administrator."})):i.a.createElement("h3",null,o.i18n.translate("xpack.uptime.emptyStateError.title",{defaultMessage:"Error"}))),body:i.a.createElement(n.Fragment,null,!t&&e.map((e=>{var t,a;return i.a.createElement("p",{key:(null===(t=e.body)||void 0===t?void 0:t.message)||e.message},(null===(a=e.body)||void 0===a?void 0:a.message)||e.message)})))}))))};var ku=a(131);const Su=({path:e,pageHeader:t,children:a,...r})=>{const{services:{observabilityShared:l}}=Object(f.useKibana)(),s=l.navigation.PageTemplate,d=function(){const{basePath:e}=Object(n.useContext)(L.c),{services:{docLinks:t}}=Object(f.useKibana)(),{data:a}=Object(c.useSelector)(te.h);if(a&&!a.indexExists)return{solution:o.i18n.translate("xpack.uptime.noDataConfig.solutionName",{defaultMessage:"Observability"}),action:{beats:{title:o.i18n.translate("xpack.uptime.noDataConfig.beatsCard.title",{defaultMessage:"Add monitors with Heartbeat"}),description:o.i18n.translate("xpack.uptime.noDataConfig.beatsCard.description",{defaultMessage:"Proactively monitor the availability of your sites and services. Receive alerts and resolve issues faster to optimize your users experience."}),href:e+"/app/home#/tutorial/uptimeMonitors"}},docsLink:t.links.observability.guide}}(),{loading:m,error:p,data:g}=Object(ku.a)(),{inspectorAdapters:h}=Object(F.useInspectorContext)();if(Object(n.useEffect)((()=>{h.requests.reset()}),[h.requests]),p&&e!==u.u)return i.a.createElement(xu,{errors:[p]});const b=e===u.s||e===u.b,E=m&&b&&!g;return i.a.createElement(i.a.Fragment,null,i.a.createElement(s,v()({pageHeader:t,"data-test-subj":d?"data-missing":void 0,noDataConfig:b&&!m?d:void 0,isPageDataLoaded:!1===m&&b},r),E&&i.a.createElement(yu,null),i.a.createElement("div",{style:{visibility:E?"hidden":"initial"},"data-test-subj":d?"data-missing":void 0},a)))},wu=o.i18n.translate("xpack.uptime.routes.legacyBaseTitle",{defaultMessage:"Uptime - Kibana"}),ju=o.i18n.translate("xpack.uptime.overview.heading",{defaultMessage:"Monitors"}),Ou=({path:e,title:t})=>(Object(n.useEffect)((()=>{document.title=t}),[e,t]),null),Mu=()=>{const e=[{title:o.i18n.translate("xpack.uptime.monitorRoute.title",{defaultMessage:"Monitor | {baseTitle}",values:{baseTitle:wu}}),path:u.q,component:mi,dataTestSubj:"uptimeMonitorPage",pageHeader:{pageTitle:i.a.createElement(fu,null),rightSideItems:[i.a.createElement(bu,null)]}},{title:o.i18n.translate("xpack.uptime.settingsRoute.title",{defaultMessage:"Settings | {baseTitle}",values:{baseTitle:wu}}),path:u.u,component:mo,dataTestSubj:"uptimeSettingsPage",pageHeader:{pageTitle:i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.settings.heading",defaultMessage:"Uptime settings"})},bottomBar:i.a.createElement(io,null),bottomBarProps:{paddingSize:"m"}},{title:o.i18n.translate("xpack.uptime.certificatesRoute.title",{defaultMessage:"Certificates | {baseTitle}",values:{baseTitle:wu}}),path:u.b,component:Ao,dataTestSubj:"uptimeCertificatesPage",pageHeader:{pageTitle:i.a.createElement(vu,null),rightSideItems:[i.a.createElement(Eu,null)]}},{title:o.i18n.translate("xpack.uptime.stepDetailRoute.title",{defaultMessage:"Synthetics detail | {baseTitle}",values:{baseTitle:wu}}),path:u.y,component:Fl,dataTestSubj:"uptimeStepDetailPage",pageHeader:{children:i.a.createElement(Tl,null),pageTitle:i.a.createElement(Cl,null),rightSideItems:[i.a.createElement(Il,null)]}},{title:wu,path:u.z,component:hu,dataTestSubj:"uptimeSyntheticCheckStepsPage",pageHeader:{pageTitle:i.a.createElement(pu,null),rightSideItems:[i.a.createElement(gu,null)]}},{title:wu,path:u.s,component:Rs,dataTestSubj:"uptimeOverviewPage",pageHeader:{pageTitle:ju,rightSideItems:[i.a.createElement(bu,null)]}},{title:o.i18n.translate("xpack.uptime.mappingErrorRoute.title",{defaultMessage:"Synthetics | mapping error"}),path:u.l,component:Q,dataTestSubj:"uptimeMappingErrorPage",pageHeader:{pageTitle:i.a.createElement("div",null,i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.mappingErrorRoute.pageHeader.title",defaultMessage:"Mapping error"})),rightSideItems:[]}}],{addInspectorRequest:t}=Object(F.useInspectorContext)();return Ss.a.addInspectorRequest=t,i.a.createElement($,null,e.map((({title:e,path:t,component:a,dataTestSubj:n,pageHeader:r,...l})=>i.a.createElement(B,{path:t,key:n,exact:!0},i.a.createElement("div",{className:h.APP_WRAPPER_CLASS,"data-test-subj":n},i.a.createElement(Ou,{title:e,path:t}),i.a.createElement(Su,v()({path:t,pageHeader:r},l),i.a.createElement(a,null)))))),i.a.createElement(B,{component:po}))};a(98);var Cu=a(70);const Iu=o.i18n.translate("xpack.uptime.alertDropdown.noWritePermissions",{defaultMessage:"You need read-write access to Uptime to create alerts in this app."}),Tu=({alertOptions:e,setAlertFlyoutVisible:t})=>{var a,r,l;const[o,s]=Object(n.useState)(!1),u=Object(f.useKibana)(),{services:{observability:c}}=Object(f.useKibana)(),d=c.useRulesLink(),m=null!==(a=null===(r=u.services.application)||void 0===r||null===(l=r.capabilities.uptime)||void 0===l?void 0:l.save)&&void 0!==a&&a,p={"aria-label":Cu.J.toggleMonitorStatusAriaLabel,"data-test-subj":"xpack.synthetics.toggleAlertFlyout",name:Cu.J.toggleMonitorStatusContent,onClick:()=>{t(ee.a.MONITOR_STATUS),s(!1)}},g={"aria-label":Cu.J.toggleTlsAriaLabel,"data-test-subj":"xpack.synthetics.toggleTlsAlertFlyout",name:Cu.J.toggleTlsContent,onClick:()=>{t(ee.a.TLS),s(!1)}},h={"aria-label":Cu.J.navigateToAlertingUIAriaLabel,"data-test-subj":"xpack.synthetics.navigateToAlertingUi",name:i.a.createElement(k.EuiLink,{"data-test-subj":"syntheticsToggleAlertFlyoutButtonComponentManageRulesLink",color:"text",href:d.href},i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.navigateToAlertingButton.content",defaultMessage:"Manage rules"})),icon:"tableOfContents"};let b,E=[];return e?e.forEach((e=>{e===ee.a.MONITOR_STATUS?E.push(p):e===ee.a.TLS&&E.push(g)})):E=[p,g],1===E.length&&(E[0].icon="bell"),b=1===E.length?[{id:0,items:[...E,h]}]:[{id:0,items:[{"aria-label":Cu.J.openAlertContextPanelAriaLabel,"data-test-subj":"xpack.synthetics.openAlertContextPanel",name:Cu.J.openAlertContextPanelLabel,icon:"bell",panel:1,toolTipContent:m?null:Iu,disabled:!m},h]},{id:1,title:Cu.J.toggleAlertFlyoutButtonLabel,items:E}],i.a.createElement(k.EuiPopover,{button:i.a.createElement(k.EuiHeaderLink,{color:"text","aria-label":Cu.J.toggleButtonAriaLabel,"data-test-subj":"xpack.synthetics.alertsPopover.toggleButton",iconType:"arrowDown",iconSide:"right",onClick:()=>s(!o)},i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.alerts.toggleAlertFlyoutButtonText",defaultMessage:"Alerts and rules"})),closePopover:()=>s(!1),isOpen:o,ownFocus:!0,panelPaddingSize:"none"},i.a.createElement(k.EuiContextMenu,{initialPanelId:0,panels:b}))},Fu=({alertFlyoutVisible:e,alertTypeId:t,setAlertFlyoutVisibility:a})=>{const{triggersActionsUi:r}=Object(f.useKibana)().services,l=Object(n.useCallback)((()=>a(!1)),[a]),o=Object(n.useMemo)((()=>r.getAddRuleFlyout({consumer:"uptime",onClose:l,ruleTypeId:t,canChangeTrigger:!t})),[l,t]);return i.a.createElement(i.a.Fragment,null,e&&o)},Lu=e=>{const t=Object(c.useDispatch)();return i.a.createElement(Tu,v()({},e,{setAlertFlyoutVisible:e=>{"string"==typeof e?(t(Object(A.v)(e)),t(Object(A.w)(!0))):t(Object(A.w)(e))}}))},Au=()=>{const e=Object(c.useDispatch)(),t=Object(c.useSelector)(te.x),a=Object(c.useSelector)(te.w);return i.a.createElement(Fu,{alertFlyoutVisible:t,alertTypeId:a,setAlertFlyoutVisibility:t=>e(Object(A.w)(t))})};var Du=a(97),Ru=a(11);function Pu(){const{services:{inspector:e,uiSettings:t}}=Object(f.useKibana)(),{isDev:a}=Object(lu.c)(),{inspectorAdapters:n}=Object(F.useInspectorContext)();return(null==t?void 0:t.get(Ru.enableInspectEsQueries))||a?i.a.createElement(k.EuiHeaderLink,{color:"primary",onClick:()=>{e.open(n)}},o.i18n.translate("xpack.uptime.inspectButtonText",{defaultMessage:"Inspect"})):null}const zu=()=>i.a.createElement(k.EuiToolTip,{content:Nu},i.a.createElement(k.EuiHeaderLink,{"aria-label":Nu,color:"text","data-test-subj":"syntheticsManagementPageLink"},i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.page_header.manageMonitors",defaultMessage:"Monitor Management"}))),Nu=o.i18n.translate("xpack.uptime.page_header.manageLink.not",{defaultMessage:"Monitor Management is no longer available in Uptime, use the Synthetics app instead."}),Bu=o.i18n.translate("xpack.uptime.addDataButtonLabel",{defaultMessage:"Add data"}),_u=o.i18n.translate("xpack.uptime.analyzeDataButtonLabel",{defaultMessage:"Explore data"}),$u=o.i18n.translate("xpack.uptime.analyzeDataButtonLabel.message",{defaultMessage:"Go to Explore Data, where you can select and filter result data in any dimension and look for the cause or impact of performance problems."});function Hu(){var e,t,a,n,r;const l=Object(f.useKibana)(),{basePath:s}=Object(lu.c)(),m=Object(Y.d)(),{dateRangeStart:p,dateRangeEnd:g}=m,h=Object(d.useHistory)(),b=Object(c.useSelector)(te.t),E=Object(d.useRouteMatch)(u.q),v=null==b||null===(e=b.monitor)||void 0===e?void 0:e.id,y=Object(hr.createExploratoryViewUrl)({reportType:"kpi-over-time",allSeries:[{dataType:"uptime",seriesType:"area",selectedMetricField:"monitor.duration.us",time:{from:p,to:g},breakdown:v?"observer.geo.name":"monitor.type",reportDefinitions:{"monitor.name":null!=b&&null!==(t=b.monitor)&&void 0!==t&&t.name&&!0===(null==E?void 0:E.isExact)?[null==b||null===(a=b.monitor)||void 0===a?void 0:a.name]:[],"url.full":["ALL_VALUES"]},name:v?`${v}-response-duration`:"All monitors response duration"}]},s);return i.a.createElement(k.EuiHeaderLinks,{gutterSize:"xs"},i.a.createElement(zu,null),i.a.createElement(k.EuiHeaderLink,{"aria-label":o.i18n.translate("xpack.uptime.page_header.settingsLink.label",{defaultMessage:"Navigate to the Uptime settings page"}),color:"text","data-test-subj":"settings-page-link",href:h.createHref({pathname:u.u,search:K(m,!0)})},i.a.createElement(H.FormattedMessage,{id:"xpack.uptime.page_header.settingsLink",defaultMessage:"Settings"})),i.a.createElement(Lu,null),i.a.createElement(k.EuiToolTip,{position:"top",content:i.a.createElement("p",null,$u)},i.a.createElement(k.EuiHeaderLink,{"aria-label":o.i18n.translate("xpack.uptime.page_header.analyzeData.label",{defaultMessage:'Navigate to the "Explore Data" view to visualize Synthetics/User data'}),href:y,color:"text",iconType:"visBarVerticalStacked","data-test-subj":"uptimeExploreDataButton"},_u)),i.a.createElement(k.EuiHeaderLink,{"aria-label":o.i18n.translate("xpack.uptime.page_header.addDataLink.label",{defaultMessage:"Navigate to a tutorial about adding Uptime data"}),href:null===(n=l.services)||void 0===n||null===(r=n.application)||void 0===r?void 0:r.getUrlForApp("/home#/tutorial/uptimeMonitors"),color:"primary",iconType:"indexOpen"},Bu),i.a.createElement(Pu,null))}const Gu=({appMountParameters:e})=>i.a.createElement(F.HeaderMenuPortal,{setHeaderActionMenu:e.setHeaderActionMenu,theme$:e.theme$},i.a.createElement(k.EuiFlexGroup,{responsive:!1,gutterSize:"s"},i.a.createElement(k.EuiFlexItem,null,i.a.createElement(Hu,null))));var Uu=a(66);const Wu=e=>{const{basePath:t,canSave:a,core:r,darkMode:l,plugins:s,renderGlobalHelpControls:u,setBadge:d,startPlugins:m,appMountParameters:p}=e;return Object(n.useEffect)((()=>{u(),d(a?void 0:{text:o.i18n.translate("xpack.uptime.badge.readOnly.text",{defaultMessage:"Read only"}),tooltip:o.i18n.translate("xpack.uptime.badge.readOnly.tooltip",{defaultMessage:"Unable to save"}),iconType:"glasses"})}),[a,u,d]),ai.a.core=r,ai.a.theme=e.appMountParameters.theme$,Du.b.dispatch(Object(A.x)(t)),i.a.createElement(b.a,r,i.a.createElement(C,{theme:r.theme,modify:{breakpoint:{xxl:1600,xxxl:2e3}}},i.a.createElement(c.Provider,{store:Du.b},i.a.createElement(f.KibanaContextProvider,{services:{...r,...s,storage:Du.a,data:m.data,unifiedSearch:m.unifiedSearch,fleet:m.fleet,inspector:m.inspector,triggersActionsUi:m.triggersActionsUi,observability:m.observability,observabilityShared:m.observabilityShared,exploratoryView:m.exploratoryView,cases:m.cases}},i.a.createElement(g,{history:p.history},i.a.createElement(T.EuiThemeProvider,{darkMode:l},i.a.createElement(L.b,null,i.a.createElement(L.d,e,i.a.createElement(L.h,{darkMode:l},i.a.createElement(L.f,m,i.a.createElement(Uu.a,{dataViews:m.dataViews},i.a.createElement("div",{className:h.APP_WRAPPER_CLASS,"data-test-subj":"uptimeApp"},i.a.createElement(I.a,{coreStart:{application:r.application}},i.a.createElement(F.InspectorContextProvider,null,i.a.createElement(Au,null),i.a.createElement(Mu,null),i.a.createElement(Gu,{appMountParameters:p})))))))))))))))},qu=e=>i.a.createElement(Wu,e);function Vu(e,t,a,n,r,c){var d;const{application:{capabilities:m},chrome:{setBadge:p,setHelpExtension:g},docLinks:h,http:{basePath:f},i18n:b,theme:E}=e,{apm:v,infrastructure:y,logs:x}=s(m,u.k),k=null!==(d=m.uptime.save)&&void 0!==d&&d,S=E.getTheme().darkMode,w={isDev:r,plugins:t,canSave:k,core:e,i18n:b,startPlugins:a,basePath:f.get(),darkMode:S,commonlyUsedRanges:e.uiSettings.get(u.g),isApmAvailable:v,isInfraAvailable:y,isLogsAvailable:x,renderGlobalHelpControls:()=>g({appName:o.i18n.translate("xpack.uptime.legacyHeader.appName",{defaultMessage:"Uptime"}),links:[{linkType:"documentation",href:`${h.links.observability.monitorUptime}`},{linkType:"discuss",href:"https://discuss.elastic.co/c/uptime"}]}),setBadge:p,appMountParameters:n,setBreadcrumbs:e.chrome.setBreadcrumbs};return l.a.render(i.a.createElement(qu,w),n.element),()=>{a.data.search.session.clear(),l.a.unmountComponentAtNode(n.element)}}},93:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));let n=function(e){return e.CRITICAL="critical",e.MAJOR="major",e.MINOR="minor",e.WARNING="warning",e.LOW="low",e.UNKNOWN="unknown",e}({})},94:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));let n=function(e){return e[e.CRITICAL=75]="CRITICAL",e[e.MAJOR=50]="MAJOR",e[e.MINOR=25]="MINOR",e[e.WARNING=3]="WARNING",e[e.LOW=0]="LOW",e}({})}}]);