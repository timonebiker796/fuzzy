/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.uptime_bundle_jsonpfunction=window.uptime_bundle_jsonpfunction||[]).push([[4],{204:function(t,e,n){"use strict";n.r(e),n.d(e,"UptimeDataHelper",(function(){return c}));var a=n(41),r=n.n(a),i=n(64),s=n(65);async function o({absoluteTime:t,relativeTime:e,intervalString:n,timeZone:a}){const s=new Date(t.start).toISOString(),o=new Date(t.end).toISOString(),c=await Object(i.i)({dateRangeStart:s,dateRangeEnd:o}),u=await Object(i.g)({dateStart:s,dateEnd:o,bucketSize:n,timeZone:null!=a?a:r.a.tz.guess()});return{appLink:`/app/uptime?dateRangeStart=${e.start}&dateRangeEnd=${e.end}`,stats:{monitors:{type:"number",value:c.total},up:{type:"number",value:c.up},down:{type:"number",value:c.down}},series:{up:{coordinates:u.histogram.map((t=>({x:t.x,y:t.upCount||0})))},down:{coordinates:u.histogram.map((t=>({x:t.x,y:t.downCount||0})))}}}}function c(t){return s.a.core=t,{indexStatus:i.a,overviewData:o}}},59:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var a=n(6),r=n.n(a),i=n(69),s=n(37);const o=t=>{const e=t.map((t=>{if(null!=t.message)return t.message;{const e=t.context.filter((t=>null!=t.key&&!Number.isInteger(+t.key)&&""!==t.key.trim())).map((t=>t.key)).join(","),n=t.context.find((t=>null!=t.type&&null!=t.type.name&&t.type.name.length>0)),a=""!==e?e:null!=n?n.type.name:"";return`Invalid value "${Object(s.isObject)(t.value)?JSON.stringify(t.value):t.value}" supplied to "${a}"`}}));return[...new Set(e)]};var c=n(23);class utils_ApiService{get http(){return this._http}set http(t){this._http=t}get addInspectorRequest(){return this._addInspectorRequest}set addInspectorRequest(t){this._addInspectorRequest=t}constructor(){r()(this,"_http",void 0),r()(this,"_addInspectorRequest",void 0)}static getInstance(){return utils_ApiService.instance||(utils_ApiService.instance=new utils_ApiService),utils_ApiService.instance}async get(t,e={},n,a=!1){var r;const{version:s,...u}=e,d=await this._http.fetch({path:t,query:u,asResponse:a,version:s});if(null===(r=this.addInspectorRequest)||void 0===r||r.call(this,{data:d,status:c.FETCH_STATUS.SUCCESS,loading:!1}),n){const e=n.decode(d);if(Object(i.isRight)(e))return e.right;console.error(`API ${t} is not returning expected response, ${o(e.left)} for response`,d)}return d}async post(t,e,n,a={}){var r;const{version:s,...u}=a,d=await this._http.post(t,{method:"POST",body:JSON.stringify(e),query:u,version:s});if(null===(r=this.addInspectorRequest)||void 0===r||r.call(this,{data:d,status:c.FETCH_STATUS.SUCCESS,loading:!1}),n){const e=n.decode(d);if(Object(i.isRight)(e))return e.right;console.warn(`API ${t} is not returning expected response, ${o(e.left)}`)}return d}async put(t,e,n,a={}){const{version:r,...s}=a,c=await this._http.put(t,{method:"PUT",body:JSON.stringify(e),query:s,version:r});if(n){const e=n.decode(c);if(Object(i.isRight)(e))return e.right;console.warn(`API ${t} is not returning expected response, ${o(e.left)}`)}return c}async delete(t,{version:e}={}){const n=await this._http.delete(t,{version:e});if(n instanceof Error)throw n;return n}}r()(utils_ApiService,"instance",void 0);const u=utils_ApiService.getInstance()},64:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"e",(function(){return o})),n.d(e,"d",(function(){return c})),n.d(e,"i",(function(){return u})),n.d(e,"f",(function(){return d})),n.d(e,"j",(function(){return l})),n.d(e,"k",(function(){return p})),n.d(e,"a",(function(){return S.a})),n.d(e,"h",(function(){return g})),n.d(e,"g",(function(){return h})),n.d(e,"c",(function(){return f}));var a=n(61),r=n(59),i=n(53);const s=async({monitorId:t,dateStart:e,dateEnd:n})=>{const s={monitorId:t,dateStart:e,dateEnd:n};return await r.a.get(i.a.MONITOR_DETAILS,s,a.f)},o=async({monitorId:t,dateStart:e,dateEnd:n})=>{const s={dateStart:e,dateEnd:n,monitorId:t};return await r.a.get(i.a.MONITOR_LOCATIONS,s,a.g)},c=async t=>await r.a.get(i.a.MONITOR_LIST,t,a.h),u=async({dateRangeStart:t,dateRangeEnd:e,filters:n,query:s})=>{const o={dateRangeStart:t,dateRangeEnd:e,...n&&{filters:n},...s&&{query:s}};return await r.a.get(i.a.SNAPSHOT_COUNT,o,a.j)},d=async({monitorId:t,dateStart:e,dateEnd:n})=>{const a={monitorId:t,dateStart:e,dateEnd:n};return await r.a.get(i.a.MONITOR_STATUS,a)},l=async()=>await r.a.get(i.a.DYNAMIC_SETTINGS,{version:i.j},a.c),p=async({settings:t})=>await r.a.put(i.a.DYNAMIC_SETTINGS,t,a.d,{version:i.j});var S=n(71);const g=async({dateRange:{from:t,to:e},...n})=>await r.a.get(i.a.PINGS,{from:t,to:e,...n},a.i),h=async({monitorId:t,dateStart:e,dateEnd:n,filters:a,bucketSize:s,query:o,timeZone:c})=>{const u={dateStart:e,dateEnd:n,monitorId:t,filters:a,bucketSize:s,query:o,timeZone:c};return await r.a.get(i.a.PING_HISTOGRAM,u)},f=async({monitorId:t,dateStart:e,dateEnd:n})=>{const a={monitorId:t,dateStart:e,dateEnd:n};return await r.a.get(i.a.MONITOR_DURATION,a)}},65:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var a=n(6),r=n.n(a),i=n(59);class KibanaService{get core(){return this._core}set core(t){this._core=t,i.a.http=this._core.http}get theme(){return this._theme}set theme(t){this._theme=t}get toasts(){return this._core.notifications.toasts}constructor(){r()(this,"_core",void 0),r()(this,"_theme",void 0)}static getInstance(){return KibanaService.instance||(KibanaService.instance=new KibanaService),KibanaService.instance}}r()(KibanaService,"instance",void 0);const s=KibanaService.getInstance()},71:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n(53),r=n(61),i=n(59);let s=null;const o=async(t,e)=>s||(s=i.a.get(a.a.INDEX_STATUS,{from:t,to:e},r.l),s.then((()=>{s=null}),(()=>{s=null})),s)}}]);