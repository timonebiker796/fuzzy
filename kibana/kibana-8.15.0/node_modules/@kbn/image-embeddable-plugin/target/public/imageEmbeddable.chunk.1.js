(window.imageEmbeddable_bundle_jsonpfunction=window.imageEmbeddable_bundle_jsonpfunction||[]).push([[1],{39:function(t,e,a){"use strict";function n(t,{validateUrl:e}){if(!t.src)return!1;if("file"===t.src.type){if(!t.src.fileId)return!1}else if("url"===t.src.type){if(!t.src.url)return!1;if(!e(t.src.url).isValid)return!1}return!0}a.d(e,"a",(function(){return n}))},51:function(t,e,a){"use strict";a.r(e),a.d(e,"ImageViewer",(function(){return y}));var n=a(28),r=a.n(n),o=a(21),i=a.n(o),l=a(10),s=a.n(l),h=a(12),c=a(11),u=a(2),d=a(20),m=a(66),g=a(39),f=a(52),b=a.n(f),w=a(53),p=a.n(w),M=a(27),j={name:"a0oy8p",styles:"position:relative;width:100%;height:100%;.visually-hidden{visibility:hidden;}"};function y({imageConfig:t,onChange:e,onClear:a,onError:n,onLoad:o,onClick:s,className:d,containerCSS:f,isScreenshotMode:b,...w}){var p,y,x;const{getImageDownloadHref:v,validateUrl:O}=Object(M.b)(),E=Object(g.a)(t,{validateUrl:O}),C="url"===t.src.type?t.src.url:v(t.src.fileId),[k,P]=Object(l.useState)(!1);return Object(l.useEffect)((()=>{P(!1)}),[C]),Object(c.jsx)("div",r()({},w,{css:[j,f,"",""]}),(k||!E)&&Object(c.jsx)(I,null),E&&Object(c.jsx)(m.a,{src:C,alt:null!==(p=t.altText)&&void 0!==p?p:"",className:i()(d,{"visually-hidden":k}),title:e?u.i18n.translate("imageEmbeddable.imageViewer.selectDifferentImageTitle",{defaultMessage:"Select a different image"}):void 0,loading:b?"eager":"lazy",style:{width:"100%",height:"100%",objectFit:null!==(y=null==t||null===(x=t.sizing)||void 0===x?void 0:x.objectFit)&&void 0!==y?y:"contain",cursor:e||s?"pointer":"initial",display:"block",backgroundColor:t.backgroundColor},wrapperProps:{style:{display:"block",height:"100%",width:"100%"}},onClick:()=>{e&&e(),s&&s()},onLoad:()=>{o&&o()},onError:()=>{P(!0),n&&n()}}),a&&Object(c.jsx)(h.EuiButtonIcon,{style:{position:"absolute",top:"-4px",right:"-4px"},display:"fill",iconType:"cross","aria-label":"Clear",color:"danger",onClick:()=>{a&&a()}}))}var x={name:"1kzq5ms",styles:"height:100%;width:100%"},v={name:"4dtn9k",styles:"object-fit:contain;height:100%;width:100%"},O={name:"1cx8159",styles:"position:absolute;top:0;left:0;right:0;bottom:0;.euiPanel,.euiEmptyPrompt__main{height:100%;width:100%;max-width:none;}"};function I(){const[t,e]=s.a.useState(null),a=Object(h.useIsWithinBreakpoints)(["l","xl"],!0),n=Object(h.useResizeObserver)(t);let r="none";return r=t?n.height>200&&n.width>320&&a?"image-and-text":"only-image":"none",Object(c.jsx)("div",{ref:t=>e(t),css:O},"only-image"===r&&Object(c.jsx)(E,{css:v,wrapperProps:{css:x}}),"image-and-text"===r&&Object(c.jsx)(h.EuiEmptyPrompt,{color:"transparent",icon:Object(c.jsx)(E,null),title:Object(c.jsx)("p",null,Object(c.jsx)(d.FormattedMessage,{id:"imageEmbeddable.imageViewer.notFoundTitle",defaultMessage:"Image not found"})),layout:"horizontal",body:Object(c.jsx)("p",null,Object(c.jsx)(d.FormattedMessage,{id:"imageEmbeddable.imageViewer.notFoundMessage",defaultMessage:"We can't find the image you're looking for. It might have been removed, renamed, or it didn't exist in the first place."}))}))}const E=s.a.memo((t=>Object(c.jsx)(h.EuiImage,r()({},t,{"data-test-subj":"imageNotFound",srcSet:`${b.a} 1x, ${p.a} 2x`,src:b.a,alt:u.i18n.translate("imageEmbeddable.imageViewer.notFoundImageAltText",{defaultMessage:"An outer space illustration. In the background is a large moon and two planets. In the foreground is an astronaut floating in space and the numbers '404'."})}))))},52:function(t,e,a){t.exports=a.p+"293fa3d344a52aea7d6f5205879db037.png"},53:function(t,e,a){t.exports=a.p+"716155e9584ea2485733490713ea8187.png"},54:function(t,e,a){var n,r=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,l=Object.prototype.hasOwnProperty,s={};((t,e)=>{for(var a in e)r(t,a,{get:e[a],enumerable:!0})})(s,{ValidationError:()=>f,decode:()=>j,encode:()=>x,isBlurhashValid:()=>w}),t.exports=(n=s,((t,e,a,n)=>{if(e&&"object"==typeof e||"function"==typeof e)for(let a of i(e))!l.call(t,a)&&undefined!==a&&r(t,a,{get:()=>e[a],enumerable:!(n=o(e,a))||n.enumerable});return t})(r({},"__esModule",{value:!0}),n));var h=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","#","$","%","*","+",",","-",".",":",";","=","?","@","[","]","^","_","{","|","}","~"],c=t=>{let e=0;for(let a=0;a<t.length;a++){let n=t[a];e=83*e+h.indexOf(n)}return e},u=(t,e)=>{var a="";for(let n=1;n<=e;n++){let r=Math.floor(t)/Math.pow(83,e-n)%83;a+=h[Math.floor(r)]}return a},d=t=>{let e=t/255;return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)},m=t=>{let e=Math.max(0,Math.min(1,t));return e<=.0031308?Math.trunc(12.92*e*255+.5):Math.trunc(255*(1.055*Math.pow(e,.4166666666666667)-.055)+.5)},g=(t,e)=>(t=>t<0?-1:1)(t)*Math.pow(Math.abs(t),e),f=class extends Error{constructor(t){super(t),this.name="ValidationError",this.message=t}},b=t=>{if(!t||t.length<6)throw new f("The blurhash string must be at least 6 characters");let e=c(t[0]),a=Math.floor(e/9)+1,n=e%9+1;if(t.length!==4+2*n*a)throw new f(`blurhash length mismatch: length is ${t.length} but it should be ${4+2*n*a}`)},w=t=>{try{b(t)}catch(t){return{result:!1,errorReason:t.message}}return{result:!0}},p=t=>{let e=t>>8&255,a=255&t;return[d(t>>16),d(e),d(a)]},M=(t,e)=>{let a=Math.floor(t/361),n=Math.floor(t/19)%19,r=t%19;return[g((a-9)/9,2)*e,g((n-9)/9,2)*e,g((r-9)/9,2)*e]},j=(t,e,a,n)=>{b(t),n|=1;let r=c(t[0]),o=Math.floor(r/9)+1,i=r%9+1,l=(c(t[1])+1)/166,s=new Array(i*o);for(let e=0;e<s.length;e++)if(0===e){let a=c(t.substring(2,6));s[e]=p(a)}else{let a=c(t.substring(4+2*e,6+2*e));s[e]=M(a,l*n)}let h=4*e,u=new Uint8ClampedArray(h*a);for(let t=0;t<a;t++)for(let n=0;n<e;n++){let r=0,l=0,c=0;for(let h=0;h<o;h++)for(let o=0;o<i;o++){let u=Math.cos(Math.PI*n*o/e)*Math.cos(Math.PI*t*h/a),d=s[o+h*i];r+=d[0]*u,l+=d[1]*u,c+=d[2]*u}let d=m(r),g=m(l),f=m(c);u[4*n+0+t*h]=d,u[4*n+1+t*h]=g,u[4*n+2+t*h]=f,u[4*n+3+t*h]=255}return u},y=(t,e,a,n)=>{let r=0,o=0,i=0,l=4*e;for(let s=0;s<e;s++){let e=4*s;for(let h=0;h<a;h++){let a=e+h*l,c=n(s,h);r+=c*d(t[a]),o+=c*d(t[a+1]),i+=c*d(t[a+2])}}let s=1/(e*a);return[r*s,o*s,i*s]},x=(t,e,a,n,r)=>{if(n<1||n>9||r<1||r>9)throw new f("BlurHash must have between 1 and 9 components");if(e*a*4!==t.length)throw new f("Width and height must match the pixels array");let o=[];for(let i=0;i<r;i++)for(let r=0;r<n;r++){let n=0==r&&0==i?1:2,l=y(t,e,a,((t,o)=>n*Math.cos(Math.PI*r*t/e)*Math.cos(Math.PI*i*o/a)));o.push(l)}let i,l=o[0],s=o.slice(1),h="";if(h+=u(n-1+9*(r-1),1),s.length>0){let t=Math.max(...s.map((t=>Math.max(...t)))),e=Math.floor(Math.max(0,Math.min(82,Math.floor(166*t-.5))));i=(e+1)/166,h+=u(e,1)}else i=1,h+=u(0,1);return h+=u((t=>(m(t[0])<<16)+(m(t[1])<<8)+m(t[2]))(l),4),s.forEach((t=>{h+=u(((t,e)=>19*Math.floor(Math.max(0,Math.min(18,Math.floor(9*g(t[0]/e,.5)+9.5))))*19+19*Math.floor(Math.max(0,Math.min(18,Math.floor(9*g(t[1]/e,.5)+9.5))))+Math.floor(Math.max(0,Math.min(18,Math.floor(9*g(t[2]/e,.5)+9.5)))))(t,i),2)})),h}},66:function(t,e,a){"use strict";a.d(e,"a",(function(){return m}));var n=a(28),r=a.n(n),o=a(10),i=a.n(o),l=a(12),s=a(67),h=a(21),c=a.n(h),u=a(11),d={name:"eqfpam",styles:"&.blurhash{animation-name:imageBlurhashFadeIn;animation-duration:1s;@keyframes imageBlurhashFadeIn{0%{opacity:0;}90%{opacity:0;}100%{opacity:1;}}}"};const m=({src:t,url:e,alt:a,onLoad:n,onError:h,meta:m,...g})=>{const f=t||e,[b,w]=Object(o.useState)(!1),{blurhash:p,width:M,height:j}=null!=m?m:{},y=i.a.useMemo((()=>{if(!(p&&M&&j))return null;try{return Object(s.a)({hash:p,width:M,height:j})}catch(t){return console.warn("Failed to generate image src from blurhash",t),null}}),[p,M,j]),x=b||!y?f:y;return Object(u.jsx)(l.EuiImage,r()({alt:null!=a?a:"",loading:"lazy"},g,{className:c()(g.className,{blurhash:x===y}),css:d,src:x,onLoad:t=>{var e;x===f?null==n||n(t):null!==(e=window)&&void 0!==e&&e.__image_stories_simulate_slow_load?setTimeout((()=>{w(!0)}),3e3):w(!0)},onError:t=>{x===f?null==h||h(t):(console.warn("Failed to load blurhash src"),w(!0))}}))}},67:function(t,e,a){"use strict";a.d(e,"c",(function(){return r})),a.d(e,"b",(function(){return l})),a.d(e,"a",(function(){return s}));var n=a(54);function r(t){var e;return Boolean(null===(e=t.type)||void 0===e?void 0:e.startsWith("image/"))}const o={width:120,height:120};function i(t,e){const a=Math.abs(Math.min(Math.min(o.width/t,o.height/e),1)-1);return{width:Math.floor(t-a*t),height:Math.floor(e-a*e)}}async function l(t){const e=window.URL.createObjectURL(t);try{const t=await(a=e,new Promise(((t,e)=>{const n=new window.Image;n.src=a,n.onload=()=>t(n),n.onerror=e}))),r=document.createElement("canvas"),{width:o,height:l}=i(t.width,t.height);r.width=o,r.height=l;const s=r.getContext("2d");if(!s)throw new Error("Could not get 2d canvas context!");s.drawImage(t,0,0,o,l);const h=s.getImageData(0,0,o,l);return{blurhash:n.encode(h.data,h.width,h.height,4,4),width:t.width,height:t.height}}catch(t){return}finally{window.URL.revokeObjectURL(e)}var a}function s({width:t,height:e,hash:a}){const r=document.createElement("canvas"),{width:o,height:l}=i(t,e);r.width=o,r.height=l;const s=r.getContext("2d"),h=s.createImageData(o,l);h.data.set(n.decode(a,o,l)),s.putImageData(h,0,0);const c=document.createElement("canvas");return c.width=t,c.height=e,c.getContext("2d").drawImage(r,0,0,t,e),c.toDataURL()}}}]);