!function(e){function t(t){for(var r,o,s=t[0],a=t[1],i=0,l=[];i<s.length;i++)o=s[i],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&l.push(n[o][0]),n[o]=0;for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r]);for(c&&c(t);l.length;)l.shift()()}var r={},n={0:0};function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(e){var t=[],r=n[e];if(0!==r)if(r)t.push(r[2]);else{var s=new Promise((function(t,o){r=n[e]=[t,o]}));t.push(r[2]=s);var a,i=document.createElement("script");i.charset="utf-8",i.timeout=120,o.nc&&i.setAttribute("nonce",o.nc),i.src=function(e){return o.p+"share.chunk."+e+".js"}(e);var c=new Error;a=function(t){i.onerror=i.onload=null,clearTimeout(l);var r=n[e];if(0!==r){if(r){var o=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+o+": "+s+")",c.name="ChunkLoadError",c.type=o,c.request=s,r[1](c)}n[e]=void 0}};var l=setTimeout((function(){a({type:"timeout",target:i})}),12e4);i.onerror=i.onload=a,document.head.appendChild(i)}return Promise.all(t)},o.m=e,o.c=r,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o.oe=function(e){throw console.error(e),e};var s=window.share_bundle_jsonpfunction=window.share_bundle_jsonpfunction||[],a=s.push.bind(s);s.push=t,s=s.slice();for(var i=0;i<s.length;i++)t(s[i]);var c=a;o(o.s=26)}([function(e,t){e.exports=__kbnSharedDeps__.EmotionReact},function(e,t){e.exports=__kbnSharedDeps__.React},function(e,t){e.exports=__kbnSharedDeps__.ElasticEui},function(e,t,r){e.exports=r(9)(2)},function(e,t){e.exports=__kbnSharedDeps__.KbnI18n},function(e,t){e.exports=__kbnSharedDeps__.KbnI18nReact},function(e,t){e.exports=__kbnSharedDeps__.ReactDom},function(e,t,r){"use strict";var n=r(35),o=r(36);function s(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=y,t.resolve=function(e,t){return y(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?y(e,!1,!0).resolveObject(t):t},t.format=function(e){return o.isString(e)&&(e=y(e)),e instanceof s?e.format():s.prototype.format.call(e)},t.Url=s;var a=/^([a-z0-9.+-]+:)/i,i=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(l),h=["%","/","?",";","#"].concat(u),d=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,b={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},j=r(37);function y(e,t,r){if(e&&o.isObject(e)&&e instanceof s)return e;var n=new s;return n.parse(e,t,r),n}s.prototype.parse=function(e,t,r){if(!o.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var s=e.indexOf("?"),i=-1!==s&&s<e.indexOf("#")?"?":"#",l=e.split(i);l[0]=l[0].replace(/\\/g,"/");var y=e=l.join(i);if(y=y.trim(),!r&&1===e.split("#").length){var v=c.exec(y);if(v)return this.path=y,this.href=y,this.pathname=v[1],v[2]?(this.search=v[2],this.query=t?j.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var O=a.exec(y);if(O){var w=(O=O[0]).toLowerCase();this.protocol=w,y=y.substr(O.length)}if(r||O||y.match(/^\/\/[^@\/]+@[^@\/]+/)){var x="//"===y.substr(0,2);!x||O&&m[O]||(y=y.substr(2),this.slashes=!0)}if(!m[O]&&(x||O&&!g[O])){for(var S,_,E=-1,C=0;C<d.length;C++)-1!==(T=y.indexOf(d[C]))&&(-1===E||T<E)&&(E=T);for(-1!==(_=-1===E?y.lastIndexOf("@"):y.lastIndexOf("@",E))&&(S=y.slice(0,_),y=y.slice(_+1),this.auth=decodeURIComponent(S)),E=-1,C=0;C<h.length;C++){var T;-1!==(T=y.indexOf(h[C]))&&(-1===E||T<E)&&(E=T)}-1===E&&(E=y.length),this.host=y.slice(0,E),y=y.slice(E),this.parseHost(),this.hostname=this.hostname||"";var U="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!U)for(var M=this.hostname.split(/\./),R=(C=0,M.length);C<R;C++){var k=M[C];if(k&&!k.match(p)){for(var P="",A=0,L=k.length;A<L;A++)k.charCodeAt(A)>127?P+="x":P+=k[A];if(!P.match(p)){var I=M.slice(0,C),F=M.slice(C+1),D=k.match(f);D&&(I.push(D[1]),F.unshift(D[2])),F.length&&(y="/"+F.join(".")+y),this.hostname=I.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),U||(this.hostname=n.toASCII(this.hostname));var N=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+N,this.href+=this.host,U&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==y[0]&&(y="/"+y))}if(!b[w])for(C=0,R=u.length;C<R;C++){var z=u[C];if(-1!==y.indexOf(z)){var q=encodeURIComponent(z);q===z&&(q=escape(z)),y=y.split(z).join(q)}}var $=y.indexOf("#");-1!==$&&(this.hash=y.substr($),y=y.slice(0,$));var W=y.indexOf("?");if(-1!==W?(this.search=y.substr(W),this.query=y.substr(W+1),t&&(this.query=j.parse(this.query)),y=y.slice(0,W)):t&&(this.search="",this.query={}),y&&(this.pathname=y),g[w]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){N=this.pathname||"";var H=this.search||"";this.path=N+H}return this.href=this.format(),this},s.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",s=!1,a="";this.host?s=e+this.host:this.hostname&&(s=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(s+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(a=j.stringify(this.query));var i=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||g[t])&&!1!==s?(s="//"+(s||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):s||(s=""),n&&"#"!==n.charAt(0)&&(n="#"+n),i&&"?"!==i.charAt(0)&&(i="?"+i),t+s+(r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(i=i.replace("#","%23"))+n},s.prototype.resolve=function(e){return this.resolveObject(y(e,!1,!0)).format()},s.prototype.resolveObject=function(e){if(o.isString(e)){var t=new s;t.parse(e,!1,!0),e=t}for(var r=new s,n=Object.keys(this),a=0;a<n.length;a++){var i=n[a];r[i]=this[i]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),l=0;l<c.length;l++){var u=c[l];"protocol"!==u&&(r[u]=e[u])}return g[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!g[e.protocol]){for(var h=Object.keys(e),d=0;d<h.length;d++){var p=h[d];r[p]=e[p]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||m[e.protocol])r.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),r.pathname=f.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var b=r.pathname||"",j=r.search||"";r.path=b+j}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var y=r.pathname&&"/"===r.pathname.charAt(0),v=e.host||e.pathname&&"/"===e.pathname.charAt(0),O=v||y||r.host&&e.pathname,w=O,x=r.pathname&&r.pathname.split("/")||[],S=(f=e.pathname&&e.pathname.split("/")||[],r.protocol&&!g[r.protocol]);if(S&&(r.hostname="",r.port=null,r.host&&(""===x[0]?x[0]=r.host:x.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),O=O&&(""===f[0]||""===x[0])),v)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,x=f;else if(f.length)x||(x=[]),x.pop(),x=x.concat(f),r.search=e.search,r.query=e.query;else if(!o.isNullOrUndefined(e.search))return S&&(r.hostname=r.host=x.shift(),(U=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=U.shift(),r.host=r.hostname=U.shift())),r.search=e.search,r.query=e.query,o.isNull(r.pathname)&&o.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!x.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var _=x.slice(-1)[0],E=(r.host||e.host||x.length>1)&&("."===_||".."===_)||""===_,C=0,T=x.length;T>=0;T--)"."===(_=x[T])?x.splice(T,1):".."===_?(x.splice(T,1),C++):C&&(x.splice(T,1),C--);if(!O&&!w)for(;C--;C)x.unshift("..");!O||""===x[0]||x[0]&&"/"===x[0].charAt(0)||x.unshift(""),E&&"/"!==x.join("/").substr(-1)&&x.push("");var U,M=""===x[0]||x[0]&&"/"===x[0].charAt(0);return S&&(r.hostname=r.host=M?"":x.length?x.shift():"",(U=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=U.shift(),r.host=r.hostname=U.shift())),(O=O||r.host&&x.length)&&!M&&x.unshift(""),x.length?r.pathname=x.join("/"):(r.pathname=null,r.path=null),o.isNull(r.pathname)&&o.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},s.prototype.parseHost=function(){var e=this.host,t=i.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t){e.exports=__kbnSharedDeps__.KbnSharedUxErrorBoundary},function(e,t){e.exports=__kbnSharedDeps_npm__},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1);t.default=function(){var e=n.useRef(!1),t=n.useCallback((function(){return e.current}),[]);return n.useEffect((function(){return e.current=!0,function(){e.current=!1}})),t}},function(e,t,r){var n,o=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",n={};function o(e,t){if(!n[e]){n[e]={};for(var r=0;r<e.length;r++)n[e][e.charAt(r)]=r}return n[e][t]}var s={compressToBase64:function(e){if(null==e)return"";var r=s._compress(e,6,(function(e){return t.charAt(e)}));switch(r.length%4){default:case 0:return r;case 1:return r+"===";case 2:return r+"==";case 3:return r+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:s._decompress(e.length,32,(function(r){return o(t,e.charAt(r))}))},compressToUTF16:function(t){return null==t?"":s._compress(t,15,(function(t){return e(t+32)}))+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:s._decompress(e.length,16384,(function(t){return e.charCodeAt(t)-32}))},compressToUint8Array:function(e){for(var t=s.compress(e),r=new Uint8Array(2*t.length),n=0,o=t.length;n<o;n++){var a=t.charCodeAt(n);r[2*n]=a>>>8,r[2*n+1]=a%256}return r},decompressFromUint8Array:function(t){if(null==t)return s.decompress(t);for(var r=new Array(t.length/2),n=0,o=r.length;n<o;n++)r[n]=256*t[2*n]+t[2*n+1];var a=[];return r.forEach((function(t){a.push(e(t))})),s.decompress(a.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":s._compress(e,6,(function(e){return r.charAt(e)}))},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),s._decompress(e.length,32,(function(t){return o(r,e.charAt(t))})))},compress:function(t){return s._compress(t,16,(function(t){return e(t)}))},_compress:function(e,t,r){if(null==e)return"";var n,o,s,a={},i={},c="",l="",u="",h=2,d=3,p=2,f=[],b=0,m=0;for(s=0;s<e.length;s+=1)if(c=e.charAt(s),Object.prototype.hasOwnProperty.call(a,c)||(a[c]=d++,i[c]=!0),l=u+c,Object.prototype.hasOwnProperty.call(a,l))u=l;else{if(Object.prototype.hasOwnProperty.call(i,u)){if(u.charCodeAt(0)<256){for(n=0;n<p;n++)b<<=1,m==t-1?(m=0,f.push(r(b)),b=0):m++;for(o=u.charCodeAt(0),n=0;n<8;n++)b=b<<1|1&o,m==t-1?(m=0,f.push(r(b)),b=0):m++,o>>=1}else{for(o=1,n=0;n<p;n++)b=b<<1|o,m==t-1?(m=0,f.push(r(b)),b=0):m++,o=0;for(o=u.charCodeAt(0),n=0;n<16;n++)b=b<<1|1&o,m==t-1?(m=0,f.push(r(b)),b=0):m++,o>>=1}0==--h&&(h=Math.pow(2,p),p++),delete i[u]}else for(o=a[u],n=0;n<p;n++)b=b<<1|1&o,m==t-1?(m=0,f.push(r(b)),b=0):m++,o>>=1;0==--h&&(h=Math.pow(2,p),p++),a[l]=d++,u=String(c)}if(""!==u){if(Object.prototype.hasOwnProperty.call(i,u)){if(u.charCodeAt(0)<256){for(n=0;n<p;n++)b<<=1,m==t-1?(m=0,f.push(r(b)),b=0):m++;for(o=u.charCodeAt(0),n=0;n<8;n++)b=b<<1|1&o,m==t-1?(m=0,f.push(r(b)),b=0):m++,o>>=1}else{for(o=1,n=0;n<p;n++)b=b<<1|o,m==t-1?(m=0,f.push(r(b)),b=0):m++,o=0;for(o=u.charCodeAt(0),n=0;n<16;n++)b=b<<1|1&o,m==t-1?(m=0,f.push(r(b)),b=0):m++,o>>=1}0==--h&&(h=Math.pow(2,p),p++),delete i[u]}else for(o=a[u],n=0;n<p;n++)b=b<<1|1&o,m==t-1?(m=0,f.push(r(b)),b=0):m++,o>>=1;0==--h&&(h=Math.pow(2,p),p++)}for(o=2,n=0;n<p;n++)b=b<<1|1&o,m==t-1?(m=0,f.push(r(b)),b=0):m++,o>>=1;for(;;){if(b<<=1,m==t-1){f.push(r(b));break}m++}return f.join("")},decompress:function(e){return null==e?"":""==e?null:s._decompress(e.length,32768,(function(t){return e.charCodeAt(t)}))},_decompress:function(t,r,n){var o,s,a,i,c,l,u,h=[],d=4,p=4,f=3,b="",m=[],g={val:n(0),position:r,index:1};for(o=0;o<3;o+=1)h[o]=o;for(a=0,c=Math.pow(2,2),l=1;l!=c;)i=g.val&g.position,g.position>>=1,0==g.position&&(g.position=r,g.val=n(g.index++)),a|=(i>0?1:0)*l,l<<=1;switch(a){case 0:for(a=0,c=Math.pow(2,8),l=1;l!=c;)i=g.val&g.position,g.position>>=1,0==g.position&&(g.position=r,g.val=n(g.index++)),a|=(i>0?1:0)*l,l<<=1;u=e(a);break;case 1:for(a=0,c=Math.pow(2,16),l=1;l!=c;)i=g.val&g.position,g.position>>=1,0==g.position&&(g.position=r,g.val=n(g.index++)),a|=(i>0?1:0)*l,l<<=1;u=e(a);break;case 2:return""}for(h[3]=u,s=u,m.push(u);;){if(g.index>t)return"";for(a=0,c=Math.pow(2,f),l=1;l!=c;)i=g.val&g.position,g.position>>=1,0==g.position&&(g.position=r,g.val=n(g.index++)),a|=(i>0?1:0)*l,l<<=1;switch(u=a){case 0:for(a=0,c=Math.pow(2,8),l=1;l!=c;)i=g.val&g.position,g.position>>=1,0==g.position&&(g.position=r,g.val=n(g.index++)),a|=(i>0?1:0)*l,l<<=1;h[p++]=e(a),u=p-1,d--;break;case 1:for(a=0,c=Math.pow(2,16),l=1;l!=c;)i=g.val&g.position,g.position>>=1,0==g.position&&(g.position=r,g.val=n(g.index++)),a|=(i>0?1:0)*l,l<<=1;h[p++]=e(a),u=p-1,d--;break;case 2:return m.join("")}if(0==d&&(d=Math.pow(2,f),f++),h[u])b=h[u];else{if(u!==p)return null;b=s+s.charAt(0)}m.push(b),h[p++]=s+b.charAt(0),s=b,0==--d&&(d=Math.pow(2,f),f++)}}};return s}();void 0===(n=function(){return o}.call(t,r,t,e))||(e.exports=n)},function(e,t){e.exports=__kbnSharedDeps__.EmotionCache},function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return s}));var n=r(2);const o=e=>e.darkMode?n.COLOR_MODES_STANDARD.dark:n.COLOR_MODES_STANDARD.light,s={darkMode:!1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(33),o=r(1),s=n.__importDefault(r(34));t.default=function(e,t){var r=o.useState(t),n=r[0],a=r[1];return s.default((function(){var t=e.subscribe(a);return function(){return t.unsubscribe()}}),[e]),n}},function(e,t,r){"use strict";var n,o=function(){var e={};return function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}e[t]=r}return e[t]}}(),s=[];function a(e){for(var t=-1,r=0;r<s.length;r++)if(s[r].identifier===e){t=r;break}return t}function i(e,t){for(var r={},n=[],o=0;o<e.length;o++){var i=e[o],c=t.base?i[0]+t.base:i[0],l=r[c]||0,u="".concat(c," ").concat(l);r[c]=l+1;var h=a(u),d={css:i[1],media:i[2],sourceMap:i[3]};-1!==h?(s[h].references++,s[h].updater(d)):s.push({identifier:u,updater:b(d,t),references:1}),n.push(u)}return n}function c(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var s=r.nc;s&&(n.nonce=s)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var a=o(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var l,u=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join("\n")});function h(e,t,r,n){var o=r?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=u(t,o);else{var s=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(s,a[t]):e.appendChild(s)}}function d(e,t,r){var n=r.css,o=r.media,s=r.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),s&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var p=null,f=0;function b(e,t){var r,n,o;if(t.singleton){var s=f++;r=p||(p=c(t)),n=h.bind(null,r,s,!1),o=h.bind(null,r,s,!0)}else r=c(t),n=d.bind(null,r,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(r)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n));var r=i(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<r.length;n++){var o=a(r[n]);s[o].references--}for(var c=i(e,t),l=0;l<r.length;l++){var u=a(r[l]);0===s[u].references&&(s[u].updater(),s.splice(u,1))}r=c}}}},function(e,t,r){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=function(e,t){var r,n,o,s=e[1]||"",a=e[3];if(!a)return s;if(t&&"function"==typeof btoa){var i=(r=a,n=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),"/*# ".concat(o," */")),c=a.sources.map((function(e){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(e," */")}));return[s].concat(c).concat([i]).join("\n")}return[s].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(r,"}"):r})).join("")},t.i=function(e,r,n){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(n)for(var s=0;s<this.length;s++){var a=this[s][0];null!=a&&(o[a]=!0)}for(var i=0;i<e.length;i++){var c=[].concat(e[i]);n&&o[c[0]]||(r&&(c[2]?c[2]="".concat(r," and ").concat(c[2]):c[2]=r),t.push(c))}},t}},function(e,t,r){e.exports=r(9)(4)},function(e,t){e.exports=__kbnSharedDeps__.ElasticEuiLibComponentsUseIsNestedEuiProvider},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setEuiDevProviderWarning=t.getEuiDevProviderWarning=t.emitEuiProviderWarning=void 0;var n=void 0;t.setEuiDevProviderWarning=function(e){return n=e},t.getEuiDevProviderWarning=function(){return n},t.emitEuiProviderWarning=function(e){if("function"==typeof n)return n(e);switch(n){case"log":console.log(e);break;case"warn":console.warn(e);break;case"error":throw new Error(e)}}},function(e,t,r){"use strict";r.d(t,"b",(function(){return O})),r.d(t,"a",(function(){return v}));var n=r(1),o=r(18),s=r(19),a=r(14),i=r.n(a),c=r(12),l=r.n(c),u=r(2);const h="eui-global",d="eui-utilities";var p=r(13),f=r(0);const b=[u.euiStylisPrefixer],m=l()({key:"css",stylisPlugins:b,container:document.querySelector('meta[name="emotion"]')}),g=l()({key:h,stylisPlugins:b,container:document.querySelector(`meta[name="${h}"]`)}),j=l()({key:d,stylisPlugins:b,container:document.querySelector(`meta[name="${d}"]`)});m.compat=!0,g.compat=!0,j.compat=!0;const y={default:m,global:g,utility:j},v=({theme:{theme$:e},globalStyles:t,colorMode:r,modify:o,children:s})=>{const a=i()(e,p.a),c=Object(n.useMemo)((()=>Object(p.b)(a)),[a]),l=r||c,h=!1!==t&&void 0;return Object(f.jsx)(u.EuiProvider,{cache:y,modify:o,colorMode:l,globalStyles:h,utilityClasses:h},s)},O=({children:e,i18n:t,...r})=>Object(o.useIsNestedEuiProvider)()?(Object(s.emitEuiProviderWarning)("KibanaRootContextProvider has likely been nested in this React tree, either by direct reference or by KibanaRenderContextProvider.  The result of this nesting is a nesting of EuiProvider, which has negative effects.  Check your React tree for nested Kibana context providers."),Object(f.jsx)(t.Context,null,e)):Object(f.jsx)(v,r,Object(f.jsx)(t.Context,null,e))},function(e,t){e.exports=__kbnSharedDeps__.Lodash},function(e,t,r){r.r(t);var n=__kbnBundles__.get("plugin/kibanaUtils/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t){e.exports=__kbnSharedDeps__.Rxjs},function(e,t,r){var n,o=o||function(e){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var t=e.document,r=function(){return e.URL||e.webkitURL||e},n=t.createElementNS("http://www.w3.org/1999/xhtml","a"),o="download"in n,s=e.webkitRequestFileSystem,a=e.requestFileSystem||s||e.mozRequestFileSystem,i=function(t){(e.setImmediate||e.setTimeout)((function(){throw t}),0)},c="application/octet-stream",l=0,u=function(t){var n=function(){"string"==typeof t?r().revokeObjectURL(t):t.remove()};e.chrome?n():setTimeout(n,500)},h=function(e,t,r){for(var n=(t=[].concat(t)).length;n--;){var o=e["on"+t[n]];if("function"==typeof o)try{o.call(e,r||e)}catch(e){i(e)}}},d=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e},p=function(t,i,p){p||(t=d(t));var f,b,m,g=this,j=t.type,y=!1,v=function(){h(g,"writestart progress write writeend".split(" "))},O=function(){!y&&f||(f=r().createObjectURL(t)),b?b.location.href=f:null==e.open(f,"_blank")&&"undefined"!=typeof safari&&(e.location.href=f),g.readyState=g.DONE,v(),u(f)},w=function(e){return function(){if(g.readyState!==g.DONE)return e.apply(this,arguments)}},x={create:!0,exclusive:!1};if(g.readyState=g.INIT,i||(i="download"),o)return f=r().createObjectURL(t),n.href=f,n.download=i,void setTimeout((function(){var e,t;e=n,t=new MouseEvent("click"),e.dispatchEvent(t),v(),u(f),g.readyState=g.DONE}));e.chrome&&j&&j!==c&&(m=t.slice||t.webkitSlice,t=m.call(t,0,t.size,c),y=!0),s&&"download"!==i&&(i+=".download"),(j===c||s)&&(b=e),a?(l+=t.size,a(e.TEMPORARY,l,w((function(e){e.root.getDirectory("saved",x,w((function(e){var r=function(){e.getFile(i,x,w((function(e){e.createWriter(w((function(r){r.onwriteend=function(t){b.location.href=e.toURL(),g.readyState=g.DONE,h(g,"writeend",t),u(e)},r.onerror=function(){var e=r.error;e.code!==e.ABORT_ERR&&O()},"writestart progress write abort".split(" ").forEach((function(e){r["on"+e]=g["on"+e]})),r.write(t),g.abort=function(){r.abort(),g.readyState=g.DONE},g.readyState=g.WRITING})),O)})),O)};e.getFile(i,{create:!1},w((function(e){e.remove(),r()})),w((function(e){e.code===e.NOT_FOUND_ERR?r():O()})))})),O)})),O)):O()},f=p.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,r){return r||(e=d(e)),navigator.msSaveOrOpenBlob(e,t||"download")}:(f.abort=function(){var e=this;e.readyState=e.DONE,h(e,"abort")},f.readyState=f.INIT=0,f.WRITING=1,f.DONE=2,f.error=f.onwritestart=f.onprogress=f.onwrite=f.onabort=f.onerror=f.onwriteend=null,function(e,t,r){return new p(e,t,r)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);
/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */e.exports?e.exports.saveAs=o:null!==r(40)&&null!=r(41)&&(void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n))},function(e,t,r){"use strict";const n=r(42);e.exports=async(e,t,{concurrency:r=1/0,stopOnError:o=!0}={})=>new Promise(((s,a)=>{if("function"!=typeof t)throw new TypeError("Mapper function is required");if(!Number.isSafeInteger(r)&&r!==1/0||!(r>=1))throw new TypeError(`Expected \`concurrency\` to be an integer from 1 and up or \`Infinity\`, got \`${r}\` (${typeof r})`);const i=[],c=[],l=e[Symbol.iterator]();let u=!1,h=!1,d=0,p=0;const f=()=>{if(u)return;const e=l.next(),r=p;if(p++,e.done)return h=!0,void(0===d&&(o||0===c.length?s(i):a(new n(c))));d++,(async()=>{try{const n=await e.value;i[r]=await t(n,r),d--,f()}catch(e){o?(u=!0,a(e)):(c.push(e),d--,f())}})()};for(let e=0;e<r&&(f(),!h);e++);}))},function(e,t,r){r(27),__kbnBundles__.define("plugin/share/public",r,46)},function(e,t,r){r.p=window.__kbnPublicPath__.share},function(e,t,r){switch(window.__kbnThemeTag__){case"v8dark":return r(29);case"v8light":return r(31)}},function(e,t,r){var n=r(15),o=r(30);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);n(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},function(e,t,r){(t=r(16)(!1)).push([e.i,".kbnShareContextMenu__finalPanel{padding:16px}",""]),e.exports=t},function(e,t,r){var n=r(15),o=r(32);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);n(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},function(e,t,r){(t=r(16)(!1)).push([e.i,".kbnShareContextMenu__finalPanel{padding:16px}",""]),e.exports=t},function(e,t){e.exports=__kbnSharedDeps__.TsLib},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o="undefined"!=typeof window?n.useLayoutEffect:n.useEffect;t.default=o},function(e,t,r){e.exports=r(9)(3089)},function(e,t,r){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,r){"use strict";t.decode=t.parse=r(38),t.encode=t.stringify=r(39)},function(e,t,r){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,s){t=t||"&",r=r||"=";var a={};if("string"!=typeof e||0===e.length)return a;var i=/\+/g;e=e.split(t);var c=1e3;s&&"number"==typeof s.maxKeys&&(c=s.maxKeys);var l=e.length;c>0&&l>c&&(l=c);for(var u=0;u<l;++u){var h,d,p,f,b=e[u].replace(i,"%20"),m=b.indexOf(r);m>=0?(h=b.substr(0,m),d=b.substr(m+1)):(h=b,d=""),p=decodeURIComponent(h),f=decodeURIComponent(d),n(a,p)?o(a[p])?a[p].push(f):a[p]=[a[p],f]:a[p]=f}return a};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,r){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,i){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?s(a(e),(function(a){var i=encodeURIComponent(n(a))+r;return o(e[a])?s(e[a],(function(e){return i+encodeURIComponent(n(e))})).join(t):i+encodeURIComponent(n(e[a]))})).join(t):i?encodeURIComponent(n(i))+r+encodeURIComponent(n(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function s(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var a=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},function(e,t,r){e.exports=r(9)(1784)},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,r){"use strict";const n=r(43),o=r(44);class AggregateError extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError("Expected input to be an Array, got "+typeof e);let t=(e=[...e].map((e=>e instanceof Error?e:null!==e&&"object"==typeof e?Object.assign(new Error(e.message),e):new Error(e)))).map((e=>"string"==typeof e.stack?o(e.stack).replace(/\s+at .*aggregate-error\/index.js:\d+:\d+\)?/g,""):String(e))).join("\n");t="\n"+n(t,4),super(t),this.name="AggregateError",Object.defineProperty(this,"_errors",{value:e})}*[Symbol.iterator](){for(const e of this._errors)yield e}}e.exports=AggregateError},function(e,t,r){"use strict";e.exports=(e,t=1,r)=>{if(r={indent:" ",includeEmptyLines:!1,...r},"string"!=typeof e)throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof e}\``);if("number"!=typeof t)throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof t}\``);if("string"!=typeof r.indent)throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof r.indent}\``);if(0===t)return e;const n=r.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return e.replace(n,r.indent.repeat(t))}},function(e,t,r){"use strict";const n=r(45),o=/\s+at.*(?:\(|\s)(.*)\)?/,s=/^(?:(?:(?:node|(?:internal\/[\w/]*|.*node_modules\/(?:babel-polyfill|pirates)\/.*)?\w+)\.js:\d+:\d+)|native)/,a=void 0===n.homedir?"":n.homedir();e.exports=(e,t)=>(t=Object.assign({pretty:!1},t),e.replace(/\\/g,"/").split("\n").filter((e=>{const t=e.match(o);if(null===t||!t[1])return!0;const r=t[1];return!r.includes(".app/Contents/Resources/electron.asar")&&!r.includes(".app/Contents/Resources/default_app.asar")&&!s.test(r)})).filter((e=>""!==e.trim())).map((e=>t.pretty?e.replace(o,((e,t)=>e.replace(t,t.replace(a,"~")))):e)).join("\n"))},function(e,t){},function(e,t,r){"use strict";r.r(t),r.d(t,"CSV_QUOTE_VALUES_SETTING",(function(){return o})),r.d(t,"CSV_SEPARATOR_SETTING",(function(){return n})),r.d(t,"useLocatorUrl",(function(){return l})),r.d(t,"downloadMultipleAs",(function(){return oe})),r.d(t,"downloadFileAs",(function(){return ne})),r.d(t,"plugin",(function(){return se}));const n="csv:separator",o="csv:quoteValues";var s=r(1),a=r.n(s),i=r(10),c=r.n(i);const l=(e,t,r,n=[])=>{const[o,a]=Object(s.useState)(""),i=c()();return Object(s.useEffect)((()=>{e?e.getUrl(t,r).then((e=>{i()&&a(e)})).catch((e=>{i()&&(console.error("useLocatorUrl",e),a(""))})):a("")}),[e,...n]),o};var u=r(3),h=r.n(u);r(28);class share_menu_registry_ShareMenuRegistry{constructor(){h()(this,"shareMenuProviders",new Map)}setup(){return{register:e=>{if(this.shareMenuProviders.has(e.id))throw new Error(`Share menu provider with id [${e.id}] has already been registered. Use a unique id.`);this.shareMenuProviders.set(e.id,e)}}}start(){return{getShareMenuItems:e=>Array.from(this.shareMenuProviders.values()).flatMap((t=>t.getShareMenuItems(e)))}}}var d=r(6),p=r.n(d),f=r(17),b=r.n(f),m=r(20),g=r(8),j=r(0);const y=({children:e,...t})=>Object(j.jsx)(m.b,b()({globalStyles:!1},t),Object(j.jsx)(g.KibanaErrorBoundaryProvider,{analytics:t.analytics},Object(j.jsx)(g.KibanaErrorBoundary,null,e)));var v=r(4);s.Component;var O=r(2),w=r(21);const x=Object(w.once)((()=>Object(s.createContext)({tabs:[],state:{meta:{selectedTabId:null}},dispatch:()=>{}}))),S=(e,t)=>"META_selectedTabId"===t.type?{...e,selectedTabId:t.payload}:e;function _({tabs:e,defaultSelectedTabId:t,children:r}){const n=x(),o=Object(s.useRef)([]),a=Object(s.useRef)({meta:{selectedTabId:t}}),i=Object(s.useMemo)((()=>e.reduce(((e,{reducer:t,initialState:r,...n})=>(a.current[n.id]=null!=r?r:{},o.current.push({...n}),e[n.id]=t,e)),{})),[e]),c=Object(s.useCallback)((function(e){return(t,r)=>{const n={...t};if(/^meta_/i.test(r.type))n.meta=S(n.meta,r);else{const o=t.meta.selectedTabId,s=e[o];s&&(n[o]=s(n[o],r))}return n}}),[]),l=Object(s.useCallback)((e=>e),[]),[u,h]=Object(s.useReducer)(c(i),a.current,l);return Object(j.jsx)(n.Provider,{value:{tabs:o.current,state:u,dispatch:h}},r)}const E=({onClose:e,modalTitle:t,modalWidth:r,anchorElement:n})=>{const{tabs:o,state:i,dispatch:c}=Object(s.useContext)(x()),l=i.meta.selectedTabId,u=Object(O.useGeneratedHtmlId)(),h=Object(s.useMemo)((()=>l?i[l]:{}),[l,i]),{content:d,modalActionBtn:p}=Object(s.useMemo)((()=>o.find((e=>e.id===l))),[l,o]),f=Object(s.useCallback)((e=>{c({type:"META_selectedTabId",payload:e})}),[c]),b=Object(s.useCallback)((()=>o.map(((e,t)=>Object(j.jsx)(O.EuiTab,{key:t,onClick:()=>f(e.id),isSelected:e.id===l,disabled:e.disabled,prepend:e.prepend,append:e.append,"data-test-subj":e.id},e.name)))),[f,l,o]);return Object(j.jsx)(O.EuiModal,{onClose:()=>{e(),setTimeout((()=>null==n?void 0:n.focus()),1)},style:{...r?{width:r}:{}},maxWidth:!0,"data-test-subj":"shareContextModal","aria-labelledby":u},Object(j.jsx)(O.EuiModalHeader,null,Object(j.jsx)(O.EuiModalHeaderTitle,{id:u},t)),Object(j.jsx)(O.EuiModalBody,null,Object(j.jsx)(s.Fragment,null,Object(j.jsx)(O.EuiTabs,null,b()),a.a.createElement(d,{state:h,dispatch:c}))),void 0!==(null==p?void 0:p.id)&&h&&Object(j.jsx)(O.EuiModalFooter,null,Object(j.jsx)(O.EuiButton,{fill:!0,"data-test-subj":p.dataTestSubj,"data-share-url":i.url,onClick:()=>{p.handler({state:h})}},p.label)))};function C({tabs:e,defaultSelectedTabId:t,...r}){return Object(j.jsx)(_,{tabs:e,defaultSelectedTabId:t},Object(j.jsx)(E,r))}const T=Object(s.createContext)(null),U=()=>Object(s.useContext)(T);var M=r(5);const R=({objectType:e,isDirty:t,shareableUrl:r,urlService:n,shareableUrlLocatorParams:o,allowShortUrl:i,delegatedShareUrlHandler:c})=>{const[l,u]=Object(s.useState)(""),[h]=Object(s.useState)(void 0),[d,p]=Object(s.useState)(!1),[f,b]=Object(s.useState)(void 0),m=Object(s.useCallback)((e=>{const t=h?Object.keys(h).reduce(((e,t)=>{const r=h[t];return r?Object.keys(r).reduce(((e,t)=>r[t]?e+`&${t}=true`:e),e):e}),e):e;return u(t),t}),[h]),g=Object(s.useCallback)((()=>m(r||window.location.href)),[m,r]),y=Object(s.useCallback)((async()=>{if(o){const e=n.shortUrls.get(null),t=await e.createWithLocator(o),r=await t.locator.getUrl(t.params,{absolute:!0});return b(r),r}{const e=g(),t=await n.shortUrls.get(null).createFromLongUrl(e);return b(t.url),t.url}}),[o,n.shortUrls,g,b]),w=Object(s.useCallback)((async()=>{let e=l;return e&&!c||(e=c?null==c?void 0:c():i?await y():g()),Object(O.copyToClipboard)(e),u(e),p(!0),e}),[l,c,i,y,g]),x=Object(s.useMemo)((()=>"search"===e&&i?"search"===e&&i?f:w():g()),[e,g,i,f,w]);return Object(j.jsx)(a.a.Fragment,null,Object(j.jsx)(O.EuiForm,null,Object(j.jsx)(O.EuiSpacer,{size:"m"}),Object(j.jsx)(O.EuiText,{size:"s"},Object(j.jsx)(M.FormattedMessage,{id:"share.link.helpText",defaultMessage:"Share a direct link to this {objectType}.",values:{objectType:e}})),t&&"lens"===e&&Object(j.jsx)(a.a.Fragment,null,Object(j.jsx)(O.EuiSpacer,{size:"m"}),Object(j.jsx)(O.EuiCallOut,{color:"warning",title:Object(j.jsx)(M.FormattedMessage,{id:"share.link.warning.title",defaultMessage:"Unsaved changes"})},Object(j.jsx)(M.FormattedMessage,{id:"share.link.warning.lens",defaultMessage:"Copy the link to get a temporary link. Save the lens visualization to create a permanent link."}))),Object(j.jsx)(O.EuiSpacer,{size:"l"})),Object(j.jsx)(O.EuiFlexGroup,{justifyContent:"flexEnd",responsive:!1},Object(j.jsx)(O.EuiFlexItem,{grow:!1},Object(j.jsx)(O.EuiToolTip,{content:d?v.i18n.translate("share.link.copied",{defaultMessage:"Text copied"}):null},Object(j.jsx)(O.EuiButton,{fill:!0,"data-test-subj":"copyShareUrlButton","data-share-url":x,onBlur:()=>"lens"===e&&t?null:p(!1),onClick:w,color:"lens"===e&&t?"warning":"primary"},Object(j.jsx)(M.FormattedMessage,{id:"share.link.copyLinkButton",defaultMessage:"Copy link"}))))))},k="SET_DASHBOARD_URL",P="SET_IS_NOT_SAVED",A={id:"link",name:v.i18n.translate("share.contextMenu.permalinksTab",{defaultMessage:"Links"}),description:v.i18n.translate("share.dashboard.link.description",{defaultMessage:"Share a direct link to this search."}),content:({state:e,dispatch:t})=>{const{objectType:r,objectId:n,isDirty:o,shareableUrl:a,urlService:i,shareableUrlLocatorParams:c,allowShortUrl:l,delegatedShareUrlHandler:u}=U(),h=Object(s.useCallback)((e=>{t({type:k,payload:e})}),[t]),d=Object(s.useCallback)((()=>{t({type:P,payload:("lens"===r||"dashboard"===r&&!l)&&o})}),[t,r,o,l]),p=Object(s.useCallback)((()=>{t({type:P,payload:p})}),[t]);return Object(j.jsx)(R,{objectType:r,objectId:n,isDirty:o,shareableUrl:a,urlService:i,shareableUrlLocatorParams:c,dashboardLink:null==e?void 0:e.dashboardUrl,setDashboardLink:h,isNotSaved:null==e?void 0:e.isNotSaved,setIsNotSaved:d,allowShortUrl:l,setIsClicked:null==e?void 0:e.setIsClicked,delegatedShareUrlHandler:u})},reducer:(e={dashboardUrl:"",isNotSaved:!1,setIsClicked:!1},t)=>{switch(t.type){case k:return{...e,dashboardUrl:t.payload};case P:return{...e,isNotSaved:t.payload};default:return e}}};var L=r(7);let I=function(e){return e.EXPORT_URL_AS_SAVED_OBJECT="savedObject",e.EXPORT_URL_AS_SNAPSHOT="snapshot",e}({});const F=({embedUrlParamExtensions:e,shareableUrlForSavedObject:t,shareableUrl:r,isEmbedded:n,objectType:o,setIsNotSaved:i})=>{const l=c()(),[u,h]=Object(s.useState)(void 0),[d]=Object(s.useState)(!0),[p]=Object(s.useState)(I.EXPORT_URL_AS_SAVED_OBJECT),[f,b]=Object(s.useState)(""),[m,g]=Object(s.useState)(void 0),[y]=Object(s.useState)(null),[v]=Object(s.useState)(!1);Object(s.useEffect)((()=>{"dashboard"!==o&&i()}),[f,i,o]);const w=Object(s.useCallback)((e=>u?Object.keys(u).reduce(((e,t)=>{const r=u[t];return r?Object.keys(r).reduce(((e,t)=>r[t]?e+`&${t}=true`:e),e):e}),e):e),[u]),x=Object(s.useCallback)((e=>u?w(e):e),[w,u]),S=Object(s.useCallback)((e=>{let n="";return e&&t&&(n=t),n||(n=r||window.location.href),x(n)}),[r,t,x]),_=Object(s.useCallback)((()=>{const e=S(!0),t=Object(L.parse)(e);if(!t||!t.hash)return;const r=Object(L.parse)(t.hash.slice(1),!0),n=Object(L.format)({protocol:t.protocol,auth:t.auth,host:t.host,pathname:t.pathname,hash:Object(L.format)({pathname:r.pathname,query:{_g:r.query._g}})});return x(n)}),[S,x]),E=Object(s.useCallback)((e=>{if(!y||!v)return e;const t=new URL(e);for(const[e,r]of Object.entries(y))t.searchParams.set(e,r);return t.toString()}),[y,v]),C=Object(s.useCallback)((()=>{let e;e=p===I.EXPORT_URL_AS_SAVED_OBJECT?_():d&&m?m:S(),e&&(e=E(e)),n&&(e=(e=>{if(e)return`<iframe src="${e}" height="600" width="800"></iframe>`})(e)),b(e)}),[E,p,_,S,n,m,d]),T=Object(s.useCallback)((()=>{l()&&(g(void 0),C())}),[l,C]);Object(s.useEffect)((()=>{C(),w(f),window.addEventListener("hashchange",T,!1)}),[w,T,C,f]);const U="dashboard"===o?Object(j.jsx)(M.FormattedMessage,{id:"share.embed.dashboard.helpText",defaultMessage:"Embed this dashboard into another webpage. Select which items to include in the embeddable view."}):Object(j.jsx)(M.FormattedMessage,{id:"share.embed.helpText",defaultMessage:"Embed this {objectType} into another webpage.",values:{objectType:o}});return Object(j.jsx)(a.a.Fragment,null,Object(j.jsx)(O.EuiForm,null,Object(j.jsx)(O.EuiSpacer,{size:"m"}),Object(j.jsx)(O.EuiText,{size:"s"},U),Object(j.jsx)(O.EuiSpacer,null),(()=>{if(!e)return null;const t=e=>(t={})=>{h({...u,[e]:{...t}}),C()};return Object(j.jsx)(a.a.Fragment,null,e.map((({paramName:e,component:r})=>Object(j.jsx)(O.EuiFormRow,{key:e},Object(j.jsx)(r,{setParamValue:t(e)})))))})(),Object(j.jsx)(O.EuiSpacer,null)),Object(j.jsx)(O.EuiFlexGroup,{justifyContent:"flexEnd",responsive:!1},Object(j.jsx)(O.EuiFlexItem,{grow:!1},Object(j.jsx)(O.EuiCopy,{textToCopy:f},(e=>Object(j.jsx)(O.EuiButton,{"data-test-subj":"copyEmbedUrlButton",onClick:e,"data-share-url":f,fill:!0},Object(j.jsx)(M.FormattedMessage,{id:"share.link.copyEmbedCodeButton",defaultMessage:"Copy embed code"})))))))},D="SET_IS_NOT_SAVED",N={id:"embed",name:v.i18n.translate("share.contextMenu.embedCodeTab",{defaultMessage:"Embed"}),reducer:(e={url:"",isNotSaved:!1},t)=>{switch(t.type){case D:case D:return{...e,isNotSaved:t.payload};default:return e}},content:({state:e,dispatch:t})=>{const{embedUrlParamExtensions:r,shareableUrlForSavedObject:n,shareableUrl:o,isEmbedded:a,objectType:i,isDirty:c}=U(),l=Object(s.useCallback)((()=>{t({type:D,payload:"dashboard"===i&&c})}),[t,i,c]);return Object(j.jsx)(F,{embedUrlParamExtensions:r,shareableUrlForSavedObject:n,shareableUrl:o,isEmbedded:a,objectType:i,isNotSaved:null==e?void 0:e.isNotSaved,setIsNotSaved:l})}};var B={name:"1rey5vk",styles:"text-wrap:nowrap"},z={name:"y6n6nb",styles:"flex-grow:0"};const q=Object(M.injectI18n)((({isDirty:e,aggregateReportTypes:t,intl:r,onClose:n,publicAPIEnabled:o})=>{const[i,c]=Object(s.useState)(!1),[l,u]=Object(s.useState)(!1),h=Object(s.useMemo)((()=>t.filter((({reportType:e})=>e)).map((({reportType:e,label:t})=>({id:e,label:t,"data-test-subj":`${e}-radioOption`})))),[t]),[d,p]=Object(s.useState)(h[0].id),{generateExportButton:f,helpText:b,renderCopyURLButton:m,generateExport:g,absoluteUrl:y,renderLayoutOptionSwitch:v}=Object(s.useMemo)((()=>null==t?void 0:t.find((({reportType:e})=>e===d))),[d,t]),w=Object(s.useCallback)((e=>{u(e.target.checked)}),[u]),x=Object(s.useCallback)((async()=>{try{c(!0),await g({intl:r,optimizedForPrinting:l})}finally{c(!1),null==n||n()}}),[g,r,l,n]),S=Object(s.useCallback)((()=>{if(v)return Object(j.jsx)(O.EuiFlexGroup,{alignItems:"center",gutterSize:"xs",responsive:!1},Object(j.jsx)(O.EuiFlexItem,{grow:!1},Object(j.jsx)(O.EuiSwitch,{label:Object(j.jsx)(O.EuiText,{size:"s",css:B},Object(j.jsx)(M.FormattedMessage,{id:"share.screenCapturePanelContent.optimizeForPrintingLabel",defaultMessage:"For printing"})),checked:l,onChange:w,"data-test-subj":"usePrintLayout"})),Object(j.jsx)(O.EuiFlexItem,{grow:!1},Object(j.jsx)(O.EuiToolTip,{content:Object(j.jsx)(M.FormattedMessage,{id:"share.screenCapturePanelContent.optimizeForPrintingHelpText",defaultMessage:"Uses multiple pages, showing at most 2 visualizations per page "})},Object(j.jsx)(O.EuiIcon,{type:"questionInCircle"}))))}),[l,v,w]),_=Object(s.useCallback)((()=>{if(m&&o)return Object(j.jsx)(O.EuiFlexGroup,{alignItems:"center",gutterSize:"xs",responsive:!1,css:z},Object(j.jsx)(O.EuiFlexItem,{grow:!1},Object(j.jsx)(O.EuiCopy,{textToCopy:null!=y?y:""},(e=>Object(j.jsx)(O.EuiButtonEmpty,{iconType:"copyClipboard",onClick:e,"data-test-subj":"shareReportingCopyURL","data-share-url":y},Object(j.jsx)(M.FormattedMessage,{id:"share.modalContent.copyUrlButtonLabel",defaultMessage:"Copy Post URL"}))))),Object(j.jsx)(O.EuiFlexItem,{grow:!1},Object(j.jsx)(O.EuiToolTip,{content:Object(j.jsx)(O.EuiText,{size:"s"},Object(j.jsx)(M.FormattedMessage,{id:"share.postURLWatcherMessage",defaultMessage:"Copy this POST URL to call generation from outside Kibana or from Watcher."}))},Object(j.jsx)(O.EuiIcon,{type:"questionInCircle"}))))}),[y,m,o]),E=Object(s.useCallback)((()=>Object(j.jsx)(O.EuiButton,{fill:!0,color:e?"warning":"primary",onClick:x,"data-test-subj":"generateReportButton",isLoading:i},f)),[f,x,i,e]);return Object(j.jsx)(a.a.Fragment,null,Object(j.jsx)(O.EuiForm,null,Object(j.jsx)(O.EuiSpacer,{size:"l"}),Object(j.jsx)(a.a.Fragment,null,b),Object(j.jsx)(O.EuiSpacer,{size:"m"}),Object(j.jsx)(a.a.Fragment,null,(()=>{if(h.length>1)return Object(j.jsx)(O.EuiFlexGroup,{direction:"row",justifyContent:"spaceBetween"},Object(j.jsx)(O.EuiRadioGroup,{options:h,onChange:e=>p(e),name:"image reporting radio group",idSelected:d,legend:{children:Object(j.jsx)(M.FormattedMessage,{id:"share.fileType",defaultMessage:"File type"})}}))})()),o&&e&&Object(j.jsx)(a.a.Fragment,null,Object(j.jsx)(O.EuiSpacer,{size:"s"}),Object(j.jsx)(O.EuiCallOut,{color:"warning",title:Object(j.jsx)(M.FormattedMessage,{id:"share.link.warning.title",defaultMessage:"Unsaved changes"})},Object(j.jsx)(M.FormattedMessage,{id:"share.postURLWatcherMessage.unsavedChanges",defaultMessage:"URL may change if you upgrade Kibana."}))),Object(j.jsx)(O.EuiSpacer,{size:"xl"})),Object(j.jsx)(O.EuiFlexGroup,{justifyContent:"flexEnd",responsive:!1,gutterSize:"m"},Object(j.jsx)(a.a.Fragment,null,S()),Object(j.jsx)(a.a.Fragment,null,_()),Object(j.jsx)(a.a.Fragment,null,E())))})),$={id:"export",name:v.i18n.translate("share.contextMenu.exportCodeTab",{defaultMessage:"Export"}),content:()=>{const{shareMenuItems:e,objectType:t,isDirty:r,onClose:n,publicAPIEnabled:o}=U();return Object(j.jsx)(q,{objectType:t,isDirty:r,onClose:n,aggregateReportTypes:e,publicAPIEnabled:null==o||o})}},W=({shareContext:e})=>Object(j.jsx)(T.Provider,{value:e},Object(j.jsx)(H,null)),H=()=>{const e=U();if(!e)return null;const{allowEmbed:t,objectTypeMeta:r,onClose:n,shareMenuItems:o,anchorElement:s}=e,a=[];return a.push(A),o.length>0&&a.push($),t&&a.push(N),Object(j.jsx)(C,{tabs:a,modalWidth:498,onClose:n,modalTitle:r.title,defaultSelectedTabId:"link",anchorElement:s})};class share_menu_manager_ShareMenuManager{constructor(){h()(this,"isOpen",!1),h()(this,"container",document.createElement("div")),h()(this,"onClose",(()=>{p.a.unmountComponentAtNode(this.container),this.isOpen=!1}))}start(e,t,r,n,o){return{toggleShareContextMenu:s=>{const a=()=>{var e;this.onClose(),null===(e=s.onClose)||void 0===e||e.call(s)},i=r.getShareMenuItems({...s,onClose:a}),c=null==o?void 0:o();this.toggleShareContextMenu({...s,allowEmbed:!n&&s.allowEmbed,onClose:a,menuItems:i,urlService:t,anonymousAccess:c,theme:e.theme,overlays:e.overlays,i18n:e.i18n,toasts:e.notifications.toasts,publicAPIEnabled:!n})}}}toggleShareContextMenu({anchorElement:e,allowEmbed:t,allowShortUrl:r,objectId:n,objectType:o,objectTypeMeta:s,sharingData:a,menuItems:i,shareableUrl:c,shareableUrlLocatorParams:l,embedUrlParamExtensions:u,theme:h,showPublicUrlSwitch:d,urlService:f,anonymousAccess:b,snapshotShareWarning:m,onClose:g,disabledShareUrl:v,overlays:O,i18n:w,isDirty:x,toasts:S,delegatedShareUrlHandler:_,publicAPIEnabled:E}){this.isOpen?g():(this.isOpen=!0,document.body.appendChild(this.container),e.onclick((()=>{const C=O.openModal((T=Object(j.jsx)(W,{shareContext:{publicAPIEnabled:E,anchorElement:e,allowEmbed:t,allowShortUrl:r,objectId:n,objectType:o,objectTypeMeta:s,sharingData:a,shareableUrl:c,shareableUrlLocatorParams:l,delegatedShareUrlHandler:_,embedUrlParamExtensions:u,anonymousAccess:b,showPublicUrlSwitch:d,urlService:f,snapshotShareWarning:m,disabledShareUrl:v,isDirty:x,isEmbedded:t,shareMenuItems:i,toasts:S,onClose:()=>{g(),C.close()},theme:h,i18n:w}}),U={i18n:w,theme:h},e=>(p.a.render(Object(j.jsx)(y,U,T),e),()=>p.a.unmountComponentAtNode(e))),{"data-test-subj":"share-modal"});var T,U})()))}}var G=r(11);class locator_Locator{constructor(e,t){h()(this,"id",void 0),h()(this,"migrations",void 0),h()(this,"telemetry",((e,t)=>this.definition.telemetry?this.definition.telemetry(e,t):t)),h()(this,"inject",((e,t)=>this.definition.inject?this.definition.inject(e,t):e)),h()(this,"extract",(e=>this.definition.extract?this.definition.extract(e):{state:e,references:[]})),h()(this,"useUrl",((e,t,r=[])=>l(this,e,t,r))),this.definition=e,this.deps=t,this.id=e.id,this.migrations=e.migrations||{}}async getLocation(e){return await this.definition.getLocation(e)}async getUrl(e,{absolute:t=!1}={}){const r=await this.getLocation(e);return this.deps.getUrl(r,{absolute:t})}getRedirectUrl(e,t={}){var r;const{baseUrl:n="",version:o="0.0.0"}=this.deps;return n+"/app/r?"+function(e,{lzCompress:t}={}){const r=new URLSearchParams;r.set("l",e.id),r.set("v",e.version);const n=JSON.stringify(e.params);if(t){const e=Object(G.compressToBase64)(n);r.set("lz",e)}else r.set("p",JSON.stringify(e.params));return r}({id:this.definition.id,version:o,params:e},{...t,lzCompress:null===(r=t.lzCompress)||void 0===r||r}).toString()}async navigate(e,{replace:t=!1}={}){const r=await this.getLocation(e);await this.deps.navigate(r,{replace:t})}navigateSync(e,t={}){this.navigate(e,t).catch((r=>{console.log(`Failed to navigate [locator = ${this.id}].`,e,t),console.error(r)}))}}class locator_client_LocatorClient{constructor(e){h()(this,"locators",new Map),h()(this,"getAllMigrations",(()=>{const e=this.migrations(),t={},r=new Set;for(const t of Object.values(e))for(const e of Object.keys(t))r.add(e);for(const n of r.values()){const r=t=>{const r=e[t.id];if(!r)return t;const o=r[n];return o?{...t,version:n,state:o(t.state)}:t};t[n]=r}return t})),this.deps=e}create(e){const t=new locator_Locator(e,this.deps);return this.locators.set(e.id,t),t}get(e){return this.locators.get(e)}getOrThrow(e){const t=this.locators.get(e);if(!t)throw new Error(`Locator [ID = "${e}"] is not registered.`);return t}migrations(){const e={};for(const t of this.locators.values())e[t.id]="function"==typeof t.migrations?t.migrations():t.migrations;return e}telemetry(e,t){for(const r of this.locators.values())t=r.telemetry(e.state,t);return t}inject(e,t){const r=this.getOrThrow(e.id),n=t.filter((e=>e.name.startsWith("params:"))).map((e=>({...e,name:e.name.substr(7)})));return{...e,state:r.inject(e.state,n)}}extract(e){const t=this.getOrThrow(e.id).extract(e.state);return{state:{...e,state:t.state},references:t.references.map((e=>({...e,name:"params:"+e.name})))}}}class url_service_UrlService{constructor(e){h()(this,"locators",void 0),h()(this,"shortUrls",void 0),this.deps=e,this.locators=new locator_client_LocatorClient(e),this.shortUrls=e.shortUrls({locators:this.locators})}}var K=r(22),J=r(23);const V=/^\/app\/[^/]+.+$/,X="LEGACY_SHORT_URL_LOCATOR";class legacy_short_url_locator_LegacyShortUrlLocatorDefinition{constructor(){h()(this,"id",X)}async getLocation(e){const{url:t}=e;!function(e){if(!V.test(e)||e.includes("/../"))throw new Error(`Invalid short URL: ${e}`)}(t);const r=t.match(/^.*\/app\/([^\/#]+)(.+)$/);if(!r)throw new Error("Unexpected URL path.");const[,n,o]=r;if(!n||!o)throw new Error("Could not parse URL path.");return{app:n,path:o,state:{}}}}function Y(e,t){return e.basePath.prepend(t.get("defaultRoute"))}class redirect_manager_RedirectManager{constructor(e){h()(this,"error$",new J.BehaviorSubject(null)),this.deps=e}registerLocatorRedirectApp(e){const{application:t,customBranding:n,http:o,theme:s}=e;t.register({id:"r",title:"Redirect endpoint",chromeless:!0,mount:async t=>{const{render:a}=await r.e(1).then(r.bind(null,52)),[i]=await e.getStartServices(),{chrome:c,uiSettings:l}=i,u=a(t.element,{manager:this,customBranding:n,docTitle:c.docTitle,theme:s,homeHref:Y(o,l)});return this.onMount(t.history.location),()=>{u()}}})}registerLegacyShortUrlRedirectApp(e){e.application.register({id:"short_url_redirect",appRoute:"/goto",title:"Short URL Redirect",chromeless:!0,mount:async()=>{var t;const n=null===(t=location.pathname.match(new RegExp("/goto/(.*)$")))||void 0===t?void 0:t[1];if(!n)throw new Error("Url id not present in path");const o=this.deps.url,s=o.shortUrls.get(null),a=await s.get(n),i=a.data.locator.id,c=o.locators.get(i);if(!c)throw new Error(`Locator [id = ${i}] not found.`);const l=a.data.locator.state;if(a.data.locator.id!==X)return await c.navigate(l,{replace:!0}),()=>{};let u=l.url;if(e.uiSettings.get("state:storeInSessionStorage")){const{hashUrl:e}=await Promise.resolve().then(r.t.bind(null,48,7));u=e(u)}const h=e.http.basePath.prepend(u);return location.href=h,()=>{}}})}onMount(e){const t=e.pathname;if(t.startsWith("/s/"))return void this.navigateToShortUrlBySlug(t.substring(3));const r=e.search,n=this.parseSearchParams(r);this.navigate(n)}navigateToShortUrlBySlug(e){(async()=>{const t=this.deps.url,r=t.shortUrls.get(null),n=await r.resolve(e),o=n.data.locator.id,s=t.locators.get(o);if(!s)throw new Error(`Locator "${o}" not found.`);const a=n.data.locator.state;await s.navigate(a,{replace:!0})})().catch((e=>{this.error$.next(e),console.error(e)}))}navigate(e){const t=this.deps.url.locators.get(e.id);if(!t){const t=v.i18n.translate("share.urlService.redirect.RedirectManager.locatorNotFound",{defaultMessage:"Locator [ID = {id}] does not exist.",values:{id:e.id},description:"Error displayed to user in redirect endpoint when redirection cannot be performed successfully, because locator does not exist."}),r=new Error(t);throw this.error$.next(r),r}const r="function"==typeof t.migrations?t.migrations():t.migrations,n=Object(K.migrateToLatest)(r,{state:e.params,version:e.version});t.navigate(n,{replace:!0}).then().catch((e=>{console.log("Redirect endpoint failed to execute locator redirect."),console.error(e)}))}parseSearchParams(e){try{return function(e){const t=new URLSearchParams(e),r=t.get("l"),n=t.get("v"),o=t.get("lz"),s=o?Object(G.decompressFromBase64)(o):t.get("p");if(!r){const e=v.i18n.translate("share.urlService.redirect.RedirectManager.missingParamLocator",{defaultMessage:'Locator ID not specified. Specify "l" search parameter in the URL, which should be an existing locator ID.',description:"Error displayed to user in redirect endpoint when redirection cannot be performed successfully, because of missing locator ID."});throw new Error(e)}if(!n){const e=v.i18n.translate("share.urlService.redirect.RedirectManager.missingParamVersion",{defaultMessage:'Locator params version not specified. Specify "v" search parameter in the URL, which should be the release version of Kibana when locator params were generated.',description:"Error displayed to user in redirect endpoint when redirection cannot be performed successfully, because of missing version parameter."});throw new Error(e)}if(!s){const e=v.i18n.translate("share.urlService.redirect.RedirectManager.missingParamParams",{defaultMessage:'Locator params not specified. Specify "p" search parameter in the URL, which should be JSON serialized object of locator params.',description:"Error displayed to user in redirect endpoint when redirection cannot be performed successfully, because of missing params parameter."});throw new Error(e)}let a;try{a=JSON.parse(s)}catch{const e=v.i18n.translate("share.urlService.redirect.RedirectManager.invalidParamParams",{defaultMessage:'Could not parse locator params. Locator params must be serialized as JSON and set at "p" URL search parameter.',description:"Error displayed to user in redirect endpoint when redirection cannot be performed successfully, because locator parameters could not be parsed as JSON."});throw new Error(e)}return{id:r,version:n,params:a}}(e)}catch(e){throw this.error$.next(e),e}}}const Z="SHORT_URL_REDIRECT_LOCATOR";class short_url_redirect_locator_ShortUrlRedirectLocatorDefinition{constructor(){h()(this,"id",Z)}async getLocation(e){const{slug:t}=e;return{app:"r",path:"s/"+t,state:{}}}}class short_url_client_BrowserShortUrlClient{constructor(e){this.dependencies=e}async create({locator:e,params:t,slug:r}){const{http:n}=this.dependencies;return{data:await n.fetch("/api/short_url",{method:"POST",body:JSON.stringify({locatorId:e.id,slug:r,params:t})})}}async createWithLocator(e){const t=await this.create(e),r=this.dependencies.locators.get(Z),n={slug:t.data.slug};return{...t,locator:r,params:n}}async createFromLongUrl(e){const t=Object(L.parse)(e);if(!t||!t.path)throw new Error(`Invalid URL: ${e}`);const r=t.path.replace(this.dependencies.http.basePath.get(),"")+(t.hash?t.hash:""),n=this.dependencies.locators.get(X);if(!n)throw new Error(`Locator "${X}" not found`);const o=await this.createWithLocator({locator:n,params:{url:r}}),s=await o.locator.getUrl(o.params,{absolute:!0});return{...o,url:s}}async get(e){const{http:t}=this.dependencies;return{data:await t.fetch("/api/short_url/"+e,{method:"GET"})}}async resolve(e){const{http:t}=this.dependencies;return{data:await t.fetch("/api/short_url/_slug/"+e,{method:"GET"})}}async delete(e){const{http:t}=this.dependencies;await t.fetch("/api/short_url/"+e,{method:"DELETE"})}}class short_url_client_factory_BrowserShortUrlClientFactory{constructor(e){this.dependencies=e}get(e){return new short_url_client_BrowserShortUrlClient(this.dependencies)}}const Q={setup(e){e.analytics.registerEventType({eventType:g.REACT_FATAL_ERROR_EVENT_TYPE,schema:g.reactFatalErrorSchema})}};class plugin_SharePlugin{constructor(e){h()(this,"shareMenuRegistry",new share_menu_registry_ShareMenuRegistry),h()(this,"shareContextMenu",new share_menu_manager_ShareMenuManager),h()(this,"redirectManager",void 0),h()(this,"url",void 0),h()(this,"anonymousAccessServiceProvider",void 0),this.initializerContext=e}setup(e){const{analytics:t,http:r}=e,{basePath:n}=r;return this.url=new url_service_UrlService({baseUrl:n.get(),version:this.initializerContext.env.packageInfo.version,navigate:async({app:t,path:r,state:n},{replace:o=!1}={})=>{const[s]=await e.getStartServices();await s.application.navigateToApp(t,{path:r,state:n,replace:o})},getUrl:async({app:t,path:r},{absolute:n})=>(await e.getStartServices())[0].application.getUrlForApp(t,{path:r,absolute:n}),shortUrls:({locators:e})=>new short_url_client_factory_BrowserShortUrlClientFactory({http:r,locators:e})}),this.url.locators.create(new legacy_short_url_locator_LegacyShortUrlLocatorDefinition),this.url.locators.create(new short_url_redirect_locator_ShortUrlRedirectLocatorDefinition),this.redirectManager=new redirect_manager_RedirectManager({url:this.url}),this.redirectManager.registerLocatorRedirectApp(e),this.redirectManager.registerLegacyShortUrlRedirectApp(e),Q.setup({analytics:t}),{...this.shareMenuRegistry.setup(),url:this.url,navigate:e=>this.redirectManager.navigate(e),setAnonymousAccessServiceProvider:e=>{if(this.anonymousAccessServiceProvider)throw new Error("Anonymous Access service provider is already set.");this.anonymousAccessServiceProvider=e}}}start(e){const t="serverless"===this.initializerContext.env.packageInfo.buildFlavor;return{...this.shareContextMenu.start(e,this.url,this.shareMenuRegistry.start(),t,this.anonymousAccessServiceProvider),url:this.url,navigate:e=>this.redirectManager.navigate(e)}}}var ee=r(24),te=r(25),re=r.n(te);function ne(e,t){return oe({[e]:t})}async function oe(e){const t=Object.keys(e).map(((t,r)=>{const n=e[t],o=n instanceof Blob?n:new Blob([n.content],{type:n.type});return()=>Promise.resolve().then((()=>Object(ee.saveAs)(o,t)))}));await re()(t,(e=>Promise.all([e(),new Promise((e=>setTimeout(e,50)))])),{concurrency:1})}function se(e){return new plugin_SharePlugin(e)}},,function(e,t,r){r.r(t);var n=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))}]);