/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.observabilityAiAssistantManagement_bundle_jsonpfunction=window.observabilityAiAssistantManagement_bundle_jsonpfunction||[]).push([[1],Array(22).concat([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.apS=t.apSW=t.bind=t.bindW=t.bindTo=t.exists=t.elem=t.toError=t.either=t.getValidationMonoid=t.MonadThrow=t.ChainRec=t.Extend=t.Alt=t.Bifunctor=t.Traversable=t.Foldable=t.Monad=t.Applicative=t.Functor=t.getValidationSemigroup=t.getValidation=t.getAltValidation=t.getApplicativeValidation=t.getWitherable=t.getFilterable=t.getApplyMonoid=t.getApplySemigroup=t.getSemigroup=t.getEq=t.getShow=t.URI=t.throwError=t.sequence=t.traverse=t.reduceRight=t.foldMap=t.reduce=t.duplicate=t.extend=t.alt=t.flatten=t.chainFirst=t.chainFirstW=t.chain=t.chainW=t.of=t.apSecond=t.apFirst=t.ap=t.apW=t.mapLeft=t.bimap=t.map=t.filterOrElse=t.orElse=t.swap=t.getOrElse=t.getOrElseW=t.fold=t.fromPredicate=t.fromOption=t.stringifyJSON=t.parseJSON=t.tryCatch=t.fromNullable=t.right=t.left=t.isRight=t.isLeft=void 0;var a=n(31),r=n(32);function i(e,n){try{return t.right(e())}catch(e){return t.left(n(e))}}t.isLeft=function(e){return"Left"===e._tag},t.isRight=function(e){return"Right"===e._tag},t.left=function(e){return{_tag:"Left",left:e}},t.right=function(e){return{_tag:"Right",right:e}},t.fromNullable=function(e){return function(n){return null==n?t.left(e):t.right(n)}},t.tryCatch=i,t.parseJSON=function(e,t){return i((function(){return JSON.parse(e)}),t)},t.stringifyJSON=function(e,t){return i((function(){return JSON.stringify(e)}),t)},t.fromOption=function(e){return function(n){return"None"===n._tag?t.left(e()):t.right(n.value)}},t.fromPredicate=function(e,n){return function(a){return e(a)?t.right(a):t.left(n(a))}},t.fold=function(e,n){return function(a){return t.isLeft(a)?e(a.left):n(a.right)}},t.getOrElseW=function(e){return function(n){return t.isLeft(n)?e(n.left):n.right}},t.getOrElse=t.getOrElseW,t.swap=function(e){return t.isLeft(e)?t.right(e.left):t.left(e.right)},t.orElse=function(e){return function(n){return t.isLeft(n)?e(n.left):n}},t.filterOrElse=function(e,n){return t.chain((function(a){return e(a)?t.right(a):t.left(n(a))}))};var s=function(e,n){return r.pipe(e,t.map(n))},o=function(e,n){return r.pipe(e,t.ap(n))},u=function(e,n){return r.pipe(e,t.chain(n))},l=function(e,n,a){return r.pipe(e,t.reduce(n,a))},c=function(e){return function(n,a){var i=t.foldMap(e);return r.pipe(n,i(a))}},d=function(e,n,a){return r.pipe(e,t.reduceRight(n,a))},f=function(e){var n=t.traverse(e);return function(e,t){return r.pipe(e,n(t))}},g=function(e,n,a){return r.pipe(e,t.bimap(n,a))},p=function(e,n){return r.pipe(e,t.mapLeft(n))},b=function(e,n){return r.pipe(e,t.alt(n))},y=function(e,n){return r.pipe(e,t.extend(n))},v=function(e,n){return a.tailRec(n(e),(function(e){return t.isLeft(e)?t.right(t.left(e.left)):t.isLeft(e.right)?t.left(n(e.right.left)):t.right(t.right(e.right.right))}))};function m(e){return{concat:function(n,a){return t.isLeft(n)?n:t.isLeft(a)?a:t.right(e.concat(n.right,a.right))}}}function h(e){var n=t.left(e.empty);return{URI:t.URI,_E:void 0,map:s,compact:function(e){return t.isLeft(e)?e:"None"===e.right._tag?n:t.right(e.right.value)},separate:function(e){return t.isLeft(e)?{left:e,right:e}:t.isLeft(e.right)?{left:t.right(e.right.left),right:n}:{left:n,right:t.right(e.right.right)}},filter:function(e,a){return t.isLeft(e)||a(e.right)?e:n},filterMap:function(e,a){if(t.isLeft(e))return e;var r=a(e.right);return"None"===r._tag?n:t.right(r.value)},partition:function(e,a){return t.isLeft(e)?{left:e,right:e}:a(e.right)?{left:n,right:t.right(e.right)}:{left:t.right(e.right),right:n}},partitionMap:function(e,a){if(t.isLeft(e))return{left:e,right:e};var r=a(e.right);return t.isLeft(r)?{left:t.right(r.left),right:n}:{left:n,right:t.right(r.right)}}}}function j(e){return{URI:t.URI,_E:void 0,map:s,ap:function(n,a){return t.isLeft(n)?t.isLeft(a)?t.left(e.concat(n.left,a.left)):n:t.isLeft(a)?a:t.right(n.right(a.right))},of:t.of}}function x(e){return{URI:t.URI,_E:void 0,map:s,alt:function(n,a){if(t.isRight(n))return n;var r=a();return t.isLeft(r)?t.left(e.concat(n.left,r.left)):r}}}function O(e,n){return{concat:function(a,r){return t.isLeft(a)?t.isLeft(r)?t.left(e.concat(a.left,r.left)):a:t.isLeft(r)?r:t.right(n.concat(a.right,r.right))}}}t.map=function(e){return function(n){return t.isLeft(n)?n:t.right(e(n.right))}},t.bimap=function(e,n){return function(a){return t.isLeft(a)?t.left(e(a.left)):t.right(n(a.right))}},t.mapLeft=function(e){return function(n){return t.isLeft(n)?t.left(e(n.left)):n}},t.apW=function(e){return function(n){return t.isLeft(n)?n:t.isLeft(e)?e:t.right(n.right(e.right))}},t.ap=t.apW,t.apFirst=function(e){return r.flow(t.map((function(e){return function(){return e}})),t.ap(e))},t.apSecond=function(e){return r.flow(t.map((function(){return function(e){return e}})),t.ap(e))},t.of=t.right,t.chainW=function(e){return function(n){return t.isLeft(n)?n:e(n.right)}},t.chain=t.chainW,t.chainFirstW=function(e){return function(n){return r.pipe(n,t.chainW((function(n){return r.pipe(e(n),t.map((function(){return n})))})))}},t.chainFirst=t.chainFirstW,t.flatten=t.chain(r.identity),t.alt=function(e){return function(n){return t.isLeft(n)?e():n}},t.extend=function(e){return function(n){return t.isLeft(n)?n:t.right(e(n))}},t.duplicate=t.extend(r.identity),t.reduce=function(e,n){return function(a){return t.isLeft(a)?e:n(e,a.right)}},t.foldMap=function(e){return function(n){return function(a){return t.isLeft(a)?e.empty:n(a.right)}}},t.reduceRight=function(e,n){return function(a){return t.isLeft(a)?e:n(a.right,e)}},t.traverse=function(e){return function(n){return function(a){return t.isLeft(a)?e.of(t.left(a.left)):e.map(n(a.right),t.right)}}},t.sequence=function(e){return function(n){return t.isLeft(n)?e.of(t.left(n.left)):e.map(n.right,t.right)}},t.throwError=t.left,t.URI="Either",t.getShow=function(e,n){return{show:function(a){return t.isLeft(a)?"left("+e.show(a.left)+")":"right("+n.show(a.right)+")"}}},t.getEq=function(e,n){return{equals:function(a,r){return a===r||(t.isLeft(a)?t.isLeft(r)&&e.equals(a.left,r.left):t.isRight(r)&&n.equals(a.right,r.right))}}},t.getSemigroup=function(e){return{concat:function(n,a){return t.isLeft(a)?n:t.isLeft(n)?a:t.right(e.concat(n.right,a.right))}}},t.getApplySemigroup=m,t.getApplyMonoid=function(e){return{concat:m(e).concat,empty:t.right(e.empty)}},t.getFilterable=h,t.getWitherable=function(e){var n=h(e);return{URI:t.URI,_E:void 0,map:s,compact:n.compact,separate:n.separate,filter:n.filter,filterMap:n.filterMap,partition:n.partition,partitionMap:n.partitionMap,traverse:f,sequence:t.sequence,reduce:l,foldMap:c,reduceRight:d,wither:function(e){var t=f(e);return function(a,r){return e.map(t(a,r),n.compact)}},wilt:function(e){var t=f(e);return function(a,r){return e.map(t(a,r),n.separate)}}}},t.getApplicativeValidation=j,t.getAltValidation=x,t.getValidation=function(e){var n=j(e),a=x(e);return{URI:t.URI,_E:void 0,map:s,of:t.of,chain:u,bimap:g,mapLeft:p,reduce:l,foldMap:c,reduceRight:d,extend:y,traverse:f,sequence:t.sequence,chainRec:v,throwError:t.throwError,ap:n.ap,alt:a.alt}},t.getValidationSemigroup=O,t.Functor={URI:t.URI,map:s},t.Applicative={URI:t.URI,map:s,ap:o,of:t.of},t.Monad={URI:t.URI,map:s,ap:o,of:t.of,chain:u},t.Foldable={URI:t.URI,reduce:l,foldMap:c,reduceRight:d},t.Traversable={URI:t.URI,map:s,reduce:l,foldMap:c,reduceRight:d,traverse:f,sequence:t.sequence},t.Bifunctor={URI:t.URI,bimap:g,mapLeft:p},t.Alt={URI:t.URI,map:s,alt:b},t.Extend={URI:t.URI,map:s,extend:y},t.ChainRec={URI:t.URI,map:s,ap:o,chain:u,chainRec:v},t.MonadThrow={URI:t.URI,map:s,ap:o,of:t.of,chain:u,throwError:t.throwError},t.getValidationMonoid=function(e,n){return{concat:O(e,n).concat,empty:t.right(n.empty)}},t.either={URI:t.URI,map:s,of:t.of,ap:o,chain:u,reduce:l,foldMap:c,reduceRight:d,traverse:f,sequence:t.sequence,bimap:g,mapLeft:p,alt:b,extend:y,chainRec:v,throwError:t.throwError},t.toError=function(e){return e instanceof Error?e:new Error(String(e))},t.elem=function(e){return function(n,a){return!t.isLeft(a)&&e.equals(n,a.right)}},t.exists=function(e){return function(n){return!t.isLeft(n)&&e(n.right)}},t.bindTo=function(e){return t.map(r.bindTo_(e))},t.bindW=function(e,n){return t.chainW((function(a){return r.pipe(n(a),t.map((function(t){return r.bind_(a,e,t)})))}))},t.bind=t.bindW,t.apSW=function(e,n){return r.flow(t.map((function(t){return function(n){return r.bind_(t,e,n)}})),t.apW(n))},t.apS=t.apSW},function(e,t,n){e.exports=n(13)(625)},function(e,t,n){e.exports=n(13)(4)},function(e,t,n){"use strict";const a=n(26),r=n(27),i=n(28);function s(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function o(e,t){return t.encode?t.strict?a(e):encodeURIComponent(e):e}function u(e,t){return t.decode?r(e):e}function l(e){return Array.isArray(e)?e.sort():"object"==typeof e?l(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function c(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function d(e){const t=(e=c(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function f(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function g(e,t){s((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const n=function(e){let t;switch(e.arrayFormat){case"index":return(e,n,a)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===a[e]&&(a[e]={}),a[e][t[1]]=n):a[e]=n};case"bracket":return(e,n,a)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==a[e]?a[e]=[].concat(a[e],n):a[e]=[n]:a[e]=n};case"comma":case"separator":return(t,n,a)=>{const r="string"==typeof n&&n.split("").indexOf(e.arrayFormatSeparator)>-1?n.split(e.arrayFormatSeparator).map((t=>u(t,e))):null===n?n:u(n,e);a[t]=r};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),a=Object.create(null);if("string"!=typeof e)return a;if(!(e=e.trim().replace(/^[?#&]/,"")))return a;for(const r of e.split("&")){let[e,s]=i(t.decode?r.replace(/\+/g," "):r,"=");s=void 0===s?null:["comma","separator"].includes(t.arrayFormat)?s:u(s,t),n(u(e,t),s,a)}for(const e of Object.keys(a)){const n=a[e];if("object"==typeof n&&null!==n)for(const e of Object.keys(n))n[e]=f(n[e],t);else a[e]=f(n,t)}return!1===t.sort?a:(!0===t.sort?Object.keys(a).sort():Object.keys(a).sort(t.sort)).reduce(((e,t)=>{const n=a[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=l(n):e[t]=n,e}),Object.create(null))}t.extract=d,t.parse=g,t.stringify=(e,t)=>{if(!e)return"";s((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const n=n=>t.skipNull&&null==e[n]||t.skipEmptyString&&""===e[n],a=function(e){switch(e.arrayFormat){case"index":return t=>(n,a)=>{const r=n.length;return void 0===a||e.skipNull&&null===a||e.skipEmptyString&&""===a?n:null===a?[...n,[o(t,e),"[",r,"]"].join("")]:[...n,[o(t,e),"[",o(r,e),"]=",o(a,e)].join("")]};case"bracket":return t=>(n,a)=>void 0===a||e.skipNull&&null===a||e.skipEmptyString&&""===a?n:null===a?[...n,[o(t,e),"[]"].join("")]:[...n,[o(t,e),"[]=",o(a,e)].join("")];case"comma":case"separator":return t=>(n,a)=>null==a||0===a.length?n:0===n.length?[[o(t,e),"=",o(a,e)].join("")]:[[n,o(a,e)].join(e.arrayFormatSeparator)];default:return t=>(n,a)=>void 0===a||e.skipNull&&null===a||e.skipEmptyString&&""===a?n:null===a?[...n,o(t,e)]:[...n,[o(t,e),"=",o(a,e)].join("")]}}(t),r={};for(const t of Object.keys(e))n(t)||(r[t]=e[t]);const i=Object.keys(r);return!1!==t.sort&&i.sort(t.sort),i.map((n=>{const r=e[n];return void 0===r?"":null===r?o(n,t):Array.isArray(r)?r.reduce(a(n),[]).join("&"):o(n,t)+"="+o(r,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[n,a]=i(e,"#");return Object.assign({url:n.split("?")[0]||"",query:g(d(e),t)},t&&t.parseFragmentIdentifier&&a?{fragmentIdentifier:u(a,t)}:{})},t.stringifyUrl=(e,n)=>{n=Object.assign({encode:!0,strict:!0},n);const a=c(e.url).split("?")[0]||"",r=t.extract(e.url),i=t.parse(r,{sort:!1}),s=Object.assign(i,e.query);let u=t.stringify(s,n);u&&(u=`?${u}`);let l=function(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(e.url);return e.fragmentIdentifier&&(l=`#${o(e.fragmentIdentifier,n)}`),`${a}${u}${l}`}},function(e,t,n){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},function(e,t,n){"use strict";var a="%[a-f0-9]{2}",r=new RegExp("("+a+")|([^%]+?)","gi"),i=new RegExp("("+a+")+","gi");function s(e,t){try{return[decodeURIComponent(e.join(""))]}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),a=e.slice(t);return Array.prototype.concat.call([],s(n),s(a))}function o(e){try{return decodeURIComponent(e)}catch(a){for(var t=e.match(r)||[],n=1;n<t.length;n++)t=(e=s(t,n).join("")).match(r)||[];return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=i.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var a=o(n[0]);a!==n[0]&&(t[n[0]]=a)}n=i.exec(e)}t["%C2"]="�";for(var r=Object.keys(t),s=0;s<r.length;s++){var u=r[s];e=e.replace(new RegExp(u,"g"),t[u])}return e}(e)}}},function(e,t,n){"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}},function(e,t,n){"use strict";e.exports=n(30)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(17),i=(a=n(4))&&"object"==typeof a&&"default"in a?a.default:a;function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}t.matchRoutes=function e(t,n,a){return void 0===a&&(a=[]),t.some((function(t){var i=t.path?r.matchPath(n,t):a.length?a[a.length-1].match:r.Router.computeRootMatch(n);return i&&(a.push({route:t,match:i}),t.routes&&e(t.routes,n,a)),i})),a},t.renderRoutes=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),e?i.createElement(r.Switch,n,e.map((function(e,n){return i.createElement(r.Route,{key:e.key||n,path:e.path,exact:e.exact,strict:e.strict,render:function(n){return e.render?e.render(s({},n,{},t,{route:e})):i.createElement(e.component,s({},n,t,{route:e}))}})}))):null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tailRec=void 0,t.tailRec=function(e,t){for(var n=t(e);"Left"===n._tag;)n=t(n.left);return n.right}},function(e,t,n){"use strict";function a(e){return e}function r(e){throw new Error("Called `absurd` function which should be uncallable")}Object.defineProperty(t,"__esModule",{value:!0}),t.bindTo_=t.bind_=t.hole=t.pipe=t.untupled=t.tupled=t.absurd=t.decrement=t.increment=t.tuple=t.flow=t.flip=t.constVoid=t.constUndefined=t.constNull=t.constFalse=t.constTrue=t.constant=t.not=t.unsafeCoerce=t.identity=void 0,t.identity=a,t.unsafeCoerce=a,t.not=function(e){return function(t){return!e(t)}},t.constant=function(e){return function(){return e}},t.constTrue=function(){return!0},t.constFalse=function(){return!1},t.constNull=function(){return null},t.constUndefined=function(){},t.constVoid=function(){},t.flip=function(e){return function(t,n){return e(n,t)}},t.flow=function(e,t,n,a,r,i,s,o,u){switch(arguments.length){case 1:return e;case 2:return function(){return t(e.apply(this,arguments))};case 3:return function(){return n(t(e.apply(this,arguments)))};case 4:return function(){return a(n(t(e.apply(this,arguments))))};case 5:return function(){return r(a(n(t(e.apply(this,arguments)))))};case 6:return function(){return i(r(a(n(t(e.apply(this,arguments))))))};case 7:return function(){return s(i(r(a(n(t(e.apply(this,arguments)))))))};case 8:return function(){return o(s(i(r(a(n(t(e.apply(this,arguments))))))))};case 9:return function(){return u(o(s(i(r(a(n(t(e.apply(this,arguments)))))))))}}},t.tuple=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},t.increment=function(e){return e+1},t.decrement=function(e){return e-1},t.absurd=r,t.tupled=function(e){return function(t){return e.apply(void 0,t)}},t.untupled=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e(t)}},t.pipe=function(e,t,n,a,r,i,s,o,u,l,c,d,f,g,p,b,y,v,m,h){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return n(t(e));case 4:return a(n(t(e)));case 5:return r(a(n(t(e))));case 6:return i(r(a(n(t(e)))));case 7:return s(i(r(a(n(t(e))))));case 8:return o(s(i(r(a(n(t(e)))))));case 9:return u(o(s(i(r(a(n(t(e))))))));case 10:return l(u(o(s(i(r(a(n(t(e)))))))));case 11:return c(l(u(o(s(i(r(a(n(t(e))))))))));case 12:return d(c(l(u(o(s(i(r(a(n(t(e)))))))))));case 13:return f(d(c(l(u(o(s(i(r(a(n(t(e))))))))))));case 14:return g(f(d(c(l(u(o(s(i(r(a(n(t(e)))))))))))));case 15:return p(g(f(d(c(l(u(o(s(i(r(a(n(t(e))))))))))))));case 16:return b(p(g(f(d(c(l(u(o(s(i(r(a(n(t(e)))))))))))))));case 17:return y(b(p(g(f(d(c(l(u(o(s(i(r(a(n(t(e))))))))))))))));case 18:return v(y(b(p(g(f(d(c(l(u(o(s(i(r(a(n(t(e)))))))))))))))));case 19:return m(v(y(b(p(g(f(d(c(l(u(o(s(i(r(a(n(t(e))))))))))))))))));case 20:return h(m(v(y(b(p(g(f(d(c(l(u(o(s(i(r(a(n(t(e)))))))))))))))))))}},t.hole=r,t.bind_=function(e,t,n){var a;return Object.assign({},e,((a={})[t]=n,a))},t.bindTo_=function(e){return function(t){var n;return(n={})[e]=t,n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(34),r=n(22);function i(e){return void 0!==e.message?e.message:"Invalid value "+("function"==typeof(t=e.value)?a.getFunctionName(t):"number"!=typeof t||isFinite(t)?JSON.stringify(t):isNaN(t)?"NaN":t>0?"Infinity":"-Infinity")+" supplied to "+e.context.map((function(e){return e.key+": "+e.type.name})).join("/");var t}function s(e){return e.map(i)}function o(){return["No errors!"]}t.failure=s,t.success=o,t.PathReporter={report:r.fold(s,o)}},function(e,t,n){"use strict";var a,r=this&&this.__extends||(a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},a(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(22),o=s.either.map,u=s.either.chain,l=function(){function e(e,t,n,a){this.name=e,this.is=t,this.validate=n,this.encode=a,this.decode=this.decode.bind(this)}return e.prototype.pipe=function(n,a){var r=this;return void 0===a&&(a="pipe("+this.name+", "+n.name+")"),new e(a,n.is,(function(e,t){return u(r.validate(e,t),(function(e){return n.validate(e,t)}))}),this.encode===t.identity&&n.encode===t.identity?t.identity:function(e){return r.encode(n.encode(e))})},e.prototype.asDecoder=function(){return this},e.prototype.asEncoder=function(){return this},e.prototype.decode=function(e){return this.validate(e,[{key:"",type:this,actual:e}])},e}();t.Type=l,t.identity=function(e){return e},t.getFunctionName=function(e){return e.displayName||e.name||"<function"+e.length+">"},t.getContextEntry=function(e,t){return{key:e,type:t}},t.appendContext=function(e,t,n,a){for(var r=e.length,i=Array(r+1),s=0;s<r;s++)i[s]=e[s];return i[r]={key:t,type:n,actual:a},i},t.failures=s.left,t.failure=function(e,n,a){return t.failures([{value:e,context:n,message:a}])},t.success=s.right;var c=function(e,t){for(var n=t.length,a=0;a<n;a++)e.push(t[a])},d=function(e){return function(t){return t._tag===e}},f=d("AnyType"),g=d("InterfaceType"),p=d("PartialType"),b=function(e){function n(){var n=e.call(this,"null",(function(e){return null===e}),(function(e,a){return n.is(e)?t.success(e):t.failure(e,a)}),t.identity)||this;return n._tag="NullType",n}return r(n,e),n}(l);t.NullType=b,t.nullType=new b,t.null=t.nullType;var y=function(e){function n(){var n=e.call(this,"undefined",(function(e){return void 0===e}),(function(e,a){return n.is(e)?t.success(e):t.failure(e,a)}),t.identity)||this;return n._tag="UndefinedType",n}return r(n,e),n}(l);t.UndefinedType=y;var v=new y;t.undefined=v;var m=function(e){function n(){var n=e.call(this,"void",v.is,v.validate,t.identity)||this;return n._tag="VoidType",n}return r(n,e),n}(l);t.VoidType=m,t.voidType=new m,t.void=t.voidType;var h=function(e){function n(){var n=e.call(this,"unknown",(function(e){return!0}),t.success,t.identity)||this;return n._tag="UnknownType",n}return r(n,e),n}(l);t.UnknownType=h,t.unknown=new h;var j=function(e){function n(){var n=e.call(this,"string",(function(e){return"string"==typeof e}),(function(e,a){return n.is(e)?t.success(e):t.failure(e,a)}),t.identity)||this;return n._tag="StringType",n}return r(n,e),n}(l);t.StringType=j,t.string=new j;var x=function(e){function n(){var n=e.call(this,"number",(function(e){return"number"==typeof e}),(function(e,a){return n.is(e)?t.success(e):t.failure(e,a)}),t.identity)||this;return n._tag="NumberType",n}return r(n,e),n}(l);t.NumberType=x,t.number=new x;var O=function(e){function n(){var n=e.call(this,"boolean",(function(e){return"boolean"==typeof e}),(function(e,a){return n.is(e)?t.success(e):t.failure(e,a)}),t.identity)||this;return n._tag="BooleanType",n}return r(n,e),n}(l);t.BooleanType=O,t.boolean=new O;var w=function(e){function n(){var n=e.call(this,"UnknownArray",Array.isArray,(function(e,a){return n.is(e)?t.success(e):t.failure(e,a)}),t.identity)||this;return n._tag="AnyArrayType",n}return r(n,e),n}(l);t.AnyArrayType=w,t.UnknownArray=new w,t.Array=t.UnknownArray;var E=function(e){function n(){var n=e.call(this,"UnknownRecord",(function(e){return"[object Object]"===Object.prototype.toString.call(e)}),(function(e,a){return n.is(e)?t.success(e):t.failure(e,a)}),t.identity)||this;return n._tag="AnyDictionaryType",n}return r(n,e),n}(l);t.AnyDictionaryType=E,t.UnknownRecord=new E;var A=function(e){function n(){var n=e.call(this,"Function",(function(e){return"function"==typeof e}),(function(e,a){return n.is(e)?t.success(e):t.failure(e,a)}),t.identity)||this;return n._tag="FunctionType",n}return r(n,e),n}(l);t.FunctionType=A,t.Function=new A;var k=function(e){function t(t,n,a,r,i,s){var o=e.call(this,t,n,a,r)||this;return o.type=i,o.predicate=s,o._tag="RefinementType",o}return r(t,e),t}(l);t.RefinementType=k,t.brand=function(e,t,n){return X(e,t,n)},t.Int=t.brand(t.number,(function(e){return Number.isInteger(e)}),"Int");var M=function(e){function t(t,n,a,r,i){var s=e.call(this,t,n,a,r)||this;return s.value=i,s._tag="LiteralType",s}return r(t,e),t}(l);t.LiteralType=M,t.literal=function(e,n){void 0===n&&(n=JSON.stringify(e));var a=function(t){return t===e};return new M(n,a,(function(n,r){return a(n)?t.success(e):t.failure(n,r)}),t.identity,e)};var C=function(e){function t(t,n,a,r,i){var s=e.call(this,t,n,a,r)||this;return s.keys=i,s._tag="KeyofType",s}return r(t,e),t}(l);t.KeyofType=C;var T=Object.prototype.hasOwnProperty;t.keyof=function(e,n){void 0===n&&(n=Object.keys(e).map((function(e){return JSON.stringify(e)})).join(" | "));var a=function(n){return t.string.is(n)&&T.call(e,n)};return new C(n,a,(function(e,n){return a(e)?t.success(e):t.failure(e,n)}),t.identity,e)};var I=function(e){function t(t,n,a,r,i){var s=e.call(this,t,n,a,r)||this;return s.runDefinition=i,s._tag="RecursiveType",s}return r(t,e),t}(l);t.RecursiveType=I,Object.defineProperty(I.prototype,"type",{get:function(){return this.runDefinition()},enumerable:!0,configurable:!0}),t.recursion=function(e,t){var n,a=function(){return n||((n=t(r)).name=e),n},r=new I(e,(function(e){return a().is(e)}),(function(e,t){return a().validate(e,t)}),(function(e){return a().encode(e)}),a);return r};var S=function(e){function t(t,n,a,r,i){var s=e.call(this,t,n,a,r)||this;return s.type=i,s._tag="ArrayType",s}return r(t,e),t}(l);t.ArrayType=S,t.array=function(e,n){return void 0===n&&(n="Array<"+e.name+">"),new S(n,(function(n){return t.UnknownArray.is(n)&&n.every(e.is)}),(function(n,a){return u(t.UnknownArray.validate(n,a),(function(n){for(var r=n.length,i=n,o=[],u=0;u<r;u++){var l=n[u],d=e.validate(l,t.appendContext(a,String(u),e,l));if(s.isLeft(d))c(o,d.left);else{var f=d.right;f!==l&&(i===n&&(i=n.slice()),i[u]=f)}}return o.length>0?t.failures(o):t.success(i)}))}),e.encode===t.identity?t.identity:function(t){return t.map(e.encode)},e)};var L=function(e){function t(t,n,a,r,i){var s=e.call(this,t,n,a,r)||this;return s.props=i,s._tag="InterfaceType",s}return r(t,e),t}(l);t.InterfaceType=L;var F=function(e){return Object.keys(e).map((function(t){return t+": "+e[t].name})).join(", ")},R=function(e){for(var n=0;n<e.length;n++)if(e[n].encode!==t.identity)return!1;return!0},B=function(e){return"{ "+F(e)+" }"};t.type=function(e,n){void 0===n&&(n=B(e));var a=Object.keys(e),r=a.map((function(t){return e[t]})),o=a.length;return new L(n,(function(e){if(t.UnknownRecord.is(e)){for(var n=0;n<o;n++){var i=a[n];if(!T.call(e,i)||!r[n].is(e[i]))return!1}return!0}return!1}),(function(e,n){return u(t.UnknownRecord.validate(e,n),(function(e){for(var u=e,l=[],d=0;d<o;d++){var f=a[d];T.call(u,f)||(u===e&&(u=i({},e)),u[f]=u[f]);var g=u[f],p=r[d],b=p.validate(g,t.appendContext(n,f,p,g));if(s.isLeft(b))c(l,b.left);else{var y=b.right;y!==g&&(u===e&&(u=i({},e)),u[f]=y)}}return l.length>0?t.failures(l):t.success(u)}))}),R(r)?t.identity:function(e){for(var n=i({},e),s=0;s<o;s++){var u=a[s],l=r[s].encode;l!==t.identity&&(n[u]=l(e[u]))}return n},e)},t.interface=t.type;var _=function(e){function t(t,n,a,r,i){var s=e.call(this,t,n,a,r)||this;return s.props=i,s._tag="PartialType",s}return r(t,e),t}(l);t.PartialType=_;var N=function(e){return"Partial<"+e+">"};t.partial=function(e,n){void 0===n&&(n=N(B(e)));var a=Object.keys(e),r=a.map((function(t){return e[t]})),o=a.length;return new _(n,(function(n){if(t.UnknownRecord.is(n)){for(var r=0;r<o;r++){var i=a[r],s=n[i];if(void 0!==s&&!e[i].is(s))return!1}return!0}return!1}),(function(n,r){return u(t.UnknownRecord.validate(n,r),(function(n){for(var u=n,l=[],d=0;d<o;d++){var f=a[d],g=u[f],p=e[f],b=p.validate(g,t.appendContext(r,f,p,g));if(s.isLeft(b))void 0!==g&&c(l,b.left);else{var y=b.right;y!==g&&(u===n&&(u=i({},n)),u[f]=y)}}return l.length>0?t.failures(l):t.success(u)}))}),R(r)?t.identity:function(e){for(var t=i({},e),n=0;n<o;n++){var s=a[n],u=e[s];void 0!==u&&(t[s]=r[n].encode(u))}return t},e)};var P=function(e){function t(t,n,a,r,i,s){var o=e.call(this,t,n,a,r)||this;return o.domain=i,o.codomain=s,o._tag="DictionaryType",o}return r(t,e),t}(l);t.DictionaryType=P,t.record=function(e,n,a){return void 0===a&&(a="{ [K in "+e.name+"]: "+n.name+" }"),new P(a,(function(a){return t.UnknownRecord.is(a)?Object.keys(a).every((function(t){return e.is(t)&&n.is(a[t])})):f(n)&&Array.isArray(a)}),(function(a,r){if(t.UnknownRecord.is(a)){for(var i={},o=[],u=Object.keys(a),l=u.length,d=!1,g=0;g<l;g++){var p=u[g],b=a[p],y=e.validate(p,t.appendContext(r,p,e,p));if(s.isLeft(y))c(o,y.left);else{var v=y.right;d=d||v!==p,p=v;var m=n.validate(b,t.appendContext(r,p,n,b));if(s.isLeft(m))c(o,m.left);else{var h=m.right;d=d||h!==b,i[p]=h}}}return o.length>0?t.failures(o):t.success(d?i:a)}return f(n)&&Array.isArray(a)?t.success(a):t.failure(a,r)}),e.encode===t.identity&&n.encode===t.identity?t.identity:function(t){for(var a={},r=Object.keys(t),i=r.length,s=0;s<i;s++){var o=r[s];a[String(e.encode(o))]=n.encode(t[o])}return a},e,n)};var U=function(e){function t(t,n,a,r,i){var s=e.call(this,t,n,a,r)||this;return s.types=i,s._tag="UnionType",s}return r(t,e),t}(l);t.UnionType=U;var V=function(e){return"("+e.map((function(e){return e.name})).join(" | ")+")"};t.union=function(e,n){void 0===n&&(n=V(e));var a=se(e);if(void 0!==a&&e.length>0){var r=a[0],i=a[1],o=i.length,l=function(e){for(var t=0;t<o;t++)if(-1!==i[t].indexOf(e))return t};return new G(n,(function(n){if(t.UnknownRecord.is(n)){var a=l(n[r]);return void 0!==a&&e[a].is(n)}return!1}),(function(n,a){return u(t.UnknownRecord.validate(n,a),(function(i){var s=l(i[r]);if(void 0===s)return t.failure(n,a);var o=e[s];return o.validate(i,t.appendContext(a,String(s),o,i))}))}),R(e)?t.identity:function(t){var a=l(t[r]);if(void 0===a)throw new Error("no codec found to encode value in union codec "+n);return e[a].encode(t)},e,r)}return new U(n,(function(t){return e.some((function(e){return e.is(t)}))}),(function(n,a){for(var r=[],i=0;i<e.length;i++){var o=e[i],u=o.validate(n,t.appendContext(a,String(i),o,n));if(!s.isLeft(u))return t.success(u.right);c(r,u.left)}return t.failures(r)}),R(e)?t.identity:function(t){for(var a=0,r=e;a<r.length;a++){var i=r[a];if(i.is(t))return i.encode(t)}throw new Error("no codec found to encode value in union type "+n)},e)};var D=function(e){function t(t,n,a,r,i){var s=e.call(this,t,n,a,r)||this;return s.types=i,s._tag="IntersectionType",s}return r(t,e),t}(l);t.IntersectionType=D;var $=function(e,n){for(var a=!0,r=!0,i=0,s=n;i<s.length;i++)(c=s[i])!==e&&(a=!1),t.UnknownRecord.is(c)&&(r=!1);if(a)return e;if(r)return n[n.length-1];for(var o={},u=0,l=n;u<l.length;u++){var c=l[u];for(var d in c)c[d]===e[d]&&o.hasOwnProperty(d)||(o[d]=c[d])}return o};t.intersection=function(e,n){void 0===n&&(n="("+e.map((function(e){return e.name})).join(" & ")+")");var a=e.length;return new D(n,(function(t){return e.every((function(e){return e.is(t)}))}),0===e.length?t.success:function(n,r){for(var i=[],o=[],u=0;u<a;u++){var l=e[u],d=l.validate(n,t.appendContext(r,String(u),l,n));s.isLeft(d)?c(o,d.left):i.push(d.right)}return o.length>0?t.failures(o):t.success($(n,i))},0===e.length?t.identity:function(t){return $(t,e.map((function(e){return e.encode(t)})))},e)};var z=function(e){function t(t,n,a,r,i){var s=e.call(this,t,n,a,r)||this;return s.types=i,s._tag="TupleType",s}return r(t,e),t}(l);t.TupleType=z,t.tuple=function(e,n){void 0===n&&(n="["+e.map((function(e){return e.name})).join(", ")+"]");var a=e.length;return new z(n,(function(n){return t.UnknownArray.is(n)&&n.length===a&&e.every((function(e,t){return e.is(n[t])}))}),(function(n,r){return u(t.UnknownArray.validate(n,r),(function(n){for(var i=n.length>a?n.slice(0,a):n,o=[],u=0;u<a;u++){var l=n[u],d=e[u],f=d.validate(l,t.appendContext(r,String(u),d,l));if(s.isLeft(f))c(o,f.left);else{var g=f.right;g!==l&&(i===n&&(i=n.slice()),i[u]=g)}}return o.length>0?t.failures(o):t.success(i)}))}),R(e)?t.identity:function(t){return e.map((function(e,n){return e.encode(t[n])}))},e)};var W=function(e){function t(t,n,a,r,i){var s=e.call(this,t,n,a,r)||this;return s.type=i,s._tag="ReadonlyType",s}return r(t,e),t}(l);t.ReadonlyType=W,t.readonly=function(e,n){return void 0===n&&(n="Readonly<"+e.name+">"),new W(n,e.is,(function(t,n){return o(e.validate(t,n),(function(e){return e}))}),e.encode===t.identity?t.identity:e.encode,e)};var q=function(e){function t(t,n,a,r,i){var s=e.call(this,t,n,a,r)||this;return s.type=i,s._tag="ReadonlyArrayType",s}return r(t,e),t}(l);t.ReadonlyArrayType=q,t.readonlyArray=function(e,n){void 0===n&&(n="ReadonlyArray<"+e.name+">");var a=t.array(e);return new q(n,a.is,(function(e,t){return o(a.validate(e,t),(function(e){return e}))}),a.encode,e)},t.strict=function(e,n){return t.exact(t.type(e),n)};var G=function(e){function t(t,n,a,r,i,s){var o=e.call(this,t,n,a,r,i)||this;return o.tag=s,o}return r(t,e),t}(U);t.TaggedUnionType=G,t.taggedUnion=function(e,n,a){void 0===a&&(a=V(n));var r=t.union(n,a);return r instanceof G?r:(console.warn("[io-ts] Cannot build a tagged union for "+a+", returning a de-optimized union"),new G(a,r.is,r.validate,r.encode,n,e))};var K=function(e){function t(t,n,a,r,i){var s=e.call(this,t,n,a,r)||this;return s.type=i,s._tag="ExactType",s}return r(t,e),t}(l);t.ExactType=K;var J=function(e){switch(e._tag){case"RefinementType":case"ReadonlyType":return J(e.type);case"InterfaceType":case"StrictType":case"PartialType":return e.props;case"IntersectionType":return e.types.reduce((function(e,t){return Object.assign(e,J(t))}),{})}},H=function(e,t){for(var n=Object.getOwnPropertyNames(e),a=!1,r={},i=0;i<n.length;i++){var s=n[i];T.call(t,s)?r[s]=e[s]:a=!0}return a?r:e};t.exact=function(e,n){void 0===n&&(n=function(e){return g(e)?"{| "+F(e.props)+" |}":p(e)?N("{| "+F(e.props)+" |}"):"Exact<"+e.name+">"}(e));var a=J(e);return new K(n,e.is,(function(n,r){return u(t.UnknownRecord.validate(n,r),(function(){return o(e.validate(n,r),(function(e){return H(e,a)}))}))}),(function(t){return e.encode(H(t,a))}),e)},t.getValidationError=function(e,t){return{value:e,context:t}},t.getDefaultContext=function(e){return[{key:"",type:e}]};var Q=function(e){function n(){var n=e.call(this,"never",(function(e){return!1}),(function(e,n){return t.failure(e,n)}),(function(){throw new Error("cannot encode never")}))||this;return n._tag="NeverType",n}return r(n,e),n}(l);t.NeverType=Q,t.never=new Q;var Z=function(e){function n(){var n=e.call(this,"any",(function(e){return!0}),t.success,t.identity)||this;return n._tag="AnyType",n}return r(n,e),n}(l);t.AnyType=Z,t.any=new Z,t.Dictionary=t.UnknownRecord;var Y=function(e){function n(){var n=e.call(this,"object",(function(e){return null!==e&&"object"==typeof e}),(function(e,a){return n.is(e)?t.success(e):t.failure(e,a)}),t.identity)||this;return n._tag="ObjectType",n}return r(n,e),n}(l);function X(e,n,a){return void 0===a&&(a="("+e.name+" | "+t.getFunctionName(n)+")"),new k(a,(function(t){return e.is(t)&&n(t)}),(function(a,r){return u(e.validate(a,r),(function(e){return n(e)?t.success(e):t.failure(e,r)}))}),e.encode,e,n)}t.ObjectType=Y,t.object=new Y,t.refinement=X,t.Integer=X(t.number,Number.isInteger,"Integer"),t.dictionary=t.record;var ee=function(e){function t(t,n,a,r,i){var s=e.call(this,t,n,a,r)||this;return s.props=i,s._tag="StrictType",s}return r(t,e),t}(l);t.StrictType=ee,t.clean=function(e){return e},t.alias=function(e){return function(){return e}};var te=function(e){return e.length>0};function ne(e,t){for(var n=[],a=0,r=e;a<r.length;a++){var i=r[a];-1!==t.indexOf(i)&&n.push(i)}return n}function ae(e){return"LiteralType"===e._tag}t.emptyTags={};var re=[];function ie(e){if(-1!==re.indexOf(e))return t.emptyTags;if(function(e){return"InterfaceType"===e._tag}(e)||function(e){return"StrictType"===e._tag}(e)){var n=t.emptyTags;for(var a in e.props){var r=e.props[a];ae(r)&&(n===t.emptyTags&&(n={}),n[a]=[r.value])}return n}if(function(e){return"ExactType"===e._tag}(e)||function(e){return"RefinementType"===e._tag}(e))return ie(e.type);if(function(e){return"IntersectionType"===e._tag}(e))return e.types.reduce((function(e,n){return function(e,n){if(e===t.emptyTags)return n;if(n===t.emptyTags)return e;var a=Object.assign({},e);for(var r in n)if(e.hasOwnProperty(r)){var i=ne(e[r],n[r]);if(!te(i)){a=t.emptyTags;break}a[r]=i}else a[r]=n[r];return a}(e,ie(n))}),t.emptyTags);if(function(e){return"UnionType"===e._tag}(e))return e.types.slice(1).reduce((function(e,n){return function(e,n){if(e===t.emptyTags||n===t.emptyTags)return t.emptyTags;var a=t.emptyTags;for(var r in e)n.hasOwnProperty(r)&&0===ne(e[r],n[r]).length&&(a===t.emptyTags&&(a={}),a[r]=e[r].concat(n[r]));return a}(e,ie(n))}),ie(e.types[0]));if(function(e){return"RecursiveType"===e._tag}(e)){re.push(e);var i=ie(e.type);return re.pop(),i}return t.emptyTags}function se(e){for(var t=ie(e[0]),n=Object.keys(t),a=e.length,r=function(n){for(var r=t[n].slice(),i=[t[n]],s=1;s<a;s++){var o=ie(e[s])[n];if(void 0===o)return"continue-keys";if(o.some((function(e){return-1!==r.indexOf(e)})))return"continue-keys";r.push.apply(r,o),i.push(o)}return{value:[n,i]}},i=0,s=n;i<s.length;i++){var o=r(s[i]);if("object"==typeof o)return o.value}}t.getTags=ie,t.getIndex=se},function(e,t,n){var a=n(36),r=n(37),i=n(38),s=n(39);e.exports=function(e,t,n){return e=i(e),void 0===(t=n?void 0:t)?r(e)?s(e):a(e):e.match(t)||[]}},function(e,t){var n=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(n)||[]}},function(e,t){var n=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return n.test(e)}},function(e,t,n){e.exports=n(13)(1614)},function(e,t){var n="\\ud800-\\udfff",a="\\u2700-\\u27bf",r="a-z\\xdf-\\xf6\\xf8-\\xff",i="A-Z\\xc0-\\xd6\\xd8-\\xde",s="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",o="["+s+"]",u="\\d+",l="["+a+"]",c="["+r+"]",d="[^"+n+s+u+a+r+i+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",p="["+i+"]",b="(?:"+c+"|"+d+")",y="(?:"+p+"|"+d+")",v="(?:['’](?:d|ll|m|re|s|t|ve))?",m="(?:['’](?:D|LL|M|RE|S|T|VE))?",h="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",j="[\\ufe0e\\ufe0f]?",x=j+h+"(?:\\u200d(?:"+["[^"+n+"]",f,g].join("|")+")"+j+h+")*",O="(?:"+[l,f,g].join("|")+")"+x,w=RegExp([p+"?"+c+"+"+v+"(?="+[o,p,"$"].join("|")+")",y+"+"+m+"(?="+[o,p+b,"$"].join("|")+")",p+"?"+b+"+"+v,p+"+"+m,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",u,O].join("|"),"g");e.exports=function(e){return e.match(w)||[]}},,,function(e,t,n){"use strict";n.r(t),n.d(t,"mountManagementSection",(function(){return Ke}));var a=n(11),r=n(4),i=n.n(r),s=n(16),o=n.n(s),u=n(12),l=n(7),c=n(22);function d(...e){return{...new u.Type("merge",(t=>e.every((e=>e.is(t)))),((t,n)=>{const a=[],r=[];e.map(((e,a)=>e.validate(t,n.concat({key:String(a),type:e,actual:t})))).forEach((e=>{Object(c.isLeft)(e)?a.push(...e.left):r.push(e.right)}));const i=Object(l.merge)({},...r);return a.length>0?u.failures(a):u.success(i)}),(t=>e.reduce(((e,t)=>t.encode(e)),t))),_tag:"MergeType",types:e}}const f=["StringType","NumberType","BooleanType","ArrayType","DictionaryType","InterfaceType","PartialType","UnionType","IntersectionType","MergeType"];function g(e){if(!(e=>"_tag"in e&&f.includes(e._tag))(e))return e;switch(e._tag){case"ArrayType":return u.array(g(e.type));case"DictionaryType":return u.dictionary(e.domain,g(e.codomain));case"InterfaceType":return u.exact(u.interface(Object(l.mapValues)(e.props,g)));case"PartialType":return u.exact(u.partial(Object(l.mapValues)(e.props,g)));case"IntersectionType":return u.intersection(e.types.map(g));case"UnionType":return u.union(e.types.map(g));case"MergeType":return d(g(e.types[0]),g(e.types[1]));default:return e}}var p=n(33),b=n(25),y=n.n(b),v=n(29);function m(e){return e.replace(/(?:{([^\/]+)})/g,":$1")}class NotFoundRouteException extends Error{constructor(e){super(e)}}var h=n(5);const j=Object(r.createContext)(void 0);function x({element:e,children:t}){return Object(h.jsx)(j.Provider,{value:{element:e}},t)}const O=Object(r.createContext)(void 0),w=({match:e,element:t,children:n})=>Object(h.jsx)(O.Provider,{value:{match:e,element:t}},Object(h.jsx)(x,{element:t},n));var E=n(10);const A=Object(r.createContext)(void 0),k=({router:e,children:t})=>Object(h.jsx)(A.Provider,{value:e},t);function M(){const e=Object(r.useContext)(A);if(!e)throw new Error("Router not found in context");return e}function C(){return function(e){const t=M(),n=Object(E.useLocation)();return Object(r.useMemo)((()=>void 0===e?t.matchRoutes(n):t.matchRoutes(e,n)),[e,t,n])}().concat().reverse().reduce(((e,t)=>{const{element:n}=t.route;return Object(h.jsx)(w,{match:t,element:e},n)}),Object(h.jsx)(i.a.Fragment,null))}var T=n(18);const I=({children:e,...t})=>Object(h.jsx)(E.Router,t,Object(h.jsx)(T.CompatRouter,null,e));function S({children:e,router:t,history:n}){return Object(h.jsx)(I,{history:n},Object(h.jsx)(k,{router:t},e))}var L=n(9),F=n(8),R=n(0),B=n(6);const _=Object(r.createContext)(null),N=({children:e,value:t})=>Object(h.jsx)(_.Provider,{value:t},e),P=()=>Object(a.useKibana)();var U=n(19),V=n(15);const D=e=>"image"===e.type,$=e=>"json"===e.type,z=e=>"markdown"===e.type;n(35);var W=n(23),q=n.n(W);const G=(e,t)=>{if(!t)return!1;const{unsavedValue:n}=t,{savedValue:a,defaultValue:r}=e,i=null!=a;return!q()(n,i?a:r)};function K(e,t){const n=G(e,t);return[n?null==t?void 0:t.unsavedValue:void 0!==e.savedValue&&null!==e.savedValue?e.savedValue:e.defaultValue,n]}const J=e=>{const{onInputChange:t,field:n}=e;return e=>{G(n,e)?t(e):t()}};R.i18n.translate("management.settings.categoryNames.generalLabel",{defaultMessage:"General"}),R.i18n.translate("management.settings.categoryNames.machineLearningLabel",{defaultMessage:"Machine Learning"}),R.i18n.translate("management.settings.categoryNames.observabilityLabel",{defaultMessage:"Observability"}),R.i18n.translate("management.settings.categoryNames.timelionLabel",{defaultMessage:"Timelion"}),R.i18n.translate("management.settings.categoryNames.notificationsLabel",{defaultMessage:"Notifications"}),R.i18n.translate("management.settings.categoryNames.visualizationsLabel",{defaultMessage:"Visualization"}),R.i18n.translate("management.settings.categoryNames.discoverLabel",{defaultMessage:"Discover"}),R.i18n.translate("management.settings.categoryNames.reportingLabel",{defaultMessage:"Reporting"}),R.i18n.translate("management.settings.categoryNames.searchLabel",{defaultMessage:"Search"}),R.i18n.translate("management.settings.categoryNames.securitySolutionLabel",{defaultMessage:"Security Solution"}),R.i18n.translate("management.settings.categoryNames.enterpriseSearchLabel",{defaultMessage:"Enterprise Search"}),R.i18n.translate("management.settings.categoryNames.presentationLabLabel",{defaultMessage:"Presentation Labs"}),R.i18n.translate("management.settings.categoryNames.accessibilityLabel",{defaultMessage:"Accessibility"}),R.i18n.translate("management.settings.categoryNames.autocompleteLabel",{defaultMessage:"Autocomplete"}),R.i18n.translate("management.settings.categoryNames.bannerLabel",{defaultMessage:"Banner"}),R.i18n.translate("management.settings.categoryNames.rollupsLabel",{defaultMessage:"Rollups"}),R.i18n.translate("management.settings.categoryNames.devToolsLabel",{defaultMessage:"Developer Tools"});var H=n(24),Q=n.n(H);const Z=i.a.createContext(null),Y=({children:e,...t})=>{const{showDanger:n,validateChange:a}=t;return Object(h.jsx)(Z.Provider,{value:{showDanger:n,validateChange:a}},e)},X=()=>{const e=Object(r.useContext)(Z);if(!e)throw new Error("FieldInputContext is missing.  Ensure your component or React root is wrapped with FieldInputProvider.");return e},ee=/,\s+/g,te=({field:e,unsavedChange:t,isSavingEnabled:n,onInputChange:a})=>{const[i]=K(e,t)||[],[s,o]=Object(r.useState)(null==i?void 0:i.join(", ")),{validateChange:u}=X(),c=J({onInputChange:a,field:e}),d=Object(r.useCallback)((async(t,n)=>{const a=t.replace(ee,",").split(",").filter((e=>""!==e)),r=await u(e.id,a);r.successfulValidation&&!r.valid?n({type:e.type,unsavedValue:a,isInvalid:!r.valid,error:r.errorMessage}):n({type:e.type,unsavedValue:a})}),[u,e.id,e.type]),f=Object(r.useMemo)((()=>Object(l.debounce)(d,1e3)),[d]);Object(r.useEffect)((()=>{o(null==i?void 0:i.join(", "))}),[i]);const{id:g,name:p,ariaAttributes:b}=e,{ariaLabel:y,ariaDescribedBy:v}=b;return Object(h.jsx)(B.EuiFieldText,{fullWidth:!0,"data-test-subj":`${pe}-${g}`,disabled:!n,"aria-label":y,"aria-describedby":v,name:p,onChange:async e=>{const t=e.target.value;o(t),await f(t,c)},value:s})};var ne=n(20),ae=n(21);const re=({onChange:e,type:t,isReadOnly:n,name:a,...i})=>{const s=Object(r.useCallback)((e=>{var t;const n=e.getDomNode();if(!n)return;const r=e.getOption(ne.monaco.editor.EditorOption.lineHeight);let i=(null===(t=e.getModel())||void 0===t?void 0:t.getLineCount())||6;i<6?i=6:i>30&&(i=30);const s=r*i;n.id=a,n.style.height=`${s}px`,e.layout()}),[a]),o=Object(r.useCallback)((e=>{const t=e.getModel();if(!t)return;const n=t.getValue().trim();t.setValue(n)}),[]),u=Object(r.useCallback)((e=>{s(e),e.onDidChangeModelContent((()=>{s(e)})),e.onDidBlurEditorWidget((()=>{o(e)}))}),[s,o]),l={readOnly:n,lineNumbers:"off",scrollBeyondLastLine:!1,automaticLayout:!0,folding:!1,tabSize:2,scrollbar:{alwaysConsumeMouseWheel:!1},wordWrap:"on",wrappingIndent:"indent"};return Object(h.jsx)(ae.CodeEditor,Q()({onChange:e,editorDidMount:u,options:l},i,{languageId:"json"===t?ne.XJsonLang.ID:ae.MarkdownLang,width:"100%"}))},ie=({field:e,unsavedChange:t,type:n,isSavingEnabled:a,defaultValue:i,onInputChange:s})=>{const[o]=K(e,t),[u,c]=Object(r.useState)(o),{validateChange:d}=X(),f=J({onInputChange:s,field:e}),g=Object(r.useCallback)((async(t,n)=>{let a;if("json"===e.type)try{const e=Array.isArray(JSON.parse(i||"null"));a=t||(e?"[]":"{}"),JSON.parse(a)}catch(a){return void n({type:e.type,unsavedValue:t,isInvalid:!0,error:R.i18n.translate("management.settings.field.codeEditorSyntaxErrorMessage",{defaultMessage:"Invalid JSON syntax"})})}const r=await d(e.id,a);r.successfulValidation&&!r.valid?n({type:e.type,unsavedValue:t,isInvalid:!r.valid,error:r.errorMessage}):n({type:e.type,unsavedValue:t})}),[d,e.id,e.type,i]),p=Object(r.useMemo)((()=>Object(l.debounce)(g,500)),[g]);Object(r.useEffect)((()=>{c(o)}),[o]);const{id:b,ariaAttributes:y}=e,{ariaLabel:v,ariaDescribedBy:m}=y;return Object(h.jsx)("div",null,Object(h.jsx)(re,{"aria-describedby":m,"aria-label":v,"data-test-subj":`${pe}-${b}`,isReadOnly:!a,name:`${pe}-${b}-editor`,onChange:async e=>{e!==u&&(c(e),await p(e,f))},type:n,value:u}))},se=({field:e,unsavedChange:t,isSavingEnabled:n,onInputChange:a})=>{const r=J({onInputChange:a,field:e}),{id:i,name:s,ariaAttributes:o}=e,{ariaLabel:u,ariaDescribedBy:l}=o,[c]=K(e,t);return Object(h.jsx)(B.EuiSwitch,{label:c?Object(h.jsx)(F.FormattedMessage,{id:"management.settings.onLabel",defaultMessage:"On"}):Object(h.jsx)(F.FormattedMessage,{id:"management.settings.offLabel",defaultMessage:"Off"}),"aria-label":u,"aria-describedby":l,checked:!!c,"data-test-subj":`${pe}-${i}`,disabled:!n,name:s,onChange:t=>{const n=t.target.checked;r({type:e.type,unsavedValue:n})}})},oe=R.i18n.translate("management.settings.fieldInput.color.invalidMessage",{defaultMessage:"Provide a valid color value"}),ue=({field:e,unsavedChange:t,isSavingEnabled:n,onInputChange:a})=>{const r=J({onInputChange:a,field:e}),{id:i,name:s,ariaAttributes:o}=e,{ariaLabel:u,ariaDescribedBy:l}=o,[c]=K(e,t);return Object(h.jsx)(B.EuiColorPicker,{"aria-describedby":l,"aria-label":u,"data-test-subj":`${pe}-${i}`,disabled:!n,format:"hex",isInvalid:null==t?void 0:t.isInvalid,name:s,color:c,onChange:(t,{isValid:n})=>{const a={type:e.type,unsavedValue:t};r(n?a:{...a,isInvalid:!0,error:oe})}})},le=R.i18n.translate("management.settings.field.imageChangeErrorMessage",{defaultMessage:"Image could not be saved"}),ce=i.a.forwardRef((({field:e,unsavedChange:t,isSavingEnabled:n,onInputChange:a},i)=>{const s=Object(r.useRef)(null);Object(r.useImperativeHandle)(i,(()=>({reset:()=>{var e;return null===(e=s.current)||void 0===e?void 0:e.removeFiles()}})));const{showDanger:o}=X(),u=J({onInputChange:a,field:e}),{id:l,name:c,ariaAttributes:d}=e,{ariaLabel:f,ariaDescribedBy:g}=d,[p]=K(e,t),b={"aria-label":f,"aria-describedby":g};return p?Object(h.jsx)(B.EuiImage,Q()({allowFullScreen:!0,url:p,alt:c},b)):Object(h.jsx)(B.EuiFilePicker,Q()({accept:".jpg,.jpeg,.png","data-test-subj":`${pe}-${l}`,disabled:!n,ref:s,fullWidth:!0,onChange:async t=>{if(null===t||!t.length)return u(),null;const n=t[0];try{let t="";n instanceof File&&(t=String(await(async e=>{const t=new FileReader;return t.readAsDataURL(e),new Promise(((e,n)=>{t.onload=()=>{e(t.result)},t.onerror=e=>{n(e)}}))})(n))),u({type:e.type,unsavedValue:t})}catch(t){o(le),u({type:e.type,unsavedValue:"",error:le,isInvalid:!0})}}},b))})),de=({field:e,unsavedChange:t,isSavingEnabled:n,onInputChange:a})=>{const[i]=K(e,t)||void 0,[s,o]=Object(r.useState)(i),{validateChange:u}=X(),c=J({onInputChange:a,field:e}),d=Object(r.useCallback)((async(t,n)=>{const a=await u(e.id,t);a.successfulValidation&&!a.valid?n({type:e.type,unsavedValue:t,isInvalid:!a.valid,error:a.errorMessage}):n({type:e.type,unsavedValue:t})}),[u,e.id,e.type]),f=Object(r.useMemo)((()=>Object(l.debounce)(d,500)),[d]);Object(r.useEffect)((()=>{o(i)}),[i]);const{id:g,name:p,ariaAttributes:b}=e,{ariaLabel:y,ariaDescribedBy:v}=b;return Object(h.jsx)(B.EuiFieldNumber,{"aria-describedby":v,"aria-label":y,"data-test-subj":`${pe}-${g}`,fullWidth:!0,disabled:!n,name:p,value:s,onChange:async e=>{const t=Number(e.target.value);o(t),await f(t,c)}})},fe=({field:e,unsavedChange:t,onInputChange:n,optionLabels:a={},optionValues:i,isSavingEnabled:s})=>{if(0===i.length)throw new Error("non-empty `optionValues` are required for `SelectInput`.");const o=Object(r.useMemo)((()=>null==i?void 0:i.map((e=>({text:a.hasOwnProperty(e)?a[e]:e,value:e})))),[i,a]),u=J({onInputChange:n,field:e}),{id:l,ariaAttributes:c}=e,{ariaLabel:d,ariaDescribedBy:f}=c,[g]=K(e,t);return Object(h.jsx)(B.EuiSelect,{"aria-describedby":f,"aria-label":d,"data-test-subj":`${pe}-${l}`,disabled:!s,fullWidth:!0,onChange:t=>{const n=t.target.value;u({type:e.type,unsavedValue:n})},options:o,value:g})},ge=({field:e,unsavedChange:t,isSavingEnabled:n,onInputChange:a})=>{const r=J({onInputChange:a,field:e}),{id:i,name:s,ariaAttributes:o}=e,{ariaLabel:u,ariaDescribedBy:l}=o,[c]=K(e,t);return Object(h.jsx)(B.EuiFieldText,{fullWidth:!0,"data-test-subj":`${pe}-${i}`,disabled:!n,"aria-label":u,"aria-describedby":l,name:s,onChange:t=>{const n=t.target.value;r({type:e.type,unsavedValue:n})},value:c})},pe="management-settings-editField",be=(e,t)=>new Error(`Unsaved change for ${e} mismatch: ${t}`),ye=i.a.forwardRef(((e,t)=>{const{field:n,unsavedChange:a,onInputChange:i,isSavingEnabled:s}=e,o=Object(r.useRef)(null);Object(r.useImperativeHandle)(t,(()=>({reset:()=>{o.current&&o.current.reset()}})));const u={isSavingEnabled:s,onInputChange:i};if("array"===n.type){if((l=a)&&void 0!==l.type&&"array"!==l.type)throw be(n.type,null==a?void 0:a.type);return Object(h.jsx)(te,Q()({field:n,unsavedChange:a},u))}var l;if("boolean"===n.type){if(!(e=>!e||void 0===e.type||"boolean"===e.type)(a))throw be(n.type,null==a?void 0:a.type);return Object(h.jsx)(se,Q()({field:n,unsavedChange:a},u))}if((e=>"color"===e.type)(n)){if(!(e=>!e||void 0===e.type||"color"===e.type)(a))throw be(n.type,null==a?void 0:a.type);return Object(h.jsx)(ue,Q()({field:n,unsavedChange:a},u))}if(D(n)){if(!(e=>!e||void 0===e.type||"image"===e.type)(a))throw be(n.type,null==a?void 0:a.type);return Object(h.jsx)(ce,Q()({field:n,unsavedChange:a},u,{ref:o}))}if($(n)){if(!(e=>!e||void 0===e.type||"json"===e.type)(a))throw be(n.type,null==a?void 0:a.type);return Object(h.jsx)(ie,Q()({field:n,unsavedChange:a},u,{type:"json",defaultValue:n.savedValue||""}))}if(z(n)){if(!(e=>!e||void 0===e.type||"markdown"===e.type)(a))throw be(n.type,null==a?void 0:a.type);return Object(h.jsx)(ie,Q()({field:n,unsavedChange:a},u,{type:"markdown",defaultValue:n.savedValue||""}))}if((e=>"number"===e.type)(n)){if(!(e=>!e||void 0===e.type||"number"===e.type)(a))throw be(n.type,null==a?void 0:a.type);return Object(h.jsx)(de,Q()({field:n,unsavedChange:a},u))}if((e=>"select"===e.type)(n)){if(!(e=>!e||void 0===e.type||"select"===e.type)(a))throw be(n.type,null==a?void 0:a.type);const{options:{values:e,labels:t}}=n;return Object(h.jsx)(fe,Q()({field:n,unsavedChange:a,optionLabels:t,optionValues:e},u))}if((e=>"string"===e.type)(n)){if(!(e=>!e||void 0===e.type||"string"===e.type)(a))throw be(n.type,null==a?void 0:a.type);return Object(h.jsx)(ge,Q()({field:n,unsavedChange:a},u))}if((e=>"undefined"===e.type)(n)){if(!(e=>!e||void 0===e.type||"undefined"===e.type)(a))throw be(n.type,null==a?void 0:a.type);return Object(h.jsx)(ge,Q()({field:n,unsavedChange:a},u))}throw new Error(`Unknown or incompatible field type: ${n.type}`)})),ve=({field:e,unsavedChange:t})=>{const{euiTheme:{size:n,colors:a}}=Object(B.useEuiTheme)(),r=G(e,t),i=null==t?void 0:t.error;return{cssFieldFormGroup:Object(h.css)("+*{margin-top:",n.base,";}",""),cssFieldTitle:Object(h.css)("font-weight:bold;padding-left:",n.s,";margin-left:-",n.s,";",r?`box-shadow: -${n.xs} 0 ${a.warning};`:""," ",i?`box-shadow: -${n.xs} 0 ${a.danger};`:"",";",""),cssDescription:Object(h.css)("&>div{margin-bottom:",n.s,";}","")}},me=i.a.createContext(null),he=({children:e,...t})=>{const{links:n,showDanger:a,validateChange:r}=t;return Object(h.jsx)(me.Provider,{value:{links:n}},Object(h.jsx)(Y,{showDanger:a,validateChange:r},e))},je=({field:e})=>{const{links:t}=(()=>{const e=Object(r.useContext)(me);if(!e)throw new Error("FieldRowContext is missing.  Ensure your component or React root is wrapped with FieldRowProvider.");return e})(),{deprecation:n,name:a,id:i}=e;return n?Object(h.jsx)("div",{"data-test-subj":`description-block-deprecation-${i}`},Object(h.jsx)(B.EuiToolTip,{content:n.message},Object(h.jsx)(B.EuiBadge,{color:"warning",onClick:()=>{window.open(t[n.docLinksKey],"_blank")},onClickAriaLabel:R.i18n.translate("management.settings.field.deprecationClickAreaLabel",{defaultMessage:"Click to view deprecation documentation for {name}.",values:{name:a}})},"Deprecated"))):null},xe=({field:e,unsavedChange:t})=>{if(e.isDefaultValue)return null;if(t&&(t.unsavedValue===e.defaultValue||void 0===t.unsavedValue))return null;const{defaultValueDisplay:n,id:a}=e;let r=Object(h.jsx)(B.EuiCode,null,n);return($(e)||z(e))&&(r=Object(h.jsx)(B.EuiCodeBlock,{"data-test-subj":`default-display-block-${a}`,language:e.type,paddingSize:"s",overflowHeight:n.length>=500?300:void 0},n)),Object(h.jsx)(B.EuiText,{size:"xs"},Object(h.jsx)(F.FormattedMessage,{id:"management.settings.defaultValueText",defaultMessage:"Default: {value}",values:{value:r}}))},Oe=({field:e,unsavedChange:t})=>{const{cssDescription:n}=ve({field:e,unsavedChange:t}),{description:a,name:r}=e;let s=a;return i.a.isValidElement(s)||(s=Object(h.jsx)("div",{dangerouslySetInnerHTML:{__html:s||""}})),s&&(s=Object(h.jsx)(B.EuiText,{size:"s","data-test-subj":`settings-description-${r}`},s)),Object(h.jsx)("div",{css:n},Object(h.jsx)(je,{field:e}),s,Object(h.jsx)(xe,{field:e,unsavedChange:t}))},we=({field:e})=>e.isCustom?Object(h.jsx)(B.EuiIconTip,{type:"asterisk",color:"primary","aria-label":R.i18n.translate("management.settings.field.customSettingAriaLabel",{defaultMessage:"Custom setting"}),content:Object(h.jsx)(F.FormattedMessage,{id:"management.settings.customSettingTooltip",defaultMessage:"Custom setting"})}):null,Ee=({field:e,unsavedChange:t})=>{if(!t||!G(e,t))return null;const{isInvalid:n}=t,a=R.i18n.translate("management.settings.field.invalidIconLabel",{defaultMessage:"Invalid"}),r=R.i18n.translate("management.settings.field.unsavedIconLabel",{defaultMessage:"Unsaved"}),i=t.isInvalid?a:r;return Object(h.jsx)(B.EuiIconTip,{type:n?"warning":"dot",color:n?"danger":"warning","aria-label":i,content:i})},Ae=({field:e,unsavedChange:t,...n})=>{const{cssFieldTitle:a}=ve({field:e,unsavedChange:t});return Object(h.jsx)(B.EuiFlexGroup,{gutterSize:"xs",alignItems:"center"},Object(h.jsx)(B.EuiFlexItem,{grow:!1,css:a},Object(h.jsx)("h3",n,e.displayName)),Object(h.jsx)(B.EuiFlexItem,{grow:!1},Object(h.jsx)(we,{field:e})),Object(h.jsx)(B.EuiFlexItem,{grow:!1},Object(h.jsx)(Ee,{field:e,unsavedChange:t})))},ke=({onReset:e,field:t,unsavedChange:n})=>{if(function(e,t){const{defaultValue:n}=e,a=G(e,t)?null==t?void 0:t.unsavedValue:void 0!==e.savedValue&&null!==e.savedValue?e.savedValue:e.defaultValue;return q()(a,n)}(t,n)||t.isOverridden)return null;const{id:a,ariaAttributes:{ariaLabel:r}}=t;return Object(h.jsx)(B.EuiLink,{"aria-label":R.i18n.translate("management.settings.field.resetToDefaultLinkAriaLabel",{defaultMessage:"Reset {ariaLabel} to default",values:{ariaLabel:r}}),onClick:e,"data-test-subj":`management-settings-resetField-${a}`},Object(h.jsx)(F.FormattedMessage,{id:"management.settings.resetToDefaultLinkText",defaultMessage:"Reset to default"}))},Me=({field:e,onClear:t,unsavedChange:n})=>{if("image"!==e.type)return null;const{ariaAttributes:{ariaLabel:a},isOverridden:r,savedValue:i}=e;return r||!i&&!G(e,n)||i&&n&&void 0===n.unsavedValue?null:Object(h.jsx)("span",null,Object(h.jsx)(B.EuiLink,{"aria-label":R.i18n.translate("management.settings.field.changeImageLinkAriaLabel",{defaultMessage:"Change {ariaLabel}",values:{ariaLabel:a}}),onClick:()=>t(),"data-test-subj":`management-settings-change-image-${e.id}`},Object(h.jsx)(F.FormattedMessage,{id:"management.settings.changeImageLinkText",defaultMessage:"Change image"})))},Ce=({field:e})=>e.isOverridden?Object(h.jsx)(B.EuiText,{size:"xs","data-test-subj":`field-row-input-overridden-message-${e.id}`},Object(h.jsx)(F.FormattedMessage,{id:"management.settings.helpText",defaultMessage:"This setting is overridden by the Kibana server and can not be changed."})):null,Te=({field:e,isSavingEnabled:t,onClear:n,onReset:a,unsavedChange:r})=>{const{footerCSS:i}=(()=>{const{euiTheme:{size:e}}=Object(B.useEuiTheme)();return{footerCSS:Object(h.css)("margin-top:",e.s,";>*{margin-right:",e.s,";}","")}})();return e.isOverridden?Object(h.jsx)(Ce,{field:e}):t?Object(h.jsx)("span",{css:i,"data-test-subj":`field-row-input-footer-${e.id}`},Object(h.jsx)(ke,{field:e,onReset:a,unsavedChange:r}),Object(h.jsx)(Me,{field:e,unsavedChange:r,onClear:n})):null},Ie=e=>{const{isSavingEnabled:t,onFieldChange:n,field:a,unsavedChange:s}=e,{id:o,groupId:u,isOverridden:l,unsavedFieldId:c}=a,{cssFieldFormGroup:d}=ve({field:a,unsavedChange:s}),f=Object(r.useRef)(null),g=e=>{n(o,e)},p=Object(h.jsx)(Ae,{field:a,unsavedChange:s}),b=Object(h.jsx)(Oe,{field:a,unsavedChange:s}),y=null==s?void 0:s.error,v=null==s?void 0:s.isInvalid;let m=null;return s&&(m=Object(h.jsx)(B.EuiScreenReaderOnly,null,Object(h.jsx)("p",{id:`${c}`,"data-test-subj":`fieldRowScreenReaderMessage-${o}`},y||R.i18n.translate("management.settings.field.settingIsUnsaved",{defaultMessage:"Setting is currently not saved."})))),Object(h.jsx)(B.EuiErrorBoundary,null,Object(h.jsx)(B.EuiDescribedFormGroup,{css:d,fullWidth:!0,id:u,title:p,description:b},Object(h.jsx)(B.EuiFormRow,{fullWidth:!0,hasChildLabel:!D(a),label:o,helpText:Object(h.jsx)(Te,{field:a,isSavingEnabled:t,onClear:()=>{f.current&&f.current.reset(),void 0!==a.savedValue&&null!==a.savedValue?g({type:a.type,unsavedValue:void 0}):g()},onReset:()=>{var e;null===(e=f.current)||void 0===e||e.reset();const t={type:a.type,unsavedValue:a.defaultValue};G(a,t)?g(t):g()},unsavedChange:s}),isInvalid:v,error:y},Object(h.jsx)(i.a.Fragment,null,Object(h.jsx)(ye,{isSavingEnabled:t&&!l,isInvalid:null==s?void 0:s.isInvalid,field:a,unsavedChange:s,ref:f,onInputChange:g}),m))))},Se=[V.aiAssistantLogsIndexPattern,V.aiAssistantResponseLanguage,V.aiAssistantSimulatedFunctionCalling,V.aiAssistantSearchConnectorIndexPattern];function Le(){const{docLinks:e,settings:t,notifications:n}=P().services,{fields:a,handleFieldChange:r,unsavedChanges:s,saveAll:o,isSaving:u,cleanUnsavedChanges:c}=Object(U.useEditableSettings)(Se),d=Object.values(s).some((({isInvalid:e})=>e));return Object(h.jsx)(i.a.Fragment,null,Object(h.jsx)(B.EuiSpacer,null),Se.map((i=>{const o=a[i];return o?Object(h.jsx)(he,{key:i,links:e.links.management,showDanger:e=>n.toasts.addDanger(e),validateChange:(e,n)=>t.client.validateValue(e,n)},Object(h.jsx)(Ie,{field:o,isSavingEnabled:!0,onFieldChange:r,unsavedChange:s[i]})):null})),!Object(l.isEmpty)(s)&&Object(h.jsx)(U.BottomBarActions,{isLoading:u,onDiscardChanges:c,onSave:async function(){try{await o(),window.location.reload()}catch(e){const t=e;n.toasts.addDanger({title:R.i18n.translate("xpack.observabilityAiAssistantManagement.apmSettings.save.error",{defaultMessage:"An error occurred while saving the settings"}),text:t.message})}},saveLabel:R.i18n.translate("xpack.observabilityAiAssistantManagement.apmSettings.saveButton",{defaultMessage:"Save changes"}),unsavedChangesCount:Object.keys(s).length,appTestSubj:"apm",areChangesInvalid:d}))}function Fe(){const{application:{navigateToApp:e}}=P().services;return Object(h.jsx)(B.EuiPanel,{hasBorder:!0,grow:!1},Object(h.jsx)(B.EuiDescribedFormGroup,{fullWidth:!0,title:Object(h.jsx)("h3",null,R.i18n.translate("xpack.observabilityAiAssistantManagement.settingsPage.showAIAssistantButtonLabel",{defaultMessage:"Show AI Assistant button and Contextual Insights in Observability apps"})),description:Object(h.jsx)("p",null,R.i18n.translate("xpack.observabilityAiAssistantManagement.settingsPage.showAIAssistantDescriptionLabel",{defaultMessage:"Toggle the AI Assistant button and Contextual Insights on or off in Observability apps by checking or unchecking the AI Assistant feature in Spaces > <your space> > Features.",ignoreTag:!0}))},Object(h.jsx)(B.EuiFormRow,{fullWidth:!0},Object(h.jsx)(B.EuiButton,{"data-test-subj":"settingsTabGoToSpacesButton",onClick:()=>{e("management",{path:"/kibana/spaces"})}},R.i18n.translate("xpack.observabilityAiAssistantManagement.settingsPage.goToFeatureControlsButtonLabel",{defaultMessage:"Go to Spaces"})))),Object(h.jsx)(B.EuiDescribedFormGroup,{fullWidth:!0,title:Object(h.jsx)("h3",null,R.i18n.translate("xpack.observabilityAiAssistantManagement.settingsPage.connectorSettingsLabel",{defaultMessage:"Connector settings"})),description:R.i18n.translate("xpack.observabilityAiAssistantManagement.settingsPage.euiDescribedFormGroup.inOrderToUseLabel",{defaultMessage:"In order to use the Observability AI Assistant you must set up a Generative AI connector."})},Object(h.jsx)(B.EuiFormRow,{fullWidth:!0},Object(h.jsx)(B.EuiButton,{"data-test-subj":"settingsTabGoToConnectorsButton",onClick:()=>{e("management",{path:"/insightsAndAlerting/triggersActionsConnectors/connectors"})}},R.i18n.translate("xpack.observabilityAiAssistantManagement.settingsPage.goToConnectorsButtonLabel",{defaultMessage:"Manage connectors"})))),Object(h.jsx)(Le,null))}var Re=n(14),Be=n.n(Re);const _e={GET_GENAI_CONNECTORS:"get_genai_connectors",GET_KB_ENTRIES:"get_kb_entries",CREATE_KB_ENTRIES:"create_kb_entry",IMPORT_KB_ENTRIES:"import_kb_entry"};function Ne(){const{observabilityAIAssistant:e,notifications:{toasts:t}}=P().services,n=Object(L.useQueryClient)(),a=null==e?void 0:e.service.callApi;return Object(L.useMutation)([_e.CREATE_KB_ENTRIES],(({id:e})=>a?null==a?void 0:a("DELETE /internal/observability_ai_assistant/kb/entries/{entryId}",{signal:null,params:{path:{entryId:e}}}):Promise.reject("Error with observabilityAIAssistantApi: API not found.")),{onSuccess:(e,{id:a})=>{t.addSuccess(R.i18n.translate("xpack.observabilityAiAssistantManagement.kb.deleteManualEntry.successNotification",{defaultMessage:"Successfully deleted {id}",values:{id:a}})),n.invalidateQueries({queryKey:[_e.GET_KB_ENTRIES],refetchType:"all"})},onError:(e,{id:n})=>{var a,r;t.addError(new Error(null!==(a=null===(r=e.body)||void 0===r?void 0:r.message)&&void 0!==a?a:e.message),{title:R.i18n.translate("xpack.observabilityAiAssistantManagement.kb.deleteManualEntry.errorNotification",{defaultMessage:"Something went wrong while deleting {name}",values:{name:n}})})}})}function Pe({entry:e,onClose:t}){var n,a,i;const{uiSettings:s}=P().services,o=s.get("dateFormat"),{mutateAsync:u,isLoading:l}=function(){const{observabilityAIAssistant:e,notifications:{toasts:t}}=P().services,n=Object(L.useQueryClient)(),a=null==e?void 0:e.service.callApi;return Object(L.useMutation)([_e.CREATE_KB_ENTRIES],(({entry:e})=>a?null==a?void 0:a("POST /internal/observability_ai_assistant/kb/entries/save",{signal:null,params:{body:{...e,role:"user_entry"}}}):Promise.reject("Error with observabilityAIAssistantApi: API not found.")),{onSuccess:(e,{entry:a})=>{t.addSuccess(R.i18n.translate("xpack.observabilityAiAssistantManagement.kb.addManualEntry.successNotification",{defaultMessage:"Successfully created {name}",values:{name:a.id}})),n.invalidateQueries({queryKey:[_e.GET_KB_ENTRIES],refetchType:"all"})},onError:(e,{entry:n})=>{var a,r;t.addError(new Error(null!==(a=null===(r=e.body)||void 0===r?void 0:r.message)&&void 0!==a?a:e.message),{title:R.i18n.translate("xpack.observabilityAiAssistantManagement.kb.addManualEntry.errorNotification",{defaultMessage:"Something went wrong while creating {name}",values:{name:n.id}})})}})}(),{mutateAsync:c,isLoading:d}=Ne(),[f,g]=Object(r.useState)(null!==(n=null==e?void 0:e.public)&&void 0!==n&&n),[p,b]=Object(r.useState)(null!==(a=null==e?void 0:e.id)&&void 0!==a?a:""),[y,v]=Object(r.useState)(null!==(i=null==e?void 0:e.text)&&void 0!==i?i:""),m=""===p.trim(),j=""===y.trim(),x=m||j;return Object(h.jsx)(B.EuiFlyout,{onClose:t},Object(h.jsx)(B.EuiFlyoutHeader,{hasBorder:!0,"data-test-subj":"knowledgeBaseManualEntryFlyout"},Object(h.jsx)(B.EuiTitle,null,Object(h.jsx)("h2",null,e?R.i18n.translate("xpack.observabilityAiAssistantManagement.knowledgeBaseNewEntryFlyout.h2.editEntryLabel",{defaultMessage:"Edit {id}",values:{id:e.id}}):R.i18n.translate("xpack.observabilityAiAssistantManagement.knowledgeBaseNewEntryFlyout.h2.newEntryLabel",{defaultMessage:"New entry"})))),Object(h.jsx)(B.EuiFlyoutBody,null,e?Object(h.jsx)(B.EuiFlexGroup,null,Object(h.jsx)(B.EuiFlexItem,null,Object(h.jsx)(B.EuiText,{color:"subdued",size:"s"},R.i18n.translate("xpack.observabilityAiAssistantManagement.knowledgeBaseEditManualEntryFlyout.createdOnTextLabel",{defaultMessage:"Created on"})),Object(h.jsx)(B.EuiText,{size:"s"},Be()(e["@timestamp"]).format(o))),Object(h.jsx)(B.EuiFlexItem,{grow:!1},Object(h.jsx)(B.EuiButton,{"data-test-subj":"knowledgeBaseEditManualEntryFlyoutDeleteEntryButton",color:"danger",iconType:"trash",isLoading:d,onClick:async()=>{await c({id:e.id}),t()}},R.i18n.translate("xpack.observabilityAiAssistantManagement.knowledgeBaseEditManualEntryFlyout.deleteEntryButtonLabel",{defaultMessage:"Delete entry"})))):Object(h.jsx)(B.EuiFormRow,{fullWidth:!0,label:R.i18n.translate("xpack.observabilityAiAssistantManagement.knowledgeBaseEditManualEntryFlyout.euiFormRow.idLabel",{defaultMessage:"Name"})},Object(h.jsx)(B.EuiFieldText,{"data-test-subj":"knowledgeBaseEditManualEntryFlyoutIdInput",fullWidth:!0,value:p,onChange:e=>b(e.target.value),isInvalid:m})),Object(h.jsx)(B.EuiSpacer,{size:"m"}),Object(h.jsx)(B.EuiFlexGroup,{alignItems:"center"},Object(h.jsx)(B.EuiFlexItem,{grow:!1},Object(h.jsx)(B.EuiButtonGroup,{legend:R.i18n.translate("xpack.observabilityAiAssistantManagement.knowledgeBaseEditManualEntryFlyout.euiButtonGroup.visibilityLabel",{defaultMessage:"Visibility"}),options:[{id:"user",label:R.i18n.translate("xpack.observabilityAiAssistantManagement.knowledgeBaseEditManualEntryFlyout.euiButtonGroup.userLabel",{defaultMessage:"User"})},{id:"global",label:R.i18n.translate("xpack.observabilityAiAssistantManagement.knowledgeBaseEditManualEntryFlyout.euiButtonGroup.globalLabel",{defaultMessage:"Global"})}],idSelected:f?"global":"user",onChange:e=>g("global"===e),buttonSize:"m"})),Object(h.jsx)(B.EuiFlexItem,{grow:!1},Object(h.jsx)(B.EuiIconTip,{content:"Global entries will be available to all users. User entries will only be available to the author.",position:"top",type:"iInCircle"}))),Object(h.jsx)(B.EuiSpacer,{size:"m"}),Object(h.jsx)(B.EuiFormRow,{fullWidth:!0,label:R.i18n.translate("xpack.observabilityAiAssistantManagement.knowledgeBaseEditManualEntryFlyout.euiFormRow.contentsLabel",{defaultMessage:"Contents"})},Object(h.jsx)(B.EuiMarkdownEditor,{editorId:"knowledgeBaseEditManualEntryFlyoutMarkdownEditor","aria-label":R.i18n.translate("xpack.observabilityAiAssistantManagement.knowledgeBaseNewManualEntryFlyout.euiMarkdownEditor.observabilityAiAssistantKnowledgeBaseViewMarkdownEditorLabel",{defaultMessage:"observabilityAiAssistantKnowledgeBaseViewMarkdownEditor"}),height:300,initialViewMode:"editing",readOnly:!1,placeholder:R.i18n.translate("xpack.observabilityAiAssistantManagement.knowledgeBaseEditManualEntryFlyout.euiMarkdownEditor.enterContentsLabel",{defaultMessage:"Enter contents"}),value:y,onChange:e=>v(e)})),Object(h.jsx)(B.EuiSpacer,{size:"m"})),Object(h.jsx)(B.EuiFlyoutFooter,null,Object(h.jsx)(B.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(h.jsx)(B.EuiFlexItem,{grow:!1},Object(h.jsx)(B.EuiButtonEmpty,{"data-test-subj":"knowledgeBaseEditManualEntryFlyoutCancelButton",disabled:l,onClick:t},R.i18n.translate("xpack.observabilityAiAssistantManagement.knowledgeBaseNewManualEntryFlyout.cancelButtonEmptyLabel",{defaultMessage:"Cancel"}))),Object(h.jsx)(B.EuiFlexItem,{grow:!1},Object(h.jsx)(B.EuiButton,{"data-test-subj":"knowledgeBaseEditManualEntryFlyoutSaveButton",fill:!0,isLoading:l,onClick:async()=>{await u({entry:{id:p,text:y,public:f}}),t()},isDisabled:x},R.i18n.translate("xpack.observabilityAiAssistantManagement.knowledgeBaseNewManualEntryFlyout.saveButtonLabel",{defaultMessage:"Save"}))))))}const Ue={lens:{description:Object(h.jsx)(i.a.Fragment,null,Object(h.jsx)(B.EuiText,{size:"m"},R.i18n.translate("xpack.observabilityAiAssistantManagement.knowledgeBaseCategoryFlyout.categoryMap.lensCategoryDescriptionLabel",{defaultMessage:"Lens is a Kibana feature which allows the Assistant to visualize data in response to user queries. These Knowledge base items are loaded into the Knowledge base by default."})))}};function Ve({category:e,onClose:t}){var n,a;const{uiSettings:r}=P().services,i=r.get("dateFormat"),{mutate:s}=Ne(),o=[{field:"@timestamp",name:R.i18n.translate("xpack.observabilityAiAssistantManagement.knowledgeBaseCategoryFlyout.actions.dateCreated",{defaultMessage:"Date created"}),sortable:!0,render:e=>Object(h.jsx)(B.EuiBadge,{color:"hollow"},Be()(e).format(i))},{field:"id",name:R.i18n.translate("xpack.observabilityAiAssistantManagement.knowledgeBaseCategoryFlyout.actions.name",{defaultMessage:"Name"}),sortable:!0,width:"340px"},{name:"Actions",actions:[{name:R.i18n.translate("xpack.observabilityAiAssistantManagement.knowledgeBaseCategoryFlyout.actions.delete",{defaultMessage:"Delete"}),description:R.i18n.translate("xpack.observabilityAiAssistantManagement.knowledgeBaseCategoryFlyout.actions.deleteDescription",{defaultMessage:"Delete this entry"}),type:"icon",icon:"trash",onClick:({id:e})=>{s({id:e})}}]}],u=null===(n=Ue[e.categoryName])||void 0===n?void 0:n.description;return Object(h.jsx)(B.EuiFlyout,{onClose:t,"data-test-subj":"knowledgeBaseCategoryFlyout"},Object(h.jsx)(B.EuiFlyoutHeader,{hasBorder:!0},Object(h.jsx)(B.EuiTitle,null,Object(h.jsx)("h2",null,Object(l.capitalize)(e.categoryName)))),Object(h.jsx)(B.EuiFlyoutBody,null,u||Object(h.jsx)(B.EuiBasicTable,{columns:o,items:null!==(a=e.entries)&&void 0!==a?a:[]})))}function De({onClose:e}){const{notifications:{toasts:t}}=P().services,{mutateAsync:n,isLoading:a}=function(){const{observabilityAIAssistant:e,notifications:{toasts:t}}=P().services,n=Object(L.useQueryClient)(),a=null==e?void 0:e.service.callApi;return Object(L.useMutation)([_e.IMPORT_KB_ENTRIES],(({entries:e})=>a?null==a?void 0:a("POST /internal/observability_ai_assistant/kb/entries/import",{signal:null,params:{body:{entries:e}}}):Promise.reject("Error with observabilityAIAssistantApi: API not found.")),{onSuccess:(e,{entries:a})=>{t.addSuccess(R.i18n.translate("xpack.observabilityAiAssistantManagement.kb.importEntries.successNotification",{defaultMessage:"Successfully imported {number} items",values:{number:a.length}})),n.invalidateQueries({queryKey:[_e.GET_KB_ENTRIES],refetchType:"all"})},onError:e=>{var n,a;t.addError(new Error(null!==(n=null===(a=e.body)||void 0===a?void 0:a.message)&&void 0!==n?n:e.message),{title:R.i18n.translate("xpack.observabilityAiAssistantManagement.kb.importEntries.errorNotification",{defaultMessage:"Something went wrong while importing items"})})}})}(),i=Object(B.useGeneratedHtmlId)({prefix:"filePicker"}),[s,o]=Object(r.useState)([]);return Object(h.jsx)(B.EuiFlyout,{onClose:e,"data-test-subj":"knowledgeBaseBulkImportFlyout"},Object(h.jsx)(B.EuiFlyoutHeader,{hasBorder:!0},Object(h.jsx)(B.EuiTitle,null,Object(h.jsx)("h2",null,R.i18n.translate("xpack.observabilityAiAssistantManagement.knowledgeBaseBulkImportFlyout.h2.bulkImportLabel",{defaultMessage:"Import files"})))),Object(h.jsx)(B.EuiFlyoutBody,null,Object(h.jsx)(B.EuiFlexGroup,{alignItems:"center"},Object(h.jsx)(B.EuiFlexItem,{grow:!1},Object(h.jsx)(B.EuiIcon,{type:"addDataApp",size:"xl"})),Object(h.jsx)(B.EuiFlexItem,null,Object(h.jsx)(B.EuiTitle,{size:"xs"},Object(h.jsx)("h3",null,R.i18n.translate("xpack.observabilityAiAssistantManagement.knowledgeBaseBulkImportFlyout.addFilesToEnrichTitleLabel",{defaultMessage:"Add files to enrich your Knowledge base"}))))),Object(h.jsx)(B.EuiSpacer,{size:"l"}),Object(h.jsx)(B.EuiText,{size:"s"},Object(h.jsx)(F.FormattedMessage,{id:"xpack.observabilityAiAssistantManagement.knowledgeBaseBulkImportFlyout.uploadAJSONFileTextLabel",defaultMessage:"Upload a newline delimited JSON ({ext}) file containing a list of entries to add to your Knowledge base.",values:{ext:Object(h.jsx)(B.EuiCode,{language:"html"},".ndjson")}})),Object(h.jsx)(B.EuiSpacer,{size:"m"}),Object(h.jsx)(B.EuiText,{size:"s"},R.i18n.translate("xpack.observabilityAiAssistantManagement.knowledgeBaseBulkImportFlyout.theObjectsShouldBeTextLabel",{defaultMessage:"The objects should be of the following format:"})),Object(h.jsx)(B.EuiSpacer,{size:"m"}),Object(h.jsx)(B.EuiCodeBlock,{isCopyable:!0,paddingSize:"s"},'{\n  "id": "a_unique_human_readable_id",\n  "text": "Contents of item",\n}\n'),Object(h.jsx)(B.EuiHorizontalRule,null),Object(h.jsx)(B.EuiFilePicker,{"aria-label":R.i18n.translate("xpack.observabilityAiAssistantManagement.knowledgeBaseBulkImportFlyout.euiFilePicker.uploadJSONLabel",{defaultMessage:"Upload JSON"}),display:"large",fullWidth:!0,id:i,initialPromptText:R.i18n.translate("xpack.observabilityAiAssistantManagement.knowledgeBaseBulkImportFlyout.euiFilePicker.selectOrDragAndLabel",{defaultMessage:"Select or drag and drop a .ndjson file"}),onChange:e=>{o(e&&e.length>0?Array.from(e):[])}})),Object(h.jsx)(B.EuiFlyoutFooter,null,Object(h.jsx)(B.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(h.jsx)(B.EuiFlexItem,{grow:!1},Object(h.jsx)(B.EuiButtonEmpty,{"data-test-subj":"knowledgeBaseBulkImportFlyoutCancelButton",disabled:a,onClick:e},R.i18n.translate("xpack.observabilityAiAssistantManagement.knowledgeBaseBulkImportFlyout.cancelButtonEmptyLabel",{defaultMessage:"Cancel"}))),Object(h.jsx)(B.EuiFlexItem,{grow:!1},Object(h.jsx)(B.EuiButton,{"data-test-subj":"knowledgeBaseBulkImportFlyoutSaveButton",fill:!0,isLoading:a,onClick:async()=>{let a=[];const r=(await s[0].text()).split("\n").filter(Boolean);try{a=r.map((e=>JSON.parse(e)))}catch(e){t.addError(new Error(R.i18n.translate("xpack.observabilityAiAssistantManagement.knowledgeBaseBulkImportFlyout.errorParsingEntries.description",{defaultMessage:"Error parsing JSON entries"})),{title:R.i18n.translate("xpack.observabilityAiAssistantManagement.knowledgeBaseBulkImportFlyout.errorParsingEntries.title",{defaultMessage:"Something went wrong"})})}n({entries:a}).then(e)}},R.i18n.translate("xpack.observabilityAiAssistantManagement.knowledgeBaseBulkImportFlyout.saveButtonLabel",{defaultMessage:"Save"}))))))}function $e(){const{uiSettings:e}=P().services,t=e.get("dateFormat"),n=[{align:"right",width:"40px",isExpander:!0,name:Object(h.jsx)(B.EuiScreenReaderOnly,null,Object(h.jsx)("span",null,R.i18n.translate("xpack.observabilityAiAssistantManagement.span.expandRowLabel",{defaultMessage:"Expand row"}))),render:e=>Object(h.jsx)(B.EuiButtonIcon,{"data-test-subj":"pluginsColumnsButton",onClick:()=>s(e),"aria-label":e.categoryName===(null==a?void 0:a.categoryName)?"Collapse":"Expand",iconType:e.categoryName===(null==a?void 0:a.categoryName)?"minimize":"expand"})},{field:"",name:"",render:e=>1===e.entries.length&&"user_entry"===e.entries[0].role?Object(h.jsx)(B.EuiIcon,{type:"documentation",color:"primary"}):1===e.entries.length&&"assistant_summarization"===e.entries[0].role?Object(h.jsx)(B.EuiIcon,{type:"sparkles",color:"primary"}):Object(h.jsx)(B.EuiIcon,{type:"logoElastic"}),width:"40px"},{field:"categoryName",name:R.i18n.translate("xpack.observabilityAiAssistantManagement.kbTab.columns.name",{defaultMessage:"Name"}),sortable:!0},{name:R.i18n.translate("xpack.observabilityAiAssistantManagement.kbTab.columns.numberOfEntries",{defaultMessage:"Number of entries"}),width:"140px",render:e=>e.entries.length>1&&"elastic"===e.entries[0].role?Object(h.jsx)(B.EuiBadge,null,e.entries.length):null},{name:R.i18n.translate("xpack.observabilityAiAssistantManagement.kbTab.columns.author",{defaultMessage:"Author"}),width:"140px",render:e=>{var t,n;return null===(t=e.entries[0])||void 0===t||null===(n=t.user)||void 0===n?void 0:n.name}},{field:"@timestamp",name:R.i18n.translate("xpack.observabilityAiAssistantManagement.kbTab.columns.dateCreated",{defaultMessage:"Date created"}),width:"140px",sortable:!0,render:e=>Object(h.jsx)(B.EuiBadge,{color:"hollow"},Be()(e).format(t))},{name:R.i18n.translate("xpack.observabilityAiAssistantManagement.kbTab.columns.type",{defaultMessage:"Type"}),width:"140px",render:e=>1===e.entries.length&&"user_entry"===e.entries[0].role?Object(h.jsx)(B.EuiBadge,{color:"hollow"},R.i18n.translate("xpack.observabilityAiAssistantManagement.kbTab.columns.manualBadgeLabel",{defaultMessage:"Manual"})):1===e.entries.length&&"assistant_summarization"===e.entries[0].role?Object(h.jsx)(B.EuiBadge,{color:"hollow"},R.i18n.translate("xpack.observabilityAiAssistantManagement.kbTab.columns.assistantSummarization",{defaultMessage:"Assistant"})):Object(h.jsx)(B.EuiBadge,null,R.i18n.translate("xpack.observabilityAiAssistantManagement.columns.systemBadgeLabel",{defaultMessage:"System"}))}],[a,s]=Object(r.useState)(),[o,u]=Object(r.useState)(),[l,c]=Object(r.useState)(!1),[d,f]=Object(r.useState)(""),[g,p]=Object(r.useState)("doc_id"),[b,y]=Object(r.useState)("asc"),{entries:v=[],isLoading:m,refetch:j}=function({query:e,sortBy:t,sortDirection:n}){const{observabilityAIAssistant:a}=P().services,r=null==a?void 0:a.service.callApi,{isLoading:i,isError:s,isSuccess:o,isRefetching:u,data:l,refetch:c}=Object(L.useQuery)({queryKey:[_e.GET_KB_ENTRIES,e,t,n],queryFn:async({signal:a})=>r&&a?r("GET /internal/observability_ai_assistant/kb/entries",{signal:a,params:{query:{query:e,sortBy:t,sortDirection:n}}}):Promise.reject("Error with observabilityAIAssistantApi: API not found."),keepPreviousData:!0,refetchOnWindowFocus:!1});return{entries:null==l?void 0:l.entries,refetch:c,isLoading:i,isRefetching:u,isSuccess:o,isError:s}}({query:d,sortBy:g,sortDirection:b}),x=function({entries:e}){return e.reduce(((e,t)=>{var n,a;const r=null!==(n=null===(a=t.labels)||void 0===a?void 0:a.category)&&void 0!==n?n:t.id,i=e.findIndex((e=>e.categoryName===r));return i>-1?(e[i].entries.push(t),e):e.concat({categoryName:r,entries:[t],"@timestamp":t["@timestamp"]})}),[])}({entries:v});return Object(h.jsx)(i.a.Fragment,null,Object(h.jsx)(B.EuiFlexGroup,{direction:"column"},Object(h.jsx)(B.EuiFlexItem,{grow:!1},Object(h.jsx)(B.EuiFlexGroup,{gutterSize:"s"},Object(h.jsx)(B.EuiFlexItem,{grow:!0},Object(h.jsx)(B.EuiFieldSearch,{"data-test-subj":"knowledgeBaseTabFieldSearch",fullWidth:!0,placeholder:R.i18n.translate("xpack.observabilityAiAssistantManagement.knowledgeBaseTab.euiFieldSearch.searchThisLabel",{defaultMessage:"Search for an entry"}),value:d,onChange:e=>{f((null==e?void 0:e.currentTarget.value)||"")},isClearable:!0,"aria-label":R.i18n.translate("xpack.observabilityAiAssistantManagement.knowledgeBaseTab.euiFieldSearch.searchEntriesLabel",{defaultMessage:"Search entries"})})),Object(h.jsx)(B.EuiFlexItem,{grow:!1},Object(h.jsx)(B.EuiButton,{"data-test-subj":"knowledgeBaseTabReloadButton",color:"success",iconType:"refresh",onClick:()=>j()},R.i18n.translate("xpack.observabilityAiAssistantManagement.knowledgeBaseTab.reloadButtonLabel",{defaultMessage:"Reload"}))),Object(h.jsx)(B.EuiFlexItem,{grow:!1},Object(h.jsx)(B.EuiPopover,{isOpen:l,closePopover:()=>c(!1),button:Object(h.jsx)(B.EuiButton,{fill:!0,"data-test-subj":"knowledgeBaseNewEntryButton",iconSide:"right",iconType:"arrowDown",onClick:()=>{c(!0)}},R.i18n.translate("xpack.observabilityAiAssistantManagement.knowledgeBaseTab.newEntryButtonLabel",{defaultMessage:"New entry"}))},Object(h.jsx)(B.EuiContextMenuPanel,{size:"s",items:[Object(h.jsx)(B.EuiContextMenuItem,{key:"singleEntry",icon:"document","data-test-subj":"knowledgeBaseSingleEntryContextMenuItem",onClick:()=>{c(!1),u("singleEntry")},size:"s"},R.i18n.translate("xpack.observabilityAiAssistantManagement.knowledgeBaseTab.singleEntryContextMenuItemLabel",{defaultMessage:"Single entry"})),Object(h.jsx)(B.EuiContextMenuItem,{key:"bulkImport",icon:"documents","data-test-subj":"knowledgeBaseBulkImportContextMenuItem",onClick:()=>{c(!1),u("bulkImport")}},R.i18n.translate("xpack.observabilityAiAssistantManagement.knowledgeBaseTab.bulkImportContextMenuItemLabel",{defaultMessage:"Bulk import"}))]}))))),Object(h.jsx)(B.EuiFlexItem,{grow:!1},Object(h.jsx)(B.EuiBasicTable,{"data-test-subj":"knowledgeBaseTable",columns:n,items:x,loading:m,sorting:{sort:{field:"doc_id"===g?"categoryName":g,direction:b}},rowProps:e=>({onClick:()=>s(e)}),onChange:({sort:e})=>{if(e){const{field:t,direction:n}=e;"@timestamp"===t&&p(t),"categoryName"===t&&p("doc_id"),y(n)}}}))),"singleEntry"===o?Object(h.jsx)(Pe,{onClose:()=>u(void 0)}):null,"bulkImport"===o?Object(h.jsx)(De,{onClose:()=>u(void 0)}):null,a?1!==a.entries.length||"user_entry"!==a.entries[0].role&&"assistant_summarization"!==a.entries[0].role?Object(h.jsx)(Ve,{category:a,onClose:()=>s(void 0)}):Object(h.jsx)(Pe,{entry:a.entries[0],onClose:()=>{s(void 0),j()}}):null)}function ze(){const{application:e}=P().services,t=e.getUrlForApp("enterprise_search",{path:"/content/connectors"});return Object(h.jsx)(i.a.Fragment,null,Object(h.jsx)(B.EuiText,null,R.i18n.translate("xpack.observabilityAiAssistantManagement.searchConnectorTab.searchConnectorsEnablesYouTextLabel",{defaultMessage:"Connectors enable you to index content from external sources thereby making it available for the AI Assistant. This can greatly improve the relevance of the AI Assistant’s responses."})),Object(h.jsx)(B.EuiText,null,Object(h.jsx)(F.FormattedMessage,{id:"xpack.observabilityAiAssistantManagement.searchConnectorTab.searchConnectorsManagementLink",defaultMessage:"You can manage connectors under {searchConnectorLink}.",values:{searchConnectorLink:Object(h.jsx)(B.EuiLink,{"data-test-subj":"pluginsSearchConnectorTabSearchConnectorsManagementPageLink",href:t},R.i18n.translate("xpack.observabilityAiAssistantManagement.searchConnectorTab.searchConnectorsManagementPageLinkLabel",{defaultMessage:"Connectors"}))}})))}const We=u.union([u.literal("settings"),u.literal("knowledge_base"),u.literal("search_connector"),u[void 0]]),qe=function(e){const t=new Map,n=new Map,a=Object.entries(e).map((([e,t])=>r({...t,path:e})));function r(e){var a,i,s;const o={component:()=>e.element,routes:null!==(a=null===(i=Object.entries(null!==(s=e.children)&&void 0!==s?s:{}))||void 0===i?void 0:i.map((([e,t])=>r({...t,path:e}))))&&void 0!==a?a:[],exact:!e.children||0===Object.values(e.children).length,path:m(e.path)};return t.set(o,e),n.set(e,o),o}function i(e){const n=Object(v.matchRoutes)(a,m(e));if(!n.length)throw new Error(`No matching route found for ${e}`);return n.map((e=>t.get(e.route)))}const s=(...e)=>{let n=!1;"boolean"==typeof e[e.length-1]&&(n=e[e.length-1],e.pop());const r=e[e.length-1];e.pop();let i=e;0===i.length&&(i=[r.pathname||"/"]);let s=[],o=-1;const u=i.map((t=>{const n=t.endsWith("/*")||0===e.length?1:0;return{length:t.length,greedy:n,path:t}})),d=Object(l.orderBy)(u,["greedy","length"],["desc","desc"]);for(const{path:e,greedy:t}of d){if(s=Object(v.matchRoutes)(a,m(r.pathname)),o=t?s.length-1:Object(l.findLastIndex)(s,(t=>t.route.path===m(e))),-1!==o)break;o=-1}if(-1===o){if(n)return[];let e;throw e=1===i.length?`${i[0]} does not match current path ${r.pathname}`:`None of ${i.join(", ")} match current path ${r.pathname}`,new Error(e)}if(!s.some((e=>e.match.isExact)))throw new NotFoundRouteException("No route was matched");return s.slice(0,o+1).map((e=>{const n=t.get(e.route);if(null!=n&&n.params){var a;const t=g(n.params).decode(Object(l.merge)({},null!==(a=n.defaults)&&void 0!==a?a:{},{path:e.match.params,query:y.a.parse(r.search,{decode:!0})}));if(Object(c.isLeft)(t))throw new Error(p.PathReporter.report(t).join("\n"));return{match:{...e.match,params:t.right},route:n}}return{match:{...e.match,params:{path:{},query:{}}},route:n}}))};return{link:(e,...t)=>((e,...t)=>{const n=t[0],a=Object(l.merge)({path:{},query:{}},n),r=i(e=e.split("/").map((e=>{const t=e.match(/(?:{([a-zA-Z]+)})/);return t?a.path[t[1]]:e})).join("/")),s=d(...Object(l.compact)(r.map((e=>e.params)))),o=Object(l.merge)({},...r.map((e=>{var t;return null!==(t=e.defaults)&&void 0!==t?t:{}})),a),u=s.decode(o);if(Object(c.isLeft)(u))throw new Error(p.PathReporter.report(u).join("\n"));return y.a.stringifyUrl({url:e,query:o.query},{encode:!0})})(e,...t),getParams:(...e)=>{const t=s(...e);return t.length?Object(l.merge)({path:{},query:{}},...t.map((e=>{var t,n;return Object(l.merge)({},null!==(t=null===(n=e.route)||void 0===n?void 0:n.defaults)&&void 0!==t?t:{},e.match.params)}))):void 0},matchRoutes:(...e)=>s(...e),getRoutePath:e=>e.path,getRoutesToMatch:e=>i(e)}}({"/":{element:Object(h.jsx)((function(){var e;const{setBreadcrumbs:t}=(()=>{const e=Object(r.useContext)(_);if(!e)throw new Error('"useAppContext" can only be called inside of AppContext.Provider!');return e})(),{services:{application:{navigateToApp:n},serverless:a,enterpriseSearch:s}}=P(),o=function(){const e=Object(E.useHistory)(),{http:t}=P().services,n=(...e)=>qe.link(...e);return Object(r.useMemo)((()=>({...qe,push:(...t)=>{const a=n(...t);e.push(a)},replace:(t,...a)=>{const r=n(t,...a);e.replace(r)},link:(e,...a)=>t.basePath.prepend("/app/management/observabilityAiAssistantManagement"+n(e,...a))})),[t,e])}(),{query:{tab:u}}=function(...e){const t=M(),n=Object(E.useLocation)();let a=!1;const i=e[e.length-1];return"boolean"==typeof i&&(a=i,e.pop()),Object(r.useMemo)((()=>t.getParams(...e,n,a)),[t,...e,n,a])}("/");Object(r.useEffect)((()=>{a?a.setBreadcrumbs([{text:R.i18n.translate("xpack.observabilityAiAssistantManagement.breadcrumb.serverless.observability",{defaultMessage:"AI Assistant for Observability Settings"})}]):t([{text:R.i18n.translate("xpack.observabilityAiAssistantManagement.breadcrumb.index",{defaultMessage:"AI Assistants"}),onClick:e=>{e.preventDefault(),n("management",{path:"/kibana/aiAssistantManagementSelection"})}},{text:R.i18n.translate("xpack.observabilityAiAssistantManagement.breadcrumb.observability",{defaultMessage:"Observability"})}])}),[n,a,t]);const l=[{id:"settings",name:R.i18n.translate("xpack.observabilityAiAssistantManagement.settingsPage.settingsLabel",{defaultMessage:"Settings"}),content:Object(h.jsx)(Fe,null)},{id:"knowledge_base",name:R.i18n.translate("xpack.observabilityAiAssistantManagement.settingsPage.knowledgeBaseLabel",{defaultMessage:"Knowledge base"}),content:Object(h.jsx)($e,null)},{id:"search_connector",name:R.i18n.translate("xpack.observabilityAiAssistantManagement.settingsPage.searchConnector",{defaultMessage:"Search Connectors"}),content:Object(h.jsx)(ze,null),disabled:null==s}],c=l.some((e=>e.id===u))?u:l[0].id,d=null===(e=l.find((e=>e.id===c)))||void 0===e?void 0:e.content;return Object(h.jsx)(i.a.Fragment,null,Object(h.jsx)(B.EuiTitle,{size:"l"},Object(h.jsx)("h2",null,R.i18n.translate("xpack.observabilityAiAssistantManagement.settingsPage.h2.settingsLabel",{defaultMessage:"Settings"}))),Object(h.jsx)(B.EuiSpacer,{size:"m"}),Object(h.jsx)(B.EuiTabs,{"data-test-subj":"settingsPageTabs"},l.filter((e=>!e.disabled)).map(((e,t)=>Object(h.jsx)(B.EuiTab,{key:t,"data-test-subj":`settingsPageTab-${e.id}`,onClick:()=>{return t=e.id,void o.push("/",{path:"/",query:{tab:t}});var t},isSelected:e.id===c},e.name)))),Object(h.jsx)(B.EuiSpacer,{size:"l"}),d,Object(h.jsx)(B.EuiSpacer,{size:"l"}))}),null),params:u.type({query:u.partial({tab:We})})}});function Ge({coreStart:e,children:t}){var n,a;const{application:{capabilities:r,navigateToApp:s}}=e;return null!==(n=(null==r?void 0:r.management.kibana.observabilityAiAssistantManagement)&&(null==r||null===(a=r.observabilityAIAssistant)||void 0===a?void 0:a[V.aiAssistantCapabilities.show]))&&void 0!==n&&n?Object(h.jsx)(i.a.Fragment,null,t):(s("home"),null)}const Ke=async({core:e,mountParams:t})=>{const[n,r]=await e.getStartServices();if(!r.observabilityAIAssistant)return()=>{};const{element:i,history:s,setBreadcrumbs:u}=t,{theme$:l}=e.theme;n.chrome.docTitle.change(R.i18n.translate("xpack.observabilityAiAssistantManagement.app.titleBar",{defaultMessage:"AI Assistant for Observability Settings"}));const c=new L.QueryClient;return o.a.render(Object(a.wrapWithTheme)(Object(h.jsx)(Ge,{coreStart:n},Object(h.jsx)(F.I18nProvider,null,Object(h.jsx)(a.KibanaContextProvider,{services:{...n,...r}},Object(h.jsx)(N,{value:{setBreadcrumbs:u}},Object(h.jsx)(L.QueryClientProvider,{client:c},Object(h.jsx)(S,{history:s,router:qe},Object(h.jsx)(C,null))))))),l),i),()=>{n.chrome.docTitle.reset(),o.a.unmountComponentAtNode(i)}}}])]);