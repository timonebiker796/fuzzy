(window.unifiedHistogram_bundle_jsonpfunction=window.unifiedHistogram_bundle_jsonpfunction||[]).push([[0],{36:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));let o=function(e){return e.DOCUMENT="document",e.BINARY="binary",e.BOOLEAN="boolean",e.CONFLICT="conflict",e.COUNTER="counter",e.DATE="date",e.DATE_RANGE="date_range",e.DENSE_VECTOR="dense_vector",e.GAUGE="gauge",e.GEO_POINT="geo_point",e.GEO_SHAPE="geo_shape",e.HISTOGRAM="histogram",e.IP="ip",e.IP_RANGE="ip_range",e.FLATTENED="flattened",e.KEYWORD="keyword",e.MURMUR3="murmur3",e.NUMBER="number",e.NESTED="nested",e.RANK_FEATURE="rank_feature",e.RANK_FEATURES="rank_features",e.POINT="point",e.SHAPE="shape",e.SPARSE_VECTOR="sparse_vector",e.SEMANTIC_TEXT="semantic_text",e.STRING="string",e.TEXT="text",e.VERSION="version",e}({});const i=Object.values(o),a=e=>!!e&&i.includes(e)},40:function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return v}));var o=n(7),i=n.n(o),a=n(2),s=n.n(a),l=n(1);const r=e=>({bold:e.font.weight.bold,normal:e.font.weight.regular});var d=n(0);const u=(e,{type:t,isDisabled:n,groupPosition:o})=>{const i=(({euiTheme:e})=>({default:{borderStyle:"solid",border:e.border.thin,borderColor:e.border.color},emptyButton:{backgroundColor:e.colors.emptyShade,border:`${e.border.thin}`,color:`${e.colors.text}`},buttonPositions:{left:{borderTopRightRadius:0,borderBottomRightRadius:0},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,borderLeft:"none"},center:{borderRadius:0,borderLeft:"none"}}}))(e),a=o&&"none"!==o?i.buttonPositions[o]:{},s={...i.default,...a};return n?s:{...s,..."primary"===t?{}:i.emptyButton}},c=({hasArrow:e=!0,fontWeight:t="normal",type:n,label:o,iconSide:a,iconType:s,fullWidth:c,isDisabled:b,groupPosition:p,...m})=>{const f=Object(l.useEuiTheme)(),h={...u(f,{type:n,isDisabled:b,groupPosition:p}),fontWeight:r(f.euiTheme)[t]},j=b?{}:"primary"===n?{color:"primary",fill:!0}:{color:"text"},g=null!=s?s:e?"arrowDown":"";return Object(d.jsx)(l.EuiButton,i()({size:m.size,isDisabled:b,css:h,iconType:g,iconSide:s?a:"right",fullWidth:c,contentProps:c?{style:{justifyContent:"space-between"}}:{}},j,m),o)},b=({size:e,type:t,label:n,isDisabled:o,groupPosition:a,...s})=>{const r=Object(l.useEuiTheme)(),c=u(r,{type:t,isDisabled:o,groupPosition:a});return Object(d.jsx)(l.EuiButtonIcon,i()({},s,{disabled:o,"aria-label":null!=n?n:s["aria-label"],size:e,iconSize:e,css:c,display:"primary"===t?"fill":"base",color:"primary"===t?"primary":"text"}))};function p(e){const{type:t="empty",size:n="m"}=e;return(e=>"iconButton"===e.as)(e)?Object(d.jsx)(b,i()({},e,{size:n,type:t})):Object(d.jsx)(c,i()({},e,{size:n,type:t}))}var m=n(24);const f={maxWidth:550,avCharWidth:7,paddingsWidth:116};var h=n(16);const j="__EMPTY_SELECTOR_OPTION__";var g={name:"18g08sj",styles:"padding-bottom:0"};const v=({"data-test-subj":e,"data-selected-value":t,buttonLabel:n,popoverTitle:o,options:r,searchable:u,onChange:c,optionMatcher:b})=>{const{euiTheme:v}=Object(l.useEuiTheme)(),[O,E]=Object(a.useState)(!1),[y,S]=Object(a.useState)(),[w,T]=Object(a.useState)(!1),x=Object(a.useCallback)((()=>T(!0)),[]),k=Object(a.useCallback)((()=>setTimeout((()=>T(!1)))),[]),_=Object(a.useCallback)((e=>{const t=e.find((({checked:e})=>"on"===e));null==c||c(null!=t&&t.value&&(null==t?void 0:t.value)!==j?t:void 0),E(!1),x()}),[x,c]),P=Object(a.useMemo)((()=>u?{id:`${e}SelectableInput`,"data-test-subj":`${e}SelectorSearch`,compressed:!0,placeholder:h.i18n.translate("unifiedHistogram.toolbarSelectorPopover.searchPlaceholder",{defaultMessage:"Search"}),onChange:e=>S(e)}:void 0),[e,u,S]),N=(R=r,function(e,t){const{maxWidth:n,avCharWidth:o,paddingsWidth:i,minWidth:a}={...f,...t},s=i+e*o;return a&&s<a?a:Math.min(s,n)}((C=["label"])?((e,t)=>e.reduce(((e,n)=>{const o=t.find((e=>n[e]));if(!o)return e;const i=n[o].length;return e>i?e:i}),0))(R,C):R.reduce(((e,t)=>e>t.length?e:t.length),0),M)+2*v.base);var R,C,M;return Object(d.jsx)(l.EuiPopover,{id:e,ownFocus:!0,initialFocus:u?`#${e}SelectableInput`:`#${e}Selectable_listbox`,panelProps:{css:u?Object(d.css)("min-width:",N,"px;",""):Object(d.css)("width:",N,"px;","")},panelPaddingSize:"none",button:Object(d.jsx)(l.EuiToolTip,{content:w?void 0:n,delay:"long",display:"block"},Object(d.jsx)(p,{size:"s",css:Object(d.css)("font-weight:",v.font.weight.medium,";width:100%;min-width:0;max-width:",20*v.base,"px;",""),"data-test-subj":`${e}Button`,"data-selected-value":t,"aria-label":o,label:n,onClick:()=>E(!O),onBlur:k})),isOpen:O,closePopover:()=>E(!1),anchorPosition:"downLeft"},Object(d.jsx)(l.EuiPopoverTitle,{paddingSize:"s"},o),Object(d.jsx)(l.EuiSelectable,i()({id:`${e}Selectable`,singleSelection:!0,"aria-label":o,"data-test-subj":`${e}Selectable`,options:r,onChange:_,optionMatcher:b,listProps:{truncationProps:{truncation:"middle"},isVirtualized:u}},u?{searchable:u,searchProps:P,noMatchesMessage:Object(d.jsx)("p",null,Object(d.jsx)(m.FormattedMessage,{id:"unifiedHistogram.toolbarSelectorPopover.noResults",defaultMessage:"No results found for {term}",values:{term:Object(d.jsx)("strong",null,y)}}))}:{}),((e,t)=>Object(d.jsx)(s.a.Fragment,null,t&&Object(d.jsx)(l.EuiPanel,{paddingSize:"s",hasShadow:!1,css:g},t),e))))}},57:function(e,t,n){"use strict";n.r(t),n.d(t,"BreakdownFieldSelector",(function(){return v}));var o=n(2),i=n.n(o),a=n(0);const s=()=>Object(a.jsx)(o.Fragment,null),l=i.a.lazy((()=>n.e(3).then(n.bind(null,63)))),r=function(e){return Object(a.jsx)(i.a.Suspense,{fallback:Object(a.jsx)(s,null)},Object(a.jsx)(l,e))};var d=n(36);function u(e,t){var n;const o=t?t(e):function(e){var t;return e.timeSeriesMetric||(null!==(t=e.type)&&void 0!==t?t:"string")}(e),i=(null===(n=e.esTypes)||void 0===n?void 0:n[0])||null;return i&&["_id","_index","_ignored"].includes(i)&&"string"===o?"keyword":"unknown"===o&&i&&Object(d.b)(i)||"string"===o&&i?i:o}function c(e){return{type:u(e),scripted:e.scripted}}var b=n(5);const p=Object(b.memoize)((function(e){const t=e.trim();let n=t.split(/[* ]+/).map(b.escapeRegExp).join(".*");return t.includes(" ")&&(n=".*"+n+".*"),new RegExp(n.includes("*")?`^${n}$`:n,"i")})),m=({option:{name:e,label:t},searchValue:n})=>((e,t)=>{if(null==t||!t.trim())return!1;const n=p(t);return!!e.displayName&&n.test(e.displayName)||n.test(e.name)})({name:e||t,displayName:t},n);var f=n(16),h=n(9),j=n(40),g={name:"174rmrm",styles:".euiToken{vertical-align:middle;}"};const v=({dataView:e,breakdown:t,onBreakdownFieldChange:n})=>{var i,s,l;const d=Object(o.useMemo)((()=>{const n=e.fields.filter(h.a).map((e=>{var n;return{key:e.name,name:e.name,label:e.displayName,value:e.name,checked:(null==t||null===(n=t.field)||void 0===n?void 0:n.name)===e.name?"on":void 0,prepend:Object(a.jsx)("span",{css:g},Object(a.jsx)(r,c(e)))}})).sort(((e,t)=>e.label.toLowerCase().localeCompare(t.label.toLowerCase())));return n.unshift({key:j.a,value:j.a,label:f.i18n.translate("unifiedHistogram.breakdownFieldSelector.noBreakdownButtonLabel",{defaultMessage:"No breakdown"}),checked:null!=t&&t.field?void 0:"on"}),n}),[e,t.field]),u=Object(o.useCallback)((t=>{const o=null!=t&&t.value?e.fields.find((e=>e.name===t.value)):void 0;null==n||n(o)}),[e.fields,n]);return Object(a.jsx)(j.b,{"data-test-subj":"unifiedHistogramBreakdownSelector","data-selected-value":null==t||null===(i=t.field)||void 0===i?void 0:i.name,searchable:!0,buttonLabel:null!=t&&null!==(s=t.field)&&void 0!==s&&s.displayName?f.i18n.translate("unifiedHistogram.breakdownFieldSelector.breakdownByButtonLabel",{defaultMessage:"Breakdown by {fieldName}",values:{fieldName:null==t||null===(l=t.field)||void 0===l?void 0:l.displayName}}):f.i18n.translate("unifiedHistogram.breakdownFieldSelector.noBreakdownButtonLabel",{defaultMessage:"No breakdown"}),popoverTitle:f.i18n.translate("unifiedHistogram.breakdownFieldSelector.breakdownFieldPopoverTitle",{defaultMessage:"Select breakdown field"}),optionMatcher:m,options:d,onChange:u})};t.default=v}}]);