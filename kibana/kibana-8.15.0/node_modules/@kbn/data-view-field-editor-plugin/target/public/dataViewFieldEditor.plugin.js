!function(e){function t(t){for(var n,o,i=t[0],a=t[1],s=0,d=[];s<i.length;s++)o=i[s],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);for(l&&l(t);d.length;)d.shift()()}var n={},r={0:0};function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise((function(t,o){n=r[e]=[t,o]}));t.push(n[2]=i);var a,s=document.createElement("script");s.charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.src=function(e){return o.p+"dataViewFieldEditor.chunk."+e+".js"}(e);var l=new Error;a=function(t){s.onerror=s.onload=null,clearTimeout(d);var n=r[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+o+": "+i+")",l.name="ChunkLoadError",l.type=o,l.request=i,n[1](l)}r[e]=void 0}};var d=setTimeout((function(){a({type:"timeout",target:s})}),12e4);s.onerror=s.onload=a,document.head.appendChild(s)}return Promise.all(t)},o.m=e,o.c=n,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o.oe=function(e){throw console.error(e),e};var i=window.dataViewFieldEditor_bundle_jsonpfunction=window.dataViewFieldEditor_bundle_jsonpfunction||[],a=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var l=a;o(o.s=48)}([function(e,t){e.exports=__kbnSharedDeps__.EmotionReact},function(e,t){e.exports=__kbnSharedDeps__.React},function(e,t){e.exports=__kbnSharedDeps__.ElasticEui},function(e,t){e.exports=__kbnSharedDeps__.KbnI18n},function(e,t,n){e.exports=n(17)(2)},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/esUiShared/static/forms/hook_form_lib");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){"use strict";var r=n(27);n.d(t,"b",(function(){return r.DataView})),n(15);var o=n(19);n.d(t,"i",(function(){return o.createKibanaReactContext}));var i=n(11);n.d(t,"l",(function(){return i.a}));var a=n(28);n.d(t,"a",(function(){return a.CodeEditor}));var s=n(5);n.d(t,"n",(function(){return s.useForm})),n.d(t,"p",(function(){return s.useFormData})),n.d(t,"o",(function(){return s.useFormContext})),n.d(t,"q",(function(){return s.useFormIsModified})),n.d(t,"c",(function(){return s.Form})),n.d(t,"h",(function(){return s.UseField})),n.d(t,"m",(function(){return s.useBehaviorSubject}));var l=n(29);n.d(t,"j",(function(){return l.fieldValidators}));var d=n(8);n.d(t,"f",(function(){return d.TextField})),n.d(t,"e",(function(){return d.TextAreaField})),n.d(t,"g",(function(){return d.ToggleField})),n.d(t,"d",(function(){return d.NumericField}));var u=n(30);n.d(t,"k",(function(){return u.sendRequest}))},function(e,t,n){"use strict";n.r(t),n.d(t,"convertSampleInput",(function(){return u})),n.d(t,"defaultState",(function(){return c})),n.d(t,"DefaultFormatEditor",(function(){return DefaultFormatEditor}));var r=n(4),o=n.n(r),i=n(3),a=n(1),s=n.n(a),l=n(12),d=n(0);const u=(e,t)=>{let n,r=[];try{r=t.map((t=>({input:t,output:e(t)})))}catch(e){n=i.i18n.translate("indexPatternFieldEditor.defaultErrorMessage",{defaultMessage:"An error occurred while trying to use this format configuration: {message}",values:{message:e.message}})}return{error:n,samples:r}},c={sampleInputs:[],sampleConverterType:"text",error:void 0,samples:[],sampleInputsByType:{}};class DefaultFormatEditor extends a.PureComponent{constructor(...e){super(...e),o()(this,"state",c),o()(this,"onChange",((e={})=>{const{onChange:t,formatParams:n}=this.props;t({...n,...e})}))}static getDerivedStateFromProps(e,t){const{format:n,formatParams:r,onError:o}=e,{sampleInputsByType:i,sampleInputs:a,sampleConverterType:s}=t,l=n.getConverterFor(s),d="object"==typeof i&&r.type?i[r.type]||[]:a,c=u(l,d);return o(c.error),c}render(){return Object(d.jsx)(s.a.Fragment,null)}}o()(DefaultFormatEditor,"formatId",l.a)},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/esUiShared/static/forms/components");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.ReactDom},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));const r="index_pattern_field_editor",o="indexPatternFieldEditorFlyout"},function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));var r=n(1),o=n(9),i=n.n(o),a=n(18),s=n.n(a),l=n(45),d=n(46),u=n(23),c=n.n(u),f=n(13),m=n.n(f),p=n(2);const _="eui-global",b="eui-utilities",E={darkMode:!1};var g=n(0);const F=[p.euiStylisPrefixer],y=m()({key:"css",stylisPlugins:F,container:document.querySelector('meta[name="emotion"]')}),h=m()({key:_,stylisPlugins:F,container:document.querySelector(`meta[name="${_}"]`)}),v=m()({key:b,stylisPlugins:F,container:document.querySelector(`meta[name="${b}"]`)});y.compat=!0,h.compat=!0,v.compat=!0;const O={default:y,global:h,utility:v},T=({theme:{theme$:e},globalStyles:t,colorMode:n,modify:o,children:i})=>{const a=c()(e,E),s=Object(r.useMemo)((()=>(e=>e.darkMode?p.COLOR_MODES_STANDARD.dark:p.COLOR_MODES_STANDARD.light)(a)),[a]),l=n||s,d=!1!==t&&void 0;return Object(g.jsx)(p.EuiProvider,{cache:O,modify:o,colorMode:l,globalStyles:d,utilityClasses:d},i)},j=({children:e,i18n:t,...n})=>Object(l.useIsNestedEuiProvider)()?(Object(d.emitEuiProviderWarning)("KibanaRootContextProvider has likely been nested in this React tree, either by direct reference or by KibanaRenderContextProvider.  The result of this nesting is a nesting of EuiProvider, which has negative effects.  Check your React tree for nested Kibana context providers."),Object(g.jsx)(t.Context,null,e)):Object(g.jsx)(T,n,Object(g.jsx)(t.Context,null,e));var x=n(16);const N=({children:e,...t})=>Object(g.jsx)(j,s()({globalStyles:!1},t),Object(g.jsx)(x.KibanaErrorBoundaryProvider,{analytics:t.analytics},Object(g.jsx)(x.KibanaErrorBoundary,null,e))),D=(e,t)=>n=>(i.a.render(Object(g.jsx)(N,t,e),n),()=>i.a.unmountComponentAtNode(n));n(4),n(3),r.Component},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="default"},function(e,t){e.exports=__kbnSharedDeps__.EmotionCache},function(e,t){e.exports=__kbnSharedDeps__.KbnI18nReact},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/data/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.KbnSharedUxErrorBoundary},function(e,t){e.exports=__kbnSharedDeps_npm__},function(e,t,n){e.exports=n(17)(4)},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.Lodash},function(e,t,n){"use strict";var r=n(12),o=n(7);n.d(t,"a",(function(){return o.defaultState})),r.a},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="number"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(47),o=n(1),i=r.__importDefault(n(50));t.default=function(e,t){var n=o.useState(t),r=n[0],a=n[1];return i.default((function(){var t=e.subscribe(a);return function(){return t.unsubscribe()}}),[e]),r}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(1),o=n.n(r),i=n(3),a=n(2),s=n(0);const l=e=>{let t="",n="";if(e){const r=1===e.length;t=r?i.i18n.translate("indexPatternFieldEditor.deleteRuntimeField.confirmModal.deleteSingleTitle",{defaultMessage:"Remove field ''{name}''",values:{name:e[0]}}):i.i18n.translate("indexPatternFieldEditor.deleteRuntimeField.confirmModal.deleteMultipleTitle",{defaultMessage:"Remove {count} fields",values:{count:e.length}}),n=r?i.i18n.translate("indexPatternFieldEditor.deleteRuntimeField.confirmationModal.removeButtonLabel",{defaultMessage:"Remove field"}):i.i18n.translate("indexPatternFieldEditor.deleteRuntimeField.confirmationModal.removeMultipleButtonLabel",{defaultMessage:"Remove fields"})}return{modalTitle:t,confirmButtonText:n,cancelButtonText:i.i18n.translate("indexPatternFieldEditor.deleteRuntimeField.confirmationModal.cancelButtonLabel",{defaultMessage:"Cancel"}),warningMultipleFields:i.i18n.translate("indexPatternFieldEditor.deleteRuntimeField.confirmModal.multipleDeletionDescription",{defaultMessage:"You are about to remove these runtime fields:"}),typeConfirm:i.i18n.translate("indexPatternFieldEditor.deleteRuntimeField.confirmModal.typeConfirm",{defaultMessage:"Enter REMOVE to confirm"}),warningRemovingFields:i.i18n.translate("indexPatternFieldEditor.deleteRuntimeField.confirmModal.warningRemovingFields",{defaultMessage:"Removing fields can break searches and visualizations that rely on this field."})}};function d({fieldsToDelete:e,closeModal:t,confirmDelete:n}){const i=l(e),{modalTitle:d,confirmButtonText:u,cancelButtonText:c,warningMultipleFields:f}=i,m=Boolean(e.length>1),[p,_]=Object(r.useState)("");return Object(s.jsx)(a.EuiConfirmModal,{title:d,"data-test-subj":"runtimeFieldDeleteConfirmModal",onCancel:t,onConfirm:n,cancelButtonText:c,buttonColor:"danger",confirmButtonText:u,confirmButtonDisabled:"REMOVE"!==(null==p?void 0:p.toUpperCase())},Object(s.jsx)(a.EuiCallOut,{color:"warning",title:i.warningRemovingFields,iconType:"warning",size:"s"},m&&Object(s.jsx)(o.a.Fragment,null,Object(s.jsx)("p",null,f),Object(s.jsx)("ul",null,e.map((e=>Object(s.jsx)("li",{key:e},e)))))),Object(s.jsx)(a.EuiSpacer,null),Object(s.jsx)(a.EuiFormRow,{label:i.typeConfirm},Object(s.jsx)(a.EuiFieldText,{value:p,onChange:e=>_(e.target.value),"data-test-subj":"deleteModalConfirmText"})))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return field_format_editor_FormatSelectEditor})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return y})),n.d(t,"e",(function(){return v})),n.d(t,"f",(function(){return T})),n.d(t,"g",(function(){return x})),n.d(t,"h",(function(){return D})),n.d(t,"i",(function(){return P})),n.d(t,"j",(function(){return R})),n.d(t,"k",(function(){return k})),n.d(t,"l",(function(){return A})),n.d(t,"m",(function(){return B})),n.d(t,"n",(function(){return L}));var r=n(4),o=n.n(r),i=n(2),a=n(44),s=n(3),l=n(14),d=n(1),u=n.n(d),c=n(20),f=n(0);const m=Object(c.memoize)((e=>e?u.a.lazy((()=>e().then((e=>({default:e}))))):null));class format_editor_FormatEditor extends d.PureComponent{constructor(e){var t;super(e),this.state={EditorComponent:m(null!==(t=e.fieldFormatEditors.getById(e.fieldFormatId))&&void 0!==t?t:null)}}static getDerivedStateFromProps(e){var t;return{EditorComponent:m(null!==(t=e.fieldFormatEditors.getById(e.fieldFormatId))&&void 0!==t?t:null)}}render(){const{EditorComponent:e}=this.state,{fieldType:t,fieldFormat:n,fieldFormatParams:r,onChange:o,onError:a}=this.props;return Object(f.jsx)(u.a.Fragment,null,e?Object(f.jsx)(u.a.Suspense,{fallback:Object(f.jsx)("div",{style:{minHeight:430,marginTop:8}},Object(f.jsx)(i.EuiDelayRender,null,Object(f.jsx)(i.EuiSkeletonText,{lines:4})))},Object(f.jsx)(e,{fieldType:t,format:n,formatParams:r,onChange:o,onError:a})):null)}}const p=(e,t,n)=>{const r=n.getByFieldType(e).map((({id:e,title:t})=>({id:e,title:t})));return[{id:"",defaultFieldFormat:t,title:s.i18n.translate("indexPatternFieldEditor.defaultFormatDropDown",{defaultMessage:"- Default -"})},...r]};class field_format_editor_FormatSelectEditor extends d.PureComponent{constructor(e){super(e),o()(this,"onFormatChange",((e,t)=>this.props.onChange(e?{id:e,params:t||{}}:void 0))),o()(this,"onFormatParamsChange",(e=>{const{fieldFormatId:t}=this.state;this.onFormatChange(t,e)}));const{fieldFormats:t,esTypes:n}=e,r=Object(a.a)(n[0]||"keyword");this.state={fieldTypeFormats:p(r,t.getDefaultType(r,n),t),kbnType:r}}render(){const{fieldFormatEditors:e,onError:t,value:n,fieldFormats:r,esTypes:o}=this.props,a=null==n?void 0:n.id,{kbnType:s}=this.state,{fieldTypeFormats:d}=this.state,c=d[0].defaultFieldFormat.title,m=null!=n&&n.id?r.getInstance(null==n?void 0:n.id,null==n?void 0:n.params):r.getDefaultInstance(s,o),p=m.params(),_=c?Object(f.jsx)(l.FormattedMessage,{id:"indexPatternFieldEditor.defaultFormatHeader",defaultMessage:"Format (Default: {defaultFormat})",values:{defaultFormat:Object(f.jsx)(i.EuiCode,null,c)}}):Object(f.jsx)(l.FormattedMessage,{id:"indexPatternFieldEditor.formatHeader",defaultMessage:"Format"});return Object(f.jsx)(u.a.Fragment,null,Object(f.jsx)(i.EuiFormRow,{label:_},Object(f.jsx)(i.EuiSelect,{value:a||"",options:d.map((e=>({value:e.id||"",text:e.title}))),"data-test-subj":"editorSelectedFormatId",onChange:e=>{this.onFormatChange(e.target.value)}})),a?Object(f.jsx)(format_editor_FormatEditor,{fieldType:s,fieldFormat:m,fieldFormatId:a,fieldFormatParams:p,fieldFormatEditors:e,onChange:e=>{this.onFormatChange(a,e)},onError:t}):null)}}var _=n(31);const b=()=>n.e(2).then(n.bind(null,95)).then((e=>e.BytesFormatEditor));b.formatId=_.a;var E=n(32);const g=()=>n.e(13).then(n.bind(null,96)).then((e=>e.ColorFormatEditor));g.formatId=E.a;var F=n(33);const y=()=>n.e(4).then(n.bind(null,97)).then((e=>e.DateFormatEditor));y.formatId=F.a;var h=n(34);const v=()=>n.e(5).then(n.bind(null,98)).then((e=>e.DateNanosFormatEditor));v.formatId=h.a,n(21);var O=n(35);const T=()=>n.e(6).then(n.bind(null,99)).then((e=>e.DurationFormatEditor));T.formatId=O.a;var j=n(36);const x=()=>n.e(7).then(n.bind(null,100)).then((e=>e.GeoPointFormatEditor));x.formatId=j.a;var N=n(37);const D=()=>n.e(8).then(n.bind(null,101)).then((e=>e.HistogramFormatEditor));D.formatId=N.a;var S=n(22);const P=()=>n.e(9).then(n.bind(null,67)).then((e=>e.NumberFormatEditor));P.formatId=S.a;var C=n(38);const R=()=>n.e(3).then(n.bind(null,102)).then((e=>e.PercentFormatEditor));R.formatId=C.a;var w=n(39);const k=()=>n.e(14).then(n.bind(null,103)).then((e=>e.StaticLookupFormatEditor));k.formatId=w.a;var M=n(40);const A=()=>n.e(10).then(n.bind(null,104)).then((e=>e.StringFormatEditor));A.formatId=M.a;var I=n(41);const B=()=>n.e(11).then(n.bind(null,107)).then((e=>e.TruncateFormatEditor));B.formatId=I.a;var G=n(42);const L=()=>n.e(12).then(n.bind(null,105)).then((e=>e.UrlFormatEditor));L.formatId=G.a},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6);const o=e=>({getFieldPreview:({index:t,context:n,script:o,document:i})=>Object(r.k)(e,{path:"/internal/data_view_field_editor/field_preview",method:"post",body:{index:t,context:n,script:o,document:i},version:"1"})})},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/dataViews/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.KbnCodeEditor},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/esUiShared/static/forms/helpers");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/esUiShared/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="bytes"},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="color"},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="date"},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="date_nanos"},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="duration"},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="geo_point"},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="histogram"},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="percent"},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="static_lookup"},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="string"},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="truncate"},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="url"},function(e,t){e.exports=__kbnSharedDeps__.KbnAnalytics},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(4),o=n.n(r);let i=function(e){return e._ID="_id",e._INDEX="_index",e._SOURCE="_source",e._TYPE="_type",e.STRING="string",e.TEXT="text",e.MATCH_ONLY_TEXT="match_only_text",e.KEYWORD="keyword",e.VERSION="version",e.BOOLEAN="boolean",e.OBJECT="object",e.DATE="date",e.DATE_NANOS="date_nanos",e.DATE_RANGE="date_range",e.GEO_POINT="geo_point",e.GEO_SHAPE="geo_shape",e.FLOAT="float",e.HALF_FLOAT="half_float",e.SCALED_FLOAT="scaled_float",e.DOUBLE="double",e.INTEGER="integer",e.LONG="long",e.SHORT="short",e.UNSIGNED_LONG="unsigned_long",e.AGGREGATE_METRIC_DOUBLE="aggregate_metric_double",e.FLOAT_RANGE="float_range",e.DOUBLE_RANGE="double_range",e.INTEGER_RANGE="integer_range",e.LONG_RANGE="long_range",e.NESTED="nested",e.BYTE="byte",e.IP="ip",e.IP_RANGE="ip_range",e.ATTACHMENT="attachment",e.TOKEN_COUNT="token_count",e.MURMUR3="murmur3",e.HISTOGRAM="histogram",e}({}),a=function(e){return e._SOURCE="_source",e.ATTACHMENT="attachment",e.BOOLEAN="boolean",e.DATE="date",e.DATE_RANGE="date_range",e.GEO_POINT="geo_point",e.GEO_SHAPE="geo_shape",e.IP="ip",e.IP_RANGE="ip_range",e.MURMUR3="murmur3",e.NUMBER="number",e.NUMBER_RANGE="number_range",e.STRING="string",e.UNKNOWN="unknown",e.CONFLICT="conflict",e.OBJECT="object",e.NESTED="nested",e.HISTOGRAM="histogram",e.MISSING="missing",e}({});class kbn_field_type_KbnFieldType{constructor(e={}){o()(this,"name",void 0),o()(this,"sortable",void 0),o()(this,"filterable",void 0),o()(this,"esTypes",void 0),this.name=e.name||a.UNKNOWN,this.sortable=e.sortable||!1,this.filterable=e.filterable||!1,this.esTypes=Object.freeze((e.esTypes||[]).slice())}}const s=new kbn_field_type_KbnFieldType({name:a.UNKNOWN}),l=[new kbn_field_type_KbnFieldType({name:a.STRING,sortable:!0,filterable:!0,esTypes:[i.STRING,i.TEXT,i.MATCH_ONLY_TEXT,i.KEYWORD,i.VERSION,i._TYPE,i._ID]}),new kbn_field_type_KbnFieldType({name:a.NUMBER,sortable:!0,filterable:!0,esTypes:[i.FLOAT,i.HALF_FLOAT,i.SCALED_FLOAT,i.DOUBLE,i.INTEGER,i.LONG,i.UNSIGNED_LONG,i.SHORT,i.BYTE,i.TOKEN_COUNT,i.AGGREGATE_METRIC_DOUBLE]}),new kbn_field_type_KbnFieldType({name:a.NUMBER_RANGE,sortable:!0,filterable:!0,esTypes:[i.FLOAT_RANGE,i.DOUBLE_RANGE,i.INTEGER_RANGE,i.LONG_RANGE]}),new kbn_field_type_KbnFieldType({name:a.DATE,sortable:!0,filterable:!0,esTypes:[i.DATE,i.DATE_NANOS]}),new kbn_field_type_KbnFieldType({name:a.DATE_RANGE,sortable:!0,filterable:!0,esTypes:[i.DATE_RANGE]}),new kbn_field_type_KbnFieldType({name:a.IP,sortable:!0,filterable:!0,esTypes:[i.IP]}),new kbn_field_type_KbnFieldType({name:a.IP_RANGE,sortable:!0,filterable:!0,esTypes:[i.IP_RANGE]}),new kbn_field_type_KbnFieldType({name:a.BOOLEAN,sortable:!0,filterable:!0,esTypes:[i.BOOLEAN]}),new kbn_field_type_KbnFieldType({name:a.OBJECT,esTypes:[i.OBJECT]}),new kbn_field_type_KbnFieldType({name:a.NESTED,esTypes:[i.NESTED]}),new kbn_field_type_KbnFieldType({name:a.GEO_POINT,esTypes:[i.GEO_POINT]}),new kbn_field_type_KbnFieldType({name:a.GEO_SHAPE,esTypes:[i.GEO_SHAPE]}),new kbn_field_type_KbnFieldType({name:a.ATTACHMENT,esTypes:[i.ATTACHMENT]}),new kbn_field_type_KbnFieldType({name:a.MURMUR3,esTypes:[i.MURMUR3]}),new kbn_field_type_KbnFieldType({name:a._SOURCE,esTypes:[i._SOURCE]}),new kbn_field_type_KbnFieldType({name:a.HISTOGRAM,filterable:!0,esTypes:[i.HISTOGRAM]}),new kbn_field_type_KbnFieldType({name:a.CONFLICT}),s],d=e=>{const t=l.find((t=>t.esTypes.includes(e)));return t&&t.name?t.name:a.UNKNOWN}},function(e,t){e.exports=__kbnSharedDeps__.ElasticEuiLibComponentsUseIsNestedEuiProvider},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setEuiDevProviderWarning=t.getEuiDevProviderWarning=t.emitEuiProviderWarning=void 0;var r=void 0;t.setEuiDevProviderWarning=function(e){return r=e},t.getEuiDevProviderWarning=function(){return r},t.emitEuiProviderWarning=function(e){if("function"==typeof r)return r(e);switch(r){case"log":console.log(e);break;case"warn":console.warn(e);break;case"error":throw new Error(e)}}},function(e,t){e.exports=__kbnSharedDeps__.TsLib},function(e,t,n){n(49),__kbnBundles__.define("plugin/dataViewFieldEditor/public",n,51)},function(e,t,n){n.p=window.__kbnPublicPath__.dataViewFieldEditor},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o="undefined"!=typeof window?r.useLayoutEffect:r.useEffect;t.default=o},function(e,t,n){"use strict";n.r(t),n.d(t,"DefaultFormatEditor",(function(){return F.DefaultFormatEditor})),n.d(t,"plugin",(function(){return y}));var r=n(4),o=n.n(r),i=n(1),a=n.n(i),s=n(3),l=n(11),d=n(2),u=n(0);const c=e=>{const[t,r]=Object(i.useState)(null),o=Object(i.useCallback)((async()=>{const{FieldEditorFlyoutContentContainer:e}=await n.e(1).then(n.bind(null,106));r((()=>e))}),[]);return Object(i.useEffect)((()=>{o()}),[o]),t?Object(u.jsx)(t,e):Object(u.jsx)(a.a.Fragment,null,Object(u.jsx)(d.EuiFlyoutHeader,null),Object(u.jsx)(d.EuiFlyoutBody,null),Object(u.jsx)(d.EuiFlyoutFooter,null))};var f=n(10),m=n(6);const p=({core:e,dataViews:t,fieldFormats:n,fieldFormatEditors:r,search:o,usageCollection:i,apiService:a})=>async d=>{const{uiSettings:p,overlays:_,docLinks:b,notifications:E,settings:g,theme:F}=e,{Provider:y}=Object(m.i)({uiSettings:p,docLinks:b,http:e.http,settings:g,theme:F});let h=null;const v={current:()=>!0},O=e=>{v.current=e.canCloseValidator};return(async({onSave:d,fieldName:g,fieldToCreate:F,ctx:{dataView:T}})=>{const j=()=>{h&&(h.close(),h=null)},x=T instanceof m.b?T:await t.toDataView(T),N=g?x.getFieldByName(g)||{name:D=g,runtimeField:T.getAllRuntimeFields()[D],isMapped:!1,esTypes:[],type:void 0,customLabel:void 0,customDescription:void 0,count:void 0,spec:{parentName:void 0}}:void 0;var D;if(g&&!N){const e=s.i18n.translate("indexPatternFieldEditor.noSuchFieldName",{defaultMessage:"Field named ''{fieldName}'' not found on index pattern",values:{fieldName:g}});return E.toasts.addDanger(e),j}const S=!g,P=N&&N.runtimeField&&!N.isMapped&&("composite"!==N.runtimeField.type||!N.type),C=S||P?"runtime":"concrete";let R;var w,k;return N&&(R=P?{name:g,customLabel:N.customLabel,customDescription:N.customDescription,popularity:N.count,format:null===(w=x.getFormatterForFieldNoDefault(g))||void 0===w?void 0:w.toJSON(),...x.getRuntimeField(g)}:{name:g,type:null!=N&&N.esTypes?N.esTypes[0]:"keyword",customLabel:N.customLabel,customDescription:N.customDescription,popularity:N.count,format:null===(k=x.getFormatterForFieldNoDefault(g))||void 0===k?void 0:k.toJSON(),parentName:N.spec.parentName}),h=_.openFlyout(Object(l.a)(Object(u.jsx)(y,null,Object(u.jsx)(c,{onSave:e=>{j(),d&&d(e)},onCancel:j,onMounted:O,docLinks:b,fieldToEdit:R,fieldToCreate:F,fieldTypeToProcess:C,dataView:x,search:o,dataViews:t,notifications:E,usageCollection:i,apiService:a,fieldFormatEditors:r,fieldFormats:n,uiSettings:p})),e),{className:f.a,maxWidth:708,size:"l",ownFocus:!0,hideCloseButton:!0,"aria-label":S?s.i18n.translate("indexPatternFieldEditor.createField.flyoutAriaLabel",{defaultMessage:"Create field"}):s.i18n.translate("indexPatternFieldEditor.editField.flyoutAriaLabel",{defaultMessage:"Edit {fieldName} field",values:{fieldName:g}}),onClose:e=>{v.current()&&e.close()},maskProps:{className:"indexPatternFieldEditorMaskOverlay",style:"z-index: 1003"}}),j})(d)};class field_format_editors_FieldFormatEditors{constructor(){o()(this,"editors",[])}setup(e=[]){return this.editors=e,{register:e=>{this.editors.push(e)}}}start(){return{getAll:()=>[...this.editors],getById:e=>this.editors.find((t=>t.formatId===e))}}}var _=n(25);class format_editor_service_FormatEditorService{constructor(){o()(this,"fieldFormatEditors",void 0),this.fieldFormatEditors=new field_format_editors_FieldFormatEditors}setup(){const e=[_.b,_.c,_.d,_.e,_.f,_.g,_.i,_.j,_.k,_.l,_.m,_.n,_.h];return{fieldFormatEditors:this.fieldFormatEditors.setup(e)}}start(){return{fieldFormatEditors:this.fieldFormatEditors.start()}}stop(){}}var b=n(24),E=n(43);class DeleteCompositeSubfield extends Error{constructor(e){super(`Field '${e} cannot be deleted because it is a composite subfield.`)}}var g=n(26);class plugin_IndexPatternFieldEditorPlugin{constructor(){o()(this,"formatEditorService",new format_editor_service_FormatEditorService)}setup(e,t){const{fieldFormatEditors:n}=this.formatEditorService.setup();return{fieldFormatEditors:n}}start(e,t){const{fieldFormatEditors:n}=this.formatEditorService.start(),{http:r}=e,{data:o,usageCollection:l,dataViews:d,fieldFormats:c}=t,_=(({core:e,dataViews:t,usageCollection:n})=>r=>{if("string"==typeof r.fieldName){var o;const e=r.ctx.dataView.getFieldByName(r.fieldName);if("composite"===(null==e||null===(o=e.runtimeField)||void 0===o?void 0:o.type))throw new DeleteCompositeSubfield(r.fieldName)}const{overlays:i,notifications:a}=e;let l=null;return(({onDelete:r,fieldName:o,ctx:{dataView:d}})=>{const c=Array.isArray(o)?o:[o],p=()=>{l&&(l.close(),l=null)};return l=i.openModal(Object(m.l)(Object(u.jsx)(b.a,{fieldsToDelete:c,closeModal:p,confirmDelete:async()=>{p(),await async function(e,t,n){e.forEach((e=>{t.removeRuntimeField(e)}));try{n.usageCollection.reportUiCounter(f.b,E.METRIC_TYPE.COUNT,"delete_runtime")}catch{}try{t.isPersisted()&&await n.dataViews.updateSavedObject(t)}catch(e){const t=s.i18n.translate("indexPatternFieldEditor.save.deleteErrorTitle",{defaultMessage:"Failed to save field removal"});n.notifications.toasts.addError(e,{title:t})}}(c,d,{dataViews:t,usageCollection:n,notifications:a}),r&&r(c)}}),e)),p})(r)})({core:e,dataViews:d,usageCollection:l});return{fieldFormatEditors:n,openEditor:p({core:e,dataViews:d,apiService:Object(g.a)(r),fieldFormats:c,fieldFormatEditors:n,search:o.search,usageCollection:l}),openDeleteModal:_,userPermissions:{editIndexPattern:()=>d.getCanSaveSync()},DeleteRuntimeFieldProvider:(F=_,a.a.memo((({dataView:e,children:t,onDelete:n})=>{const r=Object(i.useRef)(null),o=Object(i.useCallback)((async t=>{r.current&&r.current(),r.current=F({ctx:{dataView:e},fieldName:t,onDelete:n})}),[n,e]);return Object(i.useEffect)((()=>()=>{r.current&&r.current()}),[]),Object(u.jsx)(a.a.Fragment,null,t(o))})))};var F}}var F=n(7);function y(){return new plugin_IndexPatternFieldEditorPlugin}},function(e,t){e.exports=__kbnSharedDeps__.Rxjs},function(e,t){e.exports=__kbnSharedDeps__.KbnMonaco},function(e,t){e.exports=__kbnSharedDeps__.ReactDomServer},function(e,t){e.exports=__kbnSharedDeps__.Classnames},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/dataViews/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/fieldFormats/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.Moment}]);