/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */!function(e){function t(t){for(var n,i,a=t[0],o=t[1],s=0,c=[];s<a.length;s++)i=a[s],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&c.push(r[i][0]),r[i]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);for(u&&u(t);c.length;)c.shift()()}var n={},r={5:0};function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,i){n=r[e]=[t,i]}));t.push(n[2]=a);var o,s=document.createElement("script");s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=function(e){return i.p+"fleet.chunk."+e+".js"}(e);var u=new Error;o=function(t){s.onerror=s.onload=null,clearTimeout(c);var n=r[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+i+": "+a+")",u.name="ChunkLoadError",u.type=i,u.request=a,n[1](u)}r[e]=void 0}};var c=setTimeout((function(){o({type:"timeout",target:s})}),12e4);s.onerror=s.onload=o,document.head.appendChild(s)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var a=window.fleet_bundle_jsonpfunction=window.fleet_bundle_jsonpfunction||[],o=a.push.bind(a);a.push=t,a=a.slice();for(var s=0;s<a.length;s++)t(a[s]);var u=o;i(i.s=89)}([function(e,t,n){"use strict";n.d(t,"ib",(function(){return r.a})),n.d(t,"wb",(function(){return r.b})),n.d(t,"hb",(function(){return i})),n.d(t,"F",(function(){return s})),n.d(t,"tb",(function(){return u})),n.d(t,"G",(function(){return g})),n.d(t,"v",(function(){return b})),n.d(t,"ub",(function(){return m})),n.d(t,"j",(function(){return E})),n.d(t,"jb",(function(){return v})),n.d(t,"pb",(function(){return _})),n.d(t,"Y",(function(){return h})),n.d(t,"W",(function(){return T})),n.d(t,"Fb",(function(){return y})),n.d(t,"p",(function(){return P})),n.d(t,"g",(function(){return I})),n.d(t,"E",(function(){return O})),n.d(t,"Jb",(function(){return A})),n.d(t,"d",(function(){return k})),n.d(t,"Gb",(function(){return S})),n.d(t,"xb",(function(){return N})),n.d(t,"y",(function(){return R})),n.d(t,"s",(function(){return L})),n.d(t,"R",(function(){return j})),n.d(t,"o",(function(){return x})),n.d(t,"c",(function(){return w})),n.d(t,"n",(function(){return $})),n.d(t,"b",(function(){return C})),n.d(t,"e",(function(){return M})),n.d(t,"f",(function(){return D})),n.d(t,"db",(function(){return U})),n.d(t,"Kb",(function(){return F})),n.d(t,"zb",(function(){return G})),n.d(t,"m",(function(){return B})),n.d(t,"k",(function(){return q})),n.d(t,"Lb",(function(){return V})),n.d(t,"mb",(function(){return K})),n.d(t,"x",(function(){return z})),n.d(t,"a",(function(){return H})),n.d(t,"h",(function(){return Y})),n.d(t,"w",(function(){return X})),n.d(t,"vb",(function(){return Q})),n.d(t,"sb",(function(){return W.r})),n.d(t,"q",(function(){return W.a})),n.d(t,"cb",(function(){return W.n})),n.d(t,"S",(function(){return W.i})),n.d(t,"ab",(function(){return W.l})),n.d(t,"T",(function(){return W.j})),n.d(t,"L",(function(){return W.c})),n.d(t,"bb",(function(){return W.m})),n.d(t,"V",(function(){return W.k})),n.d(t,"Q",(function(){return W.h})),n.d(t,"P",(function(){return W.g})),n.d(t,"O",(function(){return W.f})),n.d(t,"N",(function(){return W.e})),n.d(t,"M",(function(){return W.d})),n.d(t,"fb",(function(){return W.p})),n.d(t,"u",(function(){return W.b})),n.d(t,"eb",(function(){return W.o})),n.d(t,"gb",(function(){return W.q})),n.d(t,"Mb",(function(){return W.u})),n.d(t,"Ob",(function(){return W.w})),n.d(t,"Nb",(function(){return W.v})),n.d(t,"qb",(function(){return J})),n.d(t,"Xb",(function(){return Z})),n.d(t,"Eb",(function(){return ee})),n.d(t,"lb",(function(){return te})),n.d(t,"Rb",(function(){return ne})),n.d(t,"Qb",(function(){return re})),n.d(t,"Sb",(function(){return ie})),n.d(t,"Ub",(function(){return ae})),n.d(t,"Tb",(function(){return oe})),n.d(t,"Pb",(function(){return se})),n.d(t,"Wb",(function(){return ue})),n.d(t,"Vb",(function(){return ce})),n.d(t,"Bb",(function(){return le})),n.d(t,"rb",(function(){return de})),n.d(t,"C",(function(){return pe})),n.d(t,"yb",(function(){return ge})),n.d(t,"r",(function(){return Ee})),n.d(t,"kb",(function(){return _e})),n.d(t,"z",(function(){return he})),n.d(t,"Z",(function(){return Te})),n.d(t,"Ab",(function(){return ye})),n.d(t,"Db",(function(){return Pe})),n.d(t,"B",(function(){return Se})),n.d(t,"A",(function(){return Ne})),n.d(t,"I",(function(){return Re})),n.d(t,"H",(function(){return Le})),n.d(t,"K",(function(){return je})),n.d(t,"J",(function(){return xe})),n.d(t,"ob",(function(){return we})),n.d(t,"nb",(function(){return $e})),n.d(t,"t",(function(){return Ce})),n.d(t,"Cb",(function(){return Me})),n.d(t,"Ib",(function(){return De})),n.d(t,"Hb",(function(){return Be})),n.d(t,"X",(function(){return qe})),n.d(t,"U",(function(){return Ve})),n.d(t,"l",(function(){return Ue})),n.d(t,"i",(function(){return Fe})),n.d(t,"D",(function(){return Ge}));var r=n(33);const i=".kibana_ingest",a="/internal/fleet",o="/api/fleet",s=`${o}/epm`,u=`${o}/package_policies`,c=`${o}/agent_policies`,l=`${o}/kubernetes`,d=`${s}/packages`,p=`${d}/{pkgkey}`,f=`${d}/{pkgName}/{pkgVersion}`,g={BULK_INSTALL_PATTERN:`${d}/_bulk`,LIST_PATTERN:d,INSTALLED_LIST_PATTERN:`${s}/packages/installed`,LIMITED_LIST_PATTERN:`${d}/limited`,INFO_PATTERN:f,DATA_STREAMS_PATTERN:`${s}/data_streams`,INSTALL_FROM_REGISTRY_PATTERN:f,INSTALL_BY_UPLOAD_PATTERN:d,CUSTOM_INTEGRATIONS_PATTERN:`${s}/custom_integrations`,DELETE_PATTERN:f,INSTALL_KIBANA_ASSETS_PATTERN:`${f}/kibana_assets`,DELETE_KIBANA_ASSETS_PATTERN:`${f}/kibana_assets`,FILEPATH_PATTERN:`${f}/{filePath*}`,CATEGORIES_PATTERN:`${s}/categories`,VERIFICATION_KEY_ID:`${s}/verification_key_id`,STATS_PATTERN:`${d}/{pkgName}/stats`,BULK_ASSETS_PATTERN:`${s}/bulk_assets`,INPUTS_PATTERN:`${s}/templates/{pkgName}/{pkgVersion}/inputs`,INFO_PATTERN_DEPRECATED:p,INSTALL_FROM_REGISTRY_PATTERN_DEPRECATED:p,DELETE_PATTERN_DEPRECATED:p,REAUTHORIZE_TRANSFORMS:`${f}/transforms/authorize`},b={LIST_PATTERN:`${o}/data_streams`},m={LIST_PATTERN:`${u}`,BULK_GET_PATTERN:`${u}/_bulk_get`,INFO_PATTERN:`${u}/{packagePolicyId}`,CREATE_PATTERN:`${u}`,UPDATE_PATTERN:`${u}/{packagePolicyId}`,DELETE_PATTERN:`${u}/delete`,UPGRADE_PATTERN:`${u}/upgrade`,DRYRUN_PATTERN:`${u}/upgrade/dryrun`,ORPHANED_INTEGRATION_POLICIES:`${a}/orphaned_integration_policies`},E={LIST_PATTERN:`${c}`,BULK_GET_PATTERN:`${c}/_bulk_get`,INFO_PATTERN:`${c}/{agentPolicyId}`,CREATE_PATTERN:`${c}`,UPDATE_PATTERN:`${c}/{agentPolicyId}`,COPY_PATTERN:`${c}/{agentPolicyId}/copy`,DELETE_PATTERN:`${c}/delete`,FULL_INFO_PATTERN:`${c}/{agentPolicyId}/full`,FULL_INFO_DOWNLOAD_PATTERN:`${c}/{agentPolicyId}/download`},v={K8S_DOWNLOAD_PATTERN:`${l}/download`,K8S_INFO_PATTERN:`${l}`},_={LIST_PATTERN:`${o}/outputs`,INFO_PATTERN:`${o}/outputs/{outputId}`,UPDATE_PATTERN:`${o}/outputs/{outputId}`,DELETE_PATTERN:`${o}/outputs/{outputId}`,CREATE_PATTERN:`${o}/outputs`,GET_OUTPUT_HEALTH_PATTERN:`${o}/outputs/{outputId}/health`,LOGSTASH_API_KEY_PATTERN:`${o}/logstash_api_keys`},h={LIST_PATTERN:`${o}/fleet_server_hosts`,CREATE_PATTERN:`${o}/fleet_server_hosts`,INFO_PATTERN:`${o}/fleet_server_hosts/{itemId}`,UPDATE_PATTERN:`${o}/fleet_server_hosts/{itemId}`,DELETE_PATTERN:`${o}/fleet_server_hosts/{itemId}`,POLICY_STATUS_PATTERN:`${o}/fleet_server_policy_status`},T={LIST_PATTERN:`${o}/proxies`,CREATE_PATTERN:`${o}/proxies`,INFO_PATTERN:`${o}/proxies/{itemId}`,UPDATE_PATTERN:`${o}/proxies/{itemId}`,DELETE_PATTERN:`${o}/proxies/{itemId}`},y={INFO_PATTERN:`${o}/settings`,UPDATE_PATTERN:`${o}/settings`,ENROLLMENT_INFO_PATTERN:`${a}/settings/enrollment`},P={HEALTH_CHECK_PATTERN:`${o}/health_check`,CHECK_PERMISSIONS_PATTERN:`${o}/check-permissions`,GENERATE_SERVICE_TOKEN_PATTERN:`${o}/service_tokens`,GENERATE_SERVICE_TOKEN_PATTERN_DEPRECATED:`${o}/service-tokens`},I={LIST_PATTERN:`${o}/agents`,INFO_PATTERN:`${o}/agents/{agentId}`,UPDATE_PATTERN:`${o}/agents/{agentId}`,BULK_UPDATE_AGENT_TAGS_PATTERN:`${o}/agents/bulk_update_agent_tags`,DELETE_PATTERN:`${o}/agents/{agentId}`,CHECKIN_PATTERN:`${o}/agents/{agentId}/checkin`,ACKS_PATTERN:`${o}/agents/{agentId}/acks`,ACTIONS_PATTERN:`${o}/agents/{agentId}/actions`,CANCEL_ACTIONS_PATTERN:`${o}/agents/actions/{actionId}/cancel`,UNENROLL_PATTERN:`${o}/agents/{agentId}/unenroll`,BULK_UNENROLL_PATTERN:`${o}/agents/bulk_unenroll`,REASSIGN_PATTERN:`${o}/agents/{agentId}/reassign`,BULK_REASSIGN_PATTERN:`${o}/agents/bulk_reassign`,REQUEST_DIAGNOSTICS_PATTERN:`${o}/agents/{agentId}/request_diagnostics`,BULK_REQUEST_DIAGNOSTICS_PATTERN:`${o}/agents/bulk_request_diagnostics`,AVAILABLE_VERSIONS_PATTERN:`${o}/agents/available_versions`,STATUS_PATTERN:`${o}/agent_status`,DATA_PATTERN:`${o}/agent_status/data`,STATUS_PATTERN_DEPRECATED:`${o}/agent-status`,UPGRADE_PATTERN:`${o}/agents/{agentId}/upgrade`,BULK_UPGRADE_PATTERN:`${o}/agents/bulk_upgrade`,ACTION_STATUS_PATTERN:`${o}/agents/action_status`,LIST_TAGS_PATTERN:`${o}/agents/tags`,LIST_UPLOADS_PATTERN:`${o}/agents/{agentId}/uploads`,GET_UPLOAD_FILE_PATTERN:`${o}/agents/files/{fileId}/{fileName}`,DELETE_UPLOAD_FILE_PATTERN:`${o}/agents/files/{fileId}`},O={CREATE_PATTERN:`${o}/enrollment_api_keys`,LIST_PATTERN:`${o}/enrollment_api_keys`,INFO_PATTERN:`${o}/enrollment_api_keys/{keyId}`,DELETE_PATTERN:`${o}/enrollment_api_keys/{keyId}`,CREATE_PATTERN_DEPRECATED:`${o}/enrollment-api-keys`,LIST_PATTERN_DEPRECATED:`${o}/enrollment-api-keys`,INFO_PATTERN_DEPRECATED:`${o}/enrollment-api-keys/{keyId}`,DELETE_PATTERN_DEPRECATED:`${o}/enrollment-api-keys/{keyId}`},A={LIST_PATTERN:`${o}/uninstall_tokens`,INFO_PATTERN:`${o}/uninstall_tokens/{uninstallTokenId}`},k={INFO_PATTERN:`${o}/agents/setup`,CREATE_PATTERN:`${o}/agents/setup`},S=`${o}/setup`,N={RESET_PATTERN:`${a}/reset_preconfigured_agent_policies`,RESET_ONE_PATTERN:`${a}/reset_preconfigured_agent_policies/{agentPolicyId}`},R={LIST_PATTERN:`${o}/agent_download_sources`,INFO_PATTERN:`${o}/agent_download_sources/{sourceId}`,CREATE_PATTERN:`${o}/agent_download_sources`,UPDATE_PATTERN:`${o}/agent_download_sources/{sourceId}`,DELETE_PATTERN:`${o}/agent_download_sources/{sourceId}`},L=`${a}/create_standalone_agent_api_key`,j={INDEX_PATTERN:`${a}/debug/index`,SAVED_OBJECTS_PATTERN:`${a}/debug/saved_objects`,SAVED_OBJECT_NAMES_PATTERN:`${a}/debug/saved_object_names`},x={public:{v1:"2023-10-31"},internal:{v1:"1"}},w="fleet-agents",$=3e4,C=".fleet-agents",M=".fleet-actions",D=".fleet-actions-results",U=["STARTING","CONFIGURING","HEALTHY","DEGRADED","FAILED","STOPPING","STOPPED"],F=`${w}.local_metadata.elastic.agent.unprivileged: true`,G=`not ${w}.local_metadata.elastic.agent.unprivileged: true`,B="ingest-agent-policies",q=".fleet-policies",V={Active:"active",Inactive:"inactive"},K="platinum",z=750,H="agentless",Y=["error","warning","info","debug"],X="info",Q="ingest-package-policies";var W=n(38);const J="ingest-outputs",Z={Elasticsearch:"elasticsearch",Logstash:"logstash",Kafka:"kafka",RemoteElasticsearch:"remote_elasticsearch"},ee=(Z.Elasticsearch,"es-default-output"),te="platinum",ne={None:"none",Snappy:"snappy",Lz4:"lz4",Gzip:"gzip"},re={Userpass:"user_pass",Ssl:"ssl",Kerberos:"kerberos",None:"none"},ie={Plaintext:"plaintext",Encryption:"encryption"},ae={Plain:"PLAIN",ScramSha256:"SCRAM-SHA-256",ScramSha512:"SCRAM-SHA-512"},oe={Random:"random",RoundRobin:"round_robin",Hash:"hash"},se={Commit:1,Replica:-1,DoNotWait:0},ue={Full:"full",None:"none",Strict:"strict",Certificate:"certificate"},ce=["0.8.2.0","0.8.2.1","0.8.2.2","0.9.0.0","0.9.0.1","0.10.0.0","0.10.0.1","0.10.1.0","0.10.1.1","0.10.2.0","0.10.2.1","0.10.2.2","0.11.0.0","0.11.0.1","0.11.0.2","0.11.0.3","1.0.0","1.0.1","1.0.2","1.1.0","1.1.1","2.0.0","2.0.1","2.1.0","2.1.1","2.2.0","2.2.1","2.2.2","2.3.0","2.3.1","2.4.0","2.4.1","2.5.0","2.5.1","2.6.0"],le=["bulk_max_size","compression_level","connection_idle_timeout","queue.mem.events","queue.mem.flush.min_events","queue.mem.flush.timeout","worker"],de=[Z.Elasticsearch,Z.RemoteElasticsearch],pe=".fleet-enrollment-api-keys";var fe=n(13);const ge="fleet-preconfiguration-deletion-record",be="latest",me=W.s.map((e=>({name:e,version:be}))),Ee=W.t.map((e=>({name:e,version:be}))),ve=[W.n,W.i,W.l].map((e=>({name:e,version:be}))),_e=Object(fe.uniqBy)([...Ee,...ve,...me],(({name:e})=>e)),he="ingest-download-sources",Te="fleet-fleet-server-host",ye=/^(http[s]?|socks5):\/\/[^\s$.?#].[^\s]*$/gm,Pe="default-fleet-server";var Ie=n(24),Oe=n(4);const Ae=Object.freeze({kibana:{id:"kibana",label:Oe.i18n.translate("core.ui.kibanaNavList.label",{defaultMessage:"Analytics"}),euiIconType:"logoKibana",order:1e3},enterpriseSearch:{id:"enterpriseSearch",label:Oe.i18n.translate("core.ui.searchNavList.label",{defaultMessage:"Search"}),order:2e3,euiIconType:"logoEnterpriseSearch"},observability:{id:"observability",label:Oe.i18n.translate("core.ui.observabilityNavList.label",{defaultMessage:"Observability"}),euiIconType:"logoObservability",order:3e3},security:{id:"securitySolution",label:Oe.i18n.translate("core.ui.securityNavList.label",{defaultMessage:"Security"}),order:4e3,euiIconType:"logoSecurity"},management:{id:"management",label:Oe.i18n.translate("core.ui.managementNavList.label",{defaultMessage:"Management"}),order:5e3,euiIconType:"managementApp"}}),ke="siem",Se=Object(Ie.deepFreeze)({readSecuritySolution:{appId:ke,privilegeSplit:"/",privilegeType:"ui",privilegeName:"show"},writeSecuritySolution:{appId:ke,privilegeSplit:"/",privilegeType:"ui",privilegeName:"crud"},writeEndpointList:{appId:Ae.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"writeEndpointList"},readEndpointList:{appId:Ae.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"readEndpointList"},writeTrustedApplications:{appId:Ae.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"writeTrustedApplications"},readTrustedApplications:{appId:Ae.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"readTrustedApplications"},writeHostIsolationExceptions:{appId:Ae.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"writeHostIsolationExceptions"},readHostIsolationExceptions:{appId:Ae.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"readHostIsolationExceptions"},accessHostIsolationExceptions:{appId:Ae.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"accessHostIsolationExceptions"},deleteHostIsolationExceptions:{appId:Ae.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"deleteHostIsolationExceptions"},writeBlocklist:{appId:Ae.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"writeBlocklist"},readBlocklist:{appId:Ae.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"readBlocklist"},writeEventFilters:{appId:Ae.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"writeEventFilters"},readEventFilters:{appId:Ae.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"readEventFilters"},writePolicyManagement:{appId:Ae.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"writePolicyManagement"},readPolicyManagement:{appId:Ae.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"readPolicyManagement"},writeActionsLogManagement:{appId:Ae.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"writeActionsLogManagement"},readActionsLogManagement:{appId:Ae.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"readActionsLogManagement"},writeHostIsolation:{appId:Ae.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"writeHostIsolation"},writeHostIsolationRelease:{appId:Ae.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"writeHostIsolationRelease"},writeProcessOperations:{appId:Ae.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"writeProcessOperations"},writeFileOperations:{appId:Ae.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"writeFileOperations"},writeExecuteOperations:{appId:Ae.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"writeExecuteOperations"},writeScanOperations:{appId:Ae.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"writeScanOperations"}}),Ne=Object(Ie.deepFreeze)({showEndpointExceptions:{appId:Ae.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"showEndpointExceptions"},crudEndpointExceptions:{appId:Ae.security.id,privilegeSplit:"-",privilegeType:"api",privilegeName:"crudEndpointExceptions"}}),Re=".fleet-fileds-fromhost-meta-*",Le=".fleet-fileds-fromhost-data-*",je=".fleet-fileds-tohost-meta-*",xe=".fleet-fileds-tohost-data-*",we=(Object.keys({elastic_agent:{name:"agent",fromHost:!0,toHost:!1},endpoint:{name:"endpoint",fromHost:!0,toHost:!0}}),"fleet-message-signing-keys"),$e={APM_LOCATOR:"APM_LOCATOR",DASHBOARD_APP:"DASHBOARD_APP_LOCATOR",DISCOVER_APP_LOCATOR:"DISCOVER_APP_LOCATOR"},Ce={ELASTIC_AGENT_OVERVIEW:"elastic_agent-a148dc70-6b3c-11ed-98de-67bdecd21824",ELASTIC_AGENT_AGENT_INFO:"elastic_agent-0600ffa0-6b5e-11ed-98de-67bdecd21824",ELASTIC_AGENT_AGENT_METRICS:"elastic_agent-f47f18cc-9c7d-4278-b2ea-a6dee816d395",ELASTIC_AGENT_INTEGRATIONS:"elastic_agent-1a4e7280-6b5e-11ed-98de-67bdecd21824"},Me="8.10.0",De="fleet-uninstall-tokens",Ue={properties:{agent_features:{properties:{name:{type:"keyword"},enabled:{type:"boolean"}}},data_output_id:{type:"keyword"},description:{type:"text"},download_source_id:{type:"keyword"},fleet_server_host_id:{type:"keyword"},inactivity_timeout:{type:"integer"},is_default:{type:"boolean"},is_default_fleet_server:{type:"boolean"},is_managed:{type:"boolean"},is_preconfigured:{type:"keyword"},is_protected:{type:"boolean"},monitoring_enabled:{type:"keyword",index:!1},monitoring_output_id:{type:"keyword"},name:{type:"keyword"},namespace:{type:"keyword"},revision:{type:"integer"},schema_version:{type:"version"},status:{type:"keyword"},unenroll_timeout:{type:"integer"},updated_at:{type:"date"},updated_by:{type:"keyword"}}},Fe={properties:{access_api_key_id:{type:"keyword"},action_seq_no:{type:"integer"},active:{type:"boolean"},agent:{properties:{id:{type:"keyword"},version:{type:"keyword"}}},default_api_key:{type:"keyword"},default_api_key_id:{type:"keyword"},enrollment_id:{type:"keyword"},enrolled_at:{type:"date"},last_checkin:{type:"date"},last_checkin_message:{type:"text",properties:{keyword:{type:"keyword"}}},last_checkin_status:{type:"keyword"},last_updated:{type:"date"},local_metadata:{properties:{elastic:{properties:{agent:{properties:{build:{properties:{original:{type:"text",properties:{keyword:{type:"keyword"}}}}},id:{type:"keyword"},log_level:{type:"keyword"},snapshot:{type:"boolean"},upgradeable:{type:"boolean"},version:{type:"text",properties:{keyword:{type:"keyword"}}},unprivileged:{type:"boolean"}}}}},host:{properties:{architecture:{type:"keyword"},hostname:{type:"text",properties:{keyword:{type:"keyword"}}},id:{type:"keyword"},ip:{type:"text",properties:{keyword:{type:"keyword"}}},mac:{type:"text",properties:{keyword:{type:"keyword"}}},name:{type:"text",properties:{keyword:{type:"keyword"}}}}},os:{properties:{family:{type:"keyword"},full:{type:"text",properties:{keyword:{type:"keyword"}}},kernel:{type:"text",properties:{keyword:{type:"keyword"}}},name:{type:"text",properties:{keyword:{type:"keyword"}}},platform:{type:"keyword"},version:{type:"text",properties:{keyword:{type:"keyword"}}}}}}},packages:{type:"keyword"},policy_output_permissions_hash:{type:"keyword"},policy_coordinator_idx:{type:"integer"},policy_id:{type:"keyword"},policy_revision_idx:{type:"integer"},type:{type:"keyword"},tags:{type:"keyword"},unenrolled_at:{type:"date"},unenrollment_started_at:{type:"date"},unenrolled_reason:{type:"keyword"},updated_at:{type:"date"},upgrade_started_at:{type:"date"},upgraded_at:{type:"date"},upgrade_status:{type:"keyword"},upgrade_details:{properties:{target_version:{type:"text",fields:{keyword:{type:"keyword"}}},action_id:{type:"keyword"},state:{type:"keyword"},metadata:{properties:{scheduled_at:{type:"date"},download_percent:{type:"double"},failed_state:{type:"keyword"},error_msg:{type:"text",fields:{keyword:{type:"keyword"}}}}}}},status:{type:"keyword"}}},Ge={properties:{active:{type:"boolean"},api_key:{type:"keyword"},api_key_id:{type:"keyword"},created_at:{type:"date"},expire_at:{type:"date"},name:{type:"keyword"},policy_id:{type:"keyword"},updated_at:{type:"date"}}},Be=1e4,qe=".fleet-artifacts",Ve="fleet-enrollment-api-keys"},function(e,t){e.exports=__kbnSharedDeps__.React},function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return l}));var r=n(1),i=n(51);let a;const o=e=>{a=e},s=e=>{if(!a)throw new Error("sendRequest has no http client set");return Object(i.sendRequest)(a,e)},u=async e=>{if(!a)throw new Error("sendRequest has no http client set");const t=await Object(i.sendRequest)(a,e);if(t.error)throw t.error;return t.data},c=e=>{if(!a)throw new Error("sendRequest has no http client set");return Object(i.useRequest)(a,e)},l=e=>{const[t,n]=Object(r.useState)({error:null,data:null,isLoading:!1}),{path:i,method:a,shouldSendRequest:o,query:u,body:c}=e;async function l(){if(e.shouldSendRequest)try{n({data:null,isLoading:!0,error:null});const t=await s({method:e.method,path:e.path,query:e.query,body:e.body,version:e.version});if(t.error)throw t.error;return n({data:t.data,isLoading:!1,error:null}),t}catch(e){n({data:null,isLoading:!1,error:e})}else n({data:null,isLoading:!1,error:null})}return Object(r.useEffect)((()=>{l()}),[i,a,o,JSON.stringify(u),JSON.stringify(c)]),{...t,sendRequest:l}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r.a})),n.d(t,"a",(function(){return i.b})),n.d(t,"c",(function(){return i.f})),n.d(t,"w",(function(){return i.eb})),n.d(t,"g",(function(){return i.k})),n.d(t,"m",(function(){return i.u})),n.d(t,"d",(function(){return i.g})),n.d(t,"k",(function(){return i.q})),n.d(t,"l",(function(){return i.r})),n.d(t,"B",(function(){return i.lb})),n.d(t,"v",(function(){return i.db})),n.d(t,"A",(function(){return i.kb})),n.d(t,"e",(function(){return i.i})),n.d(t,"x",(function(){return i.fb})),n.d(t,"n",(function(){return i.v})),n.d(t,"q",(function(){return i.X})),n.d(t,"h",(function(){return i.n})),n.d(t,"t",(function(){return i.bb})),n.d(t,"p",(function(){return i.S})),n.d(t,"i",(function(){return i.o})),n.d(t,"C",(function(){return i.ob})),n.d(t,"D",(function(){return i.pb})),n.d(t,"E",(function(){return i.qb})),n.d(t,"f",(function(){return i.j})),n.d(t,"j",(function(){return i.p})),n.d(t,"z",(function(){return i.ib})),n.d(t,"r",(function(){return a})),n.d(t,"u",(function(){return o})),n.d(t,"s",(function(){return c})),n.d(t,"y",(function(){return l})),n.d(t,"o",(function(){return d})),n(24);var r=n(45),i=n(5);function a(e,t){if(!("installationInfo"in e)||!e.installationInfo)return!1;const{verification_status:n,verification_key_id:i}=null==e?void 0:e.installationInfo,{packageVerification:a}=r.a.get();return a&&("unverified"===n||"verified"===n&&!!i&&i!==t)}const o=e=>{var t;return e&&"attributes"in e&&"verification_failed"===(null===(t=e.attributes)||void 0===t?void 0:t.type)};var s=n(23),u=n.n(s);const c=e=>{var t,n;return!(!("installationInfo"in e)||null===(t=e.installationInfo)||void 0===t||!t.version)&&u()(null===(n=e.installationInfo)||void 0===n?void 0:n.version,e.version)},l=e=>`${e.name}-${e.version}`;function d(e,t){const n=e.map((e=>e.name)).map((e=>{const n=e.match(t?/Fleet Server policy (\d+)/:/Agent policy (\d+)/);return n?parseInt(n[1],10):0}));return`${t?"Fleet Server":"Agent"} policy ${Math.max(...n,0)+1}`}n(46)},function(e,t){e.exports=__kbnSharedDeps__.KbnI18n},function(e,t,n){"use strict";n.d(t,"r",(function(){return i})),n.d(t,"eb",(function(){return a})),n.d(t,"f",(function(){return o})),n.d(t,"k",(function(){return s})),n.d(t,"u",(function(){return u})),n.d(t,"g",(function(){return c})),n.d(t,"db",(function(){return l})),n.d(t,"s",(function(){return d})),n.d(t,"t",(function(){return p})),n.d(t,"kb",(function(){return f})),n.d(t,"i",(function(){return g})),n.d(t,"q",(function(){return b})),n.d(t,"nb",(function(){return m})),n.d(t,"lb",(function(){return E})),n.d(t,"p",(function(){return v})),n.d(t,"l",(function(){return _})),n.d(t,"b",(function(){return h})),n.d(t,"Z",(function(){return y})),n.d(t,"O",(function(){return P})),n.d(t,"N",(function(){return I})),n.d(t,"gb",(function(){return $})),n.d(t,"fb",(function(){return C})),n.d(t,"P",(function(){return j})),n.d(t,"M",(function(){return x})),n.d(t,"v",(function(){return D})),n.d(t,"X",(function(){return F})),n.d(t,"n",(function(){return G})),n.d(t,"ab",(function(){return B.b})),n.d(t,"bb",(function(){return B.c})),n.d(t,"c",(function(){return B.a})),n.d(t,"U",(function(){return q})),n.d(t,"d",(function(){return license_LicenseService})),n.d(t,"a",(function(){return z.a})),n.d(t,"R",(function(){return z.d})),n.d(t,"S",(function(){return z.e})),n.d(t,"I",(function(){return z.c})),n.d(t,"m",(function(){return z.b})),n.d(t,"Q",(function(){return Q})),n.d(t,"e",(function(){return X})),n.d(t,"V",(function(){return A})),n.d(t,"W",(function(){return k})),n.d(t,"H",(function(){return S})),n.d(t,"G",(function(){return N})),n.d(t,"o",(function(){return W})),n.d(t,"ob",(function(){return ee})),n.d(t,"pb",(function(){return te})),n.d(t,"qb",(function(){return re})),n.d(t,"j",(function(){return ne})),n.d(t,"mb",(function(){return oe})),n.d(t,"E",(function(){return se})),n.d(t,"F",(function(){return ge})),n.d(t,"K",(function(){return Ee})),n.d(t,"z",(function(){return ve})),n.d(t,"L",(function(){return be})),n.d(t,"y",(function(){return me})),n.d(t,"B",(function(){return _e})),n.d(t,"A",(function(){return he})),n.d(t,"J",(function(){return ye})),n.d(t,"Y",(function(){return Te})),n.d(t,"cb",(function(){return Pe})),n.d(t,"x",(function(){return Ie.a})),n.d(t,"h",(function(){return Oe})),n.d(t,"ib",(function(){return Ae})),n.d(t,"hb",(function(){return Se})),n.d(t,"jb",(function(){return ke})),n.d(t,"D",(function(){return Re})),n.d(t,"w",(function(){return Le.b})),n.d(t,"C",(function(){return Ce})),n.d(t,"T",(function(){return Me}));var r=n(0);const i={getVerificationKeyIdPath:()=>r.G.VERIFICATION_KEY_ID,getCategoriesPath:()=>r.G.CATEGORIES_PATTERN,getListPath:()=>r.G.LIST_PATTERN,getListLimitedPath:()=>r.G.LIMITED_LIST_PATTERN,getInfoPath:(e,t)=>t?r.G.INFO_PATTERN.replace("{pkgName}",e).replace("{pkgVersion}",t):r.G.INFO_PATTERN.replace("{pkgName}",e).replace("/{pkgVersion}",""),getStatsPath:e=>r.G.STATS_PATTERN.replace("{pkgName}",e),getFilePath:e=>`${r.F}${e.replace("/package","/packages")}`,getInstallPath:(e,t)=>r.G.INSTALL_FROM_REGISTRY_PATTERN.replace("{pkgName}",e).replace("{pkgVersion}",t).replace(/\/$/,""),getBulkInstallPath:()=>r.G.BULK_INSTALL_PATTERN,getRemovePath:(e,t)=>r.G.DELETE_PATTERN.replace("{pkgName}",e).replace("{pkgVersion}",t).replace(/\/$/,""),getInstallKibanaAssetsPath:(e,t)=>r.G.INSTALL_KIBANA_ASSETS_PATTERN.replace("{pkgName}",e).replace("{pkgVersion}",t).replace(/\/$/,""),getUpdatePath:(e,t)=>r.G.INFO_PATTERN.replace("{pkgName}",e).replace("{pkgVersion}",t),getReauthorizeTransformsPath:(e,t)=>r.G.REAUTHORIZE_TRANSFORMS.replace("{pkgName}",e).replace("{pkgVersion}",t).replace(/\/$/,""),getBulkAssetsPath:()=>r.G.BULK_ASSETS_PATTERN,getInputsTemplatesPath:(e,t)=>r.G.INPUTS_PATTERN.replace("{pkgName}",e).replace("{pkgVersion}",t)},a={getListPath:()=>r.ub.LIST_PATTERN,getInfoPath:e=>r.ub.INFO_PATTERN.replace("{packagePolicyId}",e),getCreatePath:()=>r.ub.CREATE_PATTERN,getUpdatePath:e=>r.ub.UPDATE_PATTERN.replace("{packagePolicyId}",e),getDeletePath:()=>r.ub.DELETE_PATTERN,getUpgradePath:()=>r.ub.UPGRADE_PATTERN,getDryRunPath:()=>r.ub.DRYRUN_PATTERN,getOrphanedIntegrationPoliciesPath:()=>r.ub.ORPHANED_INTEGRATION_POLICIES},o={getListPath:()=>r.j.LIST_PATTERN,getBulkGetPath:()=>r.j.BULK_GET_PATTERN,getInfoPath:e=>r.j.INFO_PATTERN.replace("{agentPolicyId}",e),getCreatePath:()=>r.j.CREATE_PATTERN,getUpdatePath:e=>r.j.UPDATE_PATTERN.replace("{agentPolicyId}",e),getCopyPath:e=>r.j.COPY_PATTERN.replace("{agentPolicyId}",e),getDeletePath:()=>r.j.DELETE_PATTERN,getInfoFullPath:e=>r.j.FULL_INFO_PATTERN.replace("{agentPolicyId}",e),getInfoFullDownloadPath:e=>r.j.FULL_INFO_DOWNLOAD_PATTERN.replace("{agentPolicyId}",e),getK8sInfoPath:()=>r.jb.K8S_INFO_PATTERN,getK8sFullDownloadPath:()=>r.jb.K8S_DOWNLOAD_PATTERN,getResetOnePreconfiguredAgentPolicyPath:e=>r.xb.RESET_ONE_PATTERN.replace("{agentPolicyId}",e),getResetAllPreconfiguredAgentPolicyPath:()=>r.xb.RESET_PATTERN},s={getListPath:()=>r.v.LIST_PATTERN},u={getFleetSetupPath:()=>r.d.INFO_PATTERN,postFleetSetupPath:()=>r.d.CREATE_PATTERN},c={getInfoPath:e=>r.g.INFO_PATTERN.replace("{agentId}",e),getUpdatePath:e=>r.g.UPDATE_PATTERN.replace("{agentId}",e),getBulkUpdateTagsPath:()=>r.g.BULK_UPDATE_AGENT_TAGS_PATTERN,getUnenrollPath:e=>r.g.UNENROLL_PATTERN.replace("{agentId}",e),getBulkUnenrollPath:()=>r.g.BULK_UNENROLL_PATTERN,getReassignPath:e=>r.g.REASSIGN_PATTERN.replace("{agentId}",e),getBulkReassignPath:()=>r.g.BULK_REASSIGN_PATTERN,getUpgradePath:e=>r.g.UPGRADE_PATTERN.replace("{agentId}",e),getBulkUpgradePath:()=>r.g.BULK_UPGRADE_PATTERN,getActionStatusPath:()=>r.g.ACTION_STATUS_PATTERN,getCancelActionPath:e=>r.g.CANCEL_ACTIONS_PATTERN.replace("{actionId}",e),getListPath:()=>r.g.LIST_PATTERN,getStatusPath:()=>r.g.STATUS_PATTERN,getIncomingDataPath:()=>r.g.DATA_PATTERN,getCreateActionPath:e=>r.g.ACTIONS_PATTERN.replace("{agentId}",e),getListTagsPath:()=>r.g.LIST_TAGS_PATTERN,getAvailableVersionsPath:()=>r.g.AVAILABLE_VERSIONS_PATTERN,getRequestDiagnosticsPath:e=>r.g.REQUEST_DIAGNOSTICS_PATTERN.replace("{agentId}",e),getBulkRequestDiagnosticsPath:()=>r.g.BULK_REQUEST_DIAGNOSTICS_PATTERN,getListAgentUploads:e=>r.g.LIST_UPLOADS_PATTERN.replace("{agentId}",e),getAgentFileDownloadLink:(e,t)=>r.g.GET_UPLOAD_FILE_PATTERN.replace("{fileId}",e).replace("{fileName}",t),getAgentFileDeletePath:e=>r.g.DELETE_UPLOAD_FILE_PATTERN.replace("{fileId}",e),getAgentsByActionsPath:()=>r.g.LIST_PATTERN},l={getInfoPath:e=>r.pb.INFO_PATTERN.replace("{outputId}",e),getUpdatePath:e=>r.pb.UPDATE_PATTERN.replace("{outputId}",e),getListPath:()=>r.pb.LIST_PATTERN,getDeletePath:e=>r.pb.DELETE_PATTERN.replace("{outputId}",e),getCreatePath:()=>r.pb.CREATE_PATTERN,getCreateLogstashApiKeyPath:()=>r.pb.LOGSTASH_API_KEY_PATTERN,getOutputHealthPath:e=>r.pb.GET_OUTPUT_HEALTH_PATTERN.replace("{outputId}",e)},d={getInfoPath:e=>r.W.INFO_PATTERN.replace("{itemId}",e),getUpdatePath:e=>r.W.UPDATE_PATTERN.replace("{itemId}",e),getListPath:()=>r.W.LIST_PATTERN,getDeletePath:e=>r.W.DELETE_PATTERN.replace("{itemId}",e),getCreatePath:()=>r.W.CREATE_PATTERN},p={getInfoPath:e=>r.Y.INFO_PATTERN.replace("{itemId}",e),getUpdatePath:e=>r.Y.UPDATE_PATTERN.replace("{itemId}",e),getListPath:()=>r.Y.LIST_PATTERN,getDeletePath:e=>r.Y.DELETE_PATTERN.replace("{itemId}",e),getCreatePath:()=>r.Y.CREATE_PATTERN,getPolicyStatusPath:()=>r.Y.POLICY_STATUS_PATTERN},f={getInfoPath:()=>r.Fb.INFO_PATTERN,getUpdatePath:()=>r.Fb.UPDATE_PATTERN,getEnrollmentInfoPath:()=>r.Fb.ENROLLMENT_INFO_PATTERN},g={getCheckPermissionsPath:()=>r.p.CHECK_PERMISSIONS_PATTERN,getRegenerateServiceTokenPath:()=>r.p.GENERATE_SERVICE_TOKEN_PATTERN,postHealthCheckPath:()=>r.p.HEALTH_CHECK_PATTERN},b={getListPath:()=>r.E.LIST_PATTERN,getCreatePath:()=>r.E.CREATE_PATTERN,getInfoPath:e=>r.E.INFO_PATTERN.replace("{keyId}",e),getDeletePath:e=>r.E.DELETE_PATTERN.replace("{keyId}",e)},m={getListPath:()=>r.Jb.LIST_PATTERN,getInfoPath:e=>r.Jb.INFO_PATTERN.replace("{uninstallTokenId}",e)},E={getSetupPath:()=>r.Gb},v={getInfoPath:e=>r.y.INFO_PATTERN.replace("{sourceId}",e),getUpdatePath:e=>r.y.UPDATE_PATTERN.replace("{sourceId}",e),getListPath:()=>r.y.LIST_PATTERN,getDeletePath:e=>r.y.DELETE_PATTERN.replace("{sourceId}",e),getCreatePath:()=>r.y.CREATE_PATTERN},_={getIndexPath:()=>r.R.INDEX_PATTERN,getSavedObjectsPath:()=>r.R.SAVED_OBJECTS_PATTERN,getSavedObjectNamesPath:()=>r.R.SAVED_OBJECT_NAMES_PATTERN};var h=n(60),T=n(13);function y(e){var t,n,r;return(null===(t=e.agent)||void 0===t||null===(n=t.privileges)||void 0===n?void 0:n.root)||(null===(r=e.data_streams)||void 0===r?void 0:r.some((e=>{var t,n;return null===(t=e.agent)||void 0===t||null===(n=t.privileges)||void 0===n?void 0:n.root})))}function P(e){var t,n,r,i;return null!==(t=e.agent)&&void 0!==t&&null!==(n=t.privileges)&&void 0!==n&&n.root?[]:null!==(r=null===(i=e.data_streams)||void 0===i?void 0:i.filter((e=>{var t,n;return null===(t=e.agent)||void 0===t||null===(n=t.privileges)||void 0===n?void 0:n.root})).map((e=>({name:e.name,title:e.title}))))&&void 0!==r?r:[]}function I(e){return Object(T.uniqBy)(e.map((e=>e.package)).filter((e=>e&&e.requires_root||!1)),(e=>e.name)).map((e=>({name:e.name,title:e.title})))}const O={name:r.u,type:"text",title:"Dataset name",description:"Set the name for your dataset. Once selected a dataset cannot be changed without creating a new integration policy. You can't use `-` in the name of a dataset and only valid characters for [Elasticsearch index names](https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-index_.html) are permitted.\n",multi:!1,required:!0,show_user:!0};function A(e){return"input"in e}function k(e){return!A(e)}const S=e=>k(e)?e.inputs||[]:[{type:e.input,title:e.title,description:e.description}],N=(e,t)=>{if("input"!==e.type)return e.data_streams||[];const n=e.policy_templates;return n&&0!==n.length?n.map((n=>{const r=t||L(e,n),i={type:n.type,dataset:r,title:n.title+" Dataset",release:e.release||"ga",package:e.name,path:r,elasticsearch:e.elasticsearch||{},streams:[{input:n.input,vars:R(n.vars,n.name),template_path:n.template_path,title:n.title,description:n.title,enabled:!0}]};return"input"===e.type&&(i.elasticsearch={...i.elasticsearch,dynamic_dataset:!0,dynamic_namespace:!0}),i})):[]},R=(e,t)=>{const n=null!=e?e:[];return n.find((e=>e.name===O.name))?n:[...n,{...O,...t&&{default:t}}]},L=(e,t)=>e.name+"."+t.name,j=(e,t,n=[])=>{const r=[],i=N(t);return(n.length?i.filter((e=>n.includes(e.path))):i).forEach((t=>{(t.streams||[]).forEach((n=>{n.input===e&&r.push({...n,data_stream:{type:t.type,dataset:t.dataset}})}))})),r},x=(e,t,n=[])=>{const r=[],i=N(t);return(n.length?i.filter((e=>n.includes(e.path))):i).forEach((t=>{(t.streams||[]).forEach((n=>{n.input===e&&r.push({...n,data_stream:{...t}})}))})),r},w=(e,t)=>{const n={value:!t.default&&t.multi?[]:t.default};return t.type&&(n.type=t.type),e[t.name]=n,e},$=(e,t)=>{var n;const r=W(e),i=[],a={};return null===(n=e.policy_templates)||void 0===n||n.forEach((e=>{const t=S(e);null==t||t.forEach((t=>{const n=`${e.name}-${t.type}`,r={...t,...k(e)&&e.data_streams?{data_streams:e.data_streams}:{},policy_template:e.name};a[n]=r}))})),Object.values(a).forEach((n=>{var a;const o=[];let s={};const u=j(n.type,e,n.data_streams).map((e=>{const t={enabled:!1!==e.enabled,data_stream:e.data_stream};return e.vars&&e.vars.length&&(t.vars=e.vars.reduce(w,{})),t}));null!==(a=n.vars)&&void 0!==a&&a.length&&!r&&(s=n.vars.reduce(w,{})),o.push(...u);let c=!o.length||!!o.find((e=>e.enabled));c&&r&&t&&t!==n.policy_template&&(c=!1);const l={type:n.type,policy_template:n.policy_template,enabled:c,streams:o};Object.keys(s).length&&(l.vars=s),i.push(l)})),i},C=(e,t,n="",r,i,a)=>{var o,s;Array.isArray(t)||(t=[t]);const u="installationInfo"in e?null===(o=e.installationInfo)||void 0===o?void 0:o.experimental_data_stream_features:void 0,c={name:r||`${e.name}-1`,namespace:n,description:i,package:{name:e.name,title:e.title,version:e.version,...u?{experimental_data_stream_features:u}:void 0},enabled:!0,policy_id:t[0],policy_ids:t,inputs:$(e,a),vars:void 0};return null!==(s=e.vars)&&void 0!==s&&s.length&&(c.vars=e.vars.reduce(w,{})),c},M=["id","name","revision","dataset","type","outputs","fleet","output_permissions","agent","inputs","enabled","use_output","meta","input","download","signed"],D=(e,t,n)=>{var r;const i=t(e,{skipInvalid:!0,sortKeys:U}),a=n?function(e,t){const n=new RegExp(/\'\${API_KEY}\'/,"g");return e.replace(n,`'${t}'`)}(i,n):i;return null!=e&&null!==(r=e.secret_references)&&void 0!==r&&r.length?function(e,t){let n=t;return e.map((e=>e.id)).forEach(((e,t)=>{const r=new RegExp(`\\$co\\.elastic\\.secret\\{${e}\\}`,"g");n=n.replace(r,`\${SECRET_${t}}`)})),n}(e.secret_references,a):a};function U(e,t){const n=M.indexOf(e),r=M.indexOf(t);return n>=0&&r<0?-1:n<0&&r>=0?1:n-r}const F=e=>(e.policy_templates||[]).some((e=>!1===e.multiple)),G=(e,t)=>{if(!e.package_policies)throw new Error("Unable to read full package policy information");return e.package_policies.map((e=>{var t;return(null===(t=e.package)||void 0===t?void 0:t.name)||""})).includes(t)};var B=n(31);function q(e){const t=new URL(e[0]),n=t.protocol,r=t.pathname;return e.some((e=>{const t=new URL(e),i=t.protocol,a=t.pathname;return n!==i||r!==a}))}var V=n(10),K=n.n(V);class license_LicenseService{constructor(){K()(this,"observable",null),K()(this,"subscription",null),K()(this,"licenseInformation",null)}updateInformation(e){this.licenseInformation=e}start(e){this.observable=e,this.subscription=this.observable.subscribe(this.updateInformation.bind(this))}stop(){this.subscription&&this.subscription.unsubscribe()}getLicenseInformation(){return this.licenseInformation}getLicenseInformation$(){return this.observable}isGoldPlus(){return this.hasAtLeast("gold")}isPlatinum(){return this.hasAtLeast("platinum")}isEnterprise(){return this.hasAtLeast("enterprise")}hasAtLeast(e){var t,n,r;return(null===(t=this.licenseInformation)||void 0===t?void 0:t.isAvailable)&&(null===(n=this.licenseInformation)||void 0===n?void 0:n.isActive)&&(null===(r=this.licenseInformation)||void 0===r?void 0:r.hasAtLeast(e))}}var z=n(70),H=n(43),Y=n.n(H);const X="8.7.0";function Q(e){var t,n,r;if(!e.active)return!1;if("string"!=typeof(null==e||null===(t=e.local_metadata)||void 0===t||null===(n=t.elastic)||void 0===n||null===(r=n.agent)||void 0===r?void 0:r.version))return!1;const i=e.local_metadata.elastic.agent.version;return Y()(i,X)}const W=e=>(e.policy_templates||[]).length>1;var J=n(24),Z=n(4);const ee=(e,t,n)=>{var r;const i=W(t),a={name:null,description:null,namespace:null,inputs:{},vars:{}};if(e.name.trim()||(a.name=[Z.i18n.translate("xpack.fleet.packagePolicyValidation.nameRequiredErrorMessage",{defaultMessage:"Name is required"})]),null!=e&&e.namespace){const t=Object(B.c)(null==e?void 0:e.namespace,!0);!t.valid&&t.error&&(a.namespace=[t.error])}const o=Object(T.keyBy)(t.vars||[],"name"),s=Object.entries(e.vars||{});if(s.length&&(a.vars=s.reduce(((e,[t,r])=>(e[t]=te(r,o[t],t,n),e)),{})),null==t||null===(r=t.policy_templates)||void 0===r||!r.length||function(e){return!e.policy_templates||0===e.policy_templates.length||!e.policy_templates.find((e=>A(e)||e.inputs&&e.inputs.length>0))}(t))return a.inputs={},a;const u=t.policy_templates.reduce(((e,t)=>(S(t).forEach((n=>{const r=i?`${t.name}-${n.type}`:n.type;(n.vars||[]).length&&(e[r]=Object(T.keyBy)(n.vars||[],"name"))})),e)),{}),c=N(t).reduce(((e,t)=>{var n;return null===(n=t.streams)||void 0===n||n.forEach((n=>{e[`${t.dataset}-${n.input}`]=n})),e}),{}),l=Object.entries(c).reduce(((e,[t,n])=>(e[t]=Object(T.keyBy)(n.vars||[],"name"),e)),{});return e.inputs.forEach((e=>{if(!e.vars&&!e.streams)return;const r=i?`${e.policy_template}-${e.type}`:e.type,o={vars:void 0,streams:{}},s=Object.entries(e.vars||{});s.length?o.vars=s.reduce(((t,[i,a])=>{var o;return t[i]=e.enabled?te(a,(null!==(o=u[r])&&void 0!==o?o:{})[i],i,n):null,t}),{}):delete o.vars,e.streams.length?e.streams.forEach((r=>{const i={},a=l[`${r.data_stream.dataset}-${e.type}`];a&&Object.keys(a).length&&(i.vars=Object.keys(a).reduce(((i,o)=>{var s;const u=null==r||null===(s=r.vars)||void 0===s?void 0:s[o];return i[o]=e.enabled&&r.enabled?te(u,a[o],o,n,t.type):null,i}),{})),o.streams[r.data_stream.dataset]=i})):delete o.streams,(o.vars||o.streams)&&(a.inputs[r]=o)})),0===Object.entries(a.inputs).length&&(a.inputs={}),a},te=(e,t,n,i,a)=>{const o=[],s=null==e?void 0:e.value;let u=s;if("string"==typeof s&&(u=s.trim()),void 0===t)return console.debug(`No variable definition for ${n} found`),null;if(t.required&&(void 0===u||"yaml"===t.type&&""===u)&&o.push(Z.i18n.translate("xpack.fleet.packagePolicyValidation.requiredErrorMessage",{defaultMessage:"{fieldName} is required",values:{fieldName:t.title||t.name}})),!0===t.secret&&u&&!0===u.isSecretRef)return void 0===u.id||""===u.id||"string"!=typeof u.id?(o.push(Z.i18n.translate("xpack.fleet.packagePolicyValidation.invalidSecretReference",{defaultMessage:"Secret reference is invalid, id must be a string"})),o):null;if("yaml"===t.type)try{u=i(s)}catch(e){o.push(Z.i18n.translate("xpack.fleet.packagePolicyValidation.invalidYamlFormatErrorMessage",{defaultMessage:"Invalid YAML format"}))}if(t.multi)return u&&!Array.isArray(u)?(o.push(Z.i18n.translate("xpack.fleet.packagePolicyValidation.invalidArrayErrorMessage",{defaultMessage:"Invalid format for {fieldName}: expected array",values:{fieldName:t.title||t.name}})),o):(t.required&&Array.isArray(u)&&0===u.length&&o.push(Z.i18n.translate("xpack.fleet.packagePolicyValidation.requiredErrorMessage",{defaultMessage:"{fieldName} is required",values:{fieldName:t.title||t.name}})),"text"===t.type&&u&&u.filter((e=>/^[*&]/.test(e))).length>0&&o.push(Z.i18n.translate("xpack.fleet.packagePolicyValidation.quoteStringErrorMessage",{defaultMessage:"Strings starting with special YAML characters like * or & need to be enclosed in double quotes."})),"integer"===t.type&&u&&u.filter((e=>!Number.isInteger(Number(e)))).length>0&&o.push(Z.i18n.translate("xpack.fleet.packagePolicyValidation.invalidIntegerMultiErrorMessage",{defaultMessage:"Invalid integer"})),o.length?o:null);var c;if("text"===t.type&&u&&!Array.isArray(u)&&/^[*&]/.test(u)&&o.push(Z.i18n.translate("xpack.fleet.packagePolicyValidation.quoteStringErrorMessage",{defaultMessage:"Strings starting with special YAML characters like * or & need to be enclosed in double quotes."})),"bool"===t.type&&u&&!["true","false"].includes(u.toString())&&o.push(Z.i18n.translate("xpack.fleet.packagePolicyValidation.boolValueError",{defaultMessage:"Boolean values must be either true or false"})),"integer"===t.type&&u&&!Array.isArray(u)&&(Number.isInteger(Number(u))||o.push(Z.i18n.translate("xpack.fleet.packagePolicyValidation.invalidIntegerErrorMessage",{defaultMessage:"Invalid integer"}))),"select"===t.type&&void 0!==u&&(null!==(c=t.options)&&void 0!==c&&c.map((e=>e.value)).includes(u)||o.push(Z.i18n.translate("xpack.fleet.packagePolicyValidation.invalidSelectValueErrorMessage",{defaultMessage:"Invalid value for select type"}))),n===r.u&&"input"===a&&void 0!==u){const{valid:e,error:t}=Object(B.b)(u.dataset?u.dataset:u,!1);!e&&t&&o.push(t)}return o.length?o:null},ne=e=>{const t=Object(J.getFlattenedObject)(e);return(Object.values(t).filter((e=>Boolean(e)))||[]).length},re=e=>ne(e)>0;var ie=n(79),ae=n.n(ie);function oe(e){if(!e.includes("-"))return{pkgName:e,pkgVersion:""};const t=e.includes("-")?e.substr(0,e.indexOf("-")):e;if(""===t)throw new Error("Package key parsing failed: package name was empty");const n=e.substr(e.indexOf("-")+1);if(!ae()(n))throw new Error("Package key parsing failed: package version was not a valid semver");return{pkgName:t,pkgVersion:n}}function se(e,t){const n=new RegExp(`${e}-(\\d+)`);return`${e}-${Math.max(...(null!=t?t:[]).filter((e=>Boolean(e.name.match(n)))).map((e=>parseInt(e.name.match(n)[1],10))),0)+1}`}var ue=n(25),ce=n.n(ue),le=n(21),de=n.n(le);function pe(e){const t=Object(T.uniq)(e).filter((e=>{var t;return void 0!==(null===(t=de()(e))||void 0===t?void 0:t.version)}));return t.length>1?t.sort(((e,t)=>ce()(e,t)?1:-1)):t}function fe(e){const t=pe(e);return t.length>=1?t[t.length-1]:""}function ge(e){const t=pe(e);return t.length>=1?t[0]:""}function be(e){const t=`${e.type}-${e.dataset.toLowerCase()}`;return e.hidden?`.${t}`:t}function me(e,t){return`${be(e)}${null!=t?t:""}`}const Ee=({dataStream:e,packageVersion:t})=>`${e.type}-${e.dataset.toLowerCase()}-${t}`,ve=e=>`${e.type}-${e.dataset.toLowerCase()}@custom`,_e=(e,t=!1)=>{const n=t?r.K:r.I;if(-1!==n.indexOf("*"))return n.replace("*",e);throw new Error(`Unable to define integration file data index. No '*' in index pattern: ${n}`)},he=(e,t=!1)=>{const n=t?r.J:r.H;if(-1!==n.indexOf("*"))return n.replace("*",e);throw new Error(`Unable to define integration file data index. No '*' in index pattern: ${n}`)};function Te(e){return e.startsWith("0")||e.includes("-")}function ye(e){return e.startsWith("0")||e.includes("-preview")?"preview":e.includes("-rc")?"rc":e.includes("-")?"beta":"ga"}function Pe(e){return"experimental"===e?"preview":e}var Ie=n(66);function Oe(e){return{healthy:e.online,unhealthy:e.error+e.degraded,inactive:e.inactive,offline:e.offline,updating:e.updating+e.enrolling+e.unenrolling,unenrolled:e.unenrolled}}function Ae(e){var t;return!!e.package_policies&&((null===(t=e.package_policies)||void 0===t?void 0:t.some((e=>{var t;return(null===(t=e.package)||void 0===t?void 0:t.name)===r.ab})))||!!e.has_fleet_server)}function ke(e){return Ne(e,r.bb)}function Se(e){return Ne(e,r.T)}function Ne(e,t){var n;return!!e.package_policies&&(null===(n=e.package_policies)||void 0===n?void 0:n.some((e=>{var n;return(null===(n=e.package)||void 0===n?void 0:n.name)===t})))}function Re(e){return 1===e.length?e[0].namespace:"default"}var Le=n(30),je=n(27),xe=n.n(je),we=n(40),$e=n.n(we);n(80);const Ce=(e,t,n=!1)=>{const r=fe(t.map((e=>e.local_metadata.elastic.agent.version)));if(r&&e)try{if(!n&&ce()(e,r)&&!Object(z.b)(e,r))return`Cannot upgrade to version ${e} because it is higher than the latest fleet server version ${r}.`;const t=xe()(r)>xe()(e),i=xe()(r)===xe()(e)&&$e()(r)>=$e()(e);if(n&&!t&&!i)return`Cannot force upgrade to version ${e} because it does not satisfy the major and minor of the latest fleet server version ${r}.`}catch(e){return e.message}},Me=(e,t,n=!1)=>{if(0===t.length)return!0;const r=fe(t.map((e=>e.local_metadata.elastic.agent.version)));if(!r||!e)return!1;try{if(!n&&ce()(e,r)&&!Object(z.b)(e,r))return!1;const t=xe()(r)>xe()(e),i=xe()(r)===xe()(e)&&$e()(r)>=$e()(e);if(n&&!t&&!i)return!1}catch(e){return!1}return!0}},function(e,t){e.exports=__kbnSharedDeps__.ElasticEui},function(e,t){e.exports=__kbnSharedDeps__.ReactQuery},function(e,t){e.exports=__kbnSharedDeps__.EmotionReact},function(e,t,n){"use strict";n.d(t,"g",(function(){return a})),n.d(t,"h",(function(){return o})),n.d(t,"A",(function(){return s})),n.d(t,"v",(function(){return u}));var r=n(0);n.d(t,"x",(function(){return r.wb})),n.d(t,"q",(function(){return r.ib})),n.d(t,"z",(function(){return r.Hb})),n.d(t,"e",(function(){return r.m})),n.d(t,"b",(function(){return r.c})),n.d(t,"B",(function(){return r.Kb})),n.d(t,"y",(function(){return r.zb})),n.d(t,"w",(function(){return r.vb})),n.d(t,"n",(function(){return r.ab})),n.d(t,"a",(function(){return r.b})),n.d(t,"i",(function(){return r.C})),n.d(t,"t",(function(){return r.kb})),n.d(t,"f",(function(){return r.r})),n.d(t,"u",(function(){return r.nb})),n.d(t,"l",(function(){return r.U})),n.d(t,"o",(function(){return r.hb})),n.d(t,"d",(function(){return r.l})),n.d(t,"c",(function(){return r.i})),n.d(t,"j",(function(){return r.D}));var i=n(26);n.d(t,"k",(function(){return i.a})),n.d(t,"m",(function(){return i.b})),n.d(t,"p",(function(){return i.c})),n.d(t,"r",(function(){return i.d})),n.d(t,"s",(function(){return i.e})),n.d(t,"C",(function(){return i.f})),r.hb;const a="log",o={IDLE_TIMEOUT:"idle_timeout",READ_TIMEOUT:"read_timeout",SHUTDOWN_TIMEOUT:"shutdown_timeout",TAIL_SAMPLING_INTERVAL:"tail_sampling_interval",WRITE_TIMEOUT:"write_timeout"},s={AGENT_ACTIVITY:"fleet.agentActivityTour",ADD_AGENT_POPOVER:"fleet.addAgentPopoverTour",INACTIVE_AGENTS:"fleet.inactiveAgentsTour",GRANULAR_PRIVILEGES:"fleet.granularPrivileges"},u=800},function(e,t,n){e.exports=n(41)(2)},function(e,t){e.exports=__kbnSharedDeps__.Rxjs},function(e,t){e.exports=__kbnSharedDeps__.KbnI18nReact},function(e,t){e.exports=__kbnSharedDeps__.Lodash},function(e,t,n){"use strict";n.d(t,"vb",(function(){return r.c})),n.d(t,"mb",(function(){return r.a})),n.d(t,"nb",(function(){return r.b})),n.d(t,"xb",(function(){return r.d})),n.d(t,"Bb",(function(){return s})),n.d(t,"Cb",(function(){return u})),n.d(t,"wb",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"r",(function(){return d})),n.d(t,"Rb",(function(){return p})),n.d(t,"Sb",(function(){return f})),n.d(t,"D",(function(){return g})),n.d(t,"C",(function(){return b})),n.d(t,"d",(function(){return m})),n.d(t,"sb",(function(){return E})),n.d(t,"c",(function(){return v})),n.d(t,"Ab",(function(){return _})),n.d(t,"qb",(function(){return h})),n.d(t,"pb",(function(){return T})),n.d(t,"f",(function(){return y})),n.d(t,"tb",(function(){return P})),n.d(t,"n",(function(){return I})),n.d(t,"Zb",(function(){return O})),n.d(t,"Yb",(function(){return A})),n.d(t,"J",(function(){return k})),n.d(t,"Vb",(function(){return S})),n.d(t,"Ub",(function(){return N})),n.d(t,"F",(function(){return R})),n.d(t,"oc",(function(){return L})),n.d(t,"ub",(function(){return j})),n.d(t,"nc",(function(){return x})),n.d(t,"G",(function(){return w})),n.d(t,"Hb",(function(){return $})),n.d(t,"y",(function(){return C})),n.d(t,"Qb",(function(){return M})),n.d(t,"Db",(function(){return D})),n.d(t,"v",(function(){return U})),n.d(t,"q",(function(){return F})),n.d(t,"s",(function(){return G})),n.d(t,"t",(function(){return B})),n.d(t,"P",(function(){return q})),n.d(t,"S",(function(){return V})),n.d(t,"Q",(function(){return K})),n.d(t,"U",(function(){return z})),n.d(t,"R",(function(){return H})),n.d(t,"eb",(function(){return Y})),n.d(t,"W",(function(){return X})),n.d(t,"u",(function(){return Q})),n.d(t,"h",(function(){return W})),n.d(t,"O",(function(){return J})),n.d(t,"V",(function(){return Z})),n.d(t,"p",(function(){return ee})),n.d(t,"X",(function(){return te})),n.d(t,"fb",(function(){return ne})),n.d(t,"gb",(function(){return re})),n.d(t,"T",(function(){return ie})),n.d(t,"w",(function(){return ae})),n.d(t,"Tb",(function(){return oe})),n.d(t,"E",(function(){return se})),n.d(t,"l",(function(){return ue})),n.d(t,"z",(function(){return ce})),n.d(t,"Jb",(function(){return le})),n.d(t,"e",(function(){return de})),n.d(t,"Eb",(function(){return pe.i})),n.d(t,"fc",(function(){return pe.r})),n.d(t,"Fb",(function(){return pe.j})),n.d(t,"cc",(function(){return pe.p})),n.d(t,"dc",(function(){return pe.q})),n.d(t,"K",(function(){return pe.e})),n.d(t,"Xb",(function(){return pe.m})),n.d(t,"ac",(function(){return pe.n})),n.d(t,"bc",(function(){return pe.o})),n.d(t,"I",(function(){return pe.d})),n.d(t,"Lb",(function(){return pe.k})),n.d(t,"B",(function(){return pe.c})),n.d(t,"N",(function(){return pe.f})),n.d(t,"b",(function(){return pe.a})),n.d(t,"lb",(function(){return pe.g})),n.d(t,"ob",(function(){return pe.h})),n.d(t,"mc",(function(){return pe.t})),n.d(t,"ic",(function(){return pe.s})),n.d(t,"x",(function(){return pe.b})),n.d(t,"Pb",(function(){return pe.l})),n.d(t,"g",(function(){return fe})),n.d(t,"Wb",(function(){return ge})),n.d(t,"zb",(function(){return be})),n.d(t,"kb",(function(){return me})),n.d(t,"cb",(function(){return Ee})),n.d(t,"db",(function(){return ve})),n.d(t,"m",(function(){return _e})),n.d(t,"H",(function(){return he})),n.d(t,"hc",(function(){return Te})),n.d(t,"gc",(function(){return ye})),n.d(t,"M",(function(){return Pe})),n.d(t,"lc",(function(){return Ie})),n.d(t,"Kb",(function(){return Ae})),n.d(t,"A",(function(){return ke})),n.d(t,"rb",(function(){return Se})),n.d(t,"Ob",(function(){return Ne})),n.d(t,"L",(function(){return Re})),n.d(t,"o",(function(){return Le})),n.d(t,"kc",(function(){return je})),n.d(t,"jc",(function(){return xe})),n.d(t,"ec",(function(){return we})),n.d(t,"Gb",(function(){return $e})),n.d(t,"Ib",(function(){return Ce})),n.d(t,"yb",(function(){return Me})),n.d(t,"hb",(function(){return De})),n.d(t,"Y",(function(){return Ue})),n.d(t,"i",(function(){return Fe})),n.d(t,"Nb",(function(){return Be})),n.d(t,"k",(function(){return qe})),n.d(t,"jb",(function(){return Ve})),n.d(t,"ab",(function(){return Ke})),n.d(t,"Mb",(function(){return ze})),n.d(t,"j",(function(){return He})),n.d(t,"Z",(function(){return Ye})),n.d(t,"ib",(function(){return Xe})),n.d(t,"bb",(function(){return Qe}));var r=n(2),i=n(7),a=n(3),o=n(0);const s=e=>Object(r.e)({path:a.c.getListPath(),method:"get",query:e,version:o.o.public.v1}),u=(e,t)=>Object(i.useQuery)({queryKey:["agentPolicies",e],queryFn:()=>Object(r.b)({path:a.c.getListPath(),method:"get",query:e,version:o.o.public.v1}),enabled:null==t?void 0:t.enabled}),c=(e,t)=>Object(i.useQuery)(["agentPolicies",e],(()=>Object(r.b)({path:a.c.getBulkGetPath(),method:"post",body:JSON.stringify({ids:e,full:null==t?void 0:t.full}),version:o.o.public.v1}))),l=(e,t)=>Object(r.a)({path:a.c.getBulkGetPath(),method:"post",body:JSON.stringify({ids:e,full:null==t?void 0:t.full}),version:o.o.public.v1}),d=e=>Object(r.a)({path:a.c.getListPath(),method:"get",query:e,version:o.o.public.v1}),p=e=>Object(r.d)({path:e?a.c.getInfoPath(e):void 0,method:"get",shouldSendRequest:!!e,version:o.o.public.v1}),f=e=>Object(r.e)({path:a.c.getInfoFullPath(e),method:"get",version:o.o.public.v1}),g=(e,t={})=>Object(r.a)({path:a.c.getInfoFullPath(e),method:"get",query:t,version:o.o.public.v1}),b=e=>Object(r.a)({path:a.c.getInfoPath(e),method:"get",version:o.o.public.v1}),m=(e,{withSysMonitoring:t}={withSysMonitoring:!1})=>Object(r.a)({path:a.c.getCreatePath(),method:"post",body:JSON.stringify(e),query:t?{sys_monitoring:!0}:{},version:o.o.public.v1}),E=(e,t)=>Object(r.a)({path:a.c.getUpdatePath(e),method:"put",body:JSON.stringify(t),version:o.o.public.v1}),v=(e,t)=>Object(r.a)({path:a.c.getCopyPath(e),method:"post",body:JSON.stringify(t)});function _(){const e=Object(i.useQueryClient)();return Object(i.useMutation)({mutationFn:function(e){return Object(r.a)({path:a.c.getDeletePath(),method:"post",body:JSON.stringify(e),version:o.o.public.v1})},onSuccess:()=>e.invalidateQueries(["agentPolicies"])})}const h=e=>Object(r.a)({path:a.c.getResetOnePreconfiguredAgentPolicyPath(e),method:"post",body:JSON.stringify({}),version:o.o.internal.v1}),T=()=>Object(r.a)({path:a.c.getResetAllPreconfiguredAgentPolicyPath(),method:"post",body:JSON.stringify({}),version:o.o.internal.v1}),y=e=>Object(r.a)({path:a.w.getCreatePath(),method:"post",version:o.o.public.v1,body:JSON.stringify(e)}),P=(e,t)=>Object(r.a)({path:a.w.getUpdatePath(e),method:"put",version:o.o.public.v1,body:JSON.stringify(t)}),I=e=>Object(r.a)({path:a.w.getDeletePath(),method:"post",version:o.o.public.v1,body:JSON.stringify(e)});function O(e){return Object(i.useQuery)(["packagePolicies"],(()=>Object(r.b)({method:"get",version:o.o.public.v1,path:a.w.getListPath(),query:e})))}function A(e){return Object(r.e)({method:"get",version:o.o.public.v1,path:a.w.getListPath(),query:e})}const k=e=>Object(r.a)({method:"get",version:o.o.public.v1,path:a.w.getListPath(),query:e}),S=e=>Object(i.useQuery)(["packagePolicy",e],(()=>Object(r.b)({method:"get",version:o.o.public.v1,path:a.w.getInfoPath(e)}))),N=e=>Object(r.e)({path:a.w.getInfoPath(e),method:"get",version:o.o.public.v1}),R=e=>Object(r.a)({path:a.w.getInfoPath(e),method:"get",version:o.o.public.v1});function L(e,t,{enabled:n}={}){const s={packagePolicyIds:e};return t&&(s.packageVersion=t),Object(i.useQuery)(["upgradePackagePolicyDryRun",e,t],(()=>Object(r.b)({path:a.w.getDryRunPath(),method:"post",version:o.o.public.v1,body:JSON.stringify(s)})),{enabled:n})}function j(e,t){const n={packagePolicyIds:e};return t&&(n.packageVersion=t),Object(r.a)({path:a.w.getDryRunPath(),method:"post",version:o.o.public.v1,body:JSON.stringify(n)})}function x(){return Object(i.useMutation)((({packagePolicyIds:e})=>Object(r.b)({path:a.w.getUpgradePath(),method:"post",version:o.o.public.v1,body:JSON.stringify({packagePolicyIds:e})})),{retry:!1})}function w(){return Object(r.a)({path:a.w.getOrphanedIntegrationPoliciesPath(),method:"get",version:o.o.public.v1})}const $=()=>Object(r.e)({path:a.g.getListPath(),method:"get",version:o.o.public.v1}),C=async()=>{const e=await Object(r.a)({path:a.g.getListPath(),method:"get"});if(e.error)throw e.error;return e.data};function M(e,t){return Object(r.e)({path:a.d.getInfoPath(e),method:"get",version:o.o.public.v1,...t})}function D(e,t={}){return Object(i.useQuery)(["agents",e],(()=>U(e)),{enabled:t.enabled})}function U(e,t){return Object(r.a)({method:"get",path:a.d.getListPath(),version:o.o.public.v1,query:e,...t})}function F(e){return Object(r.a)({method:"get",path:a.d.getIncomingDataPath(),query:e,version:o.o.public.v1})}function G(e,t){return Object(r.a)({method:"get",path:a.d.getStatusPath(),query:e,version:o.o.public.v1,...t})}function B(e,t){return Object(r.a)({method:"get",path:a.d.getListTagsPath(),query:e,version:o.o.public.v1,...t})}function q(e,t,n){return Object(r.a)({method:"post",path:a.d.getReassignPath(e),body:t,version:o.o.public.v1,...n})}function V(e,t){return Object(r.a)({method:"post",path:a.d.getBulkReassignPath(),body:e,version:o.o.public.v1,...t})}function K(e,t,n){return Object(r.a)({path:a.d.getUnenrollPath(e),method:"post",body:t,version:o.o.public.v1,...n})}function z(e,t){return Object(r.a)({path:a.d.getBulkUnenrollPath(),method:"post",body:e,version:o.o.public.v1,...t})}function H(e,t,n){return Object(r.a)({path:a.d.getUpgradePath(e),method:"post",body:t,version:o.o.public.v1,...n})}function Y(e,t,n){return Object(r.a)({path:a.d.getRequestDiagnosticsPath(e),method:"post",body:t,version:o.o.public.v1,...n})}function X(e,t){return Object(r.a)({path:a.d.getBulkRequestDiagnosticsPath(),method:"post",body:e,version:o.o.public.v1,...t})}function Q(e,t){return Object(r.a)({path:a.d.getListAgentUploads(e),method:"get",version:o.o.public.v1,...t})}function W(e,t){return Object(r.a)({path:a.d.getAgentFileDeletePath(e),method:"delete",version:o.o.public.v1,...t})}function J(e,t,n){return Object(r.a)({path:a.d.getCreateActionPath(e),method:"post",body:t,version:o.o.public.v1,...n})}function Z(e,t){return Object(r.a)({path:a.d.getBulkUpgradePath(),method:"post",body:e,version:o.o.public.v1,...t})}function ee(e={}){return Object(r.a)({path:a.d.getActionStatusPath(),method:"get",version:o.o.public.v1,query:e})}function te(e){return Object(r.a)({path:a.d.getCancelActionPath(e),method:"post",version:o.o.public.v1})}function ne(e){return Object(r.a)({path:a.d.getAgentsByActionsPath(),method:"post",version:o.o.public.v1,body:e})}function re(e,t,n){return Object(r.a)({method:"put",path:a.d.getUpdatePath(e),body:t,version:o.o.public.v1,...n})}function ie(e,t){return Object(r.a)({method:"post",path:a.d.getBulkUpdateTagsPath(),body:e,version:o.o.public.v1,...t})}function ae(){return Object(r.a)({method:"get",path:a.d.getAvailableVersionsPath(),version:o.o.public.v1})}function oe(e){return Object(r.d)({method:"get",path:e?a.k.getInfoPath(e):void 0,shouldSendRequest:!!e,version:o.o.public.v1})}function se(e,t){return Object(r.a)({method:"get",path:a.k.getInfoPath(e),version:o.o.public.v1,...t})}function ue(e,t){return Object(r.a)({method:"delete",path:a.k.getDeletePath(e),version:o.o.public.v1,...t})}function ce(e,t){return Object(r.a)({method:"get",path:a.k.getListPath(),version:o.o.public.v1,query:e,...t})}function le(e,t){return Object(r.e)({method:"get",path:a.k.getListPath(),version:o.o.public.v1,query:e,...t})}function de(e){return Object(r.a)({method:"post",path:a.k.getCreatePath(),version:o.o.public.v1,body:e})}var pe=n(47);function fe(e){return Object(r.a)({method:"post",path:o.s,version:o.o.internal.v1,body:e})}function ge(){return Object(r.e)({method:"get",path:a.v.getListPath(),version:o.o.public.v1})}function be(){var e;const t=ge();return{output:null===(e=t.data)||void 0===e?void 0:e.items.find((e=>e.is_default)),refresh:t.resendRequest}}function me(e,t){return Object(r.a)({method:"put",path:a.v.getUpdatePath(e),version:o.o.public.v1,body:t})}function Ee(){return Object(r.a)({method:"post",path:a.v.getCreateLogstashApiKeyPath(),version:o.o.public.v1})}function ve(e){return Object(r.a)({method:"post",path:a.v.getCreatePath(),version:o.o.public.v1,body:e})}function _e(e){return Object(r.a)({method:"delete",path:a.v.getDeletePath(e),version:o.o.public.v1})}function he(e){return Object(r.a)({method:"get",path:a.v.getOutputHealthPath(e),version:o.o.public.v1})}function Te(e){return Object(i.useQuery)({queryKey:["settings"],enabled:null==e?void 0:e.enabled,queryFn:()=>Object(r.b)({method:"get",path:a.A.getInfoPath(),version:o.o.public.v1})})}function ye(){return Object(r.e)({method:"get",path:a.A.getInfoPath(),version:o.o.public.v1})}function Pe(){return Object(r.a)({method:"get",path:a.A.getInfoPath(),version:o.o.public.v1})}function Ie(){const e=Object(i.useQueryClient)();return Object(i.useMutation)({mutationFn:Oe,onSuccess:()=>{e.invalidateQueries(["settings"])}})}function Oe(e){return Object(r.a)({method:"put",path:a.A.getUpdatePath(),version:o.o.public.v1,body:e})}function Ae(e){return Object(r.e)({method:"get",path:a.A.getEnrollmentInfoPath(),version:o.o.public.v1,query:e})}function ke(e){return Object(r.a)({method:"get",path:a.A.getEnrollmentInfoPath(),version:o.o.public.v1,query:e})}const Se=()=>Object(r.a)({path:a.B.getSetupPath(),method:"post",version:o.o.public.v1}),Ne=()=>Object(i.useQuery)(["fleetStatus"],(()=>Object(r.b)({path:a.m.getFleetSetupPath(),method:"get",version:o.o.public.v1}))),Re=e=>Object(r.a)({path:a.e.getCheckPermissionsPath(),method:"get",query:{fleetServerSetup:e},version:o.o.public.v1}),Le=e=>Object(r.a)({path:a.e.getRegenerateServiceTokenPath(),method:"post",query:{remote:e},version:o.o.public.v1}),je=()=>Object(i.useQuery)(["permissionsCheck"],(()=>Object(r.b)({path:a.e.getCheckPermissionsPath(),method:"get",version:o.o.public.v1}))),xe=()=>Object(r.e)({path:a.e.getCheckPermissionsPath(),method:"get",version:o.o.public.v1}),we=e=>Object(r.e)({path:`/api/ingest_pipelines/${e}`,method:"get"}),$e=e=>Object(i.useQuery)({queryKey:["component_templates",e],queryFn:async()=>{const{data:t,error:n}=await Object(r.a)({path:`/api/index_management/component_templates/${e}`,method:"get"});if(n)throw n;return t},retry:(e,t)=>!(e>3||t&&404===t.statusCode)});function Ce(){return Object(r.e)({method:"get",path:a.j.getListPath(),version:o.o.public.v1})}function Me(){var e;const t=Ce();return{downloadSource:null===(e=t.data)||void 0===e?void 0:e.items.find((e=>e.is_default)),refresh:t.resendRequest}}function De(e,t){return Object(r.a)({method:"put",path:a.j.getUpdatePath(e),version:o.o.public.v1,body:t})}function Ue(e){return Object(r.a)({method:"post",path:a.j.getCreatePath(),version:o.o.public.v1,body:e})}function Fe(e){return Object(r.a)({method:"delete",path:a.j.getDeletePath(e),version:o.o.public.v1})}var Ge=n(5);function Be(){return Object(r.e)({method:"get",path:Ge.t.getListPath(),version:o.o.public.v1})}function qe(e){return Object(r.a)({method:"delete",path:Ge.t.getDeletePath(e),version:o.o.public.v1})}function Ve(e,t){return Object(r.a)({method:"put",path:Ge.t.getUpdatePath(e),version:o.o.public.v1,body:t})}function Ke(e){return Object(r.a)({method:"post",path:Ge.t.getCreatePath(),version:o.o.public.v1,body:e})}function ze(){return Object(r.e)({method:"get",path:Ge.s.getListPath(),version:o.o.public.v1})}function He(e){return Object(r.a)({method:"delete",path:Ge.s.getDeletePath(e),version:o.o.public.v1})}function Ye(e){return Object(r.a)({method:"post",path:Ge.s.getCreatePath(),body:e,version:o.o.public.v1})}function Xe(e,t){return Object(r.a)({method:"put",path:Ge.s.getUpdatePath(e),version:o.o.public.v1,body:t})}function Qe(e){return Object(r.a)({method:"post",path:a.e.postHealthCheckPath(),version:o.o.public.v1,body:e})}},function(e,t,n){"use strict";n.d(t,"Ib",(function(){return r.a})),n.d(t,"Xc",(function(){return i.a})),n.d(t,"b",(function(){return s})),n.d(t,"Mb",(function(){return u})),n.d(t,"e",(function(){return c})),n.d(t,"Ic",(function(){return l})),n.d(t,"i",(function(){return p})),n.d(t,"Jc",(function(){return f})),n.d(t,"Kc",(function(){return m})),n.d(t,"Nc",(function(){return h})),n.d(t,"Oc",(function(){return y})),n.d(t,"dd",(function(){return A})),n.d(t,"Wc",(function(){return S})),n.d(t,"wb",(function(){return N.mb})),n.d(t,"xb",(function(){return N.nb})),n.d(t,"Lb",(function(){return N.xb})),n.d(t,"Wb",(function(){return N.Bb})),n.d(t,"Xb",(function(){return N.Cb})),n.d(t,"Jb",(function(){return N.wb})),n.d(t,"j",(function(){return N.a})),n.d(t,"A",(function(){return N.r})),n.d(t,"lc",(function(){return N.Rb})),n.d(t,"mc",(function(){return N.Sb})),n.d(t,"N",(function(){return N.D})),n.d(t,"M",(function(){return N.C})),n.d(t,"m",(function(){return N.d})),n.d(t,"Cb",(function(){return N.sb})),n.d(t,"l",(function(){return N.c})),n.d(t,"Qb",(function(){return N.Ab})),n.d(t,"Ab",(function(){return N.qb})),n.d(t,"zb",(function(){return N.pb})),n.d(t,"o",(function(){return N.f})),n.d(t,"Db",(function(){return N.tb})),n.d(t,"w",(function(){return N.n})),n.d(t,"tc",(function(){return N.Zb})),n.d(t,"sc",(function(){return N.Yb})),n.d(t,"T",(function(){return N.J})),n.d(t,"pc",(function(){return N.Vb})),n.d(t,"oc",(function(){return N.Ub})),n.d(t,"P",(function(){return N.F})),n.d(t,"cd",(function(){return N.oc})),n.d(t,"Eb",(function(){return N.ub})),n.d(t,"bd",(function(){return N.nc})),n.d(t,"Q",(function(){return N.G})),n.d(t,"cc",(function(){return N.Hb})),n.d(t,"I",(function(){return N.y})),n.d(t,"kc",(function(){return N.Qb})),n.d(t,"Yb",(function(){return N.Db})),n.d(t,"E",(function(){return N.v})),n.d(t,"z",(function(){return N.q})),n.d(t,"B",(function(){return N.s})),n.d(t,"C",(function(){return N.t})),n.d(t,"Z",(function(){return N.P})),n.d(t,"cb",(function(){return N.S})),n.d(t,"ab",(function(){return N.Q})),n.d(t,"eb",(function(){return N.U})),n.d(t,"bb",(function(){return N.R})),n.d(t,"ob",(function(){return N.eb})),n.d(t,"gb",(function(){return N.W})),n.d(t,"D",(function(){return N.u})),n.d(t,"q",(function(){return N.h})),n.d(t,"Y",(function(){return N.O})),n.d(t,"fb",(function(){return N.V})),n.d(t,"y",(function(){return N.p})),n.d(t,"hb",(function(){return N.X})),n.d(t,"pb",(function(){return N.fb})),n.d(t,"qb",(function(){return N.gb})),n.d(t,"db",(function(){return N.T})),n.d(t,"F",(function(){return N.w})),n.d(t,"nc",(function(){return N.Tb})),n.d(t,"O",(function(){return N.E})),n.d(t,"u",(function(){return N.l})),n.d(t,"J",(function(){return N.z})),n.d(t,"ec",(function(){return N.Jb})),n.d(t,"n",(function(){return N.e})),n.d(t,"Zb",(function(){return N.Eb})),n.d(t,"zc",(function(){return N.fc})),n.d(t,"ac",(function(){return N.Fb})),n.d(t,"wc",(function(){return N.cc})),n.d(t,"xc",(function(){return N.dc})),n.d(t,"U",(function(){return N.K})),n.d(t,"rc",(function(){return N.Xb})),n.d(t,"uc",(function(){return N.ac})),n.d(t,"vc",(function(){return N.bc})),n.d(t,"S",(function(){return N.I})),n.d(t,"gc",(function(){return N.Lb})),n.d(t,"L",(function(){return N.B})),n.d(t,"X",(function(){return N.N})),n.d(t,"k",(function(){return N.b})),n.d(t,"vb",(function(){return N.lb})),n.d(t,"yb",(function(){return N.ob})),n.d(t,"ad",(function(){return N.mc})),n.d(t,"Dc",(function(){return N.ic})),n.d(t,"H",(function(){return N.x})),n.d(t,"jc",(function(){return N.Pb})),n.d(t,"p",(function(){return N.g})),n.d(t,"qc",(function(){return N.Wb})),n.d(t,"Pb",(function(){return N.zb})),n.d(t,"ub",(function(){return N.kb})),n.d(t,"mb",(function(){return N.cb})),n.d(t,"nb",(function(){return N.db})),n.d(t,"v",(function(){return N.m})),n.d(t,"R",(function(){return N.H})),n.d(t,"Bc",(function(){return N.hc})),n.d(t,"Ac",(function(){return N.gc})),n.d(t,"W",(function(){return N.M})),n.d(t,"Sc",(function(){return N.lc})),n.d(t,"fc",(function(){return N.Kb})),n.d(t,"K",(function(){return N.A})),n.d(t,"Bb",(function(){return N.rb})),n.d(t,"V",(function(){return N.L})),n.d(t,"x",(function(){return N.o})),n.d(t,"Qc",(function(){return N.kc})),n.d(t,"Pc",(function(){return N.jc})),n.d(t,"yc",(function(){return N.ec})),n.d(t,"bc",(function(){return N.Gb})),n.d(t,"dc",(function(){return N.Ib})),n.d(t,"Ob",(function(){return N.yb})),n.d(t,"rb",(function(){return N.hb})),n.d(t,"ib",(function(){return N.Y})),n.d(t,"r",(function(){return N.i})),n.d(t,"ic",(function(){return N.Nb})),n.d(t,"t",(function(){return N.k})),n.d(t,"tb",(function(){return N.jb})),n.d(t,"kb",(function(){return N.ab})),n.d(t,"hc",(function(){return N.Mb})),n.d(t,"s",(function(){return N.j})),n.d(t,"jb",(function(){return N.Z})),n.d(t,"sb",(function(){return N.ib})),n.d(t,"lb",(function(){return N.bb})),n.d(t,"fd",(function(){return R})),n.d(t,"Cc",(function(){return L})),n.d(t,"Uc",(function(){return j})),n.d(t,"Tc",(function(){return x})),n.d(t,"Yc",(function(){return w})),n.d(t,"Kb",(function(){return C})),n.d(t,"Hc",(function(){return M})),n.d(t,"Mc",(function(){return D})),n.d(t,"Vc",(function(){return U})),n.d(t,"ed",(function(){return O})),n.d(t,"c",(function(){return G})),n.d(t,"Ub",(function(){return B})),n.d(t,"h",(function(){return q})),n.d(t,"Zc",(function(){return V})),n.d(t,"Ec",(function(){return K})),n.d(t,"g",(function(){return H})),n.d(t,"f",(function(){return Y})),n.d(t,"Rc",(function(){return X})),n.d(t,"a",(function(){return Q})),n.d(t,"Gb",(function(){return W})),n.d(t,"Gc",(function(){return ne})),n.d(t,"Fb",(function(){return re})),n.d(t,"d",(function(){return ae})),n.d(t,"Vb",(function(){return oe})),n.d(t,"Fc",(function(){return le})),n.d(t,"Sb",(function(){return de})),n.d(t,"Tb",(function(){return pe})),n.d(t,"Nb",(function(){return fe.a})),n.d(t,"Rb",(function(){return fe.b})),n.d(t,"Hb",(function(){return me})),n.d(t,"G",(function(){return Ee})),n.d(t,"Lc",(function(){return he}));var r=n(44),i=n(18),a=n(1),o=n.n(a);const s=o.a.createContext(null);function u(){const e=Object(a.useContext)(s);if(null===e)throw new Error("ConfigContext not initialized");return e}const c=o.a.createContext(null);function l(){const e=Object(a.useContext)(c);if(null===e)throw new Error("KibanaVersionContext is not initialized");return e}var d=n(5);const p=new d.d;function f(){return p}var g=n(9);const b=(e,t={})=>t?g.C[e](t):g.C[e](),m=()=>{const e=Object(i.a)();return{getPath:(e,t={})=>b(e,t)[1],getAbsolutePath:t=>e.http.basePath.prepend(`${t}`),getAssetsPath:t=>e.http.basePath.prepend(`/plugins/${g.x}/assets/${t}`),getHref:(t,n)=>{const[r,i]=b(t,n);return e.http.basePath.prepend(`${r}${i}`)}}};var E=n(6),v=n(71);const _=new Map,h=({packageName:e,integrationName:t,version:n,icons:r,tryApi:i=!1})=>{var o;const{toPackageImage:s}=Object(v.a)(),[u,c]=Object(a.useState)(),[l,d]=Object(a.useState)(""),p=`${e}-${n}${t?`-${t}`:""}`;return Object(a.useEffect)((()=>{var t;if(_.has(p))return void d(_.get(p)||"");const a=null===(t=r&&r.length?r:u)||void 0===t?void 0:t.filter((e=>"image/svg+xml"===e.type)),o=Array.isArray(a)&&s(a[0],e,n);if(o)return _.set(p,o),void d(_.get(p)||"");const l=E.ICON_TYPES.find((t=>t.toLowerCase()===`logo${e}`));if(l)return _.set(p,l),void d(l);!i||r||u||Object(N.I)(e,n).catch((e=>{})).then((e=>{var t,n;_.delete(p),c(null==e||null===(t=e.data)||void 0===t||null===(n=t.item)||void 0===n?void 0:n.icons)})),_.set(p,"package"),d("package")}),[r,p,s,u,e,l,i,n]),""!==l?l:null!==(o=_.get(p))&&void 0!==o?o:l},T=[5,20,50];function y(e={currentPage:1,pageSize:20}){const[t,n]=Object(a.useState)(e);return{pagination:t,setPagination:n,pageSizeOptions:Object(a.useMemo)((()=>[...T]),[])}}var P=n(22),I=n(29);function O(){const{search:e}=Object(P.useLocation)(),[t,n]=Object(a.useState)((()=>Object(I.parse)(e))),r=Object(a.useCallback)(((e=t)=>Object(I.stringify)(e)),[t]);return Object(a.useEffect)((()=>{n(Object(I.parse)(e))}),[e]),{urlParams:t,toUrlParams:r}}const A=()=>{const e=Object(P.useLocation)(),t=Object(P.useHistory)(),{urlParams:n,toUrlParams:r}=O(),i=Object(a.useMemo)((()=>k(n)),[n]),{pagination:o,pageSizeOptions:s,setPagination:u}=y(i),c=Object(a.useCallback)((({pageSize:i,currentPage:a})=>{t.push({...e,search:r({...n,currentPage:a,pageSize:i})})}),[t,e,r,n]);return Object(a.useEffect)((()=>{u((e=>({...e,...k(n)})))}),[u,n]),{pagination:o,setPagination:c,pageSizeOptions:s}},k=e=>{var t,n,r;const i={pageSize:20,currentPage:1};return i.currentPage=Number(null!==(t=Array.isArray(e.currentPage)?e.currentPage.pop():e.currentPage)&&void 0!==t?t:i.currentPage),i.pageSize=null!==(n=Number(null!==(r=Array.isArray(e.pageSize)?e.pageSize.pop():e.pageSize)&&void 0!==r?r:i.pageSize))&&void 0!==n?n:i.pageSize,(!Number.isFinite(i.currentPage)||i.currentPage<1)&&(i.currentPage=1),T.includes(i.pageSize)||(i.pageSize=20),i};function S(e){const[t,n]=Object(a.useState)(e);return{sorting:t,setSorting:n}}var N=n(14);function R(e){return Object.values(e).reduce(((e,t)=>{const n=t.validate();return!1===e?e:n}),!0)}function L(e="",t,n=!1){const[r,i]=Object(a.useState)(e),[o,s]=Object(a.useState)(),[u,c]=Object(a.useState)(!1),l=Object(a.useCallback)((e=>{const n=e.target.value;i(n),o&&t&&void 0===t(n)&&s(void 0)}),[o,t]);Object(a.useEffect)((()=>{u||r!==e&&c(!0)}),[u,r,e]);const d=void 0!==o;return{value:r,errors:o,props:{onChange:l,value:r,isInvalid:d,disabled:n},formRowProps:{error:o,isInvalid:d},clear:()=>{i("")},validate:()=>{if(t){const e=t(r);return s(e),void 0===e}return!0},setValue:i,hasChanged:u}}function j(e,t,n=!1){const[r,i]=Object(a.useState)(e),[o,s]=Object(a.useState)(),[u,c]=Object(a.useState)(!1),l=Object(a.useCallback)((e=>{const n=e.target.value;i(n),o&&t&&void 0===t(n)&&s(void 0)}),[o,t]);Object(a.useEffect)((()=>{u||r!==e&&c(!0)}),[u,r,e]);const d=void 0!==o;return{value:r,errors:o,props:{onChange:l,value:"string"==typeof r?r:"",isInvalid:d,disabled:n},formRowProps:{error:o,isInvalid:d,initialValue:e,disabled:n,clear:()=>{i("")}},cancelEdit:()=>{i(e||"")},validate:()=>{if(t){const e=t(r);return s(e),void 0===e}return!0},setValue:i,hasChanged:u}}function x(e,t=!1){const[n,r]=Object(a.useState)(e),[i,o]=Object(a.useState)(!1);Object(a.useEffect)((()=>{i||n!==e&&o(!0)}),[i,n,e]);const s=Object(a.useCallback)(r,[r]);return{props:{idSelected:n,onChange:s,disabled:t},setValue:r,value:n,hasChanged:i}}function w(e=!1,t=!1){const[n,r]=Object(a.useState)(e),[i,o]=Object(a.useState)(!1);Object(a.useEffect)((()=>{i||n!==e&&o(!0)}),[i,n,e]);const s=Object(a.useCallback)((()=>!0),[]);return{value:n,props:{onChange:e=>{const t=e.target.checked;r(t)},checked:n,disabled:t},validate:s,formRowProps:{},setValue:r,hasChanged:i}}function $(e,t,n,r=!1){const[i,o]=Object(a.useState)(t),[s,u]=Object(a.useState)(),[c,l]=Object(a.useState)(!1);Object(a.useEffect)((()=>{c||JSON.stringify(i)!==JSON.stringify(t)&&l(!0)}),[c,i,t]);const d=void 0!==s,p=Object(a.useCallback)((()=>{if(n){const e=n(i);return u(e),void 0===e}return!0}),[n,i]),f=Object(a.useCallback)((e=>{o(e),s&&n&&u(n(e))}),[n,s]);return{props:{id:e,value:i,onChange:f,errors:s,isInvalid:d,disabled:r},formRowProps:{error:s,isInvalid:d},value:i,clear:()=>{o(t)},setValue:o,validate:p,hasChanged:c}}function C(e,t=[],n,r=!1){return $(e,t,n,r)}function M(e,t=[],n,r=!1){return $(e,t,n,r)}function D(e,t,n=!1){const[r,i]=Object(a.useState)(e),[o,s]=Object(a.useState)(),[u,c]=Object(a.useState)(!1),l=Object(a.useCallback)((e=>{const n=e.target.value?Number(e.target.value):void 0;i(n),n&&o&&t&&void 0===t(n)&&s(void 0)}),[o,t]);Object(a.useEffect)((()=>{u||r!==e&&c(!0)}),[u,r,e]);const d=void 0!==o;return{value:r,errors:o,props:{onChange:l,value:r,isInvalid:d,disabled:n},formRowProps:{error:o,isInvalid:d},clear:()=>{i(void 0)},validate:()=>{if(t&&r){const e=t(r);return s(e),void 0===e}return!0},setValue:i,hasChanged:u}}function U(e,t="",n=!1){const[r,i]=Object(a.useState)(t);return{props:{options:e,value:r,onChange:Object(a.useCallback)((e=>{i(e.target.value)}),[]),disabled:n},value:r,clear:()=>{i("")},setValue:i}}const F=o.a.createContext(void 0),G=({defaultFleetStatus:e,children:t})=>{var n,r;const s=u(),{spaces:c}=Object(i.a)(),[l,d]=Object(a.useState)(),[p,f]=Object(a.useState)(!1),{data:g,isLoading:b,refetch:m}=Object(N.Ob)();Object(a.useEffect)((()=>{(async()=>{if(c){const e=await c.getActiveSpace();d(e.id)}})()}),[c]);const E={...e,enabled:s.agents.enabled,isLoading:b,isReady:null!==(n=null!==(r=!b&&(null==g?void 0:g.isReady))&&void 0!==r?r:null==e?void 0:e.isReady)&&void 0!==n&&n,missingRequirements:null==g?void 0:g.missing_requirements,missingOptionalFeatures:null==g?void 0:g.missing_optional_features,isSecretsStorageEnabled:null==g?void 0:g.is_secrets_storage_enabled,spaceId:l};return o.a.createElement(F.Provider,{value:{...E,refetch:m,forceDisplayInstructions:p,setForceDisplayInstructions:f}},t)};function B(){const e=Object(a.useContext)(F);if(!e)throw new Error("FleetStatusContext not set");return e}const q=o.a.createContext({}),V=(e,t)=>{var n;const r=Object(a.useContext)(q);if(!r)throw new Error("useUIExtension called outside of UIExtensionsContext");const i=null==r||null===(n=r[e])||void 0===n?void 0:n[t];if(i)return i};function K(){return Object(P.useLocation)().state}var z=n(4);const H=[{id:"linux",label:z.i18n.translate("xpack.fleet.enrollmentInstructions.platformButtons.linux",{defaultMessage:"Linux Tar"}),"data-test-subj":"platformTypeLinux"},{id:"mac",label:z.i18n.translate("xpack.fleet.enrollmentInstructions.platformButtons.mac",{defaultMessage:"Mac"}),"data-test-subj":"platformTypeMac"},{id:"windows",label:z.i18n.translate("xpack.fleet.enrollmentInstructions.platformButtons.windows",{defaultMessage:"Windows"}),"data-test-subj":"platformTypeWindows"},{id:"rpm",label:z.i18n.translate("xpack.fleet.enrollmentInstructions.platformButtons.linux.rpm",{defaultMessage:"RPM"}),"data-test-subj":"platformTypeLinuxRpm"},{id:"deb",label:z.i18n.translate("xpack.fleet.enrollmentInstructions.platformButtons.linux.deb",{defaultMessage:"DEB"}),"data-test-subj":"platformTypeLinuxDeb"}],Y=[...H,{id:"kubernetes",label:z.i18n.translate("xpack.fleet.enrollmentInstructions.platformButtons.kubernetes",{defaultMessage:"Kubernetes"}),"data-test-subj":"platformTypeKubernetes"}];function X(e="linux"){const[t,n]=Object(a.useState)(e);return{platform:t,setPlatform:n}}z.i18n.translate("xpack.fleet.enrollmentInstructions.platformButtons.googleCloudShell",{defaultMessage:"Google Cloud Shell Script"});const Q=o.a.createContext({refresh:()=>{}});function W(){return o.a.useContext(Q).refresh}var J=n(23),Z=n.n(J),ee=n(0),te=n(47);const ne=()=>{const{data:e,isLoading:t}=Object(te.p)({prerelease:!0}),n=Object(a.useMemo)((()=>((null==e?void 0:e.items)||[]).filter((e=>e.status===ee.Ob.Installed))),[null==e?void 0:e.items]);return{isPackagePolicyUpgradable:Object(a.useCallback)((e=>{var t;if(!e.package)return!1;const{name:r,version:i}=e.package,a=n.find((e=>{var t;return"installationInfo"in e&&(null===(t=e.installationInfo)||void 0===t?void 0:t.name)===r}));return!(null==a||null===(t=a.installationInfo)||void 0===t||!t.version||!Z()(i,a.installationInfo.version))}),[n]),isLoadingPackages:t}};function re(){var e;const t=Object(r.a)(),{data:n,isInitialRequest:i,isLoading:o,resendRequest:s}=Object(N.Bb)({page:1,perPage:g.z,full:t.fleet.readAgentPolicies}),{data:u,isInitialRequest:c,isLoading:l,resendRequest:d}=Object(N.Kb)();return{agentPolicies:Object(a.useMemo)((()=>{if(!o||!l){var e,t;const r=null==u||null===(e=u.fleet_server)||void 0===e?void 0:e.policies.map((e=>e.id));return(null!==(t=null==n?void 0:n.items)&&void 0!==t?t:[]).filter((e=>!(null!=r&&r.includes(e.id))))}return[]}),[o,l,null==u||null===(e=u.fleet_server)||void 0===e?void 0:e.policies,null==n?void 0:n.items]),refreshAgentPolicies:()=>{s(),d()},isLoadingInitialAgentPolicies:i||c,isLoadingAgentPolicies:o||l}}const ie=Object(a.createContext)(void 0),ae=({children:e})=>{const[t,n]=Object(a.useState)(!1),[r,i]=Object(a.useState)(!1);return o.a.createElement(ie.Provider,{value:{isEnrollmentFlyoutOpen:t,openEnrollmentFlyout:()=>{n(!0)},closeEnrollmentFlyout:()=>n(!1),isFleetServerFlyoutOpen:r,openFleetServerFlyout:()=>i(!0),closeFleetServerFlyout:()=>i(!1)}},e)},oe=()=>{const e=Object(a.useContext)(ie);if(!e)throw new Error("useFlyoutContext must be used within a FlyoutContextProvider");return e};var se=n(32),ue=n.n(se),ce=n(11);const le=e=>{const[t,n]=Object(a.useState)(!1),{guidedOnboarding:r}=Object(i.a)(),o=ue()(null!=r&&r.guidedOnboardingApi?r.guidedOnboardingApi.isGuidedOnboardingActiveForIntegration$(e):Object(ce.of)(!1));return Object(a.useEffect)((()=>{n(!!o)}),[o]),t};function de(e){const{isLoading:t,isInitialRequest:n,data:r}=Object(N.Kb)({agentPolicyId:null==e?void 0:e.id});return Object(a.useMemo)((()=>{var e;return{isLoadingInitialRequest:t&&n,fleetServerHost:(null==r||null===(e=r.fleet_server.host)||void 0===e?void 0:e.host_urls[0])||"",fleetProxy:null==r?void 0:r.fleet_server.host_proxy,downloadSource:null==r?void 0:r.download_source}}),[t,n,null==r?void 0:r.fleet_server.host,null==r?void 0:r.fleet_server.host_proxy,null==r?void 0:r.download_source])}function pe(){var e,t;return{isFleetServerStandalone:null!==(e=null===(t=u().internal)||void 0===t?void 0:t.fleetServerStandalone)&&void 0!==e&&e}}var fe=n(49),ge=n(84),be=n.n(ge);const me=()=>{const e=l(),[t,n]=Object(a.useState)(void 0);return Object(a.useEffect)((()=>{(async()=>{try{var t;const r=await Object(N.w)(),i=null==r||null===(t=r.data)||void 0===t?void 0:t.items;let a;null==i||i.sort(be.a),a=i&&i.length>0&&0!==i.indexOf(e)?i.find((t=>Z()(t,e)||Object(d.m)(t,e)))||i[0]:e,n(a)}catch(t){n(e)}})()}),[e]),t};async function Ee(e=!1){var t,n,r,i,a;const o=await Object(N.J)({page:1,perPage:g.z,kuery:`${g.w}.package.name:${g.n}`}),s=[...new Set(null!==(t=null==o||null===(n=o.data)||void 0===n?void 0:n.items.flatMap((e=>e.policy_ids)))&&void 0!==t?t:[])];if(0===s.length)return{allFleetServerAgents:[]};const u=`${g.b}.policy_id:(${s.map((e=>`"${e}"`)).join(" or ")})`,c=await Object(N.v)({kuery:u,perPage:e?0:g.z,showInactive:!1});return{allFleetServerAgents:(null===(r=c.data)||void 0===r?void 0:r.items)||[],fleetServerAgentsCount:null!==(i=null===(a=c.data)||void 0===a?void 0:a.total)&&void 0!==i?i:0}}var ve=n(3);const _e="enterprise";function he(){const e=f(),{enableReusableIntegrationPolicies:t}=ve.b.get(),n=e.hasAtLeast(_e);return{canUseMultipleAgentPolicies:t&&n}}},function(e,t,n){"use strict";var r=n(9);n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return r.b})),n.d(t,"c",(function(){return r.c})),n.d(t,"d",(function(){return r.d})),n.d(t,"e",(function(){return r.e})),n.d(t,"f",(function(){return r.h})),n.d(t,"g",(function(){return r.i})),n.d(t,"h",(function(){return r.j})),n.d(t,"i",(function(){return r.k})),n.d(t,"j",(function(){return r.l})),n.d(t,"k",(function(){return r.m})),n.d(t,"l",(function(){return r.n})),n.d(t,"m",(function(){return r.o})),n.d(t,"n",(function(){return r.p})),n.d(t,"o",(function(){return r.q})),n.d(t,"p",(function(){return r.u})),n.d(t,"q",(function(){return r.v})),n.d(t,"r",(function(){return r.w})),n.d(t,"s",(function(){return r.x})),n.d(t,"t",(function(){return r.z})),n.d(t,"u",(function(){return r.A})),n.d(t,"v",(function(){return r.C}))},function(e,t,n){"use strict";n.d(t,"yb",(function(){return r.Ib})),n.d(t,"sc",(function(){return r.Xc})),n.d(t,"b",(function(){return r.b})),n.d(t,"Cb",(function(){return r.Mb})),n.d(t,"e",(function(){return r.e})),n.d(t,"hc",(function(){return r.Ic})),n.d(t,"g",(function(){return r.i})),n.d(t,"ic",(function(){return r.Jc})),n.d(t,"jc",(function(){return r.Kc})),n.d(t,"mc",(function(){return r.Oc})),n.d(t,"rc",(function(){return r.Wc})),n.d(t,"ob",(function(){return r.wb})),n.d(t,"pb",(function(){return r.xb})),n.d(t,"Mb",(function(){return r.Wb})),n.d(t,"Nb",(function(){return r.Xb})),n.d(t,"h",(function(){return r.j})),n.d(t,"w",(function(){return r.A})),n.d(t,"Wb",(function(){return r.lc})),n.d(t,"Xb",(function(){return r.mc})),n.d(t,"F",(function(){return r.M})),n.d(t,"k",(function(){return r.m})),n.d(t,"tb",(function(){return r.Cb})),n.d(t,"j",(function(){return r.l})),n.d(t,"Gb",(function(){return r.Qb})),n.d(t,"rb",(function(){return r.Ab})),n.d(t,"qb",(function(){return r.zb})),n.d(t,"m",(function(){return r.o})),n.d(t,"ub",(function(){return r.Db})),n.d(t,"t",(function(){return r.w})),n.d(t,"ac",(function(){return r.sc})),n.d(t,"L",(function(){return r.T})),n.d(t,"H",(function(){return r.P})),n.d(t,"vb",(function(){return r.Eb})),n.d(t,"I",(function(){return r.Q})),n.d(t,"Pb",(function(){return r.cc})),n.d(t,"Vb",(function(){return r.kc})),n.d(t,"A",(function(){return r.E})),n.d(t,"x",(function(){return r.B})),n.d(t,"y",(function(){return r.C})),n.d(t,"R",(function(){return r.Z})),n.d(t,"U",(function(){return r.cb})),n.d(t,"S",(function(){return r.ab})),n.d(t,"W",(function(){return r.eb})),n.d(t,"T",(function(){return r.bb})),n.d(t,"gb",(function(){return r.ob})),n.d(t,"Y",(function(){return r.gb})),n.d(t,"z",(function(){return r.D})),n.d(t,"n",(function(){return r.q})),n.d(t,"Q",(function(){return r.Y})),n.d(t,"X",(function(){return r.fb})),n.d(t,"v",(function(){return r.y})),n.d(t,"Z",(function(){return r.hb})),n.d(t,"hb",(function(){return r.pb})),n.d(t,"ib",(function(){return r.qb})),n.d(t,"V",(function(){return r.db})),n.d(t,"B",(function(){return r.F})),n.d(t,"G",(function(){return r.O})),n.d(t,"r",(function(){return r.u})),n.d(t,"D",(function(){return r.J})),n.d(t,"Rb",(function(){return r.ec})),n.d(t,"l",(function(){return r.n})),n.d(t,"M",(function(){return r.U})),n.d(t,"Zb",(function(){return r.rc})),n.d(t,"K",(function(){return r.S})),n.d(t,"P",(function(){return r.X})),n.d(t,"i",(function(){return r.k})),n.d(t,"nb",(function(){return r.vb})),n.d(t,"Yb",(function(){return r.qc})),n.d(t,"Fb",(function(){return r.Pb})),n.d(t,"mb",(function(){return r.ub})),n.d(t,"eb",(function(){return r.mb})),n.d(t,"fb",(function(){return r.nb})),n.d(t,"s",(function(){return r.v})),n.d(t,"J",(function(){return r.R})),n.d(t,"cc",(function(){return r.Ac})),n.d(t,"O",(function(){return r.W})),n.d(t,"Sb",(function(){return r.fc})),n.d(t,"E",(function(){return r.K})),n.d(t,"sb",(function(){return r.Bb})),n.d(t,"N",(function(){return r.V})),n.d(t,"u",(function(){return r.x})),n.d(t,"nc",(function(){return r.Pc})),n.d(t,"bc",(function(){return r.yc})),n.d(t,"Ob",(function(){return r.bc})),n.d(t,"Qb",(function(){return r.dc})),n.d(t,"Eb",(function(){return r.Ob})),n.d(t,"jb",(function(){return r.rb})),n.d(t,"ab",(function(){return r.ib})),n.d(t,"o",(function(){return r.r})),n.d(t,"Ub",(function(){return r.ic})),n.d(t,"q",(function(){return r.t})),n.d(t,"lb",(function(){return r.tb})),n.d(t,"cb",(function(){return r.kb})),n.d(t,"Tb",(function(){return r.hc})),n.d(t,"p",(function(){return r.s})),n.d(t,"bb",(function(){return r.jb})),n.d(t,"kb",(function(){return r.sb})),n.d(t,"db",(function(){return r.lb})),n.d(t,"wc",(function(){return r.fd})),n.d(t,"dc",(function(){return r.Cc})),n.d(t,"pc",(function(){return r.Uc})),n.d(t,"oc",(function(){return r.Tc})),n.d(t,"tc",(function(){return r.Yc})),n.d(t,"Bb",(function(){return r.Kb})),n.d(t,"gc",(function(){return r.Hc})),n.d(t,"lc",(function(){return r.Mc})),n.d(t,"qc",(function(){return r.Vc})),n.d(t,"vc",(function(){return r.ed})),n.d(t,"c",(function(){return r.c})),n.d(t,"Kb",(function(){return r.Ub})),n.d(t,"f",(function(){return r.h})),n.d(t,"uc",(function(){return r.Zc})),n.d(t,"ec",(function(){return r.Ec})),n.d(t,"a",(function(){return r.a})),n.d(t,"wb",(function(){return r.Gb})),n.d(t,"fc",(function(){return r.Gc})),n.d(t,"d",(function(){return r.d})),n.d(t,"Lb",(function(){return r.Vb})),n.d(t,"Ib",(function(){return r.Sb})),n.d(t,"Jb",(function(){return r.Tb})),n.d(t,"Db",(function(){return r.Nb})),n.d(t,"Hb",(function(){return r.Rb})),n.d(t,"xb",(function(){return r.Hb})),n.d(t,"C",(function(){return r.G})),n.d(t,"kc",(function(){return r.Lc})),n.d(t,"zb",(function(){return c})),n.d(t,"Ab",(function(){return p}));var r=n(15),i=n(4),a=n(16);const o={href:a.v.base()[1],text:i.i18n.translate("xpack.fleet.breadcrumbs.appTitle",{defaultMessage:"Fleet"}),deepLinkId:"fleet"},s={href:a.v.integrations()[1],text:i.i18n.translate("xpack.fleet.breadcrumbs.integrationsAppTitle",{defaultMessage:"Integrations"}),useIntegrationsBasePath:!0,deepLinkId:"integrations"},u={base:()=>[o],policies:()=>[o,{text:i.i18n.translate("xpack.fleet.breadcrumbs.policiesPageTitle",{defaultMessage:"Agent policies"})}],policies_list:()=>[o,{text:i.i18n.translate("xpack.fleet.breadcrumbs.policiesPageTitle",{defaultMessage:"Agent policies"})}],policy_details:({policyName:e})=>[o,{href:a.v.policies()[1],text:i.i18n.translate("xpack.fleet.breadcrumbs.policiesPageTitle",{defaultMessage:"Agent policies"})},{text:e}],add_integration_to_policy:({pkgTitle:e,pkgkey:t,integration:n})=>[s,{href:a.v.integration_details_overview({pkgkey:t,integration:n})[1],text:e,useIntegrationsBasePath:!0},{text:i.i18n.translate("xpack.fleet.breadcrumbs.addPackagePolicyPageTitle",{defaultMessage:"Add integration"})}],edit_integration:({policyName:e,policyId:t})=>[o,{href:a.v.policies()[1],text:i.i18n.translate("xpack.fleet.breadcrumbs.policiesPageTitle",{defaultMessage:"Agent policies"})},{href:a.v.policy_details({policyId:t})[1],text:e},{text:i.i18n.translate("xpack.fleet.breadcrumbs.editPackagePolicyPageTitle",{defaultMessage:"Edit integration"})}],upgrade_package_policy:({policyName:e,policyId:t})=>[o,{href:a.v.policies()[1],text:i.i18n.translate("xpack.fleet.breadcrumbs.policiesPageTitle",{defaultMessage:"Agent policies"})},{href:a.v.policy_details({policyId:t})[1],text:e},{text:i.i18n.translate("xpack.fleet.breadcrumbs.upgradePackagePolicyPageTitle",{defaultMessage:"Upgrade integration "})}],agent_list:()=>[o,{text:i.i18n.translate("xpack.fleet.breadcrumbs.agentsPageTitle",{defaultMessage:"Agents"})}],agent_details:({agentHost:e})=>[o,{href:a.v.agent_list({})[1],text:i.i18n.translate("xpack.fleet.breadcrumbs.agentsPageTitle",{defaultMessage:"Agents"})},{text:e}],enrollment_tokens:()=>[o,{text:i.i18n.translate("xpack.fleet.breadcrumbs.enrollmentTokensPageTitle",{defaultMessage:"Enrollment tokens"})}],uninstall_tokens:()=>[o,{text:i.i18n.translate("xpack.fleet.breadcrumbs.uninstallTokensPageTitle",{defaultMessage:"Uninstall tokens"})}],data_streams:()=>[o,{text:i.i18n.translate("xpack.fleet.breadcrumbs.datastreamsPageTitle",{defaultMessage:"Data streams"})}],settings:()=>[o,{text:i.i18n.translate("xpack.fleet.breadcrumbs.settingsPageTitle",{defaultMessage:"Settings"})}]};function c(e,t={}){var n;const{chrome:i,http:o,application:s}=Object(r.Xc)(),c=(null===(n=u[e])||void 0===n?void 0:n.call(u,t).map((e=>{const t=e.href?o.basePath.prepend(`${e.useIntegrationsBasePath?a.n:a.i}${e.href}`):void 0;return{...e,href:t,onClick:t?e=>{e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||(e.preventDefault(),s.navigateToUrl(t))}:void 0}})))||[],l=[...c].reverse().map((e=>e.text));i.docTitle.change(l),i.setBreadcrumbs(c)}n(72),n(68);var l=n(7);async function d(){let e;try{var t;const i=await Object(r.V)(!0);var n;null!==(t=i.data)&&void 0!==t&&t.success||(e=(null===(n=i.data)||void 0===n?void 0:n.error)||"REQUEST_ERROR")}catch(t){e="REQUEST_ERROR"}return{error:e}}const p=()=>{const{data:e,isInitialLoading:t}=Object(l.useQuery)(["fetch-check-permissions"],d);return{isPermissionsLoading:t,permissionsError:null==e?void 0:e.error}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(61);function i(){const{services:e}=Object(r.useKibana)();if(null===e)throw new Error("KibanaContextProvider not initialized");return e}},function(e,t,n){"use strict";n.r(t);var r=n(0);n.d(t,"PLUGIN_ID",(function(){return r.wb})),n.d(t,"INTEGRATIONS_PLUGIN_ID",(function(){return r.ib})),n.d(t,"FLEET_APM_PACKAGE",(function(){return r.L})),n.d(t,"FLEET_SERVER_PACKAGE",(function(){return r.ab})),n.d(t,"FLEET_SYSTEM_PACKAGE",(function(){return r.cb})),n.d(t,"FLEET_SYNTHETICS_PACKAGE",(function(){return r.bb})),n.d(t,"FLEET_ELASTIC_AGENT_PACKAGE",(function(){return r.S})),n.d(t,"FLEET_KUBERNETES_PACKAGE",(function(){return r.V})),n.d(t,"FLEET_CLOUD_SECURITY_POSTURE_PACKAGE",(function(){return r.Q})),n.d(t,"FLEET_CLOUD_SECURITY_POSTURE_KSPM_POLICY_TEMPLATE",(function(){return r.P})),n.d(t,"FLEET_CLOUD_SECURITY_POSTURE_CSPM_POLICY_TEMPLATE",(function(){return r.O})),n.d(t,"FLEET_CLOUD_SECURITY_POSTURE_CNVM_POLICY_TEMPLATE",(function(){return r.N})),n.d(t,"FLEET_CLOUD_DEFEND_PACKAGE",(function(){return r.M})),n.d(t,"FLEET_ENDPOINT_PACKAGE",(function(){return r.T})),n.d(t,"AGENT_POLICY_SAVED_OBJECT_TYPE",(function(){return r.m})),n.d(t,"PACKAGES_SAVED_OBJECT_TYPE",(function(){return r.sb})),n.d(t,"PACKAGE_POLICY_SAVED_OBJECT_TYPE",(function(){return r.vb})),n.d(t,"OUTPUT_SAVED_OBJECT_TYPE",(function(){return r.qb})),n.d(t,"PRECONFIGURATION_DELETION_RECORD_SAVED_OBJECT_TYPE",(function(){return r.yb})),n.d(t,"ASSETS_SAVED_OBJECT_TYPE",(function(){return r.q})),n.d(t,"MESSAGE_SIGNING_KEYS_SAVED_OBJECT_TYPE",(function(){return r.ob})),n.d(t,"UNINSTALL_TOKENS_SAVED_OBJECT_TYPE",(function(){return r.Ib})),n.d(t,"FLEET_SERVER_ARTIFACTS_INDEX",(function(){return r.X})),n.d(t,"AGENTS_INDEX",(function(){return r.b})),n.d(t,"AGENT_POLICY_INDEX",(function(){return r.k})),n.d(t,"AGENT_ACTIONS_INDEX",(function(){return r.e})),n.d(t,"AGENT_ACTIONS_RESULTS_INDEX",(function(){return r.f})),n.d(t,"AGENTS_PREFIX",(function(){return r.c})),n.d(t,"AGENT_UPDATE_LAST_CHECKIN_INTERVAL_MS",(function(){return r.n})),n.d(t,"agentPolicyStatuses",(function(){return r.Lb})),n.d(t,"FleetServerAgentComponentStatuses",(function(){return r.db})),n.d(t,"PACKAGE_POLICY_API_ROOT",(function(){return r.tb})),n.d(t,"AGENT_API_ROUTES",(function(){return r.g})),n.d(t,"AGENT_POLICY_API_ROUTES",(function(){return r.j})),n.d(t,"AGENTS_SETUP_API_ROUTES",(function(){return r.d})),n.d(t,"PACKAGE_POLICY_API_ROUTES",(function(){return r.ub})),n.d(t,"EPM_API_ROUTES",(function(){return r.G})),n.d(t,"SETUP_API_ROUTE",(function(){return r.Gb})),n.d(t,"SO_SEARCH_LIMIT",(function(){return r.Hb})),n.d(t,"ENDPOINT_PRIVILEGES",(function(){return r.B})),n.d(t,"DASHBOARD_LOCATORS_IDS",(function(){return r.t})),n.d(t,"FLEET_ENROLLMENT_API_PREFIX",(function(){return r.U})),n.d(t,"API_VERSIONS",(function(){return r.o})),n.d(t,"APP_API_ROUTES",(function(){return r.p}));var i=n(5);n.d(t,"epmRouteService",(function(){return i.r})),n.d(t,"agentRouteService",(function(){return i.g})),n.d(t,"agentPolicyRouteService",(function(){return i.f})),n.d(t,"setupRouteService",(function(){return i.lb})),n.d(t,"appRoutesService",(function(){return i.i})),n.d(t,"packagePolicyRouteService",(function(){return i.eb})),n.d(t,"fleetSetupRouteService",(function(){return i.u})),n.d(t,"isValidNamespace",(function(){return i.bb})),n.d(t,"isValidDataset",(function(){return i.ab})),n.d(t,"INVALID_NAMESPACE_CHARACTERS",(function(){return i.c})),n.d(t,"getFileMetadataIndexName",(function(){return i.B})),n.d(t,"getFileDataIndexName",(function(){return i.A}));var a=n(28);n.d(t,"ElasticsearchAssetType",(function(){return a.a}))},function(e,t,n){e.exports=n(41)(4)},function(e,t,n){const r=n(36),i=n(78),{safeRe:a,t:o}=n(77);e.exports=(e,t)=>{if(e instanceof r)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let n=null;if((t=t||{}).rtl){const r=t.includePrerelease?a[o.COERCERTLFULL]:a[o.COERCERTL];let i;for(;(i=r.exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&i.index+i[0].length===n.index+n[0].length||(n=i),r.lastIndex=i.index+i[1].length+i[2].length;r.lastIndex=-1}else n=e.match(t.includePrerelease?a[o.COERCEFULL]:a[o.COERCE]);if(null===n)return null;const s=n[2],u=n[3]||"0",c=n[4]||"0",l=t.includePrerelease&&n[5]?`-${n[5]}`:"",d=t.includePrerelease&&n[6]?`+${n[6]}`:"";return i(`${s}.${u}.${c}${l}${d}`,t)}},function(e,t){e.exports=__kbnSharedDeps__.ReactRouterDom},function(e,t,n){const r=n(37);e.exports=(e,t,n)=>r(e,t,n)<0},function(e,t){e.exports=__kbnSharedDeps__.KbnStd},function(e,t,n){const r=n(37);e.exports=(e,t,n)=>r(e,t,n)>0},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"f",(function(){return c}));var r=n(29);const i="/app/fleet",a="/app/integrations",o={fleet:"/:tabId",agents:"/agents",agent_details:"/agents/:agentId/:tabId?",agent_details_logs:"/agents/:agentId/logs",agent_details_diagnostics:"/agents/:agentId/diagnostics",policies:"/policies",policies_list:"/policies",policy_details:"/policies/:policyId/:tabId?",policy_details_settings:"/policies/:policyId/settings",edit_integration:"/policies/:policyId/edit-integration/:packagePolicyId",upgrade_package_policy:"/policies/:policyId/upgrade-package-policy/:packagePolicyId",enrollment_tokens:"/enrollment-tokens",uninstall_tokens:"/uninstall-tokens",data_streams:"/data-streams",settings:"/settings",settings_create_fleet_server_hosts:"/settings/create-fleet-server-hosts",settings_edit_fleet_server_hosts:"/settings/fleet-server-hosts/:itemId",settings_create_outputs:"/settings/create-outputs",settings_edit_outputs:"/settings/outputs/:outputId",settings_create_download_sources:"/settings/create-download-sources",settings_create_fleet_proxy:"/settings/create-fleet-proxy",settings_edit_fleet_proxy:"/settings/fleet-proxies/:itemId",settings_edit_download_sources:"/settings/downloadSources/:downloadSourceId",debug:"/_debug",add_integration_to_policy:"/integrations/:pkgkey/add-integration/:integration?"},s="q",u={integrations:"/:tabId",integrations_all:"/browse/:category?/:subcategory?",integrations_installed:"/installed/:category?",integrations_installed_updates_available:"/installed/updates_available/:category?",integrations_create:"/create",integration_details:"/detail/:pkgkey/:panel?",integration_details_overview:"/detail/:pkgkey/overview",integration_details_policies:"/detail/:pkgkey/policies",integration_details_assets:"/detail/:pkgkey/assets",integration_details_settings:"/detail/:pkgkey/settings",integration_details_configs:"/detail/:pkgkey/configs",integration_details_custom:"/detail/:pkgkey/custom",integration_details_api_reference:"/detail/:pkgkey/api-reference",integration_details_language_clients:"/language_clients/:pkgkey/overview",integration_policy_edit:"/edit-integration/:packagePolicyId",integration_policy_upgrade:"/edit-integration/:packagePolicyId"},c={base:()=>[i,"/"],overview:()=>[i,"/"],integrations:()=>[a,"/"],integrations_all:({searchTerm:e,category:t,subCategory:n})=>[a,`/browse${t&&n?`/${t}/${n} `:t&&!n?`/${t}`:""}${e?`?${s}=${e}`:""}`],integrations_installed:({query:e,category:t})=>[a,`/installed${t?`/${t}`:""}${e?`?${s}=${e}`:""}`],integrations_installed_updates_available:({query:e,category:t})=>[a,`/installed/updates_available${t?`/${t}`:""}${e?`?${s}=${e}`:""}`],integration_create:()=>[a,"/create"],integration_details_overview:({pkgkey:e,integration:t})=>[a,`/detail/${e}/overview${t?`?integration=${t}`:""}`],integration_details_policies:({pkgkey:e,integration:t,addAgentToPolicyId:n})=>{const i=Object(r.stringify)({integration:t,addAgentToPolicyId:n});return[a,`/detail/${e}/policies${i?`?${i}`:""}`]},integration_details_assets:({pkgkey:e,integration:t})=>[a,`/detail/${e}/assets${t?`?integration=${t}`:""}`],integration_details_settings:({pkgkey:e,integration:t})=>[a,`/detail/${e}/settings${t?`?integration=${t}`:""}`],integration_details_configs:({pkgkey:e,integration:t})=>[a,`/detail/${e}/configs${t?`?integration=${t}`:""}`],integration_details_custom:({pkgkey:e,integration:t})=>[a,`/detail/${e}/custom${t?`?integration=${t}`:""}`],integration_details_api_reference:({pkgkey:e,integration:t})=>[a,`/detail/${e}/api-reference${t?`?integration=${t}`:""}`],integration_policy_edit:({packagePolicyId:e})=>[a,`/edit-integration/${e}`],integration_policy_upgrade:({packagePolicyId:e})=>[a,`/edit-integration/${e}`],integration_details_language_clients:({pkgkey:e})=>[a,`/language_clients/${e}/overview`],policies:()=>[i,"/policies"],policies_list:()=>[i,"/policies"],policy_details:({policyId:e,tabId:t})=>[i,`/policies/${e}${t?`/${t}`:""}`],add_integration_to_policy:({pkgkey:e,integration:t,agentPolicyId:n,useMultiPageLayout:a})=>{const o=Object(r.stringify)({...n?{policyId:n}:{},...a?{useMultiPageLayout:null}:{}});return[i,`/integrations/${e}/add-integration${t?`/${t}`:""}${o?`?${o}`:""}`]},edit_integration:({policyId:e,packagePolicyId:t})=>[i,`/policies/${e}/edit-integration/${t}`],upgrade_package_policy:({policyId:e,packagePolicyId:t})=>[i,`/policies/${e}/upgrade-package-policy/${t}`],agent_list:({kuery:e,showInactive:t})=>[i,"/agents"+(e&&t?`?kuery=${e}&showInactive=true`:t?"?showInactive=true":"")],agent_details:({agentId:e,tabId:t,logQuery:n})=>[i,`/agents/${e}${t?`/${t}`:""}${n?`?_q=${n}`:""}`],agent_details_logs:({agentId:e})=>[i,`/agents/${e}/logs`],agent_details_diagnostics:({agentId:e})=>[i,`/agents/${e}/diagnostics`],enrollment_tokens:()=>[i,"/enrollment-tokens"],uninstall_tokens:()=>[i,o.uninstall_tokens],data_streams:()=>[i,"/data-streams"],settings:()=>[i,o.settings],settings_edit_fleet_server_hosts:({itemId:e})=>[i,o.settings_edit_fleet_server_hosts.replace(":itemId",e.toString())],settings_create_fleet_server_hosts:()=>[i,o.settings_create_fleet_server_hosts],settings_create_fleet_proxy:()=>[i,o.settings_create_fleet_proxy],settings_edit_fleet_proxy:({itemId:e})=>[i,o.settings_edit_fleet_proxy.replace(":itemId",e.toString())],settings_edit_outputs:({outputId:e})=>[i,o.settings_edit_outputs.replace(":outputId",e)],settings_edit_download_sources:({downloadSourceId:e})=>[i,o.settings_edit_download_sources.replace(":downloadSourceId",e)],settings_create_outputs:()=>[i,o.settings_create_outputs],settings_create_download_sources:()=>[i,o.settings_create_download_sources],debug:()=>[i,o.debug]}},function(e,t,n){const r=n(36);e.exports=(e,t)=>new r(e,t).major},function(e,t,n){"use strict";n.d(t,"b",(function(){return r.b})),n.d(t,"c",(function(){return r.c})),n.d(t,"a",(function(){return r.a})),n.d(t,"e",(function(){return r.e})),n.d(t,"d",(function(){return i})),n.d(t,"f",(function(){return a}));var r=n(39);let i=function(e){return e.CPU="CPU",e}({});const a=Object.entries},function(e,t,n){"use strict";const r=n(93),i=n(94),a=n(95);function o(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function s(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function u(e,t){return t.decode?i(e):e}function c(e){return Array.isArray(e)?e.sort():"object"==typeof e?c(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function l(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function d(e){const t=(e=l(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function p(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function f(e,t){o((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const n=function(e){let t;switch(e.arrayFormat){case"index":return(e,n,r)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return(e,n,r)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return(t,n,r)=>{const i="string"==typeof n&&n.split("").indexOf(e.arrayFormatSeparator)>-1?n.split(e.arrayFormatSeparator).map((t=>u(t,e))):null===n?n:u(n,e);r[t]=i};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),r=Object.create(null);if("string"!=typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;for(const i of e.split("&")){let[e,o]=a(t.decode?i.replace(/\+/g," "):i,"=");o=void 0===o?null:["comma","separator"].includes(t.arrayFormat)?o:u(o,t),n(u(e,t),o,r)}for(const e of Object.keys(r)){const n=r[e];if("object"==typeof n&&null!==n)for(const e of Object.keys(n))n[e]=p(n[e],t);else r[e]=p(n,t)}return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce(((e,t)=>{const n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=c(n):e[t]=n,e}),Object.create(null))}t.extract=d,t.parse=f,t.stringify=(e,t)=>{if(!e)return"";o((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const n=n=>t.skipNull&&null==e[n]||t.skipEmptyString&&""===e[n],r=function(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const i=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[s(t,e),"[",i,"]"].join("")]:[...n,[s(t,e),"[",s(i,e),"]=",s(r,e)].join("")]};case"bracket":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[s(t,e),"[]"].join("")]:[...n,[s(t,e),"[]=",s(r,e)].join("")];case"comma":case"separator":return t=>(n,r)=>null==r||0===r.length?n:0===n.length?[[s(t,e),"=",s(r,e)].join("")]:[[n,s(r,e)].join(e.arrayFormatSeparator)];default:return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,s(t,e)]:[...n,[s(t,e),"=",s(r,e)].join("")]}}(t),i={};for(const t of Object.keys(e))n(t)||(i[t]=e[t]);const a=Object.keys(i);return!1!==t.sort&&a.sort(t.sort),a.map((n=>{const i=e[n];return void 0===i?"":null===i?s(n,t):Array.isArray(i)?i.reduce(r(n),[]).join("&"):s(n,t)+"="+s(i,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[n,r]=a(e,"#");return Object.assign({url:n.split("?")[0]||"",query:f(d(e),t)},t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:u(r,t)}:{})},t.stringifyUrl=(e,n)=>{n=Object.assign({encode:!0,strict:!0},n);const r=l(e.url).split("?")[0]||"",i=t.extract(e.url),a=t.parse(i,{sort:!1}),o=Object.assign(a,e.query);let u=t.stringify(o,n);u&&(u=`?${u}`);let c=function(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(e.url);return e.fragmentIdentifier&&(c=`#${s(e.fragmentIdentifier,n)}`),`${r}${u}${c}`}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r=n(0);const i=1209600;function a(e={}){return{name:"",description:"",namespace:"default",monitoring_enabled:Object.values(r.Mb),inactivity_timeout:i,is_protected:!1,...e}}function o(e){return{...e,is_protected:!1}}},function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var r=n(4);function i(e,t){return o(e,"Namespace",t)}function a(e,t){const{valid:n,error:i}=o(e,"Dataset",t);return n&&(e.startsWith("_")||e.startsWith("."))?{valid:!1,error:r.i18n.translate("xpack.fleet.datasetValidation.datasetStartsWithUnderscoreErrorMessage",{defaultMessage:"Dataset cannot start with an underscore or dot"})}:{valid:n,error:i}}function o(t,n,i){return t.trim()||i?t!==t.toLowerCase()?{valid:!1,error:r.i18n.translate("xpack.fleet.namespaceValidation.lowercaseErrorMessage",{defaultMessage:"{type} must be lowercase",values:{type:n}})}:s.test(t)?{valid:!1,error:r.i18n.translate("xpack.fleet.namespaceValidation.invalidCharactersErrorMessage",{defaultMessage:"{type} contains invalid characters",values:{type:n}})}:"function"==typeof Blob&&new Blob([t]).size>100||"function"==typeof e&&e.from(t).length>100?{valid:!1,error:r.i18n.translate("xpack.fleet.namespaceValidation.tooLongErrorMessage",{defaultMessage:"{type} cannot be more than 100 bytes",values:{type:n}})}:{valid:!0}:{valid:!1,error:r.i18n.translate("xpack.fleet.namespaceValidation.requiredErrorMessage",{defaultMessage:"{type} is required",values:{type:n}})}}const s=/[\*\\/\?"<>|\s,#:-]+/}).call(this,n(86).Buffer)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(54),i=n(1),a=r.__importDefault(n(88));t.default=function(e,t){var n=i.useState(t),r=n[0],o=n[1];return a.default((function(){var t=e.subscribe(o);return function(){return t.unsubscribe()}}),[e]),r}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a}));const r="fleet",i="integrations",a="transform"},function(e,t,n){"use strict";let r,i;function a(e){r=e}function o(){return r}function s(e){i=e}function u(){return i}n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return u}))},function(e,t){e.exports=__kbnSharedDeps__.ReactDom},function(e,t,n){const r=n(75),{MAX_LENGTH:i,MAX_SAFE_INTEGER:a}=n(76),{safeRe:o,t:s}=n(77),u=n(91),{compareIdentifiers:c}=n(92);class SemVer{constructor(e,t){if(t=u(t),e instanceof SemVer){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>i)throw new TypeError(`version is longer than ${i} characters`);r("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?o[s.LOOSE]:o[s.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>a||this.major<0)throw new TypeError("Invalid major version");if(this.minor>a||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>a||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<a)return t}return e})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof SemVer)){if("string"==typeof e&&e===this.version)return 0;e=new SemVer(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof SemVer||(e=new SemVer(e,this.options)),c(this.major,e.major)||c(this.minor,e.minor)||c(this.patch,e.patch)}comparePre(e){if(e instanceof SemVer||(e=new SemVer(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],i=e.prerelease[t];if(r("prerelease compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return c(n,i)}while(++t)}compareBuild(e){e instanceof SemVer||(e=new SemVer(e,this.options));let t=0;do{const n=this.build[t],i=e.build[t];if(r("build compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return c(n,i)}while(++t)}inc(e,t,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(n)?1:0;if(!t&&!1===n)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let r=this.prerelease.length;for(;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);if(-1===r){if(t===this.prerelease.join(".")&&!1===n)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let r=[t,e];!1===n&&(r=[t]),0===c(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=r):this.prerelease=r}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=SemVer},function(e,t,n){const r=n(36);e.exports=(e,t,n)=>new r(e,n).compare(new r(t,n))},function(e,t,n){"use strict";n.d(t,"r",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"n",(function(){return o})),n.d(t,"i",(function(){return s})),n.d(t,"l",(function(){return u})),n.d(t,"j",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"m",(function(){return d})),n.d(t,"k",(function(){return p})),n.d(t,"h",(function(){return f})),n.d(t,"g",(function(){return g})),n.d(t,"f",(function(){return b})),n.d(t,"e",(function(){return m})),n.d(t,"d",(function(){return E})),n.d(t,"p",(function(){return _})),n.d(t,"b",(function(){return h})),n.d(t,"o",(function(){return T})),n.d(t,"s",(function(){return y})),n.d(t,"q",(function(){return P})),n.d(t,"t",(function(){return I})),n.d(t,"u",(function(){return O})),n.d(t,"w",(function(){return A})),n.d(t,"v",(function(){return k}));var r=n(39);const i="epm-packages",a="epm-packages-assets",o="system",s="elastic_agent",u="fleet_server",c="endpoint",l="apm",d="synthetics",p="kubernetes",f="cloud_security_posture",g="kspm",b="cspm",m="vuln_mgmt",E="cloud_defend",v="cloudbeat",_=new Set([l,"pf-host-agent","pf-elastic-symbolizer","pf-elastic-collector","fleet-server",E,`${E}/control`,v,`${v}/cis_k8s`,`${v}/cis_eks`,`${v}/cis_aws`,`${v}/cis_gcp`,`${v}/cis_azure`,`${v}/vuln_mgmt_aws`]),h="data_stream.dataset",T="generic",y=[c,l,d,f],P=[c,l,d],I=[l,d,f],O={Logs:"logs",Metrics:"metrics"},A=(Object.values(O),{Installed:"installed",Installing:"installing",InstallFailed:"install_failed",NotInstalled:"not_installed"}),k=[...Object.values(r.d),...Object.values(r.a)];new Set(k)},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return s}));let r=function(e){return e.installed="installed",e.notInstalled="not_installed",e.installing="installing",e.reinstalling="reinstalling",e.uninstalling="uninstalling",e}({}),i=function(e){return e.dashboard="dashboard",e.lens="lens",e.visualization="visualization",e.search="search",e.indexPattern="index_pattern",e.map="map",e.mlModule="ml_module",e.securityRule="security_rule",e.cloudSecurityPostureRuleTemplate="csp_rule_template",e.osqueryPackAsset="osquery_pack_asset",e.osquerySavedQuery="osquery_saved_query",e.tag="tag",e}({}),a=function(e){return e.dashboard="dashboard",e.lens="lens",e.visualization="visualization",e.search="search",e.indexPattern="index-pattern",e.map="map",e.mlModule="ml-module",e.securityRule="security-rule",e.cloudSecurityPostureRuleTemplate="csp-rule-template",e.osqueryPackAsset="osquery-pack-asset",e.osquerySavedQuery="osquery-saved-query",e.tag="tag",e}({}),o=function(e){return e.index="index",e.indexTemplate="index_template",e.componentTemplate="component_template",e.ingestPipeline="ingest_pipeline",e.ilmPolicy="ilm_policy",e.dataStreamIlmPolicy="data_stream_ilm_policy",e.transform="transform",e.mlModel="ml_model",e}({}),s=function(e){return e.AGENTLESS="agentless",e.AGENT_BASED="agent-based",e}({})},function(e,t,n){const r=n(36);e.exports=(e,t)=>new r(e,t).minor},function(e,t){e.exports=__kbnSharedDeps_npm__},function(e,t,n){"use strict";n.d(t,"e",(function(){return r.f})),n.d(t,"a",(function(){return r.a})),n.d(t,"c",(function(){return r.c})),n.d(t,"b",(function(){return r.b})),n.d(t,"d",(function(){return r.e}));var r=n(28)},function(e,t,n){const r=n(37);e.exports=(e,t,n)=>r(e,t,n)>=0},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(18);function i(){return Object(r.a)().authz}},function(e,t,n){"use strict";n.d(t,"a",(function(){return ExperimentalFeaturesService}));var r=n(10),i=n.n(r);class ExperimentalFeaturesService{static init(e){this.experimentalFeatures=e}static get(){return this.experimentalFeatures||this.throwUninitializedError(),this.experimentalFeatures}static throwUninitializedError(){throw new Error("Experimental features services not initialized")}}i()(ExperimentalFeaturesService,"experimentalFeatures",void 0)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=e=>t=>{var n;const{package:r,view:i}=t;if(e[r]||(e[r]={}),null!==(n=e[r])&&void 0!==n&&n[i])throw new Error(`Extension point has already been registered: [${r}][${i}]`);e[r][i]=t}},function(e,t,n){"use strict";n.d(t,"i",(function(){return l})),n.d(t,"r",(function(){return d})),n.d(t,"j",(function(){return p})),n.d(t,"p",(function(){return f})),n.d(t,"q",(function(){return g})),n.d(t,"e",(function(){return b})),n.d(t,"m",(function(){return m})),n.d(t,"n",(function(){return E})),n.d(t,"o",(function(){return v})),n.d(t,"d",(function(){return _})),n.d(t,"k",(function(){return h})),n.d(t,"c",(function(){return T})),n.d(t,"f",(function(){return y})),n.d(t,"a",(function(){return P})),n.d(t,"g",(function(){return I})),n.d(t,"h",(function(){return O})),n.d(t,"t",(function(){return A})),n.d(t,"s",(function(){return k})),n.d(t,"b",(function(){return S})),n.d(t,"l",(function(){return N}));var r=n(7),i=n(1),a=n(3),o=n(0),s=n(34),u=n(74),c=n(2);function l(){return Object(r.useQuery)(["get-append-custom-integrations"],(()=>Object(s.a)().getAppendCustomIntegrations()))}function d(){return Object(r.useQuery)(["get-replacemenet-custom-integrations"],(()=>Object(s.a)().getReplacementCustomIntegrations()))}function p(e={}){return Object(r.useQuery)(["categories",e],(()=>Object(c.b)({path:a.l.getCategoriesPath(),method:"get",query:e,version:o.o.public.v1})))}const f=(e={})=>Object(c.e)({path:a.l.getListPath(),method:"get",version:o.o.public.v1,query:e}),g=(e,t)=>Object(r.useQuery)({queryKey:["get-packages",e],queryFn:()=>Object(c.b)({path:a.l.getListPath(),method:"get",version:o.o.public.v1,query:e}),enabled:null==t?void 0:t.enabled}),b=(e={})=>Object(c.a)({path:a.l.getListPath(),method:"get",version:o.o.public.v1,query:e}),m=(e,t,n,s={enabled:!0})=>{const l=Object(u.a)(),[d,p]=Object(i.useState)(null==n?void 0:n.ignoreUnverified),f=Object(r.useQuery)([e,t,n],(()=>Object(c.b)({path:a.l.getInfoPath(e,t),method:"get",version:o.o.public.v1,query:{...n,...d&&{ignoreUnverified:d}}})),{enabled:s.enabled,refetchOnMount:s.refetchOnMount});return null!=f&&f.error&&Object(a.u)(null==f?void 0:f.error)&&(async()=>{await l(e)&&p(!0)})(),f},E=e=>Object(c.e)({path:a.l.getStatsPath(e),method:"get",version:o.o.public.v1}),v=()=>{const{data:e,...t}=Object(r.useQuery)(["verification_key_id"],(()=>Object(c.b)({path:a.l.getVerificationKeyIdPath(),method:"get",version:o.o.public.v1})));return{packageVerificationKeyId:(null==e?void 0:e.id)||void 0,...t}},_=(e,t,n)=>Object(c.a)({path:a.l.getInfoPath(e,t),method:"get",version:o.o.public.v1,query:n}),h=e=>Object(r.useQuery)(["get-file",e],(()=>Object(c.a)({path:a.l.getFilePath(e),method:"get",version:o.o.public.v1}))),T=e=>Object(c.a)({path:a.l.getFilePath(e),method:"get",version:o.o.public.v1}),y=(e,t,n=!1)=>{const r=n?{force:n}:void 0;return Object(c.a)({path:a.l.getInstallPath(e,t),method:"post",version:o.o.public.v1,body:r})},P=e=>Object(c.a)({path:a.l.getBulkInstallPath(),method:"post",version:o.o.public.v1,body:{packages:e}}),I=(e,t,n=!1)=>Object(c.a)({path:a.l.getRemovePath(e,t),method:"delete",version:o.o.public.v1,body:{force:n}}),O=(e,t,n)=>Object(c.a)({path:a.l.getReauthorizeTransformsPath(e,t),method:"post",version:o.o.public.v1,body:{transforms:n}}),A=()=>Object(r.useMutation)((({pkgName:e,pkgVersion:t,body:n})=>Object(c.b)({path:a.l.getUpdatePath(e,t),method:"put",version:o.o.public.v1,body:n}))),k=()=>{const e=Object(r.useQueryClient)();return Object(r.useMutation)({mutationFn:({pkgName:e,pkgVersion:t})=>Object(c.b)({path:a.l.getInstallKibanaAssetsPath(e,t),method:"post",version:o.o.public.v1}),onSuccess:(t,{pkgName:n,pkgVersion:r})=>e.invalidateQueries([n,r])})},S=e=>Object(c.a)({path:a.l.getBulkAssetsPath(),method:"post",version:o.o.public.v1,body:e});function N({pkgName:e,pkgVersion:t},n){return Object(r.useQuery)(["inputsTemplates",e,t,n],(()=>Object(c.b)({path:a.l.getInputsTemplatesPath(e,t),method:"get",query:n,version:o.o.public.v1})))}},function(e,t){e.exports=__kbnSharedDeps__.EmotionCache},function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var r=n(9),i=n(18);function a(e){return Object(i.a)().share.url.locators.get(e)}function o(){return a(r.u.DASHBOARD_APP)}function s(){return a(r.u.DISCOVER_APP_LOCATOR)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var r=n(22),i=n(7),a=n(17);function o(e){const{params:{packagePolicyId:t,policyId:n}}=Object(r.useRouteMatch)(),{getHref:i}=Object(a.jc)();return`${t&&n?i("edit_integration",{policyId:n,packagePolicyId:t}):i("integration_policy_edit",{packagePolicyId:t})}${e?`?datastreamId=${encodeURIComponent(e)}`:""}`}function s(e,t=!0){const{data:n,isLoading:r}=Object(i.useQuery)(["indexTemplateExists",e],(()=>Object(a.pb)({path:`/api/index_management/index_templates/${e}`,method:"get"})),{enabled:t});return r?{isLoading:!0}:{exists:!!n,isLoading:!1}}},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/esUiShared/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("entry/core/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){"use strict";var r=n(42);n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return r.b})),n.d(t,"c",(function(){return r.c})),n.d(t,"d",(function(){return r.e}))},function(e,t){e.exports=__kbnSharedDeps__.TsLib},function(e,t){e.exports=__kbnSharedDeps__.Moment},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(6),i=n(59);const a=(e,t,n)=>{var a;const o=null===(a=(n||e).icons)||void 0===a?void 0:a.find((e=>"image/svg+xml"===e.type));return o?t.prepend(i.g.getFilePath(`/package/${e.name}/${e.version}${o.src}`)):r.ICON_TYPES.find((t=>t.toLowerCase()===`logo${e.name}`))}},function(e,t){e.exports=__kbnSharedDeps__.KbnSharedUxErrorBoundary},function(e,t){e.exports=__kbnSharedDeps__.StyledComponents},function(e,t,n){"use strict";var r=n(3);n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return r.b})),n.d(t,"c",(function(){return r.c})),n.d(t,"d",(function(){return r.f})),n.d(t,"e",(function(){return r.h})),n.d(t,"f",(function(){return r.i})),n.d(t,"g",(function(){return r.l})),n.d(t,"h",(function(){return r.n})),n.d(t,"i",(function(){return r.o})),n.d(t,"j",(function(){return r.p})),n.d(t,"k",(function(){return r.q})),n.d(t,"l",(function(){return r.t})),n.d(t,"m",(function(){return r.u})),n.d(t,"n",(function(){return r.w})),n.d(t,"o",(function(){return r.x})),n.d(t,"p",(function(){return r.y})),n.d(t,"q",(function(){return r.z})),n.d(t,"r",(function(){return r.C})),n.d(t,"s",(function(){return r.D})),n.d(t,"t",(function(){return r.E}))},function(e,t,n){"use strict";function r(e){var t,n;return e.unenrollment_started_at&&!e.unenrolled_at?"unenrolling":"error"===(null===(t=e.last_checkin_status)||void 0===t?void 0:t.toLowerCase())?"error":"degraded"===(null===(n=e.last_checkin_status)||void 0===n?void 0:n.toLowerCase())?"degraded":!("policy_revision"in e?e.policy_revision:"policy_revision_idx"in e?e.policy_revision_idx:void 0)||e.upgrade_started_at&&!e.upgraded_at?"updating":void 0}function i(){return"status:unenrolled"}function a(){return"status:online"}function o(){return"(status:error or status:degraded)"}function s(){return"status:offline"}function u(){return"(status:updating or status:unenrolling or status:enrolling)"}function c(){return"status:inactive"}n.r(t),n.d(t,"getPreviousAgentStatusForOfflineAgents",(function(){return r})),n.d(t,"buildKueryForUnenrolledAgents",(function(){return i})),n.d(t,"buildKueryForOnlineAgents",(function(){return a})),n.d(t,"buildKueryForErrorAgents",(function(){return o})),n.d(t,"buildKueryForOfflineAgents",(function(){return s})),n.d(t,"buildKueryForUpdatingAgents",(function(){return u})),n.d(t,"buildKueryForInactiveAgents",(function(){return c})),n.d(t,"AGENT_UPDATING_TIMEOUT_HOURS",(function(){return l})),n.d(t,"isStuckInUpdating",(function(){return d})),n.d(t,"isAgentInFailedUpgradeState",(function(){return p}));const l=2;function d(e){return"offline"!==e.status&&e.active&&p(e)||"updating"===e.status&&!!e.upgrade_started_at&&!e.upgraded_at&&Date.now()-Date.parse(e.upgrade_started_at)>60*l*60*1e3}function p(e){var t;return"UPG_FAILED"===(null===(t=e.upgrade_details)||void 0===t?void 0:t.state)}},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(1),i=n(35),a=n.n(i),o=n(73),s=n(8);const u=(e,t)=>n=>(a.a.render(Object(s.jsx)(o.a,t,e),n),()=>a.a.unmountComponentAtNode(n));n(10),n(4),r.Component},function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return f}));var r=n(20),i=n.n(r),a=n(1),o=n.n(a),s=n(58),u=n.n(s),c=n(6),l=n(15);const d=u()(c.EuiIcon).withConfig({displayName:"Icon",componentId:"sc-9cx4pr-0"})(["width:'16px';margin-block-end:unset !important;"]),p=({packageName:e,integrationName:t,version:n,icons:r,tryApi:a,...s})=>{const u=Object(l.Nc)({packageName:e,integrationName:t,version:n,icons:r,tryApi:a});return o.a.createElement(d,i()({size:"s",type:u},s,{loading:"lazy"}))},f=e=>{const{icons:t}=e;return t&&1===t.length&&"eui"===t[0].type?o.a.createElement(c.EuiIcon,i()({size:"xl",type:t[0].src},e)):t&&1===t.length&&"svg"===t[0].type?o.a.createElement(c.EuiIcon,i()({size:"xl",type:t[0].src},e,{loading:"lazy"})):o.a.createElement(p,e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(1),i=n.n(r),a=n(4),o=n(6),s=n(12),u=n(17),c=n(5),l=n(50);function d(e,t=!1){return{pipelineName:e,canEdit:t}}const p=({packageInputStream:e,packageInfo:t,customDataset:n})=>{const p=n?{...e.data_stream,dataset:n}:e.data_stream,{application:f,share:g,docLinks:b}=Object(u.sc)(),m=g.url.locators.get("INGEST_PIPELINES_APP_LOCATOR"),E=Object(l.b)(e.id),{pipelines:v,addPipelineUrl:_,hasCustom:h,isLoading:T}=function(e,t,n){var i;const[a,o]=Object(r.useState)(""),{share:s}=Object(u.sc)(),l=s.url.locators.get("INGEST_PIPELINES_APP_LOCATOR"),p=Object(c.K)({dataStream:t,packageVersion:e.version}),f=Object(c.z)(t),g=Object(u.bc)(f),b=Object(r.useMemo)((()=>g.data?[d(p),d(f,!0)]:[d(p)]),[p,f,g.data]);return Object(r.useEffect)((()=>{!async function(){if(!l)return;const e=await l.getUrl({page:"pipeline_create"});o(`${e}?name=${f}&redirect_path=${n}`)}()}),[f,n,l]),{isLoading:g.isLoading,hasCustom:!g.isLoading&&404!==(null===(i=g.error)||void 0===i?void 0:i.statusCode),pipelines:b,addPipelineUrl:a}}(t,p,E);return p?i.a.createElement(o.EuiFlexGroup,{direction:"column",gutterSize:"xs",alignItems:"flexStart"},i.a.createElement(o.EuiFlexItem,{grow:!1},i.a.createElement(o.EuiTitle,{size:"xxxs"},i.a.createElement("h5",null,i.a.createElement(s.FormattedMessage,{id:"xpack.fleet.packagePolicyEditor.datastreamIngestPipelinesTitle",defaultMessage:"Ingest pipelines"})))),i.a.createElement(o.EuiFlexItem,{grow:!1},i.a.createElement(o.EuiText,{color:"subdued",size:"xs"},i.a.createElement(s.FormattedMessage,{id:"xpack.fleet.packagePolicyEditor.datastreamIngestPipelinesLabel",defaultMessage:"Ingest pipelines perform common transformations on the ingested data. We recommend modifying only the custom ingest pipeline. These pipelines are shared between integration policies of the same integration type. Hence, any modifications to the ingest pipelines would affect all the integration policies. {learnMoreLink}",values:{learnMoreLink:i.a.createElement(o.EuiLink,{href:b.links.fleet.datastreams,external:!0},i.a.createElement(s.FormattedMessage,{id:"xpack.fleet.packagePolicyEdotpr.datastreamIngestPipelines.learnMoreLink",defaultMessage:"Learn more"}))}}))),i.a.createElement(o.EuiFlexItem,{grow:!1},i.a.createElement(o.EuiBasicTable,{loading:T,items:v,columns:[{field:"pipelineName",name:""},{width:"60px",actions:[{icon:"pencil",type:"icon",description:a.i18n.translate("xpack.fleet.packagePolicyEditor.datastreamIngestPipelines.editBtn",{defaultMessage:"Edit pipeline"}),"data-test-subj":"datastreamEditPipelineBtn",name:"edit",isPrimary:!0,onClick:async e=>{if(!m)return;const t=await m.getUrl({page:"pipeline_edit",pipelineId:e.pipelineName});f.navigateToUrl(`${t}?redirect_path=${E}`)},available:({canEdit:e})=>e},{icon:"inspect",type:"icon",description:a.i18n.translate("xpack.fleet.packagePolicyEditor.datastreamIngestPipelines.inspectBtn",{defaultMessage:"Inspect pipeline"}),name:"inspect","data-test-subj":"datastreamInspectPipelineBtn",isPrimary:!0,onClick:async e=>{if(!m)return;const t=await m.getUrl({page:"pipeline_list"});f.navigateToUrl(`${t}?pipeline=${e.pipelineName}&redirect_path=${E}`)}}]}]})),!T&&!h&&i.a.createElement(o.EuiFlexItem,{grow:!1},i.a.createElement(o.EuiSpacer,{size:"xs"}),i.a.createElement(o.EuiButtonEmpty,{size:"xs",flush:"left",iconType:"plusInCircle","data-test-subj":"datastreamAddCustomIngestPipelineBtn",href:_},i.a.createElement(s.FormattedMessage,{id:"xpack.fleet.packagePolicyEditor.datastreamIngestPipelines.addCustomButn",defaultMessage:"Add custom pipeline"})))):null}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(1),i=n.n(r),a=n(6),o=n(12),s=n(4),u=n(5),c=n(17),l=n(50);const d=({packageInputStream:e,packageInfo:t,customDataset:n})=>{const d=n?{...e.data_stream,dataset:n}:e.data_stream,p=Object(l.b)(e.id),{application:f,docLinks:g}=Object(c.sc)(),{componentTemplateItems:b,hasCustom:m,isLoading:E}=function(e){const t=Object(c.Ob)(Object(u.y)(e,"@custom")),n=!!t.data,i=Object(r.useMemo)((()=>[{templateName:Object(u.y)(e,"@package"),canEdit:!1},...n?[{templateName:Object(u.y)(e,"@custom"),canEdit:!0}]:[]]),[e,n]);return{isLoading:t.isLoading,hasCustom:n,componentTemplateItems:i}}(d);return i.a.createElement(a.EuiFlexGroup,{direction:"column",gutterSize:"xs",alignItems:"flexStart"},i.a.createElement(a.EuiFlexItem,{grow:!1},i.a.createElement(a.EuiTitle,{size:"xxxs"},i.a.createElement("h5",null,i.a.createElement(o.FormattedMessage,{id:"xpack.fleet.packagePolicyEditor.datastreamMappings.title",defaultMessage:"Mappings"})))),i.a.createElement(a.EuiFlexItem,{grow:!1},i.a.createElement(a.EuiText,{color:"subdued",size:"xs"},i.a.createElement(o.FormattedMessage,{id:"xpack.fleet.packagePolicyEditor.datastreamMappings.description",defaultMessage:"Mapping is the process of defining how a document, and the fields it contains, are stored and indexed. If you are adding new fields through custom ingest pipeline, we recommend addition of a mapping for those in the component template. {learnMoreLink}",values:{learnMoreLink:i.a.createElement(a.EuiLink,{href:g.links.fleet.datastreams,external:!0},i.a.createElement(o.FormattedMessage,{id:"xpack.fleet.packagePolicyEditor.datastreamMappings.learnMoreLink",defaultMessage:"Learn more"}))}}))),i.a.createElement(a.EuiFlexItem,{grow:!1},i.a.createElement(a.EuiBasicTable,{items:b,columns:[{field:"templateName",name:""},{width:"60px",actions:[{icon:"pencil",type:"icon",description:s.i18n.translate("xpack.fleet.packagePolicyEditor.datastreamMappings.editBtn",{defaultMessage:"Edit mappings"}),"data-test-subj":"datastreamEditMappingsBtn",name:"edit",isPrimary:!0,onClick:async e=>{const t=f.getUrlForApp("management",{path:`/data/index_management/edit_component_template/${e.templateName}`});f.navigateToUrl(`${t}?step=mappings&redirect_path=${p}`)},available:({canEdit:e})=>!!e},{icon:"inspect",type:"icon",description:s.i18n.translate("xpack.fleet.packagePolicyEditor.datastreamMappings.inspectBtn",{defaultMessage:"Inspect mappings"}),name:"inspect","data-test-subj":"datastreamInspectMappingsBtn",isPrimary:!0,onClick:async e=>{const t=f.getUrlForApp("management",{path:`/data/index_management/component_templates/${e.templateName}`});f.navigateToUrl(`${t}?redirect_path=${p}`)}}]}]})),!E&&!m&&i.a.createElement(a.EuiFlexItem,{grow:!1},i.a.createElement(a.EuiSpacer,{size:"xs"}),i.a.createElement(a.EuiButtonEmpty,{size:"xs",flush:"left",iconType:"plusInCircle","data-test-subj":"datastreamAddCustomComponentTemplateBtn",onClick:async()=>{const e=f.getUrlForApp("management",{path:"/data/index_management/create_component_template"}),t=Object(u.y)(d,"@custom");f.navigateToUrl(`${e}?name=${t}&step=mappings&redirect_path=${p}`)}},i.a.createElement(o.FormattedMessage,{id:"xpack.fleet.packagePolicyEditor.datastreamMappings.addCustomButn",defaultMessage:"Add custom mappings"}))))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l}));var r=n(13),i=n(24),a=n(0);const o=[a.ab,a.bb,a.L];function s(e){return e.package_policies&&e.package_policies.some((e=>{var t,n;return(null===(t=e.package)||void 0===t?void 0:t.name)&&o.includes(null===(n=e.package)||void 0===n?void 0:n.name)}))?[a.Xb.Elasticsearch]:Object.values(a.Xb)}function u(e,t){if(!e||""===e)return!1;const n=t(e);if(!Object(r.isObject)(n))return"string"==typeof n&&a.Bb.some((e=>n.includes(e)));const o=Object(r.isObject)(n)?Object(i.getFlattenedObject)(n):{};return a.Bb.some((e=>Object.keys(o).includes(e)))}function c(e,t){return u(e,t)?"custom":"balanced"}function l(e){return a.rb.includes(e)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return s}));var r=n(4),i=n(53);const a={kibana:Object.values(i.c),elasticsearch:Object.values(i.a)},o={dashboard:r.i18n.translate("xpack.fleet.epm.assetTitles.dashboards",{defaultMessage:"Dashboards"}),lens:r.i18n.translate("xpack.fleet.epm.assetTitles.lens",{defaultMessage:"Lens"}),visualization:r.i18n.translate("xpack.fleet.epm.assetTitles.visualizations",{defaultMessage:"Visualizations"}),search:r.i18n.translate("xpack.fleet.epm.assetTitles.savedSearches",{defaultMessage:"Saved searches"}),"index-pattern":r.i18n.translate("xpack.fleet.epm.assetTitles.indexPatterns",{defaultMessage:"Data views"}),index_pattern:r.i18n.translate("xpack.fleet.epm.assetTitles.indexPatterns",{defaultMessage:"Data views"}),map:r.i18n.translate("xpack.fleet.epm.assetTitles.maps",{defaultMessage:"Maps"}),"security-rule":r.i18n.translate("xpack.fleet.epm.assetTitles.securityRules",{defaultMessage:"Security rules"}),security_rule:r.i18n.translate("xpack.fleet.epm.assetTitles.securityRules",{defaultMessage:"Security rules"}),"csp-rule-template":r.i18n.translate("xpack.fleet.epm.assetTitles.cloudSecurityPostureRuleTemplate",{defaultMessage:"Benchmark rules"}),csp_rule_template:r.i18n.translate("xpack.fleet.epm.assetTitles.cloudSecurityPostureRuleTemplate",{defaultMessage:"Benchmark rules"}),"ml-module":r.i18n.translate("xpack.fleet.epm.assetTitles.mlModules",{defaultMessage:"ML modules"}),ml_module:r.i18n.translate("xpack.fleet.epm.assetTitles.mlModules",{defaultMessage:"ML modules"}),tag:r.i18n.translate("xpack.fleet.epm.assetTitles.tag",{defaultMessage:"Tags"}),"osquery-pack-asset":r.i18n.translate("xpack.fleet.epm.assetTitles.osqueryPackAssets",{defaultMessage:"Osquery packs"}),osquery_pack_asset:r.i18n.translate("xpack.fleet.epm.assetTitles.osqueryPackAssets",{defaultMessage:"Osquery packs"}),"osquery-saved-query":r.i18n.translate("xpack.fleet.epm.assetTitles.osquerySavedQuery",{defaultMessage:"Osquery saved queries"}),osquery_saved_query:r.i18n.translate("xpack.fleet.epm.assetTitles.osquerySavedQuery",{defaultMessage:"Osquery saved queries"}),ilm_policy:r.i18n.translate("xpack.fleet.epm.assetTitles.ilmPolicies",{defaultMessage:"ILM policies"}),ingest_pipeline:r.i18n.translate("xpack.fleet.epm.assetTitles.ingestPipelines",{defaultMessage:"Ingest pipelines"}),transform:r.i18n.translate("xpack.fleet.epm.assetTitles.transforms",{defaultMessage:"Transforms"}),index:r.i18n.translate("xpack.fleet.epm.assetTitles.indices",{defaultMessage:"Indices"}),index_template:r.i18n.translate("xpack.fleet.epm.assetTitles.indexTemplates",{defaultMessage:"Index templates"}),component_template:r.i18n.translate("xpack.fleet.epm.assetTitles.componentTemplates",{defaultMessage:"Component templates"}),data_stream_ilm_policy:r.i18n.translate("xpack.fleet.epm.assetTitles.dataStreamILM",{defaultMessage:"Data stream ILM policies"}),ml_model:r.i18n.translate("xpack.fleet.epm.assetTitles.mlModels",{defaultMessage:"ML models"}),view:r.i18n.translate("xpack.fleet.epm.assetTitles.views",{defaultMessage:"Views"})},s={kibana:"Kibana",elasticsearch:"Elasticsearch"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1),i=n(4),a=n(17);const o=()=>{const{notifications:e}=Object(a.sc)(),[t,n]=Object(r.useState)(),[o,s]=Object(r.useState)(!1);return{serviceToken:t,isLoadingServiceToken:o,generateServiceToken:Object(r.useCallback)((async t=>{s(!0);try{const{data:e}=await Object(a.u)(t);null!=e&&e.value&&n(null==e?void 0:e.value)}catch(t){e.toasts.addError(t,{title:i.i18n.translate("xpack.fleet.errorGeneratingTokenTitleText",{defaultMessage:"Error generating token"})})}finally{s(!1)}}),[e.toasts])}}},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"d",(function(){return _})),n.d(t,"e",(function(){return h})),n.d(t,"f",(function(){return T})),n.d(t,"c",(function(){return P})),n.d(t,"b",(function(){return k}));var r=n(21),i=n.n(r),a=n(23),o=n.n(a),s=n(25),u=n.n(s),c=n(43),l=n.n(c),d=n(81),p=n.n(d),f=n(55),g=n.n(f);const b=10,m="8.12.0",E="agent version is not valid.",v="latest version is not valid.";function _(e,t){var n,r,i;return t&&h(e)&&(null==e||null===(n=e.local_metadata)||void 0===n||null===(r=n.elastic)||void 0===r||null===(i=r.agent)||void 0===i?void 0:i.version)&&y(e.local_metadata.elastic.agent.version,t)}function h(e){var t,n,r;return!(e.unenrollment_started_at||e.unenrolled_at||null===(t=e.local_metadata)||void 0===t||null===(n=t.elastic)||void 0===n||null===(r=n.agent)||void 0===r||!r.upgradeable||A(e)||function(e){var t;return"UPG_WATCHING"===(null===(t=e.upgrade_details)||void 0===t?void 0:t.state)}(e)||O(e).hasBeenUpgradedRecently)}function T(e,t){var n,r,i;if(!h(e))return!1;let a;return"string"==typeof(null==e||null===(n=e.local_metadata)||void 0===n||null===(r=n.elastic)||void 0===r||null===(i=r.agent)||void 0===i?void 0:i.version)&&(a=e.local_metadata.elastic.agent.version,!!t&&I(a,t))}const y=(e,t)=>{const n=i()(e);if(!n)throw new Error(`${E}`);const r=i()(t);if(!r)throw new Error(`${v}`);return o()(n,r)},P=(e,t,n)=>{var r,a,s;let c;if("string"!=typeof(null==e||null===(r=e.local_metadata)||void 0===r||null===(a=r.elastic)||void 0===a||null===(s=a.agent)||void 0===s?void 0:s.version))return"agent version is missing.";if(c=e.local_metadata.elastic.agent.version,e.unenrolled_at)return"agent has been unenrolled.";if(e.unenrollment_started_at)return"agent is being unenrolled.";if(!e.local_metadata.elastic.agent.upgradeable)return"agent cannot be upgraded through Fleet. It may be running in a container or it is not installed as a service.";if(A(e))return"agent is already being upgraded.";if(O(e).hasBeenUpgradedRecently){const t=O(e).timeToWaitMins;return`agent was upgraded ${O(e).elapsedMinsSinceUpgrade} minutes ago, please wait ${t} minutes before attempting the upgrade again.`}const l=i()(c);if(!l)return E;if(void 0!==n){const e=i()(n);if(!e)return"the selected version is not valid.";if(p()(l,e))return"agent is already running on the selected version.";if(o()(e,l))return"agent does not support downgrades.";if(u()(e,l))return}const d=i()(t);return d?u()(l,d)?"agent is running on a version greater than the latest available version.":void 0:v},I=(e,t)=>{const n=i()(e);if(!n)throw new Error(`${E}`);const r=i()(t);return!r||u()(r,n)};function O(e){const t=l()(e.local_metadata.elastic.agent.version,m);if(!e.upgraded_at||t)return{hasBeenUpgradedRecently:!1,timeToWaitMs:0,timeToWaitMins:0,elapsedMinsSinceUpgrade:0};const n=Date.now()-Date.parse(e.upgraded_at),r=g.a.duration(n,"milliseconds").asMinutes(),i=Math.ceil(r),a=6e4*b-n,o=n/6e4<b,s=g.a.duration(a,"milliseconds").asMinutes();return{hasBeenUpgradedRecently:o,timeToWaitMs:a,elapsedMinsSinceUpgrade:i,timeToWaitMins:Math.ceil(s)}}function A(e){return e.upgrade_details?"UPG_FAILED"!==e.upgrade_details.state:e.upgrade_started_at&&!e.upgraded_at}const k=(e,t,n=!0)=>{const[r,i,a]=e.split("."),[o,s,u]=t.split(".");return r===o&&i===s&&(n?a>=u:a>u)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(18),i=n(3);const a=e=>new URL(e,"http://example.com").pathname;function o(){const{http:e}=Object(r.a)();return{toSharedAssets:t=>e.basePath.prepend(`/plugins/kibanaReact/assets/${t}`),toPackageImage:(t,n,r)=>{const a=t.src?`/package/${n}/${r}${t.src}`:"path"in t&&t.path;if(a){const t=i.l.getFilePath(a);return e.basePath.prepend(t)}},toRelativeImage:({path:t,packageName:n,version:r})=>{const o=a(t),s=`${i.l.getInfoPath(n,r)}${o}`;return e.basePath.prepend(s)}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(85),i=n.n(r),a=n(49),o=n(16);const s=e=>{const t=Object(a.c)(o.p.APM_LOCATOR),{error:n,loading:r,value:s}=i()((()=>{if(!(e=>Boolean("apm"===e.package))(e)||!t)return Promise.resolve();if(e.serviceDetails){const{serviceName:n,environment:r}=e.serviceDetails;return t.getUrl({serviceName:n,serviceOverviewTab:"logs"===e.type?"errors":e.type,query:{environment:r}})}return t.getUrl({serviceName:void 0})}));return{isSuccessful:!n&&!r,href:s}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n(20),i=n.n(r),a=n(1),o=n(82),s=n(83),u=n(32),c=n.n(u),l=n(48),d=n.n(l),p=n(6);const f="eui-global",g="eui-utilities",b={darkMode:!1};var m=n(8);const E=[p.euiStylisPrefixer],v=d()({key:"css",stylisPlugins:E,container:document.querySelector('meta[name="emotion"]')}),_=d()({key:f,stylisPlugins:E,container:document.querySelector(`meta[name="${f}"]`)}),h=d()({key:g,stylisPlugins:E,container:document.querySelector(`meta[name="${g}"]`)});v.compat=!0,_.compat=!0,h.compat=!0;const T={default:v,global:_,utility:h},y=({theme:{theme$:e},globalStyles:t,colorMode:n,modify:r,children:i})=>{const o=c()(e,b),s=Object(a.useMemo)((()=>(e=>e.darkMode?p.COLOR_MODES_STANDARD.dark:p.COLOR_MODES_STANDARD.light)(o)),[o]),u=n||s,l=!1!==t&&void 0;return Object(m.jsx)(p.EuiProvider,{cache:T,modify:r,colorMode:u,globalStyles:l,utilityClasses:l},i)},P=({children:e,i18n:t,...n})=>Object(o.useIsNestedEuiProvider)()?(Object(s.emitEuiProviderWarning)("KibanaRootContextProvider has likely been nested in this React tree, either by direct reference or by KibanaRenderContextProvider.  The result of this nesting is a nesting of EuiProvider, which has negative effects.  Check your React tree for nested Kibana context providers."),Object(m.jsx)(t.Context,null,e)):Object(m.jsx)(y,n,Object(m.jsx)(t.Context,null,e));var I=n(57);const O=({children:e,...t})=>Object(m.jsx)(P,i()({globalStyles:!1},t),Object(m.jsx)(I.KibanaErrorBoundaryProvider,{analytics:t.analytics},Object(m.jsx)(I.KibanaErrorBoundary,null,e)))},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(62),i=n(1),a=n.n(i),o=n(18),s=n(6),u=n(4),c=n(12);const l=({onCancel:e,onConfirm:t,pkgName:n,docLinks:r})=>a.a.createElement(s.EuiConfirmModal,{title:a.a.createElement("span",{className:"eui-textBreakWord"},a.a.createElement(c.FormattedMessage,{id:"xpack.fleet.ConfirmOpenUnverifiedModal.title",defaultMessage:"View unverified integration?"})),onCancel:e,onConfirm:t,cancelButtonText:a.a.createElement(c.FormattedMessage,{id:"xpack.fleet.ConfirmOpenUnverifiedModal.cancelButtonLabel",defaultMessage:"Cancel"}),confirmButtonText:a.a.createElement(c.FormattedMessage,{id:"xpack.fleet.ConfirmOpenUnverifiedModal.confirmButtonLabel",defaultMessage:"View anyway"}),buttonColor:"danger","data-test-subj":"ConfirmOpenUnverifiedModal"},a.a.createElement(s.EuiCallOut,{title:u.i18n.translate("xpack.fleet.ConfirmOpenUnverifiedModal.calloutTitleWithPkg",{defaultMessage:"Integration {pkgName} has failed verification",values:{pkgName:n}}),color:"warning",iconType:"warning",children:a.a.createElement(c.FormattedMessage,{id:"xpack.fleet.ConfirmOpenUnverifiedModal.calloutBody",defaultMessage:"This integration contains an unsigned package of unknown authenticity and could contain malicious files. Learn more about {learnMoreLink}.",values:{learnMoreLink:a.a.createElement(s.EuiLink,{target:"_blank",external:!0,href:r.links.fleet.packageSignatures},a.a.createElement(c.FormattedMessage,{id:"xpack.fleet.ConfirmOpenUnverifiedModal.learnMoreLink",defaultMessage:"package signatures"}))}})})),d=()=>{const e=Object(o.a)();return Object(i.useCallback)((t=>(({pkgName:e,fleetServices:t})=>new Promise((n=>{const{overlays:i,docLinks:o,...s}=t,u=i.openModal(Object(r.a)(a.a.createElement(l,{pkgName:e,onConfirm:()=>{u.close(),n(!0)},onCancel:()=>{u.close(),n(!1)},docLinks:o}),s))})))({pkgName:t,fleetServices:e})),[e])}},function(e,t,n){(function(t){const n="object"==typeof t&&Object({IS_KIBANA_DISTRIBUTABLE:"true"})&&Object({IS_KIBANA_DISTRIBUTABLE:"true"}).NODE_DEBUG&&/\bsemver\b/i.test(Object({IS_KIBANA_DISTRIBUTABLE:"true"}).NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=n}).call(this,n(87))},function(e,t){const n=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:n,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},function(e,t,n){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:i,MAX_LENGTH:a}=n(76),o=n(75),s=(t=e.exports={}).re=[],u=t.safeRe=[],c=t.src=[],l=t.t={};let d=0;const p="[a-zA-Z0-9-]",f=[["\\s",1],["\\d",a],[p,i]],g=(e,t,n)=>{const r=(e=>{for(const[t,n]of f)e=e.split(`${t}*`).join(`${t}{0,${n}}`).split(`${t}+`).join(`${t}{1,${n}}`);return e})(t),i=d++;o(e,i,t),l[e]=i,c[i]=t,s[i]=new RegExp(t,n?"g":void 0),u[i]=new RegExp(r,n?"g":void 0)};g("NUMERICIDENTIFIER","0|[1-9]\\d*"),g("NUMERICIDENTIFIERLOOSE","\\d+"),g("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${p}*`),g("MAINVERSION",`(${c[l.NUMERICIDENTIFIER]})\\.(${c[l.NUMERICIDENTIFIER]})\\.(${c[l.NUMERICIDENTIFIER]})`),g("MAINVERSIONLOOSE",`(${c[l.NUMERICIDENTIFIERLOOSE]})\\.(${c[l.NUMERICIDENTIFIERLOOSE]})\\.(${c[l.NUMERICIDENTIFIERLOOSE]})`),g("PRERELEASEIDENTIFIER",`(?:${c[l.NUMERICIDENTIFIER]}|${c[l.NONNUMERICIDENTIFIER]})`),g("PRERELEASEIDENTIFIERLOOSE",`(?:${c[l.NUMERICIDENTIFIERLOOSE]}|${c[l.NONNUMERICIDENTIFIER]})`),g("PRERELEASE",`(?:-(${c[l.PRERELEASEIDENTIFIER]}(?:\\.${c[l.PRERELEASEIDENTIFIER]})*))`),g("PRERELEASELOOSE",`(?:-?(${c[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[l.PRERELEASEIDENTIFIERLOOSE]})*))`),g("BUILDIDENTIFIER",`${p}+`),g("BUILD",`(?:\\+(${c[l.BUILDIDENTIFIER]}(?:\\.${c[l.BUILDIDENTIFIER]})*))`),g("FULLPLAIN",`v?${c[l.MAINVERSION]}${c[l.PRERELEASE]}?${c[l.BUILD]}?`),g("FULL",`^${c[l.FULLPLAIN]}$`),g("LOOSEPLAIN",`[v=\\s]*${c[l.MAINVERSIONLOOSE]}${c[l.PRERELEASELOOSE]}?${c[l.BUILD]}?`),g("LOOSE",`^${c[l.LOOSEPLAIN]}$`),g("GTLT","((?:<|>)?=?)"),g("XRANGEIDENTIFIERLOOSE",`${c[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),g("XRANGEIDENTIFIER",`${c[l.NUMERICIDENTIFIER]}|x|X|\\*`),g("XRANGEPLAIN",`[v=\\s]*(${c[l.XRANGEIDENTIFIER]})(?:\\.(${c[l.XRANGEIDENTIFIER]})(?:\\.(${c[l.XRANGEIDENTIFIER]})(?:${c[l.PRERELEASE]})?${c[l.BUILD]}?)?)?`),g("XRANGEPLAINLOOSE",`[v=\\s]*(${c[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[l.XRANGEIDENTIFIERLOOSE]})(?:${c[l.PRERELEASELOOSE]})?${c[l.BUILD]}?)?)?`),g("XRANGE",`^${c[l.GTLT]}\\s*${c[l.XRANGEPLAIN]}$`),g("XRANGELOOSE",`^${c[l.GTLT]}\\s*${c[l.XRANGEPLAINLOOSE]}$`),g("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),g("COERCE",`${c[l.COERCEPLAIN]}(?:$|[^\\d])`),g("COERCEFULL",c[l.COERCEPLAIN]+`(?:${c[l.PRERELEASE]})?`+`(?:${c[l.BUILD]})?(?:$|[^\\d])`),g("COERCERTL",c[l.COERCE],!0),g("COERCERTLFULL",c[l.COERCEFULL],!0),g("LONETILDE","(?:~>?)"),g("TILDETRIM",`(\\s*)${c[l.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",g("TILDE",`^${c[l.LONETILDE]}${c[l.XRANGEPLAIN]}$`),g("TILDELOOSE",`^${c[l.LONETILDE]}${c[l.XRANGEPLAINLOOSE]}$`),g("LONECARET","(?:\\^)"),g("CARETTRIM",`(\\s*)${c[l.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",g("CARET",`^${c[l.LONECARET]}${c[l.XRANGEPLAIN]}$`),g("CARETLOOSE",`^${c[l.LONECARET]}${c[l.XRANGEPLAINLOOSE]}$`),g("COMPARATORLOOSE",`^${c[l.GTLT]}\\s*(${c[l.LOOSEPLAIN]})$|^$`),g("COMPARATOR",`^${c[l.GTLT]}\\s*(${c[l.FULLPLAIN]})$|^$`),g("COMPARATORTRIM",`(\\s*)${c[l.GTLT]}\\s*(${c[l.LOOSEPLAIN]}|${c[l.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",g("HYPHENRANGE",`^\\s*(${c[l.XRANGEPLAIN]})\\s+-\\s+(${c[l.XRANGEPLAIN]})\\s*$`),g("HYPHENRANGELOOSE",`^\\s*(${c[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[l.XRANGEPLAINLOOSE]})\\s*$`),g("STAR","(<|>)?=?\\s*\\*"),g("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),g("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},function(e,t,n){const r=n(36);e.exports=(e,t,n=!1)=>{if(e instanceof r)return e;try{return new r(e,t)}catch(e){if(!n)return null;throw e}}},function(e,t,n){const r=n(78);e.exports=(e,t)=>{const n=r(e,t);return n?n.version:null}},function(e,t,n){"use strict";n.d(t,"b",(function(){return PackagePolicyValidationError})),n.d(t,"a",(function(){return AgentRequestInvalidError}));var r=n(10),i=n.n(r);class FleetError extends Error{constructor(e,t){super(e),i()(this,"attributes",void 0),this.meta=t,this.name=this.constructor.name}}class PackagePolicyValidationError extends FleetError{}class AgentRequestInvalidError extends FleetError{}},function(e,t,n){const r=n(37);e.exports=(e,t,n)=>0===r(e,t,n)},function(e,t){e.exports=__kbnSharedDeps__.ElasticEuiLibComponentsUseIsNestedEuiProvider},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setEuiDevProviderWarning=t.getEuiDevProviderWarning=t.emitEuiProviderWarning=void 0;var r=void 0;t.setEuiDevProviderWarning=function(e){return r=e},t.getEuiDevProviderWarning=function(){return r},t.emitEuiProviderWarning=function(e){if("function"==typeof r)return r(e);switch(r){case"log":console.log(e);break;case"warn":console.warn(e);break;case"error":throw new Error(e)}}},function(e,t,n){const r=n(37);e.exports=(e,t,n)=>r(t,e,n)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(54),i=n(1),a=r.__importDefault(n(96));t.default=function(e,t){void 0===t&&(t=[]);var n=a.default(e,t,{loading:!0}),r=n[0],o=n[1];return i.useEffect((function(){o()}),[o]),r}},function(e,t,n){e.exports=n(41)(3085)},function(e,t,n){e.exports=n(41)(675)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i="undefined"!=typeof window?r.useLayoutEffect:r.useEffect;t.default=i},function(e,t,n){n(90),__kbnBundles__.define("plugin/fleet/public",n,98),__kbnBundles__.define("plugin/fleet/common",n,19)},function(e,t,n){n.p=window.__kbnPublicPath__.fleet},function(e,t){const n=Object.freeze({loose:!0}),r=Object.freeze({});e.exports=e=>e?"object"!=typeof e?n:e:r},function(e,t){const n=/^[0-9]+$/,r=(e,t)=>{const r=n.test(e),i=n.test(t);return r&&i&&(e=+e,t=+t),e===t?0:r&&!i?-1:i&&!r?1:e<t?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},function(e,t,n){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},function(e,t,n){"use strict";var r="%[a-f0-9]{2}",i=new RegExp("("+r+")|([^%]+?)","gi"),a=new RegExp("("+r+")+","gi");function o(e,t){try{return[decodeURIComponent(e.join(""))]}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],o(n),o(r))}function s(e){try{return decodeURIComponent(e)}catch(r){for(var t=e.match(i)||[],n=1;n<t.length;n++)t=(e=o(t,n).join("")).match(i)||[];return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=a.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=s(n[0]);r!==n[0]&&(t[n[0]]=r)}n=a.exec(e)}t["%C2"]="�";for(var i=Object.keys(t),o=0;o<i.length;o++){var u=i[o];e=e.replace(new RegExp(u,"g"),t[u])}return e}(e)}}},function(e,t,n){"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(54),i=n(1),a=r.__importDefault(n(97));t.default=function(e,t,n){void 0===t&&(t=[]),void 0===n&&(n={loading:!1});var o=i.useRef(0),s=a.default(),u=i.useState(n),c=u[0],l=u[1],d=i.useCallback((function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=++o.current;return l((function(e){return r.__assign(r.__assign({},e),{loading:!0})})),e.apply(void 0,t).then((function(e){return s()&&i===o.current&&l({value:e,loading:!1}),e}),(function(e){return s()&&i===o.current&&l({error:e,loading:!1}),e}))}),t);return[c,d]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);t.default=function(){var e=r.useRef(!1),t=r.useCallback((function(){return e.current}),[]);return r.useEffect((function(){return e.current=!0,function(){e.current=!1}})),t}},function(e,t,n){"use strict";n.r(t),n.d(t,"plugin",(function(){return Y})),n.d(t,"SetupTechnology",(function(){return q.d})),n.d(t,"pagePathGetters",(function(){return T.C})),n.d(t,"pkgKeyFromPackageInfo",(function(){return V.y})),n.d(t,"CustomAssetsAccordion",(function(){return C})),n.d(t,"PackageIcon",(function(){return K.b})),n.d(t,"PackagePolicyEditorDatastreamPipelines",(function(){return z.a})),n.d(t,"PackagePolicyEditorDatastreamMappings",(function(){return H.a})),n.d(t,"LazyPackagePolicyInputVarField",(function(){return X})),n.d(t,"PackageList",(function(){return Q})),n.d(t,"AvailablePackagesHook",(function(){return W}));var r=n(1),i=n.n(r),a=n(10),o=n.n(a),s=n(52),u=n(4);const c="elastic-api-version";var l=n(13),d=n(69),p=n(11),f=n(19),g=(n(33),n(0));const b=({fleet:e,integrations:t,subfeatureEnabled:n})=>{var r,i,a,o,s,u,c,l,d,p,f,g,b,m,E,v,_,h,T,y,P,I,O,A,k,S,N,R,L,j,x,w,$,C,M,D,U,F;const G=n?!!(null!==(r=e.agents)&&void 0!==r&&r.all&&null!==(i=e.agentPolicies)&&void 0!==i&&i.all&&null!==(a=e.settings)&&void 0!==a&&a.all):e.all,B=n?null!==(o=(null===(s=e.agentPolicies)||void 0===s?void 0:s.all)&&t.all)&&void 0!==o&&o:null!==(u=e.all||(null===(c=e.agentPolicies)||void 0===c?void 0:c.all))&&void 0!==u&&u&&t.all,q=n?null!==(l=(null===(d=e.agentPolicies)||void 0===d?void 0:d.read)&&(t.all||t.read))&&void 0!==l&&l:null!==(p=e.all||e.read||(null===(f=e.agentPolicies)||void 0===f?void 0:f.read))&&void 0!==p&&p&&(t.all||t.read);return{fleet:n?{all:G&&(t.all||t.read),readAgents:null!==(g=(null===(b=e.agents)||void 0===b?void 0:b.read)||(null===(m=e.agents)||void 0===m?void 0:m.all))&&void 0!==g&&g,allAgents:null!==(E=null===(v=e.agents)||void 0===v?void 0:v.all)&&void 0!==E&&E,readSettings:null!==(_=(null===(h=e.settings)||void 0===h?void 0:h.read)||(null===(T=e.settings)||void 0===T?void 0:T.all))&&void 0!==_&&_,allSettings:null!==(y=null===(P=e.settings)||void 0===P?void 0:P.all)&&void 0!==y&&y,allAgentPolicies:null!==(I=null===(O=e.agentPolicies)||void 0===O?void 0:O.all)&&void 0!==I&&I,addAgents:null!==(A=null===(k=e.agents)||void 0===k?void 0:k.all)&&void 0!==A&&A,addFleetServers:null!==(S=(null===(N=e.agents)||void 0===N?void 0:N.all)&&(null===(R=e.settings)||void 0===R?void 0:R.all))&&void 0!==S&&S,setup:G||e.read||(null===(L=e.agents)||void 0===L?void 0:L.read)||(null===(j=e.agentPolicies)||void 0===j?void 0:j.read)||(null===(x=e.settings)||void 0===x?void 0:x.read)||e.setup,readEnrollmentTokens:null!==(w=e.setup||(null===($=e.agents)||void 0===$?void 0:$.all))&&void 0!==w&&w,readAgentPolicies:null!==(C=e.setup||(null===(M=e.agentPolicies)||void 0===M?void 0:M.read))&&void 0!==C&&C}:{all:e.all&&(t.all||t.read),readAgents:e.all&&(t.all||t.read),allAgents:e.all&&(t.all||t.read),readSettings:e.all&&(t.all||t.read),allSettings:e.all&&(t.all||t.read),allAgentPolicies:e.all&&(t.all||t.read),addAgents:e.all&&(t.all||t.read),addFleetServers:e.all&&(t.all||t.read),setup:e.all||e.setup,readEnrollmentTokens:null!==(D=e.all||e.setup||(null===(U=e.agents)||void 0===U?void 0:U.all))&&void 0!==D&&D,readAgentPolicies:null!==(F=e.all||e.setup)&&void 0!==F&&F},integrations:{readPackageInfo:G||e.setup||t.all||t.read,readInstalledPackages:t.all||t.read,installPackages:B&&t.all,upgradePackages:B&&t.all,removePackages:B&&t.all,uploadPackages:B&&t.all,readPackageSettings:t.read,writePackageSettings:B&&t.all,readIntegrationPolicies:q,writeIntegrationPolicies:B}}};function m(e){return e?{endpoint:{actions:Object.entries(g.B).reduce(((t,[n,{privilegeName:r}])=>(t[n]={executePackageAction:e.siem&&e.siem[r]||!1},t)),{})},transform:{actions:Object.keys(e.transform).reduce(((t,n)=>(t[n]={executePackageAction:e.transform[n]||!1},t)),{})}}:{}}function E(e){if(e&&e.siem)return{actions:Object.keys(g.A).reduce(((t,n)=>(t[n]=e.siem[n]||!1,t)),{})}}const v=Object.freeze({createPackagePolicyMultiPageLayout:!0,packageVerification:!0,showDevtoolsRequest:!0,diagnosticFileUploadEnabled:!0,displayAgentMetrics:!0,showIntegrationsSubcategories:!0,agentFqdnMode:!0,showExperimentalShipperOptions:!1,agentTamperProtectionEnabled:!0,secretsStorage:!0,kafkaOutput:!0,outputSecretsStorage:!0,remoteESOutput:!0,agentless:!1,enableStrictKQLValidation:!1,subfeaturePrivileges:!1,enablePackagesStateMachine:!0,advancedPolicySettings:!0,useSpaceAwareness:!1,enableReusableIntegrationPolicies:!1}),_=Object.keys(v),h=e=>_.includes(e);var T=n(9),y=n(15),P=n(14),I=n(56);const O="integration",A=(e,t,n)=>{var r;const i={id:e.name,type:O,title:e.title,score:80,icon:Object(I.a)(e,n),url:{path:`${t.getUrlForApp(f.INTEGRATIONS_PLUGIN_ID)}${T.C.integration_details_overview({pkgkey:e.name})[1]}`,prependBasePath:!1}},a=null===(r=e.policy_templates)||void 0===r?void 0:r.map((r=>({id:r.name,type:O,title:r.title,score:80,icon:Object(I.a)(e,n,r),url:{path:`${t.getUrlForApp(f.INTEGRATIONS_PLUGIN_ID)}${T.C.integration_details_overview({pkgkey:e.name,integration:r.name})[1]}`,prependBasePath:!1}})));return[i,...a&&a.length>1?a:[]]};var k=n(6);const S=i.a.lazy((()=>n.e(9).then(n.bind(null,710)))),N=()=>i.a.createElement(i.a.Suspense,{fallback:i.a.createElement(k.EuiLoadingSpinner,null)},i.a.createElement(S,null)),R=i.a.lazy((()=>n.e(10).then(n.bind(null,711)))),L=({moduleName:e})=>i.a.createElement(i.a.Suspense,{fallback:i.a.createElement(k.EuiLoadingSpinner,null)},i.a.createElement(R,{moduleName:e}));var j=n(46),x=n(45),w=n(114),$=n(67);const C=({views:e,initialIsOpen:t=!1,title:n})=>{const{application:a}=Object(y.Xc)();return i.a.createElement(k.EuiAccordion,{initialIsOpen:t,buttonContent:i.a.createElement(k.EuiFlexGroup,{justifyContent:"center",alignItems:"center",gutterSize:"s",responsive:!1},i.a.createElement(k.EuiFlexItem,{grow:!1},i.a.createElement(k.EuiText,{size:"m"},i.a.createElement("h3",null,null!=n?n:$.a.view))),i.a.createElement(k.EuiFlexItem,{grow:!1},i.a.createElement(k.EuiNotificationBadge,{color:"subdued",size:"m"},i.a.createElement("h3",null,e.length)))),id:"custom-assets"},i.a.createElement(i.a.Fragment,null,i.a.createElement(k.EuiSpacer,{size:"m"}),i.a.createElement(k.EuiSplitPanel.Outer,{hasBorder:!0,hasShadow:!1},e.map(((t,n)=>i.a.createElement(r.Fragment,{key:n},i.a.createElement(k.EuiSplitPanel.Inner,{grow:!1,key:n},i.a.createElement(k.EuiText,{size:"m"},i.a.createElement("p",null,i.a.createElement(w.a,{coreStart:{application:a}},i.a.createElement(k.EuiLink,{href:t.url},t.name)))),i.a.createElement(k.EuiSpacer,{size:"s"}),i.a.createElement(k.EuiText,{size:"s",color:"subdued"},i.a.createElement("p",null,t.description))),n+1<e.length&&i.a.createElement(k.EuiHorizontalRule,{margin:"none"})))))))},M=()=>{const{http:e,cloud:t}=Object(y.Xc)(),n=null!=t&&t.isServerlessEnabled?e.basePath.prepend("/app/discover"):e.basePath.prepend("/app/logs/stream"),r=[{name:u.i18n.translate("xpack.fleet.assets.customLogs.name",{defaultMessage:"Logs"}),url:n,description:u.i18n.translate("xpack.fleet.assets.customLogs.description",{defaultMessage:"View Custom logs data in Logs app"})}];return i.a.createElement(C,{views:r,initialIsOpen:!0})},D=Object(r.lazy)((async()=>({default:M})));var U=n(34),F=n(26);let G=function(e){return e.agents="agents",e.policies="policies",e.enrollmentTokens="enrollment_tokens",e.uninstallTokens="uninstall_tokens",e.dataStreams="data_streams",e.settings="settings",e}({});const B=(e,t)=>[{id:G.agents,title:u.i18n.translate("xpack.fleet.deepLinks.agents.title",{defaultMessage:"Agents"}),path:F.b.agents,visibleIn:null!=t&&t.fleet.readAgents?["globalSearch"]:[]},{id:G.policies,title:u.i18n.translate("xpack.fleet.deepLinks.policies.title",{defaultMessage:"Agent policies"}),path:F.b.policies,visibleIn:null!=t&&t.fleet.readAgentPolicies?["globalSearch"]:[]},{id:G.enrollmentTokens,title:u.i18n.translate("xpack.fleet.deepLinks.enrollmentTokens.title",{defaultMessage:"Enrollment tokens"}),path:F.b.enrollment_tokens,visibleIn:null!=t&&t.fleet.allAgents?["globalSearch"]:[]},...e.agentTamperProtectionEnabled?[{id:G.uninstallTokens,title:u.i18n.translate("xpack.fleet.deepLinks.uninstallTokens.title",{defaultMessage:"Uninstall tokens"}),path:F.b.uninstall_tokens,visibleIn:null!=t&&t.fleet.allAgents?["globalSearch"]:[]}]:[],{id:G.dataStreams,title:u.i18n.translate("xpack.fleet.deepLinks.dataStreams.title",{defaultMessage:"Data streams"}),path:F.b.data_streams},{id:G.settings,title:u.i18n.translate("xpack.fleet.deepLinks.settings.title",{defaultMessage:"Settings"}),path:F.b.settings,visibleIn:null!=t&&t.fleet.readSettings?["globalSearch"]:[]}];class plugin_FleetPlugin{constructor(e){o()(this,"config",void 0),o()(this,"kibanaVersion",void 0),o()(this,"extensions",{}),o()(this,"experimentalFeatures",void 0),o()(this,"storage",new d.Storage(localStorage)),o()(this,"appUpdater$",new p.Subject),this.initializerContext=e,this.config=this.initializerContext.config.get(),this.experimentalFeatures=(e=>{const t={...v};for(const n of e)h(n)&&(t[n]=!0);return{...v,...t}})(this.config.enableExperimental||[]),this.kibanaVersion=e.env.packageInfo.version}setup(e,t){const r=this.config,a=this.kibanaVersion,o=this.extensions;return Object(U.c)(t.customIntegrations),Object(P.vb)(e.http),e.application.register({id:f.INTEGRATIONS_PLUGIN_ID,category:s.DEFAULT_APP_CATEGORIES.management,appRoute:"/app/integrations",title:u.i18n.translate("xpack.fleet.integrationsAppTitle",{defaultMessage:"Integrations"}),order:9019,euiIconType:"logoElastic",mount:async s=>{var u,c;const[l,d,p]=await e.getStartServices(),f=t.cloud&&d.cloud?{...t.cloud,...d.cloud}:void 0,g={...l,...d,storage:this.storage,cloud:f,authz:p.authz},{renderApp:b,teardownIntegrations:m}=await Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(4),n.e(6)]).then(n.bind(null,713)),E=null!==(u=null===(c=t.usageCollection)||void 0===c?void 0:c.components.ApplicationUsageTrackingProvider)&&void 0!==u?u:i.a.Fragment,v=b(g,s,r,a,o,E);return()=>{v(),m(g)}}}),e.application.register({id:f.PLUGIN_ID,category:s.DEFAULT_APP_CATEGORIES.management,title:u.i18n.translate("xpack.fleet.appTitle",{defaultMessage:"Fleet"}),order:9020,euiIconType:"logoElastic",appRoute:"/app/fleet",updater$:this.appUpdater$,deepLinks:B(this.experimentalFeatures),mount:async i=>{const[s,u,c]=await e.getStartServices(),l=t.cloud&&u.cloud?{...t.cloud,...u.cloud}:void 0,d={...s,...u,storage:this.storage,cloud:l,authz:c.authz},{renderApp:p,teardownFleet:f}=await Promise.all([n.e(0),n.e(1),n.e(3),n.e(8)]).then(n.bind(null,712)),g=p(d,i,r,a,o);return()=>{g(),f(d)}}}),e.application.register({id:"ingestManager",category:s.DEFAULT_APP_CATEGORIES.management,visibleIn:[],title:u.i18n.translate("xpack.fleet.oldAppTitle",{defaultMessage:"Ingest Manager"}),async mount(t){const[n]=await e.getStartServices();return n.application.navigateToApp("fleet",{path:t.history.location.hash}),()=>{}}}),t.home&&(t.home.tutorials.registerDirectoryHeaderLink(f.PLUGIN_ID,N),t.home.tutorials.registerModuleNotice(f.PLUGIN_ID,L),t.home.featureCatalogue.register({id:"fleet",title:u.i18n.translate("xpack.fleet.featureCatalogueTitle",{defaultMessage:"Add Elastic Agent integrations"}),description:u.i18n.translate("xpack.fleet.featureCatalogueDescription",{defaultMessage:"Add and manage integrations with Elastic Agent"}),icon:"indexManagementApp",showOnHomePage:!0,path:T.p,category:"data",order:510})),t.globalSearch&&t.globalSearch.registerResultProvider((e=>{const t=Object(p.from)(e.getStartServices()).pipe(Object(p.map)((([e])=>e)),Object(p.shareReplay)(1));let n;return{id:"integrations",getSearchableTypes:()=>[O],find:({term:e,types:r},{maxResults:i,aborted$:a})=>{if(!1===(null==r?void 0:r.includes(O)))return Object(p.of)([]);const o=Boolean(r)&&r.includes(O),s=!e,u=o&&s;return!u&&s?Object(p.of)([]):(e&&(e=e.toLowerCase()),Object(p.combineLatest)([t,(n||(n=Object(p.from)(Object(y.U)()).pipe(Object(p.map)((({error:e,data:t})=>{var n;if(e)throw e;return null!==(n=null==t?void 0:t.response)&&void 0!==n?n:[]})),Object(p.shareReplay)(1))),n)]).pipe(Object(p.takeUntil)(a),Object(p.map)((([t,n])=>n?((t,n)=>n.flatMap(u?e=>A(e,t.application,t.http.basePath):n=>e?A(n,t.application,t.http.basePath).filter((t=>e&&t.title.toLowerCase().includes(e))):[]).slice(0,i))(t,n):[]))))}}})(e)),{}}start(e,t){var n;x.a.init(this.experimentalFeatures);const r=Object(j.a)(this.extensions),i=Object(l.once)((()=>e.http.fetch(f.appRoutesService.getCheckPermissionsPath(),{headers:{[c]:g.o.public.v1},version:g.o.public.v1})));y.i.start(t.licensing.license$);const{capabilities:a}=e.application,o={...b({fleet:{all:a.fleetv2.all,setup:!1,agents:{read:a.fleetv2.agents_read,all:a.fleetv2.agents_all},agentPolicies:{read:a.fleetv2.agent_policies_read,all:a.fleetv2.agent_policies_all},settings:{read:a.fleetv2.settings_read,all:a.fleetv2.settings_all}},integrations:{all:a.fleet.all,read:a.fleet.read},subfeatureEnabled:null!==(n=this.experimentalFeatures.subfeaturePrivileges)&&void 0!==n&&n}),packagePrivileges:m(a),endpointExceptionsPrivileges:E(a)};return this.appUpdater$.next((()=>({deepLinks:B(this.experimentalFeatures,o)}))),r({package:T.g,view:"package-detail-assets",Component:D}),Object(U.d)(t.customIntegrations),{authz:o,isInitialized:Object(l.once)((async()=>{const t=await i();if(null!=t&&t.success){const{isInitialized:t}=await e.http.post(f.setupRouteService.getSetupPath(),{version:g.o.public.v1});if(!t)throw new Error("Unknown setup error");return!0}throw new Error((null==t?void 0:t.error)||"Unknown permissions error")})),registerExtension:r,hooks:{epm:{getBulkAssets:y.H}}}}stop(){}}var q=n(42),V=n(3),K=n(63),z=n(64),H=n(65);const Y=e=>new plugin_FleetPlugin(e),X=Object(r.lazy)((()=>n.e(0).then(n.bind(null,204)).then((e=>({default:e.PackagePolicyInputVarField}))))),Q=()=>Promise.all([n.e(0),n.e(1),n.e(2)]).then(n.bind(null,376)),W=()=>Promise.all([n.e(0),n.e(1),n.e(2),n.e(4),n.e(7)]).then(n.bind(null,708))},,function(e,t){e.exports=__kbnSharedDeps__.KbnCodeEditor},function(e,t){e.exports=__kbnSharedDeps__.ReactRouterDomV5Compat},function(e,t){e.exports=__kbnSharedDeps__.ReactQueryDevtools},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/kibanaReact/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.KbnEsQuery},function(e,t){e.exports=__kbnSharedDeps__.KbnUiTheme},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/customIntegrations/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/customIntegrations/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/unifiedSearch/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.SaferLodashSet},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/usageCollection/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/logsShared/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/logsShared/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},,function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(1),i=n.n(r),a=n(20),o=n.n(a),s=n(32),u=n.n(s),c=n(8);const l=i.a.createContext(null),d=({children:e,...t})=>{const{navigateToUrl:n,currentAppId:r}=t;return Object(c.jsx)(l.Provider,{value:{navigateToUrl:n,currentAppId:r}},e)},p=({children:e,coreStart:t})=>{const{navigateToUrl:n,currentAppId$:r}=t.application,i=u()(r,void 0);return Object(c.jsx)(l.Provider,{value:{navigateToUrl:n,currentAppId:i}},e)},f={name:"h42ud6",styles:"display:inherit;height:inherit;width:inherit;flex:1;flex-flow:column nowrap"},g=({children:e,navigateToUrl:t,currentAppId:n,...i})=>{const a=Object(r.useRef)(null),s=Object(r.useCallback)((e=>(({event:e,container:t,navigateToUrl:n,currentAppId:r})=>{if(!t||!r)return;const i=((e,t)=>{let n=e;do{var r,i;if("a"===(null===(r=n)||void 0===r?void 0:r.tagName.toLowerCase()))return n;const e=null===(i=n)||void 0===i?void 0:i.parentElement;if(!e||e===document.body||e===t)break;n=e}while(parent||parent!==document.body||parent!==t)})(e.target,t);if(!i)return;const a=i.href,o=""===i.target||"_self"===i.target,s=0===e.button;a&&o&&s&&!e.defaultPrevented&&!(e=>e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)(e)&&(e.preventDefault(),n(i.href))})({event:e,currentAppId:n,navigateToUrl:t,container:a.current})),[n,t]);return Object(c.jsx)("div",o()({onClick:s,ref:a,css:f,"data-test-subj":"kbnRedirectAppLink"},i),e)},b=({children:e,...t})=>Object(c.jsx)(g,o()({},function(){const e=Object(r.useContext)(l);if(!e)throw new Error("RedirectAppLinksContext is missing.  Ensure your component or React root is wrapped with RedirectAppLinksProvider.");return e}(),t),e),m=({children:e,...t})=>{if(void 0!==t.coreStart){const{coreStart:n,...r}=t,i=Object(c.jsx)(b,r,e);return Object(c.jsx)(p,{coreStart:n},i)}const{navigateToUrl:n,currentAppId:r,...i}=t,a=Object(c.jsx)(b,i,e);return Object(c.jsx)(d,{currentAppId:r,navigateToUrl:n},a)}}]);