/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.monitoring_bundle_jsonpfunction=window.monitoring_bundle_jsonpfunction||[]).push([[4],{169:function(e,t,r){"use strict";r.r(t),r.d(t,"Expression",(function(){return O}));var a=r(5),l=r.n(a),n=r(7),s=r(15),u=r(0),o=r(43),i=r(4),c=r(44),b=r(2);const j=e=>{const{name:t,details:r,setRuleParams:l,errors:s}=e,[u,o]=Object(a.useState)(e.value);return Object(b.jsx)(n.EuiFormRow,{label:r.label,error:s,isInvalid:(null==s?void 0:s.length)>0},Object(b.jsx)(n.EuiFieldNumber,{compressed:!0,value:u,append:r.append,onChange:e=>{let r=Number(e.target.value);isNaN(r)&&(r=0),o(r),l(t,r)}}))},d=e=>{const{name:t,label:r,setRuleParams:l,errors:s,placeholder:u}=e,[o,i]=Object(a.useState)(e.value);return Object(b.jsx)(n.EuiFormRow,{label:r,error:s,isInvalid:(null==s?void 0:s.length)>0},Object(b.jsx)(n.EuiFieldText,{compressed:!0,placeholder:u,value:o,onChange:e=>{const r=e.target.value;i(r),l(t,r)}}))};var m=r(52),x=r(51),p=r(50);const O=e=>{const{ruleParams:t,paramDetails:r,setRuleParams:O,errors:g,config:v,dataViews:f}=e,{derivedIndexPattern:h}=Object(m.a)(f,v),E=Object.keys(r).map((e=>{const a=r[e],l=t[e];switch(null==a?void 0:a.type){case i.b.Duration:return Object(b.jsx)(o.a,{key:e,name:e,duration:l,label:null==a?void 0:a.label,errors:g[e],setRuleParams:O});case i.b.Percentage:return Object(b.jsx)(c.a,{key:e,name:e,label:null==a?void 0:a.label,percentage:l,errors:g[e],setRuleParams:O});case i.b.Number:return Object(b.jsx)(j,{key:e,name:e,details:a,value:l,errors:g[e],setRuleParams:O});case i.b.TextField:return Object(b.jsx)(d,{key:e,name:e,label:null==a?void 0:a.label,value:l,errors:g[e],setRuleParams:O})}})),F=Object(a.useCallback)((e=>{h&&O("filterQueryText",e),h&&O("filterQuery",Object(p.a)(e,h)||"")}),[O,h]),P=Object(a.useCallback)(Object(s.debounce)(F,500),[F]),R=h?Object(b.jsx)(x.a,{value:t.filterQueryText,derivedIndexPattern:h,onSubmit:F,onChange:P}):Object(b.jsx)(l.a.Fragment,null);return Object(b.jsx)(a.Fragment,null,Object(b.jsx)(n.EuiForm,{component:"form"},E,Object(b.jsx)(n.EuiSpacer,null),Object(b.jsx)(n.EuiFormRow,{label:u.i18n.translate("xpack.monitoring.alerts.filterLable",{defaultMessage:"Filter"}),helpText:u.i18n.translate("xpack.monitoring.alerts.filterHelpText",{defaultMessage:"Use a KQL expression to limit the scope of your alert trigger."})},R),Object(b.jsx)(n.EuiSpacer,null)))};t.default=O},44:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var a=r(5),l=r.n(a),n=r(7),s=r(2);const u=e=>{const{name:t,label:r,setRuleParams:a,errors:u}=e,[o,i]=l.a.useState(e.percentage);return Object(s.jsx)(n.EuiFormRow,{label:r,error:u,isInvalid:u.length>0},Object(s.jsx)(n.EuiFieldNumber,{compressed:!0,value:o,append:Object(s.jsx)(n.EuiText,{size:"xs"},Object(s.jsx)("strong",null,"%")),onChange:e=>{let r=parseInt(e.target.value,10);isNaN(r)&&(r=0),i(r),a(t,r)}}))}}}]);