/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.dataVisualizer_bundle_jsonpfunction=window.dataVisualizer_bundle_jsonpfunction||[]).push([[7],{106:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));let i=function(e){return e.DATA_VIEW="dataview",e.ESQL="esql",e}({})},163:function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var i,r,u;if(Array.isArray(t)){if((i=t.length)!=n.length)return!1;for(r=i;0!=r--;)if(!e(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((i=(u=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(r=i;0!=r--;)if(!Object.prototype.hasOwnProperty.call(n,u[r]))return!1;for(r=i;0!=r--;){var o=u[r];if(!e(t[o],n[o]))return!1}return!0}return t!=t&&n!=n}},181:function(e,t,n){"use strict";n.d(t,"d",(function(){return v})),n.d(t,"h",(function(){return b})),n.d(t,"e",(function(){return m})),n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return y})),n.d(t,"f",(function(){return h})),n.d(t,"g",(function(){return u}));var i=n(8),r=n(0);const u=(...e)=>{const[t,n]=Object(r.useState)((()=>o(e)));return Object(r.useEffect)((()=>{const t=Object(i.combineLatest)(e).pipe(Object(i.skip)(1),Object(i.debounceTime)(0)).subscribe((e=>{n(e)}));return()=>t.unsubscribe()}),[]),t},o=e=>e.map((e=>{var t,n;return null!==(t=null==e||null===(n=e.getValue)||void 0===n?void 0:n.call(e))&&void 0!==t?t:void 0})),c=e=>Boolean(e&&void 0!==(null==e?void 0:e.parentApi)),l=e=>Boolean(e&&void 0!==(null==e?void 0:e.timeRange$)),a=e=>Boolean(e&&l(e)&&(e=>Boolean(e&&void 0!==(null==e?void 0:e.filters$)))(e)&&void 0!==(null==e?void 0:e.query$)),s=e=>Boolean(e&&void 0!==(null==e?void 0:e.searchSessionId$)),p=e=>Boolean(e&&void 0!==(null==e?void 0:e.reload$));function d(e,t){var n,i,r,u,o,c,l,a,s,p,d,f,v;const b=e;return{isReload:t,filters:null==b||null===(n=b.parentApi)||void 0===n||null===(i=n.filters$)||void 0===i?void 0:i.value,query:null==b||null===(r=b.parentApi)||void 0===r||null===(u=r.query$)||void 0===u?void 0:u.value,searchSessionId:null==b||null===(o=b.parentApi)||void 0===o||null===(c=o.searchSessionId$)||void 0===c?void 0:c.value,timeRange:null!==(l=null==b||null===(a=b.timeRange$)||void 0===a?void 0:a.value)&&void 0!==l?l:null==b||null===(s=b.parentApi)||void 0===s||null===(p=s.timeRange$)||void 0===p?void 0:p.value,timeslice:null!=b&&null!==(d=b.timeRange$)&&void 0!==d&&d.value||null==b||null===(f=b.parentApi)||void 0===f||null===(v=f.timeslice$)||void 0===v?void 0:v.value}}function f(e){return!(!c(e)||!s(e.parentApi))&&"string"==typeof e.parentApi.searchSessionId$.value}function v(e){const t=function(e){const t=[];if(l(e)&&t.push(e.timeRange$.pipe(Object(i.skip)(1))),c(e)&&a(e.parentApi)&&t.push(Object(i.combineLatest)([e.parentApi.filters$,e.parentApi.query$]).pipe(Object(i.skip)(1),Object(i.filter)((()=>!f(e))))),c(e)&&l(e.parentApi)){const n=[e.parentApi.timeRange$];e.parentApi.timeslice$&&n.push(e.parentApi.timeslice$),t.push(Object(i.combineLatest)(n).pipe(Object(i.skip)(1),Object(i.filter)((()=>!f(e)&&!function(e){return!!l(e)&&"object"==typeof e.timeRange$.value}(e)))))}return t}(e),n=function(e){const t=[];return c(e)&&s(e.parentApi)&&t.push(e.parentApi.searchSessionId$.pipe(Object(i.skip)(1))),c(e)&&p(e.parentApi)&&t.push(e.parentApi.reload$.pipe(Object(i.filter)((()=>!f(e))))),t}(e);if(0===n.length)return Object(i.merge)(...t).pipe(Object(i.startWith)(d(e,!1)),Object(i.debounceTime)(0),Object(i.map)((()=>d(e,!1))));const r=new i.Subject,u=Object(i.merge)(...t).pipe(Object(i.switchMap)((t=>Object(i.of)(t).pipe(Object(i.delay)(0),Object(i.takeUntil)(r),Object(i.map)((()=>d(e,!1))))))),o=Object(i.merge)(...n).pipe(Object(i.tap)((()=>r.next())),Object(i.map)((()=>d(e,!0))));return Object(i.merge)(o,u).pipe(Object(i.startWith)(d(e,!1)))}const b=e=>{const t=Object(r.useMemo)((()=>new i.BehaviorSubject(d(e,!1))),[]);return Object(r.useEffect)((()=>{const n=v(e).subscribe((e=>t.next(e)));return()=>n.unsubscribe()}),[]),(e=>{const t=Object(r.useRef)(!0),[n,u]=Object(r.useState)(null==e?void 0:e.getValue());return Object(r.useEffect)((()=>{if(t.current?t.current=!1:u(null==e?void 0:e.getValue()),!e)return;const n=e.pipe(Object(i.skip)(1)).subscribe((e=>u(e)));return()=>n.unsubscribe()}),[e]),n})(t)};var j=n(163),O=n.n(j);const m=e=>{const t=new i.BehaviorSubject(e.timeRange);function n(e){t.next(e)}return{serialize:()=>({timeRange:t.value}),comparators:{timeRange:[t,n,O.a]},api:{timeRange$:t,setTimeRange:n}}},g=e=>Boolean(e&&"object"==typeof e&&e.hasOwnProperty("executionContext")),y=e=>Boolean(e&&void 0!==(null==e?void 0:e.uuid)),h=e=>{const t=new i.BehaviorSubject(e.title),n=new i.BehaviorSubject(e.description),r=new i.BehaviorSubject(e.hidePanelTitles),u=e=>t.next(e),o=e=>r.next(e),c=e=>n.next(e);return{serializeTitles:()=>({title:t.value,hidePanelTitles:r.value,description:n.value}),titleComparators:{title:[t,u],description:[n,c],hidePanelTitles:[r,o,(e,t)=>Boolean(e)===Boolean(t)]},titlesApi:{panelTitle:t,hidePanelTitle:r,setPanelTitle:u,setHidePanelTitle:o,panelDescription:n,setPanelDescription:c}}}},220:function(e,t,n){"use strict";function i(e){return null!=e}n.d(t,"a",(function(){return i}))},233:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(43);function r(e){var t;const{ast:n}=Object(i.getAstAndSyntaxErrors)(e),r=n.find((({name:e})=>["from","metrics"].includes(e))),u=(null!==(t=null==r?void 0:r.args)&&void 0!==t?t:[]).filter((e=>"index"===e.sourceType));return null==u?void 0:u.map((e=>e.text)).join(",")}},282:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));const i="esql";async function r(e){if(crypto.subtle){const t=new TextEncoder,n=await crypto.subtle.digest("SHA-256",t.encode(e));return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}{const{sha256:t}=await n.e(16).then(n.bind(null,298));return t(e)}}async function u(e,t){var n,u,o;const c=await t.create({title:e,type:i,id:await r(`esql-${e}`)});return e&&"date"===(null==c||null===(n=c.fields)||void 0===n||null===(u=n.getByName)||void 0===u||null===(o=u.call(n,"@timestamp"))||void 0===o?void 0:o.type)&&(c.timeFieldName="@timestamp"),c}},69:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(39),r=n(0),u=i.__importDefault(n(90));t.default=function(e,t){var n=r.useState(t),i=n[0],o=n[1];return u.default((function(){var t=e.subscribe(o);return function(){return t.unsubscribe()}}),[e]),i}},74:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var i=n(24),r=n(88);const u=e=>`\`${e}\``;function o(e){return Object(i.a)(e,["esql"])&&"string"==typeof e.esql}const c=Array.from(Array(r.b/r.c+1),((e,t)=>t*r.c)),l=(e,t=c)=>t.map((t=>`${u(`${e}_p${t}`)} = PERCENTILE(${u(e)}, ${t})`))},88:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return u}));const i=10,r=100,u=5},90:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r="undefined"!=typeof window?i.useLayoutEffect:i.useEffect;t.default=r}}]);