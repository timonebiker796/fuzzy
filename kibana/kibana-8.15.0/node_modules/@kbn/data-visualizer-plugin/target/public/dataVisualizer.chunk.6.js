/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.dataVisualizer_bundle_jsonpfunction=window.dataVisualizer_bundle_jsonpfunction||[]).push([[6],{115:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var i=a(282);async function n(e,t,a){if(t){const a=await e.find(t);if(a.length>0&&a[0].getIndexPattern()===t)return a[0]}return t&&(null!=a&&a.isPersisted()||t!==(null==a?void 0:a.getIndexPattern()))?await Object(i.a)(t,e):a}},119:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var i=a(0),n=a(42),l=a.n(n),o=a(78),s=a(1);const r=(e,t)=>a=>(l.a.render(Object(s.jsx)(o.a,t,e),a),()=>l.a.unmountComponentAtNode(a));a(2),a(4),i.Component},144:function(e,t,a){"use strict";a.r(t),a.d(t,"apiCanAddNewPanel",(function(){return i})),a.d(t,"apiHasRuntimeChildState",(function(){return l})),a.d(t,"apiHasSerializedChildState",(function(){return n})),a.d(t,"apiHasSaveNotification",(function(){return o})),a.d(t,"apiCanDuplicatePanels",(function(){return s})),a.d(t,"apiCanExpandPanels",(function(){return r})),a.d(t,"apiIsPresentationContainer",(function(){return d})),a.d(t,"getContainerParentFromAPI",(function(){return b})),a.d(t,"listenForCompatibleApi",(function(){return f})),a.d(t,"combineCompatibleChildrenApis",(function(){return j})),a.d(t,"apiHasSerializableState",(function(){return p})),a.d(t,"tracksOverlays",(function(){return v})),a.d(t,"canTrackContentfulRender",(function(){return g}));const i=e=>"function"==typeof(null==e?void 0:e.addNewPanel),n=e=>Boolean(e&&e.getSerializedStateForChild),l=e=>Boolean(e&&e.getRuntimeStateForChild),o=e=>Boolean(e&&e.saveNotification$),s=e=>Boolean(void 0!==(null==e?void 0:e.duplicatePanel)),r=e=>Boolean(void 0!==(null==e?void 0:e.expandPanel));var u=a(181),c=a(8);const d=e=>Boolean(i(e)&&"function"==typeof(null==e?void 0:e.removePanel)&&"function"==typeof(null==e?void 0:e.replacePanel)&&"function"==typeof(null==e?void 0:e.addNewPanel)&&(null==e?void 0:e.children$)),b=e=>{const t=Object(u.b)(e)?e.parentApi:null;if(t)return d(t)?t:void 0},f=(e,t,a)=>{if(!e||!d(e))return()=>{};let i,n;const l=e.children$.subscribe((l=>{var o,s;null===(o=i)||void 0===o||o();const r=(()=>{for(const e of Object.keys(l)){const a=l[e];if(t(a))return a}if(t(e))return e})(),c=Object(u.c)(r)?r.uuid:null;c!==n&&(n=c,i=null!==(s=a(r))&&void 0!==s?s:void 0)}));return()=>{var e;l.unsubscribe(),null===(e=i)||void 0===e||e()}},j=(e,t,a,i,n)=>e&&d(e)?e.children$.pipe(Object(c.switchMap)((e=>{const l=[];for(const i of Object.values(e))a(i)&&Object(c.isObservable)(i[t])&&l.push(i[t]);return 0===l.length?Object(c.of)(i):Object(c.combineLatest)(l).pipe(Object(c.map)(n||(e=>e.flat().filter((e=>Boolean(e))))))}))):Object(c.of)(),p=e=>Boolean(null==e?void 0:e.serializeState),v=e=>Boolean(e&&e.openOverlay&&e.clearOverlays),g=e=>null!==e&&"object"==typeof e&&"trackContentfulRender"in e},186:function(e,t,a){"use strict";a.d(t,"a",(function(){return P}));var i=a(10),n=a(4),l=a(25),o=a(0),s=a.n(o),r=a(234),u=a(282),c=a(233),d=a(1),b=a(34),f=a(65),j=a(52);const p=e=>{},v=({canEditTextBasedQuery:e=!0,query:t,setQuery:a,onQuerySubmit:n})=>{const l=Object(o.useRef)(t),[s,r]=Object(o.useState)(!1),u=Object(o.useCallback)((async(e,t)=>{e&&n&&(r(!0),await n(e,t),r(!1))}),[n]);return e?Object(d.jsx)(i.EuiFlexItem,{grow:!1,"data-test-subj":"InlineEditingESQLEditor"},Object(d.jsx)(j.TextBasedLangEditor,{query:t,onTextLangQueryChange:e=>{a(e),l.current=e},expandCodeEditor:p,isCodeEditorExpanded:!0,hideMinimizeButton:!0,editorIsInline:!0,hideRunQueryText:!0,onTextLangQuerySubmit:u,isDisabled:!1,allowQueryCancellation:!0,isLoading:s})):null};var g=a(106),y=a(74);const x=[{id:g.a.DATA_VIEW,label:Object(d.jsx)(l.FormattedMessage,{id:"xpack.dataVisualizer.fieldStatsDashboardPanel.dataSourceSelector.dataViewLabel",defaultMessage:"Data view"}),iconType:"visLine"},{id:g.a.ESQL,label:Object(d.jsx)(l.FormattedMessage,{id:"xpack.dataVisualizer.fieldStatsDashboardPanel.dataSourceSelector.esqlLabel",defaultMessage:"ES|QL"}),iconType:"visTable"}],O=n.i18n.translate("xpack.dataVisualizer.fieldStatsDashboardPanel.dataSourceLabel",{defaultMessage:"Data source"}),m=n.i18n.translate("xpack.dataVisualizer.fieldStatsDashboardPanel.viewTypeLabel",{defaultMessage:"Pick type of data source to use"}),h=({value:e,onChange:t})=>Object(d.jsx)(i.EuiFormRow,{fullWidth:!0,label:O},Object(d.jsx)(i.EuiButtonGroup,{isFullWidth:!0,"aria-label":m,options:x,idSelected:e,onChange:t,legend:m})),S={esql:""},E=n.i18n.translate("xpack.dataVisualizer.fieldStatistics.displayName",{defaultMessage:"Field statistics"});var w={name:"1ek7gal",styles:"block-size:100%"};const P=({initialInput:e,onCreate:t,onCancel:a,onPreview:j,isNewPanel:p})=>{var x,O,m;const{data:{dataViews:P},unifiedSearch:{ui:{IndexPatternSelect:C}},uiSettings:k}=Object(f.a)().services,[F,D]=Object(o.useState)(null!==(x=null==e?void 0:e.dataViewId)&&void 0!==x?x:""),[M,T]=Object(o.useState)(null!==(O=null==e?void 0:e.viewType)&&void 0!==O?O:g.a.DATA_VIEW),[V,z]=Object(o.useState)(null!==(m=null==e?void 0:e.query)&&void 0!==m?m:S),B=Object(o.useMemo)((()=>k.get(r.a)),[k]);Object(o.useEffect)((()=>{void 0===(null==e?void 0:e.viewType)&&T(B?g.a.ESQL:g.a.DATA_VIEW)}),[B,null==e?void 0:e.viewType]);const I=M===g.a.ESQL,L=Object(o.useMemo)((()=>{var t;return{viewType:M,title:null!==(t=null==e?void 0:e.title)&&void 0!==t?t:E,dataViewId:F,query:I?V:void 0}}),[F,M,V.esql,I]),A=Object(o.useCallback)((async(e,t)=>{const a=await Object(u.a)(Object(c.a)(e.esql),P);a&&a.id&&D(a.id),await j({viewType:M,dataViewId:null==a?void 0:a.id,query:e})}),[I]),_=!I||B&&Object(y.d)(V),W=M!==g.a.DATA_VIEW||""!==F;return Object(d.jsx)(s.a.Fragment,null,Object(d.jsx)(i.EuiFlyoutHeader,{hasBorder:!0,css:Object(d.css)("pointer-events:auto;background-color:",b.euiThemeVars.euiColorEmptyShade,";",""),"data-test-subj":"editFlyoutHeader"},Object(d.jsx)(i.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center",responsive:!1},Object(d.jsx)(i.EuiFlexItem,{grow:!1},Object(d.jsx)(i.EuiTitle,{size:"xs","data-test-subj":"inlineEditingFlyoutLabel"},Object(d.jsx)("h2",null,p?n.i18n.translate("xpack.dataVisualizer.fieldStatisticsDashboardPanel.config.createLable",{defaultMessage:"Create field statistics"}):n.i18n.translate("xpack.dataVisualizer.fieldStatisticsDashboardPanel.config.editLabel",{defaultMessage:"Edit field statistics"})," ",Object(d.jsx)(i.EuiIconTip,{type:"iInCircle",content:n.i18n.translate("xpack.dataVisualizer.fieldStatisticsDashboardPanel.config.samplingTooltip",{defaultMessage:"Field statistics uses the random sampling aggregation to increase performance, but some accuracy might be lost."})})))))),Object(d.jsx)(i.EuiFlyoutBody,{className:"lnsEditFlyoutBody",css:Object(d.css)("overflow-y:auto;padding-left:",b.euiThemeVars.euiFormMaxWidth,";margin-left:-",b.euiThemeVars.euiFormMaxWidth,";pointer-events:none;.euiFlyoutBody__overflow{-webkit-mask-image:none;padding-left:inherit;margin-left:inherit;","\n                overflow-y: hidden;\n              ",">*{pointer-events:auto;}}.euiFlyoutBody__overflowContent{padding:0;block-size:100%;}border-bottom:2px solid ",b.euiThemeVars.euiBorderColor,";","")},Object(d.jsx)(i.EuiFlexGroup,{css:w,direction:"column",gutterSize:"none"},p?Object(d.jsx)(i.EuiCallOut,{size:"s",iconType:"iInCircle",title:Object(d.jsx)(l.FormattedMessage,{id:"xpack.dataVisualizer.fieldStatisticsDashboardPanel.config.description",defaultMessage:"The visualization displays summarized information and statistics to show how each field in your data is populated."})}):null,(null==e?void 0:e.viewType)!==g.a.ESQL||B?null:Object(d.jsx)(s.a.Fragment,null,Object(d.jsx)(h,{value:M,onChange:T})),M!==g.a.ESQL||B?null:Object(d.jsx)(s.a.Fragment,null,Object(d.jsx)(i.EuiSpacer,{size:"m"}),Object(d.jsx)(i.EuiCodeBlock,null,V.esql)),M===g.a.DATA_VIEW?Object(d.jsx)(i.EuiFormRow,{fullWidth:!0,label:n.i18n.translate("xpack.dataVisualizer.fieldStatisticsDashboardPanel.dataViewLabel",{defaultMessage:"Data view"})},Object(d.jsx)(C,{autoFocus:!F,fullWidth:!0,compressed:!0,indexPatternId:F,placeholder:n.i18n.translate("xpack.dataVisualizer.fieldStatisticsDashboardPanel.dataViewSelectorPlaceholder",{defaultMessage:"Select data view"}),onChange:e=>{D(null!=e?e:"")}})):null,I&&B?Object(d.jsx)(v,{query:V,setQuery:z,onQuerySubmit:A}):null)),Object(d.jsx)(i.EuiFlyoutFooter,null,Object(d.jsx)(i.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(d.jsx)(i.EuiFlexItem,{grow:!1},Object(d.jsx)(i.EuiButtonEmpty,{onClick:a,"data-test-subj":"fieldStatsInitializerCancelButton",flush:"left","aria-label":n.i18n.translate("xpack.dataVisualizer.fieldStatisticsDashboardPanel.config.cancelButtonAriaLabel",{defaultMessage:"Cancel applied changes"})},Object(d.jsx)(l.FormattedMessage,{id:"xpack.dataVisualizer.fieldStatisticsDashboardPanel.config.cancelButtonLabel",defaultMessage:"Cancel"}))),Object(d.jsx)(i.EuiFlexItem,{grow:!1},Object(d.jsx)(i.EuiButton,{onClick:t.bind(null,L),fill:!0,"aria-label":n.i18n.translate("xpack.dataVisualizer.fieldStatisticsDashboardPanel.config.applyFlyoutAriaLabel",{defaultMessage:"Apply changes"}),disabled:!_||!W,iconType:"check","data-test-subj":"applyFlyoutButton"},Object(d.jsx)(l.FormattedMessage,{id:"xpack.dataVisualizer.fieldStatisticsDashboardPanel.config.applyAndCloseLabel",defaultMessage:"Apply and close"}))))))}},234:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));const i="enableESQL"},65:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var i=a(28);const n=()=>Object(i.useKibana)()},71:function(e,t,a){e.exports=a(16)(4)},75:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return l}));var i=a(10);const n=e=>e.darkMode?i.COLOR_MODES_STANDARD.dark:i.COLOR_MODES_STANDARD.light,l={darkMode:!1}},78:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var i=a(71),n=a.n(i),l=(a(0),a(82)),o=a(37),s=a(1);const r=({children:e,...t})=>Object(s.jsx)(l.b,n()({globalStyles:!1},t),Object(s.jsx)(o.KibanaErrorBoundaryProvider,{analytics:t.analytics},Object(s.jsx)(o.KibanaErrorBoundary,null,e)))},79:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setEuiDevProviderWarning=t.getEuiDevProviderWarning=t.emitEuiProviderWarning=void 0;var i=void 0;t.setEuiDevProviderWarning=function(e){return i=e},t.getEuiDevProviderWarning=function(){return i},t.emitEuiProviderWarning=function(e){if("function"==typeof i)return i(e);switch(i){case"log":console.log(e);break;case"warn":console.warn(e);break;case"error":throw new Error(e)}}},82:function(e,t,a){"use strict";a.d(t,"b",(function(){return m})),a.d(t,"a",(function(){return O}));var i=a(0),n=a(33),l=a(79),o=a(69),s=a.n(o),r=a(36),u=a.n(r),c=a(10);const d="eui-global",b="eui-utilities";var f=a(75),j=a(1);const p=[c.euiStylisPrefixer],v=u()({key:"css",stylisPlugins:p,container:document.querySelector('meta[name="emotion"]')}),g=u()({key:d,stylisPlugins:p,container:document.querySelector(`meta[name="${d}"]`)}),y=u()({key:b,stylisPlugins:p,container:document.querySelector(`meta[name="${b}"]`)});v.compat=!0,g.compat=!0,y.compat=!0;const x={default:v,global:g,utility:y},O=({theme:{theme$:e},globalStyles:t,colorMode:a,modify:n,children:l})=>{const o=s()(e,f.a),r=Object(i.useMemo)((()=>Object(f.b)(o)),[o]),u=a||r,d=!1!==t&&void 0;return Object(j.jsx)(c.EuiProvider,{cache:x,modify:n,colorMode:u,globalStyles:d,utilityClasses:d},l)},m=({children:e,i18n:t,...a})=>Object(n.useIsNestedEuiProvider)()?(Object(l.emitEuiProviderWarning)("KibanaRootContextProvider has likely been nested in this React tree, either by direct reference or by KibanaRenderContextProvider.  The result of this nesting is a nesting of EuiProvider, which has negative effects.  Check your React tree for nested Kibana context providers."),Object(j.jsx)(t.Context,null,e)):Object(j.jsx)(O,a,Object(j.jsx)(t.Context,null,e))}}]);