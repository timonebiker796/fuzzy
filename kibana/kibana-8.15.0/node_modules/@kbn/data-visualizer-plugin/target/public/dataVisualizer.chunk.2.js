/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.dataVisualizer_bundle_jsonpfunction=window.dataVisualizer_bundle_jsonpfunction||[]).push([[2],{103:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return n})),a.d(t,"d",(function(){return s})),a.d(t,"a",(function(){return o})),a.d(t,"e",(function(){return i}));const r="dataVisualizer.frozenDataTierPreference",n="dataVisualizer.randomSamplerPreference",s="dataVisualizer.randomSamplerPValue",o="dataVisualizer.dataDriftChartType",i=[r,n,s,o]},104:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return s})),a.d(t,"e",(function(){return o})),a.d(t,"b",(function(){return i})),a.d(t,"d",(function(){return l}));var r=a(4);const n=[1e-5,5e-5,1e-4,5e-4,.001,.005,.01,.05,.1,.2,.3,.4,.5].map((e=>100*e)),s=1e-5,o=100*s,i={ON_AUTOMATIC:"on_automatic",ON_MANUAL:"on_manual",OFF:"off"},l=[{"data-test-subj":"dvRandomSamplerOptionOnAutomatic",value:i.ON_AUTOMATIC,text:r.i18n.translate("xpack.dataVisualizer.randomSamplerPreference.onAutomaticLabel",{defaultMessage:"On - automatic"})},{"data-test-subj":"dvRandomSamplerOptionOnManual",value:i.ON_MANUAL,text:r.i18n.translate("xpack.dataVisualizer.randomSamplerPreference.onManualLabel",{defaultMessage:"On - manual"})},{"data-test-subj":"dvRandomSamplerOptionOff",value:i.OFF,text:r.i18n.translate("xpack.dataVisualizer.randomSamplerPreference.offLabel",{defaultMessage:"Off"})}]},109:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return c}));var r=a(0),n=a.n(r),s=a(5),o=a(220),i=a(1);const l=n.a.createContext({value:null,setValue(){throw new Error("MlStorageContext set method is not implemented")},removeValue(){throw new Error("MlStorageContext remove method is not implemented")}});function u({children:e,storage:t,storageKeys:a}){const n=Object(r.useMemo)((()=>a.reduce(((e,a)=>(e[a]=t.get(a),e)),{})),[t,a]),[u,c]=Object(r.useState)(n),d=Object(r.useCallback)(((e,a)=>{t.set(e,a),c((t=>({...t,[e]:a})))}),[t]),b=Object(r.useCallback)((e=>{t.remove(e),c((t=>Object(s.omit)(t,e)))}),[t]);Object(r.useEffect)((function(){const e=e=>{(function(e,t){return t.includes(e)})(e.key,a)&&(Object(o.a)(e.newValue)?c((t=>({...t,[e.key]:"string"==typeof e.newValue?JSON.parse(e.newValue):e.newValue}))):c((t=>Object(s.omit)(t,e.key))))};return window.addEventListener("storage",e),()=>{window.removeEventListener("storage",e)}}),[a]);const f=Object(r.useMemo)((()=>({value:u,setValue:d,removeValue:b})),[u,d,b]);return Object(i.jsx)(l.Provider,{value:f},e)}function c(e,t){const{value:a,setValue:n,removeValue:s}=Object(r.useContext)(l);return[Object(r.useMemo)((()=>{var r;return null!==(r=null==a?void 0:a[e])&&void 0!==r?r:t}),[a,e,t]),Object(r.useCallback)((t=>{Object(o.a)(t)?n(e,t):s(e)}),[n,s,e])]}},113:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));const r=new(a(8).Subject)},119:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var r=a(0),n=a(42),s=a.n(n),o=a(78),i=a(1);const l=(e,t)=>a=>(s.a.render(Object(i.jsx)(o.a,t,e),a),()=>s.a.unmountComponentAtNode(a));a(2),a(4),r.Component},129:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var r=a(11),n=a(152),s=a(6);function o(e){var t;let a;return e.type===r.b.STRING?(a=e.aggregatable?s.i.KEYWORD:s.i.TEXT,null!==(t=e.esTypes)&&void 0!==t&&t.includes(s.i.VERSION)&&(a=s.i.VERSION)):a=Object(n.a)(e),a}},130:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));const r=(e,t)=>t?`${e}-${t}`:e},152:function(e,t,a){"use strict";function r(e){var t;return e.timeSeriesMetric||(null!==(t=e.type)&&void 0!==t?t:"string")}a.d(t,"a",(function(){return r}))},153:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var r=a(10),n=a(25),s=(a(0),a(4)),o=a(130),i=a(1);const l=s.i18n.translate("xpack.dataVisualizer.searchPanel.totalDocumentsLabel",{defaultMessage:"Total documents"}),u=({id:e,totalCount:t,approximate:a,loading:u,label:c=l})=>Object(i.jsx)(r.EuiFlexItem,{grow:!1,style:{flexDirection:"row"}},Object(i.jsx)(r.EuiText,{size:"s","data-test-subj":Object(o.a)("dataVisualizerTotalDocCountHeader",e),textAlign:"center"},Object(i.jsx)(n.FormattedMessage,{id:"xpack.dataVisualizer.searchPanel.totalDocCountLabel",defaultMessage:"{label}: {prepend}{strongTotalCount}",values:{label:c,prepend:!u&&a?"~":"",strongTotalCount:u?Object(i.jsx)(r.EuiLoadingSpinner,{size:"s"}):Object(i.jsx)("strong",{"data-test-subj":Object(o.a)("dataVisualizerTotalDocCount",e)},Object(i.jsx)(n.FormattedMessage,{id:"xpack.dataVisualizer.searchPanel.totalDocCountNumber",defaultMessage:"{totalCount, plural, one {#} other {#}}",values:{totalCount:a?t.toPrecision(3):t}}))}})),a?Object(i.jsx)(r.EuiIconTip,{content:s.i18n.translate("xpack.dataVisualizer.searchPanel.randomSamplerMessage",{defaultMessage:"Approximate values are shown in the total document count and chart, which use random sampler aggregations."}),position:"right",type:"iInCircle"}):null)},154:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var r=a(0),n=a(220),s=a(10),o=a(4),i=a(291),l=a(25),u=a(104),c=a(1);const d=({samplingProbability:e,setSamplingProbability:t})=>{const[a,d]=Object(r.useState)(e),b=!Object(n.a)(a)||isNaN(a)||a<u.a||a>.5,f=100*(null!=a?a:u.a);return Object(c.jsx)(s.EuiFlexItem,{grow:!0},Object(c.jsx)(s.EuiSpacer,{size:"m"}),Object(c.jsx)(s.EuiFormRow,{fullWidth:!0,label:o.i18n.translate("xpack.dataVisualizer.randomSamplerSettingsPopUp.randomSamplerPercentageRowLabel",{defaultMessage:"Sampling percentage"}),helpText:o.i18n.translate("xpack.dataVisualizer.randomSamplerSettingsPopUp.randomSamplerPercentageRowHelpText",{defaultMessage:"Choose a value between 0.001% and 50% to randomly sample data."})},Object(c.jsx)(s.EuiRange,{fullWidth:!0,showValue:!0,showRange:!0,showLabels:!0,showInput:"inputWithPopover",min:u.e,max:50,value:f>=1?Object(i.a)(f,0):Object(i.a)(f,3),ticks:u.c.map((e=>({value:e,label:.001===e||e>=5?`${e}`:""}))),isInvalid:b,onChange:e=>{const t=parseFloat(e.target.value),r=a?100*a:t;if(t>0&&t<=1)d(t/100);else{const e=t>r?Math.ceil(t):Math.floor(t);d(e/100)}},step:u.e,"data-test-subj":"dvRandomSamplerProbabilityRange",append:Object(c.jsx)(s.EuiButton,{disabled:b,onClick:()=>{t&&Object(n.a)(a)&&t(a)}},Object(c.jsx)(l.FormattedMessage,{id:"xpack.dataVisualizer.randomSamplerSettingsPopUp.randomSamplerPercentageApply",defaultMessage:"Apply"}))})))}},155:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var r=a(220),n=a(10),s=a(25),o=(a(0),a(1));const i=({samplingProbability:e})=>Object(r.a)(e)?Object(o.jsx)("div",{"data-test-subj":"dvRandomSamplerProbabilityUsedMsg"},Object(o.jsx)(n.EuiSpacer,{size:"m"}),Object(o.jsx)(s.FormattedMessage,{id:"xpack.dataVisualizer.randomSamplerSettingsPopUp.probabilityLabel",defaultMessage:"Probability used: {samplingProbability}%",values:{samplingProbability:100*e}})):null},156:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var r=a(32),n=a(4),s=a(0),o=a(220),i=a(27),l=a(65),u=a(1);const c=({searchQuery:e,searchString:t,searchQueryLanguage:a,dataView:c,setSearchParams:d})=>{const{services:{uiSettings:b,notifications:{toasts:f},data:{query:g},unifiedSearch:{ui:{SearchBar:m}}}}=Object(l.a)(),[p,v]=Object(s.useState)({query:t||"",language:a});Object(s.useEffect)((()=>{v({query:t||"",language:a})}),[a,t,g.filterManager]);const j=({query:e,filters:t})=>{const a=Object(o.a)(e)?e:p,s=Object(o.a)(t)?t:g.filterManager.getFilters();try{var l;s&&g.filterManager.setFilters(s);const e=Object(r.buildEsQuery)(c,a?[a]:[],null!==(l=g.filterManager.getFilters())&&void 0!==l?l:[],b?Object(i.getEsQueryConfig)(b):void 0);d({searchQuery:e,searchString:a.query,queryLanguage:a.language,filters:s})}catch(e){console.log("Invalid syntax",JSON.stringify(e,null,2)),f.addError(e,{title:n.i18n.translate("xpack.dataVisualizer.searchPanel.invalidSyntax",{defaultMessage:"Invalid syntax"})})}};return Object(u.jsx)(m,{dataTestSubj:"dataVisualizerQueryInput",appName:"dataVisualizer",showFilterBar:!0,showDatePicker:!1,showQueryInput:!0,query:p,onQuerySubmit:e=>j({query:e.query}),onFiltersUpdated:e=>j({filters:e}),indexPatterns:[c],placeholder:n.i18n.translate("xpack.dataVisualizer.searchPanel.queryBarPlaceholderText",{defaultMessage:'Searchâ€¦ (e.g. status:200 AND extension:"PHP")'}),displayStyle:"inPage",isClearable:!0,customSubmitButton:Object(u.jsx)("div",null)})}},158:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=a(4);function n(e,t,a){var n,s;500===a.statusCode?e.addError(a,{title:r.i18n.translate("xpack.dataVisualizer.index.dataLoader.internalServerErrorMessage",{defaultMessage:"Error loading data in index {index}. {message}. The request may have timed out. Try using a smaller sample size or narrowing the time range.",values:{index:t,message:null!==(n=a.error)&&void 0!==n?n:a.message}})}):e.addError(a,{title:r.i18n.translate("xpack.dataVisualizer.index.errorLoadingDataMessage",{defaultMessage:"Error loading data in index {index}. {message}.",values:{index:t,message:null!==(s=a.error)&&void 0!==s?s:a.message}})})}},159:function(e,t,a){"use strict";a.d(t,"c",(function(){return u})),a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return d}));var r=a(0),n=a(69),s=a.n(n),o=a(8),i=a(5),l=a(91);a(113);const u=(e={})=>{const{timeRangeSelector:t,autoRefreshSelector:a}=e,{data:{query:{timefilter:{timefilter:n}}}}=Object(l.b)();return Object(r.useEffect)((()=>{!0!==t||n.isTimeRangeSelectorEnabled()?!1===t&&n.isTimeRangeSelectorEnabled()&&n.disableTimeRangeSelector():n.enableTimeRangeSelector(),!0!==a||n.isAutoRefreshSelectorEnabled()?!1===a&&n.isAutoRefreshSelectorEnabled()&&n.disableAutoRefreshSelector():n.enableAutoRefreshSelector()}),[t,a,n]),n},c=()=>{const e=u(),t=Object(r.useMemo)((()=>e.getRefreshIntervalUpdate$().pipe(Object(o.map)(e.getRefreshInterval))),[e]);return s()(t,e.getRefreshInterval())},d=(e=!1)=>{const t=u(),a=Object(r.useMemo)((()=>e?t.getAbsoluteTime.bind(t):t.getTime.bind(t)),[e,t]),n=Object(r.useMemo)((()=>t.getTimeUpdate$().pipe(Object(o.map)(a),Object(o.distinctUntilChanged)(i.isEqual))),[t,a]);return s()(n,a())}},188:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var r=a(5),n=a(32),s=a(27),o=a(294),i=a(220),l=a(24);function u({dataView:e,uiSettings:t,savedSearch:a,query:u,filters:c,filterManager:d}){var b;if(!e&&!a)return;if(u&&!function(e){return Object(l.a)(e,["query","language"])}(u))return;const f=u,g=c,m=function(e){return Object(i.a)(e)&&"searchSource"in e&&(null==e?void 0:e.searchSource)instanceof s.SearchSource?e.searchSource:void 0}(a);if(m&&void 0!==m.getParent()&&f){var p,v,j;const e=null!==(p=Object(r.cloneDeep)(null===(v=m.getSearchRequestBody())||void 0===v?void 0:v.query))&&void 0!==p?p:Object(o.a)(),t=null===(j=m.getField("index"))||void 0===j?void 0:j.timeFieldName;return Array.isArray(e.bool.filter)&&void 0!==t&&(e.bool.filter=e.bool.filter.filter((e=>{var a;return!(e.hasOwnProperty("range")&&null!==(a=e.range)&&void 0!==a&&a.hasOwnProperty(t))}))),{searchQuery:e,searchString:f.query,queryLanguage:f.language}}var y,h,O;if(!a&&(f||g||d&&(null===(b=d.getGlobalFilters())||void 0===b?void 0:b.length)>0))return{searchQuery:Object(n.buildEsQuery)(e,null!=f?f:[],[...null!==(y=null==d?void 0:d.getFilters())&&void 0!==y?y:[],...null!=g?g:[]],t?Object(s.getEsQueryConfig)(t):void 0),searchString:null!==(h=null==f?void 0:f.query)&&void 0!==h?h:"",queryLanguage:null!==(O=null==f?void 0:f.language)&&void 0!==O?O:"kuery"};if(m){var x,S,E;const a=null!=f?f:m.getField("query");return m.getField("filter")&&d&&d.addFilters(m.getField("filter")),{searchQuery:Object(n.buildEsQuery)(e,a,[...null!==(x=null==d?void 0:d.getFilters())&&void 0!==x?x:[],...null!=g?g:[]],t?Object(s.getEsQueryConfig)(t):void 0),searchString:null!==(S=null==a?void 0:a.query)&&void 0!==S?S:"",queryLanguage:null!==(E=null==a?void 0:a.language)&&void 0!==E?E:"kuery",queryOrAggregateQuery:a}}}},229:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));const r={KUERY:"kuery",LUCENE:"lucene"}},230:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));const r={EXCLUDE:"exclude-frozen",INCLUDE:"include-frozen"}},293:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var r=a(30),n=a.n(r);function s(e){return e.isDefault("dateFormat:tz")?n.a.tz.guess()||n()().format("Z"):e.get("dateFormat:tz","Browser")}},294:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var r=a(5);const n={bool:{must:[{match_all:{}}]}};function s(){return Object(r.cloneDeep)(n)}},295:function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var r=a(0),n=a.n(r),s=a(8),o=a(5),i=a(10),l=a(4),u=a(25),c=a(63),d=a(119),b=a(159),f=a(91),g=a(113),m=a(1);const p=5e3,v=e=>{var t,a,v;const{isAutoRefreshOnly:j,isLoading:y=!1,showRefresh:h,width:O,flexGroup:x=!0,isDisabled:S=!1,needsUpdate:E,onRefresh:M}=e,{data:P,notifications:{toasts:k},uiSettings:R,uiSettingsKeys:T,theme:F,i18n:C}=Object(f.b)(),w=Object(i.useIsWithinMaxBreakpoint)("l"),{timefilter:_,history:I}=P.query.timefilter,[z,V]=Object(c.f)("_g"),D=(A=I,function(){var e,t;return null!==(e=null===(t=A.get())||void 0===t?void 0:t.map((({from:e,to:t})=>({start:e,end:t}))))&&void 0!==e?e:[]});var A;const L=Object(b.a)(),U=Object(b.b)();Object(r.useEffect)((function(){void 0!==(null==z?void 0:z.time)&&_.setTime({from:z.time.from,to:z.time.to})}),[null==z||null===(t=z.time)||void 0===t?void 0:t.from,null==z||null===(a=z.time)||void 0===a?void 0:a.to,null==z||null===(v=z.time)||void 0===v?void 0:v.ts]),Object(r.useEffect)((function(){var e,t;void 0!==(null==z?void 0:z.refreshInterval)&&_.setRefreshInterval({pause:!(null==z||null===(e=z.refreshInterval)||void 0===e||!e.pause),value:null==z||null===(t=z.refreshInterval)||void 0===t?void 0:t.value})}),[null==z?void 0:z.refreshInterval]);const q=Object(r.useCallback)(Object(o.debounce)((e=>{V("refreshInterval",e,!0)}),200),[V]),[N,B]=Object(r.useState)(D()),[Q,W]=Object(r.useState)(_.isAutoRefreshSelectorEnabled()),[G,$]=Object(r.useState)(_.isTimeRangeSelectorEnabled()),K=L;Object(r.useEffect)((function(){const e=!(null==z||!z.refreshInterval);K.value<p&&!K.pause&&k.addWarning({title:e?l.i18n.translate("xpack.ml.datePicker.shortRefreshIntervalURLWarningMessage",{defaultMessage:"The refresh interval in the URL is shorter than the minimum supported interval."}):l.i18n.translate("xpack.ml.datePicker.shortRefreshIntervalTimeFilterWarningMessage",{defaultMessage:"The refresh interval in Advanced Settings is shorter than the minimum supported interval."}),text:Object(d.a)(Object(m.jsx)(i.EuiButton,{onClick:q.bind(null,{pause:K.pause,value:p})},Object(m.jsx)(u.FormattedMessage,{id:"xpack.ml.datePicker.pageRefreshResetButton",defaultMessage:"Set to {defaultInterval}",values:{defaultInterval:"5s"}})),{theme:F,i18n:C})},{toastLifeTimeMs:3e4})}),[JSON.stringify(K),JSON.stringify(null==z?void 0:z.refreshInterval),q]);const J=R.get("dateFormat"),X=R.get(T.TIMEPICKER_QUICK_RANGES),H=Object(r.useMemo)((()=>X.map((({from:e,to:t,display:a})=>({start:e,end:t,label:a})))),[X]);Object(r.useEffect)((()=>{const e=new s.Subscription,t=_.getEnabledUpdated$();return void 0!==t&&e.add(t.subscribe((e=>{W(_.isAutoRefreshSelectorEnabled()),$(_.isTimeRangeSelectorEnabled())}))),function(){e.unsubscribe()}}),[]);const Y=Object(r.useCallback)((({start:e,end:t})=>{B(D()),V("time",{from:e,to:t,..."now"===e||"now"===t?{ts:Date.now()}:{}})}),[V]),Z=Object(r.useCallback)((()=>{g.a.next({lastRefresh:Date.now()}),M&&M()}),[M]),ee=Object(m.jsx)(n.a.Fragment,null,Object(m.jsx)(i.EuiFlexItem,null,Object(m.jsx)(i.EuiSuperDatePicker,{isLoading:y,start:U.from,end:U.to,isPaused:K.pause,isAutoRefreshOnly:!G||j,refreshInterval:K.value||p,onTimeChange:Y,onRefresh:Z,onRefreshChange:function({isPaused:e,refreshInterval:t}){!1===e&&t<=0&&q({pause:e,value:5e3}),q({pause:e,value:t})},recentlyUsedRanges:N,dateFormat:J,commonlyUsedRanges:H,updateButtonProps:{iconOnly:w,fill:!1,...E?{needsUpdate:E}:{}},width:O,isDisabled:S})),!0!==h&&G?null:Object(m.jsx)(i.EuiFlexItem,{grow:!1},Object(m.jsx)(i.EuiButton,{fill:!1,color:E?"success":"primary",iconType:E?"kqlFunction":"refresh",onClick:Z,"data-test-subj":"mlDatePickerRefreshPageButton"+(y?" loading":" loaded"),isLoading:y},E?Object(m.jsx)(u.FormattedMessage,{id:"xpack.ml.datePicker.pageUpdateButton",defaultMessage:"Update"}):Object(m.jsx)(u.FormattedMessage,{id:"xpack.ml.datePicker.pageRefreshButton",defaultMessage:"Refresh"})))),te=x?Object(m.jsx)(i.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},ee):ee;return Q||G?te:null}},302:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var r=a(0),n=a(10),s=a(4),o=a(25),i=a(91),l=a(30),u=a.n(l),c=(a(41),a(24)),d=a(5);const b=e=>{const t={term:{_tier:{value:"data_frozen"}}};if(!e)return{bool:{must_not:[t]}};const a=Object(d.cloneDeep)(e);return delete a.match_all,Object(c.a)(a.bool)?Array.isArray(a.bool.must_not)?a.bool.must_not.push(t):(Object(c.a)(a.bool.must_not)&&(a.bool.must_not=[a.bool.must_not,t]),void 0===a.bool.must_not&&(a.bool.must_not=[t])):a.bool={must_not:[t]},a};var f=a(230),g=a(1);const m=e=>{const{frozenDataPreference:t,setFrozenDataPreference:a,timefilter:l,dataView:d,query:m,disabled:p,callback:v,apiPath:j}=e,{http:y,notifications:{toasts:h},showFrozenDataTierChoice:O}=Object(i.b)(),x=Object(r.useCallback)((async()=>{try{const e=await async function(e,t,a,r,n,o,i="/internal/file_upload/time_field_range"){try{const l=t.getRuntimeMappings(),d=await async function(e){const{http:t,path:a,signal:r,...n}=e;return await t.fetch({path:a,method:"POST",body:JSON.stringify(n),version:"1",...r?{signal:r}:{}})}({index:t.getIndexPattern(),timeFieldName:t.timeFieldName,query:o?b(n):n,...Object(c.a)(l)?{runtimeMappings:l}:{},http:r,path:i});if(d.start.epoch&&d.end.epoch)return e.setTime({from:u()(d.start.epoch).toISOString(),to:u()(d.end.epoch).toISOString()}),d;if("number"==typeof d.start&&"number"==typeof d.end)return e.setTime({from:u()(d.start).toISOString(),to:u()(d.end).toISOString()}),{success:!0,start:{epoch:d.start,string:u()(d.start).toISOString()},end:{epoch:d.end,string:u()(d.end).toISOString()}};a.addWarning({title:s.i18n.translate("xpack.ml.datePicker.fullTimeRangeSelector.noResults",{defaultMessage:"No results match your search criteria"})})}catch(e){a.addError(e,{title:s.i18n.translate("xpack.ml.datePicker.fullTimeRangeSelector.errorSettingTimeRangeNotification",{defaultMessage:"An error occurred setting the time range. Please set the desired start and end times."})})}}(l,d,h,y,m,!1!==O&&t===f.a.EXCLUDE,j);"function"==typeof v&&void 0!==e&&v(e)}catch(e){h.addError(e,{title:s.i18n.translate("xpack.ml.datePicker.fullTimeRangeSelector.errorSettingTimeRangeNotification",{defaultMessage:"An error occurred setting the time range. Please set the desired start and end times."})})}}),[l,d,h,y,m,O,t,j,v]),[S,E]=Object(r.useState)(!1),M=Object(r.useCallback)((e=>{a(e),P()}),[a]),P=()=>{E(!1)},k=Object(r.useMemo)((()=>[{id:f.a.EXCLUDE,label:s.i18n.translate("xpack.ml.datePicker.fullTimeRangeSelector.useFullDataExcludingFrozenMenuLabel",{defaultMessage:"Exclude frozen data tier"})},{id:f.a.INCLUDE,label:s.i18n.translate("xpack.ml.datePicker.fullTimeRangeSelector.useFullDataIncludingFrozenMenuLabel",{defaultMessage:"Include frozen data tier"})}]),[]),R=Object(r.useMemo)((()=>Object(g.jsx)(n.EuiPanel,null,Object(g.jsx)(n.EuiRadioGroup,{options:k,idSelected:t,onChange:M,compressed:!0}))),[k,t,M]),T=Object(r.useMemo)((()=>!1===O?Object(g.jsx)(o.FormattedMessage,{id:"xpack.ml.datePicker.fullTimeRangeSelector.useFullData",defaultMessage:"Use full range of data."}):t===f.a.EXCLUDE?Object(g.jsx)(o.FormattedMessage,{id:"xpack.ml.datePicker.fullTimeRangeSelector.useFullDataExcludingFrozenButtonTooltip",defaultMessage:"Use full range of data excluding frozen data tier."}):Object(g.jsx)(o.FormattedMessage,{id:"xpack.ml.datePicker.fullTimeRangeSelector.useFullDataIncludingFrozenButtonTooltip",defaultMessage:"Use full range of data including frozen data tier, which might have slower search results."})),[t,O]);return Object(g.jsx)(n.EuiFlexGroup,{responsive:!1,gutterSize:"xs"},Object(g.jsx)(n.EuiToolTip,{content:T},Object(g.jsx)(n.EuiButton,{isDisabled:p,onClick:()=>x(),"data-test-subj":"mlDatePickerButtonUseFullData"},Object(g.jsx)(o.FormattedMessage,{id:"xpack.ml.datePicker.fullTimeRangeSelector.useFullDataButtonLabel",defaultMessage:"Use full data"}))),!1===O?null:Object(g.jsx)(n.EuiFlexItem,{grow:!1},Object(g.jsx)(n.EuiPopover,{id:"mlFullTimeRangeSelectorOption",button:Object(g.jsx)(n.EuiButtonIcon,{"data-test-subj":"mlDatePickerButtonDataTierOptions",display:"base",size:"m",iconType:"boxesVertical","aria-label":s.i18n.translate("xpack.ml.datePicker.fullTimeRangeSelector.moreOptionsButtonAriaLabel",{defaultMessage:"More options"}),onClick:()=>{E(!S)}}),isOpen:S,closePopover:P,panelPaddingSize:"none",anchorPosition:"downRight"},R)))}},305:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return s}));var r=a(24);const n=e=>{var t;if(function(e){var t;return e&&void 0!==(null===(t=e.error)||void 0===t?void 0:t.reason)}(e))return{message:null!==(t=e.error.reason)&&void 0!==t?t:"",statusCode:e.status,fullError:e};if(function(e){return"string"==typeof e}(e))return{message:e};if(function(e){return!0===(null==e?void 0:e.isBoom)}(e))return{message:e.output.payload.message,statusCode:e.output.payload.statusCode};if(void 0===(null==e?void 0:e.body)&&(null==e||!e.message))return{message:""};if("string"==typeof e.body)return{message:e.body};if(function(e){return"object"==typeof e.body&&"message"in e.body}(e)){var a,n;if("object"==typeof e.body.attributes&&"string"==typeof(null===(a=e.body.attributes.body)||void 0===a||null===(n=a.error)||void 0===n?void 0:n.reason)){var s,o,i;const t={message:e.body.attributes.body.error.reason,statusCode:e.body.statusCode,fullError:e.body.attributes.body};var l,u,c;return"object"!=typeof e.body.attributes.body.error.caused_by||"string"!=typeof(null===(s=e.body.attributes.body.error.caused_by)||void 0===s?void 0:s.reason)&&"string"!=typeof(null===(o=e.body.attributes.body.error.caused_by)||void 0===o||null===(i=o.caused_by)||void 0===i?void 0:i.reason)||(t.causedBy=(null===(l=e.body.attributes.body.error.caused_by)||void 0===l||null===(u=l.caused_by)||void 0===u?void 0:u.reason)||(null===(c=e.body.attributes.body.error.caused_by)||void 0===c?void 0:c.reason)),Array.isArray(e.body.attributes.body.error.root_cause)&&"object"==typeof e.body.attributes.body.error.root_cause[0]&&Object(r.a)(e.body.attributes.body.error.root_cause[0],["script"])&&(t.causedBy=e.body.attributes.body.error.root_cause[0].script,t.message+=`: '${e.body.attributes.body.error.root_cause[0].script}'`),t}return{message:e.body.message,statusCode:e.body.statusCode}}return function(e){return e&&void 0!==e.message&&"string"==typeof e.message}(e)?{message:e.message}:{message:""}},s=e=>n(e).message},97:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var r=a(24);function n(e){return Object(r.a)(e,["query_string"])}function s(e){return Object(r.a)(e,["match_all"])&&"object"==typeof e.match_all&&null!==e.match_all&&0===Object.keys(e.match_all).length}function o(e){return s(e)||n(t=e)&&"*"===t.query_string.query||function(e){return Object(r.a)(e,["bool"])&&Object(r.a)(e.bool,["filter"])&&Array.isArray(e.bool.filter)&&1===e.bool.filter.length&&n(e.bool.filter[0])}(e)&&("*"===e.bool.filter[0].query_string.query||s(e.bool.filter[0]));var t}const i=["filter","must","must_not"];const l=(e,t,a,n)=>function(e,t,a,n,s="epoch_millis"){const l=[];var u;return e&&t&&a&&l.push({range:{[e]:{gte:t,lte:a,format:s}}}),!n||"object"!=typeof n||o(n)||(u=n,Object(r.a)(u,["bool"])&&Object(r.a)(u.bool,i)&&Object.values(u.bool).every((e=>Array.isArray(e)&&(0===e.length||1===e.length&&o(e[0])))))||l.push(n),l}(e,t,a,n,"epoch_millis||strict_date_optional_time")}}]);