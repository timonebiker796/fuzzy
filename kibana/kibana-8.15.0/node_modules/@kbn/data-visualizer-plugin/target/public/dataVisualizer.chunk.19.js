/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.dataVisualizer_bundle_jsonpfunction=window.dataVisualizer_bundle_jsonpfunction||[]).push([[19],{300:function(e,t,a){"use strict";a.r(t),a.d(t,"resolveEmbeddableFieldStatsUserInput",(function(){return u}));var n=a(144),s=a(119),i=(a(0),a(28)),l=a(233),o=a(220),c=a(186),d=a(115),r=a(1);async function u(e,t,a,u,v,y,b){const{overlays:p}=e,j=Object(n.tracksOverlays)(a)?a:void 0,O={...e,...t};let w=!1;return new Promise((async(f,I)=>{try{const I=()=>{w&&b&&y&&b.updateUserInput(y),C.close(),null==j||j.clearOverlays()},z=async e=>{var a;const n=null==e||null===(a=e.query)||void 0===a?void 0:a.esql;if(Object(o.a)(n)){const a=Object(l.a)(n),s=await Object(d.a)(t.data.dataViews,a,void 0);null!=s&&s.id&&e.dataViewId!==s.id&&(e.dataViewId=s.id)}f(e),C.close(),null==j||j.clearOverlays()},C=p.openFlyout(Object(s.a)(Object(r.jsx)(i.KibanaContextProvider,{services:O},Object(r.jsx)(c.a,{initialInput:y,onPreview:async e=>{b&&(b.updateUserInput(e),w=!0)},onCreate:z,onCancel:I,isNewPanel:v})),e),{ownFocus:!0,size:"s",paddingSize:"m",hideCloseButton:!0,type:"push","data-test-subj":"fieldStatisticsInitializerFlyout",onClose:I});Object(n.tracksOverlays)(a)&&a.openOverlay(C,{focusedPanelId:u})}catch(e){I(e)}}))}}}]);