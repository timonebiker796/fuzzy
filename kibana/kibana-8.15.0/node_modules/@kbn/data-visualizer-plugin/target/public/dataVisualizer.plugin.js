/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */!function(e){function t(t){for(var n,i,o=t[0],a=t[1],s=0,u=[];s<o.length;s++)i=o[s],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&u.push(r[i][0]),r[i]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);for(c&&c(t);u.length;)u.shift()()}var n={},r={9:0};function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,i){n=r[e]=[t,i]}));t.push(n[2]=o);var a,s=document.createElement("script");s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=function(e){return i.p+"dataVisualizer.chunk."+e+".js"}(e);var c=new Error;a=function(t){s.onerror=s.onload=null,clearTimeout(u);var n=r[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+i+": "+o+")",c.name="ChunkLoadError",c.type=i,c.request=o,n[1](c)}r[e]=void 0}};var u=setTimeout((function(){a({type:"timeout",target:s})}),12e4);s.onerror=s.onload=a,document.head.appendChild(s)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var o=window.dataVisualizer_bundle_jsonpfunction=window.dataVisualizer_bundle_jsonpfunction||[],a=o.push.bind(o);o.push=t,o=o.slice();for(var s=0;s<o.length;s++)t(o[s]);var c=a;i(i.s=17)}([function(e,t){e.exports=__kbnSharedDeps__.React},function(e,t){e.exports=__kbnSharedDeps__.EmotionReact},function(e,t,n){e.exports=n(16)(2)},function(e,t,n){"use strict";const r=n(19),i=n(20),o=n(21);function a(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function s(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function c(e,t){return t.decode?i(e):e}function u(e){return Array.isArray(e)?e.sort():"object"==typeof e?u(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function l(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function d(e){const t=(e=l(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function p(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function _(e,t){a((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const n=function(e){let t;switch(e.arrayFormat){case"index":return(e,n,r)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return(e,n,r)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return(t,n,r)=>{const i="string"==typeof n&&n.split("").indexOf(e.arrayFormatSeparator)>-1?n.split(e.arrayFormatSeparator).map((t=>c(t,e))):null===n?n:c(n,e);r[t]=i};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),r=Object.create(null);if("string"!=typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;for(const i of e.split("&")){let[e,a]=o(t.decode?i.replace(/\+/g," "):i,"=");a=void 0===a?null:["comma","separator"].includes(t.arrayFormat)?a:c(a,t),n(c(e,t),a,r)}for(const e of Object.keys(r)){const n=r[e];if("object"==typeof n&&null!==n)for(const e of Object.keys(n))n[e]=p(n[e],t);else r[e]=p(n,t)}return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce(((e,t)=>{const n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=u(n):e[t]=n,e}),Object.create(null))}t.extract=d,t.parse=_,t.stringify=(e,t)=>{if(!e)return"";a((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const n=n=>t.skipNull&&null==e[n]||t.skipEmptyString&&""===e[n],r=function(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const i=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[s(t,e),"[",i,"]"].join("")]:[...n,[s(t,e),"[",s(i,e),"]=",s(r,e)].join("")]};case"bracket":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[s(t,e),"[]"].join("")]:[...n,[s(t,e),"[]=",s(r,e)].join("")];case"comma":case"separator":return t=>(n,r)=>null==r||0===r.length?n:0===n.length?[[s(t,e),"=",s(r,e)].join("")]:[[n,s(r,e)].join(e.arrayFormatSeparator)];default:return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,s(t,e)]:[...n,[s(t,e),"=",s(r,e)].join("")]}}(t),i={};for(const t of Object.keys(e))n(t)||(i[t]=e[t]);const o=Object.keys(i);return!1!==t.sort&&o.sort(t.sort),o.map((n=>{const i=e[n];return void 0===i?"":null===i?s(n,t):Array.isArray(i)?i.reduce(r(n),[]).join("&"):s(n,t)+"="+s(i,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[n,r]=o(e,"#");return Object.assign({url:n.split("?")[0]||"",query:_(d(e),t)},t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:c(r,t)}:{})},t.stringifyUrl=(e,n)=>{n=Object.assign({encode:!0,strict:!0},n);const r=l(e.url).split("?")[0]||"",i=t.extract(e.url),o=t.parse(i,{sort:!1}),a=Object.assign(o,e.query);let c=t.stringify(a,n);c&&(c=`?${c}`);let u=function(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(e.url);return e.fragmentIdentifier&&(u=`#${s(e.fragmentIdentifier,n)}`),`${r}${c}${u}`}},function(e,t){e.exports=__kbnSharedDeps__.KbnI18n},function(e,t){e.exports=__kbnSharedDeps__.Lodash},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"i",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"b",(function(){return _})),n.d(t,"j",(function(){return f})),n.d(t,"l",(function(){return b})),n.d(t,"k",(function(){return g}));var r=n(4),i=n(11);const o="data_visualizer",a=Math.pow(2,20),s="0,0.[0] b",c="null",u={DELIMITED:"delimited",NDJSON:"ndjson",SEMI_STRUCTURED_TEXT:"semi_structured_text"},l={BOOLEAN:"boolean",CONFLICT:"conflict",DATE:"date",DATE_RANGE:"date_range",GEO_POINT:"geo_point",GEO_SHAPE:"geo_shape",HISTOGRAM:"histogram",IP:"ip",IP_RANGE:"ip_range",KEYWORD:"keyword",MURMUR3:"murmur3",NUMBER:"number",NESTED:"nested",STRING:"string",TEXT:"text",VERSION:"version",UNKNOWN:"unknown"},d=["_source","_type","_index","_id","_version","_score","_tier","_ignored"],p=new Set([i.b.GEO_SHAPE,i.b.HISTOGRAM]),_="fileDataViz",f=`/app/home#/tutorial_directory/${_}`,b=r.i18n.translate("xpack.dataVisualizer.title",{defaultMessage:"Upload a file"}),g="file_data_visualizer"},function(e,t){e.exports=__kbnSharedDeps__.KbnRison},function(e,t){e.exports=__kbnSharedDeps__.Rxjs},function(e,t,n){"use strict";let r,i;function o(e,t){r=e,i=t}n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));const a=()=>r,s=()=>i},function(e,t){e.exports=__kbnSharedDeps__.ElasticEui},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r=n(2),i=n.n(r);let o=function(e){return e._ID="_id",e._INDEX="_index",e._SOURCE="_source",e._TYPE="_type",e.STRING="string",e.TEXT="text",e.MATCH_ONLY_TEXT="match_only_text",e.KEYWORD="keyword",e.VERSION="version",e.BOOLEAN="boolean",e.OBJECT="object",e.DATE="date",e.DATE_NANOS="date_nanos",e.DATE_RANGE="date_range",e.GEO_POINT="geo_point",e.GEO_SHAPE="geo_shape",e.FLOAT="float",e.HALF_FLOAT="half_float",e.SCALED_FLOAT="scaled_float",e.DOUBLE="double",e.INTEGER="integer",e.LONG="long",e.SHORT="short",e.UNSIGNED_LONG="unsigned_long",e.AGGREGATE_METRIC_DOUBLE="aggregate_metric_double",e.FLOAT_RANGE="float_range",e.DOUBLE_RANGE="double_range",e.INTEGER_RANGE="integer_range",e.LONG_RANGE="long_range",e.NESTED="nested",e.BYTE="byte",e.IP="ip",e.IP_RANGE="ip_range",e.ATTACHMENT="attachment",e.TOKEN_COUNT="token_count",e.MURMUR3="murmur3",e.HISTOGRAM="histogram",e}({}),a=function(e){return e._SOURCE="_source",e.ATTACHMENT="attachment",e.BOOLEAN="boolean",e.DATE="date",e.DATE_RANGE="date_range",e.GEO_POINT="geo_point",e.GEO_SHAPE="geo_shape",e.IP="ip",e.IP_RANGE="ip_range",e.MURMUR3="murmur3",e.NUMBER="number",e.NUMBER_RANGE="number_range",e.STRING="string",e.UNKNOWN="unknown",e.CONFLICT="conflict",e.OBJECT="object",e.NESTED="nested",e.HISTOGRAM="histogram",e.MISSING="missing",e}({});class kbn_field_type_KbnFieldType{constructor(e={}){i()(this,"name",void 0),i()(this,"sortable",void 0),i()(this,"filterable",void 0),i()(this,"esTypes",void 0),this.name=e.name||a.UNKNOWN,this.sortable=e.sortable||!1,this.filterable=e.filterable||!1,this.esTypes=Object.freeze((e.esTypes||[]).slice())}}new kbn_field_type_KbnFieldType({name:a.UNKNOWN});new kbn_field_type_KbnFieldType({name:a.STRING,sortable:!0,filterable:!0,esTypes:[o.STRING,o.TEXT,o.MATCH_ONLY_TEXT,o.KEYWORD,o.VERSION,o._TYPE,o._ID]}),new kbn_field_type_KbnFieldType({name:a.NUMBER,sortable:!0,filterable:!0,esTypes:[o.FLOAT,o.HALF_FLOAT,o.SCALED_FLOAT,o.DOUBLE,o.INTEGER,o.LONG,o.UNSIGNED_LONG,o.SHORT,o.BYTE,o.TOKEN_COUNT,o.AGGREGATE_METRIC_DOUBLE]}),new kbn_field_type_KbnFieldType({name:a.NUMBER_RANGE,sortable:!0,filterable:!0,esTypes:[o.FLOAT_RANGE,o.DOUBLE_RANGE,o.INTEGER_RANGE,o.LONG_RANGE]}),new kbn_field_type_KbnFieldType({name:a.DATE,sortable:!0,filterable:!0,esTypes:[o.DATE,o.DATE_NANOS]}),new kbn_field_type_KbnFieldType({name:a.DATE_RANGE,sortable:!0,filterable:!0,esTypes:[o.DATE_RANGE]}),new kbn_field_type_KbnFieldType({name:a.IP,sortable:!0,filterable:!0,esTypes:[o.IP]}),new kbn_field_type_KbnFieldType({name:a.IP_RANGE,sortable:!0,filterable:!0,esTypes:[o.IP_RANGE]}),new kbn_field_type_KbnFieldType({name:a.BOOLEAN,sortable:!0,filterable:!0,esTypes:[o.BOOLEAN]}),new kbn_field_type_KbnFieldType({name:a.OBJECT,esTypes:[o.OBJECT]}),new kbn_field_type_KbnFieldType({name:a.NESTED,esTypes:[o.NESTED]}),new kbn_field_type_KbnFieldType({name:a.GEO_POINT,esTypes:[o.GEO_POINT]}),new kbn_field_type_KbnFieldType({name:a.GEO_SHAPE,esTypes:[o.GEO_SHAPE]}),new kbn_field_type_KbnFieldType({name:a.ATTACHMENT,esTypes:[o.ATTACHMENT]}),new kbn_field_type_KbnFieldType({name:a.MURMUR3,esTypes:[o.MURMUR3]}),new kbn_field_type_KbnFieldType({name:a._SOURCE,esTypes:[o._SOURCE]}),new kbn_field_type_KbnFieldType({name:a.HISTOGRAM,filterable:!0,esTypes:[o.HISTOGRAM]}),new kbn_field_type_KbnFieldType({name:a.CONFLICT})},function(e,t){e.exports=__kbnSharedDeps__.ReactRouterDom},function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return p}));var r=n(0),i=n.n(r),o=n(10),a=n(1);const s=({children:e})=>Object(a.jsx)(o.EuiErrorBoundary,null,Object(a.jsx)(r.Suspense,{fallback:Object(a.jsx)(o.EuiSkeletonText,{lines:3})},e)),c=i.a.lazy((()=>Promise.all([n.e(0),n.e(1),n.e(3),n.e(5)]).then(n.bind(null,47)))),u=({resultLinks:e})=>Object(a.jsx)(i.a.Suspense,{fallback:Object(a.jsx)("div",null)},Object(a.jsx)(c,{resultLinks:e}));function l(e){return Object(a.jsx)(u,{resultLinks:e})}const d=i.a.lazy((()=>Promise.all([n.e(0),n.e(2),n.e(11)]).then(n.bind(null,62)))),p=e=>Object(a.jsx)(s,null,Object(a.jsx)(d,e))},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));const r="field_stats_table",i="fieldStatsTableDataViewId"},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return locator_IndexDataVisualizerLocatorDefinition}));var r=n(2),i=n.n(r),o=n(7),a=n(3),s=n(63);const c="DATA_VISUALIZER_APP_LOCATOR";class locator_IndexDataVisualizerLocatorDefinition{constructor(){i()(this,"id",c),i()(this,"getLocation",(async e=>{const{dataViewId:t,query:n,refreshInterval:r,savedSearchId:i,timeRange:c,visibleFieldNames:u,visibleFieldTypes:l,searchSessionId:d,filters:p,showAllFields:_,showEmptyFields:f,pageSize:b,sortDirection:g,samplerShardSize:O,pageIndex:y,sortField:E,showDistributions:h}=e,m={},T={};n&&(m.searchQuery=n.searchQuery,m.searchString=n.searchString,m.searchQueryLanguage=n.searchQueryLanguage),e.searchString&&(m.searchQuery=e.searchQuery,m.searchString=e.searchString,m.searchQueryLanguage=e.searchQueryLanguage),p&&(m.filters=p),u&&(m.visibleFieldNames=u),l&&(m.visibleFieldTypes=l),b&&(m.pageSize=b),g&&(m.sortDirection=g),O&&(m.samplerShardSize=O),y&&(m.pageIndex=y),E&&(m.sortField=E),void 0!==h&&(m.showDistributions=h),void 0!==_&&(m.showAllFields=_),void 0!==f&&(m.showEmptyFields=f),c&&(T.time=c),r&&(T.refreshInterval=r);const j={...i?{savedSearchId:i}:{index:t},...d?{searchSessionId:d}:{},_a:{DATA_VISUALIZER_INDEX_VIEWER:m},_g:T},S={};return Object.keys(j).forEach((e=>{Object(s.c)(e)?S[e]=Object(o.encode)(j[e]):S[e]=j[e]})),{app:"ml",path:`/jobs/new_job/datavisualizer?${Object(a.stringify)(S,{sort:!1,encode:!1})}`,state:{}}}))}}},function(e,t){e.exports=__kbnSharedDeps_npm__},function(e,t,n){n(18),__kbnBundles__.define("plugin/dataVisualizer/public",n,22)},function(e,t,n){n.p=window.__kbnPublicPath__.dataVisualizer},function(e,t,n){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},function(e,t,n){"use strict";var r="%[a-f0-9]{2}",i=new RegExp("("+r+")|([^%]+?)","gi"),o=new RegExp("("+r+")+","gi");function a(e,t){try{return[decodeURIComponent(e.join(""))]}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],a(n),a(r))}function s(e){try{return decodeURIComponent(e)}catch(r){for(var t=e.match(i)||[],n=1;n<t.length;n++)t=(e=a(t,n).join("")).match(i)||[];return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=o.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=s(n[0]);r!==n[0]&&(t[n[0]]=r)}n=o.exec(e)}t["%C2"]="�";for(var i=Object.keys(t),a=0;a<i.length;a++){var c=i[a];e=e.replace(new RegExp(c,"g"),t[c])}return e}(e)}}},function(e,t,n){"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}},function(e,t,n){"use strict";n.r(t),n.d(t,"plugin",(function(){return b}));var r=n(2),i=n.n(r),o=n(64);let a;async function s(e){return void 0!==a||(a=new Promise((async(t,r)=>{try{t({...await Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(5),n.e(4),n.e(8),n.e(15)]).then(n.bind(null,301)),resultsLinks:e})}catch(e){r(e)}}))),a}var c=n(9);function u(){return Object(c.b)().fileUpload.getMaxBytesFormatted()}var l=n(4),d=n(13),p=n(6),_=n(15),f=n(14);class plugin_DataVisualizerPlugin{constructor(e){i()(this,"resultsLinks",{fileBeat:{enabled:!0}});const t=e.config.get().resultLinks;var n,r;void 0!==t&&(this.resultsLinks.fileBeat.enabled=null===(n=null===(r=t.fileBeat)||void 0===r?void 0:r.enabled)||void 0===n||n)}async setup(e,t){t.embeddable&&((e,t)=>{e.registerReactEmbeddableFactory(f.b,(async()=>{const{getFieldStatsChartEmbeddableFactory:e}=await Promise.all([n.e(7),n.e(17)]).then(n.bind(null,304));return e(t.getStartServices)}))})(t.embeddable,e);const[r,i]=await e.getStartServices();var o,a;t.uiActions&&function(e,t,r){Promise.all([n.e(6),n.e(7),n.e(20)]).then(n.bind(null,296)).then((({createAddFieldStatsTableAction:n})=>{const i=n(t,r);e.addTriggerAction("ADD_PANEL_TRIGGER",i)}))}(t.uiActions,r,i),t.home&&(o=t.home,a=this.resultsLinks,o.addData.registerAddDataTab({id:p.b,name:l.i18n.translate("xpack.dataVisualizer.file.embeddedTabTitle",{defaultMessage:"Upload file"}),getComponent:()=>Object(d.b)(a)}),function(e){e.featureCatalogue.register({id:p.k,title:p.l,description:l.i18n.translate("xpack.dataVisualizer.description",{defaultMessage:"Import your own CSV, NDJSON, or log file."}),icon:"document",path:p.j,showOnHomePage:!0,category:"data",order:520})}(t.home)),t.share.url.locators.create(new _.b)}start(e,t){Object(c.c)(e,t);const{getFileDataVisualizerComponent:r,getIndexDataVisualizerComponent:i,getDataDriftComponent:a}=(l=this.resultsLinks,{getFileDataVisualizerComponent:async function(){const e=await s(l);return()=>({component:e.FileDataVisualizer,resultLinks:l})},getIndexDataVisualizerComponent:async function(){const e=await s(l);return()=>e.IndexDataVisualizer},getDataDriftComponent:async function(){const e=await s(l);return()=>e.DataDrift}});var l;return{getFileDataVisualizerComponent:r,getIndexDataVisualizerComponent:i,getDataDriftComponent:a,getMaxBytesFormatted:u,FieldStatisticsTable:Object(o.a)((async()=>n.e(13).then(n.bind(null,198))))}}}function b(e){return new plugin_DataVisualizerPlugin(e)}},function(e,t,n){"use strict";function r(e,t,n){const i=t.split(".");let o=e;for(let e=0;e<i.length;e++){var a;const t=i[e];if(o=null===(a=o)||void 0===a?void 0:a[t],Array.isArray(o)){o=o.map((t=>"object"==typeof t?r(t,i.slice(e+1,i.length).join(".")):t));break}}return void 0===o?n:o}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=(e,t=[])=>"object"==typeof e&&null!==e&&Object.keys(e).length>0&&(0===t.length||t.every((t=>({}.hasOwnProperty.call(e,t)))))},function(e,t){e.exports=__kbnSharedDeps__.KbnI18nReact},,function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/data/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.ElasticCharts},function(e,t){e.exports=__kbnSharedDeps__.Moment},,function(e,t){e.exports=__kbnSharedDeps__.KbnEsQuery},function(e,t){e.exports=__kbnSharedDeps__.ElasticEuiLibComponentsUseIsNestedEuiProvider},function(e,t){e.exports=__kbnSharedDeps__.KbnUiTheme},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/fieldFormats/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.EmotionCache},function(e,t){e.exports=__kbnSharedDeps__.KbnSharedUxErrorBoundary},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/data/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.TsLib},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/maps/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.KbnDatemath},function(e,t){e.exports=__kbnSharedDeps__.ReactDom},function(e,t){e.exports=__kbnSharedDeps__.KbnEsqlAst},,function(e,t){e.exports=__kbnSharedDeps__.Classnames},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/charts/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},,,function(e,t){e.exports=__kbnSharedDeps__.ElasticNumeral},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/uiActions/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/textBasedLanguages/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.KbnCodeEditor},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/esUiShared/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/fileUpload/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.Uuid},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/lens/common/constants");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.MomentTimezone},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/dataViews/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/unifiedSearch/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/visualizations/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},,function(e,t,n){"use strict";n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return g})),n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return E})),n.d(t,"f",(function(){return h})),n.d(t,"e",(function(){return m}));var r=n(2),i=n.n(r),o=n(3),a=n(0),s=n(12),c=n(5),u=n(23),l=n(7),d=n(8),p=n(24),_=n(1);const f=new Set(["_a","_g"]);function b(e){return f.has(e)}function g(e){const t={},n=Object(o.parse)(e,{sort:!1});try{Object.keys(n).forEach((e=>{b(e)?t[e]=Object(l.decode)(n[e]):t[e]=n[e]}))}catch(e){console.error("Could not read url state",e)}return t}const O=Object(a.createContext)({searchString:"",setUrlState:()=>{}}),{Provider:y}=O,E=({children:e})=>{const t=Object(s.useHistory)(),{search:n}=Object(s.useLocation)(),r=Object(a.useRef)(n);Object(a.useEffect)((()=>{r.current=n}),[n]);const i=Object(a.useCallback)(((e,n,i,a)=>{const s=r.current,d=g(s),p=Object(o.parse)(s,{sort:!1});if(Object.prototype.hasOwnProperty.call(d,e)||(d[e]={}),"string"==typeof n){if(Object(c.isEqual)(Object(u.a)(d,`${e}.${n}`),i))return s;d[e][n]=i}else{const t=n;Object.keys(t).forEach((n=>{d[e][n]=t[n]}))}try{const e=Object(o.stringify)(p,{sort:!1,encode:!1});if(Object.keys(d).forEach((e=>{b(e)?p[e]=Object(l.encode)(d[e]):p[e]=d[e]})),e!==Object(o.stringify)(p,{sort:!1,encode:!1})){const e=Object(o.stringify)(p,{sort:!1});r.current=e,a?t.replace({search:e}):t.push({search:e})}}catch(e){console.error("Could not save url state",e)}}),[]);return Object(_.jsx)(y,{value:{searchString:n,setUrlState:i}},e)},h=e=>{const{searchString:t,setUrlState:n}=Object(a.useContext)(O);return[Object(a.useMemo)((()=>{const n=g(t);if("object"==typeof n)return n[e]}),[t]),Object(a.useCallback)(((t,r,i)=>{n(e,t,r,i)}),[e,n])]};class PageUrlStateService{constructor(){i()(this,"_pageUrlState$",new d.BehaviorSubject(null)),i()(this,"_pageUrlStateCallback",null)}getPageUrlState$(){return this._pageUrlState$.pipe(Object(d.distinctUntilChanged)(c.isEqual))}getPageUrlState(){return this._pageUrlState$.getValue()}updateUrlState(e,t){if(!this._pageUrlStateCallback)throw new Error("Callback has not been initialized.");this._pageUrlStateCallback(e,t)}setCurrentState(e){this._pageUrlState$.next(e)}setUpdateCallback(e){this._pageUrlStateCallback=e}}const m=(e,t)=>{const[n,r]=h("_a"),i=null==n?void 0:n[e],o=Object(a.useRef)();Object(a.useEffect)((()=>{o.current=r}),[r]);const s=Object(a.useRef)(),u=Object(a.useMemo)((()=>{const e={...null!=t?t:{},...null!=i?i:{}};if(Object(c.isEqual)(e,s.current))return s.current;if(Object(p.a)(s.current))for(const t in e)Object(c.isEqual)(e[t],s.current[t])&&(e[t]=s.current[t]);return s.current=e,e}),[i]),l=Object(a.useCallback)(((t,n)=>{if(null==o||!o.current)throw new Error("Callback for URL state update has not been initialized.");o.current(e,{...u,...t},n)}),[e,u]),d=Object(a.useMemo)((()=>new PageUrlStateService),[]);return Object(a.useEffect)((function(){d.setCurrentState(u),d.setUpdateCallback(l)}),[d,l,u]),Object(a.useMemo)((()=>[u,l,d]),[u,l,d])}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),i=n.n(r),o=n(1);function a(e,t={}){const n=i.a.lazy(e);return i.a.forwardRef(((e,a)=>{var s;return Object(o.jsx)(r.Suspense,{fallback:null!==(s=t.fallback)&&void 0!==s?s:null},i.a.createElement(n,{...e,ref:a}))}))}}]);