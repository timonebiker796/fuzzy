/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.alerting_bundle_jsonpfunction=window.alerting_bundle_jsonpfunction||[]).push([[5],{43:function(e,n,t){"use strict";t.d(n,"a",(function(){return u}));var a=t(16),i=t.n(a),r=t(35),c=t(6),o=t(34),s=t(39);const u=e=>{const n=e.rRule.dtstart,t=i()(n).add(e.duration),a=Object(c.has)(e,"rRule.interval"),u={title:e.title,startDate:n,endDate:t.toISOString(),timezone:[e.rRule.tzid],recurring:a,categoryIds:e.categoryIds||[],scopedQuery:e.scopedQuery};if(!a)return u;const l=e.rRule,y=d(l),b=l.freq,w=l.until?o.d.ON_DATE:l.count?o.d.AFTER_X:o.d.NEVER,j={frequency:y?"CUSTOM":b,interval:l.interval,ends:w};return y&&(j.customFrequency=b),l.until&&(j.until=l.until),l.count&&(j.count=l.count),b!==r.a.MONTHLY&&l.byweekday&&(j.byweekday=Object(s.a)(l.byweekday,i()(n))),b===r.a.MONTHLY&&(l.byweekday?j.bymonth="weekday":l.bymonthday&&(j.bymonth="day")),u.recurringSchedule=j,u},d=e=>{const n=e.freq;return!(!(e.interval&&e.interval>1)&&(!n||n!==r.a.DAILY||e.byweekday)&&!(n&&n===r.a.WEEKLY&&e.byweekday&&e.byweekday.length>1)&&(!n||n!==r.a.MONTHLY||!e.bymonthday))}},44:function(e,n,t){"use strict";t.d(n,"a",(function(){return r})),t(12);var a=t(14),i=t(13);const r=({size:e})=>Object(i.jsx)(a.EuiFlexGroup,{"data-test-subj":"center-justified-spinner",justifyContent:"center"},Object(i.jsx)(a.EuiFlexItem,{grow:!1},Object(i.jsx)(a.EuiLoadingSpinner,{size:e||"xl"})))},72:function(e,n,t){"use strict";t.r(n),t.d(n,"MaintenanceWindowsEditPage",(function(){return I})),t.d(n,"default",(function(){return I}));var a=t(12),i=t.n(a),r=t(18),c=t(14),o=t(40),s=t(37),u=t(32),d=t(45),l=t(56),y=t(1),b=t(0),w=t(15),j=t(33),g=t(38),E=t(43);var O=t(44),m=t(34),f=t(13);const I=i.a.memo((()=>{const{navigateToMaintenanceWindows:e}=Object(s.c)();Object(o.a)(y.MAINTENANCE_WINDOW_DEEP_LINK_IDS.maintenanceWindowsEdit);const{maintenanceWindowId:n}=Object(r.useParams)(),{maintenanceWindow:t,isLoading:a,isError:i}=(e=>{const{http:n,notifications:{toasts:t}}=Object(j.a)().services,{isInitialLoading:a,isLoading:i,data:r,isError:c}=Object(w.useQuery)({queryKey:["getMaintenanceWindow",e],queryFn:async()=>{const t=await async function({http:e,maintenanceWindowId:n}){const t=await e.get(`${y.INTERNAL_BASE_ALERTING_API_PATH}/rules/maintenance_window/${encodeURIComponent(n)}`);return Object(g.a)(t)}({http:n,maintenanceWindowId:e});return Object(E.a)(t)},onError:()=>{t.addDanger(b.i18n.translate("xpack.alerting.getMaintenanceWindowFailure",{defaultMessage:"Unable to get maintenance window."}))},refetchOnWindowFocus:!1,retry:!1,cacheTime:0});return{maintenanceWindow:r,isLoading:i||a,isError:c}})(n);return i&&e(),!t||a?Object(f.jsx)(O.a,null):Object(f.jsx)(c.EuiPageSection,{restrictWidth:!0},Object(f.jsx)(d.b,{showBackButton:!0,title:u.mb}),Object(f.jsx)(c.EuiSpacer,{size:"xl"}),Object(f.jsx)(l.a,{initialValue:t,maintenanceWindowId:n,onCancel:e,onSuccess:e,scopedQueryFeatureFlag:m.f}))}));I.displayName="MaintenanceWindowsEditPage"}}]);