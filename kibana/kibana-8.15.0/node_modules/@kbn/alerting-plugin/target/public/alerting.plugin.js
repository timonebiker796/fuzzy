/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */!function(e){function t(t){for(var n,i,a=t[0],o=t[1],u=0,l=[];u<a.length;u++)i=a[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&l.push(r[i][0]),r[i]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);for(s&&s(t);l.length;)l.shift()()}var n={},r={2:0};function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,i){n=r[e]=[t,i]}));t.push(n[2]=a);var o,u=document.createElement("script");u.charset="utf-8",u.timeout=120,i.nc&&u.setAttribute("nonce",i.nc),u.src=function(e){return i.p+"alerting.chunk."+e+".js"}(e);var s=new Error;o=function(t){u.onerror=u.onload=null,clearTimeout(l);var n=r[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;s.message="Loading chunk "+e+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,n[1](s)}r[e]=void 0}};var l=setTimeout((function(){o({type:"timeout",target:u})}),12e4);u.onerror=u.onload=o,document.head.appendChild(u)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var a=window.alerting_bundle_jsonpfunction=window.alerting_bundle_jsonpfunction||[],o=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var s=o;i(i.s=9)}([function(e,t){e.exports=__kbnSharedDeps__.KbnI18n},function(e,t,n){"use strict";n.r(t),n.d(t,"RuleExecutionStatusValues",(function(){return s})),n.d(t,"RuleLastRunOutcomeValues",(function(){return l})),n.d(t,"RuleExecutionStatusErrorReasons",(function(){return c})),n.d(t,"RuleExecutionStatusWarningReasons",(function(){return d})),n.d(t,"RuleLastRunOutcomeOrderMap",(function(){return _})),n.d(t,"MIN_LOOK_BACK_WINDOW",(function(){return p})),n.d(t,"MAX_LOOK_BACK_WINDOW",(function(){return f})),n.d(t,"MIN_STATUS_CHANGE_THRESHOLD",(function(){return g})),n.d(t,"MAX_STATUS_CHANGE_THRESHOLD",(function(){return m})),n.d(t,"MIN_QUERY_DELAY",(function(){return y})),n.d(t,"MAX_QUERY_DELAY",(function(){return E})),n.d(t,"RULES_SETTINGS_FEATURE_ID",(function(){return A})),n.d(t,"ALL_FLAPPING_SETTINGS_SUB_FEATURE_ID",(function(){return h})),n.d(t,"READ_FLAPPING_SETTINGS_SUB_FEATURE_ID",(function(){return v})),n.d(t,"ALL_QUERY_DELAY_SETTINGS_SUB_FEATURE_ID",(function(){return T})),n.d(t,"READ_QUERY_DELAY_SETTINGS_SUB_FEATURE_ID",(function(){return b})),n.d(t,"API_PRIVILEGES",(function(){return N})),n.d(t,"RULES_SETTINGS_SAVED_OBJECT_TYPE",(function(){return I})),n.d(t,"RULES_SETTINGS_FLAPPING_SAVED_OBJECT_ID",(function(){return D})),n.d(t,"RULES_SETTINGS_QUERY_DELAY_SAVED_OBJECT_ID",(function(){return S})),n.d(t,"DEFAULT_LOOK_BACK_WINDOW",(function(){return R})),n.d(t,"DEFAULT_STATUS_CHANGE_THRESHOLD",(function(){return k})),n.d(t,"DEFAULT_QUERY_DELAY",(function(){return w})),n.d(t,"DEFAULT_SERVERLESS_QUERY_DELAY",(function(){return L})),n.d(t,"DEFAULT_FLAPPING_SETTINGS",(function(){return x})),n.d(t,"DISABLE_FLAPPING_SETTINGS",(function(){return O})),n.d(t,"DEFAULT_QUERY_DELAY_SETTINGS",(function(){return P})),n.d(t,"DEFAULT_SERVERLESS_QUERY_DELAY_SETTINGS",(function(){return C})),n.d(t,"validateBackfillSchedule",(function(){return W})),n.d(t,"getBuiltinActionGroups",(function(){return B})),n.d(t,"RecoveredActionGroup",(function(){return i})),n.d(t,"DisabledActionTypeIdsForActionGroup",(function(){return F})),n.d(t,"isActionGroupDisabledForActionTypeId",(function(){return j})),n.d(t,"validateNotifyWhenType",(function(){return $})),n.d(t,"RuleNotifyWhenTypeValues",(function(){return a})),n.d(t,"RuleNotifyWhen",(function(){return o})),n.d(t,"parseDuration",(function(){return H.parseDuration})),n.d(t,"formatDuration",(function(){return H.formatDuration})),n.d(t,"convertDurationToFrequency",(function(){return H.convertDurationToFrequency})),n.d(t,"getDurationNumberInItsUnit",(function(){return H.getDurationNumberInItsUnit})),n.d(t,"getDurationUnitValue",(function(){return H.getDurationUnitValue})),n.d(t,"validateDurationSchema",(function(){return H.validateDurationSchema})),n.d(t,"executionLogSortableColumns",(function(){return Y})),n.d(t,"actionErrorLogSortableColumns",(function(){return V})),n.d(t,"EMPTY_EXECUTION_KPI_RESULT",(function(){return Q})),n.d(t,"getRuleTagsAggregation",(function(){return K})),n.d(t,"formatRuleTagsAggregationResult",(function(){return q})),n.d(t,"ISO_WEEKDAYS",(function(){return u})),n.d(t,"alertMappings",(function(){return z})),n.d(t,"getRuleCircuitBreakerErrorMessage",(function(){return X})),n.d(t,"parseRuleCircuitBreakerErrorMessage",(function(){return J})),n.d(t,"getScopedQueryErrorMessage",(function(){return ee})),n.d(t,"isScopedQueryError",(function(){return te})),n.d(t,"preconfiguredConnectorActionRefPrefix",(function(){return ne})),n.d(t,"systemConnectorActionRefPrefix",(function(){return re})),n.d(t,"MaintenanceWindowStatus",(function(){return ie})),n.d(t,"MAINTENANCE_WINDOW_SAVED_OBJECT_TYPE",(function(){return ae})),n.d(t,"MAINTENANCE_WINDOW_FEATURE_ID",(function(){return oe})),n.d(t,"MAINTENANCE_WINDOW_API_PRIVILEGES",(function(){return ue})),n.d(t,"MAINTENANCE_WINDOWS_APP_ID",(function(){return se})),n.d(t,"MANAGEMENT_APP_ID",(function(){return le})),n.d(t,"MAINTENANCE_WINDOW_PATHS",(function(){return ce})),n.d(t,"MAINTENANCE_WINDOW_DEEP_LINK_IDS",(function(){return de})),n.d(t,"MAINTENANCE_WINDOW_DATE_FORMAT",(function(){return _e})),n.d(t,"mappingFromFieldMap",(function(){return fe})),n.d(t,"getComponentTemplateFromFieldMap",(function(){return ge})),n.d(t,"contextToSchemaName",(function(){return ye})),n.d(t,"LEGACY_BASE_ALERT_API_PATH",(function(){return Ee})),n.d(t,"BASE_ALERTING_API_PATH",(function(){return Ae})),n.d(t,"INTERNAL_BASE_ALERTING_API_PATH",(function(){return he})),n.d(t,"INTERNAL_ALERTING_SNOOZE_RULE",(function(){return ve})),n.d(t,"INTERNAL_ALERTING_API_FIND_RULES_PATH",(function(){return Te})),n.d(t,"INTERNAL_ALERTING_API_MAINTENANCE_WINDOW_PATH",(function(){return be})),n.d(t,"INTERNAL_ALERTING_API_GET_ACTIVE_MAINTENANCE_WINDOWS_PATH",(function(){return Ne})),n.d(t,"INTERNAL_ALERTING_BACKFILL_API_PATH",(function(){return Ie})),n.d(t,"INTERNAL_ALERTING_BACKFILL_FIND_API_PATH",(function(){return De})),n.d(t,"INTERNAL_ALERTING_BACKFILL_SCHEDULE_API_PATH",(function(){return Se})),n.d(t,"ALERTING_FEATURE_ID",(function(){return Re})),n.d(t,"MONITORING_HISTORY_LIMIT",(function(){return ke})),n.d(t,"ENABLE_MAINTENANCE_WINDOWS",(function(){return we}));var r=n(0);const i=Object.freeze({id:"recovered",name:r.i18n.translate("alertingTypes.builtinActionGroups.recovered",{defaultMessage:"Recovered"})}),a=["onActionGroupChange","onActiveAlert","onThrottleInterval"];let o=function(e){return e.CHANGE="onActionGroupChange",e.ACTIVE="onActiveAlert",e.THROTTLE="onThrottleInterval",e}({});const u=[1,2,3,4,5,6,7],s=["ok","active","error","pending","unknown","warning"],l=["succeeded","warning","failed"];let c=function(e){return e.Read="read",e.Decrypt="decrypt",e.Execute="execute",e.Unknown="unknown",e.License="license",e.Timeout="timeout",e.Disabled="disabled",e.Validate="validate",e}({}),d=function(e){return e.MAX_EXECUTABLE_ACTIONS="maxExecutableActions",e.MAX_ALERTS="maxAlerts",e.MAX_QUEUED_ACTIONS="maxQueuedActions",e}({});const _={succeeded:0,warning:10,failed:20},p=2,f=20,g=2,m=20,y=0,E=60,A="rulesSettings",h="allFlappingSettings",v="readFlappingSettings",T="allQueryDelaySettings",b="readQueryDelaySettings",N={READ_FLAPPING_SETTINGS:"read-flapping-settings",WRITE_FLAPPING_SETTINGS:"write-flapping-settings",READ_QUERY_DELAY_SETTINGS:"read-query-delay-settings",WRITE_QUERY_DELAY_SETTINGS:"write-query-delay-settings"},I="rules-settings",D="rules-settings",S="query-delay-settings",R=20,k=4,w=0,L=15,x={enabled:!0,lookBackWindow:R,statusChangeThreshold:k},O={...x,enabled:!1},P={delay:w},C={delay:L},M=90,U=24*M*60*60*1e3;function W(e,t){try{const n=(new Date).valueOf(),r=Date.parse(e);if(isNaN(r))return"Backfill start must be valid date";if(n-r>U)return`Backfill cannot look back more than ${M} days`;if(n<r)return"Backfill cannot be scheduled for the future";if(t){const r=Date.parse(t);if(isNaN(r))return"Backfill end must be valid date";const i=new Date(e).valueOf();if(new Date(t).valueOf()<=i)return"Backfill end must be greater than backfill start";if(n<r)return"Backfill cannot be scheduled for the future"}}catch(e){return`Error validating backfill schedule - ${e.message}`}}function B(e){return[null!=e?e:i]}n(7);const G={[i.id]:[".jira",".resilient"]},F=new Map(Object.entries(G));function j(e,t){return F.has(e)&&F.get(e).includes(t)}function $(e){if(!a.includes(e))return`string is not a valid RuleNotifyWhenType: ${e}`}var H=n(3);const Y=["timestamp","execution_duration","total_search_duration","es_search_duration","schedule_delay","num_triggered_actions","num_generated_actions","num_active_alerts","num_recovered_alerts","num_new_alerts"],V=["@timestamp","event.start","event.end","event.duration","event.action"],Q={success:0,unknown:0,failure:0,warning:0,activeAlerts:0,newAlerts:0,recoveredAlerts:0,erroredActions:0,triggeredActions:0},K=e=>{const{maxTags:t=50,after:n}=e||{};return{tags:{composite:{...n?{after:n}:{},size:t,sources:[{tags:{terms:{field:"alert.attributes.tags",order:"asc"}}}]}}}},q=e=>e?{ruleTags:(e.tags.buckets||[]).map((e=>e.key.tags))}:{ruleTags:[]},z={dynamic:!1,properties:{enabled:{type:"boolean"},name:{type:"text",fields:{keyword:{type:"keyword",normalizer:"lowercase"}}},tags:{type:"keyword"},alertTypeId:{type:"keyword"},schedule:{properties:{interval:{type:"keyword"}}},consumer:{type:"keyword"},legacyId:{type:"keyword"},actions:{dynamic:!1,type:"nested",properties:{group:{type:"keyword"},actionRef:{type:"keyword"},actionTypeId:{type:"keyword"}}},params:{type:"flattened",ignore_above:4096},mapped_params:{properties:{risk_score:{type:"float"},severity:{type:"keyword"}}},scheduledTaskId:{type:"keyword"},createdBy:{type:"keyword"},updatedBy:{type:"keyword"},createdAt:{type:"date"},updatedAt:{type:"date"},throttle:{type:"keyword"},notifyWhen:{type:"keyword"},muteAll:{type:"boolean"},mutedInstanceIds:{type:"keyword"},monitoring:{properties:{run:{properties:{calculated_metrics:{properties:{p50:{type:"long"},p95:{type:"long"},p99:{type:"long"},success_ratio:{type:"float"}}},last_run:{properties:{timestamp:{type:"date"},metrics:{properties:{duration:{type:"long"},total_search_duration_ms:{type:"long"},total_indexing_duration_ms:{type:"long"},total_alerts_detected:{type:"float"},total_alerts_created:{type:"float"},gap_duration_s:{type:"float"}}}}}}}}},revision:{type:"long"},snoozeSchedule:{type:"nested",properties:{id:{type:"keyword"},duration:{type:"long"},skipRecurrences:{type:"date",format:"strict_date_time"}}},executionStatus:{properties:{numberOfTriggeredActions:{type:"long"},status:{type:"keyword"},lastExecutionDate:{type:"date"},lastDuration:{type:"long"},error:{properties:{reason:{type:"keyword"},message:{type:"keyword"}}},warning:{properties:{reason:{type:"keyword"},message:{type:"keyword"}}}}},lastRun:{properties:{outcome:{type:"keyword"},outcomeOrder:{type:"float"},alertsCount:{properties:{active:{type:"float"},new:{type:"float"},recovered:{type:"float"},ignored:{type:"float"}}}}},running:{type:"boolean"}}},X=({name:e="",interval:t,intervalAvailable:n,action:i,rules:a=1})=>{let o;switch(i){case"update":o=(e=>r.i18n.translate("xpack.alerting.ruleCircuitBreaker.error.updateSummary",{defaultMessage:"Rule ''{name}'' cannot be updated. The maximum number of runs per minute would be exceeded.",values:{name:e}}))(e);break;case"create":o=(e=>r.i18n.translate("xpack.alerting.ruleCircuitBreaker.error.createSummary",{defaultMessage:"Rule ''{name}'' cannot be created. The maximum number of runs per minute would be exceeded.",values:{name:e}}))(e);break;case"enable":o=(e=>r.i18n.translate("xpack.alerting.ruleCircuitBreaker.error.enableSummary",{defaultMessage:"Rule ''{name}'' cannot be enabled. The maximum number of runs per minute would be exceeded.",values:{name:e}}))(e);break;case"bulkEdit":o=r.i18n.translate("xpack.alerting.ruleCircuitBreaker.error.bulkEditSummary",{defaultMessage:"Rules cannot be bulk edited. The maximum number of runs per minute would be exceeded."});break;case"bulkEnable":o=r.i18n.translate("xpack.alerting.ruleCircuitBreaker.error.bulkEnableSummary",{defaultMessage:"Rules cannot be bulk enabled. The maximum number of runs per minute would be exceeded."})}return`Error validating circuit breaker - ${o} - ${(({interval:e,intervalAvailable:t,rules:n})=>1===n?r.i18n.translate("xpack.alerting.ruleCircuitBreaker.error.ruleDetail",{defaultMessage:"The rule has {interval, plural, one {{interval} run} other {{interval} runs}} per minute; there {intervalAvailable, plural, one {is only {intervalAvailable} run} other {are only {intervalAvailable} runs}} per minute available. Before you can modify this rule, you must increase its check interval so that it runs less frequently. Alternatively, disable other rules or change their check intervals.",values:{interval:e,intervalAvailable:t}}):r.i18n.translate("xpack.alerting.ruleCircuitBreaker.error.multipleRuleDetail",{defaultMessage:"The rules have {interval, plural, one {{interval} run} other {{interval} runs}} per minute; there {intervalAvailable, plural, one {is only {intervalAvailable} run} other {are only {intervalAvailable} runs}} per minute available. Before you can modify these rules, you must disable other rules or change their check intervals so they run less frequently.",values:{interval:e,intervalAvailable:t}}))({interval:t,intervalAvailable:n,rules:a})}`},J=e=>{if(!e.includes("Error validating circuit breaker"))return{summary:e};const t=e.split(" - ");return{summary:t[1],details:t[2]}},Z="invalid scoped query",ee=e=>`${Z} - ${e}`,te=e=>e.includes(Z),ne="preconfigured:",re="system_action:";let ie=function(e){return e.Running="running",e.Upcoming="upcoming",e.Finished="finished",e.Archived="archived",e}({});const ae="maintenance-window",oe="maintenanceWindow",ue={READ_MAINTENANCE_WINDOW:"read-maintenance-window",WRITE_MAINTENANCE_WINDOW:"write-maintenance-window"},se="maintenanceWindows",le="management",ce={alerting:{maintenanceWindows:`/${se}`,maintenanceWindowsCreate:"/create",maintenanceWindowsEdit:"/edit/:maintenanceWindowId"}},de={maintenanceWindows:se,maintenanceWindowsCreate:"create",maintenanceWindowsEdit:"edit"},_e="MM/DD/YY hh:mm A";var pe=n(5);function fe(e,t="strict"){const n={dynamic:t,properties:{}};return Object.keys(e).map((t=>({name:t,...e[t]}))).forEach((e=>{const{name:t,required:r,array:i,multi_fields:a,...o}=e,u=a?{...o,fields:a.reduce(((e,t)=>(e[t.name]={type:t.type},e)),{})}:o;Object(pe.set)(n.properties,e.name.split(".").join(".properties."),u),"@timestamp"===t&&Object(pe.set)(n.properties,`${t}.ignore_malformed`,!1)})),n}const ge=({name:e,fieldMap:t,dynamic:n,includeSettings:r})=>({name:e,_meta:{managed:!0},template:{settings:{...r?{number_of_shards:1,"index.mapping.total_fields.limit":1e3*Math.ceil(Object.keys(t).length/1e3)+500}:{}},mappings:fe(t,null!=n?n:"strict")}});var me=n(6);const ye=e=>`${e.split(/[.\-]/).map((e=>Object(me.capitalize)(e))).join("")}Alert`,Ee="/api/alerts",Ae="/api/alerting",he="/internal/alerting",ve=`${he}/rule/{id}/_snooze`,Te=`${he}/rules/_find`,be=`${he}/rules/maintenance_window`,Ne=`${be}/_active`,Ie=`${he}/rules/backfill`,De=`${Ie}/_find`,Se=`${Ie}/_schedule`,Re="alerts",ke=200,we=!0},function(e,t,n){e.exports=n(8)(2)},function(e,t,n){"use strict";n.r(t),n.d(t,"parseDuration",(function(){return s})),n.d(t,"formatDuration",(function(){return l})),n.d(t,"convertDurationToFrequency",(function(){return c})),n.d(t,"getDurationNumberInItsUnit",(function(){return d})),n.d(t,"getDurationUnitValue",(function(){return _})),n.d(t,"validateDurationSchema",(function(){return p}));const r=/^[1-9][0-9]*s$/,i=/^[1-9][0-9]*m$/,a=/^[1-9][0-9]*h$/,o=/^[1-9][0-9]*d$/,u=6e4;function s(e){const t=parseInt(e,10);if(f(e))return 1e3*t;if(g(e))return 60*t*1e3;if(m(e))return 60*t*60*1e3;if(y(e))return 24*t*60*60*1e3;throw new Error(`Invalid duration "${e}". Durations must be of the form {number}x. Example: 5s, 5m, 5h or 5d"`)}function l(e,t){const n=parseInt(e,10);if(f(e))return`${n} ${t?n>1?"seconds":"second":"sec"}`;if(g(e))return`${n} ${t?n>1?"minutes":"minute":"min"}`;if(m(e))return`${n} ${t?n>1?"hours":"hour":"hr"}`;if(y(e))return`${n} ${n>1?"days":"day"}`;throw new Error(`Invalid duration "${e}". Durations must be of the form {number}x. Example: 5s, 5m, 5h or 5d"`)}function c(e,t=u){const n=s(e);if(0===t)throw new Error("Invalid denomination value: value cannot be 0");return 1/(n/t)}function d(e){return parseInt(e.replace(/[^0-9.]/g,""),10)}function _(e){const t=d(e);return e.replace(t.toString(),"")}function p(e){if(!(e.match(r)||e.match(i)||e.match(a)||e.match(o)))return"string is not a valid duration: "+e}function f(e){return r.test(e)}function g(e){return i.test(e)}function m(e){return a.test(e)}function y(e){return o.test(e)}},function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var r=n(1);function i(e){const{last_execution_date:t,last_duration:n,...r}=e;return{lastExecutionDate:new Date(t),lastDuration:n,...r}}function a(e){const{run:t}=e,{last_run:n,...r}=t,{timestamp:i,...a}=n;return{run:{last_run:{timestamp:e.run.last_run.timestamp,...a},...r}}}function o(e){const{outcome_msg:t,alerts_count:n,outcome_order:r,...i}=e;return{outcomeMsg:t,alertsCount:n,outcomeOrder:r,...i}}async function u({http:e}){return(await e.get(`${r.BASE_ALERTING_API_PATH}/rule_types`)).map((e=>function(e){const{recovery_action_group:t,action_groups:n,default_action_group_id:r,minimum_license_required:i,action_variables:a,rule_task_timeout:o,is_exportable:u,authorized_consumers:s,enabled_in_license:l,...c}=e;return{recoveryActionGroup:t,actionGroups:n,defaultActionGroupId:r,minimumLicenseRequired:i,actionVariables:a,ruleTaskTimeout:o,isExportable:u,authorizedConsumers:s,enabledInLicense:l,...c}}(e)))}async function s({http:e,id:t}){return(await u({http:e})).find((e=>e.id===t))}async function l({http:e,ruleId:t}){return function(e){const{rule_type_id:t,created_by:n,updated_by:r,created_at:u,updated_at:s,api_key:l,api_key_owner:c,api_key_created_by_user:d,notify_when:_,mute_all:p,muted_alert_ids:f,scheduled_task_id:g,execution_status:m,actions:y,next_run:E,last_run:A,monitoring:h,view_in_app_relative_url:v,...T}=e;return{alertTypeId:t,createdBy:n,updatedBy:r,createdAt:new Date(u),updatedAt:new Date(s),apiKey:l,apiKeyOwner:c,notifyWhen:_,muteAll:p,mutedInstanceIds:f,executionStatus:i(m),actions:y?y.map((e=>function(e){const{connector_type_id:t,frequency:n,...r}=e;return{actionTypeId:t,...n?{frequency:{summary:n.summary,throttle:n.throttle,notifyWhen:n.notify_when}}:{},...r}}(e))):[],scheduledTaskId:g,...v?{viewInAppRelativeUrl:v}:{},...E?{nextRun:new Date(E)}:{},...h?{monitoring:a(h)}:{},...A?{lastRun:o(A)}:{},...void 0!==d?{apiKeyCreatedByUser:d}:{},...T}}(await e.get(`${r.INTERNAL_BASE_ALERTING_API_PATH}/rule/${t}`))}},function(e,t){e.exports=__kbnSharedDeps__.SaferLodashSet},function(e,t){e.exports=__kbnSharedDeps__.Lodash},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r={ID:"alerting",MINIMUM_LICENSE_REQUIRED:"basic",getI18nName:e=>e.translate("xpack.alerting.appName",{defaultMessage:"Alerting"})}},function(e,t){e.exports=__kbnSharedDeps_npm__},function(e,t,n){n(10),__kbnBundles__.define("plugin/alerting/public",n,11),__kbnBundles__.define("plugin/alerting/common",n,1),__kbnBundles__.define("plugin/alerting/common/parse_duration",n,3)},function(e,t,n){n.p=window.__kbnPublicPath__.alerting},function(e,t,n){"use strict";n.r(t),n.d(t,"plugin",(function(){return l}));var r=n(2),i=n.n(r),a=n(0);const o=Symbol("*");class alert_navigation_registry_AlertNavigationRegistry{constructor(){i()(this,"alertNavigations",new Map)}has(e,t){return this.hasTypedHandler(e,t.id)||this.hasDefaultHandler(e)}hasTypedHandler(e,t){var n,r;return null!==(n=null===(r=this.alertNavigations.get(e))||void 0===r?void 0:r.has(t))&&void 0!==n&&n}hasDefaultHandler(e){var t,n;return null!==(t=null===(n=this.alertNavigations.get(e))||void 0===n?void 0:n.has(o))&&void 0!==t&&t}createConsumerNavigation(e){const t=new Map;return this.alertNavigations.set(e,t),t}registerDefault(e,t){var n;if(this.hasDefaultHandler(e))throw new Error(a.i18n.translate("xpack.alerting.alertNavigationRegistry.register.duplicateDefaultError",{defaultMessage:'Default Navigation within "{consumer}" is already registered.',values:{consumer:e}}));(null!==(n=this.alertNavigations.get(e))&&void 0!==n?n:this.createConsumerNavigation(e)).set(o,t)}register(e,t,n){var r;if(this.hasTypedHandler(e,t))throw new Error(a.i18n.translate("xpack.alerting.alertNavigationRegistry.register.duplicateNavigationError",{defaultMessage:'Navigation for Alert type "{alertType}" within "{consumer}" is already registered.',values:{alertType:t,consumer:e}}));(null!==(r=this.alertNavigations.get(e))&&void 0!==r?r:this.createConsumerNavigation(e)).set(t,n)}get(e,t){if(this.has(e,t)){var n;const r=this.alertNavigations.get(e);return null!==(n=r.get(t.id))&&void 0!==n?n:r.get(o)}throw new Error(a.i18n.translate("xpack.alerting.alertNavigationRegistry.get.missingNavigationError",{defaultMessage:'Navigation for Alert type "{alertType}" within "{consumer}" is not registered.',values:{alertType:t.id,consumer:e}}))}}var u=n(4),s=n(1);class plugin_AlertingPublicPlugin{constructor(e){i()(this,"alertNavigationRegistry",void 0),i()(this,"config",void 0),i()(this,"maxAlertsPerRun",void 0),this.initContext=e,this.config=this.initContext.config.get(),this.maxAlertsPerRun=this.config.rules.run.alerts.max}setup(e,t){this.alertNavigationRegistry=new alert_navigation_registry_AlertNavigationRegistry;const r=this.initContext.env.packageInfo.version;return s.ENABLE_MAINTENANCE_WINDOWS&&t.management.sections.section.insightsAndAlerting.registerApp({id:s.MAINTENANCE_WINDOWS_APP_ID,title:a.i18n.translate("xpack.alerting.management.section.title",{defaultMessage:"Maintenance Windows"}),async mount(t){const{renderApp:i}=await n.e(3).then(n.bind(null,70)),[a,o]=await e.getStartServices();return i({core:a,plugins:o,mountParams:t,kibanaVersion:r})}}),{registerNavigation:async(e,t,n)=>{this.alertNavigationRegistry.register(e,t,n)},registerDefaultNavigation:async(e,t)=>this.alertNavigationRegistry.registerDefault(e,t)}}start(e){return{getNavigation:async t=>{const n=await Object(u.a)({http:e.http,ruleId:t}),r=await Object(u.b)({http:e.http,id:n.alertTypeId});if(r){if(this.alertNavigationRegistry.has(n.consumer,r)){const e=this.alertNavigationRegistry.get(n.consumer,r)(n);if(e)return e}return n.viewInAppRelativeUrl?n.viewInAppRelativeUrl:void 0}console.log(`Unable to get navigation for rule type "${n.alertTypeId}" because it is not registered on the server side.`)},getMaxAlertsPerRun:()=>this.maxAlertsPerRun}}}function l(e){return new plugin_AlertingPublicPlugin(e)}},function(e,t){e.exports=__kbnSharedDeps__.React},function(e,t){e.exports=__kbnSharedDeps__.EmotionReact},function(e,t){e.exports=__kbnSharedDeps__.ElasticEui},function(e,t){e.exports=__kbnSharedDeps__.ReactQuery},function(e,t){e.exports=__kbnSharedDeps__.Moment},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/esUiShared/static/forms/hook_form_lib");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.ReactRouterDom},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.TsLib},function(e,t){e.exports=__kbnSharedDeps__.MomentTimezone},function(e,t){e.exports=__kbnSharedDeps__.KbnUiTheme},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/esUiShared/static/forms/components");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.ReactRouterDomV5Compat},function(e,t){e.exports=__kbnSharedDeps__.ReactDom},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.ElasticEuiLibComponentsUseIsNestedEuiProvider},function(e,t){e.exports=__kbnSharedDeps__.EmotionCache},function(e,t){e.exports=__kbnSharedDeps__.KbnSharedUxErrorBoundary},function(e,t){e.exports=__kbnSharedDeps__.Rxjs},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/esUiShared/static/forms/helpers");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))}]);