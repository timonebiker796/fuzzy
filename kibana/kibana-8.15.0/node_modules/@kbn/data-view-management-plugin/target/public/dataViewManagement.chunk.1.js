(window.dataViewManagement_bundle_jsonpfunction=window.dataViewManagement_bundle_jsonpfunction||[]).push([[1],{30:function(e,t,a){"use strict";a.r(t),a.d(t,"mountManagementSection",(function(){return Ua}));var i=a(5),n=a.n(i),s=a(14),r=a.n(s),l=a(10),d=a(21),o=a(6);const c=({children:e,...t})=>Object(o.jsx)(l.Router,t,Object(o.jsx)(d.CompatRouter,null,e));var u=a(11),p=a(32),m=a.n(p);const b={services:{}},g=Object(i.createContext)(b);var j=a(61),x=a.n(j);const f=({children:e,component:t,render:a,...s})=>{const r=Object(i.useMemo)((()=>{if(t)return e=>Object(o.jsx)(n.a.Fragment,null,Object(o.jsx)(h,null),Object(o.jsx)(t,e))}),[t]);if(r)return Object(o.jsx)(l.Route,m()({},s,{component:r}));if(a||"function"==typeof e){const t="function"==typeof e?e:a;return Object(o.jsx)(l.Route,m()({},s,{render:e=>Object(o.jsx)(n.a.Fragment,null,Object(o.jsx)(h,null),t(e))}))}return Object(o.jsx)(l.Route,s,Object(o.jsx)(h,null),e)},h=()=>{const{executionContext:e}=Object(i.useContext)(g).services,t=Object(l.useRouteMatch)();return function(e,t){x()((()=>(null==e||e.set(t),()=>{null==e||e.clear()})),[t])}(e,{type:"application",page:t.path,id:Object.keys(t.params).length>0?JSON.stringify(t.params):void 0}),null},O=({legacySwitch:e=!0,children:t})=>{const a=Object(l.useRouteMatch)();return e?Object(o.jsx)(l.Switch,null,t):Object(o.jsx)(d.Routes,null,i.Children.map(t,(e=>{if(n.a.isValidElement(e)&&e.type===f){var i;const s=Object(u.replace)(null==e?void 0:e.props.path,a.url+"/",""),r="function"==typeof(null==e?void 0:e.props.children)?null==e?void 0:e.props.children:null==e?void 0:e.props.render;return Object(o.jsx)(d.Route,{path:s,element:Object(o.jsx)(n.a.Fragment,null,Object(o.jsx)(h,null),(null==e||null===(i=e.props)||void 0===i?void 0:i.component)&&Object(o.jsx)(e.props.component,null)||r&&r()||t)})}return e})))};var y=a(0),M=a(22),v=a(55),F=a(35),P=a.n(F),E=a(13),w=a.n(E),T=a(7);const S="eui-global",C="eui-utilities",D={darkMode:!1},I=[T.euiStylisPrefixer],_=w()({key:"css",stylisPlugins:I,container:document.querySelector('meta[name="emotion"]')}),L=w()({key:S,stylisPlugins:I,container:document.querySelector(`meta[name="${S}"]`)}),k=w()({key:C,stylisPlugins:I,container:document.querySelector(`meta[name="${C}"]`)});_.compat=!0,L.compat=!0,k.compat=!0;const N={default:_,global:L,utility:k},A=({theme:{theme$:e},globalStyles:t,colorMode:a,modify:n,children:s})=>{const r=P()(e,D),l=Object(i.useMemo)((()=>(e=>e.darkMode?T.COLOR_MODES_STANDARD.dark:T.COLOR_MODES_STANDARD.light)(r)),[r]),d=a||l,c=!1!==t&&void 0;return Object(o.jsx)(T.EuiProvider,{cache:N,modify:n,colorMode:d,globalStyles:c,utilityClasses:c},s)},V=({children:e,i18n:t,...a})=>Object(M.useIsNestedEuiProvider)()?(Object(v.emitEuiProviderWarning)("KibanaRootContextProvider has likely been nested in this React tree, either by direct reference or by KibanaRenderContextProvider.  The result of this nesting is a nesting of EuiProvider, which has negative effects.  Check your React tree for nested Kibana context providers."),Object(o.jsx)(t.Context,null,e)):Object(o.jsx)(A,a,Object(o.jsx)(t.Context,null,e));var R=a(19);const B=({children:e,...t})=>Object(o.jsx)(V,m()({globalStyles:!1},t),Object(o.jsx)(R.KibanaErrorBoundaryProvider,{analytics:t.analytics},Object(o.jsx)(R.KibanaErrorBoundary,null,e)));var U=a(9),z=a(8),H=a(49),G=a(12);const K=y.i18n.translate("xpack.rollupJobs.rollupDeprecationLabel",{defaultMessage:"Rollup (deprecated)"}),$=({children:e})=>Object(o.jsx)(T.EuiToolTip,{title:y.i18n.translate("xpack.rollupJobs.rollupDeprecationTooltipTitle",{defaultMessage:"Rollups are deprecated in 8.11.0"}),content:y.i18n.translate("xpack.rollupJobs.rollupDeprecationTooltipContent",{defaultMessage:"Rollups are deprecated and will be removed in a future version. Use downsampling instead."}),children:e});function W(e){return[{text:y.i18n.translate("indexPatternManagement.dataViews.listBreadcrumb",{defaultMessage:"Data views"}),href:e?"/":""}]}function q(e,t){return[...W(!0),{text:e.getName(),href:t?`/patterns/${e.id}`:""}]}var Y=a(16),J=a(23);const X="_a",Q="indexedFields",Z="scriptedFields",ee="sourceFilters",te="relationships";var ae=a(31),ie=a.n(ae),ne=a(20);const se=y.i18n.translate("indexPatternManagement.editIndexPattern.sourcePlaceholder",{defaultMessage:"field filter, accepts wildcards (e.g., `user*` to filter fields starting with 'user')"}),re=({onAddFilter:e})=>{const[t,a]=Object(i.useState)(""),n=Object(i.useCallback)((()=>{e(t),a("")}),[t,e]);return Object(o.jsx)(T.EuiFlexGroup,null,Object(o.jsx)(T.EuiFlexItem,{grow:10},Object(o.jsx)(T.EuiFieldText,{fullWidth:!0,value:t,"data-test-subj":"fieldFilterInput",onChange:e=>a(e.target.value.trim()),placeholder:se})),Object(o.jsx)(T.EuiFlexItem,null,Object(o.jsx)(T.EuiButton,{"data-test-subj":"addFieldFilterButton",isDisabled:0===t.length,onClick:n},Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.editIndexPattern.source.addButtonLabel",defaultMessage:"Add"}))))},le=({filterToDeleteValue:e,onCancelConfirmationModal:t,onDeleteFilter:a})=>Object(o.jsx)(T.EuiConfirmModal,{title:Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.editIndexPattern.source.deleteSourceFilterLabel",defaultMessage:"Delete field filter ''{value}''?",values:{value:e}}),onCancel:t,onConfirm:a,cancelButtonText:Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.editIndexPattern.source.deleteFilter.cancelButtonLabel",defaultMessage:"Cancel"}),buttonColor:"danger",confirmButtonText:Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.editIndexPattern.source.deleteFilter.deleteButtonLabel",defaultMessage:"Delete"}),defaultFocusedButton:T.EUI_MODAL_CONFIRM_BUTTON}),de=()=>Object(o.jsx)(n.a.Fragment,null,Object(o.jsx)(T.EuiText,{size:"s"},Object(o.jsx)("p",null,Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.editIndexPattern.sourceLabel",defaultMessage:"Field filters can be used to exclude one or more fields when fetching a document. This happens when viewing a document in the Discover app, or with a table displaying results from a saved search in the Dashboard app. If you have documents with large or unimportant fields you may benefit from filtering those out at this lower level."})),Object(o.jsx)("p",null,Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.editIndexPattern.source.noteLabel",defaultMessage:"Note that multi-fields will incorrectly appear as matches in the table below. These filters only actually apply to fields in the original source document, so matching multi-fields are not actually being filtered."}))),Object(o.jsx)(T.EuiSpacer,{size:"s"})),oe=y.i18n.translate("indexPatternManagement.editIndexPattern.source.table.filterHeader",{defaultMessage:"Filter"}),ce=y.i18n.translate("indexPatternManagement.editIndexPattern.source.table.filterDescription",{defaultMessage:"Filter name"}),ue=y.i18n.translate("indexPatternManagement.editIndexPattern.source.table.matchesHeader",{defaultMessage:"Matches"}),pe=y.i18n.translate("indexPatternManagement.editIndexPattern.source.table.matchesDescription",{defaultMessage:"Language used for the field"}),me=y.i18n.translate("indexPatternManagement.editIndexPattern.source.table.editAria",{defaultMessage:"Edit"}),be=y.i18n.translate("indexPatternManagement.editIndexPattern.source.table.saveAria",{defaultMessage:"Save"}),ge=y.i18n.translate("indexPatternManagement.editIndexPattern.source.table.deleteAria",{defaultMessage:"Delete"}),je=y.i18n.translate("indexPatternManagement.editIndexPattern.source.table.cancelAria",{defaultMessage:"Cancel"});class table_Table extends i.Component{constructor(e){super(e),ie()(this,"startEditingFilter",((e,t)=>this.setState({editingFilterId:e,editingFilterValue:t}))),ie()(this,"stopEditingFilter",(()=>this.setState({editingFilterId:""}))),ie()(this,"onEditingFilterChange",(e=>this.setState({editingFilterValue:e.target.value}))),ie()(this,"onEditFieldKeyDown",(({key:e})=>{T.keys.ENTER===e&&this.state.editingFilterId&&this.state.editingFilterValue&&(this.props.saveFilter({clientId:this.state.editingFilterId,value:this.state.editingFilterValue}),this.stopEditingFilter()),T.keys.ESCAPE===e&&this.stopEditingFilter()})),this.state={editingFilterId:"",editingFilterValue:""}}getColumns(){const{deleteFilter:e,fieldWildcardMatcher:t,indexPattern:a,saveFilter:i}=this.props;return[{field:"value",name:oe,description:ce,dataType:"string",sortable:!0,render:(e,t)=>this.state.editingFilterId&&this.state.editingFilterId===t.clientId?Object(o.jsx)(T.EuiFieldText,{autoFocus:!0,value:this.state.editingFilterValue,onChange:this.onEditingFilterChange,onKeyDown:this.onEditFieldKeyDown,"data-test-subj":`filter_input_${e}`}):Object(o.jsx)("span",null,e)},{field:"value",name:ue,description:pe,dataType:"string",sortable:!0,render:(e,i)=>{const n=t([this.state.editingFilterId===i.clientId?this.state.editingFilterValue:e]),s=a.getNonScriptedFields().map((e=>e.name)).filter(n).sort();return s.length?Object(o.jsx)("span",null,s.join(", ")):Object(o.jsx)("em",null,Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.editIndexPattern.source.table.notMatchedLabel",defaultMessage:"The source filter doesn't match any known fields."}))}},{name:"",align:T.RIGHT_ALIGNMENT,width:"100",render:t=>this.state.editingFilterId===t.clientId?Object(o.jsx)(n.a.Fragment,null,Object(o.jsx)(T.EuiButtonIcon,{size:"s",onClick:()=>{i({clientId:this.state.editingFilterId,value:this.state.editingFilterValue}),this.stopEditingFilter()},iconType:"checkInCircleFilled","aria-label":be,"data-test-subj":`save_filter-${t.value}`}),Object(o.jsx)(T.EuiButtonIcon,{size:"s",onClick:()=>{this.stopEditingFilter()},iconType:"cross","aria-label":je})):Object(o.jsx)(n.a.Fragment,null,Object(o.jsx)(T.EuiButtonIcon,{size:"s",onClick:()=>this.startEditingFilter(t.clientId,t.value),iconType:"pencil","aria-label":me,"data-test-subj":`edit_filter-${t.value}`}),Object(o.jsx)(T.EuiButtonIcon,{size:"s",color:"danger",onClick:()=>e(t),iconType:"trash","aria-label":ge}))}]}render(){const{items:e,isSaving:t}=this.props,a=this.getColumns();return Object(o.jsx)(T.EuiInMemoryTable,{loading:t,items:e,columns:a,pagination:{initialPageSize:10,pageSizeOptions:[5,10,25,50]},sorting:!0})}}class source_filters_table_SourceFiltersTable extends i.Component{constructor(e){super(e),ie()(this,"clientSideId",0),ie()(this,"updateFilters",(()=>{const e=(this.props.indexPattern.sourceFilters||[]).map((e=>({...e,clientId:++this.clientSideId})));this.setState({filters:e})})),ie()(this,"getFilteredFilters",Object(ne.createSelector)((e=>e.filters),((e,t)=>t.filterFilter),((e,t)=>{if(t){const a=t.toLowerCase();return e.filter((e=>e.value.toLowerCase().includes(a)))}return e}))),ie()(this,"startDeleteFilter",(e=>{this.setState({filterToDelete:e,isDeleteConfirmationModalVisible:!0})})),ie()(this,"hideDeleteConfirmationModal",(()=>{this.setState({filterToDelete:void 0,isDeleteConfirmationModalVisible:!1})})),ie()(this,"deleteFilter",(async()=>{const{indexPattern:e,onAddOrRemoveFilter:t,saveIndexPattern:a}=this.props,{filterToDelete:i,filters:n}=this.state;e.sourceFilters=n.filter((e=>e.clientId!==(null==i?void 0:i.clientId))),this.setState({isSaving:!0}),await a(e),t&&t(),this.updateFilters(),this.setState({isSaving:!1}),this.hideDeleteConfirmationModal()})),ie()(this,"onAddFilter",(async e=>{const{indexPattern:t,onAddOrRemoveFilter:a,saveIndexPattern:i}=this.props;t.sourceFilters=[...t.sourceFilters||[],{value:e}],this.setState({isSaving:!0}),await i(t),a&&a(),this.updateFilters(),this.setState({isSaving:!1})})),ie()(this,"saveFilter",(async({clientId:e,value:t})=>{const{indexPattern:a,saveIndexPattern:i}=this.props,{filters:n}=this.state;a.sourceFilters=n.map((a=>a.clientId===e?{value:t,clientId:e}:a)),this.setState({isSaving:!0}),await i(a),this.updateFilters(),this.setState({isSaving:!1})})),this.state={filterToDelete:void 0,isDeleteConfirmationModalVisible:!1,isSaving:!1,filters:[]}}UNSAFE_componentWillMount(){this.updateFilters()}render(){const{indexPattern:e,fieldWildcardMatcher:t}=this.props,{isSaving:a,filterToDelete:i}=this.state,s=this.getFilteredFilters(this.state,this.props);return Object(o.jsx)(n.a.Fragment,null,Object(o.jsx)(de,null),Object(o.jsx)(re,{onAddFilter:this.onAddFilter}),Object(o.jsx)(T.EuiSpacer,{size:"l"}),Object(o.jsx)(table_Table,{isSaving:a,indexPattern:e,items:s,fieldWildcardMatcher:t,deleteFilter:this.startDeleteFilter,saveFilter:this.saveFilter}),i&&Object(o.jsx)(le,{filterToDeleteValue:i.value,onCancelConfirmationModal:this.hideDeleteConfirmationModal,onDeleteFilter:this.deleteFilter}))}}const xe=({field:e,color:t,truncate:a=!0})=>{const{euiTheme:s}=Object(T.useEuiTheme)(),r=((null==e?void 0:e.customDescription)||"").trim(),l=Boolean(a&&r.length>110),[d,c]=Object(i.useState)(l);return r?Object(o.jsx)("div",{"data-test-subj":`fieldDescription-${e.name}`},d?Object(o.jsx)(T.EuiText,{color:t,size:"xs",className:"eui-textBreakWord eui-textLeft"},Object(o.jsx)("button",{"data-test-subj":`toggleFieldDescription-${e.name}`,title:y.i18n.translate("fieldUtils.fieldDescription.viewMoreButton",{defaultMessage:"View full field description"}),className:"eui-textBreakWord eui-textLeft",onClick:()=>c(!1),css:Object(o.css)("padding:0;margin:0;color:","subdued"===t?s.colors.subduedText:s.colors.text,";line-height:inherit;font-size:inherit;&:hover,&:active,&:focus{color:",s.colors.link,";}","")},Object(o.jsx)(T.EuiTextBlockTruncate,{lines:2},r))):Object(o.jsx)(n.a.Fragment,null,Object(o.jsx)(T.EuiText,{color:t,size:"xs",className:"eui-textBreakWord eui-textLeft"},r),l&&Object(o.jsx)(T.EuiButtonEmpty,{size:"xs",flush:"both","data-test-subj":`toggleFieldDescription-${e.name}`,onClick:()=>c(!0)},y.i18n.translate("fieldUtils.fieldDescription.viewLessButton",{defaultMessage:"View less"})))):null},fe=(e,t)=>a=>(r.a.render(Object(o.jsx)(B,t,e),a),()=>r.a.unmountComponentAtNode(a));i.Component;const he=e=>{var t,a;return!e.isMapped&&e.isUserEditable&&"composite"!==(null===(t=e.runtimeField)||void 0===t?void 0:t.type)||"composite"===(null===(a=e.runtimeField)||void 0===a?void 0:a.type)&&"composite"===e.type},Oe=y.i18n.translate("indexPatternManagement.editIndexPattern.fields.table.additionalInfoAriaLabel",{defaultMessage:"Additional field information"}),ye=y.i18n.translate("indexPatternManagement.editIndexPattern.fields.table.conflictDetailIconAria",{defaultMessage:"Conflict Detail"}),Me=y.i18n.translate("indexPatternManagement.editIndexPattern.fields.table.primaryTimeAriaLabel",{defaultMessage:"Primary time field"}),ve=y.i18n.translate("indexPatternManagement.editIndexPattern.fields.table.primaryTimeTooltip",{defaultMessage:"This field represents the time that events occurred."}),Fe=y.i18n.translate("indexPatternManagement.editIndexPattern.fields.table.nameHeader",{defaultMessage:"Name"}),Pe=y.i18n.translate("indexPatternManagement.editIndexPattern.fields.table.typeHeader",{defaultMessage:"Type"}),Ee=y.i18n.translate("indexPatternManagement.editIndexPattern.fields.table.formatHeader",{defaultMessage:"Format"}),we=y.i18n.translate("indexPatternManagement.editIndexPattern.fields.table.searchableHeader",{defaultMessage:"Searchable"}),Te=y.i18n.translate("indexPatternManagement.editIndexPattern.fields.table.searchableDescription",{defaultMessage:"These fields can be used in the filter bar"}),Se=y.i18n.translate("indexPatternManagement.editIndexPattern.fields.table.isSearchableAria",{defaultMessage:"Is searchable"}),Ce=y.i18n.translate("indexPatternManagement.editIndexPattern.fields.table.aggregatableLabel",{defaultMessage:"Aggregatable"}),De=y.i18n.translate("indexPatternManagement.editIndexPattern.fields.table.aggregatableDescription",{defaultMessage:"These fields can be used in visualization aggregations"}),Ie=y.i18n.translate("indexPatternManagement.editIndexPattern.fields.table.isAggregatableAria",{defaultMessage:"Is aggregatable"}),_e=y.i18n.translate("indexPatternManagement.editIndexPattern.fields.table.excludedLabel",{defaultMessage:"Excluded"}),Le=y.i18n.translate("indexPatternManagement.editIndexPattern.fields.table.excludedDescription",{defaultMessage:"Fields that are excluded from _source when it is fetched"}),ke=y.i18n.translate("indexPatternManagement.editIndexPattern.fields.table.isExcludedAria",{defaultMessage:"Is excluded"}),Ne=y.i18n.translate("indexPatternManagement.editIndexPattern.fields.table.editLabel",{defaultMessage:"Edit"}),Ae=y.i18n.translate("indexPatternManagement.editIndexPattern.fields.table.editDescription",{defaultMessage:"Edit"}),Ve=y.i18n.translate("indexPatternManagement.editIndexPattern.fields.table.deleteLabel",{defaultMessage:"Delete"}),Re=y.i18n.translate("indexPatternManagement.editIndexPattern.fields.table.deleteDescription",{defaultMessage:"Delete"}),Be=y.i18n.translate("indexPatternManagement.editIndexPattern.fields.table.customLabelTooltip",{defaultMessage:"A custom label for the field."}),Ue=y.i18n.translate("indexPatternManagement.editDataView.fields.table.runtimeIconTipText",{defaultMessage:"This field exists on the data view only."}),ze=y.i18n.translate("indexPatternManagement.editDataView.fields.table.conflictType",{defaultMessage:"Conflict"}),He=e=>{const t=[];return Object.keys(e).forEach((a=>{t.push({type:a,indices:e[a].slice(0,99).join(", ")})})),t},Ge=[{field:"type",name:y.i18n.translate("indexPatternManagement.editIndexPattern.fields.table.conflictModalTypeColumn",{defaultMessage:"Type"})},{field:"indices",name:y.i18n.translate("indexPatternManagement.editIndexPattern.fields.table.conflictModalIndicesColumn",{defaultMessage:"Indices"})}];class table_table_Table extends i.PureComponent{renderBooleanTemplate(e,t){return e?Object(o.jsx)(T.EuiIcon,{type:"dot",color:"success","aria-label":t}):Object(o.jsx)("span",null)}renderFieldType(e,t){const a=t.conflictDescriptions&&t.conflictDescriptions[t.name];return Object(o.jsx)("span",null,"conflict"===e&&a?"":e,t.conflictDescriptions?((e,t,a,i)=>{const s=()=>{const s=a(fe((({closeFn:e,fieldName:t,conflictDescriptions:a})=>Object(o.jsx)(n.a.Fragment,null,Object(o.jsx)(T.EuiModalHeader,null,Object(o.jsx)(T.EuiModalHeaderTitle,null,Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.editIndexPattern.fields.conflictModal.title",defaultMessage:"This field has a type conflict"}))),Object(o.jsx)(T.EuiModalBody,null,Object(o.jsx)(T.EuiText,null,Object(o.jsx)("p",null,Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.editIndexPattern.fields.conflictModal.description",defaultMessage:"The type of the {fieldName} field changes across indices and might not be available for search, visualizations, and other analysis.",values:{fieldName:Object(o.jsx)(T.EuiCode,null,t)}})),Object(o.jsx)(T.EuiBasicTable,{tableCaption:"Demo of EuiBasicTable",items:He(a),rowHeader:"firstName",columns:Ge,tableLayout:"auto"}))),Object(o.jsx)(T.EuiModalFooter,null,Object(o.jsx)(T.EuiButton,{onClick:e,fill:!0},Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.editIndexPattern.fields.conflictModal.closeBtn",defaultMessage:"Close"})))))({closeFn:()=>{s.close()},fieldName:e,conflictDescriptions:t}),i))};return Object(o.jsx)("span",null," ",Object(o.jsx)(T.EuiBadge,{color:"warning",iconType:"warning",onClick:s,iconOnClick:s,iconOnClickAriaLabel:ye,onClickAriaLabel:ye},ze))})(t.name,t.conflictDescriptions,this.props.openModal,this.props.startServices):"")}render(){const{items:e,editField:t,deleteField:a,indexPattern:i}=this.props,n=[{field:"displayName",name:Fe,dataType:"string",sortable:!0,render:(e,t)=>((e,t)=>{return Object(o.jsx)("span",{"data-test-subj":`field-name-${e.name}`},e.name,e.info&&e.info.length?Object(o.jsx)("span",null," ",Object(o.jsx)(T.EuiIconTip,{type:"questionInCircle",color:"primary","aria-label":Oe,content:e.info.map(((e,t)=>Object(o.jsx)("div",{key:t},e)))})):null,t===e.name?Object(o.jsx)("span",null," ",Object(o.jsx)(T.EuiIconTip,{type:"clock",color:"primary","aria-label":Me,content:ve})):null,!e.isMapped&&e.hasRuntime?Object(o.jsx)("span",null," ",Object(o.jsx)(T.EuiIconTip,{type:"indexRuntime",title:(a=e,"composite"===(null===(i=a.runtimeField)||void 0===i?void 0:i.type)?"composite"!==a.type?y.i18n.translate("indexPatternManagement.editIndexPattern.fields.table.runtimeIconTipTitleCompositeSubfield",{defaultMessage:"Composite runtime subfield"}):y.i18n.translate("indexPatternManagement.editIndexPattern.fields.table.runtimeIconTipTitleComposite",{defaultMessage:"Composite runtime field"}):y.i18n.translate("indexPatternManagement.editIndexPattern.fields.table.runtimeIconTipTitle",{defaultMessage:"Runtime field"})),content:Ue})):null,e.customLabel&&e.customLabel!==e.name?Object(o.jsx)("div",null,Object(o.jsx)(T.EuiToolTip,{content:Be},Object(o.jsx)(T.EuiBadge,{iconType:"flag",iconSide:"left"},e.customLabel))):null,e.customDescription?Object(o.jsx)("div",null,Object(o.jsx)(T.EuiSpacer,{size:"xs"}),Object(o.jsx)(xe,{field:e,color:"subdued"})):null);var a,i})(t,i.timeFieldName),width:"38%","data-test-subj":"indexedFieldName"},{field:"type",name:Pe,dataType:"string",sortable:!0,render:(e,t)=>this.renderFieldType(e,t),"data-test-subj":"indexedFieldType"},{field:"format",name:Ee,dataType:"string",sortable:!0},{field:"searchable",name:we,description:Te,dataType:"boolean",sortable:!0,render:e=>this.renderBooleanTemplate(e,Se)},{field:"aggregatable",name:Ce,description:De,dataType:"boolean",sortable:!0,render:e=>this.renderBooleanTemplate(e,Ie)},{field:"excluded",name:_e,description:Le,dataType:"boolean",sortable:!0,render:e=>this.renderBooleanTemplate(e,ke)},{name:"",actions:[{name:Ne,description:Ae,icon:"pencil",onClick:t,type:"icon","data-test-subj":"editFieldFormat",available:e=>e.isUserEditable}],width:"40px"},{name:"",actions:[{name:Ve,description:Re,icon:"trash",onClick:e=>{var t,i;const n=[e.name];if(null!==(t=e.spec)&&void 0!==t&&null!==(i=t.runtimeField)&&void 0!==i&&i.fields){const t=Object.keys(e.spec.runtimeField.fields).map((t=>`${e.name}.${t}`));n.push(...t)}a(n)},type:"icon","data-test-subj":"deleteField",available:he}],width:"40px"}];return Object(o.jsx)(T.EuiInMemoryTable,{items:e,columns:n,pagination:{initialPageSize:10,pageSizeOptions:[5,10,25,50]},sorting:{sort:{field:"displayName",direction:"asc"}}})}}class indexed_fields_table_IndexedFieldsTable extends i.Component{constructor(e){super(e),ie()(this,"getFilteredFields",Object(ne.createSelector)((e=>e.fields),((e,t)=>t.fieldFilter),((e,t)=>t.indexedFieldTypeFilter),((e,t)=>t.schemaFieldTypeFilter),((e,t,a,i)=>{if(t){const a=t.toLowerCase();e=e.filter((e=>e.name.toLowerCase().includes(a)||e.displayName&&e.displayName.toLowerCase().includes(a)))}return a.length&&(e=e.filter((e=>{var t,i,n;return!(!a.includes("conflict")||"conflict"!==e.kbnType)||!!("runtimeField"in e&&null!==(t=e.runtimeField)&&void 0!==t&&t.type&&a.includes(null===(i=e.runtimeField)||void 0===i?void 0:i.type))||(null===(n=e.esTypes)||void 0===n?void 0:n.length)&&e.esTypes.filter((e=>a.includes(e))).length}))),i.length&&(e=e.filter((e=>i.includes("runtime")&&"runtimeField"in e||i.includes("indexed")&&!("runtimeField"in e)))),e}))),this.state={fields:[...this.mapCompositeRuntimeFields(this.props.compositeRuntimeFields),...this.mapFields(this.props.fields)]}}UNSAFE_componentWillReceiveProps(e){e.fields===this.props.fields&&e.compositeRuntimeFields===this.props.compositeRuntimeFields||this.setState({fields:[...this.mapCompositeRuntimeFields(e.compositeRuntimeFields),...this.mapFields(e.fields)]})}mapFields(e){const{indexPattern:t,fieldWildcardMatcher:a,helpers:i,userEditPermission:n}=this.props,s=a(t.sourceFilters&&t.sourceFilters.map((e=>e.value))||[]);return e&&e.map((e=>{var a,r,l;return{...e.spec,id:e.name,type:(null===(a=e.esTypes)||void 0===a?void 0:a.join(", "))||"",kbnType:e.type,displayName:e.displayName,format:(null===(r=t.getFormatterForFieldNoDefault(e.name))||void 0===r||null===(l=r.type)||void 0===l?void 0:l.title)||"",excluded:!!s&&s(e.name),info:i.getFieldInfo&&i.getFieldInfo(t,e),isMapped:!!e.isMapped,isUserEditable:n,hasRuntime:!!e.runtimeField}}))||[]}mapCompositeRuntimeFields(e){const{indexPattern:t,fieldWildcardMatcher:a,userEditPermission:i}=this.props,n=a(t.sourceFilters&&t.sourceFilters.map((e=>e.value))||[]);return Object.entries(e).map((([e,t])=>({spec:{searchable:!1,aggregatable:!1,name:e,type:"composite",runtimeField:{type:"composite",script:t.script,fields:t.fields}},name:e,id:e,type:"composite",kbnType:"",displayName:e,excluded:!!n&&n(e),info:[],isMapped:!1,isUserEditable:i,hasRuntime:!0,runtimeField:{type:"composite",script:t.script,fields:t.fields}})))}render(){const{indexPattern:e}=this.props,t=this.getFilteredFields(this.state,this.props);return Object(o.jsx)("div",null,Object(o.jsx)(table_table_Table,{indexPattern:e,items:t,editField:e=>this.props.helpers.editField(e.name),deleteField:e=>this.props.helpers.deleteField(e),openModal:this.props.openModal,startServices:this.props.startServices}))}}var Ke=a(24);class components_table_table_Table extends i.PureComponent{constructor(...e){super(...e),ie()(this,"renderFormatCell",(e=>{const{indexPattern:t}=this.props,a=Object(u.get)(t,["fieldFormatMap",e,"type","title"],"");return Object(o.jsx)("span",null,a)}))}render(){const{items:e,editField:t,deleteField:a}=this.props,i=[{field:"displayName",name:y.i18n.translate("indexPatternManagement.editIndexPattern.scripted.table.nameHeader",{defaultMessage:"Name"}),description:y.i18n.translate("indexPatternManagement.editIndexPattern.scripted.table.nameDescription",{defaultMessage:"Name of the field"}),dataType:"string",sortable:!0,width:"38%"},{field:"lang",name:y.i18n.translate("indexPatternManagement.editIndexPattern.scripted.table.langHeader",{defaultMessage:"Lang"}),description:y.i18n.translate("indexPatternManagement.editIndexPattern.scripted.table.langDescription",{defaultMessage:"Language used for the field"}),dataType:"string",sortable:!0,"data-test-subj":"scriptedFieldLang"},{field:"script",name:y.i18n.translate("indexPatternManagement.editIndexPattern.scripted.table.scriptHeader",{defaultMessage:"Script"}),description:y.i18n.translate("indexPatternManagement.editIndexPattern.scripted.table.scriptDescription",{defaultMessage:"Script for the field"}),dataType:"string",sortable:!0},{field:"name",name:y.i18n.translate("indexPatternManagement.editIndexPattern.scripted.table.formatHeader",{defaultMessage:"Format"}),description:y.i18n.translate("indexPatternManagement.editIndexPattern.scripted.table.formatDescription",{defaultMessage:"Format used for the field"}),render:this.renderFormatCell,sortable:!1},{name:"",actions:[{type:"icon",name:y.i18n.translate("indexPatternManagement.editIndexPattern.scripted.table.editHeader",{defaultMessage:"Edit"}),description:y.i18n.translate("indexPatternManagement.editIndexPattern.scripted.table.editDescription",{defaultMessage:"Edit this field"}),icon:"pencil",onClick:t,available:e=>!!e.isUserEditable},{type:"icon",name:y.i18n.translate("indexPatternManagement.editIndexPattern.scripted.table.deleteHeader",{defaultMessage:"Delete"}),description:y.i18n.translate("indexPatternManagement.editIndexPattern.scripted.table.deleteDescription",{defaultMessage:"Delete this field"}),icon:"trash",color:"danger",onClick:a,available:e=>!!e.isUserEditable}],width:"40px"}];return Object(o.jsx)(T.EuiInMemoryTable,{items:e,columns:i,pagination:{initialPageSize:10,pageSizeOptions:[5,10,25,50]},sorting:!0})}}const $e=Object(l.withRouter)((({indexPatternId:e,history:t})=>{const{dataViews:a,docLinks:i}=Object(U.useKibana)().services,n=null==i?void 0:i.links,s=a.getCanSaveSync();return Object(o.jsx)(T.EuiFlexGroup,{alignItems:"center"},Object(o.jsx)(T.EuiFlexItem,null,Object(o.jsx)(T.EuiText,{size:"s"},Object(o.jsx)("p",null,Object(o.jsx)(z.FormattedMessage,{tagName:"span",id:"indexPatternManagement.editIndexPattern.scriptedLabel",defaultMessage:"Scripted fields can be used in visualizations and displayed in documents. However, they cannot be searched."}),Object(o.jsx)("br",null),Object(o.jsx)(T.EuiIcon,{type:"warning",color:"warning",style:{marginRight:"4px"}}),Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.editIndexPattern.deprecation",tagName:"span",defaultMessage:"Scripted fields are deprecated. Use {runtimeDocs} instead.",values:{runtimeDocs:Object(o.jsx)(T.EuiLink,{target:"_blank",href:n.runtimeFields.overview},Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.header.runtimeLink",defaultMessage:"runtime fields"}))}})))),s&&Object(o.jsx)(T.EuiFlexItem,{grow:!1},Object(o.jsx)(T.EuiButton,m()({"data-test-subj":"addScriptedFieldLink"},Object(U.reactRouterNavigate)(t,`patterns/${e}/create-field/`)),Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.editIndexPattern.scripted.addFieldButton",defaultMessage:"Add scripted field"}))))})),We=({deprecatedLangsInUse:e,painlessDocLink:t})=>e.length?Object(o.jsx)(n.a.Fragment,null,Object(o.jsx)(T.EuiCallOut,{title:Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.editIndexPattern.scripted.deprecationLangHeader",defaultMessage:"Deprecation languages in use"}),color:"danger",iconType:"cross"},Object(o.jsx)("p",null,Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.editIndexPattern.scripted.deprecationLangLabel.deprecationLangDetail",defaultMessage:"The following deprecated languages are in use: {deprecatedLangsInUse}. Support for these languages will be removed in the next major version of Kibana and Elasticsearch. Convert you scripted fields to {link} to avoid any problems.",values:{deprecatedLangsInUse:e.join(", "),link:Object(o.jsx)(T.EuiLink,{href:t},Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.editIndexPattern.scripted.deprecationLangLabel.painlessDescription",defaultMessage:"Painless"}))}}))),Object(o.jsx)(T.EuiSpacer,{size:"m"})):null,qe=({field:e,hideDeleteConfirmationModal:t,deleteField:a})=>{const i=y.i18n.translate("indexPatternManagement.editIndexPattern.scripted.deleteFieldLabel",{defaultMessage:"Delete scripted field ''{fieldName}''?",values:{fieldName:e.name}}),n=y.i18n.translate("indexPatternManagement.editIndexPattern.scripted.deleteField.cancelButton",{defaultMessage:"Cancel"}),s=y.i18n.translate("indexPatternManagement.editIndexPattern.scripted.deleteField.deleteButton",{defaultMessage:"Delete"});return Object(o.jsx)(T.EuiConfirmModal,{title:i,onCancel:t,onConfirm:a,cancelButtonText:n,confirmButtonText:s,defaultFocusedButton:T.EUI_MODAL_CONFIRM_BUTTON})};class scripted_fields_table_ScriptedFieldsTable extends i.Component{constructor(e){super(e),ie()(this,"fetchFields",(async()=>{const e=await this.props.indexPattern.getScriptedFields(),t=[],a=[],i=["painless"];for(const n of e){const e=n.lang;!a.includes(e)&&i.includes(e)||t.push(e)}this.setState({fields:e,deprecatedLangsInUse:t})})),ie()(this,"getFilteredItems",(()=>{const{fields:e}=this.state,{fieldFilter:t,scriptedFieldLanguageFilter:a,userEditPermission:i}=this.props;let n=e;a.length&&(n=e.filter((e=>a.includes(e.lang))));let s=n;if(t){const e=t.toLowerCase();s=n.filter((t=>t.name.toLowerCase().includes(e)))}return s.forEach((e=>e.isUserEditable=i)),s})),ie()(this,"startDeleteField",(e=>{this.setState({fieldToDelete:e,isDeleteConfirmationModalVisible:!0})})),ie()(this,"hideDeleteConfirmationModal",(()=>{this.setState({fieldToDelete:void 0,isDeleteConfirmationModalVisible:!1})})),ie()(this,"deleteField",(()=>{const{indexPattern:e,onRemoveField:t,saveIndexPattern:a}=this.props,{fieldToDelete:i}=this.state;e.removeScriptedField(i.name),a(e),t&&t(),this.fetchFields(),this.hideDeleteConfirmationModal()})),this.state={deprecatedLangsInUse:[],fieldToDelete:void 0,isDeleteConfirmationModalVisible:!1,fields:[]}}UNSAFE_componentWillMount(){this.fetchFields()}render(){const{indexPattern:e,painlessDocLink:t}=this.props,{fieldToDelete:a,deprecatedLangsInUse:i}=this.state,s=this.getFilteredItems();return Object(o.jsx)(n.a.Fragment,null,Object(o.jsx)($e,{indexPatternId:e.id||""}),Object(o.jsx)(We,{deprecatedLangsInUse:i,painlessDocLink:t}),Object(o.jsx)(T.EuiSpacer,{size:"l"}),Object(o.jsx)(components_table_table_Table,{indexPattern:e,items:s,editField:e=>this.props.helpers.redirectToRoute(e),deleteField:this.startDeleteField}),a&&Object(o.jsx)(qe,{deleteField:this.deleteField,field:a,hideDeleteConfirmationModal:this.hideDeleteConfirmationModal}))}}const Ye=n.a.createContext(null),Je=({children:e,...t})=>{const{navigateToUrl:a,currentAppId:i}=t;return Object(o.jsx)(Ye.Provider,{value:{navigateToUrl:a,currentAppId:i}},e)},Xe=({children:e,coreStart:t})=>{const{navigateToUrl:a,currentAppId$:i}=t.application,n=P()(i,void 0);return Object(o.jsx)(Ye.Provider,{value:{navigateToUrl:a,currentAppId:n}},e)},Qe={name:"h42ud6",styles:"display:inherit;height:inherit;width:inherit;flex:1;flex-flow:column nowrap"},Ze=({children:e,navigateToUrl:t,currentAppId:a,...n})=>{const s=Object(i.useRef)(null),r=Object(i.useCallback)((e=>(({event:e,container:t,navigateToUrl:a,currentAppId:i})=>{if(!t||!i)return;const n=((e,t)=>{let a=e;do{var i,n;if("a"===(null===(i=a)||void 0===i?void 0:i.tagName.toLowerCase()))return a;const e=null===(n=a)||void 0===n?void 0:n.parentElement;if(!e||e===document.body||e===t)break;a=e}while(parent||parent!==document.body||parent!==t)})(e.target,t);if(!n)return;const s=n.href,r=""===n.target||"_self"===n.target,l=0===e.button;s&&r&&l&&!e.defaultPrevented&&!(e=>e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)(e)&&(e.preventDefault(),a(n.href))})({event:e,currentAppId:a,navigateToUrl:t,container:s.current})),[a,t]);return Object(o.jsx)("div",m()({onClick:r,ref:s,css:Qe,"data-test-subj":"kbnRedirectAppLink"},n),e)},et=({children:e,...t})=>Object(o.jsx)(Ze,m()({},function(){const e=Object(i.useContext)(Ye);if(!e)throw new Error("RedirectAppLinksContext is missing.  Ensure your component or React root is wrapped with RedirectAppLinksProvider.");return e}(),t),e),tt=({children:e,...t})=>{if(void 0!==t.coreStart){const{coreStart:a,...i}=t,n=Object(o.jsx)(et,i,e);return Object(o.jsx)(Xe,{coreStart:a},n)}const{navigateToUrl:a,currentAppId:i,...n}=t,s=Object(o.jsx)(et,n,e);return Object(o.jsx)(Je,{currentAppId:i,navigateToUrl:a},s)};var at=a(1);const it=y.i18n.translate("indexPatternManagement.objectsTable.relationships.columnTypeName",{defaultMessage:"Type"}),nt=y.i18n.translate("indexPatternManagement.objectsTable.relationships.columnTypeDescription",{defaultMessage:"Type of the saved object"}),st=y.i18n.translate("indexPatternManagement.objectsTable.relationships.columnTitleName",{defaultMessage:"Title"}),rt=y.i18n.translate("indexPatternManagement.objectsTable.relationships.columnTitleDescription",{defaultMessage:"Title of the saved object"}),lt=y.i18n.translate("indexPatternManagement.objectsTable.relationships.search.filters.type.name",{defaultMessage:"Type"}),dt=({basePath:e,capabilities:t,id:a,navigateToUrl:i,getDefaultTitle:n,getSavedObjectLabel:s,relationships:r,allowedTypes:l})=>{const d=[{field:"type",name:it,width:"50px",align:"center",description:nt,sortable:!1,render:(e,t)=>{const a=s(e,l);return Object(o.jsx)(T.EuiToolTip,{position:"top",content:a},Object(o.jsx)(T.EuiIcon,{"aria-label":a,type:t.meta.icon||"apps",size:"s","data-test-subj":"relationshipsObjectType"}))}},{field:"title",name:st,description:rt,dataType:"string",sortable:!1,render:(a,i)=>{var s;const r=(null===(s=i.meta.inAppUrl)||void 0===s?void 0:s.path)||"",l=((e,t)=>{const{inAppUrl:a}=e.meta;return!!a&&(!a.uiCapabilitiesPath||Boolean(Object(u.get)(t,a.uiCapabilitiesPath)))})(i,t),d=a||n(i);return l?Object(o.jsx)(T.EuiLink,{href:e.prepend(r),"data-test-subj":"relationshipsTitle"},d):Object(o.jsx)(T.EuiText,{size:"s","data-test-subj":"relationshipsTitle"},d)}}],c=new Map(r.map((e=>[e.type,{value:e.type,name:e.type,view:e.type}]))),p={box:{incremental:!0,schema:!0},filters:[{type:"field_value_selection",field:"type",name:lt,multiSelect:"or",options:[...c.values()]}]};return Object(o.jsx)(tt,{currentAppId:at.a,navigateToUrl:i},Object(o.jsx)(T.EuiInMemoryTable,{items:r,columns:d,pagination:!0,search:p,rowProps:()=>({"data-test-subj":"relationshipsTableRow"})}))},ot=y.i18n.translate("indexPatternManagement.editIndexPattern.list.defaultIndexPatternListName",{defaultMessage:"Default"}),ct=(e="")=>e===G.DataViewType.ROLLUP,ut=(e,t,a)=>{const i=[];return t&&i.push({key:G.DataViewType.DEFAULT,name:ot,"data-test-subj":"default-tag"}),ct(e.type)&&a&&i.push({key:G.DataViewType.ROLLUP,name:K,"data-test-subj":"rollup-tag"}),i},pt=(e,t)=>{var a;if(!ct(e.type))return[];const i=null===(a=e.typeMeta)||void 0===a?void 0:a.aggs,n=i&&Object.keys(i).filter((e=>i[e][t.name]));return n&&n.length?["Rollup aggregations:"].concat(n.map((e=>{const a=i[e][t.name];switch(e){case"date_histogram":return y.i18n.translate("indexPatternManagement.editIndexPattern.list.dateHistogramSummary",{defaultMessage:"{aggName} (interval: {interval}, {delay} {time_zone})",values:{aggName:e,interval:a.fixed_interval,delay:a.delay?y.i18n.translate("indexPatternManagement.editIndexPattern.list.DateHistogramDelaySummary",{defaultMessage:"delay: {delay},",values:{delay:a.delay}}):"",time_zone:a.time_zone}});case"histogram":return y.i18n.translate("indexPatternManagement.editIndexPattern.list.histogramSummary",{defaultMessage:"{aggName} (interval: {interval})",values:{aggName:e,interval:a.interval}});default:return e}}))):[]};function mt(e,t,a=""){const i=Object(u.countBy)(function(e,t){const a=(t||"").toLowerCase();return e.filter((e=>e.name.toLowerCase().includes(a)))}(e,a),(function(e){return e.scripted?"scripted":"indexed"}));return Object(u.defaults)(i,{indexed:0,scripted:0,sourceFilters:t.excludes?t.excludes.filter((e=>e.toLowerCase().includes(a.toLowerCase()))).length:0}),i}function bt(e,t,a){let i="";switch(e){case"indexed":i=y.i18n.translate("indexPatternManagement.editIndexPattern.tabs.fieldsHeader",{defaultMessage:"Fields"});break;case"scripted":i=y.i18n.translate("indexPatternManagement.editIndexPattern.tabs.scriptedHeader",{defaultMessage:"Scripted fields"});break;case"sourceFilters":i=y.i18n.translate("indexPatternManagement.editIndexPattern.tabs.sourceHeader",{defaultMessage:"Field filters"})}return i+` (${t[e]===a[e]?t[e]:t[e]+" / "+a[e]})`}function gt(e){return Object(u.uniq)(e).map((e=>({value:e,name:e})))}const jt=y.i18n.translate("indexPatternManagement.editIndexPattern.fields.searchAria",{defaultMessage:"Search fields"}),xt=y.i18n.translate("indexPatternManagement.editIndexPattern.fields.filter",{defaultMessage:"Field type"}),ft=y.i18n.translate("indexPatternManagement.editIndexPattern.fields.filterAria",{defaultMessage:"Filter field types"}),ht=y.i18n.translate("indexPatternManagement.editIndexPattern.fields.schema",{defaultMessage:"Schema type"}),Ot=y.i18n.translate("indexPatternManagement.editIndexPattern.fields.schemaAria",{defaultMessage:"Filter schema types"}),yt=y.i18n.translate("indexPatternManagement.editIndexPattern.fields.scriptedFieldFilter",{defaultMessage:"All languages"}),Mt=y.i18n.translate("indexPatternManagement.editIndexPattern.fields.scriptedFieldFilterAria",{defaultMessage:"Filter scripted field languages"}),vt=y.i18n.translate("indexPatternManagement.editIndexPattern.fields.runtime",{defaultMessage:"Runtime"}),Ft=y.i18n.translate("indexPatternManagement.editIndexPattern.fields.indexed",{defaultMessage:"Indexed"}),Pt=y.i18n.translate("indexPatternManagement.editIndexPattern.fields.filterPlaceholder",{defaultMessage:"Search"}),Et=y.i18n.translate("indexPatternManagement.editIndexPattern.fields.addFieldButtonLabel",{defaultMessage:"Add field"}),wt=y.i18n.translate("indexPatternManagement.editDataView.refreshAria",{defaultMessage:"Refresh"}),Tt=y.i18n.translate("indexPatternManagement.editDataView.refreshTooltip",{defaultMessage:"Refresh local copy of data view field list"}),St=[{value:"runtime",name:vt},{value:"indexed",name:Ft}],Ct=({indexPattern:e,saveIndexPattern:t,fields:a,history:s,refreshFields:r,relationships:l,allowedTypes:d,compositeRuntimeFields:c,refreshIndexPatternClick:p,isRefreshing:m})=>{const{uiSettings:b,docLinks:g,dataViewFieldEditor:j,overlays:x,dataViews:f,http:h,application:O,savedObjectsManagement:M,...v}=Object(U.useKibana)().services,[F,P]=Object(i.useState)(""),[E,w]=Object(i.useState)({}),[S,C]=Object(i.useState)([]),[D,I]=Object(i.useState)(!1),[_,L]=Object(i.useState)([]),[k,N]=Object(i.useState)([]),[A,V]=Object(i.useState)(!1),[R,B]=Object(i.useState)([]),[z,H]=Object(i.useState)([]),[K,$]=Object(i.useState)(!1),W=Object(i.useRef)(),{DeleteRuntimeFieldProvider:q}=j,ae=Object(i.useMemo)((()=>Object(u.uniq)(k.filter((e=>R.some((t=>t.value===e)))))),[k,R]),ie=Object(i.useMemo)((()=>Object(u.uniq)(z.filter((e=>St.some((t=>t.value===e)))))),[z]),ne=Object(i.useCallback)((e=>{var t;null===(t=E.setCurrentTab)||void 0===t||t.call(E,e.id)}),[E]),se=Object(i.useCallback)((e=>{var t;null==E||null===(t=E.setCurrentFieldTypes)||void 0===t||t.call(E,e)}),[E]),re=Object(i.useCallback)((e=>{var t;null==E||null===(t=E.setCurrentSchemaFieldTypes)||void 0===t||t.call(E,e)}),[E]),le=Object(i.useCallback)((e=>{var t;null==E||null===(t=E.setCurrentFieldFilter)||void 0===t||t.call(E,e||void 0)}),[E]),de=Object(i.useCallback)((()=>{const t=[],a=[];e.fields.getAll().forEach((e=>{e.scripted?e.lang&&a.push(e.lang):("conflict"===e.type&&t.push("conflict"),e.esTypes&&e.esTypes.forEach((e=>t.push(e))))})),B(gt(t)),L(gt(a))}),[e,a]),oe=Object(i.useCallback)((()=>{W.current&&W.current()}),[]),ce=Object(i.useCallback)((async t=>{W.current=await j.openEditor({ctx:{dataView:e},onSave:r,fieldName:t})}),[j,e,r]);Object(i.useEffect)((()=>{de()}),[e,e.fields,de]),Object(i.useEffect)((()=>()=>{oe()}),[oe]);const ue=Object(i.useCallback)((e=>Object(Y.fieldWildcardMatcher)(e,b.get(G.META_FIELDS))),[b]),pe=Object(i.useRef)(null),me=f.getCanSaveSync(),be=Object(i.useCallback)((e=>Object(o.jsx)(T.EuiFlexGroup,{gutterSize:"m"},Object(o.jsx)(T.EuiFlexItem,{grow:!0},Object(o.jsx)(T.EuiFieldSearch,{fullWidth:!0,placeholder:Pt,value:F,onChange:e=>le(e.target.value),"data-test-subj":"indexPatternFieldFilter","aria-label":jt})),e===Q&&R.length>0&&Object(o.jsx)(n.a.Fragment,null,Object(o.jsx)(T.EuiFlexItem,{grow:!1},Object(o.jsx)(T.EuiFilterGroup,null,Object(o.jsx)(T.EuiPopover,{anchorPosition:"downCenter","data-test-subj":"indexedFieldTypeFilterDropdown-popover",button:Object(o.jsx)(T.EuiFilterButton,{"aria-label":ft,"data-test-subj":"indexedFieldTypeFilterDropdown",iconType:"arrowDown",onClick:()=>V(!A),isSelected:A,numFilters:R.length,hasActiveFilters:ae.length>0,numActiveFilters:ae.length},xt),isOpen:A,closePopover:()=>V(!1)},R.map((e=>{const t=ae.includes(e.value);return Object(o.jsx)(T.EuiFilterSelectItem,{checked:t?"on":void 0,key:e.value,onClick:()=>{se(t?ae.filter((t=>t!==e.value)):[...ae,e.value])},"data-test-subj":`indexedFieldTypeFilterDropdown-option-${e.value}${t?"-checked":""}`},e.name)}))),Object(o.jsx)(T.EuiPopover,{anchorPosition:"downCenter","data-test-subj":"schemaFieldTypeFilterDropdown-popover",button:Object(o.jsx)(T.EuiFilterButton,{"aria-label":Ot,"data-test-subj":"schemaFieldTypeFilterDropdown",iconType:"arrowDown",onClick:()=>$(!K),isSelected:K,numFilters:St.length,hasActiveFilters:ie.length>0,numActiveFilters:ie.length},ht),isOpen:K,closePopover:()=>$(!1)},St.map((e=>{const t=ie.includes(e.value);return Object(o.jsx)(T.EuiFilterSelectItem,{checked:t?"on":void 0,key:e.value,onClick:()=>{re(t?ie.filter((t=>t!==e.value)):[...ie,e.value])},"data-test-subj":`schemaFieldTypeFilterDropdown-option-${e.value}${t?"-checked":""}`},e.name)}))))),Object(o.jsx)(T.EuiFlexItem,{grow:!1},Object(o.jsx)(T.EuiToolTip,{content:Object(o.jsx)("p",null,Tt)},Object(o.jsx)(T.EuiButton,{buttonRef:pe,onClick:()=>{p(),pe.current&&pe.current.blur()},iconType:"refresh","aria-label":wt,"data-test-subj":"refreshDataViewButton",isLoading:m,isDisabled:m,size:"m",color:"success",className:"eui-fullWidth"},wt))),me&&Object(o.jsx)(T.EuiFlexItem,{grow:!1},Object(o.jsx)(T.EuiButton,{size:"m",onClick:()=>ce(),"data-test-subj":"addField",iconType:"plusInCircle","aria-label":Et,color:"primary",fill:!0},Et))),e===Z&&_.length>0&&Object(o.jsx)(T.EuiFlexItem,{grow:!1},Object(o.jsx)(T.EuiFilterGroup,null,Object(o.jsx)(T.EuiPopover,{anchorPosition:"downCenter","data-test-subj":"scriptedFieldLanguageFilterDropdown-popover",button:Object(o.jsx)(T.EuiFilterButton,{"aria-label":Mt,"data-test-subj":"scriptedFieldLanguageFilterDropdown",iconType:"arrowDown",onClick:()=>I(!D),isSelected:D,numFilters:_.length,hasActiveFilters:!!_.find((e=>"on"===e.checked)),numActiveFilters:_.filter((e=>"on"===e.checked)).length},yt),isOpen:D,closePopover:()=>I(!1)},_.map(((e,t)=>Object(o.jsx)(T.EuiFilterSelectItem,{checked:e.checked,key:e.value,onClick:()=>{C(e.checked?S.filter((t=>t!==e.value)):[...S,e.value]),((e,t,a)=>{if(!e[t])return;const i=[...e];"on"===i[t].checked?i[t].checked=void 0:i[t].checked="on",a(i)})(_,t,L)},"data-test-subj":`scriptedFieldLanguageFilterDropdown-option-${e.value}${e.checked?"-checked":""}`},e.name)))))))),[F,ie,ae,R,A,S,_,D,K,ce,me,le,se,re,m,p]),ge=Object(i.useCallback)((n=>{switch(n){case Q:return Object(o.jsx)(i.Fragment,null,Object(o.jsx)(T.EuiSpacer,{size:"m"}),be(n),Object(o.jsx)(T.EuiSpacer,{size:"m"}),Object(o.jsx)(q,{dataView:e,onDelete:r},(t=>Object(o.jsx)(indexed_fields_table_IndexedFieldsTable,{fields:a,compositeRuntimeFields:c,indexPattern:e,fieldFilter:F,fieldWildcardMatcher:ue,indexedFieldTypeFilter:ae,schemaFieldTypeFilter:ie,helpers:{editField:ce,deleteField:t,getFieldInfo:pt},openModal:x.openModal,userEditPermission:f.getCanSaveSync(),startServices:v}))));case Z:return Object(o.jsx)(i.Fragment,null,Object(o.jsx)(T.EuiSpacer,{size:"m"}),be(n),Object(o.jsx)(T.EuiSpacer,{size:"m"}),Object(o.jsx)(scripted_fields_table_ScriptedFieldsTable,{indexPattern:e,saveIndexPattern:t,fieldFilter:F,scriptedFieldLanguageFilter:S,helpers:{redirectToRoute:t=>{s.push(function(e,t){return`/dataView/${null==t?void 0:t.id}/field/${encodeURIComponent(e.name)}`}(t,e))}},onRemoveField:de,painlessDocLink:g.links.scriptedFields.painless,userEditPermission:f.getCanSaveSync()}));case ee:return Object(o.jsx)(i.Fragment,null,Object(o.jsx)(T.EuiSpacer,{size:"m"}),be(n),Object(o.jsx)(T.EuiSpacer,{size:"m"}),Object(o.jsx)(source_filters_table_SourceFiltersTable,{saveIndexPattern:t,indexPattern:e,filterFilter:F,fieldWildcardMatcher:ue,onAddOrRemoveFilter:de}));case te:return Object(o.jsx)(i.Fragment,null,Object(o.jsx)(T.EuiSpacer,{size:"m"}),Object(o.jsx)(dt,{basePath:h.basePath,id:e.id,capabilities:O.capabilities,relationships:l,allowedTypes:d,navigateToUrl:O.navigateToUrl,getDefaultTitle:M.getDefaultTitle,getSavedObjectLabel:M.getSavedObjectLabel}))}}),[g.links.scriptedFields.painless,F,ue,a,be,s,e,ae,ie,de,S,t,ce,q,r,x,v,f,c,h,O,M,d,l]),je=Object(i.useMemo)((()=>function(e,t,a=0,i){const n=mt(e.fields.getAll(),e.getSourceFiltering()),s=mt(e.fields.getAll(),e.getSourceFiltering(),t),r=[];return r.push({name:bt("indexed",s,n),id:Q,"data-test-subj":"tab-indexedFields"}),!ct(e.type)&&i&&r.push({name:bt("scripted",s,n),id:Z,"data-test-subj":"tab-scriptedFields"}),r.push({name:bt("sourceFilters",s,n),id:ee,"data-test-subj":"tab-sourceFilters"}),r.push({name:y.i18n.translate("indexPatternManagement.editIndexPattern.tabs.relationshipsHeader",{defaultMessage:"Relationships ({count})",values:{count:a}}),id:te,"data-test-subj":"tab-relationships"}),r}(e,F,l.length,f.scriptedFieldsEnabled).map((e=>({...e,content:ge(e.id)})))),[F,ge,e,l,f.scriptedFieldsEnabled]),[xe,fe]=Object(i.useState)(je[0].id);return Object(i.useEffect)((()=>{const{startSyncingState:e,stopSyncingState:t,setCurrentTab:a,setCurrentFieldTypes:i,setCurrentFieldFilter:n,setCurrentSchemaFieldTypes:s,stateContainer:r}=function({defaultTab:e,useHashedUrl:t}){const a=Object(J.createHashHistory)(),i={tab:e},n=Object(Y.createKbnUrlStateStorage)({useHash:t,history:a}),s=n.get(X),r=Object(Y.createStateContainer)({...i,...s},{setTab:e=>t=>({...e,tab:t}),setFieldFilter:e=>t=>({...e,fieldFilter:t}),setFieldTypes:e=>t=>({...e,fieldTypes:null!=t&&t.length?t:void 0}),setSchemaFieldTypes:e=>t=>({...e,schemaFieldTypes:null!=t&&t.length?t:void 0})},{tab:e=>()=>e.tab,fieldFilter:e=>()=>e.fieldFilter,fieldTypes:e=>()=>e.fieldTypes,schemaFieldTypes:e=>()=>e.schemaFieldTypes}),{start:l,stop:d}=Object(Y.syncState)({storageKey:X,stateContainer:{...r,set:e=>e&&r.set(e)},stateStorage:n});return n.set(X,r.getState(),{replace:!0}),{stateContainer:r,startSyncingState:l,stopSyncingState:d,setCurrentTab:e=>r.transitions.setTab(e),setCurrentFieldFilter:e=>r.transitions.setFieldFilter(e),setCurrentFieldTypes:e=>r.transitions.setFieldTypes(e),setCurrentSchemaFieldTypes:e=>r.transitions.setSchemaFieldTypes(e)}}({useHashedUrl:b.get("state:storeInSessionStorage"),defaultTab:Q});e(),w({setCurrentTab:a,setCurrentFieldTypes:i,setCurrentFieldFilter:n,setCurrentSchemaFieldTypes:s}),fe(r.selectors.tab()),N((e=>{var t;return null!==(t=r.selectors.fieldTypes())&&void 0!==t?t:[]})),H((e=>{var t;return null!==(t=r.selectors.schemaFieldTypes())&&void 0!==t?t:[]})),P((e=>{var t;return null!==(t=r.selectors.fieldFilter())&&void 0!==t?t:""}));const l=r.state$.subscribe((()=>{fe(r.selectors.tab()),N((e=>{var t;return null!==(t=r.selectors.fieldTypes())&&void 0!==t?t:[]})),H((e=>{var t;return null!==(t=r.selectors.schemaFieldTypes())&&void 0!==t?t:[]})),P((e=>{var t;return null!==(t=r.selectors.fieldFilter())&&void 0!==t?t:""}))}));return()=>{l.unsubscribe(),t()}}),[b]),Object(o.jsx)(T.EuiTabbedContent,{tabs:je,selectedTab:je.find((e=>e.id===xe)),onTabClick:ne})},Dt=y.i18n.translate("indexPatternManagement.editDataView.setDefaultAria",{defaultMessage:"Set as default data view."}),It=y.i18n.translate("indexPatternManagement.editDataView.setDefaultTooltip",{defaultMessage:"Set as default"}),_t=y.i18n.translate("indexPatternManagement.editDataView.editAria",{defaultMessage:"Edit data view."}),Lt=y.i18n.translate("indexPatternManagement.editDataView.editTooltip",{defaultMessage:"Edit"}),kt=y.i18n.translate("indexPatternManagement.editDataView.removeAria",{defaultMessage:"Delete data view."}),Nt=y.i18n.translate("indexPatternManagement.editDataView.removeTooltip",{defaultMessage:"Delete"}),At=({defaultIndex:e,indexPattern:t,setDefault:a,editIndexPatternClick:i,deleteIndexPatternClick:n,children:s,canSave:r})=>Object(o.jsx)(T.EuiPageHeader,{pageTitle:Object(o.jsx)("span",{"data-test-subj":"indexPatternTitle"},t.getName()),rightSideItems:[r&&Object(o.jsx)(T.EuiButton,{onClick:i,iconType:"pencil","aria-label":_t,"data-test-subj":"editIndexPatternButton",color:"primary"},Lt),e!==t.id&&a&&r&&t.isPersisted()&&Object(o.jsx)(T.EuiButton,{onClick:a,iconType:"starFilled","aria-label":Dt,"data-test-subj":"setDefaultIndexPatternButton"},It),r&&t.isPersisted()&&Object(o.jsx)(T.EuiButtonEmpty,{color:"danger",onClick:n,iconType:"trash","aria-label":kt,"data-test-subj":"deleteIndexPatternButton"},Nt)].filter(Boolean)},s);var Vt=a(25);const Rt={confirmButtonText:y.i18n.translate("indexPatternManagement.editIndexPattern.deleteButton",{defaultMessage:"Delete"}),title:y.i18n.translate("indexPatternManagement.editDataView.deleteHeader",{defaultMessage:"Delete data view"}),buttonColor:"danger"},Bt=({dataViews:e,overlays:t,onDelete:a,startServices:i})=>(n,s)=>{t.openConfirm(fe(s,i),Rt).then((async t=>{t&&(await Object(Vt.asyncForEach)(n,(async({id:t})=>e.delete(t))),a())}))},Ut={marginLeft:"8px",overflowWrap:"anywhere"},zt=y.i18n.translate("indexPatternManagement.editIndexPattern.mappingConflictHeader",{defaultMessage:"Mapping conflict"}),Ht=y.i18n.translate("indexPatternManagement.editIndexPattern.badge.securityDataViewTitle",{defaultMessage:"Security Data View"}),Gt=e=>Object(u.pickBy)(e.getAllRuntimeFields(),(e=>"composite"===e.type)),Kt=Object(l.withRouter)((({indexPattern:e,history:t,location:a})=>{const{uiSettings:s,overlays:r,chrome:d,dataViews:c,IndexPatternEditor:u,savedObjectsManagement:p,application:m,...b}=Object(U.useKibana)().services,[g,j]=Object(i.useState)(e.getNonScriptedFields()),[x,f]=Object(i.useState)((()=>Gt(e))),[h,O]=Object(i.useState)(e.fields.getAll().filter((e=>"conflict"===e.type))),[M,v]=Object(i.useState)(s.get("defaultIndex")),[F,P]=Object(i.useState)([]),[E,w]=Object(i.useState)(!1),[S,C]=Object(i.useState)([]),[D,I]=Object(i.useState)([]),[_,L]=Object(i.useState)(0),[k,N]=n.a.useState(!1),A=Object(i.useMemo)((()=>Object(Y.setStateToKbnUrl)(X,{fieldTypes:["conflict"],tab:"indexedFields"},{useHash:s.get("state:storeInSessionStorage")},m.getUrlForApp("management",{path:`/kibana/dataViews/dataView/${encodeURIComponent(e.id)}`}))),[m,e.id,s]);Object(i.useEffect)((()=>{const e=t.listen((()=>{window.dispatchEvent(new HashChangeEvent("hashchange"))}));return()=>{e()}}),[t]),Object(i.useEffect)((()=>{p.getAllowedTypes().then((e=>{I(e)}))}),[p]),Object(i.useEffect)((()=>{if(0===D.length||!e.isPersisted())return;const t=D.map((e=>e.name));p.getRelationships(G.DATA_VIEW_SAVED_OBJECT_TYPE,e.id,t).then((e=>{C(e.relations.map((e=>({...e,title:e.meta.title}))))}))}),[p,e,D]),Object(i.useEffect)((()=>{j(e.getNonScriptedFields()),O(e.fields.getAll().filter((e=>"conflict"===e.type)))}),[e,_]),Object(i.useEffect)((()=>{P(ut(e,e.id===M,c.getRollupsEnabled()))}),[M,e,c]);const V=Object(i.useCallback)((()=>{s.set("defaultIndex",e.id),v(e.id||"")}),[s,e.id]),R=Bt({dataViews:c,uiSettings:s,overlays:r,onDelete:()=>{t.push("")},startServices:b}),B=new URLSearchParams(Object(l.useLocation)().search).get("type")===G.DataViewType.ROLLUP&&c.getRollupsEnabled(),H=E?Object(o.jsx)(u,{onSave:()=>{j(e.getNonScriptedFields()),w(!1)},onCancel:()=>w(!1),defaultTypeIsRollup:B,editData:e}):Object(o.jsx)(n.a.Fragment,null),K=y.i18n.translate("indexPatternManagement.editIndexPattern.indexPatternHeading",{defaultMessage:"Index pattern:"}),W=y.i18n.translate("indexPatternManagement.editIndexPattern.timeFilterHeading",{defaultMessage:"Time field:"}),q=y.i18n.translate("indexPatternManagement.editIndexPattern.mappingConflictLabel",{defaultMessage:"{conflictFieldsLength, plural, one {A field is} other {# fields are}} defined as several types (string, integer, etc) across the indices that match this pattern. You may still be able to use these conflict fields in parts of Kibana, but they will be unavailable for functions that require Kibana to know their type. Correcting this issue will require reindexing your data.",values:{conflictFieldsLength:h.length}}),J=y.i18n.translate("indexPatternManagement.editDataView.detailsAria",{defaultMessage:"Data view details"});d.docTitle.change(e.getName());const Q=c.getCanSaveSync(),Z=e.namespaces&&e.namespaces.length>1||e.namespaces.includes("*")?Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.editDataView.deleteWarningWithNamespaces",defaultMessage:"Delete the data view {dataViewName} from every space it is shared in. You can't undo this action.",values:{dataViewName:Object(o.jsx)(T.EuiCode,null,e.getName())}}):Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.editDataView.deleteWarning",defaultMessage:"The data view {dataViewName} will be deleted. You can't undo this action.",values:{dataViewName:Object(o.jsx)(T.EuiCode,null,e.getName())}});return Object(o.jsx)("div",{"data-test-subj":"editIndexPattern",role:"region","aria-label":J},Object(o.jsx)(At,{indexPattern:e,setDefault:V,editIndexPatternClick:()=>{w(!0)},deleteIndexPatternClick:()=>R([e],Object(o.jsx)("div",null,Z)),defaultIndex:M,canSave:Q},Object(o.jsx)(T.EuiHorizontalRule,{margin:"none"}),Object(o.jsx)(T.EuiSpacer,{size:"l"}),Object(o.jsx)(T.EuiFlexGroup,{wrap:!0,gutterSize:"l",alignItems:"center"},Boolean(e.title)&&Object(o.jsx)(T.EuiFlexItem,{grow:!1},Object(o.jsx)(T.EuiFlexGroup,{gutterSize:"none",alignItems:"center"},Object(o.jsx)(T.EuiText,{size:"s"},K),Object(o.jsx)(T.EuiCode,{"data-test-subj":"currentIndexPatternTitle",style:Ut},e.title))),Boolean(e.timeFieldName)&&Object(o.jsx)(T.EuiFlexItem,{grow:!1},Object(o.jsx)(T.EuiFlexGroup,{gutterSize:"none",alignItems:"center"},Object(o.jsx)(T.EuiText,{size:"s"},W),Object(o.jsx)(T.EuiCode,{"data-test-subj":"currentIndexPatternTimeField",style:Ut},e.timeFieldName))),e.id&&0===e.id.indexOf("security-solution")&&Object(o.jsx)(T.EuiFlexItem,{grow:!1},Object(o.jsx)(T.EuiBadge,null,Ht)),F.map((e=>Object(o.jsx)(T.EuiFlexItem,{grow:!1,key:e.key},"default"===e.key?Object(o.jsx)(T.EuiBadge,{iconType:"starFilled",color:"default","data-test-subj":e["data-test-subj"]},e.name):"rollup"===e.key?Object(o.jsx)($,null,Object(o.jsx)(T.EuiBadge,{color:"warning"},e.name)):Object(o.jsx)(T.EuiBadge,{color:"hollow"},e.name))))),h.length>0&&Object(o.jsx)(n.a.Fragment,null,Object(o.jsx)(T.EuiSpacer,null),Object(o.jsx)(T.EuiCallOut,{title:zt,color:"warning",iconType:"warning","data-test-subj":"dataViewMappingConflict"},Object(o.jsx)("p",null,q),Object(o.jsx)(T.EuiLink,{"data-test-subj":"viewDataViewMappingConflictsButton",href:A},y.i18n.translate("indexPatternManagement.editIndexPattern.viewMappingConflictButton",{defaultMessage:"View conflicts"}))))),Object(o.jsx)(T.EuiSpacer,{size:"xl"}),Object(o.jsx)(Ct,{indexPattern:e,saveIndexPattern:c.updateSavedObject.bind(c),fields:g,relationships:S,allowedTypes:D,history:t,location:a,compositeRuntimeFields:x,refreshFields:()=>{j(e.getNonScriptedFields()),f(Gt(e))},refreshIndexPatternClick:async()=>{N(!0),await c.refreshFields(e,!1,!0),L(_+1),N(!1)},isRefreshing:k}),H)})),$t=Object(l.withRouter)((({...e})=>{const{dataViews:t,setBreadcrumbs:a,notifications:n}=Object(U.useKibana)().services,[s,r]=Object(i.useState)(),[l,d]=Object(i.useState)();if(Object(i.useEffect)((()=>{t.get(e.match.params.id).then((e=>{d(e),a(q(e))})).catch((e=>{r(e)}))}),[t,e.match.params.id,a,r]),s){const[t,a]=[y.i18n.translate("indexPatternManagement.editIndexPattern.couldNotLoadTitle",{defaultMessage:"Unable to load data view"}),y.i18n.translate("indexPatternManagement.editIndexPattern.couldNotLoadMessage",{defaultMessage:"The data view with id:{objectId} could not be loaded. Try creating a new one.",values:{objectId:e.match.params.id}})];n.toasts.addError(null!=s?s:new Error(t),{title:t,toastMessage:a}),e.history.push("/")}return null!=l?Object(o.jsx)(Kt,{indexPattern:l}):null}));var Wt=a(26),qt=a(27);const Yt=({isVisible:e=!1})=>e?Object(o.jsx)(i.Fragment,null,Object(o.jsx)(T.EuiCallOut,{title:Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.disabledCallOutHeader",defaultMessage:"Scripting disabled",description:"Showing the status that scripting is disabled in Elasticsearch. Not an update message, that it JUST got disabled."}),color:"danger",iconType:"warning"},Object(o.jsx)("p",null,Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.disabledCallOutLabel",defaultMessage:"All inline scripting has been disabled in Elasticsearch. You must enable inline scripting for at least one language in order to use scripted fields in Kibana."}))),Object(o.jsx)(T.EuiSpacer,{size:"m"})):null;Yt.displayName="ScriptingDisabledCallOut";const Jt=({isVisible:e=!1})=>{var t;const a=null===(t=Object(U.useKibana)().services.docLinks)||void 0===t?void 0:t.links;return e?Object(o.jsx)(i.Fragment,null,Object(o.jsx)(T.EuiText,{size:"s"},Object(o.jsx)("p",null,Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.warningCallOutLabel.callOutDetail",defaultMessage:"Familiarize yourself with {scripFields} and {scriptsInAggregation} before using this feature. Scripted fields can be used to display and aggregate calculated values. As such, they can be very slow and, if done incorrectly, can cause Kibana to become unusable.",values:{scripFields:Object(o.jsx)(T.EuiLink,{target:"_blank",href:a.scriptedFields.scriptFields},Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.warningCallOutLabel.scripFieldsLink",defaultMessage:"scripted fields"})),scriptsInAggregation:Object(o.jsx)(T.EuiLink,{target:"_blank",href:a.scriptedFields.scriptAggs},Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.warningCallOutLabel.scriptsInAggregationLink",defaultMessage:"scripts in aggregations"}))}}))),Object(o.jsx)(T.EuiSpacer,{size:"m"}),Object(o.jsx)(T.EuiCallOut,{color:"warning",iconType:"warning",title:Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.scriptedFieldsDeprecatedTitle",defaultMessage:"Scripted fields are deprecated",description:"Deprecation warning title within scripted field editor"})},Object(o.jsx)(T.EuiText,{size:"s"},Object(o.jsx)("p",null,Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.scriptedFieldsDeprecatedBody",defaultMessage:"For greater flexibility and Painless script support, use {runtimeDocs}.",values:{runtimeDocs:Object(o.jsx)(T.EuiLink,{target:"_blank",href:a.runtimeFields.overview},Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.warningCallOutLabel.runtimeLink",defaultMessage:"runtime fields"}))}})))),Object(o.jsx)(T.EuiSpacer,{size:"m"})):null};Jt.displayName="ScriptingWarningCallOut";const Xt=()=>{var e;const t=null===(e=Object(U.useKibana)().services.docLinks)||void 0===e?void 0:e.links.scriptedFields;return Object(o.jsx)(i.Fragment,null,Object(o.jsx)(T.EuiSpacer,null),Object(o.jsx)(T.EuiText,null,Object(o.jsx)("h3",null,Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.syntaxHeader",defaultMessage:"Syntax"})),Object(o.jsx)("p",null,Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.syntax.defaultLabel.defaultDetail",defaultMessage:"By default, Kibana scripted fields use {painless}, a simple and secure scripting language designed specifically for use with Elasticsearch, to access values in the document use the following format:",values:{painless:Object(o.jsx)(T.EuiLink,{target:"_blank",href:t.painless},Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.syntax.defaultLabel.painlessLink",defaultMessage:"Painless"})," ",Object(o.jsx)(T.EuiIcon,{type:"link"}))}})),Object(o.jsx)("p",null,Object(o.jsx)(T.EuiCode,null,Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.syntax.default.formatLabel",defaultMessage:"doc['some_field'].value"}))),Object(o.jsx)("p",null,Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.syntax.painlessLabel.painlessDetail",defaultMessage:"Painless is powerful but easy to use. It provides access to many {javaAPIs}. Read up on its {syntax} and you'll be up to speed in no time!",values:{javaAPIs:Object(o.jsx)(T.EuiLink,{target:"_blank",href:t.painlessApi},Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.syntax.painlessLabel.javaAPIsLink",defaultMessage:"native Java APIs"})," ",Object(o.jsx)(T.EuiIcon,{type:"link"})),syntax:Object(o.jsx)(T.EuiLink,{target:"_blank",href:t.painlessSyntax},Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.syntax.painlessLabel.syntaxLink",defaultMessage:"syntax"})," ",Object(o.jsx)(T.EuiIcon,{type:"link"}))}})),Object(o.jsx)("p",null,Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.syntax.kibanaLabel",defaultMessage:"Kibana currently imposes one special limitation on the painless scripts you write. They cannot contain named functions."})),Object(o.jsx)("p",null,Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.syntax.lucene.commonLabel.commonDetail",defaultMessage:"Coming from an older version of Kibana? The {lucene} you know and love are still available. Lucene expressions are a lot like JavaScript, but limited to basic arithmetic, bitwise and comparison operations.",values:{lucene:Object(o.jsx)(T.EuiLink,{target:"_blank",href:t.luceneExpressions},Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.syntax.lucene.commonLabel.luceneLink",defaultMessage:"Lucene Expressions"})," ",Object(o.jsx)(T.EuiIcon,{type:"link"}))}})),Object(o.jsx)("p",null,Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.syntax.lucene.limitsLabel",defaultMessage:"There are a few limitations when using Lucene Expressions:"})),Object(o.jsx)("ul",null,Object(o.jsx)("li",null,Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.syntax.lucene.limits.typesLabel",defaultMessage:"Only numeric, boolean, date, and geo_point fields may be accessed"})),Object(o.jsx)("li",null,Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.syntax.lucene.limits.fieldsLabel",defaultMessage:"Stored fields are not available"})),Object(o.jsx)("li",null,Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.syntax.lucene.limits.sparseLabel",defaultMessage:"If a field is sparse (only some documents contain a value), documents missing the field will have a value of 0"}))),Object(o.jsx)("p",null,Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.syntax.lucene.operationsLabel",defaultMessage:"Here are all the operations available to lucene expressions:"})),Object(o.jsx)("ul",null,Object(o.jsx)("li",null,Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.syntax.lucene.operations.arithmeticLabel",defaultMessage:"Arithmetic operators: {operators}",values:{operators:Object(o.jsx)("code",null,"+ - * / %")}})),Object(o.jsx)("li",null,Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.syntax.lucene.operations.bitwiseLabel",defaultMessage:"Bitwise operators: {operators}",values:{operators:Object(o.jsx)("code",null,"| & ^ ~ << >> >>>")}})),Object(o.jsx)("li",null,Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.syntax.lucene.operations.booleanLabel",defaultMessage:"Boolean operators (including the ternary operator): {operators}",values:{operators:Object(o.jsx)("code",null,"&& || ! ?:")}})),Object(o.jsx)("li",null,Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.syntax.lucene.operations.comparisonLabel",defaultMessage:"Comparison operators: {operators}",values:{operators:Object(o.jsx)("code",null,"< <= == >= >")}})),Object(o.jsx)("li",null,Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.syntax.lucene.operations.mathLabel",defaultMessage:"Common mathematic functions: {operators}",values:{operators:Object(o.jsx)("code",null,"abs ceil exp floor ln log10 logn max min sqrt pow")}})),Object(o.jsx)("li",null,Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.syntax.lucene.operations.trigLabel",defaultMessage:"Trigonometric library functions: {operators}",values:{operators:Object(o.jsx)("code",null,"acosh acos asinh asin atanh atan atan2 cosh cos sinh sin tanh tan")}})),Object(o.jsx)("li",null,Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.syntax.lucene.operations.distanceLabel",defaultMessage:"Distance functions: {operators}",values:{operators:Object(o.jsx)("code",null,"haversin")}})),Object(o.jsx)("li",null,Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.syntax.lucene.operations.miscellaneousLabel",defaultMessage:"Miscellaneous functions: {operators}",values:{operators:Object(o.jsx)("code",null,"min, max")}})))))};var Qt=a(28),Zt=a(29);class test_script_TestScript extends i.Component{constructor(...e){super(...e),ie()(this,"defaultProps",{name:"myScriptedField"}),ie()(this,"state",{isLoading:!1,additionalFields:[],previewData:void 0}),ie()(this,"previewScript",(async e=>{var t;const{indexPattern:a,name:i,script:n,executeScript:s}=this.props;if(!n||0===n.length)return;let r;if(this.setState({isLoading:!0}),e){const t=Object(Zt.getEsQueryConfig)(this.context.services.uiSettings);r=Object(Qt.buildEsQuery)(this.props.indexPattern,e.query||[],[],t)}const l=await s({name:i,script:n,indexPatternTitle:a.title,query:r,additionalFields:this.state.additionalFields.map((e=>e.value)),http:this.context.services.http});200===l.status?this.setState({isLoading:!1,previewData:null===(t=l.hits)||void 0===t?void 0:t.hits.map((e=>({_id:e._id,...e._source,...e.fields})))}):this.setState({isLoading:!1,previewData:l})})),ie()(this,"onAdditionalFieldsChange",(e=>{this.setState({additionalFields:e})}))}componentDidMount(){this.props.script&&this.previewScript()}renderPreview(e){return e?e.error?Object(o.jsx)(T.EuiCallOut,{title:y.i18n.translate("indexPatternManagement.testScript.errorMessage",{defaultMessage:"There's an error in your script"}),color:"danger",iconType:"cross"},Object(o.jsx)(T.EuiCodeBlock,{language:"json",className:"scriptPreviewCodeBlock","data-test-subj":"scriptedFieldPreview"},JSON.stringify(e.error,null," "))):Object(o.jsx)(i.Fragment,null,Object(o.jsx)(T.EuiTitle,{size:"xs"},Object(o.jsx)("p",null,Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.testScript.resultsLabel",defaultMessage:"First 10 results"}))),Object(o.jsx)(T.EuiSpacer,{size:"s"}),Object(o.jsx)(T.EuiCodeBlock,{language:"json",className:"scriptPreviewCodeBlock","data-test-subj":"scriptedFieldPreview"},JSON.stringify(e,null," "))):null}renderToolbar(){const e=new Map,t=[];return this.props.indexPattern.fields.getAll().filter((e=>{const t=e.isSubtypeMulti();return!e.name.startsWith("_")&&!t&&!e.scripted})).forEach((t=>{if(e.has(t.type)){const a=e.get(t.type);a.push(t.name),e.set(t.type,a)}else e.set(t.type,[t.name])})),e.forEach(((e,a)=>{t.push({label:a,options:e.sort().map((e=>({value:e,label:e})))})})),t.sort(((e,t)=>e.label<t.label?-1:e.label>t.label?1:0)),Object(o.jsx)(i.Fragment,null,Object(o.jsx)(T.EuiFormRow,{label:y.i18n.translate("indexPatternManagement.testScript.fieldsLabel",{defaultMessage:"Additional fields"}),fullWidth:!0},Object(o.jsx)(T.EuiComboBox,{placeholder:y.i18n.translate("indexPatternManagement.testScript.fieldsPlaceholder",{defaultMessage:"Select..."}),options:t,selectedOptions:this.state.additionalFields,onChange:e=>this.onAdditionalFieldsChange(e),"data-test-subj":"additionalFieldsSelect",fullWidth:!0})),Object(o.jsx)(T.EuiSpacer,{size:"s"}),Object(o.jsx)("div",{className:"testScript__searchBar"},Object(o.jsx)(this.context.services.unifiedSearch.ui.SearchBar,{displayStyle:"inPage",appName:"indexPatternManagement",showFilterBar:!1,showDatePicker:!1,showQueryInput:!0,query:this.context.services.data.query.queryString.getDefaultQuery(),onQuerySubmit:this.previewScript,indexPatterns:[this.props.indexPattern],customSubmitButton:Object(o.jsx)(T.EuiButton,{disabled:!this.props.script,isLoading:this.state.isLoading,"data-test-subj":"runScriptButton"},Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.testScript.submitButtonLabel",defaultMessage:"Run script"}))})))}render(){return Object(o.jsx)(i.Fragment,null,Object(o.jsx)(T.EuiSpacer,null),Object(o.jsx)(T.EuiText,null,Object(o.jsx)("h3",null,Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.testScript.resultsTitle",defaultMessage:"Preview results"})),Object(o.jsx)("p",null,Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.testScript.instructions",defaultMessage:"Run your script to preview the first 10 results. You can also select some additional fields to include in your results to gain more context or add a query to filter on specific documents."}))),Object(o.jsx)(T.EuiSpacer,null),this.renderToolbar(),Object(o.jsx)(T.EuiSpacer,null),this.renderPreview(this.state.previewData))}}ie()(test_script_TestScript,"contextType",U.context);const ea=({isVisible:e=!1,onClose:t=(()=>{}),indexPattern:a,lang:i,name:n,script:s,executeScript:r})=>{const l=[{id:"syntax",name:"Syntax","data-test-subj":"syntaxTab",content:Object(o.jsx)(Xt,null)},{id:"test",name:"Preview results","data-test-subj":"testTab",content:Object(o.jsx)(test_script_TestScript,{indexPattern:a,lang:i,name:n,script:s,executeScript:r})}];return e?Object(o.jsx)(T.EuiFlyout,{onClose:t,"data-test-subj":"scriptedFieldsHelpFlyout"},Object(o.jsx)(T.EuiFlyoutBody,null,Object(o.jsx)(T.EuiTabbedContent,{tabs:l,initialSelectedTab:l[0]}))):null};ea.displayName="ScriptingHelpFlyout";const ta=Object(u.memoize)((e=>e?n.a.lazy((()=>e().then((e=>({default:e}))))):null));class field_format_editor_FieldFormatEditor extends i.PureComponent{constructor(e){super(e),this.state={EditorComponent:ta(e.fieldFormatEditors.getById(e.fieldFormatId))}}static getDerivedStateFromProps(e){return{EditorComponent:ta(e.fieldFormatEditors.getById(e.fieldFormatId))}}render(){const{EditorComponent:e}=this.state,{fieldType:t,fieldFormat:a,fieldFormatParams:i,onChange:s,onError:r}=this.props;return Object(o.jsx)(n.a.Fragment,null,e?Object(o.jsx)(n.a.Suspense,{fallback:Object(o.jsx)("div",{style:{minHeight:430,marginTop:8}},Object(o.jsx)(T.EuiDelayRender,null,Object(o.jsx)(T.EuiSkeletonText,{lines:4})))},Object(o.jsx)(e,{fieldType:t,format:a,formatParams:i,onChange:s,onError:r})):null)}}let aa=function(e){return e._ID="_id",e._INDEX="_index",e._SOURCE="_source",e._TYPE="_type",e.STRING="string",e.TEXT="text",e.MATCH_ONLY_TEXT="match_only_text",e.KEYWORD="keyword",e.VERSION="version",e.BOOLEAN="boolean",e.OBJECT="object",e.DATE="date",e.DATE_NANOS="date_nanos",e.DATE_RANGE="date_range",e.GEO_POINT="geo_point",e.GEO_SHAPE="geo_shape",e.FLOAT="float",e.HALF_FLOAT="half_float",e.SCALED_FLOAT="scaled_float",e.DOUBLE="double",e.INTEGER="integer",e.LONG="long",e.SHORT="short",e.UNSIGNED_LONG="unsigned_long",e.AGGREGATE_METRIC_DOUBLE="aggregate_metric_double",e.FLOAT_RANGE="float_range",e.DOUBLE_RANGE="double_range",e.INTEGER_RANGE="integer_range",e.LONG_RANGE="long_range",e.NESTED="nested",e.BYTE="byte",e.IP="ip",e.IP_RANGE="ip_range",e.ATTACHMENT="attachment",e.TOKEN_COUNT="token_count",e.MURMUR3="murmur3",e.HISTOGRAM="histogram",e}({}),ia=function(e){return e._SOURCE="_source",e.ATTACHMENT="attachment",e.BOOLEAN="boolean",e.DATE="date",e.DATE_RANGE="date_range",e.GEO_POINT="geo_point",e.GEO_SHAPE="geo_shape",e.IP="ip",e.IP_RANGE="ip_range",e.MURMUR3="murmur3",e.NUMBER="number",e.NUMBER_RANGE="number_range",e.STRING="string",e.UNKNOWN="unknown",e.CONFLICT="conflict",e.OBJECT="object",e.NESTED="nested",e.HISTOGRAM="histogram",e.MISSING="missing",e}({});class kbn_field_type_KbnFieldType{constructor(e={}){ie()(this,"name",void 0),ie()(this,"sortable",void 0),ie()(this,"filterable",void 0),ie()(this,"esTypes",void 0),this.name=e.name||ia.UNKNOWN,this.sortable=e.sortable||!1,this.filterable=e.filterable||!1,this.esTypes=Object.freeze((e.esTypes||[]).slice())}}const na=new kbn_field_type_KbnFieldType({name:ia.UNKNOWN}),sa=[new kbn_field_type_KbnFieldType({name:ia.STRING,sortable:!0,filterable:!0,esTypes:[aa.STRING,aa.TEXT,aa.MATCH_ONLY_TEXT,aa.KEYWORD,aa.VERSION,aa._TYPE,aa._ID]}),new kbn_field_type_KbnFieldType({name:ia.NUMBER,sortable:!0,filterable:!0,esTypes:[aa.FLOAT,aa.HALF_FLOAT,aa.SCALED_FLOAT,aa.DOUBLE,aa.INTEGER,aa.LONG,aa.UNSIGNED_LONG,aa.SHORT,aa.BYTE,aa.TOKEN_COUNT,aa.AGGREGATE_METRIC_DOUBLE]}),new kbn_field_type_KbnFieldType({name:ia.NUMBER_RANGE,sortable:!0,filterable:!0,esTypes:[aa.FLOAT_RANGE,aa.DOUBLE_RANGE,aa.INTEGER_RANGE,aa.LONG_RANGE]}),new kbn_field_type_KbnFieldType({name:ia.DATE,sortable:!0,filterable:!0,esTypes:[aa.DATE,aa.DATE_NANOS]}),new kbn_field_type_KbnFieldType({name:ia.DATE_RANGE,sortable:!0,filterable:!0,esTypes:[aa.DATE_RANGE]}),new kbn_field_type_KbnFieldType({name:ia.IP,sortable:!0,filterable:!0,esTypes:[aa.IP]}),new kbn_field_type_KbnFieldType({name:ia.IP_RANGE,sortable:!0,filterable:!0,esTypes:[aa.IP_RANGE]}),new kbn_field_type_KbnFieldType({name:ia.BOOLEAN,sortable:!0,filterable:!0,esTypes:[aa.BOOLEAN]}),new kbn_field_type_KbnFieldType({name:ia.OBJECT,esTypes:[aa.OBJECT]}),new kbn_field_type_KbnFieldType({name:ia.NESTED,esTypes:[aa.NESTED]}),new kbn_field_type_KbnFieldType({name:ia.GEO_POINT,esTypes:[aa.GEO_POINT]}),new kbn_field_type_KbnFieldType({name:ia.GEO_SHAPE,esTypes:[aa.GEO_SHAPE]}),new kbn_field_type_KbnFieldType({name:ia.ATTACHMENT,esTypes:[aa.ATTACHMENT]}),new kbn_field_type_KbnFieldType({name:ia.MURMUR3,esTypes:[aa.MURMUR3]}),new kbn_field_type_KbnFieldType({name:ia._SOURCE,esTypes:[aa._SOURCE]}),new kbn_field_type_KbnFieldType({name:ia.HISTOGRAM,filterable:!0,esTypes:[aa.HISTOGRAM]}),new kbn_field_type_KbnFieldType({name:ia.CONFLICT}),na],ra={painless:["number","string","date","boolean"],expression:["number"]},la=sa.filter((e=>e.name)).map((e=>e.name)),da=async({name:e,script:t,indexPatternTitle:a,query:i,additionalFields:n=[],http:s})=>s.post("/internal/index-pattern-management/preview_scripted_field",{body:JSON.stringify({index:a,name:e,script:t,query:i,additionalFields:n})}).then((e=>({status:e.statusCode,hits:e.body.hits}))).catch((e=>({status:e.statusCode,error:e.body.attributes.error}))),oa=(e,t,a)=>{const i=a.getByFieldType(e.type).map((({id:e,title:t})=>({id:e,title:t})));return[{id:"",defaultFieldFormat:t,title:y.i18n.translate("indexPatternManagement.defaultFormatDropDown",{defaultMessage:"- Default -"})},...i]};class field_editor_FieldEditor extends i.PureComponent{constructor(e,t){super(e,t),ie()(this,"supportedLangs",[]),ie()(this,"deprecatedLangs",[]),ie()(this,"onFieldChange",((e,t)=>{const{spec:a}=this.state;a[e]=t,this.forceUpdate()})),ie()(this,"onTypeChange",(e=>{const{fieldFormats:t}=this.context.services,{spec:a,format:i}=this.state,n=t.getDefaultType(e);a.type=e,this.setState({fieldTypeFormats:oa(a,n,t),fieldFormatId:n.id,fieldFormatParams:i.params()})})),ie()(this,"onLangChange",(e=>{const{spec:t}=this.state,a=Object(u.get)(ra,e,la);t.lang=e,t.type=a.includes(t.type)?t.type:a[0],this.setState({fieldTypes:a})})),ie()(this,"onFormatChange",((e,t)=>{const{fieldTypeFormats:a}=this.state,{uiSettings:i,fieldFormats:n}=this.context.services,s=new(n.getType(e||a[0].defaultFieldFormat.id))(t,(e=>i.get(e)));this.setState({fieldFormatId:e,fieldFormatParams:t,format:s})})),ie()(this,"onFormatParamsChange",(e=>{const{fieldFormatId:t}=this.state;this.onFormatChange(t,e)})),ie()(this,"onFormatParamsError",(e=>{this.setState({hasFormatError:!!e})})),ie()(this,"onScriptChange",(e=>{this.setState({hasScriptError:!1}),this.onFieldChange("script",e)})),ie()(this,"showScriptingHelp",(()=>{this.setState({showScriptingHelp:!0})})),ie()(this,"hideScriptingHelp",(()=>{this.setState({showScriptingHelp:!1})})),ie()(this,"renderDeleteModal",(()=>{const{spec:e}=this.state;return this.state.showDeleteModal?Object(o.jsx)(T.EuiConfirmModal,{title:y.i18n.translate("indexPatternManagement.deleteFieldHeader",{defaultMessage:"Delete field ''{fieldName}''",values:{fieldName:e.name}}),onCancel:this.hideDeleteModal,onConfirm:()=>{this.hideDeleteModal(),this.deleteField()},cancelButtonText:y.i18n.translate("indexPatternManagement.deleteField.cancelButton",{defaultMessage:"Cancel"}),confirmButtonText:y.i18n.translate("indexPatternManagement.deleteField.deleteButton",{defaultMessage:"Delete"}),buttonColor:"danger",defaultFocusedButton:T.EUI_MODAL_CONFIRM_BUTTON},Object(o.jsx)("p",null,Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.deleteFieldLabel",defaultMessage:"You can't recover a deleted field.{separator}Are you sure you want to do this?",values:{separator:Object(o.jsx)("span",null,Object(o.jsx)("br",null),Object(o.jsx)("br",null))}}))):null})),ie()(this,"showDeleteModal",(()=>{this.setState({showDeleteModal:!0})})),ie()(this,"hideDeleteModal",(()=>{this.setState({showDeleteModal:!1})})),ie()(this,"renderScriptingPanels",(()=>{const{scriptingLangs:e,spec:t,showScriptingHelp:a}=this.state;if(t.scripted)return Object(o.jsx)(i.Fragment,null,Object(o.jsx)(Yt,{isVisible:!e.length}),Object(o.jsx)(Jt,{isVisible:!0}),Object(o.jsx)(ea,{isVisible:a,onClose:this.hideScriptingHelp,indexPattern:this.props.indexPattern,lang:t.lang,name:t.name,script:t.script,executeScript:da}))})),ie()(this,"deleteField",(()=>{const{redirectAway:e,indexPatternService:t}=this.props.services,{indexPattern:a}=this.props,{spec:i}=this.state;a.removeScriptedField(i.name),t.updateSavedObject(a).then((()=>{const t=y.i18n.translate("indexPatternManagement.deleteField.deletedHeader",{defaultMessage:"Deleted ''{fieldName}''",values:{fieldName:i.name}});this.context.services.notifications.toasts.addSuccess(t),e()}))})),ie()(this,"saveField",(async()=>{const e=this.state.spec,{indexPattern:t}=this.props,{fieldFormatId:a,fieldFormatParams:i,customLabel:n}=this.state;if(e.scripted&&(this.setState({isSaving:!0}),!await(async({name:e,script:t,indexPatternTitle:a,http:i})=>200===(await da({name:e,script:t,indexPatternTitle:a,http:i})).status)({name:e.name,script:e.script,indexPatternTitle:t.title,http:this.context.services.http})))return void this.setState({hasScriptError:!0,isSaving:!1});const{redirectAway:s,indexPatternService:r}=this.props.services;return t.upsertScriptedField(e),a?t.setFieldFormat(e.name,{id:a,params:i}):t.deleteFieldFormat(e.name),e.customLabel!==n&&(e.customLabel=n,t.setFieldCustomLabel(e.name,n)),r.updateSavedObject(t).then((()=>{const t=y.i18n.translate("indexPatternManagement.deleteField.savedHeader",{defaultMessage:"Saved ''{fieldName}''",values:{fieldName:e.name}});this.context.services.notifications.toasts.addSuccess(t),s()})).catch((()=>{t.fields.remove(e)}))}));const{spec:a,indexPattern:n}=e;this.state={isReady:!1,isCreating:!1,isDeprecatedLang:!1,scriptingLangs:[],fieldTypes:[],fieldTypeFormats:[],existingFieldNames:n.fields.getAll().map((e=>e.name)),fieldFormatId:void 0,fieldFormatParams:{},showScriptingHelp:!1,showDeleteModal:!1,hasFormatError:!1,hasScriptError:!1,isSaving:!1,format:e.indexPattern.getFormatterForField(a),spec:{...a},customLabel:""},this.supportedLangs=["painless"],this.deprecatedLangs=[],this.init(t)}async init(e){var t,a;const{http:i,notifications:n,fieldFormats:s}=e.services,{format:r,spec:l}=this.state,{indexPattern:d}=this.props,o=await((e,t)=>e.get("/internal/scripts/languages",{version:Ke.SCRIPT_LANGUAGES_ROUTE_LATEST_VERSION}).catch((()=>(t.addDanger(y.i18n.translate("indexPatternManagement.scriptingLanguages.errorFetchingToastDescription",{defaultMessage:"Error getting available scripting languages from Elasticsearch"})),[]))))(i,n.toasts),c=Object(u.intersection)(o,Object(u.union)(this.supportedLangs,this.deprecatedLangs));l.lang=l.lang&&c.includes(l.lang)?l.lang:void 0,l.scripted&&!l.lang&&(l.lang=c[0]);const p=Object(u.get)(ra,l.lang||"",la);l.type=p.includes(l.type)?l.type:p[0];const m=s.getDefaultType(l.type,l.esTypes);this.setState({isReady:!0,isCreating:!d.fields.getByName(l.name),isDeprecatedLang:this.deprecatedLangs.includes(l.lang||""),errors:[],scriptingLangs:c,fieldTypes:p,fieldTypeFormats:oa(l,m,s),fieldFormatId:null===(t=d.getFormatterForFieldNoDefault(l.name))||void 0===t||null===(a=t.type)||void 0===a?void 0:a.id,customLabel:l.customLabel||"",fieldFormatParams:r.params()})}isDuplicateName(){const{isCreating:e,spec:t,existingFieldNames:a}=this.state;return e&&a.includes(t.name)}renderName(){var e;const{isCreating:t,spec:a}=this.state,i=null==a||null===(e=a.name)||void 0===e?void 0:e.includes("*"),n=!a.name||!a.name.trim()||i;return t?Object(o.jsx)(T.EuiFormRow,{label:y.i18n.translate("indexPatternManagement.nameLabel",{defaultMessage:"Name"}),helpText:this.isDuplicateName()?Object(o.jsx)("span",null,Object(o.jsx)(T.EuiIcon,{type:"warning",color:"warning",size:"s"})," ",Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.mappingConflictLabel.mappingConflictDetail",defaultMessage:"{mappingConflict} You already have a field with the name {fieldName}. Naming your scripted field with the same name means you won't be able to query both fields at the same time.",values:{mappingConflict:Object(o.jsx)("strong",null,Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.mappingConflictLabel.mappingConflictLabel",defaultMessage:"Mapping Conflict:"})),fieldName:Object(o.jsx)(T.EuiCode,null,a.name)}})):null,isInvalid:n,error:n&&(i?y.i18n.translate("indexPatternManagement.starCharacterNotAllowedValidationErrorMessage",{defaultMessage:"The field cannot have * in the name."}):y.i18n.translate("indexPatternManagement.nameErrorMessage",{defaultMessage:"Name is required"}))},Object(o.jsx)(T.EuiFieldText,{value:a.name||"",placeholder:y.i18n.translate("indexPatternManagement.namePlaceholder",{defaultMessage:"New scripted field"}),"data-test-subj":"editorFieldName",onChange:e=>{this.onFieldChange("name",e.target.value)},isInvalid:n})):null}renderLanguage(){const{spec:e,scriptingLangs:t,isDeprecatedLang:a}=this.state;return e.scripted?Object(o.jsx)(T.EuiFormRow,{label:y.i18n.translate("indexPatternManagement.languageLabel",{defaultMessage:"Language"}),helpText:a?Object(o.jsx)("span",null,Object(o.jsx)(T.EuiIcon,{type:"warning",color:"warning",size:"s"})," ",Object(o.jsx)("strong",null,Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.warningHeader",defaultMessage:"Deprecation Warning:"}))," ",Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.warningLabel.warningDetail",defaultMessage:"{language} is deprecated and support will be removed in the next major version of Kibana and Elasticsearch. We recommend using {painlessLink} for new scripted fields.",values:{language:Object(o.jsx)(T.EuiCode,null,e.lang),painlessLink:Object(o.jsx)(T.EuiLink,{target:"_blank",href:this.context.services.docLinks.links.scriptedFields.painless},Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.warningLabel.painlessLinkLabel",defaultMessage:"Painless"}))}})):null},Object(o.jsx)(T.EuiSelect,{value:e.lang,options:t.map((e=>({value:e,text:e}))),"data-test-subj":"editorFieldLang",onChange:e=>{this.onLangChange(e.target.value)}})):null}renderType(){const{spec:e,fieldTypes:t}=this.state;return Object(o.jsx)(T.EuiFormRow,{label:y.i18n.translate("indexPatternManagement.typeLabel",{defaultMessage:"Type"})},Object(o.jsx)(T.EuiSelect,{value:e.type,disabled:!e.scripted,options:t.map((e=>({value:e,text:e}))),"data-test-subj":"editorFieldType",onChange:e=>{this.onTypeChange(e.target.value)}}))}renderCustomLabel(){const{customLabel:e,spec:t}=this.state;return Object(o.jsx)(T.EuiFormRow,{label:y.i18n.translate("indexPatternManagement.customLabel",{defaultMessage:"Custom label"}),helpText:Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.labelHelpText",defaultMessage:"Set a custom label to use when this field is displayed in Discover, Maps, and Visualize. Queries and filters don't currently support a custom label and will use the original field name."})},Object(o.jsx)(T.EuiFieldText,{value:e||"",placeholder:t.name,"data-test-subj":"editorFieldCustomLabel",onChange:e=>{this.setState({customLabel:e.target.value})}}))}renderTypeConflict(){const{spec:e}=this.state;if(!e.conflictDescriptions||"object"!=typeof e.conflictDescriptions)return null;const t=[{field:"type",name:y.i18n.translate("indexPatternManagement.typeLabel",{defaultMessage:"Type"}),width:"100px"},{field:"indices",name:y.i18n.translate("indexPatternManagement.indexNameLabel",{defaultMessage:"Index names"})}],a=Object.entries(e.conflictDescriptions).map((([e,t])=>({type:e,indices:Array.isArray(t)?t.join(", "):"Index names unavailable"})));return Object(o.jsx)("div",null,Object(o.jsx)(T.EuiSpacer,{size:"m"}),Object(o.jsx)(T.EuiCallOut,{color:"warning",iconType:"warning",title:Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.fieldTypeConflict",defaultMessage:"Field type conflict"}),size:"s"},Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.multiTypeLabelDesc",defaultMessage:"The type of this field changes across indices. It is unavailable for many analysis functions. The indices per type are as follows:"})),Object(o.jsx)(T.EuiSpacer,{size:"m"}),Object(o.jsx)(T.EuiBasicTable,{items:a,columns:t}),Object(o.jsx)(T.EuiSpacer,{size:"m"}))}renderFormat(){const{spec:e,fieldTypeFormats:t,fieldFormatId:a,fieldFormatParams:n,format:s}=this.state,{fieldFormatEditors:r}=this.context.services,l=t[0].defaultFieldFormat.title,d=l?Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.defaultFormatHeader",defaultMessage:"Format (Default: {defaultFormat})",values:{defaultFormat:Object(o.jsx)(T.EuiCode,null,l)}}):Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.formatHeader",defaultMessage:"Format"});return Object(o.jsx)(i.Fragment,null,Object(o.jsx)(T.EuiFormRow,{label:d,helpText:Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.formatLabel",defaultMessage:"Formatting controls how values are displayed. Changing this setting might also affect the field value and highlighting in Discover."})},Object(o.jsx)(T.EuiSelect,{value:a,options:t.map((e=>({value:e.id||"",text:e.title}))),"data-test-subj":"editorSelectedFormatId",onChange:e=>{this.onFormatChange(e.target.value)}})),a?Object(o.jsx)(field_format_editor_FieldFormatEditor,{fieldType:e.type,fieldFormat:s,fieldFormatId:a,fieldFormatParams:n||{},fieldFormatEditors:r,onChange:this.onFormatParamsChange,onError:this.onFormatParamsError}):null)}renderPopularity(){const{spec:e}=this.state;return Object(o.jsx)(T.EuiFormRow,{label:y.i18n.translate("indexPatternManagement.popularityLabel",{defaultMessage:"Popularity",description:'"Popularity" refers to Kibana\'s measurement how popular a field is (i.e. how commonly it is used).'})},Object(o.jsx)(T.EuiFieldNumber,{value:e.count,"data-test-subj":"editorFieldCount",onChange:e=>{this.onFieldChange("count",e.target.value?Number(e.target.value):"")}}))}renderScript(){var e;const{spec:t,hasScriptError:a}=this.state,n=!t.script||!t.script.trim()||a,s=a?Object(o.jsx)("span",{"data-test-subj":"invalidScriptError"},Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.scriptInvalidErrorMessage",defaultMessage:"Script is invalid. View script preview for details"})):Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.scriptRequiredErrorMessage",defaultMessage:"Script is required"});return t.scripted?Object(o.jsx)(i.Fragment,null,Object(o.jsx)(T.EuiFormRow,{fullWidth:!0,label:y.i18n.translate("indexPatternManagement.scriptLabel",{defaultMessage:"Script"}),isInvalid:n,error:n?s:null},Object(o.jsx)(qt.CodeEditor,{languageId:Wt.PainlessLang.ID,width:"100%",height:"300px",value:null!==(e=t.script)&&void 0!==e?e:"",onChange:this.onScriptChange,"data-test-subj":"editorFieldScript","aria-label":y.i18n.translate("indexPatternManagement.scriptLabelAriaLabel",{defaultMessage:"Script editor"})})),Object(o.jsx)(T.EuiFormRow,null,Object(o.jsx)(i.Fragment,null,Object(o.jsx)(T.EuiText,null,Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.script.accessWithLabel",defaultMessage:"Access fields with {code}.",values:{code:Object(o.jsx)("code",null,"doc['some_field'].value")}})),Object(o.jsx)("br",null),Object(o.jsx)(T.EuiLink,{onClick:this.showScriptingHelp,"data-test-subj":"scriptedFieldsHelpLink"},Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.script.getHelpLabel",defaultMessage:"Get help with the syntax and preview the results of your script."}))))):null}renderActions(){const{isCreating:e,spec:t,isSaving:a}=this.state,{redirectAway:i}=this.props.services;return Object(o.jsx)(T.EuiFormRow,null,Object(o.jsx)(T.EuiFlexGroup,null,Object(o.jsx)(T.EuiFlexItem,{grow:!1},Object(o.jsx)(T.EuiButton,{fill:!0,onClick:this.saveField,isDisabled:this.isSavingDisabled(),isLoading:a,"data-test-subj":"fieldSaveButton"},e?Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.actions.createButton",defaultMessage:"Create field"}):Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.actions.saveButton",defaultMessage:"Save field"}))),Object(o.jsx)(T.EuiFlexItem,{grow:!1},Object(o.jsx)(T.EuiButtonEmpty,{onClick:i,"data-test-subj":"fieldCancelButton"},Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.actions.cancelButton",defaultMessage:"Cancel"}))),!e&&t.scripted?Object(o.jsx)(T.EuiFlexItem,null,Object(o.jsx)(T.EuiFlexGroup,{justifyContent:"flexEnd"},Object(o.jsx)(T.EuiFlexItem,{grow:!1},Object(o.jsx)(T.EuiButtonEmpty,{color:"danger",onClick:this.showDeleteModal},Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.actions.deleteButton",defaultMessage:"Delete"}))))):null))}isSavingDisabled(){const{spec:e,hasFormatError:t,hasScriptError:a}=this.state;return!(!t&&!a&&e.name&&e.name.trim()&&(!e.scripted||e.script&&e.script.trim()))}render(){const{isReady:e,isCreating:t,spec:a}=this.state;return e?Object(o.jsx)(z.I18nProvider,null,Object(o.jsx)(T.EuiText,null,Object(o.jsx)("h3",null,t?Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.createHeader",defaultMessage:"Create scripted field"}):Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.editHeader",defaultMessage:"Edit {fieldName}",values:{fieldName:a.name}}))),Object(o.jsx)(T.EuiSpacer,{size:"m"}),Object(o.jsx)(T.EuiForm,null,this.renderScriptingPanels(),this.renderName(),this.renderCustomLabel(),this.renderLanguage(),this.renderType(),this.renderTypeConflict(),this.renderFormat(),this.renderPopularity(),this.renderScript(),this.renderActions(),this.renderDeleteModal()),Object(o.jsx)(T.EuiSpacer,{size:"l"})):null}}ie()(field_editor_FieldEditor,"contextType",U.context);const ca=y.i18n.translate("indexPatternManagement.editIndexPattern.scripted.newFieldPlaceholder",{defaultMessage:"New Scripted Field"}),ua=Object(l.withRouter)((({indexPattern:e,mode:t,fieldName:a,history:i})=>{var s;const{uiSettings:r,chrome:l,notifications:d,dataViews:c}=Object(U.useKibana)().services,u="edit"===t&&a?null===(s=e.fields.getByName(a))||void 0===s?void 0:s.spec:{scripted:!0,type:"number",name:void 0},p=`/dataView/${e.id}`;if("edit"===t&&!u){const t=y.i18n.translate("indexPatternManagement.editDataView.scripted.noFieldLabel",{defaultMessage:"''{dataViewTitle}'' data view doesn't have a scripted field called ''{fieldName}''",values:{dataViewTitle:e.title,fieldName:a}});d.toasts.addWarning(t),i.push(p)}const m=(null==u?void 0:u.name)||ca;l.docTitle.change([m,e.getName()]);return u?Object(o.jsx)(n.a.Fragment,null,Object(o.jsx)(At,{indexPattern:e,defaultIndex:r.get("defaultIndex"),canSave:c.getCanSaveSync()}),Object(o.jsx)(T.EuiSpacer,{size:"l"}),Object(o.jsx)(field_editor_FieldEditor,{indexPattern:e,spec:u,services:{indexPatternService:c,redirectAway:()=>{i.push(`${p}#/?_a=(tab:${null!=u&&u.scripted?Z:Q})`)}}})):Object(o.jsx)(n.a.Fragment,null)})),pa=Object(l.withRouter)((({...e})=>{const{setBreadcrumbs:t,dataViews:a}=Object(U.useKibana)().services,[s,r]=Object(i.useState)(),l=e.match.params.fieldName&&decodeURIComponent(e.match.params.fieldName);return Object(i.useEffect)((()=>{a.get(e.match.params.id).then((e=>{r(e),e&&t(l?function(e,t){return[...q(e,!0),{text:t}]}(e,l):function(e){return[...q(e,!0),{text:y.i18n.translate("indexPatternManagement.indexPatterns.createFieldBreadcrumb",{defaultMessage:"Create field"})}]}(e))}))}),[e.match.params.id,l,t,a]),s?Object(o.jsx)(ua,{indexPattern:s,mode:l?"edit":"create",fieldName:l}):Object(o.jsx)(n.a.Fragment,null)}));var ma=a(17);const ba={isLoadingDataViews:!1,isLoadingHasData:!0,hasDataView:!1,hasEsData:!1,dataViews:[]},ga=e=>e.dataViews,ja=e=>e.hasDataView,xa=e=>e.hasEsData,fa=e=>e.isLoadingDataViews,ha=e=>e.isLoadingHasData;class data_view_table_controller_DataViewTableController{constructor({services:{dataViews:e},config:{defaultDataView:t}}){ie()(this,"state",{...ba}),ie()(this,"state$",new ma.BehaviorSubject(this.state)),ie()(this,"dataViews",void 0),ie()(this,"defaultDataView",void 0),ie()(this,"isLoadingIndexPatterns$",void 0),ie()(this,"indexPatterns$",void 0),ie()(this,"isLoadingDataState$",void 0),ie()(this,"hasDataView$",void 0),ie()(this,"hasESData$",void 0),ie()(this,"updateState",(e=>{this.state={...this.state,...e},this.state$.next(this.state)})),ie()(this,"loadHasData",(async()=>{const e=this.dataViews.hasData.hasDataView().then((e=>{this.updateState({hasDataView:e})})),t=this.dataViews.hasData.hasESData().then((e=>{this.updateState({hasEsData:e})}));return Promise.all([e,t]).then((()=>{this.updateState({isLoadingHasData:!1})}))})),ie()(this,"getDataViews",(async()=>{this.updateState({isLoadingDataViews:!0});const e=await async function(e,t){return(await t.getIdsWithTitle(!0)).map((a=>{const{id:i,title:n,namespaces:s,name:r}=a,l=e===i,d=ut(a,l,t.getRollupsEnabled()),o=r||n;return{id:i,namespaces:s,title:n,name:r,default:l,tags:d,sort:`${l?"0":"1"}${o}`,getName:()=>o}})).sort(((e,t)=>e.sort<t.sort?-1:e.sort>t.sort?1:0))||[]}(this.defaultDataView,this.dataViews);this.updateState({dataViews:e,isLoadingDataViews:!1})})),ie()(this,"loadDataViews",(async()=>{const e=this.loadHasData(),t=this.getDataViews();return Promise.all([e,t])})),this.dataViews=e,this.defaultDataView=t;const a=(i=this.state$,(e,t)=>i.pipe(Object(ma.map)(e),Object(ma.distinctUntilChanged)(t)));var i;this.isLoadingIndexPatterns$=a(fa),this.indexPatterns$=a(ga,u.isEqual),this.isLoadingDataState$=a(ha),this.hasDataView$=a(ja),this.hasESData$=a(xa),this.loadDataViews()}}const Oa=y.i18n.translate("indexPatternManagement.dataViewTable.spaceCountAll",{defaultMessage:"all"}),ya=y.i18n.translate("indexPatternManagement.dataViewTable.dataViewColumnName",{defaultMessage:"Data view"}),Ma=y.i18n.translate("indexPatternManagement.dataViewTable.spacesColumnName",{defaultMessage:"Spaces"}),va=y.i18n.translate("indexPatternManagement.dataViewTable.tableTitle",{defaultMessage:"Data views selected for deletion"}),Fa=(e,t)=>{const a=[{field:"name",name:ya,sortable:!0}];return t&&a.push({field:"namespaces",name:Ma,sortable:!0,width:"100px",align:"right",render:e=>-1!==e.indexOf("*")?Oa:e.length}),e.forEach((e=>e.name=e.getName())),Object(o.jsx)("div",null,Object(o.jsx)(T.EuiCallOut,{color:"warning",iconType:"warning",title:"Data views are deleted from every space they are shared in."}),Object(o.jsx)(T.EuiSpacer,{size:"m"}),Object(o.jsx)("div",null,Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.dataViewTable.deleteConfirmSummary",defaultMessage:"You'll permanently delete {count, number} {count, plural, one {data view} other {data views}\n}.",values:{count:e.length}})),Object(o.jsx)(T.EuiSpacer,{size:"m"}),Object(o.jsx)(T.EuiBasicTable,{tableCaption:va,items:e,columns:a}))};var Pa=a(70);function Ea({href:e}){return Object(o.jsx)("dl",null,Object(o.jsx)(T.EuiTitle,{size:"xxs"},Object(o.jsx)("dt",{className:"eui-displayInline"},Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.noDataViewsPrompt.learnMore",defaultMessage:"Want to learn more?"})))," ",Object(o.jsx)("dd",{className:"eui-displayInline"},Object(o.jsx)(T.EuiLink,{href:e,target:"_blank",external:!0},Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.noDataViewsPrompt.readDocumentation",defaultMessage:"Read the docs"}))))}const wa=({addDataHref:e,docLink:t})=>{const i=y.i18n.translate("indexPatternManagement.addDataPrompt.addDataText",{defaultMessage:"Add data"}),s=Object(o.jsx)(T.EuiButton,{href:e,iconType:"plusInCircle",fill:!0,"data-test-subj":"createDataViewButton"},i),r=Object(o.jsx)("h2",null,Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.addDataPrompt.toCreateAddData",defaultMessage:"To create a data view, add your data to Elasticsearch"})),l=Object(o.jsx)("p",null,Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.addDataPrompt.dataViewExplanation",defaultMessage:"Data views identify the Elasticsearch data you want to explore. Once you add your data to Elasticsearch, you can point data views to one or more of the created indices, data streams, and index aliases. Add your data now to start searching."})),d=t?Object(o.jsx)(Ea,{href:t}):void 0,c=Object(Pa.a)(n.a.lazy((()=>a.e(2).then(a.bind(null,65)).then((({DataViewIllustration:e})=>({default:e}))))),Object(o.jsx)(T.EuiPanel,{color:"subdued",style:{width:226,height:206}}));return Object(o.jsx)(T.EuiEmptyPrompt,{"data-test-subj":"addDataPrompt",layout:"horizontal",css:Object(o.css)("max-width:",830,"px!important;flex-grow:0;",""),color:"subdued",actions:s,title:r,body:l,footer:d,icon:Object(o.jsx)(c,null)})};a(56);var Ta={name:"y1f223",styles:"margin:auto"};const Sa=({onRefresh:e,createAnyway:t,canSaveIndexPattern:a,addDataUrl:i,navigateToApp:n})=>{const s=Object(o.jsx)(T.EuiText,{color:"subdued",textAlign:"center",size:"xs"},Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.createDataView.emptyState.createAnywayTxt",defaultMessage:"You can also {link}",values:{link:Object(o.jsx)(T.EuiLink,{onClick:()=>t(),"data-test-subj":"createAnyway"},Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.createDataView.emptyState.createAnywayLink",defaultMessage:"create a data view against hidden, system or default indices."}))}}));return Object(o.jsx)(T.EuiPanel,{className:"inpEmptyState","data-test-subj":"indexPatternEmptyState",color:"subdued",hasShadow:!1,paddingSize:"xl",css:Ta},Object(o.jsx)(T.EuiPageHeader,null,Object(o.jsx)(T.EuiTitle,null,Object(o.jsx)("h2",null,Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.createDataView.emptyState.noDataTitle",defaultMessage:"Ready to try Kibana? First, you need data."})))),Object(o.jsx)(T.EuiSpacer,{size:"xl"}),Object(o.jsx)("div",null,Object(o.jsx)(T.EuiFlexGrid,{className:"inpEmptyState__cardGrid",columns:3,responsive:!0},Object(o.jsx)(T.EuiFlexItem,null,Object(o.jsx)(T.EuiCard,{className:"inpEmptyState__card",onClick:()=>{n("integrations",{path:"/browse"})},icon:Object(o.jsx)(T.EuiIcon,{size:"xl",type:"database",color:"subdued"}),title:Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.createDataView.emptyState.integrationCardTitle",defaultMessage:"Add integration"}),description:Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.createDataView.emptyState.integrationCardDescription",defaultMessage:"Add data from a variety of sources."})})),Object(o.jsx)(T.EuiFlexItem,null,Object(o.jsx)(T.EuiCard,{onClick:()=>n("home",{path:"#/tutorial_directory/fileDataViz"}),className:"inpEmptyState__card",icon:Object(o.jsx)(T.EuiIcon,{size:"xl",type:"document",color:"subdued"}),title:Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.createDataView.emptyState.uploadCardTitle",defaultMessage:"Upload a file"}),description:Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.createDataView.emptyState.uploadCardDescription",defaultMessage:"Import a CSV, NDJSON, or log file."})})),Object(o.jsx)(T.EuiFlexItem,null,Object(o.jsx)(T.EuiCard,{className:"inpEmptyState__card",onClick:()=>{n("home",{path:"#/tutorial_directory/sampleData"})},icon:Object(o.jsx)(T.EuiIcon,{size:"xl",type:"heatmap",color:"subdued"}),title:Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.createDataView.emptyState.sampleDataCardTitle",defaultMessage:"Add sample data"}),description:Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.createDataView.emptyState.sampleDataCardDescription",defaultMessage:"Load a data set and a Kibana dashboard."})}))),Object(o.jsx)(T.EuiSpacer,{size:"xxl"}),Object(o.jsx)("div",{className:"inpEmptyState__footer"},Object(o.jsx)(T.EuiFlexGroup,{justifyContent:"center"},Object(o.jsx)(T.EuiFlexItem,{grow:!1,className:"inpEmptyState__footerFlexItem"},Object(o.jsx)(T.EuiDescriptionList,{listItems:[{title:Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.createDataView.emptyState.learnMore",defaultMessage:"Want to learn more?"}),description:Object(o.jsx)(T.EuiLink,{href:i,target:"_blank",external:!0},Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.createDataView.emptyState.readDocs",defaultMessage:"Read documentation"}))}]})),Object(o.jsx)(T.EuiFlexItem,{grow:!1,className:"inpEmptyState__footerFlexItem"},Object(o.jsx)(T.EuiDescriptionList,{listItems:[{title:Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.createDataView.emptyState.haveData",defaultMessage:"Think you already have data?"}),description:Object(o.jsx)(T.EuiLink,{onClick:e,"data-test-subj":"refreshIndicesButton"},Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.createDataView.emptyState.checkDataButton",defaultMessage:"Check for new data"})," ",Object(o.jsx)(T.EuiIcon,{type:"refresh",size:"s"}))}]}))),Object(o.jsx)(T.EuiSpacer,null),a&&s)))},Ca=({uiSettings:e,http:t,docLinks:a})=>{var n;const{hasApiKeys:s,error:r,isLoading:l}=null!==(n=P()(Object(i.useMemo)((()=>(({get:e})=>Object(ma.from)(e("/internal/security/api_key/_has_active")).pipe(Object(ma.map)((e=>({isLoading:!1,hasApiKeys:e.hasApiKeys,error:null}))),Object(ma.startWith)({isLoading:!0,hasApiKeys:null,error:null}),Object(ma.catchError)((e=>(console.error("Could not determine whether user has API keys:",e),Object(ma.of)({hasApiKeys:null,isLoading:!1,error:e}))))))(t)),[t])))&&void 0!==n?n:{};if(r)throw r;if(l)return Object(o.jsx)(T.EuiLoadingSpinner,null);const d=s?e.get("defaultRoute")+"#ingestData":e.get("defaultRoute");return Object(o.jsx)(wa,{addDataHref:d,docLink:a.links.indexPatterns.introduction})},Da=({noDataPage:e,docLinks:t,http:a,uiSettings:i,application:n,dataViewController:s,setShowCreateDialog:r})=>{var l;return"serverless_search"===(null!==(l=null==e?void 0:e.getAnalyticsNoDataPageFlavor())&&void 0!==l?l:"kibana")?Object(o.jsx)(Ca,{http:a,uiSettings:i,docLinks:t}):Object(o.jsx)(Sa,{onRefresh:s.loadDataViews,createAnyway:()=>r(!0),canSaveIndexPattern:!!n.capabilities.indexPatterns.save,navigateToApp:n.navigateToApp,addDataUrl:t.links.indexPatterns.introduction})},Ia=y.i18n.translate("indexPatternManagement.indexPatternTable.savedObjectName",{defaultMessage:"data view"}),_a=({spacesApi:e,capabilities:t,spaceIds:a,id:s,title:r,refresh:l})=>{const[d,c]=Object(i.useState)(!1),u=e.ui.components.getSpaceList,p=e.ui.components.getShareToSpaceFlyout,b={savedObjectTarget:{type:G.DATA_VIEW_SAVED_OBJECT_TYPE,namespaces:a,id:s,title:r,noun:Ia},onUpdate:l,onClose:function(){c(!1)}},g=!t||t.savedObjectsManagement.shareIntoSpace?{cursorStyle:"pointer",listOnClick:()=>c(!0)}:{cursorStyle:"not-allowed"};return Object(o.jsx)(n.a.Fragment,null,Object(o.jsx)(u,m()({namespaces:a,displayLimit:8,behaviorContext:"outside-space"},g)),d&&Object(o.jsx)(p,b))},La={initialPageSize:10,pageSizeOptions:[5,10,25,50]},ka={sort:{field:"title",direction:"asc"}},Na=y.i18n.translate("indexPatternManagement.dataViewTable.title",{defaultMessage:"Data Views"}),Aa=y.i18n.translate("indexPatternManagement.indexPatternTable.badge.securityDataViewTitle",{defaultMessage:"Security Data View"}),Va=({children:e})=>Object(o.jsx)(n.a.Fragment,null,e),Ra=Object(l.withRouter)((({history:e,canSave:t,showCreateDialog:a=!1})=>{const{setBreadcrumbs:s,http:r,uiSettings:d,application:c,chrome:u,dataViews:p,IndexPatternEditor:b,spaces:g,overlays:j,docLinks:x,noDataPage:f,...h}=Object(U.useKibana)().services,[O,M]=Object(i.useState)(""),[v,F]=Object(i.useState)(a),[E,w]=Object(i.useState)([]),[S]=Object(i.useState)((()=>new data_view_table_controller_DataViewTableController({services:{dataViews:p},config:{defaultDataView:d.get("defaultIndex")}}))),C=P()(S.isLoadingIndexPatterns$,ba.isLoadingDataViews),D=P()(S.indexPatterns$,ba.dataViews),I=P()(S.isLoadingDataState$,ba.isLoadingHasData),_=P()(S.hasDataView$,ba.hasDataView),L=P()(S.hasESData$,ba.hasEsData),k=(()=>{const e=Bt({dataViews:p,overlays:j,uiSettings:d,onDelete:()=>{w([]),S.loadDataViews()},startServices:h});if(0!==E.length)return Object(o.jsx)(T.EuiButton,{color:"danger",iconType:"trash","data-test-subj":"delete-data-views-button",onClick:()=>e(E,Fa(E,!!g))},Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.dataViewTable.deleteButtonLabel",defaultMessage:"Delete {selectedItems, number} {selectedItems, plural, one {Data View} other {Data Views}\n}",values:{selectedItems:E.length}}))})(),N={toolsLeft:k&&[k],query:O,onChange:({queryText:e,error:t})=>{t||M(e)},box:{incremental:!0,schema:{fields:{title:{type:"string"}}}}};s(W()),u.docTitle.change(Na);const A=new URLSearchParams(Object(l.useLocation)().search).get("type")===G.DataViewType.ROLLUP&&p.getRollupsEnabled(),V=Object(i.useMemo)((()=>g?g.ui.components.getSpacesContextProvider:Va),[g]),R=Bt({dataViews:p,uiSettings:d,overlays:j,onDelete:()=>S.loadDataViews(),startServices:h}),B={name:"Actions",field:"id",width:"10%",actions:[{name:y.i18n.translate("indexPatternManagement.dataViewTable.columnDelete",{defaultMessage:"Delete"}),description:y.i18n.translate("indexPatternManagement.dataViewTable.columnDeleteDescription",{defaultMessage:"Delete this data view"}),icon:"trash",color:"danger",type:"icon",onClick:e=>R([e],Fa([e],!!g)),isPrimary:!0,"data-test-subj":"action-delete"}]},K=[{field:"title",name:y.i18n.translate("indexPatternManagement.dataViewTable.nameColumn",{defaultMessage:"Name"}),width:g?"70%":"90%",render:(t,a)=>{var i,s;return Object(o.jsx)("div",null,Object(o.jsx)(T.EuiLink,m()({},Object(U.reactRouterNavigate)(e,`patterns/${a.id}`),{"data-test-subj":`detail-link-${a.getName()}`}),a.getName(),a.name?Object(o.jsx)(n.a.Fragment,null," ",Object(o.jsx)(T.EuiIconTip,{type:"iInCircle",color:"text","aria-label":a.title,content:a.title})):null),0===(null==a||null===(i=a.id)||void 0===i?void 0:i.indexOf("security-solution"))&&Object(o.jsx)(n.a.Fragment,null," ",Object(o.jsx)(T.EuiBadge,null,Aa)),null==a||null===(s=a.tags)||void 0===s?void 0:s.map((({key:e,name:t})=>Object(o.jsx)("span",{key:e}," ",e===G.DataViewType.ROLLUP?Object(o.jsx)($,null,Object(o.jsx)(T.EuiBadge,{color:"warning"},t)):Object(o.jsx)(T.EuiBadge,null,t)))))},dataType:"string",sortable:({sort:e})=>e}];g&&K.push({field:"namespaces",name:y.i18n.translate("indexPatternManagement.dataViewTable.spacesColumn",{defaultMessage:"Spaces"}),width:"20%",render:(e,t)=>g?Object(o.jsx)(_a,{spacesApi:g,capabilities:null==c?void 0:c.capabilities,spaceIds:t.namespaces||[],id:t.id,title:t.title,refresh:()=>{p.clearInstanceCache(t.id),S.loadDataViews()}}):Object(o.jsx)(n.a.Fragment,null)}),p.getCanSaveSync()&&K.push(B);const q=t?Object(o.jsx)(T.EuiButton,{fill:!0,iconType:"plusInCircle",onClick:()=>F(!0),"data-test-subj":"createDataViewButton"},Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.dataViewTable.createBtn",defaultMessage:"Create data view"})):Object(o.jsx)(n.a.Fragment,null);if(C)return Object(o.jsx)(n.a.Fragment,null);const Y=v?Object(o.jsx)(b,{onSave:t=>{e.push(`patterns/${t.id}`)},onCancel:()=>F(!1),defaultTypeIsRollup:A}):Object(o.jsx)(n.a.Fragment,null),J={onSelectionChange:w};let X=Object(o.jsx)(n.a.Fragment,null,Object(o.jsx)(T.EuiPageHeader,{pageTitle:Na,description:Object(o.jsx)(z.FormattedMessage,{id:"indexPatternManagement.dataViewTable.indexPatternExplanation",defaultMessage:"Create and manage the data views that help you retrieve your data from Elasticsearch."}),bottomBorder:!0,rightSideItems:[q]}),Object(o.jsx)(T.EuiSpacer,{size:"l"}),Object(o.jsx)(V,null,Object(o.jsx)(T.EuiInMemoryTable,{allowNeutralSort:!1,itemId:"id",items:D,columns:K,pagination:La,sorting:ka,search:N,selection:p.getCanSaveSync()?J:void 0})));return _||(X=Object(o.jsx)(n.a.Fragment,null,Object(o.jsx)(T.EuiSpacer,{size:"xxl"}),Object(o.jsx)(H.a,{onClickCreate:()=>F(!0),canCreateNewDataView:c.capabilities.indexPatterns.save,dataViewsDocLink:x.links.indexPatterns.introduction,emptyPromptColor:"subdued"}))),_||L||(X=Object(o.jsx)(n.a.Fragment,null,Object(o.jsx)(T.EuiSpacer,{size:"xxl"}),Object(o.jsx)(Da,{noDataPage:f,docLinks:x,uiSettings:d,http:r,application:c,dataViewController:S,setShowCreateDialog:F}))),Object(o.jsx)("div",{"data-test-subj":"indexPatternTable",role:"region","aria-label":Na},I?Object(o.jsx)("div",{style:{display:"flex",justifyContent:"center"}},Object(o.jsx)(T.EuiLoadingSpinner,{size:"xxl"})):X,Y)})),Ba={text:y.i18n.translate("indexPatternManagement.indexPatterns.badge.readOnly.text",{defaultMessage:"Read only"}),tooltip:y.i18n.translate("indexPatternManagement.dataViews.badge.readOnly.tooltip",{defaultMessage:"Unable to save data views"}),iconType:"glasses"};async function Ua(e,{noDataPage:t},a){const[{application:i,chrome:n,uiSettings:s,settings:d,notifications:u,overlays:p,http:m,docLinks:b,...g},{data:j,dataViewFieldEditor:x,dataViewEditor:h,dataViews:y,fieldFormats:M,unifiedSearch:v,spaces:F,savedObjectsManagement:P},E]=await e(),w=y.getCanSaveSync();w||n.setBadge(Ba);const T={application:i,chrome:n,uiSettings:s,settings:d,notifications:u,overlays:p,unifiedSearch:v,http:m,docLinks:b,data:j,dataViewFieldEditor:x,dataViews:y,indexPatternManagementStart:E,setBreadcrumbs:a.setBreadcrumbs,fieldFormatEditors:x.fieldFormatEditors,IndexPatternEditor:h.IndexPatternEditorComponent,fieldFormats:M,spaces:null!=F&&F.hasOnlyDefaultSpace?void 0:F,savedObjectsManagement:P,noDataPage:t,...g},S="/dataView/:id/field/:fieldName",C=y.scriptedFieldsEnabled?[S,"/dataView/:id/create-field/"]:[S];return r.a.render(Object(o.jsx)(B,g,Object(o.jsx)(U.KibanaContextProvider,{services:T},Object(o.jsx)(c,{history:a.history},Object(o.jsx)(O,null,Object(o.jsx)(f,{path:["/create"]},Object(o.jsx)(Ra,{canSave:w,showCreateDialog:!0})),Object(o.jsx)(f,{path:C},Object(o.jsx)(pa,null)),Object(o.jsx)(f,{path:["/dataView/:id"]},Object(o.jsx)($t,null)),Object(o.jsx)(l.Redirect,{path:"/patterns*",to:"dataView*"}),Object(o.jsx)(f,{path:["/"]},Object(o.jsx)(Ra,{canSave:w})))))),a.element),()=>{n.docTitle.reset(),r.a.unmountComponentAtNode(a.element)}}},31:function(e,t,a){e.exports=a(18)(2)},32:function(e,t,a){e.exports=a(18)(4)},35:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(15),n=a(5),s=i.__importDefault(a(54));t.default=function(e,t){var a=n.useState(t),i=a[0],r=a[1];return s.default((function(){var t=e.subscribe(r);return function(){return t.unsubscribe()}}),[e]),i}},49:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var i=a(5),n=a.n(i),s=a(6),r=a(7),l=a(8),d=a(70);function o({href:e}){return Object(s.jsx)("dl",null,Object(s.jsx)(r.EuiTitle,{size:"xxs"},Object(s.jsx)("dt",{className:"eui-displayInline"},Object(s.jsx)(l.FormattedMessage,{id:"sharedUXPackages.noDataViewsPrompt.learnMore",defaultMessage:"Want to learn more?"})))," ",Object(s.jsx)("dd",{className:"eui-displayInline"},Object(s.jsx)(r.EuiLink,{href:e,target:"_blank",external:!0},Object(s.jsx)(l.FormattedMessage,{id:"sharedUXPackages.noDataViewsPrompt.readDocumentation",defaultMessage:"Read the docs"}))))}const c=a(0).i18n.translate("sharedUXPackages.noDataViewsPrompt.addDataViewText",{defaultMessage:"Create data view"}),u=({onClickCreate:e,canCreateNewDataView:t,onTryESQL:a,esqlDocLink:i})=>a||t?Object(s.jsx)(n.a.Fragment,null,t&&Object(s.jsx)(r.EuiButton,{onClick:e,iconType:"plusInCircle",fill:!0,"data-test-subj":"createDataViewButton"},c),t&&a&&Object(s.jsx)(r.EuiSpacer,null),a&&Object(s.jsx)(r.EuiText,{size:"xs",color:"subdued"},Object(s.jsx)(l.FormattedMessage,{id:"sharedUXPackages.no_data_views.esqlMessage",defaultMessage:"Alternatively, you can query your data directly using ES|QL. {docsLink}",values:{docsLink:i&&Object(s.jsx)(r.EuiLink,{href:i,target:"_blank"},Object(s.jsx)(l.FormattedMessage,{id:"sharedUXPackages.no_data_views.esqlDocsLink",defaultMessage:"Learn more."}))}}),Object(s.jsx)(r.EuiSpacer,{size:"s"}),Object(s.jsx)(r.EuiButton,{color:"success",onClick:a,size:"s","data-test-subj":"tryESQLLink"},Object(s.jsx)(l.FormattedMessage,{id:"sharedUXPackages.no_data_views.esqlButtonLabel",defaultMessage:"Language: ES|QL"})))):null,p=({onClickCreate:e,canCreateNewDataView:t,dataViewsDocLink:i,onTryESQL:c,esqlDocLink:p,emptyPromptColor:m="plain"})=>{const b=t?Object(s.jsx)("h2",null,Object(s.jsx)(l.FormattedMessage,{id:"sharedUXPackages.noDataViewsPrompt.youHaveData",defaultMessage:"You have data in Elasticsearch."}),Object(s.jsx)("br",null),Object(s.jsx)(l.FormattedMessage,{id:"sharedUXPackages.noDataViewsPrompt.nowCreate",defaultMessage:"Now, create a data view."})):Object(s.jsx)("h2",null,Object(s.jsx)(l.FormattedMessage,{id:"sharedUXPackages.noDataViewsPrompt.noPermission.title",defaultMessage:"You need permission to create data views"})),g=t?Object(s.jsx)("p",null,Object(s.jsx)(l.FormattedMessage,{id:"sharedUXPackages.noDataViewsPrompt.dataViewExplanation",defaultMessage:"Data views identify the Elasticsearch data you want to explore. You can point data views to one or more data streams, indices, and index aliases, such as your log data from yesterday, or all indices that contain your log data."})):Object(s.jsx)("p",null,Object(s.jsx)(l.FormattedMessage,{id:"sharedUXPackages.noDataViewsPrompt.noPermission.dataViewExplanation",defaultMessage:"Data views identify the Elasticsearch data that you want to explore. To create data views, ask your administrator for the required permissions."})),j=i?Object(s.jsx)(o,{href:i}):void 0,x=Object(d.a)(n.a.lazy((()=>a.e(3).then(a.bind(null,36)).then((({DataViewIllustration:e})=>({default:e}))))),Object(s.jsx)(r.EuiPanel,{color:"subdued",style:{width:226,height:206}})),f=Object(s.jsx)(x,null),h=Object(s.jsx)(u,{onClickCreate:e,canCreateNewDataView:t,onTryESQL:c,esqlDocLink:p});return Object(s.jsx)(r.EuiEmptyPrompt,{"data-test-subj":"noDataViewsPrompt",layout:"horizontal",css:Object(s.css)("max-width:",830,"px!important;flex-grow:0;",""),color:m,actions:h,icon:f,title:b,body:g,footer:j})}},51:function(e,t,a){"use strict";var i,n=function(){var e={};return function(t){if(void 0===e[t]){var a=document.querySelector(t);if(window.HTMLIFrameElement&&a instanceof window.HTMLIFrameElement)try{a=a.contentDocument.head}catch(e){a=null}e[t]=a}return e[t]}}(),s=[];function r(e){for(var t=-1,a=0;a<s.length;a++)if(s[a].identifier===e){t=a;break}return t}function l(e,t){for(var a={},i=[],n=0;n<e.length;n++){var l=e[n],d=t.base?l[0]+t.base:l[0],o=a[d]||0,c="".concat(d," ").concat(o);a[d]=o+1;var u=r(c),p={css:l[1],media:l[2],sourceMap:l[3]};-1!==u?(s[u].references++,s[u].updater(p)):s.push({identifier:c,updater:g(p,t),references:1}),i.push(c)}return i}function d(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0===i.nonce){var s=a.nc;s&&(i.nonce=s)}if(Object.keys(i).forEach((function(e){t.setAttribute(e,i[e])})),"function"==typeof e.insert)e.insert(t);else{var r=n(e.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}return t}var o,c=(o=[],function(e,t){return o[e]=t,o.filter(Boolean).join("\n")});function u(e,t,a,i){var n=a?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(e.styleSheet)e.styleSheet.cssText=c(t,n);else{var s=document.createTextNode(n),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(s,r[t]):e.appendChild(s)}}function p(e,t,a){var i=a.css,n=a.media,s=a.sourceMap;if(n?e.setAttribute("media",n):e.removeAttribute("media"),s&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var m=null,b=0;function g(e,t){var a,i,n;if(t.singleton){var s=b++;a=m||(m=d(t)),i=u.bind(null,a,s,!1),n=u.bind(null,a,s,!0)}else a=d(t),i=p.bind(null,a,t),n=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(a)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else n()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i));var a=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var i=0;i<a.length;i++){var n=r(a[i]);s[n].references--}for(var d=l(e,t),o=0;o<a.length;o++){var c=r(a[o]);0===s[c].references&&(s[c].updater(),s.splice(c,1))}a=d}}}},52:function(e,t,a){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var a=function(e,t){var a,i,n,s=e[1]||"",r=e[3];if(!r)return s;if(t&&"function"==typeof btoa){var l=(a=r,i=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),n="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),"/*# ".concat(n," */")),d=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[s].concat(d).concat([l]).join("\n")}return[s].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(a,"}"):a})).join("")},t.i=function(e,a,i){"string"==typeof e&&(e=[[null,e,""]]);var n={};if(i)for(var s=0;s<this.length;s++){var r=this[s][0];null!=r&&(n[r]=!0)}for(var l=0;l<e.length;l++){var d=[].concat(e[l]);i&&n[d[0]]||(a&&(d[2]?d[2]="".concat(a," and ").concat(d[2]):d[2]=a),t.push(d))}},t}},54:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(5),n="undefined"!=typeof window?i.useLayoutEffect:i.useEffect;t.default=n},55:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setEuiDevProviderWarning=t.getEuiDevProviderWarning=t.emitEuiProviderWarning=void 0;var i=void 0;t.setEuiDevProviderWarning=function(e){return i=e},t.getEuiDevProviderWarning=function(){return i},t.emitEuiProviderWarning=function(e){if("function"==typeof i)return i(e);switch(i){case"log":console.log(e);break;case"warn":console.warn(e);break;case"error":throw new Error(e)}}},56:function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(57);case"v8light":return a(59)}},57:function(e,t,a){var i=a(51),n=a(58);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);i(n,{insert:"head",singleton:!1}),e.exports=n.locals||{}},58:function(e,t,a){(t=a(52)(!1)).push([e.i,".inpEmptyState__footer{background:#25262e;border-radius:0 0 6px 6px;margin:0 -24px -24px;padding:24px}@media only screen and (max-width:574px){.inpEmptyState__footer{text-align:center}}@media only screen and (min-width:575px)and (max-width:767px){.inpEmptyState__footer{text-align:center}}.inpEmptyState{max-width:760px!important}.inpEmptyState__cardGrid{justify-content:center}.inpEmptyState__card{min-width:192px}.inpEmptyState__footerFlexItem{min-width:224px}",""]),e.exports=t},59:function(e,t,a){var i=a(51),n=a(60);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);i(n,{insert:"head",singleton:!1}),e.exports=n.locals||{}},60:function(e,t,a){(t=a(52)(!1)).push([e.i,".inpEmptyState__footer{background:#f5f7fa;border-radius:0 0 6px 6px;margin:0 -24px -24px;padding:24px}@media only screen and (max-width:574px){.inpEmptyState__footer{text-align:center}}@media only screen and (min-width:575px)and (max-width:767px){.inpEmptyState__footer{text-align:center}}.inpEmptyState{max-width:760px!important}.inpEmptyState__cardGrid{justify-content:center}.inpEmptyState__card{min-width:192px}.inpEmptyState__footerFlexItem{min-width:224px}",""]),e.exports=t},61:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(15),n=a(62),s=i.__importDefault(a(64));t.default=function(e,t){s.default(e,t,n.isDeepEqual)}},62:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDeepEqual=t.off=t.on=t.isClient=void 0;var i=a(15).__importDefault(a(63));t.isClient="object"==typeof window,t.on=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return e.addEventListener.apply(e,t)},t.off=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return e.removeEventListener.apply(e,t)},t.isDeepEqual=i.default},63:function(e,t,a){"use strict";e.exports=function e(t,a){if(t===a)return!0;if(t&&a&&"object"==typeof t&&"object"==typeof a){if(t.constructor!==a.constructor)return!1;var i,n,s;if(Array.isArray(t)){if((i=t.length)!=a.length)return!1;for(n=i;0!=n--;)if(!e(t[n],a[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===a.source&&t.flags===a.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===a.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===a.toString();if((i=(s=Object.keys(t)).length)!==Object.keys(a).length)return!1;for(n=i;0!=n--;)if(!Object.prototype.hasOwnProperty.call(a,s[n]))return!1;for(n=i;0!=n--;){var r=s[n];if(!("_owner"===r&&t.$$typeof||e(t[r],a[r])))return!1}return!0}return t!=t&&a!=a}},64:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(5);t.default=function(e,t,a){var n=i.useRef(void 0);n.current&&a(t,n.current)||(n.current=t),i.useEffect(e,n.current)}},70:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var i=a(32),n=a.n(i),s=a(19),r=a(5),l=a.n(r),d=a(7),o=a(6),c={name:"1azakc",styles:"text-align:center"};const u=()=>{const e=c;return Object(o.jsx)("div",{css:e},Object(o.jsx)(d.EuiLoadingSpinner,null))},p=(e,t=Object(o.jsx)(u,null))=>l.a.forwardRef(((a,i)=>Object(o.jsx)(s.KibanaErrorBoundaryProvider,{analytics:a.analytics},Object(o.jsx)(s.KibanaErrorBoundary,null,Object(o.jsx)(r.Suspense,{fallback:t},Object(o.jsx)(e,n()({},a,{ref:i})))))))}}]);