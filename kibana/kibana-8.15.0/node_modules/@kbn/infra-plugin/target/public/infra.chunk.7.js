/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.infra_bundle_jsonpfunction=window.infra_bundle_jsonpfunction||[]).push([[7],{201:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(80),i=a(3),r=n.__importDefault(a(234));t.default=function(e,t,a){void 0===t&&(t=0),void 0===a&&(a=[]);var n=r.default(e,t),s=n[0],o=n[1],l=n[2];return i.useEffect(l,a),[s,o]}},233:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(40),i=a(1),r=a(3),s=a.n(r),o=a(116);const l=({options:e,onChange:t,errorOptions:a})=>{var l;const{metricsView:u}=Object(o.c)(),c=Object(r.useCallback)((e=>{const a=e.map((e=>e.label));t(a)}),[t]),d=Array.isArray(e.groupBy)?e.groupBy.map((e=>({label:e,color:null!=a&&a.includes(e)?"danger":void 0}))):e.groupBy?[{label:e.groupBy,color:null!=a&&a.includes(e.groupBy)?"danger":void 0}]:[],m=(null!==(l=null==u?void 0:u.fields)&&void 0!==l?l:[]).filter((e=>e.aggregatable&&"string"===e.type)).map((e=>({label:e.name})));return s.a.createElement(n.EuiComboBox,{"data-test-subj":"metricsExplorer-groupBy",placeholder:i.i18n.translate("xpack.infra.metricsExplorer.groupByLabel",{defaultMessage:"Everything"}),"aria-label":i.i18n.translate("xpack.infra.metricsExplorer.groupByAriaLabel",{defaultMessage:"Graph per"}),fullWidth:!0,singleSelection:!1,selectedOptions:d,options:m,onChange:c,isClearable:!0})}},234:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(3);t.default=function(e,t){void 0===t&&(t=0);var a=n.useRef(!1),i=n.useRef(),r=n.useRef(e),s=n.useCallback((function(){return a.current}),[]),o=n.useCallback((function(){a.current=!1,i.current&&clearTimeout(i.current),i.current=setTimeout((function(){a.current=!0,r.current()}),t)}),[t]),l=n.useCallback((function(){a.current=null,i.current&&clearTimeout(i.current)}),[]);return n.useEffect((function(){r.current=e}),[e]),n.useEffect((function(){return o(),l}),[t]),[s,l,o]}},235:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));const n=new RegExp("^([0-9\\.]*)\\s*("+["y","M","w","d","h","m","s","ms"].join("|")+")$"),i={ms:.001,s:1,m:60,h:3600,d:86400,w:604800,M:2592e3,y:30758400},r=e=>{const t=e.match(n);if(t)return parseFloat(t[1])*i[t[2]];throw new Error("Invalid interval string format.")}},309:function(e,t,a){"use strict";e.exports=a(508)},310:function(e,t,a){"use strict";e.exports=a(509)},314:function(e,t,a){e.exports=a.p+"2d015490d219c87a014c81f9555e556a.svg"},315:function(e,t,a){e.exports=a.p+"432a17d27c37a1b4467753dcc2332f12.svg"},316:function(e,t,a){e.exports=a.p+"8d3deaa318988ae73e799b48ff864cb3.svg"},317:function(e,t,a){e.exports=a.p+"c82e317671d73dcc4b62ca8bfdf1979c.svg"},318:function(e,t,a){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},319:function(e,t,a){const n=a(318),i={};for(const e of Object.keys(n))i[n[e]]=e;const r={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};e.exports=r;for(const e of Object.keys(r)){if(!("channels"in r[e]))throw new Error("missing channels property: "+e);if(!("labels"in r[e]))throw new Error("missing channel labels property: "+e);if(r[e].labels.length!==r[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:t,labels:a}=r[e];delete r[e].channels,delete r[e].labels,Object.defineProperty(r[e],"channels",{value:t}),Object.defineProperty(r[e],"labels",{value:a})}r.rgb.hsl=function(e){const t=e[0]/255,a=e[1]/255,n=e[2]/255,i=Math.min(t,a,n),r=Math.max(t,a,n),s=r-i;let o,l;r===i?o=0:t===r?o=(a-n)/s:a===r?o=2+(n-t)/s:n===r&&(o=4+(t-a)/s),o=Math.min(60*o,360),o<0&&(o+=360);const u=(i+r)/2;return l=r===i?0:u<=.5?s/(r+i):s/(2-r-i),[o,100*l,100*u]},r.rgb.hsv=function(e){let t,a,n,i,r;const s=e[0]/255,o=e[1]/255,l=e[2]/255,u=Math.max(s,o,l),c=u-Math.min(s,o,l),d=function(e){return(u-e)/6/c+.5};return 0===c?(i=0,r=0):(r=c/u,t=d(s),a=d(o),n=d(l),s===u?i=n-a:o===u?i=1/3+t-n:l===u&&(i=2/3+a-t),i<0?i+=1:i>1&&(i-=1)),[360*i,100*r,100*u]},r.rgb.hwb=function(e){const t=e[0],a=e[1];let n=e[2];const i=r.rgb.hsl(e)[0],s=1/255*Math.min(t,Math.min(a,n));return n=1-1/255*Math.max(t,Math.max(a,n)),[i,100*s,100*n]},r.rgb.cmyk=function(e){const t=e[0]/255,a=e[1]/255,n=e[2]/255,i=Math.min(1-t,1-a,1-n);return[100*((1-t-i)/(1-i)||0),100*((1-a-i)/(1-i)||0),100*((1-n-i)/(1-i)||0),100*i]},r.rgb.keyword=function(e){const t=i[e];if(t)return t;let a,r=1/0;for(const t of Object.keys(n)){const i=(o=n[t],((s=e)[0]-o[0])**2+(s[1]-o[1])**2+(s[2]-o[2])**2);i<r&&(r=i,a=t)}var s,o;return a},r.keyword.rgb=function(e){return n[e]},r.rgb.xyz=function(e){let t=e[0]/255,a=e[1]/255,n=e[2]/255;return t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,a=a>.04045?((a+.055)/1.055)**2.4:a/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,[100*(.4124*t+.3576*a+.1805*n),100*(.2126*t+.7152*a+.0722*n),100*(.0193*t+.1192*a+.9505*n)]},r.rgb.lab=function(e){const t=r.rgb.xyz(e);let a=t[0],n=t[1],i=t[2];return a/=95.047,n/=100,i/=108.883,a=a>.008856?a**(1/3):7.787*a+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116,[116*n-16,500*(a-n),200*(n-i)]},r.hsl.rgb=function(e){const t=e[0]/360,a=e[1]/100,n=e[2]/100;let i,r,s;if(0===a)return s=255*n,[s,s,s];i=n<.5?n*(1+a):n+a-n*a;const o=2*n-i,l=[0,0,0];for(let e=0;e<3;e++)r=t+1/3*-(e-1),r<0&&r++,r>1&&r--,s=6*r<1?o+6*(i-o)*r:2*r<1?i:3*r<2?o+(i-o)*(2/3-r)*6:o,l[e]=255*s;return l},r.hsl.hsv=function(e){const t=e[0];let a=e[1]/100,n=e[2]/100,i=a;const r=Math.max(n,.01);return n*=2,a*=n<=1?n:2-n,i*=r<=1?r:2-r,[t,100*(0===n?2*i/(r+i):2*a/(n+a)),(n+a)/2*100]},r.hsv.rgb=function(e){const t=e[0]/60,a=e[1]/100;let n=e[2]/100;const i=Math.floor(t)%6,r=t-Math.floor(t),s=255*n*(1-a),o=255*n*(1-a*r),l=255*n*(1-a*(1-r));switch(n*=255,i){case 0:return[n,l,s];case 1:return[o,n,s];case 2:return[s,n,l];case 3:return[s,o,n];case 4:return[l,s,n];case 5:return[n,s,o]}},r.hsv.hsl=function(e){const t=e[0],a=e[1]/100,n=e[2]/100,i=Math.max(n,.01);let r,s;s=(2-a)*n;const o=(2-a)*i;return r=a*i,r/=o<=1?o:2-o,r=r||0,s/=2,[t,100*r,100*s]},r.hwb.rgb=function(e){const t=e[0]/360;let a=e[1]/100,n=e[2]/100;const i=a+n;let r;i>1&&(a/=i,n/=i);const s=Math.floor(6*t),o=1-n;r=6*t-s,1&s&&(r=1-r);const l=a+r*(o-a);let u,c,d;switch(s){default:case 6:case 0:u=o,c=l,d=a;break;case 1:u=l,c=o,d=a;break;case 2:u=a,c=o,d=l;break;case 3:u=a,c=l,d=o;break;case 4:u=l,c=a,d=o;break;case 5:u=o,c=a,d=l}return[255*u,255*c,255*d]},r.cmyk.rgb=function(e){const t=e[0]/100,a=e[1]/100,n=e[2]/100,i=e[3]/100;return[255*(1-Math.min(1,t*(1-i)+i)),255*(1-Math.min(1,a*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i))]},r.xyz.rgb=function(e){const t=e[0]/100,a=e[1]/100,n=e[2]/100;let i,r,s;return i=3.2406*t+-1.5372*a+-.4986*n,r=-.9689*t+1.8758*a+.0415*n,s=.0557*t+-.204*a+1.057*n,i=i>.0031308?1.055*i**(1/2.4)-.055:12.92*i,r=r>.0031308?1.055*r**(1/2.4)-.055:12.92*r,s=s>.0031308?1.055*s**(1/2.4)-.055:12.92*s,i=Math.min(Math.max(0,i),1),r=Math.min(Math.max(0,r),1),s=Math.min(Math.max(0,s),1),[255*i,255*r,255*s]},r.xyz.lab=function(e){let t=e[0],a=e[1],n=e[2];return t/=95.047,a/=100,n/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,a=a>.008856?a**(1/3):7.787*a+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,[116*a-16,500*(t-a),200*(a-n)]},r.lab.xyz=function(e){let t,a,n;a=(e[0]+16)/116,t=e[1]/500+a,n=a-e[2]/200;const i=a**3,r=t**3,s=n**3;return a=i>.008856?i:(a-16/116)/7.787,t=r>.008856?r:(t-16/116)/7.787,n=s>.008856?s:(n-16/116)/7.787,t*=95.047,a*=100,n*=108.883,[t,a,n]},r.lab.lch=function(e){const t=e[0],a=e[1],n=e[2];let i;return i=360*Math.atan2(n,a)/2/Math.PI,i<0&&(i+=360),[t,Math.sqrt(a*a+n*n),i]},r.lch.lab=function(e){const t=e[0],a=e[1],n=e[2]/360*2*Math.PI;return[t,a*Math.cos(n),a*Math.sin(n)]},r.rgb.ansi16=function(e,t=null){const[a,n,i]=e;let s=null===t?r.rgb.hsv(e)[2]:t;if(s=Math.round(s/50),0===s)return 30;let o=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(a/255));return 2===s&&(o+=60),o},r.hsv.ansi16=function(e){return r.rgb.ansi16(r.hsv.rgb(e),e[2])},r.rgb.ansi256=function(e){const t=e[0],a=e[1],n=e[2];return t===a&&a===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(a/255*5)+Math.round(n/255*5)},r.ansi16.rgb=function(e){let t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const a=.5*(1+~~(e>50));return[(1&t)*a*255,(t>>1&1)*a*255,(t>>2&1)*a*255]},r.ansi256.rgb=function(e){if(e>=232){const t=10*(e-232)+8;return[t,t,t]}let t;return e-=16,[Math.floor(e/36)/5*255,Math.floor((t=e%36)/6)/5*255,t%6/5*255]},r.rgb.hex=function(e){const t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},r.hex.rgb=function(e){const t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let a=t[0];3===t[0].length&&(a=a.split("").map((e=>e+e)).join(""));const n=parseInt(a,16);return[n>>16&255,n>>8&255,255&n]},r.rgb.hcg=function(e){const t=e[0]/255,a=e[1]/255,n=e[2]/255,i=Math.max(Math.max(t,a),n),r=Math.min(Math.min(t,a),n),s=i-r;let o,l;return o=s<1?r/(1-s):0,l=s<=0?0:i===t?(a-n)/s%6:i===a?2+(n-t)/s:4+(t-a)/s,l/=6,l%=1,[360*l,100*s,100*o]},r.hsl.hcg=function(e){const t=e[1]/100,a=e[2]/100,n=a<.5?2*t*a:2*t*(1-a);let i=0;return n<1&&(i=(a-.5*n)/(1-n)),[e[0],100*n,100*i]},r.hsv.hcg=function(e){const t=e[1]/100,a=e[2]/100,n=t*a;let i=0;return n<1&&(i=(a-n)/(1-n)),[e[0],100*n,100*i]},r.hcg.rgb=function(e){const t=e[0]/360,a=e[1]/100,n=e[2]/100;if(0===a)return[255*n,255*n,255*n];const i=[0,0,0],r=t%1*6,s=r%1,o=1-s;let l=0;switch(Math.floor(r)){case 0:i[0]=1,i[1]=s,i[2]=0;break;case 1:i[0]=o,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=s;break;case 3:i[0]=0,i[1]=o,i[2]=1;break;case 4:i[0]=s,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=o}return l=(1-a)*n,[255*(a*i[0]+l),255*(a*i[1]+l),255*(a*i[2]+l)]},r.hcg.hsv=function(e){const t=e[1]/100,a=t+e[2]/100*(1-t);let n=0;return a>0&&(n=t/a),[e[0],100*n,100*a]},r.hcg.hsl=function(e){const t=e[1]/100,a=e[2]/100*(1-t)+.5*t;let n=0;return a>0&&a<.5?n=t/(2*a):a>=.5&&a<1&&(n=t/(2*(1-a))),[e[0],100*n,100*a]},r.hcg.hwb=function(e){const t=e[1]/100,a=t+e[2]/100*(1-t);return[e[0],100*(a-t),100*(1-a)]},r.hwb.hcg=function(e){const t=e[1]/100,a=1-e[2]/100,n=a-t;let i=0;return n<1&&(i=(a-n)/(1-n)),[e[0],100*n,100*i]},r.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},r.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},r.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},r.gray.hsl=function(e){return[0,0,e[0]]},r.gray.hsv=r.gray.hsl,r.gray.hwb=function(e){return[0,100,e[0]]},r.gray.cmyk=function(e){return[0,0,0,e[0]]},r.gray.lab=function(e){return[e[0],0,0]},r.gray.hex=function(e){const t=255&Math.round(e[0]/100*255),a=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(a.length)+a},r.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}},320:function(e,t,a){var n=a(558),i=a(559);e.exports=function(e,t,a){(void 0!==a&&!i(e[t],a)||void 0===a&&!(t in e))&&n(e,t,a)}},321:function(e,t){e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},322:function(e,t,a){e.exports=a(64)(1198)},502:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(503),i=a(16);t.ThrowReporter={report:function(e){if(i.isLeft(e))throw new Error(n.PathReporter.report(e).join("\n"))}}},503:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(504),i=a(16);function r(e){return void 0!==e.message?e.message:"Invalid value "+("function"==typeof(t=e.value)?n.getFunctionName(t):"number"!=typeof t||isFinite(t)?JSON.stringify(t):isNaN(t)?"NaN":t>0?"Infinity":"-Infinity")+" supplied to "+e.context.map((function(e){return e.key+": "+e.type.name})).join("/");var t}function s(e){return e.map(r)}function o(){return["No errors!"]}t.failure=s,t.success=o,t.PathReporter={report:i.fold(s,o)}},504:function(e,t,a){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])},n(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var i in t=arguments[a])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var s=a(16),o=s.either.map,l=s.either.chain,u=function(){function e(e,t,a,n){this.name=e,this.is=t,this.validate=a,this.encode=n,this.decode=this.decode.bind(this)}return e.prototype.pipe=function(a,n){var i=this;return void 0===n&&(n="pipe("+this.name+", "+a.name+")"),new e(n,a.is,(function(e,t){return l(i.validate(e,t),(function(e){return a.validate(e,t)}))}),this.encode===t.identity&&a.encode===t.identity?t.identity:function(e){return i.encode(a.encode(e))})},e.prototype.asDecoder=function(){return this},e.prototype.asEncoder=function(){return this},e.prototype.decode=function(e){return this.validate(e,[{key:"",type:this,actual:e}])},e}();t.Type=u,t.identity=function(e){return e},t.getFunctionName=function(e){return e.displayName||e.name||"<function"+e.length+">"},t.getContextEntry=function(e,t){return{key:e,type:t}},t.appendContext=function(e,t,a,n){for(var i=e.length,r=Array(i+1),s=0;s<i;s++)r[s]=e[s];return r[i]={key:t,type:a,actual:n},r},t.failures=s.left,t.failure=function(e,a,n){return t.failures([{value:e,context:a,message:n}])},t.success=s.right;var c=function(e,t){for(var a=t.length,n=0;n<a;n++)e.push(t[n])},d=function(e){return function(t){return t._tag===e}},m=d("AnyType"),g=d("InterfaceType"),p=d("PartialType"),M=function(e){function a(){var a=e.call(this,"null",(function(e){return null===e}),(function(e,n){return a.is(e)?t.success(e):t.failure(e,n)}),t.identity)||this;return a._tag="NullType",a}return i(a,e),a}(u);t.NullType=M,t.nullType=new M,t.null=t.nullType;var b=function(e){function a(){var a=e.call(this,"undefined",(function(e){return void 0===e}),(function(e,n){return a.is(e)?t.success(e):t.failure(e,n)}),t.identity)||this;return a._tag="UndefinedType",a}return i(a,e),a}(u);t.UndefinedType=b;var f=new b;t.undefined=f;var y=function(e){function a(){var a=e.call(this,"void",f.is,f.validate,t.identity)||this;return a._tag="VoidType",a}return i(a,e),a}(u);t.VoidType=y,t.voidType=new y,t.void=t.voidType;var j=function(e){function a(){var a=e.call(this,"unknown",(function(e){return!0}),t.success,t.identity)||this;return a._tag="UnknownType",a}return i(a,e),a}(u);t.UnknownType=j,t.unknown=new j;var E=function(e){function a(){var a=e.call(this,"string",(function(e){return"string"==typeof e}),(function(e,n){return a.is(e)?t.success(e):t.failure(e,n)}),t.identity)||this;return a._tag="StringType",a}return i(a,e),a}(u);t.StringType=E,t.string=new E;var h=function(e){function a(){var a=e.call(this,"number",(function(e){return"number"==typeof e}),(function(e,n){return a.is(e)?t.success(e):t.failure(e,n)}),t.identity)||this;return a._tag="NumberType",a}return i(a,e),a}(u);t.NumberType=h,t.number=new h;var I=function(e){function a(){var a=e.call(this,"boolean",(function(e){return"boolean"==typeof e}),(function(e,n){return a.is(e)?t.success(e):t.failure(e,n)}),t.identity)||this;return a._tag="BooleanType",a}return i(a,e),a}(u);t.BooleanType=I,t.boolean=new I;var L=function(e){function a(){var a=e.call(this,"UnknownArray",Array.isArray,(function(e,n){return a.is(e)?t.success(e):t.failure(e,n)}),t.identity)||this;return a._tag="AnyArrayType",a}return i(a,e),a}(u);t.AnyArrayType=L,t.UnknownArray=new L,t.Array=t.UnknownArray;var x=function(e){function a(){var a=e.call(this,"UnknownRecord",(function(e){return"[object Object]"===Object.prototype.toString.call(e)}),(function(e,n){return a.is(e)?t.success(e):t.failure(e,n)}),t.identity)||this;return a._tag="AnyDictionaryType",a}return i(a,e),a}(u);t.AnyDictionaryType=x,t.UnknownRecord=new x;var w=function(e){function a(){var a=e.call(this,"Function",(function(e){return"function"==typeof e}),(function(e,n){return a.is(e)?t.success(e):t.failure(e,n)}),t.identity)||this;return a._tag="FunctionType",a}return i(a,e),a}(u);t.FunctionType=w,t.Function=new w;var v=function(e){function t(t,a,n,i,r,s){var o=e.call(this,t,a,n,i)||this;return o.type=r,o.predicate=s,o._tag="RefinementType",o}return i(t,e),t}(u);t.RefinementType=v,t.brand=function(e,t,a){return X(e,t,a)},t.Int=t.brand(t.number,(function(e){return Number.isInteger(e)}),"Int");var T=function(e){function t(t,a,n,i,r){var s=e.call(this,t,a,n,i)||this;return s.value=r,s._tag="LiteralType",s}return i(t,e),t}(u);t.LiteralType=T,t.literal=function(e,a){void 0===a&&(a=JSON.stringify(e));var n=function(t){return t===e};return new T(a,n,(function(a,i){return n(a)?t.success(e):t.failure(a,i)}),t.identity,e)};var S=function(e){function t(t,a,n,i,r){var s=e.call(this,t,a,n,i)||this;return s.keys=r,s._tag="KeyofType",s}return i(t,e),t}(u);t.KeyofType=S;var C=Object.prototype.hasOwnProperty;t.keyof=function(e,a){void 0===a&&(a=Object.keys(e).map((function(e){return JSON.stringify(e)})).join(" | "));var n=function(a){return t.string.is(a)&&C.call(e,a)};return new S(a,n,(function(e,a){return n(e)?t.success(e):t.failure(e,a)}),t.identity,e)};var N=function(e){function t(t,a,n,i,r){var s=e.call(this,t,a,n,i)||this;return s.runDefinition=r,s._tag="RecursiveType",s}return i(t,e),t}(u);t.RecursiveType=N,Object.defineProperty(N.prototype,"type",{get:function(){return this.runDefinition()},enumerable:!0,configurable:!0}),t.recursion=function(e,t){var a,n=function(){return a||((a=t(i)).name=e),a},i=new N(e,(function(e){return n().is(e)}),(function(e,t){return n().validate(e,t)}),(function(e){return n().encode(e)}),n);return i};var D=function(e){function t(t,a,n,i,r){var s=e.call(this,t,a,n,i)||this;return s.type=r,s._tag="ArrayType",s}return i(t,e),t}(u);t.ArrayType=D,t.array=function(e,a){return void 0===a&&(a="Array<"+e.name+">"),new D(a,(function(a){return t.UnknownArray.is(a)&&a.every(e.is)}),(function(a,n){return l(t.UnknownArray.validate(a,n),(function(a){for(var i=a.length,r=a,o=[],l=0;l<i;l++){var u=a[l],d=e.validate(u,t.appendContext(n,String(l),e,u));if(s.isLeft(d))c(o,d.left);else{var m=d.right;m!==u&&(r===a&&(r=a.slice()),r[l]=m)}}return o.length>0?t.failures(o):t.success(r)}))}),e.encode===t.identity?t.identity:function(t){return t.map(e.encode)},e)};var O=function(e){function t(t,a,n,i,r){var s=e.call(this,t,a,n,i)||this;return s.props=r,s._tag="InterfaceType",s}return i(t,e),t}(u);t.InterfaceType=O;var k=function(e){return Object.keys(e).map((function(t){return t+": "+e[t].name})).join(", ")},A=function(e){for(var a=0;a<e.length;a++)if(e[a].encode!==t.identity)return!1;return!0},z=function(e){return"{ "+k(e)+" }"};t.type=function(e,a){void 0===a&&(a=z(e));var n=Object.keys(e),i=n.map((function(t){return e[t]})),o=n.length;return new O(a,(function(e){if(t.UnknownRecord.is(e)){for(var a=0;a<o;a++){var r=n[a];if(!C.call(e,r)||!i[a].is(e[r]))return!1}return!0}return!1}),(function(e,a){return l(t.UnknownRecord.validate(e,a),(function(e){for(var l=e,u=[],d=0;d<o;d++){var m=n[d];C.call(l,m)||(l===e&&(l=r({},e)),l[m]=l[m]);var g=l[m],p=i[d],M=p.validate(g,t.appendContext(a,m,p,g));if(s.isLeft(M))c(u,M.left);else{var b=M.right;b!==g&&(l===e&&(l=r({},e)),l[m]=b)}}return u.length>0?t.failures(u):t.success(l)}))}),A(i)?t.identity:function(e){for(var a=r({},e),s=0;s<o;s++){var l=n[s],u=i[s].encode;u!==t.identity&&(a[l]=u(e[l]))}return a},e)},t.interface=t.type;var F=function(e){function t(t,a,n,i,r){var s=e.call(this,t,a,n,i)||this;return s.props=r,s._tag="PartialType",s}return i(t,e),t}(u);t.PartialType=F;var P=function(e){return"Partial<"+e+">"};t.partial=function(e,a){void 0===a&&(a=P(z(e)));var n=Object.keys(e),i=n.map((function(t){return e[t]})),o=n.length;return new F(a,(function(a){if(t.UnknownRecord.is(a)){for(var i=0;i<o;i++){var r=n[i],s=a[r];if(void 0!==s&&!e[r].is(s))return!1}return!0}return!1}),(function(a,i){return l(t.UnknownRecord.validate(a,i),(function(a){for(var l=a,u=[],d=0;d<o;d++){var m=n[d],g=l[m],p=e[m],M=p.validate(g,t.appendContext(i,m,p,g));if(s.isLeft(M))void 0!==g&&c(u,M.left);else{var b=M.right;b!==g&&(l===a&&(l=r({},a)),l[m]=b)}}return u.length>0?t.failures(u):t.success(l)}))}),A(i)?t.identity:function(e){for(var t=r({},e),a=0;a<o;a++){var s=n[a],l=e[s];void 0!==l&&(t[s]=i[a].encode(l))}return t},e)};var R=function(e){function t(t,a,n,i,r,s){var o=e.call(this,t,a,n,i)||this;return o.domain=r,o.codomain=s,o._tag="DictionaryType",o}return i(t,e),t}(u);t.DictionaryType=R,t.record=function(e,a,n){return void 0===n&&(n="{ [K in "+e.name+"]: "+a.name+" }"),new R(n,(function(n){return t.UnknownRecord.is(n)?Object.keys(n).every((function(t){return e.is(t)&&a.is(n[t])})):m(a)&&Array.isArray(n)}),(function(n,i){if(t.UnknownRecord.is(n)){for(var r={},o=[],l=Object.keys(n),u=l.length,d=!1,g=0;g<u;g++){var p=l[g],M=n[p],b=e.validate(p,t.appendContext(i,p,e,p));if(s.isLeft(b))c(o,b.left);else{var f=b.right;d=d||f!==p,p=f;var y=a.validate(M,t.appendContext(i,p,a,M));if(s.isLeft(y))c(o,y.left);else{var j=y.right;d=d||j!==M,r[p]=j}}}return o.length>0?t.failures(o):t.success(d?r:n)}return m(a)&&Array.isArray(n)?t.success(n):t.failure(n,i)}),e.encode===t.identity&&a.encode===t.identity?t.identity:function(t){for(var n={},i=Object.keys(t),r=i.length,s=0;s<r;s++){var o=i[s];n[String(e.encode(o))]=a.encode(t[o])}return n},e,a)};var U=function(e){function t(t,a,n,i,r){var s=e.call(this,t,a,n,i)||this;return s.types=r,s._tag="UnionType",s}return i(t,e),t}(u);t.UnionType=U;var V=function(e){return"("+e.map((function(e){return e.name})).join(" | ")+")"};t.union=function(e,a){void 0===a&&(a=V(e));var n=se(e);if(void 0!==n&&e.length>0){var i=n[0],r=n[1],o=r.length,u=function(e){for(var t=0;t<o;t++)if(-1!==r[t].indexOf(e))return t};return new Z(a,(function(a){if(t.UnknownRecord.is(a)){var n=u(a[i]);return void 0!==n&&e[n].is(a)}return!1}),(function(a,n){return l(t.UnknownRecord.validate(a,n),(function(r){var s=u(r[i]);if(void 0===s)return t.failure(a,n);var o=e[s];return o.validate(r,t.appendContext(n,String(s),o,r))}))}),A(e)?t.identity:function(t){var n=u(t[i]);if(void 0===n)throw new Error("no codec found to encode value in union codec "+a);return e[n].encode(t)},e,i)}return new U(a,(function(t){return e.some((function(e){return e.is(t)}))}),(function(a,n){for(var i=[],r=0;r<e.length;r++){var o=e[r],l=o.validate(a,t.appendContext(n,String(r),o,a));if(!s.isLeft(l))return t.success(l.right);c(i,l.left)}return t.failures(i)}),A(e)?t.identity:function(t){for(var n=0,i=e;n<i.length;n++){var r=i[n];if(r.is(t))return r.encode(t)}throw new Error("no codec found to encode value in union type "+a)},e)};var B=function(e){function t(t,a,n,i,r){var s=e.call(this,t,a,n,i)||this;return s.types=r,s._tag="IntersectionType",s}return i(t,e),t}(u);t.IntersectionType=B;var _=function(e,a){for(var n=!0,i=!0,r=0,s=a;r<s.length;r++)(c=s[r])!==e&&(n=!1),t.UnknownRecord.is(c)&&(i=!1);if(n)return e;if(i)return a[a.length-1];for(var o={},l=0,u=a;l<u.length;l++){var c=u[l];for(var d in c)c[d]===e[d]&&o.hasOwnProperty(d)||(o[d]=c[d])}return o};t.intersection=function(e,a){void 0===a&&(a="("+e.map((function(e){return e.name})).join(" & ")+")");var n=e.length;return new B(a,(function(t){return e.every((function(e){return e.is(t)}))}),0===e.length?t.success:function(a,i){for(var r=[],o=[],l=0;l<n;l++){var u=e[l],d=u.validate(a,t.appendContext(i,String(l),u,a));s.isLeft(d)?c(o,d.left):r.push(d.right)}return o.length>0?t.failures(o):t.success(_(a,r))},0===e.length?t.identity:function(t){return _(t,e.map((function(e){return e.encode(t)})))},e)};var Y=function(e){function t(t,a,n,i,r){var s=e.call(this,t,a,n,i)||this;return s.types=r,s._tag="TupleType",s}return i(t,e),t}(u);t.TupleType=Y,t.tuple=function(e,a){void 0===a&&(a="["+e.map((function(e){return e.name})).join(", ")+"]");var n=e.length;return new Y(a,(function(a){return t.UnknownArray.is(a)&&a.length===n&&e.every((function(e,t){return e.is(a[t])}))}),(function(a,i){return l(t.UnknownArray.validate(a,i),(function(a){for(var r=a.length>n?a.slice(0,n):a,o=[],l=0;l<n;l++){var u=a[l],d=e[l],m=d.validate(u,t.appendContext(i,String(l),d,u));if(s.isLeft(m))c(o,m.left);else{var g=m.right;g!==u&&(r===a&&(r=a.slice()),r[l]=g)}}return o.length>0?t.failures(o):t.success(r)}))}),A(e)?t.identity:function(t){return e.map((function(e,a){return e.encode(t[a])}))},e)};var Q=function(e){function t(t,a,n,i,r){var s=e.call(this,t,a,n,i)||this;return s.type=r,s._tag="ReadonlyType",s}return i(t,e),t}(u);t.ReadonlyType=Q,t.readonly=function(e,a){return void 0===a&&(a="Readonly<"+e.name+">"),new Q(a,e.is,(function(t,a){return o(e.validate(t,a),(function(e){return e}))}),e.encode===t.identity?t.identity:e.encode,e)};var G=function(e){function t(t,a,n,i,r){var s=e.call(this,t,a,n,i)||this;return s.type=r,s._tag="ReadonlyArrayType",s}return i(t,e),t}(u);t.ReadonlyArrayType=G,t.readonlyArray=function(e,a){void 0===a&&(a="ReadonlyArray<"+e.name+">");var n=t.array(e);return new G(a,n.is,(function(e,t){return o(n.validate(e,t),(function(e){return e}))}),n.encode,e)},t.strict=function(e,a){return t.exact(t.type(e),a)};var Z=function(e){function t(t,a,n,i,r,s){var o=e.call(this,t,a,n,i,r)||this;return o.tag=s,o}return i(t,e),t}(U);t.TaggedUnionType=Z,t.taggedUnion=function(e,a,n){void 0===n&&(n=V(a));var i=t.union(a,n);return i instanceof Z?i:(console.warn("[io-ts] Cannot build a tagged union for "+n+", returning a de-optimized union"),new Z(n,i.is,i.validate,i.encode,a,e))};var W=function(e){function t(t,a,n,i,r){var s=e.call(this,t,a,n,i)||this;return s.type=r,s._tag="ExactType",s}return i(t,e),t}(u);t.ExactType=W;var H=function(e){switch(e._tag){case"RefinementType":case"ReadonlyType":return H(e.type);case"InterfaceType":case"StrictType":case"PartialType":return e.props;case"IntersectionType":return e.types.reduce((function(e,t){return Object.assign(e,H(t))}),{})}},$=function(e,t){for(var a=Object.getOwnPropertyNames(e),n=!1,i={},r=0;r<a.length;r++){var s=a[r];C.call(t,s)?i[s]=e[s]:n=!0}return n?i:e};t.exact=function(e,a){void 0===a&&(a=function(e){return g(e)?"{| "+k(e.props)+" |}":p(e)?P("{| "+k(e.props)+" |}"):"Exact<"+e.name+">"}(e));var n=H(e);return new W(a,e.is,(function(a,i){return l(t.UnknownRecord.validate(a,i),(function(){return o(e.validate(a,i),(function(e){return $(e,n)}))}))}),(function(t){return e.encode($(t,n))}),e)},t.getValidationError=function(e,t){return{value:e,context:t}},t.getDefaultContext=function(e){return[{key:"",type:e}]};var J=function(e){function a(){var a=e.call(this,"never",(function(e){return!1}),(function(e,a){return t.failure(e,a)}),(function(){throw new Error("cannot encode never")}))||this;return a._tag="NeverType",a}return i(a,e),a}(u);t.NeverType=J,t.never=new J;var q=function(e){function a(){var a=e.call(this,"any",(function(e){return!0}),t.success,t.identity)||this;return a._tag="AnyType",a}return i(a,e),a}(u);t.AnyType=q,t.any=new q,t.Dictionary=t.UnknownRecord;var K=function(e){function a(){var a=e.call(this,"object",(function(e){return null!==e&&"object"==typeof e}),(function(e,n){return a.is(e)?t.success(e):t.failure(e,n)}),t.identity)||this;return a._tag="ObjectType",a}return i(a,e),a}(u);function X(e,a,n){return void 0===n&&(n="("+e.name+" | "+t.getFunctionName(a)+")"),new v(n,(function(t){return e.is(t)&&a(t)}),(function(n,i){return l(e.validate(n,i),(function(e){return a(e)?t.success(e):t.failure(e,i)}))}),e.encode,e,a)}t.ObjectType=K,t.object=new K,t.refinement=X,t.Integer=X(t.number,Number.isInteger,"Integer"),t.dictionary=t.record;var ee=function(e){function t(t,a,n,i,r){var s=e.call(this,t,a,n,i)||this;return s.props=r,s._tag="StrictType",s}return i(t,e),t}(u);t.StrictType=ee,t.clean=function(e){return e},t.alias=function(e){return function(){return e}};var te=function(e){return e.length>0};function ae(e,t){for(var a=[],n=0,i=e;n<i.length;n++){var r=i[n];-1!==t.indexOf(r)&&a.push(r)}return a}function ne(e){return"LiteralType"===e._tag}t.emptyTags={};var ie=[];function re(e){if(-1!==ie.indexOf(e))return t.emptyTags;if(function(e){return"InterfaceType"===e._tag}(e)||function(e){return"StrictType"===e._tag}(e)){var a=t.emptyTags;for(var n in e.props){var i=e.props[n];ne(i)&&(a===t.emptyTags&&(a={}),a[n]=[i.value])}return a}if(function(e){return"ExactType"===e._tag}(e)||function(e){return"RefinementType"===e._tag}(e))return re(e.type);if(function(e){return"IntersectionType"===e._tag}(e))return e.types.reduce((function(e,a){return function(e,a){if(e===t.emptyTags)return a;if(a===t.emptyTags)return e;var n=Object.assign({},e);for(var i in a)if(e.hasOwnProperty(i)){var r=ae(e[i],a[i]);if(!te(r)){n=t.emptyTags;break}n[i]=r}else n[i]=a[i];return n}(e,re(a))}),t.emptyTags);if(function(e){return"UnionType"===e._tag}(e))return e.types.slice(1).reduce((function(e,a){return function(e,a){if(e===t.emptyTags||a===t.emptyTags)return t.emptyTags;var n=t.emptyTags;for(var i in e)a.hasOwnProperty(i)&&0===ae(e[i],a[i]).length&&(n===t.emptyTags&&(n={}),n[i]=e[i].concat(a[i]));return n}(e,re(a))}),re(e.types[0]));if(function(e){return"RecursiveType"===e._tag}(e)){ie.push(e);var r=re(e.type);return ie.pop(),r}return t.emptyTags}function se(e){for(var t=re(e[0]),a=Object.keys(t),n=e.length,i=function(a){for(var i=t[a].slice(),r=[t[a]],s=1;s<n;s++){var o=re(e[s])[a];if(void 0===o)return"continue-keys";if(o.some((function(e){return-1!==i.indexOf(e)})))return"continue-keys";i.push.apply(i,o),r.push(o)}return{value:[a,r]}},r=0,s=a;r<s.length;r++){var o=i(s[r]);if("object"==typeof o)return o.value}}t.getTags=re,t.getIndex=se},505:function(e,t,a){"use strict";e.exports=a(506)},506:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(507);a(115),a(3),a(309),a(41),a(186),a(185),a(310);var i=n.default.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){i[e]=i(e)})),t.default=i},507:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(115),i=a(3),r=a(309),s=a(41),o=a(186),l=a(185),u=a(310);function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(a){if("default"!==a){var n=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(t,a,n.get?n:{enumerable:!0,get:function(){return e[a]}})}})),t.default=e,Object.freeze(t)}var m=d(i),g=c(r).default,p=function(e){return"theme"!==e},M=function(e){return"string"==typeof e&&e.charCodeAt(0)>96?g:p},b=function(e,t,a){var n;if(t){var i=t.shouldForwardProp;n=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!=typeof n&&a&&(n=e.__emotion_forwardProp),n},f="undefined"!=typeof document,y=function(e){var t=e.cache,a=e.serialized,n=e.isStringTag;o.registerStyles(t,a,n);var i=u.useInsertionEffectAlwaysWithSyncFallback((function(){return o.insertStyles(t,a,n)}));if(!f&&void 0!==i){for(var r,s=a.name,l=a.next;void 0!==l;)s+=" "+l.name,l=l.next;return m.createElement("style",((r={})["data-emotion"]=t.key+" "+s,r.dangerouslySetInnerHTML={__html:i},r.nonce=t.sheet.nonce,r))}return null};t.default=function e(t,a){var i,r,u=t.__emotion_real===t,c=u&&t.__emotion_base||t;void 0!==a&&(i=a.label,r=a.target);var d=b(t,a,u),g=d||M(c),p=!g("as");return function(){var f=arguments,j=u&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==i&&j.push("label:"+i+";"),null==f[0]||void 0===f[0].raw)j.push.apply(j,f);else{j.push(f[0][0]);for(var E=f.length,h=1;h<E;h++)j.push(f[h],f[0][h])}var I=s.withEmotionCache((function(e,t,a){var n=p&&e.as||c,i="",u=[],b=e;if(null==e.theme){for(var f in b={},e)b[f]=e[f];b.theme=m.useContext(s.ThemeContext)}"string"==typeof e.className?i=o.getRegisteredStyles(t.registered,u,e.className):null!=e.className&&(i=e.className+" ");var E=l.serializeStyles(j.concat(u),t.registered,b);i+=t.key+"-"+E.name,void 0!==r&&(i+=" "+r);var h=p&&void 0===d?M(n):g,I={};for(var L in e)p&&"as"===L||h(L)&&(I[L]=e[L]);return I.className=i,I.ref=a,m.createElement(m.Fragment,null,m.createElement(y,{cache:t,serialized:E,isStringTag:"string"==typeof n}),m.createElement(n,I))}));return I.displayName=void 0!==i?i:"Styled("+("string"==typeof c?c:c.displayName||c.name||"Component")+")",I.defaultProps=t.defaultProps,I.__emotion_real=I,I.__emotion_base=c,I.__emotion_styles=j,I.__emotion_forwardProp=d,Object.defineProperty(I,"toString",{value:function(){return"."+r}}),I.withComponent=function(t,i){return e(t,n({},a,i,{shouldForwardProp:b(I,i,!0)})).apply(void 0,j)},I}}},508:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(268);function i(e){return e&&e.__esModule?e:{default:e}}var r=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,s=i(n).default((function(e){return r.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));t.default=s},509:function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(a){if("default"!==a){var n=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(t,a,n.get?n:{enumerable:!0,get:function(){return e[a]}})}})),t.default=e,Object.freeze(t)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(a(3)),r="undefined"!=typeof document,s=!!i.useInsertionEffect&&i.useInsertionEffect,o=r&&s||function(e){return e()},l=s||i.useLayoutEffect;t.useInsertionEffectAlwaysWithSyncFallback=o,t.useInsertionEffectWithLayoutFallback=l},510:function(e){e.exports=JSON.parse('{"groups":["hosts","metrics"],"description":"Metrics: Hosts - Identify unusual spikes in memory usage across hosts.","analysis_config":{"bucket_span":"15m","detectors":[{"detector_description":"max(\'system.memory.actual.used.pct\')","function":"max","field_name":"system.memory.actual.used.pct","custom_rules":[{"actions":["skip_result"],"conditions":[{"applies_to":"actual","operator":"lt","value":0.1}]}]}],"influencers":["host.name"]},"data_description":{"time_field":"@timestamp"},"analysis_limits":{"model_memory_limit":"64mb"},"custom_settings":{"managed":true,"created_by":"ml-module-metrics-ui-hosts","custom_urls":[{"url_name":"Host Metrics","url_value":"metrics/detail/host/$host.name$?_a=(autoReload:!f,refreshInterval:5000,time:(from:%27$earliest$%27,interval:%3E%3D1m,to:%27$latest$%27))"}]}}')},511:function(e){e.exports=JSON.parse('{"job_id":"JOB_ID","indices":["INDEX_PATTERN_NAME"],"indices_options":{"allow_no_indices":true},"query":{"bool":{"must":[{"exists":{"field":"system.memory"}}]}}}')},512:function(e){e.exports=JSON.parse('{"description":"Metrics: Hosts - Identify unusual spikes in inbound traffic across hosts.","groups":["hosts","metrics"],"analysis_config":{"bucket_span":"15m","detectors":[{"detector_description":"max(bytes_in_derivative)","function":"max","field_name":"bytes_in_derivative"}],"influencers":["host.name"],"summary_count_field_name":"doc_count"},"data_description":{"time_field":"@timestamp"},"analysis_limits":{"model_memory_limit":"32mb"},"custom_settings":{"managed":true,"created_by":"ml-module-metrics-ui-hosts","custom_urls":[{"url_name":"Host Metrics","url_value":"metrics/detail/host/$host.name$?_a=(autoReload:!f,refreshInterval:5000,time:(from:%27$earliest$%27,interval:%3E%3D1m,to:%27$latest$%27))"}]}}')},513:function(e){e.exports=JSON.parse('{"job_id":"JOB_ID","indices":["INDEX_PATTERN_NAME"],"indices_options":{"allow_no_indices":true},"query":{"bool":{"must":[{"exists":{"field":"system.network"}}]}},"chunking_config":{"mode":"manual","time_span":"900s"},"aggregations":{"host.name":{"terms":{"field":"host.name","size":100},"aggregations":{"buckets":{"date_histogram":{"field":"@timestamp","fixed_interval":"5m"},"aggregations":{"@timestamp":{"max":{"field":"@timestamp"}},"bytes_in_max":{"max":{"field":"system.network.in.bytes"}},"bytes_in_derivative":{"derivative":{"buckets_path":"bytes_in_max"}},"positive_only":{"bucket_script":{"buckets_path":{"in_derivative":"bytes_in_derivative.value"},"script":"params.in_derivative > 0.0 ? params.in_derivative : 0.0"}}}}}}}}')},514:function(e){e.exports=JSON.parse('{"description":"Metrics: Hosts - Identify unusual spikes in outbound traffic across hosts.","groups":["hosts","metrics"],"analysis_config":{"bucket_span":"15m","detectors":[{"detector_description":"max(bytes_out_derivative)","function":"max","field_name":"bytes_out_derivative"}],"influencers":["host.name"],"summary_count_field_name":"doc_count"},"data_description":{"time_field":"@timestamp"},"analysis_limits":{"model_memory_limit":"32mb"},"custom_settings":{"managed":true,"created_by":"ml-module-metrics-ui-hosts","custom_urls":[{"url_name":"Host Metrics","url_value":"metrics/detail/host/$host.name$?_a=(autoReload:!f,refreshInterval:5000,time:(from:%27$earliest$%27,interval:%3E%3D1m,to:%27$latest$%27))"}]}}')},515:function(e){e.exports=JSON.parse('{"job_id":"JOB_ID","indices":["INDEX_PATTERN_NAME"],"indices_options":{"allow_no_indices":true},"query":{"bool":{"must":[{"exists":{"field":"system.network"}}]}},"chunking_config":{"mode":"manual","time_span":"900s"},"aggregations":{"host.name":{"terms":{"field":"host.name","size":100},"aggregations":{"buckets":{"date_histogram":{"field":"@timestamp","fixed_interval":"5m"},"aggregations":{"@timestamp":{"max":{"field":"@timestamp"}},"bytes_out_max":{"max":{"field":"system.network.out.bytes"}},"bytes_out_derivative":{"derivative":{"buckets_path":"bytes_out_max"}},"positive_only":{"bucket_script":{"buckets_path":{"out_derivative":"bytes_out_derivative.value"},"script":"params.out_derivative > 0.0 ? params.out_derivative : 0.0"}}}}}}}}')},516:function(e){e.exports=JSON.parse('{"groups":["k8s","metrics"],"description":"Metrics: Kubernetes - Identify unusual spikes in memory usage across Kubernetes pods.","analysis_config":{"bucket_span":"15m","detectors":[{"detector_description":"max(\'kubernetes.pod.memory.usage.node.pct\')","function":"max","field_name":"kubernetes.pod.memory.usage.node.pct","partition_field_name":"kubernetes.namespace","custom_rules":[{"actions":["skip_result"],"conditions":[{"applies_to":"actual","operator":"lt","value":0.1}]}]}],"influencers":["kubernetes.namespace","kubernetes.node.name","kubernetes.pod.uid"]},"data_description":{"time_field":"@timestamp"},"analysis_limits":{"model_memory_limit":"64mb"},"custom_settings":{"managed":true,"created_by":"ml-module-metrics-ui-k8s","custom_urls":[{"url_name":"Pod Metrics","url_value":"metrics/detail/pod/$kubernetes.pod.uid$?_a=(autoReload:!f,refreshInterval:5000,time:(from:%27$earliest$%27,interval:%3E%3D1m,to:%27$latest$%27))"}]}}')},517:function(e){e.exports=JSON.parse('{"job_id":"JOB_ID","indices":["INDEX_PATTERN_NAME"],"indices_options":{"allow_no_indices":true},"query":{"bool":{"must":[{"exists":{"field":"kubernetes.pod.uid"}},{"exists":{"field":"kubernetes.pod.memory"}}]}}}')},518:function(e){e.exports=JSON.parse('{"description":"Metrics: Kubernetes - Identify unusual spikes in inbound traffic across Kubernetes pods.","groups":["k8s","metrics"],"analysis_config":{"bucket_span":"15m","detectors":[{"detector_description":"max(bytes_in_derivative)","function":"max","field_name":"bytes_in_derivative","partition_field_name":"kubernetes.namespace"}],"influencers":["kubernetes.namespace","kubernetes.pod.uid"],"summary_count_field_name":"doc_count"},"data_description":{"time_field":"@timestamp"},"analysis_limits":{"model_memory_limit":"32mb"},"custom_settings":{"managed":true,"created_by":"ml-module-metrics-ui-k8s","custom_urls":[{"url_name":"Pod Metrics","url_value":"metrics/detail/pod/$kubernetes.pod.uid$?_a=(autoReload:!f,refreshInterval:5000,time:(from:%27$earliest$%27,interval:%3E%3D1m,to:%27$latest$%27))"}]}}')},519:function(e){e.exports=JSON.parse('{"job_id":"JOB_ID","indices":["INDEX_PATTERN_NAME"],"indices_options":{"allow_no_indices":true},"query":{"bool":{"must":[{"exists":{"field":"kubernetes.pod.network"}}]}},"chunking_config":{"mode":"manual","time_span":"900s"},"aggregations":{"kubernetes.namespace":{"terms":{"field":"kubernetes.namespace","size":25},"aggregations":{"kubernetes.pod.uid":{"terms":{"field":"kubernetes.pod.uid","size":100},"aggregations":{"buckets":{"date_histogram":{"field":"@timestamp","fixed_interval":"5m"},"aggregations":{"@timestamp":{"max":{"field":"@timestamp"}},"bytes_in_max":{"max":{"field":"kubernetes.pod.network.rx.bytes"}},"bytes_in_derivative":{"derivative":{"buckets_path":"bytes_in_max"}},"positive_only":{"bucket_script":{"buckets_path":{"in_derivative":"bytes_in_derivative.value"},"script":"params.in_derivative > 0.0 ? params.in_derivative : 0.0"}}}}}}}}}}')},520:function(e){e.exports=JSON.parse('{"description":"Metrics: Kubernetes - Identify unusual spikes in outbound traffic across Kubernetes pods.","groups":["k8s","metrics"],"analysis_config":{"bucket_span":"15m","detectors":[{"detector_description":"max(bytes_out_derivative)","function":"max","field_name":"bytes_out_derivative","partition_field_name":"kubernetes.namespace"}],"influencers":["kubernetes.namespace","kubernetes.pod.uid"],"summary_count_field_name":"doc_count"},"data_description":{"time_field":"@timestamp"},"analysis_limits":{"model_memory_limit":"32mb"},"custom_settings":{"managed":true,"created_by":"ml-module-metrics-ui-k8s","custom_urls":[{"url_name":"Pod Metrics","url_value":"metrics/detail/pod/$kubernetes.pod.uid$?_a=(autoReload:!f,refreshInterval:5000,time:(from:%27$earliest$%27,interval:%3E%3D1m,to:%27$latest$%27))"}]}}')},521:function(e){e.exports=JSON.parse('{"job_id":"JOB_ID","indices":["INDEX_PATTERN_NAME"],"indices_options":{"allow_no_indices":true},"query":{"bool":{"must":[{"exists":{"field":"kubernetes.pod.network"}}]}},"chunking_config":{"mode":"manual","time_span":"900s"},"aggregations":{"kubernetes.namespace":{"terms":{"field":"kubernetes.namespace","size":25},"aggregations":{"kubernetes.pod.uid":{"terms":{"field":"kubernetes.pod.uid","size":100},"aggregations":{"buckets":{"date_histogram":{"field":"@timestamp","fixed_interval":"5m"},"aggregations":{"@timestamp":{"max":{"field":"@timestamp"}},"bytes_out_max":{"max":{"field":"kubernetes.pod.network.tx.bytes"}},"bytes_out_derivative":{"derivative":{"buckets_path":"bytes_out_max"}},"positive_only":{"bucket_script":{"buckets_path":{"pos_derivative":"bytes_out_derivative.value"},"script":"params.pos_derivative > 0.0 ? params.pos_derivative : 0.0"}}}}}}}}}}')},522:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZwogIHdpZHRoPSI2NCIKICBoZWlnaHQ9IjY0IgogIHZpZXdCb3g9Ii0yIC0yIDI4IDI4IgogIGZpbGw9Im5vbmUiCiAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgo+CiAgPHBhdGgKICAgIGQ9Ik0xMi4yMDcgMTYuMjc4QzExLjEyNDEgMTcuMzQzIDkuNjM4NzkgMTggOCAxOEM0LjY4NjI5IDE4IDIgMTUuMzEzNyAyIDEyQzIgOC42ODYyOSA0LjY4NjI5IDYgOCA2QzkuNjc0OTIgNiAxMS4xODk2IDYuNjg2MyAxMi4yNzggNy43OTMwM0wxMy42OTIzIDYuMzc4NzhDMTIuMjQxOCA0LjkxMDE0IDEwLjIyNzIgNCA4IDRDMy41ODE3MiA0IDAgNy41ODE3MiAwIDEyQzAgMTYuNDE4MyAzLjU4MTcyIDIwIDggMjBDMTAuMTkxMSAyMCAxMi4xNzY0IDE5LjExOTIgMTMuNjIxMiAxNy42OTIzTDEyLjIwNyAxNi4yNzhaIgogICAgZmlsbD0iY3VycmVudENvbG9yIgogIC8+CiAgPHBhdGggZD0iTTE1IDlIMTNWMTFIMTFWMTNIMTNWMTVIMTVWMTNIMTdWMTFIMTVWOVoiIGZpbGw9ImN1cnJlbnRDb2xvciIgLz4KICA8cGF0aCBkPSJNMjAgOUgyMlYxMUgyNFYxM0gyMlYxNUgyMFYxM0gxOFYxMUgyMFY5WiIgZmlsbD0iY3VycmVudENvbG9yIiAvPgo8L3N2Zz4="},523:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTS45MDIgMjEuODU2YS44NjMuODYzIDAgMDEtLjY0LS4yNy44ODcuODg3IDAgMDEtLjI2Mi0uNjQuOS45IDAgMDEuMjYyLS42NDMuODU3Ljg1NyAwIDAxLjY0LS4yNzUuODc1Ljg3NSAwIDAxLjY0LjI3Ni44OTIuODkyIDAgMDEuMjY5LjY0MS44ODEuODgxIDAgMDEtLjI2OS42NDIuODg1Ljg4NSAwIDAxLS42NC4yN3pNMTMuNjE3IDIxLjY5NmgtMS42NzZsLTUuOTk2LTkuMzI5YTMuODU3IDMuODU3IDAgMDEtLjM3LS43MzFoLS4wNTJjLjA1Ny41MzMuMDc4IDEuMDY4LjA2NCAxLjYwNHY4LjQ1Nkg0LjIyNFYxMGgxLjc3Mmw1LjgzNiA5LjE2MmMuMjQzLjM4LjQwMS42NDEuNDc0Ljc4MmguMDMyYTEyLjQwOSAxMi40MDkgMCAwMS0uMDg0LTEuNzJWMTBoMS4zNjN2MTEuNjk2ek0yMi44NDMgMjEuNjk2aC02LjJWMTBoNS45MTJ2MS4yMzhoLTQuNTE3djMuODg4aDQuMjF2MS4yMzJoLTQuMjF2NC4wNTVoNC44MTFsLS4wMDYgMS4yODN6TTMyIDExLjIzOGgtMy4zOTJ2MTAuNDU4aC0xLjM2M1YxMS4yMzhoLTMuMzUzVjEwSDMydjEuMjM4eiIgZmlsbD0iIzYyMUVFNSIvPgo8L3N2Zz4K"},524:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTYuMzc5IDIxLjMxNWMtMi4xNjctMi4yNDUtMy40MzQtNS4zNDctMy40MzEtOS4wNDctLjAwMy0zLjI3MyAxLjA0OC02LjA4NiAyLjg1Ni04LjIyN2wtLjAwMy4wMDFoLTMuOHYxNy4yNzNINi4zOHpNMjYuMzkgMjEuMzE2Yy45MzQtLjk3OCAxLjc3LTIuMTMgMi41MjgtMy40NDZsLTQuMjA2LTIuMDU2Yy0xLjQ3NyAyLjM0OC0zLjYzNyA0LjUxLTYuNjI0IDQuNTI0LTQuMzQ3LS4wMTUtNi4wNTUtMy42NS02LjA0NS04LjMyOGgxNi4yNDRjLjAyMi0uNTI4LjAyMi0uNzc0IDAtMS4wMjguMTA2LTIuNzg0LS42NDgtNS4xMjMtMi4wMi02Ljk0NWwtLjAwOC4wMDVoMy42NTh2MTcuMjczaC0zLjUzNS4wMDh6IiBmaWxsPSIjQTkwNTMzIi8+PHBhdGggZD0iTTEyLjMwNiA4Yy4xOC0yLjExOCAxLjg4Ny0zLjU0MyAzLjg5LTMuNTQ3IDIuMDE2LjAwNCAzLjQ3MyAxLjQyOSAzLjUyMiAzLjU0N2gtNy40MTJ6IiBmaWxsPSIjQTkwNTMzIi8+PHBhdGggZD0iTTQuMzE1IDI0LjIzOHYtLjcyaC0yLjI2djQuMjY3aDIuMjZ2LS43MmgtMS40MnYtMS4xM2gxLjM2N3YtLjcySDIuODk1di0uOTc3aDEuNDJ6TTguMTUyIDI1Ljk4NmMuNTY0LS4wODIuODczLS42MjguODk0LTEuMTgzLS4wMi0uOTA3LS42MjItMS4yODItMS40NzItMS4yODVINi40MTh2NC4yNjdoLjg0di0xLjY5N2wxLjA1MiAxLjY5N2gxLjA1MmwtMS4yMS0xLjh6bS0uODkzLTEuOGguMTA1Yy40NTkuMDE3LjgwMy4xMi43ODguNjY5LjAxNS41MDMtLjMxOC42NC0uNzg4LjYxN2gtLjEwNXYtMS4yODZ6TTExLjk5IDIzLjUxOGgtLjg0MXY0LjI2N2gyLjA1di0uNzJIMTEuOTl2LTMuNTQ3ek0xNy41MSAyNi45MWwuMzY4Ljg3NWguODk0bC0xLjYzLTQuMzdoLS42ODNsLTEuNzM1IDQuMzdoLjg5M2wuMzY4LS44NzRoMS41MjV6bS0uMjEtLjY2OGgtMS4wNTJsLjQ3My0xLjU5My41NzkgMS41OTN6TTIwLjM0OSAyNy43ODVoLjg5M3YtMi44OGwyLjMxNCAyLjk4MmguNjN2LTQuMzdoLS44OTN2Mi44OGwtMi4zMTMtMi45ODJoLS42MzF2NC4zN3pNMjcuODY2IDI1LjUyM3YuNjY4aC45NDdjLS4wMi41MzctLjQ3Ljk5Mi0xIC45NzctLjgzNi4wMTUtMS4yNS0uNzc1LTEuMjYtMS40OTEuMDEtLjcwNi40MTgtMS41MyAxLjI2LTEuNTQyLjQ0My4wMTEuODE3LjMwNyAxIC42NjhsLjczNi0uMzZjLS4zMjQtLjY2Ny0uOTc4LTEuMDM2LTEuNzM1LTEuMDI4LTEuMzA0LS4wMDgtMi4xMzkgMS4wNDQtMi4xNTYgMi4yNjIuMDE3IDEuMTg4LjgyOSAyLjI0NSAyLjEwMyAyLjI2MiAxLjM3Ni0uMDE3IDIuMDEzLTEuMDkxIDEuOTk4LTIuMzEzdi0uMTAzaC0xLjg5M3oiIGZpbGw9IiMwMDAiLz48L3N2Zz4K"},525:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSIgZmlsbD0iIzAwQUREOCI+CiAgICA8cGF0aCBkPSJNMi40MTQgMTMuMTVjLS4wNjIgMC0uMDc3LS4wMzEtLjA0Ni0uMDc4bC4zMjQtLjQxN2MuMDMxLS4wNDcuMTA5LS4wNzguMTctLjA3OGg1LjUyNWMuMDYyIDAgLjA3Ny4wNDcuMDQ2LjA5M2wtLjI2My40MDJjLS4wMy4wNDctLjEwOC4wOTMtLjE1NS4wOTNsLTUuNjAxLS4wMTV6TS4wNzcgMTQuNTczYy0uMDYxIDAtLjA3Ny0uMDMtLjA0Ni0uMDc3bC4zMjUtLjQxOGMuMDMtLjA0Ni4xMDgtLjA3Ny4xNy0uMDc3aDcuMDU2Yy4wNjIgMCAuMDkzLjA0Ni4wNzguMDkzbC0uMTI0LjM3MWMtLjAxNi4wNjItLjA3OC4wOTMtLjE0LjA5M2wtNy4zMTkuMDE1em0zLjc0NSAxLjQyNGMtLjA2MiAwLS4wNzctLjA0Ni0uMDQ2LS4wOTNsLjIxNi0uMzg3Yy4wMzEtLjA0Ni4wOTMtLjA5My4xNTUtLjA5M2gzLjA5NWMuMDYyIDAgLjA5My4wNDcuMDkzLjEwOWwtLjAzMS4zNzFjMCAuMDYyLS4wNjIuMTA4LS4xMDkuMTA4bC0zLjM3My0uMDE1em0xNi4wNjItMy4xMjZjLS45NzUuMjQ4LTEuNjQuNDMzLTIuNi42ODEtLjIzMi4wNjItLjI0Ny4wNzctLjQ0OC0uMTU1LS4yMzItLjI2My0uNDAzLS40MzMtLjcyOC0uNTg4LS45NzUtLjQ4LTEuOTE4LS4zNC0yLjguMjMyLTEuMDUzLjY4MS0xLjU5NCAxLjY4Ny0xLjU3OSAyLjk0LjAxNiAxLjIzOC44NjcgMi4yNiAyLjA5IDIuNDMgMS4wNTEuMTQgMS45MzMtLjIzMiAyLjYzLTEuMDIxLjEzOS0uMTcuMjYzLS4zNTYuNDE4LS41NzNIMTMuODhjLS4zMjUgMC0uNDAyLS4yMDEtLjI5NC0uNDY0LjIwMS0uNDguNTczLTEuMjg1Ljc5LTEuNjg3YS40MTguNDE4IDAgMDEuMzg2LS4yNDdoNS42MzNjLS4wMzEuNDE3LS4wMzEuODM1LS4wOTMgMS4yNTNhNi41OTggNi41OTggMCAwMS0xLjI3IDMuMDMzYy0xLjExMyAxLjQ3LTIuNTY4IDIuMzgzLTQuNDEgMi42My0xLjUxNi4yMDEtMi45MjQtLjA5My00LjE2Mi0xLjAyLTEuMTQ1LS44NjctMS43OTUtMi4wMTMtMS45NjUtMy40MzYtLjIwMS0xLjY4Ny4yOTQtMy4yMDMgMS4zMTUtNC41MzQgMS4xLTEuNDM5IDIuNTU0LTIuMzUyIDQuMzMzLTIuNjc3IDEuNDU1LS4yNjMgMi44NDctLjA5MyA0LjEuNzU4LjgyLjU0MiAxLjQwOSAxLjI4NSAxLjc5NiAyLjE4Mi4wOTMuMTQuMDMuMjE3LS4xNTUuMjYzeiIvPgogICAgPHBhdGggZD0iTTI1LjAwNiAyMS40MjhjLTEuNDA4LS4wMy0yLjY5My0uNDMzLTMuNzc2LTEuMzYxLS45MTMtLjc5LTEuNDg1LTEuNzk1LTEuNjcxLTIuOTg3LS4yNzktMS43NDguMjAxLTMuMjk2IDEuMjUzLTQuNjczIDEuMTMtMS40ODYgMi40OTItMi4yNiA0LjMzMy0yLjU4NCAxLjU3OC0uMjc5IDMuMDY0LS4xMjQgNC40MS43ODkgMS4yMjMuODM2IDEuOTggMS45NjUgMi4xODIgMy40NS4yNjMgMi4wOS0uMzQgMy43OTItMS43OCA1LjI0Ni0xLjAyIDEuMDM3LTIuMjc0IDEuNjg3LTMuNzEzIDEuOTgxLS40MTguMDc3LS44MzYuMDkzLTEuMjM4LjE0em0zLjY4My02LjI1MWMtLjAxNi0uMjAxLS4wMTYtLjM1Ni0uMDQ3LS41MS0uMjc4LTEuNTMzLTEuNjg2LTIuNC0zLjE1Ny0yLjA1OS0xLjQzOS4zMjUtMi4zNjcgMS4yMzgtMi43MDcgMi42OTMtLjI3OSAxLjIwNy4zMDkgMi40MjkgMS40MjMgMi45MjQuODUxLjM3MSAxLjcwMi4zMjUgMi41MjItLjA5MyAxLjIyMy0uNjM0IDEuODg4LTEuNjI1IDEuOTY2LTIuOTU1eiIvPgogIDwvZz4KICA8ZGVmcz4KICAgIDxjbGlwUGF0aCBpZD0iY2xpcDAiPgogICAgICA8cGF0aCBmaWxsPSIjZmZmIiBkPSJNMCA5LjMzM2gzMnYxMi4yNzVIMHoiLz4KICAgIDwvY2xpcFBhdGg+CiAgPC9kZWZzPgo8L3N2Zz4K"},526:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTIuMDkzIDE2Ljg0aDEuNjU0VjkuNzQzSDIuMDkzdjcuMDk1em0uODI0LTguMDI2YS45MDcuOTA3IDAgMTAwLTEuODE0LjkwNi45MDYgMCAxMDAgMS44MTR6TTkuMjUzIDcuMDJjLTIuNzk2IDAtNC41NSAxLjkyMS00LjU1IDQuOTkzIDAgMy4wNzMgMS43NTQgNC45ODcgNC41NSA0Ljk4NyAyLjc5IDAgNC41NDQtMS45MTQgNC41NDQtNC45ODcgMC0zLjA3Mi0xLjc1NC00Ljk5My00LjU0NC00Ljk5M3ptMCAxLjQ3M2MxLjcwNyAwIDIuNzk3IDEuMzY1IDIuNzk3IDMuNTIgMCAyLjE0OS0xLjA5IDMuNTE0LTIuNzk3IDMuNTE0LTEuNzEzIDAtMi43OTYtMS4zNjUtMi43OTYtMy41MTQgMC0yLjE1NSAxLjA4My0zLjUyIDIuNzk2LTMuNTJ6bTUuMjQxIDUuNjI5Yy4wNzMgMS43OCAxLjUyMSAyLjg3OCAzLjcyNyAyLjg3OEMyMC41MzkgMTcgMjIgMTUuODQ5IDIyIDE0LjAxNWMwLTEuNDQtLjgyNC0yLjI1LTIuNzctMi42OThsLTEuMTAyLS4yNTRjLTEuMTc2LS4yODEtMS42Ni0uNjU2LTEuNjYtMS4yOTkgMC0uODAzLjczLTEuMzM4IDEuODEyLTEuMzM4IDEuMDk2IDAgMS44NDcuNTQyIDEuOTI3IDEuNDQ2aDEuNjM0Yy0uMDQtMS43LTEuNDM1LTIuODUyLTMuNTQ3LTIuODUyLTIuMDg2IDAtMy41NjcgMS4xNTgtMy41NjcgMi44NzIgMCAxLjM3OC44MzcgMi4yMzUgMi42MDQgMi42NDRsMS4yNDIuMjk0YzEuMjA4LjI4OCAxLjcuNjkgMS43IDEuMzg2IDAgLjgwMy0uODA0IDEuMzc4LTEuOTYgMS4zNzgtMS4xNjggMC0yLjA1Mi0uNTgyLTIuMTU4LTEuNDcyaC0xLjY2eiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg=="},527:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMS43MjkgMjQuNzQ3cy0xLjI0My43MS44ODUuOTUxYzIuNTguMjkgMy44OTcuMjQ4IDYuNzM4LS4yOCAwIDAgLjc0OC40NiAxLjc5Mi44NTgtNi4zNzEgMi42ODUtMTQuNDE5LS4xNTUtOS40MTUtMS41M3ptLS43NzktMy41MDNzLTEuMzk0IDEuMDE0LjczNiAxLjIzMWMyLjc1NS4yOCA0LjkzLjMwMyA4LjY5NS0uNDEgMCAwIC41Mi41MiAxLjMzOC44MDMtNy43MDIgMi4yMTUtMTYuMjguMTc0LTEwLjc2OS0xLjYyNHoiIGZpbGw9IiMzMTc0QjkiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE3LjUxMiAxNS4zYzEuNTcgMS43NzgtLjQxMSAzLjM3Ny0uNDExIDMuMzc3czMuOTg2LTIuMDIzIDIuMTU1LTQuNTU3Yy0xLjcxLTIuMzYyLTMuMDItMy41MzYgNC4wNzctNy41ODMgMCAwLTExLjE0MSAyLjczNS01LjgyIDguNzYzeiIgZmlsbD0iI0NBMzEzMiIvPgogIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMjUuOTM4IDI3LjMzOHMuOTIuNzQ2LTEuMDEzIDEuMzIzYy0zLjY3NyAxLjA5NS0xNS4zMDQgMS40MjUtMTguNTM0LjA0NC0xLjE2LS40OTcgMS4wMTYtMS4xODYgMS43MDEtMS4zMzIuNzE0LS4xNTEgMS4xMjItLjEyNCAxLjEyMi0uMTI0LTEuMjkxLS44OTQtOC4zNDYgMS43NTYtMy41ODMgMi41MTYgMTIuOTg4IDIuMDcxIDIzLjY3NS0uOTMyIDIwLjMwNy0yLjQyN3ptLTEzLjYxMS05LjcyNHMtNS45MTQgMS4zODEtMi4wOTQgMS44ODRjMS42MTMuMjEyIDQuODI3LjE2MyA3LjgyMy0uMDg0YTYxLjg4MyA2MS44ODMgMCAwMDQuOTA1LS42MzRzLS44NjIuMzYzLTEuNDg3Ljc4MmMtNi4wMDcgMS41NTQtMTcuNjA4LjgzLTE0LjI2OC0uNzU4IDIuODI0LTEuMzQzIDUuMTItMS4xOSA1LjEyLTEuMTl6bTEwLjYxIDUuODMxYzYuMTA1LTMuMTIgMy4yODItNi4xMTcgMS4zMTEtNS43MTNhNC43MDIgNC43MDIgMCAwMC0uNjk4LjE4NHMuMTgtLjI3Ni41MjItLjM5NWMzLjg5OC0xLjM0NyA2Ljg5NiAzLjk3NC0xLjI1NyA2LjA4MiAwIDAgLjA5NC0uMDg0LjEyMi0uMTU4eiIgZmlsbD0iIzMxNzRCOSIvPgogIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTkuMjU2IDBzMy4zOCAzLjMyNi0zLjIwNyA4LjQ0Yy01LjI4MyA0LjEwMy0xLjIwNSA2LjQ0Mi0uMDAyIDkuMTE1LTMuMDg0LTIuNzM2LTUuMzQ3LTUuMTQ0LTMuODMtNy4zODZDMTQuNDQ4IDYuODc5IDIwLjYyIDUuMjgzIDE5LjI1NyAweiIgZmlsbD0iI0NBMzEzMiIvPgogIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTIuOTI3IDMxLjljNS44Ni4zNjggMTQuODYtLjIwNSAxNS4wNzMtMi45MzIgMCAwLS40MSAxLjAzMy00Ljg0MyAxLjg1My01LjAwMi45MjYtMTEuMTcyLjgxOS0xNC44My4yMjUgMCAwIC43NS42MSA0LjYuODUzeiIgZmlsbD0iIzMxNzRCOSIvPgo8L3N2Zz4K"},528:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPG1hc2sgaWQ9ImEiIG1hc2tVbml0cz0idXNlclNwYWNlT25Vc2UiIHg9IjUiIHk9IjQiIHdpZHRoPSIyMiIgaGVpZ2h0PSIyNCI+CiAgICA8cGF0aCBkPSJNMTYuMTAxIDQuMTVhMS4xNTEgMS4xNTEgMCAwMC0xLjEzOSAwTDUuNTYgOS41NzljLS4zNTguMjAxLS41NTkuNTgtLjU1OS45ODN2MTAuODc4YzAgLjQwMi4yMjMuNzgyLjU1OS45ODNsOS40MDMgNS40MjdhMS4xNTIgMS4xNTIgMCAwMDEuMTQgMGw5LjQwMy01LjQyN2MuMzU3LS4yMDEuNTU5LS41ODEuNTU5LS45ODNWMTAuNTZjMC0uNDAyLS4yMjQtLjc4Mi0uNTU5LS45ODNsLTkuNDA0LTUuNDI3eiIgZmlsbD0iI2ZmZiIvPgogIDwvbWFzaz4KICA8ZyBtYXNrPSJ1cmwoI2EpIj4KICAgIDxwYXRoIGQ9Ik0xNi4xMDEgNC4xNWExLjE1MSAxLjE1MSAwIDAwLTEuMTM5IDBMNS41NiA5LjU3OWMtLjM1OC4yMDEtLjU1OS41OC0uNTU5Ljk4M3YxMC44NzhjMCAuNDAyLjIyMy43ODIuNTU5Ljk4M2w5LjQwMyA1LjQyN2ExLjE1MiAxLjE1MiAwIDAwMS4xNCAwbDkuNDAzLTUuNDI3Yy4zNTctLjIwMS41NTktLjU4MS41NTktLjk4M1YxMC41NmMwLS40MDItLjIyNC0uNzgyLS41NTktLjk4M2wtOS40MDQtNS40Mjd6IiBmaWxsPSJ1cmwoI3BhaW50MF9saW5lYXIpIi8+CiAgICA8cGF0aCBkPSJNMjUuNTI3IDkuNTc3TDE2LjA4IDQuMTVhMS41NSAxLjU1IDAgMDAtLjI5LS4xMTJMNS4yIDIyLjE3NWMuMDg4LjEwNy4xOTQuMTk4LjMxMy4yNjhsOS40NDggNS40MjhjLjI2OC4xNTcuNTgxLjIwMS44NzEuMTEyTDI1Ljc3MyA5LjhhMS4xNzMgMS4xNzMgMCAwMC0uMjQ2LS4yMjN6IiBmaWxsPSJ1cmwoI3BhaW50MV9saW5lYXIpIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTI1LjU1IDIyLjQyMmMuMjY3LS4xNTcuNDY4LS40MjUuNTU4LS43MTVMMTUuNzQ0IDQuMDE3Yy0uMjY4LS4wNDUtLjU1OS0uMDIzLS44MDQuMTMzTDUuNTU5IDkuNTU2bDEwLjExOCAxOC40NWMuMTQ3LS4wMjQuMjktLjA3LjQyNC0uMTM0bDkuNDQ4LTUuNDV6IiBmaWxsPSJ1cmwoI3BhaW50Ml9saW5lYXIpIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTI1LjU1IDIyLjQyMmwtOS40MjYgNS40MjhhMS4zNDkgMS4zNDkgMCAwMS0uNDI0LjEzNGwuMTc4LjMzNSAxMC40NTMtNi4wNTN2LS4xMzRsLS4yNjgtLjQ0N2MtLjA0NC4zMTMtLjI0NS41OC0uNTE0LjczN3oiIGZpbGw9InVybCgjcGFpbnQzX2xpbmVhcikiLz4KICAgIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMjUuNTUgMjIuNDIybC05LjQyNiA1LjQyOGExLjM0OSAxLjM0OSAwIDAxLS40MjQuMTM0bC4xNzguMzM1IDEwLjQ1My02LjA1M3YtLjEzNGwtLjI2OC0uNDQ3Yy0uMDQ0LjMxMy0uMjQ1LjU4LS41MTQuNzM3eiIgZmlsbD0idXJsKCNwYWludDRfbGluZWFyKSIvPgogIDwvZz4KICA8ZGVmcz4KICAgIDxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQwX2xpbmVhciIgeDE9IjE5LjM2MyIgeTE9IjguMTk3IiB4Mj0iOS4wNTYiIHkyPSIyNC4zOTIiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzQxODczRiIvPgogICAgICA8c3RvcCBvZmZzZXQ9Ii4zMjkiIHN0b3AtY29sb3I9IiM0MThCM0QiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIuNjM1IiBzdG9wLWNvbG9yPSIjNDE5NjM3Ii8+CiAgICAgIDxzdG9wIG9mZnNldD0iLjkzMiIgc3RvcC1jb2xvcj0iIzNGQTkyRCIvPgogICAgICA8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiMzRkFFMkEiLz4KICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICA8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MV9saW5lYXIiIHgxPSIxNC4xMDQiIHkxPSIxNy4yNzMiIHgyPSIzOS45MTgiIHkyPSIzLjI0OSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgogICAgICA8c3RvcCBvZmZzZXQ9Ii4xMzgiIHN0b3AtY29sb3I9IiM0MTg3M0YiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIuNDAzIiBzdG9wLWNvbG9yPSIjNTRBMDQ0Ii8+CiAgICAgIDxzdG9wIG9mZnNldD0iLjcxNCIgc3RvcC1jb2xvcj0iIzY2Qjg0OCIvPgogICAgICA8c3RvcCBvZmZzZXQ9Ii45MDgiIHN0b3AtY29sb3I9IiM2Q0MwNEEiLz4KICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICA8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50Ml9saW5lYXIiIHgxPSI0LjY1NyIgeTE9IjE2IiB4Mj0iMjYuNDE2IiB5Mj0iMTYiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KICAgICAgPHN0b3Agb2Zmc2V0PSIuMDkyIiBzdG9wLWNvbG9yPSIjNkNDMDRBIi8+CiAgICAgIDxzdG9wIG9mZnNldD0iLjI4NiIgc3RvcC1jb2xvcj0iIzY2Qjg0OCIvPgogICAgICA8c3RvcCBvZmZzZXQ9Ii41OTciIHN0b3AtY29sb3I9IiM1NEEwNDQiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIuODYyIiBzdG9wLWNvbG9yPSIjNDE4NzNGIi8+CiAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDNfbGluZWFyIiB4MT0iNC42NTciIHkxPSIyNS4wMiIgeDI9IjI2LjQxNiIgeTI9IjI1LjAyIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgICAgIDxzdG9wIG9mZnNldD0iLjA5MiIgc3RvcC1jb2xvcj0iIzZDQzA0QSIvPgogICAgICA8c3RvcCBvZmZzZXQ9Ii4yODYiIHN0b3AtY29sb3I9IiM2NkI4NDgiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIuNTk3IiBzdG9wLWNvbG9yPSIjNTRBMDQ0Ii8+CiAgICAgIDxzdG9wIG9mZnNldD0iLjg2MiIgc3RvcC1jb2xvcj0iIzQxODczRiIvPgogICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQ0X2xpbmVhciIgeDE9IjI5LjU4NiIgeTE9IjcuNjgzIiB4Mj0iMjQuMDczIiB5Mj0iMzYuNTY4IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiM0MTg3M0YiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIuMzI5IiBzdG9wLWNvbG9yPSIjNDE4QjNEIi8+CiAgICAgIDxzdG9wIG9mZnNldD0iLjYzNSIgc3RvcC1jb2xvcj0iIzQxOTYzNyIvPgogICAgICA8c3RvcCBvZmZzZXQ9Ii45MzIiIHN0b3AtY29sb3I9IiMzRkE5MkQiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjM0ZBRTJBIi8+CiAgICA8L2xpbmVhckdyYWRpZW50PgogIDwvZGVmcz4KPC9zdmc+Cg=="},529:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+PHBhdGggZD0iTTE2LjU2IDI1LjEyNmMtLjAzNi0uMjM3LjAzMy0uNDczLS4wNC0uNjk1LS4wNjItLjE5NC0uMjA0LS4yMTItLjI5OC0uMzctLjI0Ni0uNDEzLS41LS45NDktLjUyNC0xLjQ1Ni0uMDIyLS40NTQtLjE5Mi0uODY2LS4yMTUtMS4zMTYtLjAxMS0uMjE4LjAxNS0uNDQyLjAwNy0uNjU4YTIuMDE1IDIuMDE1IDAgMDAtLjAzMi0uMzFsLS4wMzMtLjE5LjA1OC0uMTRjLS4wMjUtLjA0OS40OS0uMDMzLjY0NS0uMDMyLjI2MS4wMDMuNTA3LjAxNy43NjcuMDI5YTcuNTEgNy41MSAwIDAwMS41MzYtLjA2YzEuMTU2LS4xNzUgMS42ODctLjYzOSAxLjk1OS0uODMyIDEuMDYtLjc1MiAxLjU0Ny0xLjk4MiAxLjU0Ny0xLjk4Mi4xNzUtLjM4NS4xNzQtMS4wNy41NS0xLjM3Ny40NDItLjM2MyAxLjE4NS0uMzM2IDEuNjkyLS41NTkuMjk3LS4xMy41MTItLjIuODE1LS4xMzguMjI1LjA0Ni42My4zMDMuNzI0LS4wNTgtLjA3NS0uMDQ3LS4xMDUtLjEzNS0uMTQ1LS4xODMuNDE5LS4wNDEuMDA4LS45OTYtLjE1Ny0xLjE4Ny0uMjU2LS4yOTQtLjY4My0uNDMtMS4xMzctLjU0OC0uNTM5LS4xNC0xLjAyOC0uMzAyLTEuNTM2LS4yMDQtLjg4Ni4xNy0uODItLjMyOS0xLjM0My0uMzI5LS42MjcgMC0xLjc0Mi4wMy0xLjkzNS42My0uMDkuMjgtLjE4Mi4yOTItLjMzOC41MDYtLjEzMy4xODQuMDIzLjM0Ny0uMDQ0LjU1Ny0uMDY5LjIxNS0uMTcuOTc1LS4yNzYgMS4yNC0uMTc4LjQ1LS4zOTEgMS4wMS0uNzg1IDEuMDEtLjU1MS4wNjQtLjk4NS4wODUtMS40MzItLjA3NS0uMjctLjA5Ni0uNzItLjI0Ni0uOTQ0LS4zMzktMS4wMy0uNDI2LTEuMTk5LS44OTMtMS4xOTktLjg5My0uMTEtLjE4LS40MDEtLjQ2OS0uNTEtLjg0Ny0uMTItLjQxNi0uMzIyLS43NjMtLjQwNC0uOTgtLjA4NS0uMjI0LS4yODctLjU4NC0uNDQ3LS45NzItLjIwMy0uNDk4LS40OS0uODctLjctMS4wNTMtLjMyLS4yODEtLjYxNi0uNzE3LTEuMjY4LS41OS0uMTE2LjAyMi0uNTM5LjA0MS0uODYzLjMwOS0uMjIuMTgtLjI4OS41NTUtLjQ5Mi44Ny0uMTE4LjE4My0uMzI0LjcwNi0uNTE0IDEuMTQyLS4xMzEuMzAzLS4xOTMuNTMtLjMzNS42NC0uMTEuMDg4LS4yNDkuMi0uNDE1LjEzOWExLjI3IDEuMjcgMCAwMS0uMzI1LS4xODhjLS4xNS0uMTE2LS40OTMtLjY4OS0uNzAzLTEuMTEyLS4xODItLjM2Ny0uNTcxLS45MTUtLjc5Ni0xLjIxMi0uMzI0LS40MjctLjUxNC0uNTM1LS45OTItLjUzNS0xLjAyNiAwLTEuMTA0LjU2NS0xLjU1NSAxLjM4Ni0uMTk4LjM2MS0uMjcuOTM0LS42NjkgMS4zODMtLjIyNy4yNTctLjk1MyAxLjMxMy0xLjQ1OCAxLjQ5M3YtLjAwNUwyIDE1LjA0djcuNTI4bC4wMDEuMDF2LS4wNDdjLjAzMy0uMDk4LjA2OC0uMTkyLjEwNy0uMjc2LjE5NS0uNDEuNjQ4LS43ODkuOS0xLjIwOS4xMzctLjIyOS4yOTMtLjQ1My4zODMtLjY5My4wNzgtLjIwNy4xMTctLjUxNi4yMy0uNjk1LjEzNy0uMjIuMzU0LS4yOTUuNTc2LS4zMy4zNDctLjA1Ny42NDIuNDkgMS4wODcuNjkyLjE5LjA4NiAxLjA2Mi4zOSAxLjMyNC40NTIuNDMyLjEwMi45MS4xODYgMS4zNDguMjczLjIzNS4wNDcuNDYuMDc0LjcuMDk4LjIxNy4wMjIgMS4wMy4wNDggMS4wOC4xMDYtLjQxMy4yMDctLjY1NS43ODctLjgxIDEuMTk5LS4xNjEuNDI4LS4yNzQuOTA1LS40NyAxLjMyNC0uMjE2LjQ2My0uNjcuNjU1LS42MTUgMS4xOTUuMDIuMjE1LjA2LjQ0LjAyNC42NzgtLjAzOS4yNDktLjE0MS40NDQtLjIxNi42ODgtLjA5Ni4zMTgtLjIxIDEuMzQ3LS4zNTcgMS42NWwuOTAyLS4xMTJoLjAwMmMuMDk5LS4yMy4xOS0xLjIwNC4yMjEtMS4yOTdhMy40OSAzLjQ5IDAgMDEuNzM4LTEuMjY3Yy4zMzUtLjM2Ny4zMTgtLjg0Mi41MTQtMS4yNy4yMTMtLjQ2Ni40OTgtLjgzOC43NjgtMS4yNzYuNDg3LS43OTIuODA5LTEuNzkxIDEuODQ1LTEuOTk0LjExLS4wMjMuNzQ0LjQyNyAxLjAyNi42OTQuMzIyLjMwNS42NzQuNjU4Ljg4NiAxLjA3OC40MS44MTUuNzU4IDEuOTk0Ljg5IDIuNjQ1LjA3NS4zNzQuMTM1LjM5Ni4zOTIuNjkyLjExOC4xMzUuMzU0LjU2LjQzMi43MjIuMDgxLjE3My4yMDUuNTY5LjMwNC43Ny4wNTguMTIuMjEuNDkuMzE5LjgwOGwuODQzLS4wMjZjLjAwMy4wMDcuMDE5LS4wMDIuMDIyLjAwNWguMDAybC0uMDEtLjAyMWMtLjQyLS44My0uNjktMS43OS0uODI4LTIuNzA4eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xNi4wMjQgMjAuMjg2bC4wMDQtLjAxYy0uMDA2LS4wMjYtLjAwOC0uMDMyLS4wMDQuMDF6IiBmaWxsPSIjNDg0NDQ0Ii8+PHBhdGggZD0iTTE2LjAyNCAyMC4yODZsLjAwNC0uMDFjLS4wMDYtLjAyNi0uMDA4LS4wMzItLjAwNC4wMXoiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcikiLz48cGF0aCBkPSJNMTYuMjEyIDI3LjA2OGMtLjA5OS0uMjAyLS4yMjItLjU5Ny0uMzA0LS43Ny0uMDc4LS4xNjMtLjMxNC0uNTg3LS40MzItLjcyMy0uMjU3LS4yOTYtLjMxNy0uMzE4LS4zOTMtLjY5MS0uMTMtLjY1MS0uNDc5LTEuODMxLS44ODktMi42NDUtLjIxMi0uNDItLjU2NC0uNzczLS44ODYtMS4wNzgtLjI4MS0uMjY4LS45MTYtLjcxOC0xLjAyNi0uNjk1LTEuMDM2LjIwMy0xLjM1OCAxLjIwMy0xLjg0NSAxLjk5NC0uMjcuNDM4LS41NTUuODEtLjc2OCAxLjI3Ni0uMTk2LjQyOS0uMTc4LjkwMy0uNTE0IDEuMjctLjM0NS4zNzgtLjU2OS43OC0uNzM3IDEuMjY4LS4wMzIuMDkyLS4xMjMgMS4wNjYtLjIyMiAxLjI5NmwxLjU0LS4xMDZjMS40MzQuMDk2IDEuMDIuNjM3IDMuMjYuNTJsMy41MzUtLjEwOGE5Ljg4MiA5Ljg4MiAwIDAwLS4zMTktLjgwOHoiIGZpbGw9InVybCgjcGFpbnQxX2xpbmVhcikiLz48cGF0aCBkPSJNMjYuNDczIDRINS41M0MzLjU4MiA0IDIuMDAyIDUuNTU0IDIuMDAyIDcuNDd2Ny41NjljLjUwNS0uMTggMS4yMzEtMS4yMzUgMS40NTktMS40OTIuMzk3LS40NS40Ny0xLjAyMi42NjgtMS4zODMuNDUxLS44MjIuNTI5LTEuMzg3IDEuNTU1LTEuMzg3LjQ3OCAwIC42NjguMTA5Ljk5Mi41MzYuMjI1LjI5Ny42MTQuODQ1Ljc5NiAxLjIxMi4yMS40MjMuNTUyLjk5Ni43MDMgMS4xMTEuMTExLjA4Ni4yMjIuMTUuMzI1LjE4OS4xNjYuMDYxLjMwNC0uMDUyLjQxNS0uMTM5LjE0Mi0uMTExLjIwNC0uMzM4LjMzNS0uNjQuMTktLjQzNy4zOTYtLjk2LjUxNC0xLjE0Mi4yMDMtLjMxNS4yNzMtLjY5LjQ5Mi0uODcuMzI0LS4yNjguNzQ3LS4yODcuODY0LS4zMS42NS0uMTI2Ljk0Ny4zMSAxLjI2Ny41OS4yMS4xODUuNDk3LjU1Ni43IDEuMDUzLjE2LjM4OS4zNjIuNzQ4LjQ0Ny45NzMuMDgyLjIxNi4yODQuNTY0LjQwNC45OC4xMDkuMzc4LjQuNjY3LjUxLjg0NyAwIDAgLjE3LjQ2NiAxLjIuODkzLjIyMi4wOTIuNjc0LjI0My45NDMuMzM5LjQ0Ny4xNi44OC4xNCAxLjQzMi4wNzQuMzk0IDAgLjYwNy0uNTYuNzg1LTEuMDA5LjEwNi0uMjY1LjIwNy0xLjAyNS4yNzYtMS4yNC4wNjctLjIxLS4wODktLjM3My4wNDQtLjU1Ny4xNTYtLjIxNS4yNDgtLjIyNi4zMzgtLjUwNi4xOTMtLjYgMS4zMDgtLjYzIDEuOTM1LS42My41MjMgMCAuNDU3LjQ5OSAxLjM0My4zMjguNTA4LS4wOTguOTk3LjA2NSAxLjUzNi4yMDUuNDU0LjExOC44OC4yNTMgMS4xMzcuNTQ4LjE2NS4xOS41NzYgMS4xNDYuMTU3IDEuMTg2LjA0LjA0OS4wNy4xMzYuMTQ1LjE4NC0uMDkzLjM2LS40OTkuMTA0LS43MjQuMDU3LS4zMDMtLjA2Mi0uNTE4LjAxLS44MTUuMTM5LS41MDguMjIyLTEuMjUuMTk2LTEuNjkyLjU1OS0uMzc2LjMwNy0uMzc1Ljk5Mi0uNTUgMS4zNzYgMCAwLS40ODYgMS4yMy0xLjU0NyAxLjk4My0uMjcyLjE5My0uODAzLjY1Ny0xLjk1OC44MzJhNy40OTUgNy40OTUgMCAwMS0xLjUzNy4wNmMtLjI2LS4wMTMtLjUwNi0uMDI2LS43NjctLjAzLS4xNTQgMC0uNjctLjAxNi0uNjQ1LjAzMmwtLjA1Ny4xNDFjLjAwOC4wNDYuMDI3LjE2My4wMzMuMTkuMDIuMTE0LjAyNy4yMDUuMDMxLjMxLjAwOC4yMTUtLjAxOC40NC0uMDA3LjY1Ny4wMjMuNDUxLjE5My44NjIuMjE1IDEuMzE3LjAyMy41MDcuMjc4IDEuMDQzLjUyNSAxLjQ1Ni4wOTMuMTU4LjIzNS4xNzYuMjk3LjM3LjA3My4yMjIuMDA0LjQ1OC4wNC42OTUuMTM4LjkxOC40MDcgMS44NzguODI4IDIuNzA3YS4yMTUuMjE1IDAgMDAuMDEuMDJjLjUxOS0uMDg1IDEuMDQtLjI2OSAxLjcxNC0uMzY3IDEuMjM3LS4xOCAyLjk1Ny0uMDg3IDQuMDYyLS4xOSAyLjc5Ny0uMjU4IDQuMzE0IDEuMTI5IDYuODI2LjU2VjcuNDdDMzAgNS41NTQgMjguNDIgNCAyNi40NzMgNHpNMTYuMDI1IDIwLjI4NWMtLjAwNC0uMDQxLS4wMDItLjAzNS4wMDQtLjAxbC0uMDA0LjAxeiIgZmlsbD0idXJsKCNwYWludDJfbGluZWFyKSIvPjxwYXRoIGQ9Ik04LjQ1NyAyMy40NzFjLjE5NS0uNDE5LjMwNy0uODk1LjQ2OS0xLjMyNC4xNTUtLjQxLjM5Ny0uOTkyLjgxLTEuMTk5LS4wNTEtLjA1Ny0uODYzLS4wODQtMS4wOC0uMTA1YTcuMTc2IDcuMTc2IDAgMDEtLjctLjA5OGMtLjQzOC0uMDg3LS45MTYtLjE3MS0xLjM0OC0uMjczYTE0LjM1OSAxNC4zNTkgMCAwMS0xLjMyNC0uNDUyYy0uNDQ1LS4yMDItLjc0LS43NS0xLjA4OC0uNjkzLS4yMjIuMDM2LS40MzguMTEtLjU3Ni4zMy0uMTEyLjE4LS4xNS40ODgtLjIyOS42OTUtLjA5LjI0LS4yNDYuNDY1LS4zODMuNjk0LS4yNTIuNDItLjcwNS44LS45IDEuMjA5LS4wNC4wODQtLjA3NC4xNzgtLjEwNy4yNzZ2NC42NzZjLjIyOC4wMzkuNDY2LjA4Ni43MzMuMTU2IDEuOTY3LjUxNiAyLjQ0Ny41NiA0LjM3Ni4zNDNsLjE4MS0uMDI0Yy4xNDgtLjMwMi4yNjItMS4zMzEuMzU3LTEuNjUuMDc1LS4yNDQuMTc4LS40MzkuMjE2LS42ODguMDM3LS4yMzctLjAwMy0uNDYzLS4wMjQtLjY3OC0uMDUzLS41MzkuNC0uNzMyLjYxNy0xLjE5NXoiIGZpbGw9InVybCgjcGFpbnQzX2xpbmVhcikiLz48L2c+PGRlZnM+PGxpbmVhckdyYWRpZW50IGlkPSJwYWludDBfbGluZWFyIiB4MT0iMTYuMDI1IiB5MT0iMjAuMjU1IiB4Mj0iMTYuMDI1IiB5Mj0iMjAuMjg2IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHN0b3Agc3RvcC1jb2xvcj0iI0YyOTEwMCIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI0VDNjcwRiIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IGlkPSJwYWludDFfbGluZWFyIiB4MT0iMTIuMzY0IiB5MT0iMjAuNDY1IiB4Mj0iMTIuMzY0IiB5Mj0iMjgiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj48c3RvcCBzdG9wLWNvbG9yPSIjRjI5MTAwIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjRUM2NzBGIi8+PC9saW5lYXJHcmFkaWVudD48bGluZWFyR3JhZGllbnQgaWQ9InBhaW50Ml9saW5lYXIiIHgxPSIxNi4wMDIiIHkxPSI0IiB4Mj0iMTYuMDAyIiB5Mj0iMjcuOTk1IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHN0b3Agc3RvcC1jb2xvcj0iI0YyOTEwMCIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI0VDNjcwRiIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IGlkPSJwYWludDNfbGluZWFyIiB4MT0iNS44NjgiIHkxPSIxOS4zMjMiIHgyPSI1Ljg2OCIgeTI9IjI3LjgyOSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIHN0b3AtY29sb3I9IiNGMjkxMDAiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNFQzY3MEYiLz48L2xpbmVhckdyYWRpZW50PjxjbGlwUGF0aCBpZD0iY2xpcDAiPjxwYXRoIGZpbGw9IiNmZmYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIgNCkiIGQ9Ik0wIDBoMjh2MjRIMHoiLz48L2NsaXBQYXRoPjwvZGVmcz48L3N2Zz4K"},530:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTI4IiBoZWlnaHQ9IjEyOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8c3ZnIHZpZXdCb3g9IjQgNCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxwYXRoIGQ9Ik0xNi43NSA2LjE2NWExLjUgMS41IDAgMDAtMS41IDBsLTcuMzkyIDQuMjY4YTEuNSAxLjUgMCAwMC0uNzUgMS4zdjguNTM1YTEuNSAxLjUgMCAwMC43NSAxLjI5OWw3LjM5MiA0LjI2OGExLjUgMS41IDAgMDAxLjUgMGw3LjM5Mi00LjI2OGExLjUgMS41IDAgMDAuNzUtMS4yOTl2LTguNTM2YTEuNSAxLjUgMCAwMC0uNzUtMS4yOTlMMTYuNzUgNi4xNjV6bS43NS0xLjI5OWw3LjM5MiA0LjI2OGEzIDMgMCAwMTEuNSAyLjU5OHY4LjUzNmEzIDMgMCAwMS0xLjUgMi41OThMMTcuNSAyNy4xMzRhMyAzIDAgMDEtMyAwbC03LjM5Mi00LjI2OGEzIDMgMCAwMS0xLjUtMi41OTh2LTguNTM2YTMgMyAwIDAxMS41LTIuNTk4TDE0LjUgNC44NjZhMyAzIDAgMDEzIDB6IiBmaWxsPSIjOThBMkIzIi8+CiAgPC9zdmc+CiAgPHN2ZyB4PSIzMiIgeT0iMzIiIHdpZHRoPSI2NCIgaGVpZ2h0PSI2NCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiByb2xlPSJpbWciIHZpZXdCb3g9IjAgMCAxMDI0LjQwIDEwMjQuNDAiPgogICAgPHN0eWxlPnN2ZyB7ZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMDAwIDEwMDB9PC9zdHlsZT4KICAgIDxwYXRoIGZpbGw9IiNmNWE4MDAiIGQ9Ik01MjguNyA1NDUuOWMtNDIgNDItNDIgMTEwLjEgMCAxNTIuMXMxMTAuMSA0MiAxNTIuMSAwIDQyLTExMC4xIDAtMTUyLjEtMTEwLjEtNDItMTUyLjEgMHptMTEzLjcgMTEzLjhjLTIwLjggMjAuOC01NC41IDIwLjgtNzUuMyAwLTIwLjgtMjAuOC0yMC44LTU0LjUgMC03NS4zIDIwLjgtMjAuOCA1NC41LTIwLjggNzUuMyAwIDIwLjggMjAuNyAyMC44IDU0LjUgMCA3NS4zem0zNi42LTY0M2wtNjUuOSA2NS45Yy0xMi45IDEyLjktMTIuOSAzNC4xIDAgNDdsMjU3LjMgMjU3LjNjMTIuOSAxMi45IDM0LjEgMTIuOSA0NyAwbDY1LjktNjUuOWMxMi45LTEyLjkgMTIuOS0zNC4xIDAtNDdMNzI1LjkgMTYuN2MtMTIuOS0xMi45LTM0LTEyLjktNDYuOSAwek0yMTcuMyA4NTguOGMxMS43LTExLjcgMTEuNy0zMC44IDAtNDIuNWwtMzMuNS0zMy41Yy0xMS43LTExLjctMzAuOC0xMS43LTQyLjUgMEw3Mi4xIDg1MmwtLjEuMS0xOS0xOWMtMTAuNS0xMC41LTI3LjYtMTAuNS0zOCAwLTEwLjUgMTAuNS0xMC41IDI3LjYgMCAzOGwxMTQgMTE0YzEwLjUgMTAuNSAyNy42IDEwLjUgMzggMHMxMC41LTI3LjYgMC0zOGwtMTktMTkgLjEtLjEgNjkuMi02OS4yeiIvPgogICAgPHBhdGggZmlsbD0iIzQyNWNjNyIgZD0iTTU2NS45IDIwNS45TDQxOS41IDM1Mi4zYy0xMyAxMy0xMyAzNC40IDAgNDcuNGw5MC40IDkwLjRjNjMuOS00NiAxNTMuNS00MC4zIDIxMSAxNy4ybDczLjItNzMuMmMxMy0xMyAxMy0zNC40IDAtNDcuNEw2MTMuMyAyMDUuOWMtMTMtMTMuMS0zNC40LTEzLjEtNDcuNCAwem0tOTQgMzIyLjNsLTUzLjQtNTMuNGMtMTIuNS0xMi41LTMzLTEyLjUtNDUuNSAwTDE4NC43IDY2My4yYy0xMi41IDEyLjUtMTIuNSAzMyAwIDQ1LjVsMTA2LjcgMTA2LjdjMTIuNSAxMi41IDMzIDEyLjUgNDUuNSAwTDQ1OCA2OTQuMWMtMjUuNi01Mi45LTIxLTExNi44IDEzLjktMTY1Ljl6Ii8+CiAgPC9zdmc+Cjwvc3ZnPgoKCg=="},531:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZwogICAgICB3aWR0aD0iMzIiCiAgICAgIGhlaWdodD0iMzIiCiAgICAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgICAgdmlld0JveD0iMCAwIDMyIDMyIiBmaWxsPSIjMDAwMDAwIj4KICAgICAgPHBhdGggZD0iTTMuMzczOTkgMTEuMTU1M0g3LjgyMzE0QzkuMTI5MDEgMTEuMTY2MiAxMC4wNzUzIDExLjU0MDggMTAuNjYyIDEyLjI3ODZDMTEuMjQ4NyAxMy4wMTY0IDExLjQ0MjIgMTQuMDI0MSAxMS4yNDMgMTUuMzAxN0MxMS4xNjU2IDE1Ljg4NTUgMTAuOTk0IDE2LjQ1ODEgMTAuNzI4NCAxNy4wMTk4QzEwLjQ3MzcgMTcuNTgxNSAxMC4xMTk4IDE4LjA4OCA5LjY2NTg5IDE4LjUzOTZDOS4xMTI0MSAxOS4xMTIyIDguNTIwNCAxOS40NzU2IDcuODg5NTUgMTkuNjI5OUM3LjI1ODcgMTkuNzg0MiA2LjYwNTYxIDE5Ljg2MTIgNS45MzA1OSAxOS44NjEySDMuOTM4NDNMMy4zMDc1OCAyM0gxTDMuMzczOTkgMTEuMTU1M1YxMS4xNTUzWk01LjMxNjM0IDEzLjAzODVMNC4zMjAyNiAxNy45OTQ1QzQuMzg2NjcgMTguMDA1NCA0LjQ1MzA3IDE4LjAxMSA0LjUxOTQ4IDE4LjAxMUM0LjU5Njg1IDE4LjAxMSA0LjY3NDUzIDE4LjAxMSA0Ljc1MTkgMTguMDExQzUuODE0MzggMTguMDIxOSA2LjY5OTg5IDE3LjkxNzUgNy40MDgxMSAxNy42OTcxQzguMTE2MzMgMTcuNDY1OCA4LjU5MjQ0IDE2LjY2MiA4LjgzNTgyIDE1LjI4NTJDOS4wMzUwNCAxNC4xMjg4IDguODM1ODIgMTMuNDYyNCA4LjIzODE3IDEzLjI4NjNDNy42NTE0OSAxMy4xMTAyIDYuOTE1NzEgMTMuMDI3NiA2LjAzMDIgMTMuMDM4NUM1Ljg5NzM5IDEzLjA0OTQgNS43NzAyMiAxMy4wNTUxIDUuNjQ4MzcgMTMuMDU1MUM1LjUzNzggMTMuMDU1MSA1LjQyMTU5IDEzLjA1NTEgNS4yOTk3NCAxMy4wNTUxTDUuMzE2MzQgMTMuMDM4NSIgLz4KICAgICAgPHBhdGggZD0iTTEzLjg3MTUgOEgxNi4xNjI1TDE1LjUxNTEgMTEuMTU1M0gxNy41NzM2QzE4LjcwMjUgMTEuMTc3NCAxOS41NDM2IDExLjQwODcgMjAuMDk3IDExLjg0OTFDMjAuNjYxNSAxMi4yODk1IDIwLjgyNzUgMTMuMTI2NyAyMC41OTUxIDE0LjM2MDFMMTkuNDgyOCAxOS44NjEySDE3LjE1ODZMMTguMjIxMSAxNC42MDc5QzE4LjMzMTcgMTQuMDU3MiAxOC4yOTg1IDEzLjY2NjMgMTguMTIxNSAxMy40MzVDMTcuOTQ0NSAxMy4yMDM3IDE3LjU2MjcgMTMuMDg4MSAxNi45NzYgMTMuMDg4MUwxNS4xMzMyIDEzLjA3MTZMMTMuNzcxOSAxOS44NjEySDExLjQ4MUwxMy44NzE1IDhaIiAvPgogICAgICA8cGF0aCBkPSJNMjMuMDU1MSAxMS4xNTUzSDI3LjUwNDNDMjguODEwMiAxMS4xNjYyIDI5Ljc1NjQgMTEuNTQwOCAzMC4zNDMxIDEyLjI3ODZDMzAuOTI5OCAxMy4wMTY0IDMxLjEyMzQgMTQuMDI0MSAzMC45MjQyIDE1LjMwMTdDMzAuODQ2OCAxNS44ODU1IDMwLjY3NTEgMTYuNDU4MSAzMC40MDk1IDE3LjAxOThDMzAuMTU0OSAxNy41ODE1IDI5LjgwMDkgMTguMDg4IDI5LjM0NyAxOC41Mzk2QzI4Ljc5MzYgMTkuMTEyMiAyOC4yMDE1IDE5LjQ3NTYgMjcuNTcwNyAxOS42Mjk5QzI2LjkzOTggMTkuNzg0MiAyNi4yODY4IDE5Ljg2MTIgMjUuNjExNyAxOS44NjEySDIzLjYxOTZMMjIuOTg4NyAyM0gyMC42ODEyTDIzLjA1NTEgMTEuMTU1M1YxMS4xNTUzWk0yNC45OTc1IDEzLjAzODVMMjQuMDAxNCAxNy45OTQ1QzI0LjA2NzggMTguMDA1NCAyNC4xMzQyIDE4LjAxMSAyNC4yMDA2IDE4LjAxMUMyNC4yNzggMTguMDExIDI0LjM1NTcgMTguMDExIDI0LjQzMyAxOC4wMTFDMjUuNDk1NSAxOC4wMjE5IDI2LjM4MSAxNy45MTc1IDI3LjA4OTMgMTcuNjk3MUMyNy43OTc1IDE3LjQ2NTggMjguMjczNiAxNi42NjIgMjguNTE3IDE1LjI4NTJDMjguNzE2MiAxNC4xMjg4IDI4LjUxNyAxMy40NjI0IDI3LjkxOTMgMTMuMjg2M0MyNy4zMzI2IDEzLjExMDIgMjYuNTk2OSAxMy4wMjc2IDI1LjcxMTMgMTMuMDM4NUMyNS41Nzg1IDEzLjA0OTQgMjUuNDUxNCAxMy4wNTUxIDI1LjMyOTUgMTMuMDU1MUMyNS4yMTg5IDEzLjA1NTEgMjUuMTAyNyAxMy4wNTUxIDI0Ljk4MDkgMTMuMDU1MUwyNC45OTc1IDEzLjAzODUiIC8+CiAgICA8L3N2Zz4="},532:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+CiAgICA8cGF0aCBkPSJNMTUuODk3IDQuMDA3Yy02LjA3OCAwLTUuNjk4IDIuNjM1LTUuNjk4IDIuNjM1bC4wMDcgMi43M2g1Ljh2LjgySDcuOTAxcy0zLjg4OS0uNDQtMy44ODkgNS42OTFjMCA2LjEzMyAzLjM5NCA1LjkxNSAzLjM5NCA1LjkxNWgyLjAyNnYtMi44NDVzLS4xMDktMy4zOTUgMy4zNC0zLjM5NWg1Ljc1M3MzLjIzMS4wNTMgMy4yMzEtMy4xMjN2LTUuMjVzLjQ5MS0zLjE3OC01Ljg2LTMuMTc4em0tMy4xOTggMS44MzZhMS4wNDMgMS4wNDMgMCAxMS4wMDIgMi4wODYgMS4wNDMgMS4wNDMgMCAwMS0uMDAyLTIuMDg2eiIgZmlsbD0idXJsKCNwYWludDBfbGluZWFyKSIvPgogICAgPHBhdGggZD0iTTE2LjA3IDI3LjgyMmM2LjA3NyAwIDUuNjk4LTIuNjM1IDUuNjk4LTIuNjM1bC0uMDA3LTIuNzNoLTUuOHYtLjgyaDguMTAzczMuODkuNDQgMy44OS01LjY5MmMwLTYuMTMyLTMuMzk1LTUuOTE1LTMuMzk1LTUuOTE1aC0yLjAyNnYyLjg0NnMuMTEgMy4zOTQtMy4zNCAzLjM5NGgtNS43NTJzLTMuMjMyLS4wNTItMy4yMzIgMy4xMjR2NS4yNXMtLjQ5IDMuMTc4IDUuODYgMy4xNzh6bTMuMTk4LTEuODM2YTEuMDQgMS4wNCAwIDAxLTEuMDQ0LTEuMDQzIDEuMDQxIDEuMDQxIDAgMDExLjQ0My0uOTY1IDEuMDQyIDEuMDQyIDAgMDEwIDEuOTI5IDEuMDQgMS4wNCAwIDAxLS40LjA3OXoiIGZpbGw9InVybCgjcGFpbnQxX2xpbmVhcikiLz4KICA8L2c+CiAgPGRlZnM+CiAgICA8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXIiIHgxPSI2LjMxNCIgeTE9IjYuMTQ5IiB4Mj0iMTguMTc4IiB5Mj0iMTcuODk0IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiMzODdFQjgiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjMzY2OTk0Ii8+CiAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDFfbGluZWFyIiB4MT0iMTMuNTk2IiB5MT0iMTMuNjkxIiB4Mj0iMjYuMzM3IiB5Mj0iMjUuNzM1IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGRkUwNTIiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjRkZDMzMxIi8+CiAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPGNsaXBQYXRoIGlkPSJjbGlwMCI+CiAgICAgIDxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik00IDRoMjR2MjMuOTA0SDR6Ii8+CiAgICA8L2NsaXBQYXRoPgogIDwvZGVmcz4KPC9zdmc+Cg=="},533:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+CiAgICA8cGF0aCBkPSJNMjIuNTEgMTkuNzI2bC0xMy42NCA4LjEgMTcuNjYyLTEuMTk4IDEuMzYtMTcuODEtNS4zODEgMTAuOTA4eiIgZmlsbD0idXJsKCNwYWludDBfbGluZWFyKSIvPgogICAgPHBhdGggZD0iTTI2LjU2MSAyNi42MTZsLTEuNTE4LTEwLjQ3OC00LjEzNSA1LjQ2IDUuNjUzIDUuMDE4eiIgZmlsbD0idXJsKCNwYWludDFfbGluZWFyKSIvPgogICAgPHBhdGggZD0iTTI2LjU4MiAyNi42MTZsLTExLjEyMi0uODczLTYuNTMyIDIuMDYgMTcuNjU0LTEuMTg3eiIgZmlsbD0idXJsKCNwYWludDJfbGluZWFyKSIvPgogICAgPHBhdGggZD0iTTguOTQ0IDI3LjgwNmwyLjc3OS05LjEwMi02LjExNCAxLjMwNyAzLjMzNSA3Ljc5NXoiIGZpbGw9InVybCgjcGFpbnQzX2xpbmVhcikiLz4KICAgIDxwYXRoIGQ9Ik0yMC45MDcgMjEuNjI4bC0yLjU1Ni0xMC4wMTQtNy4zMTcgNi44NTggOS44NzMgMy4xNTZ6IiBmaWxsPSJ1cmwoI3BhaW50NF9saW5lYXIpIi8+CiAgICA8cGF0aCBkPSJNMjcuMzEzIDExLjc1NWwtNi45MTYtNS42NDgtMS45MjYgNi4yMjYgOC44NDItLjU3OHoiIGZpbGw9InVybCgjcGFpbnQ1X2xpbmVhcikiLz4KICAgIDxwYXRoIGQ9Ik0yNC4wNzggNC4wOTNMMjAuMDExIDYuMzRsLTIuNTY2LTIuMjc4IDYuNjMzLjAzeiIgZmlsbD0idXJsKCNwYWludDZfbGluZWFyKSIvPgogICAgPHBhdGggZD0iTTQgMjMuMDY0bDEuNzA0LTMuMTA3LTEuMzc4LTMuNzAyTDQgMjMuMDY1eiIgZmlsbD0idXJsKCNwYWludDdfbGluZWFyKSIvPgogICAgPHBhdGggZD0iTTQuMjM0IDE2LjEzOGwxLjM4NyAzLjkzMyA2LjAyNi0xLjM1MiA2Ljg4LTYuMzk0IDEuOTQxLTYuMTY2TDE3LjQxMSA0bC01LjE5OCAxLjk0NWMtMS42MzcgMS41MjMtNC44MTUgNC41MzctNC45MyA0LjU5My0uMTEzLjA1OC0yLjA5OCAzLjgxLTMuMDQ5IDUuNnoiIGZpbGw9IiNmZmYiLz4KICAgIDxwYXRoIGQ9Ik05LjEwNCA5LjA3MWMzLjU0OS0zLjUxOSA4LjEyNC01LjU5OCA5Ljg4LTMuODI2IDEuNzU0IDEuNzcxLS4xMDcgNi4wNzYtMy42NTYgOS41OTRzLTguMDY3IDUuNzExLTkuODIyIDMuOTRjLTEuNzU2LTEuNzcuMDQ4LTYuMTkgMy41OTgtOS43MDh6IiBmaWxsPSJ1cmwoI3BhaW50OF9saW5lYXIpIi8+CiAgICA8cGF0aCBkPSJNOC45NDQgMjcuODAybDIuNzU3LTkuMTMgOS4xNTUgMi45NGMtMy4zMSAzLjEwNC02Ljk5MiA1LjcyOS0xMS45MTIgNi4xOXoiIGZpbGw9InVybCgjcGFpbnQ5X2xpbmVhcikiLz4KICAgIDxwYXRoIGQ9Ik0xOC41MzkgMTIuMzA4bDIuMzUgOS4zMWMyLjc2NS0yLjkwOCA1LjI0Ny02LjAzNCA2LjQ2Mi05LjlsLTguODEyLjU5eiIgZmlsbD0idXJsKCNwYWludDEwX2xpbmVhcikiLz4KICAgIDxwYXRoIGQ9Ik0yNy4zMjcgMTEuNzY1Yy45NC0yLjgzOSAxLjE1OC02LjkxMS0zLjI3OC03LjY2N2wtMy42NCAyLjAxIDYuOTE4IDUuNjU3eiIgZmlsbD0idXJsKCNwYWludDExX2xpbmVhcikiLz4KICAgIDxwYXRoIGQ9Ik00IDIzLjAyM2MuMTMgNC42ODYgMy41MSA0Ljc1NSA0Ljk1IDQuNzk2bC0zLjMyNi03Ljc2N0w0IDIzLjAyM3oiIGZpbGw9IiM5RTEyMDkiLz4KICAgIDxwYXRoIGQ9Ik0xOC41NTIgMTIuMzIyYzIuMTI1IDEuMzA2IDYuNDA3IDMuOTI5IDYuNDk0IDMuOTc3LjEzNS4wNzYgMS44NDYtMi44ODYgMi4yMzQtNC41NmwtOC43MjguNTgzeiIgZmlsbD0idXJsKCNwYWludDEyX3JhZGlhbCkiLz4KICAgIDxwYXRoIGQ9Ik0xMS42OTcgMTguNjcxbDMuNjg2IDcuMTFjMi4xNzktMS4xODIgMy44ODUtMi42MjEgNS40NDgtNC4xNjRsLTkuMTM0LTIuOTQ2eiIgZmlsbD0idXJsKCNwYWludDEzX3JhZGlhbCkiLz4KICAgIDxwYXRoIGQ9Ik01LjYxIDIwLjA2MmwtLjUyMiA2LjIxN2MuOTg1IDEuMzQ2IDIuMzQgMS40NjMgMy43NjIgMS4zNTgtMS4wMjgtMi41Ni0zLjA4My03LjY4LTMuMjQtNy41NzV6IiBmaWxsPSJ1cmwoI3BhaW50MTRfbGluZWFyKSIvPgogICAgPHBhdGggZD0iTTIwLjM4OCA2LjEyM2w3LjMyMSAxLjAyOGMtLjM5LTEuNjU2LTEuNTktMi43MjQtMy42MzUtMy4wNThsLTMuNjg2IDIuMDN6IiBmaWxsPSJ1cmwoI3BhaW50MTVfbGluZWFyKSIvPgogIDwvZz4KICA8ZGVmcz4KICAgIDxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQwX2xpbmVhciIgeDE9IjI0Ljk5MiIgeTE9IjI5Ljk5MyIgeDI9IjE5Ljk1NyIgeTI9IjIxLjA5MSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgogICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRkI3NjU1Ii8+CiAgICAgIDxzdG9wIG9mZnNldD0iLjQxIiBzdG9wLWNvbG9yPSIjRTQyQjFFIi8+CiAgICAgIDxzdG9wIG9mZnNldD0iLjk5IiBzdG9wLWNvbG9yPSIjOTAwIi8+CiAgICAgIDxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzkwMCIvPgogICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQxX2xpbmVhciIgeDE9IjI3LjUwMyIgeTE9IjIyLjUxOCIgeDI9IjIwLjQyNSIgeTI9IjIxLjEzNSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgogICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjODcxMTAxIi8+CiAgICAgIDxzdG9wIG9mZnNldD0iLjk5IiBzdG9wLWNvbG9yPSIjOTExMjA5Ii8+CiAgICAgIDxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzkxMTIwOSIvPgogICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQyX2xpbmVhciIgeDE9IjIyLjMwNSIgeTE9IjMwLjI2MyIgeDI9IjIyLjIxNCIgeTI9IjI1Ljc3NCIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgogICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjODcxMTAxIi8+CiAgICAgIDxzdG9wIG9mZnNldD0iLjk5IiBzdG9wLWNvbG9yPSIjOTExMjA5Ii8+CiAgICAgIDxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzkxMTIwOSIvPgogICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQzX2xpbmVhciIgeDE9IjguNjY2IiB5MT0iMTkuMzYyIiB4Mj0iMTAuNzcxIiB5Mj0iMjUuNTMzIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNmZmYiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIuMjMiIHN0b3AtY29sb3I9IiNFNTcyNTIiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIuNDYiIHN0b3AtY29sb3I9IiNERTNCMjAiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIuOTkiIHN0b3AtY29sb3I9IiNBNjAwMDMiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjQTYwMDAzIi8+CiAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDRfbGluZWFyIiB4MT0iMTUuNTkzIiB5MT0iMTMuMjUxIiB4Mj0iMTUuOTc1IiB5Mj0iMTkuOTMiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI2ZmZiIvPgogICAgICA8c3RvcCBvZmZzZXQ9Ii4yMyIgc3RvcC1jb2xvcj0iI0U0NzE0RSIvPgogICAgICA8c3RvcCBvZmZzZXQ9Ii41NiIgc3RvcC1jb2xvcj0iI0JFMUEwRCIvPgogICAgICA8c3RvcCBvZmZzZXQ9Ii45OSIgc3RvcC1jb2xvcj0iI0E4MEQwMCIvPgogICAgICA8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNBODBEMDAiLz4KICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICA8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50NV9saW5lYXIiIHgxPSIyMS43MzkiIHkxPSI3LjA3OCIgeDI9IjIyLjI5NyIgeTI9IjExLjkyOCIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgogICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjZmZmIi8+CiAgICAgIDxzdG9wIG9mZnNldD0iLjE4IiBzdG9wLWNvbG9yPSIjRTQ2MzQyIi8+CiAgICAgIDxzdG9wIG9mZnNldD0iLjQiIHN0b3AtY29sb3I9IiNDODI0MTAiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIuOTkiIHN0b3AtY29sb3I9IiNBODBEMDAiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjQTgwRDAwIi8+CiAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDZfbGluZWFyIiB4MT0iMTguMzQ3IiB5MT0iNS4zOTIiIHgyPSIxOS4xMzQiIHkyPSIyLjA1NSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgogICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjZmZmIi8+CiAgICAgIDxzdG9wIG9mZnNldD0iLjU0IiBzdG9wLWNvbG9yPSIjQzgxRjExIi8+CiAgICAgIDxzdG9wIG9mZnNldD0iLjk5IiBzdG9wLWNvbG9yPSIjQkYwOTA1Ii8+CiAgICAgIDxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI0JGMDkwNSIvPgogICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQ3X2xpbmVhciIgeDE9IjQuNDcxIiB5MT0iMTcuNjk0IiB4Mj0iNi41MjkiIHkyPSIxOC45ODQiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI2ZmZiIvPgogICAgICA8c3RvcCBvZmZzZXQ9Ii4zMSIgc3RvcC1jb2xvcj0iI0RFNDAyNCIvPgogICAgICA8c3RvcCBvZmZzZXQ9Ii45OSIgc3RvcC1jb2xvcj0iI0JGMTkwQiIvPgogICAgICA8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNCRjE5MEIiLz4KICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICA8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50OF9saW5lYXIiIHgxPSIxLjc2MiIgeTE9IjIyLjcwNCIgeDI9IjIwLjI1NSIgeTI9IjMuNjM1IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNCRDAwMTIiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIuMDciIHN0b3AtY29sb3I9IiNmZmYiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIuMTciIHN0b3AtY29sb3I9IiNmZmYiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIuMjciIHN0b3AtY29sb3I9IiNDODJGMUMiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIuMzMiIHN0b3AtY29sb3I9IiM4MjBDMDEiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIuNDYiIHN0b3AtY29sb3I9IiNBMzE2MDEiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIuNzIiIHN0b3AtY29sb3I9IiNCMzEzMDEiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIuOTkiIHN0b3AtY29sb3I9IiNFODI2MDkiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjRTgyNjA5Ii8+CiAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDlfbGluZWFyIiB4MT0iMTUuOTQ4IiB5MT0iMjQuNjI1IiB4Mj0iMTAuNzE0IiB5Mj0iMjIuNDI3IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiM4QzBDMDEiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIuNTQiIHN0b3AtY29sb3I9IiM5OTBDMDAiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIuOTkiIHN0b3AtY29sb3I9IiNBODBEMEUiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjQTgwRDBFIi8+CiAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDEwX2xpbmVhciIgeDE9IjI1LjUyOSIgeTE9IjE3LjkzIiB4Mj0iMjAuMTM4IiB5Mj0iMTQuMTAxIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiM3RTExMEIiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIuOTkiIHN0b3AtY29sb3I9IiM5RTBDMDAiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjOUUwQzAwIi8+CiAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDExX2xpbmVhciIgeDE9IjI3LjM0OSIgeTE9IjkuNzgxIiB4Mj0iMjQuODE0IiB5Mj0iNy4yMDciIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzc5MTMwRCIvPgogICAgICA8c3RvcCBvZmZzZXQ9Ii45OSIgc3RvcC1jb2xvcj0iIzlFMTIwQiIvPgogICAgICA8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiM5RTEyMEIiLz4KICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICA8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MTRfbGluZWFyIiB4MT0iNy4yMTYiIHkxPSIyNy43OTciIHgyPSIyLjY3MSIgeTI9IjI0LjAyNCIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgogICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjOEIyMTE0Ii8+CiAgICAgIDxzdG9wIG9mZnNldD0iLjQzIiBzdG9wLWNvbG9yPSIjOUUxMDBBIi8+CiAgICAgIDxzdG9wIG9mZnNldD0iLjk5IiBzdG9wLWNvbG9yPSIjQjMxMDBDIi8+CiAgICAgIDxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI0IzMTAwQyIvPgogICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQxNV9saW5lYXIiIHgxPSIyMi42NDgiIHkxPSI1LjE4MSIgeDI9IjIzLjkzOSIgeTI9IjguNDQ1IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNCMzEwMDAiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIuNDQiIHN0b3AtY29sb3I9IiM5MTBGMDgiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIuOTkiIHN0b3AtY29sb3I9IiM3OTFDMTIiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjNzkxQzEyIi8+CiAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPHJhZGlhbEdyYWRpZW50IGlkPSJwYWludDEyX3JhZGlhbCIgY3g9IjAiIGN5PSIwIiByPSIxIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCg2LjA3Mjc5IDAgMCAzLjE3MzE4IDIxLjM0NSAxMy41NzMpIj4KICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0E4MEQwMCIvPgogICAgICA8c3RvcCBvZmZzZXQ9Ii45OSIgc3RvcC1jb2xvcj0iIzdFMEUwOCIvPgogICAgICA8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiM3RTBFMDgiLz4KICAgIDwvcmFkaWFsR3JhZGllbnQ+CiAgICA8cmFkaWFsR3JhZGllbnQgaWQ9InBhaW50MTNfcmFkaWFsIiBjeD0iMCIgY3k9IjAiIHI9IjEiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDguMDcyODQgMCAwIDYuMjg0MzEgMTIuOTM1IDIxLjU3NikiPgogICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjQTMwQzAwIi8+CiAgICAgIDxzdG9wIG9mZnNldD0iLjk5IiBzdG9wLWNvbG9yPSIjODAwRTA4Ii8+CiAgICAgIDxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzgwMEUwOCIvPgogICAgPC9yYWRpYWxHcmFkaWVudD4KICAgIDxjbGlwUGF0aCBpZD0iY2xpcDAiPgogICAgICA8cGF0aCBmaWxsPSIjZmZmIiBkPSJNNCA0aDI0djIzLjkwNEg0eiIvPgogICAgPC9jbGlwUGF0aD4KICA8L2RlZnM+Cjwvc3ZnPgo="},534:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZwogICAgICB3aWR0aD0iMzIiCiAgICAgIGhlaWdodD0iMzIiCiAgICAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgICAgdmlld0JveD0iMCAwIDMyIDMyIiBmaWxsPSIjMDAwMDAwIgo+CiAgICAgIDxwYXRoIGQ9Ik01IDIwLjI0NWwyLjQzOC0xLjQ4NWMuNDcuODQuODk4IDEuNTUgMS45MjQgMS41NS45ODQgMCAxLjYwNC0uMzg3IDEuNjA0LTEuODk0VjguMTcyaDIuOTk0VjE4LjQ2YzAgMy4xMi0xLjgxOCA0LjU0LTQuNDcgNC41NC0yLjM5NCAwLTMuNzg0LTEuMjQ4LTQuNDktMi43NTR6bTEwLjU4Ni0uMzIzbDIuNDM4LTEuNDJjLjY0MiAxLjA1NSAxLjQ3NiAxLjgzIDIuOTUgMS44MyAxLjI0MSAwIDIuMDMyLS42MjUgMi4wMzItMS40ODYgMC0xLjAzMy0uODEyLTEuMzk4LTIuMTgtMmwtLjc1LS4zMjRjLTIuMTU5LS45MjUtMy41OTItMi4wODctMy41OTItNC41NCAwLTIuMjYgMS43MTEtMy45ODIgNC4zODQtMy45ODIgMS45MDMgMCAzLjI3Mi42NjcgNC4yNTUgMi40MWwtMi4zMyAxLjUwN2MtLjUxNC0uOTI1LTEuMDctMS4yOTEtMS45MjUtMS4yOTEtLjg3NyAwLTEuNDMzLjU2LTEuNDMzIDEuMjkgMCAuOTA1LjU1NiAxLjI3IDEuODQgMS44M2wuNzQ4LjMyM0MyNC41NjcgMTUuMTY3IDI2IDE2LjI4NiAyNiAxOC44MDMgMjYgMjEuNTE1IDIzLjg4MyAyMyAyMS4wMzkgMjNjLTIuNzggMC00LjU3Ni0xLjMzNC01LjQ1My0zLjA3OCIgLz4KICAgIDwvc3ZnPg=="},535:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMTIyLjg4IDEyMi44OCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTIyLjg4IDEyMi44OCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CiAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj4uc3Qwe2ZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO2ZpbGw6IzI1MjQyMjt9PC9zdHlsZT4KICA8Zz4KICAgIDxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMDEuNDQsNDYuMjVjMC44Mi0xLjg0LDIuOTctMi42OCw0LjgxLTEuODZjMS44NCwwLjgyLDIuNjcsMi45OCwxLjg2LDQuODJjLTAuODIsMS44NS0yLjk3LDIuNjgtNC44MSwxLjg2IEMxMDEuNDUsNTAuMjUsMTAwLjYyLDQ4LjEsMTAxLjQ0LDQ2LjI1TDEwMS40NCw0Ni4yNXogTTU4LjczLDExLjg4YzEuNDYtMS4zOSwzLjc3LTEuMzQsNS4xNiwwLjEyYzEuMzksMS40NiwxLjM0LDMuNzctMC4xMiw1LjE3IGMtMS40NiwxLjM5LTMuNzYsMS4zNC01LjE2LTAuMTJDNTcuMjIsMTUuNTgsNTcuMjcsMTMuMjcsNTguNzMsMTEuODhMNTguNzMsMTEuODh6IE0xMDYuMzYsNjEuMDVjMCwxLjEyLTAuMDQsMi4yMy0wLjEyLDMuMzQgaC00LjYxYy0wLjQ2LDAtMC42NSwwLjMtMC42NSwwLjc1djIuMTJjMCw0Ljk4LTIuODEsNi4wNy01LjI3LDYuMzRjLTIuMzQsMC4yNi00Ljk0LTAuOTgtNS4yNi0yLjQyIGMtMS4zOC03Ljc4LTMuNjktOS40NC03LjMzLTEyLjMxYzQuNTItMi44Nyw5LjIyLTcuMSw5LjIyLTEyLjc2YzAtNi4xMi00LjE5LTkuOTctNy4wNS0xMS44NmMtNC4wMS0yLjY0LTguNDUtMy4xNy05LjY1LTMuMTcgSDI3Ljk3YzYuNDYtNy4yMSwxNS4yMi0xMi4zMiwyNS4xMy0xNC4xOGw1LjYyLDUuODljMS4yNywxLjMzLDMuMzcsMS4zOCw0LjcsMC4xMWw2LjI5LTYuMDFjMTMuMTcsMi40NSwyNC4zMywxMC42NSwzMC43NSwyMS45IGwtNC4zLDkuNzJjLTAuNzQsMS42OCwwLjAyLDMuNjUsMS42OSw0LjRsOC4yOSwzLjY4QzEwNi4yOSw1OC4wNSwxMDYuMzYsNTkuNTQsMTA2LjM2LDYxLjA1TDEwNi4zNiw2MS4wNXogTTUxLjI2LDUzLjQzdi04LjQ2IGgxNS4xNmMwLjc4LDAsNS41MywwLjkxLDUuNTMsNC40NWMwLDIuOTUtMy42NCw0LTYuNjMsNEw1MS4yNiw1My40M0w1MS4yNiw1My40M0w1MS4yNiw1My40M3ogTTE2Ljc3LDU2LjIybDcuODYtMy40OSBjMS42OC0wLjc1LDIuNDQtMi43MSwxLjY5LTQuNGwtMS42Mi0zLjY2aDYuMzd2MjguN0gxOC4yM2MtMS4xMS0zLjkyLTEuNzEtOC4wNS0xLjcxLTEyLjMyQzE2LjUxLDU5LjQxLDE2LjYsNTcuOCwxNi43Nyw1Ni4yMiBMMTYuNzcsNTYuMjJ6IE0yMS4wNSw0Ni4wN2MwLjgyLDEuODQtMC4wMSw0LjAxLTEuODYsNC44MmMtMS44NCwwLjgyLTQtMC4wMS00LjgxLTEuODZjLTAuODItMS44NSwwLjAxLTQsMS44Ni00LjgyIEMxOC4wOCw0My4zOSwyMC4yNCw0NC4yMywyMS4wNSw0Ni4wN0wyMS4wNSw0Ni4wN3ogTTM0Ljk4LDEwMi41NWMtMS45NywwLjQzLTMuOTEtMC44My00LjMzLTIuOGMtMC40Mi0xLjk4LDAuODMtMy45MiwyLjgtNC4zNCBjMS45Ny0wLjQyLDMuOTEsMC44Myw0LjMzLDIuODFDMzguMiwxMDAuMTgsMzYuOTUsMTAyLjEzLDM0Ljk4LDEwMi41NUwzNC45OCwxMDIuNTV6IE04NS43Niw5MC44N2MtMS44LTAuMzktMy41NywwLjc2LTMuOTUsMi41NiBsLTEuODMsOC41NWMtNS42NSwyLjU3LTExLjkzLDMuOTktMTguNTQsMy45OWMtNi43NiwwLTEzLjE3LTEuNS0xOC45My00LjE3bC0xLjgzLTguNTVjLTAuMzktMS44LTIuMTUtMi45NC0zLjk1LTIuNTZsLTcuNTUsMS42MiBjLTEuNC0xLjQ0LTIuNy0yLjk4LTMuOS00LjZINjJjMC40MiwwLDAuNjktMC4wOCwwLjY5LTAuNDVWNzQuMjdjMC0wLjM4LTAuMjgtMC40NS0wLjY5LTAuNDVINTEuMjZ2LTguMjNoMTEuNjEgYzEuMDYsMCw1LjY3LDAuMyw3LjE0LDYuMTljMC40NiwxLjgxLDEuNDcsNy43LDIuMTcsOS41OWMwLjY5LDIuMTIsMy41LDYuMzQsNi41LDYuMzRoMTguMjljMC4yMSwwLDAuNDMtMC4wMiwwLjY2LTAuMDcgYy0xLjI3LDEuNzItMi42NiwzLjM2LTQuMTYsNC44OEw4NS43Niw5MC44N0w4NS43Niw5MC44N3ogTTg3LjUxLDEwMi43M2MtMS45Ny0wLjQzLTMuMjItMi4zNy0yLjgtNC4zNCBjMC40Mi0xLjk3LDIuMzYtMy4yMyw0LjMzLTIuOGMxLjk3LDAuNDIsMy4yMywyLjM3LDIuOCw0LjM0QzkxLjQyLDEwMS44OSw4OS40OCwxMDMuMTUsODcuNTEsMTAyLjczTDg3LjUxLDEwMi43M3ogTTEyMi4wNCw1OS45MyBsLTUuMTYtMy4xOWMtMC4wNC0wLjUtMC4wOS0xLTAuMTUtMS41bDQuNDMtNC4xM2MwLjQ1LTAuNDIsMC42NS0xLjA0LDAuNTMtMS42NGMtMC4xMi0wLjYtMC41NC0xLjEtMS4xMi0xLjMybC01LjY3LTIuMTIgYy0wLjE0LTAuNDktMC4yOS0wLjk4LTAuNDQtMS40NmwzLjUzLTQuOTFjMC4zNi0wLjUsMC40My0xLjE1LDAuMi0xLjcyYy0wLjIzLTAuNTctMC43NS0wLjk3LTEuMzUtMS4wN2wtNS45OC0wLjk3IGMtMC4yMy0wLjQ1LTAuNDctMC45LTAuNzItMS4zNGwyLjUxLTUuNTFjMC4yNi0wLjU2LDAuMi0xLjIxLTAuMTQtMS43MmMtMC4zNC0wLjUxLTAuOTItMC44MS0xLjU0LTAuNzlsLTYuMDcsMC4yMSBjLTAuMzEtMC4zOS0wLjYzLTAuNzgtMC45Ni0xLjE2bDEuMzktNS45MWMwLjE0LTAuNi0wLjA0LTEuMjMtMC40Ny0xLjY2Yy0wLjQzLTAuNDMtMS4wNi0wLjYxLTEuNjYtMC40N2wtNS45MSwxLjM5IGMtMC4zOC0wLjMyLTAuNzctMC42NC0xLjE2LTAuOTZsMC4yMS02LjA3YzAuMDItMC42MS0wLjI4LTEuMi0wLjc5LTEuNTRjLTAuNTEtMC4zNC0xLjE2LTAuMzktMS43Mi0wLjE0bC01LjUxLDIuNTEgYy0wLjQ0LTAuMjQtMC44OS0wLjQ5LTEuMzQtMC43MmwtMC45Ny01Ljk4Yy0wLjEtMC42MS0wLjUtMS4xMi0xLjA3LTEuMzVjLTAuNTctMC4yNC0xLjIyLTAuMTYtMS43MiwwLjJsLTQuOTEsMy41NCBjLTAuNDgtMC4xNS0wLjk3LTAuMy0xLjQ2LTAuNDRMNzQuNzQsMi4zYy0wLjIxLTAuNTgtMC43MS0xLTEuMzItMS4xMmMtMC42LTAuMTItMS4yMiwwLjA4LTEuNjQsMC41M2wtNC4xNCw0LjQ0IGMtMC41LTAuMDYtMS0wLjExLTEuNS0wLjE1bC0zLjE5LTUuMTZDNjIuNjMsMC4zMiw2Mi4wNiwwLDYxLjQ0LDBjLTAuNjIsMC0xLjE5LDAuMzItMS41MSwwLjg0TDU2Ljc0LDZjLTAuNSwwLjA0LTEsMC4wOS0xLjUsMC4xNSBMNTEuMSwxLjcxYy0wLjQyLTAuNDUtMS4wNC0wLjY1LTEuNjQtMC41M2MtMC42LDAuMTItMS4xLDAuNTQtMS4zMiwxLjEybC0yLjEyLDUuNjdjLTAuNDksMC4xNC0wLjk4LDAuMjktMS40NiwwLjQ0bC00LjkxLTMuNTQgYy0wLjUtMC4zNi0xLjE1LTAuNDQtMS43Mi0wLjJjLTAuNTcsMC4yMy0wLjk3LDAuNzUtMS4wNywxLjM1bC0wLjk3LDUuOThjLTAuNDUsMC4yMy0wLjksMC40Ny0xLjM0LDAuNzJsLTUuNTEtMi41MSBjLTAuNTYtMC4yNi0xLjIxLTAuMi0xLjcyLDAuMTRjLTAuNTEsMC4zNC0wLjgxLDAuOTItMC43OSwxLjU0bDAuMjEsNi4wN2MtMC4zOSwwLjMxLTAuNzgsMC42My0xLjE2LDAuOTZsLTUuOTEtMS4zOSBjLTAuNi0wLjE0LTEuMjMsMC4wNC0xLjY2LDAuNDdjLTAuNDQsMC40NC0wLjYxLDEuMDYtMC40NywxLjY2bDEuMzksNS45MWMtMC4zMiwwLjM4LTAuNjQsMC43Ny0wLjk2LDEuMTZsLTYuMDctMC4yMSBjLTAuNjEtMC4wMi0xLjIsMC4yOC0xLjU0LDAuNzljLTAuMzQsMC41MS0wLjM5LDEuMTYtMC4xNCwxLjcybDIuNTEsNS41MWMtMC4yNCwwLjQ0LTAuNDksMC44OS0wLjcyLDEuMzRsLTUuOTgsMC45NyBjLTAuNjEsMC4xLTEuMTIsMC41LTEuMzUsMS4wN2MtMC4yMywwLjU3LTAuMTYsMS4yMiwwLjIsMS43MmwzLjU0LDQuOTFjLTAuMTUsMC40OC0wLjMsMC45Ny0wLjQ0LDEuNDZMMi4zLDQ4LjE0IGMtMC41OCwwLjIxLTEsMC43MS0xLjEyLDEuMzJjLTAuMTIsMC42LDAuMDgsMS4yMiwwLjUzLDEuNjRsNC40Myw0LjEzYy0wLjA1LDAuNS0wLjEsMS0wLjE1LDEuNWwtNS4xNiwzLjE5IEMwLjMyLDYwLjI2LDAsNjAuODMsMCw2MS40NGMwLDAuNjIsMC4zMiwxLjE5LDAuODQsMS41MUw2LDY2LjE0YzAuMDQsMC41LDAuMDksMSwwLjE1LDEuNWwtNC40Myw0LjE0IGMtMC40NSwwLjQyLTAuNjUsMS4wNC0wLjUzLDEuNjRjMC4xMiwwLjYsMC41NCwxLjEsMS4xMiwxLjMybDUuNjcsMi4xMmMwLjE0LDAuNDksMC4yOSwwLjk4LDAuNDQsMS40NmwtMy41NCw0LjkxIGMtMC4zNiwwLjUtMC40NCwxLjE1LTAuMiwxLjcyYzAuMjQsMC41NywwLjc1LDAuOTgsMS4zNiwxLjA3TDEyLjAxLDg3YzAuMjMsMC40NSwwLjQ3LDAuOSwwLjcyLDEuMzRsLTIuNTEsNS41MSBjLTAuMjYsMC41Ni0wLjIsMS4yMSwwLjE0LDEuNzJjMC4zNCwwLjUxLDAuOTMsMC44MSwxLjU0LDAuNzlsNi4wNi0wLjIxYzAuMzIsMC4zOSwwLjYzLDAuNzgsMC45NiwxLjE2bC0xLjM5LDUuOTEgYy0wLjE0LDAuNiwwLjA0LDEuMjIsMC40NywxLjY2YzAuNDMsMC40NCwxLjA2LDAuNjEsMS42NiwwLjQ3bDUuOTEtMS4zOWMwLjM4LDAuMzMsMC43NywwLjY0LDEuMTYsMC45NmwtMC4yMSw2LjA3IGMtMC4wMiwwLjYxLDAuMjgsMS4yLDAuNzksMS41NGMwLjUxLDAuMzQsMS4xNiwwLjM5LDEuNzIsMC4xNGw1LjUxLTIuNTFjMC40NCwwLjI1LDAuODksMC40OSwxLjM0LDAuNzJsMC45Nyw1Ljk3IGMwLjEsMC42MSwwLjUsMS4xMiwxLjA3LDEuMzZjMC41NywwLjI0LDEuMjIsMC4xNiwxLjcyLTAuMmw0LjkxLTMuNTRjMC40OCwwLjE1LDAuOTcsMC4zLDEuNDYsMC40NWwyLjEyLDUuNjcgYzAuMjEsMC41OCwwLjcxLDEsMS4zMiwxLjEyYzAuNiwwLjEyLDEuMjItMC4wOCwxLjY0LTAuNTNsNC4xNC00LjQzYzAuNSwwLjA2LDEsMC4xMSwxLjUsMC4xNWwzLjE5LDUuMTYgYzAuMzIsMC41MiwwLjg5LDAuODQsMS41MSwwLjg0YzAuNjIsMCwxLjE5LTAuMzIsMS41MS0wLjg0bDMuMTktNS4xNmMwLjUtMC4wNCwxLTAuMDksMS41LTAuMTVsNC4xNCw0LjQzIGMwLjQyLDAuNDUsMS4wNCwwLjY1LDEuNjQsMC41M2MwLjYtMC4xMiwxLjEtMC41NCwxLjMyLTEuMTJsMi4xMi01LjY3YzAuNDktMC4xNCwwLjk4LTAuMjksMS40Ni0wLjQ1bDQuOTEsMy41NCBjMC41LDAuMzYsMS4xNSwwLjQzLDEuNzIsMC4yYzAuNTctMC4yMywwLjk3LTAuNzUsMS4wNy0xLjM2bDAuOTctNS45N2MwLjQ1LTAuMjMsMC45LTAuNDgsMS4zNC0wLjcybDUuNTEsMi41MSBjMC41NiwwLjI2LDEuMjEsMC4yLDEuNzItMC4xNGMwLjUxLTAuMzQsMC44MS0wLjkyLDAuNzktMS41NGwtMC4yMS02LjA3YzAuMzktMC4zMSwwLjc4LTAuNjMsMS4xNi0wLjk2bDUuOTEsMS4zOSBjMC42LDAuMTQsMS4yMy0wLjAzLDEuNjYtMC40N2MwLjQ0LTAuNDQsMC42MS0xLjA2LDAuNDctMS42NmwtMS4zOS01LjkxYzAuMzItMC4zOCwwLjY0LTAuNzcsMC45Ni0xLjE2bDYuMDcsMC4yMSBjMC42MSwwLjAyLDEuMi0wLjI4LDEuNTQtMC43OWMwLjM0LTAuNTEsMC40LTEuMTYsMC4xNC0xLjcybC0yLjUxLTUuNTFjMC4yNS0wLjQ1LDAuNDktMC44OSwwLjcyLTEuMzRsNS45OC0wLjk3IGMwLjYxLTAuMSwxLjEyLTAuNSwxLjM1LTEuMDdjMC4yNC0wLjU3LDAuMTYtMS4yMi0wLjItMS43MmwtMy41NC00LjkxYzAuMTUtMC40OSwwLjMtMC45NywwLjQ0LTEuNDZsNS42Ny0yLjEyIGMwLjU4LTAuMjIsMS0wLjcxLDEuMTItMS4zMmMwLjEyLTAuNi0wLjA4LTEuMjItMC41My0xLjY0bC00LjQzLTQuMTRjMC4wNS0wLjUsMC4xLTEsMC4xNS0xLjVsNS4xNi0zLjE5IGMwLjUyLTAuMzIsMC44NC0wLjg5LDAuODQtMS41MUMxMjIuODgsNjAuODMsMTIyLjU2LDYwLjI2LDEyMi4wNCw1OS45M0wxMjIuMDQsNTkuOTN6Ij48L3BhdGg+CiAgPC9nPgo8L3N2Zz4K"},536:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDEyNzQuMzcgNzE4Ij4KICA8cGF0aCBmaWxsPSIjM2RkYzg0IiBkPSJNOTMwLjc3LDUzNi40MmE1My4wNyw1My4wNywwLDEsMSw1My4wNi01My4wOCw1My4xNCw1My4xNCwwLDAsMS01My4wNiw1My4wOG0tNTg2LjU0LDBhNTMuMDcsNTMuMDcsMCwxLDEsNTMuMDYtNTMuMDgsNTMuMTMsNTMuMTMsMCwwLDEtNTMuMDYsNTMuMDhNOTQ5LjgsMjE2Ljc3LDEwNTUuODUsMzMuMDlBMjIuMDYsMjIuMDYsMCwxLDAsMTAxNy42NCwxMUw5MTAuMjUsMTk3Yy04Mi4xMi0zNy40OC0xNzQuMzUtNTguMzUtMjcyLjc2LTU4LjM1UzQ0Ni44NiwxNTkuNTUsMzY0Ljc0LDE5N0wyNTcuMzYsMTFhMjIuMDYsMjIuMDYsMCwxLDAtMzguMjIsMjIuMDZMMzI1LjIsMjE2Ljc3QzE0My4wOSwzMTUuODIsMTguNTMsNTAwLjE4LjMxLDcxOEgxMjc0LjY5Yy0xOC4yNC0yMTcuODItMTQyLjc5LTQwMi4xOC0zMjQuODktNTAxLjIzIi8+Cjwvc3ZnPg=="},537:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZwogIHdpZHRoPSI2NCIKICBoZWlnaHQ9IjY0IgogIHZpZXdCb3g9Ii0yIC0yIDI4IDI4IgogIGZpbGw9Im5vbmUiCiAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgo+CiAgPHBhdGgKICAgIGQ9Ik0xMi4yMDcgMTYuMjc4QzExLjEyNDEgMTcuMzQzIDkuNjM4NzkgMTggOCAxOEM0LjY4NjI5IDE4IDIgMTUuMzEzNyAyIDEyQzIgOC42ODYyOSA0LjY4NjI5IDYgOCA2QzkuNjc0OTIgNiAxMS4xODk2IDYuNjg2MyAxMi4yNzggNy43OTMwM0wxMy42OTIzIDYuMzc4NzhDMTIuMjQxOCA0LjkxMDE0IDEwLjIyNzIgNCA4IDRDMy41ODE3MiA0IDAgNy41ODE3MiAwIDEyQzAgMTYuNDE4MyAzLjU4MTcyIDIwIDggMjBDMTAuMTkxMSAyMCAxMi4xNzY0IDE5LjExOTIgMTMuNjIxMiAxNy42OTIzTDEyLjIwNyAxNi4yNzhaIgogICAgZmlsbD0iI2ZmZmZmZiIKICAvPgogIDxwYXRoIGQ9Ik0xNSA5SDEzVjExSDExVjEzSDEzVjE1SDE1VjEzSDE3VjExSDE1VjlaIiBmaWxsPSIjZmZmZmZmIiAvPgogIDxwYXRoIGQ9Ik0yMCA5SDIyVjExSDI0VjEzSDIyVjE1SDIwVjEzSDE4VjExSDIwVjlaIiBmaWxsPSIjZmZmZmZmIiAvPgo8L3N2Zz4="},538:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTYuMzc5IDIxLjMxNWMtMi4xNjctMi4yNDUtMy40MzQtNS4zNDctMy40MzEtOS4wNDctLjAwMy0zLjI3MyAxLjA0OC02LjA4NiAyLjg1Ni04LjIyN2wtLjAwMy4wMDFoLTMuOHYxNy4yNzNINi4zOHpNMjYuMzkgMjEuMzE2Yy45MzQtLjk3OCAxLjc3LTIuMTMgMi41MjgtMy40NDZsLTQuMjA2LTIuMDU2Yy0xLjQ3NyAyLjM0OC0zLjYzNyA0LjUxLTYuNjI0IDQuNTI0LTQuMzQ3LS4wMTUtNi4wNTUtMy42NS02LjA0NS04LjMyOGgxNi4yNDRjLjAyMi0uNTI4LjAyMi0uNzc0IDAtMS4wMjguMTA2LTIuNzg0LS42NDgtNS4xMjMtMi4wMi02Ljk0NWwtLjAwOC4wMDVoMy42NTh2MTcuMjczaC0zLjUzNS4wMDh6IiBmaWxsPSIjQTkwNTMzIi8+PHBhdGggZD0iTTEyLjMwNiA4Yy4xOC0yLjExOCAxLjg4Ny0zLjU0MyAzLjg5LTMuNTQ3IDIuMDE2LjAwNCAzLjQ3MyAxLjQyOSAzLjUyMiAzLjU0N2gtNy40MTJ6IiBmaWxsPSIjQTkwNTMzIi8+PHBhdGggZD0iTTQuMzE1IDI0LjIzOHYtLjcyaC0yLjI2djQuMjY3aDIuMjZ2LS43MmgtMS40MnYtMS4xM2gxLjM2N3YtLjcySDIuODk1di0uOTc3aDEuNDJ6TTguMTUyIDI1Ljk4NmMuNTY0LS4wODIuODczLS42MjguODk0LTEuMTgzLS4wMi0uOTA3LS42MjItMS4yODItMS40NzItMS4yODVINi40MTh2NC4yNjdoLjg0di0xLjY5N2wxLjA1MiAxLjY5N2gxLjA1MmwtMS4yMS0xLjh6bS0uODkzLTEuOGguMTA1Yy40NTkuMDE3LjgwMy4xMi43ODguNjY5LjAxNS41MDMtLjMxOC42NC0uNzg4LjYxN2gtLjEwNXYtMS4yODZ6TTExLjk5IDIzLjUxOGgtLjg0MXY0LjI2N2gyLjA1di0uNzJIMTEuOTl2LTMuNTQ3ek0xNy41MSAyNi45MWwuMzY4Ljg3NWguODk0bC0xLjYzLTQuMzdoLS42ODNsLTEuNzM1IDQuMzdoLjg5M2wuMzY4LS44NzRoMS41MjV6bS0uMjEtLjY2OGgtMS4wNTJsLjQ3My0xLjU5My41NzkgMS41OTN6TTIwLjM0OSAyNy43ODVoLjg5M3YtMi44OGwyLjMxNCAyLjk4MmguNjN2LTQuMzdoLS44OTN2Mi44OGwtMi4zMTMtMi45ODJoLS42MzF2NC4zN3pNMjcuODY2IDI1LjUyM3YuNjY4aC45NDdjLS4wMi41MzctLjQ3Ljk5Mi0xIC45NzctLjgzNi4wMTUtMS4yNS0uNzc1LTEuMjYtMS40OTEuMDEtLjcwNi40MTgtMS41MyAxLjI2LTEuNTQyLjQ0My4wMTEuODE3LjMwNyAxIC42NjhsLjczNi0uMzZjLS4zMjQtLjY2Ny0uOTc4LTEuMDM2LTEuNzM1LTEuMDI4LTEuMzA0LS4wMDgtMi4xMzkgMS4wNDQtMi4xNTYgMi4yNjIuMDE3IDEuMTg4LjgyOSAyLjI0NSAyLjEwMyAyLjI2MiAxLjM3Ni0uMDE3IDIuMDEzLTEuMDkxIDEuOTk4LTIuMzEzdi0uMTAzaC0xLjg5M3oiIGZpbGw9IiNmZmYiLz48L3N2Zz4K"},539:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTIuMDkzIDE2Ljg0aDEuNjU0VjkuNzQzSDIuMDkzdjcuMDk1em0uODI0LTguMDI2YS45MDcuOTA3IDAgMTAwLTEuODE0LjkwNi45MDYgMCAxMDAgMS44MTR6TTkuMjUzIDcuMDJjLTIuNzk2IDAtNC41NSAxLjkyMS00LjU1IDQuOTkzIDAgMy4wNzMgMS43NTQgNC45ODcgNC41NSA0Ljk4NyAyLjc5IDAgNC41NDQtMS45MTQgNC41NDQtNC45ODcgMC0zLjA3Mi0xLjc1NC00Ljk5My00LjU0NC00Ljk5M3ptMCAxLjQ3M2MxLjcwNyAwIDIuNzk3IDEuMzY1IDIuNzk3IDMuNTIgMCAyLjE0OS0xLjA5IDMuNTE0LTIuNzk3IDMuNTE0LTEuNzEzIDAtMi43OTYtMS4zNjUtMi43OTYtMy41MTQgMC0yLjE1NSAxLjA4My0zLjUyIDIuNzk2LTMuNTJ6bTUuMjQxIDUuNjI5Yy4wNzMgMS43OCAxLjUyMSAyLjg3OCAzLjcyNyAyLjg3OEMyMC41MzkgMTcgMjIgMTUuODQ5IDIyIDE0LjAxNWMwLTEuNDQtLjgyNC0yLjI1LTIuNzctMi42OThsLTEuMTAyLS4yNTRjLTEuMTc2LS4yODEtMS42Ni0uNjU2LTEuNjYtMS4yOTkgMC0uODAzLjczLTEuMzM4IDEuODEyLTEuMzM4IDEuMDk2IDAgMS44NDcuNTQyIDEuOTI3IDEuNDQ2aDEuNjM0Yy0uMDQtMS43LTEuNDM1LTIuODUyLTMuNTQ3LTIuODUyLTIuMDg2IDAtMy41NjcgMS4xNTgtMy41NjcgMi44NzIgMCAxLjM3OC44MzcgMi4yMzUgMi42MDQgMi42NDRsMS4yNDIuMjk0YzEuMjA4LjI4OCAxLjcuNjkgMS43IDEuMzg2IDAgLjgwMy0uODA0IDEuMzc4LTEuOTYgMS4zNzgtMS4xNjggMC0yLjA1Mi0uNTgyLTIuMTU4LTEuNDcyaC0xLjY2eiIgZmlsbD0iI2ZmZiIvPjwvc3ZnPg=="},540:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZwogICAgICB3aWR0aD0iMzIiCiAgICAgIGhlaWdodD0iMzIiCiAgICAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgICAgdmlld0JveD0iMCAwIDMyIDMyIiBmaWxsPSIjZmZmZmZmIj4KICAgICAgPHBhdGggZD0iTTMuMzczOTkgMTEuMTU1M0g3LjgyMzE0QzkuMTI5MDEgMTEuMTY2MiAxMC4wNzUzIDExLjU0MDggMTAuNjYyIDEyLjI3ODZDMTEuMjQ4NyAxMy4wMTY0IDExLjQ0MjIgMTQuMDI0MSAxMS4yNDMgMTUuMzAxN0MxMS4xNjU2IDE1Ljg4NTUgMTAuOTk0IDE2LjQ1ODEgMTAuNzI4NCAxNy4wMTk4QzEwLjQ3MzcgMTcuNTgxNSAxMC4xMTk4IDE4LjA4OCA5LjY2NTg5IDE4LjUzOTZDOS4xMTI0MSAxOS4xMTIyIDguNTIwNCAxOS40NzU2IDcuODg5NTUgMTkuNjI5OUM3LjI1ODcgMTkuNzg0MiA2LjYwNTYxIDE5Ljg2MTIgNS45MzA1OSAxOS44NjEySDMuOTM4NDNMMy4zMDc1OCAyM0gxTDMuMzczOTkgMTEuMTU1M1YxMS4xNTUzWk01LjMxNjM0IDEzLjAzODVMNC4zMjAyNiAxNy45OTQ1QzQuMzg2NjcgMTguMDA1NCA0LjQ1MzA3IDE4LjAxMSA0LjUxOTQ4IDE4LjAxMUM0LjU5Njg1IDE4LjAxMSA0LjY3NDUzIDE4LjAxMSA0Ljc1MTkgMTguMDExQzUuODE0MzggMTguMDIxOSA2LjY5OTg5IDE3LjkxNzUgNy40MDgxMSAxNy42OTcxQzguMTE2MzMgMTcuNDY1OCA4LjU5MjQ0IDE2LjY2MiA4LjgzNTgyIDE1LjI4NTJDOS4wMzUwNCAxNC4xMjg4IDguODM1ODIgMTMuNDYyNCA4LjIzODE3IDEzLjI4NjNDNy42NTE0OSAxMy4xMTAyIDYuOTE1NzEgMTMuMDI3NiA2LjAzMDIgMTMuMDM4NUM1Ljg5NzM5IDEzLjA0OTQgNS43NzAyMiAxMy4wNTUxIDUuNjQ4MzcgMTMuMDU1MUM1LjUzNzggMTMuMDU1MSA1LjQyMTU5IDEzLjA1NTEgNS4yOTk3NCAxMy4wNTUxTDUuMzE2MzQgMTMuMDM4NSIgLz4KICAgICAgPHBhdGggZD0iTTEzLjg3MTUgOEgxNi4xNjI1TDE1LjUxNTEgMTEuMTU1M0gxNy41NzM2QzE4LjcwMjUgMTEuMTc3NCAxOS41NDM2IDExLjQwODcgMjAuMDk3IDExLjg0OTFDMjAuNjYxNSAxMi4yODk1IDIwLjgyNzUgMTMuMTI2NyAyMC41OTUxIDE0LjM2MDFMMTkuNDgyOCAxOS44NjEySDE3LjE1ODZMMTguMjIxMSAxNC42MDc5QzE4LjMzMTcgMTQuMDU3MiAxOC4yOTg1IDEzLjY2NjMgMTguMTIxNSAxMy40MzVDMTcuOTQ0NSAxMy4yMDM3IDE3LjU2MjcgMTMuMDg4MSAxNi45NzYgMTMuMDg4MUwxNS4xMzMyIDEzLjA3MTZMMTMuNzcxOSAxOS44NjEySDExLjQ4MUwxMy44NzE1IDhaIiAvPgogICAgICA8cGF0aCBkPSJNMjMuMDU1MSAxMS4xNTUzSDI3LjUwNDNDMjguODEwMiAxMS4xNjYyIDI5Ljc1NjQgMTEuNTQwOCAzMC4zNDMxIDEyLjI3ODZDMzAuOTI5OCAxMy4wMTY0IDMxLjEyMzQgMTQuMDI0MSAzMC45MjQyIDE1LjMwMTdDMzAuODQ2OCAxNS44ODU1IDMwLjY3NTEgMTYuNDU4MSAzMC40MDk1IDE3LjAxOThDMzAuMTU0OSAxNy41ODE1IDI5LjgwMDkgMTguMDg4IDI5LjM0NyAxOC41Mzk2QzI4Ljc5MzYgMTkuMTEyMiAyOC4yMDE1IDE5LjQ3NTYgMjcuNTcwNyAxOS42Mjk5QzI2LjkzOTggMTkuNzg0MiAyNi4yODY4IDE5Ljg2MTIgMjUuNjExNyAxOS44NjEySDIzLjYxOTZMMjIuOTg4NyAyM0gyMC42ODEyTDIzLjA1NTEgMTEuMTU1M1YxMS4xNTUzWk0yNC45OTc1IDEzLjAzODVMMjQuMDAxNCAxNy45OTQ1QzI0LjA2NzggMTguMDA1NCAyNC4xMzQyIDE4LjAxMSAyNC4yMDA2IDE4LjAxMUMyNC4yNzggMTguMDExIDI0LjM1NTcgMTguMDExIDI0LjQzMyAxOC4wMTFDMjUuNDk1NSAxOC4wMjE5IDI2LjM4MSAxNy45MTc1IDI3LjA4OTMgMTcuNjk3MUMyNy43OTc1IDE3LjQ2NTggMjguMjczNiAxNi42NjIgMjguNTE3IDE1LjI4NTJDMjguNzE2MiAxNC4xMjg4IDI4LjUxNyAxMy40NjI0IDI3LjkxOTMgMTMuMjg2M0MyNy4zMzI2IDEzLjExMDIgMjYuNTk2OSAxMy4wMjc2IDI1LjcxMTMgMTMuMDM4NUMyNS41Nzg1IDEzLjA0OTQgMjUuNDUxNCAxMy4wNTUxIDI1LjMyOTUgMTMuMDU1MUMyNS4yMTg5IDEzLjA1NTEgMjUuMTAyNyAxMy4wNTUxIDI0Ljk4MDkgMTMuMDU1MUwyNC45OTc1IDEzLjAzODUiIC8+CiAgICA8L3N2Zz4="},541:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZwogICAgICB3aWR0aD0iMzIiCiAgICAgIGhlaWdodD0iMzIiCiAgICAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgICAgdmlld0JveD0iMCAwIDMyIDMyIiBmaWxsPSIjZmZmZmZmIgo+CiAgICAgIDxwYXRoIGQ9Ik01IDIwLjI0NWwyLjQzOC0xLjQ4NWMuNDcuODQuODk4IDEuNTUgMS45MjQgMS41NS45ODQgMCAxLjYwNC0uMzg3IDEuNjA0LTEuODk0VjguMTcyaDIuOTk0VjE4LjQ2YzAgMy4xMi0xLjgxOCA0LjU0LTQuNDcgNC41NC0yLjM5NCAwLTMuNzg0LTEuMjQ4LTQuNDktMi43NTR6bTEwLjU4Ni0uMzIzbDIuNDM4LTEuNDJjLjY0MiAxLjA1NSAxLjQ3NiAxLjgzIDIuOTUgMS44MyAxLjI0MSAwIDIuMDMyLS42MjUgMi4wMzItMS40ODYgMC0xLjAzMy0uODEyLTEuMzk4LTIuMTgtMmwtLjc1LS4zMjRjLTIuMTU5LS45MjUtMy41OTItMi4wODctMy41OTItNC41NCAwLTIuMjYgMS43MTEtMy45ODIgNC4zODQtMy45ODIgMS45MDMgMCAzLjI3Mi42NjcgNC4yNTUgMi40MWwtMi4zMyAxLjUwN2MtLjUxNC0uOTI1LTEuMDctMS4yOTEtMS45MjUtMS4yOTEtLjg3NyAwLTEuNDMzLjU2LTEuNDMzIDEuMjkgMCAuOTA1LjU1NiAxLjI3IDEuODQgMS44M2wuNzQ4LjMyM0MyNC41NjcgMTUuMTY3IDI2IDE2LjI4NiAyNiAxOC44MDMgMjYgMjEuNTE1IDIzLjg4MyAyMyAyMS4wMzkgMjNjLTIuNzggMC00LjU3Ni0xLjMzNC01LjQ1My0zLjA3OCIgLz4KICAgIDwvc3ZnPg=="},542:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMTIyLjg4IDEyMi44OCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTIyLjg4IDEyMi44OCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CiAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj4uc3Qwe2ZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO2ZpbGw6I2ZmZmZmZjt9PC9zdHlsZT4KICA8Zz4KICAgIDxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMDEuNDQsNDYuMjVjMC44Mi0xLjg0LDIuOTctMi42OCw0LjgxLTEuODZjMS44NCwwLjgyLDIuNjcsMi45OCwxLjg2LDQuODJjLTAuODIsMS44NS0yLjk3LDIuNjgtNC44MSwxLjg2IEMxMDEuNDUsNTAuMjUsMTAwLjYyLDQ4LjEsMTAxLjQ0LDQ2LjI1TDEwMS40NCw0Ni4yNXogTTU4LjczLDExLjg4YzEuNDYtMS4zOSwzLjc3LTEuMzQsNS4xNiwwLjEyYzEuMzksMS40NiwxLjM0LDMuNzctMC4xMiw1LjE3IGMtMS40NiwxLjM5LTMuNzYsMS4zNC01LjE2LTAuMTJDNTcuMjIsMTUuNTgsNTcuMjcsMTMuMjcsNTguNzMsMTEuODhMNTguNzMsMTEuODh6IE0xMDYuMzYsNjEuMDVjMCwxLjEyLTAuMDQsMi4yMy0wLjEyLDMuMzQgaC00LjYxYy0wLjQ2LDAtMC42NSwwLjMtMC42NSwwLjc1djIuMTJjMCw0Ljk4LTIuODEsNi4wNy01LjI3LDYuMzRjLTIuMzQsMC4yNi00Ljk0LTAuOTgtNS4yNi0yLjQyIGMtMS4zOC03Ljc4LTMuNjktOS40NC03LjMzLTEyLjMxYzQuNTItMi44Nyw5LjIyLTcuMSw5LjIyLTEyLjc2YzAtNi4xMi00LjE5LTkuOTctNy4wNS0xMS44NmMtNC4wMS0yLjY0LTguNDUtMy4xNy05LjY1LTMuMTcgSDI3Ljk3YzYuNDYtNy4yMSwxNS4yMi0xMi4zMiwyNS4xMy0xNC4xOGw1LjYyLDUuODljMS4yNywxLjMzLDMuMzcsMS4zOCw0LjcsMC4xMWw2LjI5LTYuMDFjMTMuMTcsMi40NSwyNC4zMywxMC42NSwzMC43NSwyMS45IGwtNC4zLDkuNzJjLTAuNzQsMS42OCwwLjAyLDMuNjUsMS42OSw0LjRsOC4yOSwzLjY4QzEwNi4yOSw1OC4wNSwxMDYuMzYsNTkuNTQsMTA2LjM2LDYxLjA1TDEwNi4zNiw2MS4wNXogTTUxLjI2LDUzLjQzdi04LjQ2IGgxNS4xNmMwLjc4LDAsNS41MywwLjkxLDUuNTMsNC40NWMwLDIuOTUtMy42NCw0LTYuNjMsNEw1MS4yNiw1My40M0w1MS4yNiw1My40M0w1MS4yNiw1My40M3ogTTE2Ljc3LDU2LjIybDcuODYtMy40OSBjMS42OC0wLjc1LDIuNDQtMi43MSwxLjY5LTQuNGwtMS42Mi0zLjY2aDYuMzd2MjguN0gxOC4yM2MtMS4xMS0zLjkyLTEuNzEtOC4wNS0xLjcxLTEyLjMyQzE2LjUxLDU5LjQxLDE2LjYsNTcuOCwxNi43Nyw1Ni4yMiBMMTYuNzcsNTYuMjJ6IE0yMS4wNSw0Ni4wN2MwLjgyLDEuODQtMC4wMSw0LjAxLTEuODYsNC44MmMtMS44NCwwLjgyLTQtMC4wMS00LjgxLTEuODZjLTAuODItMS44NSwwLjAxLTQsMS44Ni00LjgyIEMxOC4wOCw0My4zOSwyMC4yNCw0NC4yMywyMS4wNSw0Ni4wN0wyMS4wNSw0Ni4wN3ogTTM0Ljk4LDEwMi41NWMtMS45NywwLjQzLTMuOTEtMC44My00LjMzLTIuOGMtMC40Mi0xLjk4LDAuODMtMy45MiwyLjgtNC4zNCBjMS45Ny0wLjQyLDMuOTEsMC44Myw0LjMzLDIuODFDMzguMiwxMDAuMTgsMzYuOTUsMTAyLjEzLDM0Ljk4LDEwMi41NUwzNC45OCwxMDIuNTV6IE04NS43Niw5MC44N2MtMS44LTAuMzktMy41NywwLjc2LTMuOTUsMi41NiBsLTEuODMsOC41NWMtNS42NSwyLjU3LTExLjkzLDMuOTktMTguNTQsMy45OWMtNi43NiwwLTEzLjE3LTEuNS0xOC45My00LjE3bC0xLjgzLTguNTVjLTAuMzktMS44LTIuMTUtMi45NC0zLjk1LTIuNTZsLTcuNTUsMS42MiBjLTEuNC0xLjQ0LTIuNy0yLjk4LTMuOS00LjZINjJjMC40MiwwLDAuNjktMC4wOCwwLjY5LTAuNDVWNzQuMjdjMC0wLjM4LTAuMjgtMC40NS0wLjY5LTAuNDVINTEuMjZ2LTguMjNoMTEuNjEgYzEuMDYsMCw1LjY3LDAuMyw3LjE0LDYuMTljMC40NiwxLjgxLDEuNDcsNy43LDIuMTcsOS41OWMwLjY5LDIuMTIsMy41LDYuMzQsNi41LDYuMzRoMTguMjljMC4yMSwwLDAuNDMtMC4wMiwwLjY2LTAuMDcgYy0xLjI3LDEuNzItMi42NiwzLjM2LTQuMTYsNC44OEw4NS43Niw5MC44N0w4NS43Niw5MC44N3ogTTg3LjUxLDEwMi43M2MtMS45Ny0wLjQzLTMuMjItMi4zNy0yLjgtNC4zNCBjMC40Mi0xLjk3LDIuMzYtMy4yMyw0LjMzLTIuOGMxLjk3LDAuNDIsMy4yMywyLjM3LDIuOCw0LjM0QzkxLjQyLDEwMS44OSw4OS40OCwxMDMuMTUsODcuNTEsMTAyLjczTDg3LjUxLDEwMi43M3ogTTEyMi4wNCw1OS45MyBsLTUuMTYtMy4xOWMtMC4wNC0wLjUtMC4wOS0xLTAuMTUtMS41bDQuNDMtNC4xM2MwLjQ1LTAuNDIsMC42NS0xLjA0LDAuNTMtMS42NGMtMC4xMi0wLjYtMC41NC0xLjEtMS4xMi0xLjMybC01LjY3LTIuMTIgYy0wLjE0LTAuNDktMC4yOS0wLjk4LTAuNDQtMS40NmwzLjUzLTQuOTFjMC4zNi0wLjUsMC40My0xLjE1LDAuMi0xLjcyYy0wLjIzLTAuNTctMC43NS0wLjk3LTEuMzUtMS4wN2wtNS45OC0wLjk3IGMtMC4yMy0wLjQ1LTAuNDctMC45LTAuNzItMS4zNGwyLjUxLTUuNTFjMC4yNi0wLjU2LDAuMi0xLjIxLTAuMTQtMS43MmMtMC4zNC0wLjUxLTAuOTItMC44MS0xLjU0LTAuNzlsLTYuMDcsMC4yMSBjLTAuMzEtMC4zOS0wLjYzLTAuNzgtMC45Ni0xLjE2bDEuMzktNS45MWMwLjE0LTAuNi0wLjA0LTEuMjMtMC40Ny0xLjY2Yy0wLjQzLTAuNDMtMS4wNi0wLjYxLTEuNjYtMC40N2wtNS45MSwxLjM5IGMtMC4zOC0wLjMyLTAuNzctMC42NC0xLjE2LTAuOTZsMC4yMS02LjA3YzAuMDItMC42MS0wLjI4LTEuMi0wLjc5LTEuNTRjLTAuNTEtMC4zNC0xLjE2LTAuMzktMS43Mi0wLjE0bC01LjUxLDIuNTEgYy0wLjQ0LTAuMjQtMC44OS0wLjQ5LTEuMzQtMC43MmwtMC45Ny01Ljk4Yy0wLjEtMC42MS0wLjUtMS4xMi0xLjA3LTEuMzVjLTAuNTctMC4yNC0xLjIyLTAuMTYtMS43MiwwLjJsLTQuOTEsMy41NCBjLTAuNDgtMC4xNS0wLjk3LTAuMy0xLjQ2LTAuNDRMNzQuNzQsMi4zYy0wLjIxLTAuNTgtMC43MS0xLTEuMzItMS4xMmMtMC42LTAuMTItMS4yMiwwLjA4LTEuNjQsMC41M2wtNC4xNCw0LjQ0IGMtMC41LTAuMDYtMS0wLjExLTEuNS0wLjE1bC0zLjE5LTUuMTZDNjIuNjMsMC4zMiw2Mi4wNiwwLDYxLjQ0LDBjLTAuNjIsMC0xLjE5LDAuMzItMS41MSwwLjg0TDU2Ljc0LDZjLTAuNSwwLjA0LTEsMC4wOS0xLjUsMC4xNSBMNTEuMSwxLjcxYy0wLjQyLTAuNDUtMS4wNC0wLjY1LTEuNjQtMC41M2MtMC42LDAuMTItMS4xLDAuNTQtMS4zMiwxLjEybC0yLjEyLDUuNjdjLTAuNDksMC4xNC0wLjk4LDAuMjktMS40NiwwLjQ0bC00LjkxLTMuNTQgYy0wLjUtMC4zNi0xLjE1LTAuNDQtMS43Mi0wLjJjLTAuNTcsMC4yMy0wLjk3LDAuNzUtMS4wNywxLjM1bC0wLjk3LDUuOThjLTAuNDUsMC4yMy0wLjksMC40Ny0xLjM0LDAuNzJsLTUuNTEtMi41MSBjLTAuNTYtMC4yNi0xLjIxLTAuMi0xLjcyLDAuMTRjLTAuNTEsMC4zNC0wLjgxLDAuOTItMC43OSwxLjU0bDAuMjEsNi4wN2MtMC4zOSwwLjMxLTAuNzgsMC42My0xLjE2LDAuOTZsLTUuOTEtMS4zOSBjLTAuNi0wLjE0LTEuMjMsMC4wNC0xLjY2LDAuNDdjLTAuNDQsMC40NC0wLjYxLDEuMDYtMC40NywxLjY2bDEuMzksNS45MWMtMC4zMiwwLjM4LTAuNjQsMC43Ny0wLjk2LDEuMTZsLTYuMDctMC4yMSBjLTAuNjEtMC4wMi0xLjIsMC4yOC0xLjU0LDAuNzljLTAuMzQsMC41MS0wLjM5LDEuMTYtMC4xNCwxLjcybDIuNTEsNS41MWMtMC4yNCwwLjQ0LTAuNDksMC44OS0wLjcyLDEuMzRsLTUuOTgsMC45NyBjLTAuNjEsMC4xLTEuMTIsMC41LTEuMzUsMS4wN2MtMC4yMywwLjU3LTAuMTYsMS4yMiwwLjIsMS43MmwzLjU0LDQuOTFjLTAuMTUsMC40OC0wLjMsMC45Ny0wLjQ0LDEuNDZMMi4zLDQ4LjE0IGMtMC41OCwwLjIxLTEsMC43MS0xLjEyLDEuMzJjLTAuMTIsMC42LDAuMDgsMS4yMiwwLjUzLDEuNjRsNC40Myw0LjEzYy0wLjA1LDAuNS0wLjEsMS0wLjE1LDEuNWwtNS4xNiwzLjE5IEMwLjMyLDYwLjI2LDAsNjAuODMsMCw2MS40NGMwLDAuNjIsMC4zMiwxLjE5LDAuODQsMS41MUw2LDY2LjE0YzAuMDQsMC41LDAuMDksMSwwLjE1LDEuNWwtNC40Myw0LjE0IGMtMC40NSwwLjQyLTAuNjUsMS4wNC0wLjUzLDEuNjRjMC4xMiwwLjYsMC41NCwxLjEsMS4xMiwxLjMybDUuNjcsMi4xMmMwLjE0LDAuNDksMC4yOSwwLjk4LDAuNDQsMS40NmwtMy41NCw0LjkxIGMtMC4zNiwwLjUtMC40NCwxLjE1LTAuMiwxLjcyYzAuMjQsMC41NywwLjc1LDAuOTgsMS4zNiwxLjA3TDEyLjAxLDg3YzAuMjMsMC40NSwwLjQ3LDAuOSwwLjcyLDEuMzRsLTIuNTEsNS41MSBjLTAuMjYsMC41Ni0wLjIsMS4yMSwwLjE0LDEuNzJjMC4zNCwwLjUxLDAuOTMsMC44MSwxLjU0LDAuNzlsNi4wNi0wLjIxYzAuMzIsMC4zOSwwLjYzLDAuNzgsMC45NiwxLjE2bC0xLjM5LDUuOTEgYy0wLjE0LDAuNiwwLjA0LDEuMjIsMC40NywxLjY2YzAuNDMsMC40NCwxLjA2LDAuNjEsMS42NiwwLjQ3bDUuOTEtMS4zOWMwLjM4LDAuMzMsMC43NywwLjY0LDEuMTYsMC45NmwtMC4yMSw2LjA3IGMtMC4wMiwwLjYxLDAuMjgsMS4yLDAuNzksMS41NGMwLjUxLDAuMzQsMS4xNiwwLjM5LDEuNzIsMC4xNGw1LjUxLTIuNTFjMC40NCwwLjI1LDAuODksMC40OSwxLjM0LDAuNzJsMC45Nyw1Ljk3IGMwLjEsMC42MSwwLjUsMS4xMiwxLjA3LDEuMzZjMC41NywwLjI0LDEuMjIsMC4xNiwxLjcyLTAuMmw0LjkxLTMuNTRjMC40OCwwLjE1LDAuOTcsMC4zLDEuNDYsMC40NWwyLjEyLDUuNjcgYzAuMjEsMC41OCwwLjcxLDEsMS4zMiwxLjEyYzAuNiwwLjEyLDEuMjItMC4wOCwxLjY0LTAuNTNsNC4xNC00LjQzYzAuNSwwLjA2LDEsMC4xMSwxLjUsMC4xNWwzLjE5LDUuMTYgYzAuMzIsMC41MiwwLjg5LDAuODQsMS41MSwwLjg0YzAuNjIsMCwxLjE5LTAuMzIsMS41MS0wLjg0bDMuMTktNS4xNmMwLjUtMC4wNCwxLTAuMDksMS41LTAuMTVsNC4xNCw0LjQzIGMwLjQyLDAuNDUsMS4wNCwwLjY1LDEuNjQsMC41M2MwLjYtMC4xMiwxLjEtMC41NCwxLjMyLTEuMTJsMi4xMi01LjY3YzAuNDktMC4xNCwwLjk4LTAuMjksMS40Ni0wLjQ1bDQuOTEsMy41NCBjMC41LDAuMzYsMS4xNSwwLjQzLDEuNzIsMC4yYzAuNTctMC4yMywwLjk3LTAuNzUsMS4wNy0xLjM2bDAuOTctNS45N2MwLjQ1LTAuMjMsMC45LTAuNDgsMS4zNC0wLjcybDUuNTEsMi41MSBjMC41NiwwLjI2LDEuMjEsMC4yLDEuNzItMC4xNGMwLjUxLTAuMzQsMC44MS0wLjkyLDAuNzktMS41NGwtMC4yMS02LjA3YzAuMzktMC4zMSwwLjc4LTAuNjMsMS4xNi0wLjk2bDUuOTEsMS4zOSBjMC42LDAuMTQsMS4yMy0wLjAzLDEuNjYtMC40N2MwLjQ0LTAuNDQsMC42MS0xLjA2LDAuNDctMS42NmwtMS4zOS01LjkxYzAuMzItMC4zOCwwLjY0LTAuNzcsMC45Ni0xLjE2bDYuMDcsMC4yMSBjMC42MSwwLjAyLDEuMi0wLjI4LDEuNTQtMC43OWMwLjM0LTAuNTEsMC40LTEuMTYsMC4xNC0xLjcybC0yLjUxLTUuNTFjMC4yNS0wLjQ1LDAuNDktMC44OSwwLjcyLTEuMzRsNS45OC0wLjk3IGMwLjYxLTAuMSwxLjEyLTAuNSwxLjM1LTEuMDdjMC4yNC0wLjU3LDAuMTYtMS4yMi0wLjItMS43MmwtMy41NC00LjkxYzAuMTUtMC40OSwwLjMtMC45NywwLjQ0LTEuNDZsNS42Ny0yLjEyIGMwLjU4LTAuMjIsMS0wLjcxLDEuMTItMS4zMmMwLjEyLTAuNi0wLjA4LTEuMjItMC41My0xLjY0bC00LjQzLTQuMTRjMC4wNS0wLjUsMC4xLTEsMC4xNS0xLjVsNS4xNi0zLjE5IGMwLjUyLTAuMzIsMC44NC0wLjg5LDAuODQtMS41MUMxMjIuODgsNjAuODMsMTIyLjU2LDYwLjI2LDEyMi4wNCw1OS45M0wxMjIuMDQsNTkuOTN6Ij48L3BhdGg+CiAgPC9nPgo8L3N2Zz4K"},543:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTTE2Ljc1IDYuMTY1YTEuNSAxLjUgMCAwMC0xLjUgMGwtNy4zOTIgNC4yNjhhMS41IDEuNSAwIDAwLS43NSAxLjN2OC41MzVhMS41IDEuNSAwIDAwLjc1IDEuMjk5bDcuMzkyIDQuMjY4YTEuNSAxLjUgMCAwMDEuNSAwbDcuMzkyLTQuMjY4YTEuNSAxLjUgMCAwMC43NS0xLjI5OXYtOC41MzZhMS41IDEuNSAwIDAwLS43NS0xLjI5OUwxNi43NSA2LjE2NXptLjc1LTEuMjk5bDcuMzkyIDQuMjY4YTMgMyAwIDAxMS41IDIuNTk4djguNTM2YTMgMyAwIDAxLTEuNSAyLjU5OEwxNy41IDI3LjEzNGEzIDMgMCAwMS0zIDBsLTcuMzkyLTQuMjY4YTMgMyAwIDAxLTEuNS0yLjU5OHYtOC41MzZhMyAzIDAgMDExLjUtMi41OThMMTQuNSA0Ljg2NmEzIDMgMCAwMTMgMHoiIGZpbGw9IiM5OEEyQjMiLz4KPC9zdmc+Cg=="},544:function(e,t,a){const n=a(545),i=a(548),r=["keyword","gray","hex"],s={};for(const e of Object.keys(i))s[[...i[e].labels].sort().join("")]=e;const o={};function l(e,t){if(!(this instanceof l))return new l(e,t);if(t&&t in r&&(t=null),t&&!(t in i))throw new Error("Unknown model: "+t);let a,u;if(null==e)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof l)this.model=e.model,this.color=[...e.color],this.valpha=e.valpha;else if("string"==typeof e){const t=n.get(e);if(null===t)throw new Error("Unable to parse color from string: "+e);this.model=t.model,u=i[this.model].channels,this.color=t.value.slice(0,u),this.valpha="number"==typeof t.value[u]?t.value[u]:1}else if(e.length>0){this.model=t||"rgb",u=i[this.model].channels;const a=Array.prototype.slice.call(e,0,u);this.color=m(a,u),this.valpha="number"==typeof e[u]?e[u]:1}else if("number"==typeof e)this.model="rgb",this.color=[e>>16&255,e>>8&255,255&e],this.valpha=1;else{this.valpha=1;const t=Object.keys(e);"alpha"in e&&(t.splice(t.indexOf("alpha"),1),this.valpha="number"==typeof e.alpha?e.alpha:0);const n=t.sort().join("");if(!(n in s))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=s[n];const{labels:r}=i[this.model],o=[];for(a=0;a<r.length;a++)o.push(e[r[a]]);this.color=m(o)}if(o[this.model])for(u=i[this.model].channels,a=0;a<u;a++){const e=o[this.model][a];e&&(this.color[a]=e(this.color[a]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}l.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(e){let t=this.model in n.to?this:this.rgb();t=t.round("number"==typeof e?e:1);const a=1===t.valpha?t.color:[...t.color,this.valpha];return n.to[t.model](a)},percentString(e){const t=this.rgb().round("number"==typeof e?e:1),a=1===t.valpha?t.color:[...t.color,this.valpha];return n.to.rgb.percent(a)},array(){return 1===this.valpha?[...this.color]:[...this.color,this.valpha]},object(){const e={},{channels:t}=i[this.model],{labels:a}=i[this.model];for(let n=0;n<t;n++)e[a[n]]=this.color[n];return 1!==this.valpha&&(e.alpha=this.valpha),e},unitArray(){const e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,1!==this.valpha&&e.push(this.valpha),e},unitObject(){const e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,1!==this.valpha&&(e.alpha=this.valpha),e},round(e){return e=Math.max(e||0,0),new l([...this.color.map(u(e)),this.valpha],this.model)},alpha(e){return void 0!==e?new l([...this.color,Math.max(0,Math.min(1,e))],this.model):this.valpha},red:c("rgb",0,d(255)),green:c("rgb",1,d(255)),blue:c("rgb",2,d(255)),hue:c(["hsl","hsv","hsl","hwb","hcg"],0,(e=>(e%360+360)%360)),saturationl:c("hsl",1,d(100)),lightness:c("hsl",2,d(100)),saturationv:c("hsv",1,d(100)),value:c("hsv",2,d(100)),chroma:c("hcg",1,d(100)),gray:c("hcg",2,d(100)),white:c("hwb",1,d(100)),wblack:c("hwb",2,d(100)),cyan:c("cmyk",0,d(100)),magenta:c("cmyk",1,d(100)),yellow:c("cmyk",2,d(100)),black:c("cmyk",3,d(100)),x:c("xyz",0,d(95.047)),y:c("xyz",1,d(100)),z:c("xyz",2,d(108.833)),l:c("lab",0,d(100)),a:c("lab",1),b:c("lab",2),keyword(e){return void 0!==e?new l(e):i[this.model].keyword(this.color)},hex(e){return void 0!==e?new l(e):n.to.hex(this.rgb().round().color)},hexa(e){if(void 0!==e)return new l(e);const t=this.rgb().round().color;let a=Math.round(255*this.valpha).toString(16).toUpperCase();return 1===a.length&&(a="0"+a),n.to.hex(t)+a},rgbNumber(){const e=this.rgb().color;return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},luminosity(){const e=this.rgb().color,t=[];for(const[a,n]of e.entries()){const e=n/255;t[a]=e<=.04045?e/12.92:((e+.055)/1.055)**2.4}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast(e){const t=this.luminosity(),a=e.luminosity();return t>a?(t+.05)/(a+.05):(a+.05)/(t+.05)},level(e){const t=this.contrast(e);return t>=7?"AAA":t>=4.5?"AA":""},isDark(){const e=this.rgb().color;return(2126*e[0]+7152*e[1]+722*e[2])/1e4<128},isLight(){return!this.isDark()},negate(){const e=this.rgb();for(let t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten(e){const t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken(e){const t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate(e){const t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate(e){const t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten(e){const t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken(e){const t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale(){const e=this.rgb().color,t=.3*e[0]+.59*e[1]+.11*e[2];return l.rgb(t,t,t)},fade(e){return this.alpha(this.valpha-this.valpha*e)},opaquer(e){return this.alpha(this.valpha+this.valpha*e)},rotate(e){const t=this.hsl();let a=t.color[0];return a=(a+e)%360,a=a<0?360+a:a,t.color[0]=a,t},mix(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);const a=e.rgb(),n=this.rgb(),i=void 0===t?.5:t,r=2*i-1,s=a.alpha()-n.alpha(),o=((r*s==-1?r:(r+s)/(1+r*s))+1)/2,u=1-o;return l.rgb(o*a.red()+u*n.red(),o*a.green()+u*n.green(),o*a.blue()+u*n.blue(),a.alpha()*i+n.alpha()*(1-i))}};for(const e of Object.keys(i)){if(r.includes(e))continue;const{channels:t}=i[e];l.prototype[e]=function(...t){return this.model===e?new l(this):t.length>0?new l(t,e):new l([...(a=i[this.model][e].raw(this.color),Array.isArray(a)?a:[a]),this.valpha],e);var a},l[e]=function(...a){let n=a[0];return"number"==typeof n&&(n=m(a,t)),new l(n,e)}}function u(e){return function(t){return function(e,t){return Number(e.toFixed(t))}(t,e)}}function c(e,t,a){e=Array.isArray(e)?e:[e];for(const n of e)(o[n]||(o[n]=[]))[t]=a;return e=e[0],function(n){let i;return void 0!==n?(a&&(n=a(n)),i=this[e](),i.color[t]=n,i):(i=this[e]().color[t],a&&(i=a(i)),i)}}function d(e){return function(t){return Math.max(0,Math.min(e,t))}}function m(e,t){for(let a=0;a<t;a++)"number"!=typeof e[a]&&(e[a]=0);return e}e.exports=l},545:function(e,t,a){var n=a(318),i=a(546),r=Object.hasOwnProperty,s={};for(var o in n)r.call(n,o)&&(s[n[o]]=o);var l=e.exports={to:{},get:{}};function u(e,t,a){return Math.min(Math.max(t,e),a)}function c(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}l.get=function(e){var t,a;switch(e.substring(0,3).toLowerCase()){case"hsl":t=l.get.hsl(e),a="hsl";break;case"hwb":t=l.get.hwb(e),a="hwb";break;default:t=l.get.rgb(e),a="rgb"}return t?{model:a,value:t}:null},l.get.rgb=function(e){if(!e)return null;var t,a,i,s=[0,0,0,1];if(t=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(i=t[2],t=t[1],a=0;a<3;a++){var o=2*a;s[a]=parseInt(t.slice(o,o+2),16)}i&&(s[3]=parseInt(i,16)/255)}else if(t=e.match(/^#([a-f0-9]{3,4})$/i)){for(i=(t=t[1])[3],a=0;a<3;a++)s[a]=parseInt(t[a]+t[a],16);i&&(s[3]=parseInt(i+i,16)/255)}else if(t=e.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(a=0;a<3;a++)s[a]=parseInt(t[a+1],0);t[4]&&(t[5]?s[3]=.01*parseFloat(t[4]):s[3]=parseFloat(t[4]))}else{if(!(t=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(t=e.match(/^(\w+)$/))?"transparent"===t[1]?[0,0,0,0]:r.call(n,t[1])?((s=n[t[1]])[3]=1,s):null:null;for(a=0;a<3;a++)s[a]=Math.round(2.55*parseFloat(t[a+1]));t[4]&&(t[5]?s[3]=.01*parseFloat(t[4]):s[3]=parseFloat(t[4]))}for(a=0;a<3;a++)s[a]=u(s[a],0,255);return s[3]=u(s[3],0,1),s},l.get.hsl=function(e){if(!e)return null;var t=e.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var a=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,u(parseFloat(t[2]),0,100),u(parseFloat(t[3]),0,100),u(isNaN(a)?1:a,0,1)]}return null},l.get.hwb=function(e){if(!e)return null;var t=e.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var a=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,u(parseFloat(t[2]),0,100),u(parseFloat(t[3]),0,100),u(isNaN(a)?1:a,0,1)]}return null},l.to.hex=function(){var e=i(arguments);return"#"+c(e[0])+c(e[1])+c(e[2])+(e[3]<1?c(Math.round(255*e[3])):"")},l.to.rgb=function(){var e=i(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},l.to.rgb.percent=function(){var e=i(arguments),t=Math.round(e[0]/255*100),a=Math.round(e[1]/255*100),n=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+a+"%, "+n+"%)":"rgba("+t+"%, "+a+"%, "+n+"%, "+e[3]+")"},l.to.hsl=function(){var e=i(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},l.to.hwb=function(){var e=i(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},l.to.keyword=function(e){return s[e.slice(0,3)]}},546:function(e,t,a){"use strict";var n=a(547),i=Array.prototype.concat,r=Array.prototype.slice,s=e.exports=function(e){for(var t=[],a=0,s=e.length;a<s;a++){var o=e[a];n(o)?t=i.call(t,r.call(o)):t.push(o)}return t};s.wrap=function(e){return function(){return e(s(arguments))}}},547:function(e,t){e.exports=function(e){return!(!e||"string"==typeof e)&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&"String"!==e.constructor.name))}},548:function(e,t,a){const n=a(319),i=a(549),r={};Object.keys(n).forEach((e=>{r[e]={},Object.defineProperty(r[e],"channels",{value:n[e].channels}),Object.defineProperty(r[e],"labels",{value:n[e].labels});const t=i(e);Object.keys(t).forEach((a=>{const n=t[a];r[e][a]=function(e){const t=function(...t){const a=t[0];if(null==a)return a;a.length>1&&(t=a);const n=e(t);if("object"==typeof n)for(let e=n.length,t=0;t<e;t++)n[t]=Math.round(n[t]);return n};return"conversion"in e&&(t.conversion=e.conversion),t}(n),r[e][a].raw=function(e){const t=function(...t){const a=t[0];return null==a?a:(a.length>1&&(t=a),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(n)}))})),e.exports=r},549:function(e,t,a){const n=a(319);function i(e,t){return function(a){return t(e(a))}}function r(e,t){const a=[t[e].parent,e];let r=n[t[e].parent][e],s=t[e].parent;for(;t[s].parent;)a.unshift(t[s].parent),r=i(n[t[s].parent][s],r),s=t[s].parent;return r.conversion=a,r}e.exports=function(e){const t=function(e){const t=function(){const e={},t=Object.keys(n);for(let a=t.length,n=0;n<a;n++)e[t[n]]={distance:-1,parent:null};return e}(),a=[e];for(t[e].distance=0;a.length;){const e=a.pop(),i=Object.keys(n[e]);for(let n=i.length,r=0;r<n;r++){const n=i[r],s=t[n];-1===s.distance&&(s.distance=t[e].distance+1,s.parent=e,a.unshift(n))}}return t}(e),a={},i=Object.keys(t);for(let e=i.length,n=0;n<e;n++){const e=i[n];null!==t[e].parent&&(a[e]=r(e,t))}return a}},550:function(e,t,a){var n=a(551),i=a(552),r=a(553),s=a(554);e.exports=function(e,t,a){return e=r(e),void 0===(t=a?void 0:t)?i(e)?s(e):n(e):e.match(t)||[]}},551:function(e,t){var a=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(a)||[]}},552:function(e,t){var a=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return a.test(e)}},553:function(e,t,a){e.exports=a(64)(1614)},554:function(e,t){var a="\\ud800-\\udfff",n="\\u2700-\\u27bf",i="a-z\\xdf-\\xf6\\xf8-\\xff",r="A-Z\\xc0-\\xd6\\xd8-\\xde",s="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",o="["+s+"]",l="\\d+",u="["+n+"]",c="["+i+"]",d="[^"+a+s+l+n+i+r+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",p="["+r+"]",M="(?:"+c+"|"+d+")",b="(?:"+p+"|"+d+")",f="(?:['’](?:d|ll|m|re|s|t|ve))?",y="(?:['’](?:D|LL|M|RE|S|T|VE))?",j="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",E="[\\ufe0e\\ufe0f]?",h=E+j+"(?:\\u200d(?:"+["[^"+a+"]",m,g].join("|")+")"+E+j+")*",I="(?:"+[u,m,g].join("|")+")"+h,L=RegExp([p+"?"+c+"+"+f+"(?="+[o,p,"$"].join("|")+")",b+"+"+y+"(?="+[o,p+M,"$"].join("|")+")",p+"?"+M+"+"+f,p+"+"+y,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",l,I].join("|"),"g");e.exports=function(e){return e.match(L)||[]}},555:function(e,t,a){var n=a(556),i=a(576)((function(e,t,a){n(e,t,a)}));e.exports=i},556:function(e,t,a){var n=a(557),i=a(320),r=a(560),s=a(562),o=a(227),l=a(322),u=a(321);e.exports=function e(t,a,c,d,m){t!==a&&r(a,(function(r,l){if(m||(m=new n),o(r))s(t,a,l,c,e,d,m);else{var g=d?d(u(t,l),r,l+"",t,a,m):void 0;void 0===g&&(g=r),i(t,l,g)}}),l)}},557:function(e,t,a){e.exports=a(64)(1600)},558:function(e,t,a){e.exports=a(64)(1618)},559:function(e,t,a){e.exports=a(64)(833)},560:function(e,t,a){var n=a(561)();e.exports=n},561:function(e,t){e.exports=function(e){return function(t,a,n){for(var i=-1,r=Object(t),s=n(t),o=s.length;o--;){var l=s[e?o:++i];if(!1===a(r[l],l,r))break}return t}}},562:function(e,t,a){var n=a(320),i=a(563),r=a(564),s=a(565),o=a(566),l=a(567),u=a(300),c=a(568),d=a(571),m=a(299),g=a(227),p=a(572),M=a(573),b=a(321),f=a(574);e.exports=function(e,t,a,y,j,E,h){var I=b(e,a),L=b(t,a),x=h.get(L);if(x)n(e,a,x);else{var w=E?E(I,L,a+"",e,t,h):void 0,v=void 0===w;if(v){var T=u(L),S=!T&&d(L),C=!T&&!S&&M(L);w=L,T||S||C?u(I)?w=I:c(I)?w=s(I):S?(v=!1,w=i(L,!0)):C?(v=!1,w=r(L,!0)):w=[]:p(L)||l(L)?(w=I,l(I)?w=f(I):g(I)&&!m(I)||(w=o(L))):v=!1}v&&(h.set(L,w),j(w,L,y,E,h),h.delete(L)),n(e,a,w)}}},563:function(e,t,a){e.exports=a(64)(3509)},564:function(e,t,a){e.exports=a(64)(3518)},565:function(e,t,a){e.exports=a(64)(3510)},566:function(e,t,a){e.exports=a(64)(3519)},567:function(e,t,a){e.exports=a(64)(1608)},568:function(e,t,a){var n=a(569),i=a(570);e.exports=function(e){return i(e)&&n(e)}},569:function(e,t,a){e.exports=a(64)(1196)},570:function(e,t,a){e.exports=a(64)(294)},571:function(e,t,a){e.exports=a(64)(1192)},572:function(e,t,a){e.exports=a(64)(3530)},573:function(e,t,a){e.exports=a(64)(1610)},574:function(e,t,a){var n=a(575),i=a(322);e.exports=function(e){return n(e,i(e))}},575:function(e,t,a){e.exports=a(64)(692)},576:function(e,t,a){var n=a(577),i=a(581);e.exports=function(e){return n((function(t,a){var n=-1,r=a.length,s=r>1?a[r-1]:void 0,o=r>2?a[2]:void 0;for(s=e.length>3&&"function"==typeof s?(r--,s):void 0,o&&i(a[0],a[1],o)&&(s=r<3?void 0:s,r=1),t=Object(t);++n<r;){var l=a[n];l&&e(t,l,n,s)}return t}))}},577:function(e,t,a){var n=a(578),i=a(579),r=a(580);e.exports=function(e,t){return r(i(e,t,n),e+"")}},578:function(e,t,a){e.exports=a(64)(3540)},579:function(e,t,a){e.exports=a(64)(3535)},580:function(e,t,a){e.exports=a(64)(3537)},581:function(e,t,a){e.exports=a(64)(3821)},622:function(e,t,a){"use strict";a.r(t),a.d(t,"FieldRow",(function(){return te})),a.d(t,"FieldRowProvider",(function(){return Y})),a.d(t,"FieldRowKibanaProvider",(function(){return Q}));var n=a(3),i=a.n(n),r=a(40),s=a(1);const o=e=>"image"===e.type,l=e=>"json"===e.type,u=e=>"markdown"===e.type;a(550);var c=a(172),d=a.n(c);const m=(e,t)=>{if(!t)return!1;const{unsavedValue:a}=t,{savedValue:n,defaultValue:i}=e,r=null!=n;return!d()(a,r?n:i)};function g(e,t){const a=m(e,t);return[a?null==t?void 0:t.unsavedValue:void 0!==e.savedValue&&null!==e.savedValue?e.savedValue:e.defaultValue,a]}const p=e=>{const{onInputChange:t,field:a}=e;return e=>{m(a,e)?t(e):t()}};s.i18n.translate("management.settings.categoryNames.generalLabel",{defaultMessage:"General"}),s.i18n.translate("management.settings.categoryNames.machineLearningLabel",{defaultMessage:"Machine Learning"}),s.i18n.translate("management.settings.categoryNames.observabilityLabel",{defaultMessage:"Observability"}),s.i18n.translate("management.settings.categoryNames.timelionLabel",{defaultMessage:"Timelion"}),s.i18n.translate("management.settings.categoryNames.notificationsLabel",{defaultMessage:"Notifications"}),s.i18n.translate("management.settings.categoryNames.visualizationsLabel",{defaultMessage:"Visualization"}),s.i18n.translate("management.settings.categoryNames.discoverLabel",{defaultMessage:"Discover"}),s.i18n.translate("management.settings.categoryNames.reportingLabel",{defaultMessage:"Reporting"}),s.i18n.translate("management.settings.categoryNames.searchLabel",{defaultMessage:"Search"}),s.i18n.translate("management.settings.categoryNames.securitySolutionLabel",{defaultMessage:"Security Solution"}),s.i18n.translate("management.settings.categoryNames.enterpriseSearchLabel",{defaultMessage:"Enterprise Search"}),s.i18n.translate("management.settings.categoryNames.presentationLabLabel",{defaultMessage:"Presentation Labs"}),s.i18n.translate("management.settings.categoryNames.accessibilityLabel",{defaultMessage:"Accessibility"}),s.i18n.translate("management.settings.categoryNames.autocompleteLabel",{defaultMessage:"Autocomplete"}),s.i18n.translate("management.settings.categoryNames.bannerLabel",{defaultMessage:"Banner"}),s.i18n.translate("management.settings.categoryNames.rollupsLabel",{defaultMessage:"Rollups"}),s.i18n.translate("management.settings.categoryNames.devToolsLabel",{defaultMessage:"Developer Tools"});var M=a(115),b=a.n(M),f=a(13),y=a(41);const j=i.a.createContext(null),E=({children:e,...t})=>{const{showDanger:a,validateChange:n}=t;return Object(y.jsx)(j.Provider,{value:{showDanger:a,validateChange:n}},e)},h=({children:e,notifications:{toasts:t},settings:{client:a}})=>Object(y.jsx)(j.Provider,{value:{showDanger:e=>t.addDanger(e),validateChange:async(e,t)=>await a.validateValue(e,t)}},e),I=()=>{const e=Object(n.useContext)(j);if(!e)throw new Error("FieldInputContext is missing.  Ensure your component or React root is wrapped with FieldInputProvider.");return e},L=/,\s+/g,x=({field:e,unsavedChange:t,isSavingEnabled:a,onInputChange:i})=>{const[s]=g(e,t)||[],[o,l]=Object(n.useState)(null==s?void 0:s.join(", ")),{validateChange:u}=I(),c=p({onInputChange:i,field:e}),d=Object(n.useCallback)((async(t,a)=>{const n=t.replace(L,",").split(",").filter((e=>""!==e)),i=await u(e.id,n);i.successfulValidation&&!i.valid?a({type:e.type,unsavedValue:n,isInvalid:!i.valid,error:i.errorMessage}):a({type:e.type,unsavedValue:n})}),[u,e.id,e.type]),m=Object(n.useMemo)((()=>Object(f.debounce)(d,1e3)),[d]);Object(n.useEffect)((()=>{l(null==s?void 0:s.join(", "))}),[s]);const{id:M,name:b,ariaAttributes:j}=e,{ariaLabel:E,ariaDescribedBy:h}=j;return Object(y.jsx)(r.EuiFieldText,{fullWidth:!0,"data-test-subj":`${R}-${M}`,disabled:!a,"aria-label":E,"aria-describedby":h,name:b,onChange:async e=>{const t=e.target.value;l(t),await m(t,c)},value:o})};var w=a(107),v=a(108);const T=({onChange:e,type:t,isReadOnly:a,name:i,...r})=>{const s=Object(n.useCallback)((e=>{var t;const a=e.getDomNode();if(!a)return;const n=e.getOption(w.monaco.editor.EditorOption.lineHeight);let r=(null===(t=e.getModel())||void 0===t?void 0:t.getLineCount())||6;r<6?r=6:r>30&&(r=30);const s=n*r;a.id=i,a.style.height=`${s}px`,e.layout()}),[i]),o=Object(n.useCallback)((e=>{const t=e.getModel();if(!t)return;const a=t.getValue().trim();t.setValue(a)}),[]),l=Object(n.useCallback)((e=>{s(e),e.onDidChangeModelContent((()=>{s(e)})),e.onDidBlurEditorWidget((()=>{o(e)}))}),[s,o]),u={readOnly:a,lineNumbers:"off",scrollBeyondLastLine:!1,automaticLayout:!0,folding:!1,tabSize:2,scrollbar:{alwaysConsumeMouseWheel:!1},wordWrap:"on",wrappingIndent:"indent"};return Object(y.jsx)(v.CodeEditor,b()({onChange:e,editorDidMount:l,options:u},r,{languageId:"json"===t?w.XJsonLang.ID:v.MarkdownLang,width:"100%"}))},S=({field:e,unsavedChange:t,type:a,isSavingEnabled:i,defaultValue:r,onInputChange:o})=>{const[l]=g(e,t),[u,c]=Object(n.useState)(l),{validateChange:d}=I(),m=p({onInputChange:o,field:e}),M=Object(n.useCallback)((async(t,a)=>{let n;if("json"===e.type)try{const e=Array.isArray(JSON.parse(r||"null"));n=t||(e?"[]":"{}"),JSON.parse(n)}catch(n){return void a({type:e.type,unsavedValue:t,isInvalid:!0,error:s.i18n.translate("management.settings.field.codeEditorSyntaxErrorMessage",{defaultMessage:"Invalid JSON syntax"})})}const i=await d(e.id,n);i.successfulValidation&&!i.valid?a({type:e.type,unsavedValue:t,isInvalid:!i.valid,error:i.errorMessage}):a({type:e.type,unsavedValue:t})}),[d,e.id,e.type,r]),b=Object(n.useMemo)((()=>Object(f.debounce)(M,500)),[M]);Object(n.useEffect)((()=>{c(l)}),[l]);const{id:j,ariaAttributes:E}=e,{ariaLabel:h,ariaDescribedBy:L}=E;return Object(y.jsx)("div",null,Object(y.jsx)(T,{"aria-describedby":L,"aria-label":h,"data-test-subj":`${R}-${j}`,isReadOnly:!i,name:`${R}-${j}-editor`,onChange:async e=>{e!==u&&(c(e),await b(e,m))},type:a,value:u}))};var C=a(73);const N=({field:e,unsavedChange:t,isSavingEnabled:a,onInputChange:n})=>{const i=p({onInputChange:n,field:e}),{id:s,name:o,ariaAttributes:l}=e,{ariaLabel:u,ariaDescribedBy:c}=l,[d]=g(e,t);return Object(y.jsx)(r.EuiSwitch,{label:d?Object(y.jsx)(C.FormattedMessage,{id:"management.settings.onLabel",defaultMessage:"On"}):Object(y.jsx)(C.FormattedMessage,{id:"management.settings.offLabel",defaultMessage:"Off"}),"aria-label":u,"aria-describedby":c,checked:!!d,"data-test-subj":`${R}-${s}`,disabled:!a,name:o,onChange:t=>{const a=t.target.checked;i({type:e.type,unsavedValue:a})}})},D=s.i18n.translate("management.settings.fieldInput.color.invalidMessage",{defaultMessage:"Provide a valid color value"}),O=({field:e,unsavedChange:t,isSavingEnabled:a,onInputChange:n})=>{const i=p({onInputChange:n,field:e}),{id:s,name:o,ariaAttributes:l}=e,{ariaLabel:u,ariaDescribedBy:c}=l,[d]=g(e,t);return Object(y.jsx)(r.EuiColorPicker,{"aria-describedby":c,"aria-label":u,"data-test-subj":`${R}-${s}`,disabled:!a,format:"hex",isInvalid:null==t?void 0:t.isInvalid,name:o,color:d,onChange:(t,{isValid:a})=>{const n={type:e.type,unsavedValue:t};i(a?n:{...n,isInvalid:!0,error:D})}})},k=s.i18n.translate("management.settings.field.imageChangeErrorMessage",{defaultMessage:"Image could not be saved"}),A=i.a.forwardRef((({field:e,unsavedChange:t,isSavingEnabled:a,onInputChange:i},s)=>{const o=Object(n.useRef)(null);Object(n.useImperativeHandle)(s,(()=>({reset:()=>{var e;return null===(e=o.current)||void 0===e?void 0:e.removeFiles()}})));const{showDanger:l}=I(),u=p({onInputChange:i,field:e}),{id:c,name:d,ariaAttributes:m}=e,{ariaLabel:M,ariaDescribedBy:f}=m,[j]=g(e,t),E={"aria-label":M,"aria-describedby":f};return j?Object(y.jsx)(r.EuiImage,b()({allowFullScreen:!0,url:j,alt:d},E)):Object(y.jsx)(r.EuiFilePicker,b()({accept:".jpg,.jpeg,.png","data-test-subj":`${R}-${c}`,disabled:!a,ref:o,fullWidth:!0,onChange:async t=>{if(null===t||!t.length)return u(),null;const a=t[0];try{let t="";a instanceof File&&(t=String(await(async e=>{const t=new FileReader;return t.readAsDataURL(e),new Promise(((e,a)=>{t.onload=()=>{e(t.result)},t.onerror=e=>{a(e)}}))})(a))),u({type:e.type,unsavedValue:t})}catch(t){l(k),u({type:e.type,unsavedValue:"",error:k,isInvalid:!0})}}},E))})),z=({field:e,unsavedChange:t,isSavingEnabled:a,onInputChange:i})=>{const[s]=g(e,t)||void 0,[o,l]=Object(n.useState)(s),{validateChange:u}=I(),c=p({onInputChange:i,field:e}),d=Object(n.useCallback)((async(t,a)=>{const n=await u(e.id,t);n.successfulValidation&&!n.valid?a({type:e.type,unsavedValue:t,isInvalid:!n.valid,error:n.errorMessage}):a({type:e.type,unsavedValue:t})}),[u,e.id,e.type]),m=Object(n.useMemo)((()=>Object(f.debounce)(d,500)),[d]);Object(n.useEffect)((()=>{l(s)}),[s]);const{id:M,name:b,ariaAttributes:j}=e,{ariaLabel:E,ariaDescribedBy:h}=j;return Object(y.jsx)(r.EuiFieldNumber,{"aria-describedby":h,"aria-label":E,"data-test-subj":`${R}-${M}`,fullWidth:!0,disabled:!a,name:b,value:o,onChange:async e=>{const t=Number(e.target.value);l(t),await m(t,c)}})},F=({field:e,unsavedChange:t,onInputChange:a,optionLabels:i={},optionValues:s,isSavingEnabled:o})=>{if(0===s.length)throw new Error("non-empty `optionValues` are required for `SelectInput`.");const l=Object(n.useMemo)((()=>null==s?void 0:s.map((e=>({text:i.hasOwnProperty(e)?i[e]:e,value:e})))),[s,i]),u=p({onInputChange:a,field:e}),{id:c,ariaAttributes:d}=e,{ariaLabel:m,ariaDescribedBy:M}=d,[b]=g(e,t);return Object(y.jsx)(r.EuiSelect,{"aria-describedby":M,"aria-label":m,"data-test-subj":`${R}-${c}`,disabled:!o,fullWidth:!0,onChange:t=>{const a=t.target.value;u({type:e.type,unsavedValue:a})},options:l,value:b})},P=({field:e,unsavedChange:t,isSavingEnabled:a,onInputChange:n})=>{const i=p({onInputChange:n,field:e}),{id:s,name:o,ariaAttributes:l}=e,{ariaLabel:u,ariaDescribedBy:c}=l,[d]=g(e,t);return Object(y.jsx)(r.EuiFieldText,{fullWidth:!0,"data-test-subj":`${R}-${s}`,disabled:!a,"aria-label":u,"aria-describedby":c,name:o,onChange:t=>{const a=t.target.value;i({type:e.type,unsavedValue:a})},value:d})},R="management-settings-editField",U=(e,t)=>new Error(`Unsaved change for ${e} mismatch: ${t}`),V=i.a.forwardRef(((e,t)=>{const{field:a,unsavedChange:i,onInputChange:r,isSavingEnabled:s}=e,c=Object(n.useRef)(null);Object(n.useImperativeHandle)(t,(()=>({reset:()=>{c.current&&c.current.reset()}})));const d={isSavingEnabled:s,onInputChange:r};if("array"===a.type){if((m=i)&&void 0!==m.type&&"array"!==m.type)throw U(a.type,null==i?void 0:i.type);return Object(y.jsx)(x,b()({field:a,unsavedChange:i},d))}var m;if("boolean"===a.type){if(!(e=>!e||void 0===e.type||"boolean"===e.type)(i))throw U(a.type,null==i?void 0:i.type);return Object(y.jsx)(N,b()({field:a,unsavedChange:i},d))}if((e=>"color"===e.type)(a)){if(!(e=>!e||void 0===e.type||"color"===e.type)(i))throw U(a.type,null==i?void 0:i.type);return Object(y.jsx)(O,b()({field:a,unsavedChange:i},d))}if(o(a)){if(!(e=>!e||void 0===e.type||"image"===e.type)(i))throw U(a.type,null==i?void 0:i.type);return Object(y.jsx)(A,b()({field:a,unsavedChange:i},d,{ref:c}))}if(l(a)){if(!(e=>!e||void 0===e.type||"json"===e.type)(i))throw U(a.type,null==i?void 0:i.type);return Object(y.jsx)(S,b()({field:a,unsavedChange:i},d,{type:"json",defaultValue:a.savedValue||""}))}if(u(a)){if(!(e=>!e||void 0===e.type||"markdown"===e.type)(i))throw U(a.type,null==i?void 0:i.type);return Object(y.jsx)(S,b()({field:a,unsavedChange:i},d,{type:"markdown",defaultValue:a.savedValue||""}))}if((e=>"number"===e.type)(a)){if(!(e=>!e||void 0===e.type||"number"===e.type)(i))throw U(a.type,null==i?void 0:i.type);return Object(y.jsx)(z,b()({field:a,unsavedChange:i},d))}if((e=>"select"===e.type)(a)){if(!(e=>!e||void 0===e.type||"select"===e.type)(i))throw U(a.type,null==i?void 0:i.type);const{options:{values:e,labels:t}}=a;return Object(y.jsx)(F,b()({field:a,unsavedChange:i,optionLabels:t,optionValues:e},d))}if((e=>"string"===e.type)(a)){if(!(e=>!e||void 0===e.type||"string"===e.type)(i))throw U(a.type,null==i?void 0:i.type);return Object(y.jsx)(P,b()({field:a,unsavedChange:i},d))}if((e=>"undefined"===e.type)(a)){if(!(e=>!e||void 0===e.type||"undefined"===e.type)(i))throw U(a.type,null==i?void 0:i.type);return Object(y.jsx)(P,b()({field:a,unsavedChange:i},d))}throw new Error(`Unknown or incompatible field type: ${a.type}`)})),B=({field:e,unsavedChange:t})=>{const{euiTheme:{size:a,colors:n}}=Object(r.useEuiTheme)(),i=m(e,t),s=null==t?void 0:t.error;return{cssFieldFormGroup:Object(y.css)("+*{margin-top:",a.base,";}",""),cssFieldTitle:Object(y.css)("font-weight:bold;padding-left:",a.s,";margin-left:-",a.s,";",i?`box-shadow: -${a.xs} 0 ${n.warning};`:""," ",s?`box-shadow: -${a.xs} 0 ${n.danger};`:"",";",""),cssDescription:Object(y.css)("&>div{margin-bottom:",a.s,";}","")}},_=i.a.createContext(null),Y=({children:e,...t})=>{const{links:a,showDanger:n,validateChange:i}=t;return Object(y.jsx)(_.Provider,{value:{links:a}},Object(y.jsx)(E,{showDanger:n,validateChange:i},e))},Q=({children:e,docLinks:t,notifications:a,settings:n})=>Object(y.jsx)(_.Provider,{value:{links:t.links.management}},Object(y.jsx)(h,{notifications:a,settings:n},e)),G=({field:e})=>{const{links:t}=(()=>{const e=Object(n.useContext)(_);if(!e)throw new Error("FieldRowContext is missing.  Ensure your component or React root is wrapped with FieldRowProvider.");return e})(),{deprecation:a,name:i,id:o}=e;return a?Object(y.jsx)("div",{"data-test-subj":`description-block-deprecation-${o}`},Object(y.jsx)(r.EuiToolTip,{content:a.message},Object(y.jsx)(r.EuiBadge,{color:"warning",onClick:()=>{window.open(t[a.docLinksKey],"_blank")},onClickAriaLabel:s.i18n.translate("management.settings.field.deprecationClickAreaLabel",{defaultMessage:"Click to view deprecation documentation for {name}.",values:{name:i}})},"Deprecated"))):null},Z=({field:e,unsavedChange:t})=>{if(e.isDefaultValue)return null;if(t&&(t.unsavedValue===e.defaultValue||void 0===t.unsavedValue))return null;const{defaultValueDisplay:a,id:n}=e;let i=Object(y.jsx)(r.EuiCode,null,a);return(l(e)||u(e))&&(i=Object(y.jsx)(r.EuiCodeBlock,{"data-test-subj":`default-display-block-${n}`,language:e.type,paddingSize:"s",overflowHeight:a.length>=500?300:void 0},a)),Object(y.jsx)(r.EuiText,{size:"xs"},Object(y.jsx)(C.FormattedMessage,{id:"management.settings.defaultValueText",defaultMessage:"Default: {value}",values:{value:i}}))},W=({field:e,unsavedChange:t})=>{const{cssDescription:a}=B({field:e,unsavedChange:t}),{description:n,name:s}=e;let o=n;return i.a.isValidElement(o)||(o=Object(y.jsx)("div",{dangerouslySetInnerHTML:{__html:o||""}})),o&&(o=Object(y.jsx)(r.EuiText,{size:"s","data-test-subj":`settings-description-${s}`},o)),Object(y.jsx)("div",{css:a},Object(y.jsx)(G,{field:e}),o,Object(y.jsx)(Z,{field:e,unsavedChange:t}))},H=({field:e})=>e.isCustom?Object(y.jsx)(r.EuiIconTip,{type:"asterisk",color:"primary","aria-label":s.i18n.translate("management.settings.field.customSettingAriaLabel",{defaultMessage:"Custom setting"}),content:Object(y.jsx)(C.FormattedMessage,{id:"management.settings.customSettingTooltip",defaultMessage:"Custom setting"})}):null,$=({field:e,unsavedChange:t})=>{if(!t||!m(e,t))return null;const{isInvalid:a}=t,n=s.i18n.translate("management.settings.field.invalidIconLabel",{defaultMessage:"Invalid"}),i=s.i18n.translate("management.settings.field.unsavedIconLabel",{defaultMessage:"Unsaved"}),o=t.isInvalid?n:i;return Object(y.jsx)(r.EuiIconTip,{type:a?"warning":"dot",color:a?"danger":"warning","aria-label":o,content:o})},J=({field:e,unsavedChange:t,...a})=>{const{cssFieldTitle:n}=B({field:e,unsavedChange:t});return Object(y.jsx)(r.EuiFlexGroup,{gutterSize:"xs",alignItems:"center"},Object(y.jsx)(r.EuiFlexItem,{grow:!1,css:n},Object(y.jsx)("h3",a,e.displayName)),Object(y.jsx)(r.EuiFlexItem,{grow:!1},Object(y.jsx)(H,{field:e})),Object(y.jsx)(r.EuiFlexItem,{grow:!1},Object(y.jsx)($,{field:e,unsavedChange:t})))},q=({onReset:e,field:t,unsavedChange:a})=>{if(function(e,t){const{defaultValue:a}=e,n=m(e,t)?null==t?void 0:t.unsavedValue:void 0!==e.savedValue&&null!==e.savedValue?e.savedValue:e.defaultValue;return d()(n,a)}(t,a)||t.isOverridden)return null;const{id:n,ariaAttributes:{ariaLabel:i}}=t;return Object(y.jsx)(r.EuiLink,{"aria-label":s.i18n.translate("management.settings.field.resetToDefaultLinkAriaLabel",{defaultMessage:"Reset {ariaLabel} to default",values:{ariaLabel:i}}),onClick:e,"data-test-subj":`management-settings-resetField-${n}`},Object(y.jsx)(C.FormattedMessage,{id:"management.settings.resetToDefaultLinkText",defaultMessage:"Reset to default"}))},K=({field:e,onClear:t,unsavedChange:a})=>{if("image"!==e.type)return null;const{ariaAttributes:{ariaLabel:n},isOverridden:i,savedValue:o}=e;return i||!o&&!m(e,a)||o&&a&&void 0===a.unsavedValue?null:Object(y.jsx)("span",null,Object(y.jsx)(r.EuiLink,{"aria-label":s.i18n.translate("management.settings.field.changeImageLinkAriaLabel",{defaultMessage:"Change {ariaLabel}",values:{ariaLabel:n}}),onClick:()=>t(),"data-test-subj":`management-settings-change-image-${e.id}`},Object(y.jsx)(C.FormattedMessage,{id:"management.settings.changeImageLinkText",defaultMessage:"Change image"})))},X=({field:e})=>e.isOverridden?Object(y.jsx)(r.EuiText,{size:"xs","data-test-subj":`field-row-input-overridden-message-${e.id}`},Object(y.jsx)(C.FormattedMessage,{id:"management.settings.helpText",defaultMessage:"This setting is overridden by the Kibana server and can not be changed."})):null,ee=({field:e,isSavingEnabled:t,onClear:a,onReset:n,unsavedChange:i})=>{const{footerCSS:s}=(()=>{const{euiTheme:{size:e}}=Object(r.useEuiTheme)();return{footerCSS:Object(y.css)("margin-top:",e.s,";>*{margin-right:",e.s,";}","")}})();return e.isOverridden?Object(y.jsx)(X,{field:e}):t?Object(y.jsx)("span",{css:s,"data-test-subj":`field-row-input-footer-${e.id}`},Object(y.jsx)(q,{field:e,onReset:n,unsavedChange:i}),Object(y.jsx)(K,{field:e,unsavedChange:i,onClear:a})):null},te=e=>{const{isSavingEnabled:t,onFieldChange:a,field:l,unsavedChange:u}=e,{id:c,groupId:d,isOverridden:g,unsavedFieldId:p}=l,{cssFieldFormGroup:M}=B({field:l,unsavedChange:u}),b=Object(n.useRef)(null),f=e=>{a(c,e)},j=Object(y.jsx)(J,{field:l,unsavedChange:u}),E=Object(y.jsx)(W,{field:l,unsavedChange:u}),h=null==u?void 0:u.error,I=null==u?void 0:u.isInvalid;let L=null;return u&&(L=Object(y.jsx)(r.EuiScreenReaderOnly,null,Object(y.jsx)("p",{id:`${p}`,"data-test-subj":`fieldRowScreenReaderMessage-${c}`},h||s.i18n.translate("management.settings.field.settingIsUnsaved",{defaultMessage:"Setting is currently not saved."})))),Object(y.jsx)(r.EuiErrorBoundary,null,Object(y.jsx)(r.EuiDescribedFormGroup,{css:M,fullWidth:!0,id:d,title:j,description:E},Object(y.jsx)(r.EuiFormRow,{fullWidth:!0,hasChildLabel:!o(l),label:c,helpText:Object(y.jsx)(ee,{field:l,isSavingEnabled:t,onClear:()=>{b.current&&b.current.reset(),void 0!==l.savedValue&&null!==l.savedValue?f({type:l.type,unsavedValue:void 0}):f()},onReset:()=>{var e;null===(e=b.current)||void 0===e||e.reset();const t={type:l.type,unsavedValue:l.defaultValue};m(l,t)?f(t):f()},unsavedChange:u}),isInvalid:I,error:h},Object(y.jsx)(i.a.Fragment,null,Object(y.jsx)(V,{isSavingEnabled:t&&!g,isInvalid:null==u?void 0:u.isInvalid,field:l,unsavedChange:u,ref:b,onInputChange:f}),L))))}},640:function(e,t,a){"use strict";a.r(t),a.d(t,"METRICS_APP_DATA_TEST_SUBJ",(function(){return uh})),a.d(t,"renderApp",(function(){return ch}));var n=a(56),i=a(3),r=a.n(i),s=a(97),o=a.n(s),l=a(501),u=a(343),c=a(245),d=a(87),m=a(79),g=a(18),p=a(19),M=a.n(p),b=a(75);let f=function(e){return e.OVERVIEW="overview",e.METADATA="metadata",e.METRICS="metrics",e.PROCESSES="processes",e.PROFILING="profiling",e.ANOMALIES="anomalies",e.OSQUERY="osquery",e.LOGS="logs",e.LINK_TO_APM="linkToApm",e.DASHBOARDS="dashboards",e}({}),y=function(e){return e.kubernetesNode="kubernetesNode",e.kubernetesContainer="kubernetesContainer",e.docker="docker",e}({}),j=function(e){return e.container="container",e.host="host",e}({});const E="infraAssetDetailsFlyout",h="infraAssetDetailsPage",I="host.hostname",L={[j.container]:"container.id",[j.host]:I},x="assetDetails",w={[y.kubernetesNode]:"kubernetes.node",[y.kubernetesContainer]:"kubernetes.container",[y.docker]:"docker"},v=["cpu","memory","network","disk"],T=["cpu","memory"];var S=a(30);const C="from",N="to",D=(e,t)=>"host"===e?(e=>{const t=e.get(C),a=e.get(N),n=e.get("assetDetails");return{[x]:{...n?M.a.decode(n):void 0,dateRange:{from:t?new Date(parseFloat(t)).toISOString():void 0,to:a?new Date(parseFloat(a)).toISOString():void 0}}}})(t):(e=>{const t=e.get(C),a=e.get(N);return{_a:{time:t&&a?{from:new Date(parseFloat(t)).toISOString(),interval:">=1m",to:new Date(parseFloat(a)).toISOString()}:void 0}}})(t),O=()=>{const{params:{nodeType:e,nodeId:t}}=Object(m.useRouteMatch)(),{services:{share:a}}=Object(S.c)(),n=Object(m.useLocation)(),r=a.url.locators.get(b.ASSET_DETAILS_LOCATOR_ID);return Object(i.useEffect)((()=>{const a=new URLSearchParams(n.search),i=D(e,a);null==r||r.navigate({...i,assetType:e,assetId:t,state:n.state})}),[r,n.search,n.state,t,e]),null};var k=a(1),A=a(31),z=a(154),F=a(40),P=a(73),R=a(74),U=a(230);const V=Object(R.euiStyled)(U.b)`
  overflow: auto;
  background-color: ${e=>e.theme.eui.euiColorLightestShade};
`,B=({message:e})=>r.a.createElement(U.a,null,r.a.createElement(V,null,r.a.createElement(_,{message:e}))),_=({message:e})=>r.a.createElement(F.EuiPageTemplate,{offset:0,restrictWidth:!1,bottomBorder:!1,grow:!1},r.a.createElement(F.EuiPageTemplate.Header,null,r.a.createElement(F.EuiTitle,{size:"m"},r.a.createElement("h1",null,r.a.createElement(P.FormattedMessage,{id:"xpack.infra.errorPage.unexpectedErrorTitle",defaultMessage:"Oops!"})))),r.a.createElement(F.EuiPageTemplate.Section,null,r.a.createElement(F.EuiCallOut,{color:"danger",title:e,iconType:"error"},r.a.createElement("p",null,r.a.createElement(P.FormattedMessage,{id:"xpack.infra.errorPage.tryAgainDescription ",defaultMessage:"Please click the back button and try again."})))));var Y=a(116);const Q=({match:{params:{hostIp:e}},location:t})=>{const{metricsView:a}=Object(Y.c)(),{services:{share:n}}=Object(S.c)(),s=n.url.locators.get(b.ASSET_DETAILS_LOCATOR_ID),{error:o,name:l}=((e,t)=>{var a;const n=null===(a=Object(A.useKibana)().services.http)||void 0===a?void 0:a.fetch,[r,s]=Object(i.useState)(null),[o,l]=Object(i.useState)(!0),[u,c]=Object(i.useState)(null);return Object(i.useEffect)((()=>{(async()=>{l(!0),s(null);try{if(!n)throw new Error("HTTP service is unavailable");if(e&&t){const a=await n("/api/infra/ip_to_host",{method:"POST",body:JSON.stringify({ip:e,index_pattern:t})});l(!1),c(a)}}catch(e){l(!1),s(e)}})()}),[e,t,n]),{name:u&&u.host||null,loading:o,error:r}})(e,a&&a.indices||null);return Object(i.useEffect)((()=>{if(l){const e=new URLSearchParams(t.search),a=D("host",e);null==s||s.navigate({...a,assetType:"host",assetId:l,state:t.state})}}),[s,t.search,t.state,l]),o?r.a.createElement(B,{message:k.i18n.translate("xpack.infra.linkTo.hostWithIp.error",{defaultMessage:'Host not found with IP address "{hostIp}".',values:{hostIp:e}})}):l?null:r.a.createElement(z.a,{message:k.i18n.translate("xpack.infra.linkTo.hostWithIp.loading",{defaultMessage:'Loading host with IP address "{hostIp}".',values:{hostIp:e}})})};var G=a(36);const Z=({location:e})=>{const{services:{share:t}}=Object(S.c)(),a=t.url.locators.get(b.INVENTORY_LOCATOR_ID);return Object(i.useEffect)((()=>{var t;const n=Object(G.parse)(e.search||"",{sort:!1}),i=parseFloat(null!==(t=n.timestamp)&&void 0!==t?t:"");null==a||a.navigate({...n,waffleTime:{currentTime:i,isAutoReloading:!1},state:e.state})}),[a,e.search,e.state]),null},W=g.inventoryModels.map((e=>e.id)).join("|"),H=e=>r.a.createElement(u.a,null,r.a.createElement(c.b,{path:`${e.match.url}/:nodeType(${W})-detail/:nodeId`,component:O}),r.a.createElement(c.b,{path:`${e.match.url}/host-detail-via-ip/:hostIp`,component:Q}),r.a.createElement(c.b,{path:`${e.match.url}/inventory`,component:Z}),r.a.createElement(m.Redirect,{to:"/"}));var $=a(115),J=a.n($),q=a(83),K=a(165),X=a(254),ee=a(255),te=a(100),ae=a(502),ne=a(179),ie=a(138);const re=()=>{const{options:e,chartOptions:t,setChartOptions:a,timeRange:n,setOptions:s,setTimeRange:o}=Object(ie.g)(),l=Object(i.useMemo)((()=>({options:e,chartOptions:t,timerange:n})),[e,t,n]),u=e=>{var t;e&&e.options&&(t=e.options,s(t)),e&&e.timerange&&o(e.timerange),e&&e.chartOptions&&a(e.chartOptions)};return r.a.createElement(ne.a,{urlState:l,urlStateKey:"metricsExplorer",mapToUrlState:se,onChange:u,onInitialize:u,populateWithInitialState:!0})},se=e=>{const t={};if(e)return e.options&&function(e){const t=ie.e.decode(e);try{return ae.ThrowReporter.report(t),!0}catch(e){return!1}}(e.options)&&(e.options.source="url",Object(te.set)(t,"options",e.options)),e.timerange&&function(e){const t=ie.f.decode(e);try{return ae.ThrowReporter.report(t),!0}catch(e){return!1}}(e.timerange)&&Object(te.set)(t,"timerange",e.timerange),e.chartOptions&&function(e){const t=ie.d.decode(e);try{return ae.ThrowReporter.report(t),!0}catch(e){return!1}}(e.chartOptions)&&Object(te.set)(t,"chartOptions",e.chartOptions),t};var oe=a(0),le=a(32),ue=a(16),ce=a(25),de=a(95),me=a(122);const ge=()=>{const{notifications:e}=Object(S.c)();return{deleteViewFailure:t=>{e.toasts.danger({toastLifeTimeMs:3e3,title:t||k.i18n.translate("xpack.infra.savedView.errorOnDelete.title",{defaultMessage:"An error occurred deleting the view."})})},getViewFailure:t=>{e.toasts.danger({toastLifeTimeMs:3e3,title:t||k.i18n.translate("xpack.infra.savedView.findError.title",{defaultMessage:"An error occurred while loading views."})})},upsertViewFailure:t=>{e.toasts.danger({toastLifeTimeMs:3e3,title:t||k.i18n.translate("xpack.infra.savedView.errorOnCreate.title",{defaultMessage:"An error occurred saving view."})})}}},pe={find:["metrics-explorer-views-find"],get:["metrics-explorer-views-get"],getById:e=>["metrics-explorer-views-get",e]},Me=()=>{var e;const{metricsExplorerViews:t}=Object(S.c)().services;if(void 0===t)throw new Error("MetricsExplorerViews service has not been initialized.");const a=Object(b.useUiTracker)({app:"infra_metrics"}),n=Object(de.useQueryClient)(),{source:i,persistSourceConfiguration:r}=Object(Y.d)(),s=null!==(e=null==i?void 0:i.configuration.metricsExplorerDefaultView)&&void 0!==e?e:"0",[o,l]=Object(me.a)({defaultState:s,decodeUrlState:ye,encodeUrlState:fe,urlStateKey:"metricsExplorerViewId",writeDefaultState:!0}),u=ge(),{data:c,refetch:d,isFetching:m}=Object(de.useQuery)({queryKey:pe.find,queryFn:()=>t.client.findMetricsExplorerViews(),enabled:!1,placeholderData:[],onError:e=>{var t,a;return u.getViewFailure(null!==(t=null===(a=e.body)||void 0===a?void 0:a.message)&&void 0!==t?t:e.message)},onSuccess:e=>{const t=e.length>=1e3?"over":"under";a({metric:`${t}_1000_saved_objects_for_metrics_explorer_view`})}}),{data:g,isFetching:p}=Object(de.useQuery)({queryKey:pe.getById(o),queryFn:({queryKey:[,e]})=>t.client.getMetricsExplorerView(e),onError:e=>{var t,a;u.getViewFailure(null!==(t=null===(a=e.body)||void 0===a?void 0:a.message)&&void 0!==t?t:e.message),l(s)},placeholderData:null}),{mutate:M}=Object(de.useMutation)({mutationFn:e=>r({metricsExplorerDefaultView:e}),onMutate:async e=>{await n.cancelQueries({queryKey:pe.find});const t=n.getQueryData(pe.find),a=je(e,t);return n.setQueryData(pe.find,a),{previousViews:t}},onSuccess:(e,t,a)=>!e&&null!=a&&a.previousViews?n.setQueryData(pe.find,a.previousViews):n.invalidateQueries({queryKey:pe.get})}),{mutateAsync:f,isLoading:y}=Object(de.useMutation)({mutationFn:e=>t.client.createMetricsExplorerView(e),onError:e=>{var t,a;u.upsertViewFailure(null!==(t=null===(a=e.body)||void 0===a?void 0:a.message)&&void 0!==t?t:e.message)},onSuccess:e=>{n.setQueryData(pe.getById(e.id),e),l(e.id)}}),{mutateAsync:j,isLoading:E}=Object(de.useMutation)({mutationFn:({id:e,attributes:a})=>t.client.updateMetricsExplorerView(e,a),onError:e=>{var t,a;u.upsertViewFailure(null!==(t=null===(a=e.body)||void 0===a?void 0:a.message)&&void 0!==t?t:e.message)},onSuccess:e=>{n.setQueryData(pe.getById(e.id),e)}}),{mutate:h}=Object(de.useMutation)({mutationFn:e=>t.client.deleteMetricsExplorerView(e),onMutate:async e=>{await n.cancelQueries({queryKey:pe.find});const t=n.getQueryData(pe.find),a=Ee(e,t);return n.setQueryData(pe.find,a),{previousViews:t}},onError:(e,t,a)=>{var i,r;u.deleteViewFailure(null!==(i=null===(r=e.body)||void 0===r?void 0:r.message)&&void 0!==i?i:e.message),null!=a&&a.previousViews&&n.setQueryData(pe.find,a.previousViews)},onSuccess:(e,t)=>{(null==g?void 0:g.id)===t&&l(s)},onSettled:()=>{d()}});return{views:c,currentView:g,createView:f,deleteViewById:h,fetchViews:d,updateViewById:j,switchViewById:l,setDefaultViewById:M,isCreatingView:y,isFetchingCurrentView:p,isFetchingViews:m,isUpdatingView:E}},be=oe.string,fe=be.encode,ye=e=>Object(le.pipe)(be.decode(e),Object(ue.fold)(Object(ce.constant)(void 0),ce.identity)),je=(e,t=[])=>t.map((t=>({...t,attributes:{...t.attributes,isDefault:t.id===e}}))),Ee=(e,t=[])=>t.filter((t=>t.id!==e));var he=a(15),Ie=a(123);const Le=(e,t)=>{const{services:{serverless:a}}=Object(S.c)(),n=Object(b.useLinkProps)({app:he.i}),r=Object(i.useMemo)((()=>[{...n,text:Ie.h},...e]),[n,e]);Object(b.useBreadcrumbs)(r),Object(i.useEffect)((()=>{if(a&&null!=t&&t.deeperContextServerless){const[,...e]=r;a.setBreadcrumbs(e)}}),[r,null==t?void 0:t.deeperContextServerless,a])},xe=k.i18n.translate("xpack.infra.metrics.noDataConfig.beatsCard.title",{defaultMessage:"Add a metrics integration"}),we=k.i18n.translate("xpack.infra.metrics.noDataConfig.beatsCard.description",{defaultMessage:"Use Beats to send metrics data to Elasticsearch. We make it easy with modules for many popular systems and apps."}),ve=(k.i18n.translate("xpack.infra.metrics.noDataConfig.promptTitle",{defaultMessage:"Add metrics data"}),({titleText:e,bodyText:t,refetchText:a,onRefetch:n,testString:i})=>r.a.createElement(Te,{title:r.a.createElement("h2",null,e),titleSize:"m",body:r.a.createElement("p",null,t),actions:r.a.createElement(F.EuiButton,{"data-test-subj":"infraNoDataButton",iconType:"refresh",color:"primary",fill:!0,onClick:n},a),"data-test-subj":i})),Te=Object(R.euiStyled)(F.EuiEmptyPrompt)`
  align-self: center;
`;var Se=a(505),Ce=a.n(Se),Ne=a(642),De=a(155);const Oe=({body:e,title:t,...a})=>r.a.createElement(De.a,{isEmptyState:!0},r.a.createElement(Ne.a.EmptyPrompt,J()({title:r.a.createElement("h2",null,t),body:r.a.createElement(ke,null,e)},a))),ke=Ce.a.p`
  white-space: pre-line;
`,Ae=()=>{const e=Object(b.useLinkProps)({app:"metrics",pathname:"/settings"}),t=r.a.createElement(F.EuiButton,J()({"data-test-subj":"infraHostsPageGoToSettings",color:"danger"},e),k.i18n.translate("xpack.infra.hostsPage.goToMetricsSettings",{defaultMessage:"Check settings"}));return r.a.createElement(Oe,{color:"danger",iconType:"error",titleSize:"m","data-test-subj":"infraHostsNoRemoteCluster",title:k.i18n.translate("xpack.infra.sourceConfiguration.noRemoteClusterTitle",{defaultMessage:"Couldn't connect to the remote cluster"}),body:k.i18n.translate("xpack.infra.sourceConfiguration.noRemoteClusterMessage",{defaultMessage:"We're unable to connect to the remote cluster, which is preventing us from retrieving the metrics and data you need.\nTo resolve this issue, please check your indices configuration and ensure that it's properly configured."}),actions:[t]})};var ze=a(13);class loading_InfraLoadingPanel extends i.PureComponent{render(){const{height:e,text:t,width:a}=this.props;return i.createElement(Fe,{style:{height:e,width:a}},i.createElement(Pe,null,i.createElement(F.EuiPanel,null,i.createElement(F.EuiLoadingChart,{size:"m"}),i.createElement(F.EuiText,null,i.createElement("p",null,t)))))}}const Fe=R.euiStyled.div`
  position: relative;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  justify-content: center;
`,Pe=R.euiStyled.div`
  flex: 0 0 auto;
  align-self: center;
  text-align: center;
`;var Re=a(81),Ue=a(76),Ve=a.n(Ue),Be=a(151),_e=a(171),Ye=a(82),Qe=a.n(Ye),Ge=a(162),Ze=a(17),We=a(166);const He=e=>{const{visible:t,setVisible:a}=e,{triggersActionsUI:n}=Object(i.useContext)(Ge.a),s=Object(i.useCallback)((()=>a(!1)),[a]),o=Object(i.useMemo)((()=>n&&n.getAddRuleFlyout({consumer:"infrastructure",onClose:s,canChangeTrigger:!1,ruleTypeId:Ze.c,metadata:{currentOptions:e.options,series:e.series}})),[n,s]);return r.a.createElement(r.a.Fragment,null,t&&o)},$e=({onClose:e})=>{const{metricThresholdPrefill:t}=Object(We.b)(),{groupBy:a,filterQuery:n,metrics:i}=t;return r.a.createElement(He,{options:{groupBy:a,filterQuery:n,metrics:i},visible:!0,setVisible:e})};var Je=a(27),qe=a(22),Ke=a(311),Xe=a(43),et=a(312);const tt="metric*",at=e=>{if("rate"===e.aggregation){const t=Object(Je.v4)(),a=Object(Je.v4)(),n=Object(Je.v4)();return[{id:t,type:"max",field:e.field||void 0},{id:n,type:"derivative",field:t,unit:"1s"},{id:a,type:"positive_only",field:n}]}if("p95"===e.aggregation||"p99"===e.aggregation){const t="p95"===e.aggregation?"95":"99";return[{id:Object(Je.v4)(),type:"percentile",field:e.field,percentiles:[{id:Object(Je.v4)(),value:t,mode:"line",percentile:"",shade:.2}]}]}return[{id:Object(Je.v4)(),type:e.aggregation,field:e.field||void 0}]},nt=e=>t=>{const a=Object(Ke.a)(t);return{label:Object(et.a)(t),axis_position:"right",chart_type:"line",color:t.color&&Object(qe.b)(t.color)||Object(qe.b)(qe.a.color0),fill:e.type===ie.a.area?.5:0,formatter:a===Xe.b.bits?Xe.b.bytes:a,value_template:"rate"===t.aggregation?"{{value}}/s":"{{value}}",id:Object(Je.v4)(),line_width:2,metrics:at(t),point_size:0,separate_axis:0,split_mode:"everything",stacked:e.stack?"stacked":"none"}},it=(e,t)=>{const a=[];if(e.filterQuery&&a.push(e.filterQuery),e.groupBy){const n=t.id.replace('"','\\"'),i=Array.isArray(e.groupBy)?e.groupBy.map(((e,a)=>{if(!t.keys)return null;const n=t.keys[a];return n?`${e}: "${n.replace('"','\\"')}"`:null})).join(" and "):`${e.groupBy} : "${n}"`;a.push(i)}return{language:"kuery",query:a.join(" and ")}},rt=(e,t,a,n,i)=>{const r=(s=e).split(",").length>1?tt:s;var s;const o={filters:[],linked:!1,query:{language:"kuery",query:""},uiState:{},vis:{aggs:[],params:{axis_formatter:"number",axis_position:"left",axis_scale:"normal",id:Object(Je.v4)(),default_index_pattern:r,index_pattern:r,interval:"auto",series:t.metrics.map(nt(i)),show_grid:1,show_legend:1,time_field:he.m,type:"timeseries",filter:it(t,a)},title:a.id,type:"metrics"}};i.yAxisMode===ie.c.fromZero&&Object(te.set)(o,"vis.params.axis_min",0);const l={refreshInterval:{pause:!0,value:0},time:{from:n.from,to:n.to}};return{app:"visualize",hash:"/create",search:{type:"metrics",_g:Object(p.encode)(l),_a:Object(p.encode)(o)}}};a(246),a(207);var st=a(132),ot=a.n(st),lt=a(338);const ut=()=>{const e=Object(m.useLocation)(),{services:{application:{currentAppId$:t},share:a}}=Object(S.c)(),n=ot()(t),r=a.url.locators.get(b.ASSET_DETAILS_LOCATOR_ID);return{getNodeDetailUrl:Object(i.useCallback)((({assetType:t,assetId:a,search:i})=>{var s;const{from:o,to:l,...u}=i,c={assetDetails:Object.keys(u).length>0?{...u,dateRange:{from:o?new Date(o).toISOString():void 0,to:l?new Date(l).toISOString():void 0}}:{},_a:{time:{...o?{[C]:new Date(o).toISOString()}:void 0,interval:">=1m",...l?{[N]:new Date(l).toISOString()}:void 0}},assetType:t,assetId:a,state:{...null!==(s=e.state)&&void 0!==s?s:{},...e.key?{originAppId:n,originSearch:e.search,originPathname:e.pathname}:{}}};return Object(lt.a)({href:null==r?void 0:r.getRedirectUrl(c),onClick:()=>{null==r||r.navigate(c,{replace:!1})}})}),[n,e.key,e.pathname,e.search,e.state,r])}},ct=(e,t=!1)=>{const a=Qe.a.parse(e,{roundUp:t});if(!a)throw new Error(`"${e}" is not a valid time string`);return a.valueOf()},dt=({onFilter:e,options:t,series:a,timeRange:n,uiCapabilities:s,chartOptions:o})=>{var l,u,c;const{getNodeDetailUrl:d}=ut(),[m,g]=Object(i.useState)(!1),[p,M]=Object(i.useState)(!1),{metricsView:f}=Object(Y.c)(),y=null!=t.groupBy&&null!=e,j=Object(i.useCallback)((()=>{y&&e&&(Array.isArray(t.groupBy)?e(t.groupBy.map(((e,t)=>{var n;return`${e}: "${null===(n=a.keys)||void 0===n?void 0:n[t]}"`})).join(" and ")):e(`${t.groupBy}: "${a.id}"`)),g(!1)}),[y,e,t,a.keys,a.id]),E=y?[{name:k.i18n.translate("xpack.infra.metricsExplorer.filterByLabel",{defaultMessage:"Add filter"}),icon:"metricsApp",onClick:j,"data-test-subj":"metricsExplorerAction-AddFilter"}]:[],h=t.groupBy&&(e=>{const t=Array.isArray(e)?e:[e];return t.includes(he.c)?"host":t.includes(he.e)?"pod":t.includes(he.a)?"container":void 0})(t.groupBy),I=h?d({assetType:h,assetId:a.id,search:{from:ct(n.from),to:ct(n.to,!0)}}):{},L=Object(b.useLinkProps)({...rt(null!==(l=null==f?void 0:f.indices)&&void 0!==l?l:tt,t,a,n,o)}),x=h?[{name:k.i18n.translate("xpack.infra.metricsExplorer.viewNodeDetail",{defaultMessage:"View metrics for {name}",values:{name:h}}),icon:"metricsApp",...h?I:{},"data-test-subj":"metricsExplorerAction-ViewNodeMetrics"}]:[],w=[...E,...null!=s&&null!==(u=s.visualize)&&void 0!==u&&u.show?[{name:k.i18n.translate("xpack.infra.metricsExplorer.openInTSVB",{defaultMessage:"Open in Visualize"}),...L,icon:"visualizeApp",disabled:0===t.metrics.length,"data-test-subj":"metricsExplorerAction-OpenInTSVB"}]:[],...x,...null!=s&&null!==(c=s.infrastructure)&&void 0!==c&&c.save?[{name:k.i18n.translate("xpack.infra.metricsExplorer.alerts.createRuleButton",{defaultMessage:"Create threshold rule"}),icon:"bell",onClick(){M(!0)}}]:[]];if(0===w.length)return null;const v=[{id:0,title:"Actions",items:w}],T=k.i18n.translate("xpack.infra.metricsExplorer.actionsLabel.aria",{defaultMessage:"Actions for {grouping}",values:{grouping:a.id}}),S=k.i18n.translate("xpack.infra.metricsExplorer.actionsLabel.button",{defaultMessage:"Actions"}),C=r.a.createElement(F.EuiButtonEmpty,{"data-test-subj":"infraMetricsExplorerChartContextMenuButton",contentProps:{"aria-label":T},onClick:()=>g((e=>!e)),size:"s",iconType:"arrowDown",iconSide:"right"},S);return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.EuiPopover,{closePopover:()=>g(!1),id:`${a.id}-popover`,button:C,isOpen:m,panelPaddingSize:"none"},r.a.createElement(F.EuiContextMenu,{initialPanelId:0,panels:v}),r.a.createElement(He,{series:a,options:t,setVisible:M,visible:p})))},mt=k.i18n.translate("xpack.infra.metricsExplorer.everything",{defaultMessage:"Everything"}),gt=({series:e})=>{if(null!=e.keys){const{keys:t}=e;return r.a.createElement(F.EuiFlexGroup,{gutterSize:"xs"},t.map(((e,a)=>r.a.createElement(i.Fragment,{key:e},r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(F.EuiText,{size:"m",color:t.length-1>a?"subdued":"default"},r.a.createElement("strong",null,"*"===e?mt:e))),t.length-1>a&&r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(F.EuiText,{size:"m",color:"subdued"},r.a.createElement("span",null,"/")))))))}return r.a.createElement("span",null,e.id)},pt=()=>r.a.createElement(F.EuiEmptyPrompt,{iconType:"stats",title:r.a.createElement("h3",null,r.a.createElement(P.FormattedMessage,{id:"xpack.infra.metricsExplorer.emptyChart.title",defaultMessage:"Chart Data Missing"})),body:r.a.createElement("p",null,r.a.createElement(P.FormattedMessage,{id:"xpack.infra.metricsExplorer.emptyChart.body",defaultMessage:"Unable to render chart."}))});var Mt=a(196),bt=a(232);const ft=()=>r.a.createElement(F.EuiEmptyPrompt,{"data-test-subj":"metricsExplorer-missingMetricMessage",iconType:"stats",title:r.a.createElement("h3",null,r.a.createElement(P.FormattedMessage,{id:"xpack.infra.metricsExplorer.noMetrics.title",defaultMessage:"Missing Metric"})),body:r.a.createElement("p",null,r.a.createElement(P.FormattedMessage,{id:"xpack.infra.metricsExplorer.noMetrics.body",defaultMessage:"Please choose a metric above."}))});var yt=a(197);const jt=({options:e,chartOptions:t,series:a,title:n,onFilter:s,height:o=200,width:l="100%",timeRange:u,onTimeChange:c})=>{const{services:{application:{capabilities:d}}}=Object(S.c)(),m=Object(Be.a)(),{metrics:g}=e,[p]=Object(_e.a)("dateFormat"),M=Object(i.useMemo)((()=>{const e=Object(ze.first)(a.rows),t=Object(ze.last)(a.rows);return e&&t?Object(Re.niceTimeFormatter)([e.timestamp,t.timestamp]):e=>`${e}`}),[a.rows]),b={headerFormatter:Object(i.useCallback)((({value:e})=>Ve()(e).format(p||"Y-MM-DD HH:mm:ss.SSS")),[p])},f=Object(i.useCallback)(Object(bt.a)(Object(ze.first)(g)),[e]),y=Object(Mt.a)(a,g,t.stack),j=t.yAxisMode===ie.c.fromZero?{...y,min:0}:y;return r.a.createElement("div",{style:{padding:24},"data-test-subj":"metricsExplorer-chart"},e.groupBy?r.a.createElement(F.EuiTitle,{size:"xs"},r.a.createElement(F.EuiFlexGroup,{alignItems:"center"},r.a.createElement(Et,null,r.a.createElement(F.EuiToolTip,{content:n,anchorClassName:"metricsExplorerTitleAnchor"},r.a.createElement(gt,{series:a}))),r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(dt,{timeRange:u,options:e,chartOptions:t,series:a,onFilter:s,uiCapabilities:d})))):r.a.createElement(F.EuiFlexGroup,{justifyContent:"flexEnd"},r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(dt,{options:e,chartOptions:t,series:a,timeRange:u,uiCapabilities:d}))),r.a.createElement("div",{className:"metricsExplorerChart",style:{height:o,width:l}},g.length&&a.rows.length>0?r.a.createElement(Re.Chart,null,g.map(((e,n)=>r.a.createElement(yt.a,{type:t.type,key:n,metric:e,id:n,series:a,stack:t.stack}))),r.a.createElement(Re.Axis,{id:"timestamp",position:Re.Position.Bottom,showOverlappingTicks:!0,tickFormat:M}),r.a.createElement(Re.Axis,{id:"values",position:Re.Position.Left,tickFormat:f,domain:j}),r.a.createElement(Re.Tooltip,b),r.a.createElement(Re.Settings,{onBrushEnd:({x:e})=>{if(!e)return;const[t,a]=e;c(Ve()(t).toISOString(),Ve()(a).toISOString())},baseTheme:m.baseTheme,locale:k.i18n.getLocale()})):e.metrics.length>0?r.a.createElement(pt,null):r.a.createElement(ft,null)))},Et=R.euiStyled.div`
  width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  text-align: left;
  flex: 1 1 auto;
  margin: 12px;
`,ht=({isLoading:e,data:t,onLoadMore:a,options:n,chartOptions:i,onRefetch:s,onFilter:o,timeRange:l,onTimeChange:u})=>{if(e)return r.a.createElement(loading_InfraLoadingPanel,{height:"100%",width:"100%",text:k.i18n.translate("xpack.infra.metricsExplorer.loadingCharts",{defaultMessage:"Loading charts"})});if(!t||0===Object(ze.first)(t.pages).series.length)return r.a.createElement(ve,{titleText:k.i18n.translate("xpack.infra.metricsExplorer.noDataTitle",{defaultMessage:"There is no data to display."}),bodyText:k.i18n.translate("xpack.infra.metricsExplorer.noDataBodyText",{defaultMessage:"Try adjusting your time, filters or group by settings."}),refetchText:k.i18n.translate("xpack.infra.metricsExplorer.noDataRefetchText",{defaultMessage:"Check for new data"}),testString:"metrics-explorer-no-data",onRefetch:s});const c=k.i18n.translate("xpack.infra.metricsExplorer.andLabel",{defaultMessage:'" and "'}),d=Object(ze.first)(t.pages),m=Object(ze.last)(t.pages).pageInfo.afterKey;return r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(F.EuiFlexGrid,{gutterSize:"s",columns:1===d.series.length?1:3},t.pages.map((e=>e.series.map((t=>r.a.createElement(F.EuiFlexItem,{key:t.id,style:{minWidth:0}},r.a.createElement(jt,{key:`chart-${t.id}`,onFilter:o,options:n,chartOptions:i,title:n.groupBy?t.id:null,height:e.series.length>1?200:400,series:t,timeRange:l,onTimeChange:u}))))))),d.series.length>1?r.a.createElement("div",{style:{textAlign:"center",marginBottom:16}},r.a.createElement(F.EuiHorizontalRule,null),r.a.createElement(F.EuiText,{color:"subdued"},r.a.createElement("p",null,r.a.createElement(P.FormattedMessage,{id:"xpack.infra.metricsExplorer.footerPaginationMessage",defaultMessage:'Displaying {length} of {total} charts grouped by "{groupBy}".',values:{length:Object(ze.sumBy)(t.pages,"series.length"),total:d.pageInfo.total,groupBy:Array.isArray(n.groupBy)?n.groupBy.join(c):n.groupBy}}))),m?r.a.createElement("div",{style:{margin:"16px 0"}},r.a.createElement(F.EuiButton,{"data-test-subj":"infraMetricsExplorerChartsLoadMoreChartsButton",isLoading:e,size:"s",onClick:a},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.metricsExplorer.loadMoreChartsButton",defaultMessage:"Load More Charts"}))):null):null)};var It=a(84),Lt=a(174);const xt=k.i18n.translate("xpack.infra.metricsExplorer.metricComboBoxPlaceholder",{defaultMessage:"choose a metric to plot"}),wt=k.i18n.translate("xpack.infra.metricsExplorer.maxItemsSelected",{defaultMessage:"Maximum number of {maxMetrics} metrics reached.",values:{maxMetrics:g.METRICS_EXPLORER_API_MAX_METRICS}}),vt=({options:e,onChange:t,autoFocus:a=!1})=>{const{metricsView:n}=Object(Y.c)(),s=Object.keys(qe.a),[o,l]=Object(i.useState)(a),u=e.metrics.length>=g.METRICS_EXPLORER_API_MAX_METRICS,c=Object(i.useCallback)((e=>{e&&o&&(e.focus(),l(!1))}),[o]),d=Object(i.useCallback)((a=>{t(a.map(((t,a)=>({aggregation:e.aggregation,field:t.value,color:s[a]}))))}),[t,e.aggregation,s]),m=Object(i.useMemo)((()=>{var e;return u?[{label:wt,disabled:!0}]:(null!==(e=null==n?void 0:n.fields)&&void 0!==e?e:[]).map((e=>({label:e.name,value:e.name})))}),[u,null==n?void 0:n.fields]),p=e.metrics.filter((e=>"count"!==e.aggregation)).map((e=>({label:e.field||"",value:e.field||"",color:Object(qe.b)(e.color||qe.a.color0)}))),M=Object(i.useCallback)((e=>{const{label:t,disabled:a}=e;return a?r.a.createElement(F.EuiFlexGroup,{direction:"column",justifyContent:"center",alignItems:"center","data-test-subj":"infraMetricsExplorerMaxMetricsReached"},r.a.createElement(F.EuiFlexItem,null,r.a.createElement(F.EuiFlexGroup,{gutterSize:"xs",justifyContent:"center",alignItems:"center"},r.a.createElement(F.EuiIcon,{type:"iInCircle",size:"s"}),r.a.createElement(F.EuiText,{size:"xs"},t)))):t}),[]);return r.a.createElement(F.EuiComboBox,{"data-test-subj":"metricsExplorer-metrics","aria-label":xt,isDisabled:"count"===e.aggregation,placeholder:xt,fullWidth:!0,options:m,selectedOptions:p,onChange:d,onKeyDown:e=>(u&&e.preventDefault(),e),isClearable:!0,inputRef:c,renderOption:M})};var Tt=a(233),St=a(20);const Ct=({options:e,onChange:t})=>{const a={avg:k.i18n.translate("xpack.infra.metricsExplorer.aggregationLables.avg",{defaultMessage:"Average"}),sum:k.i18n.translate("xpack.infra.metricsExplorer.aggregationLables.sum",{defaultMessage:"Sum"}),max:k.i18n.translate("xpack.infra.metricsExplorer.aggregationLables.max",{defaultMessage:"Max"}),min:k.i18n.translate("xpack.infra.metricsExplorer.aggregationLables.min",{defaultMessage:"Min"}),cardinality:k.i18n.translate("xpack.infra.metricsExplorer.aggregationLables.cardinality",{defaultMessage:"Cardinality"}),rate:k.i18n.translate("xpack.infra.metricsExplorer.aggregationLables.rate",{defaultMessage:"Rate"}),p95:k.i18n.translate("xpack.infra.metricsExplorer.aggregationLables.p95",{defaultMessage:"95th Percentile"}),p99:k.i18n.translate("xpack.infra.metricsExplorer.aggregationLables.p99",{defaultMessage:"99th Percentile"}),count:k.i18n.translate("xpack.infra.metricsExplorer.aggregationLables.count",{defaultMessage:"Document count"})},n=Object(i.useCallback)((e=>{const a=St.d.is(e.target.value)&&e.target.value||"avg";t(a)}),[t]),s=k.i18n.translate("xpack.infra.metricsExplorer.aggregationSelectLabel",{defaultMessage:"Select an aggregation"}),o=Object(ze.xor)(St.a,["custom"]);return r.a.createElement(F.EuiSelect,{"data-test-subj":"infraMetricsExplorerAggregationPickerSelect","aria-label":s,placeholder:s,fullWidth:!0,value:e.aggregation,options:o.map((e=>({text:a[e],value:e}))),onChange:n})},Nt=({chartOptions:e,onChange:t})=>{const[a,n]=Object(i.useState)(!1),s=Object(i.useCallback)((()=>{n(!1)}),[]),o=Object(i.useCallback)((()=>{n(!0)}),[]),l=r.a.createElement(F.EuiButtonEmpty,{iconSide:"left",iconType:"eye",onClick:o,"data-test-subj":"metricsExplorer-customize"},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.metricsExplorer.customizeChartOptions",defaultMessage:"Customize"})),u=[{id:ie.c.auto,label:k.i18n.translate("xpack.infra.metricsExplorer.chartOptions.autoLabel",{defaultMessage:"Automatic (min to max)"})},{id:ie.c.fromZero,label:k.i18n.translate("xpack.infra.metricsExplorer.chartOptions.fromZeroLabel",{defaultMessage:"From zero (0 to max)"})}],c=[{"data-test-subj":"metricsExplorer-chartRadio-line",id:ie.a.line,label:k.i18n.translate("xpack.infra.metricsExplorer.chartOptions.lineLabel",{defaultMessage:"Line"})},{"data-test-subj":"metricsExplorer-chartRadio-area",id:ie.a.area,label:k.i18n.translate("xpack.infra.metricsExplorer.chartOptions.areaLabel",{defaultMessage:"Area"})},{"data-test-subj":"metricsExplorer-chartRadio-bar",id:ie.a.bar,label:k.i18n.translate("xpack.infra.metricsExplorer.chartOptions.barLabel",{defaultMessage:"Bar"})}],d=Object(i.useCallback)((a=>{t({...e,yAxisMode:a})}),[e,t]),m=Object(i.useCallback)((a=>{t({...e,type:a})}),[e,t]),g=Object(i.useCallback)((a=>{t({...e,stack:a.target.checked})}),[e,t]);return r.a.createElement(F.EuiPopover,{id:"MetricExplorerChartOptionsPopover",button:l,isOpen:a,closePopover:s},r.a.createElement(F.EuiForm,null,r.a.createElement(F.EuiFormRow,{display:"rowCompressed",label:k.i18n.translate("xpack.infra.metricsExplorer.chartOptions.typeLabel",{defaultMessage:"Chart style"})},r.a.createElement(F.EuiRadioGroup,{"data-test-subj":"infraMetricsExplorerChartOptionsRadioGroup",compressed:!0,options:c,idSelected:e.type,onChange:m})),r.a.createElement(F.EuiFormRow,{display:"rowCompressed",label:k.i18n.translate("xpack.infra.metricsExplorer.chartOptions.stackLabel",{defaultMessage:"Stack series"})},r.a.createElement(F.EuiSwitch,{label:k.i18n.translate("xpack.infra.metricsExplorer.chartOptions.stackSwitchLabel",{defaultMessage:"Stack"}),checked:e.stack,onChange:g})),r.a.createElement(F.EuiFormRow,{display:"rowCompressed",label:k.i18n.translate("xpack.infra.metricsExplorer.chartOptions.yAxisDomainLabel",{defaultMessage:"Y Axis Domain"})},r.a.createElement(F.EuiRadioGroup,{"data-test-subj":"infraMetricsExplorerChartOptionsRadioGroup",compressed:!0,options:u,idSelected:e.yAxisMode,onChange:d}))))},Dt=e=>e?e.map((e=>({start:e.from,end:e.to,label:e.display}))):[],Ot=({timeRange:e,options:t,onTimeChange:a,onRefresh:n,onGroupByChange:i,onFilterQuerySubmit:s,onMetricsChange:o,onAggregationChange:l,chartOptions:u,onChartOptionsChange:c})=>{const d="avg"===t.aggregation&&0===t.metrics.length,[m]=Object(_e.a)(It.UI_SETTINGS.TIMEPICKER_QUICK_RANGES),g=Dt(m);return r.a.createElement(F.EuiFlexGroup,{gutterSize:"m",direction:"column"},r.a.createElement(F.EuiFlexItem,null,r.a.createElement(F.EuiFlexGroup,{alignItems:"center"},r.a.createElement(F.EuiFlexItem,{grow:"count"===t.aggregation&&2},r.a.createElement(Ct,{fullWidth:!0,options:t,onChange:l})),"count"!==t.aggregation&&r.a.createElement(F.EuiText,{size:"s",color:"subdued"},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.metricsExplorer.aggregationLabel",defaultMessage:"of"})),"count"!==t.aggregation&&r.a.createElement(F.EuiFlexItem,{grow:2},r.a.createElement(vt,{autoFocus:d,options:t,onChange:o})),r.a.createElement(F.EuiText,{size:"s",color:"subdued"},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.metricsExplorer.groupByToolbarLabel",defaultMessage:"graph per"})),r.a.createElement(F.EuiFlexItem,{grow:1},r.a.createElement(Tt.a,{onChange:i,options:t})))),r.a.createElement(F.EuiFlexItem,null,r.a.createElement(F.EuiFlexGroup,{alignItems:"center"},r.a.createElement(F.EuiFlexItem,null,r.a.createElement(Lt.a,{onSubmit:s,value:t.filterQuery})),r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(Nt,{onChange:c,chartOptions:u})),r.a.createElement(F.EuiFlexItem,{grow:!1,style:{marginRight:5}},r.a.createElement(F.EuiSuperDatePicker,{start:e.from,end:e.to,onTimeChange:({start:e,end:t})=>a(e,t),onRefresh:n,commonlyUsedRanges:g})))))};var kt=a(175),At=a(14);var zt=a(159),Ft=a(42);const Pt=({error:e,titleOverride:t,messageOverride:a,hasDetailsModal:n=!1,hasTryAgainButton:i=!1,onTryAgainClick:s})=>{const{services:{notifications:o}}=Object(S.c)(),l=Rt(e),u=t||l.title;return r.a.createElement(F.EuiEmptyPrompt,{iconType:"error",color:"danger",title:r.a.createElement("h2",null,u),"data-test-subj":"hostsViewErrorCallout",body:r.a.createElement(r.a.Fragment,null,a?r.a.createElement("p",null,a):l.body,r.a.createElement(F.EuiFlexGroup,{justifyContent:"center"},n&&r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(F.EuiButton,{"data-test-subj":"hostsViewErrorDetailsButton",onClick:()=>{o.showErrorDialog({title:u,error:e})},color:"danger"},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.hostsViewPage.error.detailsButton",defaultMessage:"Error details"}))),i&&r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(F.EuiButton,{"data-test-subj":"hostsViewTryAgainButton",onClick:s,iconType:"refresh",color:"danger"},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.hostsViewPage.error.tryAgainButton",defaultMessage:"Try again"})))))})},Rt=e=>e instanceof Ft.KQLSyntaxError?{title:k.i18n.translate("xpack.infra.hostsViewPage.error.kqlErrorTitle",{defaultMessage:"Invalid KQL expression"}),body:r.a.createElement(r.a.Fragment,null,r.a.createElement(P.FormattedMessage,{id:"xpack.infra.hostsViewPage.error.kqlErrorMessage",defaultMessage:"We can't show any results because we couldn't apply your filter."}),r.a.createElement(F.EuiSpacer,{size:"s"}),r.a.createElement(F.EuiCodeBlock,{transparentBackground:!0,paddingSize:"s"},e.message))}:{title:k.i18n.translate("xpack.infra.hostsViewPage.error.unknownErrorTitle",{defaultMessage:"An error occurred"}),body:r.a.createElement(r.a.Fragment,null,e.message)},Ut=({"data-test-subj":e,...t})=>{var a;const{services:{observabilityAIAssistant:n,observabilityShared:{navigation:{PageTemplate:s}},share:o,docLinks:l}}=Object(S.c)(),u=o.url.locators.get(K.b),c=null==u?void 0:u.getRedirectUrl({category:"infra"}),{source:d,error:m,loadSource:g,isLoading:p}=Object(Y.d)(),{error:M,refetch:b}=Object(Y.c)(),{remoteClustersExist:f,metricIndicesExist:y}=null!==(a=null==d?void 0:d.status)&&void 0!==a?a:{},j=y?void 0:{solution:k.i18n.translate("xpack.infra.metrics.noDataConfig.solutionName",{defaultMessage:"Observability"}),action:{beats:{title:xe,description:we,href:c}},docsLink:l.links.observability.guide},{setScreenContext:E}=(null==n?void 0:n.service)||{};return Object(i.useEffect)((()=>null==E?void 0:E({data:[{name:"Metrics configuration",value:d,description:"The configuration of the Metrics app"}],starterPrompts:[...y?[]:[{title:k.i18n.translate("xpack.infra.metrics.aiAssistant.starterPrompts.explainNoData.title",{defaultMessage:"Explain"}),prompt:k.i18n.translate("xpack.infra.metrics.aiAssistant.starterPrompts.explainNoData.prompt",{defaultMessage:"Why don't I see any data?"}),icon:"sparkles"}]]})),[y,E,d]),p&&!d?r.a.createElement(zt.a,null):f?(M&&(k.i18n.translate("xpack.infra.hostsViewPage.errorOnCreateOrLoadDataviewTitle",{defaultMessage:"Error creating Data View"}),k.i18n.translate("xpack.infra.hostsViewPage.errorOnCreateOrLoadDataview",{defaultMessage:"There was an error trying to create a Data View: {metricAlias}. Try reloading the page.",values:{metricAlias:null!==(h=null==d?void 0:d.configuration.metricAlias)&&void 0!==h?h:""}})),r.a.createElement(s,J()({"data-test-subj":y?e:"noDataPage",noDataConfig:j},t))):r.a.createElement(Ae,null);var h};var Vt=a(152),Bt=a.n(Vt);const _t=(e=!1)=>{const[t,a]=Bt()(e);return[t,Object(i.useMemo)((()=>({toggle:a,on:()=>a(!0),off:()=>a(!1)})),[a])]},Yt={box:{incremental:!0}};function Qt({onClose:e,views:t=[],onSwitchView:a,onMakeDefaultView:n,onDeleteView:s,loading:o}){const l=Object(i.useMemo)((()=>t.map(Zt)),[t]),u=[{field:"name",name:k.i18n.translate("xpack.infra.openView.columnNames.name",{defaultMessage:"Name"}),sortable:!0,truncateText:!0,render:(t,n)=>r.a.createElement(F.EuiButtonEmpty,{key:n.id,"data-test-subj":"infraRenderNameButton",onClick:()=>{a(n.id),e()}},t)},{name:k.i18n.translate("xpack.infra.openView.columnNames.actions",{defaultMessage:"Actions"}),actions:[{render:e=>r.a.createElement(F.EuiButtonIcon,{key:e.id,"data-test-subj":"infraRenderMakeDefaultActionButton",iconType:e.attributes.isDefault?"starFilled":"starEmpty",size:"s",onClick:()=>{n(e.id)}})},{available:e=>!e.attributes.isStatic,render:e=>r.a.createElement(Gt,{key:e.id,isDisabled:e.attributes.isDefault,onConfirm:()=>{s(e.id)}})}]}];return r.a.createElement(F.EuiPortal,null,r.a.createElement(F.EuiFlyout,{onClose:e,"data-test-subj":"loadViewsFlyout"},r.a.createElement(F.EuiFlyoutHeader,null,r.a.createElement(F.EuiTitle,{size:"m"},r.a.createElement("h2",null,r.a.createElement(P.FormattedMessage,{defaultMessage:"Manage saved views",id:"xpack.infra.openView.flyoutHeader"})))),r.a.createElement(F.EuiFlyoutBody,null,r.a.createElement(F.EuiInMemoryTable,{items:l,columns:u,loading:o,search:Yt,pagination:!0,sorting:!0})),r.a.createElement(F.EuiModalFooter,null,r.a.createElement(F.EuiButtonEmpty,{"data-test-subj":"cancelSavedViewModal",onClick:e},r.a.createElement(P.FormattedMessage,{defaultMessage:"Cancel",id:"xpack.infra.openView.cancelButton"})))))}const Gt=({isDisabled:e,onConfirm:t})=>{const[a,n]=Bt()(!1);return a?r.a.createElement(F.EuiFlexGroup,null,r.a.createElement(F.EuiButtonEmpty,{onClick:n,"data-test-subj":"hideConfirm"},r.a.createElement(P.FormattedMessage,{defaultMessage:"cancel",id:"xpack.infra.waffle.savedViews.cancel"})),r.a.createElement(F.EuiButton,{disabled:e,fill:!0,iconType:"trash",color:"danger",onClick:t,"data-test-subj":"showConfirm"},r.a.createElement(P.FormattedMessage,{defaultMessage:"Delete view?",id:"xpack.infra.openView.actionNames.deleteConfirmation"}))):r.a.createElement(F.EuiButtonIcon,{"data-test-subj":"infraDeleteConfimationButton",iconType:"trash",color:"danger",size:"s",onClick:n})},Zt=e=>({...e,name:e.attributes.name}),Wt=k.i18n.translate("xpack.infra.waffle.savedViews.viewNamePlaceholder",{defaultMessage:"Name"}),Ht=({onClose:e,onSave:t,isSaving:a,initialName:n="",initialIncludeTime:s=!1,title:o})=>{const[l,u]=Object(i.useState)(n),[c,d]=Object(i.useState)(s),m=l.trim();return r.a.createElement(F.EuiModal,{onClose:e,"data-test-subj":"savedViews-upsertModal"},r.a.createElement(F.EuiModalHeader,null,r.a.createElement(F.EuiModalHeaderTitle,null,o)),r.a.createElement(F.EuiModalBody,null,r.a.createElement(F.EuiFieldText,{placeholder:Wt,"data-test-subj":"savedViewName",value:l,onChange:e=>{u(e.target.value)},"aria-label":Wt}),r.a.createElement(F.EuiSpacer,{size:"xl"}),r.a.createElement(F.EuiSwitch,{id:"saved-view-save-time-checkbox",label:r.a.createElement(P.FormattedMessage,{defaultMessage:"Store time with view",id:"xpack.infra.waffle.savedViews.includeTimeFilterLabel"}),checked:c,onChange:e=>{d(e.target.checked)}}),r.a.createElement(F.EuiSpacer,{size:"s"}),r.a.createElement(F.EuiText,{size:"xs",grow:!1,style:{maxWidth:400}},r.a.createElement(P.FormattedMessage,{defaultMessage:"This changes the time filter to the currently selected time each time the view is loaded",id:"xpack.infra.waffle.savedViews.includeTimeHelpText"}))),r.a.createElement(F.EuiModalFooter,null,r.a.createElement(F.EuiButtonEmpty,{"data-test-subj":"infraSavedViewCreateModalCancelButton",onClick:e},r.a.createElement(P.FormattedMessage,{defaultMessage:"Cancel",id:"xpack.infra.waffle.savedViews.cancelButton"})),r.a.createElement(F.EuiButton,{disabled:0===m.length,fill:!0,isLoading:a,onClick:()=>{t(m,c)},"data-test-subj":"createSavedViewButton"},r.a.createElement(P.FormattedMessage,{defaultMessage:"Save",id:"xpack.infra.waffle.savedViews.saveButton"}))))};function $t(e){const{currentView:t,views:a,isFetchingViews:n,isFetchingCurrentView:i,isCreatingView:s,isUpdatingView:o,onCreateView:l,onDeleteView:u,onUpdateView:c,onLoadViews:d,onSetDefaultView:m,onSwitchView:g,viewState:p}=e,[M,{off:b,toggle:f}]=_t(!1),[y,{on:j,off:E}]=_t(!1),[h,{on:I,off:L}]=_t(!1),[x,{on:w,off:v}]=_t(!1);return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.EuiPopover,{"data-test-subj":"savedViews-popover",button:r.a.createElement(F.EuiButton,{onClick:()=>{M||d(),f()},"data-test-subj":"savedViews-openPopover",iconType:"arrowDown",iconSide:"right",color:"text",isLoading:i},t?t.attributes.name:k.i18n.translate("xpack.infra.savedView.unknownView",{defaultMessage:"No view selected"})),isOpen:M,closePopover:b,anchorPosition:"leftCenter"},r.a.createElement(F.EuiListGroup,{flush:!0},r.a.createElement(F.EuiListGroupItem,{"data-test-subj":"savedViews-manageViews",iconType:"indexSettings",onClick:()=>{b(),j()},label:k.i18n.translate("xpack.infra.savedView.manageViews",{defaultMessage:"Manage views"})}),r.a.createElement(F.EuiListGroupItem,{"data-test-subj":"savedViews-updateView",iconType:"refresh",onClick:()=>{b(),w()},isDisabled:!t||t.attributes.isStatic,label:k.i18n.translate("xpack.infra.savedView.updateView",{defaultMessage:"Update view"})}),r.a.createElement(F.EuiListGroupItem,{"data-test-subj":"savedViews-saveNewView",iconType:"save",onClick:()=>{b(),I()},label:k.i18n.translate("xpack.infra.savedView.saveNewView",{defaultMessage:"Save new view"})}))),h&&r.a.createElement(Ht,{isSaving:s,onClose:L,onSave:(e,t=!1)=>{const a={...p,name:e};t||delete a.time,l(a).then(L)},title:r.a.createElement(P.FormattedMessage,{defaultMessage:"Save View",id:"xpack.infra.waffle.savedView.createHeader"})}),x&&r.a.createElement(Ht,{isSaving:o,onClose:v,onSave:(e,a=!1)=>{if(!t)return;const n={...p,name:e};a||delete n.time,c({id:t.id,attributes:n}).then(v)},initialName:null==t?void 0:t.attributes.name,initialIncludeTime:Boolean(null==t?void 0:t.attributes.time),title:r.a.createElement(P.FormattedMessage,{defaultMessage:"Update View",id:"xpack.infra.waffle.savedView.updateHeader"})}),y&&r.a.createElement(Qt,{loading:n,views:a,onMakeDefaultView:m,onDeleteView:u,onClose:E,onSwitchView:g}))}const Jt=({viewState:e})=>{const{currentView:t,views:a,isFetchingViews:n,isFetchingCurrentView:i,isCreatingView:s,isUpdatingView:o,createView:l,deleteViewById:u,fetchViews:c,updateViewById:d,switchViewById:m,setDefaultViewById:g}=Me();return r.a.createElement($t,{currentView:t,views:a,isFetchingViews:n,isFetchingCurrentView:i,isCreatingView:s,isUpdatingView:o,onCreateView:l,onDeleteView:u,onUpdateView:d,onLoadViews:c,onSetDefaultView:g,onSwitchView:m,viewState:e})},qt=()=>(Object(b.useTrackPageview)({app:"infra_metrics",path:"metrics_explorer"}),Object(b.useTrackPageview)({app:"infra_metrics",path:"metrics_explorer",delay:15e3}),Le([{text:Ie.g}]),r.a.createElement(ie.b,null,r.a.createElement(re,null),r.a.createElement(Kt,null))),Kt=()=>{const[e,t]=Object(i.useState)(!1),{isLoading:a,error:n,data:s,timeRange:o,options:l,chartOptions:u,setChartOptions:c,handleAggregationChange:d,handleMetricsChange:m,handleFilterQuerySubmit:g,handleGroupByChange:p,handleTimeChange:M,handleLoadMore:f,onViewStateChange:y,refresh:j}=(({enabled:e}={enabled:!0})=>{const{defaultViewState:t,options:a,timeRange:n,chartOptions:r,setChartOptions:s,setTimeRange:o,setOptions:l,timestamps:u,setTimestamps:c}=Object(ie.g)(),d=Object(i.useCallback)((()=>{const e=Qe.a.parse(n.from).valueOf(),t=Qe.a.parse(n.to,{roundUp:!0}).valueOf();c({interval:n.interval,fromTimestamp:e,toTimestamp:t})}),[c,n]),{data:m,error:g,fetchNextPage:p,isLoading:M}=function({options:e,timestamps:{fromTimestamp:t,toTimestamp:a,interval:n},enabled:i=!0}){const{http:r}=Object(A.useKibana)().services,{metricsView:s}=Object(Y.c)(),{isLoading:o,data:l,error:u,refetch:c,fetchNextPage:d}=Object(de.useInfiniteQuery)({queryKey:["metricExplorer",e,t,a],queryFn:async({signal:i,pageParam:o={afterKey:null}})=>{if(!t||!a)throw new Error("Unable to parse timerange");if(!r)throw new Error("HTTP service is unavailable");if(null==s||!s.dataViewReference)throw new Error("DataView is unavailable");const{afterKey:l}=o,u=await r.post("/api/infra/metrics_explorer",{method:"POST",body:JSON.stringify({forceInterval:e.forceInterval,dropLastBucket:null==e.dropLastBucket||e.dropLastBucket,metrics:"count"===e.aggregation?[{aggregation:"count"}]:e.metrics,groupBy:e.groupBy,groupInstance:e.groupInstance,afterKey:l,limit:e.limit,indexPattern:s.indices,filterQuery:e.filterQuery&&Object(kt.a)(e.filterQuery,s.dataViewReference)||void 0,timerange:{interval:n,from:t,to:a}}),signal:i});return Object(At.b)(St.f)(u)},getNextPageParam:e=>e.pageInfo,enabled:i&&!!t&&!!a&&!!r&&!!s,refetchOnWindowFocus:!1,retry:!1});return{data:l,error:(null==u?void 0:u.body)||u,fetchNextPage:d,isLoading:o,refetch:c}}({options:a,timestamps:u,enabled:e});Object(i.useEffect)((()=>{d()}),[a,l,d]);const b=Object(i.useCallback)(((e,t)=>{o({interval:n.interval,from:e,to:t})}),[o,n.interval]),f=Object(i.useCallback)((e=>{l({...a,groupBy:e||void 0})}),[a,l]),y=Object(i.useCallback)((e=>{l({...a,filterQuery:e})}),[a,l]),j=Object(i.useCallback)((e=>{l({...a,metrics:e})}),[a,l]),E=Object(i.useCallback)((e=>{const t="count"===e?[{aggregation:e}]:a.metrics.filter((e=>"count"!==e.aggregation)).map((t=>({...t,aggregation:e})));l({...a,aggregation:e,metrics:t})}),[a,l]),h=Object(i.useCallback)((e=>{e.attributes.chartOptions&&s(e.attributes.chartOptions),e.attributes.currentTimerange&&(e.attributes.isStatic||o(e.attributes.currentTimerange)),e.attributes.options&&l(e.attributes.options)}),[s,l,o]);return{chartOptions:r,timeRange:n,data:m,defaultViewState:t,error:g,isLoading:M,handleAggregationChange:E,handleMetricsChange:j,handleFilterQuerySubmit:y,handleGroupByChange:f,handleTimeChange:b,handleLoadMore:p,onViewStateChange:h,options:a,setChartOptions:s,refresh:d}})({enabled:e}),{currentView:E}=Me(),{kibanaVersion:h,isCloudEnv:I,isServerlessEnv:L}=Object(S.e)();Object(b.useTrackPageview)({app:"infra_metrics",path:"metrics_explorer"}),Object(b.useTrackPageview)({app:"infra_metrics",path:"metrics_explorer",delay:15e3}),Object(i.useEffect)((()=>{E&&y(E)}),[E,y]),Object(i.useEffect)((()=>{null!=E&&t(!0)}),[E]),Le([{text:Ie.g}]);const x={options:l,chartOptions:u,currentTimerange:o};return r.a.createElement(Ut,{pageHeader:{pageTitle:Ie.g,rightSideItems:[r.a.createElement(Jt,{viewState:x}),r.a.createElement(b.FeatureFeedbackButton,{formUrl:"https://ela.st/survey-infra-metricsexplorer?usp=pp_url","data-test-subj":"infraMetricsExplorerFeedbackLink",kibanaVersion:h,isCloudEnv:I,isServerlessEnv:L})]}},r.a.createElement(Ot,{timeRange:o,options:l,chartOptions:u,onRefresh:j,onTimeChange:M,onGroupByChange:p,onFilterQuerySubmit:g,onMetricsChange:m,onAggregationChange:d,onChartOptionsChange:c}),n?r.a.createElement(ve,{titleText:"Whoops!",bodyText:k.i18n.translate("xpack.infra.metricsExplorer.errorMessage",{defaultMessage:'It looks like the request failed with "{message}"',values:{message:n.message}}),onRefetch:j,refetchText:"Try Again"}):r.a.createElement(ht,{timeRange:o,isLoading:a,data:s,options:l,chartOptions:u,onLoadMore:f,onFilter:g,onRefetch:j,onTimeChange:M}))};var Xt=a(37),ea=a(41);const ta=new RegExp(`^([\\d\\.]+)\\s*(${Qe.a.units.join("|")})$`),aa=(oe.keyof({seconds:null,minutes:null,hours:null,days:null,weeks:null,months:null,years:null}),["seconds","minutes","hours","days","weeks","months","years"]),na={seconds:k.i18n.translate("xpack.infra.durationUnits.seconds.plural",{defaultMessage:"seconds"}),minutes:k.i18n.translate("xpack.infra.durationUnits.minutes.plural",{defaultMessage:"minutes"}),hours:k.i18n.translate("xpack.infra.durationUnits.hours.plural",{defaultMessage:"hours"}),days:k.i18n.translate("xpack.infra.durationUnits.days.plural",{defaultMessage:"days"}),weeks:k.i18n.translate("xpack.infra.durationUnits.weeks.plural",{defaultMessage:"weeks"}),months:k.i18n.translate("xpack.infra.durationUnits.months.plural",{defaultMessage:"months"}),years:k.i18n.translate("xpack.infra.durationUnits.years.plural",{defaultMessage:"years"})},ia={seconds:k.i18n.translate("xpack.infra.durationUnits.seconds.singular",{defaultMessage:"second"}),minutes:k.i18n.translate("xpack.infra.durationUnits.minutes.singular",{defaultMessage:"minute"}),hours:k.i18n.translate("xpack.infra.durationUnits.hours.singular",{defaultMessage:"hour"}),days:k.i18n.translate("xpack.infra.durationUnits.days.singular",{defaultMessage:"day"}),weeks:k.i18n.translate("xpack.infra.durationUnits.weeks.singular",{defaultMessage:"week"}),months:k.i18n.translate("xpack.infra.durationUnits.months.singular",{defaultMessage:"month"}),years:k.i18n.translate("xpack.infra.durationUnits.years.singular",{defaultMessage:"year"})};var ra=a(117),sa=a.n(ra),oa=a(156);const la={currentTime:Date.now(),isAutoReloading:!1},ua=oe.type({currentTime:oe.number,isAutoReloading:oe.boolean}),ca=ua.encode,da=e=>Object(le.pipe)(ua.decode(e),Object(ue.fold)(Object(ce.constant)(void 0),ce.identity)),ma=sa()((()=>{const[e]=Object(oa.a)({from:"now",to:"now"}),t=Qe.a.parse(e().to),[a,n]=Object(me.a)({defaultState:{...la,currentTime:t?t.toDate().getTime():Date.now()},decodeUrlState:da,encodeUrlState:ca,urlStateKey:"waffleTime"}),[r,s]=Object(i.useState)(a);Object(i.useEffect)((()=>{n(r)}),[n,r]);const{currentTime:o,isAutoReloading:l}=a;return{currentTime:o,currentTimeRange:{from:o-3e5,interval:"1m",to:o},isAutoReloading:l,startAutoReload:Object(i.useCallback)((()=>{s((e=>({...e,isAutoReloading:!0,currentTime:Date.now()})))}),[s]),stopAutoReload:Object(i.useCallback)((()=>{s((e=>({...e,isAutoReloading:!1})))}),[s]),jumpToTime:Object(i.useCallback)((e=>{s((t=>({...t,currentTime:e})))}),[s]),setWaffleTimeState:s}})),[ga,pa]=ma,Ma=Object(R.withTheme)((({interval:e})=>{const{currentTime:t,isAutoReloading:a,startAutoReload:n,stopAutoReload:s,jumpToTime:o}=pa(),l=Ve()(t),u=(e=>{const t=(e=>{if(e){const t=e.match(ta);if(t)return{value:Number(t[1]),unit:t[2]}}throw new Error(k.i18n.translate("xpack.infra.parseInterval.errorMessage",{defaultMessage:"{value} is not an interval string",values:{value:e}}))})(e);if("s"===(null==t?void 0:t.unit)){const e=Ve.a.duration(t.value,t.unit),i=aa.reduce(((t,a)=>e.as(a)>=1?a:t),"seconds"),r=e.as(i);return`${Math.floor(r)} ${a=r,n=i,1===Math.floor(a)?ia[n]:na[n]}`}var a,n})(e),c=a?r.a.createElement(F.EuiButton,{"data-test-subj":"infraWaffleTimeControlsStopRefreshingButton",color:"primary",iconSide:"left",iconType:"pause",onClick:s},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.waffleTime.stopRefreshingButtonLabel",defaultMessage:"Stop refreshing"})):r.a.createElement(F.EuiButton,{"data-test-subj":"infraWaffleTimeControlsAutoRefreshButton",iconSide:"left",iconType:"play",onClick:n},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.waffleTime.autoRefreshButtonLabel",defaultMessage:"Auto-refresh"})),d=Object(i.useCallback)((e=>{e&&o(e.valueOf())}),[o]);return r.a.createElement(F.EuiFlexGroup,{gutterSize:"m"},r.a.createElement(F.EuiFlexItem,{grow:!1,"data-test-subj":"waffleDatePicker"},r.a.createElement(F.EuiToolTip,{content:`Last ${u} of data for the selected time`,delay:"long",display:"inlineBlock",position:"top","data-test-subj":"waffleDatePickerIntervalTooltip"},r.a.createElement(F.EuiDatePicker,{dateFormat:"L LTS",disabled:a,injectTimes:l?[l]:[],isLoading:a,onChange:d,popoverPlacement:"upRight",selected:l,shouldCloseOnSelect:!0,showTimeSelect:!0,timeFormat:"LT"}))),r.a.createElement(F.EuiFlexItem,{grow:!1},c))}));var ba=a(6),fa=a.n(ba);function ya(...e){return(t,a)=>e.reduce(((e,t)=>t(e,a)||e),t)}var ja=a(103),Ea=a(168);const ha=e=>{const{isSelected:t,onClick:a,onMouseEnter:n,suggestion:i}=e;return r.a.createElement(Ia,{isSelected:t,onClick:a,onMouseEnter:n},r.a.createElement(xa,{suggestionType:i.type},r.a.createElement(F.EuiIcon,{type:Ta(i.type)})),r.a.createElement(wa,null,i.text),r.a.createElement(va,null,i.description))};ha.defaultProps={isSelected:!1};const Ia=R.euiStyled.div`
  display: flex;
  flex-direction: row;
  font-size: ${e=>e.theme.eui.euiFontSizeS};
  height: ${e=>e.theme.eui.euiSizeXL};
  white-space: nowrap;
  background-color: ${e=>e.isSelected?e.theme.eui.euiColorLightestShade:"transparent"};
`,La=R.euiStyled.div`
  align-items: center;
  cursor: pointer;
  display: flex;
  flex-direction: row;
  height: ${e=>e.theme.eui.euiSizeXL};
  padding: ${e=>e.theme.eui.euiSizeXS};
`,xa=Object(R.euiStyled)(La)`
  background-color: ${e=>Object(Ea.transparentize)(.9,Sa(e.theme,e.suggestionType))};
  color: ${e=>Sa(e.theme,e.suggestionType)};
  flex: 0 0 auto;
  justify-content: center;
  width: ${e=>e.theme.eui.euiSizeXL};
`,wa=Object(R.euiStyled)(La)`
  flex: 2 0 0;
  font-family: ${e=>e.theme.eui.euiCodeFontFamily};
`,va=Object(R.euiStyled)(La)`
  flex: 3 0 0;

  p {
    display: inline;

    span {
      font-family: ${e=>e.theme.eui.euiCodeFontFamily};
    }
  }
`,Ta=e=>{switch(e){case ja.QuerySuggestionTypes.Field:return"kqlField";case ja.QuerySuggestionTypes.Value:return"kqlValue";case ja.QuerySuggestionTypes.RecentSearch:return"search";case ja.QuerySuggestionTypes.Conjunction:return"kqlSelector";case ja.QuerySuggestionTypes.Operator:return"kqlOperand";default:return"empty"}},Sa=(e,t)=>{switch(t){case ja.QuerySuggestionTypes.Field:return null==e?void 0:e.eui.euiColorVis7;case ja.QuerySuggestionTypes.Value:return null==e?void 0:e.eui.euiColorVis0;case ja.QuerySuggestionTypes.Operator:return null==e?void 0:e.eui.euiColorVis1;case ja.QuerySuggestionTypes.Conjunction:return null==e?void 0:e.eui.euiColorVis2;case ja.QuerySuggestionTypes.RecentSearch:default:return null==e?void 0:e.eui.euiColorMediumShade}};class autocomplete_field_AutocompleteField extends r.a.Component{constructor(...e){super(...e),fa()(this,"state",{areSuggestionsVisible:!1,isFocused:!1,selectedIndex:null}),fa()(this,"inputElement",null),fa()(this,"handleChangeInputRef",(e=>{this.inputElement=e})),fa()(this,"handleChange",(e=>{this.changeValue(e.currentTarget.value)})),fa()(this,"handleKeyDown",(e=>{const{suggestions:t}=this.props;switch(e.key){case"ArrowUp":e.preventDefault(),t.length>0&&this.setState(ya(Oa,Ca));break;case"ArrowDown":e.preventDefault(),t.length>0?this.setState(ya(Oa,Na)):this.updateSuggestions();break;case"Enter":e.preventDefault(),null!==this.state.selectedIndex?this.applySelectedSuggestion():this.submit();break;case"Escape":e.preventDefault(),this.setState(ka)}})),fa()(this,"handleKeyUp",(e=>{switch(e.key){case"ArrowLeft":case"ArrowRight":case"Home":case"End":this.updateSuggestions()}})),fa()(this,"handleFocus",(()=>{this.setState(ya(Oa,Aa))})),fa()(this,"handleBlur",(()=>{this.setState(ya(ka,za))})),fa()(this,"selectSuggestionAt",(e=>()=>{this.setState(Da(e))})),fa()(this,"applySelectedSuggestion",(()=>{null!==this.state.selectedIndex&&this.applySuggestionAt(this.state.selectedIndex)()})),fa()(this,"applySuggestionAt",(e=>()=>{const{value:t,suggestions:a}=this.props,n=a[e];if(!n)return;const i=t.substr(0,n.start)+n.text+t.substr(n.end);this.setState(ka),this.changeValue(i),this.focusInputElement()})),fa()(this,"changeValue",(e=>{const{onChange:t}=this.props;t&&t(e)})),fa()(this,"focusInputElement",(()=>{this.inputElement&&this.inputElement.focus()})),fa()(this,"showSuggestions",(()=>{this.setState(Oa)})),fa()(this,"submit",(()=>{const{isValid:e,onSubmit:t,value:a}=this.props;e&&t&&t(a),this.setState(ka)})),fa()(this,"updateSuggestions",(()=>{const e=this.inputElement&&this.inputElement.selectionStart||0;this.props.loadSuggestions(this.props.value,e,200)}))}render(){const{suggestions:e,isLoadingSuggestions:t,isValid:a,placeholder:n,value:i,disabled:s,"aria-label":o,compressed:l}=this.props,{areSuggestionsVisible:u,selectedIndex:c}=this.state;return r.a.createElement(F.EuiOutsideClickDetector,{onOutsideClick:this.handleBlur},r.a.createElement(Fa,null,r.a.createElement(F.EuiFieldSearch,{compressed:l,fullWidth:!0,disabled:s,inputRef:this.handleChangeInputRef,isLoading:t,isInvalid:!a,onChange:this.handleChange,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onSearch:this.submit,placeholder:n,value:i,"aria-label":o,"data-test-subj":"infraSearchField"}),u&&!t&&e.length>0?r.a.createElement(Pa,{"data-test-subj":"infraSuggestionsPanel"},e.map(((e,t)=>r.a.createElement(ha,{key:e.text,suggestion:e,isSelected:t===c,onMouseEnter:this.selectSuggestionAt(t),onClick:this.applySuggestionAt(t)})))):null))}componentDidMount(){this.inputElement&&this.props.autoFocus&&this.inputElement.focus()}componentDidUpdate(e){const t=e.value!==this.props.value,a=e.suggestions!==this.props.suggestions;t&&this.updateSuggestions(),t&&""===this.props.value&&this.submit(),a&&this.state.isFocused&&this.showSuggestions()}}const Ca=(e,t)=>({...e,selectedIndex:0===t.suggestions.length?null:null!==e.selectedIndex?(e.selectedIndex+t.suggestions.length-1)%t.suggestions.length:Math.max(t.suggestions.length-1,0)}),Na=(e,t)=>({...e,selectedIndex:0===t.suggestions.length?null:null!==e.selectedIndex?(e.selectedIndex+1)%t.suggestions.length:0}),Da=e=>(t,a)=>({...t,selectedIndex:0===a.suggestions.length?null:e>=0&&e<a.suggestions.length?e:0}),Oa=e=>({...e,areSuggestionsVisible:!0}),ka=e=>({...e,areSuggestionsVisible:!1,selectedIndex:null}),Aa=e=>({...e,isFocused:!0}),za=e=>({...e,isFocused:!1}),Fa=R.euiStyled.div`
  position: relative;
`,Pa=Object(R.euiStyled)(F.EuiPanel).attrs((()=>({paddingSize:"none",hasShadow:!0})))`
  position: absolute;
  width: 100%;
  margin-top: 2px;
  overflow-x: hidden;
  overflow-y: scroll;
  z-index: ${e=>e.theme.eui.euiZLevel1};
  max-height: 322px;
`;var Ra=a(313),Ua=a(9);const Va={kind:"kuery",expression:""},Ba=Ua.d.encode,_a=e=>Object(le.pipe)(Ua.d.decode(e),Object(ue.fold)(Object(ce.constant)(void 0),ce.identity)),Ya=sa()((()=>{const{metricsView:e}=Object(Y.c)(),[t,a]=Object(me.a)({defaultState:Va,decodeUrlState:_a,encodeUrlState:Ba,urlStateKey:"waffleFilter"}),[n,r]=Object(i.useState)(t);Object(i.useEffect)((()=>a(n)),[a,n]);const[s,o]=Object(i.useState)(t.expression),l=Object(i.useMemo)((()=>Object(kt.a)(t.expression,null==e?void 0:e.dataViewReference)),[null==e?void 0:e.dataViewReference,t.expression]),u=Object(i.useCallback)((e=>{r((t=>({...t,kind:"kuery",expression:e})))}),[r]),c=Object(i.useCallback)((e=>{r(e),o(e.expression)}),[]),d=Object(i.useMemo)((()=>(e=>{try{Object(Ft.fromKueryExpression)(e)}catch(e){return!1}return!0})(s)),[s]),{inventoryPrefill:m}=Object(We.b)(),g=Object(i.useMemo)((()=>m),[m]);return Object(i.useEffect)((()=>g.setFilterQuery(n.expression)),[g,n]),{filterQuery:t,filterQueryDraft:s,filterQueryAsJson:l,applyFilterQuery:c,setFilterQueryDraftFromKueryExpression:o,applyFilterQueryFromKueryExpression:u,isFilterQueryDraftValid:d,setWaffleFiltersState:c}})),[Qa,Ga]=Ya,Za=()=>{const{metricsView:e}=Object(Y.c)(),{applyFilterQueryFromKueryExpression:t,filterQueryDraft:a,isFilterQueryDraftValid:n,setFilterQueryDraftFromKueryExpression:i}=Ga();return r.a.createElement(Ra.a,{dataView:null==e?void 0:e.dataViewReference},(({isLoadingSuggestions:e,loadSuggestions:s,suggestions:o})=>r.a.createElement(autocomplete_field_AutocompleteField,{isLoadingSuggestions:e,isValid:n,loadSuggestions:s,onChange:i,onSubmit:t,placeholder:k.i18n.translate("xpack.infra.homePage.toolbar.kqlSearchFieldPlaceholder",{defaultMessage:"Search for infrastructure data… (e.g. host.name:host-1)"}),suggestions:o,value:a||"",autoFocus:!0})))},Wa=({interval:e})=>r.a.createElement(F.EuiFlexGroup,{justifyContent:"spaceBetween",gutterSize:"m",style:{flexGrow:0}},r.a.createElement(F.EuiFlexItem,null,r.a.createElement(Za,null)),r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(Ma,{interval:e}))),Ha={find:["inventory-views-find"],get:["inventory-views-get"],getById:e=>["inventory-views-get",e]},$a=()=>{var e;const{inventoryViews:t}=Object(S.c)().services,a=Object(b.useUiTracker)({app:"infra_metrics"}),n=Object(de.useQueryClient)(),{source:i,persistSourceConfiguration:r}=Object(Y.d)(),s=null!==(e=null==i?void 0:i.configuration.inventoryDefaultView)&&void 0!==e?e:"0",[o,l]=Object(me.a)({defaultState:s,decodeUrlState:Ka,encodeUrlState:qa,urlStateKey:"inventoryViewId",writeDefaultState:!0}),u=ge(),{data:c,refetch:d,isFetching:m}=Object(de.useQuery)({queryKey:Ha.find,queryFn:()=>t.client.findInventoryViews(),enabled:!1,placeholderData:[],onError:e=>{var t,a;return u.getViewFailure(null!==(t=null===(a=e.body)||void 0===a?void 0:a.message)&&void 0!==t?t:e.message)},onSuccess:e=>{const t=e.length>=1e3?"over":"under";a({metric:`${t}_1000_saved_objects_for_inventory_view`})}}),{data:g,isFetching:p}=Object(de.useQuery)({queryKey:Ha.getById(o),queryFn:({queryKey:[,e]})=>t.client.getInventoryView(e),onError:e=>{var t,a;u.getViewFailure(null!==(t=null===(a=e.body)||void 0===a?void 0:a.message)&&void 0!==t?t:e.message),l(s)},placeholderData:null}),{mutate:M}=Object(de.useMutation)({mutationFn:e=>r({inventoryDefaultView:e}),onMutate:async e=>{await n.cancelQueries({queryKey:Ha.find});const t=n.getQueryData(Ha.find),a=Xa(e,t);return n.setQueryData(Ha.find,a),{previousViews:t}},onSuccess:(e,t,a)=>!e&&null!=a&&a.previousViews?n.setQueryData(Ha.find,a.previousViews):n.invalidateQueries({queryKey:Ha.get})}),{mutateAsync:f,isLoading:y}=Object(de.useMutation)({mutationFn:e=>t.client.createInventoryView(e),onError:e=>{var t,a;u.upsertViewFailure(null!==(t=null===(a=e.body)||void 0===a?void 0:a.message)&&void 0!==t?t:e.message)},onSuccess:e=>{n.setQueryData(Ha.getById(e.id),e),l(e.id)}}),{mutateAsync:j,isLoading:E}=Object(de.useMutation)({mutationFn:({id:e,attributes:a})=>t.client.updateInventoryView(e,a),onError:e=>{var t,a;u.upsertViewFailure(null!==(t=null===(a=e.body)||void 0===a?void 0:a.message)&&void 0!==t?t:e.message)},onSuccess:e=>{n.setQueryData(Ha.getById(e.id),e)}}),{mutate:h}=Object(de.useMutation)({mutationFn:e=>t.client.deleteInventoryView(e),onMutate:async e=>{await n.cancelQueries({queryKey:Ha.find});const t=n.getQueryData(Ha.find),a=en(e,t);return n.setQueryData(Ha.find,a),{previousViews:t}},onError:(e,t,a)=>{var i,r;u.deleteViewFailure(null!==(i=null===(r=e.body)||void 0===r?void 0:r.message)&&void 0!==i?i:e.message),null!=a&&a.previousViews&&n.setQueryData(Ha.find,a.previousViews)},onSuccess:(e,t)=>{(null==g?void 0:g.id)===t&&l(s)},onSettled:()=>{d()}});return{views:c,currentView:g,createView:f,deleteViewById:h,fetchViews:d,updateViewById:j,switchViewById:l,setDefaultViewById:M,isCreatingView:y,isFetchingCurrentView:p,isFetchingViews:m,isUpdatingView:E}},Ja=oe.string,qa=Ja.encode,Ka=e=>Object(le.pipe)(Ja.decode(e),Object(ue.fold)(Object(ce.constant)(void 0),ce.identity)),Xa=(e,t=[])=>t.map((t=>({...t,attributes:{...t.attributes,isDefault:t.id===e}}))),en=(e,t=[])=>t.filter((t=>t.id!==e));var tn=a(77),an=a.n(tn),nn=a(184),rn=a.n(nn),sn=a(137),on=a.n(sn),ln=a(192);function un(e){return e&&null!=e.nodes&&Array.isArray(e.nodes)}function cn(e){return e&&null!=e.groups&&Array.isArray(e.groups)}function dn(e){return e.map((e=>e.value)).join("/")}function mn(e,t){const a=0===t.length?"__all__":dn(t),n=Object(ze.first)(t);if(2===t.length&&n){const t=n.value,i=e.find((e=>e.id===t));if(cn(i)){const e=i.groups.find((e=>e.id===a));if(un(e))return e}}const i=Object(ze.last)(t),r=e.find((e=>e.id===a));return un(r)?r:{id:a,name:"__all__"===a?k.i18n.translate("xpack.infra.nodesToWaffleMap.groupsWithNodes.allName",{defaultMessage:"All"}):i&&i.label||"Unknown Group",count:0,width:0,squareSize:0,nodes:[]}}function gn(e){const t=Object(ze.last)(e.path);if(!t)throw new Error("There must be at least one node path item");return{pathId:e.path.map((e=>e.value)).join("/"),path:e.path,id:t.value,ip:t.ip,name:t.label||t.value,metrics:e.metrics}}function pn(e){return t=>t.id!==e.id}class group_name_GroupName extends r.a.PureComponent{constructor(...e){super(...e),fa()(this,"handleClick",(e=>{e.preventDefault();const{groupBy:t}=this.props.options;if(0===t.length)return;const a=this.props.isChild&&t.length>1?t[1]:t[0];this.props.onDrilldown(`${a.field}: "${this.props.group.name}"`)}))}render(){const{group:e,isChild:t}=this.props,a={fontSize:t?"0.85em":"1em"};return r.a.createElement(Mn,null,r.a.createElement(bn,{isChild:t},r.a.createElement(fn,null,r.a.createElement(F.EuiToolTip,{position:"top",content:e.name},r.a.createElement(F.EuiLink,{style:a,onClickCapture:this.handleClick,"data-test-subj":"groupNameLink"},e.name))),r.a.createElement(yn,null,e.count)))}}const Mn=R.euiStyled.div`
  position: relative;
  text-align: center;
  font-size: 16px;
  margin-bottom: 5px;
  top: 20px;
  display: flex;
  justify-content: center;
  padding: 0 10px;
`,bn=R.euiStyled.div`
  border: 1px solid ${e=>e.theme.eui.euiBorderColor};
  background-color: ${e=>e.isChild?e.theme.eui.euiColorLightestShade:e.theme.eui.euiColorEmptyShade};
  border-radius: 4px;
  box-shadow: 0px 2px 0px 0px ${e=>e.theme.eui.euiBorderColor};
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
`,fn=R.euiStyled.div`
  flex: 1 1 auto;
  padding: 6px 10px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
`,yn=R.euiStyled.div`
  flex: 0 0 auto;
  border-left: 1px solid ${e=>e.theme.eui.euiBorderColor};
  padding: 6px 10px;
  font-size: 0.85em;
  font-weight: normal;
`;var jn=a(176),En=a(198),hn=a(199),In=a(200);const Ln=Object.keys(g.SnapshotMetricTypeKeys).reduce(((e,t)=>{var a;const n=null===(a=Object(In.a)(t))||void 0===a?void 0:a.text;return n&&(e[t]=n),e}),{}),xn={palette:"cool",steps:10,reverseColors:!1},wn={metric:{type:"cpu"},groupBy:[],nodeType:"host",view:"map",customOptions:[],boundsOverride:{max:1,min:0},autoBounds:!0,accountId:"",region:"",customMetrics:[],legend:xn,source:"default",sort:{by:"name",direction:"desc"},timelineOpen:!1},vn=e=>Ua.e.encode(e),Tn=e=>{const t=Object(le.pipe)(Ua.e.decode(e),Object(ue.fold)(Object(ce.constant)(void 0),ce.identity));return t&&(t.source="url"),t},Sn=sa()((()=>{const[e,t]=Object(me.a)({defaultState:wn,decodeUrlState:Tn,encodeUrlState:vn,urlStateKey:"waffleOptions"}),[a,n]=Object(i.useState)(e);Object(i.useEffect)((()=>t(a)),[t,a]);const r=Object(i.useCallback)((e=>n((t=>({...t,metric:e})))),[n]),s=Object(i.useCallback)((e=>n((t=>({...t,groupBy:e})))),[n]),o=Object(i.useCallback)((e=>n((t=>({...t,nodeType:e})))),[n]),l=Object(i.useCallback)((e=>n((t=>({...t,view:e})))),[n]),u=Object(i.useCallback)((e=>n((t=>({...t,customOptions:e})))),[n]),c=Object(i.useCallback)((e=>n((t=>({...t,autoBounds:e})))),[n]),d=Object(i.useCallback)((e=>n((t=>({...t,boundsOverride:e})))),[n]),m=Object(i.useCallback)((e=>n((t=>({...t,accountId:e})))),[n]),g=Object(i.useCallback)((e=>n((t=>({...t,region:e})))),[n]),p=Object(i.useCallback)((e=>{n((t=>({...t,customMetrics:e})))}),[n]),M=Object(i.useCallback)((e=>{n((t=>({...t,legend:e})))}),[n]),b=Object(i.useCallback)((e=>{n((t=>({...t,sort:e})))}),[n]),{inventoryPrefill:f}=Object(We.b)();Object(i.useEffect)((()=>{const{setNodeType:e,setMetric:t,setCustomMetrics:n,setAccountId:i,setRegion:r}=f;e(a.nodeType),t(a.metric),n(a.customMetrics),i(a.accountId),r(a.region)}),[a,f]);const y=Object(i.useCallback)((e=>n((t=>({...t,timelineOpen:e})))),[n]);return{...wn,...a,changeMetric:r,changeGroupBy:s,changeNodeType:o,changeView:l,changeCustomOptions:u,changeAutoBounds:c,changeBoundsOverride:d,changeAccount:m,changeRegion:g,changeCustomMetrics:p,changeLegend:M,changeSort:b,changeTimelineOpen:y,setWaffleOptionsState:n}})),[Cn,Nn]=Sn,Dn=({node:e,nodeType:t,currentTime:a})=>{const{euiTheme:n}=Object(F.useEuiTheme)(),{sourceId:s}=Object(Y.d)(),o=Object(i.useRef)(a),l=Object(g.findInventoryModel)(t),{customMetrics:u}=Nn(),c=l.tooltipMetrics.map((e=>({type:e}))).concat(u),d=JSON.stringify({bool:{filter:{match_phrase:{[l.fields.id]:e.id}}}}),{nodes:m,loading:p}=Object(En.a)({filterQuery:d,metrics:c,groupBy:[],nodeType:t,sourceId:s,currentTime:o.current,accountId:"",region:""},{abortable:!0}),M=Object(ze.first)(m),b=M&&M.metrics||[];return r.a.createElement("div",{style:{minWidth:200},"data-test-subj":`conditionalTooltipContent-${e.name}`},r.a.createElement("div",{style:{borderBottom:`${n.border.thin}`,borderBottomColor:`${n.colors.mediumShade}`,paddingBottom:n.size.xs,marginBottom:n.size.xs}},e.name),p?r.a.createElement(F.EuiFlexGroup,{alignItems:"center",justifyContent:"center"},r.a.createElement(F.EuiFlexItem,{grow:!1,"data-test-subj":"conditionalTooltipContent-loading"},r.a.createElement(F.EuiLoadingSpinner,{size:"s"}))):b.map((e=>{const t=g.SnapshotMetricTypeRT.is(e.name)?e.name:"custom",a=Ln[t]||t,n="custom"===a?u.find((t=>t.id===e.name)):null,i=n?Object(bt.a)(n):Object(hn.a)({type:t});return r.a.createElement(F.EuiFlexGroup,{gutterSize:"s",key:e.name},r.a.createElement(F.EuiFlexItem,{grow:1,className:"eui-textTruncate eui-displayBlock","data-test-subj":"conditionalTooltipContent-metric"},n?Object(jn.a)(n):a),r.a.createElement(F.EuiFlexItem,{grow:!1,"data-test-subj":"conditionalTooltipContent-value"},e.value&&i(e.value)||"-"))})))},On={[Xe.c.eq]:ze.isEqual,[Xe.c.lt]:ze.lt,[Xe.c.lte]:ze.lte,[Xe.c.gte]:ze.gte,[Xe.c.gt]:ze.gt},kn=e=>Object(Ea.toColorString)(Object(Ea.parseToRgb)(e)),An=(e,t,a)=>(a-e)/(t-e);var zn=a(5);const Fn=({options:e,nodeType:t,filter:a,visible:n,setVisible:s})=>{const{triggersActionsUI:o}=Object(i.useContext)(Ge.a),l=Object(i.useCallback)((()=>s(!1)),[s]),{inventoryPrefill:u}=Object(We.b)(),{customMetrics:c=[],accountId:d,region:m}=u,g=Object(i.useMemo)((()=>o&&o.getAddRuleFlyout({consumer:"infrastructure",onClose:l,canChangeTrigger:!1,ruleTypeId:Ze.b,metadata:{accountId:d,options:e,nodeType:t,filter:a,customMetrics:c,region:m},useRuleProducer:!0})),[o,n]);return r.a.createElement(r.a.Fragment,null,n&&g)},Pn=({onClose:e})=>{const{inventoryPrefill:t}=Object(We.b)(),{nodeType:a,metric:n,filterQuery:i}=t;return r.a.createElement(Fn,{options:{metric:n},nodeType:a,filter:i,visible:!0,setVisible:e})},Rn=Object(R.withTheme)((({options:e,currentTime:t,node:a,nodeType:n})=>{var s,o;const{getNodeDetailUrl:l}=ut(),[u,c]=Object(i.useState)(!1),d=Object(g.findInventoryModel)(n),m=t-1e3*d.metrics.defaultTimeRangeInSeconds,{services:p}=Object(S.c)(),{application:M,share:f}=p,{nodeLogsLocator:y}=Object(zn.getLogsLocatorsFromUrlService)(f.url),j=f.url.locators.get(q.uptimeOverviewLocatorID),E=null==M?void 0:M.capabilities,h="host"===n?"host.hostname":d.fields.id,I=d.crosslinkSupport.details,L=d.crosslinkSupport.logs&&a.id&&(null==E||null===(s=E.logs)||void 0===s?void 0:s.show),x=d.crosslinkSupport.apm&&(null==E?void 0:E.apm)&&(null==E?void 0:E.apm.show),w=d.crosslinkSupport.uptime&&(["pod","container"].includes(n)||a.ip)&&!!j,v=null==E||null===(o=E.infrastructure)||void 0===o?void 0:o.save,T=Object(i.useMemo)((()=>{if("host"!==n){const{id:e}=Object(g.findInventoryFields)(n);return{label:r.a.createElement(F.EuiCode,null,e),value:a.id}}return a.ip?{label:r.a.createElement(F.EuiCode,null,k.i18n.translate("xpack.infra.inventoryId.host.ipCodeLabel",{defaultMessage:"host.ip"})),value:a.ip}:{label:"",value:""}}),[n,a.ip,a.id]),C=l({assetType:n,assetId:a.id,search:{from:m,to:t,name:a.name}}),N=Object(b.useLinkProps)({app:"apm",hash:"traces",search:{kuery:`${h}:"${a.id}"`}}),D={label:k.i18n.translate("xpack.infra.nodeContextMenu.viewLogsName",{defaultMessage:"{inventoryName} logs",values:{inventoryName:d.singularDisplayName}}),href:y.getRedirectUrl({nodeField:Object(g.findInventoryFields)(n).id,nodeId:a.id,time:t}),"data-test-subj":"viewLogsContextMenuItem",isDisabled:!L},O={label:k.i18n.translate("xpack.infra.nodeContextMenu.viewMetricsName",{defaultMessage:"{inventoryName} metrics",values:{inventoryName:d.singularDisplayName}}),href:C.href,onClick:C.onClick,isDisabled:!I},A={label:k.i18n.translate("xpack.infra.nodeContextMenu.viewAPMTraces",{defaultMessage:"{inventoryName} APM traces",values:{inventoryName:d.singularDisplayName}}),...N,"data-test-subj":"viewApmTracesContextMenuItem",isDisabled:!x},z={label:k.i18n.translate("xpack.infra.nodeContextMenu.viewUptimeLink",{defaultMessage:"{inventoryName} in Uptime",values:{inventoryName:d.singularDisplayName}}),onClick:()=>w?(({uptimeLocator:e,nodeType:t,node:a})=>e.navigate({[t]:a.id,ip:a.ip}))({uptimeLocator:j,nodeType:n,node:a}):{},isDisabled:!w},R={label:k.i18n.translate("xpack.infra.nodeContextMenu.createRuleLink",{defaultMessage:"Create inventory rule"}),onClick:()=>{c(!0)},isDisabled:!v};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{maxWidth:300},"data-test-subj":"nodeContextMenu"},r.a.createElement(b.Section,null,r.a.createElement(b.SectionTitle,null,r.a.createElement(P.FormattedMessage,{id:"xpack.infra.nodeContextMenu.title",defaultMessage:"{inventoryName} details",values:{inventoryName:d.singularDisplayName}})),T.label&&r.a.createElement(b.SectionSubtitle,null,r.a.createElement("div",{style:{wordBreak:"break-all"}},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.nodeContextMenu.description",defaultMessage:"View details for {label} {value}",values:{label:T.label,value:T.value}}))),r.a.createElement(b.SectionLinks,null,r.a.createElement(b.SectionLink,J()({"data-test-subj":"viewLogsContextMenuItem"},D)),r.a.createElement(b.SectionLink,J()({"data-test-subj":"viewAssetDetailsContextMenuItem"},O)),r.a.createElement(b.SectionLink,J()({"data-test-subj":"viewApmTracesContextMenuItem"},A)),r.a.createElement(b.SectionLink,J()({},z,{color:"primary"}))),r.a.createElement(b.ActionMenuDivider,null),r.a.createElement(b.SectionLinks,null,r.a.createElement(b.SectionLink,J()({iconType:"bell",color:"primary"},R))))),u&&r.a.createElement(Fn,{filter:`${Object(g.findInventoryFields)(n).id}: "${a.id}"`,options:e,nodeType:n,setVisible:c,visible:u}))}));var Un=a(99);const Vn=({children:e,css:t,...a})=>r.a.createElement(qn,J()({},a,{$_css:Object(Ea.readableColor)(a.color)}),e);var Bn=an()(Vn).withConfig({displayName:"_StyledSquareContent2",componentId:"sc-10b7dd1-0"})(["font-weight:bold;font-size:0.9em;line-height:1.2em;"]),_n=an()(Vn)`
      font-size: 0.7em;
      margin-bottom: 0.7em;
    `;const Yn=({children:e,...t})=>r.a.createElement(Kn,t,e),Qn=({children:e,...t})=>r.a.createElement(Xn,J()({},t,{$_css2:Object(Ea.darken)(.1,t.color)}),e),Gn=({children:e,...t})=>r.a.createElement(ei,J()({},t,{$_css3:Un.euiThemeVars.euiFocusRingSize,$_css4:Un.euiThemeVars.euiFocusRingColor}),e),Zn=({children:e,...t})=>r.a.createElement(ti,J()({},t,{$_css5:Object(Ea.darken)(.1,t.color)}),e),Wn=({children:e,...t})=>r.a.createElement(ai,J()({},t,{$_css6:t.color}),e),Hn=({children:e,...t})=>r.a.createElement(_n,t,e),$n=({children:e,...t})=>r.a.createElement(Bn,t,e),Jn=({squareSize:e,togglePopover:t,showToolTip:a,hideToolTip:n,color:i,nodeName:s,value:o,showBorder:l})=>{const u=e>70,c=e>30,d=k.i18n.translate("xpack.infra.node.ariaLabel",{defaultMessage:"{nodeName}, click to open menu",values:{nodeName:s}}),m=l?{border:"solid 4px #000"}:void 0;return u||c?r.a.createElement(Yn,{"data-test-subj":"nodeContainer",style:{width:e||0,height:e||0},onClick:t,onKeyPress:t,onFocus:a,onMouseOver:a,onMouseLeave:n,className:"buttonContainer"},r.a.createElement(Zn,{color:i,style:m},r.a.createElement(Wn,{color:i},u?r.a.createElement(Gn,{"aria-label":d},r.a.createElement(Hn,{"data-test-subj":"nodeName",color:i},s),r.a.createElement($n,{"data-test-subj":"nodeValue",color:i},o)):c&&r.a.createElement(Gn,{"aria-label":d},r.a.createElement(Hn,{color:i},"..."))))):r.a.createElement(Qn,{"data-test-subj":"nodeContainer",style:{width:e||0,height:e||0,...m},onClick:t,onKeyPress:t,onMouseOver:a,onFocus:a,onMouseLeave:n,color:i})};var qn=an()("div")`
      text-align: center;
      width: 100%;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      flex: 1 0 auto;
      color: ${e=>e.$_css};
    `,Kn=an()("div")`
      position: relative;
      cursor: pointer;
    `,Xn=an()("div")`
      cursor: pointer;
      position: relative;
      background-color: ${e=>e.$_css2};
      border-radius: 3px;
      margin: 2px;
      box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.2);
    `,ei=an()("button")`
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      display: flex;
      line-height: 1.2em;
      align-items: center;
      align-content: center;
      padding: 1em;
      overflow: hidden;
      flex-wrap: wrap;
      width: 100%;
      border: none;
      &:focus {
        outline: none !important;
        border: ${e=>e.$_css3} solid ${e=>e.$_css4};
        box-shadow: none;
      }
    `,ti=an()("div")`
      position: absolute;
      top: 4px;
      left: 4px;
      bottom: 4px;
      right: 4px;
      background-color: ${e=>e.$_css5};
      border-radius: 3px;
      box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.2);
    `,ai=an()("div")`
      position: absolute;
      top: 0;
      right: 0;
      bottom: 2px;
      left: 0;
      border-radius: 3px;
      background-color: ${e=>e.$_css6};
    `;const ni=({nodeType:e,node:t,options:a,squareSize:n,bounds:i,formatter:s,currentTime:o,setFlyoutUrlState:l,detailsItemId:u})=>{const[c,{off:d,on:m}]=_t(!1),[g,{off:p,toggle:M}]=_t(!1),b=Object(ze.first)(t.metrics),f=b&&b.value||0,y=((e,t,a,n="rgba(217, 217, 217, 1)")=>{try{return Xe.e.is(e)?kn(((e,t,a="rgba(217, 217, 217, 1)")=>e.reduce(((e,a)=>(0,On[a.operator])(t,a.value)?a.color:e),a))(e.rules,t,n)):Xe.a.is(e)?kn(((e,t,a,n="rgba(0, 179, 164, 1)")=>{if(0===e.length)return n;if(1===e.length)return Object(ze.last)(e).color;const{min:i,max:r}=a,s=Object(ze.sortBy)(e,"value"),o=An(i,r,Number(t)),l=s.reduce(((e,t)=>t.value<=o?t:e),Object(ze.first)(s)),u=s.filter((e=>e!==l)).find((e=>e.value>=o));if(!u)return l.color;const c=An(l.value,u.value,o);return Object(Ea.mix)(c,u.color,l.color)})(e.rules,t,a,n)):Xe.f.is(e)?kn(((e,t,a,n="rgba(217, 217, 217, 1)")=>{var i,r;const s=An(a.min,a.max,Number(t)),o=e.length,l=Object(ze.last)(e);return l&&Object(ze.gte)(s,l.value)?l.color:e.reduce(((e,t)=>{const a=t.value-1/o,n=t.value;return Object(ze.gte)(s,a)&&Object(ze.lte)(s,n)?t.color:e}),null!==(i=null===(r=Object(ze.first)(e))||void 0===r?void 0:r.color)&&void 0!==i?i:n)})(e.rules,t,a,n)):n}catch(e){return n}})(a.legend,f,i),j=s(f),E=Object(A.useUiSetting)(q.enableInfrastructureContainerAssetView),h="container"===e&&E,I=r.a.createElement(Jn,{squareSize:n,togglePopover:()=>{"host"===e||h?l({detailsItemId:t.id,assetType:e}):M()},showToolTip:m,hideToolTip:d,color:y,nodeName:t.name,value:j,showBorder:u===t.id||g});return r.a.createElement(r.a.Fragment,null,g?r.a.createElement(F.EuiPopover,{button:I,isOpen:g,closePopover:p,anchorPosition:"downCenter",style:{height:n}},r.a.createElement(Rn,{node:t,nodeType:e,options:a,currentTime:o})):c?r.a.createElement(F.EuiToolTip,{delay:"regular",position:"right",content:r.a.createElement(Dn,{currentTime:o,node:t,nodeType:e})},I):I)},ii={detailsItemId:null,assetType:null},ri=()=>{const[e,t]=Object(me.a)({defaultState:{...ii},decodeUrlState:li,encodeUrlState:oi,urlStateKey:"assetDetailsFlyout"});return[e,t]},si=oe.type({detailsItemId:oe.union([oe.string,oe.null]),assetType:oe.union([oe.string,oe.null])}),oi=si.encode,li=e=>Object(le.pipe)(si.decode(e),Object(ue.fold)(Object(ce.constant)(void 0),ce.identity)),ui=(e,t)=>{const{bounds:a,group:n,...i}=e,{bounds:r,group:s,...o}=t,{nodes:l,...u}=e.group,{nodes:c,...d}=t.group;return Object(ze.isEqual)(i,o)&&Object(ze.isEqual)(u,d)},ci=r.a.memo((({group:e,options:t,formatter:a,onDrilldown:n,isChild:i=!1,bounds:s,nodeType:o,currentTime:l,detailsItemId:u})=>{const c=e.width>200?e.width:200,[d,m]=ri();return r.a.createElement(di,{style:{width:c}},r.a.createElement(group_name_GroupName,{group:e,onDrilldown:n,isChild:i,options:t}),r.a.createElement(mi,null,e.width?e.nodes.map((n=>r.a.createElement(ni,{key:`${n.pathId}:${n.name}`,options:t,squareSize:e.squareSize,node:n,formatter:a,bounds:s,nodeType:o,currentTime:l,detailsItemId:u,setFlyoutUrlState:m}))):r.a.createElement(F.EuiLoadingSpinner,{size:"xl"})))}),ui),di=R.euiStyled.div`
  margin: 0 10px;
`,mi=R.euiStyled.div`
  display: flex;
  background-color: rgba(0, 0, 0, 0.05);
  flex-wrap: wrap;
  justify-content: center;
  padding: 20px 10px 10px;
  border-radius: 4px;
  border: 1px solid ${e=>e.theme.eui.euiBorderColor};
  box-shadow: 0 1px 7px rgba(0, 0, 0, 0.1);
`,gi=e=>r.a.createElement(pi,null,r.a.createElement(group_name_GroupName,{group:e.group,onDrilldown:e.onDrilldown,options:e.options}),r.a.createElement(Mi,null,e.group.groups.map((t=>r.a.createElement(ci,{isChild:!0,key:t.id,onDrilldown:e.onDrilldown,options:e.options,group:t,formatter:e.formatter,bounds:e.bounds,nodeType:e.nodeType,currentTime:e.currentTime,detailsItemId:e.detailsItemId}))))),pi=R.euiStyled.div`
  margin: 0 10px;
  width: 100%;
`,Mi=R.euiStyled.div`
  display: flex;
  background-color: rgba(0, 0, 0, 0.05);
  flex-wrap: wrap;
  justify-content: center;
  padding: 20px 10px 10px;
  border-radius: 4px;
  border: 1px solid ${e=>e.theme.eui.euiBorderColor};
  box-shadow: 0 1px 7px rgba(0, 0, 0, 0.1);
`,bi=1/0;function fi(e,t=1,a=1){const n=t/a,i=n>1.2?1.2:n,r=Math.ceil(Math.sqrt(e));return Math.ceil(r*i)}function yi(e){return e?e.reduce(((e,t)=>cn(t)?t.groups.reduce(((e,t)=>t.nodes.length+e),e):un(t)?t.nodes.length+e:e),0):0}const ji=e=>yi([e]);const Ei={name:e=>Object(ze.last)(e.path),value:e=>{const t=Object(ze.first)(e.metrics);return t&&t.value||0}},hi=({nodes:e,options:t,currentTime:a,onFilter:n,formatter:i,bounds:s,nodeType:o,bottomMargin:l,staticHeight:u,detailsItemId:c})=>{const d=((e,t)=>{const a=Ei[e.by],n=Object(ze.sortBy)(t,a);return"desc"===e.direction?n.reverse():n})(t.sort,e),m=function(e){return e.reduce(((e,t)=>{const a=gn(t);if(2===t.path.length){const n=mn(e,t.path.slice(0,t.path.length-1));return n.nodes.push(a),e.filter(pn(n)).concat([n])}if(3===t.path.length){const n=mn(e,t.path.slice(0,t.path.length-1));n.nodes.push(a);const i=function(e,t){const a=0===t.length?"__all__":dn(t),n=Object(ze.last)(t),i=e.find((e=>e.id===a));return cn(i)?i:{id:a,name:"__all__"===a?k.i18n.translate("xpack.infra.nodesToWaffleMap.groupsWithGroups.allName",{defaultMessage:"All"}):n&&n.label||"Unknown Group",count:0,width:0,squareSize:0,groups:[]}}(e,t.path.slice(0,t.path.length-2));return i.groups=i.groups.filter(pn(n)).concat([n]),e.filter(pn(i)).concat([i])}const n=mn(e,[]);return n.nodes.push(a),e.filter(pn(n)).concat([n])}),[])}(d);return r.a.createElement(ln.a,{bounds:!0},(({measureRef:e,bounds:{width:d=0,height:g=0}})=>{const p=function(e,t,a){if(0===e.length)return[];const n=cn(Object(ze.first)(e))?2:1,i=yi(e),r=Math.round(function(e,t,a,n=1){const i=.55/(n>1?.7*n:1),r=e*i,s=t*i,o=Math.ceil(Math.sqrt(a*r/s));let l,u;l=Math.floor(o*s/r)*o<a?s/Math.ceil(o*s/r):r/o;const c=Math.ceil(Math.sqrt(a*s/r));u=Math.floor(c*r/s)*c<a?r/Math.ceil(r*c/s):s/c;const d=Math.max(l,u);return Math.min(Math.max(d,24),bi)}(t,a,i,n)),s=function(e){return e?e.reduce(((e,t)=>cn(t)?t.groups.reduce(((e,t)=>un(t)?e>t.nodes.length?e:t.nodes.length:e),e):un(t)?e>t.nodes.length?e:t.nodes.length:e),0):0}(e);return Object(ze.sortBy)(e,ji).reverse().map((e=>{if(cn(e)){const n=fi(s,t,a),i=e.groups,o=Object(ze.sortBy)(i,ji).reverse().filter(un).map((e=>({...e,count:e.nodes.length,columns:n,width:n*r,squareSize:r})));return{...e,groups:o,count:yi([e]),squareSize:r}}if(un(e)){const n=fi(Math.max(e.nodes.length,s),t,a);return{...e,count:e.nodes.length,squareSize:r,width:n*r}}return e}))}(m,d,g);return r.a.createElement(Ii,{ref:t=>e(t),bottomMargin:l,"data-test-subj":"waffleMap",staticHeight:u},r.a.createElement(Li,null,p.map((e=>cn(e)?r.a.createElement(gi,{onDrilldown:n,key:e.id,options:t,group:e,formatter:i,bounds:s,nodeType:o,currentTime:a,detailsItemId:c}):un(e)?r.a.createElement(ci,{key:e.id,options:t,group:e,onDrilldown:n,formatter:i,isChild:!1,bounds:s,nodeType:o,currentTime:a,detailsItemId:c}):void 0))))}))},Ii=R.euiStyled.div`
  flex: 1 0 0%;
  display: flex;
  justify-content: flex-start;
  flex-direction: column;
  overflow-x: hidden;
  overflow-y: auto;
  margin-bottom: ${e=>e.bottomMargin}px;
  max-width: calc(100vw - 90px);
  ${e=>e.staticHeight&&"min-height: 300px;"}
`,Li=R.euiStyled.div`
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  justify-content: center;
  align-content: flex-start;
`,xi=k.i18n.translate("xpack.infra.groupByDisplayNames.availabilityZone",{defaultMessage:"Availability zone"}),wi=k.i18n.translate("xpack.infra.groupByDisplayNames.machineType",{defaultMessage:"Machine type"}),vi=e=>({"kubernetes.namespace":k.i18n.translate("xpack.infra.groupByDisplayNames.kubernetesNamespace",{defaultMessage:"Namespace"}),"kubernetes.node.name":k.i18n.translate("xpack.infra.groupByDisplayNames.kubernetesNodeName",{defaultMessage:"Node"}),"host.name":k.i18n.translate("xpack.infra.groupByDisplayNames.hostName",{defaultMessage:"Host"}),"cloud.availability_zone":xi,"cloud.machine.type":wi,"cloud.project.id":k.i18n.translate("xpack.infra.groupByDisplayNames.projectID",{defaultMessage:"Project ID"}),"cloud.provider":k.i18n.translate("xpack.infra.groupByDisplayNames.provider",{defaultMessage:"Cloud provider"}),"service.type":k.i18n.translate("xpack.infra.groupByDisplayNames.serviceType",{defaultMessage:"Service type"}),"aws.cloud.availability_zone":xi,"aws.cloud.machine.type":wi,"aws.tags":k.i18n.translate("xpack.infra.groupByDisplayNames.tags",{defaultMessage:"Tags"}),"aws.ec2.instance.image.id":k.i18n.translate("xpack.infra.groupByDisplayNames.image",{defaultMessage:"Image"}),"aws.ec2.instance.state.name":k.i18n.translate("xpack.infra.groupByDisplayNames.state.name",{defaultMessage:"State"}),"cloud.region":k.i18n.translate("xpack.infra.groupByDisplayNames.cloud.region",{defaultMessage:"Region"}),"aws.rds.db_instance.class":k.i18n.translate("xpack.infra.groupByDisplayNames.rds.db_instance.class",{defaultMessage:"Instance Class"}),"aws.rds.db_instance.status":k.i18n.translate("xpack.infra.groupByDisplayNames.rds.db_instance.status",{defaultMessage:"Status"})}[e]||e),Ti={sort:{field:"value",direction:"desc"}},Si=e=>{switch(e.length){case 3:return e.slice(0,2);case 2:return e.slice(0,1);default:return[]}},Ci=e=>{const{nodes:t,options:a,formatter:n,currentTime:s,nodeType:o}=e,[l,u]=Object(i.useState)(null),c=()=>u(null),d=[{field:"name",name:k.i18n.translate("xpack.infra.tableView.columnName.name",{defaultMessage:"Name"}),sortable:!0,truncateText:!0,textOnly:!0,render:(e,t)=>{const n=t.node.id===e?`${e}`:`${e} (${t.node.id})`,i=[...t.node.path.map((e=>e.value)),t.node.name].join(":"),d=r.a.createElement(F.EuiToolTip,{content:n},r.a.createElement(F.EuiButtonEmpty,{"data-test-subj":"infraColumnsButton",onClick:()=>u(i)},e));return r.a.createElement(F.EuiPopover,{button:d,isOpen:l===i,closePopover:c,anchorPosition:"rightCenter"},r.a.createElement(Rn,{node:t.node,nodeType:o,currentTime:s,options:a}))}},...a.groupBy.map(((t,a)=>({field:`group_${a}`,name:vi(t&&t.field||""),sortable:!0,truncateText:!0,textOnly:!0,render:a=>r.a.createElement(F.EuiToolTip,{content:"Set Filter"},r.a.createElement(F.EuiButtonEmpty,{"data-test-subj":"infraColumnsButton",onClick:()=>e.onFilter(`${t.field}:"${a}"`)},a))}))),{field:"value",name:k.i18n.translate("xpack.infra.tableView.columnName.last1m",{defaultMessage:"Last 1m"}),sortable:!0,truncateText:!0,dataType:"number",render:e=>r.a.createElement("span",null,n(e))},{field:"avg",name:k.i18n.translate("xpack.infra.tableView.columnName.avg",{defaultMessage:"Avg"}),sortable:!0,truncateText:!0,dataType:"number",render:e=>r.a.createElement("span",null,n(e))},{field:"max",name:k.i18n.translate("xpack.infra.tableView.columnName.max",{defaultMessage:"Max"}),sortable:!0,truncateText:!0,dataType:"number",render:e=>r.a.createElement("span",null,n(e))}],m=Object(i.useMemo)((()=>t.map((e=>{const t=Object(ze.last)(e.path),a=Object(ze.first)(e.metrics);return{name:t&&t.label||"unknown",...Si(e.path).reduce(((e,t,a)=>({...e,[`group_${a}`]:t.label})),{}),value:a&&a.value||0,avg:a&&a.avg||0,max:a&&a.max||0,node:gn(e)}}))),[t]);return r.a.createElement(F.EuiInMemoryTable,{rowHeader:"name",pagination:!0,sorting:Ti,items:m,columns:d})},Ni=e=>{const t=e.map((e=>{const t=Object(ze.first)(e.metrics);return t&&t.value?t.value:0}));1===t.length&&t.unshift(0);const a=Object(ze.max)(t)||0,n=Object(ze.min)(t)||0;return{min:Object(ze.isFinite)(n)?n:0,max:Object(ze.isFinite)(a)?a:0}},Di=({legend:e,bounds:t,formatter:a})=>{const n=e.rules.reduce(((e,t)=>e<t.value?t.value:e),0),i={background:`linear-gradient(to right, ${e.rules.map((e=>{const t=e.value/n*100;return`${e.color} ${t}%`}))})`};return r.a.createElement(Oi,{style:i},e.rules.map(((e,t)=>(a,n)=>{const i=0===a.value?e.min:e.max*a.value,s={left:100*a.value+"%"},o=t(i);return r.a.createElement(ki,{style:s,key:`legend-rule-${n}`},r.a.createElement(Ai,null),r.a.createElement(zi,null,o))})(t,a)))},Oi=R.euiStyled.div`
  position: absolute;
  height: 10px;
  bottom: 0;
  left: 0;
  right: 40px;
`,ki=R.euiStyled.div`
  position: absolute;
  bottom: 0;
  top: -18px;
`,Ai=R.euiStyled.div`
  position: absolute;
  background-color: ${e=>e.theme.eui.euiBorderColor};
  width: 1px;
  left: 0;
  top: 15px;
  bottom: 0;
  ${ki}:first-child {
    top: 2px;
  }
  ${ki}:last-child {
    top: 2px;
  }
`,zi=R.euiStyled.div`
  position: absolute;
  font-size: 11px;
  text-align: center;
  top: 0;
  left: 0;
  white-space: nowrap;
  transform: translate(-50%, 0);
  ${ki}:first-child & {
    padding-left: 5px;
    transform: translate(0, 0);
  }
  ${ki}:last-child & {
    padding-right: 5px;
    transform: translate(-100%, 0);
  }
`,Fi={[Xe.c.gte]:">=",[Xe.c.gt]:">",[Xe.c.lte]:"<=",[Xe.c.lt]:"<",[Xe.c.eq]:"="},Pi=({legend:e,formatter:t})=>r.a.createElement(Ri,null,e.rules.map((e=>(t,a)=>{const n=null!=t.label?t.label:`${Fi[t.operator]} ${e(t.value)}`,i={backgroundColor:Object(Ea.darken)(.4,t.color)},s={backgroundColor:t.color};return r.a.createElement(Ui,{key:`legend-step-${a}`},r.a.createElement(Vi,{style:i},r.a.createElement(Bi,{style:s})),r.a.createElement(_i,null,n))})(t))),Ri=R.euiStyled.div`
  display: flex;
  padding: 10px 40px 10px 10px;
`,Ui=R.euiStyled.div`
  display: flex;
  margin-right: 20px
  align-items: center;
`,Vi=R.euiStyled.div`
  position: relative;
  width: 24px;
  height: 24px;
  flex: 0 0 auto;
  margin-right: 5px;
  border-radius: 3px;
  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.2);
`,Bi=R.euiStyled.div`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 2px;
  border-radius: 3px;
`,_i=R.euiStyled.div`
  font-size: 12px;
`,Yi=({legend:e,bounds:t,formatter:a})=>r.a.createElement(Gi,null,r.a.createElement(Qi,{value:1,bounds:t,formatter:a}),r.a.createElement(Zi,null,e.rules.slice().reverse().map(((e,t)=>r.a.createElement(Wi,{key:`step-${t}-${e.value}`,style:{backgroundColor:e.color}})))),r.a.createElement(Qi,{value:0,bounds:t,formatter:a})),Qi=({value:e,bounds:t,formatter:a})=>{const n=a(0===e?t.min:t.max*e);return r.a.createElement("div",null,r.a.createElement(F.EuiText,{size:"xs"},n))},Gi=R.euiStyled.div`
  position: relative;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
`,Zi=R.euiStyled.div`
  height: 200px;
  width: 10px;
  display: flex;
  flex-direction: column;
  align-items: stretch;
`,Wi=R.euiStyled.div`
  flex: 1 1 auto;
  &:first-child {
    border-radius: ${e=>e.theme.eui.euiBorderRadius} ${e=>e.theme.eui.euiBorderRadius} 0 0;
  }
  &:last-child {
    border-radius: 0 0 ${e=>e.theme.eui.euiBorderRadius} ${e=>e.theme.eui.euiBorderRadius};
  }
`,Hi=({legend:e,bounds:t,formatter:a})=>r.a.createElement($i,null,Xe.a.is(e)&&r.a.createElement(Di,{formatter:a,legend:e,bounds:t}),Xe.e.is(e)&&r.a.createElement(Pi,{formatter:a,legend:e}),Xe.f.is(e)&&r.a.createElement(Yi,{formatter:a,bounds:t,legend:e})),$i=R.euiStyled.div`
  margin: 0 10px;
  display: flex;
`;var Ji=a(142),qi=a.n(Ji),Ki=a(2),Xi=a(133);const er=()=>{const e=Date.now();return{from:new Date(e-9e5).toISOString(),to:new Date(e).toISOString()}},tr=e=>{switch(e){case"host":return L.host;case"container":return L.container;default:return""}},ar="active",nr="recovered",ir="untracked";var rr=a(92);const sr={APM:"apm",LOGS:"logs",INFRASTRUCTURE:"infrastructure",OBSERVABILITY:"observability",SLO:"slo",SIEM:"siem",UPTIME:"uptime",ML:"ml",STACK_ALERTS:"stackAlerts",EXAMPLE:"AlertingExample",MONITORING:"monitoring"},or=(Object.values(sr).map((e=>e)),"all"),lr={status:or,label:k.i18n.translate("xpack.infra.hostsViewPage.tabs.alerts.alertStatusFilter.showAll",{defaultMessage:"Show all"})},ur={status:ar,query:{term:{[rr.u]:{value:ar}}},label:k.i18n.translate("xpack.infra.hostsViewPage.tabs.alerts.alertStatusFilter.active",{defaultMessage:"Active"})},cr={status:nr,query:{term:{[rr.u]:{value:nr}}},label:k.i18n.translate("xpack.infra.hostsViewPage.tabs.alerts.alertStatusFilter.recovered",{defaultMessage:"Recovered"})},dr={status:ir,query:{term:{[rr.u]:{value:ir}}},label:k.i18n.translate("xpack.infra.hostsViewPage.tabs.alerts.alertStatusFilter.untracked",{defaultMessage:"Untracked"})},mr={[ur.status]:ur.query,[cr.status]:cr.query,[dr.status]:dr.query},gr="/app/observability/alerts",pr=[sr.INFRASTRUCTURE],Mr=(f.OVERVIEW,()=>{const[e,t]=Object(me.a)({defaultState:null,decodeUrlState:Ir,encodeUrlState:hr,urlStateKey:x});return[e,Object(i.useCallback)((e=>{if(e){const a=Object.fromEntries(Object.entries(null!=e?e:{}).filter((([e,t])=>!!t||""===t)));t((e=>({...e,...a})))}else t(null)}),[t])]}),br=oe.union([oe.literal(f.OVERVIEW),oe.literal(f.METADATA),oe.literal(f.METRICS),oe.literal(f.PROCESSES),oe.literal(f.PROFILING),oe.literal(f.LOGS),oe.literal(f.ANOMALIES),oe.literal(f.OSQUERY),oe.literal(f.DASHBOARDS)]),fr=oe.union([oe.literal(or),oe.literal(ar),oe.literal(nr),oe.literal(ir)]),yr=oe.brand(oe.string,(e=>e.includes("#")?br.is(e.split("#")[0]):br.is(e)),"TabIdWithSection"),jr=oe.partial({autoRefresh:oe.partial({isPaused:oe.boolean,interval:oe.number}),dateRange:oe.type({from:oe.string,to:oe.string}),tabId:yr,name:oe.string,processSearch:oe.string,metadataSearch:oe.string,logsSearch:oe.string,profilingSearch:oe.string,alertStatus:fr,dashboardId:oe.string}),Er=oe.union([jr,oe.null]),hr=Er.encode,Ir=e=>Object(le.pipe)(Er.decode(e),Object(ue.fold)(Object(ce.constant)(void 0),ce.identity)),[Lr,xr]=sa()((function({dateRange:e=er(),autoRefresh:t}){var a,n,r;const s=Object(i.useMemo)((()=>new Ki.BehaviorSubject(null)),[]),o=Object(i.useMemo)((()=>new Ki.BehaviorSubject(void 0)),[]),[l,u]=Mr(),[c,d]=Object(i.useState)(Object(Xi.d)(null!==(a=null==l?void 0:l.dateRange)&&void 0!==a?a:e));qi()((()=>{o.next(null!=l&&l.autoRefresh?l.autoRefresh:t),u({...null!=l&&l.dateRange?void 0:{dateRange:e},...null!=l&&l.autoRefresh?void 0:{autoRefresh:t}})}));const m=Object(i.useCallback)((e=>{u({dateRange:e}),d(Object(Xi.d)(e))}),[u]),g=Object(i.useCallback)((e=>{s.next(null),m(e)}),[s,m]),p=Object(i.useCallback)((e=>{o.next(e),u({autoRefresh:e})}),[o,u]),M=Object(i.useCallback)((()=>{const e=er(),{from:t=e.from,to:a=e.to}=c;return{from:t,to:a}}),[c]),b=Object(i.useCallback)((()=>(({from:e,to:t})=>({from:new Date(e).getTime(),to:new Date(t).getTime()}))(M())),[M]);return{autoRefresh:null!==(n=null==l?void 0:l.autoRefresh)&&void 0!==n?n:t,autoRefreshTick$:s,autoRefreshConfig$:o,dateRange:null!==(r=null==l?void 0:l.dateRange)&&void 0!==r?r:e,getDateRangeInTimestamp:b,getParsedDateRange:M,onAutoRefresh:g,setAutoRefresh:p,setDateRange:m}})),[wr,vr]=sa()((()=>{const{autoRefreshTick$:e,autoRefreshConfig$:t}=xr(),{services:a}=Object(S.c)(),{data:{search:n}}=a,r=Object(i.useMemo)((()=>new Ki.BehaviorSubject(!1)),[]),s=Object(i.useMemo)((()=>new Ki.BehaviorSubject(0)),[]),o=Object(i.useMemo)((()=>new Ki.BehaviorSubject(null)),[]),[l,u]=Object(i.useState)(),c=Object(i.useCallback)((()=>{u((()=>n.session.start()))}),[n.session]),d=Object(i.useCallback)((()=>s.pipe(Object(Ki.distinctUntilChanged)(),Object(Ki.skipUntil)(s.pipe(Object(Ki.first)((e=>0===e)))),Object(Ki.debounceTime)(1e3),Object(Ki.first)((e=>0===e)))),[s]),m=Object(i.useCallback)((()=>t.pipe(Object(Ki.first)((e=>!!e&&!0!==e.isPaused)))),[t]);return Object(i.useEffect)((()=>{c()}),[c]),Object(i.useEffect)((()=>{const t=o.pipe(Object(Ki.filter)((e=>!!e)),Object(Ki.map)((e=>["error","done"].includes(e)?-1:1)),Object(Ki.tap)((e=>{s.next(s.getValue()+e)})),Object(Ki.switchMap)((()=>s.pipe(Object(Ki.distinctUntilChanged)(),Object(Ki.skipUntil)(m()),Object(Ki.debounceTime)(1e3),Object(Ki.tap)((e=>{e>0&&r.next(!0)})))))).subscribe(),a=Object(Ki.merge)(e.pipe(Object(Ki.skipUntil)(m()),Object(Ki.withLatestFrom)(s),Object(Ki.switchMap)((([,e])=>Object(Ki.iif)((()=>e>0),d().pipe(Object(Ki.tap)((()=>r.next(!1)))),new Ki.Observable((()=>{r.next(!1)})))))),e.pipe(Object(Ki.skipUntil)(m()),Object(Ki.withLatestFrom)(n.session.state$),Object(Ki.switchMap)((([,e])=>Object(Ki.iif)((()=>e!==It.SearchSessionState.Completed&&e!==It.SearchSessionState.BackgroundCompleted),Object(It.waitUntilNextSessionCompletes$)(n.session).pipe(Object(Ki.tap)((()=>c()))),new Ki.Observable((()=>{c()}))))))).subscribe();return()=>{t.unsubscribe(),a.unsubscribe()}}),[e,m,r,o,s,n.session,c,d]),{updateSearchSessionId:c,searchSessionId:l,requestState$:o,isAutoRefreshRequestPending$:r}})),Tr=({children:e,icon:t,iconColor:a,iconSize:n,...i})=>{const[s,{off:o,toggle:l}]=_t(!1);return r.a.createElement(F.EuiPopover,{panelPaddingSize:"s",focusTrapProps:{returnFocus:!1},button:r.a.createElement(Sr,{onClick:e=>{e.stopPropagation(),l()},"data-test-subj":i["data-test-subj"]},r.a.createElement(F.EuiIcon,{type:"questionInCircle",color:null!=a?a:"text",size:null!=n?n:"original"})),isOpen:s,offset:10,closePopover:o,repositionOnScroll:!0,anchorPosition:"upCenter",panelStyle:{maxWidth:350}},e)};var Sr=an()("button").withConfig({displayName:"_StyledButton",componentId:"sc-necmix-0"})(["display:flex;"]);const Cr=[{start:"now-15m",end:"now",label:k.i18n.translate("xpack.infra.assetDetails.datePicker.commonlyUsedRanges.last15Minutes",{defaultMessage:"Last 15 minutes"})},{start:"now-1h",end:"now",label:k.i18n.translate("xpack.infra.assetDetails.datePicker.commonlyUsedRanges.last1Hour",{defaultMessage:"Last 1 hour"})},{start:"now-3h",end:"now",label:k.i18n.translate("xpack.infra.assetDetails.datePicker.commonlyUsedRanges.last3Hours",{defaultMessage:"Last 3 hours"})},{start:"now-24h",end:"now",label:k.i18n.translate("xpack.infra.assetDetails.datePicker.commonlyUsedRanges.last24Hours",{defaultMessage:"Last 24 hours"})},{start:"now-7d",end:"now",label:k.i18n.translate("xpack.infra.assetDetails.datePicker.commonlyUsedRanges.last7Days",{defaultMessage:"Last 7 days"})}],Nr=()=>{const{dateRange:e,autoRefresh:t,setDateRange:a,setAutoRefresh:n,onAutoRefresh:s}=xr(),{updateSearchSessionId:o}=vr(),l=Object(i.useCallback)((({start:e,end:t})=>{s({from:e,to:t})}),[s]),u=Object(i.useCallback)((({start:e,end:t,isInvalid:n})=>{n||a({from:e,to:t})}),[a]),c=Object(i.useCallback)((({isPaused:t,refreshInterval:i})=>{n({isPaused:t,interval:i}),t||a({from:e.from,to:"now"})}),[e.from,n,a]),d=Object(i.useCallback)((()=>o()),[o]);return r.a.createElement(F.EuiFlexGroup,{gutterSize:"xs",responsive:!1,direction:"column"},r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(Or,{commonlyUsedRanges:Cr,start:e.from,end:e.to,isPaused:null==t?void 0:t.isPaused,onTimeChange:u,onRefresh:t&&l,onRefreshChange:t&&c,refreshInterval:null==t?void 0:t.interval,onClick:d,width:"full"})),r.a.createElement(F.EuiFlexItem,{grow:!1,style:{minHeight:"18px"}},t&&!t.isPaused&&r.a.createElement(Dr,null)))},Dr=()=>r.a.createElement(F.EuiFlexGroup,{gutterSize:"xs",alignItems:"baseline",responsive:!1},r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(F.EuiText,{size:"xs",color:"subdued"},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.assetDetails.datePicker.tooltip.autoRefresh",defaultMessage:"Experiencing continually loading data?"}))),r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(Tr,{iconSize:"s",iconColor:"subdued",icon:"iInCircle","data-test-subj":"infraAssetDetailsMetadataPopoverButton"},r.a.createElement(F.EuiText,{size:"xs"},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.assetDetails.datePicker.tooltip.autoRefresh.troubleshoot",defaultMessage:"Try increasing the refresh interval, shortening the date range or turning off auto-refresh."}))))),Or=r.a.memo((({onClick:e,...t})=>r.a.createElement(F.EuiSuperDatePicker,J()({},t,{updateButtonProps:{iconOnly:!0,contentProps:{onClick:e}}})))),kr=e=>{const t=Object(i.useRef)(null);return null===t.current&&(t.current=e()),t},Ar=sa()((function({defaultActiveTabId:e}){var t,a;const[n,i]=Mr(),[r=e,s]=null!==(t=null==n||null===(a=n.tabId)||void 0===a?void 0:a.split("#"))&&void 0!==t?t:[],o=kr((()=>new Set([r]))),l=(e,t)=>{o.current.add(e),i({tabId:null!=t&&t.scrollTo?`${e}#${null==t?void 0:t.scrollTo}`:e})};return{activeTabId:r,scrollTo:s,renderedTabsSet:o,showTab:l,setScrollTo:e=>{l(r,{scrollTo:e})}}})),[zr,Fr]=Ar;var Pr=a(4);const Rr=oe.tuple([oe.union([oe.string,oe.number]),oe.union([oe.string,oe.number])]),Ur=oe.keyof({metrics_hosts:null,metrics_k8s:null}),Vr=oe.keyof({anomalyScore:null,dataset:null,startTime:null}),Br=oe.keyof({asc:null,desc:null}),_r=oe.type({searchBefore:Rr}),Yr=oe.type({searchAfter:Rr}),Qr=oe.intersection([oe.type({pageSize:oe.number}),oe.partial({cursor:oe.union([_r,Yr])})]),Gr=oe.type({field:Vr,direction:Br}),Zr=oe.keyof({memory_usage:null,network_in:null,network_out:null}),Wr=oe.intersection([oe.type({id:oe.string,anomalyScore:oe.number,typical:oe.number,actual:oe.number,type:Ur,influencers:oe.array(oe.string),duration:oe.number,startTime:oe.number,jobId:oe.string}),oe.partial({partitionFieldName:oe.string,partitionFieldValue:oe.string})]),Hr=oe.intersection([oe.type({data:oe.intersection([oe.type({anomalies:oe.array(Wr),hasMoreEntries:oe.boolean}),oe.partial({paginationCursors:oe.type({previousPageCursor:Rr,nextPageCursor:Rr})})])}),oe.partial({timing:Pr.c})]),$r=oe.type({data:oe.intersection([oe.type({sourceId:oe.string,anomalyThreshold:oe.number,timeRange:Pr.d}),oe.partial({query:oe.string,hostName:oe.string,metric:Zr,pagination:Qr,sort:Gr})])}),Jr=oe.intersection([oe.type({id:oe.string,anomalyScore:oe.number,typical:oe.number,actual:oe.number,type:Ur,influencers:oe.array(oe.string),duration:oe.number,startTime:oe.number,jobId:oe.string}),oe.partial({partitionFieldName:oe.string,partitionFieldValue:oe.string})]),qr=oe.intersection([oe.type({data:oe.intersection([oe.type({anomalies:oe.array(Jr),hasMoreEntries:oe.boolean}),oe.partial({paginationCursors:oe.type({previousPageCursor:Rr,nextPageCursor:Rr})})])}),oe.partial({timing:Pr.c})]),Kr=oe.type({data:oe.intersection([oe.type({sourceId:oe.string,anomalyThreshold:oe.number,timeRange:Pr.d}),oe.partial({query:oe.string,metric:Zr,pagination:Qr,sort:Gr})])});var Xr=a(119);const es=(e,t)=>{const a={page:1,paginationCursor:void 0};switch(t.type){case"changePaginationOptions":case"changeSortOptions":case"changeTimeRange":case"changeFilteredDatasets":return{...e,...a,...t.payload};case"changeHasNextPage":case"changeLastReceivedCursors":return{...e,...t.payload};case"fetchNextPage":return e.lastReceivedCursors?{...e,page:e.page+1,paginationCursor:{searchAfter:e.lastReceivedCursors.nextPageCursor}}:e;case"fetchPreviousPage":return e.lastReceivedCursors?{...e,page:e.page-1,paginationCursor:{searchBefore:e.lastReceivedCursors.previousPageCursor}}:e;default:return e}},ts={page:1,lastReceivedCursors:void 0,paginationCursor:void 0,hasNextPage:!1},as=({endTime:e,startTime:t,sourceId:a,anomalyThreshold:n,defaultSortOptions:r,defaultPaginationOptions:s,onGetMetricsHostsAnomaliesDatasetsError:o,filteredDatasets:l})=>{const{services:u}=Object(S.c)(),c=Object(i.useRef)(new AbortController),[d,m]=Object(i.useReducer)(es,ts,(a=>({...a,paginationOptions:s,sortOptions:r,filteredDatasets:l,timeRange:{start:t,end:e}}))),[g,p]=Object(i.useState)([]);Object(i.useEffect)((()=>{const e=null==c?void 0:c.current;return()=>{e.abort()}}),[]);const[M,b]=Object(Xr.b)({cancelPreviousOn:"creation",createPromise:async(e,t)=>{const{timeRange:{start:i,end:r},sortOptions:s,paginationOptions:o,paginationCursor:l}=d;return c.current.abort(),c.current=new AbortController,await ns({sourceId:a,anomalyThreshold:n,startTime:i,endTime:r,metric:e,query:t,sort:s,pagination:{...o,cursor:l}},u.http.fetch,c.current.signal)},onResolve:({data:{anomalies:e,paginationCursors:t,hasMoreEntries:a}})=>{const{paginationCursor:n}=d;t&&m({type:"changeLastReceivedCursors",payload:{lastReceivedCursors:t}}),!n||n&&"searchAfter"in n?m({type:"changeHasNextPage",payload:{hasNextPage:a}}):n&&"searchBefore"in n&&m({type:"changeHasNextPage",payload:{hasNextPage:!0}}),p(e)}},[a,n,m,d.timeRange.start,d.timeRange.end,d.sortOptions,d.paginationOptions,d.paginationCursor,d.filteredDatasets]),f=Object(i.useCallback)((e=>{m({type:"changeSortOptions",payload:{sortOptions:e}})}),[m]),y=Object(i.useCallback)((e=>{m({type:"changePaginationOptions",payload:{paginationOptions:e}})}),[m]);Object(i.useEffect)((()=>{m({type:"changeTimeRange",payload:{timeRange:{start:t,end:e}}})}),[t,e]),Object(i.useEffect)((()=>{m({type:"changeFilteredDatasets",payload:{filteredDatasets:l}})}),[l]);const j=Object(i.useCallback)((()=>{d.lastReceivedCursors&&m({type:"fetchNextPage"})}),[m,d]),E=Object(i.useCallback)((()=>{d.lastReceivedCursors&&m({type:"fetchPreviousPage"})}),[m,d]);return{metricsK8sAnomalies:g,getMetricsK8sAnomalies:b,isPendingMetricsK8sAnomalies:"pending"===M.state||"uninitialized"===M.state,hasFailedLoadingMetricsK8sAnomalies:"rejected"===M.state,changeSortOptions:f,sortOptions:d.sortOptions,changePaginationOptions:y,paginationOptions:d.paginationOptions,fetchPreviousPage:d.page>1?E:void 0,fetchNextPage:d.hasNextPage?j:void 0,page:d.page}},ns=async(e,t,a)=>{const{sourceId:n,anomalyThreshold:i,startTime:r,endTime:s,metric:o,query:l,sort:u,pagination:c}=e,d=await t("/api/infra/infra_ml/results/metrics_k8s_anomalies",{method:"POST",body:JSON.stringify(Kr.encode({data:{sourceId:n,anomalyThreshold:i,timeRange:{startTime:r,endTime:s},metric:o,query:l,sort:u,pagination:c}})),signal:a});return Object(At.b)(qr)(d)},is=(e,t)=>{const a={page:1,paginationCursor:void 0};switch(t.type){case"changePaginationOptions":case"changeSortOptions":case"changeTimeRange":case"changeFilteredDatasets":return{...e,...a,...t.payload};case"changeHasNextPage":case"changeLastReceivedCursors":return{...e,...t.payload};case"fetchNextPage":return e.lastReceivedCursors?{...e,page:e.page+1,paginationCursor:{searchAfter:e.lastReceivedCursors.nextPageCursor}}:e;case"fetchPreviousPage":return e.lastReceivedCursors?{...e,page:e.page-1,paginationCursor:{searchBefore:e.lastReceivedCursors.previousPageCursor}}:e;default:return e}},rs={page:1,lastReceivedCursors:void 0,paginationCursor:void 0,hasNextPage:!1},ss=({endTime:e,startTime:t,sourceId:a,anomalyThreshold:n,defaultSortOptions:r,defaultPaginationOptions:s,onGetMetricsHostsAnomaliesDatasetsError:o,filteredDatasets:l})=>{const{services:u}=Object(S.c)(),c=Object(i.useRef)(new AbortController),[d,m]=Object(i.useReducer)(is,rs,((e,t,a,n,i)=>r=>({...r,paginationOptions:n,sortOptions:a,filteredDatasets:i,timeRange:{start:t,end:e}}))(e,t,r,s,l)),[g,p]=Object(i.useState)([]);Object(i.useEffect)((()=>{const e=null==c?void 0:c.current;return()=>{e.abort()}}),[]);const[M,b]=Object(Xr.b)({cancelPreviousOn:"creation",createPromise:async(e,t,i)=>{const{timeRange:{start:r,end:s},sortOptions:o,paginationOptions:l,paginationCursor:m}=d;return c.current.abort(),c.current=new AbortController,await os({sourceId:a,anomalyThreshold:n,startTime:r,endTime:s,metric:e,query:t,sort:o,pagination:{...l,cursor:m},hostName:i},u.http.fetch,c.current.signal)},onResolve:({data:{anomalies:e,paginationCursors:t,hasMoreEntries:a}})=>{const{paginationCursor:n}=d;t&&m({type:"changeLastReceivedCursors",payload:{lastReceivedCursors:t}}),!n||n&&"searchAfter"in n?m({type:"changeHasNextPage",payload:{hasNextPage:a}}):n&&"searchBefore"in n&&m({type:"changeHasNextPage",payload:{hasNextPage:!0}}),p(e)}},[a,n,m,d.timeRange.start,d.timeRange.end,d.sortOptions,d.paginationOptions,d.paginationCursor,d.filteredDatasets]),f=Object(i.useCallback)((e=>{m({type:"changeSortOptions",payload:{sortOptions:e}})}),[m]),y=Object(i.useCallback)((e=>{m({type:"changePaginationOptions",payload:{paginationOptions:e}})}),[m]);Object(i.useEffect)((()=>{m({type:"changeTimeRange",payload:{timeRange:{start:t,end:e}}})}),[t,e]),Object(i.useEffect)((()=>{m({type:"changeFilteredDatasets",payload:{filteredDatasets:l}})}),[l]);const j=Object(i.useCallback)((()=>{d.lastReceivedCursors&&m({type:"fetchNextPage"})}),[m,d]),E=Object(i.useCallback)((()=>{d.lastReceivedCursors&&m({type:"fetchPreviousPage"})}),[m,d]);return{metricsHostsAnomalies:g,getMetricsHostsAnomalies:b,isPendingMetricsHostsAnomalies:"pending"===M.state||"uninitialized"===M.state,hasFailedLoadingMetricsHostsAnomalies:"rejected"===M.state,changeSortOptions:f,sortOptions:d.sortOptions,changePaginationOptions:y,paginationOptions:d.paginationOptions,fetchPreviousPage:d.page>1?E:void 0,fetchNextPage:d.hasNextPage?j:void 0,page:d.page,timeRange:d.timeRange}},os=async(e,t,a)=>{const{sourceId:n,anomalyThreshold:i,startTime:r,endTime:s,metric:o,sort:l,pagination:u,query:c,hostName:d}=e,m=await t("/api/infra/infra_ml/results/metrics_hosts_anomalies",{method:"POST",body:JSON.stringify($r.encode({data:{sourceId:n,anomalyThreshold:i,timeRange:{startTime:r,endTime:s},query:c,metric:o,sort:l,pagination:u,hostName:d}})),signal:a});return Object(At.b)(Hr)(m)},ls=k.i18n.translate("xpack.infra.logs.analysis.anomaliesTablePreviousPageLabel",{defaultMessage:"Previous page"}),us=k.i18n.translate("xpack.infra.logs.analysis.anomaliesTableNextPageLabel",{defaultMessage:"Next page"}),cs=({fetchPreviousPage:e,fetchNextPage:t,page:a,isLoading:n})=>r.a.createElement(F.EuiFlexGroup,{justifyContent:"center"},r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(F.EuiFlexGroup,null,r.a.createElement(F.EuiButtonIcon,{"data-test-subj":"infraPaginationControlsButton",iconType:"arrowLeft",isDisabled:!e||n,onClick:e,"aria-label":ls}),r.a.createElement("span",null,r.a.createElement("strong",null,a)),r.a.createElement(F.EuiButtonIcon,{"data-test-subj":"infraPaginationControlsButton",iconType:"arrowRight",isDisabled:!t||n,onClick:t,"aria-label":us}))));var ds=a(10);const ms=({anomaly:e})=>{const{actual:t,typical:a}=e,n=k.i18n.translate("xpack.infra.ml.anomalyFlyout.anomaliesTableMoreThanExpectedAnomalyMessage",{defaultMessage:"more"}),i=k.i18n.translate("xpack.infra.ml.anomalyFlyout.anomaliesTableFewerThanExpectedAnomalyMessage",{defaultMessage:"fewer"}),s=t>a,o=s?n:i,l=s?t/a:a/t,u=s?"sortUp":"sortDown",c=l!==1/0?`${Object(ds.h)(l)}x`:"";return r.a.createElement(F.EuiFlexGroup,{gutterSize:"s",responsive:!1,alignItems:"center"},r.a.createElement(F.EuiFlexItem,{grow:!1,component:"span"},r.a.createElement(F.EuiIcon,{type:u})),r.a.createElement(F.EuiFlexItem,{component:"span"},`${c} ${o}`))};var gs=a(249),ps=a(86),Ms=a(244),bs=a(131);const fs=({jobTypes:e})=>({jobStatus:e.reduce(((e,t)=>({...e,[t]:"unknown"})),{}),jobSummaries:[],lastSetupErrorMessages:[],setupStatus:{type:"initializing"}}),ys=e=>null!=e.error,js=e=>Object(i.useReducer)((e=>(t,a)=>{switch(a.type){case"startedSetup":return{...t,jobStatus:e.reduce(((e,t)=>({...e,[t]:"initializing"})),{}),setupStatus:{type:"pending"}};case"finishedSetup":{const{datafeedSetupResults:n,jobSetupResults:i,jobSummaries:r,spaceId:s,sourceId:o}=a,l=e.reduce(((e,t)=>{return{...e,[t]:(r=Object(bs.c)(s,o,t),e=>e.filter((e=>e.id===r&&e.success&&!e.error)).length>0)(i)&&(a=Object(bs.b)(s,o,t),e=>e.filter((e=>e.id===a&&e.success&&e.started&&!e.error)).length>0)(n)?"started":"failed"};var a,r}),{}),u=Object.values(l).every((e=>"started"===e))?{type:"succeeded"}:{type:"failed",reasons:[...Object.values(n).filter(ys).map((e=>e.error.msg)),...Object.values(i).filter(ys).map((e=>e.error.msg))]};return{...t,jobStatus:l,jobSummaries:r,setupStatus:u}}case"failedSetup":return{...t,jobStatus:e.reduce(((e,t)=>({...e,[t]:"failed"})),{}),setupStatus:{type:"failed",reasons:a.reason?[a.reason]:["unknown"]}};case"fetchingJobStatuses":return{...t,setupStatus:"unknown"===t.setupStatus.type?{type:"initializing"}:t.setupStatus};case"fetchedJobStatuses":{const{payload:i,spaceId:r,sourceId:s}=a,{setupStatus:o}=t,l=e.reduce(((e,t)=>{return{...e,[t]:(a=Object(bs.c)(r,s,t),e=>e.filter((e=>e.id===a)).map((e=>"failed"===e.jobState||""===e.datafeedState?"failed":"closed"===e.jobState&&"stopped"===e.datafeedState&&e.fullJob&&null!=e.fullJob.finished_time?"finished":"closed"===e.jobState||"closing"===e.jobState||"stopped"===e.datafeedState?"stopped":"opening"===e.jobState&&!1===e.awaitingNodeAssignment||"resetting"===e.jobState||"reverting"===e.jobState?"initializing":"opened"===e.jobState&&"started"===e.datafeedState||"opening"===e.jobState&&"starting"===e.datafeedState&&!0===e.awaitingNodeAssignment?"started":"unknown"))[0]||"missing")(i)};var a}),{}),u=(n=l,e=>Object.entries(n).reduce(((e,[,t])=>"missing"===t?{type:"required"}:"required"===e.type||"succeeded"===e.type?e:"skipped"===e.type||Object(bs.e)(t)?{type:"skipped",newlyCreated:"skipped"===e.type&&e.newlyCreated}:e),e))(o);return{...t,jobSummaries:i,jobStatus:l,setupStatus:u}}case"failedFetchingJobStatuses":return{...t,setupStatus:{type:"unknown"},jobStatus:e.reduce(((e,t)=>({...e,[t]:"unknown"})),{})};case"viewedResults":return{...t,setupStatus:{type:"skipped",newlyCreated:!0}};default:return t}var n})(e),{jobTypes:e},fs),Es=({sourceConfiguration:e,moduleDescriptor:t})=>{const{services:a}=Object(S.c)(),{spaceId:n,sourceId:r}=e,[s,o]=js(t.jobTypes),[,l]=Object(Xr.b)({cancelPreviousOn:"resolution",createPromise:async()=>(o({type:"fetchingJobStatuses"}),await t.getJobSummary(n,r,a.http.fetch)),onResolve:e=>{o({type:"fetchedJobStatuses",payload:e,spaceId:n,sourceId:r})},onReject:()=>{o({type:"failedFetchingJobStatuses"})}},[n,r]),[,u]=Object(Xr.b)({cancelPreviousOn:"resolution",createPromise:async(e,i,s,l,u)=>(o({type:"startedSetup"}),{setupResult:await t.setUpModule({start:i,end:s,filter:l,moduleSourceConfiguration:{indices:e,sourceId:r,spaceId:n},partitionField:u},a.http.fetch),jobSummaries:await t.getJobSummary(n,r,a.http.fetch)}),onResolve:({setupResult:{datafeeds:e,jobs:t},jobSummaries:a})=>{o({type:"finishedSetup",datafeedSetupResults:e,jobSetupResults:t,jobSummaries:a,spaceId:n,sourceId:r})},onReject:()=>{o({type:"failedSetup"})}},[t.setUpModule,n,r]),[c,d]=Object(Xr.b)({cancelPreviousOn:"resolution",createPromise:async()=>await t.cleanUpModule(n,r,a.http.fetch),onReject:e=>{throw new Error(`Failed to clean up previous ML job: ${e}`)}},[n,r]),m=Object(i.useMemo)((()=>"pending"===c.state),[c.state]),g=Object(i.useCallback)(((e,t,a,n,i)=>{o({type:"startedSetup"}),d().then((()=>{u(e,t,a,n,i)})).catch((e=>{o({type:"failedSetup",reason:e.toString()})}))}),[d,o,u]),p=Object(i.useCallback)((()=>{o({type:"viewedResults"})}),[o]),M=Object(i.useMemo)((()=>t.getJobIds(n,r)),[t,n,r]);return{cleanUpAndSetUpModule:g,cleanUpModule:d,fetchJobStatus:l,isCleaningUp:m,jobIds:M,jobStatus:s.jobStatus,jobSummaries:s.jobSummaries,lastSetupErrorMessages:s.lastSetupErrorMessages,moduleDescriptor:t,setUpModule:u,setupStatus:s.setupStatus,sourceConfiguration:e,viewResults:p}},hs=({moduleDescriptor:e,sourceConfiguration:t})=>({getIsJobConfigurationOutdated:Object(i.useMemo)((()=>Is(e,t)),[t,e])}),Is=({bucketSpan:e},t)=>a=>{if(!a.fullJob||!a.fullJob.custom_settings)return!1;const n=a.fullJob.custom_settings.metrics_source_config;return!(n&&n.bucketSpan===e&&n.indexPattern&&Ls(new Set(n.indexPattern.split(",")),new Set(t.indices)))},Ls=(e,t)=>Array.from(e).every((e=>t.has(e))),xs=({sourceConfiguration:{spaceId:e,sourceId:t},moduleDescriptor:a})=>{const{services:n}=Object(S.c)(),[r,s]=Object(i.useState)(),o=Object(i.useMemo)((()=>r?r.jobs.reduce(((a,n)=>({...a,[Object(bs.c)(e,t,n.id)]:n})),{}):{}),[r,t,e]),[l,u]=Object(Xr.b)({cancelPreviousOn:"resolution",createPromise:async()=>await a.getModuleDefinition(n.http.fetch),onResolve:e=>{s(e)},onReject:()=>{s(void 0)}},[a.getModuleDefinition,e,t]),c=Object(i.useCallback)((e=>{var t,a,n;const i=o[e.id];if(null==i)return!1;const r=null==i?void 0:i.config.custom_settings.job_revision;return(null!==(t=null===(a=e.fullJob)||void 0===a||null===(n=a.custom_settings)||void 0===n?void 0:n.job_revision)&&void 0!==t?t:0)<(null!=r?r:0)}),[o]);return{fetchModuleDefinition:u,fetchModuleDefinitionRequestState:l.state,getIsJobDefinitionOutdated:c,jobDefinitionByJobId:o,moduleDefinition:r}};var ws=a(510),vs=a(511),Ts=a(512),Ss=a(513),Cs=a(514),Ns=a(515);const Ds=async e=>{const t=await e("/internal/ml/jobs/blocking_jobs_tasks",{version:"1"});return Object(At.b)(As)(t)},Os=oe.type({jobIds:oe.array(oe.string)}),ks=oe.record(oe.string,oe.type({deleted:oe.boolean})),As=oe.type({jobs:oe.array(oe.record(oe.string,oe.string))}),zs=oe.type({datafeedIds:oe.array(oe.string)}),Fs=oe.record(oe.string,oe.type({stopped:oe.boolean})),Ps=async(e,t,a,n)=>{try{await(async(e,t)=>{const{spaceId:a,sourceId:n,jobTypes:i}=e,r=await t("/internal/ml/jobs/stop_datafeeds",{method:"POST",version:"1",body:JSON.stringify(zs.encode({datafeedIds:i.map((e=>Object(bs.b)(a,n,e)))}))});return Object(At.b)(Fs)(r)})({spaceId:e,sourceId:t,jobTypes:a},n)}catch(e){var i;if(404!==(null==e||null===(i=e.response)||void 0===i?void 0:i.status))throw e}return await Rs(e,t,a,n)},Rs=async(e,t,a,n)=>{const i=await(async(e,t)=>{const{spaceId:a,sourceId:n,jobTypes:i}=e,r=await t("/internal/ml/jobs/delete_jobs",{method:"POST",version:"1",body:JSON.stringify(Os.encode({jobIds:i.map((e=>Object(bs.c)(a,n,e)))}))});return Object(At.b)(ks)(r)})({spaceId:e,sourceId:t,jobTypes:a},n);return await Us(e,t,a,n),i},Us=async(e,t,a,n)=>{const i=a.map((a=>Object(bs.c)(e,t,a)));for(;;){const{jobs:e}=await Ds(n);if(!e.flatMap((e=>Object.keys(e))).some((e=>i.includes(e))))return!0;await Vs(1e3)}},Vs=e=>new Promise((t=>setTimeout(t,e))),Bs=async(e,t)=>{const{spaceId:a,sourceId:n,jobTypes:i}=e,r=await t("/internal/ml/jobs/jobs_summary",{method:"POST",version:"1",body:JSON.stringify(_s.encode({jobIds:i.map((e=>Object(bs.c)(a,n,e)))}))});return Object(At.b)(Hs)(r)},_s=oe.type({jobIds:oe.array(oe.string)}),Ys=oe.keyof({started:null,starting:null,stopped:null,stopping:null,"":null}),Qs=oe.keyof({closed:null,closing:null,deleting:null,failed:null,opened:null,opening:null,resetting:null,reverting:null}),Gs=oe.keyof({ok:null,warn:null}),Zs=oe.type({categorization_status:Gs,categorized_doc_count:oe.number,dead_category_count:oe.number,frequent_category_count:oe.number,rare_category_count:oe.number,total_category_count:oe.number}),Ws=oe.intersection([oe.type({id:oe.string,jobState:Qs}),oe.partial({awaitingNodeAssignment:oe.boolean,datafeedIndices:oe.array(oe.string),datafeedState:Ys,fullJob:oe.partial({custom_settings:bs.f,finished_time:oe.number,model_size_stats:Zs})})]),Hs=oe.array(Ws),$s=async(e,t)=>{const a=await t(`/internal/ml/modules/get_module/${e}`,{method:"GET",version:"1"});return Object(At.b)(qs)(a)},Js=oe.type({id:oe.string,config:oe.type({custom_settings:bs.f})}),qs=oe.type({id:oe.string,jobs:oe.array(Js)}),Ks=async(e,t)=>{const{moduleId:a,start:n,end:i,spaceId:r,sourceId:s,indexPattern:o,jobOverrides:l=[],datafeedOverrides:u=[],query:c}=e,d=await t(`/internal/ml/modules/setup/${a}`,{method:"POST",version:"1",body:JSON.stringify(no.encode({start:n,end:i,indexPatternName:o,prefix:Object(bs.d)(r,s),startDatafeed:!0,jobOverrides:l,datafeedOverrides:u,query:c}))});return Object(At.b)(oo)(d)},Xs=oe.partial({start:oe.number,end:oe.number}),eo=oe.type({job_id:oe.string,custom_settings:bs.f}),to=oe.object,ao=oe.intersection([oe.strict({indexPatternName:oe.string,prefix:oe.string,startDatafeed:oe.boolean,jobOverrides:oe.array(eo),datafeedOverrides:oe.array(to)}),oe.exact(oe.partial({query:oe.object}))]),no=oe.intersection([Xs,ao]),io=oe.type({msg:oe.string}),ro=oe.intersection([oe.type({id:oe.string,started:oe.boolean,success:oe.boolean}),oe.partial({error:io})]),so=oe.intersection([oe.type({id:oe.string,success:oe.boolean}),oe.partial({error:io})]),oo=oe.type({datafeeds:oe.array(ro),jobs:oe.array(so)}),lo="metrics_ui_hosts",uo=k.i18n.translate("xpack.infra.ml.metricsModuleName",{defaultMessage:"Metrics anomanly detection"}),co=k.i18n.translate("xpack.infra.ml.metricsHostModuleDescription",{defaultMessage:"Use Machine Learning to automatically detect anomalous log entry rates."}),mo=(e,t)=>bs.g.reduce(((a,n)=>({...a,[n]:Object(bs.c)(e,t,n)})),{}),go=e=>{switch(e){case"hosts_memory_usage":return{datafeed:vs,job:ws};case"hosts_network_in":return{datafeed:Ss,job:Ts};case"hosts_network_out":return{datafeed:Ns,job:Cs}}},po={moduleId:lo,moduleName:uo,moduleDescription:co,jobTypes:bs.g,bucketSpan:bs.a,getJobIds:mo,getJobSummary:async(e,t,a)=>{const n=await Bs({spaceId:e,sourceId:t,jobTypes:bs.g},a),i=Object.values(mo(e,t));return n.filter((e=>i.includes(e.id)))},getModuleDefinition:async e=>await $s(lo,e),setUpModule:async(e,t)=>{const{start:a,end:n,filter:i,moduleSourceConfiguration:{spaceId:r,sourceId:s,indices:o},partitionField:l}=e,u=o.join(","),c=["hosts_memory_usage","hosts_network_in","hosts_network_out"],d=c.map((e=>{const{job:t}=go(e),a={...t.analysis_config};return l&&(a.detectors[0].partition_field_name=l,-1===a.influencers.indexOf(l)&&a.influencers.push(l)),{job_id:e,data_description:{time_field:he.m},analysis_config:a,custom_settings:{metrics_source_config:{indexPattern:u,timestampField:he.m,bucketSpan:bs.a}}}})),m=c.map((e=>{const{datafeed:t}=go(e),a={...t};if(i){const e=JSON.parse(i);a.query.bool={...a.query.bool,...e.bool}}if(!l||"hosts_memory_usage"===e)return{...a,job_id:e};const n={[l]:{terms:{field:l},aggregations:{...t.aggregations}}};return{...a,job_id:e,aggregations:n}}));return Ks({moduleId:lo,start:a,end:n,spaceId:r,sourceId:s,indexPattern:u,jobOverrides:d,datafeedOverrides:m},t)},cleanUpModule:async(e,t,a)=>await Ps(e,t,bs.g,a)},[Mo,bo]=sa()((({indexPattern:e,sourceId:t,spaceId:a})=>{const n=Object(i.useMemo)((()=>({indices:e.split(","),sourceId:t,spaceId:a})),[e,t,a]),r=Es({moduleDescriptor:po,sourceConfiguration:n}),{getIsJobConfigurationOutdated:s}=hs({sourceConfiguration:n,moduleDescriptor:po}),{fetchModuleDefinition:o,getIsJobDefinitionOutdated:l}=xs({sourceConfiguration:n,moduleDescriptor:po}),u=Object(i.useMemo)((()=>r.jobSummaries.some(s)),[s,r.jobSummaries]),c=Object(i.useMemo)((()=>r.jobSummaries.some(l)),[l,r.jobSummaries]),d=Object(i.useMemo)((()=>Object.values(r.jobStatus).some((e=>"stopped"===e))),[r.jobStatus]);return{...r,fetchModuleDefinition:o,hasOutdatedJobConfigurations:u,hasOutdatedJobDefinitions:c,hasStoppedJobs:d}}));var fo=a(516),yo=a(517),jo=a(518),Eo=a(519),ho=a(520),Io=a(521);const Lo="kubernetes.namespace",xo="metrics_ui_k8s",wo=k.i18n.translate("xpack.infra.ml.metricsModuleName",{defaultMessage:"Metrics anomanly detection"}),vo=k.i18n.translate("xpack.infra.ml.metricsHostModuleDescription",{defaultMessage:"Use Machine Learning to automatically detect anomalous log entry rates."}),To=(e,t)=>bs.h.reduce(((a,n)=>({...a,[n]:Object(bs.c)(e,t,n)})),{}),So=e=>{switch(e){case"k8s_memory_usage":return{datafeed:yo,job:fo};case"k8s_network_in":return{datafeed:Eo,job:jo};case"k8s_network_out":return{datafeed:Io,job:ho}}},Co={moduleId:xo,moduleName:wo,moduleDescription:vo,jobTypes:bs.h,bucketSpan:bs.a,getJobIds:To,getJobSummary:async(e,t,a)=>{const n=await Bs({spaceId:e,sourceId:t,jobTypes:bs.h},a),i=Object.values(To(e,t));return n.filter((e=>i.includes(e.id)))},getModuleDefinition:async e=>await $s(xo,e),setUpModule:async(e,t)=>{const{start:a,end:n,filter:i,moduleSourceConfiguration:{spaceId:r,sourceId:s,indices:o},partitionField:l}=e,u=o.join(","),c=["k8s_memory_usage","k8s_network_in","k8s_network_out"],d=c.map((e=>{const{job:t}=So(e),a={...t.analysis_config};return l&&(a.detectors[0].partition_field_name=l,-1===a.influencers.indexOf(l)&&a.influencers.push(l)),{job_id:e,data_description:{time_field:he.m},analysis_config:a,custom_settings:{metrics_source_config:{indexPattern:u,timestampField:he.m,bucketSpan:bs.a}}}})),m=c.map((e=>{const{datafeed:t}=So(e),a={...t};if(i){const e=JSON.parse(i);a.query.bool={...a.query.bool,...e.bool}}if(!l||"k8s_memory_usage"===e)return{...a,job_id:e};const n=t.aggregations[Lo].aggregations,r={[l]:{terms:{field:l,size:25},aggregations:{...n}}};return{...a,job_id:e,aggregations:r}}));return Ks({moduleId:xo,start:a,end:n,spaceId:r,sourceId:s,indexPattern:u,jobOverrides:d,datafeedOverrides:m},t)},cleanUpModule:async(e,t,a)=>await Ps(e,t,bs.h,a)},[No,Do]=sa()((({indexPattern:e,sourceId:t,spaceId:a})=>{const n=Object(i.useMemo)((()=>({indices:e.split(","),sourceId:t,spaceId:a})),[e,t,a]),r=Es({moduleDescriptor:Co,sourceConfiguration:n}),{getIsJobConfigurationOutdated:s}=hs({sourceConfiguration:n,moduleDescriptor:Co}),{fetchModuleDefinition:o,getIsJobDefinitionOutdated:l}=xs({sourceConfiguration:n,moduleDescriptor:Co}),u=Object(i.useMemo)((()=>r.jobSummaries.some(s)),[s,r.jobSummaries]),c=Object(i.useMemo)((()=>r.jobSummaries.some(l)),[l,r.jobSummaries]),d=Object(i.useMemo)((()=>Object.values(r.jobStatus).some((e=>"stopped"===e))),[r.jobStatus]);return{...r,fetchModuleDefinition:o,hasOutdatedJobConfigurations:u,hasOutdatedJobDefinitions:c,hasStoppedJobs:d}}));var Oo=a(248);const ko=oe.type({capabilities:oe.type({canGetJobs:oe.boolean,canCreateJob:oe.boolean,canDeleteJob:oe.boolean,canOpenJob:oe.boolean,canCloseJob:oe.boolean,canForecastJob:oe.boolean,canGetDatafeeds:oe.boolean,canStartStopDatafeed:oe.boolean,canUpdateJob:oe.boolean,canUpdateDatafeed:oe.boolean,canPreviewDatafeed:oe.boolean}),isPlatinumOrTrialLicense:oe.boolean,mlFeatureEnabledInSpace:oe.boolean,upgradeInProgress:oe.boolean}),Ao=()=>{const{services:e}=Object(S.c)(),[t,a]=Object(i.useState)(Po),[n,r]=Object(Xr.b)({cancelPreviousOn:"resolution",createPromise:async()=>{const t=await e.http.fetch("/internal/ml/ml_capabilities",{version:"1"});return Object(le.pipe)(ko.decode(t),Object(ue.fold)(Object(At.d)(At.a),ce.identity))},onResolve:e=>{a(e)}},[]);Object(i.useEffect)((()=>{r()}),[r]);const s=Object(i.useMemo)((()=>"pending"===n.state),[n.state]),o=t.capabilities.canCreateJob,l=t.capabilities.canGetJobs;return{hasInfraMLCapabilities:t.isPlatinumOrTrialLicense&&t.mlFeatureEnabledInSpace,hasInfraMLReadCapabilities:l,hasInfraMLSetupCapabilities:o,isLoading:s}},[zo,Fo]=sa()(Ao),Po={capabilities:{canGetJobs:!1,canCreateJob:!1,canDeleteJob:!1,canOpenJob:!1,canCloseJob:!1,canForecastJob:!1,canGetDatafeeds:!1,canStartStopDatafeed:!1,canUpdateJob:!1,canUpdateDatafeed:!1,canPreviewDatafeed:!1,canGetCalendars:!1,canCreateCalendar:!1,canDeleteCalendar:!1,canGetFilters:!1,canCreateFilter:!1,canDeleteFilter:!1,canFindFileStructure:!1,canGetDataFrameJobs:!1,canDeleteDataFrameJob:!1,canPreviewDataFrameJob:!1,canCreateDataFrameJob:!1,canStartStopDataFrameJob:!1},isPlatinumOrTrialLicense:!1,mlFeatureEnabledInSpace:!1,upgradeInProgress:!1},Ro="https://docs.google.com/forms/d/e/1FAIpQLSfBixH_1HTuqeMCy38iK9w1mB8vl_eVvcLUlSPAPiWKBHeHiQ/viewform",Uo=e=>{const[t,a]=Object(i.useState)("jobs"),{goToSetup:n,closeFlyout:s}=e,{fetchJobStatus:o,setupStatus:l,jobSummaries:u}=bo(),{fetchJobStatus:c,setupStatus:d,jobSummaries:m}=Do(),{hasInfraMLCapabilities:g,hasInfraMLReadCapabilities:p,hasInfraMLSetupCapabilities:M}=Fo(),{kibanaVersion:f,isCloudEnv:y,isServerlessEnv:j}=Object(i.useContext)(S.a),{euiTheme:E}=Object(F.useEuiTheme)(),h=Object(i.useCallback)((()=>{n("hosts")}),[n]),I=Object(i.useCallback)((()=>{n("kubernetes")}),[n]),L=[...(m||[]).map((e=>e.id)),...(u||[]).map((e=>e.id))];Object(i.useEffect)((()=>{p&&(o(),c())}),[c,o,p]);const x=u.length>0||m.length>0,w=Object(b.useLinkProps)({app:"ml",pathname:"/jobs"}),v=e.hideJobType||u.length>0&&0===m.length?"host":0===u.length&&m.length>0?"pod":void 0;return g?p?"initializing"===l.type||"initializing"===d.type?r.a.createElement(z.b,{message:k.i18n.translate("xpack.infra.ml.anomalyFlyout.jobStatusLoadingMessage",{defaultMessage:"Checking status of metrics jobs..."})}):M?r.a.createElement(r.a.Fragment,null,r.a.createElement(F.EuiFlyoutHeader,{hasBorder:!0},r.a.createElement(F.EuiFlexGroup,{alignItems:"center",justifyContent:"spaceBetween"},r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(F.EuiTitle,{size:"s"},r.a.createElement("h2",null,r.a.createElement(P.FormattedMessage,{defaultMessage:"Machine Learning anomaly detection",id:"xpack.infra.ml.anomalyFlyout.flyoutHeader"})))),r.a.createElement(Yo,{grow:!1,$_css:E.size.l},r.a.createElement(b.FeatureFeedbackButton,{"data-test-subj":v?`infraML${v}FlyoutFeedbackLink`:"infraMLFlyoutFeedbackLink",formUrl:Ro,kibanaVersion:f,isCloudEnv:y,isServerlessEnv:j,nodeType:v}))),r.a.createElement(F.EuiSpacer,{size:"s"}),r.a.createElement(Qo,{bottomBorder:!0,size:"s",$_css2:E.size.l},r.a.createElement(F.EuiTab,{isSelected:"jobs"===t,onClick:()=>a("jobs")},k.i18n.translate("xpack.infra.ml.anomalyFlyout.jobsTabLabel",{defaultMessage:"Jobs"})),r.a.createElement(F.EuiTab,{isSelected:"anomalies"===t,onClick:()=>a("anomalies"),"data-test-subj":"anomalyFlyoutAnomaliesTab"},k.i18n.translate("xpack.infra.ml.anomalyFlyout.anomaliesTabLabel",{defaultMessage:"Anomalies"})))),r.a.createElement(F.EuiFlyoutBody,{banner:r.a.createElement(r.a.Fragment,null,"jobs"===t&&x&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Vo,{hasHostJobs:u.length>0,hasK8sJobs:m.length>0,jobIds:L})),r.a.createElement(ps.MLJobsAwaitingNodeWarning,{jobIds:L}))},"jobs"===t&&r.a.createElement(r.a.Fragment,null,x&&r.a.createElement(r.a.Fragment,null,r.a.createElement(F.EuiFlexGroup,{gutterSize:"s"},r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(F.EuiButton,J()({"data-test-subj":"infraFlyoutHomeManageJobsInMlButton"},w,{style:{marginRight:5}}),r.a.createElement(P.FormattedMessage,{defaultMessage:"Manage jobs in ML",id:"xpack.infra.ml.anomalyFlyout.manageJobs"})))),r.a.createElement(F.EuiSpacer,{size:"l"})),r.a.createElement(F.EuiText,null,r.a.createElement("h4",null,k.i18n.translate("xpack.infra.ml.anomalyFlyout.createMLJobsLabel",{defaultMessage:"Create ML Jobs"})),r.a.createElement("p",null,r.a.createElement(P.FormattedMessage,{defaultMessage:"Anomaly detection is powered by machine learning. Machine learning jobs are available for the following resource types. Enable these jobs to begin detecting anomalies in your infrastructure metrics.",id:"xpack.infra.ml.anomalyFlyout.createJobs"}))),r.a.createElement(F.EuiSpacer,{size:"l"}),r.a.createElement(Bo,{hasHostJobs:u.length>0,hasK8sJobs:m.length>0,hasSetupCapabilities:e.hasSetupCapabilities,createHosts:h,createK8s:I,hideJobType:e.hideJobType})),"anomalies"===t&&r.a.createElement(Jo,{closeFlyout:s,hideSelectGroup:e.hideSelectGroup}))):r.a.createElement(Ms.c,null):r.a.createElement(Ms.b,null):r.a.createElement(Oo.b,null)},Vo=e=>{let t="";return e.hasHostJobs&&e.hasK8sJobs?t=`${k.i18n.translate("xpack.infra.ml.anomalyFlyout.create.hostTitle",{defaultMessage:"Hosts"})} and ${k.i18n.translate("xpack.infra.ml.anomalyFlyout.create.k8sSuccessTitle",{defaultMessage:"Kubernetes"})}`:e.hasHostJobs?t=k.i18n.translate("xpack.infra.ml.anomalyFlyout.create.hostSuccessTitle",{defaultMessage:"Hosts"}):e.hasK8sJobs&&(t=k.i18n.translate("xpack.infra.ml.anomalyFlyout.create.k8sSuccessTitle",{defaultMessage:"Kubernetes"})),r.a.createElement(r.a.Fragment,null,r.a.createElement(F.EuiCallOut,{size:"m",color:"success",title:r.a.createElement(P.FormattedMessage,{defaultMessage:"Anomaly detection enabled for {target}",id:"xpack.infra.ml.anomalyFlyout.enabledCallout",values:{target:t}}),iconType:"check"}))},Bo=e=>r.a.createElement(r.a.Fragment,null,r.a.createElement(F.EuiFlexGroup,{gutterSize:"m"},r.a.createElement(F.EuiFlexItem,null,r.a.createElement(F.EuiCard,{"data-test-subj":"infraHostsJobCard",isDisabled:!e.hasSetupCapabilities,icon:r.a.createElement(F.EuiIcon,{type:"storage",size:"xl"}),title:r.a.createElement(P.FormattedMessage,{defaultMessage:"Hosts",id:"xpack.infra.ml.anomalyFlyout.create.hostTitle"}),description:r.a.createElement(P.FormattedMessage,{defaultMessage:"Detect anomalies for memory usage and network traffic on hosts.",id:"xpack.infra.ml.anomalyFlyout.create.hostDescription"}),footer:r.a.createElement(r.a.Fragment,null,e.hasHostJobs&&r.a.createElement(F.EuiButtonEmpty,{"data-test-subj":"infraCreateJobTabRecreateJobsButton",onClick:e.createHosts},r.a.createElement(P.FormattedMessage,{defaultMessage:"Recreate jobs",id:"xpack.infra.ml.anomalyFlyout.create.recreateButton"})),!e.hasHostJobs&&r.a.createElement(F.EuiButton,{"data-test-subj":"infraCreateJobTabEnableButton",onClick:e.createHosts},r.a.createElement(P.FormattedMessage,{defaultMessage:"Enable",id:"xpack.infra.ml.anomalyFlyout.create.createButton"})))})),!e.hideJobType&&r.a.createElement(F.EuiFlexItem,null,r.a.createElement(F.EuiCard,{"data-test-subj":"infraK8sJobCard",isDisabled:!e.hasSetupCapabilities,icon:r.a.createElement(F.EuiIcon,{type:"logoKubernetes",size:"xl"}),title:r.a.createElement(P.FormattedMessage,{defaultMessage:"Kubernetes Pods",id:"xpack.infra.ml.anomalyFlyout.create.k8sTitle"}),description:r.a.createElement(P.FormattedMessage,{defaultMessage:"Detect anomalies for memory usage and network traffic on Kubernetes Pods.",id:"xpack.infra.ml.anomalyFlyout.create.k8sDescription"}),footer:r.a.createElement(r.a.Fragment,null,e.hasK8sJobs&&r.a.createElement(F.EuiButtonEmpty,{"data-test-subj":"infraCreateJobTabRecreateJobsButton",onClick:e.createK8s},r.a.createElement(P.FormattedMessage,{defaultMessage:"Recreate jobs",id:"xpack.infra.ml.anomalyFlyout.create.recreateButton"})),!e.hasK8sJobs&&r.a.createElement(F.EuiButton,{"data-test-subj":"infraCreateJobTabEnableButton",onClick:e.createK8s},r.a.createElement(P.FormattedMessage,{defaultMessage:"Enable",id:"xpack.infra.ml.anomalyFlyout.create.createButton"})))})))),_o=(e,t="absolute")=>{let a="";return a+=`(ml:(jobIds:!(${e.map((e=>`'${e}'`)).join(",")}))`,a+=`,refreshInterval:(display:Off,pause:!f,value:0),time:(from:'${Ve()().subtract(4,"weeks").toISOString()}'`,a+=`,to:'${Ve()().toISOString()}'`,"invalid"===t&&(a+=",mode:invalid"),a+="))&_a=(query:(query_string:(analyze_wildcard:!t,query:'*')))",a};var Yo=an()(F.EuiFlexItem)`
                margin-right: ${e=>e.$_css};
              `,Qo=an()(F.EuiTabs).withConfig({displayName:"_StyledEuiTabs",componentId:"sc-h0gr6v-0"})(["margin-bottom:calc(-1 * ("," + 1px));"],(e=>e.$_css2));const Go={...wn,filterQuery:Va,time:la.currentTime,autoReload:la.isAutoReloading},Zo=()=>{const{metric:e,groupBy:t,nodeType:a,view:n,customOptions:r,customMetrics:s,boundsOverride:o,autoBounds:l,accountId:u,region:c,legend:d,sort:m,timelineOpen:g,setWaffleOptionsState:p}=Nn(),{currentTime:M,isAutoReloading:b,setWaffleTimeState:f}=pa(),{filterQuery:y,setWaffleFiltersState:j}=Ga(),E={metric:e,sort:m,groupBy:t,nodeType:a,view:n,customOptions:r,customMetrics:s,boundsOverride:o,autoBounds:l,accountId:u,region:c,time:M,autoReload:b,filterQuery:y,legend:d,timelineOpen:g},h=Object(i.useCallback)((e=>{const t=e.attributes;p({sort:t.sort,metric:t.metric,groupBy:t.groupBy,nodeType:t.nodeType,view:t.view,customOptions:t.customOptions,customMetrics:t.customMetrics,boundsOverride:t.boundsOverride,autoBounds:t.autoBounds,accountId:t.accountId,region:t.region,legend:t.legend,timelineOpen:t.timelineOpen}),t.time&&f({currentTime:t.time,isAutoReloading:t.autoReload}),j(t.filterQuery)}),[p,f,j]);return{viewState:E,defaultViewState:Go,onViewChange:h}},Wo=({jobId:e,type:t,startTime:a,closeFlyout:n,influencerField:s,influencers:o,disableShowInInventory:l})=>{const[u,c]=Object(i.useState)(!1),d=Object(i.useCallback)((()=>c(!1)),[c]),m=Object(i.useCallback)((()=>c(!u)),[u]),{onViewChange:g}=Zo(),p=Object(i.useCallback)((()=>{const i=e.split("-"),r={metric:{type:{memory_usage:"memory",network_in:"rx",network_out:"tx"}[i[i.length-1].replace(/hosts_|k8s_/,"")]},sort:{by:"name",direction:"desc"},groupBy:[],nodeType:"metrics_k8s"===t?"pod":"host",view:"map",customOptions:[],customMetrics:[],boundsOverride:{max:1,min:0},autoBounds:!0,accountId:"",region:"",autoReload:!1,filterQuery:{expression:o.reduce(((e,t)=>(e&&(e=`${e} or `),`${e} ${s}: "${t}"`)),""),kind:"kuery"},legend:{palette:"cool",reverseColors:!1,steps:10},time:a};g({attributes:r}),n()}),[e,g,a,t,o,s,n]),M=Object(b.useLinkProps)({app:"ml",pathname:`/explorer?_g=${_o([e.toString()])}`}),f=[r.a.createElement(F.EuiContextMenuItem,J()({key:"openInAnomalyExplorer",icon:"popout"},M),r.a.createElement(P.FormattedMessage,{id:"xpack.infra.ml.anomalyFlyout.actions.openInAnomalyExplorer",defaultMessage:"Open in Anomaly Explorer"}))];return l||f.push(r.a.createElement(F.EuiContextMenuItem,{key:"showInInventory",icon:"search",onClick:p},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.ml.anomalyFlyout.actions.showInInventory",defaultMessage:"Show in Inventory"}))),r.a.createElement(r.a.Fragment,null,r.a.createElement(F.EuiPopover,{anchorPosition:"downRight",panelPaddingSize:"none",button:r.a.createElement(F.EuiButtonIcon,{"data-test-subj":"infraAnomalyActionMenuButton",iconType:"boxesHorizontal",onClick:m,"aria-label":k.i18n.translate("xpack.infra.ml.anomalyFlyout.actions.openActionMenu",{defaultMessage:"Open"})}),isOpen:u,closePopover:d},r.a.createElement(F.EuiContextMenuPanel,{items:f})))},Ho=()=>{const e=Object(F.useEuiTheme)();return r.a.createElement(qo,null,r.a.createElement(F.EuiEmptyPrompt,{iconType:"eyeClosed",iconColor:e.euiTheme.colors.mediumShade,title:r.a.createElement("h3",{"data-test-subj":"noAnomaliesFoundMsg"},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.ml.anomalyFlyout.anomalyTable.noAnomaliesFound",defaultMessage:"No anomalies found"})),body:r.a.createElement(P.FormattedMessage,{id:"xpack.infra.ml.anomalyFlyout.anomalyTable.noAnomaliesSuggestion",defaultMessage:"Try modifying your search or selected time range."})}))},$o={from:"now-30d",to:"now"},Jo=({closeFlyout:e,hostName:t,dateRange:a=$o,hideDatePicker:n=!1,request$:s,hideSelectGroup:o})=>{const[l,u]=Object(i.useState)(""),c=Object(b.useUiTracker)({app:"infra_metrics"}),[d,m]=Object(i.useState)({start:a.from,end:a.to}),{sorting:g,setSorting:p}=function(e){const[t,a]=Object(i.useState)({field:"startTime",direction:"desc"});return{sorting:t,setSorting:a}}(),M=[{id:"hosts",label:k.i18n.translate("xpack.infra.ml.anomalyFlyout.hostBtn",{defaultMessage:"Hosts"}),"data-test-subj":"anomaliesHostComboBoxItem"},{id:"k8s",label:k.i18n.translate("xpack.infra.ml.anomalyFlyout.podsBtn",{defaultMessage:"Kubernetes Pods"}),"data-test-subj":"anomaliesK8sComboBoxItem"}],[f,y]=Object(i.useState)("hosts"),[j,E]=Object(i.useState)([M.find((e=>"hosts"===e.id))||M[0]]),{source:h}=Object(Y.d)(),I=null==h?void 0:h.configuration.anomalyThreshold,L=Object(i.useCallback)((({isInvalid:e,start:t,end:a})=>{e||m({start:t,end:a})}),[]),x=Object(i.useCallback)((()=>{const{start:e,end:t}=n?{start:a.from,end:a.to}:d;return{start:Object(Xi.b)(e)||0,end:Object(Xi.b)(t,"up")||0}}),[a.from,a.to,n,d]),w=Object(i.useMemo)((()=>{const{start:e,end:t}=x();return{sourceId:"default",anomalyThreshold:I||0,startTime:e,endTime:t,defaultSortOptions:{direction:(null==g?void 0:g.direction)||"desc",field:(null==g?void 0:g.field)||"startTime"},defaultPaginationOptions:{pageSize:10}}}),[x,I,null==g?void 0:g.direction,null==g?void 0:g.field]),{metricsHostsAnomalies:v,getMetricsHostsAnomalies:T,page:S,changeSortOptions:C,fetchNextPage:N,fetchPreviousPage:D,isPendingMetricsHostsAnomalies:O}=ss(w),{metricsK8sAnomalies:A,getMetricsK8sAnomalies:z,page:R,changeSortOptions:U,fetchNextPage:V,fetchPreviousPage:B,isPendingMetricsK8sAnomalies:_}=as(w),Q=Object(i.useMemo)((()=>"hosts"===f?S:R),[f,S,R]),G=Object(i.useMemo)((()=>"hosts"===f?O:_),[f,O,_]),Z=Object(i.useMemo)((()=>"hosts"===f?N:V),[f,N,V]),W=Object(i.useMemo)((()=>"hosts"===f?D:B),[f,D,B]),H=Object(i.useMemo)((()=>"hosts"===f?T:"k8s"===f?z:void 0),[f,z,T]),$=Object(i.useMemo)((()=>"hosts"===f?v:A),[f,v,A]),J=Object(i.useCallback)((e=>{u(e.target.value)}),[]),q=Object(i.useCallback)((e=>{E(e),y(e[0].id)}),[]),K=Object(i.useCallback)((e=>{"hosts"===f?C(e):U(e)}),[C,U,f]);Object(i.useEffect)((()=>{$&&$.forEach((e=>{e.influencers.length>100&&c({metric:"metrics_ml_anomaly_detection_more_than_100_influencers"})}))}),[$,c]);let X=[{field:"startTime",name:k.i18n.translate("xpack.infra.ml.anomalyFlyout.columnTime",{defaultMessage:"Time"}),width:"15%",sortable:!0,textOnly:!0,truncateText:!0,render:e=>r.a.createElement(P.FormattedDate,{value:e,year:"numeric",month:"short",day:"2-digit"})},{field:"jobId",name:k.i18n.translate("xpack.infra.ml.anomalyFlyout.columnJob",{defaultMessage:"Job"}),width:"25%",render:e=>e,"data-test-subj":"anomalyRow"},{field:"anomalyScore",name:k.i18n.translate("xpack.infra.ml.anomalyFlyout.columnSeverit",{defaultMessage:"Severity"}),width:"15%",sortable:!0,render:e=>r.a.createElement(gs.a,{anomalyScore:e})},{field:"typical",name:k.i18n.translate("xpack.infra.ml.anomalyFlyout.columnSummary",{defaultMessage:"Summary"}),width:"15%",textOnly:!0,render:(e,t)=>r.a.createElement(ms,{anomaly:t})},{field:"influencers",name:k.i18n.translate("xpack.infra.ml.anomalyFlyout.columnInfluencerName",{defaultMessage:"Node name"}),width:"20%",textOnly:!0,truncateText:!0,render:e=>e.join(",")},{name:k.i18n.translate("xpack.infra.ml.anomalyFlyout.columnActionsName",{defaultMessage:"Actions"}),width:"10%",actions:[{render:t=>r.a.createElement(Wo,{jobId:t.jobId,type:t.type,influencerField:"metrics_hosts"===t.type?"host.name":"kubernetes.pod.uid",disableShowInInventory:t.influencers.length>100,influencers:t.influencers,startTime:t.startTime,closeFlyout:e})}]}];return X=t?X.filter((e=>!("field"in e)||"influencers"!==e.field)):X,Object(i.useEffect)((()=>{H&&(s?s.next((()=>H(void 0,l,t))):H(void 0,l,t))}),[H,t,s,l]),r.a.createElement(F.EuiFlexGroup,{direction:"column"},!n&&r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(F.EuiSuperDatePicker,{start:d.start,end:d.end,showUpdateButton:!1,onTimeChange:L,width:"full"})),r.a.createElement(F.EuiFlexItem,{grow:!1},!t&&r.a.createElement(F.EuiFlexGroup,{alignItems:"center"},r.a.createElement(F.EuiFlexItem,{grow:3},r.a.createElement(F.EuiFieldSearch,{"data-test-subj":"infraAnomaliesTableFieldSearch",fullWidth:!0,placeholder:k.i18n.translate("xpack.infra.ml.anomalyFlyout.searchPlaceholder",{defaultMessage:"Search"}),value:l,onChange:J,isClearable:!0})),!o&&r.a.createElement(F.EuiFlexItem,{grow:1},r.a.createElement(F.EuiComboBox,{placeholder:k.i18n.translate("xpack.infra.ml.anomalyFlyout.jobTypeSelect",{defaultMessage:"Select group"}),singleSelection:{asPlainText:!0},options:M,selectedOptions:j,onChange:q,fullWidth:!0,isClearable:!1,"data-test-subj":"anomaliesComboBoxType"})))),r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(F.EuiBasicTable,{columns:X,items:$,sorting:{sort:g},onChange:e=>{var t,a;p(e.sort),K({field:(null==e||null===(t=e.sort)||void 0===t?void 0:t.field)||"startTime",direction:(null==e||null===(a=e.sort)||void 0===a?void 0:a.direction)||"desc"})},loading:G,noItemsMessage:G?r.a.createElement(P.FormattedMessage,{id:"xpack.infra.ml.anomalyFlyout.anomalyTable.loading",defaultMessage:"Loading anomalies"}):r.a.createElement(Ho,null)})),r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(cs,{fetchNextPage:Z,fetchPreviousPage:W,page:Q,isLoading:G})))};var qo=an()("div").withConfig({displayName:"_StyledDiv",componentId:"sc-1gycuwh-0"})(["align-self:center;"]),Ko=a(126),Xo=a(134);const el=(e,t)=>{const a=t.filter((e=>e&&"metrics"===e.source)).map((e=>e&&e.name));return e.filter((e=>{const t=(0,g.metrics.tsvb[e])(he.m,"test",">=1m");return a.some((e=>e&&t.requires.includes(e)))}))};function tl({assetId:e,assetType:t,sourceId:a,timeRange:n,requiredMetrics:r=[],request$:s}){var o,l,u;const{error:c,loading:d,response:m,makeRequest:g}=Object(Ko.a)("/api/infra/metadata","POST",JSON.stringify({nodeId:e,nodeType:t,sourceId:a,timeRange:n}),(e=>Object(le.pipe)(Xo.a.decode(e),Object(ue.fold)(Object(At.d)(At.a),ce.identity))),void 0,void 0,!0);return Object(i.useEffect)((()=>{s?s.next(g):g()}),[g,s]),{name:m&&m.name||"",filteredRequiredMetrics:m&&r.length>0?el(r,m.features):[],error:c&&c.message||null,loading:d,metadata:m,cloudId:(null==m||null===(o=m.info)||void 0===o||null===(l=o.cloud)||void 0===l||null===(u=l.instance)||void 0===u?void 0:u.id)||"",reload:g}}const al=()=>{const{requestState$:e,isAutoRefreshRequestPending$:t}=vr(),{autoRefreshConfig$:a}=xr(),n=Object(i.useMemo)((()=>new Ki.BehaviorSubject(void 0)),[]);return Object(i.useEffect)((()=>{const i=n.pipe(Object(Ki.withLatestFrom)(t,a),Object(Ki.filter)((([,e,t])=>!e||!0===(null==t?void 0:t.isPaused))),Object(Ki.mergeMap)((([t])=>t?(e.next("running"),Object(Ki.from)(t()).pipe(Object(Ki.map)((t=>(e.next("done"),t))),Object(Ki.catchError)((t=>{throw e.next("error"),t})))):Object(Ki.of)(null)))).subscribe();return()=>{e.next("done"),i.unsubscribe()}}),[a,t,n,e]),{request$:n}},[nl,il]=sa()((function({assetId:e,assetType:t}){const{request$:a}=al(),[,n]=Mr(),{getDateRangeInTimestamp:r}=xr(),{sourceId:s}=Object(Y.d)(),{loading:o,error:l,metadata:u,reload:c}=tl({assetId:e,assetType:t,sourceId:s,timeRange:r(),request$:a}),d=Object(i.useCallback)((()=>{c()}),[c]);return Object(i.useEffect)((()=>{null!=u&&u.name&&n({name:u.name})}),[null==u?void 0:u.name,n]),{loading:o,error:l,metadata:u,refresh:d}})),rl=sa()((function(e){const[t]=Mr(),{metadata:a}=il(),{assetId:n,assetName:i,assetType:r,...s}=e,o=!(i||null!=t&&t.name||null!=a&&a.name);return{...s,asset:{id:n,name:i||(null==t?void 0:t.name)||(null==a?void 0:a.name)||"",type:r},loading:o}})),[sl,ol]=rl,ll=(e,t)=>{const[a,n]=Object(i.useState)(),r=Object(i.useRef)(t),s=Object(i.useRef)(new IntersectionObserver((([e])=>n(e)),{root:e.current}));return Object(i.useEffect)((()=>{const{current:t}=s;t.disconnect();const{current:a}=e;return a&&t.observe(a),()=>t.disconnect()}),[e]),null!=a&&a.isIntersecting&&(r.current=t),r.current},ul=()=>{var e;const t=Object(i.useRef)(null),{request$:a}=al(),{getParsedDateRange:n}=xr(),{asset:s,overrides:o}=ol(),{kibanaVersion:l,isCloudEnv:u,isServerlessEnv:c}=Object(i.useContext)(S.a),{onClose:d=(()=>{})}=null!==(e=null==o?void 0:o.anomalies)&&void 0!==e?e:{},m=Object(i.useMemo)((()=>n()),[n]),g=ll(t,{parsedDateRange:m});return r.a.createElement("div",{ref:t},r.a.createElement(Jo,{closeFlyout:d,hostName:s.name,dateRange:g.parsedDateRange,hideDatePicker:!0,request$:a}),r.a.createElement("div",{style:{position:"fixed",bottom:"24px",right:"24px",display:"flex",justifyContent:"flex-end",alignItems:"flex-end"}},r.a.createElement(b.FeatureFeedbackButton,{"data-test-subj":"infraMLHostFlyoutFeedbackLink",formUrl:Ro,kibanaVersion:l,isCloudEnv:u,isServerlessEnv:c,nodeType:"host"})))};var cl=a(51),dl=a.n(cl),ml=a(275);const gl=3e5,pl=6e5,Ml=18e5,bl=36e5,fl=72e5,yl=288e5,jl=432e5,El=864e5,hl=1728e5,Il=6048e5,Ll=12096e5,xl=2592e6,wl=5184e6,vl=7776e6,Tl=15552e6,Sl=[5,10,20],Cl={from:"now-15m",to:"now"},Nl={query:{language:"kuery",query:""},filters:[],panelFilters:[],dateRange:Cl,limit:100},Dl=(e,t)=>({...e,...Object.fromEntries(Object.entries(t).filter((([e,t])=>!!t)))}),Ol=oe.intersection([oe.type({meta:oe.partial({alias:oe.union([oe.null,oe.string]),disabled:oe.boolean,negate:oe.boolean,controlledBy:oe.string,group:oe.string,index:oe.string,isMultiIndex:oe.boolean,type:oe.string,key:oe.string,params:oe.any,value:oe.any})}),oe.partial({query:oe.record(oe.string,oe.any),$state:oe.type({store:function(e,t){const a=e=>Object.values(t).includes(e);return new oe.Type("FilterStateStore",a,((e,t)=>a(e)?oe.success(e):oe.failure(e,t)),oe.identity)}(0,Ft.FilterStateStore)})})]),kl=oe.array(Ol),Al=oe.type({language:oe.string,query:oe.union([oe.string,oe.record(oe.string,oe.any)])}),zl=oe.intersection([oe.type({from:oe.string,to:oe.string}),oe.partial({mode:oe.union([oe.literal("absolute"),oe.literal("relative")])})]),Fl=oe.type({filters:kl,panelFilters:kl,query:Al,dateRange:zl,limit:oe.number}),Pl=Fl.encode,Rl=e=>Object(le.pipe)(Fl.decode(e),Object(ue.fold)(Object(ce.constant)(void 0),ce.identity)),Ul=({field:e,values:t,dataView:a})=>{const n=null==a?void 0:a.getFieldByName(e);if(!a||!n)return{query:{terms:{[e]:t}},meta:{}};const i=t.map((e=>Object(Ft.buildPhraseFilter)(n,e,a)));return Object(Ft.buildCombinedFilter)(Ft.BooleanRelation.OR,i,a)},Vl=(e,t=[])=>{for(const a of e)Object(Ft.isCombinedFilter)(a)&&Vl(a.meta.params,t),a.meta.key&&t.push(a.meta.key);return t},Bl=(e,t,a)=>{const n=a.getFieldByName(Object(g.findInventoryFields)(t).id);return n?[Object(Ft.buildPhraseFilter)(n,e,a)]:[]},_l=sa()((()=>{const[e,t]=Object(i.useState)(null),[a,n]=(()=>{const[e]=Object(oa.a)(Cl),[t,a]=on()("hostsView:hostLimitSelection",Nl.limit),[n,r]=Object(me.a)({defaultState:{...Nl,dateRange:e(),limit:null!=t?t:Nl.limit},decodeUrlState:Rl,encodeUrlState:Pl,urlStateKey:"_a",writeDefaultState:!0}),[s,o]=Object(i.useReducer)(Dl,n);return dl()(s,n)||(r(s),t!==s.limit&&a(s.limit)),Object(oa.b)(Cl,n.dateRange,(e=>o({dateRange:e}))),[s,o]})(),{metricsView:r}=Object(Y.c)(),{services:s}=Object(S.c)(),o=Object(ml.a)(),{data:{query:{filterManager:l,queryString:u,timefilter:c}},telemetry:d}=s,m=Object(i.useCallback)((e=>{Object(Ft.fromKueryExpression)(e.query,o)}),[o]),g=Object(i.useCallback)((e=>{try{var a;t(null),m(null!==(a=null==e?void 0:e.query)&&void 0!==a?a:u.getQuery()),n(null!=e?e:{})}catch(a){const{query:i,...r}=null!=e?e:{};n(null!=r?r:{}),t(a)}}),[u,n,m]),p=Object(i.useMemo)((()=>{const e=(()=>{const e=Date.now();return{from:new Date(e-9e5).toISOString(),to:new Date(e).toISOString()}})(),{from:t=e.from,to:n=e.to}=Object(Xi.d)(a.dateRange);return{from:t,to:n}}),[a.dateRange]),M=Object(i.useCallback)((()=>({from:new Date(p.from).getTime(),to:new Date(p.to).getTime()})),[p]),b=Object(i.useCallback)((()=>Object(Ft.buildEsQuery)(null==r?void 0:r.dataViewReference,a.query,[...a.filters,...a.panelFilters],o)),[null==r?void 0:r.dataViewReference,a.query,a.filters,a.panelFilters,o]);return qi()((()=>{dl()(l.getFilters(),a.filters)||l.setFilters(a.filters),dl()(u.getQuery(),a.query)||u.setQuery(a.query);try{a.query&&m(a.query)}catch(e){t(e)}})),Object(i.useEffect)((()=>{const e=l.getUpdates$().pipe(Object(Ki.startWith)(void 0),Object(Ki.map)((()=>l.getFilters()))),t=u.getUpdates$().pipe(Object(Ki.startWith)(void 0),Object(Ki.map)((()=>u.getQuery()))),a=Object(Ki.combineLatest)({filters:e,query:t}).pipe(Object(Ki.skip)(1)).subscribe(g);return()=>{a.unsubscribe()}}),[l,g,u,c.timefilter]),Object(i.useEffect)((()=>{const e=M();d.reportHostsViewQuerySubmitted((e=>{const{panelFilters:t,filters:a,parsedDateRange:n,query:i,limit:r}=e;return{control_filter_fields:Vl(t),filter_fields:Vl(a),interval:(s=n.to-n.from,s<6e4?"1. Less than 1 minute":s>=6e4&&s<gl?"2. 1-5 minutes":s>=gl&&s<pl?"3. 5-10 minutes":s>=pl&&s<Ml?"4. 10-30 minutes":s>=Ml&&s<bl?"5. 30-60 minutes":s>=bl&&s<fl?"6. 1-2 hours":s>=fl&&s<yl?"7. 2-8 hours":s>=yl&&s<jl?"8. 8-12 hours":s>=jl&&s<El?"9. 12-24 hours":s>=El&&s<hl?"10. 1-2 days":s>=hl&&s<Il?"11. 2-7 days":s>=Il&&s<Ll?"12. 7-14 days":s>=Ll&&s<xl?"13. 14-30 days":s>=xl&&s<wl?"14. 30-60 days":s>=wl&&s<vl?"15. 60-90 days":s>=vl&&s<Tl?"16. 90-180 days":s>=Tl&&s<31536e6?"17. 180-365 days":"18. More than 1 year"),with_query:!!i.query,limit:r};var s})({...a,parsedDateRange:e}))}),[M,a,d]),{error:e,buildQuery:b,onSubmit:g,parsedDateRange:p,getDateRangeAsTimestamp:M,searchCriteria:a}})),[Yl,Ql]=_l;var Gl=a(124),Zl=a.n(Gl);const Wl=({id:e,name:t,extraFields:a=[]})=>{const{services:{logsShared:n}}=Object(S.c)(),{loading:r,value:s}=Zl()((()=>n.logViews.client.getLogView(zn.DEFAULT_LOG_VIEW)),[n.logViews.client]),o=kr((()=>s?{type:"log-view-inline",id:e,attributes:{name:t,description:"",logIndices:s.attributes.logIndices,logColumns:[{timestampColumn:{id:"5e7f964a-be8a-40d8-88d2-fbcfbdca0e2f"}},...a.map((e=>({fieldColumn:{id:Object(Je.v4)(),field:e}}))),{messageColumn:{id:"b645d6da-824b-4723-9a2a-e8cece1645c0"}}]}}:null)),l=Object(i.useCallback)((async e=>{if(e)return(await n.logViews.client.getResolvedLogView(e)).dataViewReference}),[n.logViews.client]);return{logViewReference:o.current,loading:r,getLogsDataView:l}},[Hl,$l]=sa()((()=>{const{asset:e}=ol(),{metricsView:t,loading:a}=Object(Y.c)(),{logViewReference:n,getLogsDataView:i,loading:r}=Wl({id:"asset-details-logs-view",name:k.i18n.translate("xpack.infra.hostsViewPage.tabs.logs.assetLogsWidgetName",{defaultMessage:'Logs from {type} "{name}"',values:{name:e.name,type:Object(g.findInventoryModel)(e.type).singularDisplayName}})}),{value:s,loading:o}=Zl()((()=>i(n)),[n,i]);return{metrics:{dataView:null==t?void 0:t.dataViewReference,loading:a},logs:{dataView:s,reference:n,loading:r||o}}})),Jl=k.i18n.translate("xpack.infra.metadataEmbeddable.filterAdded",{defaultMessage:"Filter was added"}),ql=({item:e})=>{const{metrics:t}=$l(),{searchCriteria:a}=Ql(),{services:{data:{query:{filterManager:n}},notifications:{toasts:s},telemetry:o}}=Object(S.c)(),l=Object(i.useMemo)((()=>null==a?void 0:a.filters.find((t=>t.meta.key===e.name))),[e.name,null==a?void 0:a.filters]);return l?r.a.createElement("span",null,r.a.createElement(F.EuiToolTip,{content:k.i18n.translate("xpack.infra.metadataEmbeddable.setRemoveFilterTooltip",{defaultMessage:"Remove filter"})},r.a.createElement(F.EuiButtonIcon,{size:"s",color:"text",iconType:"filter",display:"base","data-test-subj":"infraAssetDetailsMetadataRemoveFilterButton","aria-label":k.i18n.translate("xpack.infra.metadataEmbeddable.filterAriaLabel",{defaultMessage:"Filter"}),onClick:()=>{o.reportHostFlyoutFilterRemoved({field_name:l.meta.key}),n.removeFilter(l)}}))):r.a.createElement("span",null,r.a.createElement(F.EuiToolTip,{content:k.i18n.translate("xpack.infra.metadataEmbeddable.setFilterByValueTooltip",{defaultMessage:"Filter by value"})},r.a.createElement(F.EuiButtonIcon,{color:"primary",size:"s",iconType:"filter","data-test-subj":"infraAssetDetailsMetadataAddFilterButton","aria-label":k.i18n.translate("xpack.infra.metadataEmbeddable.AddFilterAriaLabel",{defaultMessage:"Add Filter"}),onClick:()=>{var a;const i=function({field:e,value:t,dataView:a,negate:n=!1}){if(!a)return null;const i=a.getFieldByName(e),r=Array.isArray(t)&&t.length>1,s=r?Object(Ft.buildPhrasesFilter)(i,t,a):Object(Ft.buildPhraseFilter)(i,Array.isArray(t)?t[0]:t,a);return s.meta.type=r?"phrases":"phrase",s.$state={store:"appState"},s.meta.value=Array.isArray(t)?r?void 0:`${t[0]}`:t,s.meta.key=e,s.meta.alias=null,s.meta.negate=n,s.meta.disabled=!1,s}({field:e.name,value:null!==(a=e.value)&&void 0!==a?a:"",dataView:t.dataView,negate:!1});i&&(o.reportHostFlyoutFilterAdded({field_name:e.name}),n.addFilters(i),s.addSuccess({title:Jl,toastLifeTimeMs:1e4}))}})))},Kl=e=>{const{values:t}=e,[a,n]=Bt()(!1),i=Array.isArray(t)?t:[t],[s,...o]=i,l=o.length>0,u=l&&!a;return r.a.createElement(F.EuiFlexGroup,{gutterSize:"xs",responsive:!1,alignItems:"baseline",wrap:!0,direction:"column"},r.a.createElement(F.EuiFlexItem,{className:"eui-textTruncate"},r.a.createElement(F.EuiToolTip,{delay:"long",content:s},r.a.createElement("p",{className:"eui-textTruncate"},s)),u&&r.a.createElement(r.a.Fragment,null," ... ",r.a.createElement(F.EuiLink,{"data-test-subj":"infraAssetDetailsExpandableContentCountMoreLink",onClick:n},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.assetDetails.tabs.metadata.seeMore",defaultMessage:"+{count} more",values:{count:o.length}})))),a&&o.map(((e,t)=>r.a.createElement(F.EuiFlexItem,{key:t},e))),l&&a&&r.a.createElement(F.EuiFlexItem,null,r.a.createElement(F.EuiLink,{"data-test-subj":"infraExpandableContentShowLessLink",onClick:n},k.i18n.translate("xpack.infra.assetDetails.tabs.metadata.seeLess",{defaultMessage:"Show less"}))))};var Xl=a(135);const eu=k.i18n.translate("xpack.infra.metadataEmbeddable.pinField",{defaultMessage:"Pin Field"}),tu=({fieldName:e,pinnedItems:t,onPinned:a})=>{const{euiTheme:n}=Object(F.useEuiTheme)();if(null!=t&&t.includes(e))return r.a.createElement("span",null,r.a.createElement(F.EuiToolTip,{content:k.i18n.translate("xpack.infra.metadataEmbeddable.unpinField",{defaultMessage:"Unpin field"})},r.a.createElement(F.EuiButtonIcon,{size:"s",color:"primary",iconType:"pinFilled","data-test-subj":"infraAssetDetailsMetadataRemovePin","aria-label":k.i18n.translate("xpack.infra.metadata.pinAriaLabel",{defaultMessage:"Pinned field"}),onClick:()=>{t&&t.includes(e)&&a((null!=t?t:[]).filter((t=>e!==t)))}})));const i=Xl.css`
    opacity: 0;
    ${F.euiCanAnimate} {
      transition: opacity ${n.animation.normal} ${n.animation.resistance};
    }

    .euiTableRow:hover &,
    &:focus-within {
      opacity: 1;
    }
  `;return r.a.createElement("span",{className:i},r.a.createElement(F.EuiToolTip,{content:eu},r.a.createElement(F.EuiButtonIcon,{color:"primary",size:"s",iconType:"pin","data-test-subj":"infraAssetDetailsMetadataAddPin","aria-label":eu,onClick:()=>{a([...t,e])}})))},au=k.i18n.translate("xpack.infra.metadataEmbeddable.field",{defaultMessage:"Field"}),nu=k.i18n.translate("xpack.infra.metadataEmbeddable.value",{defaultMessage:"Value"}),iu=k.i18n.translate("xpack.infra.metadataEmbeddable.searchForMetadata",{defaultMessage:"Search for metadata…"}),ru=k.i18n.translate("xpack.infra.metadataEmbeddable.noMetadataFound",{defaultMessage:"No metadata found."}),su=k.i18n.translate("xpack.infra.metadataEmbeddable.loading",{defaultMessage:"Loading..."}),ou=({loading:e,rows:t,onSearchChange:a,search:n,showActionsColumn:s})=>{const[o,l]=Object(i.useState)(null),[u,c]=Object(i.useState)(n),[d,m]=Object(i.useState)(t),[g,p]=on()("hostsView:pinnedMetadataRows",[]);Object(i.useMemo)((()=>{var e;g&&m(null!==(e=((e,t)=>{if(t.length>0){const{pinned:a,other:n}=e.reduce(((e,a)=>((t.includes(a.name)?e.pinned:e.other).push(a),e)),{pinned:[],other:[]});return[...a,...n]}})(t,g))&&void 0!==e?e:t)}),[t,g]);const M=Object(i.useMemo)((()=>[{field:"value",name:r.a.createElement(F.EuiIcon,{type:"pin"}),align:"center",width:"5%",sortable:!1,render:(e,t)=>r.a.createElement(tu,{fieldName:t.name,pinnedItems:null!=g?g:[],onPinned:p})},{field:"name",name:au,width:"35%",sortable:!1,render:e=>r.a.createElement(F.EuiText,{size:"s"},e)},{field:"value",name:nu,width:"50%",sortable:!1,render:(e,t)=>r.a.createElement(Kl,{values:t.value})}]),[g,p]),b=Object(i.useMemo)((()=>Object(ze.debounce)((e=>{a&&a(e),c(e)}),500)),[a]),f={onChange:Object(i.useCallback)((({queryText:e,error:t})=>{t?l(t):(l(null),b(e))}),[b]),box:{"data-test-subj":"infraAssetDetailsMetadataSearchBarInput",incremental:!0,schema:!0,placeholder:iu},query:u?F.Query.parse(u):F.Query.MATCH_ALL},y=Object(i.useMemo)((()=>s?[...M,{field:"value",name:"Actions",sortable:!1,align:"center",render:(e,t)=>r.a.createElement(ql,{item:t})}]:M),[M,s]);return r.a.createElement(F.EuiInMemoryTable,{"data-test-subj":"infraAssetDetailsMetadataTable",tableLayout:"fixed",responsiveBreakpoint:!1,columns:y,items:d,search:f,loading:e,error:o?`${o.message}`:"",message:e?r.a.createElement("div",{"data-test-subj":"infraAssetDetailsMetadataLoading"},su):r.a.createElement("div",{"data-test-subj":"infraAssetDetailsMetadataNoData"},ru)})},lu=r.a.memo((({docsLink:e,metadataField:t})=>r.a.createElement(F.EuiText,{size:"xs",onClick:e=>{e.stopPropagation()},style:{width:200}},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.assetDetails.metadata.tooltip.documentationLabel",defaultMessage:"{metadata} is populated from the last event detected for this {metadataField} for the selected date period.",values:{metadata:r.a.createElement("i",null,r.a.createElement(P.FormattedMessage,{id:"xpack.infra.assetDetails.metadata.tooltip.metadata",defaultMessage:"Metadata"})),metadataField:r.a.createElement(F.EuiLink,{"data-test-subj":"infraAssetDetailsTooltipDocumentationLink",href:e,target:"_blank"},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.assetDetails.metadata.tooltip.documentationLink",defaultMessage:"{metadataField}",values:{metadataField:t}}))}})))),uu=({assetType:e})=>{var t,a,n;const{metadata:i,loading:s}=il(),o="host"===e?"https://www.elastic.co/guide/en/ecs/current/ecs-host.html#field-host-name":"https://www.elastic.co/guide/en/ecs/current/ecs-container.html#field-container-id",l="host"===e?"host.name":"container.id";return s&&!i?r.a.createElement(F.EuiLoadingSpinner,null):null!=i&&null!==(t=i.info)&&void 0!==t&&t.timestamp?r.a.createElement(F.EuiFlexGroup,{gutterSize:"xs",alignItems:"baseline",responsive:!1},r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(F.EuiText,{size:"xs",color:"subdued"},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.assetDetails.metadata.tooltip.metadataSectionTitle",defaultMessage:"Showing metadata collected on {date} @ {time}",values:{date:r.a.createElement(P.FormattedDate,{value:new Date(null==i||null===(a=i.info)||void 0===a?void 0:a.timestamp),month:"short",day:"numeric",year:"numeric"}),time:r.a.createElement(P.FormattedTime,{value:new Date(null==i||null===(n=i.info)||void 0===n?void 0:n.timestamp),hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})}}))),r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(Tr,{iconSize:"s",iconColor:"subdued",icon:"iInCircle","data-test-subj":"infraAssetDetailsMetadataPopoverButton"},r.a.createElement(lu,{docsLink:o,metadataField:l})))):null},cu=()=>{const{refresh:e}=il();return r.a.createElement(F.EuiCallOut,{title:k.i18n.translate("xpack.infra.metadataEmbeddable.errorTitle",{defaultMessage:"Sorry, there was an error"}),color:"danger",iconType:"error","data-test-subj":"infraAssetDetailsMetadataErrorCallout"},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.metadataEmbeddable.errorMessage",defaultMessage:"There was an error loading your data. Try to {refetch} and open the host details again.",values:{refetch:r.a.createElement(F.EuiLink,{"data-test-subj":"infraMetadataReloadPageLink",onClick:e},k.i18n.translate("xpack.infra.metadataEmbeddable.errorAction",{defaultMessage:"refetch the metadata"}))}}))},du=()=>{var e;const[t,a]=Mr(),{overrides:n,asset:s}=ol(),{metadata:o,loading:l,error:u}=il(),{showActionsColumn:c=!1}=null!==(e=null==n?void 0:n.metadata)&&void 0!==e?e:{},d=Object(i.useMemo)((()=>(e=>{var t,a,n,i,r,s;if(null==e||!e.info)return[];const o=(t,a)=>{var n,i;const r=null!==(n=null==e||null===(i=e.info)||void 0===i?void 0:i[`${t}`])&&void 0!==n?n:{};if(r.hasOwnProperty(a)){const e=r[a];return"boolean"==typeof e?{name:`${t}.${a}`,value:String(e)}:"string"==typeof e||Array.isArray(e)?{name:`${t}.${a}`,value:e}:Object.entries(null!=e?e:{}).map((([e,n])=>!Array.isArray(n)&&Object(ze.isPlainObject)(n)?{name:"",value:""}:{name:`${t}.${a}.${e}`,value:n})).filter((({name:e})=>e))}return[]},l=Object.keys(null!==(t=e.info.agent)&&void 0!==t?t:{}).flatMap((e=>o("agent",e))),u=Object.keys(null!==(a=e.info.cloud)&&void 0!==a?a:{}).flatMap((e=>o("cloud",e)));return(e=>e.filter((e=>!(null==e||!e.value))))([...Object.keys(null!==(n=null==e||null===(i=e.info)||void 0===i?void 0:i.host)&&void 0!==n?n:{}).flatMap((e=>o("host",e))),...Object.keys(null!==(r=null==e||null===(s=e.info)||void 0===s?void 0:s.container)&&void 0!==r?r:{}).flatMap((e=>o("container",e))),...l,...u])})(o)),[o]),m=Object(i.useCallback)((e=>{a({metadataSearch:e})}),[a]);return u&&!l?r.a.createElement(cu,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(uu,{assetType:s.type}),r.a.createElement(F.EuiHorizontalRule,{margin:"m"}),r.a.createElement(ou,{search:null==t?void 0:t.metadataSearch,onSearchChange:m,showActionsColumn:c,rows:d,loading:l}))},mu=e=>e.replace(/([+\-=!\(\)\{\}\[\]^"~*?:\\/!]|&&|\|\|)/g,"\\$1");var gu=a(45);const pu={subdued:Object(Xl.css)("fill:",Un.euiThemeVars.euiTextSubduedColor,";",""),accent:Object(Xl.css)("fill:",Un.euiThemeVars.euiColorVis0,";","")},Mu=({title:e,titleId:t,...a})=>Object(ea.jsx)("svg",J()({viewBox:"0 0 30 22",width:30,height:22,fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t},a),e?Object(ea.jsx)("title",{id:t},e):null,Object(ea.jsx)("path",{d:"M23.434 16.456c.211.553.406.982.58 1.277l.073.119c.038.058.072.105.101.141.52-.04 1.07-.248 2.13-.77l.235-.117C28.198 16.283 28.953 16 30 16v2c-.507 0-.988.146-1.89.571l-1.209.592C25.621 19.78 24.924 20 24 20l-.174-.005c-1.251-.076-1.805-1.036-2.994-4.993L22.93 15c.18.563.335 1.012.505 1.455zM6 1c1.269 0 1.966.69 3.492 2.939l.774 1.146.272.387.26.358C11.419 6.658 11.788 7 12 7c.466 0 .967-.252 1.99-.997l.891-.659.458-.325C16.424 4.272 17.093 4 18 4c1.377 0 1.925.863 3.168 4.999L19.07 9a26.766 26.766 0 00-.505-1.457c-.24-.631-.46-1.1-.652-1.395l-.051-.074-.045-.06c-.452.064-.988.375-2.007 1.13l-.691.512-.458.325C13.576 8.728 12.907 9 12 9c-1.269 0-1.966-.69-3.492-2.939l-.774-1.146-.272-.387-.26-.358C6.581 3.342 6.213 3 6 3c-.294 0-.885.651-2.017 2.33l-.491.731-.326.475C1.859 8.409 1.175 9 0 9V7c.294 0 .885-.651 2.017-2.33l.491-.731.326-.475C4.141 1.591 4.825 1 6 1z",className:pu.subdued}),Object(ea.jsx)("path",{d:"M0 21c1.123 0 1.852-.477 3.295-1.885l.758-.75.345-.33C5.208 17.275 5.648 17 6 17c.466 0 .967.252 1.99.997l.891.659.458.325C10.424 19.728 11.093 20 12 20c1.325 0 1.996-.772 3.546-3.444l.593-1.028.385-.646C17.328 13.562 17.796 13 18 13h6c1.333 0 1.978-.795 3.452-3.676l.692-1.37.358-.69C29.333 5.7 29.831 5 30 5V3c-1.333 0-1.978.795-3.452 3.676l-.692 1.37-.358.69C24.667 10.3 24.169 11 24 11h-6c-1.325 0-1.996.772-3.546 3.444l-.593 1.028-.385.646C12.672 17.438 12.204 18 12 18c-.466 0-.967-.252-1.99-.997l-.891-.659-.458-.325C7.576 15.272 6.907 15 6 15c-1.123 0-1.852.477-3.295 1.885l-.758.75-.345.33C.792 18.725.352 19 0 19v2z",className:pu.accent}));var bu=a(104),fu=a(121);const yu=sa()((function(e){const{hostTerm:t,to:a}=e,{metricsView:n}=Object(Y.c)();return{hostTerm:t,indexPattern:null==n?void 0:n.indices,to:a}})),[ju,Eu]=yu;var hu=a(23);const Iu=({metricName:e})=>{const{getDateRangeInTimestamp:t}=xr(),a=new Date(t().to);return r.a.createElement(Tr,{iconSize:"s",iconColor:"subdued",icon:"questionInCircle","data-test-subj":"infraAssetDetailsMetricNotAvailablePopoverButton"},r.a.createElement(F.EuiText,{size:"xs",color:"subdued"},r.a.createElement("p",null,r.a.createElement(P.FormattedMessage,{id:"xpack.infra.assetDetails.processes.tooltip.metricNotAvailableTitle",defaultMessage:"No {metric} value detected for the 1 minute preceding {date} @ {time}.",values:{date:r.a.createElement(P.FormattedDate,{value:a,month:"short",day:"numeric",year:"numeric"}),time:r.a.createElement(P.FormattedTime,{value:a,hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}),metric:e}})),r.a.createElement("p",null,r.a.createElement(P.FormattedMessage,{id:"xpack.infra.assetDetails.processes.tooltip.metricNotAvailableActionText",defaultMessage:"Try changing the selected time period or check the data collection method for this host."}))))},Lu=({metricName:e})=>r.a.createElement(Nu,{icon:Mu,message:r.a.createElement(F.EuiFlexGroup,{gutterSize:"xs",alignItems:"center",justifyContent:"center",responsive:!1},r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.metrics.nodeDetails.processes.charts.noDataLabel",defaultMessage:"No results found"})),r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(Iu,{metricName:e})))}),xu=({command:e,hasCpuData:t,hasMemoryData:a})=>{const{request$:n}=al(),{loading:s,error:o,response:l}=function(e,t){const[a,n]=Object(i.useState)(!1),{hostTerm:r,indexPattern:s,to:o}=Eu(),{error:l,loading:u,response:c,makeRequest:d}=Object(Ko.a)("/api/metrics/process_list/chart","POST",JSON.stringify({hostTerm:r,indexPattern:s,to:o,command:e}),(e=>Object(le.pipe)(fu.l.decode(e),Object(ue.fold)(Object(At.d)(At.a),ce.identity))),void 0,void 0,!0);return Object(i.useEffect)((()=>n(!0)),[l]),Object(i.useEffect)((()=>n(!1)),[u]),Object(i.useEffect)((()=>{t?t.next(d):d()}),[d,t]),{error:a,loading:u,response:c,makeRequest:d}}(e,n),u=s||!l,c=o?r.a.createElement(F.EuiEmptyPrompt,{iconType:"warning",title:r.a.createElement(F.EuiText,null,Cu)}):u?r.a.createElement(F.EuiLoadingChart,null):t?r.a.createElement(wu,{timeseries:l.cpu,color:qe.a.color2,label:vu}):r.a.createElement(Lu,{metricName:vu}),d=o?r.a.createElement(F.EuiEmptyPrompt,{iconType:"warning",title:r.a.createElement(F.EuiText,null,Cu)}):u?r.a.createElement(F.EuiLoadingChart,null):a?r.a.createElement(wu,{timeseries:l.memory,color:qe.a.color0,label:Tu}):r.a.createElement(Lu,{metricName:Su});return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.EuiFlexItem,null,r.a.createElement(F.EuiDescriptionListTitle,null,vu),r.a.createElement(F.EuiDescriptionListDescription,null,c)),r.a.createElement(F.EuiFlexItem,null,r.a.createElement(F.EuiDescriptionListTitle,null,Tu),r.a.createElement(F.EuiDescriptionListDescription,null,d)))},wu=({timeseries:e,color:t,label:a})=>{const n=Object(Be.a)(),s={color:t,aggregation:"avg",label:a},o=Object(i.useMemo)((()=>{var t,a;if(!e)return()=>"";const n=null===(t=Object(ze.first)(e.rows))||void 0===t?void 0:t.timestamp,i=null===(a=Object(ze.last)(e.rows))||void 0===a?void 0:a.timestamp;return null==n||null==i?e=>`${e}`:Object(Re.niceTimeFormatter)([n,i])}),[e]),l=Object(gu.b)("percent"),u=Object(Mt.a)(e,[s],!1),c=u?{max:1.1*u.max,min:u.min}:{max:0,min:0};return r.a.createElement(Du,null,r.a.createElement(Re.Chart,null,r.a.createElement(yt.a,{type:hu.a.area,metric:s,id:"0",series:e,stack:!1}),r.a.createElement(Re.Axis,{id:"timestamp",position:Re.Position.Bottom,showOverlappingTicks:!0,tickFormat:o}),r.a.createElement(Re.Axis,{id:"values",position:Re.Position.Left,tickFormat:l,domain:c,ticks:6,gridLine:{visible:!0}}),r.a.createElement(Re.Tooltip,{headerFormatter:({value:e})=>Ve()(e).format("Y-MM-DD HH:mm:ss.SSS")}),r.a.createElement(Re.Settings,{baseTheme:n.baseTheme,theme:n.theme,locale:k.i18n.getLocale()})))},vu=k.i18n.translate("xpack.infra.metrics.nodeDetails.processes.expandedRowLabelCPU",{defaultMessage:"CPU"}),Tu=k.i18n.translate("xpack.infra.metrics.nodeDetails.processes.expandedRowLabelMemory",{defaultMessage:"Memory"}),Su=k.i18n.translate("xpack.infra.metrics.nodeDetails.processes.expandedRowMemory",{defaultMessage:"memory"}),Cu=k.i18n.translate("xpack.infra.metrics.nodeDetails.processes.failedToLoadChart",{defaultMessage:"Unable to load chart"});var Nu=an()(bu.EmptyPlaceholder)`
       {
        height: 140px;
      }
    `,Du=an()("div").withConfig({displayName:"_StyledDiv",componentId:"sc-1r47zbk-0"})(["{width:100%;height:140px;}"]);const Ou=({command:e})=>{const{observabilityAIAssistant:t}=Object(S.c)().services,a=Object(i.useMemo)((()=>{if(e&&t)return t.getContextualInsightMessages({message:"I am a software engineer. I am trying to understand what this process running on my\n      machine does.",instructions:`Your task is to first describe what the process is and what its general use cases are. If I also provide you\n      with the arguments to the process you should then explain its arguments and how they influence the behaviour\n      of the process. If I do not provide any arguments then explain the behaviour of the process when no arguments are\n      provided.\n      \n      Here is an example with arguments.\n      Process: metricbeat -c /etc/metricbeat.yml -d autodiscover,kafka -e -system.hostfs=/hostfs\n      Explanation: Metricbeat is part of the Elastic Stack. It is a lightweight shipper that you can install on your\n      servers to periodically collect metrics from the operating system and from services running on the server.\n      Use cases for Metricbeat generally revolve around infrastructure monitoring. You would typically install\n      Metricbeat on your servers to collect metrics from your systems and services. These metrics are then\n      used for performance monitoring, anomaly detection, system status checks, etc.\n      Here is a breakdown of the arguments used:\n      * -c /etc/metricbeat.yml: The -c option is used to specify the configuration file for Metricbeat. In\n      this case, /etc/metricbeat.yml is the configuration file. This file contains configurations for what\n      metrics to collect and where to send them (e.g., to Elasticsearch or Logstash).\n      * -d autodiscover,kafka: The -d option is used to enable debug output for selected components. In\n      this case, debug output is enabled for autodiscover and kafka components. The autodiscover feature\n      allows Metricbeat to automatically discover services as they get started and stopped in your environment,\n      and kafka is presumably a monitored service from which Metricbeat collects metrics.\n      * -e: The -e option is used to log to stderr and disable syslog/file output. This is useful for debugging.\n      * -system.hostfs=/hostfs: The -system.hostfs option is used to set the mount point of the host’s\n      filesystem for use in monitoring a host from within a container. In this case, /hostfs is the mount\n      point. When running Metricbeat inside a container, filesystem metrics would be for the container by\n      default, but with this option, Metricbeat can get metrics for the host system.\n      Here is an example without arguments.\n      Process: metricbeat\n      Explanation: Metricbeat is part of the Elastic Stack. It is a lightweight shipper that you can install on your\n      servers to periodically collect metrics from the operating system and from services running on the server.\n      Use cases for Metricbeat generally revolve around infrastructure monitoring. You would typically install\n      Metricbeat on your servers to collect metrics from your systems and services. These metrics are then\n      used for performance monitoring, anomaly detection, system status checks, etc.\n      Running it without any arguments will start the process with the default configuration file, typically\n      located at /etc/metricbeat/metricbeat.yml. This file specifies the metrics to be collected and where\n      to ship them to.\n      Now explain this process to me.\n      Process: ${e}\n      Explanation:`})}),[e,t]);return r.a.createElement(r.a.Fragment,null,null!=t&&t.ObservabilityAIAssistantContextualInsight&&a?r.a.createElement(F.EuiFlexGroup,null,r.a.createElement(F.EuiFlexItem,null,r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(t.ObservabilityAIAssistantContextualInsight,{title:Au,messages:a})))):null)},ku=({cells:e,item:t,supportAIAssistant:a=!1})=>{const[n,i]=Bt()(!1);return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.EuiTableRow,null,r.a.createElement(F.EuiTableRowCell,{isExpander:!0,textOnly:!1},r.a.createElement(F.EuiButtonEmpty,{"data-test-subj":"infraProcessRowButton",iconType:n?"arrowDown":"arrowRight","aria-expanded":n,onClick:i})),e),r.a.createElement(F.EuiTableRow,{isExpandable:!0,isExpandedRow:n},n&&r.a.createElement(Ru,null,r.a.createElement(F.EuiSpacer,{size:"s"}),r.a.createElement(zu,null,r.a.createElement(F.EuiFlexGroup,{gutterSize:"s"},r.a.createElement(F.EuiFlexItem,null,r.a.createElement("div",null,r.a.createElement(F.EuiDescriptionListTitle,null,k.i18n.translate("xpack.infra.metrics.nodeDetails.processes.expandedRowLabelCommand",{defaultMessage:"Command"})),r.a.createElement(F.EuiDescriptionListDescription,null,r.a.createElement(Pu,null,t.command)))),t.apmTrace&&r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(F.EuiButton,{"data-test-subj":"infraProcessRowViewTraceInApmButton"},k.i18n.translate("xpack.infra.metrics.nodeDetails.processes.viewTraceInAPM",{defaultMessage:"View trace in APM"})))),r.a.createElement(F.EuiFlexGrid,{columns:2,gutterSize:"s",responsive:!1},r.a.createElement(F.EuiFlexItem,null,r.a.createElement(F.EuiDescriptionListTitle,null,k.i18n.translate("xpack.infra.metrics.nodeDetails.processes.expandedRowLabelPID",{defaultMessage:"PID"})),r.a.createElement(F.EuiDescriptionListDescription,null,r.a.createElement(Fu,null,t.pid))),r.a.createElement(F.EuiFlexItem,null,r.a.createElement(F.EuiDescriptionListTitle,null,k.i18n.translate("xpack.infra.metrics.nodeDetails.processes.expandedRowLabelUser",{defaultMessage:"User"})),r.a.createElement(F.EuiDescriptionListDescription,null,r.a.createElement(Fu,null,t.user))),r.a.createElement(xu,{command:t.command,hasCpuData:null!==t.cpu,hasMemoryData:null!==t.memory})),a&&r.a.createElement(Ou,{command:t.command})))))},Au=k.i18n.translate("xpack.infra.hostFlyout.explainProcessMessageTitle",{defaultMessage:"What's this process?"}),zu=Object(R.euiStyled)(F.EuiDescriptionList).attrs({compressed:!0})`
  width: 100%;
`,Fu=Object(R.euiStyled)(F.EuiCode).attrs({transparentBackground:!0})`
  padding: 0 !important;
  & code.euiCodeBlock__code {
    white-space: nowrap !important;
    vertical-align: middle;
  }
`,Pu=Object(R.euiStyled)(F.EuiCode).attrs({transparentBackground:!0})`
  padding: 0 !important;
  margin-bottom: ${e=>e.theme.eui.euiSizeS};
`,Ru=Object(R.euiStyled)(F.EuiTableRowCell).attrs({textOnly:!1,colSpan:6})`
  padding-top: ${e=>e.theme.eui.euiSizeM} !important;
  padding-bottom: ${e=>e.theme.eui.euiSizeM} !important;
  background-color: ${e=>e.theme.eui.euiColorLightestShade};
`,Uu={running:k.i18n.translate("xpack.infra.metrics.nodeDetails.processes.stateRunning",{defaultMessage:"Running"}),sleeping:k.i18n.translate("xpack.infra.metrics.nodeDetails.processes.stateSleeping",{defaultMessage:"Sleeping"}),dead:k.i18n.translate("xpack.infra.metrics.nodeDetails.processes.stateDead",{defaultMessage:"Dead"}),stopped:k.i18n.translate("xpack.infra.metrics.nodeDetails.processes.stateStopped",{defaultMessage:"Stopped"}),idle:k.i18n.translate("xpack.infra.metrics.nodeDetails.processes.stateIdle",{defaultMessage:"Idle"}),zombie:k.i18n.translate("xpack.infra.metrics.nodeDetails.processes.stateZombie",{defaultMessage:"Zombie"}),unknown:k.i18n.translate("xpack.infra.metrics.nodeDetails.processes.stateUnknown",{defaultMessage:"Unknown"})},Vu=["running","sleeping","stopped","idle","dead","zombie","unknown"],Bu=({state:e})=>{switch(e){case"running":return r.a.createElement(F.EuiBadge,{color:"success"},Uu.running);case"sleeping":return r.a.createElement(F.EuiBadge,{color:"default"},Uu.sleeping);case"dead":return r.a.createElement(F.EuiBadge,{color:"danger"},Uu.dead);case"stopped":return r.a.createElement(F.EuiBadge,{color:"warning"},Uu.stopped);case"idle":return r.a.createElement(F.EuiBadge,{color:"primary"},Uu.idle);case"zombie":return r.a.createElement(F.EuiBadge,{color:"danger"},Uu.zombie);default:return r.a.createElement(F.EuiBadge,{color:"hollow"},Uu.unknown)}},_u=k.i18n.translate("xpack.infra.assetDetails.notApplicableLabel",{defaultMessage:"N/A"}),Yu={cpu:k.i18n.translate("xpack.infra.metricsGroup.cpu",{defaultMessage:"CPU"}),memory:k.i18n.translate("xpack.infra.metricsGroup.memory",{defaultMessage:"Memory"}),network:k.i18n.translate("xpack.infra.metricsGroup.network",{defaultMessage:"Network"}),disk:k.i18n.translate("xpack.infra.metricsGroup.disk",{defaultMessage:"Disk"}),log:k.i18n.translate("xpack.infra.metricsGroup.log",{defaultMessage:"Log Rate"}),kubernetes:k.i18n.translate("xpack.infra.metricsGroup.kubernetes",{defaultMessage:"Kubernetes"})},Qu={cpu:k.i18n.translate("xpack.infra.metricsGroup.containerCpu",{defaultMessage:"CPU"}),memory:k.i18n.translate("xpack.infra.metricsGroup.containerMemory",{defaultMessage:"Memory"}),network:k.i18n.translate("xpack.infra.metricsGroup.containerNetwork",{defaultMessage:"Network"}),disk:k.i18n.translate("xpack.infra.metricsGroup.containerDisk",{defaultMessage:"Disk"})},Gu=({processList:e,currentTime:t,isLoading:a,sortBy:n,error:s,setSortBy:o,clearSearchBar:l})=>{const{updateSortableProperties:u}=function(e,t,a){const[n]=Object(i.useState)(new F.SortableProperties(e,"cpu"));return{updateSortableProperties:Object(i.useCallback)((e=>{n.sortOn(e),a(Object(ze.omit)(n.getSortedProperty(),"getValue"))}),[n,a])}}([{name:"startTime",getValue:e=>Date.parse(e.startTime),isAscending:!0},{name:"cpu",getValue:e=>e.cpu,isAscending:!1},{name:"memory",getValue:e=>e.memory,isAscending:!1}],0,o),c=Object(i.useMemo)((()=>e.sort(((e,t)=>Vu.indexOf(e.state)-Vu.indexOf(t.state)))),[e]);return a||0!==c.length?r.a.createElement(F.EuiTable,{"data-test-subj":"infraAssetDetailsProcessesTable",responsiveBreakpoint:!1},r.a.createElement(F.EuiTableHeader,null,r.a.createElement(F.EuiTableHeaderCell,{width:24}),qu.map((e=>{var t;return r.a.createElement(F.EuiTableHeaderCell,{key:`${String(e.field)}-header`,align:null!==(t=e.align)&&void 0!==t?t:F.LEFT_ALIGNMENT,width:e.width,onSort:e.sortable?()=>u(e.field):void 0,isSorted:n.name===e.field,isSortAscending:n.name===e.field&&n.isAscending},e.name)}))),r.a.createElement(Xu,null,a&&r.a.createElement(F.EuiProgress,{size:"xs",color:"primary",position:"absolute"}),a&&0===c.length&&!s&&r.a.createElement(Zu,null,r.a.createElement(P.FormattedMessage,{id:"xpack.infra.assetDetails.processes.loading",defaultMessage:"Loading..."})),s?r.a.createElement(Zu,null,r.a.createElement(F.EuiIcon,{type:"minusInCircle",color:"danger"})," ",s):r.a.createElement(Wu,{items:c,currentTime:t}))):r.a.createElement(F.EuiEmptyPrompt,{iconType:"search",titleSize:"s",title:r.a.createElement("strong",null,r.a.createElement(P.FormattedMessage,{id:"xpack.infra.metrics.nodeDetails.noProcesses",defaultMessage:"No processes found"})),body:r.a.createElement(F.EuiText,{size:"s"},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.metrics.nodeDetails.noProcessesBody",defaultMessage:"Try modifying your filter. Only processes that are within the configured {metricbeatDocsLink} will display here.",values:{metricbeatDocsLink:r.a.createElement(F.EuiLink,{"data-test-subj":"infraProcessesTableTopNByCpuOrMemoryLink",href:"https://www.elastic.co/guide/en/beats/metricbeat/current/metricbeat-module-system.html",target:"_blank"},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.metrics.nodeDetails.noProcessesBody.metricbeatDocsLinkText",defaultMessage:"top N by CPU or Memory"}))}})),actions:r.a.createElement(F.EuiButton,{"data-test-subj":"infraProcessesTableClearFiltersButton",onClick:l},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.metrics.nodeDetails.noProcessesClearFilters",defaultMessage:"Clear filters"}))})},Zu=({children:e})=>{const{euiTheme:t}=Object(F.useEuiTheme)();return r.a.createElement(F.EuiTableRow,null,r.a.createElement(F.EuiTableRowCell,{"data-test-subj":"infraAssetDetailsProcessesSearchInputError",style:{paddingTop:`${t.size.s}`,paddingBottom:`${t.size.s}`},align:"center",colSpan:qu.length+1,mobileOptions:{width:"100%"},textOnly:!0},e))},Wu=({items:e,currentTime:t})=>r.a.createElement(r.a.Fragment,null,e.map(((e,a)=>{const n=qu.map((n=>{var i,s;return r.a.createElement(F.EuiTableRowCell,{key:`${String(n.field)}-${a}`,mobileOptions:{header:n.name},align:null!==(i=n.align)&&void 0!==i?i:F.LEFT_ALIGNMENT,textOnly:null===(s=n.textOnly)||void 0===s||s,truncateText:n.truncateText},n.render?n.render(e[n.field],t):e[n.field])}));return r.a.createElement(ku,{cells:n,item:e,key:`row-${a}`,supportAIAssistant:!0})}))),Hu=36e5,$u=({startTime:e,currentTime:t})=>{let a=t-e;const n=Math.floor(a/Hu);a-=n*Hu;const i=Math.floor(a/6e4);a-=6e4*i;const s=Math.floor(a/1e3);a-=1e3*s;const o=n?`${n}:`:"",l=i<10?`0${i}:`:`${i}:`,u=s<10?`0${s}`:s;return r.a.createElement(r.a.Fragment,null,`${o}${l}${u}`)},Ju=k.i18n.translate("xpack.infra.metrics.nodeDetails.processes.columnLabelCPU",{defaultMessage:"CPU"}),qu=[{field:"state",name:k.i18n.translate("xpack.infra.metrics.nodeDetails.processes.columnLabelState",{defaultMessage:"State"}),sortable:!1,render:e=>r.a.createElement(Bu,{state:e}),width:84,textOnly:!1},{field:"command",name:k.i18n.translate("xpack.infra.metrics.nodeDetails.processes.columnLabelCommand",{defaultMessage:"Command"}),sortable:!1,width:"40%",truncateText:!0,render:e=>r.a.createElement(Ku,{command:e})},{field:"startTime",name:k.i18n.translate("xpack.infra.metrics.nodeDetails.processes.columnLabelTime",{defaultMessage:"Time"}),align:F.RIGHT_ALIGNMENT,sortable:!0,render:(e,t)=>r.a.createElement($u,{startTime:e,currentTime:t})},{field:"cpu",name:Ju,sortable:!0,render:e=>null===e?r.a.createElement(F.EuiFlexGroup,{gutterSize:"xs"},r.a.createElement(F.EuiFlexItem,{grow:!1},_u),r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(Iu,{metricName:Ju}))):gu.a.percent(e)},{field:"memory",name:k.i18n.translate("xpack.infra.metrics.nodeDetails.processes.columnLabelMemory",{defaultMessage:"Mem."}),sortable:!0,render:e=>null===e?r.a.createElement(F.EuiFlexGroup,{gutterSize:"xs"},r.a.createElement(F.EuiFlexItem,{grow:!1},_u),r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(Iu,{metricName:k.i18n.translate("xpack.infra.metrics.nodeDetails.processes.memory",{defaultMessage:"memory"})}))):gu.a.percent(e)}],Ku=({command:e})=>{const t=Object(F.useEuiTheme)();return r.a.createElement(ec,null,r.a.createElement(tc,{transparentBackground:!0,$_css:t.euiTheme.colors.text,$_css2:t.euiTheme.font.weight.medium},e))};var Xu=an()(F.EuiTableBody)`
          position: relative;
          & .euiTableCellContent {
            padding-top: 0;
            padding-bottom: 0;
          }
        `,ec=an()("div")`
        white-space: pre;
        overflow: hidden;
        text-overflow: ellipsis;
      `,tc=an()(F.EuiCode).withConfig({displayName:"_StyledEuiCode",componentId:"sc-1qhh6ix-0"})(["color:",";font-weight:",";"],(e=>e.$_css),(e=>e.$_css2));const ac={total:_u,running:_u,sleeping:_u,dead:_u,stopped:_u,idle:_u,zombie:_u,unknown:_u},nc=({processSummary:e,isLoading:t})=>{const a=Object(i.useMemo)((()=>({...ac,...Object.fromEntries(Object.entries(e).filter((([e,t])=>!!t)))})),[e]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.EuiFlexGroup,{gutterSize:"m",responsive:!1,wrap:!0},Object.entries(a).map((([e,a])=>r.a.createElement(F.EuiFlexItem,{key:e},r.a.createElement(F.EuiDescriptionList,{"data-test-subj":"infraAssetDetailsProcessesSummaryTableItem",compressed:!0},r.a.createElement(rc,null,ic[e]),r.a.createElement(F.EuiDescriptionListDescription,null,t?r.a.createElement(F.EuiLoadingSpinner,{size:"m"}):a)))))),r.a.createElement(F.EuiHorizontalRule,{margin:"m"}))},ic={total:k.i18n.translate("xpack.infra.metrics.nodeDetails.processes.headingTotalProcesses",{defaultMessage:"Total processes"}),...Uu};var rc=an()(F.EuiDescriptionListTitle).withConfig({displayName:"_StyledEuiDescriptionListTitle",componentId:"sc-1tknpnk-0"})(["white-space:nowrap;"]);const sc=()=>{const{getDateRangeInTimestamp:e}=xr(),t=new Date(e().to);return r.a.createElement(F.EuiText,{size:"xs",color:"subdued"},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.assetDetails.overview.processesSectionTitle",defaultMessage:"Showing process data collected for the 1 minute preceding {date} @ {time}",values:{date:r.a.createElement(P.FormattedDate,{value:t,month:"short",day:"numeric",year:"numeric"}),time:r.a.createElement(P.FormattedTime,{value:t,hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})}}))},oc=r.a.memo((()=>r.a.createElement(Tr,{"aria-label":k.i18n.translate("xpack.infra.metrics.nodeDetails.processesHeader.tooltipLabel",{defaultMessage:"More info"}),iconSize:"m",icon:"iInCircle","data-test-subj":"infraAssetDetailsProcessesPopoverButton"},r.a.createElement(F.EuiText,{size:"xs",style:{width:300}},r.a.createElement("p",null,r.a.createElement(P.FormattedMessage,{id:"xpack.infra.assetDetails.processes.tooltip.topProcesses",defaultMessage:"The processes listed are based on an aggregation of the top CPU and the top memory consuming processes. It does not show all processes."})),r.a.createElement("p",null,r.a.createElement(P.FormattedMessage,{id:"xpack.infra.assetDetails.processes.tooltip.label",defaultMessage:"The number of top processes is configurable in the {systemIntegration}.",values:{systemIntegration:r.a.createElement(F.EuiLink,{"data-test-subj":"infraAssetDetailsTooltipSystemIntegrationDocumentationLink",href:"https://docs.elastic.co/en/integrations/system",target:"_blank"},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.assetDetails.processes.tooltip.systemIntegrationDocumentationLink",defaultMessage:"System Integration"}))}})),r.a.createElement("p",null,r.a.createElement(P.FormattedMessage,{id:"xpack.infra.assetDetails.processes.tooltip.documentationLabel",defaultMessage:"Please see the following {documentation} for more details on processes.",values:{documentation:r.a.createElement(F.EuiLink,{"data-test-subj":"infraAssetDetailsTooltipDocumentationLink",href:"https://www.elastic.co/guide/en/observability/current/view-infrastructure-metrics.html",target:"_blank"},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.assetDetails.processes.tooltip.documentationLink",defaultMessage:"documentation"}))}})))))),lc=Object.entries(Uu).map((([e,t])=>({value:e,view:t}))),uc=()=>{var e,t,a,n;const s=Object(i.useRef)(null),{request$:o}=al(),{getDateRangeInTimestamp:l}=xr(),[u,c]=Mr(),{asset:d}=ol(),[m,p]=Object(i.useState)(null!==(e=null==u?void 0:u.processSearch)&&void 0!==e?e:""),[M,b]=Object(i.useState)(null),[f,y]=Object(i.useState)((()=>m?F.Query.parse(m):F.Query.MATCH_ALL)),j=Object(i.useMemo)((()=>l().to),[l]),E=ll(s,{currentTimestamp:j}),[h,I]=Object(i.useState)({name:"cpu",isAscending:!1}),L=Object(i.useMemo)((()=>{var e;const t=null!==(e=Object(g.getFieldByType)(d.type))&&void 0!==e?e:d.type;return{[t]:d.name}}),[d.name,d.type]),{loading:x,error:w,response:v,makeRequest:T}=function(e,t,a,n,r){const{metricsView:s}=Object(Y.c)(),o="runtimeLength"===a.name?{...a,name:"startTime"}:a,{error:l,loading:u,response:c,makeRequest:d}=Object(Ko.a)("/api/metrics/process_list","POST",JSON.stringify({hostTerm:e,indexPattern:null==s?void 0:s.indices,to:t,sortBy:o,searchFilter:n}),(e=>Object(le.pipe)(fu.m.decode(e),Object(ue.fold)(Object(At.d)(At.a),ce.identity))),void 0,void 0,!0);return Object(i.useEffect)((()=>{r?r.next(d):d()}),[d,r]),{error:l&&l.message||null,loading:u,response:c,makeRequest:d}}(L,E.currentTimestamp,h,(e=>{if(""===e.trim())return[{match_all:{}}];const t=e.split(" ").map((e=>e.trim())).filter(Boolean),a=t.filter((e=>e.startsWith("state=")));return[...t.filter((e=>!e.startsWith("state="))).map((e=>({query_string:{fields:["system.process.cmdline"],query:`*${mu(e)}*`,minimum_should_match:1}}))),...a.map((e=>({match:{"system.process.state":e.replace("state=","")}})))]})(m),o),S=Object(i.useMemo)((()=>Object(ze.debounce)((e=>{p(e)}),500)),[]),C=Object(i.useCallback)((({query:e,queryText:t,error:a})=>{a?b(a):(c({processSearch:t}),b(null),y(e),S(t))}),[S,c]),N=Object(i.useCallback)((()=>{y(F.Query.MATCH_ALL),c({processSearch:""}),b(null),p("")}),[c]);return r.a.createElement(ju,{hostTerm:L,to:E.currentTimestamp},r.a.createElement(F.EuiFlexGroup,{direction:"column",gutterSize:"m",ref:s},r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(nc,{isLoading:x&&!v,processSummary:null!==(t=w?null:null==v?void 0:v.summary)&&void 0!==t?t:{total:0}})),r.a.createElement(F.EuiFlexGroup,{direction:"column",gutterSize:"xs"},r.a.createElement(F.EuiFlexGroup,{gutterSize:"xs",alignItems:"center"},r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(F.EuiTitle,{"data-test-subj":"infraAssetDetailsTopProcessesTitle",size:"xxs"},r.a.createElement("span",null,r.a.createElement(P.FormattedMessage,{id:"xpack.infra.metrics.nodeDetails.processesHeader",defaultMessage:"Top processes"})))),r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(oc,null))),!w&&r.a.createElement(F.EuiFlexGroup,{alignItems:"flexStart"},r.a.createElement(F.EuiFlexItem,null,x&&!v?r.a.createElement(F.EuiLoadingSpinner,null):(null!==(a=null==v?void 0:v.processList)&&void 0!==a?a:[]).length>0&&r.a.createElement(sc,null)))),r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(F.EuiSearchBar,{query:f,onChange:C,box:{"data-test-subj":"infraAssetDetailsProcessesSearchBarInput",incremental:!0,placeholder:k.i18n.translate("xpack.infra.metrics.nodeDetails.searchForProcesses",{defaultMessage:"Search for processes…"})},filters:[{type:"field_value_selection",field:"state",name:"State",operator:"exact",multiSelect:!1,options:lc}]})),r.a.createElement(F.EuiFlexItem,{grow:!1},w?r.a.createElement(F.EuiEmptyPrompt,{iconType:"warning",title:r.a.createElement("h4",null,r.a.createElement(P.FormattedMessage,{id:"xpack.infra.metrics.nodeDetails.processListError",defaultMessage:"Unable to load process data"})),actions:r.a.createElement(F.EuiButton,{"data-test-subj":"infraAssetDetailsTabComponentTryAgainButton",color:"primary",fill:!0,onClick:T},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.metrics.nodeDetails.processListRetry",defaultMessage:"Try again"}))}):r.a.createElement(Gu,{currentTime:E.currentTimestamp,isLoading:x||!v,processList:null!==(n=null==v?void 0:v.processList)&&void 0!==n?n:[],sortBy:h,error:null==M?void 0:M.message,setSortBy:I,clearSearchBar:N}))))};function cc(){return r.a.createElement(F.EuiEmptyPrompt,{color:"warning",iconType:"warning",titleSize:"xs",title:r.a.createElement("h2",null,k.i18n.translate("xpack.infra.profiling.loadErrorTitle",{defaultMessage:"Unable to load the Profiling data"})),body:r.a.createElement("p",null,k.i18n.translate("xpack.infra.profiling.loadErrorBody",{defaultMessage:"There was an error while trying to load profiling data. Try refreshing the page"}))})}const dc="https://ela.st/profiling-feedback";function mc({hostname:e,from:t,to:a,profilingLinkLocator:n,profilingLinkLabel:i}){const s=n.getRedirectUrl({kuery:`${he.c}:"${e}"`,rangeFrom:t,rangeTo:a});return r.a.createElement(F.EuiFlexGroup,{justifyContent:"flexEnd"},r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(F.EuiLink,{"data-test-subj":"infraFlamegraphTestLink",href:s},i)),r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(F.EuiLink,{"data-test-subj":"infraFlamegraphTestLink",href:dc,external:!0,target:"_blank"},k.i18n.translate("xpack.infra.flamegraph.profilingFeedbackLink",{defaultMessage:"Give feedback"}))))}function gc(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.EuiSpacer,null),r.a.createElement(F.EuiEmptyPrompt,{color:"subdued",iconType:"search",titleSize:"xs",title:r.a.createElement("h2",null,k.i18n.translate("xpack.infra.profiling.emptyDataPromptTitle",{defaultMessage:"No data found"})),body:r.a.createElement("p",null,k.i18n.translate("xpack.infra.profiling.emptyDataPromptBody",{defaultMessage:"Make sure this host is sending profiling data or try selecting a different date range."}))}))}function pc({kuery:e}){const{services:t}=Object(S.c)(),{asset:a}=ol(),{activeTabId:n}=Fr(),{dateRange:s,getDateRangeInTimestamp:o}=xr(),{from:l,to:u}=o(),c=t.observabilityShared.locators.profiling.flamegraphLocator,d=k.i18n.translate("xpack.infra.flamegraph.profilingAppFlamegraphLink",{defaultMessage:"Go to Universal Profiling Flamegraph"}),m=Object(i.useMemo)((()=>({kuery:e,from:l,to:u})),[l,e,u]),{error:g,loading:p,response:M}=function({params:e,isActive:t}){const{request$:a}=al(),n=Object(i.useMemo)((()=>({query:e})),[e]),{loading:r,error:s,response:o,makeRequest:l}=Object(Ko.a)("/api/infra/profiling/flamegraph","GET",void 0,void 0,void 0,void 0,!0,n);return Object(i.useEffect)((()=>{t&&a.next(l)}),[t,l,a]),{loading:r,error:s,response:o}}({isActive:n===f.PROFILING,params:m});return null!==g?r.a.createElement(cc,null):p||0!==(null==M?void 0:M.TotalSamples)?r.a.createElement(r.a.Fragment,null,r.a.createElement(mc,{hostname:a.name,from:s.from,to:s.to,profilingLinkLocator:c,profilingLinkLabel:d}),r.a.createElement(F.EuiSpacer,null),r.a.createElement(b.EmbeddableFlamegraph,{data:null!=M?M:void 0,isLoading:p,height:"60vh"})):r.a.createElement(gc,null)}function Mc({kuery:e}){const{services:t}=Object(S.c)(),{asset:a}=ol(),{activeTabId:n}=Fr(),{dateRange:s,getDateRangeInTimestamp:o}=xr(),{from:l,to:u}=o(),c=t.observabilityShared.locators.profiling.topNFunctionsLocator,d=k.i18n.translate("xpack.infra.flamegraph.profilingAppTopFunctionsLink",{defaultMessage:"Go to Universal Profiling Functions"}),m=Object(i.useMemo)((()=>({kuery:e,from:l,to:u,startIndex:0,endIndex:10})),[e,l,u]),{error:g,loading:p,response:M}=function({params:e,isActive:t}){const{request$:a}=al(),n=Object(i.useMemo)((()=>({query:e})),[e]),{loading:r,error:s,response:o,makeRequest:l}=Object(Ko.a)("/api/infra/profiling/functions","GET",void 0,void 0,void 0,void 0,!0,n);return Object(i.useEffect)((()=>{t&&a.next(l)}),[t,l,a]),{loading:r,error:s,response:o}}({isActive:n===f.PROFILING,params:m});return null!==g?r.a.createElement(cc,null):p||0!==(null==M?void 0:M.TotalCount)?r.a.createElement(r.a.Fragment,null,r.a.createElement(mc,{hostname:a.name,from:s.from,to:s.to,profilingLinkLocator:c,profilingLinkLabel:d}),r.a.createElement(F.EuiSpacer,null),r.a.createElement(b.EmbeddableFunctions,{data:null!=M?M:void 0,isLoading:p,rangeFrom:l,rangeTo:u})):r.a.createElement(gc,null)}let bc=function(e){return e[e.Unsymbolized=0]="Unsymbolized",e[e.Python=1]="Python",e[e.PHP=2]="PHP",e[e.Native=3]="Native",e[e.Kernel=4]="Kernel",e[e.JVM=5]="JVM",e[e.Ruby=6]="Ruby",e[e.Perl=7]="Perl",e[e.JavaScript=8]="JavaScript",e[e.PHPJIT=9]="PHPJIT",e[e.DotNET=10]="DotNET",e[e.ErrorFlag=128]="ErrorFlag",e[e.Error=255]="Error",e}({});bc.Unsymbolized,bc.Python,bc.PHP,bc.Native,bc.Kernel,bc.JVM,bc.Ruby,bc.Perl,bc.JavaScript,bc.PHPJIT,bc.DotNET,bc.ErrorFlag,bc.Error,bc.Native,bc.Kernel;let fc=function(e){return e.Containers="containers",e.Deployments="deployments",e.Threads="threads",e.Hosts="hosts",e.Traces="traces",e}({});function yc({kuery:e}){const{services:t}=Object(S.c)(),{getDateRangeInTimestamp:a,dateRange:n,setDateRange:i}=xr(),{from:s,to:o}=a(),{asset:l}=ol(),u=t.observabilityShared.locators.profiling.stacktracesLocator;return r.a.createElement(r.a.Fragment,null,r.a.createElement(mc,{hostname:l.name,from:n.from,to:n.to,profilingLinkLocator:u,profilingLinkLabel:k.i18n.translate("xpack.infra.flamegraph.profilingAppThreadsLink",{defaultMessage:"Go to Universal Profiling Threads"})}),r.a.createElement(F.EuiSpacer,null),r.a.createElement(b.EmbeddableStackTraces,{type:fc.Threads,rangeFrom:s,rangeTo:o,kuery:e,onClick:t=>{u.navigate({type:fc.Traces,rangeFrom:n.from,rangeTo:n.to,kuery:`(${e}) AND process.thread.name:"${t}"`})},onChartBrushEnd:e=>{i({from:e.rangeFrom,to:e.rangeTo})}}))}const jc="infra-profiling-description-callout-dismissed";function Ec(){const[e,t]=on()(jc,!1),a=Object(i.useCallback)((()=>t(!0)),[t]);return e?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(F.EuiCallOut,{title:k.i18n.translate("xpack.infra.profiling.descriptionCallout.title",{defaultMessage:"Displaying Resource Consumption for this Host"}),iconType:"iInCircle"},r.a.createElement(F.EuiText,null,k.i18n.translate("xpack.infra.profiling.descriptionCallout.body",{defaultMessage:"Universal Profiling helps you optimize resource usage and find performance bottlenecks by showing which lines of code are consuming resources on your host, down to the application code, kernel, and third-party libraries."})),r.a.createElement(F.EuiSpacer,null),r.a.createElement(F.EuiFlexGroup,{alignItems:"center"},r.a.createElement(F.EuiLink,{"data-test-subj":"infraProfilingDescriptionCalloutLearnMoreLink",href:"https://www.elastic.co/guide/en/observability/current/profiling-get-started.html",external:!0,target:"_blank"},k.i18n.translate("xpack.infra.profiling.descriptionCallout.learnMore",{defaultMessage:"Learn more"})),r.a.createElement(F.EuiButton,{"data-test-subj":"infraDescriptionCalloutDismissButton",onClick:a},k.i18n.translate("xpack.infra.profiling.descriptionCallout.dismiss",{defaultMessage:"Dismiss"})))),r.a.createElement(F.EuiSpacer,null))}function hc(e,t){var a;const n=`${he.c} : "${e}"`,i=null!==(a=null==t?void 0:t.trim())&&void 0!==a?a:"";return""!==i?`${n} and ${i}`:n}function Ic(){const{activeTabId:e}=Fr(),{dateRange:t,setDateRange:a}=xr(),{fullKuery:n,customKuery:s,setCustomKuery:o}=function(){var e;const{asset:t}=ol(),[a,n]=Mr(),[r,s]=Object(i.useState)(hc(t.name,null==a?void 0:a.profilingSearch));return{fullKuery:r,customKuery:null!==(e=null==a?void 0:a.profilingSearch)&&void 0!==e?e:"",setCustomKuery:e=>{n({profilingSearch:e}),s(hc(t.name,e))}}}(),{error:l,loading:u,response:c}=function({isActive:e}){const{request$:t}=al(),{loading:a,error:n,response:r,makeRequest:s}=Object(Ko.a)("/api/infra/profiling/status","GET",void 0,void 0,void 0,void 0,!0);return Object(i.useEffect)((()=>{e&&t.next(s)}),[e,s,t]),{loading:a,error:n,response:r}}({isActive:e===f.PROFILING}),d=Object(i.useCallback)((({dateRange:e,query:t})=>{a(e),o(t)}),[o,a]),m=Object(i.useCallback)((()=>{a(t)}),[t,a]),g=[{id:"flamegraph",name:k.i18n.translate("xpack.infra.profiling.flamegraphTabName",{defaultMessage:"Flamegraph"}),content:r.a.createElement(r.a.Fragment,null,r.a.createElement(F.EuiSpacer,null),r.a.createElement(pc,{kuery:n})),append:r.a.createElement(Tr,{iconSize:"s",iconColor:"subdued",icon:"questionInCircle"},r.a.createElement(F.EuiText,{size:"xs"},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.profiling.flamegraphInfoPopoverBody",defaultMessage:"See a visual representation of the functions that consume the most resources. Each rectangle represents a function. The rectangle width represents the time spent in the function, and the number of stacked rectangles represents the number of functions called to reach the current function. {learnMoreLink}",values:{learnMoreLink:r.a.createElement(F.EuiLink,{"data-test-subj":"infraProfilingFlamegraphTabLearnMoreLink",href:"https://www.elastic.co/guide/en/observability/current/universal-profiling.html#profiling-flamegraphs-intro",external:!0,target:"_blank"},k.i18n.translate("xpack.infra.profiling.flamegraphTabLearnMoreLink",{defaultMessage:"Learn more"}))}})))},{id:"functions",name:k.i18n.translate("xpack.infra.tabs.profiling.functionsTabName",{defaultMessage:"Top 10 Functions"}),content:r.a.createElement(r.a.Fragment,null,r.a.createElement(F.EuiSpacer,null),r.a.createElement(Mc,{kuery:n})),append:r.a.createElement(Tr,{iconSize:"s",iconColor:"subdued",icon:"questionInCircle"},r.a.createElement(F.EuiText,{size:"xs"},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.profiling.functionsInfoPopoverBody",defaultMessage:"Identify the most expensive lines of code on your host by looking at the most frequently sampled functions, broken down by CPU time, annualized CO2, and annualized cost estimates. {learnMoreLink}",values:{learnMoreLink:r.a.createElement(F.EuiLink,{"data-test-subj":"infraProfilingFunctionsTabLearnMoreLink",href:"https://www.elastic.co/guide/en/observability/current/universal-profiling.html#profiling-functions-intro",external:!0,target:"_blank"},k.i18n.translate("xpack.infra.profiling.functionsTabLearnMoreLink",{defaultMessage:"Learn more"}))}})))},{id:"threads",name:k.i18n.translate("xpack.infra.tabs.profiling.threadsTabName",{defaultMessage:"Threads"}),content:r.a.createElement(r.a.Fragment,null,r.a.createElement(F.EuiSpacer,null),r.a.createElement(yc,{kuery:n})),append:r.a.createElement(Tr,{iconSize:"s",iconColor:"subdued",icon:"questionInCircle"},r.a.createElement(F.EuiText,{size:"xs"},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.profiling.threadsInfoPopoverBody",defaultMessage:"Visualize profiling stacktraces grouped by process thread names. This view enables you to identify the top threads consuming CPU resources and allows you to drill down into the call stack of each thread, so you can quickly identify resource-intensive lines of code within the thread."})))}];return u?r.a.createElement(Lc,null,r.a.createElement(F.EuiLoadingSpinner,{size:"m"})):null!==l?r.a.createElement(cc,null):r.a.createElement(r.a.Fragment,null,!1===(null==c?void 0:c.has_setup)?r.a.createElement(b.ProfilingEmptyState,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(b.EmbeddableProfilingSearchBar,{kuery:s,rangeFrom:t.from,rangeTo:t.to,onQuerySubmit:d,onRefresh:m}),r.a.createElement(F.EuiSpacer,null),r.a.createElement(Ec,null),r.a.createElement(F.EuiTabbedContent,{tabs:g,initialSelectedTab:g[0]})))}var Lc=an()("div").withConfig({displayName:"_StyledDiv",componentId:"sc-12vqg9c-0"})(["display:flex;justify-content:center;"]);const xc=Object(i.createContext)(void 0),wc=()=>{const e=Object(i.useContext)(xc);if(void 0===e)throw new Error("PluginConfigContext value was not initialized. Use context provider to set the value before using it.");return e},vc=xc.Provider,Tc=()=>{var e,t,a;const{metadata:n,loading:s}=il(),o=Object(i.useRef)(void 0);null!=n&&null!==(e=n.info)&&void 0!==e&&null!==(t=e.agent)&&void 0!==t&&t.id&&!o.current&&(o.current=n.info.agent.id);const{featureFlags:l}=wc();return l.osqueryEnabled?s&&!n?r.a.createElement(F.EuiSkeletonText,{lines:10}):r.a.createElement(Sc,{agentId:null!==(a=o.current)&&void 0!==a?a:"_na"}):null},Sc=r.a.memo((({agentId:e})=>{const{services:{osquery:t}}=Object(S.c)(),a=null==t?void 0:t.OsqueryAction;return a?r.a.createElement(a,{agentId:e,hideAgentsField:!0,formType:"simple"}):r.a.createElement(F.EuiSkeletonText,{lines:10})}));var Cc=a(201),Nc=a.n(Cc),Dc=a(78);const Oc=()=>{var e,t;const a=Object(i.useRef)(null),{getDateRangeInTimestamp:n,dateRange:s,autoRefresh:o}=xr(),[l,u]=Mr(),{asset:c}=ol(),{logs:d}=$l(),{loading:m,reference:p}=null!=d?d:{},{services:M}=Object(S.c)(),{nodeLogsLocator:b}=Object(zn.getLogsLocatorsFromUrlService)(M.share.url),[f,y]=Object(i.useState)(null!==(e=null==l?void 0:l.logsSearch)&&void 0!==e?e:""),[j,E]=Object(i.useState)(null!==(t=null==l?void 0:l.logsSearch)&&void 0!==t?t:""),h=n().to,I=ll(a,{currentTimestamp:h,startTimestamp:h-36e5,dateRange:s,autoRefresh:o});Nc()((()=>{u({logsSearch:f}),E(f)}),500,[f]);const L=Object(i.useMemo)((()=>({language:"kuery",query:[`${Object(g.findInventoryFields)(c.type).id}: "${c.id}"`,...""!==j?[j]:[]].join(" and ")})),[c.type,c.id,j]),x=Object(i.useCallback)((e=>{y(e.target.value)}),[]),w=Object(i.useMemo)((()=>p||zn.DEFAULT_LOG_VIEW),[p]),v=Object(i.useMemo)((()=>b.getRedirectUrl({nodeField:Object(g.findInventoryFields)(c.type).id,nodeId:c.id,time:I.startTimestamp,filter:j,logView:w})),[b,c.id,c.type,I.startTimestamp,j,w]);return r.a.createElement(F.EuiFlexGroup,{direction:"column",ref:a},r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(F.EuiFlexGroup,{gutterSize:"m",alignItems:"center",responsive:!1},r.a.createElement(F.EuiFlexItem,null,r.a.createElement(F.EuiFieldSearch,{"data-test-subj":"infraAssetDetailsLogsTabFieldSearch",fullWidth:!0,placeholder:k.i18n.translate("xpack.infra.nodeDetails.logs.textFieldPlaceholder",{defaultMessage:"Search for log entries..."}),value:f,isClearable:!0,onChange:x})),r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(F.EuiButtonEmpty,{"data-test-subj":"infraAssetDetailsLogsTabOpenInLogsButton",size:"xs",flush:"both",iconType:"popout",href:v},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.nodeDetails.logs.openLogsLink",defaultMessage:"Open in Logs"}))))),r.a.createElement(F.EuiFlexItem,null,m||!p?r.a.createElement(loading_InfraLoadingPanel,{width:"100%",height:"60vh",text:r.a.createElement(P.FormattedMessage,{id:"xpack.infra.hostsViewPage.tabs.logs.loadingEntriesLabel",defaultMessage:"Loading entries"})}):r.a.createElement(Dc.LogStream,{logView:w,startTimestamp:I.startTimestamp,endTimestamp:I.currentTimestamp,startDateExpression:I.autoRefresh&&!I.autoRefresh.isPaused?I.dateRange.from:void 0,endDateExpression:I.autoRefresh&&!I.autoRefresh.isPaused?I.dateRange.to:void 0,query:L,height:"60vh",showFlyoutAction:!0,isStreaming:I.autoRefresh&&!I.autoRefresh.isPaused})))},kc={hostIp:k.i18n.translate("xpack.infra.assetDetails.overview.metadataHostIpHeading",{defaultMessage:"Host IP"}),hostOsVersion:k.i18n.translate("xpack.infra.assetDetails.overview.metadataHostOsVersionHeading",{defaultMessage:"Host OS version"}),hostName:k.i18n.translate("xpack.infra.assetDetails.overview.metadataHostNameHeading",{defaultMessage:"Host name"}),cloudProvider:k.i18n.translate("xpack.infra.assetDetails.overview.metadataCloudProviderHeading",{defaultMessage:"Cloud provider"}),cloudInstanceId:k.i18n.translate("xpack.infra.assetDetails.overview.metadataCloudInstanceIdHeading",{defaultMessage:"Cloud instance ID"}),cloudImageId:k.i18n.translate("xpack.infra.assetDetails.overview.metadataCloudImageIdHeading",{defaultMessage:"Cloud image ID"}),operatingSystem:k.i18n.translate("xpack.infra.assetDetails.overview.metadataOperatingSystemHeading",{defaultMessage:"Operating system"}),containerId:k.i18n.translate("xpack.infra.assetDetails.overview.metadataContainerIdHeading",{defaultMessage:"Container ID"}),containerImageName:k.i18n.translate("xpack.infra.assetDetails.overview.metadataContainerImageNameHeading",{defaultMessage:"Container image name"}),runtime:k.i18n.translate("xpack.infra.assetDetails.overview.metadataRuntimeHeading",{defaultMessage:"Runtime"})},Ac=({metadataValue:e})=>r.a.createElement(zc,null,r.a.createElement(F.EuiFlexGroup,{gutterSize:"xs",alignItems:"center",responsive:!1},r.a.createElement(F.EuiFlexItem,{grow:!1},kc[e.field]),r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(Tr,{icon:"iInCircle","data-test-subj":"infraAssetDetailsMetadataSummaryPopoverButton"},r.a.createElement(F.EuiText,{size:"xs"},e.tooltipLink?r.a.createElement(P.FormattedMessage,{id:"xpack.infra.assetDetails.overviewMetadata.tooltip.documentationLabel",defaultMessage:"See {documentation} for more details.",values:{documentation:r.a.createElement(F.EuiLink,{"data-test-subj":"infraAssetDetailsTooltipMetadataDocumentationLink",href:e.tooltipLink,target:"_blank"},r.a.createElement("code",null,e.tooltipFieldLabel))}}):r.a.createElement("code",null,e.tooltipFieldLabel))))));var zc=an()(F.EuiDescriptionListTitle).withConfig({displayName:"_StyledEuiDescriptionListTitle",componentId:"sc-1j3byhh-0"})(["white-space:nowrap;"]);const Fc=({title:e,"data-test-subj":t})=>r.a.createElement(F.EuiTitle,{size:"xxs","data-test-subj":t},r.a.createElement("span",null,e)),Pc=({title:e,"data-test-subj":t,tooltipTestSubj:a,tooltipContent:n})=>r.a.createElement(F.EuiFlexGroup,{gutterSize:"xs",alignItems:"center",responsive:!1},r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(Fc,{title:e,"data-test-subj":t})),r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(Tr,{icon:"iInCircle","data-test-subj":a},n))),Rc=r.a.forwardRef((({title:e,closedSectionContent:t,extraAction:a,children:n,collapsible:s=!1,"data-test-subj":o,id:l,initialTriggerValue:u},c)=>{const[d,m]=Object(i.useState)("open");Object(i.useEffect)((()=>{m(null!=u?u:"open")}),[u]);const g=()=>t&&"closed"===d?r.a.createElement(F.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},r.a.createElement(F.EuiFlexItem,{grow:!1},e),r.a.createElement(F.EuiFlexItem,{grow:!1},t)):r.a.createElement(r.a.Fragment,null,e),p=Object(F.useGeneratedHtmlId)({prefix:l});return s?r.a.createElement("div",{ref:c},r.a.createElement(F.EuiAccordion,{id:p,"data-section-id":l,buttonElement:"div",element:"fieldset",buttonContent:r.a.createElement(g,null),buttonProps:{"data-test-subj":o},paddingSize:"s",initialIsOpen:!0,extraAction:a,forceState:d,onToggle:e=>{m(e?"open":"closed")},"data-section-state":d,"data-test-subj":"infraAssetDetailsCollapseExpandSection"},n)):r.a.createElement(F.EuiFlexGroup,{id:p,"data-section-id":l,"data-test-subj":o,gutterSize:"m",direction:"column",ref:c},r.a.createElement(F.EuiFlexGroup,{gutterSize:"m",responsive:!1},r.a.createElement(F.EuiFlexItem,{grow:!0},e),a&&r.a.createElement(F.EuiFlexItem,{grow:!1},a)),r.a.Children.toArray(n).filter(Boolean).length>0?r.a.createElement(F.EuiFlexItem,{grow:!1},n):null)})),Uc=e=>{var t,a,n;return[{field:"hostIp",value:null==e||null===(t=e.host)||void 0===t?void 0:t.ip,tooltipFieldLabel:"host.ip",tooltipLink:"https://www.elastic.co/guide/en/ecs/current/ecs-host.html#field-host-ip"},{field:"hostOsVersion",value:null==e||null===(a=e.host)||void 0===a||null===(n=a.os)||void 0===n?void 0:n.version,tooltipFieldLabel:"host.os.version"}]},Vc=e=>{var t,a,n,i,r;return[{field:"runtime",value:null==e||null===(t=e.container)||void 0===t?void 0:t.runtime,tooltipFieldLabel:"container.runtime"},{field:"cloudInstanceId",value:null==e||null===(a=e.cloud)||void 0===a||null===(n=a.instance)||void 0===n?void 0:n.id,tooltipFieldLabel:"cloud.instance.id"},{field:"cloudImageId",value:null==e||null===(i=e.cloud)||void 0===i?void 0:i.imageId,tooltipFieldLabel:"cloud.image.id"},{field:"cloudProvider",value:null==e||null===(r=e.cloud)||void 0===r?void 0:r.provider,tooltipFieldLabel:"cloud.provider"}]},Bc=e=>{var t,a,n,i;return[{field:"containerId",value:null==e||null===(t=e.container)||void 0===t?void 0:t.id,tooltipFieldLabel:"container.id"},{field:"containerImageName",value:null==e||null===(a=e.container)||void 0===a||null===(n=a.image)||void 0===n?void 0:n.name,tooltipFieldLabel:"container.image.name"},{field:"hostName",value:null==e||null===(i=e.host)||void 0===i?void 0:i.name,tooltipFieldLabel:"host.name"}]},_c=({loading:e,visibleMetadata:t,assetType:a})=>{const{showTab:n}=Fr();return r.a.createElement(Rc,{title:r.a.createElement(Fc,{title:r.a.createElement(P.FormattedMessage,{id:"xpack.infra.assetDetails.overview.metadataSectionTitle",defaultMessage:"Metadata"}),"data-test-subj":"infraAssetDetailsMetadataTitle"}),collapsible:!0,"data-test-subj":"infraAssetDetailsMetadataCollapsible",id:"metadata",extraAction:r.a.createElement(F.EuiButtonEmpty,{"data-test-subj":"infraAssetDetailsMetadataShowAllButton",onClick:()=>{n(f.METADATA)},size:"xs",flush:"both",iconSide:"right",iconType:"sortRight",key:"metadata-link"},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.assetDetails.metadataSummary.showAllMetadataButton",defaultMessage:"Show all"}))},r.a.createElement(r.a.Fragment,null,r.a.createElement(uu,{assetType:a}),r.a.createElement(F.EuiSpacer,{size:"s"}),r.a.createElement(F.EuiFlexGroup,null,t.filter((e=>e)).map((t=>{var a;return r.a.createElement(F.EuiFlexItem,{key:t.field,grow:!1,style:{width:"200px"}},r.a.createElement(F.EuiDescriptionList,{"data-test-subj":"infraMetadataSummaryItem",compressed:!0},r.a.createElement(Ac,{metadataValue:t}),r.a.createElement(F.EuiDescriptionListDescription,null,e&&!t.value?r.a.createElement(F.EuiLoadingSpinner,null):r.a.createElement(Kl,{values:null!==(a=t.value)&&void 0!==a?a:_u}))))})))))},Yc=({metadata:e,loading:t,assetType:a})=>{switch(a){case"host":return r.a.createElement(_c,{visibleMetadata:[...Uc(null==e?void 0:e.info),...(n=null==e?void 0:e.info,[{field:"cloudProvider",value:null==n||null===(i=n.cloud)||void 0===i?void 0:i.provider,tooltipFieldLabel:"cloud.provider",tooltipLink:"https://www.elastic.co/guide/en/ecs/current/ecs-cloud.html#field-cloud-provider"},{field:"operatingSystem",value:null==n||null===(s=n.host)||void 0===s||null===(o=s.os)||void 0===o?void 0:o.name,tooltipFieldLabel:"host.os.name"}])],loading:t,assetType:a});case"container":return r.a.createElement(_c,{visibleMetadata:[...Bc(null==e?void 0:e.info),...Vc(null==e?void 0:e.info)],loading:t,assetType:a});default:return r.a.createElement(_c,{visibleMetadata:[],loading:t,assetType:a})}var n,i,s,o},Qc=({metadata:e,loading:t,assetType:a})=>{switch(a){case"host":return r.a.createElement(_c,{visibleMetadata:Uc(null==e?void 0:e.info),loading:t,assetType:a});case"container":return r.a.createElement(_c,{visibleMetadata:Bc(null==e?void 0:e.info),loading:t,assetType:a});default:return r.a.createElement(_c,{visibleMetadata:[],loading:t,assetType:a})}},Gc="layer_0";var Zc=a(105);const Wc=(e,t)=>[{type:"index-pattern",id:e,name:`indexpattern-datasource-layer-${t}`}];function Hc(e){const{label:t,decimals:a,format:n,compactValues:i,normalizeByUnit:r,value:s}=e;return{formula:s,label:t,timeScale:r,format:n?{id:n,params:{decimals:null!=a?a:2,...i?{compact:i}:void 0}}:void 0}}function $c(e){const t=[];for(const a in e)e[a]&&t.push(...Wc(e[a].id,a));return t.flat()}const Jc=e=>{let t={};return[...new Set(Object.values(e))].forEach((e=>{var a,n;t={...t,...(a=e,{[null!==(n=a.id)&&void 0!==n?n:Object(Je.v4)()]:{...a.toSpec(!1)}})}})),t};function qc(e){return e&&"object"==typeof e&&("columnOrder"in e||"columns"in e)}async function Kc(e,t,a){let n;try{n=await t.get(e,!1)}catch{n=await t.create({title:e,timeFieldName:a||"@timestamp"})}return n}function Xc(e){if(!e)return;let t,a="@timestamp";if("index"in e)t=e.index,a=e.timeFieldName||"@timestamp";else{if(!("esql"in e))return;t=function(e){var t;const{ast:a}=Object(Zc.getAstAndSyntaxErrors)(e),n=a.find((({name:e})=>["from","metrics"].includes(e))),i=(null!==(t=null==n?void 0:n.args)&&void 0!==t?t:[]).filter((e=>"index"===e.sourceType));return null==i?void 0:i.map((e=>e.text)).join(",")}(e.esql)}return{index:t,timeFieldName:a}}function ed(e,t,a,n,i,r){return"esql"in a?["textBased",function(i){const s=r(e,t);return{index:n.id,query:{esql:a.esql},timeField:n.timeFieldName,columns:s,allColumns:s}}()]:"type"in a?["textBased",function(n){const i=a;return{table:i,columns:r(e,t),allColumns:i.columns.map((e=>({fieldName:e.name,columnId:e.id,meta:e.meta}))),index:"",query:void 0}}()]:["formBased",i(e,t,n)]}const td=async(e,t,a,n,i)=>{let r={};const s=e.dataset,o="layers"in e?e.layers:[e];for(let e=0;e<o.length;e++){const d=o[e],m=`layer_${e}`,g=d.dataset||s;if(!g&&"type"in d&&"annotation"!==d.type)throw Error("dataset must be defined");const p=Xc(g),M=p?await Kc(p.index,i,p.timeFieldName):void 0;if(g){const[i,s]=ed(d,e,g,M,a,n);var l,u,c;s&&(r={...r,[i]:{layers:qc(s)?{...null===(l=r[i])||void 0===l?void 0:l.layers,[m]:s}:{...s}}}),M&&Object.keys(null!==(u=null===(c=r[i])||void 0===c?void 0:c.layers)&&void 0!==u?u:[]).forEach((e=>{t[e]=M}))}}return r},ad=(e,t,a,n=!1)=>{e.columns={...e.columns,[t]:a},n?e.columnOrder.unshift(t):e.columnOrder.push(t)},nd=(e,t,a="")=>{const n=Object.fromEntries(Object.entries(t.columns).map((([e,t])=>[`${e}${a}`,t])));e.columns={...e.columns,...n},e.columnOrder.push(...t.columnOrder.map((e=>`${e}${a}`)))},id=({options:e})=>{var t,a;const{interval:n="auto",...i}=null!==(t=null==e?void 0:e.params)&&void 0!==t?t:{};return{dataType:"date",isBucketed:!0,label:"@timestamp",operationType:"date_histogram",scale:"interval",sourceField:null!==(a=null==e?void 0:e.sourceField)&&void 0!==a?a:"@timestamp",params:{interval:n,...i}}};function rd(e,t,a,n,i){const{formula:r,...s}=t,o=null==n?void 0:n.insertOrReplaceFormulaColumn(e,{formula:r,...s},i||{columnOrder:[],columns:{}},a);if(!o)throw new Error("Error generating the data layer for the chart");return o}const sd=10,od=({options:e,dataView:t})=>{const a="string"==typeof e?function(e,t){if(!t.fields.getByName(e))throw new Error(`field ${e} does not exist on dataview ${t.id?t.id:t.title}`);switch(t.fields.getByName(e).type){case"string":default:return"topValues";case"number":return"intervals";case"date":return"dateHistogram"}}(e,t):e.type,n="string"==typeof e?e:"field"in e?e.field:"",i="string"!=typeof e?e:{};switch(a){case"dateHistogram":return id({options:{sourceField:n,params:"string"!=typeof e?{interval:e.minimumInterval||"auto"}:{interval:"auto"}}});case"topValues":return(({field:e,options:t})=>{const{size:a=sd,...n}=null!=t?t:{};return{label:`Top ${a} values of ${e}`,dataType:"string",operationType:"terms",scale:"ordinal",sourceField:e,isBucketed:!0,params:{size:a,orderBy:{type:"alphabetical",fallback:!1},orderDirection:"asc",otherBucket:!1,missingBucket:!1,parentFormat:{id:"terms"},include:[],exclude:[],includeIsRegex:!1,excludeIsRegex:!1,...n}}})({field:n,options:{size:i.size||5}});case"intervals":return(({field:e,options:t})=>{const{ranges:a=[],...n}=null!=t?t:{};return{label:`Intervals of ${e}`,dataType:"number",operationType:"range",scale:"ordinal",sourceField:e,isBucketed:!0,params:{ranges:a,...n}}})({field:n,options:{type:"range",ranges:[{from:0,to:1e3,label:""}],maxBars:i.granularity||"auto"}});case"filters":return(({options:e})=>{const{filters:t=[],...a}=null!=e?e:{};return{label:"Filters",dataType:"number",operationType:"filters",scale:"ordinal",isBucketed:!0,params:{filters:t,...a}}})({options:{filters:i.filters.map((e=>({label:e.label||"",input:{language:"kuery",query:e.filter}})))}})}};function ld(e,t,a){return{columnId:e,fieldName:t||e,...a?{meta:{type:a}}:{}}}const ud="metric_formula_accessor";function cd(e){return`${ud}_${e}`}function dd(e){return{layerId:Gc,valueAccessor:ud,maxFontSize:72,minFontSize:12,orientation:"single",showLabel:!0,...e.breakdown?{tagAccessor:cd("breakdown")}:{}}}function md(e){if(e.breakdown&&"string"!=typeof e.breakdown)throw new Error("breakdown must be a field name when not using index source");return[ld(ud,e.value),ld(cd("breakdown"),e.breakdown)]}async function gd(e,{dataViewsAPI:t,formulaAPI:a}){const n={},i=await td(e,n,((e,t,n)=>function(e,t,a,n){const i={[Gc]:{...rd(ud,Hc(e),a,n)}}[Gc];if(!e.breakdown)throw new Error("breakdown must be defined on tagcloud!");{const t=cd("breakdown"),n=od({options:e.breakdown,dataView:a});ad(i,t,n,!0)}return i}(e,0,n,a)),md,t);return{title:e.title,visualizationType:"lnsTagcloud",references:$c(n),state:{datasourceStates:i,internalReferences:[],filters:[],query:{language:"kuery",query:""},visualization:dd(e),adHocDataViews:Jc(n)}}}const pd="metric_formula_accessor",Md="x_date_histogram",bd="layer_0_trendline";function fd(e){return`${pd}_${e}`}function yd(e){const t=e;return{layerId:Gc,layerType:"data",metricAccessor:pd,color:t.seriesColor,subtitle:t.subtitle,showBar:!1,...t.querySecondaryMetric?{secondaryMetricAccessor:fd("secondary")}:{},...t.queryMaxValue?{maxAccessor:fd("max"),showBar:!0}:{},...t.breakdown?{breakdownByAccessor:fd("breakdown")}:{},...t.trendLine?{trendlineLayerId:`${Gc}_trendline`,trendlineLayerType:"metricTrendline",trendlineMetricAccessor:`${pd}_trendline`,trendlineTimeAccessor:Md,...t.querySecondaryMetric?{trendlineSecondaryMetricAccessor:`${pd}_secondary_trendline`}:{},...t.queryMaxValue?{trendlineMaxAccessor:`${pd}_max_trendline`}:{},...t.breakdown?{trendlineBreakdownByAccessor:`${pd}_breakdown_trendline`}:{}}:{}}}function jd(e){if(e.breakdown&&"string"!=typeof e.breakdown)throw new Error("breakdown must be a field name when not using index source");return[...e.breakdown?[ld(fd("breakdown"),e.breakdown)]:[],ld(pd,e.value,"number"),...e.queryMaxValue?[ld(fd("max"),e.queryMaxValue,"number")]:[],...e.querySecondaryMetric?[ld(fd("secondary"),e.querySecondaryMetric)]:[]]}async function Ed(e,{dataViewsAPI:t,formulaAPI:a}){const n={},i=await td(e,n,((e,t,n)=>function(e,t,a,n){const i={columnOrder:[pd,Md],columns:{[Md]:id({options:{sourceField:a.timeFieldName,params:{interval:"auto",includeEmptyRows:!0}}})},sampling:1},r={[Gc]:{...rd(pd,Hc(e),a,n)},...e.trendLine?{[bd]:{linkToLayers:[Gc],...rd(`${pd}_trendline`,Hc(e),a,n,i)}}:{}},s=r[Gc],o=r[bd];if(e.breakdown){const t=fd("breakdown"),n=od({options:e.breakdown,dataView:a});ad(s,t,n,!0),o&&ad(o,`${t}_trendline`,n,!0)}if(e.querySecondaryMetric){const t=rd(fd("secondary"),{formula:e.querySecondaryMetric},a,n);nd(s,t),o&&nd(o,t,"X0")}if(e.queryMaxValue){const t=rd(fd("max"),{formula:e.queryMaxValue},a,n);nd(s,t),o&&nd(o,t,"X0")}return r}(e,0,n,a)),jd,t);return{title:e.title,visualizationType:"lnsMetric",references:$c(n),state:{datasourceStates:i,internalReferences:[],filters:[],query:{language:"kuery",query:""},visualization:yd(e),adHocDataViews:Jc(n)}}}const hd="metric_formula_accessor";function Id(e){const t=e,a=Array.isArray(t.breakdown)?t.breakdown:[t.breakdown];let n="default",i="right";return"legend"in e&&e.legend&&("show"in e.legend&&(n=e.legend?"show":"hide"),i=e.legend.position||"right"),{shape:e.chartType,layers:[{layerId:Gc,layerType:"data",metrics:[hd],allowMultipleMetrics:!1,numberDisplay:"percent",categoryDisplay:"default",legendDisplay:n,legendPosition:i,primaryGroups:a.map(((e,t)=>`${hd}_breakdown_${t}`))}]}}function Ld(e){if(e.breakdown&&e.breakdown.filter((e=>"string"!=typeof e)).length)throw new Error("breakdown must be a field name when not using index source");return[...e.breakdown?e.breakdown.map(((e,t)=>ld(`${hd}_breakdown_${t}`,e))):[],ld(hd,e.value)]}async function xd(e,{dataViewsAPI:t,formulaAPI:a}){const n={},i=await td(e,n,((e,t,n)=>function(e,t,a,n){const i={[Gc]:{...rd(hd,Hc(e),a,n)}}[Gc];if(!e.breakdown)throw new Error("breakdown must be defined!");return(Array.isArray(e.breakdown)?e.breakdown:[e.breakdown]).reverse().forEach(((e,t)=>{const n=`${hd}_breakdown_${t}`,r=od({options:e,dataView:a});ad(i,n,r,!0)})),i}(e,0,n,a)),Ld,t);return{title:e.title,visualizationType:"lnsPie",references:$c(n),state:{datasourceStates:i,internalReferences:[],filters:[],query:{language:"kuery",query:""},visualization:Id(e),adHocDataViews:Jc(n)}}}const wd="metric_formula_accessor";function vd(e){return`${wd}_${e}`}function Td(e){const t=e;return{layerId:Gc,layerType:"data",ticksPosition:"auto",shape:t.shape||"horizontalBullet",labelMajorMode:"auto",metricAccessor:wd,...t.queryGoalValue?{goalAccessor:vd("goal")}:{},...t.queryMaxValue?{maxAccessor:vd("max"),showBar:!0}:{},...t.queryMinValue?{minAccessor:vd("min")}:{}}}function Sd(e){return[ld(wd,e.value),...e.queryMaxValue?[ld(vd("max"),e.queryMaxValue)]:[],...e.queryMinValue?[ld(vd("min"),e.queryMinValue)]:[],...e.queryGoalValue?[ld(vd("goal"),e.queryGoalValue)]:[]]}async function Cd(e,{dataViewsAPI:t,formulaAPI:a}){const n={},i=await td(e,n,((e,t,n)=>function(e,t,a,n){const i={[Gc]:{...rd(wd,Hc(e),a,n)}}[Gc];if(e.queryGoalValue){const t=rd(vd("goal"),{formula:e.queryGoalValue},a,n);nd(i,t)}if(e.queryMinValue){const t=rd(vd("min"),{formula:e.queryMinValue},a,n);nd(i,t)}if(e.queryMaxValue){const t=rd(vd("max"),{formula:e.queryMaxValue},a,n);nd(i,t)}return i}(e,0,n,a)),Sd,t);return{title:e.title,visualizationType:"lnsGauge",references:$c(n),state:{datasourceStates:i,internalReferences:[],filters:[],query:{language:"kuery",query:""},visualization:Td(e),adHocDataViews:Jc(n)}}}const Nd="metric_formula_accessor";function Dd(e){return`${e}_${Nd}`}function Od(e){var t,a;const n=e;return{layerId:Gc,layerType:"data",shape:"heatmap",valueAccessor:Nd,...n.xAxis?{xAccessor:Dd("x")}:{},...n.breakdown?{yAccessor:Dd("y")}:{},gridConfig:{type:"heatmap_grid",isCellLabelVisible:!1,isXAxisLabelVisible:!1,isXAxisTitleVisible:!1,isYAxisLabelVisible:!1,isYAxisTitleVisible:!1},legend:{isVisible:(null===(t=e.legend)||void 0===t?void 0:t.show)||!0,position:(null===(a=e.legend)||void 0===a?void 0:a.position)||"left",type:"heatmap_legend"}}}function kd(e){if(e.breakdown&&"string"!=typeof e.breakdown)throw new Error("breakdown must be a field name when not using index source");if("string"!=typeof e.xAxis)throw new Error("xAxis must be a field name when not using index source");return[...e.breakdown?[ld(Dd("y"),e.breakdown)]:[],ld(Dd("x"),e.xAxis),ld(Nd,e.value)]}async function Ad(e,{dataViewsAPI:t,formulaAPI:a}){const n={},i=await td(e,n,((e,t,n)=>function(e,t,a,n){const i={...rd(Nd,Hc(e),a,n)};if(e.xAxis){const t=Dd("x"),n=od({options:e.xAxis,dataView:a});ad(i,t,n,!0)}if(e.breakdown){const t=Dd("y"),n=od({options:e.breakdown,dataView:a});ad(i,t,n,!0)}return i}(e,0,n,a)),kd,t);return{title:e.title,visualizationType:"lnsHeatmap",references:$c(n),state:{datasourceStates:i,internalReferences:[],filters:[],query:{language:"kuery",query:""},visualization:Od(e),adHocDataViews:Jc(n)}}}const zd="metric_formula_accessor";function Fd(e){return`${zd}_${e}`}function Pd(e){return{layerId:Gc,layerType:"data",valueAccessor:zd,...e.breakdown?{regionAccessor:Fd("breakdown")}:{}}}function Rd(e){if("string"!=typeof e.breakdown)throw new Error("breakdown must be a field name when not using index source");return[ld(zd,e.value),ld(Fd("breakdown"),e.breakdown)]}async function Ud(e,{dataViewsAPI:t,formulaAPI:a}){const n={},i=await td(e,n,((e,t,n)=>function(e,t,a,n){const i={[Gc]:{...rd(zd,Hc(e),a,n)}}[Gc];if(!e.breakdown)throw new Error("breakdown must be defined for regionmap!");{const t=Fd("breakdown"),n=od({options:e.breakdown,dataView:a});ad(i,t,n,!0)}return i}(e,0,n,a)),Rd,t);return{title:e.title,visualizationType:"lnsChoropleth",references:$c(n),state:{datasourceStates:i,internalReferences:[],filters:[],query:{language:"kuery",query:""},visualization:Pd(e),adHocDataViews:Jc(n)}}}const Vd="metric_formula_accessor";function Bd(e){const t=e;return{layerId:Gc,layerType:"data",columns:[{columnId:Vd},...(t.breakdown||[]).map(((e,t)=>({columnId:`${Vd}_breakdown_${t}`}))),...(t.splitBy||[]).map(((e,t)=>({columnId:`${Vd}_splitby_${t}`})))]}}function _d(e){if(e.breakdown&&e.breakdown.filter((e=>"string"!=typeof e)).length)throw new Error("breakdown must be a field name when not using index source");if(e.splitBy&&e.splitBy.filter((e=>"string"!=typeof e)).length)throw new Error("xAxis must be a field name when not using index source");return[...e.breakdown?e.breakdown.map(((e,t)=>ld(`${Vd}_breakdown_${t}`,e))):[],...e.splitBy?e.splitBy.map(((e,t)=>ld(`${Vd}_splitby_${t}`,e))):[],ld(Vd,e.value)]}async function Yd(e,{dataViewsAPI:t,formulaAPI:a}){const n={},i=await td(e,n,((e,t,n)=>function(e,t,a,n){const i={[Gc]:{...rd(Vd,Hc(e),a,n)}}[Gc];if(!e.breakdown)throw new Error("breakdown must be defined for table!");return e.breakdown.reverse().forEach(((e,t)=>{const n=`${Vd}_breakdown_${t}`,r=od({options:e,dataView:a});ad(i,n,r,!0)})),e.splitBy&&e.splitBy.forEach(((e,t)=>{const n=`${Vd}_splitby_${t}`,r=od({options:e,dataView:a});ad(i,n,r,!0)})),i}(e,0,n,a)),_d,t);return{title:e.title,visualizationType:"lnsDatatable",references:$c(n),state:{datasourceStates:i,internalReferences:[],filters:[],query:{language:"kuery",query:""},visualization:Bd(e),adHocDataViews:Jc(n)}}}const Qd="metric_formula_accessor";function Gd(e){var t,a,n,i,r,s,o,l,u,c,d,m,g,p;return{axisTitlesVisibilitySettings:{x:null===(t=null===(a=e.axisTitleVisibility)||void 0===a?void 0:a.showXAxisTitle)||void 0===t||t,yLeft:null===(n=null===(i=e.axisTitleVisibility)||void 0===i?void 0:i.showYAxisTitle)||void 0===n||n,yRight:!0},legend:{isVisible:null===(r=null===(s=e.legend)||void 0===s?void 0:s.show)||void 0===r||r,position:null!==(o=null===(l=e.legend)||void 0===l?void 0:l.position)&&void 0!==o?o:"left"},hideEndzones:!0,preferredSeriesType:"line",valueLabels:"hide",emphasizeFitting:null!==(u=null==e?void 0:e.emphasizeFitting)&&void 0!==u&&u,fittingFunction:null!==(c=null==e?void 0:e.fittingFunction)&&void 0!==c?c:"None",yLeftExtent:{mode:null!==(d=null===(m=e.yBounds)||void 0===m?void 0:m.mode)&&void 0!==d?d:"full",lowerBound:null===(g=e.yBounds)||void 0===g?void 0:g.lowerBound,upperBound:null===(p=e.yBounds)||void 0===p?void 0:p.upperBound},tickLabelsVisibilitySettings:{x:!0,yLeft:!0,yRight:!0},labelsOrientation:{x:0,yLeft:0,yRight:0},gridlinesVisibilitySettings:{x:!0,yLeft:!0,yRight:!0},layers:e.layers.map(((e,t)=>{switch(e.type){case"annotation":return{layerId:`layer_${t}`,layerType:"annotations",annotations:e.events.map(((e,t)=>"datetime"in e?{type:"manual",id:`annotation_${t}`,icon:e.icon||"triangle",color:e.color||"blue",label:e.name,key:{type:"point_in_time",timestamp:e.datetime}}:{id:`event${t}`,type:"query",icon:e.icon||"triangle",color:e.color||"blue",label:e.name,key:{type:"point_in_time"},filter:{type:"kibana_query",query:e.filter,language:"kuery"},...e.field?{timeField:e.field}:{}})),ignoreGlobalFilters:!0};case"reference":return{layerId:`layer_${t}`,layerType:"referenceLine",accessors:e.yAxis.map(((e,a)=>`${Qd}${t}_${a}`)),yConfig:e.yAxis.map(((e,a)=>({forAccessor:`${Qd}${t}_${a}`,axisMode:"left",color:e.seriesColor})))};case"series":return{layerId:`layer_${t}`,layerType:"data",xAccessor:`x_${Qd}${t}`,...e.breakdown?{splitAccessor:`y_${Qd}${t}`}:{},accessors:e.yAxis.map(((e,a)=>`${Qd}${t}_${a}`)),seriesType:e.seriesType||"line"}}}))}}function Zd(e,t){if(e.breakdown&&"string"!=typeof e.breakdown)throw new Error("breakdown must be a field name when not using index source");if("string"!=typeof e.xAxis)throw new Error("xAxis must be a field name when not using index source");return[...e.breakdown?[ld(`${Qd}${t}_breakdown`,e.breakdown)]:[],ld(`x_${Qd}${t}`,e.xAxis),...e.yAxis.map(((e,a)=>({...ld(`${Qd}${t}_${a}`,e.value,"number")})))]}function Wd(e,t,a,n){return e.yAxis.reduce(((e,i,r)=>{const s=rd(`${Qd}${t}_${r}`,Hc(i),a,n,r>0?e:void 0);return{...e,...s}}),{})}async function Hd(e,{dataViewsAPI:t,formulaAPI:a}){const n={},i=await td(e,n,((e,t,n)=>function(e,t,a,n){if("series"===e.type){const i=Wd(e,t,a,n);if(e.xAxis){const n=`x_${Qd}${t}`,r=od({options:e.xAxis,dataView:a});ad(i,n,r,!0)}if(e.breakdown){const n=`y_${Qd}${t}`,r=od({options:e.breakdown,dataView:a});ad(i,n,r,!0)}return i}if("annotation"===e.type);else if("reference"===e.type)return Wd(e,t,a,n);return{columns:{},columnOrder:[]}}(e,t,n,a)),Zd,t),r=$c(n);return{title:e.title,visualizationType:"lnsXY",references:r,state:{datasourceStates:i,internalReferences:[],filters:[],query:{language:"kuery",query:""},visualization:Gd(e),adHocDataViews:Jc(n)}}}class config_builder_LensConfigBuilder{constructor(e,t){fa()(this,"charts",{metric:Ed,tagcloud:gd,treemap:xd,pie:xd,donut:xd,gauge:Cd,heatmap:Ad,mosaic:xd,regionmap:Ud,xy:Hd,table:Yd}),fa()(this,"formulaAPI",void 0),fa()(this,"dataViewsAPI",void 0),this.formulaAPI=t,this.dataViewsAPI=e}async build(e,t={}){const{chartType:a}=e,n=await this.charts[a](e,{formulaAPI:this.formulaAPI,dataViewsAPI:this.dataViewsAPI}),i={...n,state:{...n.state,filters:t.filters||[],query:t.query||{language:"kuery",query:""}}};return t.embeddable?{id:Object(Je.v4)(),attributes:i,timeRange:t.timeRange,references:i.references}:i}}var $d=a(52);const Jd=({hasTopMargin:e=!1})=>{const{euiTheme:t}=Object(F.useEuiTheme)();return r.a.createElement(Kd,{size:"xs",color:"accent",position:"absolute",$_css:e?t.size.l:0,$_css2:Number(t.levels.header)-1})},qd=({style:e})=>r.a.createElement(r.a.Fragment,null,r.a.createElement(Jd,{hasTopMargin:!1}),r.a.createElement(F.EuiFlexGroup,{style:e,justifyContent:"center",alignItems:"center",responsive:!1},r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(F.EuiLoadingChart,{mono:!0,size:"l"}))));var Kd=an()(F.EuiProgress).withConfig({displayName:"_StyledEuiProgress",componentId:"sc-1hxox3j-0"})(["top:",";z-index:",";"],(e=>e.$_css),(e=>e.$_css2));const Xd=({attributes:e,dateRange:t,filters:a,searchSessionId:n,loading:s=!1,onLoad:o,query:l,...u})=>{const{euiTheme:c}=Object(F.useEuiTheme)(),[d,m]=Object(i.useState)(),[g,p]=Object(i.useState)(!1),[M,b]=Object(i.useState)({attributes:e,dateRange:t,filters:a,query:l,searchSessionId:n}),f=Object(i.useRef)(null),y=Object(i.useRef)(new IntersectionObserver((([e])=>m(e)),{root:f.current}));Object(i.useEffect)((()=>{const{current:e}=y;e.disconnect();const{current:t}=f;return t&&e.observe(t),()=>e.disconnect()}),[f]),Object(i.useEffect)((()=>{null!=d&&d.isIntersecting&&b({attributes:e,dateRange:t,filters:a,query:l,searchSessionId:n})}),[e,t,a,null==d?void 0:d.isIntersecting,l,n]);const j=Object(i.useCallback)((e=>{g||p(!0),o&&o(e)}),[g,o]),E=s||!M.attributes;return r.a.createElement(tm,{ref:f,$_css:c.border.radius.medium},r.a.createElement(r.a.Fragment,null,E&&!g?r.a.createElement(qd,{style:u.style}):r.a.createElement(r.a.Fragment,null,E&&r.a.createElement(Jd,{hasTopMargin:!u.hidePanelTitles}),r.a.createElement(em,J()({},u,{searchSessionId:M.searchSessionId,attributes:M.attributes,filters:M.filters,onLoad:j,query:M.query,timeRange:t,viewMode:$d.ViewMode.VIEW})))))},em=r.a.memo((({attributes:e,...t})=>{const{services:{lens:a}}=Object(S.c)(),n=a.EmbeddableComponent;return e?r.a.createElement(n,J()({},t,{attributes:e})):r.a.createElement(qd,{style:t.style})}));var tm=an()("div").withConfig({displayName:"_StyledDiv",componentId:"sc-49s0hy-0"})(["position:relative;overflow:hidden;height:100%;.echMetric{border-radius:",";pointer-events:none;}"],(e=>e.$_css));const am=({error:e})=>r.a.createElement(nm,{gutterSize:"xs",justifyContent:"center",alignItems:"center",direction:"column"},r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(F.EuiIcon,{type:"warning"})),r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(F.EuiText,{size:"s",textAlign:"center"},e.message)));var nm=an()(F.EuiFlexGroup).withConfig({displayName:"_StyledEuiFlexGroup",componentId:"sc-1fllxqc-0"})(["height:100%;align-content:center;"]);const im=r.a.memo((({id:e,borderRadius:t,dateRange:a,filters:n,hidePanelTitles:s,lastReloadRequestTime:o,query:l,onBrushEnd:u,onFilter:c,overrides:d,toolTip:m,searchSessionId:g,disableTriggers:p=!1,height:M=300,loading:b=!1,lensAttributes:f})=>{const{formula:y,attributes:j,getExtraActions:E,error:h}=(e=>{const{services:{lens:t,dataViews:a}}=Object(S.c)(),{navigateToPrefilledEditor:n}=t,{value:r,error:s}=Zl()((async()=>{const{formula:n}=await t.stateHelperApi();if(a&&n&&e.dataset)return new config_builder_LensConfigBuilder(a,n).build(e)}),[e,a,t]),o=Object(i.useCallback)((({filters:e,query:t})=>r?{...r,state:{...r.state,query:t,filters:[...r.state.filters,...e]}}:null),[r]),l=Object(i.useCallback)((({timeRange:e,query:t,filters:a,searchSessionId:i})=>()=>{const r=o({filters:a,query:t});r&&n({id:"",timeRange:e,attributes:r,searchSessionId:i},{openInNewTab:!0})}),[o,n]),u=Object(i.useCallback)((({timeRange:e,filters:t=[],query:a={language:"kuery",query:""},searchSessionId:n})=>{return[(i=l({timeRange:e,filters:t,query:a,searchSessionId:n}),{id:"openInLens",getDisplayName:e=>k.i18n.translate("xpack.infra.hostsViewPage.tabs.metricsCharts.actions.openInLines",{defaultMessage:"Open in Lens"}),getIconType:e=>"visArea",type:"actionButton",isCompatible:async e=>!0,async execute(e){i()},order:100})];var i}),[l]);return{formula:"xy"===e.chartType?e.layers[0].yAxis[0].value:e.value,attributes:r,getExtraActions:u,error:s}})(f),I=b||!j,L=E({timeRange:a,query:l,filters:n,searchSessionId:g}),x=r.a.createElement(Xd,{id:e,attributes:j,dateRange:a,disableTriggers:p,extraActions:L,filters:n,hidePanelTitles:s,loading:I,style:{height:M},query:l,overrides:d,onBrushEnd:u,searchSessionId:g,onFilter:c}),w=m?r.a.createElement(F.EuiToolTip,{delay:"regular",content:r.a.cloneElement(m,{formula:y}),anchorClassName:"eui-fullWidth"},r.a.createElement("div",null,x)):x;return r.a.createElement(rm,{hasBorder:!!t,borderRadius:t,hasShadow:!1,paddingSize:h?"m":"none","data-test-subj":e,$_css:M,$_css2:M},h?r.a.createElement(am,{error:h}):w)}));var rm=an()(F.EuiPanel).withConfig({displayName:"_StyledEuiPanel",componentId:"sc-14gt3ba-0"})(["position:relative;min-height:","px;.embPanel-isLoading{min-height:","px;}"],(e=>e.$_css),(e=>e.$_css2));const sm="https://ela.st/docs-infra-host-metrics",om="https://ela.st/docs-infra-why-dotted",lm="https://ela.st/docs-infra-docker-container-metrics",um=r.a.memo((({description:e,formula:t,showDocumentationLink:a=!1,style:n})=>r.a.createElement(F.EuiText,{size:"xs",style:n,onClick:e=>{e.stopPropagation()}},r.a.createElement("p",null,e),t&&r.a.createElement("p",null,r.a.createElement("strong",null,r.a.createElement(P.FormattedMessage,{id:"xpack.infra.hostsViewPage.table.tooltip.formula",defaultMessage:"Formula Calculation:"})),r.a.createElement("br",null),r.a.createElement(cm,null,t)),a&&r.a.createElement("p",null,r.a.createElement(P.FormattedMessage,{id:"xpack.infra.hostsViewPage.table.tooltip.documentationLabel",defaultMessage:"See {documentation} for more information",values:{documentation:r.a.createElement(F.EuiLink,{"data-test-subj":"hostsViewTooltipDocumentationLink",href:sm,target:"_blank"},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.hostsViewPage.table.tooltip.documentationLink",defaultMessage:"documentation"}))}})))));var cm=an()("code").withConfig({displayName:"_StyledCode",componentId:"sc-hazo4v-0"})(["word-break:break-word;"]);const dm={metrics:{href:sm,label:k.i18n.translate("xpack.infra.hostsViewPage.tooltip.whatAreTheseMetricsLink",{defaultMessage:"What are these metrics?"})},dottedLines:{href:om,label:k.i18n.translate("xpack.infra.hostsViewPage.tooltip.whyAmISeeingDottedLines",{defaultMessage:"Why am I seeing dotted lines?"})}},mm=({type:e})=>r.a.createElement(F.EuiText,{size:"xs"},r.a.createElement(F.EuiLink,{"data-test-subj":"hostsViewMetricsDocumentationLink",href:dm[e].href,target:"_blank"},dm[e].label)),gm=()=>r.a.createElement(F.EuiText,{size:"xs"},r.a.createElement("p",null,r.a.createElement(P.FormattedMessage,{id:"xpack.infra.hostsViewPage.metricsExplanation",defaultMessage:"Showing metrics for your host(s)"})),r.a.createElement("p",null,r.a.createElement(mm,{type:"metrics"})),r.a.createElement("p",null,r.a.createElement(mm,{type:"dottedLines"}))),pm=({kuery:e,dateRange:t,"data-test-subj":a})=>{const{services:n}=Object(S.c)(),{http:i}=n,s=i.basePath.prepend(`${gr}?_a=${Object(p.encode)({kuery:e,rangeFrom:t.from,rangeTo:t.to,status:"all"})}`);return r.a.createElement(F.EuiButtonEmpty,{"data-test-subj":a,size:"xs",iconSide:"right",iconType:"sortRight",flush:"both",href:s},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.AlertsPageLinkLabel",defaultMessage:"Show all"}))},Mm=({dataTestSubj:e})=>{const{services:t}=Object(S.c)(),{http:a}=t,n=a.basePath.prepend(gr);return r.a.createElement(F.EuiLink,{style:{display:"inline-block"},"data-test-subj":e,href:n},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.assetDetails.table.tooltip.alertsLink",defaultMessage:"alerts."}))},bm=r.a.memo((()=>r.a.createElement(F.EuiText,{size:"xs",onClick:e=>{e.stopPropagation()}},r.a.createElement("p",null,r.a.createElement(P.FormattedMessage,{id:"xpack.infra.assetDetails.alerts.tooltip.alertsLabel",defaultMessage:"Showing alerts for this host. You can create and manage alerts in {alerts}",values:{alerts:r.a.createElement(Mm,{dataTestSubj:"assetDetailsTooltipDocumentationLink"})}})),r.a.createElement("p",null,r.a.createElement(P.FormattedMessage,{id:"xpack.infra.assetDetails.alerts.tooltip.documentationLabel",defaultMessage:"See {documentation} for more information",values:{documentation:r.a.createElement(F.EuiLink,{"data-test-subj":"infraAssetDetailsTooltipDocumentationLink",href:"https://www.elastic.co/guide/en/observability/current/create-alerts.html",target:"_blank"},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.assetDetails.alerts.tooltip.documentationLink",defaultMessage:"documentation"}))}}))))),fm=()=>{const e=Object(b.useLinkProps)({app:"home",hash:"/tutorial/apm"});return r.a.createElement(F.EuiText,{size:"xs"},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.assetDetails.services.tooltip.servicesLabel",defaultMessage:"Showing {apmTutorialLink} services detected on this host.",values:{apmTutorialLink:r.a.createElement(F.EuiLink,{style:{display:"inline-block"},"data-test-subj":"assetDetailsTooltipApmTutorialLink",href:e.href},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.assetDetails.table.services.tooltip.tutorialLink",defaultMessage:"APM-instrumented"}))}}))},ym=()=>r.a.createElement(F.EuiText,{size:"xs"},r.a.createElement("p",null,r.a.createElement(P.FormattedMessage,{id:"xpack.infra.containerViewPage.metricsExplanation",defaultMessage:"Showing metrics for your container(s)"})),r.a.createElement("p",null,r.a.createElement(F.EuiText,{size:"xs"},r.a.createElement(F.EuiLink,{"data-test-subj":"containerViewMetricsDocumentationLink",href:lm,target:"_blank"},k.i18n.translate("xpack.infra.containerViewPage.tooltip.whatAreTheseMetricsLink",{defaultMessage:"What are these metrics?"})))),r.a.createElement("p",null,r.a.createElement(F.EuiText,{size:"xs"},r.a.createElement(F.EuiLink,{"data-test-subj":"containerViewMetricsDocumentationLink",href:om,target:"_blank"},k.i18n.translate("xpack.infra.hostsViewPage.tooltip.whyAmISeeingDottedLines",{defaultMessage:"Why am I seeing dotted lines?"}))))),jm=({assetType:e})=>r.a.createElement(Pc,{title:k.i18n.translate("xpack.infra.assetDetails.overview.metricsSectionTitle",{defaultMessage:"Metrics"}),"data-test-subj":"infraAssetDetailsMetricsTitle",tooltipTestSubj:"infraAssetDetailsMetricsPopoverButton",tooltipContent:Im(e)}),Em=()=>r.a.createElement(Pc,{title:k.i18n.translate("xpack.infra.assetDetails.overview.alertsSectionTitle",{defaultMessage:"Alerts"}),"data-test-subj":"infraAssetDetailsAlertsTitle",tooltipTestSubj:"infraAssetDetailsAlertsPopoverButton",tooltipContent:r.a.createElement(bm,null)}),hm=()=>r.a.createElement(Pc,{title:k.i18n.translate("xpack.infra.assetDetails.overview.servicesSectionTitle",{defaultMessage:"Services"}),"data-test-subj":"infraAssetDetailsServicesTitle",tooltipTestSubj:"infraAssetDetailsServicesPopoverButton",tooltipContent:r.a.createElement(fm,null)});function Im(e){return"host"===e?r.a.createElement(gm,null):r.a.createElement(ym,null)}const Lm=({activeAlertCount:e})=>"number"==typeof e?e>0?r.a.createElement(F.EuiToolTip,{position:"bottom",content:k.i18n.translate("xpack.infra.assetDetails.tooltip.activeAlertsExplanation",{defaultMessage:"Active alerts"})},r.a.createElement(F.EuiBadge,{"data-test-subj":"infraAssetDetailsAlertsClosedContentWithAlerts",iconType:"warning",color:"danger"},e)):r.a.createElement("span",{"data-test-subj":"infraAssetDetailsAlertsClosedContentNoAlerts"},k.i18n.translate("xpack.infra.assetDetails.noActiveAlertsContentClosedSection",{defaultMessage:"No active alerts"})):null;var xm=a(35),wm=a(101);const vm=({dateRange:e,assetIds:t,status:a,assetType:n})=>{const i=[Sm(a),Tm(e),Ul({field:Object(g.findInventoryFields)(null!=n?n:"host").id,values:t})].filter(Boolean);return Object(Ft.buildEsQuery)(void 0,[],i)},Tm=e=>Object(wm.getTime)(void 0,e,{fieldName:rr.v}),Sm=(e="all")=>mr[e]?{query:mr[e],meta:{}}:null,Cm=[{id:lr.status,label:lr.label,value:lr.query,"data-test-subj":"hostsView-alert-status-filter-show-all-button"},{id:ur.status,label:ur.label,value:ur.query,"data-test-subj":"hostsView-alert-status-filter-active-button"},{id:cr.status,label:cr.label,value:cr.query,"data-test-subj":"hostsView-alert-status-filter-recovered-button"},{id:dr.status,label:dr.label,value:dr.query,"data-test-subj":"hostsView-alert-status-filter-untracked-button"}];var Nm=function({status:e,onChange:t}){return r.a.createElement(F.EuiButtonGroup,{legend:k.i18n.translate("xpack.infra.hostsViewPage.tabs.alerts.alertStatusFilter.legend",{defaultMessage:"Filter by"}),color:"primary",options:Cm,idSelected:e,onChange:e=>t(e)})};const Dm=[...pr,sr.OBSERVABILITY],Om=({assetId:e,dateRange:t,onLoaded:a,onRangeSelection:n,assetType:s})=>{var o;const{services:l}=Object(S.c)(),[u,c]=Mr(),[d,m]=Object(i.useState)(null!==(o=null==u?void 0:u.alertStatus)&&void 0!==o?o:or),{charts:g,triggersActionsUi:{getAlertsStateTable:p,alertsTableConfigurationRegistry:M,getAlertSummaryWidget:b}}=l,f=g.theme.useChartsBaseTheme(),y=Object(i.useMemo)((()=>vm({dateRange:t,assetIds:[e],status:d,assetType:s})),[t,e,d,s]),j=Object(i.useMemo)((()=>vm({dateRange:t,assetIds:[e],status:or,assetType:s})),[e,s,t]),E=Object(xm.useSummaryTimeRange)(t),h=Object(i.useCallback)((e=>{const{x:t}=e;if(t&&n){const[e,a]=t,i=new Date(e).toISOString(),r=new Date(a).toISOString();n({dateRange:{from:i,to:r}})}}),[n]),I=Object(i.useMemo)((()=>({baseTheme:f,onBrushEnd:h})),[h,f]);return r.a.createElement(F.EuiFlexGroup,{direction:"column",gutterSize:"m","data-test-subj":"hostsView-alerts"},r.a.createElement(F.EuiFlexGroup,{justifyContent:"flexStart",alignItems:"center"},r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(Nm,{onChange:e=>{m(e),c({alertStatus:e})},status:d}))),r.a.createElement(F.EuiFlexItem,null,r.a.createElement(b,{chartProps:I,featureIds:pr,filter:j,timeRange:E,onLoaded:a,fullSize:!0})),r.a.createElement(F.EuiFlexItem,null,r.a.createElement(p,{alertsTableConfigurationRegistry:M,id:"assetDetailsAlertsTable",configurationId:sr.OBSERVABILITY,featureIds:Dm,showAlertStatusWithFlapping:!0,query:y,pageSize:5})))},km=({onClick:e,"data-test-subj":t})=>r.a.createElement(F.EuiButtonEmpty,{"data-test-subj":t,onClick:e,size:"xs",iconSide:"left",flush:"both",iconType:"bell"},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.infra.alerts.createAlertLink",defaultMessage:"Create rule"})),Am=({dependsOn:e})=>{const{metadata:t}=il();return Object(i.useMemo)((()=>{var a;return(null!==(a=null==t?void 0:t.features)&&void 0!==a?a:[]).some((t=>t.name.startsWith(e)))}),[null==t?void 0:t.features,e])},zm=({assetId:e,assetType:t,dateRange:a})=>{var n;const{featureFlags:s}=wc(),[o,{toggle:l}]=_t(!1),{overrides:u}=ol(),[c,d]=Object(i.useState)("open"),[m,p]=Object(i.useState)(void 0),M=Object(g.findInventoryFields)(t).id,b=Am({dependsOn:w.docker}),f=s.inventoryThresholdAlertRuleEnabled&&("container"!==t||b);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Rc,{title:r.a.createElement(Em,null),collapsible:!0,"data-test-subj":"infraAssetDetailsAlertsCollapsible",id:"alerts",closedSectionContent:r.a.createElement(Lm,{activeAlertCount:m}),initialTriggerValue:c,extraAction:r.a.createElement(F.EuiFlexGroup,{alignItems:"center",responsive:!1},f&&r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(km,{onClick:l,"data-test-subj":"infraAssetDetailsAlertsTabCreateAlertsRuleButton"})),r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(pm,{kuery:`${M}:"${e}"`,dateRange:a,"data-test-subj":"infraAssetDetailsAlertsTabAlertsShowAllButton"})))},r.a.createElement(Om,{onLoaded:e=>{const{activeAlertCount:t=0}=null!=e?e:{};d(t>0?"open":"closed"),p(null==e?void 0:e.activeAlertCount)},dateRange:a,assetId:e,assetType:t})),f&&r.a.createElement(Fn,{filter:`${M}: "${e}"`,nodeType:t,setVisible:l,visible:o,options:null==u||null===(n=u.alertRule)||void 0===n?void 0:n.options}))},Fm={hostCount:k.i18n.translate("xpack.infra.hostsViewPage.metrics.tooltip.hostCount",{defaultMessage:"Number of hosts returned by your search criteria."}),alertsCount:k.i18n.translate("xpack.infra.hostsViewPage.metrics.tooltip.alertsCount",{defaultMessage:"The count of the active alerts"}),cpuUsage:k.i18n.translate("xpack.infra.hostsViewPage.metrics.tooltip.cpuUsage",{defaultMessage:"Percentage of CPU time spent in states other than Idle and IOWait, normalized by the number of CPU cores. This includes both time spent on user space and kernel space."}),diskUsage:k.i18n.translate("xpack.infra.hostsViewPage.metrics.tooltip.diskSpaceUsage",{defaultMessage:"Percentage of disk space used."}),diskLatency:k.i18n.translate("xpack.infra.hostsViewPage.metrics.tooltip.diskLatency",{defaultMessage:"Time spent to service disk requests."}),memoryFree:k.i18n.translate("xpack.infra.hostsViewPage.metrics.tooltip.memoryFree",{defaultMessage:"Total available memory including page cache."}),memoryTotal:k.i18n.translate("xpack.infra.hostsViewPage.metrics.tooltip.memoryTotal",{defaultMessage:"Total memory capacity."}),memoryUsage:k.i18n.translate("xpack.infra.hostsViewPage.metrics.tooltip.memoryUsage",{defaultMessage:"Percentage of main memory usage excluding page cache."}),normalizedLoad1m:k.i18n.translate("xpack.infra.hostsViewPage.metrics.tooltip.normalizedLoad1m",{defaultMessage:"1 minute load average normalized by the number of CPU cores. "}),rx:k.i18n.translate("xpack.infra.hostsViewPage.metrics.tooltip.rx",{defaultMessage:"Number of bytes which have been received per second on the public interfaces of the hosts."}),tx:k.i18n.translate("xpack.infra.hostsViewPage.metrics.tooltip.tx",{defaultMessage:"Number of bytes which have been sent per second on the public interfaces of the hosts."})},Pm=({id:e,dateRange:t,query:a,filters:n,searchSessionId:s,loading:o,...l})=>{const u=Object(i.useMemo)((()=>e in Fm?r.a.createElement(um,{description:Fm[e]}):void 0),[e]);return r.a.createElement(im,{id:`infraAssetDetailsKPI${e}`,dateRange:t,height:150,filters:n,lensAttributes:l,query:a,loading:o,toolTip:u,searchSessionId:s,disableTriggers:!0,hidePanelTitles:!0})},Rm=({dateRange:e,dataView:t,filters:a,getSubtitle:n,query:i,searchSessionId:s,loading:o=!1})=>{const{euiTheme:l}=Object(F.useEuiTheme)(),u=(({dataViewId:e,seriesColor:t,getSubtitle:a})=>{const{value:n=[]}=Zl()((async()=>{const n=Object(g.findInventoryModel)("host"),{cpu:i,memory:r,disk:s}=await n.metrics.getCharts();return[i.metric.cpuUsage,i.metric.normalizedLoad1m,r.metric.memoryUsage,s.metric.diskUsage].map((n=>{return{...n,seriesColor:t,decimals:1,subtitle:a?a(n.value):(i=n.value,i.startsWith("max")?k.i18n.translate("xpack.infra.hostsViewPage.kpi.subtitle.max",{defaultMessage:"Max"}):k.i18n.translate("xpack.infra.assetDetails.kpi.subtitle.average",{defaultMessage:"Average"})),...e&&{dataset:{index:e}}};var i}))}),[e,t,a]);return n})({dataViewId:null==t?void 0:t.id,getSubtitle:n,seriesColor:l.colors.lightestShade});return r.a.createElement(r.a.Fragment,null,u.map(((t,n)=>r.a.createElement(F.EuiFlexItem,{key:n},r.a.createElement(Pm,J()({},t,{dateRange:e,filters:a,query:i,searchSessionId:s,loading:o}))))))};function Um(e){return e.value.startsWith("max")?k.i18n.translate("xpack.infra.containerViewPage.kpi.subtitle.max",{defaultMessage:"Max"}):k.i18n.translate("xpack.infra.assetDetails.kpi.subtitle.average",{defaultMessage:"Average"})}const Vm=({dateRange:e,dataView:t,filters:a,query:n,searchSessionId:i,loading:s=!1})=>{const o=Am({dependsOn:w.docker}),l=Am({dependsOn:w.kubernetesContainer});return o||l?r.a.createElement(r.a.Fragment,null,o&&r.a.createElement(Bm,{dateRange:e,dataView:t,filters:a,query:n,searchSessionId:i,loading:s}),!o&&l&&r.a.createElement(_m,{dateRange:e,dataView:t,filters:a,query:n,searchSessionId:i,loading:s})):null},Bm=({dateRange:e,dataView:t,filters:a,query:n,searchSessionId:i,loading:s=!1})=>{const{euiTheme:o}=Object(F.useEuiTheme)(),l=(({dataViewId:e,seriesColor:t})=>{const{value:a=[]}=Zl()((async()=>{const a=Object(g.findInventoryModel)("container"),{cpu:n,memory:i}=await a.metrics.getCharts();return[n.metric.dockerContainerCpuUsage,i.metric.dockerContainerMemoryUsage].map((a=>({...a,seriesColor:t,decimals:1,...e&&{dataset:{index:e}}})))}),[e,t]);return a})({dataViewId:null==t?void 0:t.id,seriesColor:o.colors.lightestShade});return r.a.createElement(r.a.Fragment,null,l.map(((t,o)=>r.a.createElement(F.EuiFlexItem,{key:o},r.a.createElement(Pm,J()({},t,{dateRange:e,filters:a,query:n,searchSessionId:i,loading:s}))))))},_m=({dateRange:e,dataView:t,filters:a,options:n,query:i,searchSessionId:s,loading:o=!1})=>{const{euiTheme:l}=Object(F.useEuiTheme)(),u=(({dataViewId:e,seriesColor:t})=>{const{value:a=[]}=Zl()((async()=>{const a=Object(g.findInventoryModel)("container"),{cpu:n,memory:i}=await a.metrics.getCharts();return[n.metric.k8sContainerCpuUsage,i.metric.k8sContainerMemoryUsage].map((a=>({...a,seriesColor:t,decimals:1,subtitle:Um(a),...e&&{dataset:{index:e}}})))}),[e,t]);return a})({dataViewId:null==t?void 0:t.id,seriesColor:l.colors.lightestShade});return r.a.createElement(r.a.Fragment,null,u.map(((t,n)=>r.a.createElement(F.EuiFlexItem,{key:n},r.a.createElement(Pm,J()({},t,{dateRange:e,filters:a,query:i,searchSessionId:s,loading:o}))))))},Ym=({assetId:e,assetType:t,dataView:a,dateRange:n})=>{const{searchSessionId:s}=vr(),o=Object(i.useMemo)((()=>[Ul({field:Object(g.findInventoryFields)(t).id,values:[e],dataView:a})]),[a,e,t]);return r.a.createElement(F.EuiFlexGroup,{direction:"row",gutterSize:"s","data-test-subj":"infraAssetDetailsKPIGrid"},"host"===t?r.a.createElement(Rm,{dataView:a,filters:o,dateRange:n,searchSessionId:s}):r.a.createElement(Vm,{dataView:a,filters:o,dateRange:n,searchSessionId:s}))};function Qm(){const{featureFlags:{profilingEnabled:e}}=wc(),t=Object(A.useUiSetting)(q.enableInfrastructureProfilingIntegration);return e&&t}function Gm(){const{showTab:e}=Fr();return Qm()?r.a.createElement(F.EuiFlexGroup,{alignItems:"center",justifyContent:"flexStart",gutterSize:"s","data-test-subj":"infraAssetDetailsCPUProfilingPrompt"},r.a.createElement(F.EuiFlexGroup,{alignItems:"baseline",justifyContent:"flexStart",gutterSize:"xs"},k.i18n.translate("xpack.infra.cpuProfilingPrompt.promptText",{defaultMessage:"View CPU Breakdown using"}),r.a.createElement(F.EuiButtonEmpty,{"data-test-subj":"infraCpuProfilingPromptProfilingButton",onClick:()=>e("profiling"),flush:"both"},k.i18n.translate("xpack.infra.cpuProfilingPrompt.profilingLinkLabel",{defaultMessage:"Profiling"})))):null}var Zm=a(139),Wm=a(262);const Hm=({assetId:e,apmField:t})=>{const{services:a}=Object(S.c)(),{http:n}=a,i=new URLSearchParams(Object(p.encode)(Object(Wm.stringify)({kuery:`${t}:"${e}"`}))),s=n.basePath.prepend(`/app/apm/services?${i}`);return r.a.createElement(F.EuiButtonEmpty,{"data-test-subj":"infraAssetDetailsViewAPMShowAllServicesButton",size:"xs",flush:"both",href:s,iconSide:"right",iconType:"sortRight"},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.hostsViewPage.flyout.viewApmServicesLinkLabel",defaultMessage:"Show all"}))},$m=({assetId:e,assetName:t,assetType:a})=>{var n,i,s,o;const[l]=Mr(),{getNodeDetailUrl:u}=ut(),{dateRange:c,autoRefresh:d,...m}=null!=l?l:{},g=u({assetType:a,assetId:e,search:{...m,name:t,from:null===(n=Object(Ye.parse)(null!==(i=null==c?void 0:c.from)&&void 0!==i?i:""))||void 0===n?void 0:n.valueOf(),to:null===(s=Object(Ye.parse)(null!==(o=null==c?void 0:c.to)&&void 0!==o?o:""))||void 0===s?void 0:s.valueOf()}});return r.a.createElement(F.EuiButtonEmpty,J()({"data-test-subj":"infraAssetDetailsOpenAsPageButton",size:"xs",flush:"both"},g),r.a.createElement(P.FormattedMessage,{id:"xpack.infra.infra.nodeDetails.openAsPage",defaultMessage:"Open as page"}))},Jm=["otlp","opentelemetry/cpp","opentelemetry/dotnet","opentelemetry/erlang","opentelemetry/go","opentelemetry/java","opentelemetry/nodejs","opentelemetry/php","opentelemetry/python","opentelemetry/ruby","opentelemetry/rust","opentelemetry/swift","opentelemetry/android","opentelemetry/webjs"],qm=["java","opentelemetry/java"],Km=["js-base","rum-js","opentelemetry/webjs"];var Xm=a(543),eg=a.n(Xm),tg=a(522),ag=a.n(tg),ng=a(537),ig=a.n(ng),rg=a(523),sg=a.n(rg),og=a(524),lg=a.n(og),ug=a(538),cg=a.n(ug),dg=a(525),mg=a.n(dg),gg=a(526),pg=a.n(gg),Mg=a(539),bg=a.n(Mg),fg=a(527),yg=a.n(fg),jg=a(528),Eg=a.n(jg),hg=a(529),Ig=a.n(hg),Lg=a(530),xg=a.n(Lg),wg=a(531),vg=a.n(wg),Tg=a(532),Sg=a.n(Tg),Cg=a(533),Ng=a.n(Cg),Dg=a(534),Og=a.n(Dg),kg=a(540),Ag=a.n(kg),zg=a(541),Fg=a.n(zg),Pg=a(535),Rg=a.n(Pg),Ug=a(542),Vg=a.n(Ug),Bg=a(536),_g=a.n(Bg);const Yg={cpp:ag.a,dotnet:sg.a,erlang:lg.a,go:mg.a,ios:pg.a,java:yg.a,nodejs:Eg.a,ocaml:Ig.a,opentelemetry:xg.a,php:vg.a,python:Sg.a,ruby:Ng.a,rum:Og.a,rust:Rg.a,android:_g.a},Qg={...Yg,cpp:ig.a,erlang:cg.a,ios:bg.a,php:Ag.a,rum:Fg.a,rust:Vg.a};function Gg(e){const t=e.toLowerCase();if(function(e){return Km.includes(e)}(t))return"rum";if(function(e){return(null==e?void 0:e.startsWith("opentelemetry/java"))||qm.includes(e)}(t))return"java";if(function(e){return"ios/swift"===(null==e?void 0:e.toLowerCase())}(t))return"ios";if(function(e){return"android/java"===(e&&e.toLowerCase())}(t))return"android";const a=t.replace(/^opentelemetry\//,"");return Object.keys(Yg).includes(a)?a:Jm.includes(t)?"opentelemetry":void 0}const Zg=({serviceName:e,agentName:t,dateRange:a})=>{const n=Object(b.useLinkProps)({app:"apm",pathname:`/services/${e}/overview`,search:{rangeFrom:a.from,rangeTo:a.to}});return r.a.createElement(F.EuiText,null,r.a.createElement(Wg,{"data-test-subj":"serviceLink",color:"hollow",href:n.href,title:k.i18n.translate("xpack.infra.assetDetails.services.serviceButtonTitle",{defaultMessage:"{serviceName} last reported by {agentName}",values:{serviceName:e,agentName:t}})},t?r.a.createElement(Hg,{agentName:t,size:"m"}):null,r.a.createElement("span",{"data-test-subj":`serviceNameText-${e}`},e)))};var Wg=an()(F.EuiBadge)({padding:"4px"}),Hg=an()((function({agentName:e,size:t="l",...a}){const n=function(e,t=!1){var a;const n=e&&Gg(e);return n&&null!==(a=t?Qg[n]:Yg[n])&&void 0!==a?a:eg.a}(e,"DARK"===Object(F.useEuiTheme)().colorMode);return Object(ea.jsx)(F.EuiIcon,J()({type:n,size:t,title:e},a))})).withConfig({displayName:"_StyledAgentIcon",componentId:"sc-uladx8-0"})({marginRight:"4px"});const $g=({hostName:e,dateRange:t})=>{const{isServerlessEnv:a}=Object(S.e)(),n=Object(b.useLinkProps)({app:"home",hash:"/tutorial/apm"}),s=Object(b.useLinkProps)({app:"apm",pathname:"/onboarding"}),o=Object(i.useMemo)((()=>({filters:{[he.c]:e},from:t.from,to:t.to})),[e,t.from,t.to]),{error:l,loading:u,response:c}=function(e){const{request$:t}=al(),a=Object(i.useMemo)((()=>({query:{...e,filters:JSON.stringify(e.filters)}})),[e]),{error:n,loading:r,response:s,makeRequest:o}=Object(Ko.a)("/api/infra/services","GET",void 0,(e=>Object(le.pipe)(Zm.c.decode(e),Object(ue.fold)(Object(At.d)(At.a),ce.identity))),void 0,void 0,!0,a);return Object(i.useEffect)((()=>{t?t.next(o):o()}),[o,t]),{error:n,loading:r,response:s,makeRequest:o}}(o),d=null==c?void 0:c.services,m=null==d?void 0:d.length;return r.a.createElement(Rc,{title:r.a.createElement(hm,null),collapsible:!0,"data-test-subj":"infraAssetDetailsServicesCollapsible",id:"services",extraAction:r.a.createElement(Hm,{assetId:e,apmField:I})},l?r.a.createElement(F.EuiCallOut,{title:k.i18n.translate("xpack.infra.assetDetails.services.getServicesRequestErrorTitle",{defaultMessage:"Error"}),color:"danger",iconType:"alert"},k.i18n.translate("xpack.infra.assetDetails.services.getServicesRequestError",{defaultMessage:"An error occurred while fetching services."})):u?r.a.createElement(F.EuiLoadingSpinner,{size:"m"}):m?r.a.createElement(F.EuiFlexGroup,{wrap:!0,responsive:!1,gutterSize:"xs","data-test-subj":"infraAssetDetailsServicesContainer"},d.map(((e,a)=>r.a.createElement(F.EuiFlexItem,{grow:!1,key:a},r.a.createElement(Zg,{serviceName:e.serviceName,agentName:e.agentName,dateRange:t}))))):r.a.createElement("p",null,r.a.createElement(P.FormattedMessage,{id:"xpack.infra.assetDetails.services.noServicesMsg",defaultMessage:"No services found on this host. Click {apmTutorialLink} to instrument your services with APM.",values:{apmTutorialLink:r.a.createElement(F.EuiLink,{"data-test-subj":"assetDetailsTooltiAPMTutorialLink",href:a?s.href:n.href},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.assetDetails.table.services.noServices.tutorialLink",defaultMessage:"here"}))}})))},Jg=({children:e,columns:t})=>{const a=r.a.Children.toArray(e),n=a.length,{grid:i,lastRow:s}=r.a.useMemo((()=>{const e=n%t!=0;return{grid:e?a.slice(0,-1):a,lastRow:e?a[n-1]:void 0}}),[a,n,t]);return 1===n?r.a.createElement(r.a.Fragment,null,e):r.a.createElement(F.EuiFlexGroup,{gutterSize:"s",direction:"column"},r.a.createElement(F.EuiFlexGrid,{columns:t,gutterSize:"s"},i.map(((e,t)=>r.a.createElement(F.EuiFlexItem,{key:t},e)))),s&&r.a.createElement(F.EuiFlexItem,null,s))};var qg=a(173);const Kg=({id:e,queryField:t,overrides:a,dateRange:n,assetId:s,lensAttributes:o})=>{const{setDateRange:l}=xr(),{searchSessionId:u}=vr(),{services:{dataViews:c}}=Object(S.c)(),{value:d=[]}=Zl()((async()=>{var e;const a=await Object(qg.b)({dataViewId:null===(e=o.dataset)||void 0===e?void 0:e.index,dataViewsService:c});return[Ul({field:t,values:[s],dataView:a.dataViewReference})]}),[s,c,o.dataset,t]),m=Object(i.useCallback)((({range:e,preventDefault:t})=>{l({from:new Date(e[0]).toISOString(),to:new Date(e[1]).toISOString()}),t()}),[l]),g=Object(i.useCallback)((e=>{const t=function({data:e}){if(!function(e){var t;return Array.isArray(e)&&Array.isArray(null===(t=e[0])||void 0===t?void 0:t.cells)&&e[0].cells.length>0}(e))return null;const{column:t,row:a}=function(e){var t,a;const n=e[0].table,i=e[0].cells[0];return{column:null!==(t=n.columns[i.column])&&void 0!==t?t:null,row:null!==(a=n.rows[i.row])&&void 0!==a?a:null}}(e);if(!t||!a||"date"!==t.meta.type)return null;const n=a[t.id],i=(r=e[0].table.rows,s=t.id,r.length<2?0:Math.abs(r[1][s]-r[0][s]));var r,s;return{from:new Date(n).toISOString(),to:new Date(n+i).toISOString()}}(e);null!==t&&(l(t),e.preventDefault())}),[l]);return r.a.createElement(im,{id:`infraAssetDetailsMetricChart${e}`,borderRadius:"m",dateRange:n,height:300,searchSessionId:u,filters:d,lensAttributes:o,overrides:a,onBrushEnd:m,onFilter:g})},Xg=r.a.forwardRef((({assetId:e,dataView:t,dateRange:a,metric:n,onShowAll:i,overview:s=!1},o)=>{const{charts:l}=(({metric:e,dataViewId:t,overview:a})=>{const{value:n=[],error:i}=Zl()((async()=>(await(async({metric:e,overview:t})=>{const a=Object(g.findInventoryModel)("host"),{cpu:n,memory:i,network:r,disk:s,logs:o}=await a.metrics.getCharts();switch(e){case"cpu":return t?[n.xy.cpuUsage,n.xy.normalizedLoad1m]:[n.xy.cpuUsage,n.xy.cpuUsageBreakdown,n.xy.normalizedLoad1m,n.xy.loadBreakdown];case"memory":return t?[i.xy.memoryUsage]:[i.xy.memoryUsage,i.xy.memoryUsageBreakdown];case"network":return[r.xy.rxTx];case"disk":return t?[s.xy.diskUsageByMountPoint,s.xy.diskIOReadWrite]:[s.xy.diskUsageByMountPoint,s.xy.diskIOReadWrite,s.xy.diskThroughputReadWrite];case"log":return[o.xy.logRate];default:return[]}})({metric:e,overview:a})).map((e=>({...e,...t&&{dataset:{index:t}}})))),[t,e,a]);return{charts:n,error:i}})({metric:n,dataViewId:null==t?void 0:t.id,overview:s});return r.a.createElement(Rc,{title:r.a.createElement(Pc,{title:Yu[n],tooltipContent:r.a.createElement(F.EuiText,{size:"xs"},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.assetDetails.charts.host.toolTip",defaultMessage:"See host-related {link} for more information",values:{link:r.a.createElement(F.EuiLink,{"data-test-subj":"infraAssetDetailsViewHostMetricsDocumentationLink",href:`${sm}#key-metrics-${n}`,target:"_blank",className:Object(Xl.cx)({[Xl.css`
                            text-transform: lowercase;
                          `]:"cpu"!==n})},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.assetDetails.charts.host.toolTip.linkText",defaultMessage:"{metric} metrics",values:{metric:Yu[n]}}))}}))}),"data-test-subj":`infraAssetDetailsHostChartsSection${n}`,id:n,ref:o,extraAction:i?r.a.createElement(F.EuiButtonEmpty,{"data-test-subj":"infraAssetDetailsHostChartsShowAllButton",onClick:()=>i(n),size:"xs",flush:"both",iconSide:"right",iconType:"sortRight"},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.assetDetails.charts.host.showAllButton",defaultMessage:"Show all"})):null},r.a.createElement(Jg,{columns:2},l.map((t=>r.a.createElement(Kg,{id:t.id,key:t.id,assetId:e,dateRange:a,lensAttributes:t,queryField:Object(g.findInventoryFields)("host").id})))))})),ep=r.a.forwardRef((({assetId:e,dataView:t,dateRange:a,onShowAll:n,overview:s},o)=>{const{charts:l}=(({dataViewId:e,overview:t})=>{const a=Object(i.useMemo)((()=>Object(g.findInventoryModel)("host")),[]),{value:n=[],error:r}=Zl()((async()=>{const{kibernetesNode:n}=await a.metrics.getCharts();return(t?[n.xy.nodeCpuCapacity,n.xy.nodeMemoryCapacity]:[n.xy.nodeCpuCapacity,n.xy.nodeMemoryCapacity,n.xy.nodeDiskCapacity,n.xy.nodePodCapacity]).map((t=>({...t,...e&&{dataset:{index:e}}})))}),[e,t,a.metrics]);return{charts:n,error:r}})({dataViewId:null==t?void 0:t.id,overview:s});return Am({dependsOn:w.kubernetesNode})?r.a.createElement(Rc,{title:r.a.createElement(Fc,{title:Yu.kubernetes}),"data-test-subj":"infraAssetDetailsKubernetesChartsSection",id:"kubernetes",ref:o,extraAction:n?r.a.createElement(F.EuiButtonEmpty,{"data-test-subj":"infraAssetDetailsKubernetesChartsShowAllButton",onClick:()=>n("kubernetes"),size:"xs",flush:"both",iconSide:"right",iconType:"sortRight"},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.assetDetails.charts.kubernetes.showAllButton",defaultMessage:"Show all"})):null},r.a.createElement(Jg,{columns:2},l.map((t=>r.a.createElement(Kg,{id:t.id,key:t.id,assetId:e,dateRange:a,lensAttributes:t,queryField:Object(g.findInventoryFields)("host").id}))))):null})),tp=r.a.forwardRef((({assetId:e,dataView:t,dateRange:a,metric:n,onShowAll:i},s)=>{const{charts:o}=(({metric:e,metricsDataViewId:t})=>{const{value:a=[],error:n}=Zl()((async()=>(await(async e=>{const t=Object(g.findInventoryModel)("container"),{cpu:a,memory:n}=await t.metrics.getCharts();switch(e){case"cpu":return[a.xy.k8sContainerCpuUsage];case"memory":return[n.xy.k8sContainerMemoryUsage];default:return[]}})(e)).map((e=>({...e,...t&&{dataset:{index:t}}})))),[t,e]);return{charts:a,error:n}})({metric:n,metricsDataViewId:null==t?void 0:t.id});return r.a.createElement(Rc,{title:r.a.createElement(Pc,{title:Qu[n],tooltipContent:r.a.createElement(F.EuiText,{size:"xs"},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.assetDetails.charts.container.k8s.toolTip",defaultMessage:"See container-related {link} for more information",values:{link:r.a.createElement(F.EuiLink,{"data-test-subj":"infraAssetDetailsViewContainerK8sMetricsDocumentationLink",href:`${lm}#key-metrics-${n}`,target:"_blank",className:Object(Xl.cx)({[Xl.css`
                          text-transform: lowercase;
                        `]:"cpu"!==n})},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.assetDetails.charts.container.k8s.toolTip.linkText",defaultMessage:"{metric} metrics",values:{metric:Qu[n]}}))}}))}),"data-test-subj":`infraAssetDetailsK8ContainerChartsSection${n}`,id:n,ref:s,extraAction:i?r.a.createElement(F.EuiButtonEmpty,{"data-test-subj":"infraAssetDetailsKubernetesChartsShowAllButton",onClick:()=>i(n),size:"xs",flush:"both",iconSide:"right",iconType:"sortRight"},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.assetDetails.charts.kubernetes.showAllButton",defaultMessage:"Show all"})):null},r.a.createElement(Jg,{columns:2},o.map((t=>r.a.createElement(Kg,{id:t.id,key:t.id,lensAttributes:t,assetId:e,dateRange:a,queryField:Object(g.findInventoryFields)("container").id})))))})),ap=r.a.forwardRef((({assetId:e,dataView:t,dateRange:a,metric:n,onShowAll:i},s)=>{const{charts:o}=(({metric:e,metricsDataViewId:t})=>{const{value:a=[],error:n}=Zl()((async()=>(await(async e=>{const t=Object(g.findInventoryModel)("container"),{cpu:a,memory:n,network:i,diskIO:r}=await t.metrics.getCharts();switch(e){case"cpu":return[a.xy.dockerContainerCpuUsage];case"memory":return[n.xy.dockerContainerMemoryUsage];case"network":return[i.xy.dockerContainerRxTx];case"disk":return[r.xy.dockerContainerDiskIOReadWrite];default:return[]}})(e)).map((e=>({...e,...t&&{dataset:{index:t}}})))),[t,e]);return{charts:a,error:n}})({metric:n,metricsDataViewId:null==t?void 0:t.id});return r.a.createElement(Rc,{title:r.a.createElement(Pc,{title:Qu[n],tooltipContent:r.a.createElement(F.EuiText,{size:"xs"},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.assetDetails.charts.container.toolTip",defaultMessage:"See container-related {link} for more information",values:{link:r.a.createElement(F.EuiLink,{"data-test-subj":"infraAssetDetailsViewContainerMetricsDocumentationLink",href:`${lm}#key-metrics-${n}`,target:"_blank",className:Object(Xl.cx)({[Xl.css`
                            text-transform: lowercase;
                          `]:"cpu"!==n})},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.assetDetails.charts.container.toolTip.linkText",defaultMessage:"{metric} metrics",values:{metric:Qu[n]}}))}}))}),"data-test-subj":`infraAssetDetailsDockerChartsSection${n}`,id:n,ref:s,extraAction:i?r.a.createElement(F.EuiButtonEmpty,{"data-test-subj":"infraAssetDetailsHostChartsShowAllButton",onClick:()=>i(n),size:"xs",flush:"both",iconSide:"right",iconType:"sortRight"},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.assetDetails.charts.host.showAllButton",defaultMessage:"Show all"})):null},r.a.createElement(Jg,{columns:2},o.map((t=>r.a.createElement(Kg,{id:t.id,key:t.id,lensAttributes:t,assetId:e,dateRange:a,queryField:Object(g.findInventoryFields)("container").id})))))})),np=e=>{const{showTab:t}=Fr(),a=e=>{t(f.METRICS,{scrollTo:e})};return r.a.createElement(F.EuiFlexGroup,{gutterSize:"m",direction:"column"},r.a.createElement(Xg,J()({},e,{metric:"cpu",onShowAll:a,overview:!0})),r.a.createElement(F.EuiFlexGrid,{columns:2,gutterSize:"s"},r.a.createElement(Xg,J()({},e,{metric:"memory",onShowAll:a,overview:!0})),r.a.createElement(Xg,J()({},e,{metric:"network",onShowAll:a,overview:!0}))),r.a.createElement(Xg,J()({},e,{metric:"disk",onShowAll:a,overview:!0})),r.a.createElement(ep,J()({},e,{onShowAll:a,overview:!0})))},ip=e=>{const{showTab:t}=Fr(),a=Am({dependsOn:w.docker}),n=Am({dependsOn:w.kubernetesContainer}),i=e=>{t(f.METRICS,{scrollTo:e})};return a||n?r.a.createElement(F.EuiFlexGroup,{gutterSize:"m",direction:"column"},r.a.createElement(F.EuiFlexGrid,{columns:2,gutterSize:"s"},a&&v.map((t=>r.a.createElement(ap,J()({key:t},e,{metric:t,onShowAll:i})))),!a&&n&&T.map((t=>r.a.createElement(tp,J()({key:t},e,{metric:t,onShowAll:i})))))):null},rp=({assetType:e,...t})=>{const a=Object(i.useMemo)((()=>{switch(e){case"host":return r.a.createElement(np,t);case"container":return r.a.createElement(ip,t);default:return null}}),[e,t]);return r.a.createElement(Rc,{title:r.a.createElement(jm,{assetType:e}),"data-test-subj":"infraAssetDetailsMetricsCollapsible",id:"metrics",collapsible:!0},a)},sp=()=>{const e=Object(i.useRef)(null),{dateRange:t}=xr(),{asset:a,renderMode:n}=ol(),{metadata:s,loading:o,error:l}=il(),{metrics:u}=$l(),c="page"===n.mode,d=ll(e,{dateRange:t}),m=c?r.a.createElement(Yc,{metadata:s,loading:o,assetType:a.type}):r.a.createElement(Qc,{metadata:s,loading:o,assetType:a.type});return r.a.createElement(F.EuiFlexGroup,{direction:"column",gutterSize:"m",ref:e},r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(Ym,{assetId:a.id,assetType:a.type,dateRange:d.dateRange,dataView:u.dataView}),"host"===a.type?r.a.createElement(Gm,null):null),r.a.createElement(F.EuiFlexItem,{grow:!1},l&&!o?r.a.createElement(cu,null):m,r.a.createElement(op,null)),"host"===a.type||"container"===a.type?r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(zm,{assetId:a.id,assetType:a.type,dateRange:d.dateRange}),r.a.createElement(op,null)):null,"host"===a.type?r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement($g,{hostName:a.id,dateRange:d.dateRange}),r.a.createElement(op,null)):null,r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(rp,{assetId:a.id,assetType:a.type,dateRange:d.dateRange,dataView:u.dataView})))},op=()=>r.a.createElement(lp,{margin:"m"});var lp=an()(F.EuiHorizontalRule).withConfig({displayName:"_StyledEuiHorizontalRule",componentId:"sc-6oe5nl-0"})(["margin-bottom:0;"]);const up=r.a.forwardRef((({children:e},t)=>{const{euiTheme:a}=Object(F.useEuiTheme)(),{renderMode:n}=ol(),{scrollTo:s,setScrollTo:o}=Fr(),l=Object(i.useRef)(null),u=Object(i.useRef)(null),c=Object(i.useRef)(new Map),d=Object(i.useRef)({}),m=Object(i.useRef)(null),g=Object(F.useIsWithinBreakpoints)(["xl"],!0),p=Object(F.useResizeObserver)(m.current),M="flyout"===n.mode?"0px":"var(--kbnAppHeadersOffset, var(--euiFixedHeadersOffset, 0))",b=`calc(${M} + ${g?`${a.size.s} - 1px`:`${p.height}px`})`,f=Object(i.useCallback)((e=>{const t=null==e?void 0:e.getAttribute("data-section-id"),a=null==e?void 0:e.innerText;t&&(d.current[t]=e,c.current.has(t)||c.current.set(t,a))}),[]),y=Object(i.useCallback)(((e,t=5,a=300)=>{var n,i,r;if((null!==(n=null===(i=d.current[e])||void 0===i?void 0:i.querySelectorAll(".euiPanel"))&&void 0!==n?n:[]).length>0)null===(r=d.current[e])||void 0===r||r.scrollIntoView({behavior:"smooth",block:"start"});else if(t>0){const n=2*a;l.current=setTimeout((()=>y(e,t-1)),n)}}),[]);Object(i.useEffect)((()=>{s&&(u.current=setTimeout((()=>y(s)),100))}),[s,y]),Object(i.useEffect)((()=>()=>{[l.current,u.current].filter((e=>!!e)).forEach((e=>clearTimeout(e)))}),[]);const j=[...c.current];return r.a.createElement(cp,{gutterSize:"s",direction:"row","data-test-subj":"infraAssetDetailsMetricChartsContent",ref:t,$_css:Object(F.useEuiMaxBreakpoint)("xl")},r.a.createElement(dp,{grow:!1,$_css2:M,$_css3:a.colors.emptyShade,$_css4:a.levels.navigation,$_css5:Object(F.useEuiMinBreakpoint)("xl")},r.a.createElement("div",{ref:m},r.a.createElement(mp,{flush:!0,$_css6:Object(F.useEuiMaxBreakpoint)("xl"),$_css7:a.size.xl,$_css8:a.border.thin},j.map((([e,t])=>r.a.createElement(gp,{"data-test-subj":`infraMetricsQuickAccessItem${e}`,onClick:()=>{var t;(t=e)!==s?o(t):y(t)},color:"text",size:"s",className:Object(Xl.cx)({[Xl.css`
                      text-decoration: underline;
                    `]:e===s}),label:t,$_css9:a.size.s})))))),r.a.createElement(F.EuiFlexItem,null,r.a.createElement(pp,{gutterSize:"m",direction:"column",$_css10:a.size.s,$_css11:b},r.a.Children.map(e,((e,t)=>{if(r.a.isValidElement(e))return r.a.cloneElement(e,{ref:f,key:t})})))))}));var cp=an()(F.EuiFlexGroup)`
          ${e=>e.$_css} {
            flex-direction: column;
          }
        `,dp=an()(F.EuiFlexItem)`
            position: sticky;
            top: ${e=>e.$_css2};
            background: ${e=>e.$_css3};
            min-width: 100px;
            z-index: ${e=>e.$_css4};
            ${e=>e.$_css5} {
              align-self: flex-start;
            }
          `,mp=an()(F.EuiListGroup)`
                ${e=>e.$_css6} {
                  flex-direction: row;
                  flex-wrap: wrap;
                  gap: 0px ${e=>e.$_css7};
                  min-width: 100%;
                  border-bottom: ${e=>e.$_css8};
                }
              `,gp=an()(F.EuiListGroupItem)`
                    background-color: unset;
                    & > button {
                      padding-block: ${e=>e.$_css9};
                      padding-inline: 0px;
                    }
                    &:hover,
                    &:focus-within {
                      background-color: unset;
                    }
                  `,pp=an()(F.EuiFlexGroup).withConfig({displayName:"_StyledEuiFlexGroup2",componentId:"sc-9q12b3-0"})(["padding-top:",";& > [data-section-id]{scroll-margin-top:",";}"],(e=>e.$_css10),(e=>e.$_css11));const Mp=["cpu","memory","network","disk","log"],bp=()=>{const e=Object(i.useRef)(null),{dateRange:t}=xr(),{asset:a}=ol(),{metrics:n,logs:s}=$l(),o=ll(e,{dateRange:t});return r.a.createElement(up,{ref:e},Mp.map((e=>r.a.createElement(Xg,{key:e,assetId:a.id,dataView:"log"===e?s.dataView:n.dataView,dateRange:o.dateRange,metric:e}))),r.a.createElement(ep,{assetId:a.id,dataView:n.dataView,dateRange:o.dateRange}))},fp=()=>{const e=Object(i.useRef)(null),{dateRange:t}=xr(),{asset:a}=ol(),{metrics:n}=$l(),s=ll(e,{dateRange:t}),o=Am({dependsOn:w.docker}),l=Am({dependsOn:w.kubernetesContainer});return o||l?r.a.createElement(up,{ref:e},o&&v.map((e=>r.a.createElement(ap,{key:e,assetId:a.id,dataView:n.dataView,dateRange:s.dateRange,metric:e}))),!o&&l&&T.map((e=>r.a.createElement(tp,{key:e,assetId:a.id,dataView:n.dataView,dateRange:s.dateRange,metric:e})))):null},yp=()=>{const{asset:e}=ol();switch(e.type){case"host":return r.a.createElement(bp,null);case"container":return r.a.createElement(fp,null);default:return null}};var jp=a(106),Ep=(a(314),a(315),a(316)),hp=a.n(Ep),Ip=a(317),Lp=a.n(Ip),xp=a(307);function wp({actions:e}){const t=Object(xp.a)();return r.a.createElement(F.EuiEmptyPrompt,{hasShadow:!1,hasBorder:!1,icon:r.a.createElement(F.EuiImage,{size:"fullWidth",src:t?Lp.a:hp.a,alt:""}),title:r.a.createElement("h2",null,k.i18n.translate("xpack.infra.assetDetails.dashboards.emptyTitle",{defaultMessage:"Want your own view?"})),layout:"horizontal",color:"plain",body:r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",null,r.a.createElement("li",null,k.i18n.translate("xpack.infra.assetDetails.dashboards.emptyBody.first",{defaultMessage:"Link your own dashboard to this view"})),r.a.createElement("li",null,k.i18n.translate("xpack.infra.assetDetails.dashboards.emptyBody.second",{defaultMessage:"Provide the best visualizations relevant to your business"})),r.a.createElement("li",null,k.i18n.translate("xpack.infra.assetDetails.dashboards.emptyBody",{defaultMessage:"Add or remove them at any time"}))),r.a.createElement("p",null,k.i18n.translate("xpack.infra.assetDetails.dashboards.emptyBody.getStarted",{defaultMessage:"To get started, add your dashboard"}))),actions:e})}let vp=function(e){return e.LOADING="loading",e.SUCCESS="success",e.FAILURE="failure",e.NOT_INITIATED="not_initiated",e}({});function Tp(e=""){const{services:{dashboard:t}}=Object(S.c)(),{notifications:a}=Object(A.useKibana)(),[n,r]=Object(i.useState)({data:[],status:vp.NOT_INITIATED});return Object(i.useEffect)((()=>{(async()=>{r({data:[],status:vp.LOADING});try{const a=await(null==t?void 0:t.findDashboardsService()),n=await a.search({search:e,size:1e3});r({data:n.hits,status:vp.SUCCESS})}catch(e){r({data:[],status:vp.FAILURE}),a.toasts.danger({title:k.i18n.translate("xpack.infra.fetchingDashboards.addFailure.toast.title",{defaultMessage:"Error while fetching dashboards"}),body:e.message})}})()}),[t,a.toasts,e]),n}const Sp=oe.type({assetType:g.ItemTypeRT}),Cp=oe.type({dashboardSavedObjectId:oe.string,dashboardFilterAssetIdEnabled:oe.boolean}),Np=oe.type({id:oe.string}),Dp=oe.intersection([Sp,Cp,Np]),Op=oe.array(Dp),kp=(oe.intersection([Sp,Np]),oe.intersection([Sp,Np]),oe.string),Ap={create:k.i18n.translate("xpack.infra.linkDashboards.addFailure.toast.title",{defaultMessage:"Error while linking dashboards"}),update:k.i18n.translate("xpack.infra.updatingLinkedDashboards.addFailure.toast.title",{defaultMessage:"Error while updating linked dashboards"}),delete:k.i18n.translate("xpack.infra.deletingLinkedDashboards.addFailure.toast.title",{defaultMessage:"Error while deleting linked dashboards"})},zp=e=>Object(le.pipe)(Dp.decode(e),Object(ue.fold)(Object(At.d)(At.a),ce.identity)),Fp=()=>{const{services:e}=Object(S.c)(),{notifications:t}=Object(A.useKibana)(),a=Object(i.useCallback)((e=>{e&&t.toasts.danger({title:Ap.update,body:e})}),[t.toasts]),[n,r]=Object(Xr.b)({cancelPreviousOn:"resolution",createPromise:async({assetType:t,id:a,dashboardSavedObjectId:n,dashboardFilterAssetIdEnabled:i})=>{const r=await e.http.fetch(`/api/infra/${t}/custom-dashboards/${a}`,{method:"PUT",body:JSON.stringify({assetType:t,dashboardSavedObjectId:n,dashboardFilterAssetIdEnabled:i})});return zp(r)},onResolve:e=>e,onReject:e=>a(null==e?void 0:e.message)},[]);return{updateCustomDashboard:r,isUpdateLoading:"pending"===n.state,hasUpdateError:"rejected"===n.state}},Pp=()=>{const{services:e}=Object(S.c)(),{notifications:t}=Object(A.useKibana)(),a=Object(i.useCallback)((e=>{e&&t.toasts.danger({title:Ap.delete,body:e})}),[t.toasts]),[n,r]=Object(Xr.b)({cancelPreviousOn:"resolution",createPromise:async({assetType:t,id:a})=>{return n=await e.http.fetch(`/api/infra/${t}/custom-dashboards/${a}`,{method:"DELETE"}),Object(le.pipe)(kp.decode(n),Object(ue.fold)(Object(At.d)(At.a),ce.identity));var n},onResolve:e=>e,onReject:e=>a(null==e?void 0:e.message)},[]);return{deleteCustomDashboard:r,isDeleteLoading:"pending"===n.state,hasDeleteError:"rejected"===n.state}},Rp=()=>{const{services:e}=Object(S.c)(),{notifications:t}=Object(A.useKibana)(),a=Object(i.useCallback)((e=>{e&&t.toasts.danger({title:Ap.delete,body:e})}),[t.toasts]),[n,r]=Object(Xr.b)({cancelPreviousOn:"resolution",createPromise:async({assetType:t,dashboardSavedObjectId:a,dashboardFilterAssetIdEnabled:n})=>{const i=await e.http.fetch(`/api/infra/${t}/custom-dashboards`,{method:"POST",body:JSON.stringify({dashboardSavedObjectId:a,dashboardFilterAssetIdEnabled:n})});return zp(i)},onResolve:e=>e,onReject:e=>a(null==e?void 0:e.message)},[]);return{createCustomDashboard:r,isCreateLoading:"pending"===n.state,hasCreateError:"rejected"===n.state}};function Up({onClose:e,onRefresh:t,currentDashboard:a,customDashboards:n,assetType:s}){var o;const{notifications:l}=Object(A.useKibana)(),{data:u,status:c}=Tp(),[,d]=Mr(),{euiTheme:m}=Object(F.useEuiTheme)(),[g,p]=Object(i.useState)(null===(o=null==a?void 0:a.dashboardFilterAssetIdEnabled)||void 0===o||o),[M,b]=Object(i.useState)(a?[{label:a.title,value:a.dashboardSavedObjectId}]:[]),{isUpdateLoading:f,updateCustomDashboard:y}=Fp(),{isCreateLoading:j,createCustomDashboard:E}=Rp(),h=!(null==a||!a.id),I=f||j,L=Object(i.useMemo)((()=>null==u?void 0:u.map((e=>{var t;return{label:e.attributes.title,value:e.id,disabled:null!==(t=null==n?void 0:n.some((({dashboardSavedObjectId:t})=>e.id===t)))&&void 0!==t&&t}}))),[u,n]),x=Object(i.useCallback)((()=>p(!g)),[g]),w=Object(i.useCallback)((e=>b(e)),[]),v=Object(i.useCallback)((async function(){const[n]=M;try{if(!n.value)return;const e={assetType:s,dashboardSavedObjectId:n.value,dashboardFilterAssetIdEnabled:g},i=h&&null!=a&&a.id?await y({...e,id:a.id}):await E(e),r=h?Bp:Vp;i&&!(h?f:j)&&l.toasts.success(r(n.label)),d({dashboardId:n.value}),t()}catch(e){l.toasts.danger({title:k.i18n.translate("xpack.infra.customDashboards.addFailure.toast.title",{defaultMessage:'Error while adding "{dashboardName}" dashboard',values:{dashboardName:n.label}}),body:e.message})}e()}),[M,e,h,d,t,y,s,null==a?void 0:a.id,g,f,l.toasts,E,j]);return r.a.createElement(F.EuiModal,{onClose:e,"data-test-subj":"infraSelectCustomDashboard"},r.a.createElement(F.EuiModalHeader,null,r.a.createElement(F.EuiModalHeaderTitle,null,h?k.i18n.translate("xpack.infra.customDashboards.selectDashboard.modalTitle.edit",{defaultMessage:"Edit dashboard"}):k.i18n.translate("xpack.infra.customDashboards.selectDashboard.modalTitle.link",{defaultMessage:"Select dashboard"}))),r.a.createElement(F.EuiModalBody,null,r.a.createElement(F.EuiFlexGroup,{direction:"column",justifyContent:"center"},r.a.createElement(F.EuiComboBox,{isLoading:c===vp.LOADING,isDisabled:c===vp.LOADING||h,placeholder:k.i18n.translate("xpack.infra.customDashboards.selectDashboard.placeholder",{defaultMessage:"Select dashboard"}),singleSelection:{asPlainText:!0},options:L,selectedOptions:M,onChange:w,isClearable:!0}),r.a.createElement(_p,{compressed:!0,label:r.a.createElement("p",null,r.a.createElement(Yp,{$_css:m.size.xs},k.i18n.translate("xpack.infra.customDashboard.addDashboard.useContextFilterLabel",{defaultMessage:"Filter by host name"})),r.a.createElement(F.EuiToolTip,{position:"bottom",content:k.i18n.translate("xpack.infra.customDashboard.addDashboard.useContextFilterLabel.tooltip",{defaultMessage:"Enabling this option will apply filters to the dashboard based on your chosen host."})},r.a.createElement(F.EuiIcon,{type:"questionInCircle",title:k.i18n.translate("xpack.infra.saveDashboardModal.euiIcon.iconWithTooltipLabel",{defaultMessage:"Icon with tooltip"})}))),onChange:x,checked:g}))),r.a.createElement(F.EuiModalFooter,null,r.a.createElement(F.EuiButtonEmpty,{"data-test-subj":"infraSelectDashboardCancelButton",onClick:e,isDisabled:I},k.i18n.translate("xpack.infra.customDashboards.selectDashboard.cancel",{defaultMessage:"Cancel"})),r.a.createElement(F.EuiButton,{"data-test-subj":"infraSelectDashboardButton",onClick:v,isLoading:I,fill:!0},h?k.i18n.translate("xpack.infra.customDashboards.selectDashboard.edit",{defaultMessage:"Save"}):k.i18n.translate("xpack.infra.customDashboards.selectDashboard.add",{defaultMessage:"Link dashboard"}))))}function Vp(e){return{title:k.i18n.translate("xpack.infra.customDashboards.linkSuccess.toast.title",{defaultMessage:'Added "{dashboardName}" dashboard',values:{dashboardName:e}}),body:k.i18n.translate("xpack.infra.customDashboards.linkSuccess.toast.text",{defaultMessage:"Your dashboard is now visible in the asset details page."})}}function Bp(e){return{title:k.i18n.translate("xpack.infra.customDashboards.editSuccess.toast.title",{defaultMessage:'Edited "{dashboardName}" dashboard',values:{dashboardName:e}}),body:k.i18n.translate("xpack.infra.customDashboards.editSuccess.toast.text",{defaultMessage:"Your dashboard link has been updated"})}}var _p=an()(F.EuiSwitch)({alignItems:"center"}),Yp=an()("span").withConfig({displayName:"_StyledSpan",componentId:"sc-w4sloi-0"})((e=>({marginRight:e.$_css})));const Qp=()=>{const{services:{application:{capabilities:e}}}=Object(S.c)();return{canSave:!0===e.savedObjectsManagement.edit,canDelete:!0===e.savedObjectsManagement.delete}};function Gp({onRefresh:e,newDashboardButton:t=!1,customDashboards:a,assetType:n}){const[s,o]=Object(i.useState)(!1),{canSave:l}=Qp(),u=Object(i.useCallback)((()=>o(!0)),[]),c=Object(i.useCallback)((()=>o(!1)),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.EuiToolTip,{position:"top",content:l?void 0:r.a.createElement("p",{"data-test-subj":"infraCannotAddDashboardTooltip"},k.i18n.translate("xpack.infra.linkDashboard.tooltip.youDoNotHavePermissionToUseThisFeature",{defaultMessage:"You do not have permission to use this feature. Please ask your administrator for access."}))},t?r.a.createElement(F.EuiButtonEmpty,{color:"text",size:"s",iconType:"plusInCircle","data-test-subj":"infraLinkDashboardMenu",onClick:u,disabled:!l},k.i18n.translate("xpack.infra.assetDetails.dashboards.linkNewDashboardButtonLabel",{defaultMessage:"Link new dashboard"})):r.a.createElement(F.EuiButton,{"data-test-subj":"infraAddDashboard",onClick:u,disabled:!l},k.i18n.translate("xpack.infra.assetDetails.dashboards.linkButtonLabel",{defaultMessage:"Link dashboard"}))),s&&r.a.createElement(Up,{onClose:c,onRefresh:e,customDashboards:a,assetType:n}))}function Zp({currentDashboard:e}){const{services:{dashboard:{locator:t}}}=Object(S.c)(),a=null==t?void 0:t.getRedirectUrl({dashboardId:null==e?void 0:e.dashboardSavedObjectId});return r.a.createElement(F.EuiButtonEmpty,{"data-test-subj":"infraGotoDashboardGoToDashboardButton",color:"text",size:"s",iconType:"visGauge",href:a},k.i18n.translate("xpack.infra.customDashboards.contextMenu.goToDashboard",{defaultMessage:"Go to dashboard"}))}function Wp({onRefresh:e,currentDashboard:t,assetType:a}){const[n,s]=Object(i.useState)(!1),{canSave:o}=Qp(),l=Object(i.useCallback)((()=>s(!n)),[n]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.EuiToolTip,{position:"top",content:o?void 0:k.i18n.translate("xpack.infra.linkDashboard.tooltip.youDoNotHavePermissionToUseThisFeature",{defaultMessage:"You do not have permission to use this feature. Please ask your administrator for access."})},r.a.createElement(F.EuiButtonEmpty,{color:"text",size:"s",iconType:"pencil","data-test-subj":"infraEditCustomDashboardMenu",onClick:l,disabled:!o},k.i18n.translate("xpack.infra.customDashboards.editEmptyButtonLabel",{defaultMessage:"Edit dashboard link"}))),n&&r.a.createElement(Up,{onClose:l,onRefresh:e,currentDashboard:t,assetType:a}))}function Hp({assetType:e}){const{request$:t}=al(),{error:a,loading:n,response:r,makeRequest:s}=Object(Ko.a)(`/api/infra/${e}/custom-dashboards`,"GET",void 0,(e=>Object(le.pipe)(Op.decode(e),Object(ue.fold)(Object(At.d)(At.a),ce.identity))),void 0,void 0,!0);return Object(i.useEffect)((()=>{t?t.next(s):s()}),[s,t]),{error:a&&a.message||null,loading:n,dashboards:r,reload:s}}function $p({currentDashboard:e,onRefresh:t,assetType:a}){const[n,s]=Object(i.useState)(!1),{notifications:o}=Object(A.useKibana)(),[,l]=Mr(),{deleteCustomDashboard:u,isDeleteLoading:c}=Pp(),{dashboards:d,loading:m}=Hp({assetType:a}),{canDelete:g}=Qp(),p=Object(i.useCallback)((()=>s(!0)),[]),M=Object(i.useCallback)((()=>s(!1)),[]),b=Object(i.useCallback)((()=>s(!n)),[n]),f=Object(i.useCallback)((async function(){try{var n;const i=(null!=d?d:[]).filter((({dashboardSavedObjectId:t})=>t!==e.dashboardSavedObjectId)),r=await u({assetType:a,id:e.id});l({dashboardId:null===(n=i[0])||void 0===n?void 0:n.dashboardSavedObjectId}),r&&(o.toasts.success({title:k.i18n.translate("xpack.infra.customDashboards.unlinkSuccess.toast.title",{defaultMessage:'Unlinked "{dashboardName}" dashboard',values:{dashboardName:null==e?void 0:e.title}})}),t())}catch(t){o.toasts.danger({title:k.i18n.translate("xpack.infra.customDashboards.unlinkFailure.toast.title",{defaultMessage:'Error while unlinking "{dashboardName}" dashboard',values:{dashboardName:null==e?void 0:e.title}}),body:t.body.message})}b()}),[b,d,u,a,e.id,e.dashboardSavedObjectId,null==e?void 0:e.title,l,o.toasts,t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.EuiToolTip,{position:"top",content:g?void 0:k.i18n.translate("xpack.infra.linkDashboard.tooltip.youDoNotHavePermissionToUseThisFeature",{defaultMessage:"You do not have permission to use this feature. Please ask your administrator for access."})},r.a.createElement(F.EuiButtonEmpty,{color:"danger",size:"s",iconType:"unlink","data-test-subj":"infraUnLinkDashboardMenu",onClick:p,disabled:!g},k.i18n.translate("xpack.infra.customDashboards.unlinkEmptyButtonLabel",{defaultMessage:"Unlink dashboard"}))),n&&r.a.createElement(F.EuiConfirmModal,{title:k.i18n.translate("xpack.infra.customDashboards.unlinkEmptyButtonLabel.confirm.title",{defaultMessage:"Unlink Dashboard"}),onCancel:M,onConfirm:f,confirmButtonText:k.i18n.translate("xpack.infra.customDashboards.unlinkEmptyButtonLabel.confirm.button",{defaultMessage:"Unlink dashboard"}),buttonColor:"danger",defaultFocusedButton:"confirm",isLoading:m||c},r.a.createElement("p",null,k.i18n.translate("xpack.infra.customDashboards.unlinkEmptyButtonLabel.confirm.body",{defaultMessage:"You are about to unlink the dashboard from the {assetType} context",values:{assetType:a}}))))}var Jp=a(128),qp=a.n(Jp);function Kp({customDashboards:e,currentDashboardId:t,setCurrentDashboard:a,onRefresh:n}){const[,s]=Mr(),[o,l]=Object(i.useState)();qp()((()=>{var a;t||s({dashboardId:null===(a=e[0])||void 0===a?void 0:a.dashboardSavedObjectId})})),Object(i.useEffect)((()=>{const n=e.find((({dashboardSavedObjectId:e})=>e===t));n&&(l(n),a(n))}),[e,t,a]);const u=Object(i.useCallback)((e=>{s({dashboardId:e}),n()}),[n,s]);return r.a.createElement(F.EuiComboBox,{compressed:!0,style:{minWidth:"200px"},placeholder:k.i18n.translate("xpack.infra.customDashboards.selectDashboard.placeholder",{defaultMessage:"Select dashboard"}),prepend:k.i18n.translate("xpack.infra.customDashboards.selectDashboard.prepend",{defaultMessage:"Dashboard"}),singleSelection:{asPlainText:!0},options:e.map((({dashboardSavedObjectId:e,title:t})=>({label:t,value:e}))),selectedOptions:o?[{value:o.dashboardSavedObjectId,label:o.title}]:[],onChange:([e])=>u(e.value),isClearable:!1})}function Xp({items:e}){const[t,{off:a,toggle:n}]=_t(!1);return r.a.createElement(F.EuiPopover,{button:r.a.createElement(F.EuiButtonIcon,{"data-test-subj":"infraDashboardsContextMenuButton",display:"base",size:"s",iconType:"boxesVertical","aria-label":k.i18n.translate("xpack.infra.assetDetails.dashboards.contextMenu.moreLabel",{defaultMessage:"More"}),onClick:n}),isOpen:t,closePopover:a,panelPaddingSize:"none",anchorPosition:"downLeft"},r.a.createElement(F.EuiContextMenuPanel,{size:"s",items:e.map(((e,t)=>r.a.createElement(F.EuiContextMenuItem,{key:t,size:"s"},e)))}))}const eM=({dashboardFilterAssetIdEnabled:e})=>{const{asset:t}=ol();return r.a.createElement(F.EuiCallOut,{size:"s",title:r.a.createElement(F.EuiFlexGroup,{gutterSize:"xs",alignItems:"center",responsive:!1},r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(F.EuiToolTip,{content:e?r.a.createElement(r.a.Fragment,null,k.i18n.translate("xpack.infra.customDashboards.filteredByCurrentAssetExplanation.tooltip",{defaultMessage:"Filtered by"}),r.a.createElement(tM,{transparentBackground:!0},`${Object(g.findInventoryFields)(t.type).id}: ${t.id}`)):k.i18n.translate("xpack.infra.customDashboards.notFilteredExplanation.tooltip",{defaultMessage:"You can change this dashboard to filter by the {assetType} by editing the link for it",values:{assetType:t.type}})},r.a.createElement(F.EuiIcon,{color:"primary",size:"m",type:"iInCircle"}))),r.a.createElement(F.EuiFlexItem,{grow:!1},e?k.i18n.translate("xpack.infra.customDashboards.filteredByCurrentAssetExplanation.message",{defaultMessage:"This dashboard is filtered by the current {assetType}",values:{assetType:t.type}}):k.i18n.translate("xpack.infra.customDashboards.notFilteredExplanation.message",{defaultMessage:"This dashboard is not filtered by the {assetType} you are viewing",values:{assetType:t.type}})))})};var tM=an()(F.EuiCode).withConfig({displayName:"_StyledEuiCode",componentId:"sc-35oh4f-0"})(["color:inherit;"]);function aM(){const{dateRange:e}=xr(),{asset:t,renderMode:a}=ol(),n=Object(m.useLocation)(),{services:{share:s,telemetry:o}}=Object(S.c)(),[l,u]=Object(i.useState)(),[c,d]=Object(i.useState)([]),[g,M]=Object(i.useState)(),[f,y]=Object(i.useState)({}),{data:j,status:E}=Tp(),{metrics:h}=$l(),[I,L]=Mr(),x=r.a.useRef(!1),{dashboards:w,loading:v,reload:T}=Hp({assetType:t.type});Object(i.useEffect)((()=>{if(x.current=!1,g){const e={assetType:t.type,state:g.dashboardFilterAssetIdEnabled,filtered_by:g.dashboardFilterAssetIdEnabled?["assetId"]:[]};if(Object(ze.isEqual)(f,e))return void(x.current=!0);y(e),x.current||o.reportAssetDashboardLoaded(e)}}),[t.type,g,o,f]),Object(i.useEffect)((()=>{var e;const t=new Map;j.forEach((e=>{t.set(e.id,e)}));const a=null!==(e=null==w?void 0:w.reduce(((e,a)=>{const n=t.get(a.dashboardSavedObjectId);return n&&e.push({title:n.attributes.title,...a}),e}),[]))&&void 0!==e?e:[];var n,i;d(a),null!=I&&I.dashboardId||L({dashboardId:null!==(n=null==g?void 0:g.dashboardSavedObjectId)&&void 0!==n?n:null===(i=a[0])||void 0===i?void 0:i.dashboardSavedObjectId})}),[j,t.type,null==g?void 0:g.dashboardSavedObjectId,w,L,o,null==I?void 0:I.dashboardId]);const C=Object(i.useCallback)((()=>Promise.resolve({getInitialInput:()=>({viewMode:$d.ViewMode.VIEW,timeRange:{from:e.from,to:e.to}}),useControlGroupIntegration:!0})),[e.from,e.to]);Object(i.useEffect)((()=>{l&&l.updateInput({filters:h.dataView&&null!=g&&g.dashboardFilterAssetIdEnabled?Bl(t.name,t.type,h.dataView):[],timeRange:{from:e.from,to:e.to}})}),[h.dataView,t.name,l,e.from,e.to,g,t.type]);const N=Object(i.useCallback)(((e,a)=>{const i=new URLSearchParams(n.search).get("tableProperties"),r=a&&i?{tableProperties:Object(p.decode)(i)}:{};return{assetDetails:{...I,dashboardId:e.dashboardId},assetType:t.type,assetId:t.id,...r}}),[t.id,t.type,n.search,I]),D=Object(i.useMemo)((()=>{const e="flyout"===a.mode,t=s.url.locators.get(e?b.ASSET_DETAILS_FLYOUT_LOCATOR_ID:b.ASSET_DETAILS_LOCATOR_ID);if(t)return{...t,getRedirectUrl:a=>t.getRedirectUrl(N(a,e)),navigate:a=>t.navigate(N(a,e))}}),[a.mode,s.url.locators,N]);return v||E===vp.LOADING?r.a.createElement(F.EuiPanel,{hasBorder:!0},r.a.createElement(F.EuiEmptyPrompt,{icon:r.a.createElement(F.EuiLoadingLogo,{logo:"logoObservability",size:"xl"}),title:r.a.createElement("h4",null,k.i18n.translate("xpack.infra.customDashboards.loadingCustomDashboards",{defaultMessage:"Loading dashboard"}))})):r.a.createElement(F.EuiPanel,{hasBorder:!0},null!=w&&w.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(F.EuiFlexGroup,{justifyContent:"spaceBetween",gutterSize:"xs",alignItems:"center"},r.a.createElement(F.EuiFlexItem,{grow:!0},r.a.createElement(F.EuiTitle,{size:"s"},r.a.createElement("h3",null,null==g?void 0:g.title))),r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(Kp,{currentDashboardId:null==I?void 0:I.dashboardId,customDashboards:c,setCurrentDashboard:M,onRefresh:T})),g&&r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(Xp,{items:[r.a.createElement(Gp,{newDashboardButton:!0,onRefresh:T,customDashboards:c,assetType:t.type}),r.a.createElement(Zp,{currentDashboard:g}),r.a.createElement(Wp,{currentDashboard:g,onRefresh:T,assetType:t.type}),r.a.createElement($p,{currentDashboard:g,onRefresh:T,assetType:t.type})]}))),g&&r.a.createElement(r.a.Fragment,null,r.a.createElement(F.EuiSpacer,{size:"s"}),r.a.createElement(eM,{dashboardFilterAssetIdEnabled:g.dashboardFilterAssetIdEnabled})),r.a.createElement(F.EuiFlexItem,{grow:!0},r.a.createElement(F.EuiSpacer,{size:"l"}),(null==I?void 0:I.dashboardId)&&r.a.createElement(jp.DashboardRenderer,{savedObjectId:null==I?void 0:I.dashboardId,getCreationOptions:C,ref:u,locator:D}))):r.a.createElement(wp,{actions:r.a.createElement(Gp,{onRefresh:T,customDashboards:c,assetType:t.type})}))}const nM=()=>r.a.createElement(F.EuiFlexGroup,{direction:"column",gutterSize:"xs"},r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(iM,{visibleFor:[f.OVERVIEW,f.LOGS,f.METADATA,f.METRICS,f.PROCESSES,f.ANOMALIES,f.DASHBOARDS]})),r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(rM,{activeWhen:f.ANOMALIES},r.a.createElement(ul,null)),r.a.createElement(rM,{activeWhen:f.OVERVIEW},r.a.createElement(sp,null)),r.a.createElement(rM,{activeWhen:f.LOGS},r.a.createElement(Oc,null)),r.a.createElement(rM,{activeWhen:f.METADATA},r.a.createElement(du,null)),r.a.createElement(rM,{activeWhen:f.METRICS},r.a.createElement(yp,null)),r.a.createElement(rM,{activeWhen:f.OSQUERY},r.a.createElement(Tc,null)),r.a.createElement(rM,{activeWhen:f.PROCESSES},r.a.createElement(uc,null)),r.a.createElement(rM,{activeWhen:f.PROFILING},r.a.createElement(Ic,null)),r.a.createElement(rM,{activeWhen:f.DASHBOARDS},r.a.createElement(aM,null)))),iM=({visibleFor:e})=>{const{activeTabId:t}=Fr();return r.a.createElement("div",{hidden:!e.includes(t)},r.a.createElement(Nr,null))},rM=({activeWhen:e,children:t})=>{const{renderedTabsSet:a,activeTabId:n}=Fr();return a.current.has(e)?r.a.createElement("div",{hidden:n!==e,"data-test-subj":`infraAssetDetails${Object(ze.capitalize)(e)}TabContent`},t):null},sM=({title:e,tabs:t=[],rightSideItems:a=[]})=>{const{euiTheme:n}=Object(F.useEuiTheme)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.EuiFlexGroup,{gutterSize:"m",justifyContent:"spaceBetween",direction:"row"},r.a.createElement(oM,{grow:!0},r.a.createElement(F.EuiTitle,{size:"xs"},r.a.createElement("h4",null,e))),r.a.createElement(lM,{grow:!1,$_css:Object(F.useEuiMinBreakpoint)("m")},r.a.createElement(uM,{gutterSize:"m",responsive:!1,justifyContent:"flexEnd",alignItems:"center",$_css2:n.size.l},null==a?void 0:a.map(((e,t)=>r.a.createElement(F.EuiFlexItem,{key:t,grow:!1},e)))))),r.a.createElement(F.EuiSpacer,{size:"s"}),r.a.createElement(cM,{bottomBorder:!0,size:"s",$_css3:n.size.l},t.map((({label:e,...t},a)=>r.a.createElement(F.EuiTab,J()({key:a},t),e)))))};var oM=an()(F.EuiFlexItem)`
            overflow: hidden;
            & h4 {
              text-overflow: ellipsis;
              overflow: hidden;
              white-space: nowrap;
              width: calc(100%);
            }
          `,lM=an()(F.EuiFlexItem)`
            align-items: flex-start;
            ${e=>e.$_css} {
              align-items: flex-end;
            }
          `,uM=an()(F.EuiFlexGroup)`
              margin-right: ${e=>e.$_css2};
            `,cM=an()(F.EuiTabs).withConfig({displayName:"_StyledEuiTabs",componentId:"sc-czgw4y-0"})(["margin-bottom:calc(-1 * ("," + 1px));"],(e=>e.$_css3));const dM=(e=[],t=[])=>{const{rightSideItems:a}=gM(t),{tabEntries:n}=pM(e),{breadcrumbs:i}=mM();return{rightSideItems:a,tabEntries:n,breadcrumbs:i}},mM=()=>{const e=Object(m.useHistory)(),t=Object(m.useLocation)(),{services:{application:{navigateToApp:a}}}=Object(S.c)();return{breadcrumbs:t.state||e.length>1?[{text:r.a.createElement(F.EuiFlexGroup,{gutterSize:"xs",alignItems:"center",responsive:!1},r.a.createElement(F.EuiFlexItem,null,r.a.createElement(F.EuiIcon,{size:"s",type:"arrowLeft"})),r.a.createElement(F.EuiFlexItem,null,r.a.createElement(P.FormattedMessage,{id:"xpack.infra.assetDetails.header.return",defaultMessage:"Return"}))),color:"primary","aria-current":!1,"data-test-subj":"infraAssetDetailsReturnButton",href:"#",onClick:n=>{t.state?a(t.state.originAppId,{replace:!0,path:`${t.state.originPathname}${t.state.originSearch}`}):e.goBack(),n.preventDefault()}}]:[]}},gM=e=>{const{asset:t}=ol(),a=Object(i.useMemo)((()=>({nodeDetails:r.a.createElement($m,{assetId:t.id,assetName:t.name,assetType:t.type}),alertRule:r.a.createElement(km,{"data-test-subj":"infraAssetDetailsPageHeaderCreateAlertsRuleButton"})})),[t.id,t.name,t.type]);return{rightSideItems:Object(i.useMemo)((()=>null==e?void 0:e.map((e=>a[e]))),[e,a])}},pM=e=>{const{showTab:t,activeTabId:a}=Fr(),{asset:n}=ol(),{isTabEnabled:s}=(()=>{const{featureFlags:e}=wc(),t=Qm(),a=Object(A.useUiSetting)(q.enableInfrastructureAssetCustomDashboards),n=Object(i.useMemo)((()=>({[f.OSQUERY]:e.osqueryEnabled,[f.PROFILING]:t,[f.DASHBOARDS]:a})),[e.osqueryEnabled,a,t]);return{isTabEnabled:Object(i.useCallback)((e=>{var t;return null===(t=n[e.id])||void 0===t||t}),[n])}})(),o=Object(i.useCallback)((e=>{t(e)}),[t]),l=Object(b.useLinkProps)({app:"apm",hash:"traces",search:{kuery:`${tr(n.type)}:"${n.id}"`}}),u=Object(i.useCallback)((e=>({...l,"data-test-subj":"infraAssetDetailsApmServicesLinkTab",label:r.a.createElement(F.EuiFlexGroup,{responsive:!1,gutterSize:"xs",alignItems:"center"},r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(F.EuiIcon,{type:"popout"})),r.a.createElement(F.EuiFlexItem,{grow:!1},e))})),[l]);return{tabEntries:Object(i.useMemo)((()=>e.filter(s).map((({name:e,...t})=>t.id===f.LINK_TO_APM?u(e):{...t,"data-test-subj":`infraAssetDetails${Object(ze.capitalize)(t.id)}Tab`,onClick:()=>o(t.id),isSelected:t.id===a,label:e}))),[a,s,u,o,e])}},MM=({tabs:e=[],links:t=[],closeFlyout:a})=>{const[,n]=Mr(),{asset:s,loading:o}=ol(),{rightSideItems:l,tabEntries:u}=dM(e,t),{activeTabId:c}=Fr(),{services:{telemetry:d}}=Object(S.c)();qi()((()=>{d.reportAssetDetailsFlyoutViewed({componentName:E,assetType:s.type,tabId:c})}));const m=Object(i.useCallback)((()=>{n(null),a()}),[a,n]);return r.a.createElement(F.EuiFlyout,{onClose:m,ownFocus:!1,"data-component-name":E,"data-asset-type":s.type},o?r.a.createElement(loading_InfraLoadingPanel,{height:"100%",width:"auto",text:k.i18n.translate("xpack.infra.waffle.loadingDataText",{defaultMessage:"Loading data"})}):r.a.createElement(r.a.Fragment,null,r.a.createElement(F.EuiFlyoutHeader,{hasBorder:!0},r.a.createElement(sM,{title:s.name,tabs:u,rightSideItems:l})),r.a.createElement(F.EuiFlyoutBody,null,r.a.createElement(nM,null))))};function bM(){const e=Object(b.useLinkProps)({app:"metrics",pathname:"hosts"}),t=Object(b.useLinkProps)({app:"metrics",pathname:"inventory"}),a=new Map([["/hosts",{text:Ie.c,link:e}],["/inventory",{text:Ie.d,link:t}]]),n=a.get("/inventory"),{state:i}=Object(m.useLocation)(),r=i;return{getBreadcrumbOptions:function(e){if(void 0===r)return function(e){return"host"===e?a.get("/hosts"):n}(e);const t=r.originPathname?a.get(r.originPathname):void 0;return null!=t?t:n}}}const fM=({tabs:e=[],links:t=[]})=>{const{loading:a}=ol(),{metadata:n,loading:s}=il(),{rightSideItems:o,tabEntries:l,breadcrumbs:u}=dM(e,t),{asset:c}=ol(),d=r.a.useRef(!1),{activeTabId:m}=Fr(),{services:{telemetry:g,observabilityShared:{navigation:{PageTemplate:p}}}}=Object(S.c)(),M=bM().getBreadcrumbOptions(c.type);return Le([{...M.link,text:M.text},{text:c.name}],{deeperContextServerless:!0}),Object(i.useEffect)((()=>{if(!d.current&&!s&&n){const e=(e=>e?Object.entries(w).filter((([t,a])=>{var n;return null==e||null===(n=e.features)||void 0===n?void 0:n.some((e=>a.includes(e.name)))})).map((([e])=>e)):[])(n),t={componentName:h,assetType:c.type,tabId:m};g.reportAssetDetailsPageViewed(e.length>0?{...t,integrations:e}:t),d.current=!0}}),[m,c.type,n,s,g]),r.a.createElement(p,{pageHeader:{pageTitle:c.name,tabs:l,rightSideItems:o,breadcrumbs:u},"data-component-name":h,"data-asset-type":c.type},a?r.a.createElement(yM,{direction:"column"},r.a.createElement(loading_InfraLoadingPanel,{height:"100%",width:"auto",text:k.i18n.translate("xpack.infra.waffle.loadingDataText",{defaultMessage:"Loading data"})})):r.a.createElement(nM,null))};var yM=an()(F.EuiFlexGroup).withConfig({displayName:"_StyledEuiFlexGroup",componentId:"sc-1mwlcyg-0"})(["height:calc(100vh - var(--kbnAppHeadersOffset,var(--euiFixedHeadersOffset,0)));"]);const jM=({children:e,...t})=>{const{assetId:a,assetName:n,autoRefresh:i,dateRange:s,overrides:o,assetType:l="host",renderMode:u}=t;return r.a.createElement(Lr,{dateRange:s,autoRefresh:i},r.a.createElement(wr,null,r.a.createElement(nl,{assetId:a,assetType:l},r.a.createElement(sl,{assetId:a,assetName:n,assetType:l,overrides:o,renderMode:u},e))))},EM=({tabs:e,links:t,renderMode:a})=>"flyout"===a.mode?r.a.createElement(MM,{tabs:e,links:t,closeFlyout:a.closeFlyout}):r.a.createElement(fM,{tabs:e,links:t}),hM=({tabs:e,links:t,renderMode:a,...n})=>{var i;return r.a.createElement(jM,J()({},n,{renderMode:a}),r.a.createElement(zr,{defaultActiveTabId:null===(i=e[0])||void 0===i?void 0:i.id},r.a.createElement(Hl,null,r.a.createElement(EM,{tabs:e,links:t,renderMode:a}))))},IM={id:f.OVERVIEW,name:k.i18n.translate("xpack.infra.nodeDetails.tabs.overview.title",{defaultMessage:"Overview"})},LM={id:f.METADATA,name:k.i18n.translate("xpack.infra.nodeDetails.tabs.metadata.title",{defaultMessage:"Metadata"})},xM={id:f.METRICS,name:k.i18n.translate("xpack.infra.nodeDetails.tabs.metrics.title",{defaultMessage:"Metrics"})},wM={id:f.PROCESSES,name:k.i18n.translate("xpack.infra.metrics.nodeDetails.tabs.processes",{defaultMessage:"Processes"})},vM={id:f.PROFILING,name:k.i18n.translate("xpack.infra.metrics.nodeDetails.tabs.profiling",{defaultMessage:"Universal Profiling"})},TM={id:f.LOGS,name:k.i18n.translate("xpack.infra.nodeDetails.tabs.logs.title",{defaultMessage:"Logs"})},SM={id:f.ANOMALIES,name:k.i18n.translate("xpack.infra.nodeDetails.tabs.anomalies",{defaultMessage:"Anomalies"})},CM={id:f.OSQUERY,name:k.i18n.translate("xpack.infra.nodeDetails.tabs.osquery",{defaultMessage:"Osquery"})},NM={id:f.DASHBOARDS,name:k.i18n.translate("xpack.infra.infra.nodeDetails.tabs.dashboards",{defaultMessage:"Dashboards"}),append:r.a.createElement(F.EuiBetaBadge,{label:k.i18n.translate("xpack.infra.customDashboards.technicalPreviewBadgeLabel",{defaultMessage:"Technical preview"}),tooltipContent:k.i18n.translate("xpack.infra.customDashboards.technicalPreviewBadgeDescription",{defaultMessage:"This functionality is in technical preview and may be changed or removed completely in a future release. Elastic will work to fix any issues, but features in technical preview are not subject to the support SLA of official GA features."}),iconType:"beaker",size:"s",style:{verticalAlign:"middle"}})},DM={id:f.LINK_TO_APM,name:k.i18n.translate("xpack.infra.assetDetails.tabs.linkToApm",{defaultMessage:"APM"})},OM=[IM,LM,xM,wM,vM,TM,SM,CM,NM],kM=[...OM,DM],AM=[IM,LM,xM,TM],zM=[IM,LM,xM,TM,DM],FM=e=>{switch(e){case"host":return OM;case"container":return AM;default:return[]}},PM=e=>{switch(e){case"host":return kM;case"container":return zM;default:return[]}},RM=({assetName:e,assetId:t,assetType:a,closeFlyout:n,currentTime:s,options:o,refreshInterval:l,isAutoReloading:u=!1})=>{const c=Object(i.useMemo)((()=>u?{from:"now-1h",to:"now"}:{from:new Date(s-36e5).toISOString(),to:new Date(s).toISOString()}),[s,u]);return r.a.createElement(hM,{assetId:t,assetName:e,assetType:a,overrides:{metadata:{showActionsColumn:!1},alertRule:{options:o}},tabs:PM(a),links:["nodeDetails"],renderMode:{mode:"flyout",closeFlyout:n},dateRange:c,autoRefresh:{isPaused:!u,interval:l}})},UM=({autoBounds:e,boundsOverride:t,loading:a,nodes:s,nodeType:o,reload:l,view:u,currentTime:c,options:d,formatter:m,onDrilldown:g,bottomMargin:p,showLoading:M,refreshInterval:b,isAutoReloading:f})=>{const y=Object(F.useCurrentEuiBreakpoint)(),[{detailsItemId:j,assetType:E},h]=ri(),{onPageReady:I}=Object(n.c)(),L=Object(i.useMemo)((()=>{var e;return null===(e=s.find((e=>e.path[0].value===j)))||void 0===e?void 0:e.name}),[j,s]),x=Object(i.useCallback)((()=>h({detailsItemId:null,assetType:null})),[h]),w=Object(i.useCallback)((e=>{g({kind:"kuery",expression:e})}),[g]),v=!a&&s&&0===s.length;if(a&&M)return r.a.createElement(loading_InfraLoadingPanel,{height:"100%",width:"100%",text:k.i18n.translate("xpack.infra.waffle.loadingDataText",{defaultMessage:"Loading data"})});if(v)return r.a.createElement(ve,{titleText:k.i18n.translate("xpack.infra.waffle.noDataTitle",{defaultMessage:"There is no data to display."}),bodyText:k.i18n.translate("xpack.infra.waffle.noDataDescription",{defaultMessage:"Try adjusting your time or filter."}),refetchText:k.i18n.translate("xpack.infra.waffle.checkNewDataButtonLabel",{defaultMessage:"Check for new data"}),onRefetch:()=>{l()},testString:"noMetricsDataPrompt"});const T=Ni(s),S=e?T:t,C=["xs","s"].includes(y);return a||I(),"table"===u?r.a.createElement(VM,null,r.a.createElement(Ci,{nodeType:o,nodes:s,options:d,formatter:m,currentTime:c,onFilter:w})):r.a.createElement(BM,{positionStatic:C},r.a.createElement(hi,{nodeType:o,nodes:s,detailsItemId:j,options:d,formatter:m,currentTime:c,onFilter:w,bounds:S,bottomMargin:p,staticHeight:C}),o===E&&j&&r.a.createElement(RM,{assetId:j,assetName:L,assetType:o,closeFlyout:x,currentTime:c,isAutoReloading:f,options:d,refreshInterval:b}),r.a.createElement(Hi,{formatter:m,bounds:S,dataBounds:T,legend:d.legend}))},VM=R.euiStyled.div`
  padding: ${e=>e.theme.eui.euiSizeL};
`,BM=R.euiStyled.div`
  position: ${e=>e.positionStatic?"static":"absolute"};
  display: flex;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
`,_M=oe.type({value:oe.string,name:oe.string}),YM=oe.type({accounts:oe.array(_M),projects:oe.array(oe.string),regions:oe.array(oe.string)});oe.type({sourceId:oe.string,nodeType:g.ItemTypeRT,currentTime:oe.number});var QM=a(26);const GM={avg:k.i18n.translate("xpack.infra.waffle.customMetrics.aggregationLables.avg",{defaultMessage:"Average"}),max:k.i18n.translate("xpack.infra.waffle.customMetrics.aggregationLables.max",{defaultMessage:"Max"}),min:k.i18n.translate("xpack.infra.waffle.customMetrics.aggregationLables.min",{defaultMessage:"Min"}),rate:k.i18n.translate("xpack.infra.waffle.customMetrics.aggregationLables.rate",{defaultMessage:"Rate"})},ZM=Object(R.withTheme)((({theme:e,onCancel:t,onChange:a,metric:n})=>{var s;const{metricsView:o}=Object(Y.c)(),[l,u]=Object(i.useState)(n?n.label:void 0),[c,d]=Object(i.useState)(n?n.aggregation:"avg"),[m,g]=Object(i.useState)(n?n.field:void 0),p=Object(i.useCallback)((()=>{if(n&&c&&m)a({...n,label:l,aggregation:c,field:m});else if(c&&m){const e={type:"custom",id:Object(Je.v4)(),label:l,aggregation:c,field:m};a(e)}}),[n,c,m,a,l]),M=Object(i.useCallback)((e=>{u(e.target.value)}),[u]),b=Object(i.useCallback)((e=>{g(e[0].label)}),[g]),f=Object(i.useCallback)((e=>{const t=e.target.value,a=QM.c.is(t)?t:"avg";d(a)}),[d]),y=(null!==(s=null==o?void 0:o.fields)&&void 0!==s?s:[]).filter((e=>e.aggregatable&&"number"===e.type&&!(m&&m===e.name))).map((e=>({label:e.name}))),j=QM.b.map((e=>({text:GM[e],value:e}))),E=!m||!c,h=n?k.i18n.translate("xpack.infra.waffle.customMetricPanelLabel.edit",{defaultMessage:"Edit custom metric"}):k.i18n.translate("xpack.infra.waffle.customMetricPanelLabel.add",{defaultMessage:"Add custom metric"}),I=n?k.i18n.translate("xpack.infra.waffle.customMetricPanelLabel.editAriaLabel",{defaultMessage:"Back to custom metrics edit mode"}):k.i18n.translate("xpack.infra.waffle.customMetricPanelLabel.addAriaLabel",{defaultMessage:"Back to metric picker"});return r.a.createElement("div",{style:{width:685}},r.a.createElement(F.EuiForm,null,r.a.createElement(F.EuiPopoverTitle,null,r.a.createElement(F.EuiButtonEmpty,{"data-test-subj":"infraCustomMetricFormButton",iconType:"arrowLeft",onClick:t,color:"text",size:"xs",flush:"left",style:{fontWeight:700,textTransform:"uppercase"},"aria-label":I},h)),r.a.createElement("div",{style:{padding:null==e?void 0:e.eui.euiSizeM,borderBottom:`${null==e?void 0:e.eui.euiBorderWidthThin} solid ${null==e?void 0:e.eui.euiBorderColor}`}},r.a.createElement(F.EuiFormRow,{label:k.i18n.translate("xpack.infra.waffle.customMetrics.metricLabel",{defaultMessage:"Metric"}),display:"rowCompressed",fullWidth:!0},r.a.createElement(F.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(F.EuiSelect,{"data-test-subj":"infraCustomMetricFormSelect",onChange:f,value:c,options:j,fullWidth:!0})),r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(F.EuiText,{color:"subdued"},r.a.createElement("span",null,k.i18n.translate("xpack.infra.waffle.customMetrics.ofLabel",{defaultMessage:"of"})))),r.a.createElement(F.EuiFlexItem,null,r.a.createElement(F.EuiComboBox,{fullWidth:!0,placeholder:k.i18n.translate("xpack.infra.waffle.customMetrics.fieldPlaceholder",{defaultMessage:"Select a field"}),singleSelection:{asPlainText:!0},selectedOptions:m?[{label:m}]:[],options:y,onChange:b,isClearable:!1,"data-test-subj":"infraCustomMetricFieldSelect"})))),r.a.createElement(F.EuiFormRow,{label:k.i18n.translate("xpack.infra.waffle.customMetrics.labelLabel",{defaultMessage:"Label (optional)"}),display:"rowCompressed",fullWidth:!0},r.a.createElement(F.EuiFieldText,{"data-test-subj":"infraCustomMetricFormFieldText",name:"label",placeholder:k.i18n.translate("xpack.infra.waffle.customMetrics.labelPlaceholder",{defaultMessage:'Choose a name to appear in the "Metric" dropdown'}),value:l,fullWidth:!0,onChange:M}))),r.a.createElement("div",{style:{padding:null==e?void 0:e.eui.euiSizeM,textAlign:"right"}},r.a.createElement(F.EuiButtonEmpty,{"data-test-subj":"infraCustomMetricFormCancelButton",onClick:t,size:"s",style:{paddingRight:null==e?void 0:e.eui.euiSizeXL}},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.waffle.customMetrics.cancelLabel",defaultMessage:"Cancel"})),r.a.createElement(F.EuiButton,{"data-test-subj":"infraCustomMetricFormSaveButton",type:"submit",size:"s",fill:!0,onClick:p,disabled:E},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.waffle.customMetrics.submitLabel",defaultMessage:"Save"})))))})),WM=({onClose:e,onChange:t,metric:a,options:n,customMetrics:s})=>{const o=QM.d.is(a)&&a.id?a.id:a.type,l=Object(i.useCallback)((a=>{if(g.SnapshotMetricTypeRT.is(a))t({type:a});else{const e=s.find((e=>e.id===a));e&&t(e)}e()}),[s,t,e]),u=[{id:0,title:"",items:[...n.map((e=>{const t=e.value===o?"check":"empty";return{name:e.text,onClick:()=>l(e.value),icon:t}})),...s.map((e=>{const t=e.id===o?"check":"empty";return{name:Object(jn.a)(e),onClick:()=>l(e.id),icon:t}}))]}];return r.a.createElement(F.EuiContextMenu,{initialPanelId:0,panels:u,"data-test-subj":"infraInventoryMetricsContextMenu"})},HM=({onSave:e,onEditCancel:t,onEdit:a,onAdd:n,mode:i,customMetrics:s,disableAdd:o=!1})=>{const{euiTheme:l}=Object(F.useEuiTheme)();return["editMetric","addMetric"].includes(i)?null:r.a.createElement("div",{style:{borderTop:`${l.border.thin} solid ${l.border.color}`,padding:12}},r.a.createElement(F.EuiFlexGroup,{justifyContent:"spaceBetween"},"edit"===i?r.a.createElement(r.a.Fragment,null,r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(F.EuiButtonEmpty,{"data-test-subj":"infraModeSwitcherCancelButton",size:"s",flush:"left",onClick:t,"aria-label":k.i18n.translate("xpack.infra.waffle.customMetrics.modeSwitcher.cancelAriaLabel",{defaultMessage:"Cancel edit mode"})},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.waffle.customMetrics.modeSwitcher.cancel",defaultMessage:"Cancel"}))),r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(F.EuiButton,{"data-test-subj":"infraModeSwitcherSaveButton",onClick:e,size:"s",fill:!0,"aria-label":k.i18n.translate("xpack.infra.waffle.customMetrics.modeSwitcher.saveButtonAriaLabel",{defaultMessage:"Save changes to custom metrics"})},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.waffle.customMetrics.modeSwitcher.saveButton",defaultMessage:"Save"})))):r.a.createElement(r.a.Fragment,null,r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(F.EuiButtonEmpty,{"data-test-subj":"infraModeSwitcherEditButton",size:"s",flush:"left",onClick:a,disabled:0===s.length,"aria-label":k.i18n.translate("xpack.infra.waffle.customMetrics.modeSwitcher.editAriaLabel",{defaultMessage:"Edit custom metrics"})},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.waffle.customMetrics.modeSwitcher.edit",defaultMessage:"Edit"}))),r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(F.EuiToolTip,{content:o?k.i18n.translate("xpack.infra.waffle.customMetrics.modeSwitcher.addDisabledTooltip",{defaultMessage:"Maximum number of {maxMetrics} metrics reached.",values:{maxMetrics:he.l}}):void 0},r.a.createElement(F.EuiButtonEmpty,{"data-test-subj":"infraModeSwitcherAddMetricButton",onClick:n,disabled:o,size:"s",flush:"right","aria-label":k.i18n.translate("xpack.infra.waffle.customMetrics.modeSwitcher.addMetricAriaLabel",{defaultMessage:"Add custom metric"})},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.waffle.customMetrics.modeSwitcher.addMetric",defaultMessage:"Add metric"})))))))},$M=Object(R.withTheme)((({theme:e,customMetrics:t,options:a,onEdit:n,onDelete:i})=>r.a.createElement("div",{style:{width:256}},a.map((t=>r.a.createElement("div",{key:t.value,style:{padding:"14px 14px 13px 36px"}},r.a.createElement("span",{style:{color:null==e?void 0:e.eui.euiButtonColorDisabled}},t.text)))),t.map((e=>r.a.createElement(F.EuiFlexGroup,{key:e.id,alignItems:"center",gutterSize:"none",style:{padding:"10px 0px 9px"}},r.a.createElement(F.EuiFlexItem,{grow:!1,style:{width:36}},r.a.createElement(F.EuiButtonIcon,{"data-test-subj":"infraMetricsEditModeButton",iconType:"pencil",onClick:()=>n(e),"aria-label":k.i18n.translate("xpack.infra.waffle.customMetrics.editMode.editButtonAriaLabel",{defaultMessage:"Edit custom metric for {name}",values:{name:Object(jn.a)(e)}})})),r.a.createElement(F.EuiFlexItem,{grow:1,style:{overflow:"hidden"}},Object(jn.a)(e)),r.a.createElement(F.EuiFlexItem,{grow:!1,style:{width:36,textAlign:"right"}},r.a.createElement(F.EuiButtonIcon,{"data-test-subj":"infraMetricsEditModeButton",iconType:"trash",color:"danger",onClick:()=>i(e),"aria-label":k.i18n.translate("xpack.infra.waffle.customMetrics.editMode.deleteAriaLabel",{defaultMessage:"Delete custom metric for {name}",values:{name:Object(jn.a)(e)}})})))))))),JM=({children:e})=>{const[t,a]=on()("isKubernetesTourSeen",!1),n=()=>a(!0);return r.a.createElement("div",null,r.a.createElement(F.EuiTourStep,{content:r.a.createElement(F.EuiText,{size:"s",color:"subdued","data-test-subj":"infra-kubernetesTour-text"},k.i18n.translate("xpack.infra.homePage.kubernetesTour.text",{defaultMessage:"Click here to see your infrastructure in different ways, including Kubernetes pods."})),isStepOpen:!t,maxWidth:350,onFinish:n,step:1,stepsTotal:1,title:k.i18n.translate("xpack.infra.homePage.kubernetesTour.title",{defaultMessage:"Want a different view?"}),anchorPosition:"downCenter",footerAction:r.a.createElement(F.EuiButtonEmpty,{"data-test-subj":"infra-kubernetesTour-dismiss",size:"s",color:"text",onClick:n},k.i18n.translate("xpack.infra.homePage.kubernetesTour.dismiss",{defaultMessage:"Dismiss"}))},e))},qM=({label:e,theme:t})=>r.a.createElement(F.EuiFlexItem,{grow:!1,style:{padding:12,background:null==t?void 0:t.eui.euiFormInputGroupLabelBackground,fontSize:"0.75em",fontWeight:600,color:null==t?void 0:t.eui.euiTitleColor}},e),KM=Object(R.withTheme)((e=>{const{onClick:t,label:a,theme:n,children:i,showKubernetesInfo:s}=e;return r.a.createElement(F.EuiFlexGroup,{alignItems:"center",gutterSize:"none",style:{border:null==n?void 0:n.eui.euiFormInputGroupBorder,boxShadow:`0px 3px 2px ${null==n?void 0:n.eui.euiTableActionsBorderColor}, 0px 1px 1px ${null==n?void 0:n.eui.euiTableActionsBorderColor}`}},s?r.a.createElement(JM,null,r.a.createElement(qM,{label:a,theme:n})):r.a.createElement(qM,{label:a,theme:n}),r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(F.EuiButtonEmpty,{"data-test-subj":e["data-test-subj"],color:"text",iconType:"arrowDown",onClick:t,iconSide:"right",size:"xs"},i)))})),XM=({onChange:e,onChangeCustomMetrics:t,metric:a,options:n,customMetrics:s})=>{var o;const[l,u]=Object(i.useState)(!1),[c,d]=Object(i.useState)("pick"),[m,g]=Object(i.useState)([]),[p,M]=Object(i.useState)(),b=Object(i.useCallback)((()=>{u(!1)}),[u]),f=Object(i.useCallback)((()=>{u(!l)}),[l]),y=Object(i.useCallback)((a=>{t([...s,a]),e(a),d("pick")}),[s,e,t,d]),j=Object(i.useCallback)((()=>{d("edit"),g(s)}),[s]),E=Object(i.useCallback)((()=>{d("addMetric")}),[d]),h=Object(i.useCallback)((()=>{d("pick"),g([])}),[d]),I=Object(i.useCallback)((t=>{QM.d.is(a)&&t.id===a.id&&e({type:n[0].value});const i=m.filter((e=>e.id!==t.id));g(i)}),[m,a,e,n]),L=Object(i.useCallback)((e=>{const a=s.map((t=>t.id===e.id&&e||t));t(a),h(),M(void 0),g([])}),[s,t,h]),x=Object(i.useCallback)((e=>{M(e),d("editMetric")}),[d,M]),w=Object(i.useCallback)((()=>{t(m),d("pick")}),[m,t]);if(!n.length||!a.type)throw Error(k.i18n.translate("xpack.infra.waffle.unableToSelectMetricErrorTitle",{defaultMessage:"Unable to select options or value for metric."}));const v=QM.d.is(a)&&a.id?a.id:a.type,T=QM.d.is(a)?Object(jn.a)(a):null===(o=n.find((e=>e.value===v)))||void 0===o?void 0:o.text;if(!T)return null;const S=n.length+s.length<he.l,C=r.a.createElement(KM,{onClick:f,label:k.i18n.translate("xpack.infra.waffle.metriclabel",{defaultMessage:"Metric"}),"data-test-subj":"infraInventoryMetricDropdown"},T);return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.EuiPopover,{isOpen:l,id:"metricsPanel",button:C,anchorPosition:"downLeft",panelPaddingSize:"none",closePopover:b},"pick"===c?r.a.createElement(WM,{onChange:e,onClose:b,metric:a,customMetrics:s,options:n}):null,"addMetric"===c?r.a.createElement(ZM,{customMetrics:s,onChange:y,onCancel:h}):null,"editMetric"===c?r.a.createElement(ZM,{metric:p,customMetrics:s,onChange:L,onCancel:j}):null,"edit"===c?r.a.createElement($M,{customMetrics:m,options:n,onEdit:x,onDelete:I}):null,r.a.createElement(HM,{onEditCancel:h,onEdit:j,onAdd:E,mode:c,onSave:w,customMetrics:s,disableAdd:!S})))},eb=({onSubmit:e,currentOptions:t})=>{var a;const{metricsView:n}=Object(Y.c)(),[i,s]=r.a.useState([]),o=(null!==(a=null==n?void 0:n.fields)&&void 0!==a?a:[]).filter((e=>e.aggregatable&&"string"===e.type&&!(t&&t.some((t=>t.field===e.name))))).map((e=>({label:e.name}))),l=!i.length;return r.a.createElement("div",{style:{padding:16}},r.a.createElement(F.EuiForm,null,r.a.createElement(F.EuiFormRow,{label:k.i18n.translate("xpack.infra.waffle.customGroupByFieldLabel",{defaultMessage:"Field"}),helpText:k.i18n.translate("xpack.infra.waffle.customGroupByHelpText",{defaultMessage:"This is the field used for the terms aggregation"}),display:"rowCompressed",fullWidth:!0},r.a.createElement(F.EuiComboBox,{"data-test-subj":"groupByCustomField",placeholder:k.i18n.translate("xpack.infra.waffle.customGroupByDropdownPlacehoder",{defaultMessage:"Select one"}),singleSelection:{asPlainText:!0},selectedOptions:i,options:o,onChange:e=>{s(e)},fullWidth:!0,isClearable:!1})),r.a.createElement(F.EuiButton,{"data-test-subj":"groupByCustomFieldAddButton",disabled:l,type:"submit",size:"s",fill:!0,onClick:()=>{e(i[0].label)}},k.i18n.translate("xpack.infra..addButtonLabel",{defaultMessage:"Add"}))))},tb=k.i18n.translate("xpack.infra.waffle.maxGroupByTooltip",{defaultMessage:"Only two groupings can be selected at a time"}),ab=({options:e,nodeType:t,groupBy:a,onChange:n,onChangeCustomOptions:s,customOptions:o})=>{const[l,{toggle:u,off:c}]=((e=!1)=>{const[t,a]=Bt()(e);return[t,Object(i.useMemo)((()=>({toggle:a,on:()=>a(!0),off:()=>a(!1)})),[a])]})(!1),d=[...e,...o.map((e=>({...e,toolTipContent:e.text})))];if(!d.length)throw Error(k.i18n.translate("xpack.infra.waffle.unableToSelectGroupErrorMessage",{defaultMessage:"Unable to select group by options for {nodeType}",values:{nodeType:t}}));const m=e=>()=>{a.some((t=>t.field===e))?(e=>{n(a.filter((t=>t.field!==e))),s(o.filter((t=>t.field!==e))),setTimeout((()=>c()))})(e):a.length<2&&n([...a,{field:e}]),c()},g=a.length>=2,p=[{id:"firstPanel",title:k.i18n.translate("xpack.infra.waffle.selectTwoGroupingsTitle",{defaultMessage:"Select up to two groupings"}),items:[{name:k.i18n.translate("xpack.infra.waffle.customGroupByOptionName",{defaultMessage:"Custom field"}),disabled:g,toolTipContent:g?tb:null,icon:"empty",panel:"customPanel"},...d.map((e=>{const t=a.some((t=>t.field===e.field))?"check":"empty",n={name:e.text,onClick:m(e.field),icon:t};return e.toolTipContent&&(n.toolTipContent=e.toolTipContent),g&&"empty"===t&&(n.toolTipContent=tb,n.disabled=!0),n}))]},{id:"customPanel",title:k.i18n.translate("xpack.infra.waffle.customGroupByPanelTitle",{defaultMessage:"Group By Custom Field"}),width:685,content:r.a.createElement(eb,{currentOptions:o,onSubmit:e=>{s([...o,{text:e,field:e}]),m(e)()}})}],M=a.length>0?a.map((e=>d.find((t=>t.field===e.field)))).filter((e=>null!=e)).map((e=>r.a.createElement(F.EuiBadge,{color:"hollow",key:e&&e.field},e&&e.text))):r.a.createElement(P.FormattedMessage,{id:"xpack.infra.waffle.groupByAllTitle",defaultMessage:"All"}),b=r.a.createElement(KM,{label:k.i18n.translate("xpack.infra.waffle.groupByLabel",{defaultMessage:"Group by"}),onClick:u,"data-test-subj":"waffleGroupByDropdown"},M);return r.a.createElement(F.EuiPopover,{isOpen:l,id:"groupByPanel",button:b,panelPaddingSize:"none",closePopover:c},r.a.createElement(nb,{initialPanelId:"firstPanel",panels:p,"data-test-subj":"groupByContextMenu"}))};var nb=an()(F.EuiContextMenu).withConfig({displayName:"_StyledEuiContextMenu",componentId:"sc-10ozmk-0"})(["width:320px;& .euiContextMenuItem__text{overflow:hidden;text-overflow:ellipsis;}"]);const ib={name:k.i18n.translate("xpack.infra.waffle.sortNameLabel",{defaultMessage:"Name"}),value:k.i18n.translate("xpack.infra.waffle.sort.valueLabel",{defaultMessage:"Metric value"})},rb=({sort:e,onChange:t})=>{const[a,n]=Object(i.useState)(!1),s=Object(i.useCallback)((()=>n((e=>!e))),[]),o=Object(i.useCallback)((()=>n(!1)),[]),l=ib[e.by],u=r.a.createElement(KM,{label:k.i18n.translate("xpack.infra.waffle.sortLabel",{defaultMessage:"Sort by"}),onClick:s,"data-test-subj":"waffleSortByDropdown"},l),c=Object(i.useCallback)((()=>{t({...e,by:"name"}),o()}),[o,t,e]),d=Object(i.useCallback)((()=>{t({...e,by:"value"}),o()}),[o,t,e]),m=Object(i.useCallback)((()=>{t({...e,direction:"asc"===e.direction?"desc":"asc"}),o()}),[o,e,t]),g=Object(i.useMemo)((()=>[{id:0,title:"",items:[{name:ib.name,icon:"name"===e.by?"check":"empty",onClick:c,"data-test-subj":"waffleSortByName"},{name:ib.value,icon:"value"===e.by?"check":"empty",onClick:d,"data-test-subj":"waffleSortByValue"}]}]),[e.by,c,d]);return r.a.createElement(F.EuiPopover,{isOpen:a,id:"sortPopover",button:u,anchorPosition:"downLeft",panelPaddingSize:"none",closePopover:o},r.a.createElement(F.EuiContextMenu,{initialPanelId:0,panels:g}),r.a.createElement(sb,null,r.a.createElement(F.EuiSwitch,{compressed:!0,label:k.i18n.translate("xpack.infra.waffle.sortDirectionLabel",{defaultMessage:"Reverse direction"}),checked:"desc"===e.direction,onChange:m,"data-test-subj":"waffleSortByDirection"})))},sb=Object(R.withTheme)((({children:e,theme:t})=>r.a.createElement("div",{style:{padding:null==t?void 0:t.eui.euiSizeM,borderTop:`1px solid ${null==t?void 0:t.eui.euiBorderColor}`}},e))),ob=e=>Object(g.findInventoryModel)(e).displayName,lb=()=>{const{changeNodeType:e,changeGroupBy:t,changeMetric:a,changeAccount:n,changeRegion:s,changeCustomMetrics:o,nodeType:l}=Nn(),[u,c]=Object(i.useState)(!1),d=Object(i.useCallback)((()=>c(!1)),[]),m=Object(i.useCallback)((()=>c((e=>!e))),[]),p=Object(i.useCallback)((i=>{d(),e(i),t([]),o([]),n(""),s("");const r=Object(g.findInventoryModel)(i);a({type:r.metrics.defaultSnapshot})}),[d,e,t,o,n,s,a]),M=Object(i.useCallback)((()=>p("host")),[p]),b=Object(i.useCallback)((()=>p("pod")),[p]),f=Object(i.useCallback)((()=>p("container")),[p]),y=Object(i.useCallback)((()=>p("awsEC2")),[p]),j=Object(i.useCallback)((()=>p("awsS3")),[p]),E=Object(i.useCallback)((()=>p("awsRDS")),[p]),h=Object(i.useCallback)((()=>p("awsSQS")),[p]),I=Object(i.useMemo)((()=>[{id:"firstPanel",items:[{"data-test-subj":"goToHost",name:ob("host"),onClick:M},{"data-test-subj":"goToPods",name:ob("pod"),onClick:b},{"data-test-subj":"goToContainer",name:ob("container"),onClick:f},{name:"AWS",panel:"awsPanel","data-test-subj":"goToAWS-open"}]},{id:"awsPanel",title:"AWS",items:[{name:ob("awsEC2"),onClick:y,"data-test-subj":"goToAWS-EC2"},{name:ob("awsS3"),onClick:j,"data-test-subj":"goToAWS-S3"},{name:ob("awsRDS"),onClick:E,"data-test-subj":"goToAWS-RDS"},{name:ob("awsSQS"),onClick:h,"data-test-subj":"goToAWS-SQS"}]}]),[y,E,j,h,f,M,b]),L=Object(i.useMemo)((()=>ob(l)),[l]),x=r.a.createElement(KM,{"data-test-subj":"openInventorySwitcher",onClick:m,label:k.i18n.translate("xpack.infra.waffle.showLabel",{defaultMessage:"Show"}),showKubernetesInfo:!0},L);return r.a.createElement(F.EuiPopover,{id:"contextMenu",button:x,isOpen:u,closePopover:d,panelPaddingSize:"none",anchorPosition:"downLeft"},r.a.createElement(F.EuiContextMenu,{initialPanelId:"firstPanel",panels:I}))},ub=e=>{const{changeMetric:t,changeGroupBy:a,changeCustomOptions:n,changeAccount:i,changeRegion:s,changeSort:o,customOptions:l,groupBy:u,metric:c,nodeType:d,accountId:m,view:g,region:p,legend:M,sort:b,customMetrics:f,changeCustomMetrics:y}=Nn();return r.a.createElement(F.EuiFlexGroup,{responsive:!1,wrap:!0,gutterSize:"m"},r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(lb,null)),e.children({changeMetric:t,changeGroupBy:a,changeAccount:i,changeRegion:s,changeCustomOptions:n,changeSort:o,customOptions:l,groupBy:u,sort:b,view:g,metric:c,nodeType:d,region:p,accountId:m,legend:M,customMetrics:f,changeCustomMetrics:y}))},cb=e=>({text:vi(e),field:e}),db=e=>{const t=Object(i.useMemo)((()=>e.metricTypes.map(In.a).filter((e=>e))),[e.metricTypes]),a=Object(i.useMemo)((()=>e.groupByFields.map(cb)),[e.groupByFields]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(XM,{options:t,metric:e.metric,onChange:e.changeMetric,onChangeCustomMetrics:e.changeCustomMetrics,customMetrics:e.customMetrics})),r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(ab,{options:a,groupBy:e.groupBy,nodeType:e.nodeType,onChange:e.changeGroupBy,onChangeCustomOptions:e.changeCustomOptions,customOptions:e.customOptions})),"map"===e.view&&r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(rb,{sort:e.sort,onChange:e.changeSort})))},mb=e=>{const{accountId:t,options:a}=e,[n,s]=Object(i.useState)(!1),o=Object(i.useCallback)((()=>{s(!0)}),[s]),l=Object(i.useCallback)((()=>{s(!1)}),[s]),u=a.find((e=>e.value===t)),c=Object(i.useCallback)((a=>{t===a?e.changeAccount(""):e.changeAccount(a),l()}),[t,l,e]),d=Object(i.useMemo)((()=>[{id:0,title:"",items:a.map((e=>{const a=e.value===t?"check":"empty";return{name:e.name,onClick:()=>c(e.value),icon:a}}))}]),[a,t,c]),m=r.a.createElement(KM,{label:k.i18n.translate("xpack.infra.waffle.accountLabel",{defaultMessage:"Account"}),onClick:o},u?u.name:k.i18n.translate("xpack.infra.waffle.accountAllTitle",{defaultMessage:"All"}));return r.a.createElement(F.EuiPopover,{isOpen:n,id:"accontPopOver",button:m,anchorPosition:"downLeft",panelPaddingSize:"none",closePopover:l},r.a.createElement(F.EuiContextMenu,{initialPanelId:0,panels:d}))},gb=e=>{const{region:t,options:a}=e,[n,s]=Object(i.useState)(!1),o=Object(i.useCallback)((()=>{s(!0)}),[s]),l=Object(i.useCallback)((()=>{s(!1)}),[s]),u=a.find((e=>t===e)),c=Object(i.useCallback)((a=>{t===a?e.changeRegion(""):e.changeRegion(a),l()}),[t,l,e]),d=Object(i.useMemo)((()=>[{id:0,title:"",items:a.map((e=>({name:e,onClick:()=>c(e),icon:e===t?"check":"empty"})))}]),[c,a,t]),m=r.a.createElement(KM,{onClick:o,label:k.i18n.translate("xpack.infra.waffle.regionLabel",{defaultMessage:"Region"})},u||k.i18n.translate("xpack.infra.waffle.region",{defaultMessage:"All"}));return r.a.createElement(F.EuiPopover,{isOpen:n,id:"regionPanel",button:m,anchorPosition:"downLeft",panelPaddingSize:"none",closePopover:l},r.a.createElement(F.EuiContextMenu,{initialPanelId:0,panels:d}))},pb=e=>r.a.createElement(r.a.Fragment,null,e.accounts.length>0&&r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(mb,{changeAccount:e.changeAccount,accountId:e.accountId,options:e.accounts})),e.regions.length>0&&r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(gb,{changeRegion:e.changeRegion,region:e.region,options:e.regions}))),Mb=["cloud.availability_zone","cloud.machine.type","aws.ec2.instance.image.id","aws.ec2.instance.state.name"],bb=e=>r.a.createElement(r.a.Fragment,null,r.a.createElement(pb,e),r.a.createElement(db,J()({},e,{metricTypes:g.awsEC2SnapshotMetricTypes,groupByFields:Mb}))),fb=["cloud.availability_zone","aws.rds.db_instance.class","aws.rds.db_instance.status"],yb=e=>r.a.createElement(r.a.Fragment,null,r.a.createElement(pb,e),r.a.createElement(db,J()({},e,{metricTypes:g.awsRDSSnapshotMetricTypes,groupByFields:fb}))),jb=["cloud.region"],Eb=e=>r.a.createElement(r.a.Fragment,null,r.a.createElement(pb,e),r.a.createElement(db,J()({},e,{metricTypes:g.awsS3SnapshotMetricTypes,groupByFields:jb}))),hb=["cloud.region"],Ib=e=>r.a.createElement(r.a.Fragment,null,r.a.createElement(pb,e),r.a.createElement(db,J()({},e,{metricTypes:g.awsSQSSnapshotMetricTypes,groupByFields:hb}))),Lb=["host.name","cloud.availability_zone","cloud.machine.type","cloud.project.id","cloud.provider","service.type"],xb=e=>r.a.createElement(db,J()({},e,{metricTypes:g.containerSnapshotMetricTypes,groupByFields:Lb})),wb=["cloud.availability_zone","cloud.machine.type","cloud.project.id","cloud.provider","service.type"],vb=e=>r.a.createElement(db,J()({},e,{metricTypes:g.hostSnapshotMetricTypes,groupByFields:wb})),Tb=["kubernetes.namespace","kubernetes.node.name","service.type"],Sb=e=>r.a.createElement(db,J()({},e,{metricTypes:g.podSnapshotMetricTypes,groupByFields:Tb})),Cb=({nodeType:e,currentTime:t})=>{const{sourceId:a}=Object(Y.d)(),{accounts:n,regions:s}=function(e,t,a){const{error:n,loading:r,response:s,makeRequest:o}=Object(Ko.a)("/api/infra/inventory/meta","POST",JSON.stringify({sourceId:e,nodeType:t,currentTime:a}),(e=>Object(le.pipe)(YM.decode(e),Object(ue.fold)(Object(At.d)(At.a),ce.identity))));return Object(i.useEffect)((()=>{o()}),[o]),{error:n,loading:r,accounts:s?s.accounts:[],regions:s?s.regions:[],makeRequest:o}}(a,e,t);return r.a.createElement(ub,null,(e=>r.a.createElement(r.a.Fragment,null,r.a.createElement(Nb,J()({},e,{accounts:n,regions:s})),r.a.createElement(F.EuiFlexItem,{grow:!0}))))},Nb=e=>{switch(e.nodeType){case"awsEC2":return r.a.createElement(bb,e);case"awsRDS":return r.a.createElement(yb,e);case"awsS3":return r.a.createElement(Eb,e);case"awsSQS":return r.a.createElement(Ib,e);case"container":return r.a.createElement(xb,e);case"host":return r.a.createElement(vb,e);case"pod":return r.a.createElement(Sb,e)}},Db=({view:e,onChange:t})=>{const a=[{id:"map",label:k.i18n.translate("xpack.infra.viewSwitcher.mapViewLabel",{defaultMessage:"Map view"}),iconType:"grid"},{id:"table",label:k.i18n.translate("xpack.infra.viewSwitcher.tableViewLabel",{defaultMessage:"Table view"}),iconType:"visTable"}];return r.a.createElement(F.EuiButtonGroup,{legend:k.i18n.translate("xpack.infra.viewSwitcher.lenged",{defaultMessage:"Switch between table and map view"}),options:a,color:"text",buttonSize:"s",idSelected:e,onChange:t,isIconOnly:!0})},Ob=(e="cool",t=10)=>{switch(e){case"temperature":return Object(F.euiPaletteForTemperature)(t);case"status":return Object(F.euiPaletteForStatus)(t);case"warm":return Object(F.euiPaletteWarm)(t);case"positive":return Object(F.euiPaletteGreen)(t);case"negative":return Object(F.euiPaletteRed)(t);default:return Object(F.euiPaletteCool)(t)}},kb=(e="cool",t=10,a=!1)=>a?Ob(e,t).reverse():Ob(e,t),Ab=(e,t=10,a=!1)=>({type:"steppedGradient",rules:kb(e,t,a).map(((e,a)=>({color:e,value:(a+1)/t})))}),zb=({iconType:e,tooltipPosition:t,tooltipContent:a})=>r.a.createElement(F.EuiBetaBadge,{label:k.i18n.translate("xpack.infra.common.tabBetaBadgeLabel",{defaultMessage:"Beta"}),tooltipContent:a,iconType:e,tooltipPosition:t,"data-test-id":"infra-beta-badge"}),Fb=({label:e,link:t,color:a="primary",experimental:n=!1,hideBadge:i=!1,onClick:s,...o})=>{const l=Object(b.useLinkProps)({...t}),u=e=>{l.onClick&&l.onClick(e),s&&s(e)};return r.a.createElement(F.EuiFlexGroup,{responsive:!1,alignItems:"center",gutterSize:"m"},!i&&r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(F.EuiLink,J()({"data-test-subj":`${o["data-test-subj"]}-badge`},l,{onClick:u}),r.a.createElement(Pb,{color:"accent",label:k.i18n.translate("xpack.infra.layout.tryIt",{defaultMessage:"Try it"})}))),r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(F.EuiLink,J()({"data-test-subj":o["data-test-subj"]},l,{color:a,onClick:u}),r.a.createElement(F.EuiFlexGroup,{wrap:!1,responsive:!1,gutterSize:"m",alignItems:"center"},n&&r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(zb,{iconType:"beta",tooltipPosition:"top"})),r.a.createElement(F.EuiFlexItem,null,e)))))};var Pb=an()(F.EuiBetaBadge).withConfig({displayName:"_StyledEuiBetaBadge",componentId:"sc-1v3edvv-0"})(["cursor:pointer;"]),Rb=a(235);const Ub=({interval:e,yAxisFormatter:t,isVisible:a})=>{var n,s;const{sourceId:o,source:l}=Object(Y.d)(),{metric:u,nodeType:c,accountId:d,region:m}=Nn(),{currentTime:g,jumpToTime:p,stopAutoReload:M}=pa(),{filterQueryAsJson:b}=Ga(),f=Object(Be.a)(),{loading:y,error:j,startTime:E,endTime:h,timeseries:I,reload:L}=function(e,t,a,n,r,s,o,l,u){const c=Object(i.useMemo)((()=>(e=>e&&Object(Rb.a)(e)<300?"5m":e)(l)),[l]),d=Object(i.useMemo)((()=>(e=>{if(e){const t=Object(Rb.a)(e);return{timeLength:t<=900?86400:t<=2100?259200:t<=9e3?604800:2592e3,intervalInSeconds:t}}return{timeLength:0,intervalInSeconds:0}})(c)),[c]),{timeLength:m,intervalInSeconds:g}=d,p=r+1e3*g,M=r-1e3*m,b={interval:null!=c?c:"",to:p,from:M,forceInterval:!0},{nodes:f,error:y,loading:j,reload:E}=Object(En.a)({metrics:t,groupBy:null,currentTime:r,nodeType:a,timerange:b,filterQuery:e,sourceId:n,accountId:s,region:o,includeTimeseries:!0,sendRequestImmediately:!1},{abortable:!0});Object(i.useEffect)((()=>{(async()=>{u&&E()})()}),[E,u]);const h=f?Object(ze.first)(f.map((e=>{var t;return null===(t=Object(ze.first)(e.metrics))||void 0===t?void 0:t.timeseries}))):null;return{error:y||null,loading:!l||j,timeseries:h,startTime:M,endTime:p,reload:E}}(b,[u],c,o,g,d,m,e,a),x={sourceId:"default",anomalyThreshold:(null==l?void 0:l.configuration.anomalyThreshold)||0,startTime:E,endTime:h,defaultSortOptions:{direction:"desc",field:"anomalyScore"},defaultPaginationOptions:{pageSize:100}},{metricsHostsAnomalies:w,getMetricsHostsAnomalies:v}=ss(x),{metricsK8sAnomalies:T,getMetricsK8sAnomalies:S}=as(x),C=Object(i.useMemo)((()=>"host"===c?v:"pod"===c?S:void 0),[c,S,v]),N=Object(i.useMemo)((()=>"host"===c?w:"pod"===c?T:void 0),[c,w,T]),D=null===(n=Object(In.a)(u.type))||void 0===n?void 0:n.textLC,O=null===(s=Object(In.a)(u.type))||void 0===s?void 0:s.text,A={color:qe.a.color0,aggregation:"avg",label:O},z=Object(i.useMemo)((()=>{var e,t;if(!I)return()=>"";const a=null===(e=Object(ze.first)(I.rows))||void 0===e?void 0:e.timestamp,n=null===(t=Object(ze.last)(I.rows))||void 0===t?void 0:t.timestamp;return null==a||null==n?e=>`${e}`:Object(Re.niceTimeFormatter)([a,n])}),[I]),R={headerFormatter:({value:e})=>Ve()(e).format("Y-MM-DD HH:mm:ss.SSS")},U=I?Object(Mt.a)(I,[A],!1):null,V=U?{max:1.1*U.max,min:U.min}:{max:0,min:0},B=Object(i.useCallback)((([e])=>{const[t]=e;if(t&&!Array.isArray(t)){const{x:e}=t;p(e),M()}}),[p,M]),_=Object(i.useMemo)((()=>{const e=u.type;return"memory"===e?"memory_usage":"rx"===e?"network_in":"tx"===e?"network_out":void 0}),[u]);return Object(i.useEffect)((()=>{C&&_&&C(_)}),[C,_]),y?r.a.createElement(Vb,null,r.a.createElement(Yb,null,r.a.createElement(F.EuiLoadingChart,{size:"xl"}))):y||!j&&I?r.a.createElement(Vb,{"data-test-subj":a?"timelineContainerOpen":"timelineContainerClosed"},r.a.createElement(Bb,null,r.a.createElement(F.EuiFlexItem,{grow:!0},r.a.createElement(F.EuiText,null,r.a.createElement("strong",null,r.a.createElement(P.FormattedMessage,{id:"xpack.infra.inventoryTimeline.header",defaultMessage:"Average {metricLabel}",values:{metricLabel:D}})))),r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(F.EuiFlexGroup,{alignItems:"center",responsive:!1},r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(F.EuiFlexGroup,{gutterSize:"s",alignItems:"center",responsive:!1},r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(F.EuiIcon,{color:Object(qe.b)(A.color),type:"dot"})),r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(F.EuiText,{size:"xs"},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.inventoryTimeline.header",defaultMessage:"Average {metricLabel}",values:{metricLabel:D}}))))),r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(F.EuiFlexGroup,{gutterSize:"s",alignItems:"center",responsive:!1},r.a.createElement(F.EuiFlexItem,{grow:!1,style:{backgroundColor:"#D36086",height:5,width:10}}),r.a.createElement(F.EuiFlexItem,null,r.a.createElement(F.EuiText,{size:"xs"},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.inventoryTimeline.legend.anomalyLabel",defaultMessage:"Anomaly detected"})))))))),r.a.createElement(_b,null,r.a.createElement(Re.Chart,null,N&&r.a.createElement(Re.RectAnnotation,{id:"anomalies",dataValues:(Q=N.map((e=>[e.startTime,e.influencers])),Q.map((e=>{const[t,a]=e;return{coordinates:{x0:t,x1:Ve()(t).add(15,"minutes").valueOf(),y0:null==U?void 0:U.min,y1:null==U?void 0:U.max},details:a.join(",")}}))),style:{fill:"#D36086"}}),r.a.createElement(yt.a,{type:ie.a.area,metric:A,id:"0",series:I,stack:!1}),r.a.createElement(Re.Axis,{id:"timestamp",position:Re.Position.Bottom,showOverlappingTicks:!0,tickFormat:z}),r.a.createElement(Re.Axis,{id:"values",position:Re.Position.Left,tickFormat:t,domain:V,ticks:6,gridLine:{visible:!0}}),r.a.createElement(Re.Tooltip,R),r.a.createElement(Re.Settings,{onElementClick:B,baseTheme:f.baseTheme,theme:f.theme,locale:k.i18n.getLocale()})))):r.a.createElement(Vb,null,r.a.createElement(F.EuiEmptyPrompt,{iconType:"visArea",title:r.a.createElement("h4",null,j?Gb:Qb),actions:r.a.createElement(F.EuiButton,{"data-test-subj":"infraTimelineButton",color:"primary",fill:!0,onClick:L},j?Wb:Zb)}));var Q},Vb=R.euiStyled.div`
  background-color: ${e=>e.theme.eui.euiPageBackgroundColor};
  border-top: 1px solid ${e=>e.theme.eui.euiColorLightShade};
  height: 220px;
  width: 100%;
  padding: ${e=>e.theme.eui.euiSizeS} ${e=>e.theme.eui.euiSizeM};
  display: flex;
  flex-direction: column;
`,Bb=R.euiStyled.div`
  display: flex;
  width: 100%;
  padding: ${e=>e.theme.eui.euiSizeS} ${e=>e.theme.eui.euiSizeM};
  @media only screen and (max-width: 767px) {
      margin-top: 30px;
  }
`,_b=R.euiStyled.div`
  padding-left: ${e=>e.theme.eui.euiSizeXS};
  width: 100%;
  height: 100%;
`,Yb=R.euiStyled.div`
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100%;
`,Qb=k.i18n.translate("xpack.infra.inventoryTimeline.noHistoryDataTitle",{defaultMessage:"There is no historical data to display."}),Gb=k.i18n.translate("xpack.infra.inventoryTimeline.errorTitle",{defaultMessage:"Unable to show historical data."}),Zb=k.i18n.translate("xpack.infra.inventoryTimeline.checkNewDataButtonLabel",{defaultMessage:"Check for new data"}),Wb=k.i18n.translate("xpack.infra.inventoryTimeline.retryButtonLabel",{defaultMessage:"Try again"}),Hb=k.i18n.translate("xpack.infra.showHistory",{defaultMessage:"Show history"}),$b=k.i18n.translate("xpack.infra.hideHistory",{defaultMessage:"Hide history"}),Jb=()=>{const[e,t]=on()("inventoryUI:k8sDashboardClicked",!1),a=Object(i.useRef)(e);return r.a.createElement(Fb,{color:a.current?"primary":"accent",label:k.i18n.translate("xpack.infra.bottomDrawer.kubernetesDashboardsLink",{defaultMessage:"Kubernetes dashboards"}),"data-test-subj":"inventory-kubernetesDashboard-link",link:{app:"dashboards",hash:"/list",search:{_g:"()",s:"kubernetes tag:(Managed)"}},onClick:()=>{a.current||t(!0)},hideBadge:a.current})},qb=({interval:e,formatter:t,view:a,nodeType:n})=>{const{timelineOpen:s,changeTimelineOpen:o}=Nn(),[l,u]=Object(i.useState)(Boolean(s));Object(i.useEffect)((()=>{l!==s&&u(Boolean(s))}),[l,s]);const c=Object(b.useUiTracker)({app:"infra_metrics"}),d=Object(i.useCallback)((()=>{l||c({metric:"open_timeline_drawer__inventory"}),u(!l),o(!l)}),[l,c,o]);return"table"===a?"pod"===n?r.a.createElement(Xb,{hasBorder:!1,hasShadow:!1,borderRadius:"none",paddingSize:"s"},r.a.createElement(Jb,null)):null:r.a.createElement(Kb,null,r.a.createElement(ef,{borderRadius:"none",paddingSize:"s"},r.a.createElement(F.EuiFlexGroup,{responsive:!1,justifyContent:"flexStart",alignItems:"center"},r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(F.EuiButtonEmpty,{"aria-expanded":l,iconType:l?"arrowDown":"arrowRight",onClick:d,"data-test-subj":"toggleTimelineButton"},l?$b:Hb)),"pod"===n&&r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(Jb,null)))),r.a.createElement(F.EuiFlexGroup,{style:{maxHeight:l?"224px":0,transition:"max-height 0.15s ease",overflow:"hidden"}},r.a.createElement(Ub,{isVisible:l,interval:e,yAxisFormatter:t})))},Kb=R.euiStyled.div`
  position: sticky;
  bottom: 0;
  left: 0;
  background: ${e=>e.theme.eui.euiColorGhost};
  width: calc(100% + ${e=>e.theme.eui.euiSizeL} * 2);
  margin-left: -${e=>e.theme.eui.euiSizeL};
`,Xb=Object(R.euiStyled)(F.EuiPanel)`
  padding: ${e=>e.theme.eui.euiSizeL} 0;
`,ef=Object(R.euiStyled)(F.EuiPanel)`
  padding: 0 ${e=>e.theme.eui.euiSizeL};
`,tf=e=>({min:100*e.min,max:100*(e.max||1)}),af=({label:e,color:t})=>r.a.createElement(F.EuiFlexGroup,{alignItems:"center",gutterSize:"s",responsive:!1},r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(F.EuiColorPickerSwatch,{color:t})),r.a.createElement(F.EuiFlexItem,null,r.a.createElement(F.EuiText,{size:"xs"},r.a.createElement("strong",null,e)))),nf=({steps:e,palette:t,reverse:a})=>{const n=kb(t,e,a);return r.a.createElement(sf,null,n.map((e=>r.a.createElement(rf,{key:e,style:{backgroundColor:e}}))))},rf=R.euiStyled.div`
  max-width: 15px;
  height: 12px;
  flex: 1 1 auto;
  &:first-child {
    border-radius: ${e=>e.theme.eui.euiBorderRadius} 0 0 ${e=>e.theme.eui.euiBorderRadius};
  }
  &:last-child {
    border-radius: 0 ${e=>e.theme.eui.euiBorderRadius} ${e=>e.theme.eui.euiBorderRadius} 0;
`,sf=R.euiStyled.div`
  display: flex;
`,of=["temperature","status","cool","warm","positive","negative"].map((e=>({text:Xe.d[e],value:e}))),lf=({autoBounds:e,boundsOverride:t,onChange:a,dataBounds:n,options:s})=>{const[o,l]=Object(i.useState)(!1),[u,c]=Object(i.useState)(e),[d,m]=Object(i.useState)(s),[g,p]=Object(i.useState)(tf(t));Object(i.useEffect)((()=>{u&&p(tf(n))}),[e,n,u,a,s]);const M=r.a.createElement(F.EuiButtonIcon,{iconType:"color",color:"text",display:"base",size:"s","aria-label":k.i18n.translate("xpack.infra.legendControls.buttonLabel",{defaultMessage:"configure legend"}),onClick:()=>l(!0),"data-test-subj":"openLegendControlsButton"}),b=Object(i.useCallback)((e=>{const a=e.target.checked;c(a),a||p(tf(t))}),[t]),f=Object(i.useCallback)((e=>{m((t=>({...t,reverseColors:e.target.checked})))}),[m]),y=Object(i.useCallback)((e=>{const t=parseFloat(e.currentTarget.value),a=t<=g.min?g.min+1:t>100?100:t;p({...g,max:a})}),[g]),j=Object(i.useCallback)((e=>{const t=parseFloat(e.currentTarget.value),a=t>=g.max?g.max-1:t<0?0:t;p({...g,min:a})}),[g]),E=Object(i.useCallback)((()=>{a({auto:u,bounds:{min:g.min/100,max:g.max/100},legend:d}),l(!1)}),[a,u,g,d]),h=Object(i.useCallback)((()=>{p(tf(t)),c(e),m(s),l(!1)}),[e,t,s]),I=Object(i.useCallback)((e=>{const t=parseInt(e.target.value,10);m((e=>({...e,steps:t})))}),[m]),L=Object(i.useCallback)((e=>{const t=e.target.value;m((e=>({...e,palette:t})))}),[m]),x=u===e&&100*t.min===g.min&&100*t.max===g.max&&s.steps===d.steps&&s.reverseColors===d.reverseColors&&s.palette===d.palette,w=g.min<g.max,v=kb(d.palette,d.steps,d.reverseColors),T=w?[]:[k.i18n.translate("xpack.infra.legnedControls.boundRangeError",{defaultMessage:"Minimum must be smaller than the maximum"})];return r.a.createElement(F.EuiPopover,{isOpen:o,closePopover:h,id:"legendControls",button:M,anchorPosition:"leftCenter","data-test-subj":"legendControls"},r.a.createElement(F.EuiPopoverTitle,null,"Legend Options"),r.a.createElement(uf,null,r.a.createElement(F.EuiFormRow,{display:"columnCompressed",label:k.i18n.translate("xpack.infra.legendControls.colorPaletteLabel",{defaultMessage:"Color palette"})},r.a.createElement(r.a.Fragment,null,r.a.createElement(F.EuiSelect,{options:of,value:d.palette,id:"palette",onChange:L,compressed:!0,"data-test-subj":"legendControlsPalette"}),r.a.createElement(F.EuiSpacer,{size:"m"}),r.a.createElement(nf,{palette:d.palette,steps:d.steps,reverse:d.reverseColors}))),r.a.createElement(F.EuiFormRow,{display:"columnCompressed",label:k.i18n.translate("xpack.infra.legendControls.stepsLabel",{defaultMessage:"Number of colors"})},r.a.createElement(F.EuiRange,{id:"steps",min:2,max:18,step:1,value:d.steps,onChange:I,showValue:!0,fullWidth:!0})),r.a.createElement(F.EuiFormRow,{fullWidth:!0,display:"columnCompressed",label:k.i18n.translate("xpack.infra.legendControls.reverseDirectionLabel",{defaultMessage:"Reverse direction"})},r.a.createElement(F.EuiSwitch,{showLabel:!1,name:"reverseColors",label:"reverseColors",checked:d.reverseColors,onChange:f,compressed:!0,style:{position:"relative",top:"8px"}})),r.a.createElement(F.EuiFormRow,{fullWidth:!0,display:"columnCompressed",label:k.i18n.translate("xpack.infra.legendControls.switchLabel",{defaultMessage:"Auto calculate range"})},r.a.createElement(F.EuiSwitch,{showLabel:!1,name:"bounds",label:"bounds",checked:u,onChange:b,compressed:!0,style:{position:"relative",top:"8px"}})),r.a.createElement(F.EuiFormRow,{fullWidth:!0,label:r.a.createElement(af,{color:Object(ze.first)(v),label:k.i18n.translate("xpack.infra.legendControls.minLabel",{defaultMessage:"Minimum"})}),isInvalid:!w,display:"columnCompressed",error:T},r.a.createElement("div",{style:{maxWidth:150}},r.a.createElement(F.EuiFieldNumber,{"data-test-subj":"infraLegendControlsFieldNumber",disabled:u,step:1,value:isNaN(g.min)?"":g.min,isInvalid:!w,name:"legendMin",onChange:j,append:"%",compressed:!0}))),r.a.createElement(F.EuiFormRow,{fullWidth:!0,display:"columnCompressed",label:r.a.createElement(af,{color:Object(ze.last)(v),label:k.i18n.translate("xpack.infra.legendControls.maxLabel",{defaultMessage:"Maximum"})}),isInvalid:!w,error:T},r.a.createElement("div",{style:{maxWidth:150}},r.a.createElement(F.EuiFieldNumber,{"data-test-subj":"infraLegendControlsFieldNumber",disabled:u,step:1,isInvalid:!w,value:isNaN(g.max)?"":g.max,name:"legendMax",onChange:y,append:"%",compressed:!0}))),r.a.createElement(F.EuiSpacer,{size:"m"}),r.a.createElement(F.EuiFlexGroup,{justifyContent:"flexEnd",responsive:!1},r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(F.EuiButtonEmpty,{"data-test-subj":"infraLegendControlsCancelButton",type:"submit",size:"s",onClick:h},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.legendControls.cancelButton",defaultMessage:"Cancel"}))),r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(F.EuiButton,{type:"submit",size:"s",fill:!0,disabled:x||!w,onClick:E,"data-test-subj":"applyLegendControlsButton"},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.legendControls.applyButton",defaultMessage:"Apply"}))))))},uf=Object(R.euiStyled)(F.EuiForm)`
  min-width: 400px;
  @media (max-width: 480px) {
    min-width: 100%;
    max-width: 100%;
    width: 100vw;
  }
`,cf=r.a.memo((({currentView:e,reload:t,interval:a,nodes:n,loading:s})=>{var o,l,u;const[c,d]=Object(i.useState)(!0),{metric:m,groupBy:g,sort:p,nodeType:M,changeView:b,view:f,autoBounds:y,boundsOverride:j,legend:E,changeBoundsOverride:h,changeAutoBounds:I,changeLegend:L}=Nn(),{currentTime:x,jumpToTime:w,isAutoReloading:v}=pa(),{applyFilterQuery:T}=Ga(),S=null!==(o=null==E?void 0:E.palette)&&void 0!==o?o:xn.palette,C=null!==(l=null==E?void 0:E.steps)&&void 0!==l?l:xn.steps,N=null!==(u=null==E?void 0:E.reverseColors)&&void 0!==u?u:xn.reverseColors,[D,O]=on()("inventoryUI:hostsLinkClicked",!1),A=Object(i.useRef)(D),z={formatter:Xe.b.percent,formatTemplate:"{{value}}",legend:Ab(S,C,N),metric:m,sort:p,groupBy:g};rn()((()=>{s||w(Date.now())}),v?5e3:null);const P=Ni(n),R=y?P:j,V=Object(i.useCallback)((e=>Object(hn.a)(z.metric)(e)),[z.metric]),{onViewChange:B}=Zo();Object(i.useEffect)((()=>{e&&B(e)}),[e,B]),Object(i.useEffect)((()=>{null!=e&&t()}),[e,t]),Object(i.useEffect)((()=>{d(!0)}),[z.metric,M]),Object(i.useEffect)((()=>{const e=n&&n.length;d(!e)}),[n]);const _=Object(i.useCallback)((e=>{h(e.bounds),I(e.auto),L(e.legend)}),[h,I,L]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(U.b,null,r.a.createElement(F.EuiFlexGroup,{direction:"column",gutterSize:"s"},r.a.createElement(df,{grow:!1},r.a.createElement(F.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center",gutterSize:"m"},r.a.createElement(Cb,{nodeType:M,currentTime:x}),r.a.createElement(mf,{responsive:!1},"map"===f&&r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(lf,{options:null!=E?E:xn,dataBounds:P,bounds:R,autoBounds:y,boundsOverride:j,onChange:_})),r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(Db,{view:f,onChange:b}))))),r.a.createElement(F.EuiFlexItem,{grow:!1},!A.current&&"host"===M&&r.a.createElement(Fb,{"data-test-subj":"inventory-hostsView-link",label:k.i18n.translate("xpack.infra.layout.hostsLandingPageLink",{defaultMessage:"Introducing a new Hosts analysis experience"}),link:{app:"metrics",pathname:"/hosts"},experimental:!0,onClick:()=>{O(!0)}})),r.a.createElement(gf,{grow:!1},r.a.createElement(ln.a,{bounds:!0},(({bounds:{height:e=0}})=>r.a.createElement(UM,{nodes:n,options:z,nodeType:M,loading:s,showLoading:c,reload:t,onDrilldown:T,currentTime:x,view:f,autoBounds:y,boundsOverride:j,formatter:V,bottomMargin:e,isAutoReloading:v,refreshInterval:5e3})))))),r.a.createElement(qb,{interval:a,formatter:V,view:f,nodeType:M}))})),df=Object(R.euiStyled)(F.EuiFlexItem)`
  padding: ${e=>`${e.theme.eui.euiSizeM} 0`};
`;var mf=an()(F.EuiFlexGroup)`
                  margin: 0;
                  justify-content: flex-end;
                `,gf=an()(F.EuiFlexItem).withConfig({displayName:"_StyledEuiFlexItem",componentId:"sc-pe9evr-0"})(["position:relative;flex:1 1 auto;"]);const pf=e=>{const{currentView:t}=$a();return r.a.createElement(cf,J()({currentView:t},e))},Mf=()=>{const{viewState:e}=Zo(),{currentView:t,views:a,isFetchingViews:n,isFetchingCurrentView:i,isCreatingView:s,isUpdatingView:o,createView:l,deleteViewById:u,fetchViews:c,updateViewById:d,switchViewById:m,setDefaultViewById:g}=$a();return r.a.createElement($t,{currentView:t,views:a,isFetchingViews:n,isFetchingCurrentView:i,isCreatingView:s,isUpdatingView:o,onCreateView:l,onDeleteView:u,onUpdateView:d,onLoadViews:c,onSetDefaultView:g,onSwitchView:m,viewState:e})},bf=({render:e})=>{const{sourceId:t}=Object(Y.d)(),{metric:a,groupBy:n,nodeType:i,accountId:r,region:s}=Nn(),{currentTime:o}=pa(),{filterQueryAsJson:l}=Ga(),{loading:u,nodes:c,reload:d,interval:m="60s"}=Object(En.a)({filterQuery:l,metrics:[a],groupBy:n,nodeType:i,sourceId:t,currentTime:o,accountId:r,region:s,sendRequestImmediately:!1},{abortable:!0});return e({loading:u,nodes:c,reload:d,interval:m})};var ff=a(221);const yf="https://ela.st/k8s-feedback",jf=()=>{const[e,t]=on()("kubernetesToastKey",!1),a=()=>t(!0),{kibanaVersion:n,isCloudEnv:i,isServerlessEnv:s}=Object(S.e)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.FeatureFeedbackButton,{formUrl:yf,"data-test-subj":"infra-kubernetes-feedback-link",kibanaVersion:n,isCloudEnv:i,isServerlessEnv:s,surveyButtonText:r.a.createElement(P.FormattedMessage,{id:"xpack.infra.homePage.tellUsWhatYouThinkK8sLink",defaultMessage:"Tell us what you think! (K8s)"}),formConfig:{kibanaVersionQueryParam:"entry.184582718"}}),!e&&r.a.createElement(F.EuiGlobalToastList,{toastLifeTimeMs:1/0,dismissToast:a,toasts:[{id:"k8s-toast",title:r.a.createElement(P.FormattedMessage,{id:"xpack.infra.homePage.kubernetesToastTitle",defaultMessage:"We need your help!"}),color:"primary",iconType:"help",text:r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,r.a.createElement(P.FormattedMessage,{id:"xpack.infra.homePage.kubernetesToastText",defaultMessage:"Help us design your Kubernetes experience by completing a feedback survey."})),r.a.createElement(F.EuiFlexGroup,{justifyContent:"flexEnd",gutterSize:"s"},r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(b.FeatureFeedbackButton,{formUrl:yf,"data-test-subj":"infra-toast-kubernetes-survey-start",onClickCapture:a,defaultButton:!0,kibanaVersion:n,isCloudEnv:i,isServerlessEnv:s,surveyButtonText:r.a.createElement(P.FormattedMessage,{id:"xpack.infra.homePage.kubernetesToastButton",defaultMessage:"Start survey"})}))))}]}))},Ef=()=>{const{nodeType:e}=Nn(),{kibanaVersion:t,isCloudEnv:a,isServerlessEnv:n}=Object(S.e)();return r.a.createElement(r.a.Fragment,null,"pod"===e?r.a.createElement(jf,null):r.a.createElement(b.FeatureFeedbackButton,{"data-test-subj":"infraInventoryFeedbackLink",formUrl:"https://ela.st/survey-infra-inventory?usp=pp_url",kibanaVersion:t,isCloudEnv:a,isServerlessEnv:n}))},hf=()=>(Object(b.useTrackPageview)({app:"infra_metrics",path:"inventory"}),Object(b.useTrackPageview)({app:"infra_metrics",path:"inventory",delay:15e3}),Le([{text:Ie.d}]),r.a.createElement(F.EuiErrorBoundary,null,r.a.createElement(Cn,null,r.a.createElement(ga,null,r.a.createElement(Qa,null,r.a.createElement("div",{className:Xt.APP_WRAPPER_CLASS},r.a.createElement(Ut,{pageHeader:{pageTitle:Ie.d,rightSideItems:[r.a.createElement(Mf,null),r.a.createElement(Ef,null)]},pageSectionProps:{contentProps:{css:ea.css`
                      ${ff.a};
                      padding-bottom: 0;
                    `}}},r.a.createElement(bf,{render:({loading:e,nodes:t,reload:a,interval:n})=>r.a.createElement(r.a.Fragment,null,r.a.createElement(Wa,{interval:n}),r.a.createElement(pf,{loading:e,nodes:t,reload:a,interval:n}))})))))))),If=()=>{const{params:{type:e,node:t}}=Object(m.useRouteMatch)();return r.a.createElement(hM,{assetId:t,assetType:e,tabs:FM(e),renderMode:{mode:"page"}})},Lf=oe.intersection([oe.type({timestamp:oe.number}),oe.partial({value:oe.union([oe.number,oe.null])})]),xf=oe.type({id:oe.string,label:oe.string,data:oe.array(Lf)}),wf=oe.intersection([oe.partial({id:oe.union([g.InventoryMetricRT,oe.null])}),oe.type({series:oe.array(xf)})]),vf=oe.type({metrics:oe.array(wf)});oe.intersection([oe.type({nodeType:g.ItemTypeRT,nodeId:oe.string,metrics:oe.array(g.InventoryMetricRT),timerange:QM.a,sourceId:oe.string}),oe.partial({cloudId:oe.union([oe.string,oe.null])})]);const Tf=({loading:e,name:t,items:a})=>{const[n,s]=Object(i.useState)(!1),o=Object(i.useCallback)((()=>{s(!n)}),[n]),l=e?null:r.a.createElement(F.EuiSideNav,{items:a}),u=e?null:r.a.createElement(F.EuiSideNav,{items:a,mobileTitle:t,toggleOpenOnMobile:o,isOpenOnMobile:n});return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.EuiHideFor,{sizes:["xs","s","m"]},r.a.createElement(F.EuiPageSidebar,{sticky:!0},l)),r.a.createElement(F.EuiShowFor,{sizes:["xs","s","m"]},r.a.createElement(F.EuiPageSidebar,null,u)))},Sf=e=>{const[t]=Object(_e.a)(It.UI_SETTINGS.TIMEPICKER_QUICK_RANGES),{onChangeTimeRange:a,onRefresh:n,currentTimeRange:s,isLiveStreaming:o,refreshInterval:l,setAutoReload:u,setRefreshInterval:c}=e,d=Dt(t),m=Object(i.useCallback)((({start:e,end:t})=>{a({from:e,to:t,interval:">=1m"})}),[a]),g=Object(i.useCallback)((({isPaused:e,refreshInterval:t})=>{e?u(!1):(c(t),u(!0))}),[u,c]);return r.a.createElement(Cf,null,r.a.createElement(F.EuiSuperDatePicker,{start:s.from.toString(),end:s.to.toString(),isPaused:!o,refreshInterval:l||0,onTimeChange:m,onRefreshChange:g,onRefresh:n,commonlyUsedRanges:d}))},Cf=R.euiStyled.div`
  max-width: 750px;
`,Nf=r.a.createContext({items:[],addNavItem:e=>{}});var Df=a(149);const Of=e=>"bar"===e.type?r.a.createElement(Af,e):r.a.createElement(kf,e),kf=({id:e,color:t,series:a,name:n,type:i,stack:s})=>{const o=Object(Df.a)(),l={area:{opacity:1,visible:"area"===i},line:{strokeWidth:"area"===i?1:2,visible:!0}};return r.a.createElement(Re.AreaSeries,{id:e,name:n,xScaleType:Re.ScaleType.Time,yScaleType:Re.ScaleType.Linear,xAccessor:"timestamp",yAccessors:["value"],data:a.data,areaSeriesStyle:l,color:t||void 0,stackAccessors:s?["timestamp"]:void 0,timeZone:o})},Af=({id:e,color:t,series:a,name:n,stack:i})=>{const s=Object(Df.a)(),o={rectBorder:{stroke:t||void 0,strokeWidth:1,visible:!0},rect:{opacity:1}};return r.a.createElement(Re.BarSeries,{id:e,name:n,xScaleType:Re.ScaleType.Time,yScaleType:Re.ScaleType.Linear,xAccessor:"timestamp",yAccessors:["value"],data:a.data,barSeriesStyle:o,color:t||void 0,stackAccessors:i?["timestamp"]:void 0,timeZone:s})};var zf=a(544),Ff=a.n(zf);const Pf=e=>e.data.length<2,Rf=(e,t,a)=>e?Object(ze.get)(e,[t,"name"],a):a,Uf=(e,t)=>{const a=e?Object(ze.get)(e,[t,"color"]):null;return a?new Ff.a(a).hex().toString():null},Vf=(e,t,a)=>{if(!e||!t)return"line";const n=Object(ze.get)(e,[a,"type"]);return g.InventoryVisTypeRT.is(n)?n:g.InventoryVisTypeRT.is(t)?t:"line"},Bf=({title:e,body:t})=>r.a.createElement(F.EuiEmptyPrompt,{iconType:"stats",title:r.a.createElement("h3",null,e),body:r.a.createElement("p",null,t)}),_f=({id:e,onChangeRangeTime:t,metric:a,stopLiveStreaming:n,isLiveStreaming:s,formatter:o,formatterTemplate:l,stacked:u,seriesOverrides:c,type:d})=>{const m=Object(Be.a)(),[g]=Object(_e.a)("dateFormat"),p=Object(i.useCallback)(((e="number",t="{{value}}")=>a=>null!=a?Object(gu.b)(e,t)(a):"")(o,l),[o,l]),M=Object(i.useMemo)((()=>null!=a?Object(Re.niceTimeFormatter)((e=>{if(e.series.some(Pf))return[0,0];const t=e.series.reduce(((e,t)=>{const a=Object(ze.first)(t.data),n=Object(ze.last)(t.data);return e.concat([a&&a.timestamp||0,n&&n.timestamp||0])}),[]);return[Object(ze.min)(t),Object(ze.max)(t)]})(a)):void 0),[a]),b=Object(i.useCallback)((({x:e})=>{if(!e)return;const[a,i]=e;t&&(s&&n&&n(),t({from:Ve()(a).toISOString(),to:Ve()(i).toISOString(),interval:">=1m"}))}),[t,s,n]),f={headerFormatter:Object(i.useCallback)((({value:e})=>Ve()(e).format(g||"Y-MM-DD HH:mm:ss.SSS")),[g])};return e?a?a.series.some(Pf)?r.a.createElement(Bf,{title:k.i18n.translate("xpack.infra.chartSection.notEnoughDataPointsToRenderTitle",{defaultMessage:"Not Enough Data"}),body:k.i18n.translate("xpack.infra.chartSection.notEnoughDataPointsToRenderText",{defaultMessage:"Not enough data points to render chart, try increasing the time range."})}):r.a.createElement(F.EuiPageSection,null,r.a.createElement("div",{className:"infrastructureChart",style:{height:250,marginBottom:16}},r.a.createElement(Re.Chart,null,r.a.createElement(Re.Axis,{id:"timestamp",position:Re.Position.Bottom,showOverlappingTicks:!0,tickFormat:M}),r.a.createElement(Re.Axis,{id:"values",position:Re.Position.Left,tickFormat:p}),a&&a.series.map((t=>r.a.createElement(Of,{key:`series-${e}-${t.id}`,id:`series-${e}-${t.id}`,series:t,name:Rf(c,t.id,t.id),type:Vf(c,d,t.id),color:Uf(c,t.id),stack:u}))),r.a.createElement(Re.Tooltip,f),r.a.createElement(Re.Settings,{onBrushEnd:b,baseTheme:m.baseTheme,showLegend:!0,legendValues:[Re.LegendValue.CurrentAndLastValue],legendPosition:"right",locale:k.i18n.getLocale()})))):r.a.createElement(Bf,{title:k.i18n.translate("xpack.infra.chartSection.missingMetricDataText",{defaultMessage:"Missing Data"}),body:k.i18n.translate("xpack.infra.chartSection.missingMetricDataBody",{defaultMessage:"The data for this chart is missing."})}):null},Yf=r.a.createContext(null),Qf=[{field:"cloud.instance.id",label:k.i18n.translate("xpack.infra.nodeDetails.labels.instanceId",{defaultMessage:"Instance ID"})},{field:"cloud.provider",label:k.i18n.translate("xpack.infra.nodeDetails.labels.cloudProvider",{defaultMessage:"Cloud Provider"})},{field:"host.os.name",label:k.i18n.translate("xpack.infra.nodeDetails.labels.operatinSystem",{defaultMessage:"Operating System"})},{field:"host.os.kernel",label:k.i18n.translate("xpack.infra.nodeDetails.labels.kernelVersion",{defaultMessage:"Kernel Version"})},{field:"host.hostname",label:k.i18n.translate("xpack.infra.nodeDetails.labels.hostname",{defaultMessage:"Hostname"})},{field:"host.containerized",label:k.i18n.translate("xpack.infra.nodeDetails.labels.containerized",{defaultMessage:"Containerized"}),isBoolean:!0},{field:"cloud.project.id",label:k.i18n.translate("xpack.infra.nodeDetails.labels.projectId",{defaultMessage:"Project ID"})},{field:"cloud.availability_zone",label:k.i18n.translate("xpack.infra.nodeDetails.labels.availabilityZone",{defaultMessage:"Availability Zone"})},{field:"cloud.machine.type",label:k.i18n.translate("xpack.infra.nodeDetails.labels.machineType",{defaultMessage:"Machine Type"})},{field:"cloud.instance.name",label:k.i18n.translate("xpack.infra.nodeDetails.labels.instanceName",{defaultMessage:"Instance Name"})}],Gf=e=>{const[t,a]=Object(i.useState)(!1),n=Object(i.useCallback)((()=>a(!t)),[t]),s=Object(i.useMemo)((()=>e.fields&&e.fields.length?e.fields.map((e=>{const t=Qf.find((t=>t.field===e));if(t)return t})).filter((e=>e)):Qf),[e.fields]),o=Object(i.useMemo)((()=>t?s:s.slice(0,4)),[s,t]),l=Object(i.useContext)(Yf);return l?r.a.createElement(Zf,null,s.length>4?r.a.createElement(Wf,null,r.a.createElement(F.EuiButtonIcon,{"data-test-subj":"infraMetadataDetailsButton",iconType:t?"arrowUp":"arrowDown",onClick:n,"aria-label":k.i18n.translate("xpack.infra.nodeDetails.labels.showMoreDetails",{defaultMessage:"Show more details"})})):null,r.a.createElement(F.EuiFlexGrid,{columns:4,style:{flexGrow:1},gutterSize:"s"},o.map((e=>r.a.createElement(F.EuiFlexItem,{key:e.field,style:{minWidth:0}},r.a.createElement(F.EuiTitle,{size:"xs"},r.a.createElement("h5",null,(({field:e})=>{const t=Qf.find((t=>t.field===e));return t?t.label:e})(e))),r.a.createElement(F.EuiText,null,((e,{field:t,isBoolean:a})=>a?Object(ze.get)(e.info,t,!1)?k.i18n.translate("xpack.infra.nodeDetails.yes",{defaultMessage:"Yes"}):k.i18n.translate("xpack.infra.nodeDetails.no",{defaultMessage:"No"}):Object(ze.get)(e.info,t,"--"))(l,e))))))):null},Zf=R.euiStyled.div`
border-top: ${e=>e.theme.eui.euiBorderWidthThin} solid ${e=>e.theme.eui.euiBorderColor};
border-bottom: ${e=>e.theme.eui.euiBorderWidthThin} solid ${e=>e.theme.eui.euiBorderColor};
padding: ${e=>e.theme.eui.euiSizeM} 0;
margin-bottom: ${e=>e.theme.eui.euiSizeM};
display: flex;
`,Wf=R.euiStyled.div`
flex-grow: 0;
margin-right: ${e=>e.theme.eui.euiSizeM};
min-width: 0px;
`,Hf=({children:e,metrics:t,navLabel:a,sectionLabel:n,onChangeRangeTime:s,isLiveStreaming:o,stopLiveStreaming:l})=>{const{addNavItem:u}=Object(i.useContext)(Nf),c=i.Children.toArray(e).reduce(((e,a)=>{var n;return Object(i.isValidElement)(a)?null===(null!==(n=null==t?void 0:t.find((e=>e.id===a.props.id)))&&void 0!==n?n:null)?e:a.props.label?[...e,{id:a.props.id,name:a.props.label,onClick:()=>{const e=document.getElementById(a.props.id);e&&e.scrollIntoView()}}]:e:e}),[]),d=i.Children.map(e,(e=>Object(i.isValidElement)(e)?Object(i.cloneElement)(e,{metrics:t,onChangeRangeTime:s,isLiveStreaming:o,stopLiveStreaming:l}):null));return t&&c.length?(u({id:a,name:a,items:c}),r.a.createElement("div",null,r.a.createElement(F.EuiTitle,null,r.a.createElement("h1",null,n)),d)):null},$f=({id:e,label:t,children:a,metrics:n,onChangeRangeTime:s,isLiveStreaming:o,stopLiveStreaming:l})=>{const u=Object(i.useMemo)((()=>null==n?void 0:n.find((t=>t.id===e))),[e,n]);if(!a||!u)return null;const c=i.Children.map(a,(t=>Object(i.isValidElement)(t)?Object(i.cloneElement)(t,{metric:u,id:e,onChangeRangeTime:s,isLiveStreaming:o,stopLiveStreaming:l}):null));return r.a.createElement("div",{style:{margin:"10px 0 16px 0"},id:e},t?r.a.createElement(F.EuiTitle,{size:"s"},r.a.createElement("h4",null,t)):null,c)},Jf=Object(R.withTheme)((({metrics:e,theme:t,onChangeRangeTime:a})=>r.a.createElement(r.a.Fragment,null,r.a.createElement(Gf,{fields:["cloud.instance.id","cloud.provider","cloud.availability_zone","cloud.machine.type","cloud.instance.name","cloud.project.id"]}),r.a.createElement(F.EuiPanel,null,r.a.createElement(Hf,{navLabel:"AWS EC2",sectionLabel:k.i18n.translate("xpack.infra.metricDetailPage.ec2MetricsLayout.overviewSection.sectionLabel",{defaultMessage:"Aws EC2 Overview"}),metrics:e,onChangeRangeTime:a},r.a.createElement($f,{id:"awsEC2CpuUtilization",label:k.i18n.translate("xpack.infra.metricDetailPage.ec2MetricsLayout.cpuUsageSection.sectionLabel",{defaultMessage:"CPU Usage"})},r.a.createElement(_f,{stacked:!0,type:"area",formatter:"percent",seriesOverrides:{total:{color:t.eui.euiColorVis1}}})),r.a.createElement($f,{id:"awsEC2NetworkTraffic",label:k.i18n.translate("xpack.infra.metricDetailPage.ec2MetricsLayout.networkTrafficSection.sectionLabel",{defaultMessage:"Network Traffic"})},r.a.createElement(_f,{formatter:"bits",formatterTemplate:"{{value}}/s",type:"area",seriesOverrides:{rx:{color:t.eui.euiColorVis1,name:k.i18n.translate("xpack.infra.metricDetailPage.hostMetricsLayout.networkTrafficSection.networkRxRateSeriesLabel",{defaultMessage:"in"})},tx:{color:t.eui.euiColorVis2,name:k.i18n.translate("xpack.infra.metricDetailPage.hostMetricsLayout.networkTrafficSection.networkTxRateSeriesLabel",{defaultMessage:"out"})}}})),r.a.createElement($f,{id:"awsEC2DiskIOBytes",label:k.i18n.translate("xpack.infra.metricDetailPage.ec2MetricsLayout.diskIOBytesSection.sectionLabel",{defaultMessage:"Disk IO (Bytes)"})},r.a.createElement(_f,{formatter:"bytes",formatterTemplate:"{{value}}/s",type:"area",seriesOverrides:{write:{color:t.eui.euiColorVis2,name:k.i18n.translate("xpack.infra.metricDetailPage.ec2MetricsLayout.diskIOBytesSection.writeLabel",{defaultMessage:"writes"})},read:{color:t.eui.euiColorVis1,name:k.i18n.translate("xpack.infra.metricDetailPage.ec2MetricsLayout.diskIOBytesSection.readLabel",{defaultMessage:"reads"})}}}))))))),qf=Object(R.withTheme)((({metrics:e,onChangeRangeTime:t,theme:a})=>r.a.createElement(F.EuiPanel,null,r.a.createElement(Hf,{navLabel:"AWS RDS",sectionLabel:k.i18n.translate("xpack.infra.metricDetailPage.rdsMetricsLayout.overviewSection.sectionLabel",{defaultMessage:"Aws RDS Overview"}),metrics:e,onChangeRangeTime:t},r.a.createElement($f,{id:"awsRDSCpuTotal",label:k.i18n.translate("xpack.infra.metricDetailPage.rdsMetricsLayout.cpuTotal.sectionLabel",{defaultMessage:"Total CPU Usage"})},r.a.createElement(_f,{type:"area",formatter:"percent",seriesOverrides:{cpu:{color:a.eui.euiColorVis1,name:k.i18n.translate("xpack.infra.metricDetailPage.rdsMetricsLayout.cpuTotal.chartLabel",{defaultMessage:"Total"})}}})),r.a.createElement($f,{id:"awsRDSConnections",label:k.i18n.translate("xpack.infra.metricDetailPage.rdsMetricsLayout.connections.sectionLabel",{defaultMessage:"Connections"})},r.a.createElement(_f,{type:"bar",formatter:"number",seriesOverrides:{connections:{color:a.eui.euiColorVis1,name:k.i18n.translate("xpack.infra.metricDetailPage.rdsMetricsLayout.connections.chartLabel",{defaultMessage:"Connections"})}}})),r.a.createElement($f,{id:"awsRDSQueriesExecuted",label:k.i18n.translate("xpack.infra.metricDetailPage.rdsMetricsLayout.queriesExecuted.sectionLabel",{defaultMessage:"Queries Executed"})},r.a.createElement(_f,{type:"bar",formatter:"number",seriesOverrides:{queries:{color:a.eui.euiColorVis1,name:k.i18n.translate("xpack.infra.metricDetailPage.rdsMetricsLayout.queriesExecuted.chartLabel",{defaultMessage:"Queries"})}}})),r.a.createElement($f,{id:"awsRDSActiveTransactions",label:k.i18n.translate("xpack.infra.metricDetailPage.rdsMetricsLayout.activeTransactions.sectionLabel",{defaultMessage:"Transactions"})},r.a.createElement(_f,{type:"bar",formatter:"number",seriesOverrides:{active:{color:a.eui.euiColorVis1,name:k.i18n.translate("xpack.infra.metricDetailPage.rdsMetricsLayout.active.chartLabel",{defaultMessage:"Active"})},blocked:{color:a.eui.euiColorVis2,name:k.i18n.translate("xpack.infra.metricDetailPage.rdsMetricsLayout.blocked.chartLabel",{defaultMessage:"Blocked"})}}})),r.a.createElement($f,{id:"awsRDSLatency",label:k.i18n.translate("xpack.infra.metricDetailPage.rdsMetricsLayout.latency.sectionLabel",{defaultMessage:"Latency"})},r.a.createElement(_f,{type:"bar",stacked:!0,formatter:"highPrecision",formatterTemplate:"{{value}} ms",seriesOverrides:{read:{color:a.eui.euiColorVis1,name:k.i18n.translate("xpack.infra.metricDetailPage.rdsMetricsLayout.latency.read.chartLabel",{defaultMessage:"Read"})},write:{color:a.eui.euiColorVis2,name:k.i18n.translate("xpack.infra.metricDetailPage.rdsMetricsLayout.latency.write.chartLabel",{defaultMessage:"Write"})},insert:{color:a.eui.euiColorVis0,name:k.i18n.translate("xpack.infra.metricDetailPage.rdsMetricsLayout.latency.insert.chartLabel",{defaultMessage:"Insert"})},update:{color:a.eui.euiColorVis7,name:k.i18n.translate("xpack.infra.metricDetailPage.rdsMetricsLayout.latency.update.chartLabel",{defaultMessage:"Update"})},commit:{color:a.eui.euiColorVis3,name:k.i18n.translate("xpack.infra.metricDetailPage.rdsMetricsLayout.latency.commit.chartLabel",{defaultMessage:"Commit"})}}})))))),Kf=Object(R.withTheme)((({metrics:e,onChangeRangeTime:t,theme:a})=>r.a.createElement(F.EuiPanel,null,r.a.createElement(Hf,{navLabel:"AWS S3",sectionLabel:k.i18n.translate("xpack.infra.metricDetailPage.s3MetricsLayout.overviewSection.sectionLabel",{defaultMessage:"Aws S3 Overview"}),metrics:e,onChangeRangeTime:t},r.a.createElement($f,{id:"awsS3BucketSize",label:k.i18n.translate("xpack.infra.metricDetailPage.s3MetricsLayout.bucketSize.sectionLabel",{defaultMessage:"Bucket Size"})},r.a.createElement(_f,{type:"bar",formatter:"bytes",seriesOverrides:{bytes:{color:a.eui.euiColorVis1,name:k.i18n.translate("xpack.infra.metricDetailPage.s3MetricsLayout.bucketSize.chartLabel",{defaultMessage:"Total Bytes"})}}})),r.a.createElement($f,{id:"awsS3NumberOfObjects",label:k.i18n.translate("xpack.infra.metricDetailPage.s3MetricsLayout.numberOfObjects.sectionLabel",{defaultMessage:"Number of Objects"})},r.a.createElement(_f,{type:"bar",formatter:"abbreviatedNumber",seriesOverrides:{objects:{color:a.eui.euiColorVis1,name:k.i18n.translate("xpack.infra.metricDetailPage.s3MetricsLayout.numberOfObjects.chartLabel",{defaultMessage:"Objects"})}}})),r.a.createElement($f,{id:"awsS3TotalRequests",label:k.i18n.translate("xpack.infra.metricDetailPage.s3MetricsLayout.totalRequests.sectionLabel",{defaultMessage:"Total Requests"})},r.a.createElement(_f,{type:"bar",formatter:"abbreviatedNumber",seriesOverrides:{total:{color:a.eui.euiColorVis1,name:k.i18n.translate("xpack.infra.metricDetailPage.s3MetricsLayout.totalRequests.chartLabel",{defaultMessage:"Requests"})}}})),r.a.createElement($f,{id:"awsS3DownloadBytes",label:k.i18n.translate("xpack.infra.metricDetailPage.s3MetricsLayout.downloadBytes.sectionLabel",{defaultMessage:"Downloaded Bytes"})},r.a.createElement(_f,{type:"bar",formatter:"bytes",seriesOverrides:{bytes:{color:a.eui.euiColorVis1,name:k.i18n.translate("xpack.infra.metricDetailPage.s3MetricsLayout.downloadBytes.chartLabel",{defaultMessage:"Bytes"})}}})),r.a.createElement($f,{id:"awsS3UploadBytes",label:k.i18n.translate("xpack.infra.metricDetailPage.s3MetricsLayout.uploadBytes.sectionLabel",{defaultMessage:"Uploaded Bytes"})},r.a.createElement(_f,{type:"bar",formatter:"bytes",seriesOverrides:{bytes:{color:a.eui.euiColorVis1,name:k.i18n.translate("xpack.infra.metricDetailPage.s3MetricsLayout.uploadBytes.chartLabel",{defaultMessage:"Bytes"})}}})))))),Xf=Object(R.withTheme)((({metrics:e,onChangeRangeTime:t,theme:a})=>r.a.createElement(F.EuiPanel,null,r.a.createElement(Hf,{navLabel:"AWS SQS",sectionLabel:k.i18n.translate("xpack.infra.metricDetailPage.sqsMetricsLayout.overviewSection.sectionLabel",{defaultMessage:"Aws SQS Overview"}),metrics:e,onChangeRangeTime:t},r.a.createElement($f,{id:"awsSQSMessagesVisible",label:k.i18n.translate("xpack.infra.metricDetailPage.sqsMetricsLayout.messagesVisible.sectionLabel",{defaultMessage:"Messages Available"})},r.a.createElement(_f,{type:"bar",formatter:"abbreviatedNumber",seriesOverrides:{visible:{color:a.eui.euiColorVis1,name:k.i18n.translate("xpack.infra.metricDetailPage.sqsMetricsLayout.messagesVisible.chartLabel",{defaultMessage:"Available"})}}})),r.a.createElement($f,{id:"awsSQSMessagesDelayed",label:k.i18n.translate("xpack.infra.metricDetailPage.sqsMetricsLayout.messagesDelayed.sectionLabel",{defaultMessage:"Messages Delayed"})},r.a.createElement(_f,{type:"bar",formatter:"abbreviatedNumber",seriesOverrides:{delayed:{color:a.eui.euiColorVis1,name:k.i18n.translate("xpack.infra.metricDetailPage.sqsMetricsLayout.messagesDelayed.chartLabel",{defaultMessage:"Delayed"})}}})),r.a.createElement($f,{id:"awsSQSMessagesSent",label:k.i18n.translate("xpack.infra.metricDetailPage.sqsMetricsLayout.messagesSent.sectionLabel",{defaultMessage:"Messages Added"})},r.a.createElement(_f,{type:"bar",formatter:"abbreviatedNumber",seriesOverrides:{sent:{color:a.eui.euiColorVis1,name:k.i18n.translate("xpack.infra.metricDetailPage.sqsMetricsLayout.messagesSent.chartLabel",{defaultMessage:"Added"})}}})),r.a.createElement($f,{id:"awsSQSMessagesEmpty",label:k.i18n.translate("xpack.infra.metricDetailPage.sqsMetricsLayout.messagesEmpty.sectionLabel",{defaultMessage:"Messages Empty"})},r.a.createElement(_f,{type:"bar",formatter:"abbreviatedNumber",seriesOverrides:{sent:{color:a.eui.euiColorVis1,name:k.i18n.translate("xpack.infra.metricDetailPage.sqsMetricsLayout.messagesEmpty.chartLabel",{defaultMessage:"Empty"})}}})),r.a.createElement($f,{id:"awsSQSOldestMessage",label:k.i18n.translate("xpack.infra.metricDetailPage.sqsMetricsLayout.oldestMessage.sectionLabel",{defaultMessage:"Oldest Message"})},r.a.createElement(_f,{type:"bar",formatter:"abbreviatedNumber",seriesOverrides:{oldest:{color:a.eui.euiColorVis1,name:k.i18n.translate("xpack.infra.metricDetailPage.sqsMetricsLayout.oldestMessage.chartLabel",{defaultMessage:"Age"})}}})))))),ey=({id:e,metric:t,seriesOverrides:a,formatter:n,formatterTemplate:i})=>t&&e?r.a.createElement(F.EuiPageSection,null,r.a.createElement(F.EuiSpacer,{size:"m"}),r.a.createElement(ty,null,t.series.map((t=>{const s=Object(ze.last)(t.data);if(!s)return null;const o=((e="number",t="{{value}}",a={},n)=>i=>{if(null==i)return"";const r=Object(ze.get)(a,[n,"formatter"],e),s=Object(ze.get)(a,[n,"formatterTemplate"],t);return Object(gu.b)(r,s)(i)})(n,i,a,t.id),l=o(s.value||0),u=Rf(a,t.id,t.id),c=Object(ze.max)(t.data.map((e=>e.value||0))),d=Object(ze.get)(a,[t.id,"gaugeMax"],c);return r.a.createElement(F.EuiFlexItem,{key:`${e}-${t.id}`,style:{margin:"0.4rem"}},r.a.createElement(F.EuiPanel,{style:{minWidth:"160px"}},r.a.createElement(F.EuiText,{style:{textAlign:"right"},size:"s"},u),r.a.createElement(F.EuiTitle,{size:"s"},r.a.createElement("h1",{style:{textAlign:"right",whiteSpace:"nowrap"}},l)),r.a.createElement(F.EuiProgress,{value:s.value||0,max:d,size:"s",color:"primary"})))}))),r.a.createElement(F.EuiSpacer,{size:"m"})):null,ty=R.euiStyled.div`
  display: flex;
  flex-flow: row wrap;
  justify-content: space-evenly;
`,ay=Object(R.withTheme)((({metrics:e,onChangeRangeTime:t,theme:a})=>r.a.createElement(r.a.Fragment,null,r.a.createElement(Gf,null),r.a.createElement(F.EuiPanel,null,r.a.createElement(Hf,{navLabel:k.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.layoutLabel",{defaultMessage:"Container"}),sectionLabel:k.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.overviewSection.sectionLabel",{defaultMessage:"Container Overview"}),metrics:e,onChangeRangeTime:t},r.a.createElement($f,{id:"containerK8sOverview"},r.a.createElement(ey,{seriesOverrides:{cpu:{name:k.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.overviewSection.cpuUsageSeriesLabel",{defaultMessage:"CPU Usage"}),color:a.eui.euiColorFullShade,formatter:"percent",gaugeMax:1},memory:{name:k.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.overviewSection.memoryUsageSeriesLabel",{defaultMessage:"Memory Usage"}),color:a.eui.euiColorFullShade,formatter:"percent",gaugeMax:1}}})),r.a.createElement($f,{id:"containerOverview"},r.a.createElement(ey,{seriesOverrides:{cpu:{name:k.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.overviewSection.cpuUsageSeriesLabel",{defaultMessage:"CPU Usage"}),color:a.eui.euiColorFullShade,formatter:"percent",gaugeMax:1},memory:{name:k.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.overviewSection.memoryUsageSeriesLabel",{defaultMessage:"Memory Usage"}),color:a.eui.euiColorFullShade,formatter:"percent",gaugeMax:1},rx:{name:k.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.overviewSection.inboundRXSeriesLabel",{defaultMessage:"Inbound (RX)"}),color:a.eui.euiColorFullShade,formatter:"bits",formatterTemplate:"{{value}}/s"},tx:{name:k.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.overviewSection.outboundTXSeriesLabel",{defaultMessage:"Outbound (TX)"}),color:a.eui.euiColorFullShade,formatter:"bits",formatterTemplate:"{{value}}/s"}}})),r.a.createElement($f,{id:"containerK8sCpuUsage",label:k.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.cpuUsageSection.sectionLabel",{defaultMessage:"CPU Usage"})},r.a.createElement(_f,{stacked:!0,type:"area",formatter:"percent",seriesOverrides:{cpu:{color:a.eui.euiColorVis1}}})),r.a.createElement($f,{id:"containerK8sMemoryUsage",label:k.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.memoryUsageSection.sectionLabel",{defaultMessage:"Memory Usage"})},r.a.createElement(_f,{stacked:!0,type:"area",formatter:"percent",seriesOverrides:{memory:{color:a.eui.euiColorVis1}}})),r.a.createElement($f,{id:"containerCpuUsage",label:k.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.cpuUsageSection.sectionLabel",{defaultMessage:"CPU Usage"})},r.a.createElement(_f,{stacked:!0,type:"area",formatter:"percent",seriesOverrides:{cpu:{color:a.eui.euiColorVis1}}})),r.a.createElement($f,{id:"containerMemory",label:k.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.memoryUsageSection.sectionLabel",{defaultMessage:"Memory Usage"})},r.a.createElement(_f,{stacked:!0,type:"area",formatter:"percent",seriesOverrides:{memory:{color:a.eui.euiColorVis1}}})),r.a.createElement($f,{id:"containerNetworkTraffic",label:k.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.networkTrafficSection.sectionLabel",{defaultMessage:"Network Traffic"})},r.a.createElement(_f,{formatter:"bits",formatterTemplate:"{{value}}/s",type:"area",seriesOverrides:{rx:{color:a.eui.euiColorVis1,name:k.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.networkTrafficSection.networkRxRateSeriesLabel",{defaultMessage:"in"})},tx:{color:a.eui.euiColorVis2,name:k.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.networkTrafficSection.networkTxRateSeriesLabel",{defaultMessage:"out"})}}})),r.a.createElement($f,{id:"containerDiskIOOps",label:k.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.diskIoOpsSection.sectionLabel",{defaultMessage:"Disk IO (Ops)"})},r.a.createElement(_f,{type:"area",formatterTemplate:"{{value}}/s",formatter:"number",seriesOverrides:{read:{color:a.eui.euiColorVis1,name:k.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.diskIoOpsSection.readRateSeriesLabel",{defaultMessage:"reads"})},write:{color:a.eui.euiColorVis2,name:k.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.diskIoOpsSection.writeRateSeriesLabel",{defaultMessage:"writes"})}}})),r.a.createElement($f,{id:"containerDiskIOBytes",label:k.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.diskIoBytesSection.sectionLabel",{defaultMessage:"Disk IO (Bytes)"})},r.a.createElement(_f,{type:"area",formatter:"bytes",formatterTemplate:"{{value}}/s",seriesOverrides:{read:{color:a.eui.euiColorVis1,name:k.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.diskIoBytesSection.readRateSeriesLabel",{defaultMessage:"reads"})},write:{color:a.eui.euiColorVis2,name:k.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.diskIoBytesSection.writeRateSeriesLabel",{defaultMessage:"writes"})}}}))))))),ny=Object(R.withTheme)((({metrics:e,onChangeRangeTime:t,theme:a})=>r.a.createElement(r.a.Fragment,null,r.a.createElement(Hf,{navLabel:"Nginx",sectionLabel:"Nginx",metrics:e,onChangeRangeTime:t},r.a.createElement($f,{id:"nginxHits",label:k.i18n.translate("xpack.infra.metricDetailPage.nginxMetricsLayout.hitsSection.sectionLabel",{defaultMessage:"Hits"})},r.a.createElement(_f,{stacked:!0,type:"bar",formatter:"abbreviatedNumber",seriesOverrides:{"200s":{color:a.eui.euiColorVis1},"300s":{color:a.eui.euiColorVis5},"400s":{color:a.eui.euiColorVis2},"500s":{color:a.eui.euiColorVis9}}})),r.a.createElement($f,{id:"nginxRequestRate",label:k.i18n.translate("xpack.infra.metricDetailPage.nginxMetricsLayout.requestRateSection.sectionLabel",{defaultMessage:"Request Rate"})},r.a.createElement(_f,{type:"area",formatter:"abbreviatedNumber",formatterTemplate:"{{value}}/s",seriesOverrides:{rate:{color:a.eui.euiColorVis1}}})),r.a.createElement($f,{id:"nginxActiveConnections",label:k.i18n.translate("xpack.infra.metricDetailPage.nginxMetricsLayout.activeConnectionsSection.sectionLabel",{defaultMessage:"Active Connections"})},r.a.createElement(_f,{type:"area",formatter:"abbreviatedNumber",seriesOverrides:{connections:{color:a.eui.euiColorVis1,type:"bar"}}})),r.a.createElement($f,{id:"nginxRequestsPerConnection",label:k.i18n.translate("xpack.infra.metricDetailPage.nginxMetricsLayout.requestsPerConnectionsSection.sectionLabel",{defaultMessage:"Requests per Connections"})},r.a.createElement(_f,{type:"bar",formatter:"abbreviatedNumber",seriesOverrides:{reqPerConns:{color:a.eui.euiColorVis1,name:k.i18n.translate("xpack.infra.metricDetailPage.nginxMetricsLayout.requestsPerConnectionsSection.reqsPerConnSeriesLabel",{defaultMessage:"reqs per conn"})}}})))))),iy=Object(R.withTheme)((({metrics:e,onChangeRangeTime:t,theme:a})=>r.a.createElement(r.a.Fragment,null,r.a.createElement(Gf,null),r.a.createElement(F.EuiPanel,null,r.a.createElement(Hf,{navLabel:k.i18n.translate("xpack.infra.metricDetailPage.podMetricsLayout.layoutLabel",{defaultMessage:"Pod"}),sectionLabel:k.i18n.translate("xpack.infra.metricDetailPage.podMetricsLayout.overviewSection.sectionLabel",{defaultMessage:"Pod Overview"}),metrics:e,onChangeRangeTime:t},r.a.createElement($f,{id:"podOverview"},r.a.createElement(ey,{seriesOverrides:{cpu:{name:k.i18n.translate("xpack.infra.metricDetailPage.podMetricsLayout.overviewSection.cpuUsageSeriesLabel",{defaultMessage:"CPU Usage"}),color:a.eui.euiColorFullShade,formatter:"percent",gaugeMax:1},memory:{name:k.i18n.translate("xpack.infra.metricDetailPage.podMetricsLayout.overviewSection.memoryUsageSeriesLabel",{defaultMessage:"Memory Usage"}),color:a.eui.euiColorFullShade,formatter:"percent",gaugeMax:1},rx:{name:k.i18n.translate("xpack.infra.metricDetailPage.podMetricsLayout.overviewSection.inboundRXSeriesLabel",{defaultMessage:"Inbound (RX)"}),color:a.eui.euiColorFullShade,formatter:"bits",formatterTemplate:"{{value}}/s"},tx:{name:k.i18n.translate("xpack.infra.metricDetailPage.podMetricsLayout.overviewSection.outboundTXSeriesLabel",{defaultMessage:"Outbound (TX)"}),color:a.eui.euiColorFullShade,formatter:"bits",formatterTemplate:"{{value}}/s"}}})),r.a.createElement($f,{id:"podCpuUsage",label:k.i18n.translate("xpack.infra.metricDetailPage.podMetricsLayout.cpuUsageSection.sectionLabel",{defaultMessage:"CPU Usage"})},r.a.createElement(_f,{formatter:"percent",type:"area",seriesOverrides:{cpu:{color:a.eui.euiColorVis1}}})),r.a.createElement($f,{id:"podMemoryUsage",label:k.i18n.translate("xpack.infra.metricDetailPage.podMetricsLayout.memoryUsageSection.sectionLabel",{defaultMessage:"Memory Usage"})},r.a.createElement(_f,{type:"area",formatter:"percent",seriesOverrides:{memory:{color:a.eui.euiColorVis1}}})),r.a.createElement($f,{id:"podNetworkTraffic",label:k.i18n.translate("xpack.infra.metricDetailPage.podMetricsLayout.networkTrafficSection.sectionLabel",{defaultMessage:"Network Traffic"})},r.a.createElement(_f,{formatter:"bits",formatterTemplate:"{{value}}/s",type:"area",seriesOverrides:{rx:{color:a.eui.euiColorVis1,name:k.i18n.translate("xpack.infra.metricDetailPage.podMetricsLayout.networkTrafficSection.networkRxRateSeriesLabel",{defaultMessage:"in"})},tx:{color:a.eui.euiColorVis2,name:k.i18n.translate("xpack.infra.metricDetailPage.podMetricsLayout.networkTrafficSection.networkTxRateSeriesLabel",{defaultMessage:"out"})}}}))),r.a.createElement(ny,{metrics:e,onChangeRangeTime:t}))))),ry=({inventoryItemType:e,...t})=>{switch(e){case"awsEC2":return r.a.createElement(Jf,t);case"awsRDS":return r.a.createElement(qf,t);case"awsS3":return r.a.createElement(Kf,t);case"awsSQS":return r.a.createElement(Xf,t);case"container":return r.a.createElement(ay,t);case"pod":return r.a.createElement(iy,t);default:throw new Error(`${e} is not supported.`)}},sy=({loading:e,refetch:t,type:a,metrics:n,onChangeRangeTime:i,isLiveStreaming:s,stopLiveStreaming:o})=>e?r.a.createElement(loading_InfraLoadingPanel,{height:"100vh",width:"auto",text:k.i18n.translate("xpack.infra.metrics.loadingNodeDataText",{defaultMessage:"Loading data"})}):!e&&n&&0===n.length?r.a.createElement(ve,{titleText:k.i18n.translate("xpack.infra.metrics.emptyViewTitle",{defaultMessage:"There is no data to display."}),bodyText:k.i18n.translate("xpack.infra.metrics.emptyViewDescription",{defaultMessage:"Try adjusting your time or filter."}),refetchText:k.i18n.translate("xpack.infra.metrics.refetchButtonLabel",{defaultMessage:"Check for new data"}),onRefetch:t,testString:"metricsEmptyViewState"}):r.a.createElement(ry,{inventoryItemType:a,metrics:n,onChangeRangeTime:i,isLiveStreaming:s,stopLiveStreaming:o}),oy=({"data-test-subj":e,app:t,children:a})=>{const n=Object(b.useLinkProps)({app:t,pathname:"/settings"});return r.a.createElement(F.EuiButton,J()({"data-test-subj":e,color:"primary"},n),a)},ly=({nodeName:e})=>{const t=Object(b.useLinkProps)({app:"integrations",hash:"/browse"});return r.a.createElement(uy,{title:r.a.createElement("h2",null,r.a.createElement(P.FormattedMessage,{id:"xpack.infra.metrics.invalidNodeErrorTitle",defaultMessage:"Looks like {nodeName} isn't collecting any metrics data",values:{nodeName:e}})),body:r.a.createElement("p",null,r.a.createElement(P.FormattedMessage,{id:"xpack.infra.metrics.invalidNodeErrorDescription",defaultMessage:"Double check your configuration"})),actions:r.a.createElement(F.EuiFlexGroup,null,r.a.createElement(F.EuiFlexItem,null,r.a.createElement(F.EuiButton,J()({"data-test-subj":"infraInvalidNodeErrorViewSetupInstructionsButton"},t,{color:"primary",fill:!0}),r.a.createElement(P.FormattedMessage,{id:"xpack.infra.homePage.noMetricsIndicesInstructionsActionLabel",defaultMessage:"View setup instructions"}))),r.a.createElement(F.EuiFlexItem,null,r.a.createElement(oy,{app:"metrics","data-test-subj":"configureSourceButton"},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.configureSourceActionLabel",defaultMessage:"Change source configuration"}))))})},uy=Object(R.euiStyled)(F.EuiEmptyPrompt)`
  align-self: center;
`,cy=({error:e,name:t})=>{var a;return(e=>{const{services:{chrome:t}}=Object(S.c)();Object(i.useEffect)((()=>{const a=[{text:Ie.i},...e].reverse().map((e=>e.text));t.docTitle.change(a)}),[t,e])})([{text:Ie.b}]),r.a.createElement(r.a.Fragment,null,404===(null===(a=e.body)||void 0===a?void 0:a.statusCode)?r.a.createElement(ly,{nodeName:t}):r.a.createElement(_,{message:e.message}))},dy=e=>{const t=Qe.a.parse(e.from.toString()),a=Qe.a.parse(e.to.toString(),{roundUp:!0});return{...e,from:t&&t.valueOf()||Ve()().subtract(1,"hour").valueOf(),to:a&&a.valueOf()||Ve()().valueOf()}},my=e=>{const{breadcrumbs:t}=mM(),[a,n]=Object(i.useState)(dy(e.timeRange)),{metrics:s,loading:o,makeRequest:l,error:u}=function(e,t,a,n,i,r){const{error:s,loading:o,response:l,makeRequest:u}=Object(Ko.a)("/api/metrics/node_details","POST",JSON.stringify({metrics:e,nodeId:t,nodeType:a,timerange:i,cloudId:r,sourceId:n}),(e=>Object(le.pipe)(vf.decode(e),Object(ue.fold)(Object(At.d)(At.a),ce.identity))));return{error:s,loading:o,metrics:l?l.metrics:[],makeRequest:u}}(e.requiredMetrics,e.nodeId,e.nodeType,e.sourceId,a,e.cloudId),c=Object(i.useCallback)((()=>{n(dy(e.timeRange))}),[e.timeRange]);return Object(i.useEffect)((()=>{n(dy(e.timeRange))}),[e.timeRange]),Object(i.useEffect)((()=>{l()}),[l,a]),u?r.a.createElement(cy,{error:u,name:e.name}):r.a.createElement(Ut,{pageHeader:{pageTitle:e.name,rightSideItems:[r.a.createElement(Sf,{currentTimeRange:e.timeRange,isLiveStreaming:e.isAutoReloading,refreshInterval:e.refreshInterval,setRefreshInterval:e.setRefreshInterval,onChangeTimeRange:e.setTimeRange,setAutoReload:e.setAutoReload,onRefresh:c})],breadcrumbs:t}},r.a.createElement(F.EuiFlexGroup,null,r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(Tf,{loading:e.metadataLoading,name:e.name,items:e.sideNav})),r.a.createElement(F.EuiFlexItem,null,r.a.createElement(Nf.Provider,{value:{items:e.sideNav,addNavItem:e.addNavItem}},r.a.createElement(Yf.Provider,{value:e.metadata},r.a.createElement(sy,{loading:!(s.length>0&&e.isAutoReloading)&&o,refetch:c,type:e.nodeType,metrics:s,onChangeRangeTime:e.setTimeRange,isLiveStreaming:e.isAutoReloading,stopLiveStreaming:()=>e.setAutoReload(!1)}))))))};a(153);const gy=e=>{const t=Qe.a.parse(e.from.toString()),a=Qe.a.parse(e.to.toString(),{roundUp:!0});return{...e,from:t&&t.valueOf()||Ve()().subtract(1,"hour").valueOf(),to:a&&a.valueOf()||Ve()().valueOf()}},py={from:"now-1h",to:"now",interval:">=1m"},My={time:py,autoReload:!1,refreshInterval:5e3},by=oe.type({from:oe.union([oe.string,oe.number]),to:oe.union([oe.string,oe.number]),interval:oe.string}),fy=oe.partial({time:by,autoReload:oe.boolean,refreshInterval:oe.number}),yy=fy.encode,jy=e=>Object(le.pipe)(fy.decode(e),Object(ue.fold)(Object(ce.constant)(void 0),ce.identity)),Ey=sa()((()=>{const[e,t]=Object(me.a)({defaultState:My,decodeUrlState:jy,encodeUrlState:yy,urlStateKey:"_a"}),[a,n]=Object(i.useState)(e.autoReload||!1),[r,s]=Object(i.useState)(e.refreshInterval||5e3),[o,l]=Object(i.useState)(Ve()().valueOf()),[u,c]=Object(i.useState)({...py,...e.time});Object(i.useEffect)((()=>t({time:u,autoReload:a,refreshInterval:r})),[a,r,t,u]);const[d,m]=Object(i.useState)(gy(e.time||py)),g=Object(i.useCallback)(((e,t=!0)=>{c(e),t&&m(gy(e))}),[]);return{timeRange:u,setTimeRange:g,parsedTimeRange:d,refreshInterval:r,setRefreshInterval:s,isAutoReloading:a,setAutoReload:n,lastRefresh:o,triggerRefresh:Object(i.useCallback)((()=>l(Ve()().valueOf())),[l])}})),[hy,Iy]=Ey,Ly=()=>{const{params:{type:e,node:t}}=Object(m.useRouteMatch)(),a=Object(g.findInventoryModel)(e),{sourceId:n}=Object(Y.d)(),s=bM(),{timeRange:o,parsedTimeRange:l,setTimeRange:u,refreshInterval:c,setRefreshInterval:d,isAutoReloading:p,setAutoReload:M,triggerRefresh:b}=Iy(),{name:f,filteredRequiredMetrics:y,loading:j,cloudId:E,metadata:h}=tl({assetId:t,assetType:e,requiredMetrics:a.requiredMetrics,sourceId:n,timeRange:l}),I=s.getBreadcrumbOptions(e);Le([{...I.link,text:I.text},{text:f}],{deeperContextServerless:!0});const[L,x]=Object(i.useState)([]),w=r.a.useCallback((e=>{L.some((t=>t.id===e.id))||x([e,...L])}),[L]);return j&&!y.length?r.a.createElement(Ut,null,r.a.createElement(loading_InfraLoadingPanel,{height:"100vh",width:"100%",text:k.i18n.translate("xpack.infra.metrics.loadingNodeDataText",{defaultMessage:"Loading data"})})):r.a.createElement(r.a.Fragment,null,h?r.a.createElement(my,{name:f,requiredMetrics:y,sourceId:n,timeRange:o,nodeType:e,nodeId:t,cloudId:E,metadataLoading:j,isAutoReloading:p,refreshInterval:c,sideNav:L,metadata:h,addNavItem:w,setRefreshInterval:d,setAutoReload:M,triggerRefresh:b,setTimeRange:u}):null)},xy=()=>{const{params:{type:e}}=Object(m.useRouteMatch)(),t=Object(A.useUiSetting)(q.enableInfrastructureContainerAssetView),a="container"===e&&t;return r.a.createElement(F.EuiErrorBoundary,null,"host"===e||a?r.a.createElement(If,null):r.a.createElement(hy,null,r.a.createElement(Ly,null)))};var wy=a(88),vy=a(634);const Ty=k.i18n.translate("xpack.infra.sourceConfiguration.metricIndicesDoNotExistTitle",{defaultMessage:"No matching index found"}),Sy=k.i18n.translate("xpack.infra.sourceConfiguration.metricIndicesUsedByRulesTitle",{defaultMessage:"Alerting rules use this data source setting"}),Cy=k.i18n.translate("xpack.infra.sourceConfiguration.remoteClusterConnectionDoNotExistTitle",{defaultMessage:"Couldn’t connect to the remote cluster"}),Ny=({isLoading:e,readOnly:t,metricAliasFieldProps:a,metricIndicesExist:n,remoteClustersExist:i,isMetricAliasChanged:s,numberOfInfraRules:o})=>{const{services:{share:{url:{locators:l}}}}=Object(S.c)(),u=l.get(xm.rulesLocatorID),c=null==u?void 0:u.useUrl({type:[vy.b,vy.c]});return r.a.createElement(F.EuiForm,null,r.a.createElement(F.EuiTitle,{size:"s"},r.a.createElement("h3",null,r.a.createElement(P.FormattedMessage,{id:"xpack.infra.sourceConfiguration.indicesSectionTitle",defaultMessage:"Indices"}))),r.a.createElement(F.EuiSpacer,{size:"m"}),r.a.createElement(F.EuiDescribedFormGroup,{title:r.a.createElement("h4",null,r.a.createElement(P.FormattedMessage,{id:"xpack.infra.sourceConfiguration.metricIndicesTitle",defaultMessage:"Metrics indices"})),description:r.a.createElement(P.FormattedMessage,{id:"xpack.infra.sourceConfiguration.metricIndicesDescription",defaultMessage:"Index pattern for matching indices that contain metrics data"})},r.a.createElement(F.EuiFormRow,{error:a.error,fullWidth:!0,helpText:r.a.createElement(P.FormattedMessage,{id:"xpack.infra.sourceConfiguration.metricIndicesRecommendedValue",defaultMessage:"The recommended value is {defaultValue}",values:{defaultValue:r.a.createElement(F.EuiCode,null,he.k)}}),isInvalid:a.isInvalid,label:r.a.createElement(P.FormattedMessage,{id:"xpack.infra.sourceConfiguration.metricIndicesLabel",defaultMessage:"Metrics indices"})},r.a.createElement(F.EuiFieldText,J()({"data-test-subj":"metricIndicesInput",fullWidth:!0,disabled:e,readOnly:t,isLoading:e},a))),s&&o>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(F.EuiSpacer,{size:"s"}),r.a.createElement(F.EuiCallOut,{"data-test-subj":"infraIndicesPanelSettingsWarningCalloutUsedByRules",size:"s",title:Sy,color:"warning",iconType:"warning"},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.sourceConfiguration.metricIndicesUsedByRulesMessage",defaultMessage:"One or more alerting rules rely on this data source setting. Changing this setting will change which data is used to generate alerts."}),r.a.createElement(F.EuiSpacer,{size:"s"}),r.a.createElement(F.EuiLink,{"data-test-subj":"metricIndicesViewAffectedRulesLink",href:c,target:"_blank"},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.sourceConfiguration.metricIndices.viewAffectedRulesLink",defaultMessage:"View affected rules"})))),i&&!n&&r.a.createElement(r.a.Fragment,null,r.a.createElement(F.EuiSpacer,{size:"s"}),r.a.createElement(F.EuiCallOut,{size:"s",title:Ty,color:"warning",iconType:"warning","data-test-subj":"infraIndicesPanelSettingsWarningCallout"},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.sourceConfiguration.metricIndicesDoNotExist",defaultMessage:"We couldn’t find any metrics data because the pattern entered doesn’t match any index."}))),!i&&!n&&r.a.createElement(r.a.Fragment,null,r.a.createElement(F.EuiSpacer,{size:"s"}),r.a.createElement(F.EuiCallOut,{"data-test-subj":"infraIndicesPanelSettingsDangerCallout",size:"s",title:Cy,color:"danger",iconType:"error"},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.sourceConfiguration.remoteClusterConnectionDoNotExist",defaultMessage:"Check that the remote cluster is available or that the remote connection settings are correct."})))))},Dy=({isLoading:e,readOnly:t,anomalyThresholdFieldProps:a})=>r.a.createElement(F.EuiForm,null,r.a.createElement(F.EuiTitle,{size:"s"},r.a.createElement("h3",null,r.a.createElement(P.FormattedMessage,{id:"xpack.infra.sourceConfiguration.mlSectionTitle",defaultMessage:"Machine Learning"}))),r.a.createElement(F.EuiSpacer,{size:"m"}),r.a.createElement(F.EuiDescribedFormGroup,{title:r.a.createElement("h4",null,r.a.createElement(P.FormattedMessage,{id:"xpack.infra.sourceConfiguration.anomalyThresholdTitle",defaultMessage:"Anomaly Severity Threshold"})),description:r.a.createElement(P.FormattedMessage,{id:"xpack.infra.sourceConfiguration.anomalyThresholdDescription",defaultMessage:"Sets the minimum severity score required to show anomalies in the Metrics application."})},r.a.createElement(F.EuiFormRow,{error:a.error,fullWidth:!0,isInvalid:a.isInvalid,label:r.a.createElement(P.FormattedMessage,{id:"xpack.infra.sourceConfiguration.anomalyThresholdLabel",defaultMessage:"Minimum severity score"})},r.a.createElement(F.EuiRange,J()({min:0,max:100,"data-test-subj":"anomalyThresholdInput",showInput:!0,showTicks:!0,showRange:!0,tickInterval:20,"aria-label":"Minimum severity score",disabled:e,readOnly:t,isLoading:e},a))))),Oy=({isLoading:e,readOnly:t,nameFieldProps:a})=>r.a.createElement(F.EuiForm,null,r.a.createElement(F.EuiTitle,{size:"s","data-test-subj":"sourceConfigurationNameSectionTitle"},r.a.createElement("h3",null,r.a.createElement(P.FormattedMessage,{id:"xpack.infra.sourceConfiguration.nameSectionTitle",defaultMessage:"Name"}))),r.a.createElement(F.EuiSpacer,{size:"m"}),r.a.createElement(F.EuiDescribedFormGroup,{title:r.a.createElement("h4",null,r.a.createElement(P.FormattedMessage,{id:"xpack.infra.sourceConfiguration.nameLabel",defaultMessage:"Name"})),description:r.a.createElement(P.FormattedMessage,{id:"xpack.infra.sourceConfiguration.nameDescription",defaultMessage:"A descriptive name for the source configuration"})},r.a.createElement(F.EuiFormRow,{error:a.error,fullWidth:!0,isInvalid:a.isInvalid,label:r.a.createElement(P.FormattedMessage,{id:"xpack.infra.sourceConfiguration.nameLabel",defaultMessage:"Name"})},r.a.createElement(F.EuiFieldText,J()({"data-test-subj":"nameInput",fullWidth:!0,disabled:e,readOnly:t,isLoading:e},a))))),ky=({errors:e,name:t,onChange:a,value:n})=>({error:e,isInvalid:e.length>0,name:t,onChange:e=>a(e.currentTarget.value),value:n}),Ay=(...e)=>t=>e.map((e=>e(t))).filter(Boolean),zy=e=>""===e,Fy=e=>zy(e)&&r.a.createElement(P.FormattedMessage,{id:"xpack.infra.sourceConfiguration.fieldEmptyErrorMessage",defaultMessage:"The field must not be empty."}),Py=e=>(e=>e.split(",").some(zy))(e)&&r.a.createElement(P.FormattedMessage,{id:"xpack.infra.sourceConfiguration.fieldContainEmptyEntryErrorMessage",defaultMessage:"The field must not include empty comma-separated values."}),Ry=e=>(e=>e.includes(" "))(e)&&r.a.createElement(P.FormattedMessage,{id:"xpack.infra.sourceConfiguration.fieldContainSpacesErrorMessage",defaultMessage:"The field must not include spaces."}),Uy={name:"",description:"",metricAlias:"",anomalyThreshold:0};var Vy=a(93),By={name:"1azakc",styles:"text-align:center"};const _y=()=>{const e=By;return Object(ea.jsx)("div",{css:e},Object(ea.jsx)(F.EuiLoadingSpinner,null))};var Yy=a(622);const Qy=((e,t=Object(ea.jsx)(_y,null))=>r.a.forwardRef(((a,n)=>Object(ea.jsx)(Vy.KibanaErrorBoundaryProvider,{analytics:a.analytics},Object(ea.jsx)(Vy.KibanaErrorBoundary,null,Object(ea.jsx)(i.Suspense,{fallback:t},Object(ea.jsx)(e,J()({},a,{ref:n}))))))))(r.a.lazy((async()=>({default:(await Promise.resolve().then(a.bind(null,622))).FieldRow}))));function Gy({readOnly:e,handleFieldChange:t,fields:a,unsavedChanges:n}){const{services:{docLinks:i,notifications:s}}=Object(S.c)(),{featureFlags:o}=wc(),l={successfulValidation:!0,valid:!0};return r.a.createElement(F.EuiForm,null,r.a.createElement(F.EuiTitle,{size:"s","data-test-subj":"sourceConfigurationFeaturesSectionTitle"},r.a.createElement("h3",null,r.a.createElement(P.FormattedMessage,{id:"xpack.infra.sourceConfiguration.featuresSectionTitle",defaultMessage:"Features"}))),r.a.createElement(F.EuiSpacer,{size:"m"}),r.a.createElement(Yy.FieldRowProvider,{links:i.links.management,showDanger:e=>s.toasts.addDanger(e),validateChange:async()=>l},r.a.createElement(Qy,{field:a[q.enableInfrastructureHostsView],isSavingEnabled:!0,onFieldChange:t,unsavedChange:n[q.enableInfrastructureHostsView]}),r.a.createElement(Qy,{field:a[q.enableInfrastructureAssetCustomDashboards],isSavingEnabled:!0,onFieldChange:t,unsavedChange:n[q.enableInfrastructureAssetCustomDashboards]}),o.profilingEnabled&&r.a.createElement(Qy,{field:a[q.enableInfrastructureProfilingIntegration],isSavingEnabled:!0,onFieldChange:t,unsavedChange:n[q.enableInfrastructureProfilingIntegration]}),r.a.createElement(Qy,{field:a[q.enableInfrastructureContainerAssetView],isSavingEnabled:!0,onFieldChange:t,unsavedChange:n[q.enableInfrastructureContainerAssetView]})))}const Zy=({shouldAllowEdit:e,http:t})=>{var a;Le([{text:Ie.j}]);const[n,s]=Object(i.useState)(0);Object(i.useEffect)((()=>{(async()=>{if(t){const{ruleExecutionStatus:e}=await Object(wy.loadRuleAggregations)({http:t,typesFilter:[vy.b,vy.c]}),a=Object.values(e).reduce(((e,t)=>e+t),0);s(a)}})()}),[t]);const{persistSourceConfiguration:o,source:l,sourceExists:u,isLoading:c}=Object(Y.d)(),{indicesConfigurationProps:d,errors:m,resetForm:g,isFormValid:p,formState:M,formStateChanges:f,getUnsavedChanges:y}=(e=>{const t=Object(i.useMemo)((()=>e?{name:e.name,description:e.description,metricAlias:e.metricAlias,anomalyThreshold:e.anomalyThreshold}:void 0),[e]),a=(({initialFormState:e=Uy})=>{const[t,a]=Object(i.useState)({}),n=Object(i.useCallback)((()=>a({})),[]),r=Object(i.useMemo)((()=>({...e,...t})),[e,t]),s=Object(i.useMemo)((()=>ky({errors:Ay(Fy)(r.name),name:"name",onChange:e=>a((t=>({...t,name:e}))),value:r.name})),[r.name]),o=Object(i.useMemo)((()=>ky({errors:Ay(Fy,Py,Ry)(r.metricAlias),name:"metricAlias",onChange:e=>a((t=>({...t,metricAlias:e}))),value:r.metricAlias})),[r.metricAlias]),l=Object(i.useMemo)((()=>(({errors:e,name:t,onChange:a,value:n})=>({error:e,isInvalid:e.length>0,name:t,onChange:(e,t)=>a(+e.currentTarget.value,t),value:n}))({errors:Ay(Fy)(r.anomalyThreshold),name:"anomalyThreshold",onChange:e=>a((t=>({...t,anomalyThreshold:e}))),value:r.anomalyThreshold})),[r.anomalyThreshold]),u=Object(i.useMemo)((()=>({name:s,metricAlias:o,anomalyThreshold:l})),[s,o,l]),c=Object(i.useMemo)((()=>Object.values(u).reduce(((e,{error:t})=>[...e,...t]),[])),[u]),d=Object(i.useMemo)((()=>c.length<=0),[c]);return{errors:c,fieldProps:u,formState:r,formStateChanges:t,isFormValid:d,resetForm:n,getUnsavedChanges:({changedConfig:e,existingConfig:t})=>Object.fromEntries(Object.entries(e).filter((([e,a])=>{const n=null==t?void 0:t[e];return(""!==a||null!=n)&&n!==a})))}})({initialFormState:t}),n=Object(i.useMemo)((()=>[...a.errors]),[a.errors]),r=Object(i.useCallback)((()=>{a.resetForm()}),[a]),s=Object(i.useMemo)((()=>a.isFormValid),[a.isFormValid]),o=Object(i.useMemo)((()=>({name:a.formState.name,description:a.formState.description,metricAlias:a.formState.metricAlias,anomalyThreshold:a.formState.anomalyThreshold})),[a.formState]),l=Object(i.useMemo)((()=>({name:a.formStateChanges.name,description:a.formStateChanges.description,metricAlias:a.formStateChanges.metricAlias,anomalyThreshold:a.formStateChanges.anomalyThreshold})),[a.formStateChanges]),u=Object(i.useCallback)((()=>a.getUnsavedChanges({changedConfig:o,existingConfig:t})),[o,a,t]);return{errors:n,formState:o,formStateChanges:l,isFormValid:s,indicesConfigurationProps:a.fieldProps,resetForm:r,getUnsavedChanges:u}})(null==l?void 0:l.configuration),j=Object(b.useEditableSettings)([q.enableInfrastructureHostsView,q.enableInfrastructureProfilingIntegration,q.enableInfrastructureAssetCustomDashboards,q.enableInfrastructureContainerAssetView]),E=Object(i.useCallback)((()=>{g(),j.cleanUnsavedChanges()}),[j,g]),h=Object(i.useCallback)((async()=>{await Promise.all([o(u?f:M),j.saveAll()]),g()}),[u,g,o,f,j,M]),I=Object.keys(y()).length,L=Object.keys(j.unsavedChanges).length,x=L+I,w=L>0||I>0,v=e&&(!Boolean(l)||"internal"!==(null==l?void 0:l.origin)),{metricIndicesExist:T,remoteClustersExist:S}=null!==(a=null==l?void 0:l.status)&&void 0!==a?a:{},{hasInfraMLCapabilities:C}=Fo();return c&&!l?r.a.createElement(zt.a,null):r.a.createElement(De.a,{pageHeader:{pageTitle:Ie.j},"data-test-subj":"sourceConfigurationContent",restrictWidth:!0},r.a.createElement(b.Prompt,{prompt:w?k.i18n.translate("xpack.infra.sourceConfiguration.unsavedFormPrompt",{defaultMessage:"Are you sure you want to leave? Changes will be lost"}):void 0}),r.a.createElement(F.EuiPanel,{paddingSize:"l",hasShadow:!1,hasBorder:!0},r.a.createElement(Oy,{isLoading:c,nameFieldProps:d.name,readOnly:!v})),r.a.createElement(F.EuiSpacer,null),r.a.createElement(F.EuiPanel,{paddingSize:"l",hasShadow:!1,hasBorder:!0},r.a.createElement(Ny,{isLoading:c,metricAliasFieldProps:d.metricAlias,readOnly:!v,metricIndicesExist:T,remoteClustersExist:S,isMetricAliasChanged:Boolean(y().metricAlias),numberOfInfraRules:n})),r.a.createElement(F.EuiSpacer,null),C&&r.a.createElement(r.a.Fragment,null,r.a.createElement(F.EuiPanel,{paddingSize:"l",hasShadow:!1,hasBorder:!0},r.a.createElement(Dy,{isLoading:c,readOnly:!v,anomalyThresholdFieldProps:d.anomalyThreshold})),r.a.createElement(F.EuiSpacer,null)),r.a.createElement(F.EuiPanel,{paddingSize:"l",hasShadow:!1,hasBorder:!0},r.a.createElement(Gy,J()({readOnly:!v},j))),r.a.createElement(F.EuiSpacer,null),m.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(F.EuiCallOut,{color:"danger"},r.a.createElement("ul",null,m.map(((e,t)=>r.a.createElement("li",{key:t},e))))),r.a.createElement(F.EuiSpacer,{size:"m"})):null,r.a.createElement(F.EuiSpacer,{size:"m"}),r.a.createElement(F.EuiFlexGroup,null,v&&r.a.createElement(F.EuiFlexItem,null,w&&r.a.createElement(b.BottomBarActions,{areChangesInvalid:!p,isLoading:j.isSaving,onDiscardChanges:E,onSave:h,saveLabel:k.i18n.translate("xpack.infra.sourceConfiguration.saveButton",{defaultMessage:"Save changes"}),unsavedChangesCount:x,appTestSubj:"infra"}))))},Wy=()=>{var e,t;const{application:a,http:n}=Object(A.useKibana)().services;return r.a.createElement(F.EuiErrorBoundary,null,r.a.createElement(Zy,{shouldAllowEdit:null==a||null===(e=a.capabilities)||void 0===e||null===(t=e.infrastructure)||void 0===t?void 0:t.configureSource,http:n}))};function Hy({onClose:e}){const{triggersActionsUI:t}=Object(i.useContext)(Ge.a);return Object(i.useMemo)((()=>t?t.getAddRuleFlyout({consumer:"infrastructure",onClose:e,canChangeTrigger:!1,ruleTypeId:vy.d,metadata:{currentOptions:{groupBy:"host.name"}}}):null),[e,t])}const $y=()=>{var e;const[t,a]=Object(i.useState)(!1),[n,s]=Object(i.useState)(null),o=null===(e=Object(A.useKibana)().services.application)||void 0===e?void 0:e.capabilities,{services:{observability:l}}=Object(A.useKibana)(),u=Object(i.useMemo)((()=>{var e;return Boolean(null==o||null===(e=o.infrastructure)||void 0===e?void 0:e.save)}),[o]),c=Object(i.useCallback)((()=>s(null)),[s]),d=Object(i.useCallback)((()=>{a(!1)}),[a]),m=Object(i.useCallback)((()=>{a(!t)}),[a,t]),g=Object(i.useCallback)((e=>{d(),s(e)}),[d]),p=function(e){const{featureFlags:t}=wc();return Object(i.useMemo)((()=>t.inventoryThresholdAlertRuleEnabled?{items:[{"data-test-subj":"inventory-alerts-menu-option",name:k.i18n.translate("xpack.infra.alerting.infrastructureDropdownMenu",{defaultMessage:"Infrastructure"}),panel:1}],panels:[{id:1,title:k.i18n.translate("xpack.infra.alerting.infrastructureDropdownTitle",{defaultMessage:"Infrastructure rules"}),items:[{"data-test-subj":"inventory-alerts-create-rule",name:k.i18n.translate("xpack.infra.alerting.createInventoryRuleButton",{defaultMessage:"Create inventory rule"}),onClick:()=>e("inventory")}]}]}:{items:[],panels:[]}),[t.inventoryThresholdAlertRuleEnabled,e])}(g),M=function(e){const{featureFlags:t}=wc();return Object(i.useMemo)((()=>t.metricThresholdAlertRuleEnabled?{items:[{"data-test-subj":"metrics-threshold-alerts-menu-option",name:k.i18n.translate("xpack.infra.alerting.metricsDropdownMenu",{defaultMessage:"Metrics"}),panel:2}],panels:[{id:2,title:k.i18n.translate("xpack.infra.alerting.metricsDropdownTitle",{defaultMessage:"Metrics rules"}),items:[{"data-test-subj":"metrics-threshold-alerts-create-rule",name:k.i18n.translate("xpack.infra.alerting.createThresholdRuleButton",{defaultMessage:"Create threshold rule"}),onClick:()=>e("metricThreshold")}]}]}:{items:[],panels:[]}),[t.metricThresholdAlertRuleEnabled,e])}(g),b=function(e){const{featureFlags:t}=wc();return Object(i.useMemo)((()=>t.customThresholdAlertsEnabled?{items:[{"data-test-subj":"custom-threshold-alerts-menu-option",name:k.i18n.translate("xpack.infra.alerting.customThresholdDropdownMenu",{defaultMessage:"Create custom threshold rule"}),onClick:()=>e("customThreshold")}],panels:[]}:{items:[],panels:[]}),[t.customThresholdAlertsEnabled,e])}(g),f=l.useRulesLink(),y=Object(i.useMemo)((()=>({name:k.i18n.translate("xpack.infra.alerting.manageRules",{defaultMessage:"Manage rules"}),icon:"tableOfContents",onClick:f.onClick})),[f]),j=Object(i.useMemo)((()=>[{id:0,title:k.i18n.translate("xpack.infra.alerting.alertDropdownTitle",{defaultMessage:"Alerts and rules"}),items:u?[...p.items,...M.items,...b.items,y]:[y]},...u?[...p.panels,...M.panels,...b.panels]:[]]),[u,p,M,b,y]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.EuiPopover,{panelPaddingSize:"none",anchorPosition:"downLeft",button:r.a.createElement(F.EuiHeaderLink,{color:"text",iconSide:"right",iconType:"arrowDown",onClick:m,"data-test-subj":"infrastructure-alerts-and-rules"},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.alerting.alertsButton",defaultMessage:"Alerts and rules"})),isOpen:t,closePopover:d},r.a.createElement(F.EuiContextMenu,{initialPanelId:0,panels:j,"data-test-subj":"metrics-alert-menu"})),r.a.createElement(Jy,{visibleFlyoutType:n,onClose:c}))},Jy=({visibleFlyoutType:e,onClose:t})=>{switch(e){case"inventory":return r.a.createElement(Pn,{onClose:t});case"metricThreshold":return r.a.createElement($e,{onClose:t});case"customThreshold":return r.a.createElement(Hy,{onClose:t});default:return null}};var qy=a(258);const Ky=e=>{var t;const[a]=Object(i.useState)((()=>Ve()())),{goHome:n}=e,[s,o]=Object(i.useState)(a.clone().subtract(4,"weeks")),[l,u]=Object(i.useState)(null),c=bo(),d=Do(),{metricsView:m}=Object(Y.c)(),[g,p]=Object(i.useState)(""),[M,f]=Object(i.useState)(""),y=Object(b.useUiTracker)({app:"infra_metrics"}),{kibanaVersion:j,isCloudEnv:E,isServerlessEnv:h}=Object(i.useContext)(S.a),{euiTheme:I}=Object(F.useEuiTheme)(),L=c.sourceConfiguration.indices,x=Object(i.useMemo)((()=>"kubernetes"===e.jobType?d.setupStatus:c.setupStatus),[e.jobType,d.setupStatus,c.setupStatus]),w=Object(i.useMemo)((()=>"kubernetes"===e.jobType?d.cleanUpAndSetUpModule:c.cleanUpAndSetUpModule),[e.jobType,d.cleanUpAndSetUpModule,c.cleanUpAndSetUpModule]),v=Object(i.useMemo)((()=>"kubernetes"===e.jobType?d.setUpModule:c.setUpModule),[e.jobType,d.setUpModule,c.setUpModule]),T=Object(i.useMemo)((()=>"kubernetes"===e.jobType?d.jobSummaries.length>0:c.jobSummaries.length>0),[e.jobType,d.jobSummaries,c.jobSummaries]),C=Object(i.useCallback)((e=>{o(e)}),[]),N=Object(i.useCallback)((()=>{T?w(L,Ve()(s).toDate().getTime(),void 0,M,l?l[0]:void 0):v(L,Ve()(s).toDate().getTime(),void 0,M,l?l[0]:void 0)}),[w,M,v,T,L,l,s]),D=Object(i.useCallback)((e=>{p(e||""),f(Object(kt.a)(e,null==m?void 0:m.dataViewReference)||"")}),[null==m?void 0:m.dataViewReference]),O=Object(i.useCallback)(Object(ze.debounce)(D,500),[D]),A=Object(i.useCallback)((e=>{u(e.map((e=>e.label)))}),[]);return Object(i.useEffect)((()=>{"kubernetes"===e.jobType&&u([Lo])}),[e.jobType]),Object(i.useEffect)((()=>{"succeeded"===x.type&&("kubernetes"===e.jobType?(y({metric:"metrics_ml_anomaly_detection_k8s_enabled"}),!l||1===l.length&&l[0]===Lo||y({metric:"metrics_ml_anomaly_detection_k8s_partition_changed"})):(y({metric:"metrics_ml_anomaly_detection_hosts_enabled"}),l&&y({metric:"metrics_ml_anomaly_detection_hosts_partition_changed"}),y({metric:"metrics_ml_anomaly_detection_hosts_enabled"})),n())}),[x,e.jobType,l,y,n]),r.a.createElement(r.a.Fragment,null,r.a.createElement(F.EuiFlyoutHeader,null,r.a.createElement(F.EuiFlexGroup,{alignItems:"center",justifyContent:"spaceBetween"},r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(F.EuiTitle,{size:"m"},r.a.createElement("h2",null,r.a.createElement(P.FormattedMessage,{defaultMessage:"Enable machine learning for {nodeType}",id:"xpack.infra.ml.aomalyFlyout.jobSetup.flyoutHeader",values:{nodeType:e.jobType}})))),r.a.createElement(ej,{grow:!1,$_css:I.size.l},r.a.createElement(b.FeatureFeedbackButton,{"data-test-subj":`infraML${e.jobType}FlyoutFeedbackLink`,formUrl:Ro,kibanaVersion:j,isCloudEnv:E,isServerlessEnv:h,nodeType:"kubernetes"===e.jobType?"pod":"host"})))),r.a.createElement(F.EuiFlyoutBody,null,"pending"===x.type?r.a.createElement(F.EuiFlexGroup,{alignItems:"center"},r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(F.EuiLoadingSpinner,{size:"xl"})),r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.ml.steps.setupProcess.loadingText",defaultMessage:"Creating ML job..."}))):"failed"===x.type?r.a.createElement(r.a.Fragment,null,r.a.createElement(P.FormattedMessage,{id:"xpack.infra.ml.steps.setupProcess.failureText",defaultMessage:"Something went wrong creating the necessary ML jobs."}),r.a.createElement(F.EuiSpacer,null),x.reasons.map(((e,t)=>r.a.createElement(F.EuiCallOut,{key:t,color:"danger",iconType:"warning",title:Xy},r.a.createElement(F.EuiCode,{transparentBackground:!0},e)))),r.a.createElement(F.EuiSpacer,null),r.a.createElement(F.EuiButton,{"data-test-subj":"infraJobSetupScreenTryAgainButton",fill:!0,onClick:N},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.ml.steps.setupProcess.tryAgainButton",defaultMessage:"Try again"}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(F.EuiText,null,r.a.createElement("p",null,r.a.createElement(P.FormattedMessage,{id:"xpack.infra.ml.steps.setupProcess.description",defaultMessage:"Settings can not be changed once the jobs are created. You can recreate jobs anytime, however, the previously detected anomalies are removed."}))),r.a.createElement(F.EuiSpacer,{size:"l"}),r.a.createElement(F.EuiForm,null,r.a.createElement(F.EuiDescribedFormGroup,{title:r.a.createElement("h3",null,r.a.createElement(P.FormattedMessage,{id:"xpack.infra.ml.steps.setupProcess.when.title",defaultMessage:"When does your model begin?"})),description:r.a.createElement(P.FormattedMessage,{id:"xpack.infra.ml.steps.setupProcess.when.description",defaultMessage:"By default, machine learning jobs analyze the last 4 weeks of data and continue to run indefinitely."})},r.a.createElement(F.EuiFormRow,{label:r.a.createElement(P.FormattedMessage,{id:"xpack.infra.ml.steps.setupProcess.when.timePicker.label",defaultMessage:"Start date"})},r.a.createElement(qy.a,{showTimeSelect:!0,selected:s,onChange:C,maxDate:a}))),r.a.createElement(F.EuiDescribedFormGroup,{title:r.a.createElement("h3",null,r.a.createElement(P.FormattedMessage,{id:"xpack.infra.ml.steps.setupProcess.partition.title",defaultMessage:"How do you want to partition your data?"})),description:r.a.createElement(P.FormattedMessage,{id:"xpack.infra.ml.steps.setupProcess.partition.description",defaultMessage:"Partitions enable you to build independent models for groups of data that share similar behavior. For example, you can partition by machine type or cloud availability zone."})},r.a.createElement(F.EuiFormRow,{label:r.a.createElement(P.FormattedMessage,{id:"xpack.infra.ml.steps.setupProcess.partition.label",defaultMessage:"Partition field"}),display:"rowCompressed"},r.a.createElement(F.EuiComboBox,{placeholder:k.i18n.translate("xpack.infra.metricsExplorer.groupByLabel",{defaultMessage:"Everything"}),"aria-label":k.i18n.translate("xpack.infra.metricsExplorer.groupByAriaLabel",{defaultMessage:"Graph per"}),fullWidth:!0,singleSelection:!0,selectedOptions:l?l.map((e=>({label:e}))):void 0,options:(null!==(t=null==m?void 0:m.fields)&&void 0!==t?t:[]).filter((e=>e.aggregatable&&"string"===e.type)).map((e=>({label:e.name}))),onChange:A,isClearable:!0}))),r.a.createElement(F.EuiDescribedFormGroup,{title:r.a.createElement("h3",null,r.a.createElement(P.FormattedMessage,{id:"xpack.infra.ml.steps.setupProcess.filter.title",defaultMessage:"Filter"})),description:r.a.createElement(P.FormattedMessage,{id:"xpack.infra.ml.steps.setupProcess.filter.description",defaultMessage:"By default, machine learning jobs analyze all of your metric data."})},r.a.createElement(F.EuiFormRow,{display:"rowCompressed",label:r.a.createElement(P.FormattedMessage,{id:"xpack.infra.ml.steps.setupProcess.filter.label",defaultMessage:"Filter (optional)"})},r.a.createElement(Lt.a,{onSubmit:D,onChange:O,value:g})))))),r.a.createElement(F.EuiFlyoutFooter,null,r.a.createElement(F.EuiFlexGroup,{justifyContent:"spaceBetween"},r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(F.EuiButtonEmpty,{"data-test-subj":"infraJobSetupScreenCancelButton",onClick:e.closeFlyout},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.ml.steps.setupProcess.cancelButton",defaultMessage:"Cancel"}))),r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(F.EuiButton,{"data-test-subj":"infraJobSetupScreenEnableJobsButton",fill:!0,fullWidth:!1,onClick:N},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.ml.steps.setupProcess.enableButton",defaultMessage:"Enable jobs"}))))))},Xy=k.i18n.translate("xpack.infra.ml.steps.setupProcess.errorCalloutTitle",{defaultMessage:"An error occurred"});var ej=an()(F.EuiFlexItem).withConfig({displayName:"_StyledEuiFlexItem",componentId:"sc-1aohn3p-0"})(["margin-right:",";"],(e=>e.$_css)),tj=a(183);const aj=({hideJobType:e=!1,hideSelectGroup:t=!1})=>{var a,n;const{hasInfraMLSetupCapabilities:s}=Ao(),[o,l]=Object(i.useState)(!1),[u,c]=Object(i.useState)("home"),[d,m]=Object(i.useState)(null),{metricsView:g}=Object(Y.c)(),{space:p}=Object(tj.a)(),M=Object(i.useCallback)((()=>{c("home"),l(!0)}),[]),b=Object(i.useCallback)((e=>{c("setup"),m({jobType:e})}),[c]),f=Object(i.useCallback)((()=>{l(!1)}),[]);return null!=g&&g.indices&&p?r.a.createElement(r.a.Fragment,null,r.a.createElement(F.EuiHeaderLink,{color:"text",iconSide:"left",iconType:"inspect",onClick:M,"data-test-subj":"openAnomalyFlyoutButton"},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.ml.anomalyDetectionButton",defaultMessage:"Anomaly detection"})),o&&r.a.createElement(Mo,{indexPattern:null!==(a=null==g?void 0:g.indices)&&void 0!==a?a:"",sourceId:"default",spaceId:p.id},r.a.createElement(No,{indexPattern:null!==(n=null==g?void 0:g.indices)&&void 0!==n?n:"",sourceId:"default",spaceId:p.id},r.a.createElement(F.EuiFlyout,{onClose:f,"data-test-subj":"loadMLFlyout"},"home"===u&&r.a.createElement(Uo,{hasSetupCapabilities:s,goToSetup:b,closeFlyout:f,hideJobType:e,hideSelectGroup:t}),"setup"===u&&r.a.createElement(Ky,{goHome:M,closeFlyout:f,jobType:d.jobType}))))):null};var nj=a(208),ij=a(337),rj=a(555),sj=a.n(rj),oj=a(109);const lj={defaultOptions:{queries:{keepPreviousData:!0,refetchOnWindowFocus:!1}}};function uj({children:e,config:t={}}){const[a]=Object(i.useState)((()=>new de.QueryClient(sj()(lj,t))));return r.a.createElement(de.QueryClientProvider,{client:a},r.a.createElement(cj,null),e)}function cj(){const[e,t]=Object(i.useState)(!1);return e?null:r.a.createElement("div",null,r.a.createElement(F.EuiButtonIcon,{"data-test-subj":"infraHideableReactQueryDevToolsButton",iconType:"cross",color:"primary",style:{zIndex:99999,position:"fixed",bottom:"40px",left:"40px"},onClick:()=>t(!e),"aria-label":"Disable React Query Dev Tools"}),r.a.createElement(oj.ReactQueryDevtools,{initialIsOpen:!1}))}var dj=a(110);const mj={HOST_OS_NAME:"host.os.name",CLOUD_PROVIDER:"cloud.provider",SERVICE_NAME:"service.name"},gj={[mj.HOST_OS_NAME]:{order:0,width:"medium",grow:!1,type:"optionsListControl",explicitInput:{id:mj.HOST_OS_NAME,fieldName:mj.HOST_OS_NAME,title:"Operating System"}},[mj.CLOUD_PROVIDER]:{order:1,width:"medium",grow:!1,type:"optionsListControl",explicitInput:{id:mj.CLOUD_PROVIDER,fieldName:mj.CLOUD_PROVIDER,title:"Cloud Provider"}},[mj.SERVICE_NAME]:{order:2,width:"medium",grow:!1,type:"optionsListControl",explicitInput:{id:mj.SERVICE_NAME,fieldName:mj.SERVICE_NAME,title:"Service Name"}}},pj=Object.values(mj),Mj=e=>(e=>pj.filter((t=>void 0!==(null==e?void 0:e.fields.getByName(t)))))(e).reduce(((e,t)=>{const a=gj[t];return{...e,[t]:a}}),{}),bj=(e,t={})=>{const a=Mj(e),n=Object.keys(a),i=Object(ze.pick)(t,n);return((e,t="")=>Object.entries(e).reduce(((e,[a,n])=>({...e,[a]:{...n,explicitInput:{...n.explicitInput,dataViewId:t}}})),{}))({...a,...i},e.id)},fj=oe.type({order:oe.number,width:oe.union([oe.literal("medium"),oe.literal("small"),oe.literal("large")]),grow:oe.boolean,type:oe.string,explicitInput:oe.intersection([oe.type({id:oe.string}),oe.partial({dataViewId:oe.string,fieldName:oe.string,title:oe.union([oe.string,oe[void 0]]),selectedOptions:oe.array(oe.string)})])}),yj=oe.record(oe.string,fj),jj=e=>{if(e){const a=(t=e,Object.entries(t).reduce(((e,[t,a])=>{const{explicitInput:n}=a,{dataViewId:i,...r}=n;return{...e,[t]:{...a,explicitInput:r}}}),{}));return yj.encode(a)}var t},Ej=e=>{if(e)return Object(le.pipe)(yj.decode(e),Object(ue.fold)(Object(ce.constant)({}),ce.identity))},hj=({children:e})=>{const[t,{off:a,toggle:n}]=_t(!1),s=Object(i.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),n()}),[n]);return r.a.createElement(F.EuiPopover,{panelPaddingSize:"s",button:r.a.createElement("button",{onClick:s,"data-test-subj":"hostsViewTableColumnPopoverButton"},r.a.createElement(F.EuiIcon,{type:"questionInCircle"})),isOpen:t,closePopover:a,offset:10,anchorPosition:"upCenter",panelStyle:{maxWidth:350}},e)},Ij={[mj.SERVICE_NAME]:r.a.createElement(F.EuiText,{size:"xs"},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.hostsViewPage.serviceNameControl.popoverHelpLabel",defaultMessage:"Services detected via {APMDocs}",values:{APMDocs:r.a.createElement(F.EuiLink,{href:"https://ela.st/docs-infra-apm",target:"_blank","data-test-subj":"hostsViewServiceNameControlPopoverHelpLink"},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.hostsViewPage.serviceNameControl.popoverHelpLink",defaultMessage:"APM"}))}}))},Lj=({title:e,helpMessage:t,embeddableId:a})=>r.a.createElement(F.EuiFormLabel,{className:"controlFrame__formControlLayoutLabel",htmlFor:a},r.a.createElement(F.EuiFlexGroup,{alignItems:"center",gutterSize:"xs"},r.a.createElement(F.EuiFlexItem,{grow:!1},e),r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(hj,null,t)))),xj=({title:e,embeddableId:t})=>{const a=Ij[t];return a?r.a.createElement(Lj,{title:e,helpMessage:a,embeddableId:t}):r.a.createElement(F.EuiFormLabel,{className:"controlFrame__formControlLayoutLabel",htmlFor:t},e)},wj=({dataView:e,filters:t,query:a,timeRange:n,onFiltersChange:s})=>{const[o,l]=(e=>{const t=Object(i.useMemo)((()=>Mj(e)),[e]),[a,n]=Object(me.a)({defaultState:t,decodeUrlState:Ej,encodeUrlState:jj,urlStateKey:"controlPanels"});return[e?bj(e,a):{},n]})(e),u=Object(i.useRef)(new Ki.Subscription),c=Object(i.useCallback)((e=>async()=>({initialInput:{id:e.id,viewMode:$d.ViewMode.VIEW,chainingSystem:"HIERARCHICAL",controlStyle:"oneLine",defaultControlWidth:"small",panels:o,filters:t,query:a,timeRange:n}})),[o,t,a,n]),d=Object(i.useCallback)((e=>{e&&(e.untilAllChildrenReady().then((()=>{e.getChildIds().map((t=>{const a=e.getChild(t);a.renderPrepend=()=>r.a.createElement(xj,{title:a.getTitle(),embeddableId:t})}))})),u.current.add(e.onFiltersPublished$.subscribe((e=>{s(e)}))),u.current.add(e.getInput$().subscribe((({panels:e})=>l(e)))))}),[s,l]);return Object(i.useEffect)((()=>{const e=u.current;return()=>{e.unsubscribe()}}),[]),e?r.a.createElement(vj,null,r.a.createElement(dj.ControlGroupRenderer,{getCreationOptions:c(e),ref:d,timeRange:n,query:a,filters:t})):null},vj=R.euiStyled.div`
  .controlGroup {
    min-height: ${e=>e.theme.eui.euiSizeXXL}
  }
`,Tj=({limit:e,onChange:t})=>{const[a,n]=Object(i.useState)(e),s=Object(i.useCallback)(((e,a)=>{n(a),t(a)}),[t]);return r.a.createElement(F.EuiFlexGroup,{direction:"row",alignItems:"center",justifyContent:"spaceBetween",responsive:!1,gutterSize:"xs"},r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(F.EuiText,{size:"xs",textAlign:"left"},r.a.createElement("strong",null,r.a.createElement(P.FormattedMessage,{id:"xpack.infra.hostsViewPage.hostLimit",defaultMessage:"Host limit"})))),r.a.createElement(F.EuiFlexItem,null,r.a.createElement(F.EuiToolTip,{className:"eui-fullWidth",delay:"regular",content:k.i18n.translate("xpack.infra.hostsViewPage.hostLimit.tooltip",{defaultMessage:"To ensure faster query performance, there is a limit to the number of hosts returned"}),anchorClassName:"eui-fullWidth"},r.a.createElement("button",{"data-test-subj":"hostsViewLimitOptionsButton"},r.a.createElement(F.EuiIcon,{type:"iInCircle"})))),r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(F.EuiButtonGroup,{type:"single",legend:k.i18n.translate("xpack.infra.hostsViewPage.tabs.alerts.alertStatusFilter.legend",{defaultMessage:"Filter by"}),idSelected:Sj(a),options:Cj,onChange:s})))},Sj=e=>`hostLimit_${e}`,Cj=[50,100,500].map((e=>({id:Sj(e),label:`${e}`,value:e,"data-test-subj":`hostsViewLimitSelection${e}Button`}))),Nj=()=>{var e,t;const{services:{unifiedSearch:a,application:n}}=Object(S.c)(),{metricsView:s}=Object(Y.c)(),{searchCriteria:o,onSubmit:l}=Ql(),{SearchBar:u}=a.ui,c=Object(i.useCallback)((e=>{l({panelFilters:e})}),[l]);return r.a.createElement(Dj,null,r.a.createElement(F.EuiFlexGroup,{direction:"column",gutterSize:"s"},r.a.createElement(F.EuiFlexItem,null,r.a.createElement(u,{appName:"Infra Hosts",displayStyle:"inPage",indexPatterns:s&&[s.dataViewReference],placeholder:k.i18n.translate("xpack.infra.hosts.searchPlaceholder",{defaultMessage:"Search hosts (E.g. cloud.provider:gcp AND system.load.1 > 0.5)"}),onQuerySubmit:(e,t)=>{!1===t&&l(e)},saveQueryMenuVisibility:null!=n&&null!==(e=n.capabilities)&&void 0!==e&&null!==(t=e.visualize)&&void 0!==t&&t.saveQuery?"allowed_by_app_privilege":"globally_managed",showDatePicker:!0,showFilterBar:!0,showQueryInput:!0,showQueryMenu:!0,useDefaultBehaviors:!0,isAutoRefreshDisabled:!0})),r.a.createElement(F.EuiFlexItem,null,r.a.createElement(F.EuiFlexGroup,{direction:"row",alignItems:"center",wrap:!1,gutterSize:"s"},r.a.createElement(F.EuiFlexItem,null,r.a.createElement(wj,{timeRange:o.dateRange,dataView:null==s?void 0:s.dataViewReference,query:o.query,filters:o.filters,onFiltersChange:c})),r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(Tj,{limit:o.limit,onChange:e=>{l({limit:e})}}))))),r.a.createElement(Oj,{margin:"xs"}))},Dj=({children:e})=>{const{euiTheme:t}=Object(F.useEuiTheme)();return r.a.createElement(kj,{$_css:t.levels.navigation,$_css2:t.colors.emptyShade,$_css3:t.size.l,$_css4:t.size.l,$_css5:t.size.l,$_css6:t.size.l,$_css7:t.size.xxxl},e)};var Oj=an()(F.EuiHorizontalRule)`
          margin-bottom: 0;
        `,kj=an()("div").withConfig({displayName:"_StyledDiv",componentId:"sc-1le51wg-0"})(["position:sticky;top:var(--kbnAppHeadersOffset,var(--euiFixedHeadersOffset,0));z-index:",";background:",";padding:"," "," 0px;margin:-"," -"," 0px;min-height:calc("," * 2);"],(e=>e.$_css),(e=>e.$_css2),(e=>e.$_css3),(e=>e.$_css4),(e=>e.$_css5),(e=>e.$_css6),(e=>e.$_css7)),Aj=a(111);const zj={gcp:"logoGCP",aws:"logoAWS",azure:"logoAzure",unknownProvider:"cloudSunny"};function Fj(e){return null==e?zj.unknownProvider:zj[e]}function Pj({cloudProvider:e,...t}){const a={type:Fj(e)};return e&&(a.title=e),Object(ea.jsx)(F.EuiIcon,J()({},a,t))}const Rj=({onClick:e,title:t})=>{const{name:a,cloudProvider:n}=t,{parsedDateRange:i}=Ql(),{getNodeDetailUrl:s}=ut(),o=s({assetId:a,assetType:"host",search:{from:null!=i&&i.from?new Date(null==i?void 0:i.from).getTime():void 0,to:null!=i&&i.to?new Date(i.to).getTime():void 0,name:a}}),l=null!=n?n:"Unknown";return r.a.createElement(F.EuiFlexGroup,{alignItems:"center",className:"eui-textTruncate",gutterSize:"s",responsive:!1},r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(F.EuiToolTip,{delay:"long",content:l},r.a.createElement(Pj,{cloudProvider:n,size:"m",title:a}))),r.a.createElement(F.EuiFlexItem,{grow:!1,className:"eui-textTruncate",onClick:e},r.a.createElement(F.EuiToolTip,{delay:"long",content:a},r.a.createElement(F.EuiLink,J()({"data-test-subj":"hostsViewTableEntryTitleLink",className:"eui-displayBlock eui-textTruncate"},o),a))))},Uj={detailsItemId:null,sorting:{direction:"desc",field:"alertsCount"},pagination:{pageIndex:0,pageSize:10}},Vj=(e,t)=>({...e,...Object.fromEntries(Object.entries(t).filter((([e,t])=>void 0!==t)))}),Bj=oe.partial({pageIndex:oe.number,pageSize:oe.number}),_j=oe.intersection([oe.type({field:oe.string}),oe.partial({direction:oe.union([oe.literal("asc"),oe.literal("desc")])})]),Yj=oe.type({detailsItemId:oe.union([oe.string,oe.null]),pagination:Bj,sorting:_j}),Qj=Yj.encode,Gj=e=>Object(le.pipe)(Yj.decode(e),Object(ue.fold)(Object(ce.constant)(void 0),ce.identity));var Zj=a(148),Wj=a.n(Zj);const Hj=[{type:"cpu"},{type:"diskSpaceUsage"},{type:"memory"},{type:"memoryFree"},{type:"normalizedLoad1m"},{type:"rx"},{type:"tx"}],$j=sa()((()=>{var e;const{sourceId:t}=Object(Y.d)(),{services:{http:a,data:n,telemetry:r}}=Object(S.c)(),{buildQuery:s,parsedDateRange:o,searchCriteria:l}=Ql(),u=Object(i.useRef)(new AbortController),[c,d]=Object(i.useState)((()=>n.search.session.start())),m=Object(i.useMemo)((()=>Kj({dateRange:o,esQuery:s(),sourceId:t,limit:l.limit})),[s,o,t,l.limit]),[g,p]=Wj()((async()=>{u.current.abort(),u.current=new AbortController;const e=performance.now(),t=await a.post("/api/metrics/infra",{signal:u.current.signal,body:JSON.stringify(m)}),n=performance.now()-e;return null==r||r.reportPerformanceMetricEvent("infra_hosts_table_load",n,{key1:"data_load",value1:n},{limit:l.limit}),t}),[m,a],{loading:!0});Object(i.useEffect)((()=>{p(),d(n.search.session.start())}),[n.search.session,p]);const{value:M,error:b,loading:f}=g;return{loading:f,error:b,hostNodes:null!==(e=null==M?void 0:M.nodes)&&void 0!==e?e:[],searchSessionId:c}})),[Jj,qj]=$j,Kj=({esQuery:e,sourceId:t,dateRange:a,limit:n})=>({type:"host",query:e,range:{from:a.from,to:a.to},metrics:Hj,limit:n,sourceId:t}),Xj=r.a.memo((({label:e,toolTip:t,formula:a,showDocumentationLink:n=!0})=>r.a.createElement(F.EuiFlexGroup,{gutterSize:"xs"},r.a.createElement(eE,null,e),t&&r.a.createElement(hj,null,r.a.createElement(um,{formula:a,description:t,showDocumentationLink:n})))));var eE=an()("div").withConfig({displayName:"_StyledDiv",componentId:"sc-104l0cj-0"})(["overflow-wrap:break-word !important;word-break:break-word;min-width:0;text-overflow:ellipsis;overflow:hidden;"]);const tE={alertsCount:k.i18n.translate("xpack.infra.hostsViewPage.table.alertsColumnHeader",{defaultMessage:"Alerts"}),title:k.i18n.translate("xpack.infra.hostsViewPage.table.nameColumnHeader",{defaultMessage:"Name"}),cpuUsage:k.i18n.translate("xpack.infra.hostsViewPage.table.cpuUsageColumnHeader",{defaultMessage:"CPU usage (avg.)"}),diskSpaceUsage:k.i18n.translate("xpack.infra.hostsViewPage.table.diskUsageColumnHeader",{defaultMessage:"Disk Usage (max)"}),tx:k.i18n.translate("xpack.infra.hostsViewPage.table.txColumnHeader",{defaultMessage:"TX (avg.)"}),rx:k.i18n.translate("xpack.infra.hostsViewPage.table.rxColumnHeader",{defaultMessage:"RX (avg.)"}),memoryFree:k.i18n.translate("xpack.infra.hostsViewPage.table.memoryFreeColumnHeader",{defaultMessage:"Memory Free (avg.)"}),memoryUsage:k.i18n.translate("xpack.infra.hostsViewPage.table.memoryUsageColumnHeader",{defaultMessage:"Memory Usage (avg.)"}),normalizedLoad1m:k.i18n.translate("xpack.infra.hostsViewPage.table.normalizedLoad1mColumnHeader",{defaultMessage:"Normalized Load (avg.)"}),toggleDialogAction:k.i18n.translate("xpack.infra.hostsViewPage.table.toggleDialogWithDetails",{defaultMessage:"Toggle dialog with details"})},aE={activeAlerts:k.i18n.translate("xpack.infra.hostsViewPage.table.tooltip.activeAlertsExplanation",{defaultMessage:"Active alerts"})},nE=(e,t)=>t||0===t?Object(hn.a)({type:e})(t):"N/A",iE=e=>null!==e&&"object"==typeof e&&e&&"name"in e,rE=(e,t,{direction:a})=>"string"==typeof e&&"string"==typeof t?"desc"===a?t.localeCompare(e):e.localeCompare(t):Object(Aj.isNumber)(e)&&Object(Aj.isNumber)(t)?"desc"===a?t-e:e-t:1,sE=sa()((()=>{const e=Object(g.findInventoryModel)("host"),[t,a]=Object(i.useState)([]),{hostNodes:n}=qj(),s=n.some((e=>"alertsCount"in e)),{value:o}=Zl()((()=>e.metrics.getFormulas())),[{detailsItemId:l,pagination:u,sorting:c},d]=(()=>{const[e,t]=on()("hostsView:pageSizeSelection",10),[a,n]=Object(me.a)({defaultState:{...Uj,pagination:{...Uj.pagination,pageSize:e}},decodeUrlState:Gj,encodeUrlState:Qj,urlStateKey:"tableProperties"}),[r,s]=Object(i.useReducer)(Vj,a);return dl()(r,a)||(n(r),e!==r.pagination.pageSize&&t(r.pagination.pageSize)),[r,s]})(),{services:{telemetry:m,data:{query:{filterManager:p}}}}=Object(S.c)(),{metricsView:M}=Object(Y.c)(),b=Object(i.useCallback)((()=>d({detailsItemId:null})),[d]),f=Object(i.useCallback)((()=>{if(!t.length)return[];const e=t.map((({name:e})=>e)),n=Ul({field:he.c,values:e,dataView:null==M?void 0:M.dataViewReference});p.addFilters(n),a([])}),[p,null==M?void 0:M.dataViewReference,t]),y=Object(i.useCallback)((({name:e,cloudProvider:t})=>{m.reportHostEntryClicked({hostname:e,cloud_provider:t})}),[m]),j=Object(i.useCallback)((({page:e,sort:t})=>{const{index:a,size:n}=e,{field:i,direction:r}=null!=t?t:{},s={field:i,direction:r},o={pageIndex:a,pageSize:n};Object(ze.isEqual)(c,s)?Object(ze.isEqual)(u,o)||d({pagination:o}):d({sorting:s})}),[d,u,c]),E=Object(i.useMemo)((()=>n.map((({metrics:e,metadata:t,name:a,alertsCount:n})=>{var i,r,s,o;const l=t.reduce(((e,t)=>({...e,[t.name]:t.value})),{});return{name:a,id:`${a}-${null!==(i=l["host.os.name"])&&void 0!==i?i:"-"}`,title:{name:a,cloudProvider:null!==(r=l["cloud.provider"])&&void 0!==r?r:null},os:null!==(s=l["host.os.name"])&&void 0!==s?s:"-",ip:null!==(o=l["host.ip"])&&void 0!==o?o:"",...e.reduce(((e,t)=>{var a;return{...e,[t.name]:null!==(a=t.value)&&void 0!==a?a:0}}),{}),alertsCount:null!=n?n:0}}))),[n]),h=Object(i.useMemo)((()=>E.find((({id:e})=>e===l))),[l,E]),I=Object(i.useMemo)((()=>{const{pageSize:e=0,pageIndex:t=0}=u,a=(t+1)*e,n=t*e;return E.sort((({direction:e,field:t})=>(a,n)=>{const i=a[t],r=n[t];return iE(i)&&iE(r)?rE(i.name,r.name,{direction:e,field:t}):rE(i,r,{direction:e,field:t})})(c)).slice(n,a)}),[E,u,c]),L=s?"12%":"16%";return{columns:Object(i.useMemo)((()=>[{name:"",width:"40px",field:"id",actions:[{name:tE.toggleDialogAction,description:tE.toggleDialogAction,icon:({id:e})=>e===l?"minimize":"expand",type:"icon","data-test-subj":"hostsView-flyout-button",onClick:({id:e})=>{d({detailsItemId:e===l?null:e})}}]},...s?[{name:r.a.createElement(Xj,{label:tE.alertsCount,toolTip:Fm.alertsCount,showDocumentationLink:!1}),width:"95px",field:"alertsCount",sortable:!0,"data-test-subj":"hostsView-tableRow-alertsCount",render:(e,t)=>e?r.a.createElement(F.EuiToolTip,{position:"top",content:aE.activeAlerts},r.a.createElement(F.EuiBadge,{iconType:"warning",color:"danger",onClick:()=>{d({detailsItemId:t.id===l?null:t.id})},onClickAriaLabel:aE.activeAlerts,iconOnClick:()=>{d({detailsItemId:t.id===l?null:t.id})},iconOnClickAriaLabel:aE.activeAlerts},e)):null}]:[],{name:tE.title,field:"title",sortable:!0,truncateText:!0,"data-test-subj":"hostsView-tableRow-title",render:e=>r.a.createElement(Rj,{title:e,onClick:()=>y(e)}),width:s?"15%":"20%"},{name:r.a.createElement(Xj,{label:tE.cpuUsage,toolTip:Fm.cpuUsage,formula:null==o?void 0:o.cpuUsage.value}),width:L,field:"cpu",sortable:!0,"data-test-subj":"hostsView-tableRow-cpuUsage",render:e=>nE("cpu",e),align:"right"},{name:r.a.createElement(Xj,{label:tE.normalizedLoad1m,toolTip:Fm.normalizedLoad1m,formula:null==o?void 0:o.normalizedLoad1m.value}),width:L,field:"normalizedLoad1m",sortable:!0,"data-test-subj":"hostsView-tableRow-normalizedLoad1m",render:e=>nE("normalizedLoad1m",e),align:"right"},{name:r.a.createElement(Xj,{label:tE.memoryUsage,toolTip:Fm.memoryUsage,formula:null==o?void 0:o.memoryUsage.value}),width:L,field:"memory",sortable:!0,"data-test-subj":"hostsView-tableRow-memoryUsage",render:e=>nE("memory",e),align:"right"},{name:r.a.createElement(Xj,{label:tE.memoryFree,toolTip:Fm.memoryFree,formula:null==o?void 0:o.memoryFree.value}),width:L,field:"memoryFree",sortable:!0,"data-test-subj":"hostsView-tableRow-memoryFree",render:e=>nE("memoryFree",e),align:"right"},{name:r.a.createElement(Xj,{label:tE.diskSpaceUsage,toolTip:Fm.diskUsage,formula:null==o?void 0:o.diskUsage.value}),width:L,field:"diskSpaceUsage",sortable:!0,"data-test-subj":"hostsView-tableRow-diskSpaceUsage",render:e=>nE("diskSpaceUsage",e),align:"right"},{name:r.a.createElement(Xj,{label:tE.rx,toolTip:Fm.rx,formula:null==o?void 0:o.rx.value}),width:"12%",field:"rx",sortable:!0,"data-test-subj":"hostsView-tableRow-rx",render:e=>nE("rx",e),align:"right"},{name:r.a.createElement(Xj,{label:tE.tx,toolTip:Fm.tx,formula:null==o?void 0:o.tx.value}),width:"12%",field:"tx",sortable:!0,"data-test-subj":"hostsView-tableRow-tx",render:e=>nE("tx",e),align:"right"}]),[l,null==o?void 0:o.cpuUsage.value,null==o?void 0:o.diskUsage.value,null==o?void 0:o.memoryFree.value,null==o?void 0:o.memoryUsage.value,null==o?void 0:o.normalizedLoad1m.value,null==o?void 0:o.rx.value,null==o?void 0:o.tx.value,y,d,s,L]),clickedItem:h,currentPage:I,closeFlyout:b,items:E,isFlyoutOpen:null!==l,onTableChange:j,pagination:u,sorting:c,selection:{onSelectionChange:e=>{a(e)},selectable:e=>!!e.name,selected:t},selectedItemsCount:t.length,filterSelectedHosts:f}})),[oE,lE]=sE,uE=e=>{const t=Object(i.useRef)(e);return t.current=e,t},cE=(e,t)=>{const[a,n]=dE(e,(()=>t));return Object(i.useEffect)((()=>{n(t)}),t),a},dE=(e,t)=>{const[[a,n],r]=Object(i.useState)((()=>{const e=new Ki.BehaviorSubject(t()),a=e.next.bind(e);return[e,a]})),[s]=Object(i.useState)((()=>e(a)));return[s,n]},mE=e=>{var t,a;const{latestValue:n}=((e,t)=>{const[a,n]=Object(i.useState)(void 0),[r,s]=Object(i.useState)();return((e,{next:t,error:a,complete:n,unsubscribe:r})=>{const s=Object(i.useRef)(),o=uE(t),l=uE(a),u=uE(n),c=uE(r);Object(i.useEffect)((()=>{const t=c.current,a=e.subscribe({next:e=>{var t;return null===(t=o.current)||void 0===t?void 0:t.call(o,e)},error:e=>{var t;return null===(t=l.current)||void 0===t?void 0:t.call(l,e)},complete:()=>{var e;return null===(e=u.current)||void 0===e?void 0:e.call(u)}});return s.current=a,()=>{a.unsubscribe(),null==t||t()}}),[e,o,l,u,c]),s.current})(e,{next:n,error:s}),{latestValue:a,latestError:r}})(e);return{cancelRequest:Object(i.useCallback)((()=>{null==n||n.abortController.abort()}),[n]),isRequestRunning:null!==(t=null==n?void 0:n.response.isRunning)&&void 0!==t&&t,isResponsePartial:null!==(a=null==n?void 0:n.response.isPartial)&&void 0!==a&&a,latestResponseData:null==n?void 0:n.response.data,latestResponseErrors:null==n?void 0:n.response.errors,loaded:null==n?void 0:n.response.loaded,total:null==n?void 0:n.response.total}},gE=Object(Ki.switchMap)((({abortController:e,options:t,request:a,response$:n})=>n.pipe(Object(Ki.map)((n=>({abortController:e,options:t,request:a,response:n})))))),pE=sa()((()=>{const{metricsView:e}=Object(Y.c)(),{services:{telemetry:t}}=Object(S.c)(),{buildQuery:a,searchCriteria:n}=Ql(),{search:r,requests$:s}=(({getRequest:e,parseResponses:t})=>{const{services:a}=Object(S.c)(),n=cE((()=>new Ki.ReplaySubject(1)),[]),r=Object(i.useCallback)(((...i)=>{const r=e(...i);if(null==r)return;const s=new AbortController;let o=!0;const l={...r,abortController:s,response$:a.data.search.search(r.request,{abortSignal:s.signal,...r.options}).pipe(Object(Ki.tap)({error:()=>{o=!1},complete:()=>{o=!1}}),(u=()=>{o&&s.abort()},e=>new Ki.Observable((t=>{const a=e.subscribe({next:e=>t.next(e),error:e=>t.error(e),complete:()=>t.complete()});return()=>{u(),a.unsubscribe()}}))),t,Object(Ki.share)())};var u;return n.next(l),l}),[e,a.data.search,t,n]);return{requests$:n,search:r}})({getRequest:Object(i.useCallback)((()=>{var t;const i=a(),r={bool:{...i.bool,filter:[...i.bool.filter,{exists:{field:he.c}},{range:{[null!==(t=null==e?void 0:e.timeFieldName)&&void 0!==t?t:he.m]:{gte:n.dateRange.from,lte:n.dateRange.to}}}]}};return{request:{params:{allow_no_indices:!0,ignore_unavailable:!0,index:null==e?void 0:e.indices,size:0,track_total_hits:!1,body:{query:r,aggs:{count:{cardinality:{field:he.c}}}}}},options:{strategy:wm.ES_SEARCH_STRATEGY}}}),[a,null==e?void 0:e.indices,null==e?void 0:e.timeFieldName,n.dateRange.from,n.dateRange.to]),parseResponses:Object(i.useMemo)((()=>yE({telemetry:t,telemetryData:{withQuery:!!n.query.query,withFilters:n.filters.length>0||n.panelFilters.length>0}})),[n.filters.length,n.panelFilters.length,n.query.query,t])}),{isRequestRunning:o,isResponsePartial:l,latestResponseData:u,latestResponseErrors:c}=(e=>{const t=((e,t)=>{const a=uE(t);return cE((e=>e.pipe(Object(Ki.switchMap)((([e])=>a.current(e))))),[e])})(e,gE),{cancelRequest:a,isRequestRunning:n,isResponsePartial:i,latestResponseData:r,latestResponseErrors:s,loaded:o,total:l}=mE(t);return{cancelRequest:a,isRequestRunning:n,isResponsePartial:i,latestResponseData:r,latestResponseErrors:s,loaded:o,total:l}})(s);return Object(i.useEffect)((()=>{r()}),[r]),{errors:c,isRequestRunning:o,isResponsePartial:l,data:null!=u?u:null}})),[ME,bE]=pE,fE={data:null,errors:[],isPartial:!0,isRunning:!0,loaded:0,total:void 0},yE=({telemetry:e,telemetryData:t})=>a=>a.pipe(Object(Ki.map)((e=>{var t,a;return{data:Object(At.b)(jE)(e.rawResponse.aggregations),errors:[],isPartial:null!==(t=e.isPartial)&&void 0!==t&&t,isRunning:null!==(a=e.isRunning)&&void 0!==a&&a,loaded:e.loaded,total:e.total}})),Object(Ki.tap)((({data:a})=>{e.reportHostsViewTotalHostCountRetrieved({total:a.count.value,with_query:t.withQuery,with_filters:t.withFilters})})),Object(Ki.startWith)(fE),Object(Ki.catchError)((e=>{var t;return Object(Ki.of)({...fE,errors:[null!==(t=e.message)&&void 0!==t?t:e],isRunning:!1})}))),jE=oe.type({count:oe.type({value:oe.number})}),EE=({node:{name:e},closeFlyout:t})=>{const{parsedDateRange:a}=Ql();return r.a.createElement(hM,{assetId:e,assetName:e,assetType:"host",dateRange:a,overrides:{metadata:{showActionsColumn:!0}},tabs:OM,links:["nodeDetails"],renderMode:{mode:"flyout",closeFlyout:t}})},hE=({selectedItemsCount:e,filterSelectedHosts:t})=>{const{euiTheme:a}=Object(F.useEuiTheme)(),[n,{off:i,toggle:s}]=_t(!1);return r.a.createElement(IE,{$_css:a.size.m},r.a.createElement(F.EuiPopover,{isOpen:n,closePopover:i,"data-test-subj":"bulkAction",panelPaddingSize:"s",className:Object(Xl.cx)({[Xl.css`
            top: -${a.size.s};
            position: absolute;
            opacity: 0;
            visibility: hidden;
          `]:!0,[Xl.css`
            opacity: 1;
            ${F.euiCanAnimate} {
              transition: opacity ${a.animation.extraFast} ease-in;
            }
            visibility: visible;
          `]:e>0}),button:r.a.createElement(F.EuiButtonEmpty,{"data-test-subj":"hostsViewTableSelectHostsFilterButton",size:"xs",flush:"left",iconSide:"right",iconType:"arrowDown",onClick:s},(o=e,k.i18n.translate("xpack.infra.hostsViewPage.table.selectedHostsButton",{values:{selectedHostsCount:o},defaultMessage:"Selected {selectedHostsCount} {selectedHostsCount, plural, =1 {host} other {hosts}}"})))},r.a.createElement(F.EuiButtonEmpty,{"data-test-subj":"hostsViewTableAddFilterButton",iconType:"filter",onClick:()=>{t(),i()}},k.i18n.translate("xpack.infra.hostsViewPage.table.addFilter",{defaultMessage:"Add filter"}))));var o};var IE=an()("div").withConfig({displayName:"_StyledDiv",componentId:"sc-ko9v5p-0"})(["position:relative;height:",";"],(e=>e.$_css));const LE=()=>{var e,t,a;const{loading:s}=qj(),{isRequestRunning:o}=bE(),{onPageReady:l}=Object(n.c)(),{columns:u,items:c,currentPage:d,isFlyoutOpen:m,closeFlyout:g,clickedItem:p,onTableChange:M,pagination:b,sorting:f,selection:y,selectedItemsCount:j,filterSelectedHosts:E}=lE();return Object(i.useEffect)((()=>{s||o||l()}),[s,o,l]),r.a.createElement(r.a.Fragment,null,r.a.createElement(hE,{selectedItemsCount:j,filterSelectedHosts:E}),r.a.createElement(F.EuiBasicTable,{"data-test-subj":"hostsView-table-"+(s?"loading":"loaded"),responsiveBreakpoint:"xl",itemId:"id",selection:y,pagination:{pageIndex:null!==(e=b.pageIndex)&&void 0!==e?e:0,pageSize:null!==(t=b.pageSize)&&void 0!==t?t:10,totalItemCount:c.length,pageSizeOptions:Sl},sorting:{sort:{field:f.field,direction:null!==(a=f.direction)&&void 0!==a?a:"asc"}},rowProps:{"data-test-subj":"hostsView-tableRow"},items:d,columns:u,loading:s,onChange:M,noItemsMessage:s?k.i18n.translate("xpack.infra.waffle.loadingDataText",{defaultMessage:"Loading data"}):r.a.createElement(F.EuiEmptyPrompt,{body:k.i18n.translate("xpack.infra.waffle.noDataDescription",{defaultMessage:"Try adjusting your time or filter."}),"data-test-subj":"hostsViewTableNoData",layout:"vertical",title:r.a.createElement("h2",null,k.i18n.translate("xpack.infra.waffle.noDataTitle",{defaultMessage:"There is no data to display."})),hasBorder:!1,titleSize:"m"})}),m&&p&&r.a.createElement(EE,{node:p,closeFlyout:g}))},xE=(e,t)=>{const a=Object(i.useRef)(void 0),[n,r]=Object(i.useState)(t);return a.current&&e===a.current||(a.current=e),Object(i.useEffect)((()=>{e||r(t)}),[a.current]),{afterLoadedState:n}},wE=()=>{var e;const{searchCriteria:t}=Ql(),{hostNodes:a,loading:n,searchSessionId:i}=qj(),{isRequestRunning:s,data:o}=bE(),{metricsView:l}=Object(Y.c)(),u=0===a.length,c=n||s,d=u?[...t.filters,...null!==(e=t.panelFilters)&&void 0!==e?e:[]]:[Ul({field:"host.name",values:a.map((e=>e.name)),dataView:null==l?void 0:l.dataViewReference})],{afterLoadedState:m}=xE(c,{dateRange:t.dateRange,query:u?t.query:void 0,filters:d,searchSessionId:i,getSubtitle:e=>{var a,n;return e.startsWith("max")?t.limit<(null!==(n=null==o?void 0:o.count.value)&&void 0!==n?n:0)?k.i18n.translate("xpack.infra.hostsViewPage.kpi.subtitle.max.limit",{defaultMessage:"Max (of {limit} hosts)",values:{limit:t.limit}}):k.i18n.translate("xpack.infra.hostsViewPage.kpi.subtitle.max",{defaultMessage:"Max"}):t.limit<(null!==(a=null==o?void 0:o.count.value)&&void 0!==a?a:0)?k.i18n.translate("xpack.infra.hostsViewPage.kpi.subtitle.average.limit",{defaultMessage:"Average (of {limit} hosts)",values:{limit:t.limit}}):k.i18n.translate("xpack.infra.hostsViewPage.kpi.subtitle.average",{defaultMessage:"Average"})}});return r.a.createElement(Rm,{dataView:null==l?void 0:l.dataViewReference,dateRange:m.dateRange,filters:m.filters,query:m.query,searchSessionId:m.searchSessionId,getSubtitle:m.getSubtitle,loading:c})},vE=r.a.memo((({color:e,extra:t,id:a,loading:n,value:s,subtitle:o,title:l,toolTip:u,style:c,...d})=>{const m=Object(F.useEuiTheme)(),g=Object(i.useRef)(!1);Object(i.useEffect)((()=>(g.current||n||(g.current=!0),()=>{g.current=!1})),[n]);const p={title:l,subtitle:o,color:e,extra:t,value:s,valueFormatter:e=>e.toString()};return r.a.createElement(F.EuiPanel,J()({},d,{hasShadow:!1,paddingSize:"none","data-test-subj":a}),n&&!g.current?r.a.createElement(qd,{style:c}):r.a.createElement(F.EuiToolTip,{className:"eui-fullWidth",delay:"regular",content:u,anchorClassName:"eui-fullWidth"},r.a.createElement(TE,{size:c,$_css:m.euiTheme.border.radius.medium},r.a.createElement(Re.Settings,{baseTheme:Re.LEGACY_LIGHT_THEME}),r.a.createElement(Re.Metric,{id:a,data:[[p]]}))))}));var TE=an()(Re.Chart).withConfig({displayName:"_StyledChart",componentId:"sc-vrcwq3-0"})([".echMetric{border-radius:",";pointer-events:none;}"],(e=>e.$_css));const SE=()=>{var e,t;const a=Object(g.findInventoryModel)("host"),{data:n,isRequestRunning:i}=bE(),{searchCriteria:s}=Ql(),o=Object(b.useTheme)(),{value:l}=Zl()((()=>a.metrics.getFormulas())),u={id:"hostsViewKPI-hostsCount",color:o.eui.euiColorLightestShade,title:k.i18n.translate("xpack.infra.hostsViewPage.kpi.hostCount.title",{defaultMessage:"Hosts"})},c=s.limit<(null!==(e=null==n?void 0:n.count.value)&&void 0!==e?e:0)?k.i18n.translate("xpack.infra.hostsViewPage.kpi.subtitle.hostCount.limit",{defaultMessage:"Limited to {limit}",values:{limit:s.limit}}):void 0;return r.a.createElement(vE,J()({},u,{style:{height:150},value:null!==(t=null==n?void 0:n.count.value)&&void 0!==t?t:0,subtitle:c,toolTip:r.a.createElement(um,{formula:null==l?void 0:l.hostCount.value,description:Fm.hostCount}),loading:i}))},CE=()=>r.a.createElement(r.a.Fragment,null,r.a.createElement(mm,{type:"metrics"}),r.a.createElement(F.EuiSpacer,{size:"s"}),r.a.createElement(F.EuiFlexGroup,{direction:"row",gutterSize:"s","data-test-subj":"hostsViewKPIGrid"},r.a.createElement(F.EuiFlexItem,null,r.a.createElement(SE,null)),r.a.createElement(wE,null))),NE=({id:e,...t})=>{const{searchCriteria:a}=Ql(),{loading:n,searchSessionId:i}=qj(),{currentPage:s}=lE(),{services:{dataViews:o}}=Object(S.c)(),l=0===s.length,{afterLoadedState:u}=xE(n,{dateRange:a.dateRange,query:l?a.query:void 0,searchSessionId:i}),{value:c=[]}=Zl()((async()=>{var e,n;const i=await Object(qg.b)({dataViewId:null===(e=t.dataset)||void 0===e?void 0:e.index,dataViewsService:o});return l?[...a.filters,...null!==(n=a.panelFilters)&&void 0!==n?n:[]]:[Ul({field:he.c,values:s.map((e=>e.name)),dataView:i.dataViewReference})]}),[s,o,t.dataset,a.filters,a.panelFilters,l]);return r.a.createElement(im,{lensAttributes:t,id:`hostsView-metricChart-${e}`,borderRadius:"m",dateRange:u.dateRange,height:300,loading:n,filters:c,query:u.query,searchSessionId:u.searchSessionId})},DE=()=>{const{metricsView:e}=Object(Y.c)(),t=(({dataViewId:e})=>{const{value:t=[]}=Zl()((async()=>{const t=Object(g.findInventoryModel)("host"),{cpu:a,disk:n,memory:i,network:r}=await t.metrics.getCharts();return[a.xy.cpuUsage,a.xy.normalizedLoad1m,i.xy.memoryUsage,i.xy.memoryFree,n.xy.diskSpaceAvailable,n.xy.diskIORead,n.xy.diskIOWrite,n.xy.diskReadThroughput,n.xy.diskWriteThroughput,r.xy.rx,r.xy.tx].map((t=>({...t,layers:t.layers.map((e=>"series"===e.type?{...e,breakdown:{type:"topValues",field:"host.name",size:Sl.at(-1)}}:e)),...e&&{dataset:{index:e}}})))}),[e]);return t})({dataViewId:null==e?void 0:e.dataViewReference.id});return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.EuiFlexGroup,{gutterSize:"xs",alignItems:"center"},r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(F.EuiText,{size:"xs"},k.i18n.translate("xpack.infra.metricsGrid.learnMoreAboutMetricsTextLabel",{defaultMessage:"Learn more about metrics"}))),r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(hj,null,r.a.createElement(gm,null)))),r.a.createElement(F.EuiSpacer,{size:"s"}),r.a.createElement(F.EuiFlexGrid,{columns:2,gutterSize:"s","data-test-subj":"hostsView-metricChart"},t.map(((e,t)=>r.a.createElement(F.EuiFlexItem,{key:t,grow:!1},r.a.createElement(NE,e))))))};function OE(e){const t=Object(i.useRef)(null),a=Object(i.useRef)(0);return Object(i.useLayoutEffect)((()=>{if(t.current){const e=t.current.clientHeight;a.current<e&&(a.current=e)}})),r.a.createElement("div",J()({},e,{ref:t,style:{minHeight:a.current}}))}const kE=sa()((()=>{const{hostNodes:e}=qj(),{searchCriteria:t}=Ql(),[a,n]=Object(i.useState)("all"),r=Object(i.useMemo)((()=>e.map((e=>e.name))),[e]),s=Object(i.useCallback)((e=>vm({dateRange:t.dateRange,assetIds:r,status:e})),[r,t.dateRange]),o=Object(i.useMemo)((()=>s()),[s,a]),l=Object(i.useMemo)((()=>s(a)),[s,a]);return{alertStatus:a,setAlertStatus:n,alertsEsQuery:o,alertsEsQueryByStatus:l}})),[AE,zE]=kE,FE=()=>{const{services:e}=Object(S.c)(),{featureFlags:t}=wc(),{alertStatus:a,setAlertStatus:n,alertsEsQueryByStatus:i}=zE(),[s,{toggle:o}]=_t(!1),{onSubmit:l,searchCriteria:u}=Ql(),{triggersActionsUi:c}=e,{alertsTableConfigurationRegistry:d,getAlertsStateTable:m}=c;return r.a.createElement(OE,null,r.a.createElement(F.EuiFlexGroup,{direction:"column",gutterSize:"m","data-test-subj":"hostsView-alerts"},r.a.createElement(F.EuiFlexGroup,{justifyContent:"flexStart",alignItems:"center"},r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(Nm,{onChange:n,status:a})),r.a.createElement(F.EuiFlexGroup,{alignItems:"center",justifyContent:"flexEnd",responsive:!1},t.inventoryThresholdAlertRuleEnabled&&r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(km,{onClick:o,"data-test-subj":"infraHostAlertsTabCreateAlertsRuleButton"})),r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(pm,{dateRange:u.dateRange,"data-test-subj":"infraHostAlertsTabAlertsShowAllButton",kuery:`${rr.p}: ${he.d}`})))),r.a.createElement(F.EuiFlexItem,null,r.a.createElement(PE,{alertsQuery:i,dateRange:u.dateRange,onRangeSelection:l})),i&&r.a.createElement(F.EuiFlexItem,null,r.a.createElement(m,{alertsTableConfigurationRegistry:d,configurationId:sr.OBSERVABILITY,featureIds:pr,id:"xpack.infra.hosts.alerts.table",pageSize:10,query:i,showAlertStatusWithFlapping:!0}))),t.inventoryThresholdAlertRuleEnabled&&r.a.createElement(Fn,{nodeType:"host",setVisible:o,visible:s}))},PE=r.a.memo((({alertsQuery:e,dateRange:t,onRangeSelection:a})=>{const{services:n}=Object(S.c)(),i=Object(xm.useSummaryTimeRange)(t),{charts:s,triggersActionsUi:o}=n,{getAlertSummaryWidget:l}=o,u={baseTheme:s.theme.useChartsBaseTheme(),onBrushEnd:e=>{const{x:t}=e;if(t){const[e,n]=t,i=new Date(e).toISOString(),r=new Date(n).toISOString();a({dateRange:{from:i,to:r}})}}};return r.a.createElement(l,{chartProps:u,featureIds:pr,filter:e,fullSize:!0,timeRange:i})}));const RE=e=>{var t,a;const n=null===(t=e.aggregations)||void 0===t?void 0:t.count;return(null!==(a=null==n?void 0:n.buckets)&&void 0!==a?a:[]).reduce(((e,t)=>(t.key===ar?e.activeAlertCount=t.doc_count:t.key===nr&&(e.recoveredAlertCount=t.doc_count),e)),{activeAlertCount:0,recoveredAlertCount:0})},UE=()=>{const{alertsEsQuery:e}=zE(),{alertsCount:t,loading:a,error:n}=function({featureIds:e,query:t}){const{http:a}=Object(A.useKibana)().services,n=Object(i.useRef)(new AbortController),[r,s]=Wj()((()=>(n.current.abort(),n.current=new AbortController,async function({featureIds:e,http:t,query:a,signal:n}){return t.post("/internal/rac/alerts/find",{signal:n,body:JSON.stringify({aggs:{count:{terms:{field:"kibana.alert.status"}}},feature_ids:e,query:a,size:0})}).then(RE)}({featureIds:e,query:t,http:a,signal:n.current.signal}))),[e,t,a],{loading:!0});Object(i.useEffect)((()=>{s()}),[s]);const{value:o,error:l,loading:u}=r;return{alertsCount:o,error:l,loading:u,refetch:s}}({featureIds:pr,query:e});return a?r.a.createElement(F.EuiLoadingSpinner,null):n?r.a.createElement(F.EuiToolTip,{content:k.i18n.translate("xpack.infra.hostsViewPage.tabs.alerts.countError",{defaultMessage:"The active alert count was not retrieved correctly, try reloading the page."})},r.a.createElement(F.EuiIcon,{color:"warning",type:"warning"})):"number"==typeof(null==t?void 0:t.activeAlertCount)&&t.activeAlertCount>0?r.a.createElement(F.EuiBadge,{color:"danger",className:"eui-alignCenter","data-test-subj":"hostsView-tabs-alerts-count"},null==t?void 0:t.activeAlertCount):null},VE=oe.union([oe.literal("alerts"),oe.literal("logs"),oe.literal("metrics")]);let BE=function(e){return e.ALERTS="alerts",e.LOGS="logs",e.METRICS="metrics",e}({});const _E=VE.encode,YE=e=>t=>Object(le.pipe)(VE.decode(t),Object(ue.fold)(Object(ce.constant)(e),ce.identity)),QE={language:"kuery",query:""},GE=oe.type({language:oe.string,query:oe.any}),ZE=GE.encode,WE=()=>{return Object(me.a)({defaultState:QE,decodeUrlState:(e=QE,t=>Object(le.pipe)(GE.decode(t),Object(ue.fold)(Object(ce.constant)(e),ce.identity))),encodeUrlState:ZE,urlStateKey:"logsQuery"});var e},HE=({startTime:e,endTime:t,query:a,logView:n})=>{const{services:i}=Object(S.c)(),{share:s}=i,{logsLocator:o}=Object(zn.getLogsLocatorsFromUrlService)(s.url);return r.a.createElement(F.EuiButtonEmpty,{href:o.getRedirectUrl({time:t,timeRange:{startTime:e,endTime:t},filter:a,logView:n}),"data-test-subj":"hostsView-logs-link-to-stream-button",iconType:"popout",flush:"both"},r.a.createElement(P.FormattedMessage,{id:"xpack.infra.hostsViewPage.tabs.logs.openInLogsUiLinkText",defaultMessage:"Open in Logs"}))},$E=()=>{const[e,t]=WE(),[a,n]=Object(i.useState)(e.query),s=Object(i.useCallback)((e=>{n(e.target.value)}),[]);return Nc()((()=>t({...e,query:a})),1e3,[a]),r.a.createElement(F.EuiFieldSearch,{"data-test-subj":"hostsView-logs-text-field-search",fullWidth:!0,isClearable:!0,placeholder:k.i18n.translate("xpack.infra.hostsViewPage.tabs.logs.textFieldPlaceholder",{defaultMessage:"Search for log entries..."}),onChange:s,value:a})},JE=()=>{const[e]=WE(),{getDateRangeAsTimestamp:t}=Ql(),{from:a,to:n}=Object(i.useMemo)((()=>t()),[t]),{hostNodes:s,loading:o}=qj(),l=Object(i.useMemo)((()=>Ul({field:"host.name",values:s.map((e=>e.name))})),[s]),{logViewReference:u,loading:c}=Wl({id:"hosts-logs-view",name:k.i18n.translate("xpack.infra.hostsViewPage.tabs.logs.LogsByHostWidgetName",{defaultMessage:"Logs by host"}),extraFields:["host.name"]}),d=Object(i.useMemo)((()=>{const t=qE(s.map((e=>e.name)));return e.query&&t?`${e.query} and ${t}`:e.query||t}),[e.query,s]);return o||c||!u?r.a.createElement(F.EuiFlexGroup,{style:{height:300},direction:"column",alignItems:"stretch"},r.a.createElement(F.EuiFlexItem,{grow:!0},r.a.createElement(loading_InfraLoadingPanel,{width:"100%",height:"100%",text:r.a.createElement(P.FormattedMessage,{id:"xpack.infra.hostsViewPage.tabs.logs.loadingEntriesLabel",defaultMessage:"Loading entries"})}))):r.a.createElement(F.EuiFlexGroup,{direction:"column",gutterSize:"m","data-test-subj":"hostsView-logs"},r.a.createElement(F.EuiFlexGroup,{gutterSize:"m",alignItems:"center",responsive:!1},r.a.createElement(F.EuiFlexItem,null,r.a.createElement($E,null)),r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(HE,{startTime:a,endTime:n,query:d,logView:u}))),r.a.createElement(F.EuiFlexItem,null,r.a.createElement(Dc.LogStream,{height:500,logView:u,startTimestamp:a,endTimestamp:n,filters:[l],query:e,showFlyoutAction:!0})))},qE=e=>e.length?`host.name:(${e.join(" or ")})`:"",KE=[{id:BE.METRICS,name:k.i18n.translate("xpack.infra.hostsViewPage.tabs.metricsCharts.title",{defaultMessage:"Metrics"}),"data-test-subj":"hostsView-tabs-metrics"},{id:BE.LOGS,name:k.i18n.translate("xpack.infra.hostsViewPage.tabs.logs.title",{defaultMessage:"Logs"}),"data-test-subj":"hostsView-tabs-logs"},{id:BE.ALERTS,name:k.i18n.translate("xpack.infra.hostsViewPage.tabs.alerts.title",{defaultMessage:"Alerts"}),append:r.a.createElement(UE,null),"data-test-subj":"hostsView-tabs-alerts"}],XE=()=>{const[e,t]=((e=BE.METRICS)=>Object(me.a)({defaultState:e,decodeUrlState:YE(e),encodeUrlState:_E,urlStateKey:"tabId"}))(KE[0].id),a=kr((()=>new Set([e]))),n=KE.map(((n,i)=>r.a.createElement(F.EuiTab,J()({},n,{key:i,onClick:()=>{a.current.add(n.id),t(n.id)},isSelected:n.id===e,append:n.append}),n.name)));return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.EuiTabs,null,n),r.a.createElement(F.EuiSpacer,null),a.current.has(BE.METRICS)&&r.a.createElement("div",{hidden:e!==BE.METRICS},r.a.createElement(DE,null)),a.current.has(BE.LOGS)&&r.a.createElement("div",{hidden:e!==BE.LOGS},r.a.createElement(JE,null)),a.current.has(BE.ALERTS)&&r.a.createElement("div",{hidden:e!==BE.ALERTS},r.a.createElement(FE,null)))},eh=()=>{const{error:e}=Ql();return r.a.createElement(r.a.Fragment,null,e?r.a.createElement(Pt,{error:e,hasDetailsModal:!0}):r.a.createElement(Jj,null,r.a.createElement(oE,null,r.a.createElement(ME,null,r.a.createElement(F.EuiFlexGroup,{direction:"column",gutterSize:"m"},r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(CE,null)),r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(LE,null)),r.a.createElement(F.EuiFlexItem,{grow:!1},r.a.createElement(AE,null,r.a.createElement(XE,null))))))))},th=()=>r.a.createElement(Yl,null,r.a.createElement(Nj,null),r.a.createElement(F.EuiSpacer,{size:"m"}),r.a.createElement(eh,null)),ah=()=>{const{kibanaVersion:e,isCloudEnv:t,isServerlessEnv:a}=Object(S.e)();return Object(b.useTrackPageview)({app:"infra_metrics",path:"hosts"}),Object(b.useTrackPageview)({app:"infra_metrics",path:"hosts",delay:15e3}),Le([{text:Ie.c}]),r.a.createElement(F.EuiErrorBoundary,null,r.a.createElement("div",{className:Xt.APP_WRAPPER_CLASS},r.a.createElement(Ut,{pageHeader:{alignItems:"center",pageTitle:r.a.createElement(nh,null,r.a.createElement("h1",null,Ie.c),r.a.createElement(zb,{tooltipContent:k.i18n.translate("xpack.infra.hostsViewPage.betaBadgeDescription",{defaultMessage:'This feature is currently in beta. If you encounter any bugs or have feedback, we’d love to hear from you. Please open a support issue and/or share your feedback via the "Tell us what you think!" feedback button.'})})),rightSideItems:[r.a.createElement(b.FeatureFeedbackButton,{"data-test-subj":"infraHostsPageTellUsWhatYouThinkButton",formUrl:"https://docs.google.com/forms/d/e/1FAIpQLScRHG8TIVb1Oq8ZhD4aks3P1TmgiM58TY123QpDCcBz83YC6w/viewform",kibanaVersion:e,isCloudEnv:t,isServerlessEnv:a})]},pageSectionProps:{contentProps:{css:ff.a}}},r.a.createElement(th,null))))};var nh=an()("div").withConfig({displayName:"_StyledDiv",componentId:"sc-5cohkg-0"})(["display:flex;align-items:center;gap:0.75rem;"]),ih=a(256);const rh=k.i18n.translate("xpack.infra.metricsHeaderAddDataButtonLabel",{defaultMessage:"Add data"}),sh=()=>{var e;const t=wc(),{application:a,share:n}=Object(A.useKibana)().services,{setHeaderActionMenu:s,theme$:o}=Object(i.useContext)(nj.a),l=Object(A.useUiSetting)(q.enableInfrastructureHostsView),d=null==a?void 0:a.capabilities,m=null==n?void 0:n.url.locators.get(K.b),g=k.i18n.translate("xpack.infra.metrics.settingsTabTitle",{defaultMessage:"Settings"});Object(ee.a)(!(null!=d&&null!==(e=d.infrastructure)&&void 0!==e&&e.save));const p=Object(b.useLinkProps)({app:"metrics",pathname:"settings"});return r.a.createElement(F.EuiErrorBoundary,null,r.a.createElement(uj,null,r.a.createElement(We.a,null,r.a.createElement(zo,null,r.a.createElement(X.a,{feedbackLink:"https://discuss.elastic.co/c/metrics",appName:k.i18n.translate("xpack.infra.header.infrastructureHelpAppName",{defaultMessage:"Metrics"})}),s&&o&&r.a.createElement(b.HeaderMenuPortal,{setHeaderActionMenu:s,theme$:o},r.a.createElement(F.EuiFlexGroup,{responsive:!1,gutterSize:"s"},r.a.createElement(F.EuiFlexItem,null,r.a.createElement(F.EuiHeaderLinks,{gutterSize:"xs"},r.a.createElement(F.EuiHeaderLink,J()({color:"text"},p),g),r.a.createElement(c.b,{path:"/inventory",component:aj}),r.a.createElement(c.b,{path:"/hosts",render:()=>r.a.createElement(aj,{hideJobType:!0,hideSelectGroup:!0})}),r.a.createElement(c.b,{path:"/detail/host",render:()=>r.a.createElement(aj,{hideJobType:!0,hideSelectGroup:!0})}),t.featureFlags.alertsAndRulesDropdownEnabled&&r.a.createElement($y,null),r.a.createElement(F.EuiHeaderLink,{href:null==m?void 0:m.useUrl({category:"infra"}),color:"primary",iconType:"indexOpen"},rh))))),r.a.createElement(u.a,null,r.a.createElement(c.b,{path:"/inventory",component:hf}),t.featureFlags.metricsExplorerEnabled&&r.a.createElement(c.b,{path:"/explorer",component:qt}),r.a.createElement(c.b,{path:"/detail/:type/:node",component:xy}),l&&r.a.createElement(c.b,{path:"/hosts",component:ah}),r.a.createElement(c.b,{path:"/settings",component:Wy}),r.a.createElement(ih.a,{from:"/snapshot",exact:!0,to:"/inventory"}),r.a.createElement(ih.a,{from:"/metrics-explorer",exact:!0,to:"/explorer"}),r.a.createElement(ih.a,{from:"/",exact:!0,to:"/inventory"}),r.a.createElement(c.b,{render:()=>r.a.createElement(ij.a,{title:k.i18n.translate("xpack.infra.header.infrastructureLabel",{defaultMessage:"Infrastructure"})})}))))))};var oh=a(336),lh=a(308);const uh="infraMetricsPage",ch=(e,t,a,n,{element:i,history:s,setHeaderActionMenu:l,theme$:u},c)=>{const m=new d.Storage(window.localStorage);return Object(lh.a)(i,uh),o.a.render(r.a.createElement(dh,{core:e,history:s,plugins:t,pluginStart:a,pluginConfig:n,setHeaderActionMenu:l,storage:m,theme$:u,kibanaEnvironment:c}),i),()=>{t.data.search.session.clear(),e.chrome.docTitle.reset(),o.a.unmountComponentAtNode(i)}},dh=({core:e,history:t,pluginStart:a,pluginConfig:i,plugins:s,setHeaderActionMenu:o,storage:d,theme$:m,kibanaEnvironment:g})=>{var p;const M=e.application.capabilities;return r.a.createElement(oh.b,{core:e,pluginStart:a,plugins:s,theme$:m,kibanaEnvironment:g},r.a.createElement(oh.a,{appName:"Metrics UI",setHeaderActionMenu:o,storage:d,theme$:m,triggersActionsUI:s.triggersActionsUi},r.a.createElement(Y.b,{sourceId:"default"},r.a.createElement(Y.a,null,r.a.createElement(vc,{value:i},r.a.createElement(l.a,{history:t},r.a.createElement(n.a,null,r.a.createElement(u.a,null,r.a.createElement(c.b,{path:"/link-to",component:H}),(null==M||null===(p=M.infrastructure)||void 0===p?void 0:p.show)&&r.a.createElement(c.b,{path:"/",component:sh})))))))))}}}]);