(window.esqlDataGrid_bundle_jsonpfunction=window.esqlDataGrid_bundle_jsonpfunction||[]).push([[2],{59:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n(3),i=n.n(o),a=(n(1),n(21)),r=n.n(a),s=n(2),l=n(0);const u={iconType:"questionInCircle",color:"gray"},d={binary:{iconType:"tokenBinary"},boolean:{iconType:"tokenBoolean"},conflict:{iconType:"warning",color:"euiColorVis9",shape:"square"},date:{iconType:"tokenDate"},date_range:{iconType:"tokenDate"},dense_vector:{iconType:"tokenVectorDense"},geo_point:{iconType:"tokenGeo"},geo_shape:{iconType:"tokenGeo"},ip:{iconType:"tokenIP"},ip_range:{iconType:"tokenIP"},flattened:{iconType:"tokenFlattened"},match_only_text:{iconType:"tokenString"},murmur3:{iconType:"tokenSearchType"},number:{iconType:"tokenNumber"},number_range:{iconType:"tokenNumber"},rank_feature:{iconType:"tokenRankFeature"},rank_features:{iconType:"tokenRankFeatures"},histogram:{iconType:"tokenHistogram"},_source:{iconType:"editorCodeBlock",color:"gray"},point:{iconType:"tokenShape"},shape:{iconType:"tokenShape"},sparse_vector:{iconType:"tokenVectorSparse"},string:{iconType:"tokenString"},text:{iconType:"tokenString"},keyword:{iconType:"tokenKeyword"},gauge:{iconType:"tokenMetricGauge"},counter:{iconType:"tokenMetricCounter"},nested:{iconType:"tokenNested"},version:{iconType:"tokenTag"}};function c({type:e,label:t,size:n="s",scripted:o,className:a,...c}){const f=d[e]||u;return Object(l.jsx)(s.EuiToken,i()({},f,{className:r()("kbnFieldIcon",a),"aria-label":t||e,title:t||e,size:n,fill:o?"dark":void 0},c))}},60:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(61),a=function(){};t.default=function(e,t,n){if(!i.isClient)return[t,a,a];if(!e)throw new Error("useLocalStorage key may not be falsy");var r=n?n.raw?function(e){return e}:n.deserializer:JSON.parse,s=o.useState((function(){try{var o=n?n.raw?String:n.serializer:JSON.stringify,i=localStorage.getItem(e);return null!==i?r(i):(t&&localStorage.setItem(e,o(t)),t)}catch(e){return t}})),l=s[0],u=s[1],d=o.useCallback((function(t){try{var o="function"==typeof t?t(l):t;if(void 0===o)return;var i;i=n?n.raw?"string"==typeof o?o:JSON.stringify(o):n.serializer?n.serializer(o):JSON.stringify(o):JSON.stringify(o),localStorage.setItem(e,i),u(r(i))}catch(e){}}),[e,u]),c=o.useCallback((function(){try{localStorage.removeItem(e),u(void 0)}catch(e){}}),[e,u]);return[l,d,c]}},61:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDeepEqual=t.off=t.on=t.isClient=void 0;var o=n(11).__importDefault(n(62));t.isClient="object"==typeof window,t.on=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e.addEventListener.apply(e,t)},t.off=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e.removeEventListener.apply(e,t)},t.isDeepEqual=o.default},62:function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var o,i,a;if(Array.isArray(t)){if((o=t.length)!=n.length)return!1;for(i=o;0!=i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((o=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=o;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=o;0!=i--;){var r=a[i];if(!("_owner"===r&&t.$$typeof||e(t[r],n[r])))return!1}return!0}return t!=t&&n!=n}},63:function(e,t,n){"use strict";function o(e){return e}function i(e){throw new Error("Called `absurd` function which should be uncallable")}Object.defineProperty(t,"__esModule",{value:!0}),t.bindTo_=t.bind_=t.hole=t.pipe=t.untupled=t.tupled=t.absurd=t.decrement=t.increment=t.tuple=t.flow=t.flip=t.constVoid=t.constUndefined=t.constNull=t.constFalse=t.constTrue=t.constant=t.not=t.unsafeCoerce=t.identity=void 0,t.identity=o,t.unsafeCoerce=o,t.not=function(e){return function(t){return!e(t)}},t.constant=function(e){return function(){return e}},t.constTrue=function(){return!0},t.constFalse=function(){return!1},t.constNull=function(){return null},t.constUndefined=function(){},t.constVoid=function(){},t.flip=function(e){return function(t,n){return e(n,t)}},t.flow=function(e,t,n,o,i,a,r,s,l){switch(arguments.length){case 1:return e;case 2:return function(){return t(e.apply(this,arguments))};case 3:return function(){return n(t(e.apply(this,arguments)))};case 4:return function(){return o(n(t(e.apply(this,arguments))))};case 5:return function(){return i(o(n(t(e.apply(this,arguments)))))};case 6:return function(){return a(i(o(n(t(e.apply(this,arguments))))))};case 7:return function(){return r(a(i(o(n(t(e.apply(this,arguments)))))))};case 8:return function(){return s(r(a(i(o(n(t(e.apply(this,arguments))))))))};case 9:return function(){return l(s(r(a(i(o(n(t(e.apply(this,arguments)))))))))}}},t.tuple=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},t.increment=function(e){return e+1},t.decrement=function(e){return e-1},t.absurd=i,t.tupled=function(e){return function(t){return e.apply(void 0,t)}},t.untupled=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e(t)}},t.pipe=function(e,t,n,o,i,a,r,s,l,u,d,c,f,p,b,h,m,g,v,j){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return n(t(e));case 4:return o(n(t(e)));case 5:return i(o(n(t(e))));case 6:return a(i(o(n(t(e)))));case 7:return r(a(i(o(n(t(e))))));case 8:return s(r(a(i(o(n(t(e)))))));case 9:return l(s(r(a(i(o(n(t(e))))))));case 10:return u(l(s(r(a(i(o(n(t(e)))))))));case 11:return d(u(l(s(r(a(i(o(n(t(e))))))))));case 12:return c(d(u(l(s(r(a(i(o(n(t(e)))))))))));case 13:return f(c(d(u(l(s(r(a(i(o(n(t(e))))))))))));case 14:return p(f(c(d(u(l(s(r(a(i(o(n(t(e)))))))))))));case 15:return b(p(f(c(d(u(l(s(r(a(i(o(n(t(e))))))))))))));case 16:return h(b(p(f(c(d(u(l(s(r(a(i(o(n(t(e)))))))))))))));case 17:return m(h(b(p(f(c(d(u(l(s(r(a(i(o(n(t(e))))))))))))))));case 18:return g(m(h(b(p(f(c(d(u(l(s(r(a(i(o(n(t(e)))))))))))))))));case 19:return v(g(m(h(b(p(f(c(d(u(l(s(r(a(i(o(n(t(e))))))))))))))))));case 20:return j(v(g(m(h(b(p(f(c(d(u(l(s(r(a(i(o(n(t(e)))))))))))))))))))}},t.hole=i,t.bind_=function(e,t,n){var o;return Object.assign({},e,((o={})[t]=n,o))},t.bindTo_=function(e){return function(t){var n;return(n={})[e]=t,n}}},64:function(e,t,n){switch(window.__kbnThemeTag__){case"v8dark":return n(65);case"v8light":return n(67)}},65:function(e,t,n){var o=n(32),i=n(66);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);o(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},66:function(e,t,n){(t=n(33)(!1)).push([e.i,".unifiedDataTableToolbar{padding:8px 8px 4px}.unifiedDataTableToolbarControlButton .euiDataGridToolbarControl{block-size:32px;border:1px solid #343741;border-radius:4px;transition:transform .25s ease-in-out}.unifiedDataTableToolbarControlButton .euiDataGridToolbarControl svg{block-size:16px;inline-size:16px}.unifiedDataTableToolbarControlButton .euiDataGridToolbarControl:active,.unifiedDataTableToolbarControlButton .euiDataGridToolbarControl:focus{background:#0000}.unifiedDataTableToolbarControlButton .euiDataGridToolbarControl:hover{transform:translateY(-1px)}.unifiedDataTableToolbarControlButton .euiDataGridToolbarControl:active{transform:translateY(0)}.unifiedDataTableToolbarControlGroup{align-items:stretch;border-radius:4px;box-shadow:inset 0 0 0 1px #343741;display:inline-flex;flex-direction:row}.unifiedDataTableToolbarControlIconButton .euiButtonIcon{block-size:32px;inline-size:32px}.unifiedDataTableToolbarControlIconButton .euiButtonIcon:active,.unifiedDataTableToolbarControlIconButton .euiButtonIcon:focus,.unifiedDataTableToolbarControlIconButton .euiButtonIcon:hover{animation:none!important;background:#0000;transform:none!important}.unifiedDataTableToolbarControlIconButton+.unifiedDataTableToolbarControlIconButton .euiButtonIcon{border-inline-start:1px solid #343741;border-radius:0}.unifiedDataTableToolbarBottom{position:relative}",""]),e.exports=t},67:function(e,t,n){var o=n(32),i=n(68);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);o(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},68:function(e,t,n){(t=n(33)(!1)).push([e.i,".unifiedDataTableToolbar{padding:8px 8px 4px}.unifiedDataTableToolbarControlButton .euiDataGridToolbarControl{block-size:32px;border:1px solid #d3dae6;border-radius:4px;transition:transform .25s ease-in-out}.unifiedDataTableToolbarControlButton .euiDataGridToolbarControl svg{block-size:16px;inline-size:16px}.unifiedDataTableToolbarControlButton .euiDataGridToolbarControl:active,.unifiedDataTableToolbarControlButton .euiDataGridToolbarControl:focus{background:#0000}.unifiedDataTableToolbarControlButton .euiDataGridToolbarControl:hover{transform:translateY(-1px)}.unifiedDataTableToolbarControlButton .euiDataGridToolbarControl:active{transform:translateY(0)}.unifiedDataTableToolbarControlGroup{align-items:stretch;border-radius:4px;box-shadow:inset 0 0 0 1px #d3dae6;display:inline-flex;flex-direction:row}.unifiedDataTableToolbarControlIconButton .euiButtonIcon{block-size:32px;inline-size:32px}.unifiedDataTableToolbarControlIconButton .euiButtonIcon:active,.unifiedDataTableToolbarControlIconButton .euiButtonIcon:focus,.unifiedDataTableToolbarControlIconButton .euiButtonIcon:hover{animation:none!important;background:#0000;transform:none!important}.unifiedDataTableToolbarControlIconButton+.unifiedDataTableToolbarControlIconButton .euiButtonIcon{border-inline-start:1px solid #d3dae6;border-radius:0}.unifiedDataTableToolbarBottom{position:relative}",""]),e.exports=t},69:function(e,t,n){
/*!

 diff v5.1.0

Software License Agreement (BSD License)

Copyright (c) 2009-2015, Kevin Decker <kpdecker@gmail.com>

All rights reserved.

Redistribution and use of this software in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

* Redistributions of source code must retain the above
  copyright notice, this list of conditions and the
  following disclaimer.

* Redistributions in binary form must reproduce the above
  copyright notice, this list of conditions and the
  following disclaimer in the documentation and/or other
  materials provided with the distribution.

* Neither the name of Kevin Decker nor the names of its
  contributors may be used to endorse or promote products
  derived from this software without specific prior
  written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR
IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER
IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
@license
*/
!function(e){"use strict";function t(){}function n(e,t,n,o,i){for(var a=0,r=t.length,s=0,l=0;a<r;a++){var u=t[a];if(u.removed){if(u.value=e.join(o.slice(l,l+u.count)),l+=u.count,a&&t[a-1].added){var d=t[a-1];t[a-1]=t[a],t[a]=d}}else{if(!u.added&&i){var c=n.slice(s,s+u.count);c=c.map((function(e,t){var n=o[l+t];return n.length>e.length?n:e})),u.value=e.join(c)}else u.value=e.join(n.slice(s,s+u.count));s+=u.count,u.added||(l+=u.count)}}var f=t[r-1];return r>1&&"string"==typeof f.value&&(f.added||f.removed)&&e.equals("",f.value)&&(t[r-2].value+=f.value,t.pop()),t}t.prototype={diff:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=o.callback;"function"==typeof o&&(i=o,o={}),this.options=o;var a=this;function r(e){return i?(setTimeout((function(){i(void 0,e)}),0),!0):e}e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e));var s=(t=this.removeEmpty(this.tokenize(t))).length,l=e.length,u=1,d=s+l;o.maxEditLength&&(d=Math.min(d,o.maxEditLength));var c=[{newPos:-1,components:[]}],f=this.extractCommon(c[0],t,e,0);if(c[0].newPos+1>=s&&f+1>=l)return r([{value:this.join(t),count:t.length}]);function p(){for(var o=-1*u;o<=u;o+=2){var i=void 0,d=c[o-1],f=c[o+1],p=(f?f.newPos:0)-o;d&&(c[o-1]=void 0);var b=d&&d.newPos+1<s,h=f&&0<=p&&p<l;if(b||h){if(!b||h&&d.newPos<f.newPos?(i={newPos:(m=f).newPos,components:m.components.slice(0)},a.pushComponent(i.components,void 0,!0)):((i=d).newPos++,a.pushComponent(i.components,!0,void 0)),p=a.extractCommon(i,t,e,o),i.newPos+1>=s&&p+1>=l)return r(n(a,i.components,t,e,a.useLongestToken));c[o]=i}else c[o]=void 0}var m;u++}if(i)!function e(){setTimeout((function(){if(u>d)return i();p()||e()}),0)}();else for(;u<=d;){var b=p();if(b)return b}},pushComponent:function(e,t,n){var o=e[e.length-1];o&&o.added===t&&o.removed===n?e[e.length-1]={count:o.count+1,added:t,removed:n}:e.push({count:1,added:t,removed:n})},extractCommon:function(e,t,n,o){for(var i=t.length,a=n.length,r=e.newPos,s=r-o,l=0;r+1<i&&s+1<a&&this.equals(t[r+1],n[s+1]);)r++,s++,l++;return l&&e.components.push({count:l}),e.newPos=r,s},equals:function(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty:function(e){for(var t=[],n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t},castInput:function(e){return e},tokenize:function(e){return e.split("")},join:function(e){return e.join("")}};var o=new t;function i(e,t){if("function"==typeof e)t.callback=e;else if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var a=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,r=/\S/,s=new t;s.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!r.test(e)&&!r.test(t)},s.tokenize=function(e){for(var t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),n=0;n<t.length-1;n++)!t[n+1]&&t[n+2]&&a.test(t[n])&&a.test(t[n+2])&&(t[n]+=t[n+2],t.splice(n+1,2),n--);return t};var l=new t;function u(e,t,n){return l.diff(e,t,n)}l.tokenize=function(e){var t=[],n=e.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var o=0;o<n.length;o++){var i=n[o];o%2&&!this.options.newlineIsToken?t[t.length-1]+=i:(this.options.ignoreWhitespace&&(i=i.trim()),t.push(i))}return t};var d=new t;d.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var c=new t;function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}c.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};var h=Object.prototype.toString,m=new t;function g(e,t,n,o,i){var a,r;for(t=t||[],n=n||[],o&&(e=o(i,e)),a=0;a<t.length;a+=1)if(t[a]===e)return n[a];if("[object Array]"===h.call(e)){for(t.push(e),r=new Array(e.length),n.push(r),a=0;a<e.length;a+=1)r[a]=g(e[a],t,n,o,i);return t.pop(),n.pop(),r}if(e&&e.toJSON&&(e=e.toJSON()),"object"===f(e)&&null!==e){t.push(e),r={},n.push(r);var s,l=[];for(s in e)e.hasOwnProperty(s)&&l.push(s);for(l.sort(),a=0;a<l.length;a+=1)r[s=l[a]]=g(e[s],t,n,o,s);t.pop(),n.pop()}else r=e;return r}m.useLongestToken=!0,m.tokenize=l.tokenize,m.castInput=function(e){var t=this.options,n=t.undefinedReplacement,o=t.stringifyReplacer,i=void 0===o?function(e,t){return void 0===t?n:t}:o;return"string"==typeof e?e:JSON.stringify(g(e,null,null,i),i,"  ")},m.equals=function(e,n){return t.prototype.equals.call(m,e.replace(/,([\r\n])/g,"$1"),n.replace(/,([\r\n])/g,"$1"))};var v=new t;function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.split(/\r\n|[\n\v\f\r\x85]/),o=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],i=[],a=0;function r(){var e={};for(i.push(e);a<n.length;){var o=n[a];if(/^(\-\-\-|\+\+\+|@@)\s/.test(o))break;var r=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(o);r&&(e.index=r[1]),a++}for(s(e),s(e),e.hunks=[];a<n.length;){var u=n[a];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(u))break;if(/^@@/.test(u))e.hunks.push(l());else{if(u&&t.strict)throw new Error("Unknown line "+(a+1)+" "+JSON.stringify(u));a++}}}function s(e){var t=/^(---|\+\+\+)\s+(.*)$/.exec(n[a]);if(t){var o="---"===t[1]?"old":"new",i=t[2].split("\t",2),r=i[0].replace(/\\\\/g,"\\");/^".*"$/.test(r)&&(r=r.substr(1,r.length-2)),e[o+"FileName"]=r,e[o+"Header"]=(i[1]||"").trim(),a++}}function l(){var e=a,i=n[a++].split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),r={oldStart:+i[1],oldLines:void 0===i[2]?1:+i[2],newStart:+i[3],newLines:void 0===i[4]?1:+i[4],lines:[],linedelimiters:[]};0===r.oldLines&&(r.oldStart+=1),0===r.newLines&&(r.newStart+=1);for(var s=0,l=0;a<n.length&&!(0===n[a].indexOf("--- ")&&a+2<n.length&&0===n[a+1].indexOf("+++ ")&&0===n[a+2].indexOf("@@"));a++){var u=0==n[a].length&&a!=n.length-1?" ":n[a][0];if("+"!==u&&"-"!==u&&" "!==u&&"\\"!==u)break;r.lines.push(n[a]),r.linedelimiters.push(o[a]||"\n"),"+"===u?s++:"-"===u?l++:" "===u&&(s++,l++)}if(s||1!==r.newLines||(r.newLines=0),l||1!==r.oldLines||(r.oldLines=0),t.strict){if(s!==r.newLines)throw new Error("Added line count did not match for hunk at line "+(e+1));if(l!==r.oldLines)throw new Error("Removed line count did not match for hunk at line "+(e+1))}return r}for(;a<n.length;)r();return i}function w(e,t,n){var o=!0,i=!1,a=!1,r=1;return function s(){if(o&&!a){if(i?r++:o=!1,e+r<=n)return r;a=!0}if(!i)return a||(o=!0),t<=e-r?-r++:(i=!0,s())}}function x(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof t&&(t=j(t)),Array.isArray(t)){if(t.length>1)throw new Error("applyPatch only works with a single input.");t=t[0]}var o,i,a=e.split(/\r\n|[\n\v\f\r\x85]/),r=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],s=t.hunks,l=n.compareLine||function(e,t,n,o){return t===o},u=0,d=n.fuzzFactor||0,c=0,f=0;function p(e,t){for(var n=0;n<e.lines.length;n++){var o=e.lines[n],i=o.length>0?o[0]:" ",r=o.length>0?o.substr(1):o;if(" "===i||"-"===i){if(!l(t+1,a[t],i,r)&&++u>d)return!1;t++}}return!0}for(var b=0;b<s.length;b++){for(var h=s[b],m=a.length-h.oldLines,g=0,v=f+h.oldStart-1,x=w(v,c,m);void 0!==g;g=x())if(p(h,v+g)){h.offset=f+=g;break}if(void 0===g)return!1;c=h.offset+h.oldStart+h.oldLines}for(var T=0,D=0;D<s.length;D++){var y=s[D],O=y.oldStart+y.offset+T-1;T+=y.newLines-y.oldLines;for(var C=0;C<y.lines.length;C++){var F=y.lines[C],S=F.length>0?F[0]:" ",M=F.length>0?F.substr(1):F,k=y.linedelimiters[C];if(" "===S)O++;else if("-"===S)a.splice(O,1),r.splice(O,1);else if("+"===S)a.splice(O,0,M),r.splice(O,0,k),O++;else if("\\"===S){var I=y.lines[C-1]?y.lines[C-1][0]:null;"+"===I?o=!0:"-"===I&&(i=!0)}}}if(o)for(;!a[a.length-1];)a.pop(),r.pop();else i&&(a.push(""),r.push("\n"));for(var N=0;N<a.length-1;N++)a[N]=a[N]+r[N];return a.join("")}function T(e,t,n,o,i,a,r){r||(r={}),void 0===r.context&&(r.context=4);var s=u(n,o,r);if(s){s.push({value:"",lines:[]});for(var l=[],d=0,c=0,f=[],b=1,h=1,m=function(e){var t=s[e],i=t.lines||t.value.replace(/\n$/,"").split("\n");if(t.lines=i,t.added||t.removed){var a;if(!d){var u=s[e-1];d=b,c=h,u&&(f=r.context>0?v(u.lines.slice(-r.context)):[],d-=f.length,c-=f.length)}(a=f).push.apply(a,p(i.map((function(e){return(t.added?"+":"-")+e})))),t.added?h+=i.length:b+=i.length}else{if(d)if(i.length<=2*r.context&&e<s.length-2){var m;(m=f).push.apply(m,p(v(i)))}else{var g,j=Math.min(i.length,r.context);(g=f).push.apply(g,p(v(i.slice(0,j))));var w={oldStart:d,oldLines:b-d+j,newStart:c,newLines:h-c+j,lines:f};if(e>=s.length-2&&i.length<=r.context){var x=/\n$/.test(n),T=/\n$/.test(o),D=0==i.length&&f.length>w.oldLines;!x&&D&&n.length>0&&f.splice(w.oldLines,0,"\\ No newline at end of file"),(x||D)&&T||f.push("\\ No newline at end of file")}l.push(w),d=0,c=0,f=[]}b+=i.length,h+=i.length}},g=0;g<s.length;g++)m(g);return{oldFileName:e,newFileName:t,oldHeader:i,newHeader:a,hunks:l}}function v(e){return e.map((function(e){return" "+e}))}}function D(e,t,n,o,i,a,r){return function(e){var t=[];e.oldFileName==e.newFileName&&t.push("Index: "+e.oldFileName),t.push("==================================================================="),t.push("--- "+e.oldFileName+(void 0===e.oldHeader?"":"\t"+e.oldHeader)),t.push("+++ "+e.newFileName+(void 0===e.newHeader?"":"\t"+e.newHeader));for(var n=0;n<e.hunks.length;n++){var o=e.hunks[n];0===o.oldLines&&(o.oldStart-=1),0===o.newLines&&(o.newStart-=1),t.push("@@ -"+o.oldStart+","+o.oldLines+" +"+o.newStart+","+o.newLines+" @@"),t.push.apply(t,o.lines)}return t.join("\n")+"\n"}(T(e,t,n,o,i,a,r))}function y(e,t){if(t.length>e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function O(e){var t=A(e.lines),n=t.oldLines,o=t.newLines;void 0!==n?e.oldLines=n:delete e.oldLines,void 0!==o?e.newLines=o:delete e.newLines}function C(e,t){if("string"==typeof e){if(/^@@/m.test(e)||/^Index:/m.test(e))return j(e)[0];if(!t)throw new Error("Must provide a base reference or pass in a patch");return T(void 0,void 0,t,e)}return e}function F(e){return e.newFileName&&e.newFileName!==e.oldFileName}function S(e,t,n){return t===n?t:(e.conflict=!0,{mine:t,theirs:n})}function M(e,t){return e.oldStart<t.oldStart&&e.oldStart+e.oldLines<t.oldStart}function k(e,t){return{oldStart:e.oldStart,oldLines:e.oldLines,newStart:e.newStart+t,newLines:e.newLines,lines:e.lines}}function I(e,t,n,o,i){var a={offset:t,lines:n,index:0},r={offset:o,lines:i,index:0};for(L(e,a,r),L(e,r,a);a.index<a.lines.length&&r.index<r.lines.length;){var s=a.lines[a.index],l=r.lines[r.index];if("-"!==s[0]&&"+"!==s[0]||"-"!==l[0]&&"+"!==l[0])if("+"===s[0]&&" "===l[0]){var u;(u=e.lines).push.apply(u,p(_(a)))}else if("+"===l[0]&&" "===s[0]){var d;(d=e.lines).push.apply(d,p(_(r)))}else"-"===s[0]&&" "===l[0]?E(e,a,r):"-"===l[0]&&" "===s[0]?E(e,r,a,!0):s===l?(e.lines.push(s),a.index++,r.index++):B(e,_(a),_(r));else N(e,a,r)}z(e,a),z(e,r),O(e)}function N(e,t,n){var o,i,a=_(t),r=_(n);if(P(a)&&P(r)){var s,l;if(y(a,r)&&G(n,a,a.length-r.length))return void(s=e.lines).push.apply(s,p(a));if(y(r,a)&&G(t,r,r.length-a.length))return void(l=e.lines).push.apply(l,p(r))}else if(i=r,(o=a).length===i.length&&y(o,i)){var u;return void(u=e.lines).push.apply(u,p(a))}B(e,a,r)}function E(e,t,n,o){var i,a=_(t),r=function(e,t){for(var n=[],o=[],i=0,a=!1,r=!1;i<t.length&&e.index<e.lines.length;){var s=e.lines[e.index],l=t[i];if("+"===l[0])break;if(a=a||" "!==s[0],o.push(l),i++,"+"===s[0])for(r=!0;"+"===s[0];)n.push(s),s=e.lines[++e.index];l.substr(1)===s.substr(1)?(n.push(s),e.index++):r=!0}if("+"===(t[i]||"")[0]&&a&&(r=!0),r)return n;for(;i<t.length;)o.push(t[i++]);return{merged:o,changes:n}}(n,a);r.merged?(i=e.lines).push.apply(i,p(r.merged)):B(e,o?r:a,o?a:r)}function B(e,t,n){e.conflict=!0,e.lines.push({conflict:!0,mine:t,theirs:n})}function L(e,t,n){for(;t.offset<n.offset&&t.index<t.lines.length;){var o=t.lines[t.index++];e.lines.push(o),t.offset++}}function z(e,t){for(;t.index<t.lines.length;){var n=t.lines[t.index++];e.lines.push(n)}}function _(e){for(var t=[],n=e.lines[e.index][0];e.index<e.lines.length;){var o=e.lines[e.index];if("-"===n&&"+"===o[0]&&(n="+"),n!==o[0])break;t.push(o),e.index++}return t}function P(e){return e.reduce((function(e,t){return e&&"-"===t[0]}),!0)}function G(e,t,n){for(var o=0;o<n;o++){var i=t[t.length-n+o].substr(1);if(e.lines[e.index+o]!==" "+i)return!1}return e.index+=n,!0}function A(e){var t=0,n=0;return e.forEach((function(e){if("string"!=typeof e){var o=A(e.mine),i=A(e.theirs);void 0!==t&&(o.oldLines===i.oldLines?t+=o.oldLines:t=void 0),void 0!==n&&(o.newLines===i.newLines?n+=o.newLines:n=void 0)}else void 0===n||"+"!==e[0]&&" "!==e[0]||n++,void 0===t||"-"!==e[0]&&" "!==e[0]||t++})),{oldLines:t,newLines:n}}v.tokenize=function(e){return e.slice()},v.join=v.removeEmpty=function(e){return e},e.Diff=t,e.applyPatch=x,e.applyPatches=function(e,t){"string"==typeof e&&(e=j(e));var n=0;!function o(){var i=e[n++];if(!i)return t.complete();t.loadFile(i,(function(e,n){if(e)return t.complete(e);var a=x(n,i,t);t.patched(i,a,(function(e){if(e)return t.complete(e);o()}))}))}()},e.canonicalize=g,e.convertChangesToDMP=function(e){for(var t,n,o=[],i=0;i<e.length;i++)n=(t=e[i]).added?1:t.removed?-1:0,o.push([n,t.value]);return o},e.convertChangesToXML=function(e){for(var t=[],n=0;n<e.length;n++){var o=e[n];o.added?t.push("<ins>"):o.removed&&t.push("<del>"),t.push((i=o.value,i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"))),o.added?t.push("</ins>"):o.removed&&t.push("</del>")}var i;return t.join("")},e.createPatch=function(e,t,n,o,i,a){return D(e,e,t,n,o,i,a)},e.createTwoFilesPatch=D,e.diffArrays=function(e,t,n){return v.diff(e,t,n)},e.diffChars=function(e,t,n){return o.diff(e,t,n)},e.diffCss=function(e,t,n){return c.diff(e,t,n)},e.diffJson=function(e,t,n){return m.diff(e,t,n)},e.diffLines=u,e.diffSentences=function(e,t,n){return d.diff(e,t,n)},e.diffTrimmedLines=function(e,t,n){var o=i(n,{ignoreWhitespace:!0});return l.diff(e,t,o)},e.diffWords=function(e,t,n){return n=i(n,{ignoreWhitespace:!0}),s.diff(e,t,n)},e.diffWordsWithSpace=function(e,t,n){return s.diff(e,t,n)},e.merge=function(e,t,n){e=C(e,n),t=C(t,n);var o={};(e.index||t.index)&&(o.index=e.index||t.index),(e.newFileName||t.newFileName)&&(F(e)?F(t)?(o.oldFileName=S(o,e.oldFileName,t.oldFileName),o.newFileName=S(o,e.newFileName,t.newFileName),o.oldHeader=S(o,e.oldHeader,t.oldHeader),o.newHeader=S(o,e.newHeader,t.newHeader)):(o.oldFileName=e.oldFileName,o.newFileName=e.newFileName,o.oldHeader=e.oldHeader,o.newHeader=e.newHeader):(o.oldFileName=t.oldFileName||e.oldFileName,o.newFileName=t.newFileName||e.newFileName,o.oldHeader=t.oldHeader||e.oldHeader,o.newHeader=t.newHeader||e.newHeader)),o.hunks=[];for(var i=0,a=0,r=0,s=0;i<e.hunks.length||a<t.hunks.length;){var l=e.hunks[i]||{oldStart:1/0},u=t.hunks[a]||{oldStart:1/0};if(M(l,u))o.hunks.push(k(l,r)),i++,s+=l.newLines-l.oldLines;else if(M(u,l))o.hunks.push(k(u,s)),a++,r+=u.newLines-u.oldLines;else{var d={oldStart:Math.min(l.oldStart,u.oldStart),oldLines:0,newStart:Math.min(l.newStart+r,u.oldStart+s),newLines:0,lines:[]};I(d,l.oldStart,l.lines,u.oldStart,u.lines),a++,i++,o.hunks.push(d)}}return o},e.parsePatch=j,e.structuredPatch=T,Object.defineProperty(e,"__esModule",{value:!0})}(t)},74:function(e,t,n){"use strict";n.r(t);var o=n(2),i=n(10),a=n(1),r=n.n(a),s=n(60),l=n.n(s),u=n(31),d=n(0),c=n(4),f=n(20);const p=({isPlainRecord:e,selectedDocs:t,showDiff:n,diffMode:i,showDiffDecorations:a,showMatchingValues:r,showAllFields:s,forceShowAllFields:l,setIsCompareActive:u,setShowDiff:c,setDiffMode:p,setShowDiffDecorations:b,setShowMatchingValues:h,setShowAllFields:g})=>{const{euiTheme:v}=Object(o.useEuiTheme)();return Object(d.jsx)(o.EuiFlexGroup,{responsive:!1,wrap:!0,gutterSize:"s",alignItems:"center"},Object(d.jsx)(o.EuiFlexItem,{grow:!1,css:Object(d.css)({marginRight:v.size.s},"","")},Object(d.jsx)(o.EuiText,{size:"s"},Object(d.jsx)("strong",{"data-test-subj":"unifiedDataTableComparisonDisplay"},e?Object(d.jsx)(f.FormattedMessage,{id:"unifiedDataTable.comparingResults",defaultMessage:"Comparing {documentCount} results",values:{documentCount:t.length}}):Object(d.jsx)(f.FormattedMessage,{id:"unifiedDataTable.comparingDocuments",defaultMessage:"Comparing {documentCount} documents",values:{documentCount:t.length}})))),Object(d.jsx)(o.EuiFlexItem,{grow:!1},Object(d.jsx)(m,{showDiff:n,diffMode:i,showDiffDecorations:a,showMatchingValues:r,showAllFields:s,forceShowAllFields:l,setShowDiff:c,setDiffMode:p,setShowDiffDecorations:b,setShowMatchingValues:h,setShowAllFields:g})),Object(d.jsx)(o.EuiFlexItem,{grow:!1},Object(d.jsx)("div",{className:"unifiedDataTableToolbarControlButton"},Object(d.jsx)(o.EuiDataGridToolbarControl,{iconType:"exit",onClick:()=>{u(!1)},"data-test-subj":"unifiedDataTableExitDocumentComparison"},Object(d.jsx)(f.FormattedMessage,{id:"unifiedDataTable.exitDocumentComparison",defaultMessage:"Exit comparison mode"})))))},b=c.i18n.translate("unifiedDataTable.showDiff",{defaultMessage:"Show diff"});var h={name:"1w34neu",styles:".euiContextMenuItem__text{overflow:visible;}"};const m=({showDiff:e,diffMode:t,showDiffDecorations:n,showMatchingValues:i,showAllFields:r,forceShowAllFields:s,setShowDiff:l,setDiffMode:u,setShowDiffDecorations:p,setShowMatchingValues:m,setShowAllFields:g})=>{const[j,x]=Object(a.useState)(!1);return Object(d.jsx)(o.EuiPopover,{button:Object(d.jsx)("div",{className:"unifiedDataTableToolbarControlButton"},Object(d.jsx)(o.EuiDataGridToolbarControl,{iconType:"gear",onClick:()=>{x(!j)},"data-test-subj":"unifiedDataTableComparisonSettings"},Object(d.jsx)(f.FormattedMessage,{id:"unifiedDataTable.comparisonSettings",defaultMessage:"Comparison settings"}))),isOpen:j,closePopover:()=>{x(!1)},panelPaddingSize:"none",anchorPosition:"downCenter"},Object(d.jsx)(o.EuiContextMenuPanel,{size:"s","data-test-subj":"unifiedDataTableComparisonSettingsMenu",css:h},Object(d.jsx)(v,{title:b,append:Object(d.jsx)(o.EuiSwitch,{label:b,showLabel:!1,checked:Boolean(e),compressed:!0,onChange:e=>{l(e.target.checked)},"data-test-subj":"unifiedDataTableShowDiffSwitch"})}),Object(d.jsx)(v,{title:Object(d.jsx)(f.FormattedMessage,{id:"unifiedDataTable.diffModesBasic",defaultMessage:"Basic"}),type:"subsection"}),Object(d.jsx)(w,{entryDiffMode:"basic",diffMode:t,setDiffMode:u,disabled:!e},Object(d.jsx)(f.FormattedMessage,{id:"unifiedDataTable.diffModeFullValue",defaultMessage:"Full value"})),Object(d.jsx)(v,{title:Object(d.jsx)(f.FormattedMessage,{id:"unifiedDataTable.diffModesAdvanced",defaultMessage:"Advanced"}),description:Object(d.jsx)(f.FormattedMessage,{id:"unifiedDataTable.advancedDiffModesTooltip",defaultMessage:"Advanced modes offer enhanced diffing capabilities, but operate on raw documents and therefore do not support field formatting."}),type:"subsection",noPadding:!0}),Object(d.jsx)(w,{entryDiffMode:"chars",diffMode:t,setDiffMode:u,disabled:!e},Object(d.jsx)(f.FormattedMessage,{id:"unifiedDataTable.diffModeChars",defaultMessage:"By character"})),Object(d.jsx)(w,{entryDiffMode:"words",diffMode:t,setDiffMode:u,disabled:!e},Object(d.jsx)(f.FormattedMessage,{id:"unifiedDataTable.diffModeWords",defaultMessage:"By word"})),Object(d.jsx)(w,{entryDiffMode:"lines",diffMode:t,setDiffMode:u,disabled:!e},Object(d.jsx)(f.FormattedMessage,{id:"unifiedDataTable.diffModeLines",defaultMessage:"By line"})),Object(d.jsx)(o.EuiHorizontalRule,{margin:"none"}),Object(d.jsx)(v,{title:Object(d.jsx)(f.FormattedMessage,{id:"unifiedDataTable.diffOptions",defaultMessage:"Options"})}),!s&&Object(d.jsx)(T,{label:c.i18n.translate("unifiedDataTable.showAllFields",{defaultMessage:"Show full field list"}),description:c.i18n.translate("unifiedDataTable.showAllFieldsDescription",{defaultMessage:"Show all available fields if enabled, otherwise only fields with columns in the main table."}),checked:null!=r&&r,onChange:e=>{g(e.target.checked)},"data-test-subj":"showAllFields",itemCss:{paddingBottom:0}}),Object(d.jsx)(T,{label:c.i18n.translate("unifiedDataTable.showMatchingValues",{defaultMessage:"Show matching fields"}),description:c.i18n.translate("unifiedDataTable.showMatchingValuesDescription",{defaultMessage:"Show fields where all values are equal if enabled, otherwise only fields with differences."}),checked:null==i||i,onChange:e=>{m(e.target.checked)},"data-test-subj":"showMatchingValues",itemCss:{paddingBottom:0}}),Object(d.jsx)(T,{label:c.i18n.translate("unifiedDataTable.showDiffDecorations",{defaultMessage:"Show diff decorations"}),description:c.i18n.translate("unifiedDataTable.showDiffDecorationsDescription",{defaultMessage:"Show text decorations in diffs if enabled, otherwise only use highlighting."}),checked:null==n||n,disabled:!e,"data-test-subj":"showDiffDecorations",onChange:e=>{p(e.target.checked)}})))};var g={name:"1amee4m",styles:"line-height:0"};const v=({title:e,description:t,type:n="section",noPadding:i,append:a})=>{const{euiTheme:r}=Object(o.useEuiTheme)(),s="section"===n?"xxs":"xxxs",l="section"===n?"h3":"h4";return Object(d.jsx)(o.EuiContextMenuItem,{size:"s",css:[i&&{paddingTop:0},"padding-bottom:0;","subsection"===n&&{paddingLeft:`calc(${r.size.m} + ${r.size.xxs})`},"",""]},Object(d.jsx)(o.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center",responsive:!1},Object(d.jsx)(o.EuiFlexGroup,{gutterSize:"xs",alignItems:"center",responsive:!1},Object(d.jsx)(o.EuiFlexItem,{grow:!1},Object(d.jsx)(o.EuiTitle,{size:s},Object(d.jsx)(l,null,e))),t&&Object(d.jsx)(o.EuiFlexItem,{grow:!1,css:g},Object(d.jsx)(o.EuiIconTip,{type:"questionInCircle",position:"right",content:t}))),a&&Object(d.jsx)(o.EuiFlexItem,{grow:!1},a)))},j=c.i18n.translate("unifiedDataTable.enableShowDiff",{defaultMessage:"You need to enable Show diff"}),w=({children:e,entryDiffMode:t,diffMode:n,disabled:i,setDiffMode:a})=>{const{euiTheme:r}=Object(o.useEuiTheme)();return Object(d.jsx)(o.EuiContextMenuItem,{key:t,icon:n===t?"check":"empty",size:"s","aria-current":n===t,disabled:i,toolTipContent:i?j:void 0,onClick:()=>{a(t)},"data-test-subj":`unifiedDataTableDiffMode-${t}`,css:Object(d.css)({paddingLeft:`calc(${r.size.m} + ${r.size.xxs})`},"","")},e)};var x={name:"1amee4m",styles:"line-height:0"};const T=({label:e,description:t,checked:n,disabled:i,onChange:a,"data-test-subj":r,itemCss:s})=>Object(d.jsx)(o.EuiContextMenuItem,{size:"s",disabled:i,toolTipContent:i?j:void 0,css:s},Object(d.jsx)(o.EuiFlexGroup,{gutterSize:"xs",alignItems:"center",responsive:!1},Object(d.jsx)(o.EuiFlexItem,{grow:!1},Object(d.jsx)(o.EuiSwitch,{label:e,checked:n,compressed:!0,disabled:i,onChange:a,"data-test-subj":`unifiedDataTableDiffOptionSwitch-${r}`})),t&&Object(d.jsx)(o.EuiFlexItem,{grow:!1,css:x},Object(d.jsx)(o.EuiIconTip,{type:"questionInCircle",position:"right",content:t,iconProps:i?{tabIndex:-1}:void 0}))));n(64);var D=n(3),y=n.n(D),O=n(53),C=n(41),F=n(59),S=n(63);const M=({fields:e,additionalFieldGroups:t})=>null!=t&&t.smartFields?{fields:e.flatMap((e=>{var n,o;return t.smartFields.find((t=>t.name===e))?null!==(n=null===(o=t.fallbackFields)||void 0===o?void 0:o[e])&&void 0!==n?n:[]:[e]})),additionalFieldGroups:t}:{fields:e,additionalFieldGroups:t},k=function(e,t={}){const n=r.a.lazy(e);return r.a.forwardRef(((e,o)=>{var i;return Object(d.jsx)(a.Suspense,{fallback:null!==(i=t.fallback)&&void 0!==i?i:null},r.a.createElement(n,{...e,ref:o}))}))}((()=>n.e(4).then(n.bind(null,72))));var I=n(21),N=n.n(I),E=n(38),B=n(69);const L=({diffMode:e,baseValue:t,comparisonValue:n})=>{const o=null!=t&&null!=n&&(_(t)&&!_(n)||!_(t)&&_(n)),{value:i,isJson:a}=z(t,o),{value:r,isJson:s}=z(n,o);return"chars"===e?Object(B.diffChars)(i,r):"words"===e?Object(B.diffWords)(i,r,{ignoreWhitespace:!1}):a&&s?Object(B.diffJson)(i,r,{ignoreWhitespace:!1}):Object(B.diffLines)(i,r,{ignoreWhitespace:!1})},z=(e,t)=>{const n=!t&&_(e)?e[0]:e;return null==e||!t&&"object"!=typeof n?{value:String(null!=n?n:""),isJson:!1}:{value:JSON.stringify(n,null,2),isJson:!0}},_=e=>Array.isArray(e)&&1===e.length,P="unifiedDataTable__comparisonFieldName",G="unifiedDataTable__comparisonBaseDocCell",A="unifiedDataTable__comparisonMatchCell",V="unifiedDataTable__comparisonDiffCell",H="unifiedDataTable__comparisonSegment",R="unifiedDataTable__comparisonAddedSegment",$="unifiedDataTable__comparisonRemovedSegment",q=e=>{const{dataView:t,comparisonFields:n,fieldColumnId:o,rowIndex:i,columnId:r,getDocById:s,additionalFieldGroups:l}=e,u=n[i],c=Object(a.useMemo)((()=>t.fields.getByName(u)),[t.fields,u]),f=Object(a.useMemo)((()=>s(r)),[r,s]),p=Object(a.useMemo)((()=>(e=>{var t;return Object.entries(null!==(t=null==e?void 0:e.fallbackFields)&&void 0!==t?t:{}).flatMap((([e,t])=>t))})(l)),[l]);return r===o?Object(d.jsx)(J,{field:c,fieldName:u,additionalFieldGroups:l,allFallbackFields:p}):f?Object(d.jsx)(W,y()({},e,{field:c,fieldName:u,comparisonDoc:f})):Object(d.jsx)("span",{className:E.a},"-")},J=({field:e,fieldName:t,additionalFieldGroups:n,allFallbackFields:i})=>{var s;const l=i.includes(t),u=Object(a.useMemo)((()=>l?((e,t,n=", ")=>((e,t)=>{var n;return Object.entries(null!==(n=null==t?void 0:t.fallbackFields)&&void 0!==n?n:{}).reduce(((t,[n,o])=>(o.includes(e)&&t.push(n),t)),[])})(e,t).join(n))(t,n):""),[l,t,n]);return Object(d.jsx)(o.EuiFlexGroup,{responsive:!1,gutterSize:"s"},e&&Object(d.jsx)(o.EuiFlexItem,{grow:!1},Object(d.jsx)(F.a,Object(C.a)(e))),Object(d.jsx)(o.EuiFlexItem,null,Object(d.jsx)(o.EuiText,{size:"relative",className:P,"data-test-subj":"unifiedDataTableComparisonFieldName"},null!==(s=null==e?void 0:e.displayName)&&void 0!==s?s:t,l?Object(d.jsx)(r.a.Fragment,null," ",Object(d.jsx)(k,{associatedSmartFields:u})):null)))},W=({dataView:e,field:t,fieldName:n,baseDocId:o,baseDoc:r,comparisonDoc:s,diffMode:l,columnId:u,fieldFormats:c,setCellProps:f})=>{const p=null==r?void 0:r[n],b=null==s?void 0:s.flattened[n],h=u===o,m=Object(a.useMemo)((()=>h?z(p,!1).value:void 0),[p,h]);return Object(a.useEffect)((()=>{h?f({className:G}):"basic"!==l?f({className:void 0}):Object(i.isEqual)(p,b)?f({className:A}):f({className:V})}),[p,u,b,o,l,f,h]),l&&"basic"!==l?m?Object(d.jsx)("span",{className:E.a},m||"-"):Object(d.jsx)(Y,{baseValue:p,comparisonValue:b,diffMode:l}):Object(d.jsx)("span",{className:E.a,dangerouslySetInnerHTML:{__html:Object(O.a)(b,s.raw,c,e,t)}})},Y=({diffMode:e,...t})=>{const n=X({diffMode:e,...t}),o="lines"===e?"div":"span";return Object(d.jsx)("span",{className:E.a},n.map(((e,t)=>Object(d.jsx)(o,{key:`segment-${t}`,className:N()(H,{[R]:e.added,[$]:e.removed})},e.value||"-"))))},U=Object(a.createContext)(L),K=U.Provider,X=e=>Object(a.useContext)(U)(e),Z=c.i18n.translate("unifiedDataTable.fieldColumnTitle",{defaultMessage:"Field"}),Q={defaultHeight:"auto"},ee={level:"sorting"},te={...u.b,stripes:void 0},ne=(e,t)=>`${e}:dataGridComparison${t}`;t.default=({id:e,wrapper:t,consumer:n,ariaDescribedBy:s,ariaLabelledBy:u,dataView:f,isPlainRecord:b,selectedFieldNames:h,additionalFieldGroups:m,selectedDocs:g,schemaDetectors:v,forceShowAllFields:j,showFullScreenButton:w,fieldFormats:x,getDocById:T,setSelectedDocs:D,setIsCompareActive:O})=>{const[C]=Object(a.useState)((()=>Object(i.memoize)(T))),[F,k]=l()(ne(n,"ShowDiff"),!0),[I,N]=l()(ne(n,"DiffMode"),"basic"),[B,z]=l()(ne(n,"ShowDiffDecorations"),!0),[_,J]=l()(ne(n,"ShowAllFields"),!1),[W,Y]=l()(ne(n,"ShowMatchingValues"),!0),U=Object(o.useGeneratedHtmlId)({prefix:"fields"}),{comparisonFields:X,totalFields:oe}=(({dataView:e,selectedFieldNames:t,selectedDocs:n,showAllFields:o,showMatchingValues:r,getDocById:s,additionalFieldGroups:l})=>{const{baseDoc:u,comparisonDocs:d}=Object(a.useMemo)((()=>{const[e,...t]=n;return{baseDoc:s(e),comparisonDocs:t.map((e=>s(e))).filter((e=>Boolean(e)))}}),[s,n]);return Object(a.useMemo)((()=>{let n=(e=>{const t=Object(S.pipe)(e,M);return Object(i.uniq)(t.fields)})({fields:t,additionalFieldGroups:l});if(o){const t=e.fields.filter((t=>t.name!==e.timeFieldName&&(null!=(null==u?void 0:u.flattened[t.name])||d.some((e=>null!=e.flattened[t.name]))))).sort(((e,t)=>e.displayName.localeCompare(t.displayName))).map((e=>e.name));n=e.isTimeBased()?[e.timeFieldName,...t]:t}u&&!r&&(n=n.filter((e=>d.some((t=>!Object(i.isEqual)(t.flattened[e],u.flattened[e]))))));const a=n.length;return a>250&&(n=n.slice(0,250)),{comparisonFields:n,totalFields:a}}),[l,u,d,e,t,o,r])})({dataView:f,selectedFieldNames:h,additionalFieldGroups:m,selectedDocs:g,showAllFields:Boolean(j||_),showMatchingValues:Boolean(W),getDocById:C}),ie=(({wrapper:e,isPlainRecord:t,fieldColumnId:n,selectedDocs:i,getDocById:r,setSelectedDocs:s})=>Object(a.useMemo)((()=>{var a;const l=[{id:n,displayAsText:Z,initialWidth:200,isSortable:!1,isExpandable:!1,actions:!1}],u=null!==(a=null==e?void 0:e.offsetWidth)&&void 0!==a?a:0,f=300*i.length+200>u?300:void 0;return i.forEach(((e,n)=>{const a=r(e);if(!a)return;const u=[];0!==n&&u.push({iconType:"pin",label:c.i18n.translate("unifiedDataTable.pinForComparison",{defaultMessage:"Pin for comparison"}),size:"xs",onClick:()=>{const t=[...i],n=t.indexOf(e),[o]=t;t[0]=e,t[n]=o,s(t)}}),i.length>2&&u.push({iconType:"cross",label:c.i18n.translate("unifiedDataTable.removeFromComparison",{defaultMessage:"Remove from comparison"}),size:"xs",onClick:()=>{s(i.filter((t=>t!==e)))}});const p=t?Number(e||0)+1:void 0,b=t?c.i18n.translate("unifiedDataTable.comparisonColumnResultDisplay",{defaultMessage:"Result {resultNumber}",values:{resultNumber:p}}):a.raw._id,h=0===n?Object(d.jsx)(o.EuiFlexGroup,{gutterSize:"xs",alignItems:"center",responsive:!1},Object(d.jsx)(o.EuiFlexItem,{grow:!1},Object(d.jsx)(o.EuiIcon,{type:"pinFilled"})),Object(d.jsx)(o.EuiFlexItem,{grow:!1},b)):b,m=0===n?t?c.i18n.translate("unifiedDataTable.comparisonColumnResultPinnedTooltip",{defaultMessage:"Pinned result: {resultNumber}",values:{resultNumber:p}}):c.i18n.translate("unifiedDataTable.comparisonColumnPinnedTooltip",{defaultMessage:"Pinned document: {documentId}",values:{documentId:a.raw._id}}):t?c.i18n.translate("unifiedDataTable.comparisonColumnResultTooltip",{defaultMessage:"Comparison result: {resultNumber}",values:{resultNumber:p}}):c.i18n.translate("unifiedDataTable.comparisonColumnTooltip",{defaultMessage:"Comparison document: {documentId}",values:{documentId:a.raw._id}});l.push({id:e,display:h,displayAsText:m,initialWidth:f,isSortable:!1,isExpandable:!1,actions:{showHide:!1,showMoveLeft:n>1,showMoveRight:n>0&&n<i.length-1,showSortAsc:!1,showSortDesc:!1,additional:u}})})),l}),[n,r,t,i,s,null==e?void 0:e.offsetWidth]))({wrapper:t,isPlainRecord:b,fieldColumnId:U,selectedDocs:g,getDocById:C,setSelectedDocs:D}),ae=Object(a.useMemo)((()=>({visibleColumns:ie.map((({id:e})=>e)),setVisibleColumns:e=>{const[t,...n]=e;D(n)}})),[ie,D]),re=Object(a.useMemo)((()=>Object(d.jsx)(p,{isPlainRecord:b,selectedDocs:g,showDiff:F,diffMode:I,showDiffDecorations:B,showMatchingValues:W,showAllFields:_,forceShowAllFields:j,setIsCompareActive:O,setShowDiff:k,setDiffMode:N,setShowDiffDecorations:z,setShowMatchingValues:Y,setShowAllFields:J})),[I,j,b,g,N,O,J,k,z,Y,_,F,B,W]),se=Object(a.useMemo)((()=>({showColumnSelector:!1,showDisplaySelector:!1,showFullScreenSelector:w})),[w]),le=Object(a.useMemo)((()=>(({additionalControls:e,comparisonFields:t,totalFields:n})=>i=>(e=>{const{leftSide:t,bottomSection:n,toolbarProps:{hasRoomForGridControls:i,columnControl:a,columnSortingControl:s,fullScreenControl:l,keyboardShortcutsControl:u,displayControl:c},gridProps:{additionalControls:f}}=e,p=i?Object(d.jsx)(r.a.Fragment,null,t&&f&&Object(d.jsx)(o.EuiFlexItem,{grow:!1},Object(d.jsx)("div",{className:"unifiedDataTableToolbarControlButton"},f)),a&&Object(d.jsx)(o.EuiFlexItem,{grow:!1},Object(d.jsx)("div",{className:"unifiedDataTableToolbarControlButton"},a)),s&&Object(d.jsx)(o.EuiFlexItem,{grow:!1},Object(d.jsx)("div",{className:"unifiedDataTableToolbarControlButton"},s)),!t&&f&&Object(d.jsx)(o.EuiFlexItem,{grow:!1},Object(d.jsx)("div",{className:"unifiedDataTableToolbarControlButton"},f))):null;return Object(d.jsx)(r.a.Fragment,null,Object(d.jsx)(o.EuiFlexGroup,{responsive:!1,gutterSize:"s",justifyContent:"spaceBetween",alignItems:"center",className:"unifiedDataTableToolbar","data-test-subj":"unifiedDataTableToolbar",wrap:!0},Object(d.jsx)(o.EuiFlexItem,{grow:!1},t||Object(d.jsx)(o.EuiFlexGroup,{responsive:!1,gutterSize:"s",alignItems:"center"},p)),Object(d.jsx)(o.EuiFlexItem,{grow:!1},Object(d.jsx)(o.EuiFlexGroup,{responsive:!1,gutterSize:"s",alignItems:"center"},Boolean(t)&&p,(u||c||l)&&Object(d.jsx)(o.EuiFlexItem,{grow:!1},Object(d.jsx)("div",{className:"unifiedDataTableToolbarControlGroup"},u&&Object(d.jsx)("div",{className:"unifiedDataTableToolbarControlIconButton"},u),c&&Object(d.jsx)("div",{className:"unifiedDataTableToolbarControlIconButton"},c),l&&Object(d.jsx)("div",{className:"unifiedDataTableToolbarControlIconButton"},l)))))),n?Object(d.jsx)("div",{className:"unifiedDataTableToolbarBottom","data-test-subj":"unifiedDataTableToolbarBottom"},n):null)})({leftSide:e,toolbarProps:i,gridProps:{},bottomSection:n>t.length?Object(d.jsx)(o.EuiCallOut,{size:"s",iconType:"iInCircle",title:c.i18n.translate("unifiedDataTable.comparisonMaxFieldsCallout",{defaultMessage:"Comparison is limited to {comparisonFields} of {totalFields} fields.",values:{comparisonFields:t.length,totalFields:n}})}):void 0}))({additionalControls:re,comparisonFields:X,totalFields:oe})),[re,X,oe]),ue=(({dataView:e,comparisonFields:t,fieldColumnId:n,selectedDocs:o,diffMode:r,fieldFormats:s,getDocById:l,additionalFieldGroups:u})=>{const c=o[0],f=Object(a.useMemo)((()=>{var e;return null===(e=l(c))||void 0===e?void 0:e.flattened}),[c,l]),[p]=Object(a.useState)((()=>(()=>{const e=Object(i.memoize)((e=>Object(i.memoize)((t=>Object(i.memoize)((n=>L({diffMode:e,baseValue:t,comparisonValue:n})))))));return({diffMode:t,baseValue:n,comparisonValue:o})=>e(t)(n)(o)})()));return Object(a.useCallback)((o=>Object(d.jsx)(K,{value:p},Object(d.jsx)(q,y()({dataView:e,comparisonFields:t,fieldColumnId:n,baseDocId:c,baseDoc:f,diffMode:r,fieldFormats:s,getDocById:l,additionalFieldGroups:u},o)))),[u,f,c,p,t,e,r,n,s,l])})({dataView:f,comparisonFields:X,fieldColumnId:U,selectedDocs:g,diffMode:F?I:void 0,fieldFormats:x,getDocById:C,additionalFieldGroups:m}),de=(({diffMode:e,showDiffDecorations:t})=>{const{euiTheme:n}=Object(o.useEuiTheme)(),i=Object(o.useEuiBackgroundColor)("subdued",{method:"transparent"}),a=Object(o.useEuiBackgroundColor)("success"),r=Object(o.useEuiBackgroundColor)("danger"),s=Object(d.css)("position:absolute;width:",n.size.s,";height:100%;margin-left:calc(-",n.size.s," - calc(",n.size.xs," / 2));text-align:center;line-height:",n.font.scale.m,";font-weight:",n.font.weight.medium,";","");return Object(d.css)(".",E.a,"{white-space:pre-wrap;}.",P,"{font-weight:",n.font.weight.semiBold,";}.",G,"{background-color:",i,";}","basic"===e&&Object(d.css)(".",A,"{.",E.a,"{&,& *{color:",n.colors.successText,"!important;}}}.",V,"{.",E.a,"{&,& *{color:",n.colors.dangerText,"!important;}}}","")," .",H,"{position:relative;}.",R,"{background-color:",a,";color:",n.colors.successText,";}.",$,"{background-color:",r,";color:",n.colors.dangerText,";}",("chars"===e||"words"===e)&&t&&Object(d.css)(".",R,"{text-decoration:underline;}.",$,"{text-decoration:line-through;}","")," ","lines"===e&&Object(d.css)(".",H,"{padding-left:calc(",n.size.xs," / 2);}",t&&Object(d.css)(".",R,":before{content:'+';",s," background-color:",n.colors.success,";color:",n.colors.lightestShade,";}.",$,":before{content:'-';",s," background-color:",Object(o.tint)(n.colors.danger,.25),";color:",n.colors.lightestShade,";}",""),";",""),";","")})({diffMode:F?I:void 0,showDiffDecorations:B});return Object(d.jsx)(o.EuiDataGrid,{id:e,"aria-describedby":s,"aria-labelledby":u,gridStyle:te,toolbarVisibility:se,columns:ie,columnVisibility:ae,rowCount:X.length,rowHeightsOptions:Q,inMemory:ee,schemaDetectors:v,renderCellValue:ue,renderCustomToolbar:le,"data-test-subj":"unifiedDataTableCompareDocuments",css:de})}}}]);