/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.logsShared_bundle_jsonpfunction=window.logsShared_bundle_jsonpfunction||[]).push([[13],{128:function(e,t,n){"use strict";n.r(t),n.d(t,"WithSummary",(function(){return m}));var s=n(54),c=n.n(s),a=n(73),u=n(1),i=n(2),r=n(5),o=n(6),d=n(4),b=n(69),l=n(26);const j=[],p=e=>e.pipe(Object(i.exhaustMap)((([e,t])=>(async(e,t)=>{const n=await t(d.c,{method:"POST",body:JSON.stringify(d.i.encode(e)),version:"1"});return Object(o.b)(d.j)(n)})(e,t))),Object(i.map)((({data:{buckets:e}})=>e))),m=({serializedParsedQuery:e,children:t})=>{const{logViewReference:n}=Object(a.useLogViewContext)(),{startTimestamp:s,endTimestamp:i}=Object(a.useLogPositionStateContext)(),o=c()(s,3e3),d=c()(i,3e3),{buckets:m,start:O,end:f}=((e,t,n,s)=>{const{services:c}=Object(l.a)(),a=Object(b.a)(t,n),[i,o]=Object(r.e)(p),{latestValue:d}=Object(r.c)(i,j);return Object(u.useEffect)((()=>{null!==t&&null!==n&&null!==a&&o([{logView:e,startTimestamp:t,endTimestamp:n,bucketSize:a,query:s},c.http.fetch])}),[a,n,s,o,c.http.fetch,e,t]),{buckets:d,start:t,end:n}})(n,o,d,e);return t({buckets:m,start:O,end:f})};t.default=m}}]);