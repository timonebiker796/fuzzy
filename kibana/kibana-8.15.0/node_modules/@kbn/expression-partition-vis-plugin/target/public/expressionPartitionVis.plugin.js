!function(e){function t(t){for(var i,s,o=t[0],r=t[1],a=0,u=[];a<o.length;a++)s=o[a],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&u.push(n[s][0]),n[s]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);for(l&&l(t);u.length;)u.shift()()}var i={},n={0:0};function s(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],i=n[e];if(0!==i)if(i)t.push(i[2]);else{var o=new Promise((function(t,s){i=n[e]=[t,s]}));t.push(i[2]=o);var r,a=document.createElement("script");a.charset="utf-8",a.timeout=120,s.nc&&a.setAttribute("nonce",s.nc),a.src=function(e){return s.p+"expressionPartitionVis.chunk."+e+".js"}(e);var l=new Error;r=function(t){a.onerror=a.onload=null,clearTimeout(u);var i=n[e];if(0!==i){if(i){var s=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+s+": "+o+")",l.name="ChunkLoadError",l.type=s,l.request=o,i[1](l)}n[e]=void 0}};var u=setTimeout((function(){r({type:"timeout",target:a})}),12e4);a.onerror=a.onload=r,document.head.appendChild(a)}return Promise.all(t)},s.m=e,s.c=i,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(i,n,function(t){return e[t]}.bind(null,n));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s.oe=function(e){throw console.error(e),e};var o=window.expressionPartitionVis_bundle_jsonpfunction=window.expressionPartitionVis_bundle_jsonpfunction||[],r=o.push.bind(o);o.push=t,o=o.slice();for(var a=0;a<o.length;a++)t(o[a]);var l=r;s(s.s=24)}([function(e,t){e.exports=__kbnSharedDeps__.KbnI18n},function(e,t,i){"use strict";i.d(t,"g",(function(){return n})),i.d(t,"h",(function(){return s})),i.d(t,"f",(function(){return o})),i.d(t,"i",(function(){return r})),i.d(t,"b",(function(){return a})),i.d(t,"j",(function(){return l})),i.d(t,"e",(function(){return u})),i.d(t,"d",(function(){return c})),i.d(t,"c",(function(){return p})),i.d(t,"a",(function(){return d}));const n="expressionPartitionVis",s="expressionPartitionVis",o="pieVis",r="treemapVis",a="mosaicVis",l="waffleVis",u="partitionVis",c="partitionLabelsValue",p="partitionLabels",d=2},function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return s})),i.d(t,"d",(function(){return o})),i.d(t,"c",(function(){return r}));let n=function(e){return e[e.SMALL=.3]="SMALL",e[e.MEDIUM=.54]="MEDIUM",e[e.LARGE=.7]="LARGE",e}({}),s=function(e){return e.INSIDE="inside",e.DEFAULT="default",e}({}),o=function(e){return e.PERCENT="percent",e.VALUE="value",e}({}),r=function(e){return e.SHOW="show",e.HIDE="hide",e.DEFAULT="default",e}({})},function(e,t,i){i.r(t);var n=__kbnBundles__.get("plugin/visualizations/common/constants");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t,i){i.r(t);var n=__kbnBundles__.get("plugin/visualizations/common/utils");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t){e.exports=__kbnSharedDeps__.ElasticCharts},function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return s.b})),i.d(t,"d",(function(){return s.d})),i.d(t,"c",(function(){return s.c}));let n=function(e){return e.PIE="pie",e.DONUT="donut",e.TREEMAP="treemap",e.MOSAIC="mosaic",e.WAFFLE="waffle",e}({});var s=i(2)},function(e,t){e.exports=__kbnSharedDeps__.EmotionReact},function(e,t){e.exports=__kbnSharedDeps__.React},function(e,t,i){"use strict";i.r(t),i.d(t,"PLUGIN_ID",(function(){return n.g})),i.d(t,"PLUGIN_NAME",(function(){return n.h})),i.d(t,"PIE_VIS_EXPRESSION_NAME",(function(){return n.f})),i.d(t,"TREEMAP_VIS_EXPRESSION_NAME",(function(){return n.i})),i.d(t,"MOSAIC_VIS_EXPRESSION_NAME",(function(){return n.b})),i.d(t,"WAFFLE_VIS_EXPRESSION_NAME",(function(){return n.j})),i.d(t,"PARTITION_LABELS_VALUE",(function(){return n.d})),i.d(t,"PARTITION_LABELS_FUNCTION",(function(){return n.c})),i.d(t,"pieVisFunction",(function(){return j})),i.d(t,"treemapVisFunction",(function(){return R})),i.d(t,"waffleVisFunction",(function(){return V})),i.d(t,"mosaicVisFunction",(function(){return k})),i.d(t,"partitionLabelsFunction",(function(){return I})),i.d(t,"ValueFormats",(function(){return a.d})),i.d(t,"LabelPositions",(function(){return a.b})),i.d(t,"EmptySizeRatios",(function(){return a.a})),i.d(t,"LegendDisplay",(function(){return a.c}));var n=i(1),s=i(5),o=i(4),r=i(3),a=i(2),l=i(6),u=i(0);const c=()=>u.i18n.translate("expressionPartitionVis.pieVis.function.help",{defaultMessage:"Pie visualization"}),p=()=>u.i18n.translate("expressionPartitionVis.reusable.function.args.metricHelpText",{defaultMessage:"Metric dimensions config"}),d=()=>u.i18n.translate("expressionPartitionVis.metricToLabel.help",{defaultMessage:"JSON key-value pairs of column ID to label"}),f=()=>u.i18n.translate("expressionPartitionVis.reusable.function.args.bucketsHelpText",{defaultMessage:"Buckets dimensions config"}),b=()=>u.i18n.translate("expressionPartitionVis.reusable.function.args.splitColumnHelpText",{defaultMessage:"Split by column dimension config"}),g=()=>u.i18n.translate("expressionPartitionVis.reusable.function.args.splitRowHelpText",{defaultMessage:"Split by row dimension config"}),m=()=>u.i18n.translate("expressionPartitionVis.reusable.function.args.addTooltipHelpText",{defaultMessage:"Show tooltip on slice hover"}),h=()=>u.i18n.translate("expressionPartitionVis.reusable.function.args.legendDisplayHelpText",{defaultMessage:"Show legend chart legend"}),v=()=>u.i18n.translate("expressionPartitionVis.reusable.function.args.legendPositionHelpText",{defaultMessage:"Position the legend on top, bottom, left, right of the chart"}),y=()=>u.i18n.translate("expressionPartitionVis.reusable.function.args.legendSizeHelpText",{defaultMessage:"Specifies the legend size"}),_=()=>u.i18n.translate("expressionPartitionVis.reusable.function.args.nestedLegendHelpText",{defaultMessage:"Show a more detailed legend"}),E=()=>u.i18n.translate("expressionPartitionVis.reusable.function.args.truncateLegendHelpText",{defaultMessage:"Defines if the legend items will be truncated or not"}),L=()=>u.i18n.translate("expressionPartitionVis.reusable.function.args.maxLegendLinesHelpText",{defaultMessage:"Defines the number of lines per legend item"}),P=()=>u.i18n.translate("expressionPartitionVis.reusable.function.args.paletteHelpText",{defaultMessage:"Defines the chart palette name"}),S=()=>u.i18n.translate("expressionPartitionVis.reusable.function.args.labelsHelpText",{defaultMessage:"Pie labels config"}),x=()=>u.i18n.translate("expressionPartitionVis.reusable.functions.args.ariaLabelHelpText",{defaultMessage:"Specifies the aria label of the chart"}),O=()=>u.i18n.translate("expressionPartitionVis.reusable.function.dimension.metric",{defaultMessage:"Slice size"}),D=()=>u.i18n.translate("expressionPartitionVis.reusable.function.dimension.buckets",{defaultMessage:"Slice"}),T=()=>u.i18n.translate("expressionPartitionVis.reusable.function.dimension.splitcolumn",{defaultMessage:"Column split"}),A=()=>u.i18n.translate("expressionPartitionVis.reusable.function.dimension.splitrow",{defaultMessage:"Row split"}),M=()=>u.i18n.translate("expressionPartitionVis.layer.colorMapping.help",{defaultMessage:"JSON key-value pairs of the color mapping model"}),w=e=>u.i18n.translate("expressionPartitionVis.reusable.function.errors.moreThenNumberBuckets",{defaultMessage:"More than {maxLength} buckets are not supported.",values:{maxLength:e}}),C=()=>u.i18n.translate("expressionPartitionVis.reusable.function.errors.splitRowAndColumnSpecified",{defaultMessage:"A split row and column are specified. Expression is supporting only one of them at once."}),j=()=>({name:n.f,type:"render",inputTypes:["datatable"],help:c(),args:{metrics:{types:["vis_dimension","string"],help:p(),required:!0,multi:!0},metricsToLabels:{types:["string"],help:d()},buckets:{types:["vis_dimension","string"],help:f(),multi:!0},splitColumn:{types:["vis_dimension","string"],help:b(),multi:!0},splitRow:{types:["vis_dimension","string"],help:g(),multi:!0},addTooltip:{types:["boolean"],help:m(),default:!0},legendDisplay:{types:["string"],help:h(),options:[a.c.SHOW,a.c.HIDE,a.c.DEFAULT],default:a.c.HIDE,strict:!0},legendPosition:{types:["string"],default:s.Position.Right,help:v(),options:[s.Position.Top,s.Position.Right,s.Position.Bottom,s.Position.Left],strict:!0},legendSize:{types:["string"],default:r.DEFAULT_LEGEND_SIZE,help:y(),options:[r.LegendSize.AUTO,r.LegendSize.SMALL,r.LegendSize.MEDIUM,r.LegendSize.LARGE,r.LegendSize.EXTRA_LARGE],strict:!0},nestedLegend:{types:["boolean"],help:_(),default:!1},truncateLegend:{types:["boolean"],help:E(),default:!0},maxLegendLines:{types:["number"],help:L()},distinctColors:{types:["boolean"],help:u.i18n.translate("expressionPartitionVis.pieVis.function.args.distinctColorsHelpText",{defaultMessage:"Maps different color per slice. Slices with the same value have the same color"}),default:!1},respectSourceOrder:{types:["boolean"],help:u.i18n.translate("expressionPartitionVis.reusable.function.args.respectSourceOrderHelpText",{defaultMessage:"Keeps an order of the elements, returned from the datasource"}),default:!0},isDonut:{types:["boolean"],help:u.i18n.translate("expressionPartitionVis.reusable.function.args.isDonutHelpText",{defaultMessage:"Displays the pie chart as donut"}),default:!1},emptySizeRatio:{types:["number"],help:u.i18n.translate("expressionPartitionVis.reusable.function.args.emptySizeRatioHelpText",{defaultMessage:"Defines donut inner empty area size"}),default:a.a.SMALL},palette:{types:["palette","system_palette"],help:P(),default:"{palette}"},labels:{types:[n.d],help:S(),default:`{${n.c}}`},startFromSecondLargestSlice:{types:["boolean"],help:u.i18n.translate("expressionPartitionVis.reusable.function.args.startPlacementWithSecondLargestSliceHelpText",{defaultMessage:"Starts placement with the second largest slice"}),default:!0},ariaLabel:{types:["string"],help:x(),required:!1},colorMapping:{types:["string"],help:M()}},fn(e,t,i){var s,r,a,u,c,p,d,f,b,g;if(t.splitColumn&&t.splitRow)throw new Error(C());t.metrics.forEach((t=>Object(o.validateAccessor)(t,e.columns))),t.buckets&&t.buckets.forEach((t=>Object(o.validateAccessor)(t,e.columns))),t.splitColumn&&t.splitColumn.forEach((t=>Object(o.validateAccessor)(t,e.columns))),t.splitRow&&t.splitRow.forEach((t=>Object(o.validateAccessor)(t,e.columns)));const m={...t,metricsToLabels:t.metricsToLabels?JSON.parse(t.metricsToLabels):{},ariaLabel:null!==(s=null!==(r=t.ariaLabel)&&void 0!==r?r:null===(a=i.variables)||void 0===a?void 0:a.embeddableTitle)&&void 0!==s?s:null===(u=i.getExecutionContext)||void 0===u||null===(c=u.call(i))||void 0===c?void 0:c.description,palette:t.palette,dimensions:{metrics:t.metrics,buckets:t.buckets,splitColumn:t.splitColumn,splitRow:t.splitRow},colorMapping:t.colorMapping};if(null!=i&&null!==(p=i.inspectorAdapters)&&void 0!==p&&p.tables){i.inspectorAdapters.tables.reset(),i.inspectorAdapters.tables.allowCsvExport=!0;const n=Object(o.prepareLogTable)(e,[[t.metrics,O()],[t.buckets,D()],[t.splitColumn,T()],[t.splitRow,A()]],!0);i.inspectorAdapters.tables.logDatatable("default",n)}return{type:"render",as:n.e,value:{visData:e,visConfig:m,syncColors:null!==(d=null==i||null===(f=i.isSyncColorsEnabled)||void 0===f?void 0:f.call(i))&&void 0!==d&&d,visType:t.isDonut?l.a.DONUT:l.a.PIE,canNavigateToLens:Boolean(null==i||null===(b=i.variables)||void 0===b?void 0:b.canNavigateToLens),params:{listenOnChange:!0},overrides:null===(g=i.variables)||void 0===g?void 0:g.overrides}}}}),R=()=>({name:n.i,type:"render",inputTypes:["datatable"],help:c(),args:{metrics:{types:["vis_dimension"],help:p(),required:!0,multi:!0},metricsToLabels:{types:["string"],help:d()},buckets:{types:["vis_dimension"],help:f(),multi:!0},splitColumn:{types:["vis_dimension"],help:b(),multi:!0},splitRow:{types:["vis_dimension"],help:g(),multi:!0},addTooltip:{types:["boolean"],help:m(),default:!0},legendDisplay:{types:["string"],help:h(),options:[a.c.SHOW,a.c.HIDE,a.c.DEFAULT],default:a.c.HIDE,strict:!0},legendPosition:{types:["string"],default:s.Position.Right,help:v(),options:[s.Position.Top,s.Position.Right,s.Position.Bottom,s.Position.Left],strict:!0},legendSize:{types:["string"],default:r.DEFAULT_LEGEND_SIZE,help:y(),options:[r.LegendSize.AUTO,r.LegendSize.SMALL,r.LegendSize.MEDIUM,r.LegendSize.LARGE,r.LegendSize.EXTRA_LARGE],strict:!0},nestedLegend:{types:["boolean"],help:_(),default:!1},truncateLegend:{types:["boolean"],help:E(),default:!0},maxLegendLines:{types:["number"],help:L()},palette:{types:["palette","system_palette"],help:P(),default:"{palette}"},labels:{types:[n.d],help:S(),default:`{${n.c}}`},ariaLabel:{types:["string"],help:x(),required:!1},colorMapping:{types:["string"],help:M()}},fn(e,t,i){var s,r,a,u,c,p,d,f,b,g;if((null!==(s=t.buckets)&&void 0!==s?s:[]).length>2)throw new Error(w(2));if(t.splitColumn&&t.splitRow)throw new Error(C());t.metrics.forEach((t=>Object(o.validateAccessor)(t,e.columns))),t.buckets&&t.buckets.forEach((t=>Object(o.validateAccessor)(t,e.columns))),t.splitColumn&&t.splitColumn.forEach((t=>Object(o.validateAccessor)(t,e.columns))),t.splitRow&&t.splitRow.forEach((t=>Object(o.validateAccessor)(t,e.columns)));const m={...t,metricsToLabels:t.metricsToLabels?JSON.parse(t.metricsToLabels):{},ariaLabel:null!==(r=null!==(a=t.ariaLabel)&&void 0!==a?a:null===(u=i.variables)||void 0===u?void 0:u.embeddableTitle)&&void 0!==r?r:null===(c=i.getExecutionContext)||void 0===c||null===(p=c.call(i))||void 0===p?void 0:p.description,palette:t.palette,dimensions:{metrics:t.metrics,buckets:t.buckets,splitColumn:t.splitColumn,splitRow:t.splitRow},colorMapping:t.colorMapping};if(null!=i&&null!==(d=i.inspectorAdapters)&&void 0!==d&&d.tables){i.inspectorAdapters.tables.reset(),i.inspectorAdapters.tables.allowCsvExport=!0;const n=Object(o.prepareLogTable)(e,[[t.metrics,O()],[t.buckets,D()],[t.splitColumn,T()],[t.splitRow,A()]],!0);i.inspectorAdapters.tables.logDatatable("default",n)}return{type:"render",as:n.e,value:{visData:e,visConfig:m,syncColors:null!==(f=null==i||null===(b=i.isSyncColorsEnabled)||void 0===b?void 0:b.call(i))&&void 0!==f&&f,visType:l.a.TREEMAP,params:{listenOnChange:!0},overrides:null===(g=i.variables)||void 0===g?void 0:g.overrides}}}}),k=()=>({name:n.b,type:"render",inputTypes:["datatable"],help:c(),args:{metric:{types:["string","vis_dimension"],help:p(),required:!0},buckets:{types:["string","vis_dimension"],help:f(),multi:!0},splitColumn:{types:["string","vis_dimension"],help:b(),multi:!0},splitRow:{types:["string","vis_dimension"],help:g(),multi:!0},addTooltip:{types:["boolean"],help:m(),default:!0},legendDisplay:{types:["string"],help:h(),options:[a.c.SHOW,a.c.HIDE,a.c.DEFAULT],default:a.c.HIDE,strict:!0},legendPosition:{types:["string"],default:s.Position.Right,help:v(),options:[s.Position.Top,s.Position.Right,s.Position.Bottom,s.Position.Left],strict:!0},legendSize:{types:["string"],default:r.DEFAULT_LEGEND_SIZE,help:y(),options:[r.LegendSize.AUTO,r.LegendSize.SMALL,r.LegendSize.MEDIUM,r.LegendSize.LARGE,r.LegendSize.EXTRA_LARGE],strict:!0},nestedLegend:{types:["boolean"],help:_(),default:!1},truncateLegend:{types:["boolean"],help:E(),default:!0},maxLegendLines:{types:["number"],help:L()},palette:{types:["palette","system_palette"],help:P(),default:"{palette}"},labels:{types:[n.d],help:S(),default:`{${n.c}}`},ariaLabel:{types:["string"],help:x(),required:!1},colorMapping:{types:["string"],help:M()}},fn(e,t,i){var s,r,a,u,c,p,d,f,b,g;if((null!==(s=t.buckets)&&void 0!==s?s:[]).length>2)throw new Error(w(2));if(t.splitColumn&&t.splitRow)throw new Error(C());Object(o.validateAccessor)(t.metric,e.columns),t.buckets&&t.buckets.forEach((t=>Object(o.validateAccessor)(t,e.columns))),t.splitColumn&&t.splitColumn.forEach((t=>Object(o.validateAccessor)(t,e.columns))),t.splitRow&&t.splitRow.forEach((t=>Object(o.validateAccessor)(t,e.columns)));const m={...t,metricsToLabels:{},ariaLabel:null!==(r=null!==(a=t.ariaLabel)&&void 0!==a?a:null===(u=i.variables)||void 0===u?void 0:u.embeddableTitle)&&void 0!==r?r:null===(c=i.getExecutionContext)||void 0===c||null===(p=c.call(i))||void 0===p?void 0:p.description,palette:t.palette,dimensions:{metrics:[t.metric],buckets:t.buckets,splitColumn:t.splitColumn,splitRow:t.splitRow},colorMapping:t.colorMapping};if(null!=i&&null!==(d=i.inspectorAdapters)&&void 0!==d&&d.tables){i.inspectorAdapters.tables.reset(),i.inspectorAdapters.tables.allowCsvExport=!0;const n=Object(o.prepareLogTable)(e,[[[t.metric],O()],[t.buckets,D()],[t.splitColumn,T()],[t.splitRow,A()]],!0);i.inspectorAdapters.tables.logDatatable("default",n)}return{type:"render",as:n.e,value:{visData:e,visConfig:m,syncColors:null!==(f=null==i||null===(b=i.isSyncColorsEnabled)||void 0===b?void 0:b.call(i))&&void 0!==f&&f,visType:l.a.MOSAIC,params:{listenOnChange:!0},overrides:null===(g=i.variables)||void 0===g?void 0:g.overrides}}}}),V=()=>({name:n.j,type:"render",inputTypes:["datatable"],help:c(),args:{metrics:{types:["vis_dimension"],help:p(),required:!0,multi:!0},metricsToLabels:{types:["string"],help:d()},bucket:{types:["vis_dimension"],help:u.i18n.translate("expressionPartitionVis.waffle.function.args.bucketHelpText",{defaultMessage:"Bucket dimensions config"})},splitColumn:{types:["vis_dimension"],help:b(),multi:!0},splitRow:{types:["vis_dimension"],help:g(),multi:!0},addTooltip:{types:["boolean"],help:m(),default:!0},legendDisplay:{types:["string"],help:h(),options:[a.c.SHOW,a.c.HIDE,a.c.DEFAULT],default:a.c.HIDE,strict:!0},legendPosition:{types:["string"],default:s.Position.Right,help:v(),options:[s.Position.Top,s.Position.Right,s.Position.Bottom,s.Position.Left],strict:!0},legendSize:{types:["string"],default:r.DEFAULT_LEGEND_SIZE,help:y(),options:[r.LegendSize.AUTO,r.LegendSize.SMALL,r.LegendSize.MEDIUM,r.LegendSize.LARGE,r.LegendSize.EXTRA_LARGE],strict:!0},legendStats:{types:["string"],multi:!0,help:u.i18n.translate("expressionPartitionVis.reusable.function.args.legendStatsArgHelp",{defaultMessage:"Defines the legend stats"})},truncateLegend:{types:["boolean"],help:E(),default:!0},maxLegendLines:{types:["number"],help:L()},palette:{types:["palette","system_palette"],help:P(),default:"{palette}"},labels:{types:[n.d],help:S(),default:`{${n.c}}`},ariaLabel:{types:["string"],help:x(),required:!1},colorMapping:{types:["string"],help:M()}},fn(e,t,i){var s,r,a,u,c,p,d,f,b;if(t.splitColumn&&t.splitRow)throw new Error(C());t.metrics.forEach((t=>Object(o.validateAccessor)(t,e.columns))),t.bucket&&Object(o.validateAccessor)(t.bucket,e.columns),t.splitColumn&&t.splitColumn.forEach((t=>Object(o.validateAccessor)(t,e.columns))),t.splitRow&&t.splitRow.forEach((t=>Object(o.validateAccessor)(t,e.columns)));const g=t.bucket?[t.bucket]:[],m={...t,metricsToLabels:t.metricsToLabels?JSON.parse(t.metricsToLabels):{},ariaLabel:null!==(s=null!==(r=t.ariaLabel)&&void 0!==r?r:null===(a=i.variables)||void 0===a?void 0:a.embeddableTitle)&&void 0!==s?s:null===(u=i.getExecutionContext)||void 0===u||null===(c=u.call(i))||void 0===c?void 0:c.description,palette:t.palette,dimensions:{metrics:t.metrics,buckets:g,splitColumn:t.splitColumn,splitRow:t.splitRow},colorMapping:t.colorMapping};if(null!=i&&null!==(p=i.inspectorAdapters)&&void 0!==p&&p.tables){i.inspectorAdapters.tables.reset(),i.inspectorAdapters.tables.allowCsvExport=!0;const n=Object(o.prepareLogTable)(e,[[t.metrics,O()],[g,D()],[t.splitColumn,T()],[t.splitRow,A()]],!0);i.inspectorAdapters.tables.logDatatable("default",n)}return{type:"render",as:n.e,value:{visData:e,visConfig:m,syncColors:null!==(d=null==i||null===(f=i.isSyncColorsEnabled)||void 0===f?void 0:f.call(i))&&void 0!==d&&d,visType:l.a.WAFFLE,params:{listenOnChange:!0},overrides:null===(b=i.variables)||void 0===b?void 0:b.overrides}}}}),I=()=>({name:n.c,help:u.i18n.translate("expressionPartitionVis.partitionLabels.function.help",{defaultMessage:"Generates the partition labels object"}),type:n.d,args:{show:{types:["boolean"],help:u.i18n.translate("expressionPartitionVis.partitionLabels.function.args.show.help",{defaultMessage:"Displays the partition chart labels"}),default:!0},position:{types:["string"],default:"default",help:u.i18n.translate("expressionPartitionVis.partitionLabels.function.args.position.help",{defaultMessage:"Defines the label position"}),options:[l.b.DEFAULT,l.b.INSIDE]},values:{types:["boolean"],help:u.i18n.translate("expressionPartitionVis.partitionLabels.function.args.values.help",{defaultMessage:"Displays the values inside the slices"}),default:!0},percentDecimals:{types:["number"],help:u.i18n.translate("expressionPartitionVis.partitionLabels.function.args.percentDecimals.help",{defaultMessage:"Defines the number of decimals that will appear on the values as percent"}),default:2},last_level:{types:["boolean"],help:u.i18n.translate("expressionPartitionVis.partitionLabels.function.args.last_level.help",{defaultMessage:"Show top level labels only for multilayer pie/donut charts"}),default:!1},truncate:{types:["number","null"],help:u.i18n.translate("expressionPartitionVis.partitionLabels.function.args.truncate.help",{defaultMessage:"Defines the number of characters that the slice value will display only for multilayer pie/donut charts"}),default:null},valuesFormat:{types:["string"],default:"percent",help:u.i18n.translate("expressionPartitionVis.partitionLabels.function.args.valuesFormat.help",{defaultMessage:"Defines the format of the values"}),options:[l.d.PERCENT,l.d.VALUE]},colorOverrides:{types:["string"],help:u.i18n.translate("expressionPartitionVis.partitionLabels.function.args.colorOverrides.help",{defaultMessage:"Defines specific colors for specific labels."})}},fn:(e,t)=>({type:n.d,show:t.show,position:t.position,percentDecimals:t.percentDecimals,values:t.values,valuesFormat:t.valuesFormat,colorOverrides:t.colorOverrides?JSON.parse(t.colorOverrides):{},truncate:t.truncate,last_level:t.last_level})})},function(e,t){e.exports=__kbnSharedDeps__.ElasticEui},function(e,t){e.exports=__kbnSharedDeps__.EmotionCache},function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return o})),i.d(t,"d",(function(){return r})),i.d(t,"e",(function(){return s})),i.d(t,"c",(function(){return l}));const n=e=>{if(e){var t;const i=e=>e.type?e:e.child?i(e.child):void 0;return null===(t=i(e))||void 0===t?void 0:t.type}},s=e=>!!e&&Boolean(e.type&&"application"===e.type&&e.child&&"agg_based"===e.child.type),o=e=>{if(e){var t;const i=e=>e.child?i(e.child):e;return null===(t=i(e))||void 0===t?void 0:t.type}};function r(e,t){return e&&e[t]?Object.fromEntries(Object.entries(e[t]).map((([e,t])=>"ignore"===t?[e,void 0]:[e,t]))):{}}var a=i(16);function l(e,t){return t?e.reduce(((e,i)=>{const n=i[t];if(void 0===n)return e;const s=(Object(a.isMultiFieldKey)(n)?[...n.keys]:[n]).map(String),o=s.join(",");return e.keys.has(o)||(e.keys.add(o),e.categories.push(1===s.length?s[0]:s)),e}),{keys:new Set,categories:[]}).categories:[]}},function(e,t){e.exports=__kbnSharedDeps__.ReactDom},function(e,t){e.exports=__kbnSharedDeps__.KbnSharedUxErrorBoundary},function(e,t,i){e.exports=i(23)(4)},function(e,t,i){i.r(t);var n=__kbnBundles__.get("plugin/data/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t,i){i.r(t);var n=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t,i){i.r(t);var n=__kbnBundles__.get("plugin/presentationUtil/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t){e.exports=__kbnSharedDeps__.ElasticEuiLibComponentsUseIsNestedEuiProvider},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(26),s=i(8),o=n.__importDefault(i(27));t.default=function(e,t){var i=s.useState(t),n=i[0],r=i[1];return o.default((function(){var t=e.subscribe(r);return function(){return t.unsubscribe()}}),[e]),n}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setEuiDevProviderWarning=t.getEuiDevProviderWarning=t.emitEuiProviderWarning=void 0;var n=void 0;t.setEuiDevProviderWarning=function(e){return n=e},t.getEuiDevProviderWarning=function(){return n},t.emitEuiProviderWarning=function(e){if("function"==typeof n)return n(e);switch(n){case"log":console.log(e);break;case"warn":console.warn(e);break;case"error":throw new Error(e)}}},function(e,t){e.exports=__kbnSharedDeps__.KbnAnalytics},function(e,t){e.exports=__kbnSharedDeps_npm__},function(e,t,i){i(25),__kbnBundles__.define("plugin/expressionPartitionVis/public",i,28),__kbnBundles__.define("plugin/expressionPartitionVis/common",i,9)},function(e,t,i){i.p=window.__kbnPublicPath__.expressionPartitionVis},function(e,t){e.exports=__kbnSharedDeps__.TsLib},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(8),s="undefined"!=typeof window?n.useLayoutEffect:n.useEffect;t.default=s},function(e,t,i){"use strict";i.r(t),i.d(t,"plugin",(function(){return z}));var n=i(17),s=i(9),o=i(8),r=i(13),a=i(7),l=i(0),u=i(18),c=i(15),p=i.n(c),d=i(19),f=i(21),b=i(20),g=i.n(b),m=i(11),h=i.n(m),v=i(10);const y="eui-global",_="eui-utilities",E={darkMode:!1},L=[v.euiStylisPrefixer],P=h()({key:"css",stylisPlugins:L,container:document.querySelector('meta[name="emotion"]')}),S=h()({key:y,stylisPlugins:L,container:document.querySelector(`meta[name="${y}"]`)}),x=h()({key:_,stylisPlugins:L,container:document.querySelector(`meta[name="${_}"]`)});P.compat=!0,S.compat=!0,x.compat=!0;const O={default:P,global:S,utility:x},D=({theme:{theme$:e},globalStyles:t,colorMode:i,modify:n,children:s})=>{const r=g()(e,E),l=Object(o.useMemo)((()=>(e=>e.darkMode?v.COLOR_MODES_STANDARD.dark:v.COLOR_MODES_STANDARD.light)(r)),[r]),u=i||l,c=!1!==t&&void 0;return Object(a.jsx)(v.EuiProvider,{cache:O,modify:n,colorMode:u,globalStyles:c,utilityClasses:c},s)},T=({children:e,i18n:t,...i})=>Object(d.useIsNestedEuiProvider)()?(Object(f.emitEuiProviderWarning)("KibanaRootContextProvider has likely been nested in this React tree, either by direct reference or by KibanaRenderContextProvider.  The result of this nesting is a nesting of EuiProvider, which has negative effects.  Check your React tree for nested Kibana context providers."),Object(a.jsx)(t.Context,null,e)):Object(a.jsx)(D,i,Object(a.jsx)(t.Context,null,e));var A=i(14);const M=({children:e,...t})=>Object(a.jsx)(T,p()({globalStyles:!1},t),Object(a.jsx)(A.KibanaErrorBoundaryProvider,{analytics:t.analytics},Object(a.jsx)(A.KibanaErrorBoundary,null,e)));var w=i(22),C=i(4),j=i(12),R=i(1),k=i(6);const V=Object(o.lazy)((()=>i.e(1).then(i.bind(null,49)))),I=Object(u.withSuspense)(V),N={name:"zxsb69",styles:"position:relative;width:100%;height:100%"},F=async(e,t,i)=>Array.isArray(e.dimensions.buckets)&&i?Promise.all(e.dimensions.buckets.reduce(((e,n)=>{var s;const o=null===(s=Object(C.getColumnByAccessor)(n,t.columns))||void 0===s?void 0:s.meta;return o&&e.push(i([{columnMeta:o}])),e}),[])):[];class plugin_ExpressionPartitionVisPlugin{setup(e,{expressions:t,charts:i}){t.registerFunction(s.partitionLabelsFunction),t.registerFunction(s.pieVisFunction),t.registerFunction(s.treemapVisFunction),t.registerFunction(s.mosaicVisFunction),t.registerFunction(s.waffleVisFunction);const o=Object(n.createStartServicesGetter)(e.getStartServices);t.registerRenderer((({getStartDeps:e})=>({name:R.e,displayName:l.i18n.translate("expressionPartitionVis.renderer.partitionVis.pie.displayName",{defaultMessage:"Partition visualization"}),help:l.i18n.translate("expressionPartitionVis.renderer.partitionVis.pie.helpDescription",{defaultMessage:"Render pie/donut/treemap/mosaic/waffle charts"}),reuseDomNode:!0,render:async(t,{visConfig:i,visData:n,visType:s,syncColors:o,canNavigateToLens:l,overrides:u},c)=>{const{core:p,plugins:d}=e();c.onDestroy((()=>{Object(r.unmountComponentAtNode)(t)}));const[f,b]=await Promise.all([F(i,n,c.getCompatibleCellValueActions),d.charts.palettes.getPalettes()]),g=Object(j.e)(c.getExecutionContext());c.event({name:"chartSize",data:{maxDimensions:{x:{value:100,unit:"percentage"},y:{value:100,unit:"percentage"}}}}),Object(r.render)(Object(a.jsx)(M,p,Object(a.jsx)("div",{css:N},Object(a.jsx)(I,{chartsThemeService:d.charts.theme,palettesRegistry:b,visParams:i,visData:n,visType:i.isDonut?k.a.DONUT:s,renderComplete:()=>{const e=c.getExecutionContext(),t=Object(j.a)(e),i=Object(j.b)(e);if(t&&i){var n;const e=[`render_${i}_${s}`,l?`render_${i}_${s}_convertable`:void 0].filter((e=>Boolean(e)));null===(n=d.usageCollection)||void 0===n||n.reportUiCounter(t,w.METRIC_TYPE.COUNT,e)}c.done()},fireEvent:c.event,interactive:c.isInteractive(),uiState:c.uiState,services:{data:d.data,fieldFormats:d.fieldFormats},syncColors:o,columnCellValueActions:f,overrides:u,hasOpenedOnAggBasedEditor:g}))),t)}}))({getStartDeps:o}))}start(e,t){}stop(){}}function z(){return new plugin_ExpressionPartitionVisPlugin}},function(e,t,i){i.r(t);var n=__kbnBundles__.get("plugin/charts/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t){e.exports=__kbnSharedDeps__.Lodash},function(e,t){e.exports=__kbnSharedDeps__.KbnUiTheme},function(e,t){e.exports=__kbnSharedDeps__.KbnI18nReact}]);