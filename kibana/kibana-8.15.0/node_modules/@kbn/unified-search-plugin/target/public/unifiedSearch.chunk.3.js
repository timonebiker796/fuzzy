(window.unifiedSearch_bundle_jsonpfunction=window.unifiedSearch_bundle_jsonpfunction||[]).push([[3],{104:function(e,t,i){switch(window.__kbnThemeTag__){case"v8dark":return i(105);case"v8light":return i(107)}},105:function(e,t,i){var l=i(24),a=i(106);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);l(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},106:function(e,t,i){(t=i(25)(!1)).push([e.i,'.euiBadge.globalFilterItem{border:none;color:#dfe5ef;line-height:16px;padding-bottom:7px;padding-top:7px;white-space:normal}.euiBadge.globalFilterItem:not(.globalFilterItem-isDisabled){background-color:#16171c;background-repeat:no-repeat;background-size:0 100%;box-shadow:0 0 #0000,inset 0 0 0 1px #ffffff1a;box-shadow:0 0 #0000,inset 0 0 0 1px #424752;transition:box-shadow .15s ease-in,background-image .15s ease-in,background-size .15s ease-in,background-color .15s ease-in}@supports(-moz-appearance:none){.euiBadge.globalFilterItem:not(.globalFilterItem-isDisabled){transition-property:box-shadow,background-image,background-size}}.euiBadge.globalFilterItem-isDisabled{background-color:#34374180;color:#98a2b3;font-weight:400;text-decoration:line-through}.euiBadge.globalFilterItem-isError .globalFilterLabel__value,.globalFilterItem-isWarning .globalFilterLabel__value{font-weight:700}.globalFilterItem-isError .globalFilterLabel__value{color:#f87972}.globalFilterItem-isWarning .globalFilterLabel__value{color:#f3d371}.globalFilterItem-isPinned{position:relative}.globalFilterItem-isPinned:before{background-color:#424752;border-bottom-left-radius:3px;border-top-left-radius:3px;bottom:0;content:"";left:0;position:absolute;top:0;width:4px}.globalFilterItem-isExcluded:not(.globalFilterItem-isDisabled){box-shadow:0 0 #0000,inset 0 0 0 1px #7c3632}.globalFilterItem-isExcluded:not(.globalFilterItem-isDisabled):before{background-color:#c6564f}.globalFilterItem__editorForm{padding:12px}.globalFilterItem__readonlyPanel{min-width:auto;padding:12px}',""]),e.exports=t},107:function(e,t,i){var l=i(24),a=i(108);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);l(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},108:function(e,t,i){(t=i(25)(!1)).push([e.i,'.euiBadge.globalFilterItem{border:none;color:#343741;line-height:16px;padding-bottom:7px;padding-top:7px;white-space:normal}.euiBadge.globalFilterItem:not(.globalFilterItem-isDisabled){background-color:#fbfcfd;background-repeat:no-repeat;background-size:0 100%;box-shadow:0 0 #0000,inset 0 0 0 1px #112a861a;box-shadow:0 0 #0000,inset 0 0 0 1px #bcc3ce;transition:box-shadow .15s ease-in,background-image .15s ease-in,background-size .15s ease-in,background-color .15s ease-in}@supports(-moz-appearance:none){.euiBadge.globalFilterItem:not(.globalFilterItem-isDisabled){transition-property:box-shadow,background-image,background-size}}.euiBadge.globalFilterItem-isDisabled{background-color:#d3dae680;color:#69707d;font-weight:400;text-decoration:line-through}.euiBadge.globalFilterItem-isError .globalFilterLabel__value,.globalFilterItem-isWarning .globalFilterLabel__value{font-weight:700}.globalFilterItem-isError .globalFilterLabel__value{color:#b4251d}.globalFilterItem-isWarning .globalFilterLabel__value{color:#765b0a}.globalFilterItem-isPinned{position:relative}.globalFilterItem-isPinned:before{background-color:#bcc3ce;border-bottom-left-radius:3px;border-top-left-radius:3px;bottom:0;content:"";left:0;position:absolute;top:0;width:4px}.globalFilterItem-isExcluded:not(.globalFilterItem-isDisabled){box-shadow:0 0 #0000,inset 0 0 0 1px #ebbebc}.globalFilterItem-isExcluded:not(.globalFilterItem-isDisabled):before{background-color:#d16862}.globalFilterItem__editorForm{padding:12px}.globalFilterItem__readonlyPanel{min-width:auto;padding:12px}',""]),e.exports=t},52:function(e,t,i){"use strict";i.r(t),i.d(t,"FILTER_EDITOR_WIDTH",(function(){return I})),i.d(t,"FilterItem",(function(){return j}));var l=i(3),a=i.n(l),n=(i(104),i(6)),r=i(22),o=i(49),s=i.n(o),d=i(0),u=i(1),c=i(26),b=i(80),g=i(4);function f(e){let t=0,i=0;if(0===e.length)return t;for(let l=0;l<e.length;l++)i=e.charCodeAt(l),t=(t<<5)-t+i,t|=0;return t<0?-2*t:t}var m=i(28);const p=({filter:e,readOnly:t,iconOnClick:i,onClick:l,valueLabel:o,fieldLabel:s,errorMessage:d,filterLabelStatus:c,hideAlias:b,dataViews:p,...F})=>{const[x,h]=Object(n.useInnerText)(),I=t?g.i18n.translate("unifiedSearch.filter.filterBar.filterString",{defaultMessage:"Filter: {innerText}.",values:{innerText:h}}):g.i18n.translate("unifiedSearch.filter.filterBar.filterActionsMessage",{defaultMessage:"Filter: {innerText}. Select for more filter actions.",values:{innerText:h}});let j=d||I;Object(r.isFilterPinned)(e)&&(j=`${g.i18n.translate("unifiedSearch.filter.filterBar.pinnedFilterPrefix",{defaultMessage:"Pinned"})} ${j}`),e.meta.disabled&&(j=`${g.i18n.translate("unifiedSearch.filter.filterBar.disabledFilterPrefix",{defaultMessage:"Disabled"})} ${j}`);const k={color:"hollow",tabIndex:0},O=t?{...k,title:void 0}:{...k,title:j,iconType:"cross",iconSide:"right",closeButtonProps:{tabIndex:-1},iconOnClick:i,iconOnClickAriaLabel:g.i18n.translate("unifiedSearch.filter.filterBar.filterItemBadgeIconAriaLabel",{defaultMessage:"Delete {filter}",values:{filter:h}}),onClick:l,onClickAriaLabel:g.i18n.translate("unifiedSearch.filter.filterBar.filterItemBadgeAriaLabel",{defaultMessage:"Filter actions"})},v=()=>Object(u.jsx)(m.a,a()({filter:e,dataViews:p,valueLabel:o,filterLabelStatus:c,hideAlias:b},O,F,{"data-test-subj":`filter-badge-${f(h||"")} ${F["data-test-subj"]}`}));return t?Object(u.jsx)(n.EuiToolTip,{position:"bottom",content:j},Object(u.jsx)("span",{ref:x},Object(u.jsx)(v,null))):Object(u.jsx)("span",{ref:x},Object(u.jsx)(v,null))};var F=i(70);const x="warn",h="error",I=1200,j=Object(F.m)((function(e){const{onCloseFilterPopover:t,onLocalFilterCreate:i,onLocalFilterUpdate:l}=e,[o,g]=Object(d.useState)(!1),[f,m]=Object(d.useState)("menu"),{id:F,filter:j,indexPatterns:k,hiddenPanelOptions:O,readOnly:v=!1,docLinks:_}=e,w=Object(d.useCallback)((()=>{t([()=>g(!1)])}),[t]),B=Object(n.useEuiTheme)(),M=Object(d.useMemo)((()=>Object(u.css)("transform:none!important;transition:none!important;filter:none!important;",Object(n.euiShadowMedium)(B),";","")),[B]);function L(){const t=Object(r.toggleFilterDisabled)(j);e.onUpdate(t)}function S(e){const{disabled:t}=j.meta;return t||e.status===h}Object(d.useEffect)((()=>{o&&m("menu")}),[o]);const P=function(){var t;const i={title:"",message:"",status:""};if(null!==(t=j.meta)&&void 0!==t&&t.isMultiIndex)return i;if(!e.indexPatterns.length||Object(c.getIndexPatternFromFilter)(j,k)||k.map((e=>e.fields.map((e=>e.name)))).reduce(((e,t)=>[...e,...t]),[]).includes((null===(l=j.meta)||void 0===l?void 0:l.key)||""))try{i.title=Object(c.getDisplayValueFromFilter)(j,k)}catch(t){i.status=x,i.title=e.intl.formatMessage({id:"unifiedSearch.filter.filterBar.labelWarningText",defaultMessage:"Warning"}),i.message=t.message}else i.status=x,i.title=e.intl.formatMessage({id:"unifiedSearch.filter.filterBar.labelWarningText",defaultMessage:"Warning"}),i.message=e.intl.formatMessage({id:"unifiedSearch.filter.filterBar.labelWarningInfo",defaultMessage:"Field {fieldName} does not exist in current view"},{fieldName:j.meta.key});var l;return i}();if(P.status===h&&!j.meta.disabled)return j.meta.disabled=!0,e.onUpdate(j),null;const C={filter:j,readOnly:v,valueLabel:P.title,filterLabelStatus:P.status,errorMessage:P.message,className:(y=!!j.meta.negate,E=P,s()("globalFilterItem",{"globalFilterItem-isDisabled":S(E),"globalFilterItem-isError":E.status===h,"globalFilterItem-isWarning":E.status===x,"globalFilterItem-isPinned":Object(r.isFilterPinned)(j),"globalFilterItem-isExcluded":y},e.className)),dataViews:k,iconOnClick:function(){e.onRemove(),g(!1)},onClick:function(e){e.shiftKey?L():g(!o)},"data-test-subj":function(e){const t=j.meta.key?`filter-key-${j.meta.key}`:"",i=function(e){return""===e.status}(e)?e.title:e.status,l=i?`filter-value-${i.replace(/\s/g,"")}`:"",a=j.meta.negate?"filter-negated":"",n="filter-"+(S(e)?"disabled":"enabled"),o="filter-"+(Object(r.isFilterPinned)(j)?"pinned":"unpinned"),d=`filter-id-${F}`;return s()("filter",n,t,l,o,a,d)}(P)};var y,E;const D={id:`popoverFor_filter${F}`,display:"block",isOpen:o,closePopover:w,button:Object(u.jsx)(p,C),panelPaddingSize:"none",panelProps:{css:M}};return v?Object(u.jsx)(p,C):Object(u.jsx)(n.EuiPopover,a()({anchorPosition:"downLeft"},D),"menu"===f?Object(u.jsx)(n.EuiContextMenu,{initialPanelId:0,panels:function(){const{negate:t,disabled:i}=j.meta;let l=[{name:Object(r.isFilterPinned)(j)?e.intl.formatMessage({id:"unifiedSearch.filter.filterBar.unpinFilterButtonLabel",defaultMessage:"Unpin"}):e.intl.formatMessage({id:"unifiedSearch.filter.filterBar.pinFilterButtonLabel",defaultMessage:"Pin across all apps"}),icon:"pin",onClick:()=>{g(!1),function(){const t=Object(r.toggleFilterPinned)(j);e.onUpdate(t)}()},"data-test-subj":"pinFilter"},{name:e.intl.formatMessage({id:"unifiedSearch.filter.filterBar.editFilterButtonLabel",defaultMessage:"Edit filter"}),icon:"pencil","data-test-subj":"editFilter",onClick:()=>{m("editFilter")}},{name:t?e.intl.formatMessage({id:"unifiedSearch.filter.filterBar.includeFilterButtonLabel",defaultMessage:"Include results"}):e.intl.formatMessage({id:"unifiedSearch.filter.filterBar.excludeFilterButtonLabel",defaultMessage:"Exclude results"}),icon:t?"plusInCircle":"minusInCircle",onClick:()=>{g(!1),function(){const t=Object(r.toggleFilterNegated)(j);e.onUpdate(t)}()},"data-test-subj":"negateFilter"},{name:i?e.intl.formatMessage({id:"unifiedSearch.filter.filterBar.enableFilterButtonLabel",defaultMessage:"Re-enable"}):e.intl.formatMessage({id:"unifiedSearch.filter.filterBar.disableFilterButtonLabel",defaultMessage:"Temporarily disable"}),icon:i?"eye":"eyeClosed",onClick:()=>{g(!1),L()},"data-test-subj":"disableFilter"},{name:e.intl.formatMessage({id:"unifiedSearch.filter.filterBar.deleteFilterButtonLabel",defaultMessage:"Delete"}),icon:"trash",onClick:()=>{g(!1),e.onRemove()},"data-test-subj":"deleteFilter"}];return O&&O.length>0&&(l=l.filter((e=>!O.includes(e["data-test-subj"])))),[{id:0,items:l}]}()}):Object(u.jsx)(n.EuiContextMenuPanel,{items:[Object(u.jsx)("div",{style:{width:I,maxWidth:"100%"},key:"filter-editor"},Object(u.jsx)(b.a,{filter:j,indexPatterns:k,onSubmit:function(t){g(!1),e.onUpdate(t)},onLocalFilterUpdate:l,onLocalFilterCreate:i,onCancel:()=>g(!1),timeRangeForSuggestionsOverride:e.timeRangeForSuggestionsOverride,filtersForSuggestions:e.filtersForSuggestions,suggestionsAbstraction:e.suggestionsAbstraction,docLinks:_,filtersCount:e.filtersCount,dataViews:e.dataViews}))]}))}));t.default=j}}]);