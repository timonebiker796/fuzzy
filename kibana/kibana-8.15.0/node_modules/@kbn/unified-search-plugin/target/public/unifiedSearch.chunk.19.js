(window.unifiedSearch_bundle_jsonpfunction=window.unifiedSearch_bundle_jsonpfunction||[]).push([[19],{51:function(e,t,r){"use strict";r.r(t),r.d(t,"DataViewsList",(function(){return j}));var i=r(3),o=r.n(i),n=r(0),s=r.n(n),a=r(6),c=r(4),d=r(1);const l="esql";var g=r(2),u=r.n(g),p=r(9);const S="unified_search_sorting",h="alphabetically";class sorting_service_SortingService{constructor(e,t=new p.Storage(window.localStorage)){u()(this,"sortingStrategyType",void 0),u()(this,"direction",void 0),this.sortingStrategies=e,this.storage=t;const{sortingStrategyType:r,direction:i}=this.getSorting();this.sortingStrategyType=r,this.direction=i}getSorting(){var e,t;let r;try{r=this.storage.get(S)}catch(e){r=void 0}return{sortingStrategyType:(null===(e=r)||void 0===e?void 0:e.sortingStrategyType)||h,direction:(null===(t=r)||void 0===t?void 0:t.direction)||a.SortDirection.ASC}}setDirection(e){this.direction=e,this.storage.set(S,{direction:e,sortingStrategyType:this.sortingStrategyType})}setSortingStrategyType(e){this.sortingStrategyType=e,this.storage.set(S,{sortingStrategyType:e,direction:this.direction})}getOrderDirections(){return[a.SortDirection.ASC,a.SortDirection.DESC]}getSortingStrategyTypes(){return[h]}sortData(e){return[...e].sort(((e,t)=>{const r=this.sortingStrategies[this.sortingStrategyType],i=r(e),o=r(t);return this.compare(i,o)}))}compare(e,t){return this.direction===a.SortDirection.ASC?e.localeCompare(t):t.localeCompare(e)}}var y=r(69);const v={sortOrder:{asc:{getSortOrderLabel:()=>c.i18n.translate("unifiedSearch.optionsList.popover.sortOrder.asc",{defaultMessage:"Ascending"})},desc:{getSortOrderLabel:()=>c.i18n.translate("unifiedSearch.optionsList.popover.sortOrder.desc",{defaultMessage:"Descending"})}},editorAndPopover:{getSortDirectionLegend:()=>c.i18n.translate("unifiedSearch.optionsList.popover.sortDirections",{defaultMessage:"Sort directions"}),adhoc:{getTemporaryDataviewLabel:()=>c.i18n.translate("unifiedSearch.query.queryBar.indexPattern.temporaryDataviewLabel",{defaultMessage:"Temporary"})},search:{getSearchPlaceholder:()=>c.i18n.translate("unifiedSearch.query.queryBar.indexPattern.findDataView",{defaultMessage:"Find a data view"})}}};var b={name:"18g08sj",styles:"padding-bottom:0"};function j({dataViewsList:e,onChangeDataView:t,isTextBasedLangSelected:r,currentDataViewId:i,selectableProps:c,searchListInputId:g}){const u=Object(n.useMemo)((()=>new sorting_service_SortingService({alphabetically:e=>{var t;return null!==(t=e.name)&&void 0!==t?t:e.title}})),[]),[p,S]=Object(n.useState)((()=>{const t=e.filter((e=>!e.isAdhoc||e.type!==l));return u.sortData(t)})),h=Object(n.useMemo)((()=>u.getOrderDirections().map((e=>({id:e,iconType:`sort${Object(a.toSentenceCase)(e)}ending`,label:v.sortOrder[e].getSortOrderLabel()})))),[u]),j=Object(n.useCallback)((e=>{u.setDirection(e),S((e=>u.sortData(e)))}),[u]);return Object(d.jsx)(a.EuiSelectable,o()({},c,{listProps:{truncationProps:y.a,...null!=c&&c.listProps?c.listProps:void 0},"data-test-subj":"indexPattern-switcher",searchable:!0,singleSelection:"always",options:null==p?void 0:p.map((({title:e,id:t,name:o,isAdhoc:n})=>({key:t,label:o||e,value:t,checked:t!==i||Boolean(r)?void 0:"on",append:n?Object(d.jsx)(a.EuiBadge,{color:"hollow","data-test-subj":`dataViewItemTempBadge-${o}`},v.editorAndPopover.adhoc.getTemporaryDataviewLabel()):null}))),onChange:e=>{const r=e.find((({checked:e})=>e));t(r.value)},searchProps:{id:g,compressed:!0,placeholder:v.editorAndPopover.search.getSearchPlaceholder(),"data-test-subj":"indexPattern-switcher--input",...c?c.searchProps:void 0}}),((e,t)=>Object(d.jsx)(s.a.Fragment,null,Object(d.jsx)(a.EuiPanel,{css:b,color:"transparent",paddingSize:"s"},Object(d.jsx)(a.EuiFlexGroup,{gutterSize:"xs",direction:"row",justifyContent:"spaceBetween",alignItems:"center",responsive:!1},Object(d.jsx)(a.EuiFlexItem,null,t),Object(d.jsx)(a.EuiFlexItem,{grow:!1},Object(d.jsx)(a.EuiButtonGroup,{isIconOnly:!0,buttonSize:"compressed",options:h,legend:v.editorAndPopover.getSortDirectionLegend(),idSelected:u.direction,onChange:j})))),e)))}t.default=j}}]);