(window.unifiedSearch_bundle_jsonpfunction=window.unifiedSearch_bundle_jsonpfunction||[]).push([[7],{131:function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(132);case"v8light":return a(134)}},132:function(e,t,a){var s=a(24),r=a(133);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);s(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},133:function(e,t,a){(t=a(25)(!1)).push([e.i,'.kbnSavedQueryManagement__listWrapper{max-height:416px;overflow-y:hidden}.kbnSavedQueryManagement__list{height:100%;-webkit-mask-image:linear-gradient(180deg,#ff00001a 0,red 7.5px,red calc(100% - 7.5px),#ff00001a);mask-image:linear-gradient(180deg,#ff00001a 0,red 7.5px,red calc(100% - 7.5px),#ff00001a);max-height:inherit;overflow-x:hidden;overflow-y:auto;padding:6px 4px!important;scrollbar-color:#98a2b380 #0000;scrollbar-width:thin}.kbnSavedQueryManagement__list::-webkit-scrollbar{height:16px;width:16px}.kbnSavedQueryManagement__list::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#98a2b380;border:6px solid #0000;border-radius:16px}.kbnSavedQueryManagement__list::-webkit-scrollbar-corner,.kbnSavedQueryManagement__list::-webkit-scrollbar-track{background-color:#0000}.kbnSavedQueryManagement__list:focus{outline:none}.kbnSavedQueryManagement__list[tabindex="0"]:focus:focus-visible{outline-style:auto}',""]),e.exports=t},134:function(e,t,a){var s=a(24),r=a(135);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);s(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},135:function(e,t,a){(t=a(25)(!1)).push([e.i,'.kbnSavedQueryManagement__listWrapper{max-height:416px;overflow-y:hidden}.kbnSavedQueryManagement__list{height:100%;-webkit-mask-image:linear-gradient(180deg,#ff00001a 0,red 7.5px,red calc(100% - 7.5px),#ff00001a);mask-image:linear-gradient(180deg,#ff00001a 0,red 7.5px,red calc(100% - 7.5px),#ff00001a);max-height:inherit;overflow-x:hidden;overflow-y:auto;padding:6px 4px!important;scrollbar-color:#69707d80 #0000;scrollbar-width:thin}.kbnSavedQueryManagement__list::-webkit-scrollbar{height:16px;width:16px}.kbnSavedQueryManagement__list::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#69707d80;border:6px solid #0000;border-radius:16px}.kbnSavedQueryManagement__list::-webkit-scrollbar-corner,.kbnSavedQueryManagement__list::-webkit-scrollbar-track{background-color:#0000}.kbnSavedQueryManagement__list:focus{outline:none}.kbnSavedQueryManagement__list[tabindex="0"]:focus:focus-visible{outline-style:auto}',""]),e.exports=t},136:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(0);t.default=function(e){var t=s.useRef(e);return t.current=e,t}},137:function(e,t,a){"use strict";var s=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function r(e,t){if(e.length!==t.length)return!1;for(var a=0;a<e.length;a++)if(!((r=e[a])===(i=t[a])||s(r)&&s(i)))return!1;var r,i;return!0}e.exports=function(e,t){void 0===t&&(t=r);var a=null;function s(){for(var s=[],r=0;r<arguments.length;r++)s[r]=arguments[r];if(a&&a.lastThis===this&&t(s,a.lastArgs))return a.lastResult;var i=e.apply(this,s);return a={lastResult:i,lastArgs:s,lastThis:this},i}return s.clear=function(){a=null},s}},152:function(e,t,a){"use strict";a.r(t);var s=a(2),r=a.n(s),i=a(7),n=a(48),o=a(49),l=a.n(o),u=a(0),d=a.n(u),c=a(6),p=a(137),h=a.n(p),g=a(12),b=a(22),y=a(23),f=a(4),v=a(1);function m({savedQuery:e,savedQueryService:t,onSave:a,onClose:s,showFilterOption:r=!0,showTimeFilterOption:n=!0}){var o;const[l,p]=Object(u.useState)(null!==(o=null==e?void 0:e.attributes.title)&&void 0!==o?o:""),[h,g]=Object(u.useState)(Boolean(!e||e.attributes.filters)),[b,y]=Object(u.useState)(Boolean(!!e&&e.attributes.timefilter)),[m,S]=Object(u.useState)([]),[j,F]=Object(u.useState)(!1),Q=f.i18n.translate("unifiedSearch.search.searchBar.savedQueryForm.titleConflictText",{defaultMessage:"Name conflicts with an existing query."}),O=f.i18n.translate("unifiedSearch.search.searchBar.savedQueryForm.titleExistsText",{defaultMessage:"Name is required."}),x=Object(u.useCallback)((async()=>{const a=[];return l||a.push(O),await t.isDuplicateTitle(l,null==e?void 0:e.id)&&a.push(Q),Object(i.isEqual)(a,m)?!m.length:(S(a),!1)}),[m,e,t,l,Q,O]),M=Object(u.useCallback)((async()=>{try{F(!0),await x()&&(a({id:null==e?void 0:e.id,title:l,description:"",shouldIncludeFilters:h,shouldIncludeTimefilter:b}),s())}finally{F(!1)}}),[x,a,s,null==e?void 0:e.id,l,h,b]),B=Object(u.useCallback)((e=>{S([]),p(e.target.value)}),[]),w=Object(u.useCallback)((()=>{const e=l.trim();l.length>e.length&&p(e)}),[l]),T=m.length>0,C=Object(v.jsx)(c.EuiForm,{isInvalid:T,error:m,"data-test-subj":"saveQueryForm"},Object(v.jsx)(c.EuiFormRow,{label:f.i18n.translate("unifiedSearch.search.searchBar.savedQueryNameLabelText",{defaultMessage:"Name"}),isInvalid:T,display:"rowCompressed"},Object(v.jsx)(c.EuiFieldText,{disabled:!!e,value:l,name:"title",onChange:B,"data-test-subj":"saveQueryFormTitle",isInvalid:T,onBlur:w,compressed:!0})),r&&Object(v.jsx)(c.EuiFormRow,{display:"rowCompressed"},Object(v.jsx)(c.EuiSwitch,{name:"shouldIncludeFilters",label:f.i18n.translate("unifiedSearch.search.searchBar.savedQueryIncludeFiltersLabelText",{defaultMessage:"Include filters"}),checked:h,onChange:()=>{g(!h)},"data-test-subj":"saveQueryFormIncludeFiltersOption"})),n&&Object(v.jsx)(c.EuiFormRow,{display:"rowCompressed"},Object(v.jsx)(c.EuiSwitch,{name:"shouldIncludeTimefilter",label:f.i18n.translate("unifiedSearch.search.searchBar.savedQueryIncludeTimeFilterLabelText",{defaultMessage:"Include time filter"}),checked:b,onChange:()=>{y(!b)},"data-test-subj":"saveQueryFormIncludeTimeFilterOption"})),Object(v.jsx)(c.EuiFormRow,null,Object(v.jsx)(c.EuiButton,{fullWidth:!0,size:"s",onClick:M,fill:!0,"data-test-subj":"savedQueryFormSaveButton",disabled:T||j},f.i18n.translate("unifiedSearch.search.searchBar.savedQueryFormSaveButtonText",{defaultMessage:"Save query"}))));return Object(v.jsx)(d.a.Fragment,null,C)}var S=a(59),j=(a(131),a(50)),F=a(136),Q=a.n(F),O=a(33),x=a(14),M=a(82),B=a(84),w=a(78),T=a.n(w),C={name:"174hvms",styles:"&:enabled:focus{background-color:unset;}"};const q=({queryBarMenuRef:e,title:t,append:a})=>{const{euiTheme:s}=Object(c.useEuiTheme)(),r=Object(u.useRef)(null),i=Object(u.useCallback)((()=>{var t;return null===(t=e.current)||void 0===t?void 0:t.showPanel(X.main,"previous")}),[e]),n=Object(u.useCallback)((t=>{var a,s;t.key===c.keys.ARROW_LEFT&&(t.preventDefault(),t.stopPropagation(),null===(a=e.current)||void 0===a||a.showPreviousPanel(),null===(s=e.current)||void 0===s||s.onUseKeyboardToNavigate())}),[e]);return T()((()=>{var e;const t=null===(e=r.current)||void 0===e?void 0:e.closest(".euiContextMenuPanel"),a=()=>{var e;return null===(e=r.current)||void 0===e?void 0:e.focus()};return null==t||t.addEventListener("animationend",a,{once:!0}),()=>null==t?void 0:t.removeEventListener("animationend",a)})),Object(v.jsx)(c.EuiFlexGroup,{responsive:!1,gutterSize:"none",alignItems:"center",css:[Object(c.logicalCSS)("border-bottom",s.border.thin),"",""]},Object(v.jsx)(c.EuiFlexItem,null,Object(v.jsx)(c.EuiTitle,{size:"xxs"},Object(v.jsx)(c.EuiContextMenuItem,{buttonRef:r,className:"euiContextMenuPanel__title",icon:"arrowLeft",onClick:i,onKeyDown:n,"data-test-subj":"contextMenuPanelTitleButton",css:C},t))),a&&Object(v.jsx)(c.EuiFlexItem,{grow:!1,css:Object(v.css)({paddingInline:s.size.s},"","")},a))},R={"filter-sets-pinAllFilters":"pinFilter","filter-sets-unpinAllFilters":"pinFilter","filter-sets-enableAllFilters":"disableFilter","filter-sets-disableAllFilters":"disableFilter","filter-sets-invertAllFilters":"negateFilter","filter-sets-removeAllFilters":"deleteFilter"},P=()=>f.i18n.translate("unifiedSearch.query.queryBar.luceneLanguageName",{defaultMessage:"Lucene"}),k=()=>f.i18n.translate("unifiedSearch.query.queryBar.kqlLanguageName",{defaultMessage:"KQL"}),E=()=>f.i18n.translate("unifiedSearch.filter.options.addFilterButtonLabel",{defaultMessage:"Add filter"}),L=()=>f.i18n.translate("unifiedSearch.filter.options.applyAllFiltersButtonLabel",{defaultMessage:"Apply to all"}),_=()=>f.i18n.translate("unifiedSearch.filter.options.loadOtherFilterSetLabel",{defaultMessage:"Load query"}),I=()=>f.i18n.translate("unifiedSearch.filter.options.loadCurrentFilterSetLabel",{defaultMessage:"Load query"}),A=()=>f.i18n.translate("unifiedSearch.filter.options.saveAsNewFilterSetLabel",{defaultMessage:"Save query"}),D=()=>f.i18n.translate("unifiedSearch.filter.options.saveFilterSetLabel",{defaultMessage:"Save query"}),N=()=>f.i18n.translate("unifiedSearch.filter.options.clearllFiltersButtonLabel",{defaultMessage:"Clear all"}),U=e=>f.i18n.translate("unifiedSearch.search.searchBar.savedQueryPopoverSaveChangesButtonAriaLabel",{defaultMessage:"Save changes to {title}",values:{title:e}}),z=()=>f.i18n.translate("unifiedSearch.search.searchBar.savedQueryPopoverSaveChangesButtonText",{defaultMessage:"Update query"}),K=()=>f.i18n.translate("unifiedSearch.filter.options.saveCurrentFilterSetLabel",{defaultMessage:"Save as new"}),Y=()=>f.i18n.translate("unifiedSearch.filter.options.applyAllFiltersButtonLabel",{defaultMessage:"Apply to all"}),W=()=>f.i18n.translate("unifiedSearch.filter.options.enableAllFiltersButtonLabel",{defaultMessage:"Enable all"}),V=()=>f.i18n.translate("unifiedSearch.filter.options.disableAllFiltersButtonLabel",{defaultMessage:"Disable all"}),G=()=>f.i18n.translate("unifiedSearch.filter.options.invertNegatedFiltersButtonLabel",{defaultMessage:"Invert inclusion"}),H=()=>f.i18n.translate("unifiedSearch.filter.options.pinAllFiltersButtonLabel",{defaultMessage:"Pin all"}),$=()=>f.i18n.translate("unifiedSearch.filter.options.unpinAllFiltersButtonLabel",{defaultMessage:"Unpin all"}),J=()=>f.i18n.translate("unifiedSearch.filter.options.filterLanguageLabel",{defaultMessage:"Filter language"});let X=function(e){return e.main="main",e.applyToAllFilters="applyToAllFilters",e.updateCurrentQuery="updateCurrentQuery",e.saveAsNewQuery="saveAsNewQuery",e.loadQuery="loadQuery",e.selectLanguage="selectLanguage",e}({});const Z=[{start:"now/d",end:"now/d",label:f.i18n.translate("unifiedSearch.search.searchBar.savedQueryTodayLabel",{defaultMessage:"Today"})},{start:"now/w",end:"now/w",label:f.i18n.translate("unifiedSearch.search.searchBar.savedQueryWeekLabel",{defaultMessage:"This week"})},{start:"now/M",end:"now/M",label:f.i18n.translate("unifiedSearch.search.searchBar.savedQueryMonthLabel",{defaultMessage:"This month"})},{start:"now/y",end:"now/y",label:f.i18n.translate("unifiedSearch.search.searchBar.savedQueryYearLabel",{defaultMessage:"This year"})},{start:"now-1d/d",end:"now-1d/d",label:f.i18n.translate("unifiedSearch.searchBar.savedQueryYesterdayLabel",{defaultMessage:"Yesterday"})},{start:"now/w",end:"now",label:f.i18n.translate("unifiedSearch.searchBar.savedQueryWeekToDateLabel",{defaultMessage:"Week to date"})},{start:"now/M",end:"now",label:f.i18n.translate("unifiedSearch.searchBar.savedQueryMonthToDateLabel",{defaultMessage:"Month to date"})},{start:"now/y",end:"now",label:f.i18n.translate("unifiedSearch.searchBar.savedQueryYearToDateLabel",{defaultMessage:"Year to date"})}],ee=(e,t)=>{const a=[e.title];return e.description&&a.push(e.description),e.timefilter&&a.push(Object(S.renderToStaticMarkup)(Object(v.jsx)(O.a,t,Object(v.jsx)(c.PrettyDuration,{timeFrom:e.timefilter.from,timeTo:e.timefilter.to,quickRanges:Z,dateFormat:t.uiSettings.get("dateFormat")})))),a.join("; ")},te=[f.i18n.translate("unifiedSearch.search.searchBar.savedQueryNoSavedQueriesText",{defaultMessage:"No saved queries."}),f.i18n.translate("unifiedSearch.search.searchBar.savedQueryDescriptionText",{defaultMessage:"Save query text and filters that you want to use again."})].join(" "),ae=f.i18n.translate("unifiedSearch.search.searchBar.savedQueryMultipleNamespacesDeleteWarning",{defaultMessage:"This saved query is shared in multiple spaces. When you delete it, you remove it from every space it is shared in. You can't undo this action."});var se={name:"bjn8wh",styles:"position:relative"},re={name:"1h1fwim",styles:".euiSelectableList__list{-webkit-mask-image:unset;mask-image:unset;}"},ie={name:"18g08sj",styles:"padding-bottom:0"};const ne=({showSaveQuery:e,loadedSavedQuery:t,savedQueryService:a,queryBarMenuRef:s,onLoad:r,onClearSavedQuery:n,onClose:o})=>{const l=Object(y.useKibana)().services,[p,h]=Object(u.useState)(""),[g,b]=Object(u.useState)(0),[m,S]=Object(u.useState)(0),[F,O]=Object(u.useState)([]),[x,M]=Object(u.useState)(!1),[B,w]=Object(u.useState)(!0),T=Object(u.useRef)(0),C=Object(u.useRef)(null),[q,R]=Object(u.useState)(t),[P,k]=Object(u.useState)(null),[E,L]=Object(u.useState)(!1),_=Object(u.useMemo)((()=>Object(i.debounce)((e=>{h((t=>(t!==e&&b(0),e)))}),500)),[]),I=Q()((async()=>{const e=++T.current,s=setTimeout((()=>{M(!0)}),250);try{var r;const s=p.trim(),{total:i,queries:n}=await a.findSavedQueries(s||void 0,5,g+1);if(e!==T.current)return;let o=n;t&&!s&&0===g&&(o=[t,...n.filter((e=>e.id!==t.id))]),S(i),O(o),null===(r=C.current)||void 0===r||r.scrollToItem(0)}finally{clearTimeout(s),e===T.current&&(M(!1),w(!1))}}));Object(u.useEffect)((()=>{I.current()}),[g,I,p]);const A=Object(u.useCallback)((()=>{q&&(r(q),o())}),[r,q,o]),D=Object(u.useCallback)((e=>{R(e)}),[]),N=Object(u.useCallback)((e=>{L(!0),k(e)}),[]),U=Object(u.useCallback)((e=>{(async s=>{S((e=>Math.max(0,e-1))),O(F.filter((e=>e.id!==s))),R(void 0),t&&t.id===s&&n();try{await a.deleteSavedQuery(s),l.notifications.toasts.addSuccess(f.i18n.translate("unifiedSearch.search.searchBar.deleteQuerySuccessMessage",{defaultMessage:'Query "{queryTitle}" was deleted',values:{queryTitle:e.attributes.title}}))}catch(t){throw l.notifications.toasts.addDanger(f.i18n.translate("unifiedSearch.search.searchBar.deleteQueryErrorMessage",{defaultMessage:'An error occured while deleting query "{queryTitle}": {errorMessage}',values:{queryTitle:e.attributes.title,errorMessage:t.message}})),t}})(e.id)}),[F,t,n,a,l.notifications.toasts]),z=Object(u.useMemo)((()=>F.map((e=>({key:e.id,label:e.attributes.title,title:ee(e.attributes,l),"data-test-subj":`load-saved-query-${e.attributes.title}-button`,value:e.id,checked:q&&e.id===q.id?"on":void 0,data:{attributes:e.attributes}})))),[F,q,l]),K=Object(u.useCallback)((e=>Object(v.jsx)(d.a.Fragment,null,e.attributes?(e=>{let t=e.title;return e.description&&(t=Object(v.jsx)(d.a.Fragment,null,t," ",Object(v.jsx)(c.EuiIcon,{type:"iInCircle",color:"subdued",size:"s"}))),e.timefilter&&(t=Object(v.jsx)(d.a.Fragment,null,t," ",Object(v.jsx)(c.EuiIcon,{type:"clock",color:"subdued",size:"s"}))),t})(e.attributes):e.label,e.value===(null==t?void 0:t.id)&&Object(v.jsx)(c.EuiBadge,{color:"hollow",css:Object(v.css)({marginLeft:j.euiThemeVars.euiSizeS},"","")},f.i18n.translate("unifiedSearch.search.searchBar.savedQueryActiveBadgeText",{defaultMessage:"Active"})))),[null==t?void 0:t.id]),Y=Object(u.useMemo)((()=>{const e=[f.i18n.translate("unifiedSearch.search.searchBar.savedQueryTotalQueryCount",{defaultMessage:"{totalQueryCount, plural, one {# query} other {# queries}}",values:{totalQueryCount:m}})];return Boolean(q)&&e.push(f.i18n.translate("unifiedSearch.search.searchBar.savedQuerySelectedQueryCount",{defaultMessage:"1 selected"})),e.join(" | ")}),[q,m]);return Object(v.jsx)(d.a.Fragment,null,Object(v.jsx)(oe,{queryBarMenuRef:s}),Object(v.jsx)(c.EuiFlexGroup,{direction:"column",gutterSize:"none",responsive:!1,className:"kbnSavedQueryManagement__listWrapper","data-test-subj":"saved-query-management-list"},Object(v.jsx)(c.EuiFlexItem,{grow:!1,css:se},x&&Object(v.jsx)(c.EuiProgress,{size:"xs",color:"accent",position:"absolute"}),Object(v.jsx)(c.EuiSelectable,{ref:C,"aria-label":f.i18n.translate("unifiedSearch.search.searchBar.savedQueryListAriaLabel",{defaultMessage:"Query list"}),isLoading:B,singleSelection:"always",options:z,listProps:{onFocusBadge:!1},isPreFiltered:!0,searchable:!0,searchProps:{compressed:!0,placeholder:f.i18n.translate("unifiedSearch.query.queryBar.indexPattern.findFilterSet",{defaultMessage:"Find a query"}),onChange:_,"data-test-subj":"saved-query-management-search-input"},loadingMessage:f.i18n.translate("unifiedSearch.search.searchBar.savedQueryLoadingQueriesText",{defaultMessage:"Loading queries"}),emptyMessage:Object(v.jsx)("span",{"data-test-subj":"saved-query-management-empty"},te),onChange:e=>{const t=e.find((({checked:e})=>e));t&&D(F.find((e=>e.id===t.value)))},renderOption:K,css:re},((e,t)=>Object(v.jsx)(d.a.Fragment,null,Object(v.jsx)(c.EuiPanel,{color:"transparent",paddingSize:"s",css:ie},t),Object(v.jsx)(c.EuiPanel,{color:"transparent",paddingSize:"s"},Object(v.jsx)(c.EuiText,{size:"xs",color:"subdued"},Y)),Object(v.jsx)(c.EuiHorizontalRule,{margin:"none"}),e)))),m>5&&Object(v.jsx)(c.EuiFlexItem,{grow:!1,css:Object(v.css)({padding:j.euiThemeVars.euiSizeS},"","")},Object(v.jsx)(c.EuiFlexGroup,{responsive:!1,justifyContent:"center"},Object(v.jsx)(c.EuiFlexItem,{grow:!1},Object(v.jsx)(c.EuiPagination,{pageCount:Math.ceil(m/5),activePage:g,onPageClick:e=>b(e),compressed:!0}))))),Object(v.jsx)(c.EuiPopoverFooter,{paddingSize:"s",css:Object(v.css)({backgroundColor:j.euiThemeVars.euiColorLightestShade},"","")},Object(v.jsx)(c.EuiFlexGroup,{responsive:!1,gutterSize:"xs",alignItems:"center",justifyContent:"spaceBetween"},Boolean(e)&&Object(v.jsx)(c.EuiFlexItem,{grow:!1},Object(v.jsx)(c.EuiToolTip,{position:"top",content:q?f.i18n.translate("unifiedSearch.search.searchBar.savedQueryDelete",{defaultMessage:"Delete query"}):f.i18n.translate("unifiedSearch.search.searchBar.savedQuerySelectionRequired",{defaultMessage:"You need to select a query first"})},Object(v.jsx)(c.EuiButtonIcon,{display:"base",size:"s",iconType:"trash",color:"danger",disabled:!q,"aria-label":f.i18n.translate("unifiedSearch.search.searchBar.savedQueryDelete",{defaultMessage:"Delete query"}),"data-test-subj":"delete-saved-query-button",onClick:()=>{q&&N(q)}}))),Object(v.jsx)(c.EuiFlexItem,{grow:!1},Object(v.jsx)(c.EuiToolTip,{position:"top",content:!q&&f.i18n.translate("unifiedSearch.search.searchBar.savedQuerySelectionRequired",{defaultMessage:"You need to select a query first"})},Object(v.jsx)(c.EuiButton,{size:"s",fill:!0,onClick:A,disabled:!q,"aria-label":f.i18n.translate("unifiedSearch.search.searchBar.savedQueryPopoverApplyFilterSetLabel",{defaultMessage:"Load query"}),"data-test-subj":"saved-query-management-apply-changes-button"},f.i18n.translate("unifiedSearch.search.searchBar.savedQueryPopoverApplyFilterSetLabel",{defaultMessage:"Load query"})))))),E&&P&&Object(v.jsx)(c.EuiConfirmModal,{title:f.i18n.translate("unifiedSearch.search.searchBar.savedQueryPopoverConfirmDeletionTitle",{defaultMessage:'Delete "{savedQueryName}"?',values:{savedQueryName:P.attributes.title}}),confirmButtonText:f.i18n.translate("unifiedSearch.search.searchBar.savedQueryPopoverConfirmDeletionConfirmButtonText",{defaultMessage:"Delete"}),cancelButtonText:f.i18n.translate("unifiedSearch.search.searchBar.savedQueryPopoverConfirmDeletionCancelButtonText",{defaultMessage:"Cancel"}),onConfirm:()=>{U(P),L(!1)},buttonColor:"danger",onCancel:()=>{L(!1)}},P.namespaces.length>1||P.namespaces.includes("*")?ae:null))},oe=({queryBarMenuRef:e})=>{const{application:t,http:a}=Object(y.useKibana)().services,s=t.capabilities.savedObjectsManagement.edit;return Object(v.jsx)(q,{queryBarMenuRef:e,title:I(),append:s&&Object(v.jsx)(c.EuiToolTip,{position:"bottom",content:f.i18n.translate("unifiedSearch.search.searchBar.savedQueryPopoverManageLabel",{defaultMessage:"Manage queries"})},Object(v.jsx)(c.EuiButtonIcon,{iconType:"gear",color:"text",href:a.basePath.prepend('/app/management/kibana/objects?initialQuery=type:("query")'),"aria-label":f.i18n.translate("unifiedSearch.search.searchBar.savedQueryPopoverManageLabel",{defaultMessage:"Manage queries"})}))})};var le=a(3),ue=a.n(le),de=a(86),ce=a(70);const pe=()=>f.i18n.translate("unifiedSearch.filter.options.filterSetButtonLabel",{defaultMessage:"Query menu"});var he={name:"10if9qx",styles:"border-top-right-radius:0;border-bottom-right-radius:0"};const ge=Object(ce.m)((function({language:e,nonKqlMode:t,disableQueryLanguageSwitcher:a,dateRangeFrom:s,dateRangeTo:r,timeFilter:n,onQueryChange:o,onQueryBarSubmit:l,savedQueryService:p,saveAsNewQueryFormComponent:h,saveFormComponent:f,manageFilterSetComponent:m,hiddenPanelOptions:S,openQueryBarMenu:F,toggleFilterBarMenuPopover:Q,onFiltersUpdated:O,filters:w,additionalQueryBarMenuItems:T,query:C,savedQuery:Z,onClearSavedQuery:ee,showQueryInput:te,showFilterBar:ae,showSaveQuery:se,indexPatterns:re,timeRangeForSuggestionsOverride:ie,filtersForSuggestions:ne,buttonProps:oe,isDisabled:le,onCloseFilterPopover:ce,onLocalFilterCreate:ge,onLocalFilterUpdate:be,suggestionsAbstraction:ye,queryBarMenuRef:fe}){const[ve,me]=Object(u.useState)("menu"),[Se,je]=Object(u.useState)(X.main);Object(u.useEffect)((()=>{F&&(je(X.main),me("menu"))}),[F]);const Fe=Object(u.useCallback)((()=>Q(!1)),[Q]),Qe=Object(u.useCallback)((()=>{ce([Fe])}),[ce,Fe]),Oe=Object(c.useGeneratedHtmlId)({prefix:"normalContextMenuPopover"}),xe=Object(v.jsx)(c.EuiToolTip,{delay:"long",content:pe()},Object(v.jsx)(c.EuiButtonIcon,ue()({size:"m",display:"empty",onClick:()=>{Q(!F)},isDisabled:le},oe,{css:he,iconType:"filter","aria-label":pe(),"data-test-subj":"showQueryBarMenu"}))),Me=function({filters:e,additionalQueryBarMenuItems:t,savedQuery:a,language:s,dateRangeFrom:r,dateRangeTo:n,timeFilter:o,query:l,showSaveQuery:p,showFilterBar:h,showQueryInput:f,savedQueryService:m,saveFormComponent:S,saveAsNewQueryFormComponent:F,manageFilterSetComponent:Q,hiddenPanelOptions:O,nonKqlMode:w,disableQueryLanguageSwitcher:T=!1,queryBarMenuRef:C,closePopover:Z,onQueryBarSubmit:ee,onFiltersUpdated:te,onClearSavedQuery:ae,onQueryChange:se,setRenderedComponent:re}){var ie,ne;const oe=Object(y.useKibana)(),{appName:le,usageCollection:ue,uiSettings:de,http:ce,storage:pe}=oe.services,he=null==ue?void 0:ue.reportUiCounter.bind(ue,le),ge=Object(u.useRef)((()=>{})),[be,ye]=Object(u.useState)(!1),[fe,ve]=Object(u.useState)(!1),[me,Se]=Object(u.useState)(!1);Object(u.useEffect)((()=>{a&&(ge.current(),ye(!0))}),[a]),Object(u.useEffect)((()=>{f&&h&&(async()=>{ge.current();let e=!1;ge.current=()=>{e=!0};const t=await m.getSavedQueryCount();e||ye(t>0)})()}),[m,f,h]),Object(u.useEffect)((()=>{if(a){const t=Boolean((null==a?void 0:a.attributes.filters)&&!Object(b.compareFilters)(null!=e?e:[],a.attributes.filters,b.COMPARE_ALL_OPTIONS)),s=Boolean((null==a?void 0:a.attributes.timefilter)&&!Object(i.isEqual)(o,null==a?void 0:a.attributes.timefilter));t||s||!Object(i.isEqual)(l,null==a?void 0:a.attributes.query)?Se(!0):Se(!1)}}),[e,l,a,o]),Object(u.useEffect)((()=>{const t=Boolean(e&&e.length>0),a=Boolean(l&&l.query);ve(t||a)}),[e,ae,l,a]);const je=()=>{const e=de.get(x.UI_SETTINGS.TIMEPICKER_TIME_DEFAULTS);return{from:r||e.from,to:n||e.to}},Fe=P(),Qe=k(),Oe=[{name:E(),icon:"plus",onClick:()=>{re("addFilter")}},{name:L(),icon:"filter",panel:X.applyToAllFilters,disabled:!Boolean(e&&e.length>0),"data-test-subj":"filter-sets-applyToAllFilters"}],xe=[{name:a?_():I(),panel:X.loadQuery,icon:"filter","data-test-subj":"saved-query-management-load-button",disabled:!be||!Boolean(Q)},{name:a?A():D(),icon:"save",disabled:!Boolean(p)||!fe||a&&!me,panel:X.saveAsNewQuery,"data-test-subj":"saved-query-management-save-button"},{isSeparator:!0}],Me=[];h&&Me.push(...Oe),(h||f)&&Me.push({name:N(),disabled:!fe&&!Boolean(a),icon:"cross","data-test-subj":"filter-sets-removeAllFilters",onClick:()=>{Z(),ee({query:{query:"",language:s},dateRange:je()}),null==he||he(g.METRIC_TYPE.CLICK,"filter:remove_all"),null==te||te([]),null==ae||ae()}},{isSeparator:!0}),h&&null!==(ie=t.items)&&void 0!==ie&&ie.length&&Me.push(...t.items,{isSeparator:!0}),f&&h&&Me.push(...xe),f&&!T&&Me.push({name:`Language: ${"kuery"===s?Qe:Fe}`,panel:X.selectLanguage,"data-test-subj":"switchQueryLanguageButton"});let Be=[{id:X.main,title:null!=a&&a.attributes.title?Object(v.jsx)(d.a.Fragment,null,Object(v.jsx)(c.EuiFlexGroup,{direction:"column",gutterSize:"s"},Object(v.jsx)(c.EuiFlexItem,{grow:!1},Object(v.jsx)(c.EuiText,{color:a?"primary":"default",size:"s","data-test-subj":"savedQueryTitle"},Object(v.jsx)("strong",null,a.attributes.title))),a&&me&&Boolean(p)&&fe&&Object(v.jsx)(c.EuiFlexItem,{grow:!1},Object(v.jsx)(c.EuiButton,{size:"s",fill:!0,onClick:()=>{var e;null===(e=C.current)||void 0===e||e.showPanel(X.updateCurrentQuery,"next")},"aria-label":U(null==a?void 0:a.attributes.title),"data-test-subj":"saved-query-management-save-changes-button"},z())))):void 0,items:Me},{id:X.applyToAllFilters,initialFocusedItemIndex:1,title:Y(),items:[{name:W(),icon:"eye","data-test-subj":"filter-sets-enableAllFilters",onClick:()=>{Z(),(()=>{null==he||he(g.METRIC_TYPE.CLICK,"filter:enable_all");const t=null==e?void 0:e.map(b.enableFilter);t&&(null==te||te(t))})()}},{name:V(),"data-test-subj":"filter-sets-disableAllFilters",icon:"eyeClosed",onClick:()=>{Z(),(()=>{null==he||he(g.METRIC_TYPE.CLICK,"filter:disable_all");const t=null==e?void 0:e.map(b.disableFilter);t&&(null==te||te(t))})()}},{name:G(),"data-test-subj":"filter-sets-invertAllFilters",icon:"invert",onClick:()=>{Z(),(()=>{null==he||he(g.METRIC_TYPE.CLICK,"filter:invert_all");const t=null==e?void 0:e.map(b.toggleFilterNegated);t&&(null==te||te(t))})()}},{name:H(),"data-test-subj":"filter-sets-pinAllFilters",icon:"pin",onClick:()=>{Z(),(()=>{null==he||he(g.METRIC_TYPE.CLICK,"filter:pin_all");const t=null==e?void 0:e.map(b.pinFilter);t&&(null==te||te(t))})()}},{name:$(),"data-test-subj":"filter-sets-unpinAllFilters",icon:"pin",onClick:()=>{Z(),(()=>{null==he||he(g.METRIC_TYPE.CLICK,"filter:unpin_all");const t=null==e?void 0:e.map(b.unpinFilter);t&&(null==te||te(t))})()}}]},{id:X.updateCurrentQuery,content:Object(v.jsx)(d.a.Fragment,null,Object(v.jsx)(q,{queryBarMenuRef:C,title:z()}),Object(v.jsx)("div",{css:Object(v.css)({padding:j.euiThemeVars.euiSizeM},"","")},S))},{id:X.saveAsNewQuery,title:K(),content:Object(v.jsx)("div",{css:Object(v.css)({padding:j.euiThemeVars.euiSizeM},"","")},F)},{id:X.loadQuery,width:400,content:Object(v.jsx)("div",null,Q)},{id:X.selectLanguage,title:J(),content:Object(v.jsx)(B.a,{language:s,onSelectLanguage:e=>{ce.post("/internal/kql_opt_in_stats",{version:x.KQL_TELEMETRY_ROUTE_LATEST_VERSION,body:JSON.stringify({opt_in:"kuery"===e})});const t=x.KIBANA_USER_QUERY_LANGUAGE_KEY;pe.set(t,e);const a={query:"",language:e};se({query:{query:a.query,language:s},dateRange:je()}),ee({query:{query:Object(M.a)(a.query),language:a.language},dateRange:je()})},nonKqlMode:w,isOnTopBarMenu:!0,deps:{docLinks:oe.services.docLinks}})},{id:4,title:I(),width:400,content:Object(v.jsx)("div",null,Q)},...null!==(ne=t.panels)&&void 0!==ne?ne:[]];return O&&O.length>0&&(Be=Be.map((e=>{var t;return{...e,items:null===(t=e.items)||void 0===t?void 0:t.filter((e=>{if(!e["data-test-subj"])return!0;const t=R[e["data-test-subj"]];return!t||!O.includes(t)}))}}))),Be}({filters:w,additionalQueryBarMenuItems:T,savedQuery:Z,language:e,dateRangeFrom:s,dateRangeTo:r,timeFilter:n,query:C,showSaveQuery:se,showFilterBar:ae,showQueryInput:te,savedQueryService:p,saveFormComponent:f,saveAsNewQueryFormComponent:h,manageFilterSetComponent:m,hiddenPanelOptions:S,nonKqlMode:t,disableQueryLanguageSwitcher:a,queryBarMenuRef:fe,closePopover:Fe,onQueryBarSubmit:l,onFiltersUpdated:O,onClearSavedQuery:ee,onQueryChange:o,setRenderedComponent:me});return Object(v.jsx)(c.EuiPopover,{id:Oe,button:xe,isOpen:F,closePopover:"addFilter"===ve?Qe:Fe,panelPaddingSize:"none",anchorPosition:"downLeft",repositionOnScroll:!0,"data-test-subj":"queryBarMenuPopover",hasDragDrop:!0},(()=>{switch(ve){case"menu":return Object(v.jsx)(c.EuiContextMenu,{ref:fe,initialPanelId:X.main,panels:Me,onPanelChange:({panelId:e})=>je(e),"data-test-subj":"queryBarMenuPanel",css:[{transitionProperty:"width, height !important",".euiContextMenuPanel":{backgroundColor:j.euiThemeVars.euiColorEmptyShade}},Se===X.main&&{".euiContextMenuPanel__title":{":hover":{textDecoration:"none !important"},".euiContextMenuItem__text":{overflow:"visible"}}},"",""]});case"addFilter":return Object(v.jsx)(c.EuiContextMenuPanel,{items:[Object(v.jsx)(de.a,{key:"filter-editor-wrapper",indexPatterns:re,filters:w,timeRangeForSuggestionsOverride:ie,filtersForSuggestions:ne,onFiltersUpdated:O,onLocalFilterUpdate:be,onLocalFilterCreate:ge,closePopoverOnAdd:Fe,closePopoverOnCancel:Fe,suggestionsAbstraction:ye})]})}})())}));var be=a(144),ye=a(17),fe={name:"eivff4",styles:"display:none"},ve={name:"1hcx8jb",styles:"padding:0"};class search_bar_SearchBarUI extends u.Component{constructor(...e){super(...e),r()(this,"services",this.props.kibana.services),r()(this,"savedQueryService",this.services.data.query.savedQueries),r()(this,"queryBarMenuRef",Object(u.createRef)()),r()(this,"state",{isFiltersVisible:!0,openQueryBarMenu:!1,showSavedQueryPopover:!1,currentProps:this.props,query:this.props.query?{...this.props.query}:void 0,dateRangeFrom:Object(i.get)(this.props,"dateRangeFrom","now-15m"),dateRangeTo:Object(i.get)(this.props,"dateRangeTo","now")}),r()(this,"isDirty",(()=>!this.props.showDatePicker&&this.state.query&&this.props.query?!Object(i.isEqual)(this.state.query,this.props.query):this.state.query&&this.props.query&&!Object(i.isEqual)(this.state.query,this.props.query)||this.state.dateRangeFrom!==this.props.dateRangeFrom||this.state.dateRangeTo!==this.props.dateRangeTo)),r()(this,"onSave",(async(e,t=!1)=>{if(!this.state.query)return;const a={title:e.title,description:e.description,query:this.state.query};e.shouldIncludeFilters&&(a.filters=this.props.filters);const s=this.getTimeFilter();e.shouldIncludeTimefilter&&s&&(a.timefilter=s);try{let s;s=this.props.savedQuery&&!t?await this.savedQueryService.updateQuery(e.id,a):await this.savedQueryService.createQuery(a),this.services.notifications.toasts.addSuccess(f.i18n.translate("unifiedSearch.search.searchBar.saveQuerySuccessMessage",{defaultMessage:'Your query "{queryTitle}" was saved',values:{queryTitle:s.attributes.title}})),this.props.onSaved&&this.props.onSaved(s)}catch(e){throw this.services.notifications.toasts.addDanger(f.i18n.translate("unifiedSearch.search.searchBar.saveQueryErrorMessage",{defaultMessage:"An error occured while saving your query: {errorMessage}",values:{errorMessage:e.message}})),e}})),r()(this,"onQueryBarChange",(e=>{this.setState({query:e.query,dateRangeFrom:e.dateRange.from,dateRangeTo:e.dateRange.to}),this.props.onQueryChange&&this.props.onQueryChange(e)})),r()(this,"onTextLangQueryChange",(e=>{this.setState({query:e}),this.props.onQueryChange&&this.props.onQueryChange({query:e,dateRange:{from:this.state.dateRangeFrom,to:this.state.dateRangeTo}})})),r()(this,"toggleFilterBarMenuPopover",(e=>{this.setState({openQueryBarMenu:e})})),r()(this,"onTextLangQuerySubmit",(e=>{var t,a;null===(t=(a=this.props).onFiltersUpdated)||void 0===t||t.call(a,[]),this.setState({query:e},(()=>{this.props.onQuerySubmit&&this.props.onQuerySubmit({query:e,dateRange:{from:this.state.dateRangeFrom,to:this.state.dateRangeTo}},this.isDirty())}))})),r()(this,"onQueryBarSubmit",(e=>{this.setState({query:e.query,dateRangeFrom:e.dateRange&&e.dateRange.from||this.state.dateRangeFrom,dateRangeTo:e.dateRange&&e.dateRange.to||this.state.dateRangeTo},(()=>{var e;this.props.onQuerySubmit&&this.props.onQuerySubmit({query:this.state.query,dateRange:{from:this.state.dateRangeFrom,to:this.state.dateRangeTo}},this.isDirty()),null===(e=this.services.usageCollection)||void 0===e||e.reportUiCounter(this.services.appName,g.METRIC_TYPE.CLICK,"query_submitted")}))})),r()(this,"onLoadSavedQuery",(e=>{const t=Object(i.get)(e,"attributes.timefilter.from",this.state.dateRangeFrom),a=Object(i.get)(e,"attributes.timefilter.to",this.state.dateRangeTo);this.setState({query:e.attributes.query,dateRangeFrom:t,dateRangeTo:a}),this.props.onSavedQueryUpdated&&this.props.onSavedQueryUpdated(e)})),r()(this,"renderSavedQueryManagement",h()(((e,t,a)=>Object(v.jsx)(ne,{showSaveQuery:t,loadedSavedQuery:a,savedQueryService:this.savedQueryService,queryBarMenuRef:this.queryBarMenuRef,onLoad:this.onLoadSavedQuery,onClearSavedQuery:e,onClose:()=>this.setState({openQueryBarMenu:!1})}))))}static getDerivedStateFromProps(e,t){if(Object(i.isEqual)(t.currentProps,e))return null;let a=null;e.query&&Object(b.isOfQueryType)(e.query)&&e.query.query!==Object(i.get)(t,"currentProps.query.query")?a={query:e.query.query,language:e.query.language}:e.query&&t.query&&Object(b.isOfQueryType)(e.query)&&Object(b.isOfQueryType)(t.query)&&e.query.language!==t.query.language?a={query:"",language:e.query.language}:e.query&&!Object(b.isOfQueryType)(e.query)&&(a=e.query);let s=null;e.dateRangeFrom===Object(i.get)(t,"currentProps.dateRangeFrom")&&e.dateRangeTo===Object(i.get)(t,"currentProps.dateRangeTo")||(s={dateRangeFrom:e.dateRangeFrom,dateRangeTo:e.dateRangeTo});const r={currentProps:e};var n;return a&&(r.query=a),s&&(r.dateRangeFrom=s.dateRangeFrom,r.dateRangeTo=s.dateRangeTo,s.dateRangeFrom&&s.dateRangeTo&&(null==e||null===(n=e.onTimeRangeChange)||void 0===n||n.call(e,{dateRange:{from:s.dateRangeFrom,to:s.dateRangeTo}}))),r}componentWillUnmount(){this.renderSavedQueryManagement.clear()}shouldRenderFilterBar(){return this.props.showFilterBar&&this.props.filters&&this.props.indexPatterns&&Object(i.compact)(this.props.indexPatterns).length>0}shouldRenderTimeFilterInSavedQueryForm(){const{dateRangeFrom:e,dateRangeTo:t,showDatePicker:a,indexPatterns:s}=this.props;return!(!a&&void 0!==e&&void 0!==t)&&(null==s||!s.length||s.some((e=>Boolean(e.timeFieldName))))}getTimeFilter(){if(void 0!==this.state.dateRangeTo&&void 0!==this.state.dateRangeFrom&&void 0!==this.props.refreshInterval&&void 0!==this.props.isRefreshPaused)return{from:this.state.dateRangeFrom,to:this.state.dateRangeTo,refreshInterval:{value:this.props.refreshInterval,pause:this.props.isRefreshPaused}}}shouldShowDatePickerAsBadge(){return this.shouldRenderFilterBar()&&!this.props.showQueryInput}render(){var e,t,a,s;const{theme:r}=this.props,i=!0===this.props.isScreenshotMode,n=(({euiTheme:e})=>({uniSearchBar:Object(v.css)("padding:",e.size.s,";position:relative;",""),detached:Object(v.css)("border-bottom:",e.border.thin,";",""),inPage:ve,hidden:fe}))(r),o=[n.uniSearchBar,this.props.displayStyle&&n[this.props.displayStyle],i&&n.hidden],u=l()("uniSearchBar",{"uniSearchBar--hidden":i,[`uniSearchBar--${this.props.displayStyle}`]:this.props.displayStyle}),d=!!this.props.showDatePicker&&void 0,c=Object(v.jsx)(m,{savedQueryService:this.savedQueryService,onSave:e=>this.onSave(e,!0),onClose:()=>this.setState({openQueryBarMenu:!1}),showFilterOption:this.props.showFilterBar,showTimeFilterOption:this.shouldRenderTimeFilterInSavedQueryForm()}),p=Object(v.jsx)(m,{savedQuery:this.props.savedQuery?this.props.savedQuery:void 0,savedQueryService:this.savedQueryService,onSave:this.onSave,onClose:()=>this.setState({openQueryBarMenu:!1}),showFilterOption:this.props.showFilterBar,showTimeFilterOption:this.shouldRenderTimeFilterInSavedQueryForm()}),h=this.props.showQueryMenu?Object(v.jsx)(ge,{nonKqlMode:this.props.nonKqlMode,disableQueryLanguageSwitcher:this.props.disableQueryLanguageSwitcher,language:this.state.query&&Object(b.isOfQueryType)(null===(e=this.state)||void 0===e?void 0:e.query)?null===(t=this.state)||void 0===t||null===(a=t.query)||void 0===a?void 0:a.language:"kuery",onQueryChange:this.onQueryBarChange,onQueryBarSubmit:this.onQueryBarSubmit,dateRangeFrom:this.state.dateRangeFrom,dateRangeTo:this.state.dateRangeTo,timeFilter:this.getTimeFilter(),savedQueryService:this.savedQueryService,saveAsNewQueryFormComponent:c,saveFormComponent:p,toggleFilterBarMenuPopover:this.toggleFilterBarMenuPopover,openQueryBarMenu:this.state.openQueryBarMenu,onFiltersUpdated:this.props.onFiltersUpdated,filters:this.props.filters,additionalQueryBarMenuItems:null!==(s=this.props.additionalQueryBarMenuItems)&&void 0!==s?s:{},hiddenPanelOptions:this.props.hiddenFilterPanelOptions,query:this.state.query,savedQuery:this.props.savedQuery,onClearSavedQuery:this.props.onClearSavedQuery,showQueryInput:this.props.showQueryInput,showFilterBar:this.props.showFilterBar,showSaveQuery:this.props.showSaveQuery,isDisabled:this.props.isDisabled,buttonProps:{size:this.shouldShowDatePickerAsBadge()?"s":"m"},indexPatterns:this.props.indexPatterns,timeRangeForSuggestionsOverride:d,filtersForSuggestions:this.props.filtersForSuggestions,manageFilterSetComponent:this.props.showFilterBar&&this.state.query&&this.props.onClearSavedQuery?this.renderSavedQueryManagement(this.props.onClearSavedQuery,this.props.showSaveQuery,this.props.savedQuery):void 0,suggestionsAbstraction:this.props.suggestionsAbstraction,renderQueryInputAppend:this.props.renderQueryInputAppend,queryBarMenuRef:this.queryBarMenuRef}):void 0;let g;return this.shouldRenderFilterBar()&&(g=this.shouldShowDatePickerAsBadge()?Object(v.jsx)(ye.c,{filters:this.props.filters,onFiltersUpdated:this.props.onFiltersUpdated,indexPatterns:this.props.indexPatterns,timeRangeForSuggestionsOverride:d,filtersForSuggestions:this.props.filtersForSuggestions,hiddenPanelOptions:this.props.hiddenFilterPanelOptions,readOnly:this.props.isDisabled,suggestionsAbstraction:this.props.suggestionsAbstraction}):Object(v.jsx)(ye.a,{afterQueryBar:!0,filters:this.props.filters,onFiltersUpdated:this.props.onFiltersUpdated,indexPatterns:this.props.indexPatterns,timeRangeForSuggestionsOverride:d,filtersForSuggestions:this.props.filtersForSuggestions,hiddenPanelOptions:this.props.hiddenFilterPanelOptions,isDisabled:this.props.isDisabled,"data-test-subj":"unifiedFilterBar",prepend:this.props.prependFilterBar,suggestionsAbstraction:this.props.suggestionsAbstraction})),Object(v.jsx)("div",{className:u,css:o,"data-test-subj":"globalQueryBar"},Object(v.jsx)(be.default,{timeHistory:this.props.timeHistory,query:this.state.query,screenTitle:this.props.screenTitle,onSubmit:this.onQueryBarSubmit,indexPatterns:this.props.indexPatterns,isLoading:this.props.isLoading,fillSubmitButton:this.props.fillSubmitButton||!1,prepend:this.props.showFilterBar||this.props.showQueryInput?h:void 0,showDatePicker:this.props.showDatePicker,dateRangeFrom:this.state.dateRangeFrom,dateRangeTo:this.state.dateRangeTo,isRefreshPaused:this.props.isRefreshPaused,refreshInterval:this.props.refreshInterval,showAutoRefreshOnly:this.props.showAutoRefreshOnly,showQueryInput:this.props.showQueryInput,showAddFilter:this.props.showFilterBar,isDisabled:this.props.isDisabled,onRefresh:this.props.onRefresh,onRefreshChange:this.props.onRefreshChange,onCancel:this.props.onCancel,onChange:this.onQueryBarChange,isDirty:this.isDirty(),customSubmitButton:this.props.customSubmitButton?this.props.customSubmitButton:void 0,dataViewPickerOverride:this.props.dataViewPickerOverride,showSubmitButton:this.props.showSubmitButton,submitButtonStyle:this.props.submitButtonStyle,dataTestSubj:this.props.dataTestSubj,indicateNoData:this.props.indicateNoData,placeholder:this.props.placeholder,isClearable:this.props.isClearable,iconType:this.props.iconType,nonKqlMode:this.props.nonKqlMode,timeRangeForSuggestionsOverride:d,filtersForSuggestions:this.props.filtersForSuggestions,filters:this.props.filters,onFiltersUpdated:this.props.onFiltersUpdated,dataViewPickerComponentProps:this.props.dataViewPickerComponentProps,textBasedLanguageModeErrors:this.props.textBasedLanguageModeErrors,textBasedLanguageModeWarning:this.props.textBasedLanguageModeWarning,onTextBasedSavedAndExit:this.props.onTextBasedSavedAndExit,showDatePickerAsBadge:this.shouldShowDatePickerAsBadge(),filterBar:g,suggestionsSize:this.props.suggestionsSize,isScreenshotMode:this.props.isScreenshotMode,onTextLangQuerySubmit:this.onTextLangQuerySubmit,onTextLangQueryChange:this.onTextLangQueryChange,submitOnBlur:this.props.submitOnBlur,suggestionsAbstraction:this.props.suggestionsAbstraction,renderQueryInputAppend:this.props.renderQueryInputAppend}))}}r()(search_bar_SearchBarUI,"defaultProps",{showQueryMenu:!0,showFilterBar:!0,showDatePicker:!0,showSubmitButton:!0,showAutoRefreshOnly:!1,filtersForSuggestions:[],additionalQueryBarMenuItems:[]}),t.default=Object(n.injectI18n)(Object(c.withEuiTheme)(Object(y.withKibana)(search_bar_SearchBarUI)))},78:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(0);t.default=function(e){s.useEffect(e,[])}}}]);