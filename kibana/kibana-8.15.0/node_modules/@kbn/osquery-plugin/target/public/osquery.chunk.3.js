/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.osquery_bundle_jsonpfunction=window.osquery_bundle_jsonpfunction||[]).push([[3],{100:function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var s=r(2),i=r(7),n=r(0),o=r.n(n),a=r(9),l=r(4),c=r(1);const u=({isDisabled:e=!1,agentPolicyId:t})=>{const{application:{getUrlForApp:r,navigateToApp:o}}=Object(l.e)().services,u=Object(n.useMemo)((()=>r(a.PLUGIN_ID,{path:t?`/live_queries/new?agentPolicyId=${t}`:"/live_queries/new"})),[t,r]),p=Object(n.useCallback)((e=>{!Object(l.d)(e)&&Object(l.c)(e)&&(e.preventDefault(),o(a.PLUGIN_ID,{path:t?`/live_queries/new?agentPolicyId=${t}`:"/live_queries/new"}))}),[t,o]),E=r(a.PLUGIN_ID,{path:"/packs"}),h=Object(n.useCallback)((e=>{!Object(l.d)(e)&&Object(l.c)(e)&&(e.preventDefault(),o(a.PLUGIN_ID,{path:"/packs"}))}),[o]);return Object(c.jsx)(s.EuiFlexGroup,{gutterSize:"l"},Object(c.jsx)(s.EuiFlexItem,null,Object(c.jsx)(s.EuiCard,{icon:Object(c.jsx)(s.EuiIcon,{size:"xl",type:"console"}),title:i.i18n.translate("xpack.osquery.fleetIntegration.runLiveQueriesButtonText",{defaultMessage:"Run live queries"}),href:u,onClick:p,description:"",isDisabled:e})),Object(c.jsx)(s.EuiFlexItem,null,Object(c.jsx)(s.EuiCard,{icon:Object(c.jsx)(s.EuiIcon,{size:"xl",type:"clock"}),title:i.i18n.translate("xpack.osquery.fleetIntegration.packsButtonText",{defaultMessage:"Packs"}),description:"",isDisabled:e,href:E,onClick:h})))};u.displayName="NavigationButtonsComponent";const p=o.a.memo(u)},101:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var s=r(0),i=r.n(s),n=r(2),o=r(7),a=r(1);const l=()=>Object(a.jsx)(i.a.Fragment,null,Object(a.jsx)(n.EuiFlexGroup,null,Object(a.jsx)(n.EuiFlexItem,null,Object(a.jsx)(n.EuiCallOut,{title:o.i18n.translate("xpack.osquery.fleetIntegration.saveIntegrationCalloutTitle",{defaultMessage:"Save the integration to access the options below"}),iconType:"save"}))),Object(a.jsx)(n.EuiSpacer,null)),c=i.a.memo(l)},124:function(e,t,r){class Range{constructor(e,t){if(t=i(t),e instanceof Range)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new Range(e.raw,t);if(e instanceof n)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!d(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&I(e[0])){this.set=[e];break}}this.format()}format(){return this.range=this.set.map((e=>e.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&h)|(this.options.loose&&f))+":"+e,r=s.get(t);if(r)return r;const i=this.options.loose,a=i?l[c.HYPHENRANGELOOSE]:l[c.HYPHENRANGE];e=e.replace(a,A(this.options.includePrerelease)),o("hyphen replace",e),e=e.replace(l[c.COMPARATORTRIM],u),o("comparator trim",e),e=e.replace(l[c.TILDETRIM],p),o("tilde trim",e),e=e.replace(l[c.CARETTRIM],E),o("caret trim",e);let I=e.split(" ").map((e=>m(e,this.options))).join(" ").split(/\s+/).map((e=>b(e,this.options)));i&&(I=I.filter((e=>(o("loose invalid filter",e,this.options),!!e.match(l[c.COMPARATORLOOSE]))))),o("range list",I);const O=new Map,$=I.map((e=>new n(e,this.options)));for(const e of $){if(d(e))return[e];O.set(e.value,e)}O.size>1&&O.has("")&&O.delete("");const R=[...O.values()];return s.set(t,R),R}intersects(e,t){if(!(e instanceof Range))throw new TypeError("a Range is required");return this.set.some((r=>O(r,t)&&e.set.some((e=>O(e,t)&&r.every((r=>e.every((e=>r.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new a(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(y(this.set[t],e,this.options))return!0;return!1}}e.exports=Range;const s=new(r(180)),i=r(96),n=r(181),o=r(83),a=r(99),{safeRe:l,t:c,comparatorTrimReplace:u,tildeTrimReplace:p,caretTrimReplace:E}=r(97),{FLAG_INCLUDE_PRERELEASE:h,FLAG_LOOSE:f}=r(98),d=e=>"<0.0.0-0"===e.value,I=e=>""===e.value,O=(e,t)=>{let r=!0;const s=e.slice();let i=s.pop();for(;r&&s.length;)r=s.every((e=>i.intersects(e,t))),i=s.pop();return r},m=(e,t)=>(o("comp",e,t),e=v(e,t),o("caret",e),e=R(e,t),o("tildes",e),e=L(e,t),o("xrange",e),e=T(e,t),o("stars",e),e),$=e=>!e||"x"===e.toLowerCase()||"*"===e,R=(e,t)=>e.trim().split(/\s+/).map((e=>g(e,t))).join(" "),g=(e,t)=>{const r=t.loose?l[c.TILDELOOSE]:l[c.TILDE];return e.replace(r,((t,r,s,i,n)=>{let a;return o("tilde",e,t,r,s,i,n),$(r)?a="":$(s)?a=`>=${r}.0.0 <${+r+1}.0.0-0`:$(i)?a=`>=${r}.${s}.0 <${r}.${+s+1}.0-0`:n?(o("replaceTilde pr",n),a=`>=${r}.${s}.${i}-${n} <${r}.${+s+1}.0-0`):a=`>=${r}.${s}.${i} <${r}.${+s+1}.0-0`,o("tilde return",a),a}))},v=(e,t)=>e.trim().split(/\s+/).map((e=>N(e,t))).join(" "),N=(e,t)=>{o("caret",e,t);const r=t.loose?l[c.CARETLOOSE]:l[c.CARET],s=t.includePrerelease?"-0":"";return e.replace(r,((t,r,i,n,a)=>{let l;return o("caret",e,t,r,i,n,a),$(r)?l="":$(i)?l=`>=${r}.0.0${s} <${+r+1}.0.0-0`:$(n)?l="0"===r?`>=${r}.${i}.0${s} <${r}.${+i+1}.0-0`:`>=${r}.${i}.0${s} <${+r+1}.0.0-0`:a?(o("replaceCaret pr",a),l="0"===r?"0"===i?`>=${r}.${i}.${n}-${a} <${r}.${i}.${+n+1}-0`:`>=${r}.${i}.${n}-${a} <${r}.${+i+1}.0-0`:`>=${r}.${i}.${n}-${a} <${+r+1}.0.0-0`):(o("no pr"),l="0"===r?"0"===i?`>=${r}.${i}.${n}${s} <${r}.${i}.${+n+1}-0`:`>=${r}.${i}.${n}${s} <${r}.${+i+1}.0-0`:`>=${r}.${i}.${n} <${+r+1}.0.0-0`),o("caret return",l),l}))},L=(e,t)=>(o("replaceXRanges",e,t),e.split(/\s+/).map((e=>j(e,t))).join(" ")),j=(e,t)=>{e=e.trim();const r=t.loose?l[c.XRANGELOOSE]:l[c.XRANGE];return e.replace(r,((r,s,i,n,a,l)=>{o("xRange",e,r,s,i,n,a,l);const c=$(i),u=c||$(n),p=u||$(a),E=p;return"="===s&&E&&(s=""),l=t.includePrerelease?"-0":"",c?r=">"===s||"<"===s?"<0.0.0-0":"*":s&&E?(u&&(n=0),a=0,">"===s?(s=">=",u?(i=+i+1,n=0,a=0):(n=+n+1,a=0)):"<="===s&&(s="<",u?i=+i+1:n=+n+1),"<"===s&&(l="-0"),r=`${s+i}.${n}.${a}${l}`):u?r=`>=${i}.0.0${l} <${+i+1}.0.0-0`:p&&(r=`>=${i}.${n}.0${l} <${i}.${+n+1}.0-0`),o("xRange return",r),r}))},T=(e,t)=>(o("replaceStars",e,t),e.trim().replace(l[c.STAR],"")),b=(e,t)=>(o("replaceGTE0",e,t),e.trim().replace(l[t.includePrerelease?c.GTE0PRE:c.GTE0],"")),A=e=>(t,r,s,i,n,o,a,l,c,u,p,E)=>`${r=$(s)?"":$(i)?`>=${s}.0.0${e?"-0":""}`:$(n)?`>=${s}.${i}.0${e?"-0":""}`:o?`>=${r}`:`>=${r}${e?"-0":""}`} ${l=$(c)?"":$(u)?`<${+c+1}.0.0-0`:$(p)?`<${c}.${+u+1}.0-0`:E?`<=${c}.${u}.${p}-${E}`:e?`<${c}.${u}.${+p+1}-0`:`<=${l}`}`.trim(),y=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(o(e[r].semver),e[r].semver!==n.ANY&&e[r].semver.prerelease.length>0){const s=e[r].semver;if(s.major===t.major&&s.minor===t.minor&&s.patch===t.patch)return!0}return!1}return!0}},179:function(e,t,r){const s=r(124);e.exports=(e,t,r)=>{try{t=new s(t,r)}catch(e){return!1}return t.test(e)}},180:function(e,t){e.exports=class LRUCache{constructor(){this.max=1e3,this.map=new Map}get(e){const t=this.map.get(e);return void 0===t?void 0:(this.map.delete(e),this.map.set(e,t),t)}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){const e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}},181:function(e,t,r){const s=Symbol("SemVer ANY");class Comparator{static get ANY(){return s}constructor(e,t){if(t=i(t),e instanceof Comparator){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),l("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===s?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(e){const t=this.options.loose?n[o.COMPARATORLOOSE]:n[o.COMPARATOR],r=e.match(t);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new c(r[2],this.options.loose):this.semver=s}toString(){return this.value}test(e){if(l("Comparator.test",e,this.options.loose),this.semver===s||e===s)return!0;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}return a(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof Comparator))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new u(e.value,t).test(this.value):""===e.operator?""===e.value||new u(this.value,t).test(e.semver):!((t=i(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))||(!this.operator.startsWith(">")||!e.operator.startsWith(">"))&&(!this.operator.startsWith("<")||!e.operator.startsWith("<"))&&(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))&&!(a(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))&&!(a(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}}e.exports=Comparator;const i=r(96),{safeRe:n,t:o}=r(97),a=r(183),l=r(83),c=r(99),u=r(124)},182:function(e,t,r){e.exports=r(25)(675)},183:function(e,t,r){const s=r(184),i=r(186),n=r(187),o=r(188),a=r(189),l=r(190);e.exports=(e,t,r,c)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return s(e,r,c);case"!=":return i(e,r,c);case">":return n(e,r,c);case">=":return o(e,r,c);case"<":return a(e,r,c);case"<=":return l(e,r,c);default:throw new TypeError(`Invalid operator: ${t}`)}}},184:function(e,t,r){const s=r(70);e.exports=(e,t,r)=>0===s(e,t,r)},185:function(e,t){const r=/^[0-9]+$/,s=(e,t)=>{const s=r.test(e),i=r.test(t);return s&&i&&(e=+e,t=+t),e===t?0:s&&!i?-1:i&&!s?1:e<t?-1:1};e.exports={compareIdentifiers:s,rcompareIdentifiers:(e,t)=>s(t,e)}},186:function(e,t,r){const s=r(70);e.exports=(e,t,r)=>0!==s(e,t,r)},187:function(e,t,r){const s=r(70);e.exports=(e,t,r)=>s(e,t,r)>0},188:function(e,t,r){const s=r(70);e.exports=(e,t,r)=>s(e,t,r)>=0},189:function(e,t,r){const s=r(70);e.exports=(e,t,r)=>s(e,t,r)<0},190:function(e,t,r){const s=r(70);e.exports=(e,t,r)=>s(e,t,r)<=0},206:function(e,t,r){"use strict";r.r(t),r.d(t,"configProtectedKeysValidator",(function(){return y})),r.d(t,"packConfigFilesValidator",(function(){return S})),r.d(t,"OsqueryManagedPolicyCreateImportExtension",(function(){return P}));var s=r(59),i=r(16),n=r(179),o=r.n(n),a=r(2),l=r(0),c=r.n(l),u=r(49),p=r(7),E=r(80),h=r.n(E),f=r(46),d=r(44),I=r(9),O=r(4),m=r(100),$=r(101),R=r(15),g=r(1);const v=["application/json","text/plain"],N=c.a.memo((()=>Object(g.jsx)(a.EuiLink,{href:"https://github.com/osquery/osquery/blob/master/tools/deployment/osquery.example.conf",target:"_blank"},Object(g.jsx)(R.FormattedMessage,{id:"xpack.osquery.configUploader.exampleConfigLinkLabel",defaultMessage:"Example config"}))));N.displayName="ExampleOsqueryConfigLink";const L=({onChange:e})=>{const t=Object(l.useRef)(null),[r,s]=Object(l.useState)(null);let i;const n=()=>{var r;const n=i.result;let o;try{o=JSON.parse(n.replaceAll("\\\n",""),((e,t)=>"query"===e?t.replaceAll(/\s(?=\s)/gm,""):t)),s(null)}catch(e){var a;s(e),null===(a=t.current)||void 0===a||a.removeFiles()}e(o),null===(r=t.current)||void 0===r||r.removeFiles()},o=e=>{i=new FileReader,i.onloadend=n,i.readAsText(e)},u=Object(l.useCallback)((e=>{var r;if(e.length){var i;if(e.length&&(null!==(r=!!e[0].type.length&&!v.includes(e[0].type))&&void 0!==r?r:!e[0].name.endsWith(".conf")))return s(p.i18n.translate("xpack.osquery.configUploader.unsupportedFileTypeText",{defaultMessage:"File type {fileType} is not supported, please upload {supportedFileTypes} config file",values:{fileType:e[0].type,supportedFileTypes:v.join(" or ")}})),void(null===(i=t.current)||void 0===i||i.removeFiles(new Event("fake")));o(e[0])}}),[o]);return Object(g.jsx)(c.a.Fragment,null,Object(g.jsx)(a.EuiSpacer,{size:"xl"}),Object(g.jsx)(a.EuiFormRow,{fullWidth:!0,labelAppend:Object(g.jsx)(N,null),isInvalid:!!r,error:Object(g.jsx)(c.a.Fragment,null,`${r}`)},Object(g.jsx)(a.EuiFilePicker,{ref:t,id:"osquery_config_picker",initialPromptText:p.i18n.translate("xpack.osquery.configUploader.initialPromptTextLabel",{defaultMessage:"Select or drag and drop osquery config file"}),onChange:u,display:"large",fullWidth:!0,isInvalid:!!r,accept:v.join(",")})))},j=c.a.memo(L);var T=r(24),b=r(26);const A=["force","disable_watchdog","utc","events_expiry","extensions_socket","extensions_interval","extensions_timeout","pidfile","database_path","extensions_autoload","flagfile","config_plugin","logger_plugin","pack_delimiter","config_refresh"],y=(...e)=>{var t,r;const[{value:s}]=e;let n;try{n=JSON.parse(s)}catch(e){return}const o=Object(i.intersection)(Object.keys(null!==(t=null===(r=n)||void 0===r?void 0:r.options)&&void 0!==t?t:{}),A);if(o.length)return{code:"ERR_RESTRICTED_OPTIONS",message:p.i18n.translate("xpack.osquery.fleetIntegration.osqueryConfig.restrictedOptionsErrorMessage",{defaultMessage:"The following osquery options are not supported and must be removed: {restrictedFlags}.",values:{restrictedFlags:o.join(", ")}})}},S=(...e)=>{var t,r;const[{value:s}]=e;let n;try{n=JSON.parse(s)}catch(e){return}const o=Object.keys(Object(i.pickBy)(null!==(t=null===(r=n)||void 0===r?void 0:r.packs)&&void 0!==t?t:{},i.isString));if(o.length)return{code:"ERR_RESTRICTED_OPTIONS",message:p.i18n.translate("xpack.osquery.fleetIntegration.osqueryConfig.packConfigFilesErrorMessage",{defaultMessage:"Pack configuration files are not supported. These packs must be removed: {packNames}.",values:{packNames:o.join(", ")}})}},x=Object(T.f)({component:T.b}),P=c.a.memo((({onChange:e,policy:t,newPolicy:r})=>{var n;const[E,R]=Object(l.useState)(null),[v,N]=Object(l.useState)(null),[L]=Object(l.useState)(!!t),{application:{getUrlForApp:A},http:P}=Object(O.e)().services,{form:C}=Object(T.g)({defaultValue:{config:JSON.stringify(Object(i.get)(r,"inputs[0].config.osquery.value",{}),null,2)},schema:{config:{label:p.i18n.translate("xpack.osquery.fleetIntegration.osqueryConfig.configFieldLabel",{defaultMessage:"Osquery config"}),type:T.a.JSON,validations:[{validator:T.e.isJsonField(p.i18n.translate("xpack.osquery.fleetIntegration.osqueryConfig.configFieldError",{defaultMessage:"Invalid JSON"}),{allowEmptyString:!0})},{validator:S},{validator:y}]}}}),[{config:_}]=Object(T.h)({form:C,watch:"config"}),{isValid:F,setFieldValue:w}=C,D=Object(l.useMemo)((()=>null!=t&&t.policy_id?A(f.PLUGIN_ID,{path:d.pagePathGetters.policy_details({policyId:null==t?void 0:t.policy_id})[1]}):"#"),[A,null==t?void 0:t.policy_id]),M=Object(l.useCallback)((e=>{let t={};try{var r;t=null===(r=JSON.parse(_))||void 0===r?void 0:r.packs}catch(e){}e&&w("config",JSON.stringify({...e,...t||e.packs?{packs:{...e.packs,...t}}:{}},null,2))}),[_,w]);h()((()=>{if(void 0===F)return;const t=Object(u.produce)(r,(e=>{let t;try{t=JSON.parse(_)}catch(e){}return Object(i.isEmpty)(t)?Object(i.unset)(e,"inputs[0].config"):Object(s.set)(e,"inputs[0].config.osquery.value",t),e}));e({isValid:!!F,updatedPolicy:F?t:r})}),500,[F,_]),Object(l.useEffect)((()=>{if(L&&null===E){const e=async()=>{if(null!=t&&t.policy_id)try{const e=await P.fetch(f.agentPolicyRouteService.getInfoPath(null==t?void 0:t.policy_id));e.item&&N(e.item)}catch(e){}};(async()=>{try{const e=await P.fetch(f.agentRouteService.getStatusPath(),{query:{policyId:null==t?void 0:t.policy_id}});e.results&&R(e.results.total)}catch(e){}})(),e()}}),[L,P,null==t?void 0:t.policy_id,E]),Object(l.useEffect)((()=>{var i;const n=null==r||null===(i=r.package)||void 0===i?void 0:i.version;if(n){const i=o()(n,">=0.6.0");if(!L&&!i){const t=Object(u.produce)(r,(e=>{Object(s.set)(e,"inputs[0].streams",[])}));e({isValid:!0,updatedPolicy:t})}if(i){const i=Object(u.produce)(r,(e=>{var i,a;const l=null===(i=r.inputs[0])||void 0===i||null===(a=i.streams)||void 0===a?void 0:a.length;return o()(n,">=1.12.0")&&l||(L&&null!=t&&t.inputs.length?Object(s.set)(e,"inputs",t.inputs):Object(s.set)(e,"inputs[0]",{type:"osquery",enabled:!0,streams:[],policy_template:I.OSQUERY_INTEGRATION_NAME})),e}));null!=i&&i.inputs[0].config&&w("config",JSON.stringify(null==i?void 0:i.inputs[0].config.osquery.value,null,2)),e({isValid:!0,updatedPolicy:i})}}}),[]);const{permissionDenied:G}=Object(b.a)(),{euiTheme:k}=Object(a.useEuiTheme)(),U=Object(l.useMemo)((()=>({".euiAccordion__button":{color:k.colors.primary}})),[k]);return Object(g.jsx)(c.a.Fragment,null,L?null:Object(g.jsx)($.a,null),0===E?Object(g.jsx)(c.a.Fragment,null,Object(g.jsx)(a.EuiFlexGroup,null,Object(g.jsx)(a.EuiFlexItem,null,Object(g.jsx)(a.EuiCallOut,{title:"No agents in the policy",color:"warning",iconType:"help"},Object(g.jsx)("p",null,"Fleet has detected that you have not assigned yet any agent to the ",Object(g.jsx)(a.EuiLink,{href:D},null!==(n=null==v?void 0:v.name)&&void 0!==n?n:null==t?void 0:t.policy_id),". ",Object(g.jsx)("br",null),Object(g.jsx)("strong",null,"Only agents within the policy with active Osquery Manager integration support the functionality presented below."))))),Object(g.jsx)(a.EuiSpacer,null)):null,!G&&Object(g.jsx)(c.a.Fragment,null,Object(g.jsx)(m.a,{isDisabled:!L,agentPolicyId:null==t?void 0:t.policy_id}),Object(g.jsx)(a.EuiSpacer,{size:"xxl"}),Object(g.jsx)(a.EuiAccordion,{css:U,id:"advanced",buttonContent:p.i18n.translate("xpack.osquery.fleetIntegration.osqueryConfig.accordionFieldLabel",{defaultMessage:"Advanced"})},Object(g.jsx)(a.EuiSpacer,{size:"xs"}),Object(g.jsx)(T.c,{form:C},Object(g.jsx)(x,{path:"config"}),Object(g.jsx)(j,{onChange:M})))))}));P.displayName="OsqueryManagedPolicyCreateImportExtension"},70:function(e,t,r){const s=r(99);e.exports=(e,t,r)=>new s(e,r).compare(new s(t,r))},80:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r(38),i=r(0),n=s.__importDefault(r(92));t.default=function(e,t,r){void 0===t&&(t=0),void 0===r&&(r=[]);var s=n.default(e,t),o=s[0],a=s[1],l=s[2];return i.useEffect(l,r),[o,a]}},83:function(e,t,r){(function(t){const r="object"==typeof t&&Object({IS_KIBANA_DISTRIBUTABLE:"true"})&&Object({IS_KIBANA_DISTRIBUTABLE:"true"}).NODE_DEBUG&&/\bsemver\b/i.test(Object({IS_KIBANA_DISTRIBUTABLE:"true"}).NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=r}).call(this,r(182))},92:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r(0);t.default=function(e,t){void 0===t&&(t=0);var r=s.useRef(!1),i=s.useRef(),n=s.useRef(e),o=s.useCallback((function(){return r.current}),[]),a=s.useCallback((function(){r.current=!1,i.current&&clearTimeout(i.current),i.current=setTimeout((function(){r.current=!0,n.current()}),t)}),[t]),l=s.useCallback((function(){r.current=null,i.current&&clearTimeout(i.current)}),[]);return s.useEffect((function(){n.current=e}),[e]),s.useEffect((function(){return a(),l}),[t]),[o,l,a]}},96:function(e,t){const r=Object.freeze({loose:!0}),s=Object.freeze({});e.exports=e=>e?"object"!=typeof e?r:e:s},97:function(e,t,r){const{MAX_SAFE_COMPONENT_LENGTH:s,MAX_SAFE_BUILD_LENGTH:i,MAX_LENGTH:n}=r(98),o=r(83),a=(t=e.exports={}).re=[],l=t.safeRe=[],c=t.src=[],u=t.t={};let p=0;const E="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",n],[E,i]],f=(e,t,r)=>{const s=(e=>{for(const[t,r]of h)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e})(t),i=p++;o(e,i,t),u[e]=i,c[i]=t,a[i]=new RegExp(t,r?"g":void 0),l[i]=new RegExp(s,r?"g":void 0)};f("NUMERICIDENTIFIER","0|[1-9]\\d*"),f("NUMERICIDENTIFIERLOOSE","\\d+"),f("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${E}*`),f("MAINVERSION",`(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})`),f("MAINVERSIONLOOSE",`(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})`),f("PRERELEASEIDENTIFIER",`(?:${c[u.NUMERICIDENTIFIER]}|${c[u.NONNUMERICIDENTIFIER]})`),f("PRERELEASEIDENTIFIERLOOSE",`(?:${c[u.NUMERICIDENTIFIERLOOSE]}|${c[u.NONNUMERICIDENTIFIER]})`),f("PRERELEASE",`(?:-(${c[u.PRERELEASEIDENTIFIER]}(?:\\.${c[u.PRERELEASEIDENTIFIER]})*))`),f("PRERELEASELOOSE",`(?:-?(${c[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[u.PRERELEASEIDENTIFIERLOOSE]})*))`),f("BUILDIDENTIFIER",`${E}+`),f("BUILD",`(?:\\+(${c[u.BUILDIDENTIFIER]}(?:\\.${c[u.BUILDIDENTIFIER]})*))`),f("FULLPLAIN",`v?${c[u.MAINVERSION]}${c[u.PRERELEASE]}?${c[u.BUILD]}?`),f("FULL",`^${c[u.FULLPLAIN]}$`),f("LOOSEPLAIN",`[v=\\s]*${c[u.MAINVERSIONLOOSE]}${c[u.PRERELEASELOOSE]}?${c[u.BUILD]}?`),f("LOOSE",`^${c[u.LOOSEPLAIN]}$`),f("GTLT","((?:<|>)?=?)"),f("XRANGEIDENTIFIERLOOSE",`${c[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),f("XRANGEIDENTIFIER",`${c[u.NUMERICIDENTIFIER]}|x|X|\\*`),f("XRANGEPLAIN",`[v=\\s]*(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:${c[u.PRERELEASE]})?${c[u.BUILD]}?)?)?`),f("XRANGEPLAINLOOSE",`[v=\\s]*(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:${c[u.PRERELEASELOOSE]})?${c[u.BUILD]}?)?)?`),f("XRANGE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAIN]}$`),f("XRANGELOOSE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAINLOOSE]}$`),f("COERCEPLAIN",`(^|[^\\d])(\\d{1,${s}})(?:\\.(\\d{1,${s}}))?(?:\\.(\\d{1,${s}}))?`),f("COERCE",`${c[u.COERCEPLAIN]}(?:$|[^\\d])`),f("COERCEFULL",c[u.COERCEPLAIN]+`(?:${c[u.PRERELEASE]})?`+`(?:${c[u.BUILD]})?(?:$|[^\\d])`),f("COERCERTL",c[u.COERCE],!0),f("COERCERTLFULL",c[u.COERCEFULL],!0),f("LONETILDE","(?:~>?)"),f("TILDETRIM",`(\\s*)${c[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",f("TILDE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAIN]}$`),f("TILDELOOSE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAINLOOSE]}$`),f("LONECARET","(?:\\^)"),f("CARETTRIM",`(\\s*)${c[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",f("CARET",`^${c[u.LONECARET]}${c[u.XRANGEPLAIN]}$`),f("CARETLOOSE",`^${c[u.LONECARET]}${c[u.XRANGEPLAINLOOSE]}$`),f("COMPARATORLOOSE",`^${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]})$|^$`),f("COMPARATOR",`^${c[u.GTLT]}\\s*(${c[u.FULLPLAIN]})$|^$`),f("COMPARATORTRIM",`(\\s*)${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]}|${c[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",f("HYPHENRANGE",`^\\s*(${c[u.XRANGEPLAIN]})\\s+-\\s+(${c[u.XRANGEPLAIN]})\\s*$`),f("HYPHENRANGELOOSE",`^\\s*(${c[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[u.XRANGEPLAINLOOSE]})\\s*$`),f("STAR","(<|>)?=?\\s*\\*"),f("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),f("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},98:function(e,t){const r=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:r,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},99:function(e,t,r){const s=r(83),{MAX_LENGTH:i,MAX_SAFE_INTEGER:n}=r(98),{safeRe:o,t:a}=r(97),l=r(96),{compareIdentifiers:c}=r(185);class SemVer{constructor(e,t){if(t=l(t),e instanceof SemVer){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>i)throw new TypeError(`version is longer than ${i} characters`);s("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?o[a.LOOSE]:o[a.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<n)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(s("SemVer.compare",this.version,this.options,e),!(e instanceof SemVer)){if("string"==typeof e&&e===this.version)return 0;e=new SemVer(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof SemVer||(e=new SemVer(e,this.options)),c(this.major,e.major)||c(this.minor,e.minor)||c(this.patch,e.patch)}comparePre(e){if(e instanceof SemVer||(e=new SemVer(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],i=e.prerelease[t];if(s("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return c(r,i)}while(++t)}compareBuild(e){e instanceof SemVer||(e=new SemVer(e,this.options));let t=0;do{const r=this.build[t],i=e.build[t];if(s("build compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return c(r,i)}while(++t)}inc(e,t,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(r)?1:0;if(!t&&!1===r)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let s=this.prerelease.length;for(;--s>=0;)"number"==typeof this.prerelease[s]&&(this.prerelease[s]++,s=-2);if(-1===s){if(t===this.prerelease.join(".")&&!1===r)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let s=[t,e];!1===r&&(s=[t]),0===c(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=SemVer}}]);