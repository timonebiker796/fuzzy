/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.cases_bundle_jsonpfunction=window.cases_bundle_jsonpfunction||[]).push([[11],{133:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));const s={jira:["jira"],resilient:["resilient"],servicenow:["servicenow"],jiraGetFieldsByIssueType:(e,t)=>[...s.jira,e,"getFields",t],jiraGetIssueTypes:e=>[...s.jira,e,"getIssueType"],jiraGetIssues:(e,t)=>[...s.jira,e,"getIssues",t],jiraGetIssue:(e,t)=>[...s.jira,e,"getIssue",t],resilientGetIncidentTypes:e=>[...s.resilient,e,"getIncidentTypes"],resilientGetSeverity:e=>[...s.resilient,e,"getSeverity"],servicenowGetChoices:(e,t)=>[...s.servicenow,e,"getChoices",t]}},135:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));const s=({connector_id:e,service_message:t,...n})=>({...n,actionId:e,...t&&{serviceMessage:t}})},138:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var s=n(4),i=n(5),r=n(8),c=n(58),o=n(3);const a=({connectorType:e,title:t,listItems:n,isLoading:s})=>{const{triggersActionsUi:a}=Object(r.g)().services;return Object(o.jsx)(i.EuiSkeletonText,{lines:3,size:"m",isLoading:s,"data-test-subj":"connector-card-loading"},Object(o.jsx)(i.EuiFlexGroup,{direction:"column",alignItems:"stretch","data-test-subj":"connector-card"},Object(o.jsx)(i.EuiFlexGroup,{direction:"row",justifyContent:"spaceBetween",alignItems:"center"},Object(o.jsx)(i.EuiFlexItem,null,Object(o.jsx)(i.EuiText,{size:"s","data-test-subj":"connector-card-title"},Object(o.jsx)("strong",null,t))),Object(o.jsx)(i.EuiFlexItem,{grow:!1},Object(o.jsx)(i.EuiIcon,{size:"xl",type:Object(c.f)(a,e)}))),Object(o.jsx)(i.EuiFlexItem,{"data-test-subj":"connector-card-details"},n.length>0&&n.map(((e,t)=>Object(o.jsx)(i.EuiText,{size:"xs","data-test-subj":"card-list-item",key:`${e.title}-${t}`},Object(o.jsx)("strong",null,`${e.title}: `),`${e.description}`))))))};a.displayName="ConnectorCardDisplay";const l=Object(s.memo)(a)},172:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c}));var s=n(81),i=n(135);async function r({http:e,connectorId:t,signal:n}){const r=await e.post(Object(s.b)(t),{body:JSON.stringify({params:{subAction:"incidentTypes",subActionParams:{}}}),signal:n});return Object(i.a)(r)}async function c({http:e,connectorId:t,signal:n}){const r=await e.post(Object(s.b)(t),{body:JSON.stringify({params:{subAction:"severity",subActionParams:{}}}),signal:n});return Object(i.a)(r)}},210:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var s=n(44),i=n(45),r=n(133),c=n(172),o=n(151);const a=({http:e,connector:t})=>{var n;const{showErrorToast:a}=Object(i.a)();return Object(s.useQuery)(r.a.resilientGetIncidentTypes(null!==(n=null==t?void 0:t.id)&&void 0!==n?n:""),(({signal:n})=>{var s;return Object(c.a)({http:e,signal:n,connectorId:null!==(s=null==t?void 0:t.id)&&void 0!==s?s:""})}),{enabled:Boolean(t),staleTime:6e4,onSuccess:e=>{var t;e.status&&"error"===e.status&&a(new Error(o.a),{title:o.a,toastMessage:`${null!==(t=e.serviceMessage)&&void 0!==t?t:e.message}`})},onError:e=>{a(e,{title:o.a})}})}},211:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var s=n(44),i=n(45),r=n(133),c=n(172),o=n(151);const a=({http:e,connector:t})=>{var n;const{showErrorToast:a}=Object(i.a)();return Object(s.useQuery)(r.a.resilientGetSeverity(null!==(n=null==t?void 0:t.id)&&void 0!==n?n:""),(({signal:n})=>{var s;return Object(c.b)({http:e,signal:n,connectorId:null!==(s=null==t?void 0:t.id)&&void 0!==s?s:""})}),{enabled:Boolean(t),staleTime:6e4,onSuccess:e=>{var t;e.status&&"error"===e.status&&a(new Error(o.d),{title:o.d,toastMessage:`${null!==(t=e.serviceMessage)&&void 0!==t?t:e.message}`})},onError:e=>{a(e,{title:o.d})}})}},343:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var s=n(4),i=n(8),r=n(210),c=n(211),o=n(151),a=n(6),l=n(138),u=n(3);const d=({connector:e,fields:t})=>{const{incidentTypes:n=null,severityCode:d=null}=null!=t?t:{},{http:j}=Object(i.g)().services,{isLoading:b,isFetching:g,data:v}=Object(r.a)({http:j,connector:e}),{isLoading:p,isFetching:O,data:y}=Object(c.a)({http:j,connector:e}),m=b||g,f=p||O,I=null==v?void 0:v.data,x=null==y?void 0:y.data,h=Object(s.useMemo)((()=>{var e,t;return[...null!=n&&n.length>0?[{title:o.b,description:(null!=I?I:[]).filter((e=>n.includes(e.id.toString()))).map((e=>e.name)).join(", ")}]:[],...null!=d&&d.length>0?[{title:o.e,description:null!==(e=null==x||null===(t=x.find((e=>e.id.toString()===d)))||void 0===t?void 0:t.name)&&void 0!==e?e:""}]:[]]}),[n,d,I,x]);return Object(u.jsx)(l.a,{connectorType:a.k.resilient,isLoading:m||f,listItems:h,title:e.name})};d.displayName="ResilientFields"}}]);