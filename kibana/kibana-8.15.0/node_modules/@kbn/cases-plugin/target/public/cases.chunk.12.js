/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.cases_bundle_jsonpfunction=window.cases_bundle_jsonpfunction||[]).push([[12],{133:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));const s={jira:["jira"],resilient:["resilient"],servicenow:["servicenow"],jiraGetFieldsByIssueType:(t,e)=>[...s.jira,t,"getFields",e],jiraGetIssueTypes:t=>[...s.jira,t,"getIssueType"],jiraGetIssues:(t,e)=>[...s.jira,t,"getIssues",e],jiraGetIssue:(t,e)=>[...s.jira,t,"getIssue",e],resilientGetIncidentTypes:t=>[...s.resilient,t,"getIncidentTypes"],resilientGetSeverity:t=>[...s.resilient,t,"getSeverity"],servicenowGetChoices:(t,e)=>[...s.servicenow,t,"getChoices",e]}},135:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));const s=({connector_id:t,service_message:e,...n})=>({...n,actionId:t,...e&&{serviceMessage:e}})},138:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var s=n(4),i=n(5),c=n(8),r=n(58),o=n(3);const a=({connectorType:t,title:e,listItems:n,isLoading:s})=>{const{triggersActionsUi:a}=Object(c.g)().services;return Object(o.jsx)(i.EuiSkeletonText,{lines:3,size:"m",isLoading:s,"data-test-subj":"connector-card-loading"},Object(o.jsx)(i.EuiFlexGroup,{direction:"column",alignItems:"stretch","data-test-subj":"connector-card"},Object(o.jsx)(i.EuiFlexGroup,{direction:"row",justifyContent:"spaceBetween",alignItems:"center"},Object(o.jsx)(i.EuiFlexItem,null,Object(o.jsx)(i.EuiText,{size:"s","data-test-subj":"connector-card-title"},Object(o.jsx)("strong",null,e))),Object(o.jsx)(i.EuiFlexItem,{grow:!1},Object(o.jsx)(i.EuiIcon,{size:"xl",type:Object(r.f)(a,t)}))),Object(o.jsx)(i.EuiFlexItem,{"data-test-subj":"connector-card-details"},n.length>0&&n.map(((t,e)=>Object(o.jsx)(i.EuiText,{size:"xs","data-test-subj":"card-list-item",key:`${t.title}-${e}`},Object(o.jsx)("strong",null,`${t.title}: `),`${t.description}`))))))};a.displayName="ConnectorCardDisplay";const u=Object(s.memo)(a)},161:function(t,e,n){"use strict";n.d(e,"c",(function(){return c})),n.d(e,"a",(function(){return r})),n.d(e,"d",(function(){return o})),n.d(e,"b",(function(){return a}));var s=n(81),i=(n(87),n(135));async function c({http:t,connectorId:e,signal:n}){const c=await t.post(Object(s.b)(e),{body:JSON.stringify({params:{subAction:"issueTypes",subActionParams:{}}}),signal:n});return Object(i.a)(c)}async function r({http:t,connectorId:e,id:n,signal:c}){const r=await t.post(Object(s.b)(e),{body:JSON.stringify({params:{subAction:"fieldsByIssueType",subActionParams:{id:n}}}),signal:c});return Object(i.a)(r)}async function o({http:t,connectorId:e,title:n,signal:c}){const r=await t.post(Object(s.b)(e),{body:JSON.stringify({params:{subAction:"issues",subActionParams:{title:n}}}),signal:c});return Object(i.a)(r)}async function a({http:t,connectorId:e,id:n,signal:c}){const r=await t.post(Object(s.b)(e),{body:JSON.stringify({params:{subAction:"issue",subActionParams:{id:n}}}),signal:c});return Object(i.a)(r)}},209:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var s=n(44),i=n(45),c=n(133),r=n(161),o=n(139);const a=({http:t,connector:e})=>{var n;const{showErrorToast:a}=Object(i.a)();return Object(s.useQuery)(c.a.jiraGetIssueTypes(null!==(n=null==e?void 0:e.id)&&void 0!==n?n:""),(({signal:n})=>{var s;return Object(r.c)({http:t,signal:n,connectorId:null!==(s=null==e?void 0:e.id)&&void 0!==s?s:""})}),{enabled:Boolean(e),staleTime:6e4,onSuccess:t=>{var e;t.status&&"error"===t.status&&a(new Error(o.e),{title:o.e,toastMessage:`${null!==(e=t.serviceMessage)&&void 0!==e?e:t.message}`})},onError:t=>{a(t,{title:o.e})}})}},339:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return l}));var s=n(4),i=n(139),c=n(6),r=n(8),o=n(209),a=n(138),u=n(3);const l=({fields:t,connector:e})=>{const{http:n}=Object(r.g)().services,{issueType:l=null,priority:d=null,parent:j=null}=null!=t?t:{},{isLoading:b,isFetching:g,data:p}=Object(o.a)({connector:e,http:n}),y=null==p?void 0:p.data,O=Object(s.useMemo)((()=>{var t,e;return[...null!=l&&l.length>0?[{title:i.d,description:null!==(t=null===(e=(null!=y?y:[]).find((t=>t.id===l)))||void 0===e?void 0:e.name)&&void 0!==t?t:""}]:[],...null!=j&&j.length>0?[{title:i.g,description:j}]:[],...null!=d&&d.length>0?[{title:i.h,description:d}]:[]]}),[l,y,j,d]);return Object(u.jsx)(a.a,{connectorType:c.k.jira,isLoading:b||g,listItems:O,title:e.name})};l.displayName="JiraFieldsPreview"}}]);