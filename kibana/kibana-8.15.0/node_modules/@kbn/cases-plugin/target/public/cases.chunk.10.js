/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.cases_bundle_jsonpfunction=window.cases_bundle_jsonpfunction||[]).push([[10],{133:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));const s={jira:["jira"],resilient:["resilient"],servicenow:["servicenow"],jiraGetFieldsByIssueType:(e,t)=>[...s.jira,e,"getFields",t],jiraGetIssueTypes:e=>[...s.jira,e,"getIssueType"],jiraGetIssues:(e,t)=>[...s.jira,e,"getIssues",t],jiraGetIssue:(e,t)=>[...s.jira,e,"getIssue",t],resilientGetIncidentTypes:e=>[...s.resilient,e,"getIncidentTypes"],resilientGetSeverity:e=>[...s.resilient,e,"getSeverity"],servicenowGetChoices:(e,t)=>[...s.servicenow,e,"getChoices",t]}},135:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));const s=({connector_id:e,service_message:t,...n})=>({...n,actionId:e,...t&&{serviceMessage:t}})},138:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var s=n(4),i=n(5),c=n(8),r=n(58),o=n(3);const l=({connectorType:e,title:t,listItems:n,isLoading:s})=>{const{triggersActionsUi:l}=Object(c.g)().services;return Object(o.jsx)(i.EuiSkeletonText,{lines:3,size:"m",isLoading:s,"data-test-subj":"connector-card-loading"},Object(o.jsx)(i.EuiFlexGroup,{direction:"column",alignItems:"stretch","data-test-subj":"connector-card"},Object(o.jsx)(i.EuiFlexGroup,{direction:"row",justifyContent:"spaceBetween",alignItems:"center"},Object(o.jsx)(i.EuiFlexItem,null,Object(o.jsx)(i.EuiText,{size:"s","data-test-subj":"connector-card-title"},Object(o.jsx)("strong",null,t))),Object(o.jsx)(i.EuiFlexItem,{grow:!1},Object(o.jsx)(i.EuiIcon,{size:"xl",type:Object(r.f)(l,e)}))),Object(o.jsx)(i.EuiFlexItem,{"data-test-subj":"connector-card-details"},n.length>0&&n.map(((e,t)=>Object(o.jsx)(i.EuiText,{size:"xs","data-test-subj":"card-list-item",key:`${e.title}-${t}`},Object(o.jsx)("strong",null,`${e.title}: `),`${e.description}`))))))};l.displayName="ConnectorCardDisplay";const a=Object(s.memo)(l)},141:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var s=n(4),i=n.n(s),c=n(5),r=n(1),o=n(3);const l=r.i18n.translate("xpack.cases.connectors.serviceNow.deprecatedConnectorWarningTitle",{defaultMessage:"This connector type is deprecated"}),a=r.i18n.translate("xpack.cases.connectors.serviceNow.deprecatedConnectorWarningDesc",{defaultMessage:"Update this connector, or create a new one."}),u=({type:e="warning"})=>Object(o.jsx)(c.EuiCallOut,{title:l,color:e,iconType:"warning","data-test-subj":"deprecated-connector-warning-callout"},a);u.displayName="DeprecatedCallout";const d=i.a.memo(u)},152:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));const s=e=>e.map((e=>({value:e.value,text:e.label})))},153:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var s=n(44),i=n(45),c=n(133),r=n(81),o=n(135),l=n(140);const a=({http:e,connector:t,fields:n})=>{var a;const{showErrorToast:u}=Object(i.a)();return Object(s.useQuery)(c.a.servicenowGetChoices(null!==(a=null==t?void 0:t.id)&&void 0!==a?a:"",n),(({signal:s})=>{var i;return async function({http:e,connectorId:t,fields:n,signal:s}){const i=await e.post(Object(r.b)(t),{body:JSON.stringify({params:{subAction:"getChoices",subActionParams:{fields:n}}}),signal:s});return Object(o.a)(i)}({http:e,signal:s,connectorId:null!==(i=null==t?void 0:t.id)&&void 0!==i?i:"",fields:n})}),{enabled:Boolean(t),staleTime:6e4,onSuccess:e=>{var t;e.status&&"error"===e.status&&u(new Error(l.d),{title:l.d,toastMessage:`${null!==(t=e.serviceMessage)&&void 0!==t?t:e.message}`})},onError:e=>{u(e,{title:l.d})}})}},348:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var s=n(4),i=n.n(s),c=n(5),r=n(6),o=n(8),l=n(138),a=n(153),u=n(152),d=n(140),j=n(141),b=n(3);const p=["category","subcategory","priority"],g={category:[],subcategory:[],priority:[]},v=({connector:e,fields:t})=>{var n;const{category:v=null,destIp:x=!0,malwareHash:y=!0,malwareUrl:m=!0,priority:O=null,sourceIp:f=!0,subcategory:w=null}=null!=t?t:{},{http:I}=Object(o.g)().services,h=e.isDeprecated,{isLoading:E,isFetching:T,data:F}=Object(a.a)({http:I,connector:e,fields:p}),C=E||T,G=(null!==(n=null==F?void 0:F.data)&&void 0!==n?n:[]).reduce(((e,t)=>({...e,[t.element]:[...null!=e[t.element]?e[t.element]:[],t]})),g),M=Object(s.useMemo)((()=>Object(u.a)(G.category)),[G.category]),N=Object(s.useMemo)((()=>Object(u.a)(G.priority)),[G.priority]),S=Object(s.useMemo)((()=>Object(u.a)(G.subcategory.filter((e=>e.dependent_value===v)))),[G.subcategory,v]),$=Object(s.useMemo)((()=>{var e,t,n;return[...null!=x&&x?[{title:d.e,description:d.b}]:[],...null!=f&&f?[{title:d.k,description:d.b}]:[],...null!=m&&m?[{title:d.h,description:d.b}]:[],...null!=y&&y?[{title:d.g,description:d.b}]:[],...null!=O&&O.length>0?[{title:d.i,description:null===(e=N.find((e=>`${e.value}`===O)))||void 0===e?void 0:e.text}]:[],...null!=v&&v.length>0?[{title:d.c,description:null===(t=M.find((e=>`${e.value}`===v)))||void 0===t?void 0:t.text}]:[],...null!=w&&w.length>0?[{title:d.l,description:null===(n=S.find((e=>`${e.value}`===w)))||void 0===n?void 0:n.text}]:[]]}),[v,M,x,y,m,O,N,f,w,S]);return Object(b.jsx)(i.a.Fragment,null,h&&Object(b.jsx)(c.EuiFlexGroup,null,Object(b.jsx)(c.EuiFlexItem,null,Object(b.jsx)(j.a,null))),Object(b.jsx)(c.EuiFlexGroup,null,Object(b.jsx)(c.EuiFlexItem,null,Object(b.jsx)(l.a,{connectorType:r.k.serviceNowSIR,title:e.name,listItems:$,isLoading:C}))))};v.displayName="ServiceNowSIRFieldsPreviewComponent"}}]);