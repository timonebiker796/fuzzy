/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.cases_bundle_jsonpfunction=window.cases_bundle_jsonpfunction||[]).push([[2],{136:function(e,t,n){"use strict";n.d(t,"o",(function(){return c})),n.d(t,"q",(function(){return o})),n.d(t,"p",(function(){return r})),n.d(t,"n",(function(){return l})),n.d(t,"r",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"k",(function(){return b})),n.d(t,"e",(function(){return g})),n.d(t,"f",(function(){return j})),n.d(t,"v",(function(){return m})),n.d(t,"u",(function(){return p})),n.d(t,"m",(function(){return f}));var s=n(1),a=n(20);n.d(t,"a",(function(){return a.g})),n.d(t,"d",(function(){return a.l})),n.d(t,"g",(function(){return a.B})),n.d(t,"h",(function(){return a.C})),n.d(t,"i",(function(){return a.G})),n.d(t,"l",(function(){return a.fb})),n.d(t,"s",(function(){return a.ib})),n.d(t,"t",(function(){return a.jb})),n.d(t,"w",(function(){return a.nb}));var i=n(80);n.d(t,"b",(function(){return i.a})),n.d(t,"j",(function(){return i.c}));const c=s.i18n.translate("xpack.cases.create.stepOneTitle",{defaultMessage:"Select template"}),o=s.i18n.translate("xpack.cases.create.stepTwoTitle",{defaultMessage:"Case fields"}),r=s.i18n.translate("xpack.cases.create.stepThreeTitle",{defaultMessage:"Case settings"}),l=s.i18n.translate("xpack.cases.create.stepFourTitle",{defaultMessage:"External Connector Fields"}),u=(s.i18n.translate("xpack.cases.create.additionalFields",{defaultMessage:"Additional fields"}),s.i18n.translate("xpack.cases.create.syncAlertsLabel",{defaultMessage:"Sync alert status with case status"})),d=s.i18n.translate("xpack.cases.create.assignYourself",{defaultMessage:"Assign yourself"}),b=s.i18n.translate("xpack.cases.create.modalTitle",{defaultMessage:"Discard case?"}),g=s.i18n.translate("xpack.cases.create.cancelModalButton",{defaultMessage:"Cancel"}),j=s.i18n.translate("xpack.cases.create.confirmModalButton",{defaultMessage:"Exit without saving"}),m=s.i18n.translate("xpack.cases.create.templateLabel",{defaultMessage:"Template name"}),p=s.i18n.translate("xpack.cases.create.templateHelpText",{defaultMessage:"Select a template to use its default field values."}),f=s.i18n.translate("xpack.cases.create.solutionSelectorLabel",{defaultMessage:"Create case under:"})},137:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var s=n(4),a=n(44),i=n(76);const c=()=>{const e=Object(a.useQueryClient)();return Object(s.useCallback)((()=>{e.invalidateQueries(i.e.caseView()),e.invalidateQueries(i.e.tags()),e.invalidateQueries(i.e.categories())}),[e])}},139:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return o})),n.d(t,"i",(function(){return r})),n.d(t,"j",(function(){return l})),n.d(t,"h",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"g",(function(){return b})),n.d(t,"f",(function(){return g}));var s=n(1);const a=s.i18n.translate("xpack.cases.connectors.jira.unableToGetIssueTypesMessage",{defaultMessage:"Unable to get issue types"}),i=s.i18n.translate("xpack.cases.connectors.jira.unableToGetFieldsMessage",{defaultMessage:"Unable to get connectors"}),c=s.i18n.translate("xpack.cases.connectors.jira.unableToGetIssuesMessage",{defaultMessage:"Unable to get issues"}),o=e=>s.i18n.translate("xpack.cases.connectors.jira.unableToGetIssueMessage",{defaultMessage:"Unable to get issue with id {id}",values:{id:e}}),r=s.i18n.translate("xpack.cases.connectors.jira.searchIssuesComboBoxAriaLabel",{defaultMessage:"Type to search"}),l=s.i18n.translate("xpack.cases.connectors.jira.searchIssuesComboBoxPlaceholder",{defaultMessage:"Type to search"}),u=(s.i18n.translate("xpack.cases.connectors.jira.searchIssuesLoading",{defaultMessage:"Loading..."}),s.i18n.translate("xpack.cases.connectors.jira.prioritySelectFieldLabel",{defaultMessage:"Priority"})),d=s.i18n.translate("xpack.cases.connectors.jira.issueTypesSelectFieldLabel",{defaultMessage:"Issue type"}),b=s.i18n.translate("xpack.cases.connectors.jira.parentIssueSearchLabel",{defaultMessage:"Parent issue"}),g=s.i18n.translate("xpack.cases.connectors.jira.issueTypeRequired",{defaultMessage:"Issue type is required"})},140:function(e,t,n){"use strict";n.d(t,"m",(function(){return a})),n.d(t,"j",(function(){return i})),n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return o})),n.d(t,"h",(function(){return r})),n.d(t,"g",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"l",(function(){return d})),n.d(t,"k",(function(){return b})),n.d(t,"e",(function(){return g})),n.d(t,"i",(function(){return j})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return p}));var s=n(1);const a=s.i18n.translate("xpack.cases.connectors.serviceNow.urgencySelectFieldLabel",{defaultMessage:"Urgency"}),i=s.i18n.translate("xpack.cases.connectors.serviceNow.severitySelectFieldLabel",{defaultMessage:"Severity"}),c=s.i18n.translate("xpack.cases.connectors.serviceNow.impactSelectFieldLabel",{defaultMessage:"Impact"}),o=s.i18n.translate("xpack.cases.connectors.serviceNow.unableToGetChoicesMessage",{defaultMessage:"Unable to get choices"}),r=s.i18n.translate("xpack.cases.connectors.serviceNow.malwareURLTitle",{defaultMessage:"Malware URLs"}),l=s.i18n.translate("xpack.cases.connectors.serviceNow.malwareHashTitle",{defaultMessage:"Malware Hashes"}),u=s.i18n.translate("xpack.cases.connectors.serviceNow.categoryTitle",{defaultMessage:"Category"}),d=s.i18n.translate("xpack.cases.connectors.serviceNow.subcategoryTitle",{defaultMessage:"Subcategory"}),b=s.i18n.translate("xpack.cases.connectors.serviceNow.sourceIPTitle",{defaultMessage:"Source IPs"}),g=s.i18n.translate("xpack.cases.connectors.serviceNow.destinationIPTitle",{defaultMessage:"Destination IPs"}),j=s.i18n.translate("xpack.cases.connectors.serviceNow.prioritySelectFieldTitle",{defaultMessage:"Priority"}),m=s.i18n.translate("xpack.cases.connectors.serviceNow.alertFieldsTitle",{defaultMessage:"Select Observables to push"}),p=s.i18n.translate("xpack.cases.connectors.serviceNow.alertFieldEnabledText",{defaultMessage:"Yes"})},146:function(e,t,n){"use strict";n.d(t,"v",(function(){return i})),n.d(t,"t",(function(){return c})),n.d(t,"u",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"i",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return b})),n.d(t,"h",(function(){return g})),n.d(t,"s",(function(){return j})),n.d(t,"n",(function(){return m})),n.d(t,"o",(function(){return p})),n.d(t,"p",(function(){return f})),n.d(t,"q",(function(){return O})),n.d(t,"r",(function(){return x})),n.d(t,"c",(function(){return y})),n.d(t,"z",(function(){return C})),n.d(t,"C",(function(){return v})),n.d(t,"B",(function(){return h})),n.d(t,"m",(function(){return w})),n.d(t,"l",(function(){return F})),n.d(t,"j",(function(){return M})),n.d(t,"d",(function(){return E})),n.d(t,"a",(function(){return k})),n.d(t,"k",(function(){return S}));var s=n(1),a=n(20);n.d(t,"w",(function(){return a.L})),n.d(t,"x",(function(){return a.S})),n.d(t,"y",(function(){return a.Z})),n.d(t,"A",(function(){return a.pb}));const i=s.i18n.translate("xpack.cases.configureCases.incidentManagementSystemTitle",{defaultMessage:"External incident management system"}),c=s.i18n.translate("xpack.cases.configureCases.incidentManagementSystemDesc",{defaultMessage:"Connect your cases to an external incident management system. You can then push case data as an incident in a third-party system."}),o=s.i18n.translate("xpack.cases.configureCases.incidentManagementSystemLabel",{defaultMessage:"Incident management system"}),r=s.i18n.translate("xpack.cases.configureCases.addNewConnector",{defaultMessage:"Add new connector"}),l=s.i18n.translate("xpack.cases.configureCases.caseClosureOptionsTitle",{defaultMessage:"Case closures"}),u=s.i18n.translate("xpack.cases.configureCases.caseClosureOptionsDesc",{defaultMessage:"Define how to close your cases. Automatic closures require an established connection to an external incident management system."}),d=s.i18n.translate("xpack.cases.configureCases.caseClosureOptionsLabel",{defaultMessage:"Case closure options"}),b=s.i18n.translate("xpack.cases.configureCases.caseClosureOptionsManual",{defaultMessage:"Manually close cases"}),g=s.i18n.translate("xpack.cases.configureCases.caseClosureOptionsNewIncident",{defaultMessage:"Automatically close cases when pushing new incident to external system"}),j=e=>s.i18n.translate("xpack.cases.configureCases.fieldMappingTitle",{values:{thirdPartyName:e},defaultMessage:"{ thirdPartyName } field mappings"}),m=e=>s.i18n.translate("xpack.cases.configureCases.fieldMappingDesc",{values:{thirdPartyName:e},defaultMessage:"Map Case fields to { thirdPartyName } fields when pushing data to { thirdPartyName }. Field mappings require an established connection to { thirdPartyName }."}),p=e=>s.i18n.translate("xpack.cases.configureCases.fieldMappingDescErr",{values:{thirdPartyName:e},defaultMessage:"Failed to retrieve mappings for { thirdPartyName }."}),f=s.i18n.translate("xpack.cases.configureCases.fieldMappingFirstCol",{defaultMessage:"Kibana case field"}),O=e=>s.i18n.translate("xpack.cases.configureCases.fieldMappingSecondCol",{values:{thirdPartyName:e},defaultMessage:"{ thirdPartyName } field"}),x=s.i18n.translate("xpack.cases.configureCases.fieldMappingThirdCol",{defaultMessage:"On edit and update"}),y=s.i18n.translate("xpack.cases.configureCases.cancelButton",{defaultMessage:"Cancel"}),C=s.i18n.translate("xpack.cases.configureCases.saveButton",{defaultMessage:"Save"}),v=s.i18n.translate("xpack.cases.configureCases.warningTitle",{defaultMessage:"Warning"}),h=(s.i18n.translate("xpack.cases.configureCases.commentMapping",{defaultMessage:"Comments"}),e=>s.i18n.translate("xpack.cases.configureCases.updateSelectedConnector",{values:{connectorName:e},defaultMessage:"Update { connectorName }"})),w=s.i18n.translate("xpack.cases.configureCases.deprecatedTooltipText",{defaultMessage:"deprecated"}),F=s.i18n.translate("xpack.cases.configureCases.deprecatedTooltipContent",{defaultMessage:"This connector is deprecated. Update it, or create a new one."}),M=s.i18n.translate("xpack.cases.configureCases.headerTitle",{defaultMessage:"Settings"}),E=s.i18n.translate("xpack.cases.configureCases.casesWebhookMappings",{defaultMessage:"Webhook - Case Management field mappings are configured in the connector settings in the third-party REST API JSON."}),k=s.i18n.translate("xpack.cases.configureCases.customFields.addCustomField",{defaultMessage:"Add field"}),S=s.i18n.translate("xpack.cases.configureCases.templates.flyoutTitle",{defaultMessage:"Create template"})},151:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return r}));var s=n(1);const a=s.i18n.translate("xpack.cases.connectors.resilient.unableToGetIncidentTypesMessage",{defaultMessage:"Unable to get incident types"}),i=s.i18n.translate("xpack.cases.connectors.resilient.unableToGetSeverityMessage",{defaultMessage:"Unable to get severity"}),c=s.i18n.translate("xpack.cases.connectors.resilient.incidentTypesPlaceholder",{defaultMessage:"Choose types"}),o=s.i18n.translate("xpack.cases.connectors.resilient.incidentTypesLabel",{defaultMessage:"Incident types"}),r=s.i18n.translate("xpack.cases.connectors.resilient.severityLabel",{defaultMessage:"Severity"})},181:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return c}));var s=n(6);const a=()=>({id:"none",name:"none",type:s.k.none,fields:null}),i=(e,t=null)=>{const n={type:e.actionTypeId,fields:t};return{id:e.id,name:e.name,...n}},c=(e,t)=>{var n;return null!==(n=e.find((e=>e.id===t.id)))&&void 0!==n?n:null}},202:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var s=n(83),a=n(21),i=n(2),c=n(176),o=n(231),r=n(232),l=n(86);const{maxLengthField:u}=s.fieldValidators,d={title:{label:o.f,validations:[{validator:u({length:i.Nb,message:o.d("name",i.Nb)})}]},description:{label:o.c,validations:[{validator:u({length:i.zb,message:o.d("description",i.zb)})}]},tags:{label:o.h,helpText:o.j,labelAppend:l.a,validations:[{validator:({value:e})=>Object(r.a)({value:e,message:o.i}),type:a.VALIDATION_TYPES.ARRAY_ITEM,isBlocking:!1},{validator:({value:e})=>Object(r.b)({value:e,message:o.d("tag",i.Cb),limit:i.Cb}),type:a.VALIDATION_TYPES.ARRAY_ITEM,isBlocking:!1},{validator:({value:e})=>Object(r.c)({value:e,message:o.e(i.Gb),limit:i.Gb})}]},severity:{label:c.e},assignees:{labelAppend:l.a},category:{labelAppend:l.a},syncAlerts:{helpText:o.g,defaultValue:!0},customFields:{},connectorId:{label:o.b,defaultValue:"none"},fields:{defaultValue:null}}},203:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return r}));var s=n(1);s.i18n.translate("xpack.cases.connectors.swimlane.alertSourceLabel",{defaultMessage:"Alert Source"});const a=s.i18n.translate("xpack.cases.connectors.swimlane.caseIdLabel",{defaultMessage:"Case Id"}),i=s.i18n.translate("xpack.cases.connectors.swimlane.caseNameLabel",{defaultMessage:"Case Name"}),c=s.i18n.translate("xpack.cases.connectors.swimlane.severityLabel",{defaultMessage:"Severity"}),o=s.i18n.translate("xpack.cases.connectors.swimlane.emptyMappingWarningTitle",{defaultMessage:"This connector has missing field mappings"}),r=s.i18n.translate("xpack.cases.connectors.swimlane.emptyMappingWarningDesc",{defaultMessage:"This connector cannot be selected because it is missing the required case field mappings. You can edit this connector to add required field mappings or select a connector of type Cases."})},204:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"h",(function(){return o})),n.d(t,"i",(function(){return r}));var s=n(1),a=n(20);n.d(t,"a",(function(){return a.c})),n.d(t,"b",(function(){return a.l})),n.d(t,"c",(function(){return a.r})),n.d(t,"f",(function(){return a.O})),n.d(t,"g",(function(){return a.R})),n.d(t,"j",(function(){return a.db}));const i=s.i18n.translate("xpack.cases.caseView.editCategoriesLinkAria",{defaultMessage:"click to edit categories"}),c=s.i18n.translate("xpack.cases.caseView.emptyCategoryValidationMsg",{defaultMessage:"Empty category is not allowed"}),o=s.i18n.translate("xpack.cases.caseView.removeCategory",{defaultMessage:"Remove category"}),r=s.i18n.translate("xpack.cases.caseView.removeCategoryAriaLabel",{defaultMessage:"click to remove category"})},227:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return u}));var s=n(4),a=n(21),i=n(160),c=n(85),o=n(3);const r="description",l=({isLoading:e,draftStorageKey:t})=>{const[{title:n,tags:l}]=Object(a.useFormData)({watch:["title","tags"]}),u=Object(s.useRef)(),d=[c.b];return Object(o.jsx)(a.UseField,{path:r,component:i.b,componentProps:{id:r,ref:u,dataTestSubj:"caseDescription",idAria:"caseDescription",isDisabled:e,caseTitle:n,caseTags:l,disabledUiPlugins:d,draftStorageKey:t}})};l.displayName="DescriptionComponent";const u=Object(s.memo)(l)},229:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var s=n(4),a=n(21),i=n(199);const c=({fieldName:e})=>{var t,n;const{setFieldValue:c,getFormData:o}=Object(a.useFormContext)(),r=null===(t=Object(i.a)())||void 0===t?void 0:t.hooks,l=o(),u=Object(s.useCallback)((t=>c(e,t)),[e,c]);return null==r||r.useInsertTimeline(null!==(n=l[e])&&void 0!==n?n:"",u),null};c.displayName="InsertTimeline"},230:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var s,a,i=n(83),c=n(136),o=n(202);const{emptyField:r}=i.fieldValidators,l=o.a,u={...o.a,title:{...l.title,validations:[{validator:r(c.w)},...null!==(s=l.title.validations)&&void 0!==s?s:[]]},description:{...l.description,validations:[{validator:r(c.i)},...null!==(a=l.description.validations)&&void 0!==a?a:[]]}}},231:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var s=n(1),a=n(20);n.d(t,"b",(function(){return a.x})),n.d(t,"c",(function(){return a.F})),n.d(t,"d",(function(){return a.O})),n.d(t,"e",(function(){return a.P})),n.d(t,"f",(function(){return a.Q})),n.d(t,"g",(function(){return a.hb})),n.d(t,"h",(function(){return a.kb})),n.d(t,"i",(function(){return a.lb})),n.d(t,"j",(function(){return a.mb}));const i=s.i18n.translate("xpack.cases.additionalFields",{defaultMessage:"Additional fields"})},232:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return o}));const s=e=>""===e.trim(),a=(e,t)=>e.trim().length>t,i=({value:e,message:t})=>{if(!Array.isArray(e)&&s(e)||Array.isArray(e)&&e.length>0&&e.find((e=>s(e))))return{message:t}},c=({value:e,message:t,limit:n})=>{if(!Array.isArray(e)&&a(e,n)||Array.isArray(e)&&e.length>0&&e.some((e=>a(e,n))))return{message:t}},o=({value:e,message:t,limit:n})=>{if(Array.isArray(e)&&e.length>n)return{message:t}}},233:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var s=n(44),a=n(77),i=n(46),c=n(45),o=n(76),r=n(137);const l=()=>{const{showErrorToast:e,showSuccessToast:t}=Object(c.a)(),n=Object(r.a)();return Object(s.useMutation)((e=>Object(a.r)({caseId:e.caseId,connectorId:e.connector.id})),{mutationKey:o.d.pushCase,onSuccess:(e,{connector:s})=>{t(i.i(s.name)),n()},onError:t=>{e(t,{title:i.e})}})}},234:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var s=n(4),a=n(5),i=n(21),c=n(235),o=n(237),r=n(202),l=n(58),u=n(8),d=n(20),b=n(57),g=n(3);const j=({connectors:e,isLoading:t,isLoadingConnectors:n})=>{var s;const[{connectorId:j}]=Object(i.useFormData)({watch:["connectorId"]}),m=null!==(s=Object(l.e)(j,e))&&void 0!==s?s:null,{actions:p}=Object(u.c)(),{permissions:f}=Object(b.a)(),O=f.connectors&&p.read,x=Object(l.i)({config:r.a.connectorId,connectors:e});return O?Object(g.jsx)(a.EuiFormRow,{fullWidth:!0},Object(g.jsx)(a.EuiFlexGroup,null,Object(g.jsx)(a.EuiFlexItem,null,Object(g.jsx)(i.UseField,{path:"connectorId",config:x,component:c.a,componentProps:{connectors:e,dataTestSubj:"caseConnectors",disabled:t||n,idAria:"caseConnectors",isLoading:t||n}})),Object(g.jsx)(a.EuiFlexItem,null,Object(g.jsx)(o.a,{connector:m})))):Object(g.jsx)(a.EuiText,{"data-test-subj":"create-case-connector-permissions-error-msg",size:"s"},Object(g.jsx)("span",null,d.Z))};j.displayName="ConnectorComponent";const m=Object(s.memo)(j)},235:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var s=n(4),a=n(39),i=n(5),c=n(3),o=n(21),r=n(236),l={name:"1iiuujh",styles:".euiFormErrorText{display:none;}"};const u=({connectors:e,dataTestSubj:t,disabled:n=!1,field:u,idAria:d,isLoading:b=!1,handleChange:g})=>{const{isInvalid:j,errorMessage:m}=Object(o.getFieldValidityAndErrorMessage)(u),p=Object(s.useCallback)((e=>{g&&g(e),u.setValue(e)}),[g,u]);return Object(c.jsx)(i.EuiFormRow,{css:l,"data-test-subj":t,describedByIds:d?[d]:void 0,error:m,fullWidth:!0,helpText:u.helpText,isInvalid:j,label:u.label,labelAppend:u.labelAppend},Object(c.jsx)(r.a,{connectors:e,disabled:n,isLoading:b,onChange:p,selectedConnector:Object(a.isEmpty)(u.value)?"none":u.value}))};u.displayName="ConnectorSelector"},236:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var s=n(4),a=n.n(s),i=n(5),c=n(3),o=n(146),r=n(8),l=n(58);const u={value:"none",inputDisplay:Object(c.jsx)(i.EuiFlexGroup,{gutterSize:"none",alignItems:"center",responsive:!1},Object(c.jsx)(i.EuiFlexItem,{grow:!1},Object(c.jsx)(i.EuiIcon,{css:{name:"5m3se3",styles:"margin-right:13px;margin-bottom:0!important"},type:"minusInCircle",size:"m"})),Object(c.jsx)(i.EuiFlexItem,null,Object(c.jsx)("span",{"data-test-subj":"dropdown-connector-no-connector"},o.x))),"data-test-subj":"dropdown-connector-no-connector"},d=e=>({value:"add-connector",inputDisplay:Object(c.jsx)("span",{css:Object(c.css)("font-size:",e.font.scale.xs,";font-weight:",e.font.weight.medium,";line-height:",e.size.l,";&:hover{text-decoration:underline;}","")},o.b),"data-test-subj":"dropdown-connector-add-connector"}),b=({connectors:e,disabled:t,isLoading:n,onChange:a,selectedConnector:b,appendAddConnectorButton:g=!1})=>{const{triggersActionsUi:j}=Object(r.g)().services,{actions:m}=Object(r.c)(),p=m.crud,{euiTheme:f}=Object(i.useEuiTheme)(),O=Object(s.useMemo)((()=>{const t=e.reduce(((e,t)=>{const n=Object(l.f)(j,t.actionTypeId);return[...e,{value:t.id,inputDisplay:Object(c.jsx)(i.EuiFlexGroup,{gutterSize:"s",alignItems:"center",responsive:!1},Object(c.jsx)(i.EuiFlexItem,{grow:!1},Object(c.jsx)(i.EuiIcon,{css:Object(c.css)("margin-right:",f.size.m,";margin-bottom:0!important;",""),type:"string"==typeof n?n:(a=n,e=>Object(c.jsx)(s.Suspense,{fallback:Object(c.jsx)(i.EuiLoadingSpinner,{size:"m"})},Object(c.jsx)(a,e))),size:"m"})),Object(c.jsx)(i.EuiFlexItem,{grow:!1},Object(c.jsx)("span",null,t.name,Object(l.j)(t)&&` (${o.m})`)),Object(l.j)(t)&&Object(c.jsx)(i.EuiFlexItem,{grow:!1},Object(c.jsx)(i.EuiIconTip,{css:Object(c.css)("margin-left:",f.size.s," margin-bottom:0!important;",""),"aria-label":o.l,size:"m",type:"warning",color:"warning",content:o.l}))),"data-test-subj":`dropdown-connector-${t.id}`}];var a}),[u]);return g&&p?[...t,d(f)]:t}),[e]);return Object(c.jsx)(i.EuiSuperSelect,{"aria-label":o.u,"data-test-subj":"dropdown-connectors",disabled:t,fullWidth:!0,isLoading:n,onChange:a,options:O,valueOfSelected:b})};b.displayName="ConnectorsDropdown";const g=a.a.memo(b)},237:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var s=n(4),a=n.n(s),i=n(5),c=n(255),o=n(3);const r=({connector:e})=>{const{caseConnectorsRegistry:t}=Object(c.a)();if(null==e||null==e.actionTypeId||".none"===e.actionTypeId)return null;const{fieldsComponent:n}=t.get(e.actionTypeId);return Object(o.jsx)(a.a.Fragment,null,null!=n?Object(o.jsx)(s.Suspense,{fallback:Object(o.jsx)(i.EuiFlexGroup,{justifyContent:"center"},Object(o.jsx)(i.EuiFlexItem,null,Object(o.jsx)(i.EuiSkeletonText,{lines:5,size:"m"})))},Object(o.jsx)("div",{"data-test-subj":"connector-fields"},Object(o.jsx)(n,{connector:e,key:e.id}))):null)};r.displayName="ConnectorFieldsForm";const l=Object(s.memo)(r)},238:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var s=n(4),a=n(21),i=n(24),c=n(136),o=n(3);const r=({isLoading:e})=>{const[{syncAlerts:t}]=Object(a.useFormData)({watch:["syncAlerts"]});return Object(o.jsx)(a.UseField,{path:"syncAlerts",component:i.ToggleField,config:{defaultValue:!0},componentProps:{idAria:"caseSyncAlerts","data-test-subj":"caseSyncAlerts",label:c.r,euiFieldProps:{disabled:e,label:t?c.t:c.s}}})};r.displayName="SyncAlertsToggleComponent";const l=Object(s.memo)(r)},239:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var s=n(59),a=n.n(s),i=n(4),c=n.n(i),o=n(5),r=n(3),l=n(20);const u=({icon:e=!1,size:t="s",compact:n=!1})=>{const s={label:n?null:l.J,size:t,...(e||n)&&{iconType:"beaker"},tooltipContent:l.I,tooltipPosition:"bottom","data-test-subj":"case-experimental-badge"},{euiTheme:i}=Object(o.useEuiTheme)();return Object(r.jsx)(o.EuiBetaBadge,a()({css:Object(r.css)("margin-left:",i.size.xs,";","")},s))};u.displayName="ExperimentalBadge";const d=c.a.memo(u)},240:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var s=n(5),a=(n(4),n(150)),i=n(3);const c=({selectedSeverity:e,onSeverityChange:t,isLoading:n,isDisabled:c})=>{const o=Object.keys(a.a).map((e=>{const t=a.a[e];return{value:e,inputDisplay:Object(i.jsx)(s.EuiFlexGroup,{gutterSize:"xs",alignItems:"center",responsive:!1,"data-test-subj":`case-severity-selection-${e}`},Object(i.jsx)(s.EuiFlexItem,{grow:!1},Object(i.jsx)(s.EuiHealth,{color:t.color},t.label)))}}));return Object(i.jsx)(s.EuiSuperSelect,{disabled:c,fullWidth:!0,isLoading:n,options:o,valueOfSelected:e,onChange:t,"data-test-subj":"case-severity-selection"})};c.displayName="SeveritySelector"},254:function(e,t,n){"use strict";n.d(t,"a",(function(){return ie}));var s=n(4),a=n.n(s),i=n(5),c=n(21),o=n(227),r=n(136),l=n(200),u=n(229),d=n(58),b=n(171),g=n(3);const j=()=>{const{submit:e,isSubmitting:t}=Object(c.useFormContext)();return Object(g.jsx)(i.EuiButton,{"tour-step":"create-case-submit","data-test-subj":"create-case-submit",fill:!0,iconType:"plusInCircle",isDisabled:t,isLoading:t,onClick:e},r.g)};j.displayName="SubmitCaseButton";const m=Object(s.memo)(j);var p=n(230),f=n(44),O=n(77),x=n(46),y=n(45),C=n(76),v=n(188),h=n(233),w=n(91),F=n(168),M=n(99),E=n(40),k=n(12),S=n(36),T=n(6),I=n(181);const L=({owner:e,connector:t,...n})=>({title:"",assignees:[],tags:[],category:void 0,severity:T.d.LOW,description:"",settings:{syncAlerts:!0},customFields:[],...n,connector:null!=t?t:Object(I.a)(),owner:e}),A=e=>{var t;const{connector:n,settings:s,customFields:a,...i}=e;return{...i,connectorId:n.id,fields:n.fields,syncAlerts:s.syncAlerts,customFields:null!==(t=Object(d.c)(a))&&void 0!==t?t:{}}},N=({afterCaseCreated:e,children:t,onSuccess:n,attachments:a,initialValue:i,currentConfiguration:o,selectedOwner:r})=>{const{appId:l}=Object(E.a)(),{data:u=[]}=Object(F.a)(),{mutateAsync:b}=(()=>{const{showErrorToast:e}=Object(y.a)(),t=Object(v.a)();return Object(f.useMutation)((({request:e})=>Object(O.q)({newCase:e})),{mutationKey:C.d.createCase,onSuccess:()=>{t()},onError:t=>{e(t,{title:x.b})}})})(),{mutateAsync:j}=Object(w.a)(),{mutateAsync:m}=Object(h.a)(),{startTransaction:S}=Object(M.b)(),T=Object(s.useCallback)((async(t,s)=>{if(s){S({appId:l,attachments:a});const s=await b({request:t});s&&Array.isArray(a)&&a.length>0&&await j({caseId:s.id,caseOwner:s.owner,attachments:a}),e&&s&&await e(s,j),null!=s&&s.id&&"none"!==t.connector.id&&await m({caseId:s.id,connector:t.connector}),n&&s&&n(s)}}),[S,l,a,b,e,n,j,m]),{form:N}=Object(c.useForm)({defaultValue:{...L({owner:r,connector:o.connector}),...i},options:{stripEmptyFields:!1},schema:p.a,onSubmit:T,serializer:e=>((e,t,n)=>{if(null==n||Object(k.isEmpty)(n))return L({owner:t.owner,connector:t.connector});const{connectorId:s,fields:a,syncAlerts:i,customFields:c,...o}=n,r=Object(d.h)({fields:a}),l=Object(d.e)(s,e),u=l?Object(I.b)(l,r.fields):Object(I.a)(),b=Object(d.d)(c,t.customFields);return{...(e=>{let t={...e,title:e.title.trim(),description:e.description.trim()};return e.category&&(t={...t,category:e.category.trim()}),e.tags&&(t={...t,tags:e.tags.map((e=>e.trim()))}),t})(o),connector:u,settings:{syncAlerts:null!=i&&i},owner:t.owner,customFields:b}})(u,{...o,owner:r},e),deserializer:A});return Object(g.jsx)(c.Form,{onKeyDown:e=>{"Enter"===e.key&&e.stopPropagation()},form:N},t)};N.displayName="FormContext";var z=n(57);const P=({title:e,confirmButtonText:t=r.f,cancelButtonText:n=r.e,onConfirm:s,onCancel:a})=>Object(g.jsx)(i.EuiConfirmModal,{title:e,onCancel:a,onConfirm:s,cancelButtonText:n,confirmButtonText:t,buttonColor:"danger",defaultFocusedButton:"confirm","data-test-subj":"cancel-creation-confirmation-modal"});P.displayName="CancelCreationConfirmationModal";const R=a.a.memo(P);var D=n(180),V=n(222);const B=e=>e||[D.b];var W=n(234),G=n(238),U=n(143),q=n(239),_=n(86),K={name:"1amee4m",styles:"line-height:0"},Y={name:"y6n6nb",styles:"flex-grow:0"};const H=({isLoading:e,templates:t,onTemplateChange:n})=>{const[a,c]=Object(s.useState)(),o=Object(i.useIsWithinMaxBreakpoint)("s"),l=t.map((e=>({text:e.name,value:e.key}))),u=Object(s.useCallback)((e=>{const s=t.find((t=>t.key===e.target.value));s&&(c(s.key),n(s.caseFields))}),[n,t]);return Object(g.jsx)(i.EuiFormRow,{id:"createCaseTemplate",fullWidth:!0,label:r.v,labelAppend:Object(g.jsx)(i.EuiFlexGroup,{alignItems:"center",gutterSize:"s",css:Y,responsive:!1},Object(g.jsx)(i.EuiFlexItem,{grow:!1,css:K},Object(g.jsx)(q.a,{compact:o})),Object(g.jsx)(i.EuiFlexItem,{grow:!1},_.a)),helpText:r.u},Object(g.jsx)(i.EuiSelect,{onChange:u,options:l,disabled:e,isLoading:e,"data-test-subj":"create-case-template-select",fullWidth:!0,hasNoInitialSelection:!0,value:a}))};H.displayName="TemplateSelector";const Q=a.a.memo(H);var $=n(256),J=n(71),Z={name:"a9f4ld",styles:"position:absolute;top:50%;left:50%;z-index:99"};const X=a.a.memo((({configuration:e,connectors:t,isLoading:n,withSteps:o,draftStorageKey:l})=>{const{reset:u,updateFieldValues:b,isSubmitting:j,setFieldValue:m}=Object(c.useFormContext)(),{isSyncAlertsEnabled:p}=Object(U.a)(),f=e.owner;Object(s.useEffect)((()=>{m("connectorId",e.connector.id)}),[e.connector.id,m]);const O=Object(s.useCallback)((e=>{const t=((e,t)=>{var n;const s=Object(d.m)(null!=t?t:{}),a=null==s||null===(n=s.customFields)||void 0===n?void 0:n.map((e=>{const t=J.a[e.type],{convertNullToEmpty:n}=t(),s=n?n(e.value):e.value;return{...e,value:s}}));return L({owner:e,...s,customFields:a})})(f,e);u({resetValues:!0,defaultValue:L({owner:f})}),b(t)}),[f,u,b]),x=Object(s.useMemo)((()=>({title:r.o,children:Object(g.jsx)(Q,{isLoading:j||n,templates:e.templates,onTemplateChange:O})})),[e.templates,n,j,O]),y=Object(s.useMemo)((()=>({title:r.q,children:Object(g.jsx)($.a,{configurationCustomFields:e.customFields,isLoading:j,setCustomFieldsOptional:!1,isEditMode:!1,draftStorageKey:l})})),[e.customFields,l,j]),C=Object(s.useMemo)((()=>({title:r.p,children:Object(g.jsx)(G.a,{isLoading:j})})),[j]),v=Object(s.useMemo)((()=>({title:r.n,children:Object(g.jsx)(W.a,{connectors:t,isLoadingConnectors:n,isLoading:j,key:e.id})})),[e.id,t,n,j]),h=Object(s.useMemo)((()=>[x,y,...p?[C]:[],v]),[x,y,p,C,v]);return Object(g.jsx)(a.a.Fragment,null,j&&Object(g.jsx)(i.EuiLoadingSpinner,{css:Z,"data-test-subj":"create-case-loading-spinner",size:"xl"}),o?Object(g.jsx)(i.EuiSteps,{headingElement:"h2",steps:h,"data-test-subj":"case-creation-form-steps"}):Object(g.jsx)(a.a.Fragment,null,Object(g.jsx)(i.EuiSpacer,{size:"l"}),Object(g.jsx)(i.EuiFlexGroup,{direction:"column"},Object(g.jsx)(i.EuiFlexGroup,{direction:"column"},Object(g.jsx)(i.EuiFlexItem,null,Object(g.jsx)(i.EuiTitle,{size:"s"},Object(g.jsx)("h2",null,r.o))),Object(g.jsx)(i.EuiFlexItem,null,x.children)),Object(g.jsx)(i.EuiFlexGroup,{direction:"column"},Object(g.jsx)(i.EuiFlexItem,null,Object(g.jsx)(i.EuiTitle,{size:"s"},Object(g.jsx)("h2",null,r.q))),Object(g.jsx)(i.EuiFlexItem,null,y.children)),p&&Object(g.jsx)(i.EuiFlexGroup,{direction:"column"},Object(g.jsx)(i.EuiFlexItem,null,Object(g.jsx)(i.EuiTitle,{size:"s"},Object(g.jsx)("h2",null,r.p))),Object(g.jsx)(i.EuiFlexItem,null,C.children)),Object(g.jsx)(i.EuiFlexGroup,{direction:"column"},Object(g.jsx)(i.EuiFlexItem,null,Object(g.jsx)(i.EuiTitle,{size:"s"},Object(g.jsx)("h2",null,r.n))),Object(g.jsx)(i.EuiFlexItem,null,v.children)))))}));X.displayName="CreateCaseFormFields";var ee=n(2);const te=({availableOwners:e,isLoading:t,onOwnerChange:n,selectedOwner:s})=>{const a=Object.entries(ee.Tb).filter((([t])=>e.includes(t))).map((([e,t])=>({value:e,inputDisplay:Object(g.jsx)(i.EuiFlexGroup,{gutterSize:"xs",alignItems:"center",responsive:!1},Object(g.jsx)(i.EuiFlexItem,{grow:!1},Object(g.jsx)(i.EuiIcon,{type:t.iconType,size:"m",title:t.label,className:"eui-alignMiddle"})),Object(g.jsx)(i.EuiFlexItem,null,Object(g.jsx)("small",null,t.label))),"data-test-subj":`${t.id}OwnerOption`})));return Object(g.jsx)(i.EuiFormRow,{display:"columnCompressed",label:r.m,"data-test-subj":"caseOwnerSelector",fullWidth:!0},Object(g.jsx)(i.EuiSuperSelect,{"data-test-subj":"caseOwnerSuperSelect",options:a,isLoading:t,fullWidth:!0,valueOfSelected:s,onChange:e=>(e=>{n(e)})(e),compressed:!0}))};te.displayName="CaseOwnerSelectionComponent";const ne=Object(s.memo)(te);var se=n(144);const ae=a.a.memo((({currentConfiguration:e,isLoadingCaseConfiguration:t,withSteps:n,draftStorageKey:i,selectedOwner:o,onSelectedOwner:r})=>{const{owner:l}=Object(z.a)(),u=Object(se.a)(),d=Boolean(!l.length&&u.length>1),{reset:b}=Object(c.useFormContext)(),{data:j=[],isLoading:m}=Object(F.a)(),p=Object(s.useCallback)((t=>{r(t),b({resetValues:!0,defaultValue:L({owner:t,connector:e.connector})})}),[e.connector,r,b]);return Object(g.jsx)(a.a.Fragment,null,d&&Object(g.jsx)(ne,{selectedOwner:o,availableOwners:u,isLoading:t,onOwnerChange:p}),Object(g.jsx)(X,{connectors:j,isLoading:m||t,withSteps:n,draftStorageKey:i,configuration:e}))}));ae.displayName="FormFieldsWithFormContext";const ie=a.a.memo((({withSteps:e=!0,afterCaseCreated:t,onCancel:n,onSuccess:a,timelineIntegration:c,attachments:j,initialValue:p})=>{var f;const{owner:O}=Object(z.a)(),x=Object(se.a)(),y=null!==(f=O[0])&&void 0!==f?f:(e=>{var t;return e.includes(S.GENERAL_CASES_OWNER)?S.GENERAL_CASES_OWNER:null!==(t=e[0])&&void 0!==t?t:S.GENERAL_CASES_OWNER})(x),[C,v]=Object(s.useState)(y),{data:h,isLoading:w}=Object(V.a)({select:B}),F=Object(b.a)({appId:O[0],caseId:"createCase",commentId:"description"}),{showConfirmationModal:M,onOpenModal:E,onConfirmModal:k,onCancelModal:T}=(({onConfirmationCallback:e})=>{const[t,n]=Object(s.useState)(!1);return{showConfirmationModal:t,onOpenModal:Object(s.useCallback)((()=>{n(!0)}),[]),onConfirmModal:Object(s.useCallback)((()=>{n(!1),e()}),[e]),onCancelModal:Object(s.useCallback)((()=>{n(!1)}),[])}})({onConfirmationCallback:()=>{n(),Object(d.n)(F)}}),I=Object(s.useMemo)((()=>Object(D.a)({configurations:h,owner:C})),[h,C]);return Object(g.jsx)(l.b,{timelineIntegration:c},Object(g.jsx)(N,{afterCaseCreated:t,onSuccess:e=>(Object(d.n)(F),a(e)),attachments:j,initialValue:p,currentConfiguration:I,selectedOwner:C},Object(g.jsx)(ae,{withSteps:e,draftStorageKey:F,selectedOwner:C,onSelectedOwner:v,isLoadingCaseConfiguration:w,currentConfiguration:I}),Object(g.jsx)(i.EuiFormRow,{fullWidth:!0},Object(g.jsx)(i.EuiFlexGroup,{alignItems:"center",justifyContent:"flexEnd",gutterSize:"l",responsive:!1},Object(g.jsx)(i.EuiFlexItem,{grow:!1},Object(g.jsx)(i.EuiButtonEmpty,{"data-test-subj":"create-case-cancel",iconType:"cross",onClick:E,size:"s"},r.d),M&&Object(g.jsx)(R,{title:r.k,onConfirm:k,onCancel:T})),Object(g.jsx)(i.EuiFlexItem,{grow:!1},Object(g.jsx)(m,null)))),Object(g.jsx)(u.a,{fieldName:o.b})))}));ie.displayName="CreateCaseForm"},255:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var s=n(23),a=n.n(s),i=n(1);var c=n(4),o=n(6),r=n(139);r.d,r.h,r.g;var l=n(203);l.a,l.b,l.e;var u=n(151);u.b,u.e;var d=n(140);d.f,d.j,d.m;const b=new class connectors_CaseConnectors{constructor(){a()(this,"caseConnectorsRegistry",void 0),this.caseConnectorsRegistry=(()=>{const e=new Map;return{has:t=>e.has(t),register:t=>{if(e.has(t.id))throw new Error(i.i18n.translate("xpack.cases.connecors.register.duplicateCaseConnectorErrorMessage",{defaultMessage:'Object type "{id}" is already registered.',values:{id:t.id}}));e.set(t.id,t)},get:t=>{const n=e.get(t);return function(e,t){if(!e)throw new Error(i.i18n.translate("xpack.cases.connecors.get.missingCaseConnectorErrorMessage",{defaultMessage:'Object type "{id}" is not registered.',values:{id:t}}))}(n,t),n},list:()=>Array.from(e).map((([e,t])=>t))}})(),this.init()}init(){this.caseConnectorsRegistry.register({id:o.k.jira,fieldsComponent:Object(c.lazy)((()=>n.e(16).then(n.bind(null,353)))),previewComponent:Object(c.lazy)((()=>n.e(12).then(n.bind(null,339))))}),this.caseConnectorsRegistry.register({id:o.k.resilient,fieldsComponent:Object(c.lazy)((()=>n.e(15).then(n.bind(null,342)))),previewComponent:Object(c.lazy)((()=>n.e(11).then(n.bind(null,343))))}),this.caseConnectorsRegistry.register({id:o.k.serviceNowITSM,fieldsComponent:Object(c.lazy)((()=>n.e(13).then(n.bind(null,345)))),previewComponent:Object(c.lazy)((()=>n.e(9).then(n.bind(null,346))))}),this.caseConnectorsRegistry.register({id:o.k.serviceNowSIR,fieldsComponent:Object(c.lazy)((()=>n.e(14).then(n.bind(null,347)))),previewComponent:Object(c.lazy)((()=>n.e(10).then(n.bind(null,348))))}),this.caseConnectorsRegistry.register({id:o.k.swimlane,fieldsComponent:Object(c.lazy)((()=>n.e(25).then(n.bind(null,340)))),previewComponent:Object(c.lazy)((()=>n.e(22).then(n.bind(null,341))))}),this.caseConnectorsRegistry.register({id:o.k.casesWebhook,fieldsComponent:Object(c.lazy)((()=>n.e(24).then(n.bind(null,344)))),previewComponent:Object(c.lazy)((()=>n.e(21).then(n.bind(null,357))))})}registry(){return this.caseConnectorsRegistry}},g=()=>({caseConnectorsRegistry:b.registry()})},256:function(e,t,n){"use strict";n.d(t,"a",(function(){return $}));var s=n(4),a=n.n(s),i=n(5),c=n(21),o=n(24),r=n(3);const l=Object(c.getUseField)({component:o.Field}),u=({isLoading:e,autoFocus:t=!1})=>Object(r.jsx)(l,{path:"title",componentProps:{idAria:"caseTitle","data-test-subj":"caseTitle",euiFieldProps:{autoFocus:t,fullWidth:!0,disabled:e}}});u.displayName="TitleComponent";const d=Object(s.memo)(u);var b=n(177),g=n(136);const j=({isLoading:e})=>{const{data:t=[],isLoading:n}=Object(b.a)(),a=Object(s.useMemo)((()=>t.map((e=>({label:e})))),[t]);return Object(r.jsx)(c.UseField,{path:"tags",component:o.ComboBoxField,componentProps:{idAria:"caseTags","data-test-subj":"caseTags",euiFieldProps:{fullWidth:!0,placeholder:"",disabled:e||n,options:a,noSuggestions:!1,customOptionText:g.a}}})};j.displayName="TagsComponent";const m=Object(s.memo)(j);var p=n(197),f=n(257),O=n(86);const x=({isLoading:e})=>{const{isLoading:t,data:n=[]}=Object(p.a)();return Object(r.jsx)(f.a,{isLoading:e||t,availableCategories:n,formRowProps:{labelAppend:O.a}})};x.displayName="CategoryComponent";const y=Object(s.memo)(x);var C=n(12),v=n(6),h=n(240),w=n(176);const F=({isLoading:e})=>Object(r.jsx)(c.UseField,{path:"severity",componentProps:{isLoading:e}},(t=>{const{isInvalid:n,errorMessage:s}=Object(c.getFieldValidityAndErrorMessage)(t);return Object(r.jsx)(i.EuiFormRow,{"data-test-subj":"caseSeverity",fullWidth:!0,label:w.e,error:s,isInvalid:n},Object(r.jsx)(h.a,{isLoading:e,isDisabled:e,selectedSeverity:Object(C.isEmpty)(t.value)?v.d.LOW:t.value,onSeverityChange:e=>{t.setValue(e)}}))}));F.displayName="SeverityComponent";const M=Object(s.memo)(F);var E=n(227),k=n(143),S=n(221),T=n(264),I=n(2),L=n(178),A=n(57),N=n(169),z=n(167),P=n(144),R=n(145),D=n(165),V=n(189);const B="assignees",W=a.a.memo((({field:e,isLoading:t,isDisabled:n,options:a,currentUserProfile:o,onSearchComboChange:l})=>{const{setValue:u,value:d}=e,{isInvalid:b,errorMessage:j}=Object(c.getFieldValidityAndErrorMessage)(e),m=d.map((({uid:e})=>a.find((t=>t.key===e))||null)).filter((e=>null!=e)),p=Object(s.useCallback)((e=>{u(e.map((e=>(e=>{var t;return{uid:null!==(t=e.value)&&void 0!==t?t:""}})(e))))}),[u]),f=Object(s.useCallback)((()=>{o&&u([...d,{uid:o.uid}])}),[o,d,u]),x=Object(s.useCallback)(((e,t,n)=>{const{user:s,data:a}=e,c=Object(S.e)(s);return Object(r.jsx)(i.EuiFlexGroup,{alignItems:"center",justifyContent:"flexStart",gutterSize:"s",responsive:!1},Object(r.jsx)(i.EuiFlexItem,{grow:!1},Object(r.jsx)(T.a,{user:s,avatar:a.avatar,size:"s"})),Object(r.jsx)(i.EuiFlexGroup,{alignItems:"center",justifyContent:"spaceBetween",gutterSize:"none",responsive:!1},Object(r.jsx)(i.EuiFlexItem,null,Object(r.jsx)(i.EuiHighlight,{search:t,className:n},c)),s.email&&s.email!==c?Object(r.jsx)(i.EuiFlexItem,{grow:!1},Object(r.jsx)(i.EuiTextColor,{color:"subdued"},Object(r.jsx)(i.EuiHighlight,{search:t,className:n},s.email))):null))}),[]),y=Boolean(null==d?void 0:d.find((e=>e.uid===(null==o?void 0:o.uid))));return Object(r.jsx)(i.EuiFormRow,{id:"createCaseAssignees",fullWidth:!0,label:g.b,labelAppend:O.a,helpText:o?Object(r.jsx)(i.EuiLink,{"data-test-subj":"create-case-assign-yourself-link",onClick:f,disabled:y},g.c):void 0,isInvalid:b,error:j,"data-test-subj":"caseAssignees"},Object(r.jsx)(i.EuiComboBox,{fullWidth:!0,async:!0,isLoading:t,options:a,"data-test-subj":"createCaseAssigneesComboBox",selectedOptions:m,isDisabled:n,onChange:p,onSearchChange:l,renderOption:x,rowHeight:35}))}));W.displayName="AssigneesFieldComponent";const G=({isLoading:e})=>{var t,n;const{owner:a}=Object(A.a)(),[{assignees:i}]=Object(c.useFormData)({watch:[B]}),o=Object(P.a)(Object(R.b)("delete")),[l,u]=Object(s.useState)(""),{isUserTyping:d,onContentChange:b,onDebounce:j}=Object(D.a)(),m=a.length>0,{data:p,isLoading:f}=Object(N.a)(),{data:O=[],isLoading:x,isFetching:y}=Object(L.a)({name:l,owners:m?a:o,onDebounce:j}),v=Object(C.differenceWith)(null!=i?i:[],null!=O?O:[],((e,t)=>e.uid===t.uid)),{data:h=new Map,isFetching:w}=Object(V.a)({uids:v.map((e=>e.uid))}),F=Array.from(h).map((([e,t])=>t)),M=null!==(t=null===(n=Object(z.a)(p,[...O,...F]))||void 0===n?void 0:n.map((e=>(e=>({label:Object(S.e)(e.user),value:e.uid,key:e.uid,user:e.user,data:e.data}))(e))))&&void 0!==t?t:[],E=e||f||w||x||y||d,k=e||f||w;return Object(r.jsx)(c.UseField,{path:B,config:{label:g.b,defaultValue:[],validations:[{validator:({value:e})=>{if(e.length>I.jb)return{message:g.j}}}]},component:W,componentProps:{isLoading:E,isDisabled:k,options:M,onSearchComboChange:e=>{Object(C.isEmpty)(e)||u(e),b(e)},currentUserProfile:p,isUserTyping:d}})};G.displayName="AssigneesComponent";const U=Object(s.memo)(G);var q=n(71),_=n(231);const K=({isLoading:e,setCustomFieldsOptional:t=!1,configurationCustomFields:n,isEditMode:a})=>{const c=Object(s.useMemo)((()=>H(n)),[n]).map((n=>{const s=(0,q.a[n.type])().build().Create;return Object(r.jsx)(s,{isLoading:e,customFieldConfiguration:n,key:n.key,setAsOptional:t,setDefaultValue:!a})}));return n.length?Object(r.jsx)(i.EuiFormRow,{fullWidth:!0},Object(r.jsx)(i.EuiFlexGroup,{direction:"column",gutterSize:"s"},Object(r.jsx)(i.EuiText,{size:"m"},Object(r.jsx)("h3",null,_.a)),Object(r.jsx)(i.EuiSpacer,{size:"xs"}),Object(r.jsx)(i.EuiFlexItem,{"data-test-subj":"caseCustomFields"},c))):null};K.displayName="CustomFields";const Y=a.a.memo(K),H=e=>Object(C.sortBy)(e,(e=>e.label)),Q=({isLoading:e,configurationCustomFields:t,setCustomFieldsOptional:n=!1,isEditMode:s,draftStorageKey:a})=>{const{caseAssignmentAuthorized:c}=Object(k.a)();return Object(r.jsx)(i.EuiFlexGroup,{"data-test-subj":"case-form-fields",direction:"column",gutterSize:"none"},Object(r.jsx)(d,{isLoading:e}),c?Object(r.jsx)(U,{isLoading:e}):null,Object(r.jsx)(m,{isLoading:e}),Object(r.jsx)(y,{isLoading:e}),Object(r.jsx)(M,{isLoading:e}),Object(r.jsx)(E.a,{isLoading:e,draftStorageKey:a}),Object(r.jsx)(Y,{isLoading:e,setCustomFieldsOptional:n,configurationCustomFields:t,isEditMode:s}))};Q.displayName="CaseFormFields";const $=Object(s.memo)(Q)},257:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var s=n(59),a=n.n(s),i=n(5),c=n(21),o=n(12),r=n(4),l=n.n(r),u=n(2),d=n(204),b=n(3);const g=l.a.memo((({isLoading:e,onChange:t,category:n,availableCategories:s,isInvalid:a=!1})=>{const c=Object(r.useMemo)((()=>s.map((e=>({label:e})))),[s]),o=null!=n?[{label:n}]:[],l=Object(r.useCallback)((e=>{var n;const s=null===(n=e[0])||void 0===n?void 0:n.label;t(s)}),[t]);return Object(b.jsx)(i.EuiComboBox,{fullWidth:!0,singleSelection:{asPlainText:!0},isLoading:e,isDisabled:e,isInvalid:a,options:c,"data-test-subj":"categories-list",selectedOptions:o,onChange:l,onCreateOption:e=>{const t=e.trim();l([{label:t}])},"aria-label":"categories-list",isClearable:!0,customOptionText:d.a,isCaseSensitive:!0})}));g.displayName="CategoryComponent";const j=({isLoading:e,availableCategories:t,formRowProps:n})=>Object(b.jsx)(c.UseField,{path:"category",config:{defaultValue:null,validations:[{validator:({value:e})=>{if(null!=e)return Object(o.isEmpty)(e.trim())?{message:d.e}:void 0}},{validator:({value:e})=>{if(null!=e)return e.length>u.qb?{message:Object(d.f)("category",u.qb)}:void 0}}]}},(s=>{const{isInvalid:o,errorMessage:r}=Object(c.getFieldValidityAndErrorMessage)(s);return Object(b.jsx)(i.EuiFormRow,a()({},n,{label:d.c,error:r,isInvalid:o,"data-test-subj":"caseCategory",fullWidth:!0}),Object(b.jsx)(g,{isLoading:e,onChange:e=>{s.setValue(e)},category:s.value,availableCategories:t,isInvalid:o}))}));j.displayName="CategoryFormFieldComponent";const m=Object(r.memo)(j)}}]);