(window.dataViewEditor_bundle_jsonpfunction=window.dataViewEditor_bundle_jsonpfunction||[]).push([[1],{40:function(e,t,a){"use strict";a.r(t);var i=a(1),s=a.n(i),n=a(13),l=a(6),d=a(2),o=a(49),r=a.n(o),c=a(14),u=a.n(c),p=a(34),m=a(7),h=a.n(m),g=a(37),b=a.n(g),x=(a(44),a(0));let j=0;const f=Object(i.createContext)({addPanel:()=>()=>{}}),P=Object(i.createContext)({registerFooter:()=>{},registerContent:()=>{}}),E=({maxWidth:e,flyoutClassName:t,...a})=>{const s=Object(i.useMemo)((()=>{const e=document.getElementsByClassName(t);return 0===e.length?null:e.item(0)}),[t]),[n,l]=Object(i.useState)({}),o=Object(i.useCallback)((e=>{l((t=>{const{[e]:a,...i}=t;return i}))}),[]),r=Object(i.useCallback)((e=>{const t=j++;return l((a=>({...a,[t]:e}))),o.bind(null,t)}),[o]),c=Object(i.useMemo)((()=>({addPanel:r})),[r]);return Object(i.useLayoutEffect)((()=>{if(!s)return;const t=Math.min(100,Object.values(n).reduce(((e,{width:t=0})=>e+t),0)),a=e*t/100;s.style.maxWidth=`${a}px`}),[n,e,t,s]),Object(x.jsx)(f.Provider,{value:c},Object(x.jsx)(d.EuiFlexGroup,h()({className:"fieldEditor__flyoutPanels",gutterSize:"none"},a)))},O=({children:e,width:t,className:a="",backgroundColor:s,border:n,...l})=>{const[o,r]=Object(i.useState)({hasContent:!1,hasFooter:!1}),c=b()("fieldEditor__flyoutPanel","eui-scrollBar",a,{"fieldEditor__flyoutPanel--pageBackground":"euiPageBackground"===s,"fieldEditor__flyoutPanel--emptyShade":"euiEmptyShade"===s,"fieldEditor__flyoutPanel--leftBorder":"left"===n,"fieldEditor__flyoutPanel--rightBorder":"right"===n,"fieldEditor__flyoutPanel--withContent":o.hasContent}),{addPanel:u}=(()=>{const e=Object(i.useContext)(f);if(void 0===e)throw new Error("<Panel /> must be used within a <Panels /> wrapper");return e})(),p=Object(i.useCallback)((()=>{r((e=>({...e,hasContent:!0})))}),[]),m=Object(i.useCallback)((()=>{r((e=>{if(!e.hasContent)throw new Error("You need to add a <FlyoutPanels.Content /> when you add a <FlyoutPanels.Footer />");return{...e,hasFooter:!0}}))}),[]);Object(i.useLayoutEffect)((()=>u({width:t})),[t,u]);const g={};return t&&(g.flexBasis=`${t}%`),Object(x.jsx)(d.EuiFlexItem,{style:g},Object(x.jsx)(P.Provider,{value:{registerContent:p,registerFooter:m}},Object(x.jsx)("div",h()({className:c},l),e)))};var v=a(43),I=a(42);a(18);const w={title:{label:n.i18n.translate("indexPatternEditor.editor.form.titleLabel",{defaultMessage:"Index pattern"}),defaultValue:"",validations:[{validator:l.f.emptyField(n.i18n.translate("indexPatternEditor.validations.titleIsRequiredErrorMessage",{defaultMessage:"An index pattern is required."}))},{validator:(...e)=>{const[{value:t,path:a}]=e,i=n.i18n.translate("indexPatternEditor.validations.noSingleAstriskPattern",{defaultMessage:"A single '*' is not an allowed index pattern"});return"*"===t?{code:"ERR_FIELD_MISSING",path:a,message:i}:void 0}}]},name:{label:n.i18n.translate("indexPatternEditor.editor.form.nameLabel",{defaultMessage:"Name"}),defaultValue:"",validations:[]},timestampField:{label:n.i18n.translate("indexPatternEditor.editor.form.timeFieldLabel",{defaultMessage:"Timestamp field"}),helpText:n.i18n.translate("indexPatternEditor.editor.form.timestampFieldHelp",{defaultMessage:"Select a timestamp field for use with the global time filter."}),validations:[]},allowHidden:{label:n.i18n.translate("indexPatternEditor.editor.form.allowHiddenLabel",{defaultMessage:"Allow hidden and system indices"}),defaultValue:!1},id:{label:n.i18n.translate("indexPatternEditor.editor.form.customIdLabel",{defaultMessage:"Custom data view ID"}),helpText:n.i18n.translate("indexPatternEditor.editor.form.customIdHelp",{defaultMessage:"Kibana provides a unique identifier for each data view, or you can create your own."})},type:{label:n.i18n.translate("indexPatternEditor.editor.form.TypeLabel",{defaultMessage:"Data view type"}),defaultValue:p.INDEX_PATTERN_TYPE.DEFAULT},isAdHoc:{label:n.i18n.translate("indexPatternEditor.editor.form.IsAdHocLabel",{defaultMessage:"Create AdHoc DataView"}),defaultValue:!1,type:"hidden"}},y=e=>({validator:({value:t})=>{if(e.includes(t))return{message:n.i18n.translate("indexPatternEditor.dataViewExists.ValidationErrorMessage",{defaultMessage:"A data view with this name already exists."})}}}),M=({namesNotAllowed:e})=>{const t=Object(i.useMemo)((()=>(({namesNotAllowed:e})=>{const t=w.name,a=[...t.validations,y(e)];return{...t,validations:a}})({namesNotAllowed:e})),[e]);return Object(x.jsx)(l.d,{path:"name",config:t,componentProps:{euiFieldProps:{"aria-label":n.i18n.translate("indexPatternEditor.form.nameAriaLabel",{defaultMessage:"Name field optional"})}}},(e=>{const{isInvalid:t,errorMessage:a}=Object(l.g)(e);return Object(x.jsx)(d.EuiFormRow,{label:e.label,fullWidth:!0,error:a,isInvalid:t},Object(x.jsx)(d.EuiFieldText,{value:e.value,onChange:t=>{e.setValue(t.target.value)},fullWidth:!0,"data-test-subj":"createIndexPatternNameInput"}))}))};var F=a(41);const T=e=>({validator:async({value:t})=>{const a=!!e.length,i=e.find((e=>e.fieldName===(null==t?void 0:t.value)));if(a&&(!t||!i))return{message:n.i18n.translate("indexPatternEditor.requireTimestampOption.ValidationErrorMessage",{defaultMessage:"Select a timestamp field."})}}}),_=n.i18n.translate("indexPatternEditor.editor.form.noTimeFieldsLabel",{defaultMessage:"No matching data stream, index, or index alias has a timestamp field."}),S=n.i18n.translate("indexPatternEditor.editor.form.timeFieldHelp",{defaultMessage:"Select a timestamp field for use with the global time filter."}),C=({options$:e,isLoadingOptions$:t,matchedIndices$:a})=>{const o=u()(e,[]),r=u()(t,!1),c=!!u()(a,F.b).exactMatchedIndices.length,p=o.map((({display:e,fieldName:t})=>({label:e,value:t}))),m=Object(i.useMemo)((()=>(e=>{const t=w.timestampField,a=[...t.validations,T(e)];return{...t,validations:a}})(o)),[o]),h=o.length?S:"",g=0===o.length&&!r&&c?_:"";return Object(x.jsx)(l.d,{config:m,path:"timestampField"},(e=>{const{label:t,value:a,setValue:i}=e;if(void 0===a)return null;const{isInvalid:o,errorMessage:c}=Object(l.g)(e),u=!p.length||r,m=!!p.find((e=>e.value===a.value));if(!(a&&m||u)){const e=p.filter((e=>"@timestamp"===e.value));e.length&&i(e[0])}return Object(x.jsx)(s.a.Fragment,null,Object(x.jsx)(d.EuiFormRow,{label:t,error:u?null:c,isInvalid:!u&&o,fullWidth:!0},Object(x.jsx)(s.a.Fragment,null,Object(x.jsx)(d.EuiComboBox,{placeholder:n.i18n.translate("indexPatternEditor.editor.form.runtimeType.placeholderLabel",{defaultMessage:"Select a timestamp field"}),singleSelection:{asPlainText:!0},options:p,selectedOptions:a&&m?[a]:void 0,onChange:e=>{0!==e.length&&i(e[0])},isClearable:!1,isDisabled:u,"data-test-subj":"timestampField","aria-label":n.i18n.translate("indexPatternEditor.editor.form.timestampSelectAriaLabel",{defaultMessage:"Timestamp field"}),isLoading:r,"data-is-loading":r?"1":"0",fullWidth:!0}),Object(x.jsx)(d.EuiFormHelpText,null,g||h||Object(x.jsx)(s.a.Fragment,null," ")))))}))};var L=a(38),D=a(35);n.i18n.translate("xpack.rollupJobs.rollupDeprecationLabel",{defaultMessage:"Rollup (deprecated)"});const N=({children:e})=>Object(x.jsx)(d.EuiToolTip,{title:n.i18n.translate("xpack.rollupJobs.rollupDeprecationTooltipTitle",{defaultMessage:"Rollups are deprecated in 8.11.0"}),content:n.i18n.translate("xpack.rollupJobs.rollupDeprecationTooltipContent",{defaultMessage:"Rollups are deprecated and will be removed in a future version. Use downsampling instead."}),children:e}),A=Object(x.jsx)(d.EuiDescriptionList,{style:{whiteSpace:"nowrap"},"data-test-subj":"standardType"},Object(x.jsx)(d.EuiDescriptionListTitle,null,Object(x.jsx)(D.FormattedMessage,{id:"indexPatternEditor.typeSelect.standardTitle",defaultMessage:"Standard data view"})),Object(x.jsx)(d.EuiDescriptionListDescription,null,Object(x.jsx)(D.FormattedMessage,{id:"indexPatternEditor.typeSelect.standardDescription",defaultMessage:"Perform full aggregations against any data"}))),V=Object(x.jsx)(d.EuiDescriptionList,{style:{whiteSpace:"nowrap"},"data-test-subj":"rollupType"},Object(x.jsx)(d.EuiDescriptionListTitle,null,Object(x.jsx)(D.FormattedMessage,{id:"indexPatternEditor.typeSelect.rollupTitle",defaultMessage:"Rollup data view"})," ",Object(x.jsx)(d.EuiBadge,{color:L.euiLightVars.euiColorAccent},Object(x.jsx)(D.FormattedMessage,{id:"indexPatternEditor.typeSelect.betaLabel",defaultMessage:"Beta"}))," ",Object(x.jsx)(N,null,Object(x.jsx)(d.EuiBadge,{color:"warning"},Object(x.jsx)(D.FormattedMessage,{id:"indexPatternEditor.typeSelect.deprecatedBadge",defaultMessage:"Deprecated"})))),Object(x.jsx)(d.EuiDescriptionListDescription,null,Object(x.jsx)(D.FormattedMessage,{id:"indexPatternEditor.typeSelect.rollupDescription",defaultMessage:"Perform limited aggregations against summarized data"}))),R=({onChange:e})=>Object(x.jsx)(l.d,{path:"type"},(({label:t,value:a,setValue:i})=>void 0===a?null:Object(x.jsx)(s.a.Fragment,null,Object(x.jsx)(d.EuiFormRow,{label:t,fullWidth:!0},Object(x.jsx)(d.EuiSuperSelect,{"data-test-subj":"typeField",options:[{value:p.INDEX_PATTERN_TYPE.DEFAULT,inputDisplay:n.i18n.translate("indexPatternEditor.typeSelect.standard",{defaultMessage:"Standard"}),dropdownDisplay:A},{value:p.INDEX_PATTERN_TYPE.ROLLUP,inputDisplay:n.i18n.translate("indexPatternEditor.typeSelect.rollup",{defaultMessage:"Rollup (deprecated)"}),dropdownDisplay:V}],valueOfSelected:a,onChange:t=>{i(t),e(t)},"aria-label":n.i18n.translate("indexPatternEditor.editor.form.typeSelectAriaLabel",{defaultMessage:"Type field"}),fullWidth:!0})))));var $={name:"3crdpc",styles:"max-height:50vh;max-width:500px"};const H=()=>{const[e,t]=Object(i.useState)(!1),a=Object(x.jsx)(d.EuiButtonIcon,{onClick:()=>t((e=>!e)),iconType:"documentation","data-test-subj":"indexPatternDocsButton","aria-label":n.i18n.translate("indexPatternEditor.titleDocsPopover.ariaLabel",{defaultMessage:"Index pattern examples"})});return Object(x.jsx)(d.EuiPopover,{button:a,isOpen:e,display:"inlineBlock",panelPaddingSize:"none",anchorPosition:"upRight",closePopover:()=>t(!1)},Object(x.jsx)(d.EuiPopoverTitle,{paddingSize:"s"},n.i18n.translate("indexPatternEditor.titleDocsPopover.title",{defaultMessage:"Index pattern"})),Object(x.jsx)(d.EuiPanel,{className:"eui-yScroll",css:$,color:"transparent",paddingSize:"m"},Object(x.jsx)(d.EuiText,{size:"s","data-test-subj":"indexPatternDocsPopoverContent"},Object(x.jsx)("p",null,Object(x.jsx)(D.FormattedMessage,{id:"indexPatternEditor.titleDocsPopover.indexPatternDescription",defaultMessage:"An index pattern is a string that you use to match one or more data streams, indices, or aliases."})),Object(x.jsx)("ul",null,Object(x.jsx)("li",null,Object(x.jsx)("p",null,Object(x.jsx)(D.FormattedMessage,{id:"indexPatternEditor.titleDocsPopover.useWildcardDescription",defaultMessage:"Match multiple sources with a wildcard (*)."})),Object(x.jsx)("p",null,Object(x.jsx)(d.EuiCode,null,"filebeat-*"))),Object(x.jsx)("li",null,Object(x.jsx)("p",null,Object(x.jsx)(D.FormattedMessage,{id:"indexPatternEditor.titleDocsPopover.useCommasDescription",defaultMessage:"Separate multiple single sources with a comma (,)."})),Object(x.jsx)("p",null,Object(x.jsx)(d.EuiCode,null,"filebeat-a,filebeat-b"))),Object(x.jsx)("li",null,Object(x.jsx)("p",null,Object(x.jsx)(D.FormattedMessage,{id:"indexPatternEditor.titleDocsPopover.useMinusDescription",defaultMessage:"Exclude a source by preceding it with a minus sign (-)."})),Object(x.jsx)("p",null,Object(x.jsx)(d.EuiCode,null,"filebeat-*,-filebeat-c"))),Object(x.jsx)("li",null,Object(x.jsx)("p",null,Object(x.jsx)(D.FormattedMessage,{id:"indexPatternEditor.titleDocsPopover.useCrossClusterSearchDescription",defaultMessage:"For cross-cluster search, precede with the cluster name followed by a colon (:)."})),Object(x.jsx)("p",null,Object(x.jsx)(d.EuiCode,null,"cluster1:filebeat-*")),Object(x.jsx)("p",null,Object(x.jsx)(d.EuiCode,null,"cluster1:filebeat-*,cluster2:filebeat-*")),Object(x.jsx)("p",null,Object(x.jsx)(d.EuiCode,null,"cluster*:filebeat-*,filebeat-*"))),Object(x.jsx)("li",null,Object(x.jsx)("p",null,n.i18n.translate("indexPatternEditor.titleDocsPopover.dontUseSpecialCharactersDescription",{defaultMessage:'Spaces and the characters /?"<>| are not allowed.'})))))))},B={message:n.i18n.translate("indexPatternEditor.rollupDataView.createIndex.noMatchError",{defaultMessage:"Rollup data view error: must match one rollup index"})},k={message:n.i18n.translate("indexPatternEditor.rollupDataView.createIndex.tooManyMatchesError",{defaultMessage:"Rollup data view error: can only match one rollup index"})},U={message:n.i18n.translate("indexPatternEditor.createIndex.noMatch",{defaultMessage:"Name must match one or more data streams, indices, or index aliases."})},Y=({rollupIndicesCapabilities:e,isRollup:t})=>({validator:async({customData:{provider:a}})=>{const{matchedIndices:i,rollupIndex:s}=await a(),l=Object.keys(e);if(0===i.exactMatchedIndices.length)return U;if(!t||!l||!l.length)return;const d=i.exactMatchedIndices.filter((e=>l.includes(e.name)));if(!d.length)return B;if(d.length>1)return k;const o=s&&e[s].error;return o?{message:n.i18n.translate("indexPatternEditor.rollup.uncaughtError",{defaultMessage:"Rollup data view error: {error}",values:{error:o}})}:void 0}}),W=({isRollup:e,matchedIndices$:t,rollupIndicesCapabilities:a,indexPatternValidationProvider:s})=>{const[o,r]=Object(i.useState)(!1),c=u()(t,F.b).exactMatchedIndices,p=Object(i.useMemo)((()=>(({isRollup:e,rollupIndicesCapabilities:t})=>{const a=w.title,i=[...a.validations,Y({rollupIndicesCapabilities:t,isRollup:e})];return{...a,validations:i}})({isRollup:e,matchedIndices:c,rollupIndicesCapabilities:a})),[e,c,a]);return Object(x.jsx)(l.d,{path:"title",config:p,validationDataProvider:s,componentProps:{euiFieldProps:{"aria-label":n.i18n.translate("indexPatternEditor.form.titleAriaLabel",{defaultMessage:"Index pattern field"})}}},(e=>{const{isInvalid:t,errorMessage:a}=Object(l.g)(e);return Object(x.jsx)(d.EuiFormRow,{label:e.label,labelAppend:e.labelAppend,helpText:"function"==typeof e.helpText?e.helpText():e.helpText,error:a,isInvalid:t,fullWidth:!0},Object(x.jsx)(d.EuiFieldText,{isInvalid:t,value:e.value,onChange:t=>{let a=t.target.value;1===a.length&&!o&&Object(v.a)(a)?(a+="*",r(!0),setTimeout((()=>t.target.setSelectionRange(1,1)))):["","*"].includes(a)&&o&&(a="",r(!1)),e.setValue(a)},isLoading:e.isValidating,fullWidth:!0,"data-test-subj":"createIndexPatternTitleInput",append:Object(x.jsx)(H,null),placeholder:"example-*","data-is-validating":e.isValidating?"1":"0"}))}))},z=({matchedIndices:{allIndices:e=[],exactMatchedIndices:t=[],partialMatchedIndices:a=[]},isIncludingSystemIndices:i,query:s,showSystemIndices:n})=>{let l,o,r;const c=e.length;return 0===s.length?(l=void 0,r="primary",o=c>=1?Object(x.jsx)("span",null,Object(x.jsx)(D.FormattedMessage,{id:"indexPatternEditor.status.matchAnyLabel.matchAnyDetail",defaultMessage:"Your index pattern can match {sourceCount, plural, one {# source} other {# sources} }.",values:{sourceCount:c}})):!i&&n?Object(x.jsx)("span",null,Object(x.jsx)(D.FormattedMessage,{id:"indexPatternEditor.status.noSystemIndicesWithPromptLabel",defaultMessage:"No data streams, indices, or index aliases match your index pattern."})):Object(x.jsx)("span",null,Object(x.jsx)(D.FormattedMessage,{id:"indexPatternEditor.status.noSystemIndicesLabel",defaultMessage:"No data streams, indices, or index aliases match your index pattern."}))):t.length?(l="check",r="success",o=Object(x.jsx)("span",null," ",Object(x.jsx)(D.FormattedMessage,{id:"indexPatternEditor.status.successLabel.successDetail",defaultMessage:"Your index pattern matches {sourceCount} {sourceCount, plural, one {source} other {sources} }.",values:{sourceCount:t.length}}))):a.length?(l=void 0,r="primary",o=Object(x.jsx)("span",null,Object(x.jsx)(D.FormattedMessage,{id:"indexPatternEditor.status.partialMatchLabel.partialMatchDetail",defaultMessage:"Your index pattern doesn't match any data streams, indices, or index aliases, but {strongIndices} {matchedIndicesLength, plural, one {is} other {are} } similar.",values:{matchedIndicesLength:a.length,strongIndices:Object(x.jsx)("strong",null,Object(x.jsx)(D.FormattedMessage,{id:"indexPatternEditor.status.partialMatchLabel.strongIndicesLabel",defaultMessage:"{matchedIndicesLength, plural, one {source} other {# sources} }",values:{matchedIndicesLength:a.length}}))}}))):(l=void 0,r="warning",o=c?(e=>Object(x.jsx)("span",null,Object(x.jsx)(D.FormattedMessage,{id:"indexPatternEditor.status.notMatchLabel.notMatchDetail",defaultMessage:"The index pattern you entered doesn't match any data streams, indices, or index aliases. You can match {strongIndices}.",values:{strongIndices:Object(x.jsx)("strong",null,Object(x.jsx)(D.FormattedMessage,{id:"indexPatternEditor.status.notMatchLabel.allIndicesLabel",defaultMessage:"{indicesLength, plural, one {# source} other {# sources} }",values:{indicesLength:e}}))}})))(c):Object(x.jsx)("span",null,Object(x.jsx)(D.FormattedMessage,{id:"indexPatternEditor.status.notMatchLabel.notMatchNoIndicesDetail",defaultMessage:"The index pattern you entered doesn't match any data streams, indices, or index aliases."}))),Object(x.jsx)(d.EuiCallOut,{size:"s",color:r,"data-test-subj":"createIndexPatternStatusMessage",iconType:l,title:o})};var X=a(15),G=a.n(X),q=a(39);const J=[5,10,20,50],K="dataViews.previewPanel.indicesPerPage";class indices_list_IndicesList extends s.a.Component{constructor(e){super(e),G()(this,"pager",void 0),G()(this,"storage",void 0),G()(this,"resetPageTo0",(()=>this.onChangePage(0))),G()(this,"onChangePage",(e=>{this.pager.goToPageIndex(e),this.setState({page:e})})),G()(this,"onChangePerPage",(e=>{this.pager.setItemsPerPage(e),this.setState({perPage:e}),this.resetPageTo0(),this.closePerPageControl(),this.storage.set(K,e)})),G()(this,"openPerPageControl",(()=>{this.setState({isPerPageControlOpen:!0})})),G()(this,"closePerPageControl",(()=>{this.setState({isPerPageControlOpen:!1})})),this.storage=new q.Storage(localStorage),this.state={page:0,perPage:this.storage.get(K)||J[1],isPerPageControlOpen:!1},this.pager=new d.Pager(e.indices.length,this.state.perPage,this.state.page)}UNSAFE_componentWillReceiveProps(e){e.indices.length!==this.props.indices.length&&(this.pager.setTotalItems(e.indices.length),this.resetPageTo0())}renderPagination(){const{perPage:e,page:t,isPerPageControlOpen:a}=this.state,i=Object(x.jsx)(d.EuiButtonEmpty,{size:"s",color:"text",iconType:"arrowDown",iconSide:"right",onClick:this.openPerPageControl},Object(x.jsx)(D.FormattedMessage,{id:"indexPatternEditor.pagingLabel",defaultMessage:"Rows per page: {perPage}",values:{perPage:e}})),s=J.map((e=>Object(x.jsx)(d.EuiContextMenuItem,{key:e,icon:"empty",onClick:()=>this.onChangePerPage(e)},e))),n=this.pager.getTotalPages(),l=n>1?Object(x.jsx)(d.EuiFlexItem,{grow:!1},Object(x.jsx)(d.EuiPagination,{pageCount:n,activePage:t,onPageClick:this.onChangePage})):null;return Object(x.jsx)(d.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},Object(x.jsx)(d.EuiFlexItem,{grow:!1},Object(x.jsx)(d.EuiPopover,{id:"customizablePagination",button:i,isOpen:a,closePopover:this.closePerPageControl,panelPaddingSize:"none"},Object(x.jsx)(d.EuiContextMenuPanel,{items:s}))),l)}highlightIndexName(e,t){const{isExactMatch:a}=this.props;if(!t)return e;if(a(e))return Object(x.jsx)("strong",null,e);const i=t.split(",").map((e=>e.trim())).filter(Boolean);let s=-1,n="";for(let t=0;t<i.length;t++){const a=i[t];if(n=a.endsWith("*")?a.substring(0,a.length-1):a,s=e.indexOf(n),-1!==s)break}if(-1===s)return e;const l=e.substring(0,s),d=e.substr(s+n.length);return Object(x.jsx)("span",null,l,Object(x.jsx)("strong",null,n),d)}render(){const{indices:e,query:t,isExactMatch:a,...i}=this.props,n=e.slice(this.pager.firstItemIndex,this.pager.lastItemIndex+1).map(((e,a)=>Object(x.jsx)(d.EuiTableRow,{key:a},Object(x.jsx)(d.EuiTableRowCell,null,this.highlightIndexName(e.name,t)),Object(x.jsx)(d.EuiTableRowCell,null,e.tags.map((e=>{const t=Object(x.jsx)(d.EuiBadge,{key:`index_${a}_tag_${e.key}`,color:e.color},e.name);return e.key===p.INDEX_PATTERN_TYPE.ROLLUP?Object(x.jsx)(s.a.Fragment,null," ",Object(x.jsx)(N,null,t)):t}))))));return Object(x.jsx)("div",i,Object(x.jsx)(d.EuiTable,{responsiveBreakpoint:!1,tableLayout:"auto"},Object(x.jsx)(d.EuiTableBody,null,n)),Object(x.jsx)(d.EuiSpacer,{size:"m"}),this.renderPagination())}}var Q=function(e){return e.allIndices="allIndices",e.onlyMatchingIndices="onlyMatchingIndices",e}(Q||{});const Z=[{id:Q.allIndices,label:n.i18n.translate("indexPatternEditor.previewPanel.viewModeGroup.allSourcesButton",{defaultMessage:"All sources"})},{id:Q.onlyMatchingIndices,label:n.i18n.translate("indexPatternEditor.previewPanel.viewModeGroup.matchingSourcesButton",{defaultMessage:"Matching sources"})}],ee=({type:e,allowHidden:t,title:a="",matchedIndices$:l})=>{const[o,r]=Object(i.useState)(),c=u()(l,F.b);let m,h;a.length&&!a.trimEnd().endsWith(",")&&o!==Q.allIndices||o===Q.onlyMatchingIndices?(m=c.visibleIndices,h=Q.onlyMatchingIndices):(m=c.allIndices,h=Q.allIndices);const g=m.length?Object(x.jsx)(indices_list_IndicesList,{"data-test-subj":"createIndexPatternStep1IndicesList",query:a,indices:m,isExactMatch:e=>a.length>0&&c.exactMatchedIndices.some((t=>t.name===e))}):Object(x.jsx)(s.a.Fragment,null);return Object(x.jsx)(s.a.Fragment,null,Object(x.jsx)(z,{matchedIndices:c,showSystemIndices:e!==p.INDEX_PATTERN_TYPE.ROLLUP,isIncludingSystemIndices:t,query:a}),Object(x.jsx)(d.EuiSpacer,{size:"m"}),Boolean(a)&&m.length>0&&Object(x.jsx)(d.EuiButtonGroup,{isFullWidth:!0,legend:n.i18n.translate("indexPatternEditor.previewPanel.viewModeGroup.legend",{defaultMessage:"Visible sources"}),options:Z,idSelected:h,onChange:e=>r(e)}),g)};let te=function(e){return e.savingAsAdHoc="savingAsAdHoc",e.persisting="persisting",e}({});const ae=n.i18n.translate("indexPatternEditor.editor.flyoutCloseButtonLabel",{defaultMessage:"Close"}),ie=n.i18n.translate("indexPatternEditor.editor.flyoutSaveButtonLabel",{defaultMessage:"Save data view to Kibana"}),se=n.i18n.translate("indexPatternEditor.editor.flyoutEditButtonLabel",{defaultMessage:"Save"}),ne=n.i18n.translate("indexPatternEditor.editor.flyoutEditUnpersistedButtonLabel",{defaultMessage:"Continue to use without saving"}),le=n.i18n.translate("indexPatternEditor.editor.flyoutExploreButtonLabel",{defaultMessage:"Use without saving"}),de=({onCancel:e,onSubmit:t,submittingType:a,submitDisabled:i,isEdit:s,allowAdHoc:l,isPersisted:o,canSave:r})=>{const c=s&&!o;return Object(x.jsx)(d.EuiFlyoutFooter,{className:"indexPatternEditor__footer"},Object(x.jsx)(d.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},Object(x.jsx)(d.EuiFlexItem,{grow:!1},Object(x.jsx)(d.EuiButtonEmpty,{iconType:"cross",flush:"left",onClick:e,"data-test-subj":"closeFlyoutButton"},ae)),Object(x.jsx)(d.EuiFlexItem,{grow:!1},Object(x.jsx)(d.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},l&&Object(x.jsx)(d.EuiFlexItem,{grow:!1},Object(x.jsx)(d.EuiButton,{color:"primary",onClick:()=>{t(!0)},"data-test-subj":"exploreIndexPatternButton",disabled:i,isLoading:a===te.savingAsAdHoc,title:n.i18n.translate("indexPatternEditor.editor.flyoutExploreButtonTitle",{defaultMessage:"Use this data view without creating a saved object"})},le)),(r||c)&&Object(x.jsx)(d.EuiFlexItem,{grow:!1},Object(x.jsx)(d.EuiButton,{color:"primary",onClick:()=>{t(!1)},"data-test-subj":"saveIndexPatternButton",fill:!0,disabled:i,isLoading:a===te.persisting||a===te.savingAsAdHoc&&c},s?o?se:ne:ie))))))},oe=({children:e,defaultVisible:t=!1})=>{const[a,l]=Object(i.useState)(t),o=Object(i.useCallback)((()=>{l(!a)}),[a]);return Object(x.jsx)(s.a.Fragment,null,Object(x.jsx)(d.EuiButtonEmpty,{onClick:o,flush:"left","data-test-subj":"toggleAdvancedSetting"},a?n.i18n.translate("indexPatternEditor.editor.form.advancedSettings.hideButtonLabel",{defaultMessage:"Hide advanced settings"}):n.i18n.translate("indexPatternEditor.editor.form.advancedSettings.showButtonLabel",{defaultMessage:"Show advanced settings"})),Object(x.jsx)("div",{style:{display:a?"block":"none"},"data-test-subj":"advancedSettings"},Object(x.jsx)(d.EuiSpacer,{size:"m"}),Object(x.jsx)("div",null,e)))},re=n.i18n.translate("indexPatternEditor.form.allowHiddenAriaLabel",{defaultMessage:"Allow hidden and system indices"}),ce=n.i18n.translate("indexPatternEditor.form.customIndexPatternIdLabel",{defaultMessage:"Custom data view ID"}),ue=({disableAllowHidden:e,disableId:t,onAllowHiddenChange:a,defaultVisible:i=!1})=>Object(x.jsx)(oe,{defaultVisible:i},Object(x.jsx)(d.EuiFlexGroup,null,Object(x.jsx)(d.EuiFlexItem,null,Object(x.jsx)(l.d,{path:"allowHidden",component:l.c,"data-test-subj":"allowHiddenField",componentProps:{euiFieldProps:{"aria-label":re,disabled:e}},onChange:a}))),Object(x.jsx)(d.EuiSpacer,{size:"m"}),Object(x.jsx)(d.EuiFlexGroup,null,Object(x.jsx)(d.EuiFlexItem,null,Object(x.jsx)(l.d,{path:"id",component:l.b,"data-test-subj":"savedObjectIdField",componentProps:{euiFieldProps:{"aria-label":ce,disabled:t}}})))),pe=n.i18n.translate("indexPatternEditor.rollupIndexPattern.warning.title",{defaultMessage:"Beta feature"}),me=()=>Object(x.jsx)(d.EuiCallOut,{title:pe,color:"warning",iconType:"help"},Object(x.jsx)("p",null,Object(x.jsx)(D.FormattedMessage,{id:"indexPatternEditor.rollupDataView.warning.textParagraphOne",defaultMessage:"Kibana has beta support for data views based on rollups. You might encounter\nissues using these in saved searches, visualizations, and dashboards. They\nare not supported in some advanced features, such as Timelion, and Machine Learning."})),Object(x.jsx)("p",null,Object(x.jsx)(D.FormattedMessage,{id:"indexPatternEditor.rollupDataView.warning.textParagraphTwo",defaultMessage:"You can match a rollup data view against one rollup index and zero or more\nregular indices. A rollup data view has limited metrics, fields, intervals, and\naggregations. A rollup index is limited to indices that have one job configuration,\nor multiple jobs with compatible configurations."}))),he=n.i18n.translate("indexPatternEditor.title",{defaultMessage:"Create data view"}),ge=n.i18n.translate("indexPatternEditor.titleEditMode",{defaultMessage:"Edit data view"}),be=({onSave:e,onCancel:t,defaultTypeIsRollup:a,editData:o,allowAdHoc:c,showManagementLink:m,dataViewEditorService:h})=>{var g;const{services:{application:b,dataViews:j,uiSettings:f,overlays:P}}=Object(l.j)(),y=j.getCanSaveSync(),{form:F}=Object(l.h)({defaultValue:{type:a||(null==o?void 0:o.type)===p.INDEX_PATTERN_TYPE.ROLLUP?p.INDEX_PATTERN_TYPE.ROLLUP:p.INDEX_PATTERN_TYPE.DEFAULT,isAdHoc:!1,...o?{title:o.getIndexPattern(),id:o.id,name:o.name,allowHidden:o.getAllowHidden(),...o.timeFieldName===I.c?{timestampField:{label:I.b,value:I.c}}:o.timeFieldName?{timestampField:{label:o.timeFieldName,value:o.timeFieldName}}:{}}:{}},schema:w,onSubmit:async(t,a)=>{var i;if(!a)return;const s={title:Object(v.e)(t.title),timeFieldName:null===(i=t.timestampField)||void 0===i?void 0:i.value,id:t.id,name:t.name,allowHidden:t.allowHidden};S===p.INDEX_PATTERN_TYPE.ROLLUP&&N&&(s.type=p.INDEX_PATTERN_TYPE.ROLLUP,s.typeMeta={params:{rollup_index:N},aggs:A[N].aggs}),o&&o.getIndexPattern()!==t.title?await(({dataViewName:e,overlays:t,onEdit:a})=>t?t.openConfirm(n.i18n.translate("indexPatternEditor.editDataView.editConfirmationModal.modalDescription",{defaultMessage:"Changing this data view can break other objects that depend on it."}),{confirmButtonText:n.i18n.translate("indexPatternEditor.editDataView.editConfirmationModal.confirmButton",{defaultMessage:"Confirm"}),title:n.i18n.translate("indexPatternEditor.editDataView.editConfirmationModal.editHeader",{defaultMessage:"Edit ''{name}''",values:{name:e}}),buttonColor:"danger"}).then((async e=>{e&&await a()})):Promise.resolve())({dataViewName:t.name||t.title,overlays:P,onEdit:async()=>{await e(s,!t.isAdHoc)}}):await e(s,!t.isAdHoc)}}),[{title:T=w.title.defaultValue,allowHidden:_=w.allowHidden.defaultValue,type:S=w.type.defaultValue}]=Object(l.i)({form:F}),L=u()(h.isLoadingSources$,!0),D=u()(h.dataViewNames$),N=u()(h.rollupIndex$),A=u()(h.rollupIndicesCaps$,{});r()((()=>{h.setIndexPattern(T)}),250,[h,T]),Object(i.useEffect)((()=>{h.setAllowHidden(_)}),[h,_]),Object(i.useEffect)((()=>{h.setType(S)}),[h,S]);const V=Object(i.useCallback)((e=>{F.setFieldValue("title",""),F.setFieldValue("name",""),F.setFieldValue("timestampField",""),e===p.INDEX_PATTERN_TYPE.ROLLUP&&F.setFieldValue("allowHidden",!1)}),[F]);if(L||!D)return Object(x.jsx)(d.EuiLoadingSpinner,{size:"xl"});const $=f.isDeclared("rollups:enableIndexPatterns")&&f.get("rollups:enableIndexPatterns")&&(H=A,Object.keys(H)).length?Object(x.jsx)(s.a.Fragment,null,Object(x.jsx)(d.EuiSpacer,{size:"l"}),Object(x.jsx)(d.EuiFlexGroup,null,Object(x.jsx)(d.EuiFlexItem,null,Object(x.jsx)(R,{onChange:V}))),S===p.INDEX_PATTERN_TYPE.ROLLUP?Object(x.jsx)(d.EuiFlexGroup,null,Object(x.jsx)(d.EuiFlexItem,null,Object(x.jsx)(me,null))):Object(x.jsx)(s.a.Fragment,null)):Object(x.jsx)(s.a.Fragment,null);var H;return Object(x.jsx)(E,{flyoutClassName:"indexPatternEditorFlyout",maxWidth:1180},Object(x.jsx)(O,{className:"fieldEditor__mainFlyoutPanel","data-test-subj":"indexPatternEditorFlyout",border:"right"},Object(x.jsx)(d.EuiTitle,{"data-test-subj":"flyoutTitle"},Object(x.jsx)("h2",null,o?ge:he)),m&&o&&o.id&&Object(x.jsx)(d.EuiLink,{href:b.getUrlForApp("management",{path:`/kibana/dataViews/dataView/${o.id}`})},n.i18n.translate("indexPatternEditor.goToManagementPage",{defaultMessage:"Manage settings and view field details"})),Object(x.jsx)(l.a,{form:F,className:"indexPatternEditor__form",error:F.getErrors(),isInvalid:F.isSubmitted&&!F.isValid&&F.getErrors().length,"data-validation-error":F.getErrors().length?"1":"0","data-test-subj":"indexPatternEditorForm"},Object(x.jsx)(l.d,{path:"isAdHoc"}),$,Object(x.jsx)(d.EuiSpacer,{size:"l"}),Object(x.jsx)(d.EuiFlexGroup,null,Object(x.jsx)(d.EuiFlexItem,null,Object(x.jsx)(M,{namesNotAllowed:D||[]}))),Object(x.jsx)(d.EuiSpacer,{size:"l"}),Object(x.jsx)(d.EuiFlexGroup,null,Object(x.jsx)(d.EuiFlexItem,null,Object(x.jsx)(W,{isRollup:(null===(g=F.getFields().type)||void 0===g?void 0:g.value)===p.INDEX_PATTERN_TYPE.ROLLUP,matchedIndices$:h.matchedIndices$,rollupIndicesCapabilities:A,indexPatternValidationProvider:h.indexPatternValidationProvider}))),Object(x.jsx)(d.EuiSpacer,{size:"l"}),Object(x.jsx)(d.EuiFlexGroup,null,Object(x.jsx)(d.EuiFlexItem,null,Object(x.jsx)(C,{options$:h.timestampFieldOptions$,isLoadingOptions$:h.loadingTimestampFields$,matchedIndices$:h.matchedIndices$}))),Object(x.jsx)(ue,{disableAllowHidden:S===p.INDEX_PATTERN_TYPE.ROLLUP,disableId:!!o,onAllowHiddenChange:()=>{F.getFields().title.validate()},defaultVisible:null==o?void 0:o.getAllowHidden()})),Object(x.jsx)(de,{onCancel:t,onSubmit:async e=>{const t=F.getFormData();t.name||(F.updateFieldValues({name:t.title}),await F.getFields().name.validate()),F.validateFields(["timestampField"]),F.setFieldValue("isAdHoc",e||!1),F.submit()},submitDisabled:F.isSubmitted&&!F.isValid||F.isSubmitting,submittingType:F.isSubmitting?F.getFormData().isAdHoc?te.savingAsAdHoc:te.persisting:void 0,isEdit:!!o,isPersisted:Boolean(o&&o.isPersisted()),allowAdHoc:c,canSave:y})),Object(x.jsx)(O,null,L?Object(x.jsx)(s.a.Fragment,null):Object(x.jsx)(ee,{type:S,allowHidden:_,title:T,matchedIndices$:h.matchedIndices$})))},xe=s.a.memo(be);t.default=({onSave:e,onCancel:t=(()=>{}),defaultTypeIsRollup:a,requireTimestampField:s=!1,editData:d,allowAdHocDataView:o,showManagementLink:r})=>{const{services:{dataViews:c,notifications:u,http:p}}=Object(l.j)(),[m]=Object(i.useState)((()=>new F.a({services:{http:p,dataViews:c},initialValues:{name:null==d?void 0:d.name,type:null==d?void 0:d.type,indexPattern:null==d?void 0:d.getIndexPattern()},requireTimestampField:s})));return Object(i.useEffect)((()=>m.destroy),[m]),Object(x.jsx)(xe,{onSave:async(t,a=!0)=>{try{let i;if(d){const{name:e="",timeFieldName:a,title:s="",allowHidden:n=!1}=t;d.setIndexPattern(s),d.name=e,d.timeFieldName=a,d.setAllowHidden(n),d.isPersisted()&&await c.updateSavedObject(d),i=d}else i=a?await c.createAndSave(t):await c.create(t);if(i&&!(i instanceof Error)){if(await c.refreshFields(i),a){const e=n.i18n.translate("indexPatternEditor.saved",{defaultMessage:"Saved"}),t=`'${i.getName()}'`;u.toasts.addSuccess({title:e,text:t})}await e(i)}}catch(e){const t=n.i18n.translate("indexPatternEditor.dataView.unableSaveLabel",{defaultMessage:"Failed to save data view."});u.toasts.addDanger({title:t})}},onCancel:t,defaultTypeIsRollup:a,editData:d,showManagementLink:r,allowAdHoc:o||!1,dataViewEditorService:m})}},41:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return DataViewEditorService}));var i=a(15),s=a.n(i),n=a(36),l=a(34),d=a(43);const o={allIndices:[],exactMatchedIndices:[],partialMatchedIndices:[],visibleIndices:[]},r={matchedIndices:{...o},rollupIndicesCaps:{},isLoadingSourcesInternal:!1,loadingTimestampFields:!1,timestampFieldOptions:[],rollupIndexName:void 0};class DataViewEditorService{constructor({services:{http:e,dataViews:t},initialValues:{type:a=l.INDEX_PATTERN_TYPE.DEFAULT,indexPattern:i="",name:c=""},requireTimestampField:u=!1}){s()(this,"http",void 0),s()(this,"dataViews",void 0),s()(this,"requireTimestampField",void 0),s()(this,"type",l.INDEX_PATTERN_TYPE.DEFAULT),s()(this,"indexPattern",""),s()(this,"allowHidden",!1),s()(this,"dataViewNames$",void 0),s()(this,"loadTimestampFieldsSub",void 0),s()(this,"matchedIndicesForProviderSub",void 0),s()(this,"rollupIndexForProviderSub",void 0),s()(this,"state$",void 0),s()(this,"rollupIndicesCaps$",void 0),s()(this,"isLoadingSources$",void 0),s()(this,"loadingTimestampFields$",void 0),s()(this,"timestampFieldOptions$",void 0),s()(this,"rollupIndex$",void 0),s()(this,"rollupIndexForProvider$",new n.Subject),s()(this,"matchedIndices$",void 0),s()(this,"matchedIndicesForProvider$",new n.Subject),s()(this,"rollupCapsResponse",void 0),s()(this,"currentLoadingTimestampFields",0),s()(this,"currentLoadingMatchedIndices",0),s()(this,"updateState",(e=>{this.state$.next({...this.state$.getValue(),...e})})),s()(this,"getRollupIndexCaps",(async()=>{if(!1===this.dataViews.getRollupsEnabled())return{};let e={};try{e=await this.http.get("/api/rollup/indices")}catch(e){}return this.updateState({rollupIndicesCaps:e}),e})),s()(this,"getIsRollupIndex",(async()=>{const e=await this.rollupCapsResponse,t=Object.keys(e);return e=>t.includes(e)})),s()(this,"loadMatchedIndices",(async(e,t,a,i)=>{const s=++this.currentLoadingMatchedIndices,n=await this.getIsRollupIndex(),o=[];let r;if(this.updateState({loadingTimestampFields:!0}),null!=e&&e.endsWith("*")){const a=this.getIndicesCached({pattern:e,showAllIndices:t});o.push(a),o.push(Promise.resolve([]))}else{const a=this.getIndicesCached({pattern:e,showAllIndices:t}),i=this.getIndicesCached({pattern:`${e}*`,showAllIndices:t});o.push(a),o.push(i)}const[c,u]=await Object(d.b)(o),p=Object(d.d)(a,u,c,t);if(s===this.currentLoadingMatchedIndices){if(i===l.INDEX_PATTERN_TYPE.ROLLUP){const e=c.filter((e=>n(e.name)));r=1===e.length?e[0].name:null,this.updateState({rollupIndexName:r})}else this.updateState({rollupIndexName:null});this.updateState({matchedIndices:p})}})),s()(this,"setIndexPattern",(e=>{this.indexPattern=Object(d.e)(e),this.loadIndices()})),s()(this,"setAllowHidden",(e=>{this.allowHidden=e,this.loadIndices()})),s()(this,"setType",(e=>{this.type=e,this.loadIndices()})),s()(this,"loadIndices",(async()=>{const e=await this.getIndicesCached({pattern:"*",showAllIndices:this.allowHidden});await this.loadMatchedIndices(this.indexPattern,this.allowHidden,e,this.type),this.updateState({isLoadingSourcesInternal:!1})})),s()(this,"loadDataViewNames",(async e=>{const t=(await this.dataViews.getIdsWithTitle(!0)).map((e=>e.name||e.title));return e?t.filter((t=>t!==e)):t})),s()(this,"getIndicesMemory",{}),s()(this,"getIndicesCached",(async e=>{const t=JSON.stringify(e);return this.getIndicesMemory[t]=this.getIndicesMemory[t]||this.getIsRollupIndex().then((t=>this.dataViews.getIndices({...e,isRollupIndex:t}))),this.getIndicesMemory[t].catch((()=>{delete this.getIndicesMemory[t]})),await this.getIndicesMemory[t]})),s()(this,"timestampOptionsMemory",{}),s()(this,"getTimestampOptionsForWildcard",(async(e,t)=>{try{const a=await Object(d.b)(this.dataViews.getFieldsForWildcard(e));return Object(d.c)(a,t)}catch(e){return[]}})),s()(this,"getTimestampOptionsForWildcardCached",(async(e,t)=>{const a=JSON.stringify(e)+t,i=this.getTimestampOptionsForWildcard(e,t);return this.timestampOptionsMemory[a]=this.timestampOptionsMemory[a]||i,i.catch((()=>{delete this.timestampOptionsMemory[a]})),await i})),s()(this,"loadTimestampFields",(async()=>{const e=this.state$.getValue();if(0===e.matchedIndices.exactMatchedIndices.length)return void this.updateState({timestampFieldOptions:[],loadingTimestampFields:!1});const t=++this.currentLoadingTimestampFields,a={pattern:this.indexPattern,allowHidden:this.allowHidden,allowNoIndex:!0};this.type===l.INDEX_PATTERN_TYPE.ROLLUP&&(a.type=l.INDEX_PATTERN_TYPE.ROLLUP,a.rollupIndex=e.rollupIndexName||"",a.allowNoIndex=!0);let i=[];try{i=await this.getTimestampOptionsForWildcardCached(a,this.requireTimestampField)}finally{t===this.currentLoadingTimestampFields&&this.updateState({timestampFieldOptions:i,loadingTimestampFields:!1})}})),s()(this,"indexPatternValidationProvider",(async()=>{const e=Object(n.firstValueFrom)(this.rollupIndex$.pipe(Object(n.first)((e=>void 0!==e)))),t=Object(n.firstValueFrom)(this.matchedIndicesForProvider$.pipe(Object(n.first)((e=>void 0!==e))));await this.loadIndices();const[a,i]=await Promise.all([e,t]);return{rollupIndex:a,matchedIndices:i||o}})),s()(this,"destroy",(()=>{this.loadTimestampFieldsSub.unsubscribe(),this.matchedIndicesForProviderSub.unsubscribe(),this.rollupIndexForProviderSub.unsubscribe()})),this.http=e,this.dataViews=t,this.requireTimestampField=u,this.type=a,this.indexPattern=Object(d.e)(i),this.rollupCapsResponse=this.getRollupIndexCaps(),this.dataViewNames$=Object(n.from)(this.loadDataViewNames(c)),this.state$=new n.BehaviorSubject({...r});const p=(m=this.state$,(e,t)=>m.pipe(Object(n.map)(e),Object(n.distinctUntilChanged)(t)));var m;this.matchedIndices$=p((e=>e.matchedIndices)),this.rollupIndicesCaps$=p((e=>e.rollupIndicesCaps)),this.isLoadingSources$=p((e=>e.isLoadingSourcesInternal)),this.loadingTimestampFields$=p((e=>e.loadingTimestampFields)),this.timestampFieldOptions$=p((e=>e.timestampFieldOptions)),this.rollupIndex$=p((e=>e.rollupIndexName)),this.loadTimestampFieldsSub=this.matchedIndices$.subscribe((()=>this.loadTimestampFields())),this.matchedIndicesForProviderSub=this.matchedIndices$.subscribe((e=>{this.matchedIndicesForProvider$.next(e),this.matchedIndicesForProvider$.next(void 0)})),this.rollupIndexForProviderSub=this.rollupIndex$.subscribe((e=>{this.rollupIndexForProvider$.next(e),this.rollupIndexForProvider$.next(void 0)}))}}},42:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return s})),a.d(t,"a",(function(){return n}));const i=a(13).i18n.translate("indexPatternEditor.createIndexPattern.stepTime.noTimeFieldOptionLabel",{defaultMessage:"--- I don't want to use the time filter ---"}),s="";function n(e,t=!1){const a=e.filter((e=>"date"===e.type));if(0===a.length)return[];const n={display:i,fieldName:s},l=a.map((e=>({display:e.name,fieldName:e.name})));return t||l.push(n),l}},43:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return n})),a.d(t,"d",(function(){return r})),a.d(t,"c",(function(){return c.a})),a.d(t,"e",(function(){return u}));const i=e=>!(!e||!/[a-z0-9]/i.test(e)||1!==e.length),s=300;async function n(e,t=s){let a;const i=t+5,n=(new Date).getTime();a=Array.isArray(e)?await Promise.all(e):await e;const l=(new Date).getTime();if(l-n<i){const e=i-(l-n);await new Promise((t=>setTimeout(t,e)))}return a}const l=100;function d(e){return!!e.startsWith(".")||!!e.includes(":")&&e.split(":").reduce(((e,t)=>e||d(t)),!1)}function o(e,t){return(t?e:e.filter((e=>!d(e.name)))).slice(0,l)}function r(e,t,a,i=!1){const s=o(e,i),n=o(t,i),l=o(a,i);let d;return d=l.length?l:n.length?n:s,{allIndices:s,exactMatchedIndices:l,partialMatchedIndices:n,visibleIndices:d}}var c=a(42);const u=e=>e.replace(/,\s+/g,",")},44:function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(45);case"v8light":return a(47)}},45:function(e,t,a){var i=a(16),s=a(46);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);i(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},46:function(e,t,a){(t=a(17)(!1)).push([e.i,".fieldEditor__flyoutPanels{height:100%}.fieldEditor__flyoutPanel{height:100%;overflow-y:auto;padding:24px 24px 0}.fieldEditor__flyoutPanel--pageBackground{background-color:#141519}.fieldEditor__flyoutPanel--emptyShade{background-color:#1d1e24}.fieldEditor__flyoutPanel--leftBorder{border-left:1px solid #343741}.fieldEditor__flyoutPanel--rightBorder{border-right:1px solid #343741}.fieldEditor__flyoutPanel--withContent{display:flex;flex-direction:column;overflow-y:hidden;padding:0}.fieldEditor__flyoutPanel__header{padding:0!important}.fieldEditor__flyoutPanel__content{flex:1;overflow-y:auto;padding:24px}.fieldEditor__flyoutPanel__footer{flex:0}",""]),e.exports=t},47:function(e,t,a){var i=a(16),s=a(48);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);i(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},48:function(e,t,a){(t=a(17)(!1)).push([e.i,".fieldEditor__flyoutPanels{height:100%}.fieldEditor__flyoutPanel{height:100%;overflow-y:auto;padding:24px 24px 0}.fieldEditor__flyoutPanel--pageBackground{background-color:#fafbfd}.fieldEditor__flyoutPanel--emptyShade{background-color:#fff}.fieldEditor__flyoutPanel--leftBorder{border-left:1px solid #d3dae6}.fieldEditor__flyoutPanel--rightBorder{border-right:1px solid #d3dae6}.fieldEditor__flyoutPanel--withContent{display:flex;flex-direction:column;overflow-y:hidden;padding:0}.fieldEditor__flyoutPanel__header{padding:0!important}.fieldEditor__flyoutPanel__content{flex:1;overflow-y:auto;padding:24px}.fieldEditor__flyoutPanel__footer{flex:0}",""]),e.exports=t},49:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(24),s=a(1),n=i.__importDefault(a(50));t.default=function(e,t,a){void 0===t&&(t=0),void 0===a&&(a=[]);var i=n.default(e,t),l=i[0],d=i[1],o=i[2];return s.useEffect(o,a),[l,d]}},50:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(1);t.default=function(e,t){void 0===t&&(t=0);var a=i.useRef(!1),s=i.useRef(),n=i.useRef(e),l=i.useCallback((function(){return a.current}),[]),d=i.useCallback((function(){a.current=!1,s.current&&clearTimeout(s.current),s.current=setTimeout((function(){a.current=!0,n.current()}),t)}),[t]),o=i.useCallback((function(){a.current=null,s.current&&clearTimeout(s.current)}),[]);return i.useEffect((function(){n.current=e}),[e]),i.useEffect((function(){return d(),o}),[t]),[l,o,d]}}}]);